---
title: 'CA2211: pola niebędące stałymi nie powinny być widoczne (analiza kodu)'
description: 'Dowiedz się więcej o regule analizy kodu CA2211: pola inne niż stałe nie powinny być widoczne'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- CA2211
- NonConstantFieldsShouldNotBeVisible
helpviewer_keywords:
- NonConstantFieldsShouldNotBeVisible
- CA2211
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: 3653695a49277dcc99232795fd614b5cda8d919e
ms.sourcegitcommit: a6bd4cad438fe479cbd112eae10f2cd449f06e40
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/08/2020
ms.locfileid: "96589632"
---
# <a name="ca2211-non-constant-fields-should-not-be-visible"></a><span data-ttu-id="7ac27-103">CA2211: Pola niebędące stałymi nie powinny być widoczne</span><span class="sxs-lookup"><span data-stu-id="7ac27-103">CA2211: Non-constant fields should not be visible</span></span>

| | <span data-ttu-id="7ac27-104">Wartość</span><span class="sxs-lookup"><span data-stu-id="7ac27-104">Value</span></span> |
|-|-|
| <span data-ttu-id="7ac27-105">**Identyfikator zasady**</span><span class="sxs-lookup"><span data-stu-id="7ac27-105">**Rule ID**</span></span> |<span data-ttu-id="7ac27-106">CA2211</span><span class="sxs-lookup"><span data-stu-id="7ac27-106">CA2211</span></span>|
| <span data-ttu-id="7ac27-107">**Kategoria**</span><span class="sxs-lookup"><span data-stu-id="7ac27-107">**Category**</span></span> |<span data-ttu-id="7ac27-108">Microsoft. Usage</span><span class="sxs-lookup"><span data-stu-id="7ac27-108">Microsoft.Usage</span></span>|
| <span data-ttu-id="7ac27-109">**Naprawa jest przerywana lub nieprzerwana**</span><span class="sxs-lookup"><span data-stu-id="7ac27-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="7ac27-110">Kluczowa</span><span class="sxs-lookup"><span data-stu-id="7ac27-110">Breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="7ac27-111">Przyczyna</span><span class="sxs-lookup"><span data-stu-id="7ac27-111">Cause</span></span>

<span data-ttu-id="7ac27-112">Publiczne lub chronione pole statyczne nie jest stałą ani nie jest tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="7ac27-112">A public or protected static field is not constant nor is it read-only.</span></span>

## <a name="rule-description"></a><span data-ttu-id="7ac27-113">Opis reguły</span><span class="sxs-lookup"><span data-stu-id="7ac27-113">Rule description</span></span>

<span data-ttu-id="7ac27-114">Pola statyczne, które nie są ani stałe, ani tylko do odczytu, nie obsługują wielowątkowości.</span><span class="sxs-lookup"><span data-stu-id="7ac27-114">Static fields that are neither constants nor read-only are not thread-safe.</span></span> <span data-ttu-id="7ac27-115">Dostęp do takiego pola musi być starannie kontrolowany i wymaga zaawansowanych technik programowania do synchronizowania dostępu do obiektu klasy.</span><span class="sxs-lookup"><span data-stu-id="7ac27-115">Access to such a field must be carefully controlled and requires advanced programming techniques for synchronizing access to the class object.</span></span> <span data-ttu-id="7ac27-116">Ponieważ są one trudnymi umiejętnościami do uczenia się i opanowania, a testowanie takich obiektów stanowi własne wyzwania, pola statyczne są najlepiej używane do przechowywania danych, które nie są zmieniane.</span><span class="sxs-lookup"><span data-stu-id="7ac27-116">Because these are difficult skills to learn and master, and testing such an object poses its own challenges, static fields are best used to store data that does not change.</span></span> <span data-ttu-id="7ac27-117">Ta reguła ma zastosowanie do bibliotek programu; aplikacje nie powinny ujawniać żadnych pól.</span><span class="sxs-lookup"><span data-stu-id="7ac27-117">This rule applies to libraries; applications should not expose any fields.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="7ac27-118">Jak naprawić naruszenia</span><span class="sxs-lookup"><span data-stu-id="7ac27-118">How to fix violations</span></span>

<span data-ttu-id="7ac27-119">Aby naprawić naruszenie tej reguły, ustaw stałą pole statyczne lub tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="7ac27-119">To fix a violation of this rule, make the static field constant or read-only.</span></span> <span data-ttu-id="7ac27-120">Jeśli nie jest to możliwe, należy zaprojektować typ, aby użyć alternatywnego mechanizmu, takiego jak Właściwość bezpieczna wątkowo, która zarządza bezpiecznym wątkem dostępu do pola bazowego.</span><span class="sxs-lookup"><span data-stu-id="7ac27-120">If this is not possible, redesign the type to use an alternative mechanism such as a thread-safe property that manages thread-safe access to the underlying field.</span></span> <span data-ttu-id="7ac27-121">Należy pamiętać, że problemy, takie jak rywalizacja o blokady i zakleszczenie, mogą mieć wpływ na wydajność i zachowanie biblioteki.</span><span class="sxs-lookup"><span data-stu-id="7ac27-121">Realize that issues such as lock contention and deadlocks might affect the performance and behavior of the library.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="7ac27-122">Kiedy pominąć ostrzeżenia</span><span class="sxs-lookup"><span data-stu-id="7ac27-122">When to suppress warnings</span></span>

<span data-ttu-id="7ac27-123">Jeśli tworzysz aplikację i masz pełną kontrolę nad dostępem do typu, który zawiera pole statyczne, można bezpiecznie pominąć ostrzeżenie z tej reguły.</span><span class="sxs-lookup"><span data-stu-id="7ac27-123">It is safe to suppress a warning from this rule if you are developing an application and therefore have full control over access to the type that contains the static field.</span></span> <span data-ttu-id="7ac27-124">Projektanci bibliotek nie powinny pomijać ostrzeżenia z tej reguły. Używanie pól statycznych innych niż stałe może sprawiać, że użycie biblioteki jest trudne do poprawnego użycia przez deweloperów.</span><span class="sxs-lookup"><span data-stu-id="7ac27-124">Library designers should not suppress a warning from this rule; using non-constant static fields can make using the library difficult for developers to use correctly.</span></span>

## <a name="example"></a><span data-ttu-id="7ac27-125">Przykład</span><span class="sxs-lookup"><span data-stu-id="7ac27-125">Example</span></span>

<span data-ttu-id="7ac27-126">Poniższy przykład pokazuje typ, który narusza tę regułę.</span><span class="sxs-lookup"><span data-stu-id="7ac27-126">The following example shows a type that violates this rule.</span></span>

:::code language="vb" source="snippets/vb/all-rules/ca2211-non-constant-fields-should-not-be-visible_1.vb":::

:::code language="csharp" source="snippets/csharp/all-rules/ca2211.cs" id="snippet1":::
