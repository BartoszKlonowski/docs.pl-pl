---
title: 'CA1401: wywołanie P-Invoke nie powinno być widoczne (analiza kodu)'
description: 'Dowiedz się więcej o regule analizy kodu CA1401: wywołanie P-Invoke nie powinno być widoczne'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- PInvokesShouldNotBeVisible
- CA1401
helpviewer_keywords:
- CA1401
- PInvokesShouldNotBeVisible
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: 547dc682b19509cdce23aecdf0110ef977940c7f
ms.sourcegitcommit: a6bd4cad438fe479cbd112eae10f2cd449f06e40
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/08/2020
ms.locfileid: "96589556"
---
# <a name="ca1401-pinvokes-should-not-be-visible"></a><span data-ttu-id="e95de-103">CA1401: P/Invokes nie powinny być widoczne</span><span class="sxs-lookup"><span data-stu-id="e95de-103">CA1401: P/Invokes should not be visible</span></span>

|                                     | <span data-ttu-id="e95de-104">Wartość</span><span class="sxs-lookup"><span data-stu-id="e95de-104">Value</span></span>                      |
|-------------------------------------|----------------------------|
| <span data-ttu-id="e95de-105">**Identyfikator zasady**</span><span class="sxs-lookup"><span data-stu-id="e95de-105">**Rule ID**</span></span>                          | <span data-ttu-id="e95de-106">CA1401</span><span class="sxs-lookup"><span data-stu-id="e95de-106">CA1401</span></span>                     |
| <span data-ttu-id="e95de-107">**Kategoria**</span><span class="sxs-lookup"><span data-stu-id="e95de-107">**Category**</span></span>                        | <span data-ttu-id="e95de-108">Microsoft. współdziałanie</span><span class="sxs-lookup"><span data-stu-id="e95de-108">Microsoft.Interoperability</span></span> |
| <span data-ttu-id="e95de-109">**Naprawa jest przerywana lub nieprzerwana**</span><span class="sxs-lookup"><span data-stu-id="e95de-109">**Fix is breaking or non-breaking**</span></span> | <span data-ttu-id="e95de-110">Kluczowa</span><span class="sxs-lookup"><span data-stu-id="e95de-110">Breaking</span></span>                   |

## <a name="cause"></a><span data-ttu-id="e95de-111">Przyczyna</span><span class="sxs-lookup"><span data-stu-id="e95de-111">Cause</span></span>

<span data-ttu-id="e95de-112">Metoda publiczna lub chroniona w typie publicznym ma <xref:System.Runtime.InteropServices.DllImportAttribute?displayProperty=fullName> atrybut (również zaimplementowany przez `Declare` słowo kluczowe w Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="e95de-112">A public or protected method in a public type has the <xref:System.Runtime.InteropServices.DllImportAttribute?displayProperty=fullName> attribute (also implemented by the `Declare` keyword in Visual Basic).</span></span>

## <a name="rule-description"></a><span data-ttu-id="e95de-113">Opis reguły</span><span class="sxs-lookup"><span data-stu-id="e95de-113">Rule description</span></span>

<span data-ttu-id="e95de-114">Metody, które są oznaczone <xref:System.Runtime.InteropServices.DllImportAttribute> atrybutem (lub metodami, które są zdefiniowane za pomocą `Declare` słowa kluczowego w Visual Basic), używają usług wywołania platformy w celu uzyskania dostępu do kodu niezarządzanego.</span><span class="sxs-lookup"><span data-stu-id="e95de-114">Methods that are marked with the <xref:System.Runtime.InteropServices.DllImportAttribute> attribute (or methods that are defined by using the `Declare` keyword in Visual Basic) use Platform Invocation Services to access unmanaged code.</span></span> <span data-ttu-id="e95de-115">Takie metody nie powinny być udostępniane.</span><span class="sxs-lookup"><span data-stu-id="e95de-115">Such methods should not be exposed.</span></span> <span data-ttu-id="e95de-116">Utrzymując te metody w trybie prywatnym lub wewnętrznym, upewnij się, że biblioteka nie może zostać użyta w celu naruszenia zabezpieczeń przez umożliwienie wywołujących dostępu do niezarządzanych interfejsów API, które nie mogły ich wywołać w przeciwnym razie.</span><span class="sxs-lookup"><span data-stu-id="e95de-116">By keeping these methods private or internal, you make sure that your library cannot be used to breach security by allowing callers access to unmanaged APIs that they could not call otherwise.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="e95de-117">Jak naprawić naruszenia</span><span class="sxs-lookup"><span data-stu-id="e95de-117">How to fix violations</span></span>

<span data-ttu-id="e95de-118">Aby naprawić naruszenie tej reguły, Zmień poziom dostępu metody.</span><span class="sxs-lookup"><span data-stu-id="e95de-118">To fix a violation of this rule, change the access level of the method.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="e95de-119">Kiedy pominąć ostrzeżenia</span><span class="sxs-lookup"><span data-stu-id="e95de-119">When to suppress warnings</span></span>

<span data-ttu-id="e95de-120">Nie pomijaj ostrzeżeń dla tej reguły.</span><span class="sxs-lookup"><span data-stu-id="e95de-120">Do not suppress a warning from this rule.</span></span>

## <a name="example"></a><span data-ttu-id="e95de-121">Przykład</span><span class="sxs-lookup"><span data-stu-id="e95de-121">Example</span></span>

<span data-ttu-id="e95de-122">Poniższy przykład deklaruje metodę, która narusza tę regułę.</span><span class="sxs-lookup"><span data-stu-id="e95de-122">The following example declares a method that violates this rule.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1401.cs" id="snippet1":::

:::code language="vb" source="snippets/vb/all-rules/ca1401-p-invokes-should-not-be-visible_1.vb":::
