---
title: 'CA3076: niezabezpieczone wykonywanie skryptu XSLT (analiza kodu)'
description: 'Dowiedz się więcej o regule analizy kodu CA3076: niezabezpieczone wykonywanie skryptu XSLT'
ms.date: 11/04/2016
ms.topic: reference
author: gewarren
ms.author: gewarren
ms.openlocfilehash: 1dcb79f0d74e9d2d5eb83e87eeddeb4a07aecace
ms.sourcegitcommit: 2e4adc490c1d2a705a0592b295d606b10b9f51f1
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/25/2020
ms.locfileid: "96587167"
---
# <a name="ca3076-insecure-xslt-script-execution"></a><span data-ttu-id="9ad24-103">CA3076: Niezabezpieczone wykonywanie skryptu XSLT</span><span class="sxs-lookup"><span data-stu-id="9ad24-103">CA3076: Insecure XSLT Script Execution</span></span>

| | <span data-ttu-id="9ad24-104">Wartość</span><span class="sxs-lookup"><span data-stu-id="9ad24-104">Value</span></span> |
|-|-|
| <span data-ttu-id="9ad24-105">**Identyfikator zasady**</span><span class="sxs-lookup"><span data-stu-id="9ad24-105">**Rule ID**</span></span> |<span data-ttu-id="9ad24-106">CA3076</span><span class="sxs-lookup"><span data-stu-id="9ad24-106">CA3076</span></span>|
| <span data-ttu-id="9ad24-107">**Kategoria**</span><span class="sxs-lookup"><span data-stu-id="9ad24-107">**Category**</span></span> |<span data-ttu-id="9ad24-108">Microsoft.Security</span><span class="sxs-lookup"><span data-stu-id="9ad24-108">Microsoft.Security</span></span>|
| <span data-ttu-id="9ad24-109">**Naprawa jest przerywana lub nieprzerwana**</span><span class="sxs-lookup"><span data-stu-id="9ad24-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="9ad24-110">Nieprzerwanie</span><span class="sxs-lookup"><span data-stu-id="9ad24-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="9ad24-111">Przyczyna</span><span class="sxs-lookup"><span data-stu-id="9ad24-111">Cause</span></span>

<span data-ttu-id="9ad24-112">W przypadku wykonywania rozszerzalnych arkuszy stylów (XSLT) w aplikacjach .NET w niezabezpieczony sposób procesor może rozpoznać niezaufane odwołania do identyfikatorów URI, które mogą ujawnić poufne informacje osobom atakującym, prowadząc do odmowy usługi i ataków między lokacjami.</span><span class="sxs-lookup"><span data-stu-id="9ad24-112">If you execute Extensible Stylesheets Language Transformations (XSLT) in .NET applications insecurely, the processor may resolve untrusted URI references that could disclose sensitive information to attackers, leading to Denial of Service and Cross-Site attacks.</span></span> <span data-ttu-id="9ad24-113">Aby uzyskać więcej informacji, zobacz [zagadnienia dotyczące zabezpieczeń XSLT (Przewodnik po sieci)](../../../standard/data/xml/xslt-security-considerations.md).</span><span class="sxs-lookup"><span data-stu-id="9ad24-113">For more information, see [XSLT Security Considerations(.NET Guide)](../../../standard/data/xml/xslt-security-considerations.md).</span></span>

## <a name="rule-description"></a><span data-ttu-id="9ad24-114">Opis reguły</span><span class="sxs-lookup"><span data-stu-id="9ad24-114">Rule description</span></span>

<span data-ttu-id="9ad24-115">**XSLT** jest standardem organizacja World Wide Web Consortium (W3C) do przekształcania danych XML.</span><span class="sxs-lookup"><span data-stu-id="9ad24-115">**XSLT** is a World Wide Web Consortium (W3C) standard for transforming XML data.</span></span> <span data-ttu-id="9ad24-116">XSLT jest zwykle używany do pisania arkuszy stylów do przekształcania danych XML w inne formaty, takie jak HTML, tekst o stałej długości, tekst rozdzielony przecinkami lub inny format XML.</span><span class="sxs-lookup"><span data-stu-id="9ad24-116">XSLT is typically used to write style sheets to transform XML data to other formats such as HTML, fixed-length text, comma-separated text, or a different XML format.</span></span> <span data-ttu-id="9ad24-117">Chociaż domyślnie zabronione, można je włączyć dla projektu.</span><span class="sxs-lookup"><span data-stu-id="9ad24-117">Although prohibited by default, you may choose to enable it for your project.</span></span>

<span data-ttu-id="9ad24-118">Aby upewnić się, że nie ujawniasz obszaru ataków, ta reguła jest wyzwalana za każdym razem, gdy XslCompiledTransform.<xref:System.Xml.Xsl.XslCompiledTransform.Load%2A></span><span class="sxs-lookup"><span data-stu-id="9ad24-118">To ensure you're not exposing an attack surface, this rule triggers whenever the XslCompiledTransform.<xref:System.Xml.Xsl.XslCompiledTransform.Load%2A></span></span> <span data-ttu-id="9ad24-119">odbiera niezabezpieczone wystąpienia złożone z <xref:System.Xml.Xsl.XsltSettings> i <xref:System.Xml.XmlResolver> , które umożliwiają złośliwe przetwarzanie skryptów.</span><span class="sxs-lookup"><span data-stu-id="9ad24-119">receives insecure combination instances of <xref:System.Xml.Xsl.XsltSettings> and <xref:System.Xml.XmlResolver>, which allows malicious script processing.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="9ad24-120">Jak naprawić naruszenia</span><span class="sxs-lookup"><span data-stu-id="9ad24-120">How to fix violations</span></span>

- <span data-ttu-id="9ad24-121">Zastąp niezabezpieczony argument XsltSettings z XsltSettings.<xref:System.Xml.Xsl.XsltSettings.Default%2A></span><span class="sxs-lookup"><span data-stu-id="9ad24-121">Replace the insecure XsltSettings argument with XsltSettings.<xref:System.Xml.Xsl.XsltSettings.Default%2A></span></span> <span data-ttu-id="9ad24-122">lub z wystąpieniem, które ma wyłączone funkcje dokumentu i wykonanie skryptu.</span><span class="sxs-lookup"><span data-stu-id="9ad24-122">or with an instance that has disabled document function and script execution.</span></span>

- <span data-ttu-id="9ad24-123">Zastąp <xref:System.Xml.XmlResolver> argument wartością null lub <xref:System.Xml.XmlSecureResolver> wystąpieniem.</span><span class="sxs-lookup"><span data-stu-id="9ad24-123">Replace the <xref:System.Xml.XmlResolver> argument with null or an <xref:System.Xml.XmlSecureResolver> instance.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="9ad24-124">Kiedy pominąć ostrzeżenia</span><span class="sxs-lookup"><span data-stu-id="9ad24-124">When to suppress warnings</span></span>

<span data-ttu-id="9ad24-125">Jeśli nie masz pewności, że dane wejściowe są znane z zaufanego źródła, nie pomijaj reguły z tego ostrzeżenia.</span><span class="sxs-lookup"><span data-stu-id="9ad24-125">Unless you're sure that the input is known to be from a trusted source, do not suppress a rule from this warning.</span></span>

## <a name="pseudo-code-examples"></a><span data-ttu-id="9ad24-126">Przykłady pseudo kodu</span><span class="sxs-lookup"><span data-stu-id="9ad24-126">Pseudo-code examples</span></span>

### <a name="violation-that-uses-xsltsettingstrustedxslt"></a><span data-ttu-id="9ad24-127">Naruszenie używające XsltSettings. TrustedXslt</span><span class="sxs-lookup"><span data-stu-id="9ad24-127">Violation that uses XsltSettings.TrustedXslt</span></span>

```csharp
using System.Xml;
using System.Xml.Xsl;

namespace TestNamespace
{
    class TestClass
    {
         void TestMethod()
        {
             XslCompiledTransform xslCompiledTransform = new XslCompiledTransform();
             var settings = XsltSettings.TrustedXslt;
             var resolver = new XmlUrlResolver();
             xslCompiledTransform.Load("testStylesheet", settings, resolver); // warn
        }
    }
}
```

### <a name="solution-that-uses-xsltsettingsdefault"></a><span data-ttu-id="9ad24-128">Rozwiązanie używające XsltSettings. default</span><span class="sxs-lookup"><span data-stu-id="9ad24-128">Solution that uses XsltSettings.Default</span></span>

```csharp
using System.Xml;
using System.Xml.Xsl;

namespace TestNamespace
{
    class TestClass
    {
        void TestMethod()
        {
            XslCompiledTransform xslCompiledTransform = new XslCompiledTransform();
            var settings = XsltSettings.Default;
            var resolver = new XmlUrlResolver();
            xslCompiledTransform.Load("testStylesheet", settings, resolver);
        }
    }
}
```

### <a name="violationmdashdocument-function-and-script-execution-not-disabled"></a><span data-ttu-id="9ad24-129">&mdash;Funkcja dokumentu naruszenia i wykonywanie skryptu nie są wyłączone</span><span class="sxs-lookup"><span data-stu-id="9ad24-129">Violation&mdash;document function and script execution not disabled</span></span>

```csharp
using System.Xml;
using System.Xml.Xsl;

namespace TestNamespace
{
    class TestClass
    {
        private static void TestMethod(XsltSettings settings)
        {
            try
            {
                XslCompiledTransform xslCompiledTransform = new XslCompiledTransform();
                var resolver = new XmlUrlResolver();
                xslCompiledTransform.Load("testStylesheet", settings, resolver); // warn
            }
            catch { throw; }
            finally { }
        }
    }
}
```

### <a name="solutionmdashdisable-document-function-and-script-execution"></a><span data-ttu-id="9ad24-130">Rozwiązanie &mdash; Wyłącz funkcję dokumentu i wykonanie skryptu</span><span class="sxs-lookup"><span data-stu-id="9ad24-130">Solution&mdash;disable document function and script execution</span></span>

```csharp
using System.Xml;
using System.Xml.Xsl;

namespace TestNamespace
{
    class TestClass
    {
        private static void TestMethod(XsltSettings settings)
        {
            try
            {
                XslCompiledTransform xslCompiledTransform = new XslCompiledTransform();
                settings.EnableDocumentFunction = false;
                settings.EnableScript = false;
                var resolver = new XmlUrlResolver();
                xslCompiledTransform.Load("testStylesheet", settings, resolver);
            }
            catch { throw; }
            finally { }
        }
    }
}
```

## <a name="see-also"></a><span data-ttu-id="9ad24-131">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="9ad24-131">See also</span></span>

- [<span data-ttu-id="9ad24-132">Zagadnienia dotyczące zabezpieczeń XSLT (Przewodnik po sieci)</span><span class="sxs-lookup"><span data-stu-id="9ad24-132">XSLT Security Considerations(.NET Guide)</span></span>](../../../standard/data/xml/xslt-security-considerations.md)
