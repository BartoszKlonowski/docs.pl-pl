---
title: 'CA1806: nie Ignoruj wyników metody (analiza kodu)'
description: 'Dowiedz się więcej o regule analizy kodu CA1806: nie Ignoruj wyników metody'
ms.date: 06/08/2020
ms.topic: reference
f1_keywords:
- CA1806
- DoNotIgnoreMethodResults
helpviewer_keywords:
- CA1806
- DoNotIgnoreMethodResults
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: db0e940249fbf41ac1df9f7e133a04ad3d646260
ms.sourcegitcommit: a6bd4cad438fe479cbd112eae10f2cd449f06e40
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/08/2020
ms.locfileid: "96589647"
---
# <a name="ca1806-do-not-ignore-method-results"></a><span data-ttu-id="ce4bb-103">CA1806: Nie ignoruj wyników metod</span><span class="sxs-lookup"><span data-stu-id="ce4bb-103">CA1806: Do not ignore method results</span></span>

| | <span data-ttu-id="ce4bb-104">Wartość</span><span class="sxs-lookup"><span data-stu-id="ce4bb-104">Value</span></span> |
|-|-|
| <span data-ttu-id="ce4bb-105">**Identyfikator zasady**</span><span class="sxs-lookup"><span data-stu-id="ce4bb-105">**Rule ID**</span></span> |<span data-ttu-id="ce4bb-106">CA1806</span><span class="sxs-lookup"><span data-stu-id="ce4bb-106">CA1806</span></span>|
| <span data-ttu-id="ce4bb-107">**Kategoria**</span><span class="sxs-lookup"><span data-stu-id="ce4bb-107">**Category**</span></span> |<span data-ttu-id="ce4bb-108">Microsoft. Usage</span><span class="sxs-lookup"><span data-stu-id="ce4bb-108">Microsoft.Usage</span></span>|
| <span data-ttu-id="ce4bb-109">**Naprawa jest przerywana lub nieprzerwana**</span><span class="sxs-lookup"><span data-stu-id="ce4bb-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="ce4bb-110">Nieprzerwanie</span><span class="sxs-lookup"><span data-stu-id="ce4bb-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="ce4bb-111">Przyczyna</span><span class="sxs-lookup"><span data-stu-id="ce4bb-111">Cause</span></span>

<span data-ttu-id="ce4bb-112">Istnieje kilka możliwych przyczyn tego ostrzeżenia:</span><span class="sxs-lookup"><span data-stu-id="ce4bb-112">There are several possible reasons for this warning:</span></span>

- <span data-ttu-id="ce4bb-113">Nowy obiekt jest tworzony, ale nigdy nie jest używany.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-113">A new object is created but never used.</span></span>

- <span data-ttu-id="ce4bb-114">Metoda, która tworzy i zwraca nowy ciąg, jest wywoływana i nowy ciąg nigdy nie jest używany.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-114">A method that creates and returns a new string is called and the new string is never used.</span></span>

- <span data-ttu-id="ce4bb-115">Metoda COM lub P/Invoke zwracająca `HRESULT` Kod błędu, który nigdy nie jest używany.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-115">A COM or P/Invoke method that returns a `HRESULT` or error code that is never used.</span></span>

- <span data-ttu-id="ce4bb-116">Metoda języka CLR, która zwraca wynik, który nigdy nie jest używany.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-116">A language-integrated query (LINQ) method that returns a result that is never used.</span></span>

## <a name="rule-description"></a><span data-ttu-id="ce4bb-117">Opis reguły</span><span class="sxs-lookup"><span data-stu-id="ce4bb-117">Rule description</span></span>

<span data-ttu-id="ce4bb-118">Niepotrzebne utworzenie obiektu i powiązane wyrzucanie elementów bezużytecznych nieużywanego obiektu.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-118">Unnecessary object creation and the associated garbage collection of the unused object degrade performance.</span></span>

<span data-ttu-id="ce4bb-119">Ciągi są niezmienne i metody, takie jak String. ToUpper zwraca nowe wystąpienie ciągu, zamiast modyfikować wystąpienie ciągu w metodzie wywołującej.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-119">Strings are immutable and methods such as String.ToUpper returns a new instance of a string instead of modifying the instance of the string in the calling method.</span></span>

<span data-ttu-id="ce4bb-120">Ignorowanie `HRESULT` lub kod błędu może prowadzić do nieoczekiwanego zachowania w warunkach błędów lub w warunkach niskiego zasobu.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-120">Ignoring `HRESULT` or error code can lead to unexpected behavior in error conditions or to low-resource conditions.</span></span>

<span data-ttu-id="ce4bb-121">Metody LINQ są znane, że nie mają efektów ubocznych, a wynik nie powinien być ignorowany.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-121">LINQ methods are known to not have side effects, and the result should not be ignored.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="ce4bb-122">Jak naprawić naruszenia</span><span class="sxs-lookup"><span data-stu-id="ce4bb-122">How to fix violations</span></span>

<span data-ttu-id="ce4bb-123">Jeśli metoda A tworzy nowe wystąpienie obiektu B, które nigdy nie jest używane, Przekaż wystąpienie jako argument do innej metody lub Przypisz wystąpienie do zmiennej.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-123">If method A creates a new instance of B object that is never used, pass the instance as an argument to another method or assign the instance to a variable.</span></span> <span data-ttu-id="ce4bb-124">Jeśli Tworzenie obiektów jest niepotrzebne, usuń je.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-124">If the object creation is unnecessary, remove the it.</span></span>

<span data-ttu-id="ce4bb-125">-lub-</span><span class="sxs-lookup"><span data-stu-id="ce4bb-125">-or-</span></span>

<span data-ttu-id="ce4bb-126">Jeśli metoda wywołuje metodę B, ale nie używa nowego wystąpienia ciągu zwracanego przez metodę B, Przekaż wystąpienie jako argument do innej metody, przypisz wystąpienie do zmiennej.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-126">If method A calls method B, but does not use the new string instance that the method B returns, pass the instance as an argument to another method, assign the instance to a variable.</span></span> <span data-ttu-id="ce4bb-127">Lub Usuń wywołanie, jeśli jest niepotrzebne.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-127">Or remove the call if it is unnecessary.</span></span>

<span data-ttu-id="ce4bb-128">-lub-</span><span class="sxs-lookup"><span data-stu-id="ce4bb-128">-or-</span></span>

<span data-ttu-id="ce4bb-129">Jeśli metoda A wywołuje metodę B, ale nie używa `HRESULT` kodu błędu, który zwraca metoda, użyj wyniku w instrukcji warunkowej, przypisz wynik do zmiennej lub Przekaż go jako argument do innej metody.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-129">If method A calls method B, but does not use the `HRESULT` or error code that the method returns, use the result in a conditional statement, assign the result to a variable, or pass it as an argument to another method.</span></span>

<span data-ttu-id="ce4bb-130">-lub-</span><span class="sxs-lookup"><span data-stu-id="ce4bb-130">-or-</span></span>

<span data-ttu-id="ce4bb-131">Jeśli metoda LINQ wywołuje metodę B, ale nie używa wyniku, użyj wyniku w instrukcji warunkowej, przypisz wynik do zmiennej lub przekaż ją jako argument do innej metody.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-131">If a LINQ method A calls method B, but does not use the result, use the result in a conditional statement, assign the result to a variable, or pass it as an argument to another method.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="ce4bb-132">Kiedy pominąć ostrzeżenia</span><span class="sxs-lookup"><span data-stu-id="ce4bb-132">When to suppress warnings</span></span>

<span data-ttu-id="ce4bb-133">Nie pomijaj ostrzeżenia z tej reguły, chyba że czynność tworzenia obiektu nie ma pewnego celu.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-133">Do not suppress a warning from this rule unless the act of creating the object serves some purpose.</span></span>

## <a name="example-1"></a><span data-ttu-id="ce4bb-134">Przykład 1</span><span class="sxs-lookup"><span data-stu-id="ce4bb-134">Example 1</span></span>

<span data-ttu-id="ce4bb-135">W poniższym przykładzie pokazano klasę, która ignoruje wynik wywołania metody String. Trim.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-135">The following example shows a class that ignores the result of calling String.Trim.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1806.cs" id="snippet1":::

:::code language="vb" source="snippets/vb/all-rules/ca1806-do-not-ignore-method-results_1.vb" id="snippet1":::

## <a name="example-2"></a><span data-ttu-id="ce4bb-136">Przykład 2</span><span class="sxs-lookup"><span data-stu-id="ce4bb-136">Example 2</span></span>

<span data-ttu-id="ce4bb-137">Poniższy przykład naprawia poprzednie naruszenie, przypisując wynik ciągu. Odwróć do zmiennej, w której został wywołany.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-137">The following example fixes the previous violation by assigning the result of String.Trim back to the variable it was called on.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1806.cs" id="snippet2":::

:::code language="vb" source="snippets/vb/all-rules/ca1806-do-not-ignore-method-results_1.vb" id="snippet2":::

## <a name="example-3"></a><span data-ttu-id="ce4bb-138">Przykład 3</span><span class="sxs-lookup"><span data-stu-id="ce4bb-138">Example 3</span></span>

<span data-ttu-id="ce4bb-139">Poniższy przykład przedstawia metodę, która nie korzysta z tworzonego obiektu.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-139">The following example shows a method that does not use an object that it creates.</span></span>

> [!NOTE]
> <span data-ttu-id="ce4bb-140">Nie można odtworzyć tego naruszenia w Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-140">This violation cannot be reproduced in Visual Basic.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1806.cs" id="snippet3":::

## <a name="example-4"></a><span data-ttu-id="ce4bb-141">Przykład 4</span><span class="sxs-lookup"><span data-stu-id="ce4bb-141">Example 4</span></span>

<span data-ttu-id="ce4bb-142">Poniższy przykład naprawia poprzednie naruszenie przez usunięcie niepotrzebnego utworzenia obiektu.</span><span class="sxs-lookup"><span data-stu-id="ce4bb-142">The following example fixes the previous violation by removing the unnecessary creation of an object.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1806.cs" id="snippet4":::

<!-- Examples don't exist for the following...

The following example shows a method that ignores the error code that the native method GetShortPathName returns.

The following example fixes the previous violation by checking the error code and throwing an exception when the call fails.
-->
