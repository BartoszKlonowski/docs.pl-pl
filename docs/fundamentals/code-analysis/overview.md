---
title: Analiza kodu w programie .NET
titleSuffix: ''
description: Dowiedz się więcej o analizie kodu źródłowego w zestawie SDK platformy .NET.
ms.date: 08/22/2020
ms.topic: overview
ms.custom: updateeachrelease
helpviewer_keywords:
- code analysis
- code analyzers
ms.openlocfilehash: 8efac4d5e3fddcb9fdc6e08bcc933f2776420ced
ms.sourcegitcommit: ecd9e9bb2225eb76f819722ea8b24988fe46f34c
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/05/2020
ms.locfileid: "96739977"
---
# <a name="overview-of-net-source-code-analysis"></a><span data-ttu-id="6ea31-103">Przegląd analizy kodu źródłowego platformy .NET</span><span class="sxs-lookup"><span data-stu-id="6ea31-103">Overview of .NET source code analysis</span></span>

<span data-ttu-id="6ea31-104">Analizatory platformy kompilatora .NET (Roslyn) sprawdzają kod C# lub Visual Basic pod kątem problemów dotyczących jakości i stylu.</span><span class="sxs-lookup"><span data-stu-id="6ea31-104">.NET compiler platform (Roslyn) analyzers inspect your C# or Visual Basic code for code quality and code style issues.</span></span> <span data-ttu-id="6ea31-105">Począwszy od wersji .NET 5.0 te analizatory są uwzględnione w zestawie .NET SDK.</span><span class="sxs-lookup"><span data-stu-id="6ea31-105">Starting in .NET 5.0, these analyzers are included with the .NET SDK.</span></span> <span data-ttu-id="6ea31-106">Jeśli nie chcesz przenosić do programu .NET 5 lub SDK lub wolisz model oparty na pakiecie NuGet, analizatory są również dostępne w `Microsoft.CodeAnalysis.NetAnalyzers` [pakiecie NuGet](https://www.nuget.org/packages/Microsoft.CodeAnalysis.NetAnalyzers).</span><span class="sxs-lookup"><span data-stu-id="6ea31-106">If you don't want to move to the .NET 5+ SDK or if you prefer a NuGet package-based model, the analyzers are also available in the `Microsoft.CodeAnalysis.NetAnalyzers` [NuGet package](https://www.nuget.org/packages/Microsoft.CodeAnalysis.NetAnalyzers).</span></span> <span data-ttu-id="6ea31-107">Można preferować model oparty na pakiecie dla aktualizacji wersji na żądanie.</span><span class="sxs-lookup"><span data-stu-id="6ea31-107">You might prefer a package-based model for on-demand version updates.</span></span>

> [!NOTE]
> <span data-ttu-id="6ea31-108">Analizatory .NET to target-platform niezależny od.</span><span class="sxs-lookup"><span data-stu-id="6ea31-108">.NET analyzers are target-platform agnostic.</span></span> <span data-ttu-id="6ea31-109">Oznacza to, że projekt nie musi być przeznaczony dla konkretnej platformy .NET.</span><span class="sxs-lookup"><span data-stu-id="6ea31-109">That is, your project does not need to target a specific .NET platform.</span></span> <span data-ttu-id="6ea31-110">Analizatory współpracują z projektami przeznaczonymi do pracy, `net5.0` a także ze starszymi wersjami platformy .NET, takimi jak `netcoreapp` , `netstandard` i `net472` .</span><span class="sxs-lookup"><span data-stu-id="6ea31-110">The analyzers work for projects that target `net5.0` as well as earlier .NET versions, such as `netcoreapp`, `netstandard`, and `net472`.</span></span>

- [<span data-ttu-id="6ea31-111">Analiza jakości kodu (reguły "CAxxxx")</span><span class="sxs-lookup"><span data-stu-id="6ea31-111">Code quality analysis ("CAxxxx" rules)</span></span>](#code-quality-analysis)
- [<span data-ttu-id="6ea31-112">Analiza stylu kodu (reguły "IDExxxx")</span><span class="sxs-lookup"><span data-stu-id="6ea31-112">Code style analysis ("IDExxxx" rules)</span></span>](#code-style-analysis)

<span data-ttu-id="6ea31-113">Jeśli wykryto naruszenia reguł przez analizator, są one raportowane jako sugestie, ostrzeżenia lub błędy w zależności od sposobu [skonfigurowania](configuration-options.md)każdej reguły.</span><span class="sxs-lookup"><span data-stu-id="6ea31-113">If rule violations are found by an analyzer, they're reported as a suggestion, warning, or error, depending on how each rule is [configured](configuration-options.md).</span></span> <span data-ttu-id="6ea31-114">Naruszenia analizy kodu są wyświetlane z prefiksem "CA" lub "IDE", aby odróżnić je od błędów kompilatora.</span><span class="sxs-lookup"><span data-stu-id="6ea31-114">Code analysis violations appear with the prefix "CA" or "IDE" to differentiate them from compiler errors.</span></span>

> [!TIP]
>
> - <span data-ttu-id="6ea31-115">Można także zainstalować [analizatory](https://www.nuget.org/packages/SonarAnalyzer.CSharp/)innych firm, takie jak [StyleCop](https://www.nuget.org/packages/StyleCop.Analyzers/), [Roslynator](https://www.nuget.org/packages/Roslynator.Analyzers/), analizatorze [XUnit](https://www.nuget.org/packages/xunit.analyzers/)i sonar.</span><span class="sxs-lookup"><span data-stu-id="6ea31-115">You can also install third party analyzers, such as [StyleCop](https://www.nuget.org/packages/StyleCop.Analyzers/), [Roslynator](https://www.nuget.org/packages/Roslynator.Analyzers/), [XUnit Analyzers](https://www.nuget.org/packages/xunit.analyzers/), and [Sonar Analyzer](https://www.nuget.org/packages/SonarAnalyzer.CSharp/).</span></span>
> - <span data-ttu-id="6ea31-116">Jeśli używasz programu Visual Studio, wiele reguł analizatora ma skojarzone *poprawki kodu* , które można zastosować, aby rozwiązać problem.</span><span class="sxs-lookup"><span data-stu-id="6ea31-116">If you're using Visual Studio, many analyzer rules have associated *code fixes* that you can apply to correct the problem.</span></span> <span data-ttu-id="6ea31-117">Poprawki kodu są wyświetlane w menu ikony żarówki.</span><span class="sxs-lookup"><span data-stu-id="6ea31-117">Code fixes are shown in the light bulb icon menu.</span></span>

## <a name="code-quality-analysis"></a><span data-ttu-id="6ea31-118">Analiza jakości kodu</span><span class="sxs-lookup"><span data-stu-id="6ea31-118">Code quality analysis</span></span>

<span data-ttu-id="6ea31-119">_Reguły analizy jakości kodu ("CA")_ sprawdzają kod C# lub Visual Basic w celu zapewnienia bezpieczeństwa, wydajności, projektowania i innych problemów.</span><span class="sxs-lookup"><span data-stu-id="6ea31-119">_Code quality analysis ("CA") rules_ inspect your C# or Visual Basic code for security, performance, design and other issues.</span></span> <span data-ttu-id="6ea31-120">Analiza jest domyślnie włączona dla projektów przeznaczonych dla platformy .NET 5,0 lub nowszej.</span><span class="sxs-lookup"><span data-stu-id="6ea31-120">Analysis is enabled, by default, for projects that target .NET 5.0 or later.</span></span> <span data-ttu-id="6ea31-121">Możesz włączyć analizę kodu dla projektów przeznaczonych dla wcześniejszych wersji .NET, ustawiając właściwość [EnableNETAnalyzers](../../core/project-sdk/msbuild-props.md#enablenetanalyzers) na `true` .</span><span class="sxs-lookup"><span data-stu-id="6ea31-121">You can enable code analysis on projects that target earlier .NET versions by setting the [EnableNETAnalyzers](../../core/project-sdk/msbuild-props.md#enablenetanalyzers) property to `true`.</span></span> <span data-ttu-id="6ea31-122">Możesz również wyłączyć analizę kodu dla projektu, ustawiając wartość `EnableNETAnalyzers` na `false` .</span><span class="sxs-lookup"><span data-stu-id="6ea31-122">You can also disable code analysis for your project by setting `EnableNETAnalyzers` to `false`.</span></span>

> [!TIP]
> <span data-ttu-id="6ea31-123">W programie Visual Studio można włączać lub wyłączać analizę kodu przy użyciu okno Właściwości projektu.</span><span class="sxs-lookup"><span data-stu-id="6ea31-123">In Visual Studio, you can enable or disable code analysis using the Project Properties window.</span></span> <span data-ttu-id="6ea31-124">Aby uzyskać dostęp do projektu okno Właściwości, kliknij prawym przyciskiem myszy projekt w obszarze Eksplorator rozwiązań i wybierz polecenie **Właściwości**.</span><span class="sxs-lookup"><span data-stu-id="6ea31-124">To access the Project Properties window, right-click on a project within Solution Explorer and select **Properties**.</span></span> <span data-ttu-id="6ea31-125">Następnie wybierz kartę **Analiza kodu** , a następnie zaznacz lub wyczyść pole wyboru, aby **włączyć analizatory platformy .NET**.</span><span class="sxs-lookup"><span data-stu-id="6ea31-125">Next, select the **Code Analysis** tab, and then either select or clear the checkbox to **Enable .NET analyzers**.</span></span>

### <a name="enabled-rules"></a><span data-ttu-id="6ea31-126">Włączone reguły</span><span class="sxs-lookup"><span data-stu-id="6ea31-126">Enabled rules</span></span>

<span data-ttu-id="6ea31-127">Następujące reguły są domyślnie włączone w programie .NET 5,0 w wersji zapoznawczej 8.</span><span class="sxs-lookup"><span data-stu-id="6ea31-127">The following rules are enabled, by default, in .NET 5.0 Preview 8.</span></span>

| <span data-ttu-id="6ea31-128">Identyfikator diagnostyki</span><span class="sxs-lookup"><span data-stu-id="6ea31-128">Diagnostic ID</span></span> | <span data-ttu-id="6ea31-129">Kategoria</span><span class="sxs-lookup"><span data-stu-id="6ea31-129">Category</span></span> | <span data-ttu-id="6ea31-130">Ważność</span><span class="sxs-lookup"><span data-stu-id="6ea31-130">Severity</span></span> | <span data-ttu-id="6ea31-131">Opis</span><span class="sxs-lookup"><span data-stu-id="6ea31-131">Description</span></span> |
| - | - | - | - |
| [<span data-ttu-id="6ea31-132">CA1416</span><span class="sxs-lookup"><span data-stu-id="6ea31-132">CA1416</span></span>](/visualstudio/code-quality/ca1416) | <span data-ttu-id="6ea31-133">Współdziałanie</span><span class="sxs-lookup"><span data-stu-id="6ea31-133">Interoperability</span></span> | <span data-ttu-id="6ea31-134">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="6ea31-134">Warning</span></span> | <span data-ttu-id="6ea31-135">Analizator zgodności platformy</span><span class="sxs-lookup"><span data-stu-id="6ea31-135">Platform compatibility analyzer</span></span> |
| [<span data-ttu-id="6ea31-136">CA1417</span><span class="sxs-lookup"><span data-stu-id="6ea31-136">CA1417</span></span>](/visualstudio/code-quality/ca1417) | <span data-ttu-id="6ea31-137">Współdziałanie</span><span class="sxs-lookup"><span data-stu-id="6ea31-137">Interoperability</span></span> | <span data-ttu-id="6ea31-138">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="6ea31-138">Warning</span></span> | <span data-ttu-id="6ea31-139">Nie należy używać `OutAttribute` w parametrach ciągu dla elementu P/Invoke</span><span class="sxs-lookup"><span data-stu-id="6ea31-139">Do not use `OutAttribute` on string parameters for P/Invokes</span></span> |
| [<span data-ttu-id="6ea31-140">CA1831</span><span class="sxs-lookup"><span data-stu-id="6ea31-140">CA1831</span></span>](/visualstudio/code-quality/ca1831) | <span data-ttu-id="6ea31-141">Wydajność</span><span class="sxs-lookup"><span data-stu-id="6ea31-141">Performance</span></span> | <span data-ttu-id="6ea31-142">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="6ea31-142">Warning</span></span> | <span data-ttu-id="6ea31-143">Użyj `AsSpan` zamiast indeksatorów opartych na zakresie dla ciągu, gdy jest to potrzebne</span><span class="sxs-lookup"><span data-stu-id="6ea31-143">Use `AsSpan` instead of range-based indexers for string when appropriate</span></span> |
| [<span data-ttu-id="6ea31-144">CA2013</span><span class="sxs-lookup"><span data-stu-id="6ea31-144">CA2013</span></span>](/visualstudio/code-quality/ca2013) | <span data-ttu-id="6ea31-145">Niezawodność</span><span class="sxs-lookup"><span data-stu-id="6ea31-145">Reliability</span></span> | <span data-ttu-id="6ea31-146">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="6ea31-146">Warning</span></span> | <span data-ttu-id="6ea31-147">Nie używaj `ReferenceEquals` z typami wartości</span><span class="sxs-lookup"><span data-stu-id="6ea31-147">Do not use `ReferenceEquals` with value types</span></span> |
| [<span data-ttu-id="6ea31-148">CA2014</span><span class="sxs-lookup"><span data-stu-id="6ea31-148">CA2014</span></span>](/visualstudio/code-quality/ca2014) | <span data-ttu-id="6ea31-149">Niezawodność</span><span class="sxs-lookup"><span data-stu-id="6ea31-149">Reliability</span></span> | <span data-ttu-id="6ea31-150">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="6ea31-150">Warning</span></span> | <span data-ttu-id="6ea31-151">Nie używaj `stackalloc` w pętlach</span><span class="sxs-lookup"><span data-stu-id="6ea31-151">Do not use `stackalloc` in loops</span></span> |
| [<span data-ttu-id="6ea31-152">CA2015</span><span class="sxs-lookup"><span data-stu-id="6ea31-152">CA2015</span></span>](/visualstudio/code-quality/ca2015) | <span data-ttu-id="6ea31-153">Niezawodność</span><span class="sxs-lookup"><span data-stu-id="6ea31-153">Reliability</span></span> | <span data-ttu-id="6ea31-154">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="6ea31-154">Warning</span></span> | <span data-ttu-id="6ea31-155">Nie Definiuj finalizatorów dla typów pochodnych <xref:System.Buffers.MemoryManager%601></span><span class="sxs-lookup"><span data-stu-id="6ea31-155">Do not define finalizers for types derived from <xref:System.Buffers.MemoryManager%601></span></span> |
| [<span data-ttu-id="6ea31-156">CA2200</span><span class="sxs-lookup"><span data-stu-id="6ea31-156">CA2200</span></span>](/visualstudio/code-quality/ca2200) | <span data-ttu-id="6ea31-157">Użycie</span><span class="sxs-lookup"><span data-stu-id="6ea31-157">Usage</span></span> | <span data-ttu-id="6ea31-158">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="6ea31-158">Warning</span></span> | <span data-ttu-id="6ea31-159">Ponowie zgłoś wyjątek, aby zachować szczegóły stosu</span><span class="sxs-lookup"><span data-stu-id="6ea31-159">Rethrow to preserve stack details</span></span>
| [<span data-ttu-id="6ea31-160">CA2247</span><span class="sxs-lookup"><span data-stu-id="6ea31-160">CA2247</span></span>](/visualstudio/code-quality/ca2247) | <span data-ttu-id="6ea31-161">Użycie</span><span class="sxs-lookup"><span data-stu-id="6ea31-161">Usage</span></span> | <span data-ttu-id="6ea31-162">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="6ea31-162">Warning</span></span> | <span data-ttu-id="6ea31-163">Argument przesłany do konstruktora TaskCompletionSource powinien być <xref:System.Threading.Tasks.TaskCreationOptions> wyliczeniem zamiast <xref:System.Threading.Tasks.TaskContinuationOptions></span><span class="sxs-lookup"><span data-stu-id="6ea31-163">Argument passed to TaskCompletionSource constructor should be <xref:System.Threading.Tasks.TaskCreationOptions> enum instead of <xref:System.Threading.Tasks.TaskContinuationOptions></span></span> |

<span data-ttu-id="6ea31-164">Można zmienić ważność tych reguł, aby wyłączyć je lub podnieść ich liczbę do błędów.</span><span class="sxs-lookup"><span data-stu-id="6ea31-164">You can change the severity of these rules to disable them or elevate them to errors.</span></span>

<span data-ttu-id="6ea31-165">Aby uzyskać pełną listę dostępnych reguł jakości kodu, zobacz [reguły jakości kodu](quality-rules/index.md).</span><span class="sxs-lookup"><span data-stu-id="6ea31-165">For a full list of available code quality rules, see [Code quality rules](quality-rules/index.md).</span></span>

### <a name="enable-additional-rules"></a><span data-ttu-id="6ea31-166">Włącz dodatkowe reguły</span><span class="sxs-lookup"><span data-stu-id="6ea31-166">Enable additional rules</span></span>

<span data-ttu-id="6ea31-167">Począwszy od platformy .NET 5,0 RC2, zestaw .NET SDK jest dostarczany ze wszystkimi [regułami dotyczącymi jakości kodu "CA"](/visualstudio/code-quality/code-analysis-for-managed-code-warnings).</span><span class="sxs-lookup"><span data-stu-id="6ea31-167">Starting with .NET 5.0 RC2, the .NET SDK ships with all of the ["CA" code quality rules](/visualstudio/code-quality/code-analysis-for-managed-code-warnings).</span></span> <span data-ttu-id="6ea31-168">Aby zapoznać się z pełną listą reguł, które są dołączone do poszczególnych wersji zestawu SDK platformy .NET, zobacz [wersje analizatora](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md).</span><span class="sxs-lookup"><span data-stu-id="6ea31-168">For a full list of rules that are included with each .NET SDK version, see [analyzer releases](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md).</span></span>

#### <a name="default-analysis-mode"></a><span data-ttu-id="6ea31-169">Domyślny tryb analizy</span><span class="sxs-lookup"><span data-stu-id="6ea31-169">Default analysis mode</span></span>

<span data-ttu-id="6ea31-170">W domyślnym trybie analizy niektóre reguły są [domyślnie włączone](#enabled-rules) jako ostrzeżenia kompilacji.</span><span class="sxs-lookup"><span data-stu-id="6ea31-170">In the default analysis mode, some rules are [enabled by default](#enabled-rules) as build warnings.</span></span> <span data-ttu-id="6ea31-171">Niektóre inne reguły są domyślnie włączone tylko jako sugestie środowiska IDE programu Visual Studio z odpowiednimi poprawkami kodu.</span><span class="sxs-lookup"><span data-stu-id="6ea31-171">Some other rules are enabled by default only as Visual Studio IDE suggestions with corresponding code fixes.</span></span> <span data-ttu-id="6ea31-172">Pozostałe reguły są domyślnie wyłączone.</span><span class="sxs-lookup"><span data-stu-id="6ea31-172">The remaining rules are disabled by default.</span></span> <span data-ttu-id="6ea31-173">[Pełna lista reguł](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md) zawiera domyślną ważność każdej reguły i niezależnie od tego, czy reguła jest włączona domyślnie w domyślnym trybie analizy.</span><span class="sxs-lookup"><span data-stu-id="6ea31-173">The [full list of rules](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md) includes each rule's default severity and whether or not the rule is enabled by default in the default analysis mode.</span></span>

#### <a name="custom-analysis-mode"></a><span data-ttu-id="6ea31-174">Niestandardowy tryb analizy</span><span class="sxs-lookup"><span data-stu-id="6ea31-174">Custom analysis mode</span></span>

<span data-ttu-id="6ea31-175">[Reguły analizy kodu można skonfigurować](configuration-options.md) do włączania lub wyłączania pojedynczej reguły lub kategorii reguł.</span><span class="sxs-lookup"><span data-stu-id="6ea31-175">You can [configure code analysis rules](configuration-options.md) to enable or disable an individual rule or a category of rules.</span></span> <span data-ttu-id="6ea31-176">Ponadto można użyć właściwości [analysismode](../../core/project-sdk/msbuild-props.md#analysismode) do przełączenia do jednego z następujących trybów analizy niestandardowej:</span><span class="sxs-lookup"><span data-stu-id="6ea31-176">Additionally, you can use the [AnalysisMode](../../core/project-sdk/msbuild-props.md#analysismode) property to switch to one of the following custom analysis modes:</span></span>

- <span data-ttu-id="6ea31-177">Tryb _agresywności_ lub _rezygnacji_ : wszystkie reguły są domyślnie włączone jako ostrzeżenia kompilacji.</span><span class="sxs-lookup"><span data-stu-id="6ea31-177">_Aggressive_ or _Opt-out_ mode: All rules are enabled by default as build warnings.</span></span> <span data-ttu-id="6ea31-178">Możesz selektywnie [zrezygnować](configuration-options.md) z poszczególnych reguł, aby je wyłączyć.</span><span class="sxs-lookup"><span data-stu-id="6ea31-178">You can selectively [opt out](configuration-options.md) of individual rules to disable them.</span></span>
- <span data-ttu-id="6ea31-179">_Conservative_ Tryb wyłączania i _włączania_ : wszystkie reguły są domyślnie wyłączone.</span><span class="sxs-lookup"><span data-stu-id="6ea31-179">_Conservative_ or _Opt-in_ mode: All rules are disabled by default.</span></span> <span data-ttu-id="6ea31-180">Można [wybiórczo](configuration-options.md) wybierać poszczególne reguły, aby je włączyć.</span><span class="sxs-lookup"><span data-stu-id="6ea31-180">You can selectively [opt into](configuration-options.md) individual rules to enable them.</span></span>

### <a name="treat-warnings-as-errors"></a><span data-ttu-id="6ea31-181">Traktuj ostrzeżenia jako błędy</span><span class="sxs-lookup"><span data-stu-id="6ea31-181">Treat warnings as errors</span></span>

<span data-ttu-id="6ea31-182">Jeśli używasz `-warnaserror` flagi podczas kompilowania projektów, wszystkie ostrzeżenia analizy kodu są również traktowane jako błędy.</span><span class="sxs-lookup"><span data-stu-id="6ea31-182">If you use the `-warnaserror` flag when you build your projects, all code analysis warnings are also treated as errors.</span></span> <span data-ttu-id="6ea31-183">Jeśli nie chcesz, aby ostrzeżenia o jakości kodu (CAxxxx) były traktowane jako błędy w obecności `-warnaserror` , można ustawić `CodeAnalysisTreatWarningsAsErrors` Właściwość programu MSBuild na `false` w pliku projektu.</span><span class="sxs-lookup"><span data-stu-id="6ea31-183">If you do not want code quality warnings (CAxxxx) to be treated as errors in presence of `-warnaserror`, you can set the `CodeAnalysisTreatWarningsAsErrors` MSBuild property to `false` in your project file.</span></span>

```xml
<PropertyGroup>
  <CodeAnalysisTreatWarningsAsErrors>false</CodeAnalysisTreatWarningsAsErrors>
</PropertyGroup>
```

<span data-ttu-id="6ea31-184">Nadal zobaczysz wszelkie ostrzeżenia analizy kodu, ale nie spowoduje to przerwania kompilacji.</span><span class="sxs-lookup"><span data-stu-id="6ea31-184">You'll still see any code analysis warnings, but they won't break your build.</span></span>

### <a name="latest-updates"></a><span data-ttu-id="6ea31-185">Najnowsze aktualizacje</span><span class="sxs-lookup"><span data-stu-id="6ea31-185">Latest updates</span></span>

<span data-ttu-id="6ea31-186">Domyślnie podczas uaktualniania do nowszych wersji zestawu .NET SDK otrzymasz najnowsze reguły analizy kodu i domyślne konfiguracje reguł.</span><span class="sxs-lookup"><span data-stu-id="6ea31-186">By default, you'll get the latest code analysis rules and default rule severities as you upgrade to newer versions of the .NET SDK.</span></span> <span data-ttu-id="6ea31-187">Jeśli nie chcesz tego zachowania, na przykład jeśli chcesz mieć pewność, że żadne nowe reguły nie są włączone lub wyłączone, możesz je zastąpić w jeden z następujących sposobów:</span><span class="sxs-lookup"><span data-stu-id="6ea31-187">If you don't want this behavior, for example, if you want to ensure that no new rules are enabled or disabled, you can override it in one of the following ways:</span></span>

- <span data-ttu-id="6ea31-188">Ustaw `AnalysisLevel` Właściwość programu MSBuild na określoną wartość, aby zablokować ostrzeżenia do tego zestawu.</span><span class="sxs-lookup"><span data-stu-id="6ea31-188">Set the `AnalysisLevel` MSBuild property to a specific value to lock the warnings to that set.</span></span> <span data-ttu-id="6ea31-189">W przypadku uaktualniania do nowszego zestawu SDK nadal będą dostępne poprawki błędów dla tych ostrzeżeń, ale nie są włączone żadne nowe ostrzeżenia i żadne istniejące ostrzeżenia nie zostaną wyłączone.</span><span class="sxs-lookup"><span data-stu-id="6ea31-189">When you upgrade to a newer SDK, you'll still get bug fixes for those warnings, but no new warnings will be enabled and no existing warnings will be disabled.</span></span> <span data-ttu-id="6ea31-190">Aby na przykład zablokować zestaw reguł do tych, które są dostarczane z wersją 5,0 zestawu .NET SDK, Dodaj następujący wpis do pliku projektu.</span><span class="sxs-lookup"><span data-stu-id="6ea31-190">For example, to lock the set of rules to those that ship with version 5.0 of the .NET SDK, add the following entry to your project file.</span></span>

  ```xml
  <PropertyGroup>
    <AnalysisLevel>5.0</AnalysisLevel>
  </PropertyGroup>
  ```

  > [!TIP]
  > <span data-ttu-id="6ea31-191">Wartość domyślna `AnalysisLevel` Właściwości to `latest` , co oznacza, że podczas przechodzenia do nowszych wersji zestawu .NET SDK zawsze otrzymujesz najnowsze reguły analizy kodu.</span><span class="sxs-lookup"><span data-stu-id="6ea31-191">The default value for the `AnalysisLevel` property is `latest`, which means you always get the latest code analysis rules as you move to newer versions of the .NET SDK.</span></span>

  <span data-ttu-id="6ea31-192">Aby uzyskać więcej informacji i wyświetlić listę możliwych wartości, zobacz [AnalysisLevel](../../core/project-sdk/msbuild-props.md#analysislevel).</span><span class="sxs-lookup"><span data-stu-id="6ea31-192">For more information, and to see a list of possible values, see [AnalysisLevel](../../core/project-sdk/msbuild-props.md#analysislevel).</span></span>

- <span data-ttu-id="6ea31-193">Zainstaluj [pakiet NuGet Microsoft. CodeAnalysis. Serviceanalizators](https://github.com/dotnet/roslyn-analyzers#microsoftcodeanalysisnetanalyzers) , aby oddzielić aktualizacje reguł z aktualizacji zestawu SDK platformy .NET.</span><span class="sxs-lookup"><span data-stu-id="6ea31-193">Install the [Microsoft.CodeAnalysis.NetAnalyzers NuGet package](https://github.com/dotnet/roslyn-analyzers#microsoftcodeanalysisnetanalyzers) to decouple rule updates from .NET SDK updates.</span></span> <span data-ttu-id="6ea31-194">Zainstalowanie pakietu powoduje wyłączenie wbudowanych analizatorów zestawu SDK i wygenerowanie ostrzeżenia kompilacji, jeśli zestaw SDK zawiera nowszą wersję zestawu narzędzi niż pakiet NuGet.</span><span class="sxs-lookup"><span data-stu-id="6ea31-194">Installing the package turns off the built-in SDK analyzers and generates a build warning if the SDK contains a newer analyzer assembly version than that of the NuGet package.</span></span>

## <a name="code-style-analysis"></a><span data-ttu-id="6ea31-195">Analiza stylu kodu</span><span class="sxs-lookup"><span data-stu-id="6ea31-195">Code style analysis</span></span>

<span data-ttu-id="6ea31-196">[Analiza stylu kodu](/visualstudio/ide/editorconfig-code-style-settings-reference) (reguły "IDExxxx") umożliwia definiowanie i konserwowanie spójnego stylu kodu w bazie kodu.</span><span class="sxs-lookup"><span data-stu-id="6ea31-196">[Code style analysis](/visualstudio/ide/editorconfig-code-style-settings-reference) ("IDExxxx" rules) enables you to define and maintain consistent code style in your codebase.</span></span> <span data-ttu-id="6ea31-197">Poniżej przedstawiono ustawienia domyślne:</span><span class="sxs-lookup"><span data-stu-id="6ea31-197">Following are the default settings:</span></span>

- <span data-ttu-id="6ea31-198">Kompilacja w wierszu polecenia: Analiza stylu kodu jest domyślnie wyłączona dla wszystkich projektów .NET na kompilacjach w wierszu polecenia.</span><span class="sxs-lookup"><span data-stu-id="6ea31-198">Command line build: Code style analysis is disabled, by default, for all .NET projects on command-line builds.</span></span>
- <span data-ttu-id="6ea31-199">Visual Studio: Analiza stylu kodu jest domyślnie włączona dla wszystkich projektów .NET w programie Visual Studio jako [szybkie akcje refaktoryzacji kodu](/visualstudio/ide/code-generation-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="6ea31-199">Visual Studio: Code style analysis is enabled, by default, for all .NET projects inside Visual Studio as [code refactoring quick actions](/visualstudio/ide/code-generation-in-visual-studio).</span></span>

<span data-ttu-id="6ea31-200">Począwszy od platformy .NET 5,0 RC2, można włączyć analizę stylu kodu dla kompilacji, zarówno w wierszu polecenia, jak i w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="6ea31-200">Starting .NET 5.0 RC2, you can enable code style analysis on build, both at the command line and inside Visual Studio.</span></span> <span data-ttu-id="6ea31-201">Naruszenia stylu kodu są wyświetlane jako ostrzeżenia lub błędy z prefiksem "IDE".</span><span class="sxs-lookup"><span data-stu-id="6ea31-201">Code style violations appear as warnings or errors with an "IDE" prefix.</span></span> <span data-ttu-id="6ea31-202">Umożliwia to wymuszanie spójnych stylów kodu w czasie kompilacji.</span><span class="sxs-lookup"><span data-stu-id="6ea31-202">This enables you to enforce consistent code styles at build time.</span></span>

> [!NOTE]
> <span data-ttu-id="6ea31-203">Funkcja analizy stylu kodu jest eksperymentalna i może ulec zmianie między wersjami .NET 5 i .NET 6.</span><span class="sxs-lookup"><span data-stu-id="6ea31-203">The code style analysis feature is experimental and may change between the .NET 5 and .NET 6 releases.</span></span>

<span data-ttu-id="6ea31-204">Procedura włączania analizy stylów kodu podczas kompilacji:</span><span class="sxs-lookup"><span data-stu-id="6ea31-204">Steps to enable code style analysis on build:</span></span>

1. <span data-ttu-id="6ea31-205">Ustaw właściwość programu MSBuild [EnforceCodeStyleInBuild](../../core/project-sdk/msbuild-props.md#enforcecodestyleinbuild) na wartość `true` .</span><span class="sxs-lookup"><span data-stu-id="6ea31-205">Set the MSBuild property [EnforceCodeStyleInBuild](../../core/project-sdk/msbuild-props.md#enforcecodestyleinbuild) to `true`.</span></span>

1. <span data-ttu-id="6ea31-206">W pliku *. editorconfig* [Skonfiguruj](configuration-options.md) każdą regułę stylu kodu "IDE", która ma być uruchamiana podczas kompilacji jako ostrzeżenie lub błąd.</span><span class="sxs-lookup"><span data-stu-id="6ea31-206">In an *.editorconfig* file, [configure](configuration-options.md) each "IDE" code style rule that you wish to run on build as a warning or an error.</span></span> <span data-ttu-id="6ea31-207">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="6ea31-207">For example:</span></span>

   ```ini
   [*.{cs,vb}]
   # IDE0040: Accessibility modifiers required (escalated to a build warning)
   dotnet_diagnostic.IDE0040.severity = warning
   ```

   <span data-ttu-id="6ea31-208">Alternatywnie można skonfigurować całą kategorię "Style" jako ostrzeżenie lub błąd, domyślnie, a następnie selektywnie wyłączyć reguły, które nie mają być uruchamiane podczas kompilacji.</span><span class="sxs-lookup"><span data-stu-id="6ea31-208">Alternatively, you can configure the entire "Style" category to be a warning or error, by default, and then selectively turn off rules that you don't want to run on build.</span></span> <span data-ttu-id="6ea31-209">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="6ea31-209">For example:</span></span>

   ```ini
   [*.{cs,vb}]

   # Default severity for analyzer diagnostics with category 'Style' (escalated to build warnings)
   dotnet_analyzer_diagnostic.category-Style.severity = warning

   # IDE0040: Accessibility modifiers required (disabled on build)
   dotnet_diagnostic.IDE0040.severity = silent
   ```

## <a name="suppress-a-warning"></a><span data-ttu-id="6ea31-210">Pomiń ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="6ea31-210">Suppress a warning</span></span>

<span data-ttu-id="6ea31-211">Aby pominąć naruszenie reguły, należy ustawić opcję ważności dla tego identyfikatora reguły na `none` w pliku EditorConfig.</span><span class="sxs-lookup"><span data-stu-id="6ea31-211">To suppress a rule violation, set the severity option for that rule ID to `none` in an EditorConfig file.</span></span> <span data-ttu-id="6ea31-212">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="6ea31-212">For example:</span></span>

```ini
dotnet_diagnostic.CA1822.severity = none
```

<span data-ttu-id="6ea31-213">Program Visual Studio oferuje dodatkowe sposoby pomijania ostrzeżeń z reguł analizy kodu.</span><span class="sxs-lookup"><span data-stu-id="6ea31-213">Visual Studio provides additional ways to suppress warnings from code analysis rules.</span></span> <span data-ttu-id="6ea31-214">Aby uzyskać więcej informacji, zobacz [pomijanie naruszeń](/visualstudio/code-quality/use-roslyn-analyzers#suppress-violations).</span><span class="sxs-lookup"><span data-stu-id="6ea31-214">For more information, see [Suppress violations](/visualstudio/code-quality/use-roslyn-analyzers#suppress-violations).</span></span>

<span data-ttu-id="6ea31-215">Aby uzyskać więcej informacji o zakresie reguł, zobacz [Konfigurowanie ważności reguły](configuration-options.md#severity-level).</span><span class="sxs-lookup"><span data-stu-id="6ea31-215">For more information about rule severities, see [Configure rule severity](configuration-options.md#severity-level).</span></span>

## <a name="see-also"></a><span data-ttu-id="6ea31-216">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="6ea31-216">See also</span></span>

- [<span data-ttu-id="6ea31-217">Odwołanie do reguły analizy jakości kodu</span><span class="sxs-lookup"><span data-stu-id="6ea31-217">Code quality analysis rule reference</span></span>](quality-rules/index.md)
- [<span data-ttu-id="6ea31-218">Odwołanie do reguły analizy stylu kodu</span><span class="sxs-lookup"><span data-stu-id="6ea31-218">Code style analysis rule reference</span></span>](style-rules/index.md)
- [<span data-ttu-id="6ea31-219">Analiza kodu w programie Visual Studio</span><span class="sxs-lookup"><span data-stu-id="6ea31-219">Code analysis in Visual Studio</span></span>](/visualstudio/code-quality/roslyn-analyzers-overview)
- [<span data-ttu-id="6ea31-220">Zestaw SDK platformy kompilatora .NET</span><span class="sxs-lookup"><span data-stu-id="6ea31-220">.NET Compiler Platform SDK</span></span>](../../csharp/roslyn-sdk/index.md)
- [<span data-ttu-id="6ea31-221">Samouczek: Napisz pierwszy Analizator i poprawkę kodu</span><span class="sxs-lookup"><span data-stu-id="6ea31-221">Tutorial: Write your first analyzer and code fix</span></span>](../../csharp/roslyn-sdk/tutorials/how-to-write-csharp-analyzer-code-fix.md)
