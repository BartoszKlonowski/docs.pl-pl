---
title: "Zestaw SDK platformy kompilatora .NET pojęcia i model obiektów"
description: "Ten przegląd zawiera tło, musisz działał efektywnie przez kompilator .NET SDK. Dowiesz się warstwy interfejsu API, główne typy i ogólny model obiektów."
author: billwagner
ms.author: wiwagn
ms.date: 10/10/2017
ms.topic: conceptual
ms.prod: .net
ms.devlang: devlang-csharp
ms.custom: mvc
ms.openlocfilehash: fd599118165dcb087f046a307a3f7aeef0cf7078
ms.sourcegitcommit: 08684dd61444c2f072b89b926370f750e456fca1
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 02/14/2018
---
# <a name="understand-the-net-compiler-platform-sdk-model"></a><span data-ttu-id="54891-104">Zrozumienie modelu zestawu SDK platformy kompilatora .NET</span><span class="sxs-lookup"><span data-stu-id="54891-104">Understand the .NET Compiler Platform SDK model</span></span>

<span data-ttu-id="54891-105">Kompilatory przetworzyć tworzonego następujące reguły strukturalnych, które często różnią się od ludzi sposób przeczytane i zrozumiane kodu kodu.</span><span class="sxs-lookup"><span data-stu-id="54891-105">Compilers process the code you write following structured rules that often differ from the way humans read and understand code.</span></span> <span data-ttu-id="54891-106">Podstawową wiedzę na temat modelu używanego przez kompilatory jest niezbędne do zrozumienia interfejsów API, można użyć podczas tworzenia narzędzia oparte na Roslyn.</span><span class="sxs-lookup"><span data-stu-id="54891-106">A basic understanding of the model used by compilers is essential to understanding the APIs you use when building Roslyn-based tools.</span></span> 

## <a name="compiler-pipeline-functional-areas"></a><span data-ttu-id="54891-107">Obszarów funkcjonalnych potoku kompilatora</span><span class="sxs-lookup"><span data-stu-id="54891-107">Compiler pipeline functional areas</span></span>

<span data-ttu-id="54891-108">Zestawu SDK platformy kompilatora .NET przedstawia Kompilatory języka C# i Visual Basic analizy kodu dla Ciebie klientów przez zapewnienie warstwę interfejsu API, która odzwierciedla potoku tradycyjnych kompilatora.</span><span class="sxs-lookup"><span data-stu-id="54891-108">The .NET Compiler Platform SDK exposes the C# and Visual Basic compilers' code analysis to you as a consumer by providing an API layer that mirrors a traditional compiler pipeline.</span></span>

![kroki przetwarzania kodu źródłowego z kodem obiektu potoku kompilatora](media/compiler-pipeline.png)

<span data-ttu-id="54891-110">Każdej fazy tego potoku jest inny składnik.</span><span class="sxs-lookup"><span data-stu-id="54891-110">Each phase of this pipeline is a separate component.</span></span> <span data-ttu-id="54891-111">Po pierwsze faza analizy tokenizes i przeanalizowany tekst źródłowy do składni stosowanej gramatyki języka.</span><span class="sxs-lookup"><span data-stu-id="54891-111">First, the parse phase tokenizes and parses source text into syntax that follows the language grammar.</span></span> <span data-ttu-id="54891-112">Drugi fazy deklaracji analizuje źródła i importowane metadane do formularza symbole.</span><span class="sxs-lookup"><span data-stu-id="54891-112">Second the declaration phase analyzes source and imported metadata to form named symbols.</span></span> <span data-ttu-id="54891-113">Obok fazie wiązania odpowiada identyfikatorów w kodzie do symboli.</span><span class="sxs-lookup"><span data-stu-id="54891-113">Next the bind phase matches identifiers in the code to symbols.</span></span> <span data-ttu-id="54891-114">Na koniec fazy emitowanie emituje zestawu wszystkie informacje, które są tworzone przez kompilator.</span><span class="sxs-lookup"><span data-stu-id="54891-114">Finally, the emit phase, emits an assembly with all the information built up by the compiler.</span></span>

![potok kompilatora interfejsu api zapewnia dostęp do każdego kroku, który jest częścią pipelien kompilatora](media/compiler-pipeline-api.png)

<span data-ttu-id="54891-116">Odpowiadający każdej z tych faz, zestawu SDK platformy kompilatora .NET przedstawia model obiektów, która zezwala na dostęp do informacji w tej fazie.</span><span class="sxs-lookup"><span data-stu-id="54891-116">Corresponding to each of those phases, the .NET Compiler Platform SDK exposes an object model that allows access to the information at that phase.</span></span> <span data-ttu-id="54891-117">Faza analizy przedstawia drzewa składni, faza deklaracji przedstawia tabelę hierarchiczną symbol fazie wiązania przedstawia wynik analizy semantycznego kompilatora i faza emitowanie to interfejs API, który spowoduje utworzenie kodów bajtów IL.</span><span class="sxs-lookup"><span data-stu-id="54891-117">The parsing phase exposes a syntax tree, the declaration phase exposes a hierarchical symbol table, the binding phase exposes the result of the compiler’s semantic analysis, and the emit phase is an API that produces IL byte codes.</span></span>

![dostępne z kompilatora języka usługi interfejsu api w każdym kroku procesu kompilatora](media/compiler-pipeline-lang-svc.png)

<span data-ttu-id="54891-119">Każdy kompilatora łączy te składniki ze sobą jednej całości end-to-end.</span><span class="sxs-lookup"><span data-stu-id="54891-119">Each compiler combines these components together as a single end-to-end whole.</span></span>

<span data-ttu-id="54891-120">Te interfejsy API są takie same jak używane przez program Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="54891-120">These APIs are the same ones used by Visual Studio.</span></span> <span data-ttu-id="54891-121">Dla wystąpienia kodu zwijania i funkcje formatowania używanie drzew składni, tabeli symboli refaktoryzacje Użyj funkcji przeglądarki obiektów i nawigacji przejdź do definicji Użyj modelu semantycznego i Edytuj i Kontynuuj wykorzystuje wszystkie z nich, łącznie z interfejsu API emisji.</span><span class="sxs-lookup"><span data-stu-id="54891-121">For instance, the code outlining and formatting features use the syntax trees, the Object Browser and navigation features use the symbol table, refactorings and Go to Definition use the semantic model, and Edit and Continue uses all of these, including the Emit API.</span></span> 

## <a name="api-layers"></a><span data-ttu-id="54891-122">Warstwy interfejsu API</span><span class="sxs-lookup"><span data-stu-id="54891-122">API layers</span></span>

<span data-ttu-id="54891-123">Kompilator .NET SDK składa się z dwóch warstw głównego interfejsów API: kompilatora interfejsów API i interfejsów API obszarów roboczych.</span><span class="sxs-lookup"><span data-stu-id="54891-123">The .NET compiler SDK consists of two main layers of APIs: compiler APIs and workspaces APIs.</span></span>

![warstwy interfejsu api reprezentowany przez kompilator interfejsów API potoku](media/api-layers.png)

### <a name="compiler-apis"></a><span data-ttu-id="54891-125">Interfejsy API kompilatora</span><span class="sxs-lookup"><span data-stu-id="54891-125">Compiler APIs</span></span>

<span data-ttu-id="54891-126">Warstwa kompilatora zawiera modeli obiektów, które odpowiadają informacje udostępniane w poszczególnych fazach potoku kompilatora, zarówno składni i semantycznego.</span><span class="sxs-lookup"><span data-stu-id="54891-126">The compiler layer contains the object models that correspond to information exposed at each phase of the compiler pipeline, both syntactic and semantic.</span></span> <span data-ttu-id="54891-127">Warstwa kompilatora zawiera również niezmienne migawki jednego wywołania kompilatora, w tym odwołania do zestawów, opcje kompilatora i plików kodu źródłowego.</span><span class="sxs-lookup"><span data-stu-id="54891-127">The compiler layer also contains an immutable snapshot of a single invocation of a compiler, including assembly references, compiler options, and source code files.</span></span> <span data-ttu-id="54891-128">Istnieją dwa różne interfejsów API, które reprezentują języka C# i języka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="54891-128">There are two distinct APIs that represent the C# language and the Visual Basic language.</span></span> <span data-ttu-id="54891-129">Te dwa interfejsy API są podobne w kształcie, ale dostosowane do o wysokiej wierności dla każdego języka indywidualnych.</span><span class="sxs-lookup"><span data-stu-id="54891-129">These two APIs are similar in shape but tailored for high-fidelity to each individual language.</span></span> <span data-ttu-id="54891-130">Ta warstwa nie ma zależności na składnikach programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="54891-130">This layer has no dependencies on Visual Studio components.</span></span>

### <a name="diagnostic-apis"></a><span data-ttu-id="54891-131">Interfejsy API diagnostycznych</span><span class="sxs-lookup"><span data-stu-id="54891-131">Diagnostic APIs</span></span>

<span data-ttu-id="54891-132">W ramach swojej analizy kompilator może utworzyć zestaw diagnostyki obejmujące wszystkie elementy z składnię semantyczne i błędy określoną przypisania do różnych ostrzeżenia i informacyjną diagnostyki.</span><span class="sxs-lookup"><span data-stu-id="54891-132">As part of its analysis the compiler may produce a set of diagnostics covering everything from syntax, semantic, and definite assignment errors to various warnings and informational diagnostics.</span></span> <span data-ttu-id="54891-133">Warstwę interfejsu API kompilatora tnie przedstawia Diagnostyka za pośrednictwem rozszerzonego interfejsu API, umożliwiający użytkownika analizatorów być podłączony do procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="54891-133">TThe Compiler API layer exposes diagnostics through an extensible API that allows user-defined analyzers to be plugged into the compilation process.</span></span> <span data-ttu-id="54891-134">Umożliwia on diagnostics zdefiniowane przez użytkownika, takich jak te utworzone przez narzędzia, takie jak StyleCop lub programu FxCop, do wyprodukowania obok zdefiniowane przez kompilator diagnostyki.</span><span class="sxs-lookup"><span data-stu-id="54891-134">It allows user-defined diagnostics, such as those produced by tools like StyleCop or FxCop, to be produced alongside compiler-defined diagnostics.</span></span> <span data-ttu-id="54891-135">Tworzenie diagnostyki w ten sposób ma korzyści integracji naturalny z narzędzi, takich jak program MSBuild i Visual Studio, które są zależne od diagnostyki dla środowiska, takie jak zatrzymywanie kompilacji na podstawie zasad i przedstawiający zygzaki na żywo w edytorze i sugerowanie kodu poprawki.</span><span class="sxs-lookup"><span data-stu-id="54891-135">Producing diagnostics in this way has the benefit of integrating naturally with tools such as MSBuild and Visual Studio which depend on diagnostics for experiences such as halting a build based on policy and showing live squiggles in the editor and suggesting code fixes.</span></span>

### <a name="scripting-apis"></a><span data-ttu-id="54891-136">Interfejsy API obsługi skryptów</span><span class="sxs-lookup"><span data-stu-id="54891-136">Scripting APIs</span></span>

<span data-ttu-id="54891-137">Hosting i skryptów interfejsy API są częścią warstwy kompilatora.</span><span class="sxs-lookup"><span data-stu-id="54891-137">Hosting and scripting APIs are part of the compiler layer.</span></span> <span data-ttu-id="54891-138">Można używać ich do wykonywania fragmentów kodu i grupowania kontekstu wykonywania środowiska uruchomieniowego.</span><span class="sxs-lookup"><span data-stu-id="54891-138">You can use them for executing code snippets and accumulating a runtime execution context.</span></span>
<span data-ttu-id="54891-139">C# interaktywny REPL (odczyt oceny-Drukuj pętli) korzysta z poniższych interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="54891-139">The C# interactive REPL (Read-Evaluate-Print Loop) uses these APIs.</span></span> <span data-ttu-id="54891-140">REPL pozwala na użycie C# jako język skryptów, wykonywanie kodu interaktywnego pisania go.</span><span class="sxs-lookup"><span data-stu-id="54891-140">The REPL enables you to use C# as a scripting language, executing the code interactively as you write it.</span></span>

### <a name="workspaces-apis"></a><span data-ttu-id="54891-141">Interfejsy API obszary robocze</span><span class="sxs-lookup"><span data-stu-id="54891-141">Workspaces APIs</span></span>

<span data-ttu-id="54891-142">Warstwa obszarów roboczych zawiera interfejsu API obszaru roboczego, który jest punkt początkowy podczas analizy kodu i refaktoryzacji za pośrednictwem całego rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="54891-142">The Workspaces layer contains the Workspace API, which is the starting point for doing code analysis and refactoring over entire solutions.</span></span> <span data-ttu-id="54891-143">Ułatwia organizowanie wszystkie informacje dotyczące projektów w rozwiązaniu do pojedynczego obiektu modelu, oferty bezpośredni dostęp do modeli obiektów warstwy kompilatora bez konieczności analizy plików, skonfiguruj opcje, lub zarządzania zależności projektu do projektu .</span><span class="sxs-lookup"><span data-stu-id="54891-143">It assists you in organizing all the information about the projects in a solution into single object model, offering you direct access to the compiler layer object models without needing to parse files, configure options, or manage project-to-project dependencies.</span></span>

<span data-ttu-id="54891-144">Ponadto obszary robocze warstwy powierzchni zestaw interfejsów API używane podczas wykonywania analizy kodu oraz refaktoryzacji narzędzia, które działają w środowisku hosta, takich jak środowiska IDE programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="54891-144">In addition, the Workspaces layer surfaces a set of APIs used when implementing code analysis and refactoring tools that function within a host environment like the Visual Studio IDE.</span></span> <span data-ttu-id="54891-145">Przykładami Znajdź wszystkie odwołania, formatowanie i interfejsy API generowania kodu.</span><span class="sxs-lookup"><span data-stu-id="54891-145">Examples include the Find All References, Formatting, and Code Generation APIs.</span></span>

<span data-ttu-id="54891-146">Ta warstwa nie ma zależności na składnikach programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="54891-146">This layer has no dependencies on Visual Studio components.</span></span>
