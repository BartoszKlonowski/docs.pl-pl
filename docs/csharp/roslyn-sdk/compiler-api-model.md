---
title: Zestaw SDK platformy kompilatora .NET pojęcia i model obiektów
description: W tym omówieniu przedstawiono tła, będzie potrzebne wydajnie pracować przy użyciu kompilatora .NET SDK. Dowiesz się warstwy interfejsu API, głównych typów zaangażowanych i ogólnym modelu obiektu.
ms.date: 10/10/2017
ms.custom: mvc
ms.openlocfilehash: ee8f902bf1df8b63e229fd518e7a0c592fcd47ca
ms.sourcegitcommit: 58fc0e6564a37fa1b9b1b140a637e864c4cf696e
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/08/2019
ms.locfileid: "57675709"
---
# <a name="understand-the-net-compiler-platform-sdk-model"></a><span data-ttu-id="a427e-104">Informacje o modelu zestawu SDK platformy kompilatora .NET</span><span class="sxs-lookup"><span data-stu-id="a427e-104">Understand the .NET Compiler Platform SDK model</span></span>

<span data-ttu-id="a427e-105">Kompilatory przetwarzać kod, który napiszesz następujące reguły ze strukturą, które często różnią się od ludzi sposób przeczytać i sprawdzić kod.</span><span class="sxs-lookup"><span data-stu-id="a427e-105">Compilers process the code you write following structured rules that often differ from the way humans read and understand code.</span></span> <span data-ttu-id="a427e-106">Podstawową wiedzę na temat model wykorzystywany przez kompilatory jest niezbędne do zrozumienia interfejsów API, można użyć podczas tworzenia narzędzi opartych na programie Roslyn.</span><span class="sxs-lookup"><span data-stu-id="a427e-106">A basic understanding of the model used by compilers is essential to understanding the APIs you use when building Roslyn-based tools.</span></span> 

## <a name="compiler-pipeline-functional-areas"></a><span data-ttu-id="a427e-107">Obszarów funkcjonalnych potoku kompilatora</span><span class="sxs-lookup"><span data-stu-id="a427e-107">Compiler pipeline functional areas</span></span>

<span data-ttu-id="a427e-108">Udostępnia zestaw SDK platformy kompilatora .NET C# i Kompilatory języka Visual Basic code analizy dla Ciebie jako użytkownik, zapewniając warstwę interfejsu API, która odzwierciedla potoku tradycyjnych kompilatora.</span><span class="sxs-lookup"><span data-stu-id="a427e-108">The .NET Compiler Platform SDK exposes the C# and Visual Basic compilers' code analysis to you as a consumer by providing an API layer that mirrors a traditional compiler pipeline.</span></span>

![kroki przetwarzania kodu źródłowego z kodem obiektu potoku kompilatora](media/compiler-api-model/compiler-pipeline.png)

<span data-ttu-id="a427e-110">Każda faza ten potok jest składnikiem niezależnym.</span><span class="sxs-lookup"><span data-stu-id="a427e-110">Each phase of this pipeline is a separate component.</span></span> <span data-ttu-id="a427e-111">Najpierw faza analizy tokenizes i analizuje tekst źródłowy do składni, który następuje po gramatyki języka.</span><span class="sxs-lookup"><span data-stu-id="a427e-111">First, the parse phase tokenizes and parses source text into syntax that follows the language grammar.</span></span> <span data-ttu-id="a427e-112">Po drugie faza deklaracji analizuje źródła i importowane metadane do formularza, symbole.</span><span class="sxs-lookup"><span data-stu-id="a427e-112">Second, the declaration phase analyzes source and imported metadata to form named symbols.</span></span> <span data-ttu-id="a427e-113">Następnie w fazie powiązania dopasowuje identyfikatorach w kodzie do symboli.</span><span class="sxs-lookup"><span data-stu-id="a427e-113">Next, the bind phase matches identifiers in the code to symbols.</span></span> <span data-ttu-id="a427e-114">Na koniec w fazie emitowanie emituje zestawu wszystkie informacje, które są tworzone przez kompilator.</span><span class="sxs-lookup"><span data-stu-id="a427e-114">Finally, the emit phase emits an assembly with all the information built up by the compiler.</span></span>

![potok kompilatora interfejs api zapewnia dostęp do każdego kroku, który jest częścią potoku kompilatora](media/compiler-api-model/compiler-pipeline-api.png)

<span data-ttu-id="a427e-116">Odpowiadający każdej z tych faz, zestawu SDK platformy kompilatora .NET udostępnia model obiektowy, który umożliwia dostęp do informacji na tym etapie.</span><span class="sxs-lookup"><span data-stu-id="a427e-116">Corresponding to each of those phases, the .NET Compiler Platform SDK exposes an object model that allows access to the information at that phase.</span></span> <span data-ttu-id="a427e-117">Faza analizy przedstawia drzewo składni, faza deklaracji przedstawia tabelę hierarchiczną symbolu, w fazie powiązania przedstawia wynik analizy semantycznej kompilatora i faza emitowanie to interfejs API, który generuje kody bajt IL.</span><span class="sxs-lookup"><span data-stu-id="a427e-117">The parsing phase exposes a syntax tree, the declaration phase exposes a hierarchical symbol table, the binding phase exposes the result of the compiler’s semantic analysis, and the emit phase is an API that produces IL byte codes.</span></span>

![dostępne z kompilatora usługi języka interfejsu api na każdym etapie potoku kompilatora](media/compiler-api-model/compiler-pipeline-lang-svc.png)

<span data-ttu-id="a427e-119">Każdy kompilator łączy w sobie te składniki ze sobą jako jednej całości end-to-end.</span><span class="sxs-lookup"><span data-stu-id="a427e-119">Each compiler combines these components together as a single end-to-end whole.</span></span>

<span data-ttu-id="a427e-120">Te interfejsy API są takie same jak użyte przez program Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a427e-120">These APIs are the same ones used by Visual Studio.</span></span> <span data-ttu-id="a427e-121">Na przykład kodu, tworzenie konspektów i funkcji formatowania, używanie drzew składni, skorzystaj z tabeli symboli, refaktoryzacji, funkcji przeglądarki obiektów i nawigacji definicja polecenia przejdź do używania tego modelu semantycznego i Edytuj i Kontynuuj używa wszystkich z nich, w tym interfejs API emisji.</span><span class="sxs-lookup"><span data-stu-id="a427e-121">For instance, the code outlining and formatting features use the syntax trees, the Object Browser and navigation features use the symbol table, refactorings and Go to Definition use the semantic model, and Edit and Continue uses all of these, including the Emit API.</span></span> 

## <a name="api-layers"></a><span data-ttu-id="a427e-122">Warstwy interfejsu API</span><span class="sxs-lookup"><span data-stu-id="a427e-122">API layers</span></span>

<span data-ttu-id="a427e-123">Kompilator platformy .NET, zestaw SDK składa się z dwóch głównych warstw interfejsów API: kompilatora interfejsów API i interfejsów API w obszarach roboczych.</span><span class="sxs-lookup"><span data-stu-id="a427e-123">The .NET compiler SDK consists of two main layers of APIs: compiler APIs and workspaces APIs.</span></span>

![warstwy interfejsu api, reprezentowane przez kompilator potoku interfejsów API](media/compiler-api-model/api-layers.png)

### <a name="compiler-apis"></a><span data-ttu-id="a427e-125">Interfejsy API kompilatora</span><span class="sxs-lookup"><span data-stu-id="a427e-125">Compiler APIs</span></span>

<span data-ttu-id="a427e-126">Warstwa kompilatora zawiera modele obiektów, które odnoszą się do informacji uwidocznionych w każdej fazie potoku kompilatora, zarówno syntaktyczna i semantyczna.</span><span class="sxs-lookup"><span data-stu-id="a427e-126">The compiler layer contains the object models that correspond to information exposed at each phase of the compiler pipeline, both syntactic and semantic.</span></span> <span data-ttu-id="a427e-127">Warstwa kompilatora zawiera również niezmienne migawki na pojedyncze wywołanie kompilatora, w tym odwołania do zestawów, opcje kompilatora i pliki kodu źródłowego.</span><span class="sxs-lookup"><span data-stu-id="a427e-127">The compiler layer also contains an immutable snapshot of a single invocation of a compiler, including assembly references, compiler options, and source code files.</span></span> <span data-ttu-id="a427e-128">Istnieją dwa różne interfejsy API reprezentujące C# języka i języka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="a427e-128">There are two distinct APIs that represent the C# language and the Visual Basic language.</span></span> <span data-ttu-id="a427e-129">Te dwa interfejsy API są podobne w kształcie, ale dostosowane do o wysokiej wierności do każdego z poszczególnych języków.</span><span class="sxs-lookup"><span data-stu-id="a427e-129">These two APIs are similar in shape but tailored for high-fidelity to each individual language.</span></span> <span data-ttu-id="a427e-130">Ta warstwa nie ma zależności na składniki programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a427e-130">This layer has no dependencies on Visual Studio components.</span></span>

### <a name="diagnostic-apis"></a><span data-ttu-id="a427e-131">Interfejs API diagnostyki</span><span class="sxs-lookup"><span data-stu-id="a427e-131">Diagnostic APIs</span></span>

<span data-ttu-id="a427e-132">Jako część ich analizy kompilator może zwrócić zestaw diagnostyki, obejmujące składnię i semantyczne i błędy asercję określonego przypisania do różnych ostrzeżenia i Diagnostyka informacyjne.</span><span class="sxs-lookup"><span data-stu-id="a427e-132">As part of its analysis the compiler may produce a set of diagnostics covering everything from syntax, semantic, and definite assignment errors to various warnings and informational diagnostics.</span></span> <span data-ttu-id="a427e-133">Warstwa interfejsu API kompilatora udostępnia diagnostyki za pomocą rozszerzonego interfejsu API, umożliwiająca zdefiniowanych przez użytkownika analizatory być podłączony do procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="a427e-133">The Compiler API layer exposes diagnostics through an extensible API that allows user-defined analyzers to be plugged into the compilation process.</span></span> <span data-ttu-id="a427e-134">Umożliwia ona diagnostyki zdefiniowanych przez użytkownika, takich jak produkowanych przez narzędzia, takie jak StyleCop lub programu FxCop, opracowywane równolegle diagnostyki zdefiniowanego przez kompilator.</span><span class="sxs-lookup"><span data-stu-id="a427e-134">It allows user-defined diagnostics, such as those produced by tools like StyleCop or FxCop, to be produced alongside compiler-defined diagnostics.</span></span> <span data-ttu-id="a427e-135">Tworzenie diagnostyki w ten sposób ma tę zaletę, naturalny sposób integracji z narzędziami takimi jak MSBuild i Visual Studio, które są zależne od diagnostykę dla środowisk, takich jak zatrzymywanie kompilacji opartych na zasadach i wyświetlanie na żywo faliste linie w edytorze i sugerowanie kodu poprawki.</span><span class="sxs-lookup"><span data-stu-id="a427e-135">Producing diagnostics in this way has the benefit of integrating naturally with tools such as MSBuild and Visual Studio which depend on diagnostics for experiences such as halting a build based on policy and showing live squiggles in the editor and suggesting code fixes.</span></span>

### <a name="scripting-apis"></a><span data-ttu-id="a427e-136">Interfejsy API obsługi skryptów</span><span class="sxs-lookup"><span data-stu-id="a427e-136">Scripting APIs</span></span>

<span data-ttu-id="a427e-137">Hosting i interfejsy API obsługi skryptów są częścią warstwy kompilatora.</span><span class="sxs-lookup"><span data-stu-id="a427e-137">Hosting and scripting APIs are part of the compiler layer.</span></span> <span data-ttu-id="a427e-138">Używając ich wykonywania fragmenty kodu i grupowania kontekstu wykonania środowiska uruchomieniowego.</span><span class="sxs-lookup"><span data-stu-id="a427e-138">You can use them for executing code snippets and accumulating a runtime execution context.</span></span>
<span data-ttu-id="a427e-139">C# Interaktywna pętla REPL (odczytu oceny — Drukuj pętli) korzysta z tych interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="a427e-139">The C# interactive REPL (Read-Evaluate-Print Loop) uses these APIs.</span></span> <span data-ttu-id="a427e-140">REPL pozwala na użycie C# jako języka skryptowego wykonywanie kodu interaktywnego podczas jej pisania.</span><span class="sxs-lookup"><span data-stu-id="a427e-140">The REPL enables you to use C# as a scripting language, executing the code interactively as you write it.</span></span>

### <a name="workspaces-apis"></a><span data-ttu-id="a427e-141">Interfejsy API obszarów roboczych</span><span class="sxs-lookup"><span data-stu-id="a427e-141">Workspaces APIs</span></span>

<span data-ttu-id="a427e-142">Warstwa obszary robocze zawiera API obszaru roboczego, który jest punktem wyjścia do wykonywania analizy kodu i refaktoryzacji za pośrednictwem całego rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="a427e-142">The Workspaces layer contains the Workspace API, which is the starting point for doing code analysis and refactoring over entire solutions.</span></span> <span data-ttu-id="a427e-143">Pomaga w organizowaniu wszystkie informacje dotyczące projektów w rozwiązaniu do pojedynczego obiektu modelu, oferując bezpośredni dostęp do modeli obiektów warstwy kompilatora bez konieczności analizować pliki, skonfiguruj opcje, lub zarządzanie zależnościami projektu do projektu .</span><span class="sxs-lookup"><span data-stu-id="a427e-143">It assists you in organizing all the information about the projects in a solution into single object model, offering you direct access to the compiler layer object models without needing to parse files, configure options, or manage project-to-project dependencies.</span></span>

<span data-ttu-id="a427e-144">Ponadto obszary robocze warstwy powierzchnie, zestaw interfejsów API używane podczas wykonywania analizy kodu i narzędzi, które działają w środowisku hosta refaktoryzacji, takie jak środowiska IDE programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a427e-144">In addition, the Workspaces layer surfaces a set of APIs used when implementing code analysis and refactoring tools that function within a host environment like the Visual Studio IDE.</span></span> <span data-ttu-id="a427e-145">Przykłady obejmują Znajdź wszystkie odwołania, formatowanie i interfejsy API generowania kodu.</span><span class="sxs-lookup"><span data-stu-id="a427e-145">Examples include the Find All References, Formatting, and Code Generation APIs.</span></span>

<span data-ttu-id="a427e-146">Ta warstwa nie ma zależności na składniki programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="a427e-146">This layer has no dependencies on Visual Studio components.</span></span>
