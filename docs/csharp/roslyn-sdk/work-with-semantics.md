---
title: Współpracuj z modelem semantycznym zestawu .NET Compiler Platform SDK
description: Ten przegląd zawiera informacje o typie używanym do zrozumienia i manipulowania semantycznym modelem kodu.
ms.date: 10/15/2017
ms.custom: mvc
ms.openlocfilehash: c594447bb553f488d60fe83900e2f141608b570f
ms.sourcegitcommit: 6f28b709592503d27077b16fff2e2eacca569992
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/28/2019
ms.locfileid: "70105672"
---
# <a name="work-with-semantics"></a><span data-ttu-id="d60d9-103">Korzystanie z semantyki</span><span class="sxs-lookup"><span data-stu-id="d60d9-103">Work with semantics</span></span>

<span data-ttu-id="d60d9-104">[Drzewa składni](work-with-syntax.md) reprezentują strukturę leksykalną i składnię kodu źródłowego.</span><span class="sxs-lookup"><span data-stu-id="d60d9-104">[Syntax trees](work-with-syntax.md) represent the lexical and syntactic structure of source code.</span></span> <span data-ttu-id="d60d9-105">Chociaż te informacje są wystarczająco wystarczające, aby opisać wszystkie deklaracje i logikę w źródle, nie ma wystarczających informacji do zidentyfikowania elementów, do których się odwołuje.</span><span class="sxs-lookup"><span data-stu-id="d60d9-105">Although this information alone is enough to describe all the declarations and logic in the source, it is not enough information to identify what is being referenced.</span></span> <span data-ttu-id="d60d9-106">Nazwa może reprezentować:</span><span class="sxs-lookup"><span data-stu-id="d60d9-106">A name may represent:</span></span>

- <span data-ttu-id="d60d9-107">Typ</span><span class="sxs-lookup"><span data-stu-id="d60d9-107">a type</span></span>
- <span data-ttu-id="d60d9-108">pole</span><span class="sxs-lookup"><span data-stu-id="d60d9-108">a field</span></span>
- <span data-ttu-id="d60d9-109">Metoda</span><span class="sxs-lookup"><span data-stu-id="d60d9-109">a method</span></span>
- <span data-ttu-id="d60d9-110">Zmienna lokalna</span><span class="sxs-lookup"><span data-stu-id="d60d9-110">a local variable</span></span>

<span data-ttu-id="d60d9-111">Chociaż każda z nich jest unikatowa, określenie, który z nich rzeczywiście odwołuje się często, wymaga dokładnego poznania reguł języka.</span><span class="sxs-lookup"><span data-stu-id="d60d9-111">Although each of these is uniquely different, determining which one an identifier actually refers to often requires a deep understanding of the language rules.</span></span> 

<span data-ttu-id="d60d9-112">Istnieją elementy programu reprezentowane w kodzie źródłowym, a programy mogą odwoływać się również do wcześniej skompilowanych bibliotek, spakowanych w plikach zestawu.</span><span class="sxs-lookup"><span data-stu-id="d60d9-112">There are program elements represented in source code, and programs can also refer to previously compiled libraries, packaged in assembly files.</span></span> <span data-ttu-id="d60d9-113">Chociaż nie ma kodu źródłowego i w związku z tym nie są dostępne żadne węzły ani drzewa składni, programy nadal mogą odwoływać się do elementów wewnątrz nich.</span><span class="sxs-lookup"><span data-stu-id="d60d9-113">Although no source code, and therefore no syntax nodes or trees, are available for assemblies, programs can still refer to elements inside them.</span></span>

<span data-ttu-id="d60d9-114">Dla tych zadań wymagany jest **model semantyczny**.</span><span class="sxs-lookup"><span data-stu-id="d60d9-114">For those tasks, you need the **Semantic model**.</span></span>

<span data-ttu-id="d60d9-115">Oprócz modelu składni kodu źródłowego, model semantyczny hermetyzuje reguły języka, dzięki czemu można łatwo dopasować identyfikatory do poprawnego elementu programu, którego dotyczy odwołanie.</span><span class="sxs-lookup"><span data-stu-id="d60d9-115">In addition to a syntactic model of the source code, a semantic model encapsulates the language rules, giving you an easy way to correctly match identifiers with the correct program element being referenced.</span></span>

## <a name="compilation"></a><span data-ttu-id="d60d9-116">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="d60d9-116">Compilation</span></span>

<span data-ttu-id="d60d9-117">Kompilacja to reprezentacja wszystkiego potrzebnego do skompilowania programu C# lub Visual Basic, który obejmuje wszystkie odwołania do zestawu, opcje kompilatora i pliki źródłowe.</span><span class="sxs-lookup"><span data-stu-id="d60d9-117">A compilation is a representation of everything needed to compile a C# or Visual Basic program, which includes all the assembly references, compiler options, and source files.</span></span> 

<span data-ttu-id="d60d9-118">Ze względu na to, że wszystkie te informacje znajdują się w jednym miejscu, elementy zawarte w kodzie źródłowym można opisać bardziej szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="d60d9-118">Because all this information is in one place, the elements contained in the source code can be described in more detail.</span></span> <span data-ttu-id="d60d9-119">Kompilacja reprezentuje każdy zadeklarowany typ, element członkowski lub zmienną jako symbol.</span><span class="sxs-lookup"><span data-stu-id="d60d9-119">The compilation represents each declared type, member, or variable as a symbol.</span></span> <span data-ttu-id="d60d9-120">Kompilacja zawiera różne metody, które ułatwiają znalezienie i powiązanie symboli, które zostały zadeklarowane w kodzie źródłowym lub zaimportowane jako metadane z zestawu.</span><span class="sxs-lookup"><span data-stu-id="d60d9-120">The compilation contains a variety of methods that help you find and relate the symbols that have either been declared in the source code or imported as metadata from an assembly.</span></span>

<span data-ttu-id="d60d9-121">Kompilacje przypominają drzewa składniowe.</span><span class="sxs-lookup"><span data-stu-id="d60d9-121">Similar to syntax trees, compilations are immutable.</span></span> <span data-ttu-id="d60d9-122">Po utworzeniu kompilacji nie można jej zmienić przez Ciebie lub inną osobę, która może być udostępniana przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="d60d9-122">After you create a compilation, it cannot be changed by you or anyone else you might be sharing it with.</span></span> <span data-ttu-id="d60d9-123">Można jednak utworzyć nową kompilację z istniejącej kompilacji, określając zmianę w taki sam sposób.</span><span class="sxs-lookup"><span data-stu-id="d60d9-123">However, you can create a new compilation from an existing compilation, specifying a change as you do so.</span></span> <span data-ttu-id="d60d9-124">Można na przykład utworzyć kompilację, która jest taka sama w każdym sposobie jak istniejąca kompilacja, z wyjątkiem, że może zawierać dodatkowy plik źródłowy lub odwołanie do zestawu.</span><span class="sxs-lookup"><span data-stu-id="d60d9-124">For example, you might create a compilation that is the same in every way as an existing compilation, except it may include an additional source file or assembly reference.</span></span>

## <a name="symbols"></a><span data-ttu-id="d60d9-125">Symbole</span><span class="sxs-lookup"><span data-stu-id="d60d9-125">Symbols</span></span>

<span data-ttu-id="d60d9-126">Symbol reprezentuje element DISTINCT zadeklarowany przez kod źródłowy lub zaimportowany z zestawu jako metadanych.</span><span class="sxs-lookup"><span data-stu-id="d60d9-126">A symbol represents a distinct element declared by the source code or imported from an assembly as metadata.</span></span> <span data-ttu-id="d60d9-127">Każda przestrzeń nazw, typ, metoda, właściwość, pole, zdarzenie, parametr lub zmienna lokalna jest reprezentowane przez symbol.</span><span class="sxs-lookup"><span data-stu-id="d60d9-127">Every namespace, type, method, property, field, event, parameter, or local variable is represented by a symbol.</span></span> 

<span data-ttu-id="d60d9-128">Różne metody i właściwości <xref:Microsoft.CodeAnalysis.Compilation> typu pomagają znaleźć symbole.</span><span class="sxs-lookup"><span data-stu-id="d60d9-128">A variety of methods and properties on the <xref:Microsoft.CodeAnalysis.Compilation> type help you find symbols.</span></span> <span data-ttu-id="d60d9-129">Na przykład, można znaleźć symbol dla zadeklarowanego typu według nazwy pospolitej metadanych.</span><span class="sxs-lookup"><span data-stu-id="d60d9-129">For example, you can find a symbol for a declared type by its common metadata name.</span></span> <span data-ttu-id="d60d9-130">Możesz również uzyskać dostęp do całej tabeli symboli jako drzewa symboli, które zostały odblokowane przez globalną przestrzeń nazw.</span><span class="sxs-lookup"><span data-stu-id="d60d9-130">You can also access the entire symbol table as a tree of symbols rooted by the global namespace.</span></span>

<span data-ttu-id="d60d9-131">Symbole zawierają również dodatkowe informacje, które kompilator określa ze źródła lub metadanych, takich jak inne symbole, do których istnieją odwołania.</span><span class="sxs-lookup"><span data-stu-id="d60d9-131">Symbols also contain additional information that the compiler determines from the source or metadata, such as other referenced symbols.</span></span> <span data-ttu-id="d60d9-132">Każdy rodzaj symbolu jest reprezentowany przez oddzielny interfejs pochodny <xref:Microsoft.CodeAnalysis.ISymbol>od, każdy z własnymi metodami i właściwościami zawierającymi szczegóły informacji zebranych przez kompilator.</span><span class="sxs-lookup"><span data-stu-id="d60d9-132">Each kind of symbol is represented by a separate interface derived from <xref:Microsoft.CodeAnalysis.ISymbol>, each with its own methods and properties detailing the information the compiler has gathered.</span></span> <span data-ttu-id="d60d9-133">Wiele z tych właściwości bezpośrednio odwołuje się do innych symboli.</span><span class="sxs-lookup"><span data-stu-id="d60d9-133">Many of these properties directly reference other symbols.</span></span> <span data-ttu-id="d60d9-134">Na przykład <xref:Microsoft.CodeAnalysis.IMethodSymbol.ReturnType?displayProperty=nameWithType> Właściwość informuje symbol rzeczywistego typu, który odwołuje się do deklaracji metody.</span><span class="sxs-lookup"><span data-stu-id="d60d9-134">For example, the <xref:Microsoft.CodeAnalysis.IMethodSymbol.ReturnType?displayProperty=nameWithType> property tells you the actual type symbol that the method declaration references.</span></span>

<span data-ttu-id="d60d9-135">Symbole przedstawiają wspólną reprezentację przestrzeni nazw, typów i elementów członkowskich, między kodem źródłowym a metadanymi.</span><span class="sxs-lookup"><span data-stu-id="d60d9-135">Symbols present a common representation of namespaces, types, and members, between source code and metadata.</span></span> <span data-ttu-id="d60d9-136">Na przykład Metoda zadeklarowana w kodzie źródłowym i metoda, która została zaimportowana z metadanych, są reprezentowane przez obiekt <xref:Microsoft.CodeAnalysis.IMethodSymbol> z tymi samymi właściwościami.</span><span class="sxs-lookup"><span data-stu-id="d60d9-136">For example, a method that was declared in source code and a method that was imported from metadata are both represented by an <xref:Microsoft.CodeAnalysis.IMethodSymbol> with the same properties.</span></span>

<span data-ttu-id="d60d9-137">Symbole są podobne do koncepcji systemu typów CLR w postaci reprezentowanej przez <xref:System.Reflection> interfejs API, ale są bogatsze w modelu, który modeluje więcej niż tylko typy.</span><span class="sxs-lookup"><span data-stu-id="d60d9-137">Symbols are similar in concept to the CLR type system as represented by the <xref:System.Reflection> API, yet they are richer in that they model more than just types.</span></span> <span data-ttu-id="d60d9-138">Przestrzenie nazw, zmienne lokalne i etykiety to wszystkie symbole.</span><span class="sxs-lookup"><span data-stu-id="d60d9-138">Namespaces, local variables, and labels are all symbols.</span></span> <span data-ttu-id="d60d9-139">Ponadto symbole są reprezentacją pojęć języka, a nie pojęć środowiska CLR.</span><span class="sxs-lookup"><span data-stu-id="d60d9-139">In addition, symbols are a representation of language concepts, not CLR concepts.</span></span> <span data-ttu-id="d60d9-140">Istnieje wiele nakładających się różnic, ale istnieją także liczne znaczące różnice.</span><span class="sxs-lookup"><span data-stu-id="d60d9-140">There is a lot of overlap, but there are many meaningful distinctions as well.</span></span> <span data-ttu-id="d60d9-141">Na przykład Metoda iteratora w C# lub Visual Basic jest pojedynczym symbolem.</span><span class="sxs-lookup"><span data-stu-id="d60d9-141">For instance, an iterator method in C# or Visual Basic is a single symbol.</span></span> <span data-ttu-id="d60d9-142">Jednak gdy metoda iteratora jest tłumaczona na metadane CLR, jest to typ i wiele metod.</span><span class="sxs-lookup"><span data-stu-id="d60d9-142">However, when the iterator method is translated to CLR metadata, it is a type and multiple methods.</span></span>

## <a name="semantic-model"></a><span data-ttu-id="d60d9-143">Model semantyczny</span><span class="sxs-lookup"><span data-stu-id="d60d9-143">Semantic model</span></span>

<span data-ttu-id="d60d9-144">Model semantyczny reprezentuje wszystkie informacje semantyczne dla pojedynczego pliku źródłowego.</span><span class="sxs-lookup"><span data-stu-id="d60d9-144">A semantic model represents all the semantic information for a single source file.</span></span> <span data-ttu-id="d60d9-145">Można go użyć do odnalezienia następujących danych:</span><span class="sxs-lookup"><span data-stu-id="d60d9-145">You can use it to discover the following:</span></span> 

- <span data-ttu-id="d60d9-146">Symbole przywoływane w określonej lokalizacji w źródle.</span><span class="sxs-lookup"><span data-stu-id="d60d9-146">The symbols referenced at a specific location in source.</span></span>
- <span data-ttu-id="d60d9-147">Wynikowy typ dowolnego wyrażenia.</span><span class="sxs-lookup"><span data-stu-id="d60d9-147">The resultant type of any expression.</span></span>
- <span data-ttu-id="d60d9-148">Wszystkie diagnostyki, które są błędami i ostrzeżeniami.</span><span class="sxs-lookup"><span data-stu-id="d60d9-148">All diagnostics, which are errors and warnings.</span></span>
- <span data-ttu-id="d60d9-149">Sposób przepływu zmiennych w i poza regiony źródła.</span><span class="sxs-lookup"><span data-stu-id="d60d9-149">How variables flow in and out of regions of source.</span></span>
- <span data-ttu-id="d60d9-150">Odpowiedzi na bardziej spekulacyjne pytania.</span><span class="sxs-lookup"><span data-stu-id="d60d9-150">The answers to more speculative questions.</span></span>
