---
title: Praca z modelem semantycznym platformy SDK kompilatora .NET
description: Ten przegląd zawiera zrozumienie typu używanego do zrozumienia i manipulowania modelem semantycznym kodu.
ms.date: 10/15/2017
ms.custom: mvc
ms.openlocfilehash: 8575988cd98a4c0ba3f24107788f065f7472f55d
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/14/2020
ms.locfileid: "79156938"
---
# <a name="work-with-semantics"></a><span data-ttu-id="9447a-103">Korzystanie z semantyki</span><span class="sxs-lookup"><span data-stu-id="9447a-103">Work with semantics</span></span>

<span data-ttu-id="9447a-104">[Drzewa składni](work-with-syntax.md) reprezentują leksykalne i składniowe struktury kodu źródłowego.</span><span class="sxs-lookup"><span data-stu-id="9447a-104">[Syntax trees](work-with-syntax.md) represent the lexical and syntactic structure of source code.</span></span> <span data-ttu-id="9447a-105">Mimo że tylko te informacje są wystarczające do opisania wszystkich deklaracji i logiki w źródle, nie jest wystarczająco dużo informacji, aby zidentyfikować, co jest przywoływany.</span><span class="sxs-lookup"><span data-stu-id="9447a-105">Although this information alone is enough to describe all the declarations and logic in the source, it is not enough information to identify what is being referenced.</span></span> <span data-ttu-id="9447a-106">Nazwa może reprezentować:</span><span class="sxs-lookup"><span data-stu-id="9447a-106">A name may represent:</span></span>

- <span data-ttu-id="9447a-107">typ</span><span class="sxs-lookup"><span data-stu-id="9447a-107">a type</span></span>
- <span data-ttu-id="9447a-108">pole</span><span class="sxs-lookup"><span data-stu-id="9447a-108">a field</span></span>
- <span data-ttu-id="9447a-109">metoda </span><span class="sxs-lookup"><span data-stu-id="9447a-109">a method</span></span>
- <span data-ttu-id="9447a-110">zmienna lokalna</span><span class="sxs-lookup"><span data-stu-id="9447a-110">a local variable</span></span>

<span data-ttu-id="9447a-111">Chociaż każdy z nich jest unikatowo różny, określenie, do którego identyfikatora faktycznie się odnosi, często wymaga głębokiego zrozumienia reguł językowych.</span><span class="sxs-lookup"><span data-stu-id="9447a-111">Although each of these is uniquely different, determining which one an identifier actually refers to often requires a deep understanding of the language rules.</span></span>

<span data-ttu-id="9447a-112">Istnieją elementy programu reprezentowane w kodzie źródłowym, a programy mogą również odwoływać się do wcześniej skompilowanych bibliotek, spakowanych w plikach zestawu.</span><span class="sxs-lookup"><span data-stu-id="9447a-112">There are program elements represented in source code, and programs can also refer to previously compiled libraries, packaged in assembly files.</span></span> <span data-ttu-id="9447a-113">Mimo że żaden kod źródłowy, a zatem nie ma węzłów składni lub drzew, są dostępne dla zestawów, programy nadal można odwoływać się do elementów wewnątrz nich.</span><span class="sxs-lookup"><span data-stu-id="9447a-113">Although no source code, and therefore no syntax nodes or trees, are available for assemblies, programs can still refer to elements inside them.</span></span>

<span data-ttu-id="9447a-114">Do tych zadań potrzebny jest **model semantyczny.**</span><span class="sxs-lookup"><span data-stu-id="9447a-114">For those tasks, you need the **Semantic model**.</span></span>

<span data-ttu-id="9447a-115">Oprócz modelu składniowego kodu źródłowego model semantyczny hermetyzuje reguły języka, co zapewnia łatwy sposób prawidłowego dopasowania identyfikatorów do odpowiedniego elementu programu, do którego odwołuje się odwołanie.</span><span class="sxs-lookup"><span data-stu-id="9447a-115">In addition to a syntactic model of the source code, a semantic model encapsulates the language rules, giving you an easy way to correctly match identifiers with the correct program element being referenced.</span></span>

## <a name="compilation"></a><span data-ttu-id="9447a-116">Kompilacja</span><span class="sxs-lookup"><span data-stu-id="9447a-116">Compilation</span></span>

<span data-ttu-id="9447a-117">Kompilacja jest reprezentacją wszystkiego, co jest potrzebne do skompilowania programu C# lub Visual Basic, który zawiera wszystkie odwołania do zestawu, opcje kompilatora i pliki źródłowe.</span><span class="sxs-lookup"><span data-stu-id="9447a-117">A compilation is a representation of everything needed to compile a C# or Visual Basic program, which includes all the assembly references, compiler options, and source files.</span></span>

<span data-ttu-id="9447a-118">Ponieważ wszystkie te informacje znajdują się w jednym miejscu, elementy zawarte w kodzie źródłowym można opisać bardziej szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="9447a-118">Because all this information is in one place, the elements contained in the source code can be described in more detail.</span></span> <span data-ttu-id="9447a-119">Kompilacja reprezentuje każdy zadeklarowany typ, element członkowski lub zmienną jako symbol.</span><span class="sxs-lookup"><span data-stu-id="9447a-119">The compilation represents each declared type, member, or variable as a symbol.</span></span> <span data-ttu-id="9447a-120">Kompilacja zawiera wiele metod, które pomagają znaleźć i powiązać symbole, które zostały zadeklarowane w kodzie źródłowym lub importowane jako metadane z zestawu.</span><span class="sxs-lookup"><span data-stu-id="9447a-120">The compilation contains a variety of methods that help you find and relate the symbols that have either been declared in the source code or imported as metadata from an assembly.</span></span>

<span data-ttu-id="9447a-121">Podobnie jak drzewa składni, kompilacje są niezmienne.</span><span class="sxs-lookup"><span data-stu-id="9447a-121">Similar to syntax trees, compilations are immutable.</span></span> <span data-ttu-id="9447a-122">Po utworzeniu kompilacji nie można jej zmienić ani przez Ciebie, ani przez kogokolwiek innego, komu możesz ją udostępnić.</span><span class="sxs-lookup"><span data-stu-id="9447a-122">After you create a compilation, it cannot be changed by you or anyone else you might be sharing it with.</span></span> <span data-ttu-id="9447a-123">Można jednak utworzyć nową kompilację z istniejącej kompilacji, określając zmianę w ten sposób.</span><span class="sxs-lookup"><span data-stu-id="9447a-123">However, you can create a new compilation from an existing compilation, specifying a change as you do so.</span></span> <span data-ttu-id="9447a-124">Na przykład można utworzyć kompilację, która jest taka sama pod każdym względem jak istniejąca kompilacja, z wyjątkiem może zawierać dodatkowy plik źródłowy lub odwołanie do zestawu.</span><span class="sxs-lookup"><span data-stu-id="9447a-124">For example, you might create a compilation that is the same in every way as an existing compilation, except it may include an additional source file or assembly reference.</span></span>

## <a name="symbols"></a><span data-ttu-id="9447a-125">Symbole</span><span class="sxs-lookup"><span data-stu-id="9447a-125">Symbols</span></span>

<span data-ttu-id="9447a-126">Symbol reprezentuje odrębny element zadeklarowany przez kod źródłowy lub importowany z zestawu jako metadane.</span><span class="sxs-lookup"><span data-stu-id="9447a-126">A symbol represents a distinct element declared by the source code or imported from an assembly as metadata.</span></span> <span data-ttu-id="9447a-127">Każdy obszar nazw, typ, metoda, właściwość, pole, zdarzenie, parametr lub zmienna lokalna jest reprezentowana przez symbol.</span><span class="sxs-lookup"><span data-stu-id="9447a-127">Every namespace, type, method, property, field, event, parameter, or local variable is represented by a symbol.</span></span>

<span data-ttu-id="9447a-128">Różne metody i właściwości typu <xref:Microsoft.CodeAnalysis.Compilation> ułatwiają znajdowanie symboli.</span><span class="sxs-lookup"><span data-stu-id="9447a-128">A variety of methods and properties on the <xref:Microsoft.CodeAnalysis.Compilation> type help you find symbols.</span></span> <span data-ttu-id="9447a-129">Na przykład można znaleźć symbol zadeklarowanego typu według jego wspólnej nazwy metadanych.</span><span class="sxs-lookup"><span data-stu-id="9447a-129">For example, you can find a symbol for a declared type by its common metadata name.</span></span> <span data-ttu-id="9447a-130">Można również uzyskać dostęp do całej tabeli symboli jako drzewa symboli zakorzenionych w globalnej przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="9447a-130">You can also access the entire symbol table as a tree of symbols rooted by the global namespace.</span></span>

<span data-ttu-id="9447a-131">Symbole zawierają również dodatkowe informacje, które kompilator określa ze źródła lub metadanych, takich jak inne symbole, do których istnieją odwołania.</span><span class="sxs-lookup"><span data-stu-id="9447a-131">Symbols also contain additional information that the compiler determines from the source or metadata, such as other referenced symbols.</span></span> <span data-ttu-id="9447a-132">Każdy rodzaj symbolu jest reprezentowany przez oddzielny <xref:Microsoft.CodeAnalysis.ISymbol>interfejs pochodzący z , każdy z własnymi metodami i właściwościami szczegółowo informacji zebranych przez kompilator.</span><span class="sxs-lookup"><span data-stu-id="9447a-132">Each kind of symbol is represented by a separate interface derived from <xref:Microsoft.CodeAnalysis.ISymbol>, each with its own methods and properties detailing the information the compiler has gathered.</span></span> <span data-ttu-id="9447a-133">Wiele z tych właściwości bezpośrednio odwoływać się do innych symboli.</span><span class="sxs-lookup"><span data-stu-id="9447a-133">Many of these properties directly reference other symbols.</span></span> <span data-ttu-id="9447a-134">Na przykład <xref:Microsoft.CodeAnalysis.IMethodSymbol.ReturnType?displayProperty=nameWithType> właściwość informuje o symbolu rzeczywistego typu, do którego odwołuje się deklaracja metody.</span><span class="sxs-lookup"><span data-stu-id="9447a-134">For example, the <xref:Microsoft.CodeAnalysis.IMethodSymbol.ReturnType?displayProperty=nameWithType> property tells you the actual type symbol that the method declaration references.</span></span>

<span data-ttu-id="9447a-135">Symbole przedstawiają wspólną reprezentację przestrzeni nazw, typów i elementów członkowskich między kodem źródłowym a metadanymi.</span><span class="sxs-lookup"><span data-stu-id="9447a-135">Symbols present a common representation of namespaces, types, and members, between source code and metadata.</span></span> <span data-ttu-id="9447a-136">Na przykład metoda, która została zadeklarowana w kodzie źródłowym i metoda, <xref:Microsoft.CodeAnalysis.IMethodSymbol> która została zaimportowana z metadanych są reprezentowane przez o tych samych właściwościach.</span><span class="sxs-lookup"><span data-stu-id="9447a-136">For example, a method that was declared in source code and a method that was imported from metadata are both represented by an <xref:Microsoft.CodeAnalysis.IMethodSymbol> with the same properties.</span></span>

<span data-ttu-id="9447a-137">Symbole są podobne w koncepcji do systemu typu <xref:System.Reflection> CLR reprezentowane przez interfejs API, ale są bogatsze w tym, że modelują więcej niż tylko typy.</span><span class="sxs-lookup"><span data-stu-id="9447a-137">Symbols are similar in concept to the CLR type system as represented by the <xref:System.Reflection> API, yet they are richer in that they model more than just types.</span></span> <span data-ttu-id="9447a-138">Przestrzenie nazw, zmienne lokalne i etykiety są symbolami.</span><span class="sxs-lookup"><span data-stu-id="9447a-138">Namespaces, local variables, and labels are all symbols.</span></span> <span data-ttu-id="9447a-139">Ponadto symbole są reprezentacją pojęć językowych, a nie pojęć CLR.</span><span class="sxs-lookup"><span data-stu-id="9447a-139">In addition, symbols are a representation of language concepts, not CLR concepts.</span></span> <span data-ttu-id="9447a-140">Istnieje wiele nakładania się, ale istnieje wiele znaczących różnic, jak również.</span><span class="sxs-lookup"><span data-stu-id="9447a-140">There is a lot of overlap, but there are many meaningful distinctions as well.</span></span> <span data-ttu-id="9447a-141">Na przykład metoda iteratora w języku C# lub Visual Basic jest pojedynczym symbolem.</span><span class="sxs-lookup"><span data-stu-id="9447a-141">For instance, an iterator method in C# or Visual Basic is a single symbol.</span></span> <span data-ttu-id="9447a-142">Jednak gdy metoda iteratora jest tłumaczona na metadane CLR, jest typem i wieloma metodami.</span><span class="sxs-lookup"><span data-stu-id="9447a-142">However, when the iterator method is translated to CLR metadata, it is a type and multiple methods.</span></span>

## <a name="semantic-model"></a><span data-ttu-id="9447a-143">Model semantyczny</span><span class="sxs-lookup"><span data-stu-id="9447a-143">Semantic model</span></span>

<span data-ttu-id="9447a-144">Model semantyczny reprezentuje wszystkie informacje semantyczne dla pojedynczego pliku źródłowego.</span><span class="sxs-lookup"><span data-stu-id="9447a-144">A semantic model represents all the semantic information for a single source file.</span></span> <span data-ttu-id="9447a-145">Można go użyć, aby odkryć następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="9447a-145">You can use it to discover the following:</span></span>

- <span data-ttu-id="9447a-146">Symbole, do których odwołuje się w określonej lokalizacji w źródle.</span><span class="sxs-lookup"><span data-stu-id="9447a-146">The symbols referenced at a specific location in source.</span></span>
- <span data-ttu-id="9447a-147">Wynikowy typ dowolnego wyrażenia.</span><span class="sxs-lookup"><span data-stu-id="9447a-147">The resultant type of any expression.</span></span>
- <span data-ttu-id="9447a-148">Wszystkie diagnostyki, które są błędy i ostrzeżenia.</span><span class="sxs-lookup"><span data-stu-id="9447a-148">All diagnostics, which are errors and warnings.</span></span>
- <span data-ttu-id="9447a-149">Jak zmienne przepływają do i z regionów źródła.</span><span class="sxs-lookup"><span data-stu-id="9447a-149">How variables flow in and out of regions of source.</span></span>
- <span data-ttu-id="9447a-150">Odpowiedzi na pytania bardziej spekulacyjne.</span><span class="sxs-lookup"><span data-stu-id="9447a-150">The answers to more speculative questions.</span></span>
