---
title: wyrażenie Switch — odwołanie w C#
description: Dowiedz się, jak używać wyrażenia przełącznika C# na potrzeby dopasowywania wzorców i innych danych introspekcji
ms.date: 03/19/2020
ms.openlocfilehash: 2249afc1ff1cc81e9ad423d910ebb95df8c787d4
ms.sourcegitcommit: ef50c99928183a0bba75e07b9f22895cd4c480f8
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/07/2020
ms.locfileid: "87916663"
---
# <a name="switch-expression-c-reference"></a><span data-ttu-id="8d1b2-103">Switch — wyrażenie (odwołanie w C#)</span><span class="sxs-lookup"><span data-stu-id="8d1b2-103">switch expression (C# reference)</span></span>

<span data-ttu-id="8d1b2-104">W tym artykule opisano `switch` wyrażenie wprowadzone w języku C# 8,0.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-104">This article covers the `switch` expression, introduced in C# 8.0.</span></span> <span data-ttu-id="8d1b2-105">Aby uzyskać informacje na temat `switch` instrukcji, zobacz artykuł w [ `switch` instrukcji](../keywords/switch.md) w sekcji [instrukcje](../keywords/index.md) .</span><span class="sxs-lookup"><span data-stu-id="8d1b2-105">For information on the `switch` statement, see the article on the [`switch` statement](../keywords/switch.md) in the [statements](../keywords/index.md) section.</span></span>

## <a name="basic-example"></a><span data-ttu-id="8d1b2-106">Przykład podstawowy</span><span class="sxs-lookup"><span data-stu-id="8d1b2-106">Basic example</span></span>

<span data-ttu-id="8d1b2-107">`switch`Wyrażenie zapewnia `switch` semantykę podobną w kontekście wyrażenia.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-107">The `switch` expression provides for `switch`-like semantics in an expression context.</span></span> <span data-ttu-id="8d1b2-108">Zapewnia zwięzłą składnię, gdy broń przełączania wygenerowała wartość.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-108">It provides a concise syntax when the switch arms produce a value.</span></span> <span data-ttu-id="8d1b2-109">Poniższy przykład pokazuje strukturę wyrażenia przełącznika.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-109">The following example shows the structure of a switch expression.</span></span> <span data-ttu-id="8d1b2-110">Tłumaczy wartości z `enum` reprezentujących kierunków wizualizacji w mapie online na odpowiedni kierunek kardynalny:</span><span class="sxs-lookup"><span data-stu-id="8d1b2-110">It translates values from an `enum` representing visual directions in an online map to the corresponding cardinal direction:</span></span>

:::code language="csharp" source="snippets/shared/SwitchExpressions.cs" id="SnippetBasicStructure":::

<span data-ttu-id="8d1b2-111">Powyższy przykład pokazuje podstawowe elementy wyrażenia przełącznika:</span><span class="sxs-lookup"><span data-stu-id="8d1b2-111">The preceding sample shows the basic elements of a switch expression:</span></span>

- <span data-ttu-id="8d1b2-112">*Wyrażenie zakresu*: w poprzednim przykładzie użyta jest zmienna `direction` jako wyrażenie zakresu.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-112">The *range expression*: The preceding example uses the variable `direction` as the range expression.</span></span>
- <span data-ttu-id="8d1b2-113">*Broń wyrażenia przełącznika*: każde wyrażenie Switch ARM zawiera *wzorzec*, opcjonalną ochronę przed *przypadkami*, `=>` token i *wyrażenie*.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-113">The *switch expression arms*: Each switch expression arm contains a *pattern*, an optional *case guard*, the `=>` token, and an *expression*.</span></span>

<span data-ttu-id="8d1b2-114">Wynik *wyrażenia Switch* jest wartością wyrażenia pierwszego *przełącznika ARM* , którego *wzorzec* dopasowuje *wyrażenie zakresu* i którego funkcja *Case Guard*(jeśli jest obecna) zwraca wartość `true` .</span><span class="sxs-lookup"><span data-stu-id="8d1b2-114">The result of the *switch expression* is the value of the expression of the first *switch expression arm* whose *pattern* matches the *range expression* and whose *case guard*, if present, evaluates to `true`.</span></span> <span data-ttu-id="8d1b2-115">*Wyrażenie* po prawej stronie `=>` tokenu nie może być instrukcją wyrażenia.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-115">The *expression* on the right of the `=>` token can't be an expression statement.</span></span>

<span data-ttu-id="8d1b2-116">*Poręcze wyrażeń przełącznika* są oceniane w kolejności tekstu.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-116">The *switch expression arms* are evaluated in text order.</span></span> <span data-ttu-id="8d1b2-117">Kompilator generuje błąd, gdy nie można wybrać dolnego *wyrażenia Switch ARM* , ponieważ wyższe *wyrażenie Switch ARM* dopasowuje wszystkie jego wartości.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-117">The compiler issues an error when a lower *switch expression arm* can't be chosen because a higher *switch expression arm* matches all its values.</span></span>

## <a name="patterns-and-case-guards"></a><span data-ttu-id="8d1b2-118">Wzorce i osłony przypadków</span><span class="sxs-lookup"><span data-stu-id="8d1b2-118">Patterns and case guards</span></span>

<span data-ttu-id="8d1b2-119">Wiele wzorców jest obsługiwanych w przypadku zamiany wyrazów wyrażeń.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-119">Many patterns are supported in switch expression arms.</span></span> <span data-ttu-id="8d1b2-120">Poprzedni przykład używa *stałego wzorca*.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-120">The preceding example uses a *constant pattern*.</span></span> <span data-ttu-id="8d1b2-121">*Wzorzec stały* porównuje wyrażenie zakresu z wartością.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-121">A *constant pattern* compares the range expression to a value.</span></span> <span data-ttu-id="8d1b2-122">Ta wartość musi być stałą czasu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-122">That value must be a compile-time constant.</span></span> <span data-ttu-id="8d1b2-123">*Wzorzec typu* porównuje wyrażenie zakresu z znanym typem.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-123">The *type pattern* compares the range expression to a known type.</span></span> <span data-ttu-id="8d1b2-124">Poniższy przykład pobiera trzeci element z sekwencji.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-124">The following example retrieves the third element from a sequence.</span></span> <span data-ttu-id="8d1b2-125">Używa różnych metod opartych na typie sekwencji:</span><span class="sxs-lookup"><span data-stu-id="8d1b2-125">It uses different methods based on the type of the sequence:</span></span>

:::code language="csharp" source="snippets/shared/SwitchExpressions.cs" id="SnippetTypePattern":::

<span data-ttu-id="8d1b2-126">Wzorce mogą być cykliczne, gdzie wzorzec testuje typ, a jeśli ten typ pasuje, wzorzec dopasowuje co najmniej jedną wartość właściwości w wyrażeniu zakresu.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-126">Patterns can be recursive, where a pattern tests a type, and if that type matches, the pattern matches one or more property values on the range expression.</span></span> <span data-ttu-id="8d1b2-127">Możesz użyć wzorców cyklicznych, aby zwiększyć poprzedni przykład.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-127">You can use recursive patterns to extend the preceding example.</span></span> <span data-ttu-id="8d1b2-128">Należy dodać broń wyrażenia przełącznika dla tablic, które mają mniej niż 3 elementy.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-128">You add switch expression arms for arrays that have fewer than 3 elements.</span></span> <span data-ttu-id="8d1b2-129">Wzorce cykliczne są wyświetlane w następującym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="8d1b2-129">Recursive patterns are shown in the following example:</span></span>

:::code language="csharp" source="snippets/shared/SwitchExpressions.cs" id="SnippetRecursivePattern":::

<span data-ttu-id="8d1b2-130">Wzorce cykliczne mogą przebadać właściwości wyrażenia zakresu, ale nie mogą wykonać dowolnego kodu.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-130">Recursive patterns can examine properties of the range expression, but can't execute arbitrary code.</span></span> <span data-ttu-id="8d1b2-131">*case guard* `when` Aby zapewnić podobne sprawdzenia dla innych typów sekwencji, można użyć funkcji Case, określonej w klauzuli.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-131">You can use a *case guard*, specified in a `when` clause, to provide similar checks for other sequence types:</span></span>

:::code language="csharp" source="snippets/shared/SwitchExpressions.cs" id="SnippetGuardCase":::

<span data-ttu-id="8d1b2-132">Na koniec można dodać `_` wzorzec i `null` wzorzec do przechwytywania argumentów, które nie są przetwarzane przez żadną inną pozycję wyrażenia Switch ARM.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-132">Finally, you can add the `_` pattern and the `null` pattern to catch arguments that aren't processed by any other switch expression arm.</span></span> <span data-ttu-id="8d1b2-133">Powoduje to, że wyrażenie Switch jest *wyczerpujące*, co oznacza, że jest obsługiwana jakakolwiek możliwa wartość wyrażenia zakresu.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-133">That makes the switch expression *exhaustive*, meaning any possible value of the range expression is handled.</span></span> <span data-ttu-id="8d1b2-134">Poniższy przykład dodaje te broń dla wyrażeń:</span><span class="sxs-lookup"><span data-stu-id="8d1b2-134">The following example adds those expression arms:</span></span>

:::code language="csharp" source="snippets/shared/SwitchExpressions.cs" id="SnippetExhaustive":::

<span data-ttu-id="8d1b2-135">Poprzedni przykład dodaje `null` wzorzec i zmienia `IEnumerable<T>` wzorzec typu do `_` wzorca.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-135">The preceding example adds a `null` pattern, and changes the `IEnumerable<T>` type pattern to a `_` pattern.</span></span> <span data-ttu-id="8d1b2-136">`null`Wzorzec zawiera sprawdzanie wartości null jako rolę Switch ARM.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-136">The `null` pattern provides a null check as a switch expression arm.</span></span> <span data-ttu-id="8d1b2-137">Wyrażenie dla tego ARM zgłasza <xref:System.ArgumentNullException> .</span><span class="sxs-lookup"><span data-stu-id="8d1b2-137">The expression for that arm throws an <xref:System.ArgumentNullException>.</span></span> <span data-ttu-id="8d1b2-138">`_`Wzorzec dopasowuje wszystkie dane wejściowe, które nie zostały dopasowane przez poprzednie poręcze.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-138">The `_` pattern matches all inputs that haven't been matched by previous arms.</span></span> <span data-ttu-id="8d1b2-139">Musi występować po `null` sprawdzeniu lub będzie pasować do `null` danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="8d1b2-139">It must come after the `null` check, or it would match `null` inputs.</span></span>

<span data-ttu-id="8d1b2-140">Więcej informacji można znaleźć w temacie Specyfikacja języka C# dla [wzorców cyklicznych](~/_csharplang/proposals/csharp-8.0/patterns.md#switch-expression).</span><span class="sxs-lookup"><span data-stu-id="8d1b2-140">You can read more in the C# language spec proposal for [recursive patterns](~/_csharplang/proposals/csharp-8.0/patterns.md#switch-expression).</span></span>

## <a name="see-also"></a><span data-ttu-id="8d1b2-141">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="8d1b2-141">See also</span></span>

- [<span data-ttu-id="8d1b2-142">Dokumentacja języka C#</span><span class="sxs-lookup"><span data-stu-id="8d1b2-142">C# reference</span></span>](../index.md)
- [<span data-ttu-id="8d1b2-143">Operatory i wyrażenia języka C#</span><span class="sxs-lookup"><span data-stu-id="8d1b2-143">C# operators and expressions</span></span>](index.md)
- [<span data-ttu-id="8d1b2-144">Dopasowanie do wzorca</span><span class="sxs-lookup"><span data-stu-id="8d1b2-144">Pattern matching</span></span>](../../pattern-matching.md)
