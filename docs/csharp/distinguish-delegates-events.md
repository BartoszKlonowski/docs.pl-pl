---
title: Wyróżniające się obiekty delegowane i zdarzenia
description: Dowiedz się, jak różnica między delegatami a zdarzeniami i kiedy korzystać z każdej z tych funkcji .NET Core.
ms.date: 06/20/2016
ms.technology: csharp-fundamentals
ms.assetid: 0fdc8629-2fdb-4a7c-a433-5b9d04eaf911
ms.openlocfilehash: 4179330fe5e88da5d5034a150a057f63e31b178b
ms.sourcegitcommit: 961ec21c22d2f1d55c9cc8a7edf2ade1d1fd92e3
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/02/2020
ms.locfileid: "80588257"
---
# <a name="distinguishing-delegates-and-events"></a><span data-ttu-id="f9be2-103">Wyróżniające się obiekty delegowane i zdarzenia</span><span class="sxs-lookup"><span data-stu-id="f9be2-103">Distinguishing Delegates and Events</span></span>

[<span data-ttu-id="f9be2-104">Wstecz</span><span class="sxs-lookup"><span data-stu-id="f9be2-104">Previous</span></span>](modern-events.md)

<span data-ttu-id="f9be2-105">Deweloperzy, którzy są nowicjuszami w platformie .NET `delegates` Core, często `events`mają trudności z podejmowaniem decyzji między projektem opartym na projekcie a projektem opartym na .</span><span class="sxs-lookup"><span data-stu-id="f9be2-105">Developers that are new to the .NET Core platform often struggle when deciding between a design based on `delegates` and a design based on `events`.</span></span> <span data-ttu-id="f9be2-106">Jest to trudna koncepcja, ponieważ dwie funkcje językowe są bardzo podobne.</span><span class="sxs-lookup"><span data-stu-id="f9be2-106">This is a difficult concept, because the two language features are very similar.</span></span> <span data-ttu-id="f9be2-107">Zdarzenia są nawet tworzone przy użyciu obsługi języka dla delegatów.</span><span class="sxs-lookup"><span data-stu-id="f9be2-107">Events are even built using the language support for delegates.</span></span>

<span data-ttu-id="f9be2-108">Obie oferują scenariusz późnego wiązania: umożliwiają one scenariusze, w których składnik komunikuje się, wywołując metodę, która jest znana tylko w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="f9be2-108">They both offer a late binding scenario: they enable scenarios where a component communicates by calling a method that is only known at runtime.</span></span> <span data-ttu-id="f9be2-109">Obsługują one zarówno pojedyncze, jak i wiele metod subskrybenta.</span><span class="sxs-lookup"><span data-stu-id="f9be2-109">They both support single and multiple subscriber methods.</span></span> <span data-ttu-id="f9be2-110">Może się okazać, że jest to określane jako obsługa pojedynczej emisji i multiemisji.</span><span class="sxs-lookup"><span data-stu-id="f9be2-110">You may find this referred to as singlecast and multicast support.</span></span> <span data-ttu-id="f9be2-111">Obie obsługują podobną składnię do dodawania i usuwania programów obsługi.</span><span class="sxs-lookup"><span data-stu-id="f9be2-111">They both support similar syntax for adding and removing handlers.</span></span> <span data-ttu-id="f9be2-112">Na koniec wywoływanie zdarzenia i wywoływanie delegata używa dokładnie tej samej składni wywołania metody.</span><span class="sxs-lookup"><span data-stu-id="f9be2-112">Finally, raising an event and calling a delegate use exactly the same method call syntax.</span></span> <span data-ttu-id="f9be2-113">Nawet obie obsługują `Invoke()` tę samą składnię `?.` metody do użytku z operatorem.</span><span class="sxs-lookup"><span data-stu-id="f9be2-113">They even both support the same `Invoke()` method syntax for use with the `?.` operator.</span></span>

<span data-ttu-id="f9be2-114">Z tych wszystkich podobieństw, łatwo jest mieć problemy z określeniem, kiedy używać, które.</span><span class="sxs-lookup"><span data-stu-id="f9be2-114">With all those similarities, it is easy to have trouble determining when to use which.</span></span>

## <a name="listening-to-events-is-optional"></a><span data-ttu-id="f9be2-115">Słuchanie zdarzeń jest opcjonalne</span><span class="sxs-lookup"><span data-stu-id="f9be2-115">Listening to Events is Optional</span></span>

<span data-ttu-id="f9be2-116">Najważniejszą kwestią przy określaniu funkcji języka do użycia jest to, czy musi istnieć dołączony subskrybent.</span><span class="sxs-lookup"><span data-stu-id="f9be2-116">The most important consideration in determining which language feature to use is whether or not there must be an attached subscriber.</span></span> <span data-ttu-id="f9be2-117">Jeśli kod musi wywołać kod dostarczony przez subskrybenta, należy użyć projektu opartego na delegatów.</span><span class="sxs-lookup"><span data-stu-id="f9be2-117">If your code must call the code supplied by the subscriber, you should use a design based on delegates.</span></span> <span data-ttu-id="f9be2-118">Jeśli kod można wykonać całą swoją pracę bez wywoływania żadnych subskrybentów, należy użyć projektu opartego na zdarzeniach.</span><span class="sxs-lookup"><span data-stu-id="f9be2-118">If your code can complete all its work without calling any subscribers, you should use a design based on events.</span></span>

<span data-ttu-id="f9be2-119">Należy wziąć pod uwagę przykłady zbudowane podczas tej sekcji.</span><span class="sxs-lookup"><span data-stu-id="f9be2-119">Consider the examples built during this section.</span></span> <span data-ttu-id="f9be2-120">Kod, który `List.Sort()` został utworzony przy użyciu musi mieć funkcję porównywarki w celu prawidłowego sortowania elementów.</span><span class="sxs-lookup"><span data-stu-id="f9be2-120">The code you built using `List.Sort()` must be given a comparer function in order to properly sort the elements.</span></span> <span data-ttu-id="f9be2-121">Zapytania LINQ muszą być dostarczane z delegatów w celu określenia, jakie elementy do zwrócenia.</span><span class="sxs-lookup"><span data-stu-id="f9be2-121">LINQ queries must be supplied with delegates in order to determine what elements to return.</span></span> <span data-ttu-id="f9be2-122">Oba jednych i drugich używały projektu zbudowanego z delegatami.</span><span class="sxs-lookup"><span data-stu-id="f9be2-122">Both used a design built with delegates.</span></span>

<span data-ttu-id="f9be2-123">Należy `Progress` wziąć pod uwagę zdarzenie.</span><span class="sxs-lookup"><span data-stu-id="f9be2-123">Consider the `Progress` event.</span></span> <span data-ttu-id="f9be2-124">Raportuje postępy w realizacji zadania.</span><span class="sxs-lookup"><span data-stu-id="f9be2-124">It reports progress on a task.</span></span>
<span data-ttu-id="f9be2-125">Zadanie w dalszym ciągu postępować, czy istnieją żadnych odbiorników.</span><span class="sxs-lookup"><span data-stu-id="f9be2-125">The task continues to proceed whether or not there are any listeners.</span></span>
<span data-ttu-id="f9be2-126">Jest `FileSearcher` to kolejny przykład.</span><span class="sxs-lookup"><span data-stu-id="f9be2-126">The `FileSearcher` is another example.</span></span> <span data-ttu-id="f9be2-127">Nadal przeszukiwałby i wyszukiwał wszystkie pliki, które były poszukiwane, nawet bez dołączanych subskrybentów zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="f9be2-127">It would still search and find all the files that were sought, even with no event subscribers attached.</span></span>
<span data-ttu-id="f9be2-128">Kontrolki środowiska użytkownika nadal działają poprawnie, nawet jeśli nie ma subskrybentów słuchających zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="f9be2-128">UX controls still work correctly, even when there are no subscribers listening to the events.</span></span> <span data-ttu-id="f9be2-129">Obaj używają wzorów opartych na wydarzeniach.</span><span class="sxs-lookup"><span data-stu-id="f9be2-129">They both use designs based on events.</span></span>

## <a name="return-values-require-delegates"></a><span data-ttu-id="f9be2-130">Wartości zwracane wymagają delegatów</span><span class="sxs-lookup"><span data-stu-id="f9be2-130">Return Values Require Delegates</span></span>

<span data-ttu-id="f9be2-131">Inną kwestią jest prototyp metody, który chcesz dla metody delegata.</span><span class="sxs-lookup"><span data-stu-id="f9be2-131">Another consideration is the method prototype you would want for your delegate method.</span></span> <span data-ttu-id="f9be2-132">Jak widać, delegatów używanych dla zdarzeń wszystkie mają typ zwrotu void.</span><span class="sxs-lookup"><span data-stu-id="f9be2-132">As you've seen, the delegates used for events all have a void return type.</span></span> <span data-ttu-id="f9be2-133">Widać również, że istnieją idiomy do tworzenia programów obsługi zdarzeń, które przekazują informacje z powrotem do źródeł zdarzeń poprzez modyfikowanie właściwości obiektu argumentu zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="f9be2-133">You've also seen that there are idioms to create event handlers that do pass information back to event sources through modifying properties of the event argument object.</span></span> <span data-ttu-id="f9be2-134">Podczas gdy te idiomy działają, nie są tak naturalne, jak zwracanie wartości z metody.</span><span class="sxs-lookup"><span data-stu-id="f9be2-134">While these idioms do work, they are not as natural as returning a value from a method.</span></span>

<span data-ttu-id="f9be2-135">Należy zauważyć, że te dwie heurystyki często mogą być zarówno obecny: Jeśli metoda delegat zwraca wartość, prawdopodobnie wpłynie na algorytm w jakiś sposób.</span><span class="sxs-lookup"><span data-stu-id="f9be2-135">Notice that these two heuristics may often both be present: If your delegate method returns a value, it will likely impact the algorithm in some way.</span></span>

## <a name="events-have-private-invocation"></a><span data-ttu-id="f9be2-136">Zdarzenia mają prywatne wywołanie</span><span class="sxs-lookup"><span data-stu-id="f9be2-136">Events Have Private Invocation</span></span>

<span data-ttu-id="f9be2-137">Klasy inne niż ten, w którym zawiera się zdarzenie, można tylko dodawać i usuwać detektory zdarzeń; tylko klasa zawierająca zdarzenie może wywołać zdarzenie.</span><span class="sxs-lookup"><span data-stu-id="f9be2-137">Classes other than the one in which an event is contained can only add and remove event listeners; only the class containing the event can invoke the event.</span></span> <span data-ttu-id="f9be2-138">Zdarzenia są zazwyczaj członkami klasy publicznej.</span><span class="sxs-lookup"><span data-stu-id="f9be2-138">Events are typically public class members.</span></span>
<span data-ttu-id="f9be2-139">Dla porównania delegatów są często przekazywane jako parametry i przechowywane jako członków klasy prywatnej, jeśli są one przechowywane w ogóle.</span><span class="sxs-lookup"><span data-stu-id="f9be2-139">By comparison, delegates are often passed as parameters and stored as private class members, if they are stored at all.</span></span>

## <a name="event-listeners-often-have-longer-lifetimes"></a><span data-ttu-id="f9be2-140">Detektory zdarzeń często mają dłuższe okresy istnienia</span><span class="sxs-lookup"><span data-stu-id="f9be2-140">Event Listeners Often Have Longer Lifetimes</span></span>

<span data-ttu-id="f9be2-141">Jest to nieco słabsze uzasadnienie.</span><span class="sxs-lookup"><span data-stu-id="f9be2-141">This is a slightly weaker justification.</span></span> <span data-ttu-id="f9be2-142">Jednak może się okazać, że projekty oparte na zdarzeniach są bardziej naturalne, gdy źródło zdarzeń będzie wywoływać zdarzenia przez długi okres czasu.</span><span class="sxs-lookup"><span data-stu-id="f9be2-142">However, you may find that event-based designs are more natural when the event source will be raising events over a long period of time.</span></span> <span data-ttu-id="f9be2-143">Można zobaczyć przykłady tego dla formantów ux w wielu systemach.</span><span class="sxs-lookup"><span data-stu-id="f9be2-143">You can see examples of this for UX controls on many systems.</span></span> <span data-ttu-id="f9be2-144">Po zasubskrybowaniu zdarzenia źródło zdarzeń może zgłaszać zdarzenia przez cały okres istnienia programu.</span><span class="sxs-lookup"><span data-stu-id="f9be2-144">Once you subscribe to an event, the event source may raise events throughout the lifetime of the program.</span></span>
<span data-ttu-id="f9be2-145">(Możesz zrezygnować z subskrypcji wydarzeń, gdy nie są już potrzebne).</span><span class="sxs-lookup"><span data-stu-id="f9be2-145">(You can unsubscribe from events when you no longer need them.)</span></span>

<span data-ttu-id="f9be2-146">Kontrast, że z wielu projektów opartych na pełnomocnika, gdzie delegat jest używany jako argument do metody, a delegat nie jest używany po tej metody zwraca.</span><span class="sxs-lookup"><span data-stu-id="f9be2-146">Contrast that with many delegate-based designs, where a delegate is used as an argument to a method, and the delegate is not used after that method returns.</span></span>

## <a name="evaluate-carefully"></a><span data-ttu-id="f9be2-147">Oceń uważnie</span><span class="sxs-lookup"><span data-stu-id="f9be2-147">Evaluate Carefully</span></span>

<span data-ttu-id="f9be2-148">Powyższe rozważania nie są twarde i szybkie zasady.</span><span class="sxs-lookup"><span data-stu-id="f9be2-148">The above considerations are not hard and fast rules.</span></span> <span data-ttu-id="f9be2-149">Zamiast tego stanowią one wskazówki, które pomogą Ci zdecydować, który wybór jest najlepszy dla danego użycia.</span><span class="sxs-lookup"><span data-stu-id="f9be2-149">Instead, they represent guidance that can help you decide which choice is best for your particular usage.</span></span> <span data-ttu-id="f9be2-150">Ponieważ są one podobne, można nawet prototyp zarówno, i rozważyć, które byłyby bardziej naturalne do pracy z.</span><span class="sxs-lookup"><span data-stu-id="f9be2-150">Because they are similar, you can even prototype both, and consider which would be more natural to work with.</span></span> <span data-ttu-id="f9be2-151">Obie dobrze obsługują scenariusze późnego wiązania.</span><span class="sxs-lookup"><span data-stu-id="f9be2-151">They both handle late binding scenarios well.</span></span> <span data-ttu-id="f9be2-152">Użyj tego, który najlepiej komunikuje swój projekt.</span><span class="sxs-lookup"><span data-stu-id="f9be2-152">Use the one that communicates your design the best.</span></span>
