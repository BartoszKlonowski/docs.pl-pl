---
title: Wyróżniające się obiekty delegowane i zdarzenia
description: Zapoznaj się z różnicą między delegatami i zdarzeniami oraz kiedy korzystać z każdej z tych funkcji platformy .NET Core.
ms.date: 06/20/2016
ms.technology: csharp-fundamentals
ms.assetid: 0fdc8629-2fdb-4a7c-a433-5b9d04eaf911
ms.openlocfilehash: ff90af1d2b1a92f06eed58228f8e8ca5ff6b93ca
ms.sourcegitcommit: ad800f019ac976cb669e635fb0ea49db740e6890
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/29/2019
ms.locfileid: "73037320"
---
# <a name="distinguishing-delegates-and-events"></a><span data-ttu-id="c5089-103">Wyróżniające się obiekty delegowane i zdarzenia</span><span class="sxs-lookup"><span data-stu-id="c5089-103">Distinguishing Delegates and Events</span></span>

[<span data-ttu-id="c5089-104">Ubiegł</span><span class="sxs-lookup"><span data-stu-id="c5089-104">Previous</span></span>](modern-events.md)

<span data-ttu-id="c5089-105">Deweloperzy, którzy są nowością dla platformy .NET Core, często podejmują decyzje dotyczące projektowania na podstawie `delegates` i projektu opartego na `events`.</span><span class="sxs-lookup"><span data-stu-id="c5089-105">Developers that are new to the .NET Core platform often struggle when deciding between a design based on `delegates` and a design based on `events`.</span></span> <span data-ttu-id="c5089-106">Jest to trudne koncepcje, ponieważ dwie funkcje języka są bardzo podobne.</span><span class="sxs-lookup"><span data-stu-id="c5089-106">This is a difficult concept, because the two language features are very similar.</span></span> <span data-ttu-id="c5089-107">Zdarzenia są nawet kompilowane przy użyciu obsługi języka dla delegatów.</span><span class="sxs-lookup"><span data-stu-id="c5089-107">Events are even built using the language support for delegates.</span></span> 

<span data-ttu-id="c5089-108">Obie te funkcje oferują scenariusz późnego wiązania: włączają scenariusze, w których składnik komunikuje się, wywołując metodę, która jest znana tylko w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="c5089-108">They both offer a late binding scenario: they enable scenarios where a component communicates by calling a method that is only known at runtime.</span></span> <span data-ttu-id="c5089-109">Obsługują one metody jednego i wielu subskrybentów.</span><span class="sxs-lookup"><span data-stu-id="c5089-109">They both support single and multiple subscriber methods.</span></span> <span data-ttu-id="c5089-110">Może to być nazywane singlecast i obsługą multiemisji.</span><span class="sxs-lookup"><span data-stu-id="c5089-110">You may find this referred to as singlecast and multicast support.</span></span> <span data-ttu-id="c5089-111">Obie te funkcje obsługują podobną składnię do dodawania i usuwania programów obsługi.</span><span class="sxs-lookup"><span data-stu-id="c5089-111">They both support similar syntax for adding and removing handlers.</span></span> <span data-ttu-id="c5089-112">Na koniec, podnoszenie poziomu zdarzenia i wywołanie delegata używa dokładnie tej samej składni wywołania metody.</span><span class="sxs-lookup"><span data-stu-id="c5089-112">Finally, raising an event and calling a delegate use exactly the same method call syntax.</span></span> <span data-ttu-id="c5089-113">Obsługują one również tę samą składnię metody `Invoke()` do użycia z operatorem `?.`.</span><span class="sxs-lookup"><span data-stu-id="c5089-113">They even both support the same `Invoke()` method syntax for use with the `?.` operator.</span></span>

<span data-ttu-id="c5089-114">W przypadku wszystkich tych podobieństw można łatwo mieć problemy z ustaleniem, kiedy należy używać tego programu.</span><span class="sxs-lookup"><span data-stu-id="c5089-114">With all those similarities, it is easy to have trouble determining when to use which.</span></span>

## <a name="listening-to-events-is-optional"></a><span data-ttu-id="c5089-115">Nasłuchiwanie zdarzeń jest opcjonalne</span><span class="sxs-lookup"><span data-stu-id="c5089-115">Listening to Events is Optional</span></span>

<span data-ttu-id="c5089-116">Najważniejszym zagadnieniem przy określaniu, które funkcje języka mają być używane, jest to, czy musi być dołączonym subskrybentem.</span><span class="sxs-lookup"><span data-stu-id="c5089-116">The most important consideration in determining which language feature to use is whether or not there must be an attached subscriber.</span></span> <span data-ttu-id="c5089-117">Jeśli kod musi wywoływać kod dostarczony przez subskrybenta, należy użyć projektu opartego na delegatach.</span><span class="sxs-lookup"><span data-stu-id="c5089-117">If your code must call the code supplied by the subscriber, you should use a design based on delegates.</span></span> <span data-ttu-id="c5089-118">Jeśli kod może zakończyć całą pracę bez wywoływania subskrybentów, należy użyć projektu opartego na zdarzeniach.</span><span class="sxs-lookup"><span data-stu-id="c5089-118">If your code can complete all its work without calling any subscribers, you should use a design based on events.</span></span> 

<span data-ttu-id="c5089-119">Rozważ przykłady skompilowane w tej sekcji.</span><span class="sxs-lookup"><span data-stu-id="c5089-119">Consider the examples built during this section.</span></span> <span data-ttu-id="c5089-120">Kod utworzony przy użyciu `List.Sort()` musi mieć funkcję porównującą, aby poprawnie sortować elementy.</span><span class="sxs-lookup"><span data-stu-id="c5089-120">The code you built using `List.Sort()` must be given a comparer function in order to properly sort the elements.</span></span> <span data-ttu-id="c5089-121">Zapytania LINQ muszą zostać dostarczone z delegatami w celu ustalenia, jakie elementy mają być zwracane.</span><span class="sxs-lookup"><span data-stu-id="c5089-121">LINQ queries must be supplied with delegates in order to determine what elements to return.</span></span> <span data-ttu-id="c5089-122">Oba używane projekty skompilowane z delegatami.</span><span class="sxs-lookup"><span data-stu-id="c5089-122">Both used a design built with delegates.</span></span>

<span data-ttu-id="c5089-123">Rozważ zdarzenie `Progress`.</span><span class="sxs-lookup"><span data-stu-id="c5089-123">Consider the `Progress` event.</span></span> <span data-ttu-id="c5089-124">Raportuje postęp zadania.</span><span class="sxs-lookup"><span data-stu-id="c5089-124">It reports progress on a task.</span></span>
<span data-ttu-id="c5089-125">Zadanie kontynuuje działanie niezależnie od tego, czy istnieją odbiorniki.</span><span class="sxs-lookup"><span data-stu-id="c5089-125">The task continues to proceed whether or not there are any listeners.</span></span>
<span data-ttu-id="c5089-126">`FileSearcher` jest kolejnym przykładem.</span><span class="sxs-lookup"><span data-stu-id="c5089-126">The `FileSearcher` is another example.</span></span> <span data-ttu-id="c5089-127">Nadal będzie można wyszukiwać i znajdować wszystkie pliki, które zostały uzyskane, nawet jeśli nie załączono żadnych subskrybentów zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="c5089-127">It would still search and find all the files that were sought, even with no event subscribers attached.</span></span>
<span data-ttu-id="c5089-128">Formanty środowiska użytkownika nadal działają poprawnie, nawet jeśli nie ma subskrybentów nasłuchujących zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="c5089-128">UX controls still work correctly, even when there are no subscribers listening to the events.</span></span> <span data-ttu-id="c5089-129">Oba używają projektów opartych na zdarzeniach.</span><span class="sxs-lookup"><span data-stu-id="c5089-129">They both use designs based on events.</span></span>

## <a name="return-values-require-delegates"></a><span data-ttu-id="c5089-130">Wartości zwracane wymagają delegatów</span><span class="sxs-lookup"><span data-stu-id="c5089-130">Return Values Require Delegates</span></span>

<span data-ttu-id="c5089-131">Innym zagadnieniem jest prototyp metody dla metody delegata.</span><span class="sxs-lookup"><span data-stu-id="c5089-131">Another consideration is the method prototype you would want for your delegate method.</span></span> <span data-ttu-id="c5089-132">Jak widać, delegatów używanych dla zdarzeń wszystkie mają typ zwracany void.</span><span class="sxs-lookup"><span data-stu-id="c5089-132">As you've seen, the delegates used for events all have a void return type.</span></span> <span data-ttu-id="c5089-133">Zobaczysz również, że istnieją idiomy do tworzenia programów obsługi zdarzeń, które przekazują informacje z powrotem do źródeł zdarzeń przez modyfikowanie właściwości obiektu argumentu zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="c5089-133">You've also seen that there are idioms to create event handlers that do pass information back to event sources through modifying properties of the event argument object.</span></span> <span data-ttu-id="c5089-134">Chociaż te idiomy pracują, nie są tak naturalne jak zwracanie wartości z metody.</span><span class="sxs-lookup"><span data-stu-id="c5089-134">While these idioms do work, they are not as natural as returning a value from a method.</span></span>

<span data-ttu-id="c5089-135">Należy zauważyć, że te dwa heurystyke mogą często być obecne: Jeśli metoda Delegate zwraca wartość, prawdopodobnie będzie to miało wpływ na algorytm.</span><span class="sxs-lookup"><span data-stu-id="c5089-135">Notice that these two heuristics may often both be present: If your delegate method returns a value, it will likely impact the algorithm in some way.</span></span>

## <a name="event-listeners-often-have-longer-lifetimes"></a><span data-ttu-id="c5089-136">Detektory zdarzeń często mają dłuższe okresy istnienia</span><span class="sxs-lookup"><span data-stu-id="c5089-136">Event Listeners Often Have Longer Lifetimes</span></span> 

<span data-ttu-id="c5089-137">Jest to nieco słabsze uzasadnienie.</span><span class="sxs-lookup"><span data-stu-id="c5089-137">This is a slightly weaker justification.</span></span> <span data-ttu-id="c5089-138">Jednak można stwierdzić, że projekty oparte na zdarzeniach są bardziej naturalne, gdy źródło zdarzeń będzie w długim czasie podnieść zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="c5089-138">However, you may find that event-based designs are more natural when the event source will be raising events over a long period of time.</span></span> <span data-ttu-id="c5089-139">Przykłady tego elementu można zobaczyć w przypadku formantów środowiska użytkownika w wielu systemach.</span><span class="sxs-lookup"><span data-stu-id="c5089-139">You can see examples of this for UX controls on many systems.</span></span> <span data-ttu-id="c5089-140">Po zasubskrybowaniu zdarzenia Źródło zdarzenia może zgłosić zdarzenia przez cały okres istnienia programu.</span><span class="sxs-lookup"><span data-stu-id="c5089-140">Once you subscribe to an event, the event source may raise events throughout the lifetime of the program.</span></span>
<span data-ttu-id="c5089-141">(Możesz anulować subskrypcję zdarzeń, gdy nie są już potrzebne.)</span><span class="sxs-lookup"><span data-stu-id="c5089-141">(You can unsubscribe from events when you no longer need them.)</span></span>

<span data-ttu-id="c5089-142">Kontrast, który ma wiele projektów opartych na delegatach, gdzie delegat jest używany jako argument do metody i delegat nie jest używany po powrocie tej metody.</span><span class="sxs-lookup"><span data-stu-id="c5089-142">Contrast that with many delegate-based designs, where a delegate is used as an argument to a method, and the delegate is not used after that method returns.</span></span>

## <a name="evaluate-carefully"></a><span data-ttu-id="c5089-143">Dokładnie Oceń</span><span class="sxs-lookup"><span data-stu-id="c5089-143">Evaluate Carefully</span></span>

<span data-ttu-id="c5089-144">Powyższe uwagi nie są regułami twardymi i szybkimi.</span><span class="sxs-lookup"><span data-stu-id="c5089-144">The above considerations are not hard and fast rules.</span></span> <span data-ttu-id="c5089-145">Zamiast tego przedstawiają wskazówki, które mogą pomóc zdecydować, który wybór jest najlepszy dla danego użycia.</span><span class="sxs-lookup"><span data-stu-id="c5089-145">Instead, they represent guidance that can help you decide which choice is best for your particular usage.</span></span> <span data-ttu-id="c5089-146">Ze względu na to, że są podobne, można nawet prototypować i zastanowić się, że będzie bardziej naturalna współpraca z nimi.</span><span class="sxs-lookup"><span data-stu-id="c5089-146">Because they are similar, you can even prototype both, and consider which would be more natural to work with.</span></span> <span data-ttu-id="c5089-147">Oba obsługują również scenariusze późnego wiązania.</span><span class="sxs-lookup"><span data-stu-id="c5089-147">They both handle late binding scenarios well.</span></span> <span data-ttu-id="c5089-148">Użyj tego, który komunikuje się z projektem najlepiej.</span><span class="sxs-lookup"><span data-stu-id="c5089-148">Use the one that communicates your design the best.</span></span>
