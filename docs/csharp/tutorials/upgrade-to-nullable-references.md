---
title: Projektowanie w przypadku typów referencyjnych dopuszczającego wartość null
description: W tym samouczku zaawansowane zawiera wprowadzenie do typów referencyjnych dopuszczającego wartość null. Dowiesz się, że express projektu chcący po wartości odniesienia może mieć wartości null i pozwolić kompilatorowi wymusić, gdy nie może mieć wartości null.
ms.date: 02/19/2019
ms.custom: mvc
ms.openlocfilehash: fac83d8f61b725a4a2163c9cd42911fe60d12263
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/23/2019
ms.locfileid: "61706133"
---
# <a name="tutorial-migrate-existing-code-with-nullable-reference-types"></a><span data-ttu-id="a6383-104">Samouczek: Migrowanie istniejącego kodu w przypadku typów referencyjnych dopuszczającego wartość null</span><span class="sxs-lookup"><span data-stu-id="a6383-104">Tutorial: Migrate existing code with nullable reference types</span></span>

<span data-ttu-id="a6383-105">C#8 wprowadzono **typy dopuszczające wartości null odwołań**, które odwołania uzupełnieniem typów taki sam sposób, typy o wartości zerowalnej uzupełniają typów wartości.</span><span class="sxs-lookup"><span data-stu-id="a6383-105">C# 8 introduces **nullable reference types**, which complement reference types the same way nullable value types complement value types.</span></span> <span data-ttu-id="a6383-106">Zadeklaruj zmienną **typu dopuszczającego wartość null odwołania** , dodając `?` do typu.</span><span class="sxs-lookup"><span data-stu-id="a6383-106">You declare a variable to be a **nullable reference type** by appending a `?` to the type.</span></span> <span data-ttu-id="a6383-107">Na przykład `string?` reprezentuje dopuszczający wartości null `string`.</span><span class="sxs-lookup"><span data-stu-id="a6383-107">For example, `string?` represents a nullable `string`.</span></span> <span data-ttu-id="a6383-108">Te nowe typy można użyć, aby wyraźniej express zgodną z planem projektu: niektóre zmienne *zawsze musi mieć wartość*, inne *może brakować wartość*.</span><span class="sxs-lookup"><span data-stu-id="a6383-108">You can use these new types to more clearly express your design intent: some variables *must always have a value*, others *may be missing a value*.</span></span> <span data-ttu-id="a6383-109">Żadnych istniejących zmiennych typu odwołania może być interpretowany jako typ odwołania nie dopuszcza wartości null.</span><span class="sxs-lookup"><span data-stu-id="a6383-109">Any existing variables of a reference type would be interpreted as a non-nullable reference type.</span></span> 

<span data-ttu-id="a6383-110">W tym samouczku dowiesz się, jak:</span><span class="sxs-lookup"><span data-stu-id="a6383-110">In this tutorial, you'll learn how to:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="a6383-111">Włącz sprawdzanie odwołania o wartości null, podczas pracy z kodem.</span><span class="sxs-lookup"><span data-stu-id="a6383-111">Enable null reference checks as you work with code.</span></span>
> * <span data-ttu-id="a6383-112">Zdiagnozować i rozwiązać inny ostrzeżenia dotyczące wartości null.</span><span class="sxs-lookup"><span data-stu-id="a6383-112">Diagnose and correct different warnings related to null values.</span></span>
> * <span data-ttu-id="a6383-113">Zarządzaj interfejs między dopuszczającego wartość null kontekstów wyłączone włączone i dopuszcza wartości null.</span><span class="sxs-lookup"><span data-stu-id="a6383-113">Manage the interface between nullable enabled and nullable disabled contexts.</span></span>
> * <span data-ttu-id="a6383-114">Kontrolowanie kontekstów annotation dopuszczający wartość null.</span><span class="sxs-lookup"><span data-stu-id="a6383-114">Control nullable annotation contexts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="a6383-115">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="a6383-115">Prerequisites</span></span>

<span data-ttu-id="a6383-116">Należy skonfigurować komputer do uruchamiania platformę .NET Core, w tym C# kompilatora 8.0 beta.</span><span class="sxs-lookup"><span data-stu-id="a6383-116">You'll need to set up your machine to run .NET Core, including the C# 8.0 beta compiler.</span></span> <span data-ttu-id="a6383-117">C# 8 kompilatora w wersji beta jest dostępna z [Visual Studio 2019](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019), lub r [.NET Core 3.0 w wersji zapoznawczej](https://dotnet.microsoft.com/download/dotnet-core/3.0).</span><span class="sxs-lookup"><span data-stu-id="a6383-117">The C# 8 beta compiler is available with [Visual Studio 2019](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019), or the latest [.NET Core 3.0 preview](https://dotnet.microsoft.com/download/dotnet-core/3.0).</span></span>

<span data-ttu-id="a6383-118">W tym samouczku założono, kiedy znasz już C# i .NET, w tym Visual Studio lub interfejsu wiersza polecenia platformy .NET Core.</span><span class="sxs-lookup"><span data-stu-id="a6383-118">This tutorial assumes you're familiar with C# and .NET, including either Visual Studio or the .NET Core CLI.</span></span>

## <a name="explore-the-sample-application"></a><span data-ttu-id="a6383-119">Zapoznaj się z przykładowej aplikacji</span><span class="sxs-lookup"><span data-stu-id="a6383-119">Explore the sample application</span></span>

<span data-ttu-id="a6383-120">Przykładowa aplikacja będzie migracji jest czytnik źródła danych RSS aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="a6383-120">The sample application that you'll migrate is an RSS feed reader web app.</span></span> <span data-ttu-id="a6383-121">Odczytuje z jednego źródła danych RSS i wyświetla podsumowania dla najnowsze artykuły.</span><span class="sxs-lookup"><span data-stu-id="a6383-121">It reads from a single RSS feed and displays summaries for the most recent articles.</span></span> <span data-ttu-id="a6383-122">Możesz kliknąć dowolny z tych artykułów do witryny.</span><span class="sxs-lookup"><span data-stu-id="a6383-122">You can click on any of the articles to visit the site.</span></span> <span data-ttu-id="a6383-123">Aplikacja jest stosunkowo nowe, ale zostały zapisane przed typy dopuszczające wartości null odwołań były dostępne.</span><span class="sxs-lookup"><span data-stu-id="a6383-123">The application is relatively new but was written before nullable reference types were available.</span></span> <span data-ttu-id="a6383-124">Decyzje dotyczące projektu dla aplikacji reprezentowane dźwięku zasad, ale nie korzystać z zalet tej funkcji języka ważna.</span><span class="sxs-lookup"><span data-stu-id="a6383-124">The design decisions for the application represented sound principles, but don't take advantage of this important language feature.</span></span>

<span data-ttu-id="a6383-125">Przykładowa aplikacja zawiera Biblioteka testów jednostkowych, która weryfikuje najważniejsze funkcje aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a6383-125">The sample application includes a unit test library that validates the major functionality of the app.</span></span> <span data-ttu-id="a6383-126">Ten projekt ułatwi uaktualnić bezpieczne, jeśli zmienisz jakiekolwiek implementacji, w oparciu o ostrzeżenia wygenerowane.</span><span class="sxs-lookup"><span data-stu-id="a6383-126">That project will make it easier to upgrade safely, if you change any of the implementation based on the warnings generated.</span></span> <span data-ttu-id="a6383-127">Możesz pobrać kod początkowy, od [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/start) repozytorium GitHub.</span><span class="sxs-lookup"><span data-stu-id="a6383-127">You can download the starter code from the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/start) GitHub repository.</span></span>

<span data-ttu-id="a6383-128">Celem projektu migracji powinno być wykorzystać nowe funkcje języka, dzięki czemu wyraźnie express zgodne z zamiarami użytkownika w dopuszczania wartości null, zmiennych i to zrobić w taki sposób, że kompilator nie generuje ostrzeżenia w przypadku kontekstu annotation dopuszczający wartość null i dopuszcza wartości null kontekstu ostrzeżenie równa `enabled`.</span><span class="sxs-lookup"><span data-stu-id="a6383-128">Your goal migrating a project should be to leverage the new language features so that you clearly express your intent on the nullability of variables, and do so in such a way that the compiler doesn't generate warnings when you have the nullable annotation context and nullable warning context set to `enabled`.</span></span>

## <a name="upgrade-the-projects-to-c-8"></a><span data-ttu-id="a6383-129">Uaktualnianie projektów do C# 8</span><span class="sxs-lookup"><span data-stu-id="a6383-129">Upgrade the projects to C# 8</span></span>

<span data-ttu-id="a6383-130">Dobre, pierwszym krokiem jest określenie zakresu zadania migracji.</span><span class="sxs-lookup"><span data-stu-id="a6383-130">A good first step is to determine the scope of the migration task.</span></span> <span data-ttu-id="a6383-131">Rozpoczyna się od uaktualnienia projektu C# 8.0 (lub nowsza).</span><span class="sxs-lookup"><span data-stu-id="a6383-131">Start by upgrading the project to C# 8.0 (or newer).</span></span> <span data-ttu-id="a6383-132">Dodaj `LangVersion` elementu, aby oba pliki csproj dla projektu sieci web i projektu testu jednostkowego:</span><span class="sxs-lookup"><span data-stu-id="a6383-132">Add the `LangVersion` element to both csproj files for the web project and the unit test project:</span></span>

```xml
<LangVersion>8.0</LangVersion>
```

<span data-ttu-id="a6383-133">Uaktualnianie wersji językowej wybiera C# 8.0, ale nie uwzględnia kontekst annotation dopuszczający wartość null lub wartość null kontekst ostrzeżenie.</span><span class="sxs-lookup"><span data-stu-id="a6383-133">Upgrading the language version selects C# 8.0, but does not enable the nullable annotation context or the nullable warning context.</span></span> <span data-ttu-id="a6383-134">Ponownie skompiluj projekt, aby upewnić się, że opiera się bez ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="a6383-134">Rebuild the project to ensure that it builds without warnings.</span></span>

<span data-ttu-id="a6383-135">Dobre, następnym krokiem jest Włącz kontekstu annotation dopuszczający wartość null i zobacz, jak wiele ostrzeżeń są generowane.</span><span class="sxs-lookup"><span data-stu-id="a6383-135">A good next step is to turn on the nullable annotation context and see how many warnings are generated.</span></span> <span data-ttu-id="a6383-136">Dodaj następujący element w obu plikach csproj w rozwiązaniu bezpośrednio pod `LangVersion` elementu:</span><span class="sxs-lookup"><span data-stu-id="a6383-136">Add the following element to both csproj files in the solution, directly under the `LangVersion` element:</span></span>

```xml
<NullableContextOptions>enable</NullableContextOptions>
```

<span data-ttu-id="a6383-137">Czy kompilacja testowa i zwróć uwagę na liście ostrzeżenie.</span><span class="sxs-lookup"><span data-stu-id="a6383-137">Do a test build, and notice the warning list.</span></span> <span data-ttu-id="a6383-138">W małych aplikacji kompilator generuje ostrzeżenia pięć, więc prawdopodobnie spowoduje pozostawienie kontekstu annotation dopuszczający wartość null włączone i rozpocząć rozwiązywanie ostrzeżenia dla całego projektu.</span><span class="sxs-lookup"><span data-stu-id="a6383-138">In this small application, the compiler generates five warnings, so it's likely you'd leave the nullable annotation context enabled and start fixing warnings for the entire project.</span></span>

<span data-ttu-id="a6383-139">Taka strategia działa tylko w przypadku mniejszych projektów.</span><span class="sxs-lookup"><span data-stu-id="a6383-139">That strategy works only for smaller projects.</span></span> <span data-ttu-id="a6383-140">Dla wszystkich projektów, większe, liczba ostrzeżeń generowanych przez włączenie kontekstu annotation dopuszczający wartość null w całej bazie kodu utrudnia ustalenie ostrzeżenia systematycznie.</span><span class="sxs-lookup"><span data-stu-id="a6383-140">For any larger projects, the number of warnings generated by enabling the nullable annotation context for the entire codebase makes it harder to fix the warnings systematically.</span></span> <span data-ttu-id="a6383-141">Dla większych projektów w przedsiębiorstwie często należy przeprowadzić migrację jeden projekt naraz.</span><span class="sxs-lookup"><span data-stu-id="a6383-141">For larger enterprise projects, you'll often want to migrate one project at a time.</span></span> <span data-ttu-id="a6383-142">W każdym projekcie migrację jednej klasy lub pliku w danym momencie.</span><span class="sxs-lookup"><span data-stu-id="a6383-142">In each project, migrate one class or file at a time.</span></span>

## <a name="warnings-help-discover-original-design-intent"></a><span data-ttu-id="a6383-143">Ostrzeżenia ułatwić, wykrywanie oryginalne założenia projektowe</span><span class="sxs-lookup"><span data-stu-id="a6383-143">Warnings help discover original design intent</span></span>

<span data-ttu-id="a6383-144">Istnieją dwie klasy, które generują wiele ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="a6383-144">There are two classes that generate multiple warnings.</span></span> <span data-ttu-id="a6383-145">Rozpoczynać `NewsStoryViewModel` klasy.</span><span class="sxs-lookup"><span data-stu-id="a6383-145">Start with the `NewsStoryViewModel` class.</span></span> <span data-ttu-id="a6383-146">Usuń `NullableContextOptions` elementu z obu plików csproj dzięki czemu można ograniczyć zakres ostrzeżeń w sekcjach dotyczących pracy z kodem.</span><span class="sxs-lookup"><span data-stu-id="a6383-146">Remove the `NullableContextOptions` element from both csproj files so that you can limit the scope of warnings to the sections of code you're working with.</span></span> <span data-ttu-id="a6383-147">Otwórz *NewsStoryViewModel.cs* pliku i dodaj następujące dyrektywy, aby umożliwić kontekst annotation dopuszczający wartość null dla `NewsStoryViewModel` i przywrócić ją po tej definicji klasy:</span><span class="sxs-lookup"><span data-stu-id="a6383-147">Open the *NewsStoryViewModel.cs* file and add the following directives to enable the nullable annotation context for the `NewsStoryViewModel` and restore it following that class definition:</span></span>

```csharp
#nullable enable
public class NewsStoryViewModel
{
    public DateTimeOffset Published { get; set; }
    public string Title { get; set; }
    public string Uri { get; set; }
}
#nullable restore
```

<span data-ttu-id="a6383-148">Te dwa dyrektywy pomóc Ci skoncentrować się na migracji.</span><span class="sxs-lookup"><span data-stu-id="a6383-148">These two directives help you focus your migration efforts.</span></span> <span data-ttu-id="a6383-149">Ostrzeżenia dopuszcza wartości null są generowane dla obszaru kodu aktywnie pracuje.</span><span class="sxs-lookup"><span data-stu-id="a6383-149">The nullable warnings are generated for the area of code you're actively working on.</span></span> <span data-ttu-id="a6383-150">Opuścisz je na aż wszystko będzie gotowe włączyć ostrzeżenia dla całego projektu.</span><span class="sxs-lookup"><span data-stu-id="a6383-150">You'll leave them on until you're ready to turn on the warnings for the entire project.</span></span> <span data-ttu-id="a6383-151">Należy używać `restore` zamiast `disable` wartości, tak aby nie przypadkowo wyłączysz kontekście później po włączeniu adnotacje dopuszczającego wartość null dla całego projektu.</span><span class="sxs-lookup"><span data-stu-id="a6383-151">You should use the `restore` rather than `disable` value so that you don't accidentally disable the context later when you've turned on nullable annotations for the entire project.</span></span> <span data-ttu-id="a6383-152">Po włączeniu kontekstu annotation dopuszczający wartość null dla całego projektu można usunąć wszystkich `#nullable` pragm z tego projektu.</span><span class="sxs-lookup"><span data-stu-id="a6383-152">Once you've turned on the nullable annotation context for the entire project, you can remove all the `#nullable` pragmas from that project.</span></span>

<span data-ttu-id="a6383-153">`NewsStoryViewModel` Klasy jest obiekt transferu danych (DTO), a dwie właściwości są ciągami odczyt/zapis:</span><span class="sxs-lookup"><span data-stu-id="a6383-153">The `NewsStoryViewModel` class is a data transfer object (DTO) and two of the properties are read/write strings:</span></span>

[!code-csharp[InitialViewModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/ViewModels/NewsStoryViewModel.cs#StarterViewModel)]

<span data-ttu-id="a6383-154">Te dwie właściwości spowodować `CS8618`, "nieprzyjmujące właściwość została zainicjowana".</span><span class="sxs-lookup"><span data-stu-id="a6383-154">These two properties cause `CS8618`, "Non-nullable property is uninitialized".</span></span> <span data-ttu-id="a6383-155">Który ma wystarczająco dużo, wyczyść: zarówno `string` właściwości mają wartość domyślną `null` podczas `NewsStoryViewModel` jest konstruowany.</span><span class="sxs-lookup"><span data-stu-id="a6383-155">That's clear enough: both `string` properties have the default value of `null` when a `NewsStoryViewModel` is constructed.</span></span> <span data-ttu-id="a6383-156">Co to jest ważne dowiedzieć się, jest sposób `NewsStoryViewModel` obiekty są konstruowane.</span><span class="sxs-lookup"><span data-stu-id="a6383-156">What's important to discover is how `NewsStoryViewModel` objects are constructed.</span></span> <span data-ttu-id="a6383-157">Patrząc tej klasy, nie wiadomo, jeśli `null` wartość jest częścią projektu lub jeśli te obiekty są skonfigurowane do innych niż null wartości w każdym przypadku, gdy jeden jest tworzony.</span><span class="sxs-lookup"><span data-stu-id="a6383-157">Looking at this class, you can't tell if the `null` value is part of the design, or if these objects are set to non-null values whenever one is created.</span></span> <span data-ttu-id="a6383-158">Wątki wiadomości są tworzone w `GetNews` metody `NewsService` klasy:</span><span class="sxs-lookup"><span data-stu-id="a6383-158">The news stories are created in the `GetNews` method of the `NewsService` class:</span></span>

[!code-csharp[StarterCreateNewsItem](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Services/NewsService.cs#CreateNewsItem)]

<span data-ttu-id="a6383-159">Brak znacznej w poprzednim bloku kodu.</span><span class="sxs-lookup"><span data-stu-id="a6383-159">There's quite a bit going on in the preceding block of code.</span></span> <span data-ttu-id="a6383-160">Ta aplikacja używa [AutoMapper](https://automapper.org/) pakiet NuGet do skonstruowania elementu wiadomości z `ISyndicationItem`.</span><span class="sxs-lookup"><span data-stu-id="a6383-160">This application uses the [AutoMapper](https://automapper.org/) NuGet package to construct a news item from an `ISyndicationItem`.</span></span> <span data-ttu-id="a6383-161">Już znasz, że elementów historii wiadomości są zbudowane i właściwości są ustawione w tym jednej instrukcji.</span><span class="sxs-lookup"><span data-stu-id="a6383-161">You've discovered that the news story items are constructed and the properties are set in that one statement.</span></span> <span data-ttu-id="a6383-162">Oznacza to, że projekt `NewsStoryViewModel` wskazuje, że te właściwości nigdy nie powinny mieć `null` wartość.</span><span class="sxs-lookup"><span data-stu-id="a6383-162">That means the design for the `NewsStoryViewModel` indicates that these properties should never have the `null` value.</span></span> <span data-ttu-id="a6383-163">Te właściwości powinny być **typów referencyjnych kolumną**.</span><span class="sxs-lookup"><span data-stu-id="a6383-163">These properties should be **nonnullable reference types**.</span></span> <span data-ttu-id="a6383-164">Najlepiej wyraża oryginalne założenia projektowe.</span><span class="sxs-lookup"><span data-stu-id="a6383-164">That best expresses the original design intent.</span></span> <span data-ttu-id="a6383-165">W rzeczywistości wszystkie `NewsStoryViewModel` *jest* poprawnie utworzone za pomocą wartości innych niż null.</span><span class="sxs-lookup"><span data-stu-id="a6383-165">In fact, any `NewsStoryViewModel` *is* correctly instantiated with non-null values.</span></span> <span data-ttu-id="a6383-166">Sprawia to, że następująca Inicjalizacja prawidłową poprawkę kodu:</span><span class="sxs-lookup"><span data-stu-id="a6383-166">That makes the following initialization code a valid fix:</span></span>

```csharp
public class NewsStoryViewModel
{
    public DateTimeOffset Published { get; set; }
    public string Title { get; set; } = default!;
    public string Uri { get; set; } = default!;
}
```

<span data-ttu-id="a6383-167">Przypisywanie `Title` i `Uri` do `default` czyli `null` dla `string` typu nie zmienia zachowanie środowiska uruchomieniowego programu.</span><span class="sxs-lookup"><span data-stu-id="a6383-167">The assignment of `Title` and `Uri` to `default` which is `null` for the `string` type doesn't change the runtime behavior of the program.</span></span> <span data-ttu-id="a6383-168">`NewsStoryViewModel` Nadal jest konstruowany przy użyciu wartości null, ale teraz kompilator nie zgłasza żadnych ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="a6383-168">The `NewsStoryViewModel` is still constructed with null values, but now the compiler reports no warnings.</span></span> <span data-ttu-id="a6383-169">**Null forgiving operator**, `!` następujący znak `default` wyrażenie informuje kompilator, że poprzedniego wyrażenia nie ma wartości null.</span><span class="sxs-lookup"><span data-stu-id="a6383-169">The **null-forgiving operator**, the `!` character following the `default` expression tells the compiler that the preceding expression is not null.</span></span> <span data-ttu-id="a6383-170">Ta technika może być wskazane, gdy inne zmiany wymusić znacznie większe zmiany do bazy kodu, ale w tej aplikacji jest stosunkowo szybko i lepsze rozwiązania: Wprowadź `NewsStoryViewModel` typem niezmienne, gdzie wszystkie właściwości są ustawiane w konstruktorze.</span><span class="sxs-lookup"><span data-stu-id="a6383-170">This technique may be expedient when other changes force much larger changes to a code base, but in this application there is a relatively quick and better solution: Make the `NewsStoryViewModel` an immutable type where all the properties are set in the constructor.</span></span> <span data-ttu-id="a6383-171">Wprowadź następujące zmiany do `NewsStoryViewModel`:</span><span class="sxs-lookup"><span data-stu-id="a6383-171">Make the following changes to the `NewsStoryViewModel`:</span></span>

[!code-csharp[FinishedViewModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/ViewModels/NewsStoryViewModel.cs#FinishedViewModel)]

<span data-ttu-id="a6383-172">Po zakończeniu tej operacji musisz zaktualizować kod, który konfiguruje AutoMapper, tak aby używał konstruktora, a nie ustawienie właściwości.</span><span class="sxs-lookup"><span data-stu-id="a6383-172">Once that's done, you need to update the code that configures the AutoMapper so that it uses the constructor rather than setting properties.</span></span> <span data-ttu-id="a6383-173">Otwórz `NewsService.cs` i znajdź następujący kod w dolnej części pliku:</span><span class="sxs-lookup"><span data-stu-id="a6383-173">Open `NewsService.cs` and look for the following code at the bottom of the file:</span></span>

[!code-csharp[StarterAutoMapper](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Services/NewsService.cs#ConfigureAutoMapper)]

<span data-ttu-id="a6383-174">Mapy właściwości w kodu `ISyndicationItem` obiekt `NewsStoryViewModel` właściwości.</span><span class="sxs-lookup"><span data-stu-id="a6383-174">That code maps properties of the `ISyndicationItem` object to the `NewsStoryViewModel` properties.</span></span> <span data-ttu-id="a6383-175">Chcesz, aby AutoMapper zapewnienie mapowania przy użyciu konstruktora, zamiast tego.</span><span class="sxs-lookup"><span data-stu-id="a6383-175">You want the AutoMapper to provide the mapping using a constructor instead.</span></span> <span data-ttu-id="a6383-176">Zastąp kod powyżej, o następującej konfiguracji automapper:</span><span class="sxs-lookup"><span data-stu-id="a6383-176">Replace the above code with the following automapper configuration:</span></span>

[!code-csharp[FinishedViewModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#ConfigureAutoMapper)]

<span data-ttu-id="a6383-177">Należy zauważyć, że ponieważ ta klasa jest mały i uważnie zbadane, należy włączyć `#nullable enable` dyrektywy powyżej tej deklaracji klasy.</span><span class="sxs-lookup"><span data-stu-id="a6383-177">Notice that because this class is small, and you've examined carefully, you should turn on the `#nullable enable` directive above this class declaration.</span></span> <span data-ttu-id="a6383-178">Zmiany do konstruktora może przerwane, więc warto uruchomić wszystkie testy i testowanie aplikacji przed kontynuowaniem.</span><span class="sxs-lookup"><span data-stu-id="a6383-178">The change to the constructor could have broken something, so it's worthwhile to run all the tests and test the application before moving on.</span></span>

<span data-ttu-id="a6383-179">Pierwszy zestaw zmian pokazuje, jak wykryć kiedy oryginalnego projektu wskazane, nie należy ustawiać zmienne `null`.</span><span class="sxs-lookup"><span data-stu-id="a6383-179">The first set of changes showed you how to discover when the original design indicated that variables shouldn't be set to `null`.</span></span> <span data-ttu-id="a6383-180">Technika nazywa się **poprawne wynikające z konstrukcji**.</span><span class="sxs-lookup"><span data-stu-id="a6383-180">The technique is referred to as **correct by construction**.</span></span> <span data-ttu-id="a6383-181">Możesz zadeklarować obiekt i jego właściwości nie może być `null` gdy jest konstruowany.</span><span class="sxs-lookup"><span data-stu-id="a6383-181">You declare that an object and its properties cannot be `null` when it's constructed.</span></span> <span data-ttu-id="a6383-182">Analizę przepływu kompilatora zapewnia pewność, że te właściwości nie są ustawione na `null` po konstrukcji.</span><span class="sxs-lookup"><span data-stu-id="a6383-182">The compiler's flow analysis provides assurance that those properties aren't set to `null` after construction.</span></span> <span data-ttu-id="a6383-183">Należy pamiętać, że ten konstruktor jest wywoływany przez kod zewnętrzny, a kod **nullable oblivious**.</span><span class="sxs-lookup"><span data-stu-id="a6383-183">Note that this constructor is called by external code, and that code is **nullable oblivious**.</span></span> <span data-ttu-id="a6383-184">Nowa składnia nie dostarcza sprawdzanie w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="a6383-184">The new syntax doesn't provide runtime checking.</span></span> <span data-ttu-id="a6383-185">Kod zewnętrzny mogą ominąć analizę przepływu kompilatora.</span><span class="sxs-lookup"><span data-stu-id="a6383-185">External code might circumvent the compiler's flow analysis.</span></span> 

<span data-ttu-id="a6383-186">W innych sytuacjach strukturę klasy zawiera różne wskazówki do intencji.</span><span class="sxs-lookup"><span data-stu-id="a6383-186">Other times, the structure of a class provides different clues to the intent.</span></span> <span data-ttu-id="a6383-187">Otwórz *Error.cshtml.cs* w pliku *stron* folderu.</span><span class="sxs-lookup"><span data-stu-id="a6383-187">Open the *Error.cshtml.cs* file in the *Pages* folder.</span></span> <span data-ttu-id="a6383-188">`ErrorViewModel` Zawiera następujący kod:</span><span class="sxs-lookup"><span data-stu-id="a6383-188">The `ErrorViewModel` contains the following code:</span></span>

[!code-csharp[StarterErrorModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Pages/Error.cshtml.cs#StartErrorModel)]

<span data-ttu-id="a6383-189">Dodaj `#nullable enable` dyrektywy przed deklaracją klasy i `#nullable restore` dyrektywy po nim.</span><span class="sxs-lookup"><span data-stu-id="a6383-189">Add the `#nullable enable` directive before the class declaration, and a `#nullable restore` directive after it.</span></span> <span data-ttu-id="a6383-190">Uzyskasz jeden ostrzeżenie, że `RequestId` nie został zainicjowany.</span><span class="sxs-lookup"><span data-stu-id="a6383-190">You'll get one warning that `RequestId` is not initialized.</span></span> <span data-ttu-id="a6383-191">Patrząc na klasy, należy zdecydować, że `RequestId` właściwość powinna mieć wartość null. w niektórych przypadkach.</span><span class="sxs-lookup"><span data-stu-id="a6383-191">By looking at the class, you should decide that the `RequestId` property should be null in some cases.</span></span> <span data-ttu-id="a6383-192">Istnienie `ShowRequestId` właściwość wskazuje, czy możliwe brakujące wartości.</span><span class="sxs-lookup"><span data-stu-id="a6383-192">The existence of the `ShowRequestId` property indicates that missing values are possible.</span></span> <span data-ttu-id="a6383-193">Ponieważ `null` jest prawidłowy, Dodaj `?` na `string` typu, aby wskazać `RequestId` właściwość *typu dopuszczającego wartość null odwołania*.</span><span class="sxs-lookup"><span data-stu-id="a6383-193">Because `null` is valid, add the `?` on the `string` type to indicate the `RequestId` property is a *nullable reference type*.</span></span> <span data-ttu-id="a6383-194">Ostatnią klasę wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="a6383-194">The final class looks like the following example:</span></span>

[!code-csharp[FinishedErrorModel](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Error.cshtml.cs#ErrorModel)]

<span data-ttu-id="a6383-195">Sprawdź, czy używa właściwości i zobacz, czy w skojarzona strona właściwości jest sprawdzana pod kątem wartości null przed renderowaniem go w znacznikach.</span><span class="sxs-lookup"><span data-stu-id="a6383-195">Check for the uses of the property, and you see that in the associated page, the property is checked for null before rendering it in markup.</span></span> <span data-ttu-id="a6383-196">Dzięki zakończeniu korzystania z tej klasy jest bezpieczne użycie typu dopuszczającego wartość null odwołania.</span><span class="sxs-lookup"><span data-stu-id="a6383-196">That's a safe use of a nullable reference type, so you're done with this class.</span></span>

## <a name="fixing-nulls-causes-change"></a><span data-ttu-id="a6383-197">Naprawianie wartości null powoduje, że zmiany</span><span class="sxs-lookup"><span data-stu-id="a6383-197">Fixing nulls causes change</span></span>

<span data-ttu-id="a6383-198">Często rozwiązać jeden zestaw ostrzeżeń, które tworzy nowe ostrzeżenia w kod pokrewny.</span><span class="sxs-lookup"><span data-stu-id="a6383-198">Frequently, the fix for one set of warnings creates new warnings in related code.</span></span> <span data-ttu-id="a6383-199">Zobaczmy, ostrzeżeń w akcji napraw `index.cshtml.cs` klasy.</span><span class="sxs-lookup"><span data-stu-id="a6383-199">Let's see the warnings in action by fixing the `index.cshtml.cs` class.</span></span> <span data-ttu-id="a6383-200">Otwórz `index.cshtml.cs` pliku i poszukaj w kodzie.</span><span class="sxs-lookup"><span data-stu-id="a6383-200">Open the `index.cshtml.cs` file and examine the code.</span></span> <span data-ttu-id="a6383-201">Ten plik zawiera kod związany z strony indeksu:</span><span class="sxs-lookup"><span data-stu-id="a6383-201">This file contains the code behind for the index page:</span></span>

[!code-csharp[StarterIndexModel](~/samples/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Pages/Index.cshtml.cs#IndexModelStart)]

<span data-ttu-id="a6383-202">Dodaj `#nullable enable` dyrektywy, aby zobaczyć dwa ostrzeżenia.</span><span class="sxs-lookup"><span data-stu-id="a6383-202">Add the `#nullable enable` directive and you'll see two warnings.</span></span> <span data-ttu-id="a6383-203">Ani `ErrorText` właściwości ani `NewsItems` właściwość jest inicjowana.</span><span class="sxs-lookup"><span data-stu-id="a6383-203">Neither the `ErrorText` property nor the `NewsItems` property is initialized.</span></span> <span data-ttu-id="a6383-204">Badanie tej klasy doprowadziłoby wrażenie, że obie te właściwości powinny być typy dopuszczające wartości null odwołań: Obie mieć prywatnych metod ustawiających.</span><span class="sxs-lookup"><span data-stu-id="a6383-204">An examination of this class would lead you to believe that both properties should be nullable reference types: Both have private setters.</span></span> <span data-ttu-id="a6383-205">Dokładnie jeden jest przypisany w `OnGet` metody.</span><span class="sxs-lookup"><span data-stu-id="a6383-205">Exactly one is assigned in the `OnGet` method.</span></span> <span data-ttu-id="a6383-206">Przed wprowadzeniem zmian, Przyjrzyj się konsumentów obie te właściwości.</span><span class="sxs-lookup"><span data-stu-id="a6383-206">Before making changes, look at the consumers of both properties.</span></span> <span data-ttu-id="a6383-207">Na stronie, `ErrorText` jest sprawdzana względem wartości null, przed wygenerowaniem znaczników pod kątem błędów.</span><span class="sxs-lookup"><span data-stu-id="a6383-207">In the page itself, the `ErrorText` is checked against null before generating markup for any errors.</span></span> <span data-ttu-id="a6383-208">`NewsItems` Kolekcji jest sprawdzana względem `null`, sprawdzona, aby upewnić się, kolekcja ma elementy.</span><span class="sxs-lookup"><span data-stu-id="a6383-208">The `NewsItems` collection is checked against `null`, and checked to ensure the collection has items.</span></span> <span data-ttu-id="a6383-209">Szybka poprawka będzie zapewnienie oba typy dopuszczające wartości null odwołanie do właściwości.</span><span class="sxs-lookup"><span data-stu-id="a6383-209">A quick fix would be to make both properties nullable reference types.</span></span> <span data-ttu-id="a6383-210">Poprawka lepiej byłoby że kolekcja jest kolumną typu referencyjnego i dodać elementy do istniejącej kolekcji podczas jej odczytywania wiadomości.</span><span class="sxs-lookup"><span data-stu-id="a6383-210">A better fix would be to make the collection a nonnullable reference type, and add items to the existing collection when retrieving news.</span></span> <span data-ttu-id="a6383-211">Pierwsze rozwiązanie polega na dodawanie `?` do `string` wpisz `ErrorText`:</span><span class="sxs-lookup"><span data-stu-id="a6383-211">The first fix is to add the `?` to the `string` type for the `ErrorText`:</span></span>

[!code-csharp[UpdateErrorText](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#UpdateErrorText)]

<span data-ttu-id="a6383-212">Czy zmiana nie będzie rozprzestrzeniają się na inny kod, ponieważ żadnego dostępu do `ErrorText` właściwość została już chroniony przez sprawdzanie wartości null.</span><span class="sxs-lookup"><span data-stu-id="a6383-212">That change won't ripple through other code, because any access to the `ErrorText` property was already guarded by null checks.</span></span> <span data-ttu-id="a6383-213">Następnie zainicjuj `NewsItems` listy i Usuń metoda ustawiająca właściwości, dzięki czemu właściwość tylko do odczytu:</span><span class="sxs-lookup"><span data-stu-id="a6383-213">Next, initialize the `NewsItems` list and remove the property setter, making it a readonly property:</span></span>

[!code-csharp[InitializeNewsItems](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#InitializeNewsItems)]

<span data-ttu-id="a6383-214">Który stałej ostrzeżenie, ale błąd.</span><span class="sxs-lookup"><span data-stu-id="a6383-214">That fixed the warning but introduced an error.</span></span> <span data-ttu-id="a6383-215">`NewsItems` Lista staje się **poprawne wynikające z konstrukcji**, ale kod, który umożliwia określenie listy w `OnGet` musi zmianie, aby dopasować nowego interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="a6383-215">The `NewsItems` list is now **correct by construction**, but the code that sets the list in `OnGet` must change to match the new API.</span></span> <span data-ttu-id="a6383-216">Zamiast przypisania, wywołania `AddRange` do dodawania elementów wiadomości do istniejącej listy:</span><span class="sxs-lookup"><span data-stu-id="a6383-216">Instead of an assignment, call `AddRange` to add the news items to the existing list:</span></span>

[!code-csharp[AddRange](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#AddRange)]

<span data-ttu-id="a6383-217">Za pomocą `AddRange` zamiast przypisania oznacza, że `GetNews` metoda może zwracać `IEnumerable` zamiast `List`.</span><span class="sxs-lookup"><span data-stu-id="a6383-217">Using `AddRange` instead of an assignment means that the `GetNews` method can return an `IEnumerable` instead of a `List`.</span></span> <span data-ttu-id="a6383-218">Który zapisuje jednej alokacji.</span><span class="sxs-lookup"><span data-stu-id="a6383-218">That saves one allocation.</span></span> <span data-ttu-id="a6383-219">Zmień sygnaturę metody i Usuń `ToList` wywołać, jak pokazano w następującym przykładzie kodu:</span><span class="sxs-lookup"><span data-stu-id="a6383-219">Change the signature of the method, and remove the `ToList` call, as shown in the following code sample:</span></span>

[!code-csharp[GetNews](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#GetNewsFinished)]

<span data-ttu-id="a6383-220">Zmienianie podpisu dzieli jedną również testy.</span><span class="sxs-lookup"><span data-stu-id="a6383-220">Changing the signature breaks one of tests as well.</span></span> <span data-ttu-id="a6383-221">Otwórz `NewsServiceTests.cs` w pliku `Services` folderu `SimpleFeedReader.Tests` projektu.</span><span class="sxs-lookup"><span data-stu-id="a6383-221">Open the `NewsServiceTests.cs` file in the `Services` folder of the `SimpleFeedReader.Tests` project.</span></span> <span data-ttu-id="a6383-222">Przejdź do `Returns_News_Stories_Given_Valid_Uri` testu i zmienić typ `result` zmienną `IEnumerable<NewsItem>`.</span><span class="sxs-lookup"><span data-stu-id="a6383-222">Navigate to the `Returns_News_Stories_Given_Valid_Uri` test and change the type of the `result` variable to `IEnumerable<NewsItem>`.</span></span> <span data-ttu-id="a6383-223">Zmiana typu oznacza `Count` właściwość nie jest już dostępna, więc Zastąp `Count` właściwości w `Assert` wywołaniem `Any()`:</span><span class="sxs-lookup"><span data-stu-id="a6383-223">Changing the type means the `Count` property is no longer available, so replace the `Count` property in the `Assert` with a call to `Any()`:</span></span>

[!code-csharp[FixTests](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader.Tests/Services/NewsServiceTests.cs#FixTestSignature)]

<span data-ttu-id="a6383-224">Musisz dodać `using System.Linq` instrukcji na początku pliku, jak również.</span><span class="sxs-lookup"><span data-stu-id="a6383-224">You'll need to add a `using System.Linq` statement to the beginning of the file as well.</span></span>

<span data-ttu-id="a6383-225">Ten zbiór zmian wyróżnia szczególną ostrożność podczas aktualizowania kodu, który zawiera ogólnych instancji.</span><span class="sxs-lookup"><span data-stu-id="a6383-225">This set of changes highlights special consideration when updating code that includes generic instantiations.</span></span> <span data-ttu-id="a6383-226">Lista i elementy na liście typów innych niż null.</span><span class="sxs-lookup"><span data-stu-id="a6383-226">Both the list and the elements in the list of non-nullable types.</span></span> <span data-ttu-id="a6383-227">Jeden lub oba, może być typy dopuszczające wartości null.</span><span class="sxs-lookup"><span data-stu-id="a6383-227">Either or both could be nullable types.</span></span> <span data-ttu-id="a6383-228">Dozwolone są następujące deklaracje:</span><span class="sxs-lookup"><span data-stu-id="a6383-228">All the following declarations are allowed:</span></span>

- <span data-ttu-id="a6383-229">`List<NewsStoryViewModel>`: listy modeli widoków nonullable kolumną.</span><span class="sxs-lookup"><span data-stu-id="a6383-229">`List<NewsStoryViewModel>`: nonnullable list of nonullable view models.</span></span>
- <span data-ttu-id="a6383-230">`List<NewsStoryViewModel?>`: kolumną lista modeli widoków dopuszczającego wartość null.</span><span class="sxs-lookup"><span data-stu-id="a6383-230">`List<NewsStoryViewModel?>`: nonnullable list of nullable view models.</span></span>
- <span data-ttu-id="a6383-231">`List<NewsStoryViewModel>?`: nullable lista modeli widoków niedopuszczające wartości null.</span><span class="sxs-lookup"><span data-stu-id="a6383-231">`List<NewsStoryViewModel>?`: nullable list of nonnullable view models.</span></span>
- <span data-ttu-id="a6383-232">`List<NewsStoryViewModel?>?`: dopuszczającego wartość null lista modeli widoków dopuszczającego wartość null.</span><span class="sxs-lookup"><span data-stu-id="a6383-232">`List<NewsStoryViewModel?>?`: nullable list of nullable view models.</span></span>

## <a name="interfaces-with-external-code"></a><span data-ttu-id="a6383-233">Interfejsy z kodu zewnętrznego</span><span class="sxs-lookup"><span data-stu-id="a6383-233">Interfaces with external code</span></span>

<span data-ttu-id="a6383-234">Wprowadzono zmiany do `NewsService` klasy, więc włączyć `#nullable enable` adnotacji dla tej klasy.</span><span class="sxs-lookup"><span data-stu-id="a6383-234">You've made changes to the `NewsService` class, so turn on the `#nullable enable` annotation for that class.</span></span> <span data-ttu-id="a6383-235">Nie będzie to wygenerowanie nowego ostrzeżenia.</span><span class="sxs-lookup"><span data-stu-id="a6383-235">This won't generate any new warnings.</span></span> <span data-ttu-id="a6383-236">Jednak dokładne badanie klasy pomaga w celu wyłącznie zilustrowanie niektórych ograniczeń analizę przepływu kompilatora.</span><span class="sxs-lookup"><span data-stu-id="a6383-236">However, careful examination of the class helps to illustrate some of the limitations of the compiler's flow analysis.</span></span> <span data-ttu-id="a6383-237">Sprawdź konstruktora:</span><span class="sxs-lookup"><span data-stu-id="a6383-237">Examine the constructor:</span></span>

[!code-csharp[ServiceConstructor](~/samples/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#ServiceConstructor)]

<span data-ttu-id="a6383-238">`IMapper` Jako odwołanie kolumną jest wpisana nazwa parametru.</span><span class="sxs-lookup"><span data-stu-id="a6383-238">The `IMapper` parameter is typed as a nonnullable reference.</span></span> <span data-ttu-id="a6383-239">Jest wywoływana przez kod infrastruktury platformy ASP.NET Core, dzięki czemu kompilator tak naprawdę nie wie, że `IMapper` nigdy nie będzie mieć wartości null.</span><span class="sxs-lookup"><span data-stu-id="a6383-239">It's called by ASP.NET Core infrastructure code, so the compiler doesn't really know that the `IMapper` will never be null.</span></span> <span data-ttu-id="a6383-240">Domyślny kontener iniekcji (DI) zależności platformy ASP.NET Core zgłasza wyjątek, jeśli nie można rozpoznać wymaganej usługi, dzięki czemu kod jest poprawny.</span><span class="sxs-lookup"><span data-stu-id="a6383-240">The default ASP.NET Core dependency injection (DI) container throws an exception if it can't resolve a necessary service, so the code is correct.</span></span> <span data-ttu-id="a6383-241">Kompilator nie można zweryfikować wszystkie wywołania do publicznych interfejsów API, nawet wtedy, gdy kod jest kompilowany z kontekstami annotation dopuszczający wartość null, włączone.</span><span class="sxs-lookup"><span data-stu-id="a6383-241">The compiler can't validate all calls to your public APIs, even if your code is compiled with nullable annotation contexts enabled.</span></span> <span data-ttu-id="a6383-242">Ponadto bibliotek mogą być używane przez projekty, które nie zostały jeszcze wyrażania zgody na używanie typów nullable odwołania.</span><span class="sxs-lookup"><span data-stu-id="a6383-242">Furthermore, your libraries may be consumed by projects that have not yet opted into using nullable reference types.</span></span> <span data-ttu-id="a6383-243">Sprawdzanie poprawności danych wejściowych do publicznych interfejsów API, nawet po ich zadeklarowane jako typy kolumną.</span><span class="sxs-lookup"><span data-stu-id="a6383-243">Validate inputs to public APIs even though you've declared them as nonnullable types.</span></span>

## <a name="get-the-code"></a><span data-ttu-id="a6383-244">Pobierz kod</span><span class="sxs-lookup"><span data-stu-id="a6383-244">Get the code</span></span>

<span data-ttu-id="a6383-245">Problem został rozwiązany ostrzeżeń został zidentyfikowany w kompilacji testu wstępnego, więc można włączyć w kontekście annotation dopuszczający wartość null w obu projektach.</span><span class="sxs-lookup"><span data-stu-id="a6383-245">You've fixed the warnings you identified in the initial test compile, so now you can turn on the nullable annotation context for both projects.</span></span> <span data-ttu-id="a6383-246">Ponowna kompilacja projektów; Kompilator nie zgłasza żadnych ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="a6383-246">Rebuild the projects; the compiler reports no warnings.</span></span> <span data-ttu-id="a6383-247">Możesz też uzyskać kod zakończony projekt w [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/finished) repozytorium GitHub.</span><span class="sxs-lookup"><span data-stu-id="a6383-247">You can get the code for the finished project in the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/finished) GitHub repository.</span></span>

<span data-ttu-id="a6383-248">Nowe funkcje obsługujące pomagające w znajdowaniu i rozwiązać ewentualne błędy, w jaki sposób obsługiwać typów referencyjnych nullable `null` wartości w kodzie.</span><span class="sxs-lookup"><span data-stu-id="a6383-248">The new features that support nullable reference types help you find and fix potential errors in how you handle `null` values in your code.</span></span> <span data-ttu-id="a6383-249">Włączanie kontekstu annotation dopuszczający wartość null, umożliwia wyrażanie zgodną z planem projektu: niektóre zmienne nigdy nie powinien mieć wartość null, inne zmienne mogą zawierać wartości null.</span><span class="sxs-lookup"><span data-stu-id="a6383-249">Enabling the nullable annotation context allows you to express your design intent: some variables should never be null, other variables may contain null values.</span></span> <span data-ttu-id="a6383-250">Te funkcje ułatwiają zadeklarować zgodną z planem projektu.</span><span class="sxs-lookup"><span data-stu-id="a6383-250">These features make it easier for you to declare your design intent.</span></span> <span data-ttu-id="a6383-251">Podobnie kontekst ostrzeżenie dopuszczającego wartość null nakazuje kompilatorowi problem ostrzeżenia, gdy spowodować naruszenie tym przeznaczeniem.</span><span class="sxs-lookup"><span data-stu-id="a6383-251">Similarly, the nullable warning context instructs the compiler to issue warnings when you have violated that intent.</span></span> <span data-ttu-id="a6383-252">Tych ostrzeżeń przewodnik dotyczyć wprowadzenia aktualizacji, które sprawić, że kod bardziej odporne na błędy i mniej prawdopodobnie zgłaszany `NullReferenceException` podczas wykonywania.</span><span class="sxs-lookup"><span data-stu-id="a6383-252">Those warnings guide you to make updates that make your code more resilient and less likely to throw a `NullReferenceException` during execution.</span></span> <span data-ttu-id="a6383-253">Można kontrolować zakres tych kontekstach, dzięki czemu można skupić się na lokalnych obszarów kodu, aby przeprowadzić migrację, podczas gdy pozostałe bazy kodu nie została zmieniona.</span><span class="sxs-lookup"><span data-stu-id="a6383-253">You can control the scope of these contexts so that you can focus on local areas of code to migrate while the remaining codebase is untouched.</span></span> <span data-ttu-id="a6383-254">W praktyce istnieje możliwość migracji zadań w ramach regularnej konserwacji do swoich klas.</span><span class="sxs-lookup"><span data-stu-id="a6383-254">In practice, you can make this migration task a part of regular maintenance to your classes.</span></span> <span data-ttu-id="a6383-255">W tym samouczku przedstawiono proces migracji aplikacji na używanie typów nullable odwołań.</span><span class="sxs-lookup"><span data-stu-id="a6383-255">This tutorial demonstrated the process to migrate an application to use nullable reference types.</span></span> <span data-ttu-id="a6383-256">Możesz zapoznać się z większego przykładu rzeczywistych tego procesu, sprawdzając żądania Ściągnięcia [Jon Skeet](https://github.com/jskeet) wprowadzone zestawowi typy dopuszczające wartości null odwołań do [NodaTime](https://github.com/nodatime/nodatime/pull/1240/commits).</span><span class="sxs-lookup"><span data-stu-id="a6383-256">You can explore a larger real-world example of this process by examining the PR [Jon Skeet](https://github.com/jskeet) made to incorporate nullable reference types into [NodaTime](https://github.com/nodatime/nodatime/pull/1240/commits).</span></span>
