---
title: Uaktualnianie do typów odwołań z możliwością null
description: Ten zaawansowany samouczek pokazuje, jak przeprowadzić migrację istniejącego kodu za pomocą typów odwołań z możliwością null.
ms.date: 02/19/2019
ms.technology: csharp-null-safety
ms.custom: mvc
ms.openlocfilehash: 9767493059623e770cc100b83b9284e8d0bdf0f8
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/14/2020
ms.locfileid: "79156457"
---
# <a name="tutorial-migrate-existing-code-with-nullable-reference-types"></a><span data-ttu-id="e1d66-103">Samouczek: Migracja istniejącego kodu za pomocą typów odwołań podlegających wartości null</span><span class="sxs-lookup"><span data-stu-id="e1d66-103">Tutorial: Migrate existing code with nullable reference types</span></span>

<span data-ttu-id="e1d66-104">C# 8 wprowadza **typy odwołań nullable**, które uzupełniają typy odwołań w ten sam sposób typy wartości null douzupełnienia typów wartości.</span><span class="sxs-lookup"><span data-stu-id="e1d66-104">C# 8 introduces **nullable reference types**, which complement reference types the same way nullable value types complement value types.</span></span> <span data-ttu-id="e1d66-105">Deklarujesz zmienną jako typ odwołania z `?` **wartością null,** dołączając do typu.</span><span class="sxs-lookup"><span data-stu-id="e1d66-105">You declare a variable to be a **nullable reference type** by appending a `?` to the type.</span></span> <span data-ttu-id="e1d66-106">Na przykład `string?` reprezentuje nullable `string`.</span><span class="sxs-lookup"><span data-stu-id="e1d66-106">For example, `string?` represents a nullable `string`.</span></span> <span data-ttu-id="e1d66-107">Można użyć tych nowych typów, aby wyraźniej wyrazić intencję projektu: niektóre zmienne *muszą zawsze mieć wartość,* inne *mogą brakować wartości.*</span><span class="sxs-lookup"><span data-stu-id="e1d66-107">You can use these new types to more clearly express your design intent: some variables *must always have a value*, others *may be missing a value*.</span></span> <span data-ttu-id="e1d66-108">Wszelkie istniejące zmienne typu odwołania będą interpretowane jako typ odwołania niepodlegający null.</span><span class="sxs-lookup"><span data-stu-id="e1d66-108">Any existing variables of a reference type would be interpreted as a non-nullable reference type.</span></span>

<span data-ttu-id="e1d66-109">Ten samouczek zawiera informacje na temat wykonywania następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="e1d66-109">In this tutorial, you'll learn how to:</span></span>

> [!div class="checklist"]
>
> - <span data-ttu-id="e1d66-110">Włącz sprawdzanie odwołań zerowych podczas pracy z kodem.</span><span class="sxs-lookup"><span data-stu-id="e1d66-110">Enable null reference checks as you work with code.</span></span>
> - <span data-ttu-id="e1d66-111">Diagnozowanie i poprawianie różnych ostrzeżeń związanych z wartościami null.</span><span class="sxs-lookup"><span data-stu-id="e1d66-111">Diagnose and correct different warnings related to null values.</span></span>
> - <span data-ttu-id="e1d66-112">Zarządzanie interfejsem między kontekstami wyłączonymi z możliwością null a kontekstami wyłączonymi z możliwością null.</span><span class="sxs-lookup"><span data-stu-id="e1d66-112">Manage the interface between nullable enabled and nullable disabled contexts.</span></span>
> - <span data-ttu-id="e1d66-113">Kontroluj konteksty adnotacji nullable.</span><span class="sxs-lookup"><span data-stu-id="e1d66-113">Control nullable annotation contexts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="e1d66-114">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="e1d66-114">Prerequisites</span></span>

<span data-ttu-id="e1d66-115">Musisz skonfigurować komputer do uruchamiania .NET Core, w tym kompilator C# 8.0.</span><span class="sxs-lookup"><span data-stu-id="e1d66-115">You’ll need to set up your machine to run .NET Core, including the C# 8.0 compiler.</span></span> <span data-ttu-id="e1d66-116">Kompilator C# 8 jest dostępny począwszy od [programu Visual Studio 2019 w wersji 16.3](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019) lub [.NET Core 3.0 SDK](https://dotnet.microsoft.com/download).</span><span class="sxs-lookup"><span data-stu-id="e1d66-116">The C# 8 compiler is available starting with [Visual Studio 2019 version 16.3](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019) or [.NET Core 3.0 SDK](https://dotnet.microsoft.com/download).</span></span>

<span data-ttu-id="e1d66-117">W tym samouczku przyjęto założenie, że znasz c# i .NET, w tym visual studio lub .NET Core CLI.</span><span class="sxs-lookup"><span data-stu-id="e1d66-117">This tutorial assumes you're familiar with C# and .NET, including either Visual Studio or the .NET Core CLI.</span></span>

## <a name="explore-the-sample-application"></a><span data-ttu-id="e1d66-118">Poznaj przykładową aplikację</span><span class="sxs-lookup"><span data-stu-id="e1d66-118">Explore the sample application</span></span>

<span data-ttu-id="e1d66-119">Przykładowa aplikacja, która zostanie migrowana jest aplikacją sieci web czytnik aplikacyjny rss.</span><span class="sxs-lookup"><span data-stu-id="e1d66-119">The sample application that you'll migrate is an RSS feed reader web app.</span></span> <span data-ttu-id="e1d66-120">Odczytuje z jednego kanału RSS i wyświetla podsumowania najnowszych artykułów.</span><span class="sxs-lookup"><span data-stu-id="e1d66-120">It reads from a single RSS feed and displays summaries for the most recent articles.</span></span> <span data-ttu-id="e1d66-121">Możesz wybrać dowolny z artykułów, aby odwiedzić witrynę.</span><span class="sxs-lookup"><span data-stu-id="e1d66-121">You can select any of the articles to visit the site.</span></span> <span data-ttu-id="e1d66-122">Aplikacja jest stosunkowo nowy, ale został napisany przed nullable typy odwołań były dostępne.</span><span class="sxs-lookup"><span data-stu-id="e1d66-122">The application is relatively new but was written before nullable reference types were available.</span></span> <span data-ttu-id="e1d66-123">Decyzje projektowe dla aplikacji reprezentowały solidne zasady, ale nie korzystaj z tej ważnej funkcji języka.</span><span class="sxs-lookup"><span data-stu-id="e1d66-123">The design decisions for the application represented sound principles, but don't take advantage of this important language feature.</span></span>

<span data-ttu-id="e1d66-124">Przykładowa aplikacja zawiera bibliotekę testów jednostkowych, która sprawdza poprawność głównych funkcji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e1d66-124">The sample application includes a unit test library that validates the major functionality of the app.</span></span> <span data-ttu-id="e1d66-125">Ten projekt ułatwi bezpieczne uaktualnienie, jeśli zmienisz dowolną implementację na podstawie wygenerowanych ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="e1d66-125">That project will make it easier to upgrade safely, if you change any of the implementation based on the warnings generated.</span></span> <span data-ttu-id="e1d66-126">Kod startowy można pobrać z repozytorium GitHub/sample.You can download the starter code from the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/start) GitHub repository.</span><span class="sxs-lookup"><span data-stu-id="e1d66-126">You can download the starter code from the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/start) GitHub repository.</span></span>

<span data-ttu-id="e1d66-127">Celem migracji projektu powinno być wykorzystanie nowych funkcji języka, dzięki czemu wyraźnie wyrazić zamiar na nullability zmiennych i zrobić to w taki sposób, że kompilator nie generuje ostrzeżenia, gdy masz nullable kontekstu adnotacji i nullable kontekście ostrzeżenie ustawione na `enabled`.</span><span class="sxs-lookup"><span data-stu-id="e1d66-127">Your goal migrating a project should be to leverage the new language features so that you clearly express your intent on the nullability of variables, and do so in such a way that the compiler doesn't generate warnings when you have the nullable annotation context and nullable warning context set to `enabled`.</span></span>

## <a name="upgrade-the-projects-to-c-8"></a><span data-ttu-id="e1d66-128">Uaktualnianie projektów do języka C# 8</span><span class="sxs-lookup"><span data-stu-id="e1d66-128">Upgrade the projects to C# 8</span></span>

<span data-ttu-id="e1d66-129">Dobrym pierwszym krokiem jest określenie zakresu zadania migracji.</span><span class="sxs-lookup"><span data-stu-id="e1d66-129">A good first step is to determine the scope of the migration task.</span></span> <span data-ttu-id="e1d66-130">Rozpocznij od uaktualnienia projektu do języka C# 8.0 (lub nowszego).</span><span class="sxs-lookup"><span data-stu-id="e1d66-130">Start by upgrading the project to C# 8.0 (or newer).</span></span> <span data-ttu-id="e1d66-131">Dodaj `LangVersion` element do PropertyGroup zarówno w plikach csproj dla projektu sieci web, jak i w projekcie testu jednostkowego:</span><span class="sxs-lookup"><span data-stu-id="e1d66-131">Add the `LangVersion` element to the PropertyGroup in both csproj files for the web project and the unit test project:</span></span>

```xml
<LangVersion>8.0</LangVersion>
```

<span data-ttu-id="e1d66-132">Uaktualnianie wersji językowej wybiera C# 8.0, ale nie włącza nullable kontekstu adnotacji lub nullable kontekście ostrzeżenia.</span><span class="sxs-lookup"><span data-stu-id="e1d66-132">Upgrading the language version selects C# 8.0, but does not enable the nullable annotation context or the nullable warning context.</span></span> <span data-ttu-id="e1d66-133">Odbudować projekt, aby upewnić się, że buduje bez ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="e1d66-133">Rebuild the project to ensure that it builds without warnings.</span></span>

<span data-ttu-id="e1d66-134">Dobrym następnym krokiem jest włączenie kontekstu adnotacji nullable i zobaczyć, ile ostrzeżenia są generowane.</span><span class="sxs-lookup"><span data-stu-id="e1d66-134">A good next step is to turn on the nullable annotation context and see how many warnings are generated.</span></span> <span data-ttu-id="e1d66-135">Dodaj następujący element do obu plików csproj w `LangVersion` rozwiązaniu, bezpośrednio pod elementem:</span><span class="sxs-lookup"><span data-stu-id="e1d66-135">Add the following element to both csproj files in the solution, directly under the `LangVersion` element:</span></span>

```xml
<Nullable>enable</Nullable>
```

<span data-ttu-id="e1d66-136">Wykonaj kompilację testową i zwróć uwagę na listę ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="e1d66-136">Do a test build, and notice the warning list.</span></span> <span data-ttu-id="e1d66-137">W tej małej aplikacji kompilator generuje pięć ostrzeżeń, więc prawdopodobnie pozostawisz włączony kontekst adnotacji z możliwością null i rozpocząć naprawianie ostrzeżeń dla całego projektu.</span><span class="sxs-lookup"><span data-stu-id="e1d66-137">In this small application, the compiler generates five warnings, so it's likely you'd leave the nullable annotation context enabled and start fixing warnings for the entire project.</span></span>

<span data-ttu-id="e1d66-138">Strategia ta działa tylko w przypadku mniejszych projektów.</span><span class="sxs-lookup"><span data-stu-id="e1d66-138">That strategy works only for smaller projects.</span></span> <span data-ttu-id="e1d66-139">Dla większych projektów liczba ostrzeżeń generowanych przez włączenie kontekstu adnotacji nullable dla całej bazy kodu utrudnia systematyczne naprawianie ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="e1d66-139">For any larger projects, the number of warnings generated by enabling the nullable annotation context for the entire codebase makes it harder to fix the warnings systematically.</span></span> <span data-ttu-id="e1d66-140">W przypadku większych projektów korporacyjnych często chcesz przeprowadzić migrację jednego projektu naraz.</span><span class="sxs-lookup"><span data-stu-id="e1d66-140">For larger enterprise projects, you'll often want to migrate one project at a time.</span></span> <span data-ttu-id="e1d66-141">W każdym projekcie migruj jedną klasę lub plik naraz.</span><span class="sxs-lookup"><span data-stu-id="e1d66-141">In each project, migrate one class or file at a time.</span></span>

## <a name="warnings-help-discover-original-design-intent"></a><span data-ttu-id="e1d66-142">Ostrzeżenia pomagają odkryć oryginalne intencje projektu</span><span class="sxs-lookup"><span data-stu-id="e1d66-142">Warnings help discover original design intent</span></span>

<span data-ttu-id="e1d66-143">Istnieją dwie klasy, które generują wiele ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="e1d66-143">There are two classes that generate multiple warnings.</span></span> <span data-ttu-id="e1d66-144">Zacznij od `NewsStoryViewModel` klasy.</span><span class="sxs-lookup"><span data-stu-id="e1d66-144">Start with the `NewsStoryViewModel` class.</span></span> <span data-ttu-id="e1d66-145">Usuń `Nullable` element z obu plików csproj, dzięki czemu można ograniczyć zakres ostrzeżeń do sekcji kodu, z którymi pracujesz.</span><span class="sxs-lookup"><span data-stu-id="e1d66-145">Remove the `Nullable` element from both csproj files so that you can limit the scope of warnings to the sections of code you're working with.</span></span> <span data-ttu-id="e1d66-146">Otwórz *plik NewsStoryViewModel.cs* i dodaj następujące dyrektywy, aby włączyć kontekst `NewsStoryViewModel` adnotacji nullable dla i przywrócić go zgodnie z tą definicją klasy:</span><span class="sxs-lookup"><span data-stu-id="e1d66-146">Open the *NewsStoryViewModel.cs* file and add the following directives to enable the nullable annotation context for the `NewsStoryViewModel` and restore it following that class definition:</span></span>

```csharp
#nullable enable
public class NewsStoryViewModel
{
    public DateTimeOffset Published { get; set; }
    public string Title { get; set; }
    public string Uri { get; set; }
}
#nullable restore
```

<span data-ttu-id="e1d66-147">Te dwie dyrektywy pomagają skoncentrować swoje wysiłki migracyjne.</span><span class="sxs-lookup"><span data-stu-id="e1d66-147">These two directives help you focus your migration efforts.</span></span> <span data-ttu-id="e1d66-148">Ostrzeżenia nullable są generowane dla obszaru kodu, nad którym aktywnie pracujesz.</span><span class="sxs-lookup"><span data-stu-id="e1d66-148">The nullable warnings are generated for the area of code you're actively working on.</span></span> <span data-ttu-id="e1d66-149">Pozostawisz je włączone, dopóki nie będziesz gotowy do włączeniu ostrzeżeń dla całego projektu.</span><span class="sxs-lookup"><span data-stu-id="e1d66-149">You'll leave them on until you're ready to turn on the warnings for the entire project.</span></span> <span data-ttu-id="e1d66-150">Należy użyć `restore` `disable` wartości, aby nie przypadkowo wyłączyć kontekst później po włączeniu adnotacji nullable dla całego projektu.</span><span class="sxs-lookup"><span data-stu-id="e1d66-150">You should use the `restore` rather than `disable` value so that you don't accidentally disable the context later when you've turned on nullable annotations for the entire project.</span></span> <span data-ttu-id="e1d66-151">Po włączeniu kontekstu adnotacji nullable dla całego projektu, można `#nullable` usunąć wszystkie pragmy z tego projektu.</span><span class="sxs-lookup"><span data-stu-id="e1d66-151">Once you've turned on the nullable annotation context for the entire project, you can remove all the `#nullable` pragmas from that project.</span></span>

<span data-ttu-id="e1d66-152">Klasa `NewsStoryViewModel` jest obiektem transferu danych (DTO), a dwie właściwości są ciągami odczytu/zapisu:</span><span class="sxs-lookup"><span data-stu-id="e1d66-152">The `NewsStoryViewModel` class is a data transfer object (DTO) and two of the properties are read/write strings:</span></span>

[!code-csharp[InitialViewModel](~/samples/snippets/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/ViewModels/NewsStoryViewModel.cs#StarterViewModel)]

<span data-ttu-id="e1d66-153">Te dwie właściwości `CS8618`powodują , "Właściwość niepodlegająca null jest uninitialized".</span><span class="sxs-lookup"><span data-stu-id="e1d66-153">These two properties cause `CS8618`, "Non-nullable property is uninitialized".</span></span> <span data-ttu-id="e1d66-154">To dość jasne: `string` obie właściwości mają domyślną `null` `NewsStoryViewModel` wartość, gdy a jest skonstruowany.</span><span class="sxs-lookup"><span data-stu-id="e1d66-154">That's clear enough: both `string` properties have the default value of `null` when a `NewsStoryViewModel` is constructed.</span></span> <span data-ttu-id="e1d66-155">Ważne jest, aby odkryć, jak `NewsStoryViewModel` obiekty są konstruowane.</span><span class="sxs-lookup"><span data-stu-id="e1d66-155">What's important to discover is how `NewsStoryViewModel` objects are constructed.</span></span> <span data-ttu-id="e1d66-156">Patrząc na tę klasę, nie można `null` stwierdzić, czy wartość jest częścią projektu lub jeśli te obiekty są ustawione na wartości inne niż null, gdy jest tworzony.</span><span class="sxs-lookup"><span data-stu-id="e1d66-156">Looking at this class, you can't tell if the `null` value is part of the design, or if these objects are set to non-null values whenever one is created.</span></span> <span data-ttu-id="e1d66-157">Wiadomości są tworzone w `GetNews` metodzie `NewsService` klasy:</span><span class="sxs-lookup"><span data-stu-id="e1d66-157">The news stories are created in the `GetNews` method of the `NewsService` class:</span></span>

[!code-csharp[StarterCreateNewsItem](~/samples/snippets/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Services/NewsService.cs#CreateNewsItem)]

<span data-ttu-id="e1d66-158">W poprzednim bloku kodu dzieje się sporo.</span><span class="sxs-lookup"><span data-stu-id="e1d66-158">There's quite a bit going on in the preceding block of code.</span></span> <span data-ttu-id="e1d66-159">Ta aplikacja używa [automapper](https://automapper.org/) nuget pakiet do `ISyndicationItem`konstruowania elementu wiadomości z .</span><span class="sxs-lookup"><span data-stu-id="e1d66-159">This application uses the [AutoMapper](https://automapper.org/) NuGet package to construct a news item from an `ISyndicationItem`.</span></span> <span data-ttu-id="e1d66-160">Odkryto, że elementy wątku wiadomości są konstruowane i właściwości są ustawione w tej jednej instrukcji.</span><span class="sxs-lookup"><span data-stu-id="e1d66-160">You've discovered that the news story items are constructed and the properties are set in that one statement.</span></span> <span data-ttu-id="e1d66-161">Oznacza to, że `NewsStoryViewModel` projekt wskazuje, że te `null` właściwości nigdy nie powinny mieć wartość.</span><span class="sxs-lookup"><span data-stu-id="e1d66-161">That means the design for the `NewsStoryViewModel` indicates that these properties should never have the `null` value.</span></span> <span data-ttu-id="e1d66-162">Właściwości te powinny być **nieunieważnionymi typami odwołań**.</span><span class="sxs-lookup"><span data-stu-id="e1d66-162">These properties should be **nonnullable reference types**.</span></span> <span data-ttu-id="e1d66-163">To najlepiej wyraża pierwotny zamiar projektu.</span><span class="sxs-lookup"><span data-stu-id="e1d66-163">That best expresses the original design intent.</span></span> <span data-ttu-id="e1d66-164">W rzeczywistości `NewsStoryViewModel` każdy *jest* poprawnie tworzone z wartościami innych niż null.</span><span class="sxs-lookup"><span data-stu-id="e1d66-164">In fact, any `NewsStoryViewModel` *is* correctly instantiated with non-null values.</span></span> <span data-ttu-id="e1d66-165">To sprawia, że następujący kod inicjalizacji prawidłową poprawkę:</span><span class="sxs-lookup"><span data-stu-id="e1d66-165">That makes the following initialization code a valid fix:</span></span>

```csharp
public class NewsStoryViewModel
{
    public DateTimeOffset Published { get; set; }
    public string Title { get; set; } = default!;
    public string Uri { get; set; } = default!;
}
```

<span data-ttu-id="e1d66-166">Przypisanie `Title` i `Uri` `default` do `null` którego `string` jest dla typu nie zmienia zachowanie wykonywania programu.</span><span class="sxs-lookup"><span data-stu-id="e1d66-166">The assignment of `Title` and `Uri` to `default` which is `null` for the `string` type doesn't change the runtime behavior of the program.</span></span> <span data-ttu-id="e1d66-167">Nadal `NewsStoryViewModel` jest skonstruowany z wartościami null, ale teraz kompilator zgłasza żadnych ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="e1d66-167">The `NewsStoryViewModel` is still constructed with null values, but now the compiler reports no warnings.</span></span> <span data-ttu-id="e1d66-168">Operator **wyrozumiały**null `!` , `default` znak następujący po wyrażeniu informuje kompilator, że poprzednie wyrażenie nie jest null.</span><span class="sxs-lookup"><span data-stu-id="e1d66-168">The **null-forgiving operator**, the `!` character following the `default` expression tells the compiler that the preceding expression is not null.</span></span> <span data-ttu-id="e1d66-169">Ta technika może być celowe, gdy inne zmiany wymuszają znacznie większe zmiany do bazy kodu, ale `NewsStoryViewModel` w tej aplikacji istnieje stosunkowo szybkie i lepsze rozwiązanie: Make niezmiennego typu, gdzie wszystkie właściwości są ustawione w konstruktorze.</span><span class="sxs-lookup"><span data-stu-id="e1d66-169">This technique may be expedient when other changes force much larger changes to a code base, but in this application there is a relatively quick and better solution: Make the `NewsStoryViewModel` an immutable type where all the properties are set in the constructor.</span></span> <span data-ttu-id="e1d66-170">Wyconajmi `NewsStoryViewModel`w :</span><span class="sxs-lookup"><span data-stu-id="e1d66-170">Make the following changes to the `NewsStoryViewModel`:</span></span>

[!code-csharp[FinishedViewModel](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/ViewModels/NewsStoryViewModel.cs#FinishedViewModel)]

<span data-ttu-id="e1d66-171">Gdy to zrobisz, należy zaktualizować kod, który konfiguruje AutoMapper tak, aby używa konstruktora, a nie ustawienie właściwości.</span><span class="sxs-lookup"><span data-stu-id="e1d66-171">Once that's done, you need to update the code that configures the AutoMapper so that it uses the constructor rather than setting properties.</span></span> <span data-ttu-id="e1d66-172">Otwórz `NewsService.cs` i poszukaj następującego kodu u dołu pliku:</span><span class="sxs-lookup"><span data-stu-id="e1d66-172">Open `NewsService.cs` and look for the following code at the bottom of the file:</span></span>

[!code-csharp[StarterAutoMapper](~/samples/snippets/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Services/NewsService.cs#ConfigureAutoMapper)]

<span data-ttu-id="e1d66-173">Ten kod mapuje `ISyndicationItem` właściwości obiektu `NewsStoryViewModel` do właściwości.</span><span class="sxs-lookup"><span data-stu-id="e1d66-173">That code maps properties of the `ISyndicationItem` object to the `NewsStoryViewModel` properties.</span></span> <span data-ttu-id="e1d66-174">Chcesz AutoMapper, aby zapewnić mapowanie przy użyciu konstruktora zamiast.</span><span class="sxs-lookup"><span data-stu-id="e1d66-174">You want the AutoMapper to provide the mapping using a constructor instead.</span></span> <span data-ttu-id="e1d66-175">Zamień powyższy kod na następującą konfigurację automapy:</span><span class="sxs-lookup"><span data-stu-id="e1d66-175">Replace the above code with the following automapper configuration:</span></span>

[!code-csharp[FinishedViewModel](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#ConfigureAutoMapper)]

<span data-ttu-id="e1d66-176">Należy zauważyć, że ponieważ ta klasa jest mała i zostały `#nullable enable` dokładnie zbadane, należy włączyć dyrektywy powyżej tej deklaracji klasy.</span><span class="sxs-lookup"><span data-stu-id="e1d66-176">Notice that because this class is small, and you've examined carefully, you should turn on the `#nullable enable` directive above this class declaration.</span></span> <span data-ttu-id="e1d66-177">Zmiana konstruktora mogła coś ułamać, więc warto uruchomić wszystkie testy i przetestować aplikację przed przejściem dalej.</span><span class="sxs-lookup"><span data-stu-id="e1d66-177">The change to the constructor could have broken something, so it's worthwhile to run all the tests and test the application before moving on.</span></span>

<span data-ttu-id="e1d66-178">Pierwszy zestaw zmian pokazał, jak odkryć, kiedy oryginalny projekt wskazał, że `null`zmienne nie powinny być ustawione na .</span><span class="sxs-lookup"><span data-stu-id="e1d66-178">The first set of changes showed you how to discover when the original design indicated that variables shouldn't be set to `null`.</span></span> <span data-ttu-id="e1d66-179">Technika ta jest określana jako **poprawna przez konstrukcję**.</span><span class="sxs-lookup"><span data-stu-id="e1d66-179">The technique is referred to as **correct by construction**.</span></span> <span data-ttu-id="e1d66-180">Deklarujesz, że obiekt i `null` jego właściwości nie mogą być po skonstruowaniu.</span><span class="sxs-lookup"><span data-stu-id="e1d66-180">You declare that an object and its properties cannot be `null` when it's constructed.</span></span> <span data-ttu-id="e1d66-181">Analiza przepływu kompilatora zapewnia pewność, że `null` te właściwości nie są ustawione po zakończeniu budowy.</span><span class="sxs-lookup"><span data-stu-id="e1d66-181">The compiler's flow analysis provides assurance that those properties aren't set to `null` after construction.</span></span> <span data-ttu-id="e1d66-182">Należy zauważyć, że ten konstruktor jest wywoływana przez kod zewnętrzny, a ten kod jest **nullable oblivious**.</span><span class="sxs-lookup"><span data-stu-id="e1d66-182">Note that this constructor is called by external code, and that code is **nullable oblivious**.</span></span> <span data-ttu-id="e1d66-183">Nowa składnia nie zapewnia sprawdzania czasu wykonywania.</span><span class="sxs-lookup"><span data-stu-id="e1d66-183">The new syntax doesn't provide runtime checking.</span></span> <span data-ttu-id="e1d66-184">Kod zewnętrzny może obejść analizę przepływu kompilatora.</span><span class="sxs-lookup"><span data-stu-id="e1d66-184">External code might circumvent the compiler's flow analysis.</span></span>

<span data-ttu-id="e1d66-185">Innym razem struktura klasy zapewnia różne wskazówki do intencji.</span><span class="sxs-lookup"><span data-stu-id="e1d66-185">Other times, the structure of a class provides different clues to the intent.</span></span> <span data-ttu-id="e1d66-186">Otwórz plik *Error.cshtml.cs* w folderze *Strony.*</span><span class="sxs-lookup"><span data-stu-id="e1d66-186">Open the *Error.cshtml.cs* file in the *Pages* folder.</span></span> <span data-ttu-id="e1d66-187">Zawiera `ErrorViewModel` następujący kod:</span><span class="sxs-lookup"><span data-stu-id="e1d66-187">The `ErrorViewModel` contains the following code:</span></span>

[!code-csharp[StarterErrorModel](~/samples/snippets/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Pages/Error.cshtml.cs#StartErrorModel)]

<span data-ttu-id="e1d66-188">Dodaj `#nullable enable` dyrektywy przed deklaracją `#nullable restore` klasy i dyrektywy po nim.</span><span class="sxs-lookup"><span data-stu-id="e1d66-188">Add the `#nullable enable` directive before the class declaration, and a `#nullable restore` directive after it.</span></span> <span data-ttu-id="e1d66-189">Otrzymasz jedno ostrzeżenie, `RequestId` które nie jest inicjowane.</span><span class="sxs-lookup"><span data-stu-id="e1d66-189">You'll get one warning that `RequestId` is not initialized.</span></span> <span data-ttu-id="e1d66-190">Patrząc na klasę, należy zdecydować, że `RequestId` właściwość powinna być null w niektórych przypadkach.</span><span class="sxs-lookup"><span data-stu-id="e1d66-190">By looking at the class, you should decide that the `RequestId` property should be null in some cases.</span></span> <span data-ttu-id="e1d66-191">Istnienie `ShowRequestId` właściwości wskazuje, że brakujące wartości są możliwe.</span><span class="sxs-lookup"><span data-stu-id="e1d66-191">The existence of the `ShowRequestId` property indicates that missing values are possible.</span></span> <span data-ttu-id="e1d66-192">Ponieważ `null` jest `?` prawidłowy, `string` dodaj typ, `RequestId` aby wskazać, że właściwość jest *typem odwołania z wartością null*.</span><span class="sxs-lookup"><span data-stu-id="e1d66-192">Because `null` is valid, add the `?` on the `string` type to indicate the `RequestId` property is a *nullable reference type*.</span></span> <span data-ttu-id="e1d66-193">Klasa końcowa wygląda jak w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="e1d66-193">The final class looks like the following example:</span></span>

[!code-csharp[FinishedErrorModel](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Error.cshtml.cs#ErrorModel)]

<span data-ttu-id="e1d66-194">Sprawdź, czy nie ma zastosowań właściwości, a zobaczysz, że na skojarzonej stronie właściwość jest sprawdzana pod kątem wartości null przed renderowaniem jej w znacznikach.</span><span class="sxs-lookup"><span data-stu-id="e1d66-194">Check for the uses of the property, and you see that in the associated page, the property is checked for null before rendering it in markup.</span></span> <span data-ttu-id="e1d66-195">Jest to bezpieczne użycie typu odwołania z wartością null, więc gotowe z tej klasy.</span><span class="sxs-lookup"><span data-stu-id="e1d66-195">That's a safe use of a nullable reference type, so you're done with this class.</span></span>

## <a name="fixing-nulls-causes-change"></a><span data-ttu-id="e1d66-196">Naprawianie wartości null powoduje zmianę</span><span class="sxs-lookup"><span data-stu-id="e1d66-196">Fixing nulls causes change</span></span>

<span data-ttu-id="e1d66-197">Często poprawka dla jednego zestawu ostrzeżeń tworzy nowe ostrzeżenia w powiązanym kodzie.</span><span class="sxs-lookup"><span data-stu-id="e1d66-197">Frequently, the fix for one set of warnings creates new warnings in related code.</span></span> <span data-ttu-id="e1d66-198">Zobaczmy ostrzeżenia w akcji, naprawiając `index.cshtml.cs` klasę.</span><span class="sxs-lookup"><span data-stu-id="e1d66-198">Let's see the warnings in action by fixing the `index.cshtml.cs` class.</span></span> <span data-ttu-id="e1d66-199">Otwórz `index.cshtml.cs` plik i sprawdź kod.</span><span class="sxs-lookup"><span data-stu-id="e1d66-199">Open the `index.cshtml.cs` file and examine the code.</span></span> <span data-ttu-id="e1d66-200">Ten plik zawiera kod za dla strony indeksu:</span><span class="sxs-lookup"><span data-stu-id="e1d66-200">This file contains the code behind for the index page:</span></span>

[!code-csharp[StarterIndexModel](~/samples/snippets/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Pages/Index.cshtml.cs#IndexModelStart)]

<span data-ttu-id="e1d66-201">Dodaj `#nullable enable` dyrektywę, a zobaczysz dwa ostrzeżenia.</span><span class="sxs-lookup"><span data-stu-id="e1d66-201">Add the `#nullable enable` directive and you'll see two warnings.</span></span> <span data-ttu-id="e1d66-202">Ani właściwość, `ErrorText` ani `NewsItems` właściwość nie są inicjowane.</span><span class="sxs-lookup"><span data-stu-id="e1d66-202">Neither the `ErrorText` property nor the `NewsItems` property is initialized.</span></span> <span data-ttu-id="e1d66-203">Badanie tej klasy prowadzi do przekonania, że obie właściwości powinny być typy odwołań nullable: Oba mają private setters.</span><span class="sxs-lookup"><span data-stu-id="e1d66-203">An examination of this class would lead you to believe that both properties should be nullable reference types: Both have private setters.</span></span> <span data-ttu-id="e1d66-204">Dokładnie jeden jest przypisany w metodzie. `OnGet`</span><span class="sxs-lookup"><span data-stu-id="e1d66-204">Exactly one is assigned in the `OnGet` method.</span></span> <span data-ttu-id="e1d66-205">Przed wprowadzeniem zmian, spójrz na konsumentów obu właściwości.</span><span class="sxs-lookup"><span data-stu-id="e1d66-205">Before making changes, look at the consumers of both properties.</span></span> <span data-ttu-id="e1d66-206">Na samej stronie `ErrorText` jest sprawdzana na null przed wygenerowaniem znaczników dla błędów.</span><span class="sxs-lookup"><span data-stu-id="e1d66-206">In the page itself, the `ErrorText` is checked against null before generating markup for any errors.</span></span> <span data-ttu-id="e1d66-207">Kolekcja `NewsItems` jest sprawdzana `null`i sprawdzana, aby upewnić się, że kolekcja ma przedmioty.</span><span class="sxs-lookup"><span data-stu-id="e1d66-207">The `NewsItems` collection is checked against `null`, and checked to ensure the collection has items.</span></span> <span data-ttu-id="e1d66-208">Szybka poprawka będzie, aby obie właściwości nullable typy odwołań.</span><span class="sxs-lookup"><span data-stu-id="e1d66-208">A quick fix would be to make both properties nullable reference types.</span></span> <span data-ttu-id="e1d66-209">Lepszą poprawką byłoby uczynienie kolekcji typem odwołania nieunieważnialnym i dodawanie elementów do istniejącej kolekcji podczas pobierania wiadomości.</span><span class="sxs-lookup"><span data-stu-id="e1d66-209">A better fix would be to make the collection a nonnullable reference type, and add items to the existing collection when retrieving news.</span></span> <span data-ttu-id="e1d66-210">Pierwszą poprawką jest `?` dodanie `string` do `ErrorText`typu :</span><span class="sxs-lookup"><span data-stu-id="e1d66-210">The first fix is to add the `?` to the `string` type for the `ErrorText`:</span></span>

[!code-csharp[UpdateErrorText](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#UpdateErrorText)]

<span data-ttu-id="e1d66-211">Ta zmiana nie będzie tętnić przez inny `ErrorText` kod, ponieważ każdy dostęp do właściwości był już strzeżony przez kontrole zerowe.</span><span class="sxs-lookup"><span data-stu-id="e1d66-211">That change won't ripple through other code, because any access to the `ErrorText` property was already guarded by null checks.</span></span> <span data-ttu-id="e1d66-212">Następnie zainicjować `NewsItems` listę i usunąć setter właściwości, co czyni go readonly właściwość:</span><span class="sxs-lookup"><span data-stu-id="e1d66-212">Next, initialize the `NewsItems` list and remove the property setter, making it a readonly property:</span></span>

[!code-csharp[InitializeNewsItems](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#InitializeNewsItems)]

<span data-ttu-id="e1d66-213">To naprawił ostrzeżenie, ale wprowadzono błąd.</span><span class="sxs-lookup"><span data-stu-id="e1d66-213">That fixed the warning but introduced an error.</span></span> <span data-ttu-id="e1d66-214">Lista `NewsItems` jest teraz **poprawna według konstrukcji,** ale `OnGet` kod, który ustawia listę, musi zostać zmienił, aby pasował do nowego interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="e1d66-214">The `NewsItems` list is now **correct by construction**, but the code that sets the list in `OnGet` must change to match the new API.</span></span> <span data-ttu-id="e1d66-215">Zamiast przypisania, `AddRange` zadzwoń, aby dodać elementy wiadomości do istniejącej listy:</span><span class="sxs-lookup"><span data-stu-id="e1d66-215">Instead of an assignment, call `AddRange` to add the news items to the existing list:</span></span>

[!code-csharp[AddRange](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#AddRange)]

<span data-ttu-id="e1d66-216">Użycie `AddRange` zamiast przypisania oznacza, że `GetNews` `IEnumerable` metoda może `List`zwrócić zamiast .</span><span class="sxs-lookup"><span data-stu-id="e1d66-216">Using `AddRange` instead of an assignment means that the `GetNews` method can return an `IEnumerable` instead of a `List`.</span></span> <span data-ttu-id="e1d66-217">To oszczędza jedną alokację.</span><span class="sxs-lookup"><span data-stu-id="e1d66-217">That saves one allocation.</span></span> <span data-ttu-id="e1d66-218">Zmień podpis metody i usuń `ToList` wywołanie, jak pokazano w poniższym przykładzie kodu:</span><span class="sxs-lookup"><span data-stu-id="e1d66-218">Change the signature of the method, and remove the `ToList` call, as shown in the following code sample:</span></span>

[!code-csharp[GetNews](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#GetNewsFinished)]

<span data-ttu-id="e1d66-219">Zmiana podpisu przerywa również jeden z testów.</span><span class="sxs-lookup"><span data-stu-id="e1d66-219">Changing the signature breaks one of tests as well.</span></span> <span data-ttu-id="e1d66-220">Otwórz `NewsServiceTests.cs` plik w `Services` folderze `SimpleFeedReader.Tests` projektu.</span><span class="sxs-lookup"><span data-stu-id="e1d66-220">Open the `NewsServiceTests.cs` file in the `Services` folder of the `SimpleFeedReader.Tests` project.</span></span> <span data-ttu-id="e1d66-221">Przejdź do `Returns_News_Stories_Given_Valid_Uri` testu i zmień `result` typ `IEnumerable<NewsItem>`zmiennej na .</span><span class="sxs-lookup"><span data-stu-id="e1d66-221">Navigate to the `Returns_News_Stories_Given_Valid_Uri` test and change the type of the `result` variable to `IEnumerable<NewsItem>`.</span></span> <span data-ttu-id="e1d66-222">Zmiana typu `Count` oznacza, że właściwość nie jest `Count` już `Assert` dostępna, więc `Any()`zamień właściwość w wywołaniu:</span><span class="sxs-lookup"><span data-stu-id="e1d66-222">Changing the type means the `Count` property is no longer available, so replace the `Count` property in the `Assert` with a call to `Any()`:</span></span>

[!code-csharp[FixTests](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader.Tests/Services/NewsServiceTests.cs#FixTestSignature)]

<span data-ttu-id="e1d66-223">Należy również dodać instrukcję `using System.Linq` na początku pliku.</span><span class="sxs-lookup"><span data-stu-id="e1d66-223">You'll need to add a `using System.Linq` statement to the beginning of the file as well.</span></span>

<span data-ttu-id="e1d66-224">Ten zestaw zmian podkreśla szczególną uwagę podczas aktualizowania kodu, który zawiera ogólne wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="e1d66-224">This set of changes highlights special consideration when updating code that includes generic instantiations.</span></span> <span data-ttu-id="e1d66-225">Zarówno lista, jak i elementy na liście typów niepodlegających zerwanym.</span><span class="sxs-lookup"><span data-stu-id="e1d66-225">Both the list and the elements in the list of non-nullable types.</span></span> <span data-ttu-id="e1d66-226">Typy z możliwością odmienne lub oba mogą być typami z możliwością null.</span><span class="sxs-lookup"><span data-stu-id="e1d66-226">Either or both could be nullable types.</span></span> <span data-ttu-id="e1d66-227">Dozwolone są wszystkie następujące deklaracje:</span><span class="sxs-lookup"><span data-stu-id="e1d66-227">All the following declarations are allowed:</span></span>

- <span data-ttu-id="e1d66-228">`List<NewsStoryViewModel>`: nieunieważniona lista nieunieważnialnych modeli widoku.</span><span class="sxs-lookup"><span data-stu-id="e1d66-228">`List<NewsStoryViewModel>`: nonnullable list of nonullable view models.</span></span>
- <span data-ttu-id="e1d66-229">`List<NewsStoryViewModel?>`: nieunieważnialna lista modeli widoku unieważnianego.</span><span class="sxs-lookup"><span data-stu-id="e1d66-229">`List<NewsStoryViewModel?>`: nonnullable list of nullable view models.</span></span>
- <span data-ttu-id="e1d66-230">`List<NewsStoryViewModel>?`: lista widoków niepodlegających unieważnieniu.</span><span class="sxs-lookup"><span data-stu-id="e1d66-230">`List<NewsStoryViewModel>?`: nullable list of nonnullable view models.</span></span>
- <span data-ttu-id="e1d66-231">`List<NewsStoryViewModel?>?`: lista widoków nullable.</span><span class="sxs-lookup"><span data-stu-id="e1d66-231">`List<NewsStoryViewModel?>?`: nullable list of nullable view models.</span></span>

## <a name="interfaces-with-external-code"></a><span data-ttu-id="e1d66-232">Interfejsy z kodem zewnętrznym</span><span class="sxs-lookup"><span data-stu-id="e1d66-232">Interfaces with external code</span></span>

<span data-ttu-id="e1d66-233">Wprowadzono zmiany w `NewsService` klasie, więc włącz `#nullable enable` adnotację dla tej klasy.</span><span class="sxs-lookup"><span data-stu-id="e1d66-233">You've made changes to the `NewsService` class, so turn on the `#nullable enable` annotation for that class.</span></span> <span data-ttu-id="e1d66-234">Nie spowoduje to wygenerowania żadnych nowych ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="e1d66-234">This won't generate any new warnings.</span></span> <span data-ttu-id="e1d66-235">Jednak dokładne zbadanie klasy pomaga zilustrować niektóre ograniczenia analizy przepływu kompilatora.</span><span class="sxs-lookup"><span data-stu-id="e1d66-235">However, careful examination of the class helps to illustrate some of the limitations of the compiler's flow analysis.</span></span> <span data-ttu-id="e1d66-236">Sprawdź konstruktora:</span><span class="sxs-lookup"><span data-stu-id="e1d66-236">Examine the constructor:</span></span>

[!code-csharp[ServiceConstructor](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#ServiceConstructor)]

<span data-ttu-id="e1d66-237">Parametr `IMapper` jest wpisywany jako odwołanie niepodlegające unieważnieniu.</span><span class="sxs-lookup"><span data-stu-id="e1d66-237">The `IMapper` parameter is typed as a nonnullable reference.</span></span> <span data-ttu-id="e1d66-238">Jest wywoływana przez ASP.NET core kod infrastruktury, więc kompilator tak naprawdę nie wie, że nigdy nie `IMapper` będzie null.</span><span class="sxs-lookup"><span data-stu-id="e1d66-238">It's called by ASP.NET Core infrastructure code, so the compiler doesn't really know that the `IMapper` will never be null.</span></span> <span data-ttu-id="e1d66-239">Domyślny ASP.NET Core dependency injection (DI) kontener zgłasza wyjątek, jeśli nie można rozwiązać niezbędne usługi, więc kod jest poprawny.</span><span class="sxs-lookup"><span data-stu-id="e1d66-239">The default ASP.NET Core dependency injection (DI) container throws an exception if it can't resolve a necessary service, so the code is correct.</span></span> <span data-ttu-id="e1d66-240">Kompilator nie może sprawdzić poprawności wszystkich wywołań publicznych interfejsów API, nawet jeśli kod jest kompilowany z włączonymi kontekstami adnotacji nullable.</span><span class="sxs-lookup"><span data-stu-id="e1d66-240">The compiler can't validate all calls to your public APIs, even if your code is compiled with nullable annotation contexts enabled.</span></span> <span data-ttu-id="e1d66-241">Ponadto biblioteki mogą być używane przez projekty, które nie zostały jeszcze włączone do używania typów odwołań nullable.</span><span class="sxs-lookup"><span data-stu-id="e1d66-241">Furthermore, your libraries may be consumed by projects that have not yet opted into using nullable reference types.</span></span> <span data-ttu-id="e1d66-242">Sprawdź poprawność danych wejściowych do publicznych interfejsów API, nawet jeśli zostały zadeklarowane jako typy niepodlegające unieważnieniu.</span><span class="sxs-lookup"><span data-stu-id="e1d66-242">Validate inputs to public APIs even though you've declared them as nonnullable types.</span></span>

## <a name="get-the-code"></a><span data-ttu-id="e1d66-243">Uzyskiwanie kodu</span><span class="sxs-lookup"><span data-stu-id="e1d66-243">Get the code</span></span>

<span data-ttu-id="e1d66-244">Poprawiono ostrzeżenia zidentyfikowane w kompilacji testu początkowego, więc teraz można włączyć kontekst adnotacji nullable dla obu projektów.</span><span class="sxs-lookup"><span data-stu-id="e1d66-244">You've fixed the warnings you identified in the initial test compile, so now you can turn on the nullable annotation context for both projects.</span></span> <span data-ttu-id="e1d66-245">Odbudować projekty; kompilator nie zgłasza żadnych ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="e1d66-245">Rebuild the projects; the compiler reports no warnings.</span></span> <span data-ttu-id="e1d66-246">Kod gotowego projektu można uzyskać w repozytorium [githubdodot/próbki dotnet/samples.](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/finished)</span><span class="sxs-lookup"><span data-stu-id="e1d66-246">You can get the code for the finished project in the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/finished) GitHub repository.</span></span>

<span data-ttu-id="e1d66-247">Nowe funkcje, które obsługują typy odwołań nullable pomóc `null` znaleźć i naprawić potencjalne błędy w sposobie obsługi wartości w kodzie.</span><span class="sxs-lookup"><span data-stu-id="e1d66-247">The new features that support nullable reference types help you find and fix potential errors in how you handle `null` values in your code.</span></span> <span data-ttu-id="e1d66-248">Włączenie kontekstu adnotacji nullable umożliwia wyrażenie intencji projektu: niektóre zmienne nigdy nie powinny być null, inne zmienne mogą zawierać wartości null.</span><span class="sxs-lookup"><span data-stu-id="e1d66-248">Enabling the nullable annotation context allows you to express your design intent: some variables should never be null, other variables may contain null values.</span></span> <span data-ttu-id="e1d66-249">Te funkcje ułatwiają deklarowanie intencji projektu.</span><span class="sxs-lookup"><span data-stu-id="e1d66-249">These features make it easier for you to declare your design intent.</span></span> <span data-ttu-id="e1d66-250">Podobnie kontekst ostrzeżenia nullins kompilator do wydawania ostrzeżeń, gdy zostały naruszone tego zamiaru.</span><span class="sxs-lookup"><span data-stu-id="e1d66-250">Similarly, the nullable warning context instructs the compiler to issue warnings when you have violated that intent.</span></span> <span data-ttu-id="e1d66-251">Te ostrzeżenia prowadzą do tworzenia aktualizacji, które sprawiają, że `NullReferenceException` kod bardziej odporne i mniej prawdopodobne, aby zgłosić podczas wykonywania.</span><span class="sxs-lookup"><span data-stu-id="e1d66-251">Those warnings guide you to make updates that make your code more resilient and less likely to throw a `NullReferenceException` during execution.</span></span> <span data-ttu-id="e1d66-252">Można kontrolować zakres tych kontekstów, dzięki czemu można skupić się na lokalnych obszarach kodu do migracji, podczas gdy pozostała baza kodu jest nietknięta.</span><span class="sxs-lookup"><span data-stu-id="e1d66-252">You can control the scope of these contexts so that you can focus on local areas of code to migrate while the remaining codebase is untouched.</span></span> <span data-ttu-id="e1d66-253">W praktyce można zrobić to zadanie migracji częścią regularnej konserwacji do klas.</span><span class="sxs-lookup"><span data-stu-id="e1d66-253">In practice, you can make this migration task a part of regular maintenance to your classes.</span></span> <span data-ttu-id="e1d66-254">W tym samouczku pokazano proces migracji aplikacji do używania typów odwołań nullable.</span><span class="sxs-lookup"><span data-stu-id="e1d66-254">This tutorial demonstrated the process to migrate an application to use nullable reference types.</span></span> <span data-ttu-id="e1d66-255">Można zbadać większy rzeczywisty przykład tego procesu, badając PR [Jon Skeet](https://github.com/jskeet) wykonane w celu włączenia typów odwołań nullable do [NodaTime](https://github.com/nodatime/nodatime/pull/1240/commits).</span><span class="sxs-lookup"><span data-stu-id="e1d66-255">You can explore a larger real-world example of this process by examining the PR [Jon Skeet](https://github.com/jskeet) made to incorporate nullable reference types into [NodaTime](https://github.com/nodatime/nodatime/pull/1240/commits).</span></span> <span data-ttu-id="e1d66-256">Lub po prostu Ponadto można nauczyć się technik używania typów odwołań nullable z entity framework core w [jednostce Framework Core — praca z typami odwołań nullable](/ef/core/miscellaneous/nullable-reference-types).</span><span class="sxs-lookup"><span data-stu-id="e1d66-256">Or just In addition, you can learn techniques for using nullable reference types with Entity Framework Core in [Entity Framework Core - Working with nullable reference types](/ef/core/miscellaneous/nullable-reference-types).</span></span>
