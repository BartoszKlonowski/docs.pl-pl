---
title: Uaktualnij do typów referencyjnych dopuszczających wartość null
description: W tym zaawansowanym samouczku pokazano, jak migrować istniejący kod z typami referencyjnymi nullable.
ms.date: 02/19/2019
ms.technology: csharp-null-safety
ms.custom: mvc
ms.openlocfilehash: 38619f9efa5da1f9b3264b3d4240103f0869afea
ms.sourcegitcommit: 43d10ef65f0f1fd6c3b515e363bde11a3fcd8d6d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/03/2020
ms.locfileid: "78240031"
---
# <a name="tutorial-migrate-existing-code-with-nullable-reference-types"></a><span data-ttu-id="8834d-103">Samouczek: Migrowanie istniejącego kodu z typami referencyjnymi Nullable</span><span class="sxs-lookup"><span data-stu-id="8834d-103">Tutorial: Migrate existing code with nullable reference types</span></span>

<span data-ttu-id="8834d-104">C#8 wprowadza **typy odwołań do wartości null**, które uzupełniają typy odwołań w taki sam sposób, jak typy wartości null uzupełniają typy wartości.</span><span class="sxs-lookup"><span data-stu-id="8834d-104">C# 8 introduces **nullable reference types**, which complement reference types the same way nullable value types complement value types.</span></span> <span data-ttu-id="8834d-105">Należy zadeklarować zmienną jako **typ referencyjny dopuszczający wartość null** poprzez dołączenie `?` do typu.</span><span class="sxs-lookup"><span data-stu-id="8834d-105">You declare a variable to be a **nullable reference type** by appending a `?` to the type.</span></span> <span data-ttu-id="8834d-106">Na przykład `string?` reprezentuje `string`dopuszczające wartość null.</span><span class="sxs-lookup"><span data-stu-id="8834d-106">For example, `string?` represents a nullable `string`.</span></span> <span data-ttu-id="8834d-107">Możesz użyć tych nowych typów, aby dokładniej wyznaczać intencje projektowania: niektóre zmienne *muszą zawsze mieć wartość*, inne *mogą nie mieć wartości*.</span><span class="sxs-lookup"><span data-stu-id="8834d-107">You can use these new types to more clearly express your design intent: some variables *must always have a value*, others *may be missing a value*.</span></span> <span data-ttu-id="8834d-108">Wszystkie istniejące zmienne typu referencyjnego byłyby interpretowane jako typ referencyjny, który nie dopuszcza wartości null.</span><span class="sxs-lookup"><span data-stu-id="8834d-108">Any existing variables of a reference type would be interpreted as a non-nullable reference type.</span></span> 

<span data-ttu-id="8834d-109">Ten samouczek zawiera informacje na temat wykonywania następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="8834d-109">In this tutorial, you'll learn how to:</span></span>

> [!div class="checklist"]
>
> - <span data-ttu-id="8834d-110">Włącz sprawdzanie odwołań o wartości null podczas pracy z kodem.</span><span class="sxs-lookup"><span data-stu-id="8834d-110">Enable null reference checks as you work with code.</span></span>
> - <span data-ttu-id="8834d-111">Diagnozuj i popraw różne ostrzeżenia związane z wartościami null.</span><span class="sxs-lookup"><span data-stu-id="8834d-111">Diagnose and correct different warnings related to null values.</span></span>
> - <span data-ttu-id="8834d-112">Zarządzaj interfejsem pomiędzy włączonymi do dopuszczania wartości null a niedozwolonymi kontekstami.</span><span class="sxs-lookup"><span data-stu-id="8834d-112">Manage the interface between nullable enabled and nullable disabled contexts.</span></span>
> - <span data-ttu-id="8834d-113">Kontrolowanie kontekstów adnotacji dopuszczających wartość null.</span><span class="sxs-lookup"><span data-stu-id="8834d-113">Control nullable annotation contexts.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="8834d-114">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="8834d-114">Prerequisites</span></span>

<span data-ttu-id="8834d-115">Musisz skonfigurować maszynę do uruchamiania programu .NET Core, w tym kompilatora C# 8,0.</span><span class="sxs-lookup"><span data-stu-id="8834d-115">You’ll need to set up your machine to run .NET Core, including the C# 8.0 compiler.</span></span> <span data-ttu-id="8834d-116">C# 8 kompilator jest dostępny w programie [Visual Studio 2019 w wersji 16,3](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019) lub [.NET Core 3,0 SDK](https://dotnet.microsoft.com/download).</span><span class="sxs-lookup"><span data-stu-id="8834d-116">The C# 8 compiler is available starting with [Visual Studio 2019 version 16.3](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019) or [.NET Core 3.0 SDK](https://dotnet.microsoft.com/download).</span></span>

<span data-ttu-id="8834d-117">W C# tym samouczku założono, że wiesz już, jak i .NET, w tym Visual Studio lub interfejs wiersza polecenia platformy .NET Core.</span><span class="sxs-lookup"><span data-stu-id="8834d-117">This tutorial assumes you're familiar with C# and .NET, including either Visual Studio or the .NET Core CLI.</span></span>

## <a name="explore-the-sample-application"></a><span data-ttu-id="8834d-118">Eksplorowanie przykładowej aplikacji</span><span class="sxs-lookup"><span data-stu-id="8834d-118">Explore the sample application</span></span>

<span data-ttu-id="8834d-119">Przeprowadzona Przykładowa aplikacja jest aplikacją internetową czytnika kanału informacyjnego RSS.</span><span class="sxs-lookup"><span data-stu-id="8834d-119">The sample application that you'll migrate is an RSS feed reader web app.</span></span> <span data-ttu-id="8834d-120">Odczytuje z pojedynczego kanału informacyjnego RSS i wyświetla podsumowania dla najnowszych artykułów.</span><span class="sxs-lookup"><span data-stu-id="8834d-120">It reads from a single RSS feed and displays summaries for the most recent articles.</span></span> <span data-ttu-id="8834d-121">Aby odwiedzić witrynę, możesz wybrać dowolny z tych artykułów.</span><span class="sxs-lookup"><span data-stu-id="8834d-121">You can select any of the articles to visit the site.</span></span> <span data-ttu-id="8834d-122">Aplikacja jest stosunkowo nowa, ale została zapisywana przed udostępnieniem typów referencyjnych dopuszczających wartości null.</span><span class="sxs-lookup"><span data-stu-id="8834d-122">The application is relatively new but was written before nullable reference types were available.</span></span> <span data-ttu-id="8834d-123">Decyzje projektowe dotyczące zasad dotyczących dźwięku reprezentowane przez aplikację, ale nie korzystają z tej ważnej funkcji języka.</span><span class="sxs-lookup"><span data-stu-id="8834d-123">The design decisions for the application represented sound principles, but don't take advantage of this important language feature.</span></span>

<span data-ttu-id="8834d-124">Przykładowa aplikacja zawiera bibliotekę testów jednostkowych, która sprawdza poprawność głównych funkcji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8834d-124">The sample application includes a unit test library that validates the major functionality of the app.</span></span> <span data-ttu-id="8834d-125">Ten projekt ułatwi bezpieczne uaktualnienie, jeśli zmienisz dowolną implementację w oparciu o wygenerowane ostrzeżenia.</span><span class="sxs-lookup"><span data-stu-id="8834d-125">That project will make it easier to upgrade safely, if you change any of the implementation based on the warnings generated.</span></span> <span data-ttu-id="8834d-126">Możesz pobrać kod początkowy z repozytorium usługi GitHub [/przykłady](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/start) .</span><span class="sxs-lookup"><span data-stu-id="8834d-126">You can download the starter code from the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/start) GitHub repository.</span></span>

<span data-ttu-id="8834d-127">Celem migrowania projektu powinna być skorzystanie z nowych funkcji języka, aby wyraźnie wyrażać intencję do wartości null zmiennych, a tym samym w taki sposób, aby kompilator nie generował ostrzeżeń w przypadku, gdy użytkownik ma kontekst adnotacji z wartością null i `enabled`kontekst ostrzeżenia dopuszczający wartość null.</span><span class="sxs-lookup"><span data-stu-id="8834d-127">Your goal migrating a project should be to leverage the new language features so that you clearly express your intent on the nullability of variables, and do so in such a way that the compiler doesn't generate warnings when you have the nullable annotation context and nullable warning context set to `enabled`.</span></span>

## <a name="upgrade-the-projects-to-c-8"></a><span data-ttu-id="8834d-128">Uaktualnij projekty do C# 8</span><span class="sxs-lookup"><span data-stu-id="8834d-128">Upgrade the projects to C# 8</span></span>

<span data-ttu-id="8834d-129">Dobrym pierwszym krokiem jest określenie zakresu zadania migracji.</span><span class="sxs-lookup"><span data-stu-id="8834d-129">A good first step is to determine the scope of the migration task.</span></span> <span data-ttu-id="8834d-130">Zacznij od uaktualnienia projektu do C# 8,0 (lub nowszego).</span><span class="sxs-lookup"><span data-stu-id="8834d-130">Start by upgrading the project to C# 8.0 (or newer).</span></span> <span data-ttu-id="8834d-131">Dodaj element `LangVersion` do właściwości Property w obu plikach csproj dla projektu sieci Web i projektu testów jednostkowych:</span><span class="sxs-lookup"><span data-stu-id="8834d-131">Add the `LangVersion` element to the PropertyGroup in both csproj files for the web project and the unit test project:</span></span>

```xml
<LangVersion>8.0</LangVersion>
```

<span data-ttu-id="8834d-132">Uaktualnienie wersji językowej powoduje C# wybranie 8,0, ale nie włączenie kontekstu adnotacji nullable ani kontekstu ostrzeżenia o wartości null.</span><span class="sxs-lookup"><span data-stu-id="8834d-132">Upgrading the language version selects C# 8.0, but does not enable the nullable annotation context or the nullable warning context.</span></span> <span data-ttu-id="8834d-133">Skompiluj ponownie projekt, aby upewnić się, że kompiluje się bez ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="8834d-133">Rebuild the project to ensure that it builds without warnings.</span></span>

<span data-ttu-id="8834d-134">Dobrym następnym krokiem jest włączenie kontekstu adnotacji nullable i zobacz, ile ostrzeżeń jest generowanych.</span><span class="sxs-lookup"><span data-stu-id="8834d-134">A good next step is to turn on the nullable annotation context and see how many warnings are generated.</span></span> <span data-ttu-id="8834d-135">Dodaj następujący element do obu plików csproj w rozwiązaniu bezpośrednio pod elementem `LangVersion`:</span><span class="sxs-lookup"><span data-stu-id="8834d-135">Add the following element to both csproj files in the solution, directly under the `LangVersion` element:</span></span>

```xml
<Nullable>enable</Nullable>
```

<span data-ttu-id="8834d-136">Wykonaj kompilację testową i zwróć uwagę na listę ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="8834d-136">Do a test build, and notice the warning list.</span></span> <span data-ttu-id="8834d-137">W tej małej aplikacji kompilator generuje pięć ostrzeżeń, więc prawdopodobnie pozostawisz kontekst adnotacji z dopuszczaniem wartości null i Rozpocznij naprawianie ostrzeżeń dla całego projektu.</span><span class="sxs-lookup"><span data-stu-id="8834d-137">In this small application, the compiler generates five warnings, so it's likely you'd leave the nullable annotation context enabled and start fixing warnings for the entire project.</span></span>

<span data-ttu-id="8834d-138">Ta strategia działa tylko w przypadku mniejszych projektów.</span><span class="sxs-lookup"><span data-stu-id="8834d-138">That strategy works only for smaller projects.</span></span> <span data-ttu-id="8834d-139">W przypadku większych projektów liczba ostrzeżeń generowanych przez włączenie kontekstu adnotacji dopuszczających wartość null dla całej bazy kodu utrudnia systematyczne Rozwiązywanie ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="8834d-139">For any larger projects, the number of warnings generated by enabling the nullable annotation context for the entire codebase makes it harder to fix the warnings systematically.</span></span> <span data-ttu-id="8834d-140">W przypadku większych projektów przedsiębiorstwa często zajdzie potrzeba migracji jednego projektu jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="8834d-140">For larger enterprise projects, you'll often want to migrate one project at a time.</span></span> <span data-ttu-id="8834d-141">W każdym projekcie Przeprowadź migrację jednej klasy lub pliku jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="8834d-141">In each project, migrate one class or file at a time.</span></span>

## <a name="warnings-help-discover-original-design-intent"></a><span data-ttu-id="8834d-142">Ostrzeżenia ułatwiają odnajdywanie oryginalnego zamiaru projektu</span><span class="sxs-lookup"><span data-stu-id="8834d-142">Warnings help discover original design intent</span></span>

<span data-ttu-id="8834d-143">Istnieją dwie klasy, które generują wiele ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="8834d-143">There are two classes that generate multiple warnings.</span></span> <span data-ttu-id="8834d-144">Zacznij od klasy `NewsStoryViewModel`.</span><span class="sxs-lookup"><span data-stu-id="8834d-144">Start with the `NewsStoryViewModel` class.</span></span> <span data-ttu-id="8834d-145">Usuń element `Nullable` z obu plików csproj, aby ograniczyć zakres ostrzeżeń do sekcji kodu, z którym pracujesz.</span><span class="sxs-lookup"><span data-stu-id="8834d-145">Remove the `Nullable` element from both csproj files so that you can limit the scope of warnings to the sections of code you're working with.</span></span> <span data-ttu-id="8834d-146">Otwórz plik *NewsStoryViewModel.cs* i Dodaj następujące dyrektywy, aby włączyć kontekst adnotacji dopuszczający wartość null dla `NewsStoryViewModel` i przywrócić go po tej definicji klasy:</span><span class="sxs-lookup"><span data-stu-id="8834d-146">Open the *NewsStoryViewModel.cs* file and add the following directives to enable the nullable annotation context for the `NewsStoryViewModel` and restore it following that class definition:</span></span>

```csharp
#nullable enable
public class NewsStoryViewModel
{
    public DateTimeOffset Published { get; set; }
    public string Title { get; set; }
    public string Uri { get; set; }
}
#nullable restore
```

<span data-ttu-id="8834d-147">Te dwie dyrektywy pomagają skupić się na zadaniu migracji.</span><span class="sxs-lookup"><span data-stu-id="8834d-147">These two directives help you focus your migration efforts.</span></span> <span data-ttu-id="8834d-148">Ostrzeżenia dopuszczające wartość null są generowane dla obszaru kodu, nad którym pracujesz.</span><span class="sxs-lookup"><span data-stu-id="8834d-148">The nullable warnings are generated for the area of code you're actively working on.</span></span> <span data-ttu-id="8834d-149">Pozostawisz je do momentu, aż wszystko będzie gotowe do włączenia ostrzeżeń dla całego projektu.</span><span class="sxs-lookup"><span data-stu-id="8834d-149">You'll leave them on until you're ready to turn on the warnings for the entire project.</span></span> <span data-ttu-id="8834d-150">Należy używać `restore`, a nie `disable` wartości, aby uniemożliwić przypadkowe wyłączenie tego kontekstu po włączeniu adnotacji do wartości null dla całego projektu.</span><span class="sxs-lookup"><span data-stu-id="8834d-150">You should use the `restore` rather than `disable` value so that you don't accidentally disable the context later when you've turned on nullable annotations for the entire project.</span></span> <span data-ttu-id="8834d-151">Po włączeniu kontekstu adnotacji do wartości null dla całego projektu można usunąć wszystkie `#nullable` pragm z tego projektu.</span><span class="sxs-lookup"><span data-stu-id="8834d-151">Once you've turned on the nullable annotation context for the entire project, you can remove all the `#nullable` pragmas from that project.</span></span>

<span data-ttu-id="8834d-152">Klasa `NewsStoryViewModel` jest obiektem transferu danych (DTO), a dwie właściwości są ciągami odczytu/zapisu:</span><span class="sxs-lookup"><span data-stu-id="8834d-152">The `NewsStoryViewModel` class is a data transfer object (DTO) and two of the properties are read/write strings:</span></span>

[!code-csharp[InitialViewModel](~/samples/snippets/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/ViewModels/NewsStoryViewModel.cs#StarterViewModel)]

<span data-ttu-id="8834d-153">Te dwie właściwości powodują `CS8618`"Właściwość niebędąca dopuszczaniem wartości null jest niezainicjowana".</span><span class="sxs-lookup"><span data-stu-id="8834d-153">These two properties cause `CS8618`, "Non-nullable property is uninitialized".</span></span> <span data-ttu-id="8834d-154">Jest to wystarczająco jasne: obie `string` właściwości mają wartość domyślną `null` podczas konstruowania `NewsStoryViewModel`.</span><span class="sxs-lookup"><span data-stu-id="8834d-154">That's clear enough: both `string` properties have the default value of `null` when a `NewsStoryViewModel` is constructed.</span></span> <span data-ttu-id="8834d-155">Ważne do odnajdowania to sposób konstruowania obiektów `NewsStoryViewModel`.</span><span class="sxs-lookup"><span data-stu-id="8834d-155">What's important to discover is how `NewsStoryViewModel` objects are constructed.</span></span> <span data-ttu-id="8834d-156">Patrząc na tę klasę, nie można stwierdzić, czy wartość `null` jest częścią projektu lub czy te obiekty są ustawione na wartości inne niż null, gdy zostanie utworzony jeden.</span><span class="sxs-lookup"><span data-stu-id="8834d-156">Looking at this class, you can't tell if the `null` value is part of the design, or if these objects are set to non-null values whenever one is created.</span></span> <span data-ttu-id="8834d-157">Historie wiadomości są tworzone w metodzie `GetNews` klasy `NewsService`:</span><span class="sxs-lookup"><span data-stu-id="8834d-157">The news stories are created in the `GetNews` method of the `NewsService` class:</span></span>

[!code-csharp[StarterCreateNewsItem](~/samples/snippets/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Services/NewsService.cs#CreateNewsItem)]

<span data-ttu-id="8834d-158">W poprzednim bloku kodu jest już w toku.</span><span class="sxs-lookup"><span data-stu-id="8834d-158">There's quite a bit going on in the preceding block of code.</span></span> <span data-ttu-id="8834d-159">Ta aplikacja używa pakietu NuGet [automapowania](https://automapper.org/) do konstruowania elementu wiadomości z `ISyndicationItem`.</span><span class="sxs-lookup"><span data-stu-id="8834d-159">This application uses the [AutoMapper](https://automapper.org/) NuGet package to construct a news item from an `ISyndicationItem`.</span></span> <span data-ttu-id="8834d-160">Wykryto, że są konstruowane elementy historii wiadomości i właściwości są ustawiane w jednej instrukcji.</span><span class="sxs-lookup"><span data-stu-id="8834d-160">You've discovered that the news story items are constructed and the properties are set in that one statement.</span></span> <span data-ttu-id="8834d-161">Oznacza to, że projekt `NewsStoryViewModel` wskazuje, że te właściwości nigdy nie powinny mieć wartości `null`.</span><span class="sxs-lookup"><span data-stu-id="8834d-161">That means the design for the `NewsStoryViewModel` indicates that these properties should never have the `null` value.</span></span> <span data-ttu-id="8834d-162">Te właściwości powinny mieć **niezerowe typy odwołań**.</span><span class="sxs-lookup"><span data-stu-id="8834d-162">These properties should be **nonnullable reference types**.</span></span> <span data-ttu-id="8834d-163">To najlepiej reprezentuje pierwotny cel projektowania.</span><span class="sxs-lookup"><span data-stu-id="8834d-163">That best expresses the original design intent.</span></span> <span data-ttu-id="8834d-164">W rzeczywistości wszystkie `NewsStoryViewModel` *są* poprawnie tworzone przy użyciu wartości innych niż null.</span><span class="sxs-lookup"><span data-stu-id="8834d-164">In fact, any `NewsStoryViewModel` *is* correctly instantiated with non-null values.</span></span> <span data-ttu-id="8834d-165">Powoduje to, że następujący kod inicjujący ma prawidłową poprawkę:</span><span class="sxs-lookup"><span data-stu-id="8834d-165">That makes the following initialization code a valid fix:</span></span>

```csharp
public class NewsStoryViewModel
{
    public DateTimeOffset Published { get; set; }
    public string Title { get; set; } = default!;
    public string Uri { get; set; } = default!;
}
```

<span data-ttu-id="8834d-166">Przypisanie `Title` i `Uri` do `default` `null` dla typu `string` nie zmienia zachowania programu w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="8834d-166">The assignment of `Title` and `Uri` to `default` which is `null` for the `string` type doesn't change the runtime behavior of the program.</span></span> <span data-ttu-id="8834d-167">`NewsStoryViewModel` nadal jest zbudowana z wartościami null, ale teraz kompilator nie zgłasza ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="8834d-167">The `NewsStoryViewModel` is still constructed with null values, but now the compiler reports no warnings.</span></span> <span data-ttu-id="8834d-168">**Operator łagodniejszej o wartości null**, znak `!` po wyrażeniu `default` informuje kompilator, że poprzednie wyrażenie nie ma wartości null.</span><span class="sxs-lookup"><span data-stu-id="8834d-168">The **null-forgiving operator**, the `!` character following the `default` expression tells the compiler that the preceding expression is not null.</span></span> <span data-ttu-id="8834d-169">Ta technika może być taka, gdy inne zmiany wymuszają znacznie większe zmiany w bazie kodu, ale w tej aplikacji istnieje stosunkowo szybkie i lepsze rozwiązanie: uczyń `NewsStoryViewModel` niezmiennym typem, gdzie wszystkie właściwości są ustawiane w konstruktorze.</span><span class="sxs-lookup"><span data-stu-id="8834d-169">This technique may be expedient when other changes force much larger changes to a code base, but in this application there is a relatively quick and better solution: Make the `NewsStoryViewModel` an immutable type where all the properties are set in the constructor.</span></span> <span data-ttu-id="8834d-170">Wprowadź następujące zmiany w `NewsStoryViewModel`:</span><span class="sxs-lookup"><span data-stu-id="8834d-170">Make the following changes to the `NewsStoryViewModel`:</span></span>

[!code-csharp[FinishedViewModel](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/ViewModels/NewsStoryViewModel.cs#FinishedViewModel)]

<span data-ttu-id="8834d-171">Po wykonaniu tej czynności należy zaktualizować kod, który konfiguruje automapowanie, tak aby używał konstruktora zamiast ustawiania właściwości.</span><span class="sxs-lookup"><span data-stu-id="8834d-171">Once that's done, you need to update the code that configures the AutoMapper so that it uses the constructor rather than setting properties.</span></span> <span data-ttu-id="8834d-172">Otwórz `NewsService.cs` i Wyszukaj następujący kod w dolnej części pliku:</span><span class="sxs-lookup"><span data-stu-id="8834d-172">Open `NewsService.cs` and look for the following code at the bottom of the file:</span></span>

[!code-csharp[StarterAutoMapper](~/samples/snippets/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Services/NewsService.cs#ConfigureAutoMapper)]

<span data-ttu-id="8834d-173">Ten kod mapuje właściwości obiektu `ISyndicationItem` na właściwości `NewsStoryViewModel`.</span><span class="sxs-lookup"><span data-stu-id="8834d-173">That code maps properties of the `ISyndicationItem` object to the `NewsStoryViewModel` properties.</span></span> <span data-ttu-id="8834d-174">Chcesz, aby automapowanie zapewniało mapowanie przy użyciu konstruktora.</span><span class="sxs-lookup"><span data-stu-id="8834d-174">You want the AutoMapper to provide the mapping using a constructor instead.</span></span> <span data-ttu-id="8834d-175">Zastąp powyższy kod następującym konfiguracją automapowania:</span><span class="sxs-lookup"><span data-stu-id="8834d-175">Replace the above code with the following automapper configuration:</span></span>

[!code-csharp[FinishedViewModel](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#ConfigureAutoMapper)]

<span data-ttu-id="8834d-176">Zwróć uwagę, że ponieważ ta klasa jest mała i uważnie sprawdzona, należy włączyć dyrektywę `#nullable enable` powyżej tej deklaracji klasy.</span><span class="sxs-lookup"><span data-stu-id="8834d-176">Notice that because this class is small, and you've examined carefully, you should turn on the `#nullable enable` directive above this class declaration.</span></span> <span data-ttu-id="8834d-177">Zmiana w konstruktorze mogła spowodować uszkodzenie elementu, więc jest wartościowa do uruchamiania wszystkich testów i testowania aplikacji przed przechodzeniem.</span><span class="sxs-lookup"><span data-stu-id="8834d-177">The change to the constructor could have broken something, so it's worthwhile to run all the tests and test the application before moving on.</span></span>

<span data-ttu-id="8834d-178">Pierwszy zestaw zmian przedstawia sposób odnajdywania, gdy oryginalny projekt wskazał, że zmienne nie powinny być ustawione na `null`.</span><span class="sxs-lookup"><span data-stu-id="8834d-178">The first set of changes showed you how to discover when the original design indicated that variables shouldn't be set to `null`.</span></span> <span data-ttu-id="8834d-179">Technika jest określana jako **poprawna przez konstrukcję**.</span><span class="sxs-lookup"><span data-stu-id="8834d-179">The technique is referred to as **correct by construction**.</span></span> <span data-ttu-id="8834d-180">Deklaruje, że obiekt i jego właściwości nie mogą być `null`, gdy jest konstruowany.</span><span class="sxs-lookup"><span data-stu-id="8834d-180">You declare that an object and its properties cannot be `null` when it's constructed.</span></span> <span data-ttu-id="8834d-181">Analiza przepływu kompilatora zapewnia gwarancję, że te właściwości nie są ustawione na `null` po przygotowaniu.</span><span class="sxs-lookup"><span data-stu-id="8834d-181">The compiler's flow analysis provides assurance that those properties aren't set to `null` after construction.</span></span> <span data-ttu-id="8834d-182">Należy zauważyć, że ten konstruktor jest wywoływany przez kod zewnętrzny, a ten kod **dopuszcza wartość null Oblivious**.</span><span class="sxs-lookup"><span data-stu-id="8834d-182">Note that this constructor is called by external code, and that code is **nullable oblivious**.</span></span> <span data-ttu-id="8834d-183">Nowa składnia nie zapewnia sprawdzania środowiska uruchomieniowego.</span><span class="sxs-lookup"><span data-stu-id="8834d-183">The new syntax doesn't provide runtime checking.</span></span> <span data-ttu-id="8834d-184">Kod zewnętrzny może obejść analizę przepływu kompilatora.</span><span class="sxs-lookup"><span data-stu-id="8834d-184">External code might circumvent the compiler's flow analysis.</span></span> 

<span data-ttu-id="8834d-185">W innych przypadkach struktura klasy zawiera różne wskazówki dotyczące zamiaru.</span><span class="sxs-lookup"><span data-stu-id="8834d-185">Other times, the structure of a class provides different clues to the intent.</span></span> <span data-ttu-id="8834d-186">Otwórz plik *Error.cshtml.cs* w folderze *Pages* .</span><span class="sxs-lookup"><span data-stu-id="8834d-186">Open the *Error.cshtml.cs* file in the *Pages* folder.</span></span> <span data-ttu-id="8834d-187">`ErrorViewModel` zawiera następujący kod:</span><span class="sxs-lookup"><span data-stu-id="8834d-187">The `ErrorViewModel` contains the following code:</span></span>

[!code-csharp[StarterErrorModel](~/samples/snippets/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Pages/Error.cshtml.cs#StartErrorModel)]

<span data-ttu-id="8834d-188">Dodaj dyrektywę `#nullable enable` przed deklaracją klasy i `#nullable restore` dyrektywą.</span><span class="sxs-lookup"><span data-stu-id="8834d-188">Add the `#nullable enable` directive before the class declaration, and a `#nullable restore` directive after it.</span></span> <span data-ttu-id="8834d-189">Otrzymasz jedno ostrzeżenie, że `RequestId` nie zostanie zainicjowany.</span><span class="sxs-lookup"><span data-stu-id="8834d-189">You'll get one warning that `RequestId` is not initialized.</span></span> <span data-ttu-id="8834d-190">Przeglądając klasę, należy zdecydować, że w niektórych przypadkach Właściwość `RequestId` powinna mieć wartość null.</span><span class="sxs-lookup"><span data-stu-id="8834d-190">By looking at the class, you should decide that the `RequestId` property should be null in some cases.</span></span> <span data-ttu-id="8834d-191">Obecność właściwości `ShowRequestId` wskazuje, że brakujące wartości są możliwe.</span><span class="sxs-lookup"><span data-stu-id="8834d-191">The existence of the `ShowRequestId` property indicates that missing values are possible.</span></span> <span data-ttu-id="8834d-192">Ponieważ `null` jest prawidłowy, Dodaj `?` do typu `string`, aby wskazać, że właściwość `RequestId` jest *typem referencyjnym dopuszczającym wartość null*.</span><span class="sxs-lookup"><span data-stu-id="8834d-192">Because `null` is valid, add the `?` on the `string` type to indicate the `RequestId` property is a *nullable reference type*.</span></span> <span data-ttu-id="8834d-193">Ostatnia Klasa wygląda podobnie do poniższego przykładu:</span><span class="sxs-lookup"><span data-stu-id="8834d-193">The final class looks like the following example:</span></span>

[!code-csharp[FinishedErrorModel](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Error.cshtml.cs#ErrorModel)]

<span data-ttu-id="8834d-194">Sprawdź, czy są używane właściwości i czy na skojarzonej stronie właściwość jest sprawdzana pod kątem wartości null przed renderowaniem w znaczniku.</span><span class="sxs-lookup"><span data-stu-id="8834d-194">Check for the uses of the property, and you see that in the associated page, the property is checked for null before rendering it in markup.</span></span> <span data-ttu-id="8834d-195">Jest to bezpieczne użycie typu referencyjnego dopuszczającego wartość null, więc należy wykonać tę klasę.</span><span class="sxs-lookup"><span data-stu-id="8834d-195">That's a safe use of a nullable reference type, so you're done with this class.</span></span>

## <a name="fixing-nulls-causes-change"></a><span data-ttu-id="8834d-196">Naprawianie wartości null powoduje zmianę</span><span class="sxs-lookup"><span data-stu-id="8834d-196">Fixing nulls causes change</span></span>

<span data-ttu-id="8834d-197">Często poprawka jednego zestawu ostrzeżeń tworzy nowe ostrzeżenia w powiązanym kodzie.</span><span class="sxs-lookup"><span data-stu-id="8834d-197">Frequently, the fix for one set of warnings creates new warnings in related code.</span></span> <span data-ttu-id="8834d-198">Zobaczmy ostrzeżenia w akcji, rozwiązując klasę `index.cshtml.cs`.</span><span class="sxs-lookup"><span data-stu-id="8834d-198">Let's see the warnings in action by fixing the `index.cshtml.cs` class.</span></span> <span data-ttu-id="8834d-199">Otwórz plik `index.cshtml.cs` i zapoznaj się z kodem.</span><span class="sxs-lookup"><span data-stu-id="8834d-199">Open the `index.cshtml.cs` file and examine the code.</span></span> <span data-ttu-id="8834d-200">Ten plik zawiera kod związany ze stroną indeksu:</span><span class="sxs-lookup"><span data-stu-id="8834d-200">This file contains the code behind for the index page:</span></span>

[!code-csharp[StarterIndexModel](~/samples/snippets/csharp/tutorials/nullable-reference-migration/start/SimpleFeedReader/Pages/Index.cshtml.cs#IndexModelStart)]

<span data-ttu-id="8834d-201">Dodaj dyrektywę `#nullable enable`, a zobaczysz dwa ostrzeżenia.</span><span class="sxs-lookup"><span data-stu-id="8834d-201">Add the `#nullable enable` directive and you'll see two warnings.</span></span> <span data-ttu-id="8834d-202">Nie zainicjowano ani właściwości `ErrorText`, ani właściwości `NewsItems`.</span><span class="sxs-lookup"><span data-stu-id="8834d-202">Neither the `ErrorText` property nor the `NewsItems` property is initialized.</span></span> <span data-ttu-id="8834d-203">Badanie tej klasy doprowadziłoby do tego, że obie właściwości powinny mieć typ referencyjny dopuszczający wartości null: oba mają prywatne metody ustawiające.</span><span class="sxs-lookup"><span data-stu-id="8834d-203">An examination of this class would lead you to believe that both properties should be nullable reference types: Both have private setters.</span></span> <span data-ttu-id="8834d-204">W metodzie `OnGet` jest przypisywany dokładnie jeden.</span><span class="sxs-lookup"><span data-stu-id="8834d-204">Exactly one is assigned in the `OnGet` method.</span></span> <span data-ttu-id="8834d-205">Przed wprowadzeniem zmian należy zapoznać się z użytkownikami obu właściwości.</span><span class="sxs-lookup"><span data-stu-id="8834d-205">Before making changes, look at the consumers of both properties.</span></span> <span data-ttu-id="8834d-206">Na samej stronie `ErrorText` jest sprawdzana pod kątem wartości null przed wygenerowaniem znaczników pod kątem błędów.</span><span class="sxs-lookup"><span data-stu-id="8834d-206">In the page itself, the `ErrorText` is checked against null before generating markup for any errors.</span></span> <span data-ttu-id="8834d-207">Kolekcje `NewsItems` są sprawdzane pod kątem `null`i sprawdzane, aby upewnić się, że kolekcja zawiera elementy.</span><span class="sxs-lookup"><span data-stu-id="8834d-207">The `NewsItems` collection is checked against `null`, and checked to ensure the collection has items.</span></span> <span data-ttu-id="8834d-208">Szybką poprawką byłoby najęcie obu właściwości typów referencyjnych dopuszczających wartość null.</span><span class="sxs-lookup"><span data-stu-id="8834d-208">A quick fix would be to make both properties nullable reference types.</span></span> <span data-ttu-id="8834d-209">Lepszym rozwiązaniem jest udostępnienie kolekcji jako typu referencyjnego, który nie ma wartości null, i dodanie elementów do istniejącej kolekcji przy pobieraniu wiadomości.</span><span class="sxs-lookup"><span data-stu-id="8834d-209">A better fix would be to make the collection a nonnullable reference type, and add items to the existing collection when retrieving news.</span></span> <span data-ttu-id="8834d-210">Pierwszą poprawkę jest dodanie `?` do typu `string` dla `ErrorText`:</span><span class="sxs-lookup"><span data-stu-id="8834d-210">The first fix is to add the `?` to the `string` type for the `ErrorText`:</span></span>

[!code-csharp[UpdateErrorText](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#UpdateErrorText)]

<span data-ttu-id="8834d-211">Ta zmiana nie będzie miała wpływu na inny kod, ponieważ każdy dostęp do właściwości `ErrorText` został już chroniony przez sprawdzanie wartości null.</span><span class="sxs-lookup"><span data-stu-id="8834d-211">That change won't ripple through other code, because any access to the `ErrorText` property was already guarded by null checks.</span></span> <span data-ttu-id="8834d-212">Następnie zainicjuj listę `NewsItems` i Usuń metodę ustawiającą właściwość, ustawiając ją jako właściwość tylko do odczytu:</span><span class="sxs-lookup"><span data-stu-id="8834d-212">Next, initialize the `NewsItems` list and remove the property setter, making it a readonly property:</span></span>

[!code-csharp[InitializeNewsItems](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#InitializeNewsItems)]

<span data-ttu-id="8834d-213">Naprawiono ostrzeżenie, ale wprowadzono błąd.</span><span class="sxs-lookup"><span data-stu-id="8834d-213">That fixed the warning but introduced an error.</span></span> <span data-ttu-id="8834d-214">Lista `NewsItems` jest teraz **poprawna przez konstrukcję**, ale kod ustawiający listę w `OnGet` musi ulec zmianie, aby pasował do nowego interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="8834d-214">The `NewsItems` list is now **correct by construction**, but the code that sets the list in `OnGet` must change to match the new API.</span></span> <span data-ttu-id="8834d-215">Zamiast przypisania, wywołaj `AddRange`, aby dodać elementy wiadomości do istniejącej listy:</span><span class="sxs-lookup"><span data-stu-id="8834d-215">Instead of an assignment, call `AddRange` to add the news items to the existing list:</span></span>

[!code-csharp[AddRange](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Pages/Index.cshtml.cs#AddRange)]

<span data-ttu-id="8834d-216">Użycie `AddRange` zamiast przypisania oznacza, że metoda `GetNews` może zwrócić `IEnumerable` zamiast `List`.</span><span class="sxs-lookup"><span data-stu-id="8834d-216">Using `AddRange` instead of an assignment means that the `GetNews` method can return an `IEnumerable` instead of a `List`.</span></span> <span data-ttu-id="8834d-217">Powoduje to zapisanie jednej alokacji.</span><span class="sxs-lookup"><span data-stu-id="8834d-217">That saves one allocation.</span></span> <span data-ttu-id="8834d-218">Zmień podpis metody i Usuń wywołanie `ToList`, jak pokazano w następującym przykładzie kodu:</span><span class="sxs-lookup"><span data-stu-id="8834d-218">Change the signature of the method, and remove the `ToList` call, as shown in the following code sample:</span></span>

[!code-csharp[GetNews](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#GetNewsFinished)]

<span data-ttu-id="8834d-219">Zmiana podpisu spowoduje również przerwanie jednego z testów.</span><span class="sxs-lookup"><span data-stu-id="8834d-219">Changing the signature breaks one of tests as well.</span></span> <span data-ttu-id="8834d-220">Otwórz plik `NewsServiceTests.cs` w folderze `Services` projektu `SimpleFeedReader.Tests`.</span><span class="sxs-lookup"><span data-stu-id="8834d-220">Open the `NewsServiceTests.cs` file in the `Services` folder of the `SimpleFeedReader.Tests` project.</span></span> <span data-ttu-id="8834d-221">Przejdź do testu `Returns_News_Stories_Given_Valid_Uri` i Zmień typ zmiennej `result` na `IEnumerable<NewsItem>`.</span><span class="sxs-lookup"><span data-stu-id="8834d-221">Navigate to the `Returns_News_Stories_Given_Valid_Uri` test and change the type of the `result` variable to `IEnumerable<NewsItem>`.</span></span> <span data-ttu-id="8834d-222">Zmiana typu oznacza, że właściwość `Count` nie jest już dostępna, więc Zastąp Właściwość `Count` w `Assert` z wywołaniem do `Any()`:</span><span class="sxs-lookup"><span data-stu-id="8834d-222">Changing the type means the `Count` property is no longer available, so replace the `Count` property in the `Assert` with a call to `Any()`:</span></span>

[!code-csharp[FixTests](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader.Tests/Services/NewsServiceTests.cs#FixTestSignature)]

<span data-ttu-id="8834d-223">Należy również dodać instrukcję `using System.Linq` na początku pliku.</span><span class="sxs-lookup"><span data-stu-id="8834d-223">You'll need to add a `using System.Linq` statement to the beginning of the file as well.</span></span>

<span data-ttu-id="8834d-224">Ten zestaw zmian wyróżnia szczególną uwagę podczas aktualizowania kodu, który zawiera ogólne wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="8834d-224">This set of changes highlights special consideration when updating code that includes generic instantiations.</span></span> <span data-ttu-id="8834d-225">Zarówno lista, jak i elementy na liście typów niedopuszczających wartości null.</span><span class="sxs-lookup"><span data-stu-id="8834d-225">Both the list and the elements in the list of non-nullable types.</span></span> <span data-ttu-id="8834d-226">Oba typy mogą być dopuszczane do wartości null.</span><span class="sxs-lookup"><span data-stu-id="8834d-226">Either or both could be nullable types.</span></span> <span data-ttu-id="8834d-227">Dozwolone są wszystkie następujące deklaracje:</span><span class="sxs-lookup"><span data-stu-id="8834d-227">All the following declarations are allowed:</span></span>

- <span data-ttu-id="8834d-228">`List<NewsStoryViewModel>`: Lista niemająca wartości null dla modeli widoku nonullabled.</span><span class="sxs-lookup"><span data-stu-id="8834d-228">`List<NewsStoryViewModel>`: nonnullable list of nonullable view models.</span></span>
- <span data-ttu-id="8834d-229">`List<NewsStoryViewModel?>`: niemożliwa do null lista modeli widoku dopuszczających wartości null.</span><span class="sxs-lookup"><span data-stu-id="8834d-229">`List<NewsStoryViewModel?>`: nonnullable list of nullable view models.</span></span>
- <span data-ttu-id="8834d-230">`List<NewsStoryViewModel>?`: dopuszczająca wartość null lista niezerowych modeli widoku.</span><span class="sxs-lookup"><span data-stu-id="8834d-230">`List<NewsStoryViewModel>?`: nullable list of nonnullable view models.</span></span>
- <span data-ttu-id="8834d-231">`List<NewsStoryViewModel?>?`: dopuszczająca wartość null lista modeli widoku dopuszczających wartość null.</span><span class="sxs-lookup"><span data-stu-id="8834d-231">`List<NewsStoryViewModel?>?`: nullable list of nullable view models.</span></span>

## <a name="interfaces-with-external-code"></a><span data-ttu-id="8834d-232">Interfejsy z kodem zewnętrznym</span><span class="sxs-lookup"><span data-stu-id="8834d-232">Interfaces with external code</span></span>

<span data-ttu-id="8834d-233">Wprowadzono zmiany w klasie `NewsService`, więc Włącz `#nullable enable` adnotację dla tej klasy.</span><span class="sxs-lookup"><span data-stu-id="8834d-233">You've made changes to the `NewsService` class, so turn on the `#nullable enable` annotation for that class.</span></span> <span data-ttu-id="8834d-234">Nie spowoduje to wygenerowania żadnych nowych ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="8834d-234">This won't generate any new warnings.</span></span> <span data-ttu-id="8834d-235">Jednak dokładne badanie klasy ułatwia zilustrowanie niektórych ograniczeń analizy przepływu kompilatora.</span><span class="sxs-lookup"><span data-stu-id="8834d-235">However, careful examination of the class helps to illustrate some of the limitations of the compiler's flow analysis.</span></span> <span data-ttu-id="8834d-236">Badanie konstruktora:</span><span class="sxs-lookup"><span data-stu-id="8834d-236">Examine the constructor:</span></span>

[!code-csharp[ServiceConstructor](~/samples/snippets/csharp/tutorials/nullable-reference-migration/finished/SimpleFeedReader/Services/NewsService.cs#ServiceConstructor)]

<span data-ttu-id="8834d-237">Parametr `IMapper` jest typem odwołania, które nie ma wartości null.</span><span class="sxs-lookup"><span data-stu-id="8834d-237">The `IMapper` parameter is typed as a nonnullable reference.</span></span> <span data-ttu-id="8834d-238">Jest on wywoływany przez ASP.NET Core kod infrastruktury, więc kompilator nie wie, że `IMapper` nigdy nie będzie mieć wartości null.</span><span class="sxs-lookup"><span data-stu-id="8834d-238">It's called by ASP.NET Core infrastructure code, so the compiler doesn't really know that the `IMapper` will never be null.</span></span> <span data-ttu-id="8834d-239">ASP.NET Core domyślny kontener iniekcji zależności (DI) zgłasza wyjątek, jeśli nie może rozpoznać wymaganej usługi, więc kod jest poprawny.</span><span class="sxs-lookup"><span data-stu-id="8834d-239">The default ASP.NET Core dependency injection (DI) container throws an exception if it can't resolve a necessary service, so the code is correct.</span></span> <span data-ttu-id="8834d-240">Kompilator nie może sprawdzić poprawności wszystkich wywołań publicznych interfejsów API, nawet jeśli kod jest kompilowany z włączonym kontekstem adnotacji dopuszczający wartość null.</span><span class="sxs-lookup"><span data-stu-id="8834d-240">The compiler can't validate all calls to your public APIs, even if your code is compiled with nullable annotation contexts enabled.</span></span> <span data-ttu-id="8834d-241">Ponadto biblioteki mogą być używane przez projekty, które nie wybrały jeszcze użycia typów referencyjnych dopuszczających wartość null.</span><span class="sxs-lookup"><span data-stu-id="8834d-241">Furthermore, your libraries may be consumed by projects that have not yet opted into using nullable reference types.</span></span> <span data-ttu-id="8834d-242">Sprawdź poprawność danych wejściowych do publicznych interfejsów API, mimo że zostały zadeklarowane jako typy niemające wartości null.</span><span class="sxs-lookup"><span data-stu-id="8834d-242">Validate inputs to public APIs even though you've declared them as nonnullable types.</span></span>

## <a name="get-the-code"></a><span data-ttu-id="8834d-243">Uzyskiwanie kodu</span><span class="sxs-lookup"><span data-stu-id="8834d-243">Get the code</span></span>

<span data-ttu-id="8834d-244">Zostały naprawione ostrzeżenia, które zostały zidentyfikowane podczas wstępnego kompilowania testów, dlatego teraz można włączyć kontekst adnotacji dopuszczający wartości null dla obu projektów.</span><span class="sxs-lookup"><span data-stu-id="8834d-244">You've fixed the warnings you identified in the initial test compile, so now you can turn on the nullable annotation context for both projects.</span></span> <span data-ttu-id="8834d-245">Kompiluj ponownie projekty; Kompilator zgłasza Brak ostrzeżeń.</span><span class="sxs-lookup"><span data-stu-id="8834d-245">Rebuild the projects; the compiler reports no warnings.</span></span> <span data-ttu-id="8834d-246">Możesz uzyskać kod dla gotowego projektu w repozytorium GitHub [/Samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/finished)</span><span class="sxs-lookup"><span data-stu-id="8834d-246">You can get the code for the finished project in the [dotnet/samples](https://github.com/dotnet/samples/tree/master/csharp/tutorials/nullable-reference-migration/finished) GitHub repository.</span></span>

<span data-ttu-id="8834d-247">Nowe funkcje, które obsługują typy referencyjne dopuszczające wartość null, ułatwiają znajdowanie i rozwiązywanie potencjalnych błędów w sposobie obsługi `null` wartości w kodzie.</span><span class="sxs-lookup"><span data-stu-id="8834d-247">The new features that support nullable reference types help you find and fix potential errors in how you handle `null` values in your code.</span></span> <span data-ttu-id="8834d-248">Włączenie kontekstu adnotacji z dopuszczaniem wartości null pozwala na wyrażenie zamiaru projektu: niektóre zmienne nigdy nie powinny mieć wartości null, inne zmienne mogą zawierać wartości null.</span><span class="sxs-lookup"><span data-stu-id="8834d-248">Enabling the nullable annotation context allows you to express your design intent: some variables should never be null, other variables may contain null values.</span></span> <span data-ttu-id="8834d-249">Te funkcje ułatwiają deklarowanie zamiaru projektowania.</span><span class="sxs-lookup"><span data-stu-id="8834d-249">These features make it easier for you to declare your design intent.</span></span> <span data-ttu-id="8834d-250">Podobnie, kontekst ostrzegawczy wartości null instruuje kompilator, aby wydawał ostrzeżenia w przypadku naruszenia tego celu.</span><span class="sxs-lookup"><span data-stu-id="8834d-250">Similarly, the nullable warning context instructs the compiler to issue warnings when you have violated that intent.</span></span> <span data-ttu-id="8834d-251">Te ostrzeżenia przeprowadzą Cię przez proces aktualizacji, które sprawiają, że kod będzie bardziej odporny na błędy i mniej, co może spowodować wygenerowanie `NullReferenceException` podczas wykonywania.</span><span class="sxs-lookup"><span data-stu-id="8834d-251">Those warnings guide you to make updates that make your code more resilient and less likely to throw a `NullReferenceException` during execution.</span></span> <span data-ttu-id="8834d-252">Można kontrolować zakres tych kontekstów, aby można było skupić się na lokalnych obszarach kodu do migracji, gdy pozostała baza kodu jest nienaruszona.</span><span class="sxs-lookup"><span data-stu-id="8834d-252">You can control the scope of these contexts so that you can focus on local areas of code to migrate while the remaining codebase is untouched.</span></span> <span data-ttu-id="8834d-253">W tym celu zadanie migracji jest częścią regularnej konserwacji klas.</span><span class="sxs-lookup"><span data-stu-id="8834d-253">In practice, you can make this migration task a part of regular maintenance to your classes.</span></span> <span data-ttu-id="8834d-254">W tym samouczku przedstawiono proces migrowania aplikacji w celu używania typów referencyjnych dopuszczających wartość null.</span><span class="sxs-lookup"><span data-stu-id="8834d-254">This tutorial demonstrated the process to migrate an application to use nullable reference types.</span></span> <span data-ttu-id="8834d-255">Możesz zapoznać się z większym rzeczywistym przykładem tego procesu, sprawdzając, czy element PR [Jan Skeet](https://github.com/jskeet) miał zostać uwzględniony w [NodaTime](https://github.com/nodatime/nodatime/pull/1240/commits).</span><span class="sxs-lookup"><span data-stu-id="8834d-255">You can explore a larger real-world example of this process by examining the PR [Jon Skeet](https://github.com/jskeet) made to incorporate nullable reference types into [NodaTime](https://github.com/nodatime/nodatime/pull/1240/commits).</span></span> <span data-ttu-id="8834d-256">Możesz też dowiedzieć się więcej na temat technik używania typów referencyjnych dopuszczających wartości null, Entity Framework Core w [Entity Framework Core — pracy z typami referencyjnymi nullable](/ef/core/miscellaneous/nullable-reference-types).</span><span class="sxs-lookup"><span data-stu-id="8834d-256">Or just In addition, you can learn techniques for using nullable reference types with Entity Framework Core in [Entity Framework Core - Working with nullable reference types](/ef/core/miscellaneous/nullable-reference-types).</span></span>
