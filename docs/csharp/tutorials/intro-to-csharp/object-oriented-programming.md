---
title: Programowanie Object-Oriented (C#)
description: Język C# zapewnia pełną obsługę programowania zorientowanego obiektowo, w tym abstrakcję, hermetyzację, dziedziczenie i polimorfizm.
ms.date: 09/30/2020
ms.openlocfilehash: 4ae31e18fcd88870f511e77bb0c555f35394fd1b
ms.sourcegitcommit: 34968a61e9bac0f6be23ed6ffb837f52d2390c85
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/17/2020
ms.locfileid: "94687997"
---
# <a name="object-oriented-programming-c"></a><span data-ttu-id="c0c7b-103">Programowanie Object-Oriented (C#)</span><span class="sxs-lookup"><span data-stu-id="c0c7b-103">Object-Oriented programming (C#)</span></span>

<span data-ttu-id="c0c7b-104">C# to język zorientowany obiektowo.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-104">C# is an object-oriented language.</span></span> <span data-ttu-id="c0c7b-105">Cztery z kluczowych technik używanych w programowaniu zorientowanym na obiektach są następujące:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-105">Four of the key techniques used in object-oriented programming are:</span></span>

- <span data-ttu-id="c0c7b-106">*Abstrakcja* oznacza ukrycie niepotrzebnych informacji od odbiorców typu.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-106">*Abstraction* means hiding the unnecessary details from type consumers.</span></span>
- <span data-ttu-id="c0c7b-107">*Hermetyzacja* oznacza, że grupa powiązanych właściwości, metod i innych elementów członkowskich jest traktowana jako pojedyncza jednostka lub obiekt.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-107">*Encapsulation* means that a group of related properties, methods, and other members are treated as a single unit or object.</span></span>
- <span data-ttu-id="c0c7b-108">*Dziedziczenie* opisuje możliwość tworzenia nowych klas na podstawie istniejącej klasy.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-108">*Inheritance* describes the ability to create new classes based on an existing class.</span></span>
- <span data-ttu-id="c0c7b-109">*Polimorfizm* oznacza, że można mieć wiele klas, które mogą być używane zamiennie, nawet jeśli każda klasa implementuje te same właściwości lub metody na różne sposoby.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-109">*Polymorphism* means that you can have multiple classes that can be used interchangeably, even though each class implements the same properties or methods in different ways.</span></span>

<span data-ttu-id="c0c7b-110">W poprzednim samouczku przedstawiono [wprowadzenie do klas](introduction-to-classes.md) , w których zawarto zarówno *abstrakcję* , jak i *hermetyzację*.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-110">In the preceding tutorial, [introduction to classes](introduction-to-classes.md) you saw both *abstraction* and *encapsulation*.</span></span> <span data-ttu-id="c0c7b-111">`BankAccount`Klasa dostarczyła streszczenie dla koncepcji konta bankowego.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-111">The `BankAccount` class provided an abstraction for the concept of a bank account.</span></span> <span data-ttu-id="c0c7b-112">Można zmodyfikować jego implementację bez wpływu na żaden kod, który używał `BankAccount` klasy.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-112">You could modify its implementation without affecting any of the code that used the `BankAccount` class.</span></span> <span data-ttu-id="c0c7b-113">Obie `BankAccount` klasy i `Transaction` zapewniają hermetyzację składników niezbędnych do opisywania koncepcji w kodzie.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-113">Both the `BankAccount` and `Transaction` classes provide encapsulation of the components needed to describe those concepts in code.</span></span>

<span data-ttu-id="c0c7b-114">W tym samouczku zostanie rozbudowana aplikacja w celu użycia *dziedziczenia* i *polimorfizmu* w celu dodania nowych funkcji.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-114">In this tutorial, you'll extend that application to make use of *inheritance* and *polymorphism* to add new features.</span></span> <span data-ttu-id="c0c7b-115">Dodasz również funkcje do `BankAccount` klasy, wykorzystując metody *abstrakcji* i *hermetyzacji* , które zostały uzyskane w poprzednim samouczku.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-115">You'll also add features to the `BankAccount` class, taking advantage of the *abstraction* and *encapsulation* techniques you learned in the preceding tutorial.</span></span>

## <a name="create-different-types-of-accounts"></a><span data-ttu-id="c0c7b-116">Tworzenie różnych typów kont</span><span class="sxs-lookup"><span data-stu-id="c0c7b-116">Create different types of accounts</span></span>

<span data-ttu-id="c0c7b-117">Po skompilowaniu tego programu uzyskasz żądania dodania do niego funkcji.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-117">After building this program, you get requests to add features to it.</span></span> <span data-ttu-id="c0c7b-118">Jest to doskonałe rozwiązanie w sytuacji, gdy istnieje tylko jeden typ konta bankowego.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-118">It works great in the situation where there is only one bank account type.</span></span> <span data-ttu-id="c0c7b-119">W miarę upływu czasu wymagane zmiany i powiązane typy kont są wymagane:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-119">Over time, needs change, and related account types are requested:</span></span>

- <span data-ttu-id="c0c7b-120">Konto zdobywania odsetek, które naliczane są odsetki na końcu każdego miesiąca.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-120">An interest earning account that accrues interest at the end of each month.</span></span>
- <span data-ttu-id="c0c7b-121">Linia kredytowa, która może mieć wartość ujemną, ale w przypadku bilansu jest naliczana opłata miesięczna.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-121">A line of credit that can have a negative balance, but when there's a balance, there's an interest charge each month.</span></span>
- <span data-ttu-id="c0c7b-122">Wstępnie płatne konto karty upominkowej, które rozpoczyna się od jednego depozytu i można je tylko wypłacić.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-122">A pre-paid gift card account that starts with a single deposit, and only can be paid off.</span></span> <span data-ttu-id="c0c7b-123">Można je ponownie wypełnić na początku każdego miesiąca.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-123">It can be refilled once at the start of each month.</span></span>

<span data-ttu-id="c0c7b-124">Wszystkie te różne konta są podobne do `BankAccount` klasy zdefiniowanej w poprzednim samouczku.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-124">All of these different accounts are similar to `BankAccount` class defined in the earlier tutorial.</span></span> <span data-ttu-id="c0c7b-125">Można skopiować ten kod, zmienić nazwy klas i wprowadzić modyfikacje.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-125">You could copy that code, rename the classes, and make modifications.</span></span> <span data-ttu-id="c0c7b-126">Ta technika będzie działać w krótkim okresie, ale będzie bardziej wydajna w czasie.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-126">That technique would work in the short term, but it would be more work over time.</span></span> <span data-ttu-id="c0c7b-127">Wszystkie zmiany byłyby kopiowane do wszystkich klas, których to dotyczy.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-127">Any changes would be copied across all the affected classes.</span></span>

<span data-ttu-id="c0c7b-128">Zamiast tego można utworzyć nowe typy kont bankowych, które dziedziczą metody i dane z `BankAccount` klasy utworzonej w poprzednim samouczku.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-128">Instead, you can create new bank account types that inherit methods and data from the `BankAccount` class created in the preceding tutorial.</span></span> <span data-ttu-id="c0c7b-129">Te nowe klasy mogą zwiększyć `BankAccount` klasę z określonym zachowaniem wymaganym dla każdego typu:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-129">These new classes can extend the `BankAccount` class with the specific behavior needed for each type:</span></span>

```csharp
public class InterestEarningAccount : BankAccount
{
}

public class LineOfCreditAccount : BankAccount
{
}

public class GiftCardAccount : BankAccount
{
}
```

<span data-ttu-id="c0c7b-130">Każda z tych klas *dziedziczy* zachowanie udostępnione ze swojej udostępnionej *klasy bazowej*, `BankAccount` klasy.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-130">Each of these classes *inherits* the shared behavior from their shared *base class*, the `BankAccount` class.</span></span> <span data-ttu-id="c0c7b-131">Napisz implementacje dla nowych i różnych funkcji w każdej *klasie pochodnej*.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-131">Write the implementations for new and different functionality in each of the *derived classes*.</span></span>  <span data-ttu-id="c0c7b-132">Te klasy pochodne mają już wszystkie zachowania zdefiniowane w `BankAccount` klasie.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-132">These derived classes already have all the behavior defined in the `BankAccount` class.</span></span>

<span data-ttu-id="c0c7b-133">Dobrym sposobem jest utworzenie każdej nowej klasy w innym pliku źródłowym.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-133">It's a good practice to create each new class in a different source file.</span></span> <span data-ttu-id="c0c7b-134">W programie [Visual Studio](https://visualstudio.com)kliknij prawym przyciskiem myszy projekt, a następnie wybierz polecenie *Dodaj klasę* , aby dodać nową klasę do nowego pliku.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-134">In [Visual Studio](https://visualstudio.com), you can right-click on the project, and select *add class* to add a new class in a new file.</span></span> <span data-ttu-id="c0c7b-135">W [Visual Studio Code](https://code.visualstudio.com)wybierz opcję *plik* , a następnie pozycję *Nowy* , aby utworzyć nowy plik źródłowy.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-135">In [Visual Studio Code](https://code.visualstudio.com), select *File* then *New* to create a new source file.</span></span> <span data-ttu-id="c0c7b-136">W każdym z tych narzędzi Nazwij plik, aby odpowiadał klasie: *InterestEarningAccount.cs*, *LineOfCreditAccount.cs* i *GiftCardAccount.cs*.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-136">In either tool, name the file to match the class: *InterestEarningAccount.cs*, *LineOfCreditAccount.cs*, and *GiftCardAccount.cs*.</span></span>

<span data-ttu-id="c0c7b-137">Podczas tworzenia klas, jak pokazano w poprzednim przykładzie, zobaczysz, że żadna z klas pochodnych nie zostanie skompilowana.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-137">When you create the classes as shown in the preceding sample, you'll find that none of your derived classes compile.</span></span> <span data-ttu-id="c0c7b-138">Konstruktor jest odpowiedzialny za inicjowanie obiektu.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-138">A constructor is responsible for initializing an object.</span></span> <span data-ttu-id="c0c7b-139">Konstruktor klasy pochodnej musi inicjować klasę pochodną i dostarczać instrukcje dotyczące inicjowania obiektu klasy bazowej zawartego w klasie pochodnej.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-139">A derived class constructor must initialize the derived class, and provide instructions on how to initialize the base class object included in the derived class.</span></span> <span data-ttu-id="c0c7b-140">Odpowiednie inicjowanie zwykle odbywa się bez żadnych dodatkowych kodów.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-140">The proper initialization normally happens without any extra code.</span></span> <span data-ttu-id="c0c7b-141">`BankAccount`Klasa deklaruje jeden konstruktor publiczny z następującym podpisem:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-141">The `BankAccount` class declares one public constructor with the following signature:</span></span>

```csharp
public BankAccount(string name, decimal initialBalance)
```

<span data-ttu-id="c0c7b-142">Kompilator nie generuje domyślnego konstruktora podczas definiowania konstruktora.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-142">The compiler doesn't generate a default constructor when you define a constructor yourself.</span></span> <span data-ttu-id="c0c7b-143">Oznacza to, że każda klasa pochodna musi jawnie wywołać ten Konstruktor.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-143">That means each derived class must explicitly call this constructor.</span></span> <span data-ttu-id="c0c7b-144">Deklaruj konstruktora, który może przekazywać argumenty do konstruktora klasy bazowej.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-144">You declare a constructor that can pass arguments to the base class constructor.</span></span>  <span data-ttu-id="c0c7b-145">Poniższy kod pokazuje Konstruktor dla `InterestEarningAccount` :</span><span class="sxs-lookup"><span data-stu-id="c0c7b-145">The following code shows the constructor for the `InterestEarningAccount`:</span></span>

:::code language="csharp" source="./snippets/object-oriented-programming/InterestEarningAccount.cs" ID="DerivedConstructor":::

<span data-ttu-id="c0c7b-146">Parametry tego nowego konstruktora pasują do typu parametru i nazw konstruktora klasy bazowej.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-146">The parameters to this new constructor match the parameter type and names of the base class constructor.</span></span> <span data-ttu-id="c0c7b-147">Użyj składni, `: base()` Aby wskazać wywołanie konstruktora klasy bazowej.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-147">You use the `: base()` syntax to indicate a call to a base class constructor.</span></span> <span data-ttu-id="c0c7b-148">Niektóre klasy definiują wiele konstruktorów, a ta składnia umożliwia wybranie konstruktora klasy bazowej, który jest wywoływany.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-148">Some classes define multiple constructors, and this syntax enables you to pick which base class constructor you call.</span></span> <span data-ttu-id="c0c7b-149">Po zaktualizowaniu konstruktorów można opracowywać kod dla każdej klasy pochodnej.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-149">Once you've updated the constructors, you can develop the code for each of the derived classes.</span></span> <span data-ttu-id="c0c7b-150">Wymagania dotyczące nowych klas można określić w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-150">The requirements for the new classes can be stated as follows:</span></span>

- <span data-ttu-id="c0c7b-151">Konto zdobywania zainteresowania:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-151">An interest earning account:</span></span>
  - <span data-ttu-id="c0c7b-152">Otrzymasz środki w wysokości 2% salda końcowego miesiąca.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-152">Will get a credit of 2% of the month-ending-balance.</span></span>
- <span data-ttu-id="c0c7b-153">Linia kredytowa:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-153">A line of credit:</span></span>
  - <span data-ttu-id="c0c7b-154">Może mieć ujemny bilans, ale nie większy niż wartość bezwzględna limitu kredytowego.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-154">Can have a negative balance, but not be greater in absolute value than the credit limit.</span></span>
  - <span data-ttu-id="c0c7b-155">Pociąga za sobą opłaty oprocentowane miesięcznie, gdy saldo końca miesiąca nie jest równe 0.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-155">Will incur an interest charge each month where the end of month balance isn't 0.</span></span>
  - <span data-ttu-id="c0c7b-156">Nastąpi naliczenie opłaty za każde wycofanie, które przekracza limit kredytowy.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-156">Will incur a fee on each withdrawal that goes over the credit limit.</span></span>
- <span data-ttu-id="c0c7b-157">Konto karty upominkowej:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-157">A gift card account:</span></span>
  - <span data-ttu-id="c0c7b-158">Może zostać uzupełniona o określoną ilość raz w miesiącu w ostatnim dniu miesiąca.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-158">Can be refilled with a specified amount once each month, on the last day of the month.</span></span>

<span data-ttu-id="c0c7b-159">Można zobaczyć, że wszystkie trzy typy kont mają akcję, która ma miejsce na koniec każdego miesiąca.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-159">You can see that all three of these account types have an action that takes places at the end of each month.</span></span> <span data-ttu-id="c0c7b-160">Jednak każdy typ konta wykonuje różne zadania.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-160">However, each account type does different tasks.</span></span> <span data-ttu-id="c0c7b-161">Aby zaimplementować ten kod, należy użyć *polimorfizmu* .</span><span class="sxs-lookup"><span data-stu-id="c0c7b-161">You use *polymorphism* to implement this code.</span></span> <span data-ttu-id="c0c7b-162">Utwórz pojedynczą `virtual` metodę w `BankAccount` klasie:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-162">Create a single `virtual` method in the `BankAccount` class:</span></span>

:::code language="csharp" source="./snippets/object-oriented-programming/BankAccount.cs" ID="DeclareMonthEndTransactions":::

<span data-ttu-id="c0c7b-163">Poprzedni kod pokazuje, jak użyć `virtual` słowa kluczowego, aby zadeklarować metodę w klasie bazowej, która Klasa pochodna może zapewnić inną implementację.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-163">The preceding code shows how you use the `virtual` keyword to declare a method in the base class that a derived class may provide a different implementation for.</span></span> <span data-ttu-id="c0c7b-164">`virtual`Metoda jest metodą, w której każda klasa pochodna może zostać zaimplementowana.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-164">A `virtual` method is a method where any derived class may choose to reimplement.</span></span> <span data-ttu-id="c0c7b-165">Klasy pochodne używają `override` słowa kluczowego, aby zdefiniować nową implementację.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-165">The derived classes use the `override` keyword to define the new implementation.</span></span> <span data-ttu-id="c0c7b-166">Zwykle Przywołujesz się do tego jako "zastępowanie implementacji klasy podstawowej".</span><span class="sxs-lookup"><span data-stu-id="c0c7b-166">Typically you refer to this as "overriding the base class implementation".</span></span> <span data-ttu-id="c0c7b-167">`virtual`Słowo kluczowe Określa, że klasy pochodne mogą zastąpić zachowanie.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-167">The `virtual` keyword specifies that derived classes may override the behavior.</span></span> <span data-ttu-id="c0c7b-168">Można również deklarować `abstract` metody, w których klasy pochodne muszą przesłaniać zachowanie.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-168">You can also declare `abstract` methods where derived classes must override the behavior.</span></span> <span data-ttu-id="c0c7b-169">Klasa bazowa nie zapewnia implementacji dla `abstract` metody.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-169">The base class does not provide an implementation for an `abstract` method.</span></span> <span data-ttu-id="c0c7b-170">Następnie należy zdefiniować implementację dla dwóch nowych klas, które zostały utworzone.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-170">Next, you need to define the implementation for two of the new classes you've created.</span></span> <span data-ttu-id="c0c7b-171">Zacznij od `InterestEarningAccount` :</span><span class="sxs-lookup"><span data-stu-id="c0c7b-171">Start with the `InterestEarningAccount`:</span></span>

:::code language="csharp" source="./snippets/object-oriented-programming/InterestEarningAccount.cs" ID="ApplyMonthendInterest":::

<span data-ttu-id="c0c7b-172">Dodaj następujący kod do `LineOfCreditAccount` .</span><span class="sxs-lookup"><span data-stu-id="c0c7b-172">Add the following code to the `LineOfCreditAccount`.</span></span> <span data-ttu-id="c0c7b-173">Kod negacji salda w celu obliczenia dodatniej stopy oprocentowania wycofywanej z konta:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-173">The code negates the balance to compute a positive interest charge that is withdrawn from the account:</span></span>

:::code language="csharp" source="./snippets/object-oriented-programming/LineOfCreditAccount.cs" ID="ApplyMonthendInterest":::

<span data-ttu-id="c0c7b-174">`GiftCardAccount`Aby można było zaimplementować swoją funkcję miesiąca, Klasa musi mieć dwie zmiany.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-174">The `GiftCardAccount` class needs two changes to implement its month-end functionality.</span></span> <span data-ttu-id="c0c7b-175">Najpierw zmodyfikuj konstruktora, aby zawierał opcjonalną kwotę do dodania w każdym miesiącu:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-175">First, modify the constructor to include an optional amount to add each month:</span></span>

:::code language="csharp" source="./snippets/object-oriented-programming/GiftCardAccount.cs" ID="GiftCardAccountConstruction":::

<span data-ttu-id="c0c7b-176">Konstruktor udostępnia wartość domyślną dla `monthlyDeposit` wartości, dzięki czemu obiekty wywołujące mogą pominąć `0` niemiesięczny depozyt.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-176">The constructor provides a default value for the `monthlyDeposit` value so callers can omit a `0` for no monthly deposit.</span></span> <span data-ttu-id="c0c7b-177">Następnie zastąp `PerformMonthEndTransactions` metodę w celu dodania miesięcznego depozytu, jeśli została ustawiona na wartość różną od zera w konstruktorze:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-177">Next, override the `PerformMonthEndTransactions` method to add the monthly deposit, if it was set to a non-zero value in the constructor:</span></span>

:::code language="csharp" source="./snippets/object-oriented-programming/GiftCardAccount.cs" ID="AddMonthlyDeposit":::

<span data-ttu-id="c0c7b-178">Zastąpienie obejmuje miesięczny zestaw depozytu w konstruktorze.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-178">The override applies the monthly deposit set in the constructor.</span></span> <span data-ttu-id="c0c7b-179">Dodaj następujący kod do metody, `Main` Aby przetestować te zmiany dla `GiftCardAccount` i `InterestEarningAccount` :</span><span class="sxs-lookup"><span data-stu-id="c0c7b-179">Add the following code to the `Main` method to test these changes for the `GiftCardAccount` and the `InterestEarningAccount`:</span></span>

:::code language="csharp" source="./snippets/object-oriented-programming/Program.cs" ID="FirstTests":::

<span data-ttu-id="c0c7b-180">Sprawdź wyniki.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-180">Verify the results.</span></span> <span data-ttu-id="c0c7b-181">Teraz Dodaj podobny zestaw kodu testu dla `LineOfCreditAccount` :</span><span class="sxs-lookup"><span data-stu-id="c0c7b-181">Now, add a similar set of test code for the `LineOfCreditAccount`:</span></span>

:::code language="csharp" source="./snippets/object-oriented-programming/Program.cs" ID="TestLineOfCredit":::

<span data-ttu-id="c0c7b-182">Gdy dodasz poprzedni kod i uruchomisz program, zobaczysz coś podobne do następującego błędu:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-182">When you add the preceding code and run the program, you'll see something like the following error:</span></span>

```console
Unhandled exception. System.ArgumentOutOfRangeException: Amount of deposit must be positive (Parameter 'amount')
   at OOProgramming.BankAccount.MakeDeposit(Decimal amount, DateTime date, String note) in BankAccount.cs:line 42
   at OOProgramming.BankAccount..ctor(String name, Decimal initialBalance) in BankAccount.cs:line 31
   at OOProgramming.LineOfCreditAccount..ctor(String name, Decimal initialBalance) in LineOfCreditAccount.cs:line 9
   at OOProgramming.Program.Main(String[] args) in Program.cs:line 29
```

> [!NOTE]
> <span data-ttu-id="c0c7b-183">Rzeczywiste dane wyjściowe zawierają pełną ścieżkę do folderu z projektem.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-183">The actual output includes the full path to the folder with the project.</span></span> <span data-ttu-id="c0c7b-184">Nazwy folderów zostały pominięte dla zwięzłości.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-184">The folder names were omitted for brevity.</span></span> <span data-ttu-id="c0c7b-185">Ponadto, w zależności od formatu kodu, numery wierszy mogą się nieco różnić.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-185">Also, depending on your code format, the line numbers may be slightly different.</span></span>

<span data-ttu-id="c0c7b-186">Ten kod kończy się niepowodzeniem, ponieważ `BankAccount` zakłada się, że saldo początkowe musi być większe niż 0.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-186">This code fails because the `BankAccount` assumes that the initial balance must be greater than 0.</span></span> <span data-ttu-id="c0c7b-187">Inna rozszerzania założeń do `BankAccount` klasy polega na tym, że saldo nie może przekroczyć wartości ujemnej.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-187">Another assumption baked into the `BankAccount` class is that the balance can't go negative.</span></span> <span data-ttu-id="c0c7b-188">Zamiast tego wszelkie wycofanie, które nastąpi, zostanie odrzucone.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-188">Instead, any withdrawal that overdraws the account is rejected.</span></span> <span data-ttu-id="c0c7b-189">Należy zmienić oba te założenia.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-189">Both of those assumptions need to change.</span></span> <span data-ttu-id="c0c7b-190">Wiersz konta kredytowego zaczyna się od 0 i ogólnie będzie miało ujemny bilans.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-190">The line of credit account starts at 0, and generally will have a negative balance.</span></span> <span data-ttu-id="c0c7b-191">Ponadto, jeśli klient zażyczy zbyt dużej ilości pieniędzy, naliczy opłaty.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-191">Also, if a customer borrows too much money, they incur a fee.</span></span> <span data-ttu-id="c0c7b-192">Transakcja zostanie zaakceptowana, a jedynie będzie kosztować więcej.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-192">The transaction is accepted, it just costs more.</span></span> <span data-ttu-id="c0c7b-193">Pierwszą regułę można zaimplementować przez dodanie opcjonalnego argumentu do `BankAccount` konstruktora, który określa minimalny bilans.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-193">The first rule can be implemented by adding an optional argument to the `BankAccount` constructor that specifies the minimum balance.</span></span> <span data-ttu-id="c0c7b-194">Wartość domyślna to `0`.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-194">The default is `0`.</span></span> <span data-ttu-id="c0c7b-195">Druga reguła wymaga mechanizmu, który umożliwia klasom pochodnym modyfikowanie algorytmu domyślnego.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-195">The second rule requires a mechanism that enables derived classes to modify the default algorithm.</span></span> <span data-ttu-id="c0c7b-196">W sensie Klasa bazowa "pyta" typ pochodny, co powinno nastąpić w przypadku przekroczenia projektu.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-196">In a sense, the base class "asks" the derived type what should happen when there's an overdraft.</span></span> <span data-ttu-id="c0c7b-197">Domyślnym zachowaniem jest odrzucanie transakcji przez wyrzucanie wyjątku.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-197">The default behavior is to reject the transaction by throwing an exception.</span></span>

<span data-ttu-id="c0c7b-198">Zacznijmy od dodania drugiego konstruktora zawierającego opcjonalny `minimumBalance` parametr.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-198">Let's start by adding a second constructor that includes an optional `minimumBalance` parameter.</span></span> <span data-ttu-id="c0c7b-199">Ten nowy Konstruktor wykonuje wszystkie akcje wykonywane przez istniejącego konstruktora.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-199">This new constructor does all the actions done by the existing constructor.</span></span> <span data-ttu-id="c0c7b-200">Ponadto ustawia właściwość balansu minimalnego.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-200">Also, it sets the minimum balance property.</span></span> <span data-ttu-id="c0c7b-201">Można skopiować treść istniejącego konstruktora.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-201">You could copy the body of the existing constructor.</span></span> <span data-ttu-id="c0c7b-202">jednak oznacza to, że dwie lokalizacje zmieniają się w przyszłości.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-202">but that means two locations to change in the future.</span></span> <span data-ttu-id="c0c7b-203">Zamiast tego można użyć *łańcucha konstruktorów* , aby jeden Konstruktor wywoływał inny.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-203">Instead, you can use *constructor chaining* to have one constructor call another.</span></span> <span data-ttu-id="c0c7b-204">Poniższy kod przedstawia dwa konstruktory i nowe pole dodatkowe:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-204">The following code shows the two constructors and the new additional field:</span></span>

 :::code language="csharp" source="./snippets/object-oriented-programming/BankAccount.cs" ID="ConstructorModifications":::

<span data-ttu-id="c0c7b-205">Poprzedni kod pokazuje dwie nowe techniki.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-205">The preceding code shows two new techniques.</span></span> <span data-ttu-id="c0c7b-206">Najpierw `minimumBalance` pole jest oznaczone jako `readonly` .</span><span class="sxs-lookup"><span data-stu-id="c0c7b-206">First, the `minimumBalance` field is marked as `readonly`.</span></span> <span data-ttu-id="c0c7b-207">Oznacza to, że nie można zmienić wartości po utworzeniu obiektu.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-207">That means the value cannot be changed after the object is constructed.</span></span> <span data-ttu-id="c0c7b-208">Po `BankAccount` utworzeniu `minimumBalance` nie można zmienić.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-208">Once a `BankAccount` is created, the `minimumBalance` can't change.</span></span> <span data-ttu-id="c0c7b-209">Drugi, Konstruktor, który przyjmuje dwa parametry używa `: this(name, initialBalance, 0) { }` jako implementacji.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-209">Second, the constructor that takes two parameters uses `: this(name, initialBalance, 0) { }` as its implementation.</span></span> <span data-ttu-id="c0c7b-210">`: this()`Wyrażenie wywołuje innego konstruktora, a drugi z trzema parametrami.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-210">The `: this()` expression calls the other constructor, the one with three parameters.</span></span> <span data-ttu-id="c0c7b-211">Ta technika umożliwia korzystanie z jednej implementacji do inicjowania obiektu, mimo że kod klienta może wybrać jeden z wielu konstruktorów.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-211">This technique allows you to have a single implementation for initializing an object even though client code can choose one of many constructors.</span></span>

<span data-ttu-id="c0c7b-212">Ta implementacja wywołuje `MakeDeposit` tylko wtedy, gdy saldo początkowe jest większe niż `0` .</span><span class="sxs-lookup"><span data-stu-id="c0c7b-212">This implementation calls `MakeDeposit` only if the initial balance is greater than `0`.</span></span> <span data-ttu-id="c0c7b-213">Pozwala to zachować regułę, która musi być wartością dodatnią, ale umożliwia otwarcie konta kredytowego z `0` saldem.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-213">That preserves the rule that deposits must be positive, yet lets the credit account open with a `0` balance.</span></span>

<span data-ttu-id="c0c7b-214">Teraz, gdy `BankAccount` Klasa ma pole tylko do odczytu dla minimalnego salda, końcowa zmiana polega na zmianie kodu twardego `0` na `minimumBalance` wartość w `MakeWithdrawal` metodzie:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-214">Now that the `BankAccount` class has a read-only field for the minimum balance, the final change is to change the hard code `0` to `minimumBalance` in the `MakeWithdrawal` method:</span></span>

```csharp
if (Balance - amount < minimumBalance)
```

<span data-ttu-id="c0c7b-215">Po rozszerzeniu `BankAccount` klasy można zmodyfikować `LineOfCreditAccount` konstruktora w taki sposób, aby wywoływał nowy Konstruktor podstawowy, jak pokazano w poniższym kodzie:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-215">After extending the `BankAccount` class, you can modify the `LineOfCreditAccount` constructor to call the new base constructor, as shown in the following code:</span></span>

:::code language="csharp" source="./snippets/object-oriented-programming/LineOfCreditAccount.cs" ID="ConstructLineOfCredit":::

<span data-ttu-id="c0c7b-216">Zauważ, że `LineOfCreditAccount` Konstruktor zmienia znak `creditLimit` parametru, tak aby pasował do znaczenia `minimumBalance` parametru.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-216">Notice that the `LineOfCreditAccount` constructor changes the sign of the `creditLimit` parameter so it matches the meaning of the `minimumBalance` parameter.</span></span>

## <a name="different-overdraft-rules"></a><span data-ttu-id="c0c7b-217">Różne reguły przekroczenia</span><span class="sxs-lookup"><span data-stu-id="c0c7b-217">Different overdraft rules</span></span>

<span data-ttu-id="c0c7b-218">Ostatnia funkcja do dodania umożliwia `LineOfCreditAccount` naliczenie opłaty za przekroczenie limitu kredytowego zamiast odmowy transakcji.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-218">The last feature to add enables the `LineOfCreditAccount` to charge a fee for going over the credit limit instead of refusing the transaction.</span></span>

<span data-ttu-id="c0c7b-219">Jedną z technik jest zdefiniowanie funkcji wirtualnej, w której implementowane jest wymagane zachowanie.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-219">One technique is to define a virtual function where you implement the required behavior.</span></span> <span data-ttu-id="c0c7b-220">`BankAccount`Klasa refaktoryzacji `MakeWithdrawal` metody do dwóch metod.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-220">The `BankAccount` class refactors the `MakeWithdrawal` method into two methods.</span></span> <span data-ttu-id="c0c7b-221">Nowa metoda wykonuje określoną akcję, gdy wycofanie ma saldo poniżej wartości minimalnej.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-221">The new method does the specified action when the withdrawal takes the balance below the minimum.</span></span> <span data-ttu-id="c0c7b-222">Istniejąca `MakeWithdrawal` Metoda ma następujący kod:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-222">The existing `MakeWithdrawal` method has the following code:</span></span>

```csharp
public void MakeWithdrawal(decimal amount, DateTime date, string note)
{
    if (amount <= 0)
    {
        throw new ArgumentOutOfRangeException(nameof(amount), "Amount of withdrawal must be positive");
    }
    if (Balance - amount < minimumBalance)
    {
        throw new InvalidOperationException("Not sufficient funds for this withdrawal");
    }
    var withdrawal = new Transaction(-amount, date, note);
    allTransactions.Add(withdrawal);
}
```

<span data-ttu-id="c0c7b-223">Zastąp go następującym kodem:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-223">Replace it with the following code:</span></span>

:::code language="csharp" source="./snippets/object-oriented-programming/BankAccount.cs" ID="RefactoredMakeWithdrawal":::

<span data-ttu-id="c0c7b-224">Dodana Metoda to `protected` , co oznacza, że może być wywoływana tylko z klas pochodnych.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-224">The added method is `protected`, which means that it can be called only from derived classes.</span></span> <span data-ttu-id="c0c7b-225">Ta deklaracja uniemożliwia innym klientom wywoływanie metody.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-225">That declaration prevents other clients from calling the method.</span></span> <span data-ttu-id="c0c7b-226">Istnieje również `virtual` możliwość zmiany zachowania klas pochodnych.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-226">It's also `virtual` so that derived classes can change the behavior.</span></span> <span data-ttu-id="c0c7b-227">Zwracanym typem jest `Transaction?` .</span><span class="sxs-lookup"><span data-stu-id="c0c7b-227">The return type is a `Transaction?`.</span></span> <span data-ttu-id="c0c7b-228">`?`Adnotacja wskazuje, że metoda może zwrócić `null` .</span><span class="sxs-lookup"><span data-stu-id="c0c7b-228">The `?` annotation indicates that the method may return `null`.</span></span> <span data-ttu-id="c0c7b-229">Dodaj następującą implementację w programie, `LineOfCreditAccount` Aby obciążać opłatę w przypadku przekroczenia limitu wycofania:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-229">Add the following implementation in the `LineOfCreditAccount` to charge a fee when the withdrawal limit is exceeded:</span></span>

:::code language="csharp" source="./snippets/object-oriented-programming/LineOfCreditAccount.cs" ID="AddOverdraftFee":::

<span data-ttu-id="c0c7b-230">Zastąpienie zwraca transakcję opłaty po narysowaniu konta.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-230">The override returns a fee transaction when the account is overdrawn.</span></span> <span data-ttu-id="c0c7b-231">Jeśli wycofanie nie przekracza limitu, metoda zwraca `null` transakcję.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-231">If the withdrawal doesn't go over the limit, the method returns a `null` transaction.</span></span> <span data-ttu-id="c0c7b-232">Oznacza to, że nie ma opłat.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-232">That indicates there's no fee.</span></span> <span data-ttu-id="c0c7b-233">Przetestuj te zmiany, dodając następujący kod do `Main` metody w `Program` klasie:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-233">Test these changes by adding the following code to your `Main` method in the `Program` class:</span></span>

:::code language="csharp" source="./snippets/object-oriented-programming/Program.cs" ID="TestLineOfCredit":::

<span data-ttu-id="c0c7b-234">Uruchom program i sprawdź wyniki.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-234">Run the program, and check the results.</span></span>

## <a name="summary"></a><span data-ttu-id="c0c7b-235">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="c0c7b-235">Summary</span></span>

<span data-ttu-id="c0c7b-236">Jeśli zawiesz, że możesz zobaczyć źródło tego samouczka [w naszym repozytorium GitHub](https://github.com/dotnet/docs/tree/master/docs/csharp/tutorials/intro-to-csharp/snippets/object-oriented-programming).</span><span class="sxs-lookup"><span data-stu-id="c0c7b-236">If you got stuck, you can see the source for this tutorial [in our GitHub repo](https://github.com/dotnet/docs/tree/master/docs/csharp/tutorials/intro-to-csharp/snippets/object-oriented-programming).</span></span>

<span data-ttu-id="c0c7b-237">W tym samouczku przedstawiono wiele technik używanych w programowaniu Object-Oriented:</span><span class="sxs-lookup"><span data-stu-id="c0c7b-237">This tutorial demonstrated many of the techniques used in Object-Oriented programming:</span></span>

- <span data-ttu-id="c0c7b-238">Wykorzystano *abstrakcję* , gdy przechowujesz wiele szczegółów `private` w każdej klasie.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-238">You used *Abstraction* when you kept many details `private` in each class.</span></span>
- <span data-ttu-id="c0c7b-239">Użyto *hermetyzacji* podczas definiowania klas dla każdego z różnych typów kont.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-239">You used *Encapsulation* when you defined classes for each of the different account types.</span></span> <span data-ttu-id="c0c7b-240">Te klasy zostały opisane zachowanie dla tego typu konta.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-240">Those classes described the behavior for that type of account.</span></span>
- <span data-ttu-id="c0c7b-241">Użyto *dziedziczenia* podczas korzystania z implementacji już utworzonej w `BankAccount` klasie w celu zapisania kodu.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-241">You used *Inheritance* when you leveraged the implementation already created in the `BankAccount` class to save code.</span></span>
- <span data-ttu-id="c0c7b-242">Używasz *polimorfizmu* podczas tworzenia `virtual` metod, które klasy pochodne mogą przesłonić, aby utworzyć określone zachowanie dla tego typu konta.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-242">You used *Polymorphism* when you created `virtual` methods that derived classes could override to create specific behavior for that account type.</span></span>

<span data-ttu-id="c0c7b-243">Gratulacje, udało Ci się ukończyć wszystkie nasze wprowadzenie do samouczków języka C#.</span><span class="sxs-lookup"><span data-stu-id="c0c7b-243">Congratulations, you've finished all of our introduction to C# tutorials.</span></span> <span data-ttu-id="c0c7b-244">Aby dowiedzieć się więcej, wypróbuj więcej naszych [samouczków](../index.md).</span><span class="sxs-lookup"><span data-stu-id="c0c7b-244">To learn more, try more of our [tutorials](../index.md).</span></span>
