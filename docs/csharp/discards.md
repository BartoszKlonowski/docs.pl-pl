---
title: Odrzuty — Przewodnik C#
description: Opisuje obsługę odrzutów języka C#, które są nieprzypisanymi, zmiennymi odrzuconymi i sposobami, w których można używać odrzutów.
ms.technology: csharp-fundamentals
ms.date: 09/22/2020
ms.openlocfilehash: baa7c559095460cf747cb5c8f7ad581270893bd7
ms.sourcegitcommit: 0802ac583585110022beb6af8ea0b39188b77c43
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/26/2020
ms.locfileid: "95698809"
---
# <a name="discards---c-guide"></a><span data-ttu-id="daffd-103">Odrzuty — Przewodnik C#</span><span class="sxs-lookup"><span data-stu-id="daffd-103">Discards - C# Guide</span></span>

<span data-ttu-id="daffd-104">Począwszy od języka C# 7,0, C# obsługuje odrzucanie, które są zmiennymi symbolami zastępczymi, które są celowo nieużywane w kodzie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="daffd-104">Starting with C# 7.0, C# supports discards, which are placeholder variables that are intentionally unused in application code.</span></span> <span data-ttu-id="daffd-105">Odrzucenia są równoważne z nieprzypisanymi zmiennymi; nie mają wartości.</span><span class="sxs-lookup"><span data-stu-id="daffd-105">Discards are equivalent to unassigned variables; they do not have a value.</span></span> <span data-ttu-id="daffd-106">Ponieważ istnieje tylko jedna zmienna odrzucona, a ta zmienna nie może nawet być przydzielone magazynem, odrzucanie może zmniejszyć alokacje pamięci.</span><span class="sxs-lookup"><span data-stu-id="daffd-106">Because there is only a single discard variable, and that variable may not even be allocated storage, discards can reduce memory allocations.</span></span> <span data-ttu-id="daffd-107">Ponieważ sprawiają, że zamierzenie kodu jest jasne, zwiększa czytelność i łatwość utrzymania.</span><span class="sxs-lookup"><span data-stu-id="daffd-107">Because they make the intent of your code clear, they enhance its readability and maintainability.</span></span>

<span data-ttu-id="daffd-108">Wskazujesz, że zmienna jest odrzucana przez przypisanie do niej znaku podkreślenia ( `_` ) jako nazwy.</span><span class="sxs-lookup"><span data-stu-id="daffd-108">You indicate that a variable is a discard by assigning it the underscore (`_`) as its name.</span></span> <span data-ttu-id="daffd-109">Na przykład następujące wywołanie metody zwraca 3-krotkę, w której pierwsze i drugie wartości są odrzucane, a *obszar* jest wcześniej zadeklarowaną zmienną, która ma być ustawiona na odpowiedni trzeci składnik zwrócony przez *GetCityInformation*:</span><span class="sxs-lookup"><span data-stu-id="daffd-109">For example, the following method call returns a 3-tuple in which the first and second values are discards and *area* is a previously declared variable to be set to the corresponding third component returned by *GetCityInformation*:</span></span>

```csharp
(_, _, area) = city.GetCityInformation(cityName);
```

<span data-ttu-id="daffd-110">W języku C# 7,0 i nowszych odrzuty są obsługiwane w przypisaniach w następujących kontekstach:</span><span class="sxs-lookup"><span data-stu-id="daffd-110">In C# 7.0 and later, discards are supported in assignments in the following contexts:</span></span>

- <span data-ttu-id="daffd-111">Krotka i [dekonstrukcja](deconstruct.md)obiektu.</span><span class="sxs-lookup"><span data-stu-id="daffd-111">Tuple and object [deconstruction](deconstruct.md).</span></span>
- <span data-ttu-id="daffd-112">Zgodne ze wzorcem [parametrem](language-reference/keywords/switch.md) [is](language-reference/keywords/is.md) i switch.</span><span class="sxs-lookup"><span data-stu-id="daffd-112">Pattern matching with [is](language-reference/keywords/is.md) and [switch](language-reference/keywords/switch.md).</span></span>
- <span data-ttu-id="daffd-113">Wywołania metod z `out` parametrami.</span><span class="sxs-lookup"><span data-stu-id="daffd-113">Calls to methods with `out` parameters.</span></span>
- <span data-ttu-id="daffd-114">Autonomiczny, `_` gdy nie `_` jest w zakresie.</span><span class="sxs-lookup"><span data-stu-id="daffd-114">A standalone `_` when no `_` is in scope.</span></span>

<span data-ttu-id="daffd-115">Począwszy od języka C# 9,0, można użyć odrzucania, aby określić nieużywane parametry wejściowe wyrażenia lambda.</span><span class="sxs-lookup"><span data-stu-id="daffd-115">Beginning with C# 9.0, you can use discards to specify unused input parameters of a lambda expression.</span></span> <span data-ttu-id="daffd-116">Aby uzyskać więcej informacji, zobacz [Parametry wejściowe sekcji wyrażenie lambda](language-reference/operators/lambda-expressions.md#input-parameters-of-a-lambda-expression) w artykule [wyrażenia lambda](language-reference/operators/lambda-expressions.md) .</span><span class="sxs-lookup"><span data-stu-id="daffd-116">For more information, see the [Input parameters of a lambda expression](language-reference/operators/lambda-expressions.md#input-parameters-of-a-lambda-expression) section of the [Lambda expressions](language-reference/operators/lambda-expressions.md) article.</span></span>

<span data-ttu-id="daffd-117">Gdy `_` jest prawidłowym odrzucaniem, próba pobrania jego wartości lub użycia w operacji przypisania generuje błąd kompilatora CS0301, "nazwa" \_ "nie istnieje w bieżącym kontekście".</span><span class="sxs-lookup"><span data-stu-id="daffd-117">When `_` is a valid discard, attempting to retrieve its value or use it in an assignment operation generates compiler error CS0301, "The name '\_' does not exist in the current context".</span></span> <span data-ttu-id="daffd-118">Dzieje się tak `_` , ponieważ nie ma przypisanej wartości i może nie mieć przypisanej lokalizacji magazynu.</span><span class="sxs-lookup"><span data-stu-id="daffd-118">This is because `_` is not assigned a value, and may not even be assigned a storage location.</span></span> <span data-ttu-id="daffd-119">Jeśli była to zmienna rzeczywista, nie można odrzucić więcej niż jednej wartości, jak w poprzednim przykładzie.</span><span class="sxs-lookup"><span data-stu-id="daffd-119">If it were an actual variable, you could not discard more than one value, as the previous example did.</span></span>

## <a name="tuple-and-object-deconstruction"></a><span data-ttu-id="daffd-120">Krotka i dekonstrukcja obiektu</span><span class="sxs-lookup"><span data-stu-id="daffd-120">Tuple and object deconstruction</span></span>

<span data-ttu-id="daffd-121">Odrzucenia są szczególnie przydatne podczas pracy z krotkami, gdy kod aplikacji używa niektórych elementów krotki, ale ignoruje inne.</span><span class="sxs-lookup"><span data-stu-id="daffd-121">Discards are particularly useful in working with tuples when your application code uses some tuple elements but ignores others.</span></span> <span data-ttu-id="daffd-122">Na przykład Poniższa `QueryCityDataForYears` Metoda zwraca 6-krotkę z nazwą miasta, jego obszarem, rokiem, populacją miasta dla tego roku, drugi rok i populacją miasta dla tego drugiego roku.</span><span class="sxs-lookup"><span data-stu-id="daffd-122">For example, the following `QueryCityDataForYears` method returns a 6-tuple with the name of a city, its area, a year, the city's population for that year, a second year, and the city's population for that second year.</span></span> <span data-ttu-id="daffd-123">W przykładzie pokazano zmianę populacji między tymi dwoma latami.</span><span class="sxs-lookup"><span data-stu-id="daffd-123">The example shows the change in population between those two years.</span></span> <span data-ttu-id="daffd-124">Danych dostępnych w spójnej kolekcji nie ma w tym obszarze miasta i wiemy, że imię i nazwisko miasto oraz dwie daty w czasie projektowania.</span><span class="sxs-lookup"><span data-stu-id="daffd-124">Of the data available from the tuple, we're unconcerned with the city area, and we know the city name and the two dates at design-time.</span></span> <span data-ttu-id="daffd-125">W związku z tym interesuje tylko dwie wartości populacji przechowywane w spójnej kolekcji i mogą obsługiwać pozostałe wartości jako odrzucenia.</span><span class="sxs-lookup"><span data-stu-id="daffd-125">As a result, we're only interested in the two population values stored in the tuple, and can handle its remaining values as discards.</span></span>  

[!code-csharp[Tuple-discard](../../samples/snippets/csharp/programming-guide/deconstructing-tuples/discard-tuple1.cs)]

<span data-ttu-id="daffd-126">Aby uzyskać więcej informacji na temat dekonstrukcji krotek z odrzuconymi, zobacz [dekonstrukcja krotek i inne typy](deconstruct.md#deconstructing-tuple-elements-with-discards).</span><span class="sxs-lookup"><span data-stu-id="daffd-126">For more information on deconstructing tuples with discards, see [Deconstructing tuples and other types](deconstruct.md#deconstructing-tuple-elements-with-discards).</span></span>

<span data-ttu-id="daffd-127">`Deconstruct`Metoda klasy, struktury lub interfejsu umożliwia również pobieranie i dekonstrukcja określonego zestawu danych z obiektu.</span><span class="sxs-lookup"><span data-stu-id="daffd-127">The `Deconstruct` method of a class, structure, or interface also allows you to retrieve and deconstruct a specific set of data from an object.</span></span> <span data-ttu-id="daffd-128">Można użyć odrzuconych, gdy interesuje Cię pracę tylko z podzbiorem wartości, które zostały zbudowane.</span><span class="sxs-lookup"><span data-stu-id="daffd-128">You can use discards when you are interested in working with only a subset of the deconstructed values.</span></span> <span data-ttu-id="daffd-129">Poniższy przykład dekonstruuje `Person` obiekt na cztery ciągi (imię i nazwisko, miasto i stan), ale odrzuca ostatnią nazwę i stan.</span><span class="sxs-lookup"><span data-stu-id="daffd-129">The following example deconstructs a `Person` object into four strings (the first and last names, the city, and the state), but discards the last name and the state.</span></span>

[!code-csharp[Class-discard](../../samples/snippets/csharp/programming-guide/deconstructing-tuples/class-discard1.cs)]

<span data-ttu-id="daffd-130">Aby uzyskać więcej informacji na temat dekonstruowania typów zdefiniowanych przez użytkownika z odrzuconymi, zobacz [dekonstrukcja kroteks i innych typów](deconstruct.md#deconstructing-a-user-defined-type-with-discards).</span><span class="sxs-lookup"><span data-stu-id="daffd-130">For more information on deconstructing user-defined types with discards, see [Deconstructing tuples and other types](deconstruct.md#deconstructing-a-user-defined-type-with-discards).</span></span>

## <a name="pattern-matching-with-switch-and-is"></a><span data-ttu-id="daffd-131">Dopasowanie wzorców do `switch` i `is`</span><span class="sxs-lookup"><span data-stu-id="daffd-131">Pattern matching with `switch` and `is`</span></span>

<span data-ttu-id="daffd-132">*Wzorca Discard* można używać w połączeniu ze wzorcem ze słowami kluczowymi [is](language-reference/keywords/is.md) i [Switch](language-reference/keywords/switch.md) .</span><span class="sxs-lookup"><span data-stu-id="daffd-132">The *discard pattern* can be used in pattern matching with the [is](language-reference/keywords/is.md) and [switch](language-reference/keywords/switch.md) keywords.</span></span> <span data-ttu-id="daffd-133">Każde wyrażenie jest zawsze zgodne ze wzorcem odrzucania.</span><span class="sxs-lookup"><span data-stu-id="daffd-133">Every expression always matches the discard pattern.</span></span>

<span data-ttu-id="daffd-134">W poniższym przykładzie zdefiniowano `ProvidesFormatInfo` metodę, która używa instrukcji [is](language-reference/keywords/is.md) , aby określić, czy obiekt dostarcza <xref:System.IFormatProvider> implementację i sprawdza, czy obiekt jest `null` .</span><span class="sxs-lookup"><span data-stu-id="daffd-134">The following example defines a `ProvidesFormatInfo` method that uses [is](language-reference/keywords/is.md) statements to determine whether an object provides an <xref:System.IFormatProvider> implementation and tests whether the object is `null`.</span></span> <span data-ttu-id="daffd-135">Używa również wzorca odrzucania do obsługi obiektów innych niż null dla innych typów.</span><span class="sxs-lookup"><span data-stu-id="daffd-135">It also uses the discard pattern to handle non-null objects of any other type.</span></span>

[!code-csharp[discard-pattern](../../samples/snippets/csharp/programming-guide/discards/discard-pattern2.cs)]

## <a name="calls-to-methods-with-out-parameters"></a><span data-ttu-id="daffd-136">Wywołania metod z parametrami out</span><span class="sxs-lookup"><span data-stu-id="daffd-136">Calls to methods with out parameters</span></span>

<span data-ttu-id="daffd-137">Podczas wywoływania `Deconstruct` metody w celu odtworzenia typu zdefiniowanego przez użytkownika (wystąpienie klasy, struktury lub interfejsu) można odrzucić wartości poszczególnych `out` argumentów.</span><span class="sxs-lookup"><span data-stu-id="daffd-137">When calling the `Deconstruct` method to deconstruct a user-defined type (an instance of a class, structure, or interface), you can discard the values of individual `out` arguments.</span></span> <span data-ttu-id="daffd-138">Ale można również odrzucić wartość `out` argumentów podczas wywoływania dowolnej metody z parametrem out.</span><span class="sxs-lookup"><span data-stu-id="daffd-138">But you can also discard the value of `out` arguments when calling any method with an out parameter.</span></span>

<span data-ttu-id="daffd-139">Poniższy przykład wywołuje metodę [DateTime. TryParse (String, out DateTime)](<xref:System.DateTime.TryParse(System.String,System.DateTime@)>) , aby określić, czy ciąg reprezentujący datę jest prawidłowy w bieżącej kulturze.</span><span class="sxs-lookup"><span data-stu-id="daffd-139">The following example calls the [DateTime.TryParse(String, out DateTime)](<xref:System.DateTime.TryParse(System.String,System.DateTime@)>) method to determine whether the string representation of a date is valid in the current culture.</span></span> <span data-ttu-id="daffd-140">Ponieważ przykład dotyczy tylko walidacji ciągu daty i nie jest analizowany w celu wyodrębnienia daty, `out` argument metody jest odrzucany.</span><span class="sxs-lookup"><span data-stu-id="daffd-140">Because the example is concerned only with validating the date string and not with parsing it to extract the date, the `out` argument to the method is a discard.</span></span>

[!code-csharp[discard-with-out](../../samples/snippets/csharp/programming-guide/discards/discard-out1.cs)]

## <a name="a-standalone-discard"></a><span data-ttu-id="daffd-141">Odrzucanie autonomiczne</span><span class="sxs-lookup"><span data-stu-id="daffd-141">A standalone discard</span></span>

<span data-ttu-id="daffd-142">Możesz użyć odrzucania autonomicznego, aby wskazać dowolną zmienną, która ma być ignorowana.</span><span class="sxs-lookup"><span data-stu-id="daffd-142">You can use a standalone discard to indicate any variable that you choose to ignore.</span></span> <span data-ttu-id="daffd-143">W poniższym przykładzie jest stosowane autonomiczne odrzucanie w celu ignorowania <xref:System.Threading.Tasks.Task> obiektu zwróconego przez operację asynchroniczną.</span><span class="sxs-lookup"><span data-stu-id="daffd-143">The following example uses a standalone discard to ignore the <xref:System.Threading.Tasks.Task> object returned by an asynchronous operation.</span></span> <span data-ttu-id="daffd-144">Ma to wpływ na pominięcie wyjątku, który operacja zgłasza, gdy zostanie zakończone.</span><span class="sxs-lookup"><span data-stu-id="daffd-144">This has the effect of suppressing the exception that the operation throws as it is about to complete.</span></span>

[!code-csharp[standalone-discard](../../samples/snippets/csharp/programming-guide/discards/standalone-discard1.cs)]

<span data-ttu-id="daffd-145">Należy pamiętać, że `_` jest również prawidłowym identyfikatorem.</span><span class="sxs-lookup"><span data-stu-id="daffd-145">Note that `_` is also a valid identifier.</span></span> <span data-ttu-id="daffd-146">Gdy jest używana poza obsługiwanym kontekstem, `_` jest traktowana jako odrzucona, ale jako prawidłowa zmienna.</span><span class="sxs-lookup"><span data-stu-id="daffd-146">When used outside of a supported context, `_` is treated not as a discard but as a valid variable.</span></span> <span data-ttu-id="daffd-147">Jeśli identyfikator o nazwie `_` znajduje się już w zakresie, użycie `_` jako odrzucanie autonomiczne może skutkować:</span><span class="sxs-lookup"><span data-stu-id="daffd-147">If an identifier named `_` is already in scope, the use of `_` as a standalone discard can result in:</span></span>

- <span data-ttu-id="daffd-148">Przypadkowe modyfikacje wartości zmiennej w zakresie `_` przez przypisanie jej wartości zamierzonego odrzucenia.</span><span class="sxs-lookup"><span data-stu-id="daffd-148">Accidental modification of the value of the in-scope `_` variable by assigning it the value of the intended discard.</span></span> <span data-ttu-id="daffd-149">Przykład:</span><span class="sxs-lookup"><span data-stu-id="daffd-149">For example:</span></span>

   [!code-csharp[standalone-discard](../../samples/snippets/csharp/programming-guide/discards/standalone-discard2.cs#1)]

- <span data-ttu-id="daffd-150">Błąd kompilatora dotyczący naruszania bezpieczeństwa typów.</span><span class="sxs-lookup"><span data-stu-id="daffd-150">A compiler error for violating type safety.</span></span> <span data-ttu-id="daffd-151">Przykład:</span><span class="sxs-lookup"><span data-stu-id="daffd-151">For example:</span></span>

   [!code-csharp[standalone-discard](../../samples/snippets/csharp/programming-guide/discards/standalone-discard2.cs#2)]

- <span data-ttu-id="daffd-152">Błąd kompilatora CS0136, "lokalny lub parametr o nazwie" \_ "nie może zostać zadeklarowany w tym zakresie, ponieważ ta nazwa jest używana w otaczającym zakresie lokalnym w celu zdefiniowania lokalnego lub parametru".</span><span class="sxs-lookup"><span data-stu-id="daffd-152">Compiler error CS0136, "A local or parameter named '\_' cannot be declared in this scope because that name is used in an enclosing local scope to define a local or parameter."</span></span> <span data-ttu-id="daffd-153">Przykład:</span><span class="sxs-lookup"><span data-stu-id="daffd-153">For example:</span></span>

   [!code-csharp[standalone-discard](../../samples/snippets/csharp/programming-guide/discards/standalone-discard2.cs#3)]

## <a name="see-also"></a><span data-ttu-id="daffd-154">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="daffd-154">See also</span></span>

- [<span data-ttu-id="daffd-155">Dekonstrukcja krotek i innych typów</span><span class="sxs-lookup"><span data-stu-id="daffd-155">Deconstructing tuples and other types</span></span>](deconstruct.md)
- [<span data-ttu-id="daffd-156">`is` kodu</span><span class="sxs-lookup"><span data-stu-id="daffd-156">`is` keyword</span></span>](language-reference/keywords/is.md)
- [<span data-ttu-id="daffd-157">`switch` kodu</span><span class="sxs-lookup"><span data-stu-id="daffd-157">`switch` keyword</span></span>](language-reference/keywords/switch.md)
