---
title: Metody — C# Przewodnik programowania
ms.date: 07/20/2015
helpviewer_keywords:
- methods [C#]
- C# language, methods
ms.assetid: cc738f07-e8cd-4683-9585-9f40c0667c37
ms.openlocfilehash: 8c90f06bfadc528bd9575ead30e6b01263055fe8
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/24/2020
ms.locfileid: "76743903"
---
# <a name="methods-c-programming-guide"></a><span data-ttu-id="e7a2b-102">Metody (Przewodnik programowania w języku C#)</span><span class="sxs-lookup"><span data-stu-id="e7a2b-102">Methods (C# Programming Guide)</span></span>

<span data-ttu-id="e7a2b-103">Metoda jest blokiem kodu, który zawiera serie instrukcji.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-103">A method is a code block that contains a series of statements.</span></span> <span data-ttu-id="e7a2b-104">Program powoduje wykonanie instrukcji przez wywołanie metody i określenie wszelkich wymaganych argumentów metody.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-104">A program causes the statements to be executed by calling the method and specifying any required method arguments.</span></span> <span data-ttu-id="e7a2b-105">W C#programie Każda wykonana instrukcja jest wykonywana w kontekście metody.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-105">In C#, every executed instruction is performed in the context of a method.</span></span> <span data-ttu-id="e7a2b-106">Metoda `Main` jest punktem wejścia dla każdej C# aplikacji i jest wywoływana przez środowisko uruchomieniowe języka wspólnego (CLR), gdy program jest uruchomiony.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-106">The `Main` method is the entry point for every C# application and it's called by the common language runtime (CLR) when the program is started.</span></span>

> [!NOTE]
> <span data-ttu-id="e7a2b-107">W tym artykule omówiono nazwane metody.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-107">This article discusses named methods.</span></span> <span data-ttu-id="e7a2b-108">Aby uzyskać informacje na temat funkcji anonimowych, zobacz [funkcje anonimowe](../statements-expressions-operators/anonymous-functions.md).</span><span class="sxs-lookup"><span data-stu-id="e7a2b-108">For information about anonymous functions, see [Anonymous Functions](../statements-expressions-operators/anonymous-functions.md).</span></span>

## <a name="method-signatures"></a><span data-ttu-id="e7a2b-109">Sygnatury metod</span><span class="sxs-lookup"><span data-stu-id="e7a2b-109">Method signatures</span></span>

<span data-ttu-id="e7a2b-110">Metody są zadeklarowane w [klasie](../../language-reference/keywords/class.md) lub [strukturze](../../language-reference/keywords/struct.md) przez określenie poziomu dostępu, takiego jak `public` lub `private`, Modyfikatory opcjonalne, takie jak `abstract` lub `sealed`, wartość zwracana, nazwa metody i wszystkie parametry metody.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-110">Methods are declared in a [class](../../language-reference/keywords/class.md) or [struct](../../language-reference/keywords/struct.md) by specifying the access level such as `public` or `private`, optional modifiers such as `abstract` or `sealed`, the return value, the name of the method, and any method parameters.</span></span> <span data-ttu-id="e7a2b-111">Te części razem są sygnaturą metody.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-111">These parts together are the signature of the method.</span></span>

> [!NOTE]
> <span data-ttu-id="e7a2b-112">Zwracany typ metody nie jest częścią podpisu metody do celów przeciążania metody.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-112">A return type of a method is not part of the signature of the method for the purposes of method overloading.</span></span> <span data-ttu-id="e7a2b-113">Jednakże jest częścią podpisu metody podczas określania zgodności między delegatem a metodą, do której wskazuje.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-113">However, it is part of the signature of the method when determining the compatibility between a delegate and the method that it points to.</span></span>

<span data-ttu-id="e7a2b-114">Parametry metody są ujęte w nawiasy i są rozdzielone przecinkami.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-114">Method parameters are enclosed in parentheses and are separated by commas.</span></span> <span data-ttu-id="e7a2b-115">Puste nawiasy wskazują, że metoda nie wymaga żadnych parametrów.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-115">Empty parentheses indicate that the method requires no parameters.</span></span> <span data-ttu-id="e7a2b-116">Ta klasa zawiera cztery metody:</span><span class="sxs-lookup"><span data-stu-id="e7a2b-116">This class contains four methods:</span></span>

[!code-csharp[csProgGuideObjects#40](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#40)]

## <a name="method-access"></a><span data-ttu-id="e7a2b-117">Dostęp do metody</span><span class="sxs-lookup"><span data-stu-id="e7a2b-117">Method access</span></span>

<span data-ttu-id="e7a2b-118">Wywołanie metody na obiekcie jest podobne do uzyskiwania dostępu do pola.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-118">Calling a method on an object is like accessing a field.</span></span> <span data-ttu-id="e7a2b-119">Po nazwie obiektu Dodaj kropkę, nazwę metody i nawiasów.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-119">After the object name, add a period, the name of the method, and parentheses.</span></span> <span data-ttu-id="e7a2b-120">Argumenty są wyświetlane w nawiasach i są oddzielone przecinkami.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-120">Arguments are listed within the parentheses, and are separated by commas.</span></span> <span data-ttu-id="e7a2b-121">Metody klasy `Motorcycle` mogą więc być wywoływane jak w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="e7a2b-121">The methods of the `Motorcycle` class can therefore be called as in the following example:</span></span>

[!code-csharp[csProgGuideObjects#41](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#41)]

## <a name="method-parameters-vs-arguments"></a><span data-ttu-id="e7a2b-122">Parametry metody a argumenty</span><span class="sxs-lookup"><span data-stu-id="e7a2b-122">Method parameters vs. arguments</span></span>

<span data-ttu-id="e7a2b-123">Definicja metody Określa nazwy i typy wymaganych parametrów.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-123">The method definition specifies the names and types of any parameters that are required.</span></span> <span data-ttu-id="e7a2b-124">Gdy Wywoływanie kodu wywołuje metodę, dostarcza konkretnych wartości nazywanych argumentami dla każdego parametru.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-124">When calling code calls the method, it provides concrete values called arguments for each parameter.</span></span> <span data-ttu-id="e7a2b-125">Argumenty muszą być zgodne z typem parametru, ale nazwa argumentu (jeśli istnieje) użyta w kodzie wywołującym nie musi być taka sama jak parametr o nazwie zdefiniowanej w metodzie.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-125">The arguments must be compatible with the parameter type but the argument name (if any) used in the calling code doesn't have to be the same as the parameter named defined in the method.</span></span> <span data-ttu-id="e7a2b-126">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="e7a2b-126">For example:</span></span>

[!code-csharp[csProgGuideObjects#74](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#74)]

## <a name="passing-by-reference-vs-passing-by-value"></a><span data-ttu-id="e7a2b-127">Przekazywanie przez odwołanie a przekazywanie przez wartość</span><span class="sxs-lookup"><span data-stu-id="e7a2b-127">Passing by reference vs. passing by value</span></span>

<span data-ttu-id="e7a2b-128">Domyślnie, gdy wystąpienie [typu wartości](../../language-reference/builtin-types/value-types.md) jest przenoszone do metody, jego kopia jest przenoszona zamiast samego wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-128">By default, when an instance of a [value type](../../language-reference/builtin-types/value-types.md) is passed to a method, its copy is passed instead of the instance itself.</span></span> <span data-ttu-id="e7a2b-129">W związku z tym zmiany argumentu nie mają wpływu na oryginalne wystąpienie w metodzie wywołującej.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-129">Therefore, changes to the argument have no effect on the original instance in the calling method.</span></span> <span data-ttu-id="e7a2b-130">Aby przekazać wystąpienie typu wartości przez odwołanie, użyj słowa kluczowego `ref`.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-130">To pass a value-type instance by reference, use the `ref` keyword.</span></span> <span data-ttu-id="e7a2b-131">Aby uzyskać więcej informacji, zobacz [przekazywanie parametrów typu wartości](./passing-value-type-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="e7a2b-131">For more information, see [Passing Value-Type Parameters](./passing-value-type-parameters.md).</span></span>

<span data-ttu-id="e7a2b-132">Gdy obiekt typu referencyjnego jest przenoszona do metody, odwołanie do obiektu jest przesyłane.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-132">When an object of a reference type is passed to a method, a reference to the object is passed.</span></span> <span data-ttu-id="e7a2b-133">Oznacza to, że metoda nie odbiera samego obiektu, ale argument, który wskazuje lokalizację obiektu.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-133">That is, the method receives not the object itself but an argument that indicates the location of the object.</span></span> <span data-ttu-id="e7a2b-134">Jeśli zmienisz element członkowski obiektu za pomocą tego odwołania, zmiana zostanie odzwierciedlona w argumencie metody wywołującej, nawet jeśli przekażesz obiekt przez wartość.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-134">If you change a member of the object by using this reference, the change is reflected in the argument in the calling method, even if you pass the object by value.</span></span>

<span data-ttu-id="e7a2b-135">Można utworzyć typ referencyjny za pomocą słowa kluczowego `class`, jak pokazano w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="e7a2b-135">You create a reference type by using the `class` keyword, as the following example shows:</span></span>

[!code-csharp[csProgGuideObjects#42](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#42)]

<span data-ttu-id="e7a2b-136">Teraz, Jeśli przekażesz obiekt, który jest oparty na tym typie metody, odwołanie do obiektu zostanie przekazane.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-136">Now, if you pass an object that is based on this type to a method, a reference to the object is passed.</span></span> <span data-ttu-id="e7a2b-137">Poniższy przykład przekazuje obiekt typu `SampleRefType` do metody `ModifyObject`:</span><span class="sxs-lookup"><span data-stu-id="e7a2b-137">The following example passes an object of type `SampleRefType` to method `ModifyObject`:</span></span>

[!code-csharp[csProgGuideObjects#75](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#75)]

<span data-ttu-id="e7a2b-138">Przykład zasadniczo działa tak samo jak w poprzednim przykładzie, że przekazuje argument przez wartość do metody.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-138">The example does essentially the same thing as the previous example in that it passes an argument by value to a method.</span></span> <span data-ttu-id="e7a2b-139">Jednak, ponieważ jest używany typ referencyjny, wynik jest różny.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-139">But, because a reference type is used, the result is different.</span></span> <span data-ttu-id="e7a2b-140">Modyfikacja wprowadzona w `ModifyObject` do pola `value` parametru `obj`, również zmienia pole `value` argumentu `rt`, w metodzie `TestRefType`.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-140">The modification that is made in `ModifyObject` to the `value` field of the parameter, `obj`, also changes the `value` field of the argument, `rt`, in the `TestRefType` method.</span></span> <span data-ttu-id="e7a2b-141">Metoda `TestRefType` wyświetla 33 jako dane wyjściowe.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-141">The `TestRefType` method displays 33 as the output.</span></span>

<span data-ttu-id="e7a2b-142">Aby uzyskać więcej informacji na temat przekazywania typów odwołań przez odwołanie i wartość, zobacz [przekazywanie parametrów typu odwołania](./passing-reference-type-parameters.md) i [typy odwołań](../../language-reference/keywords/reference-types.md).</span><span class="sxs-lookup"><span data-stu-id="e7a2b-142">For more information about how to pass reference types by reference and by value, see [Passing Reference-Type Parameters](./passing-reference-type-parameters.md) and [Reference Types](../../language-reference/keywords/reference-types.md).</span></span>

## <a name="return-values"></a><span data-ttu-id="e7a2b-143">Zwracane wartości</span><span class="sxs-lookup"><span data-stu-id="e7a2b-143">Return values</span></span>

<span data-ttu-id="e7a2b-144">Metody mogą zwracać wartość do obiektu wywołującego.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-144">Methods can return a value to the caller.</span></span> <span data-ttu-id="e7a2b-145">Jeśli zwracany typ, typ wymieniony przed nazwą metody, nie jest `void`, Metoda może zwrócić wartość za pomocą słowa kluczowego `return`.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-145">If the return type, the type listed before the method name, is not `void`, the method can return the value by using the `return` keyword.</span></span> <span data-ttu-id="e7a2b-146">Instrukcja ze słowem kluczowym `return`, po której następuje wartość zgodna z typem zwracanym, zwróci tę wartość do obiektu wywołującego metodę.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-146">A statement with the `return` keyword followed by a value that matches the return type will return that value to the method caller.</span></span>

<span data-ttu-id="e7a2b-147">Wartość można zwrócić do elementu wywołującego przez wartość lub, zaczynając od C# 7,0, [według odwołania](ref-returns.md).</span><span class="sxs-lookup"><span data-stu-id="e7a2b-147">The value can be returned to the caller by value or, starting with C# 7.0, [by reference](ref-returns.md).</span></span> <span data-ttu-id="e7a2b-148">Wartości są zwracane do obiektu wywołującego przez odwołanie, jeśli słowo kluczowe `ref` jest używane w sygnaturze metody i następuje po każdym `return` słowa kluczowego.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-148">Values are returned to the caller by reference if the `ref` keyword is used in the method signature and it follows each `return` keyword.</span></span> <span data-ttu-id="e7a2b-149">Na przykład następująca sygnatura metody i instrukcja return wskazują, że metoda zwraca nazwy zmiennych `estDistance` przez odwołanie do obiektu wywołującego.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-149">For example, the following method signature and return statement indicate that the method returns a variable names `estDistance` by reference to the caller.</span></span>

```csharp
public ref double GetEstimatedDistance()
{
    return ref estDistance;
}
```

<span data-ttu-id="e7a2b-150">Słowo kluczowe `return` przerywa również wykonywanie metody.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-150">The `return` keyword also stops the execution of the method.</span></span> <span data-ttu-id="e7a2b-151">Jeśli zwracanym typem jest `void`, instrukcja `return` bez wartości jest nadal przydatna do zatrzymania wykonywania metody.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-151">If the return type is `void`, a `return` statement without a value is still useful to stop the execution of the method.</span></span> <span data-ttu-id="e7a2b-152">Bez słowa kluczowego `return`, Metoda zostanie zatrzymana po osiągnięciu końca bloku kodu.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-152">Without the `return` keyword, the method will stop executing when it reaches the end of the code block.</span></span> <span data-ttu-id="e7a2b-153">Metody z typem zwracanym innym niż void są wymagane do zwrócenia wartości za pomocą słowa kluczowego `return`.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-153">Methods with a non-void return type are required to use the `return` keyword to return a value.</span></span> <span data-ttu-id="e7a2b-154">Na przykład te dwie metody używają słowa kluczowego `return`, aby zwracać liczby całkowite:</span><span class="sxs-lookup"><span data-stu-id="e7a2b-154">For example, these two methods use the `return` keyword to return integers:</span></span>

[!code-csharp[csProgGuideObjects#44](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#44)]

<span data-ttu-id="e7a2b-155">Aby użyć wartości zwracanej z metody, Metoda wywołująca może użyć wywołania metody, wszędzie tam, gdzie wartość tego samego typu byłaby wystarczająca.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-155">To use a value returned from a method, the calling method can use the method call itself anywhere a value of the same type would be sufficient.</span></span> <span data-ttu-id="e7a2b-156">Możesz również przypisać wartość zwracaną do zmiennej.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-156">You can also assign the return value to a variable.</span></span> <span data-ttu-id="e7a2b-157">Na przykład następujące dwa przykłady kodu mają ten sam cel:</span><span class="sxs-lookup"><span data-stu-id="e7a2b-157">For example, the following two code examples accomplish the same goal:</span></span>

[!code-csharp[csProgGuideObjects#45](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#45)]

[!code-csharp[csProgGuideObjects#46](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#46)]

<span data-ttu-id="e7a2b-158">Używając zmiennej lokalnej, w tym przypadku `result`, do przechowywania wartości jest opcjonalne.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-158">Using a local variable, in this case, `result`, to store a value is optional.</span></span> <span data-ttu-id="e7a2b-159">Może to pomóc w czytelności kodu lub może być konieczne, jeśli konieczne będzie przechowywanie pierwotnej wartości argumentu dla całego zakresu metody.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-159">It may help the readability of the code, or it may be necessary if you need to store the original value of the argument for the entire scope of the method.</span></span>

<span data-ttu-id="e7a2b-160">Aby użyć wartości zwracanej przez odwołanie z metody, należy zadeklarować zmienną [lokalną ref](ref-returns.md#ref-locals) , jeśli zamierzasz zmodyfikować jej wartość.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-160">To use a value returned by reference from a method, you must declare a [ref local](ref-returns.md#ref-locals) variable if you intend to modify its value.</span></span> <span data-ttu-id="e7a2b-161">Na przykład jeśli metoda `Planet.GetEstimatedDistance` zwraca wartość <xref:System.Double> przez odwołanie, można zdefiniować ją jako zmienną lokalną ref z kodem podobnym do poniższego:</span><span class="sxs-lookup"><span data-stu-id="e7a2b-161">For example, if the `Planet.GetEstimatedDistance` method returns a <xref:System.Double> value by reference, you can define it as a ref local variable with code like the following:</span></span>

```csharp
ref int distance = plant
```

<span data-ttu-id="e7a2b-162">Zwracanie tablicy wielowymiarowej z metody, `M`, która modyfikuje zawartość tablicy, nie jest konieczna, jeśli wywoływana funkcja przekazała tablicę do `M`.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-162">Returning a multi-dimensional array from a method, `M`, that modifies the array's contents is not necessary if the calling function passed the array into `M`.</span></span>  <span data-ttu-id="e7a2b-163">Wynikową tablicę można zwrócić z `M` dla dobrego stylu lub przepływu funkcjonalnego wartości, ale nie jest to konieczne, C# ponieważ przekazuje wszystkie typy odwołań według wartości, a wartość odwołania tablicy jest wskaźnikiem do tablicy.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-163">You may return the resulting array from `M` for good style or functional flow of values, but it is not necessary because C# passes all reference types by value, and the value of an array reference is the pointer to the array.</span></span> <span data-ttu-id="e7a2b-164">W metodzie `M`wszelkie zmiany zawartości tablicy są zauważalne przez dowolny kod, który ma odwołanie do tablicy, jak pokazano w następującym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="e7a2b-164">In the method `M`, any changes to the array's contents are observable by any code that has a reference to the array, as shown in the following example:</span></span>

```csharp
static void Main(string[] args)
{
    int[,] matrix = new int[2, 2];
    FillMatrix(matrix);
    // matrix is now full of -1
}

public static void FillMatrix(int[,] matrix)
{
    for (int i = 0; i < matrix.GetLength(0); i++)
    {
        for (int j = 0; j < matrix.GetLength(1); j++)
        {
            matrix[i, j] = -1;
        }
    }
}
```

<span data-ttu-id="e7a2b-165">Aby uzyskać więcej informacji, zobacz [Return](../../language-reference/keywords/return.md).</span><span class="sxs-lookup"><span data-stu-id="e7a2b-165">For more information, see [return](../../language-reference/keywords/return.md).</span></span>

## <a name="async-methods"></a><span data-ttu-id="e7a2b-166">Metody asynchroniczne</span><span class="sxs-lookup"><span data-stu-id="e7a2b-166">Async methods</span></span>

<span data-ttu-id="e7a2b-167">Za pomocą funkcji asynchronicznej można wywołać metody asynchroniczne bez używania jawnych wywołań zwrotnych lub ręcznie podzielić kod na wiele metod lub wyrażenia lambda.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-167">By using the async feature, you can invoke asynchronous methods without using explicit callbacks or manually splitting your code across multiple methods or lambda expressions.</span></span>

<span data-ttu-id="e7a2b-168">Jeśli oznaczesz metodę za pomocą modyfikatora [asynchronicznego](../../language-reference/keywords/async.md) , możesz użyć operatora [await](../../language-reference/operators/await.md) w metodzie.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-168">If you mark a method with the [async](../../language-reference/keywords/async.md) modifier, you can use the [await](../../language-reference/operators/await.md) operator in the method.</span></span> <span data-ttu-id="e7a2b-169">Gdy kontrolka osiągnie wyrażenie await w metodzie asynchronicznej, sterowanie powraca do obiektu wywołującego, a postęp w metodzie jest zawieszony do momentu zakończenia zadania oczekiwania.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-169">When control reaches an await expression in the async method, control returns to the caller, and progress in the method is suspended until the awaited task completes.</span></span> <span data-ttu-id="e7a2b-170">Po zakończeniu zadania wykonywanie może zostać wznowione w metodzie.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-170">When the task is complete, execution can resume in the method.</span></span>

> [!NOTE]
> <span data-ttu-id="e7a2b-171">Metoda asynchroniczna wraca do obiektu wywołującego, gdy napotka on pierwszy oczekujący obiekt, który nie został jeszcze ukończony lub otrzymuje koniec metody asynchronicznej, zależnie od tego, co się dzieje.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-171">An async method returns to the caller when either it encounters the first awaited object that’s not yet complete or it gets to the end of the async method, whichever occurs first.</span></span>

<span data-ttu-id="e7a2b-172">Metoda asynchroniczna może mieć typ zwracany <xref:System.Threading.Tasks.Task%601>, <xref:System.Threading.Tasks.Task>lub void.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-172">An async method can have a return type of <xref:System.Threading.Tasks.Task%601>, <xref:System.Threading.Tasks.Task>, or void.</span></span> <span data-ttu-id="e7a2b-173">Typ zwracany void jest używany głównie do definiowania programów obsługi zdarzeń, gdzie wymagany jest zwracany typ void.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-173">The void return type is used primarily to define event handlers, where a void return type is required.</span></span> <span data-ttu-id="e7a2b-174">Metoda asynchroniczna zwracająca typ void nie może być oczekiwana, a obiekt wywołujący metodę void nie może przechwytywać wyjątków, które metoda zgłasza.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-174">An async method that returns void can't be awaited, and the caller of a void-returning method can't catch exceptions that the method throws.</span></span>

<span data-ttu-id="e7a2b-175">W poniższym przykładzie `DelayAsync` jest metodą asynchroniczną, która ma zwracany typ <xref:System.Threading.Tasks.Task%601>.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-175">In the following example, `DelayAsync` is an async method that has a return type of <xref:System.Threading.Tasks.Task%601>.</span></span> <span data-ttu-id="e7a2b-176">`DelayAsync` zawiera instrukcję `return`, która zwraca liczbę całkowitą.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-176">`DelayAsync` has a `return` statement that returns an integer.</span></span> <span data-ttu-id="e7a2b-177">W związku z tym Deklaracja metody `DelayAsync` musi mieć typ zwracany `Task<int>`.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-177">Therefore the method declaration of `DelayAsync` must have a return type of `Task<int>`.</span></span> <span data-ttu-id="e7a2b-178">Ponieważ zwracany typ jest `Task<int>`, obliczenia `await` wyrażenia w `DoSomethingAsync` tworzą liczbę całkowitą, jak pokazano w poniższej instrukcji: `int result = await delayTask`.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-178">Because the return type is `Task<int>`, the evaluation of the `await` expression in `DoSomethingAsync` produces an integer as the following statement demonstrates: `int result = await delayTask`.</span></span>

<span data-ttu-id="e7a2b-179">Metoda `startButton_Click` jest przykładem metody asynchronicznej, która ma zwracany typ void.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-179">The `startButton_Click` method is an example of an async method that has a return type of void.</span></span> <span data-ttu-id="e7a2b-180">Ponieważ `DoSomethingAsync` jest metodą asynchroniczną, zadanie wywołania do `DoSomethingAsync` musi być oczekiwane, jak pokazano w poniższej instrukcji: `await DoSomethingAsync();`.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-180">Because `DoSomethingAsync` is an async method, the task for the call to `DoSomethingAsync` must be awaited, as the following statement shows: `await DoSomethingAsync();`.</span></span> <span data-ttu-id="e7a2b-181">Metoda `startButton_Click` musi być zdefiniowana za pomocą modyfikatora `async`, ponieważ metoda ma wyrażenie `await`.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-181">The `startButton_Click` method must be defined with the `async` modifier because the method has an `await` expression.</span></span>

[!code-csharp[csAsyncMethod#2](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csasyncmethod/cs/mainwindow.xaml.cs#2)]

<span data-ttu-id="e7a2b-182">Metoda async nie może deklarować parametrów [ref](../../language-reference/keywords/ref.md) ani [out](../../language-reference/keywords/out-parameter-modifier.md) , ale może wywoływać metody, które mają takie parametry.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-182">An async method can't declare any [ref](../../language-reference/keywords/ref.md) or [out](../../language-reference/keywords/out-parameter-modifier.md) parameters, but it can call methods that have such parameters.</span></span>

<span data-ttu-id="e7a2b-183">Aby uzyskać więcej informacji na temat metod asynchronicznych, zobacz [programowanie asynchroniczne z asynchroniczne i oczekujące](../concepts/async/index.md), [przepływ sterowania w programach asynchronicznych](../concepts/async/control-flow-in-async-programs.md)i [asynchroniczne typy zwracane](../concepts/async/async-return-types.md).</span><span class="sxs-lookup"><span data-stu-id="e7a2b-183">For more information about async methods, see [Asynchronous Programming with async and await](../concepts/async/index.md), [Control Flow in Async Programs](../concepts/async/control-flow-in-async-programs.md), and [Async Return Types](../concepts/async/async-return-types.md).</span></span>

## <a name="expression-body-definitions"></a><span data-ttu-id="e7a2b-184">Definicje treści wyrażenia</span><span class="sxs-lookup"><span data-stu-id="e7a2b-184">Expression body definitions</span></span>

<span data-ttu-id="e7a2b-185">Często istnieją definicje metod, które po prostu zwracają bezpośrednio z wynikiem wyrażenia lub które mają pojedynczą instrukcję jako treść metody.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-185">It is common to have method definitions that simply return immediately with the result of an expression, or that have a single statement as the body of the method.</span></span> <span data-ttu-id="e7a2b-186">Istnieje skrót składni służący do definiowania takich metod przy użyciu `=>`:</span><span class="sxs-lookup"><span data-stu-id="e7a2b-186">There is a syntax shortcut for defining such methods using `=>`:</span></span>

```csharp
public Point Move(int dx, int dy) => new Point(x + dx, y + dy);
public void Print() => Console.WriteLine(First + " " + Last);
// Works with operators, properties, and indexers too.
public static Complex operator +(Complex a, Complex b) => a.Add(b);
public string Name => First + " " + Last;
public Customer this[long id] => store.LookupCustomer(id);
```

<span data-ttu-id="e7a2b-187">Jeśli metoda zwraca `void` lub jest metodą asynchroniczną, treść metody musi być wyrażeniem instrukcji (analogicznie jak w przypadku wyrażeń lambda).</span><span class="sxs-lookup"><span data-stu-id="e7a2b-187">If the method returns `void` or is an async method, then the body of the method must be a statement expression (same as with lambdas).</span></span> <span data-ttu-id="e7a2b-188">W przypadku właściwości i indeksatorów muszą one być tylko do odczytu i nie można używać słowa kluczowego metody dostępu `get`.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-188">For properties and indexers, they must be read only, and you don't use the `get` accessor keyword.</span></span>

## <a name="iterators"></a><span data-ttu-id="e7a2b-189">Iteratory</span><span class="sxs-lookup"><span data-stu-id="e7a2b-189">Iterators</span></span>

<span data-ttu-id="e7a2b-190">Iterator wykonuje niestandardową iterację w kolekcji, na przykład listę lub tablicę.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-190">An iterator performs a custom iteration over a collection, such as a list or an array.</span></span> <span data-ttu-id="e7a2b-191">Iterator używa instrukcji [yield return](../../language-reference/keywords/yield.md) , aby zwrócić każdy element po jednym naraz.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-191">An iterator uses the [yield return](../../language-reference/keywords/yield.md) statement to return each element one at a time.</span></span> <span data-ttu-id="e7a2b-192">Po osiągnięciu instrukcji [yield return](../../language-reference/keywords/yield.md) bieżąca lokalizacja w kodzie jest zapamiętywana.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-192">When a [yield return](../../language-reference/keywords/yield.md) statement is reached, the current location in code is remembered.</span></span> <span data-ttu-id="e7a2b-193">Wykonanie jest uruchamiane ponownie z tej lokalizacji, kiedy iterator jest wywoływana następnym razem.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-193">Execution is restarted from that location when the iterator is called the next time.</span></span>

<span data-ttu-id="e7a2b-194">Należy wywołać iterator z kodu klienta przy użyciu instrukcji [foreach](../../language-reference/keywords/foreach-in.md) .</span><span class="sxs-lookup"><span data-stu-id="e7a2b-194">You call an iterator from client code by using a [foreach](../../language-reference/keywords/foreach-in.md) statement.</span></span>

<span data-ttu-id="e7a2b-195">Zwracany typ iteratora może być <xref:System.Collections.IEnumerable>, <xref:System.Collections.Generic.IEnumerable%601>, <xref:System.Collections.IEnumerator>lub <xref:System.Collections.Generic.IEnumerator%601>.</span><span class="sxs-lookup"><span data-stu-id="e7a2b-195">The return type of an iterator can be <xref:System.Collections.IEnumerable>, <xref:System.Collections.Generic.IEnumerable%601>, <xref:System.Collections.IEnumerator>, or <xref:System.Collections.Generic.IEnumerator%601>.</span></span>

<span data-ttu-id="e7a2b-196">Aby uzyskać więcej informacji, zobacz [Iteratory](../concepts/iterators.md).</span><span class="sxs-lookup"><span data-stu-id="e7a2b-196">For more information, see [Iterators](../concepts/iterators.md).</span></span>

## <a name="c-language-specification"></a><span data-ttu-id="e7a2b-197">specyfikacja języka C#</span><span class="sxs-lookup"><span data-stu-id="e7a2b-197">C# language specification</span></span>

[!INCLUDE[CSharplangspec](~/includes/csharplangspec-md.md)]

## <a name="see-also"></a><span data-ttu-id="e7a2b-198">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="e7a2b-198">See also</span></span>

- [<span data-ttu-id="e7a2b-199">Przewodnik programowania w języku C#</span><span class="sxs-lookup"><span data-stu-id="e7a2b-199">C# Programming Guide</span></span>](../index.md)
- [<span data-ttu-id="e7a2b-200">Klasy i struktury</span><span class="sxs-lookup"><span data-stu-id="e7a2b-200">Classes and Structs</span></span>](index.md)
- [<span data-ttu-id="e7a2b-201">Modyfikatory dostępu</span><span class="sxs-lookup"><span data-stu-id="e7a2b-201">Access Modifiers</span></span>](access-modifiers.md)
- [<span data-ttu-id="e7a2b-202">Klasy statyczne i statyczne elementy członkowskie klas</span><span class="sxs-lookup"><span data-stu-id="e7a2b-202">Static Classes and Static Class Members</span></span>](static-classes-and-static-class-members.md)
- [<span data-ttu-id="e7a2b-203">Dziedziczenie</span><span class="sxs-lookup"><span data-stu-id="e7a2b-203">Inheritance</span></span>](inheritance.md)
- [<span data-ttu-id="e7a2b-204">Klasy abstrakcyjne i zapieczętowane oraz elementy członkowskie klas</span><span class="sxs-lookup"><span data-stu-id="e7a2b-204">Abstract and Sealed Classes and Class Members</span></span>](abstract-and-sealed-classes-and-class-members.md)
- [<span data-ttu-id="e7a2b-205">params</span><span class="sxs-lookup"><span data-stu-id="e7a2b-205">params</span></span>](../../language-reference/keywords/params.md)
- [<span data-ttu-id="e7a2b-206">return</span><span class="sxs-lookup"><span data-stu-id="e7a2b-206">return</span></span>](../../language-reference/keywords/return.md)
- [<span data-ttu-id="e7a2b-207">out</span><span class="sxs-lookup"><span data-stu-id="e7a2b-207">out</span></span>](../../language-reference/keywords/out.md)
- [<span data-ttu-id="e7a2b-208">ref</span><span class="sxs-lookup"><span data-stu-id="e7a2b-208">ref</span></span>](../../language-reference/keywords/ref.md)
- [<span data-ttu-id="e7a2b-209">Przekazywanie parametrów</span><span class="sxs-lookup"><span data-stu-id="e7a2b-209">Passing Parameters</span></span>](passing-parameters.md)
