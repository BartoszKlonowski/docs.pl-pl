---
title: Konstruktory statyczne - C# przewodnik programowania
ms.custom: seodec18
ms.date: 07/20/2015
helpviewer_keywords:
- static constructors [C#]
- constructors [C#], static
ms.assetid: 151ec95e-3c4d-4ed7-885d-95b7a3be2e7d
ms.openlocfilehash: f053a74fcb87971506b83ca8ca2076517ddddf56
ms.sourcegitcommit: a970268118ea61ce14207e0916e17243546a491f
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/21/2019
ms.locfileid: "67307102"
---
# <a name="static-constructors-c-programming-guide"></a><span data-ttu-id="45175-102">Konstruktory statyczne (Przewodnik programowania w języku C#)</span><span class="sxs-lookup"><span data-stu-id="45175-102">Static Constructors (C# Programming Guide)</span></span>
<span data-ttu-id="45175-103">Statyczny Konstruktor jest wykorzystywany do inicjacji dowolne [statyczne](../../../csharp/language-reference/keywords/static.md) danych, lub do wykonania określonej akcji, która musi zostać wykonana tylko raz.</span><span class="sxs-lookup"><span data-stu-id="45175-103">A static constructor is used to initialize any [static](../../../csharp/language-reference/keywords/static.md) data, or to perform a particular action that needs to be performed once only.</span></span> <span data-ttu-id="45175-104">Jest wywoływana automatycznie przed pierwsze wystąpienie jest tworzone lub żadnych statycznych składowych są wywoływane.</span><span class="sxs-lookup"><span data-stu-id="45175-104">It is called automatically before the first instance is created or any static members are referenced.</span></span>  
  
 [!code-csharp[csProgGuideObjects#14](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#14)]  
 
## <a name="remarks"></a><span data-ttu-id="45175-105">Uwagi</span><span class="sxs-lookup"><span data-stu-id="45175-105">Remarks</span></span>
<span data-ttu-id="45175-106">Konstruktory statyczne mają następujące właściwości:</span><span class="sxs-lookup"><span data-stu-id="45175-106">Static constructors have the following properties:</span></span>  
  
- <span data-ttu-id="45175-107">Statyczny Konstruktor zająć modyfikatory dostępu lub nie mieć parametrów.</span><span class="sxs-lookup"><span data-stu-id="45175-107">A static constructor does not take access modifiers or have parameters.</span></span>  

- <span data-ttu-id="45175-108">Klasa lub struktura może mieć tylko jeden konstruktor statyczny.</span><span class="sxs-lookup"><span data-stu-id="45175-108">A class or struct can only have one static constructor.</span></span>

- <span data-ttu-id="45175-109">Konstruktory statyczne nie może być dziedziczona ani przeciążone.</span><span class="sxs-lookup"><span data-stu-id="45175-109">Static constructors cannot be inherited or overloaded.</span></span>

- <span data-ttu-id="45175-110">Konstruktor statyczny nie może być wywoływana bezpośrednio i jest przeznaczone wyłącznie do wywołania przez środowisko uruchomieniowe języka wspólnego (CLR).</span><span class="sxs-lookup"><span data-stu-id="45175-110">A static constructor cannot be called directly and is only meant to be called by the common language runtime (CLR).</span></span> <span data-ttu-id="45175-111">Jest wywoływane automatycznie.</span><span class="sxs-lookup"><span data-stu-id="45175-111">It is invoked automatically.</span></span>

- <span data-ttu-id="45175-112">Użytkownik nie ma kontroli na gdy Konstruktor statyczny jest wykonywane w programie.</span><span class="sxs-lookup"><span data-stu-id="45175-112">The user has no control on when the static constructor is executed in the program.</span></span>
  
- <span data-ttu-id="45175-113">Statyczny Konstruktor jest wywoływana automatycznie zainicjować [klasy](../../../csharp/language-reference/keywords/class.md) przed pierwsze wystąpienie jest tworzone lub żadnych statycznych składowych są wywoływane.</span><span class="sxs-lookup"><span data-stu-id="45175-113">A static constructor is called automatically to initialize the [class](../../../csharp/language-reference/keywords/class.md) before the first instance is created or any static members are referenced.</span></span> <span data-ttu-id="45175-114">Konstruktor statyczny będzie wykonywany przed konstruktora wystąpień.</span><span class="sxs-lookup"><span data-stu-id="45175-114">A static constructor will run before an instance constructor.</span></span> <span data-ttu-id="45175-115">Należy pamiętać, że typ statyczny Konstruktor jest wywoływana po wywołaniu metody statycznej przypisanej do zdarzenia lub delegata, a nie w przypadku, gdy jest ona przypisana.</span><span class="sxs-lookup"><span data-stu-id="45175-115">Note that a type's static constructor is called when a static method assigned to an event or a delegate is invoked and not when it is assigned.</span></span> <span data-ttu-id="45175-116">Jeśli pole statyczne inicjatory zmiennych są obecne w klasie statyczny Konstruktor, zostaną one wykonane w kolejności tekstowych, w jakiej występują w deklaracji klasy, bezpośrednio przed wykonaniem Konstruktor statyczny.</span><span class="sxs-lookup"><span data-stu-id="45175-116">If static field variable initializers are present in the class of the static constructor, they will be executed in the textual order in which they appear in the class declaration immediately prior to the execution of the static constructor.</span></span>

- <span data-ttu-id="45175-117">Jeśli nie podasz konstruktora statycznego zainicjować pola statyczne, wszystkie pola statyczne są inicjowane na ich wartości domyślne, zgodnie z zaleceniami z [tabela wartości domyślnych](../../../csharp/language-reference/keywords/default-values-table.md).</span><span class="sxs-lookup"><span data-stu-id="45175-117">If you don't provide a static constructor to initialize static fields, all static fields are initialized to their default value as listed in the [Default Values Table](../../../csharp/language-reference/keywords/default-values-table.md).</span></span> 
  
- <span data-ttu-id="45175-118">Jeśli statyczny Konstruktor zgłasza wyjątek, środowisko wykonawcze nie wywoła go drugi raz, a typ pozostanie niezainicjowanej okres istnienia domeny aplikacji, w którym jest uruchomiony program.</span><span class="sxs-lookup"><span data-stu-id="45175-118">If a static constructor throws an exception, the runtime will not invoke it a second time, and the type will remain uninitialized for the lifetime of the application domain in which your program is running.</span></span> <span data-ttu-id="45175-119">Najczęściej <xref:System.TypeInitializationException> wyjątek jest zgłaszany, gdy Konstruktor statyczny nie może utworzyć wystąpienia typu lub dla nieobsługiwanego wyjątku w konstruktorze statycznym.</span><span class="sxs-lookup"><span data-stu-id="45175-119">Most commonly, a <xref:System.TypeInitializationException> exception is thrown when a static constructor is unable to instantiate a type or for an unhandled exception occurring within a static constructor.</span></span> <span data-ttu-id="45175-120">Dla niejawnego konstruktorów statycznych, które nie są jawnie zdefiniowane w kodzie źródłowym rozwiązywania problemów może wymagać kontroli kodu języka pośredniego (IL).</span><span class="sxs-lookup"><span data-stu-id="45175-120">For implicit static constructors that are not explicitly defined in source code, troubleshooting may require inspection of the intermediate language (IL) code.</span></span>

- <span data-ttu-id="45175-121">Obecność statyczny Konstruktor uniemożliwia dodanie <xref:System.Reflection.TypeAttributes.BeforeFieldInit> typu atrybutu.</span><span class="sxs-lookup"><span data-stu-id="45175-121">The presence of a static constructor prevents the addition of the <xref:System.Reflection.TypeAttributes.BeforeFieldInit> type attribute.</span></span> <span data-ttu-id="45175-122">Ogranicza to optymalizacji środowiska wykonawczego.</span><span class="sxs-lookup"><span data-stu-id="45175-122">This limits runtime optimization.</span></span>

- <span data-ttu-id="45175-123">Pole jest zadeklarowane jako `static readonly` mogą być przypisywane tylko jako część swojej deklaracji lub w konstruktorze statycznym.</span><span class="sxs-lookup"><span data-stu-id="45175-123">A field declared as `static readonly` may only be assigned as part of its declaration or in a static constructor.</span></span> <span data-ttu-id="45175-124">Gdy jawny, statyczny Konstruktor nie jest wymagane, Inicjuj pola statyczne w deklaracji, a nie za pomocą Konstruktor statyczny w celu uzyskania lepszej optymalizacji środowiska uruchomieniowego.</span><span class="sxs-lookup"><span data-stu-id="45175-124">When an explicit static constructor is not required, initialize static fields at declaration, rather than through a static constructor for better runtime optimization.</span></span>

> [!Note]
> <span data-ttu-id="45175-125">Jednak bezpośrednio niedostępny, powinno być udokumentowane obecności jawny, statyczny Konstruktor, aby ułatwić rozwiązywanie problemów z wyjątkami inicjowania.</span><span class="sxs-lookup"><span data-stu-id="45175-125">Though not directly accessible, the presence of an explicit static constructor should be documented to assist with troubleshooting initialization exceptions.</span></span>

### <a name="usage"></a><span data-ttu-id="45175-126">Użycie</span><span class="sxs-lookup"><span data-stu-id="45175-126">Usage</span></span>

- <span data-ttu-id="45175-127">Typowym zastosowaniem konstruktorów statycznych jest, gdy klasa korzysta z pliku dziennika i konstruktora jest używany do zapisywania wpisów w tym pliku.</span><span class="sxs-lookup"><span data-stu-id="45175-127">A typical use of static constructors is when the class is using a log file and the constructor is used to write entries to this file.</span></span>  
- <span data-ttu-id="45175-128">Konstruktory statyczne są także przydatne przy tworzeniu klas otoki dla niezarządzanego kodu podczas można wywołać konstruktora `LoadLibrary` metody.</span><span class="sxs-lookup"><span data-stu-id="45175-128">Static constructors are also useful when creating wrapper classes for unmanaged code, when the constructor can call the `LoadLibrary` method.</span></span>  

- <span data-ttu-id="45175-129">Konstruktory statyczne są również wygodne miejsce do wymuszają operacje sprawdzania czasu wykonywania na parametr typu, który nie można sprawdzić w czasie kompilacji za pomocą ograniczeń (ograniczenia parametru typu).</span><span class="sxs-lookup"><span data-stu-id="45175-129">Static constructors are also a convenient place to enforce run-time checks on the type parameter that cannot be checked at compile-time via constraints (Type parameter constraints).</span></span>

## <a name="example"></a><span data-ttu-id="45175-130">Przykład</span><span class="sxs-lookup"><span data-stu-id="45175-130">Example</span></span>
 <span data-ttu-id="45175-131">W tym przykładzie klasa `Bus` ma Konstruktor statyczny.</span><span class="sxs-lookup"><span data-stu-id="45175-131">In this example, class `Bus` has a static constructor.</span></span> <span data-ttu-id="45175-132">Po pierwsze wystąpienie `Bus` zostanie utworzony (`bus1`), statyczny Konstruktor jest wywoływane w celu zainicjowania klasy.</span><span class="sxs-lookup"><span data-stu-id="45175-132">When the first instance of `Bus` is created (`bus1`), the static constructor is invoked to initialize the class.</span></span> <span data-ttu-id="45175-133">Przykładowe dane wyjściowe weryfikuje, że Konstruktor statyczny działa tylko jeden raz, nawet jeśli dwa wystąpienia `Bus` są tworzone, to jest uruchamiane przed uruchomieniem konstruktora wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="45175-133">The sample output verifies that the static constructor runs only one time, even though two instances of `Bus` are created, and that it runs before the instance constructor runs.</span></span>  
  
 [!code-csharp[csProgGuideObjects#15](~/samples/snippets/csharp/VS_Snippets_VBCSharp/csProgGuideObjects/CS/Objects.cs#15)]
 
## <a name="c-language-specification"></a><span data-ttu-id="45175-134">specyfikacja języka C#</span><span class="sxs-lookup"><span data-stu-id="45175-134">C# language specification</span></span>
<span data-ttu-id="45175-135">Aby uzyskać więcej informacji, zobacz [konstruktorów statycznych](~/_csharplang/spec/classes.md#static-constructors) części [ C# specyfikacji języka](~/_csharplang/spec/introduction.md).</span><span class="sxs-lookup"><span data-stu-id="45175-135">For more information, see the [Static constructors](~/_csharplang/spec/classes.md#static-constructors) section of the [C# language specification](~/_csharplang/spec/introduction.md).</span></span>
  
## <a name="see-also"></a><span data-ttu-id="45175-136">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="45175-136">See also</span></span>

- [<span data-ttu-id="45175-137">Przewodnik programowania w języku C#</span><span class="sxs-lookup"><span data-stu-id="45175-137">C# Programming Guide</span></span>](../../../csharp/programming-guide/index.md)
- [<span data-ttu-id="45175-138">Klasy i struktury</span><span class="sxs-lookup"><span data-stu-id="45175-138">Classes and Structs</span></span>](../../../csharp/programming-guide/classes-and-structs/index.md)
- [<span data-ttu-id="45175-139">Konstruktory</span><span class="sxs-lookup"><span data-stu-id="45175-139">Constructors</span></span>](../../../csharp/programming-guide/classes-and-structs/constructors.md)
- [<span data-ttu-id="45175-140">Klasy statyczne i statyczne elementy członkowskie klas</span><span class="sxs-lookup"><span data-stu-id="45175-140">Static Classes and Static Class Members</span></span>](../../../csharp/programming-guide/classes-and-structs/static-classes-and-static-class-members.md)
- [<span data-ttu-id="45175-141">Finalizatory</span><span class="sxs-lookup"><span data-stu-id="45175-141">Finalizers</span></span>](../../../csharp/programming-guide/classes-and-structs/destructors.md)
- [<span data-ttu-id="45175-142">Wytyczne dotyczące projektowania konstruktora</span><span class="sxs-lookup"><span data-stu-id="45175-142">Constructor Design Guidelines</span></span>](../../../standard/design-guidelines/constructor.md#type-constructor-guidelines)
- [<span data-ttu-id="45175-143">Ostrzeżenie o zabezpieczeniach - CA2121: Konstruktory statyczne powinny być prywatne</span><span class="sxs-lookup"><span data-stu-id="45175-143">Security Warning - CA2121: Static constructors should be private</span></span>](https://docs.microsoft.com/en-us/visualstudio/code-quality/ca2121-static-constructors-should-be-private)
