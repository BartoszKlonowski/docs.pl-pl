---
title: Serializacja (C#)
ms.date: 01/02/2020
ms.openlocfilehash: d914298a370b09307e84c88959542b4823cf37ce
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/15/2020
ms.locfileid: "79167598"
---
# <a name="serialization-c"></a><span data-ttu-id="da1c5-102">Serializacja (C#)</span><span class="sxs-lookup"><span data-stu-id="da1c5-102">Serialization (C#)</span></span>

<span data-ttu-id="da1c5-103">Serializacja to proces konwertowania obiektu na strumień bajtów w celu przechowywania obiektu lub przesyłania go do pamięci, bazy danych lub pliku.</span><span class="sxs-lookup"><span data-stu-id="da1c5-103">Serialization is the process of converting an object into a stream of bytes to store the object or transmit it to memory, a database, or a file.</span></span> <span data-ttu-id="da1c5-104">Jego głównym celem jest zapisanie stanu obiektu, aby móc go odtworzyć w razie potrzeby.</span><span class="sxs-lookup"><span data-stu-id="da1c5-104">Its main purpose is to save the state of an object in order to be able to recreate it when needed.</span></span> <span data-ttu-id="da1c5-105">Proces odwrotny nazywa się deserializacją.</span><span class="sxs-lookup"><span data-stu-id="da1c5-105">The reverse process is called deserialization.</span></span>

## <a name="how-serialization-works"></a><span data-ttu-id="da1c5-106">Jak działa serializacja</span><span class="sxs-lookup"><span data-stu-id="da1c5-106">How serialization works</span></span>

<span data-ttu-id="da1c5-107">Na tej ilustracji przedstawiono ogólny proces serializacji:</span><span class="sxs-lookup"><span data-stu-id="da1c5-107">This illustration shows the overall process of serialization:</span></span>

![Grafika serializacji](./media/index/serialization-process.gif)

<span data-ttu-id="da1c5-109">Obiekt jest serializowany do strumienia, który przenosi dane.</span><span class="sxs-lookup"><span data-stu-id="da1c5-109">The object is serialized to a stream that carries the data.</span></span> <span data-ttu-id="da1c5-110">Strumień może również mieć informacje o typie obiektu, takie jak jego wersja, kultura i nazwa zestawu.</span><span class="sxs-lookup"><span data-stu-id="da1c5-110">The stream may also have information about the object's type, such as its version, culture, and assembly name.</span></span> <span data-ttu-id="da1c5-111">Z tego strumienia obiekt może być przechowywany w bazie danych, pliku lub pamięci.</span><span class="sxs-lookup"><span data-stu-id="da1c5-111">From that stream, the object can be stored in a database, a file, or memory.</span></span>

### <a name="uses-for-serialization"></a><span data-ttu-id="da1c5-112">Zastosowania serializacji</span><span class="sxs-lookup"><span data-stu-id="da1c5-112">Uses for serialization</span></span>

<span data-ttu-id="da1c5-113">Serializacja umożliwia deweloperowi zapisanie stanu obiektu i ponowne utworzenie go w razie potrzeby, zapewniając przechowywanie obiektów, a także wymianę danych.</span><span class="sxs-lookup"><span data-stu-id="da1c5-113">Serialization allows the developer to save the state of an object and re-create it as needed, providing storage of objects as well as data exchange.</span></span> <span data-ttu-id="da1c5-114">Dzięki serializacji deweloper może wykonywać akcje, takie jak:</span><span class="sxs-lookup"><span data-stu-id="da1c5-114">Through serialization, a developer can perform actions such as:</span></span>

* <span data-ttu-id="da1c5-115">Wysyłanie obiektu do aplikacji zdalnej przy użyciu usługi sieci web</span><span class="sxs-lookup"><span data-stu-id="da1c5-115">Sending the object to a remote application by using a web service</span></span>
* <span data-ttu-id="da1c5-116">Przekazywanie obiektu z jednej domeny do drugiej</span><span class="sxs-lookup"><span data-stu-id="da1c5-116">Passing an object from one domain to another</span></span>
* <span data-ttu-id="da1c5-117">Przekazywanie obiektu przez zaporę jako ciąg JSON lub XML</span><span class="sxs-lookup"><span data-stu-id="da1c5-117">Passing an object through a firewall as a JSON or XML string</span></span>
* <span data-ttu-id="da1c5-118">Obsługa zabezpieczeń lub informacji specyficznych dla użytkownika w aplikacjach</span><span class="sxs-lookup"><span data-stu-id="da1c5-118">Maintaining security or user-specific information across applications</span></span>

## <a name="json-serialization"></a><span data-ttu-id="da1c5-119">Serializacja JSON</span><span class="sxs-lookup"><span data-stu-id="da1c5-119">JSON serialization</span></span>

<span data-ttu-id="da1c5-120">Obszar <xref:System.Text.Json> nazw zawiera klasy serializacji i deserializacji notacji obiektów JavaScript (JSON).</span><span class="sxs-lookup"><span data-stu-id="da1c5-120">The <xref:System.Text.Json> namespace contains classes for JavaScript Object Notation (JSON) serialization and deserialization.</span></span> <span data-ttu-id="da1c5-121">JSON to otwarty standard, który jest powszechnie używany do udostępniania danych w internecie.</span><span class="sxs-lookup"><span data-stu-id="da1c5-121">JSON is an open standard that is commonly used for sharing data across the web.</span></span>

<span data-ttu-id="da1c5-122">Serializacja JSON serializuje właściwości publiczne obiektu w ciągu, tablicy bajtów lub strumienia, który jest zgodny ze [specyfikacją RFC 8259 JSON](https://tools.ietf.org/html/rfc8259).</span><span class="sxs-lookup"><span data-stu-id="da1c5-122">JSON serialization serializes the public properties of an object into a string, byte array, or stream that conforms to [the RFC 8259 JSON specification](https://tools.ietf.org/html/rfc8259).</span></span> <span data-ttu-id="da1c5-123">Aby kontrolować <xref:System.Text.Json.JsonSerializer> sposób serializacji lub deserializacji wystąpienia klasy:</span><span class="sxs-lookup"><span data-stu-id="da1c5-123">To control the way <xref:System.Text.Json.JsonSerializer> serializes or deserializes an instance of the class:</span></span>

* <span data-ttu-id="da1c5-124">Używanie <xref:System.Text.Json.JsonSerializerOptions> obiektu</span><span class="sxs-lookup"><span data-stu-id="da1c5-124">Use a <xref:System.Text.Json.JsonSerializerOptions> object</span></span>
* <span data-ttu-id="da1c5-125">Stosowanie atrybutów <xref:System.Text.Json.Serialization> z obszaru nazw do klas lub właściwości</span><span class="sxs-lookup"><span data-stu-id="da1c5-125">Apply attributes from the <xref:System.Text.Json.Serialization> namespace to classes or properties</span></span>
* [<span data-ttu-id="da1c5-126">Implementowanie konwerterów niestandardowych</span><span class="sxs-lookup"><span data-stu-id="da1c5-126">Implement custom converters</span></span>](../../../../standard/serialization/system-text-json-converters-how-to.md)

## <a name="binary-and-xml-serialization"></a><span data-ttu-id="da1c5-127">Serializacja binarna i XML</span><span class="sxs-lookup"><span data-stu-id="da1c5-127">Binary and XML serialization</span></span>

<span data-ttu-id="da1c5-128">Obszar <xref:System.Runtime.Serialization> nazw zawiera klasy serializacji binarnej i XML oraz deserializacji.</span><span class="sxs-lookup"><span data-stu-id="da1c5-128">The <xref:System.Runtime.Serialization> namespace contains classes for binary and XML serialization and deserialization.</span></span>

<span data-ttu-id="da1c5-129">Serializacja binarna używa kodowania binarnego do tworzenia kompaktowej serializacji dla zastosowań, takich jak strumienie sieciowe oparte na pamięci masowej lub gniazdach.</span><span class="sxs-lookup"><span data-stu-id="da1c5-129">Binary serialization uses binary encoding to produce compact serialization for uses such as storage or socket-based network streams.</span></span> <span data-ttu-id="da1c5-130">W serializacji binarnej wszystkie elementy członkowskie, nawet elementy członkowskie, które są tylko do odczytu, są serializowane, a wydajność jest zwiększona.</span><span class="sxs-lookup"><span data-stu-id="da1c5-130">In binary serialization, all members, even members that are read-only, are serialized, and performance is enhanced.</span></span>

<span data-ttu-id="da1c5-131">Serializacja XML serializuje pola publiczne i właściwości obiektu lub parametry i zwracane wartości metod w strumieniu XML zgodnym z dokumentem języka xsd (określonego języka definicji schematu XML).</span><span class="sxs-lookup"><span data-stu-id="da1c5-131">XML serialization serializes the public fields and properties of an object, or the parameters and return values of methods, into an XML stream that conforms to a specific XML Schema definition language (XSD) document.</span></span> <span data-ttu-id="da1c5-132">Serializacja XML powoduje, że klasy silnie typizowane z właściwościami publicznymi i polami są konwertowane na XML.</span><span class="sxs-lookup"><span data-stu-id="da1c5-132">XML serialization results in strongly typed classes with public properties and fields that are converted to XML.</span></span> <span data-ttu-id="da1c5-133"><xref:System.Xml.Serialization>zawiera klasy serializacji i deserializacji XML.</span><span class="sxs-lookup"><span data-stu-id="da1c5-133"><xref:System.Xml.Serialization> contains classes for serializing and deserializing XML.</span></span> <span data-ttu-id="da1c5-134">Atrybuty stosuje się do klas i członków <xref:System.Xml.Serialization.XmlSerializer> klasy, aby kontrolować sposób serializacji lub deserializacji wystąpienia klasy.</span><span class="sxs-lookup"><span data-stu-id="da1c5-134">You apply attributes to classes and class members to control the way the <xref:System.Xml.Serialization.XmlSerializer> serializes or deserializes an instance of the class.</span></span>

### <a name="making-an-object-serializable"></a><span data-ttu-id="da1c5-135">Możliwość serializacji obiektu</span><span class="sxs-lookup"><span data-stu-id="da1c5-135">Making an object serializable</span></span>

<span data-ttu-id="da1c5-136">Do serializacji binarnej lub XML potrzebne są:</span><span class="sxs-lookup"><span data-stu-id="da1c5-136">For binary or XML serialization, you need:</span></span>

* <span data-ttu-id="da1c5-137">Obiekt, który ma być serializowany</span><span class="sxs-lookup"><span data-stu-id="da1c5-137">The object to be serialized</span></span>
* <span data-ttu-id="da1c5-138">Strumień zawierający obiekt serializowany</span><span class="sxs-lookup"><span data-stu-id="da1c5-138">A stream to contain the serialized object</span></span>
* <span data-ttu-id="da1c5-139">Wystąpienie <xref:System.Runtime.Serialization.Formatter?displayProperty=fullName></span><span class="sxs-lookup"><span data-stu-id="da1c5-139">A <xref:System.Runtime.Serialization.Formatter?displayProperty=fullName> instance</span></span>

<span data-ttu-id="da1c5-140">Zastosuj <xref:System.SerializableAttribute> atrybut do typu, aby wskazać, że wystąpienia typu mogą być serializowane.</span><span class="sxs-lookup"><span data-stu-id="da1c5-140">Apply the <xref:System.SerializableAttribute> attribute to a type to indicate that instances of the type can be serialized.</span></span> <span data-ttu-id="da1c5-141">Wyjątek jest generowany, jeśli spróbujesz serializować, ale <xref:System.SerializableAttribute> typ nie ma atrybutu.</span><span class="sxs-lookup"><span data-stu-id="da1c5-141">An  exception is thrown if you attempt to serialize but the type doesn't have the <xref:System.SerializableAttribute> attribute.</span></span>

<span data-ttu-id="da1c5-142">Aby zapobiec serializacji pola, <xref:System.NonSerializedAttribute> należy zastosować ten atrybut.</span><span class="sxs-lookup"><span data-stu-id="da1c5-142">To prevent a field from being serialized, apply the <xref:System.NonSerializedAttribute> attribute.</span></span> <span data-ttu-id="da1c5-143">Jeśli pole typu serializable zawiera wskaźnik, dojście lub inną strukturę danych, która jest specyficzna dla określonego środowiska, a pole nie może być sensownie odtworzone w innym środowisku, można go uczynić nieserializable.</span><span class="sxs-lookup"><span data-stu-id="da1c5-143">If a field of a serializable type contains a pointer, a handle, or some other data structure that is specific to a particular environment, and the field cannot be meaningfully reconstituted in a different environment, then you may want to make it nonserializable.</span></span>

<span data-ttu-id="da1c5-144">Jeśli serializowana klasa zawiera odwołania do <xref:System.SerializableAttribute>obiektów innych klas, które są oznaczone, obiekty te będą również serializowane.</span><span class="sxs-lookup"><span data-stu-id="da1c5-144">If a serialized class contains references to objects of other classes that are marked <xref:System.SerializableAttribute>, those objects will also be serialized.</span></span>

### <a name="basic-and-custom-serialization"></a><span data-ttu-id="da1c5-145">Serializacja podstawowa i dostosowana do indywidualnych potrzeb</span><span class="sxs-lookup"><span data-stu-id="da1c5-145">Basic and custom serialization</span></span>

<span data-ttu-id="da1c5-146">Serializacja binarna i XML może być wykonywana na dwa sposoby, podstawowe i niestandardowe.</span><span class="sxs-lookup"><span data-stu-id="da1c5-146">Binary and XML serialization can be performed in two ways, basic and custom.</span></span>

<span data-ttu-id="da1c5-147">Serializacja podstawowa używa programu .NET Framework do automatycznego serializacji obiektu.</span><span class="sxs-lookup"><span data-stu-id="da1c5-147">Basic serialization uses the .NET Framework to automatically serialize the object.</span></span> <span data-ttu-id="da1c5-148">Jedynym wymaganiem jest, <xref:System.SerializableAttribute> że klasa ma zastosowany atrybut.</span><span class="sxs-lookup"><span data-stu-id="da1c5-148">The only requirement is that the class has the <xref:System.SerializableAttribute> attribute applied.</span></span> <span data-ttu-id="da1c5-149">Może <xref:System.NonSerializedAttribute> służyć do zachowania określonych pól z serializacji.</span><span class="sxs-lookup"><span data-stu-id="da1c5-149">The <xref:System.NonSerializedAttribute> can be used to keep specific fields from being serialized.</span></span>

<span data-ttu-id="da1c5-150">Korzystając z seryjnej podstawowej, przechowywanie wersji obiektów może powodować problemy.</span><span class="sxs-lookup"><span data-stu-id="da1c5-150">When you use basic serialization, the versioning of objects may create problems.</span></span> <span data-ttu-id="da1c5-151">Serializacji niestandardowej można użyć, gdy ważne są problemy z przechowywaniem wersji.</span><span class="sxs-lookup"><span data-stu-id="da1c5-151">You would use custom serialization when versioning issues are important.</span></span> <span data-ttu-id="da1c5-152">Serializacja podstawowa jest najprostszym sposobem wykonywania serializacji, ale nie zapewnia dużej kontroli nad procesem.</span><span class="sxs-lookup"><span data-stu-id="da1c5-152">Basic serialization is the easiest way to perform serialization, but it does not provide much control over the process.</span></span>

<span data-ttu-id="da1c5-153">W serializacji niestandardowej można dokładnie określić, które obiekty będą serializowane i jak to będzie zrobione.</span><span class="sxs-lookup"><span data-stu-id="da1c5-153">In custom serialization, you can specify exactly which objects will be serialized and how it will be done.</span></span> <span data-ttu-id="da1c5-154">Klasa musi być <xref:System.SerializableAttribute> oznaczona i zaimplementować <xref:System.Runtime.Serialization.ISerializable> interfejs.</span><span class="sxs-lookup"><span data-stu-id="da1c5-154">The class must be marked <xref:System.SerializableAttribute> and implement the <xref:System.Runtime.Serialization.ISerializable> interface.</span></span> <span data-ttu-id="da1c5-155">Jeśli chcesz, aby obiekt został deserializowany w niestandardowy sposób, należy użyć niestandardowego konstruktora.</span><span class="sxs-lookup"><span data-stu-id="da1c5-155">If you want your object to be deserialized in a custom manner as well, use a custom constructor.</span></span>

## <a name="designer-serialization"></a><span data-ttu-id="da1c5-156">Serializacja projektanta</span><span class="sxs-lookup"><span data-stu-id="da1c5-156">Designer serialization</span></span>

<span data-ttu-id="da1c5-157">Serializacja projektanta jest specjalną formą serializacji, która obejmuje rodzaj trwałości obiektu skojarzonego z narzędziami programistycznymi.</span><span class="sxs-lookup"><span data-stu-id="da1c5-157">Designer serialization is a special form of serialization that involves the kind of object persistence associated with development tools.</span></span> <span data-ttu-id="da1c5-158">Serializacja projektanta to proces konwertowania wykresu obiektu na plik źródłowy, który może później służyć do odzyskiwania wykresu obiektu.</span><span class="sxs-lookup"><span data-stu-id="da1c5-158">Designer serialization is the process of converting an object graph into a source file that can later be used to recover the object graph.</span></span> <span data-ttu-id="da1c5-159">Plik źródłowy może zawierać informacje o kodzie, znacznikach, a nawet tabeli SQL.</span><span class="sxs-lookup"><span data-stu-id="da1c5-159">A source file can contain code, markup, or even SQL table information.</span></span>

## <a name="BKMK_RelatedTopics"></a><span data-ttu-id="da1c5-160">Pokrewne tematy i przykłady</span><span class="sxs-lookup"><span data-stu-id="da1c5-160">Related Topics and Examples</span></span>  

<span data-ttu-id="da1c5-161">[Przegląd System.Text.Json](../../../../standard/serialization/system-text-json-overview.md) Pokazuje, jak `System.Text.Json` uzyskać biblioteki.</span><span class="sxs-lookup"><span data-stu-id="da1c5-161">[System.Text.Json overview](../../../../standard/serialization/system-text-json-overview.md) Shows how to get the `System.Text.Json` library.</span></span>

<span data-ttu-id="da1c5-162">[Jak serializować i deserializować JSON w .NET](../../../../standard/serialization/system-text-json-how-to.md).</span><span class="sxs-lookup"><span data-stu-id="da1c5-162">[How to serialize and deserialize JSON in .NET](../../../../standard/serialization/system-text-json-how-to.md).</span></span>
<span data-ttu-id="da1c5-163">Pokazuje, jak odczytywać i zapisywać dane obiektów <xref:System.Text.Json.JsonSerializer> do i z JSON przy użyciu klasy.</span><span class="sxs-lookup"><span data-stu-id="da1c5-163">Shows how to read and write object data to and from JSON using the <xref:System.Text.Json.JsonSerializer> class.</span></span>

[<span data-ttu-id="da1c5-164">Instruktaż: Utrwalanie obiektu w programie Visual Studio (C#)</span><span class="sxs-lookup"><span data-stu-id="da1c5-164">Walkthrough: Persisting an Object in Visual Studio (C#)</span></span>](walkthrough-persisting-an-object-in-visual-studio.md)  
<span data-ttu-id="da1c5-165">Pokazuje, jak serializacji może służyć do utrwalania danych obiektu między wystąpieniami, co pozwala na przechowywanie wartości i pobrać je przy następnym wystąpieniu obiektu.</span><span class="sxs-lookup"><span data-stu-id="da1c5-165">Demonstrates how serialization can be used to persist an object's data between instances, allowing you to store values and retrieve them the next time the object is instantiated.</span></span>

[<span data-ttu-id="da1c5-166">Jak odczytywać dane obiektu z pliku XML (C#)</span><span class="sxs-lookup"><span data-stu-id="da1c5-166">How to read object data from an XML file (C#)</span></span>](how-to-read-object-data-from-an-xml-file.md)  
<span data-ttu-id="da1c5-167">Pokazuje, jak odczytywać dane obiektów, które zostały <xref:System.Xml.Serialization.XmlSerializer> wcześniej zapisane w pliku XML przy użyciu klasy.</span><span class="sxs-lookup"><span data-stu-id="da1c5-167">Shows how to read object data that was previously written to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>

[<span data-ttu-id="da1c5-168">Jak zapisywać dane obiektu do pliku XML (C#)</span><span class="sxs-lookup"><span data-stu-id="da1c5-168">How to write object data to an XML file (C#)</span></span>](how-to-write-object-data-to-an-xml-file.md)  
<span data-ttu-id="da1c5-169">Pokazuje, jak zapisać obiekt z klasy do pliku <xref:System.Xml.Serialization.XmlSerializer> XML przy użyciu klasy.</span><span class="sxs-lookup"><span data-stu-id="da1c5-169">Shows how to write the object from a class to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>
