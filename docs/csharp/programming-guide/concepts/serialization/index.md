---
title: Serializacja (C#)
ms.date: 01/02/2020
ms.openlocfilehash: b2532ccf281fdfaa951d56675066f1e239f9f480
ms.sourcegitcommit: a241301495a84cc8c64fe972330d16edd619868b
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/01/2020
ms.locfileid: "84241984"
---
# <a name="serialization-c"></a><span data-ttu-id="64e5d-102">Serializacja (C#)</span><span class="sxs-lookup"><span data-stu-id="64e5d-102">Serialization (C#)</span></span>

<span data-ttu-id="64e5d-103">Serializacja jest procesem konwertowania obiektu do strumienia bajtów w celu przechowywania obiektu lub przesyłania go do pamięci, bazy danych lub pliku.</span><span class="sxs-lookup"><span data-stu-id="64e5d-103">Serialization is the process of converting an object into a stream of bytes to store the object or transmit it to memory, a database, or a file.</span></span> <span data-ttu-id="64e5d-104">Jego głównym celem jest zapisanie stanu obiektu, aby można było go odtworzyć w razie potrzeby.</span><span class="sxs-lookup"><span data-stu-id="64e5d-104">Its main purpose is to save the state of an object in order to be able to recreate it when needed.</span></span> <span data-ttu-id="64e5d-105">Proces odwrotny nazywa się deserializacji.</span><span class="sxs-lookup"><span data-stu-id="64e5d-105">The reverse process is called deserialization.</span></span>

## <a name="how-serialization-works"></a><span data-ttu-id="64e5d-106">Jak działa Serializacja</span><span class="sxs-lookup"><span data-stu-id="64e5d-106">How serialization works</span></span>

<span data-ttu-id="64e5d-107">Na tej ilustracji przedstawiono ogólny proces serializacji:</span><span class="sxs-lookup"><span data-stu-id="64e5d-107">This illustration shows the overall process of serialization:</span></span>

![Grafika serializacji](./media/index/serialization-process.gif)

<span data-ttu-id="64e5d-109">Obiekt jest serializowany do strumienia, który przenosi dane.</span><span class="sxs-lookup"><span data-stu-id="64e5d-109">The object is serialized to a stream that carries the data.</span></span> <span data-ttu-id="64e5d-110">Strumień może również zawierać informacje o typie obiektu, takie jak jego wersja, kultura i nazwa zestawu.</span><span class="sxs-lookup"><span data-stu-id="64e5d-110">The stream may also have information about the object's type, such as its version, culture, and assembly name.</span></span> <span data-ttu-id="64e5d-111">Z tego strumienia obiekt może być przechowywany w bazie danych, pliku lub pamięci.</span><span class="sxs-lookup"><span data-stu-id="64e5d-111">From that stream, the object can be stored in a database, a file, or memory.</span></span>

### <a name="uses-for-serialization"></a><span data-ttu-id="64e5d-112">Używa do serializacji</span><span class="sxs-lookup"><span data-stu-id="64e5d-112">Uses for serialization</span></span>

<span data-ttu-id="64e5d-113">Serializacja umożliwia deweloperowi zapisanie stanu obiektu i ponowne utworzenie go w razie potrzeby, zapewniając przechowywanie obiektów oraz wymianę danych.</span><span class="sxs-lookup"><span data-stu-id="64e5d-113">Serialization allows the developer to save the state of an object and re-create it as needed, providing storage of objects as well as data exchange.</span></span> <span data-ttu-id="64e5d-114">Dzięki serializacji programista może wykonywać takie działania, jak:</span><span class="sxs-lookup"><span data-stu-id="64e5d-114">Through serialization, a developer can perform actions such as:</span></span>

* <span data-ttu-id="64e5d-115">Wysyłanie obiektu do aplikacji zdalnej przy użyciu usługi sieci Web</span><span class="sxs-lookup"><span data-stu-id="64e5d-115">Sending the object to a remote application by using a web service</span></span>
* <span data-ttu-id="64e5d-116">Przekazywanie obiektu z jednej domeny do innej</span><span class="sxs-lookup"><span data-stu-id="64e5d-116">Passing an object from one domain to another</span></span>
* <span data-ttu-id="64e5d-117">Przekazywanie obiektu przez zaporę jako ciąg JSON lub XML</span><span class="sxs-lookup"><span data-stu-id="64e5d-117">Passing an object through a firewall as a JSON or XML string</span></span>
* <span data-ttu-id="64e5d-118">Utrzymywanie zabezpieczeń lub informacji specyficznych dla użytkownika w aplikacjach</span><span class="sxs-lookup"><span data-stu-id="64e5d-118">Maintaining security or user-specific information across applications</span></span>

## <a name="json-serialization"></a><span data-ttu-id="64e5d-119">Serializacja JSON</span><span class="sxs-lookup"><span data-stu-id="64e5d-119">JSON serialization</span></span>

<span data-ttu-id="64e5d-120"><xref:System.Text.Json>Przestrzeń nazw zawiera klasy dla serializacji JavaScript Object Notation (JSON) i deserializacji.</span><span class="sxs-lookup"><span data-stu-id="64e5d-120">The <xref:System.Text.Json> namespace contains classes for JavaScript Object Notation (JSON) serialization and deserialization.</span></span> <span data-ttu-id="64e5d-121">JSON to otwarty standard, który jest często używany do udostępniania danych w sieci Web.</span><span class="sxs-lookup"><span data-stu-id="64e5d-121">JSON is an open standard that is commonly used for sharing data across the web.</span></span>

<span data-ttu-id="64e5d-122">Serializacja JSON serializacji właściwości publicznych obiektu do ciągu, tablicy bajtów lub strumienia zgodnego ze [specyfikacją JSON RFC 8259](https://tools.ietf.org/html/rfc8259).</span><span class="sxs-lookup"><span data-stu-id="64e5d-122">JSON serialization serializes the public properties of an object into a string, byte array, or stream that conforms to [the RFC 8259 JSON specification](https://tools.ietf.org/html/rfc8259).</span></span> <span data-ttu-id="64e5d-123">Aby kontrolować sposób <xref:System.Text.Json.JsonSerializer> serializacji lub deserializacji wystąpienia klasy:</span><span class="sxs-lookup"><span data-stu-id="64e5d-123">To control the way <xref:System.Text.Json.JsonSerializer> serializes or deserializes an instance of the class:</span></span>

* <span data-ttu-id="64e5d-124">Używanie <xref:System.Text.Json.JsonSerializerOptions> obiektu</span><span class="sxs-lookup"><span data-stu-id="64e5d-124">Use a <xref:System.Text.Json.JsonSerializerOptions> object</span></span>
* <span data-ttu-id="64e5d-125">Zastosuj atrybuty z <xref:System.Text.Json.Serialization> przestrzeni nazw do klas lub właściwości</span><span class="sxs-lookup"><span data-stu-id="64e5d-125">Apply attributes from the <xref:System.Text.Json.Serialization> namespace to classes or properties</span></span>
* [<span data-ttu-id="64e5d-126">Implementowanie konwerterów niestandardowych</span><span class="sxs-lookup"><span data-stu-id="64e5d-126">Implement custom converters</span></span>](../../../../standard/serialization/system-text-json-converters-how-to.md)

## <a name="binary-and-xml-serialization"></a><span data-ttu-id="64e5d-127">Serializacja binarna i XML</span><span class="sxs-lookup"><span data-stu-id="64e5d-127">Binary and XML serialization</span></span>

<span data-ttu-id="64e5d-128"><xref:System.Runtime.Serialization>Przestrzeń nazw zawiera klasy dla serializacji binarnej i kodu XML i deserializacji.</span><span class="sxs-lookup"><span data-stu-id="64e5d-128">The <xref:System.Runtime.Serialization> namespace contains classes for binary and XML serialization and deserialization.</span></span>

<span data-ttu-id="64e5d-129">Serializacja binarna korzysta z kodowania binarnego w celu utworzenia kompaktowej serializacji do użycia, takich jak magazyn lub strumienie sieciowe oparte na gnieździe.</span><span class="sxs-lookup"><span data-stu-id="64e5d-129">Binary serialization uses binary encoding to produce compact serialization for uses such as storage or socket-based network streams.</span></span> <span data-ttu-id="64e5d-130">W serializacji binarnej wszystkie elementy członkowskie, nawet elementy członkowskie, które są tylko do odczytu, są serializowane i zwiększają wydajność.</span><span class="sxs-lookup"><span data-stu-id="64e5d-130">In binary serialization, all members, even members that are read-only, are serialized, and performance is enhanced.</span></span>

<span data-ttu-id="64e5d-131">Serializacji XML serializować pola publiczne i właściwości obiektu, lub parametry i wartości zwracane metod do strumienia XML, który jest zgodny z konkretnym dokumentem języka definicji schematu XML (XSD).</span><span class="sxs-lookup"><span data-stu-id="64e5d-131">XML serialization serializes the public fields and properties of an object, or the parameters and return values of methods, into an XML stream that conforms to a specific XML Schema definition language (XSD) document.</span></span> <span data-ttu-id="64e5d-132">Serializacja XML skutkuje silnie określonymi klasami z właściwościami publicznymi i polami, które są konwertowane na format XML.</span><span class="sxs-lookup"><span data-stu-id="64e5d-132">XML serialization results in strongly typed classes with public properties and fields that are converted to XML.</span></span> <span data-ttu-id="64e5d-133"><xref:System.Xml.Serialization>zawiera klasy do serializacji i deserializacji XML.</span><span class="sxs-lookup"><span data-stu-id="64e5d-133"><xref:System.Xml.Serialization> contains classes for serializing and deserializing XML.</span></span> <span data-ttu-id="64e5d-134">Stosuje się atrybuty do klas i elementów członkowskich klasy w celu kontrolowania sposobu <xref:System.Xml.Serialization.XmlSerializer> serializacji lub deserializacji wystąpienia klasy.</span><span class="sxs-lookup"><span data-stu-id="64e5d-134">You apply attributes to classes and class members to control the way the <xref:System.Xml.Serialization.XmlSerializer> serializes or deserializes an instance of the class.</span></span>

### <a name="making-an-object-serializable"></a><span data-ttu-id="64e5d-135">Tworzenie obiektu jako możliwego do serializacji</span><span class="sxs-lookup"><span data-stu-id="64e5d-135">Making an object serializable</span></span>

<span data-ttu-id="64e5d-136">W przypadku serializacji binarnej lub XML potrzebne są:</span><span class="sxs-lookup"><span data-stu-id="64e5d-136">For binary or XML serialization, you need:</span></span>

* <span data-ttu-id="64e5d-137">Obiekt, który ma zostać Zserializowany</span><span class="sxs-lookup"><span data-stu-id="64e5d-137">The object to be serialized</span></span>
* <span data-ttu-id="64e5d-138">Strumień zawierający serializowany obiekt</span><span class="sxs-lookup"><span data-stu-id="64e5d-138">A stream to contain the serialized object</span></span>
* <span data-ttu-id="64e5d-139"><xref:System.Runtime.Serialization.Formatter?displayProperty=fullName>Wystąpienie</span><span class="sxs-lookup"><span data-stu-id="64e5d-139">A <xref:System.Runtime.Serialization.Formatter?displayProperty=fullName> instance</span></span>

<span data-ttu-id="64e5d-140">Zastosuj <xref:System.SerializableAttribute> atrybut do typu, aby wskazać, że wystąpienia typu mogą być serializowane.</span><span class="sxs-lookup"><span data-stu-id="64e5d-140">Apply the <xref:System.SerializableAttribute> attribute to a type to indicate that instances of the type can be serialized.</span></span> <span data-ttu-id="64e5d-141">Wyjątek jest zgłaszany w przypadku próby serializacji, ale typ nie ma <xref:System.SerializableAttribute> atrybutu.</span><span class="sxs-lookup"><span data-stu-id="64e5d-141">An  exception is thrown if you attempt to serialize but the type doesn't have the <xref:System.SerializableAttribute> attribute.</span></span>

<span data-ttu-id="64e5d-142">Aby zapobiec serializowaniu pola, Zastosuj <xref:System.NonSerializedAttribute> atrybut.</span><span class="sxs-lookup"><span data-stu-id="64e5d-142">To prevent a field from being serialized, apply the <xref:System.NonSerializedAttribute> attribute.</span></span> <span data-ttu-id="64e5d-143">Jeśli pole o typie możliwym do serializacji zawiera wskaźnik, uchwyt lub inną strukturę danych, która jest specyficzna dla określonego środowiska, a pole nie może być w znaczący sposób odtworzone w innym środowisku, można sprawić, aby nie można było jej serializować.</span><span class="sxs-lookup"><span data-stu-id="64e5d-143">If a field of a serializable type contains a pointer, a handle, or some other data structure that is specific to a particular environment, and the field cannot be meaningfully reconstituted in a different environment, then you may want to make it nonserializable.</span></span>

<span data-ttu-id="64e5d-144">Jeśli Serializacja klasy zawiera odwołania do obiektów innych klas, które są oznaczone <xref:System.SerializableAttribute> , te obiekty również będą serializowane.</span><span class="sxs-lookup"><span data-stu-id="64e5d-144">If a serialized class contains references to objects of other classes that are marked <xref:System.SerializableAttribute>, those objects will also be serialized.</span></span>

### <a name="basic-and-custom-serialization"></a><span data-ttu-id="64e5d-145">Serializacja podstawowa i niestandardowa</span><span class="sxs-lookup"><span data-stu-id="64e5d-145">Basic and custom serialization</span></span>

<span data-ttu-id="64e5d-146">Serializacja binarna i XML może być wykonywana na dwa sposoby — podstawowa i niestandardowa.</span><span class="sxs-lookup"><span data-stu-id="64e5d-146">Binary and XML serialization can be performed in two ways, basic and custom.</span></span>

<span data-ttu-id="64e5d-147">Serializacja podstawowa używa platformy .NET do automatycznego serializacji obiektu.</span><span class="sxs-lookup"><span data-stu-id="64e5d-147">Basic serialization uses .NET to automatically serialize the object.</span></span> <span data-ttu-id="64e5d-148">Jedynym wymaganiem jest, że Klasa ma <xref:System.SerializableAttribute> zastosowany atrybut.</span><span class="sxs-lookup"><span data-stu-id="64e5d-148">The only requirement is that the class has the <xref:System.SerializableAttribute> attribute applied.</span></span> <span data-ttu-id="64e5d-149"><xref:System.NonSerializedAttribute>Może służyć do zachowywania serializacji określonych pól.</span><span class="sxs-lookup"><span data-stu-id="64e5d-149">The <xref:System.NonSerializedAttribute> can be used to keep specific fields from being serialized.</span></span>

<span data-ttu-id="64e5d-150">W przypadku korzystania z serializacji podstawowej wersja obiektów może tworzyć problemy.</span><span class="sxs-lookup"><span data-stu-id="64e5d-150">When you use basic serialization, the versioning of objects may create problems.</span></span> <span data-ttu-id="64e5d-151">Podczas rozwiązywania problemów dotyczących wersji należy użyć serializacji niestandardowej.</span><span class="sxs-lookup"><span data-stu-id="64e5d-151">You would use custom serialization when versioning issues are important.</span></span> <span data-ttu-id="64e5d-152">Serializacja podstawowa jest najprostszym sposobem na wykonywanie serializacji, ale nie zapewnia większej kontroli nad procesem.</span><span class="sxs-lookup"><span data-stu-id="64e5d-152">Basic serialization is the easiest way to perform serialization, but it does not provide much control over the process.</span></span>

<span data-ttu-id="64e5d-153">W przypadku serializacji niestandardowej można określić, które obiekty będą serializowane i jak będą wykonywane.</span><span class="sxs-lookup"><span data-stu-id="64e5d-153">In custom serialization, you can specify exactly which objects will be serialized and how it will be done.</span></span> <span data-ttu-id="64e5d-154">Klasa musi być oznaczona <xref:System.SerializableAttribute> i implementować <xref:System.Runtime.Serialization.ISerializable> interfejs.</span><span class="sxs-lookup"><span data-stu-id="64e5d-154">The class must be marked <xref:System.SerializableAttribute> and implement the <xref:System.Runtime.Serialization.ISerializable> interface.</span></span> <span data-ttu-id="64e5d-155">Jeśli chcesz, aby obiekt był deserializowany w sposób niestandardowy, użyj konstruktora niestandardowego.</span><span class="sxs-lookup"><span data-stu-id="64e5d-155">If you want your object to be deserialized in a custom manner as well, use a custom constructor.</span></span>

## <a name="designer-serialization"></a><span data-ttu-id="64e5d-156">Serializacja projektanta</span><span class="sxs-lookup"><span data-stu-id="64e5d-156">Designer serialization</span></span>

<span data-ttu-id="64e5d-157">Serializacja projektanta jest specjalną formą serializacji, która obejmuje rodzaj trwałości obiektu skojarzony z narzędziami programistycznymi.</span><span class="sxs-lookup"><span data-stu-id="64e5d-157">Designer serialization is a special form of serialization that involves the kind of object persistence associated with development tools.</span></span> <span data-ttu-id="64e5d-158">Serializacja projektanta to proces przekonwertowania grafu obiektów na plik źródłowy, który można później użyć do odzyskania grafu obiektów.</span><span class="sxs-lookup"><span data-stu-id="64e5d-158">Designer serialization is the process of converting an object graph into a source file that can later be used to recover the object graph.</span></span> <span data-ttu-id="64e5d-159">Plik źródłowy może zawierać kod, znacznik, a nawet informacje tabeli SQL.</span><span class="sxs-lookup"><span data-stu-id="64e5d-159">A source file can contain code, markup, or even SQL table information.</span></span>

## <a name="related-topics-and-examples"></a><a name="BKMK_RelatedTopics"></a><span data-ttu-id="64e5d-160">Tematy pokrewne i przykłady</span><span class="sxs-lookup"><span data-stu-id="64e5d-160">Related Topics and Examples</span></span>  

<span data-ttu-id="64e5d-161">[System. Text. JSON — Omówienie](../../../../standard/serialization/system-text-json-overview.md) Pokazuje, jak uzyskać `System.Text.Json` bibliotekę.</span><span class="sxs-lookup"><span data-stu-id="64e5d-161">[System.Text.Json overview](../../../../standard/serialization/system-text-json-overview.md) Shows how to get the `System.Text.Json` library.</span></span>

<span data-ttu-id="64e5d-162">[Jak serializować i deserializować kod JSON w programie .NET](../../../../standard/serialization/system-text-json-how-to.md).</span><span class="sxs-lookup"><span data-stu-id="64e5d-162">[How to serialize and deserialize JSON in .NET](../../../../standard/serialization/system-text-json-how-to.md).</span></span>
<span data-ttu-id="64e5d-163">Pokazuje, jak odczytywać i zapisywać dane obiektów do i z formatu JSON przy użyciu <xref:System.Text.Json.JsonSerializer> klasy.</span><span class="sxs-lookup"><span data-stu-id="64e5d-163">Shows how to read and write object data to and from JSON using the <xref:System.Text.Json.JsonSerializer> class.</span></span>

[<span data-ttu-id="64e5d-164">Przewodnik: utrwalanie obiektu w programie Visual Studio (C#)</span><span class="sxs-lookup"><span data-stu-id="64e5d-164">Walkthrough: Persisting an Object in Visual Studio (C#)</span></span>](walkthrough-persisting-an-object-in-visual-studio.md)  
<span data-ttu-id="64e5d-165">Pokazuje, jak Serializacja może być używana do utrwalania danych obiektu między wystąpieniami, umożliwiając przechowywanie wartości i pobieranie ich przy następnym tworzeniu wystąpienia obiektu.</span><span class="sxs-lookup"><span data-stu-id="64e5d-165">Demonstrates how serialization can be used to persist an object's data between instances, allowing you to store values and retrieve them the next time the object is instantiated.</span></span>

[<span data-ttu-id="64e5d-166">Jak odczytywać dane obiektów z pliku XML (C#)</span><span class="sxs-lookup"><span data-stu-id="64e5d-166">How to read object data from an XML file (C#)</span></span>](how-to-read-object-data-from-an-xml-file.md)  
<span data-ttu-id="64e5d-167">Pokazuje, jak odczytywać dane obiektów, które zostały wcześniej zapisaną w pliku XML przy użyciu <xref:System.Xml.Serialization.XmlSerializer> klasy.</span><span class="sxs-lookup"><span data-stu-id="64e5d-167">Shows how to read object data that was previously written to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>

[<span data-ttu-id="64e5d-168">Jak napisać dane obiektu do pliku XML (C#)</span><span class="sxs-lookup"><span data-stu-id="64e5d-168">How to write object data to an XML file (C#)</span></span>](how-to-write-object-data-to-an-xml-file.md)  
<span data-ttu-id="64e5d-169">Pokazuje, jak napisać obiekt z klasy do pliku XML przy użyciu <xref:System.Xml.Serialization.XmlSerializer> klasy.</span><span class="sxs-lookup"><span data-stu-id="64e5d-169">Shows how to write the object from a class to an XML file using the <xref:System.Xml.Serialization.XmlSerializer> class.</span></span>
