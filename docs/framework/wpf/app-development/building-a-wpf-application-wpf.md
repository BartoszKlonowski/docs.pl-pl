---
title: Kompilowanie aplikacji
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WPF application [WPF], building
ms.assetid: a58696fd-bdad-4b55-9759-136dfdf8b91c
ms.openlocfilehash: 00c76dfcdcedc7ceaefaaae785368f8b343457a7
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/24/2020
ms.locfileid: "76744765"
---
# <a name="compile-a-wpf-application"></a><span data-ttu-id="cf4b4-102">Kompilowanie aplikacji WPF</span><span class="sxs-lookup"><span data-stu-id="cf4b4-102">Compile a WPF Application</span></span>

<span data-ttu-id="cf4b4-103">Aplikacje Windows Presentation Foundation (WPF) mogą być kompilowane jako .NET Framework pliki wykonywalne (. exe), biblioteki (. dll) lub kombinację obu typów zestawów.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-103">Windows Presentation Foundation (WPF) applications can be built as .NET Framework executables (.exe), libraries (.dll), or a combination of both types of assemblies.</span></span> <span data-ttu-id="cf4b4-104">W tym temacie przedstawiono sposób kompilowania aplikacji WPF i opisano kluczowe kroki procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-104">This topic introduces how to build WPF applications and describes the key steps in the build process.</span></span>

<a name="Building_a_WPF_Application_using_Command_Line"></a>

## <a name="building-a-wpf-application"></a><span data-ttu-id="cf4b4-105">Kompilowanie aplikacji WPF</span><span class="sxs-lookup"><span data-stu-id="cf4b4-105">Building a WPF Application</span></span>

<span data-ttu-id="cf4b4-106">Aplikację WPF można skompilować w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="cf4b4-106">A WPF application can be compiled in the following ways:</span></span>

- <span data-ttu-id="cf4b4-107">Wiersz polecenia.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-107">Command-line.</span></span> <span data-ttu-id="cf4b4-108">Aplikacja musi zawierać tylko kod (bez XAML) i plik definicji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-108">The application must contain only code (no XAML) and an application definition file.</span></span> <span data-ttu-id="cf4b4-109">Aby uzyskać więcej informacji, zobacz [wiersza polecenia kompilowanego za pomocą pliku CSC. exe](../../../csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md) lub [Kompilowanie z poziomu wiersza polecenia (Visual Basic)](../../../visual-basic/reference/command-line-compiler/building-from-the-command-line.md).</span><span class="sxs-lookup"><span data-stu-id="cf4b4-109">For more information, see [Command-line Building With csc.exe](../../../csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md) or [Building from the Command Line (Visual Basic)](../../../visual-basic/reference/command-line-compiler/building-from-the-command-line.md).</span></span>

- <span data-ttu-id="cf4b4-110">Microsoft Build Engine (MSBuild).</span><span class="sxs-lookup"><span data-stu-id="cf4b4-110">Microsoft Build Engine (MSBuild).</span></span> <span data-ttu-id="cf4b4-111">Oprócz kodu i plików XAML, aplikacja musi zawierać plik projektu programu MSBuild.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-111">In addition to the code and XAML files, the application must contain an MSBuild project file.</span></span> <span data-ttu-id="cf4b4-112">Aby uzyskać więcej informacji, zobacz "MSBuild".</span><span class="sxs-lookup"><span data-stu-id="cf4b4-112">For more information, see "MSBuild".</span></span>

- <span data-ttu-id="cf4b4-113">Program Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-113">Visual Studio.</span></span> <span data-ttu-id="cf4b4-114">Program Visual Studio to zintegrowane środowisko programistyczne, które kompiluje aplikacje WPF z programem MSBuild i zawiera wizualny Projektant do tworzenia interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-114">Visual Studio is an integrated development environment that compiles WPF applications with MSBuild and includes a visual designer for creating UI.</span></span> <span data-ttu-id="cf4b4-115">Aby uzyskać więcej informacji, zobacz [pisanie kodu i zarządzanie nim za pomocą programu Visual Studio](/visualstudio/ide/index-writing-code) i [projektowanie XAML w programie Visual Studio](/visualstudio/xaml-tools/designing-xaml-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="cf4b4-115">For more information, see [Write and manage code using Visual Studio](/visualstudio/ide/index-writing-code) and [Design XAML in Visual Studio](/visualstudio/xaml-tools/designing-xaml-in-visual-studio).</span></span>

<a name="The_Windows_Presentation_Foundation_Build_Pipeline"></a>

## <a name="wpf-build-pipeline"></a><span data-ttu-id="cf4b4-116">Potok kompilacji WPF</span><span class="sxs-lookup"><span data-stu-id="cf4b4-116">WPF Build Pipeline</span></span>

<span data-ttu-id="cf4b4-117">Po skompilowaniu projektu WPF jest wywoływana kombinacja obiektów docelowych specyficznych dla języka i WPF.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-117">When a WPF project is built, the combination of language-specific and WPF-specific targets are invoked.</span></span> <span data-ttu-id="cf4b4-118">Proces wykonywania tych celów jest nazywany Potokiem kompilacji, a kluczowe kroki przedstawiono na poniższej ilustracji.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-118">The process of executing these targets is called the build pipeline, and the key steps are illustrated by the following figure.</span></span>

<span data-ttu-id="cf4b4-119">![Proces kompilacji WPF](./media/wpfbuildsystem-figure1.png "WPFBuildSystem_Figure1")</span><span class="sxs-lookup"><span data-stu-id="cf4b4-119">![WPF build process](./media/wpfbuildsystem-figure1.png "WPFBuildSystem_Figure1")</span></span>

<a name="Pre_Build_Initializations"></a>

### <a name="pre-build-initializations"></a><span data-ttu-id="cf4b4-120">Inicjalizacje przed kompilacją</span><span class="sxs-lookup"><span data-stu-id="cf4b4-120">Pre-Build Initializations</span></span>

<span data-ttu-id="cf4b4-121">Przed skompilowaniem program MSBuild określa lokalizację ważnych narzędzi i bibliotek, w tym następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="cf4b4-121">Before building, MSBuild determines the location of important tools and libraries, including the following:</span></span>

- <span data-ttu-id="cf4b4-122">.NET Framework.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-122">The .NET Framework.</span></span>

- <span data-ttu-id="cf4b4-123">Katalogi Windows SDK.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-123">The Windows SDK directories.</span></span>

- <span data-ttu-id="cf4b4-124">Lokalizacja zestawów odwołań WPF.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-124">The location of WPF reference assemblies.</span></span>

- <span data-ttu-id="cf4b4-125">Właściwość ścieżek wyszukiwania zestawu.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-125">The property for the assembly search paths.</span></span>

<span data-ttu-id="cf4b4-126">Pierwszą lokalizacją, w której program MSBuild wyszukuje zestawy, jest katalogiem zestawu odwołania (%ProgramFiles%\Reference Assemblies\Microsoft\Framework\v3.0\\).</span><span class="sxs-lookup"><span data-stu-id="cf4b4-126">The first location where MSBuild searches for assemblies is the reference assembly directory (%ProgramFiles%\Reference Assemblies\Microsoft\Framework\v3.0\\).</span></span> <span data-ttu-id="cf4b4-127">W tym kroku proces kompilacji inicjuje również różne właściwości i grupy elementów oraz wykonuje wymagane czynności czyszczące.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-127">During this step, the build process also initializes the various properties and item groups and performs any required cleanup work.</span></span>

<a name="Resolving_references"></a>

### <a name="resolving-references"></a><span data-ttu-id="cf4b4-128">Rozpoznawanie odwołań</span><span class="sxs-lookup"><span data-stu-id="cf4b4-128">Resolving References</span></span>

<span data-ttu-id="cf4b4-129">Proces kompilacji lokalizuje i wiąże zestawy wymagane do skompilowania projektu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-129">The build process locates and binds the assemblies required to build the application project.</span></span> <span data-ttu-id="cf4b4-130">Ta logika jest zawarta w zadaniu `ResolveAssemblyReference`.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-130">This logic is contained in the `ResolveAssemblyReference` task.</span></span> <span data-ttu-id="cf4b4-131">Wszystkie zestawy zadeklarowane jako `Reference` w pliku projektu są dostarczane do zadania wraz z informacjami na temat ścieżek wyszukiwania i metadanych w zestawach zainstalowanych już w systemie.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-131">All assemblies declared as `Reference` in the project file are provided to the task along with information on the search paths and metadata on assemblies already installed on the system.</span></span> <span data-ttu-id="cf4b4-132">Zadanie wyszukuje zestawy i korzysta z metadanych zainstalowanego zestawu, aby odfiltrować te podstawowe zestawy WPF, które nie muszą być wyświetlane w manifestach wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-132">The task looks up assemblies and uses the installed assembly's metadata to filter out those core WPF assemblies that need not show up in the output manifests.</span></span> <span data-ttu-id="cf4b4-133">Jest to gotowe do uniknięcia nadmiarowych informacji w manifestach ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-133">This is done to avoid redundant information in the ClickOnce manifests.</span></span> <span data-ttu-id="cf4b4-134">Na przykład, ponieważ platformie docelowej. dll może być uważany za reprezentatywną dla aplikacji wbudowanej i dla WPF, a wszystkie zestawy WPF istnieją w tej samej lokalizacji na każdej maszynie, na której zainstalowano .NET Framework, nie trzeba uwzględniać wszystkich informacje na temat wszystkich .NET Framework zestawów odwołań w manifestach.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-134">For example, since PresentationFramework.dll can be considered representative of an application built on and for WPF, and since all WPF assemblies exist at the same location on every machine that has the .NET Framework installed, there's no need to include all information on all .NET Framework reference assemblies in the manifests.</span></span>

<a name="Markup_Compilation___Pass_1"></a>

### <a name="markup-compilationpass-1"></a><span data-ttu-id="cf4b4-135">Kompilacja znaczników — Pass 1</span><span class="sxs-lookup"><span data-stu-id="cf4b4-135">Markup Compilation—Pass 1</span></span>

<span data-ttu-id="cf4b4-136">W tym kroku pliki [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] są analizowane i kompilowane, dzięki czemu środowisko uruchomieniowe nie poświęca czasu na analizowanie danych XML i sprawdzanie poprawności wartości właściwości.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-136">In this step, [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files are parsed and compiled so that the runtime does not spend time parsing XML and validating property values.</span></span> <span data-ttu-id="cf4b4-137">Skompilowany plik [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] jest wstępnie oparty na tokenach, dzięki czemu w czasie wykonywania ładowanie go powinno być znacznie szybsze niż ładowanie pliku [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cf4b4-137">The compiled [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file is pre-tokenized so that, at run time, loading it should be much faster than loading a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span>

<span data-ttu-id="cf4b4-138">W tym kroku następujące działania są wykonywane dla każdego pliku [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], który jest `Page` elementu kompilacji:</span><span class="sxs-lookup"><span data-stu-id="cf4b4-138">During this step, the following activities take place for every [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file that is a `Page` build item:</span></span>

1. <span data-ttu-id="cf4b4-139">Plik [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] jest analizowany przez kompilator znaczników.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-139">The [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file is parsed by the markup compiler.</span></span>

2. <span data-ttu-id="cf4b4-140">Skompilowana reprezentacja zostanie utworzona dla tego [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] i skopiowana do folderu obj\Release.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-140">A compiled representation is created for that [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] and copied to the obj\Release folder.</span></span>

3. <span data-ttu-id="cf4b4-141">Reprezentacja CodeDOM nowej klasy częściowej jest tworzona i kopiowana do folderu obj\Release.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-141">A CodeDOM representation of a new partial class is created and copied to the obj\Release folder.</span></span>

<span data-ttu-id="cf4b4-142">Ponadto plik kodu specyficzny dla języka jest generowany dla każdego pliku [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cf4b4-142">In addition, a language-specific code file is generated for every [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span> <span data-ttu-id="cf4b4-143">Na przykład dla strony Strona1. XAML w projekcie Visual Basic jest generowany element Strona1. g. vb; dla strony Strona1. XAML w C# projekcie jest generowany page1.g.cs.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-143">For example, for a Page1.xaml page in a Visual Basic project, a Page1.g.vb is generated; for a Page1.xaml page in a C# project, a Page1.g.cs is generated.</span></span> <span data-ttu-id="cf4b4-144">". G" w nazwie pliku wskazuje, że plik jest generowany kod, który ma deklarację klasy częściowej dla elementu najwyższego poziomu pliku znaczników (na przykład `Page` lub `Window`).</span><span class="sxs-lookup"><span data-stu-id="cf4b4-144">The ".g" in the file name indicates the file is generated code that has a partial class declaration for the top-level element of the markup file (such as `Page` or `Window`).</span></span> <span data-ttu-id="cf4b4-145">Klasa jest zadeklarowana przy użyciu modyfikatora `partial` C# w (`Extends` w Visual Basic), aby wskazać, że istnieje inna Deklaracja dla klasy w innym miejscu, zwykle w pliku związanym z kodem page1.XAML.cs.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-145">The class is declared with the `partial` modifier in C# (`Extends` in Visual Basic) to indicate there is another declaration for the class elsewhere, usually in the code-behind file Page1.xaml.cs.</span></span>

<span data-ttu-id="cf4b4-146">Klasa częściowa rozciąga się od odpowiedniej klasy bazowej (takiej jak <xref:System.Windows.Controls.Page> dla strony) i implementuje interfejs <xref:System.Windows.Markup.IComponentConnector?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-146">The partial class extends from the appropriate base class (such as <xref:System.Windows.Controls.Page> for a page) and implements the <xref:System.Windows.Markup.IComponentConnector?displayProperty=nameWithType> interface.</span></span> <span data-ttu-id="cf4b4-147">Interfejs <xref:System.Windows.Markup.IComponentConnector> ma metody inicjowania składnika oraz łączenia nazw i zdarzeń w elementach zawartości.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-147">The <xref:System.Windows.Markup.IComponentConnector> interface has methods to initialize a component and connect names and events on elements in its content.</span></span> <span data-ttu-id="cf4b4-148">W związku z tym wygenerowany plik kodu ma implementację metody podobną do następującej:</span><span class="sxs-lookup"><span data-stu-id="cf4b4-148">Consequently, the generated code file has a method implementation like the following:</span></span>

```csharp
public void InitializeComponent() {
    if (_contentLoaded) {
        return;
    }
    _contentLoaded = true;
    System.Uri resourceLocater =
        new System.Uri(
            "window1.xaml",
            System.UriKind.RelativeOrAbsolute);
    System.Windows.Application.LoadComponent(this, resourceLocater);
}
```

```vb
Public Sub InitializeComponent() _

    If _contentLoaded Then
        Return
    End If

    _contentLoaded = True
    Dim resourceLocater As System.Uri = _
        New System.Uri("mainwindow.xaml", System.UriKind.Relative)

    System.Windows.Application.LoadComponent(Me, resourceLocater)

End Sub
```

<span data-ttu-id="cf4b4-149">Domyślnie kompilacja znaczników jest uruchamiana w tym samym <xref:System.AppDomain>, co aparat MSBuild.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-149">By default, markup compilation runs in the same <xref:System.AppDomain> as the MSBuild engine.</span></span> <span data-ttu-id="cf4b4-150">Zapewnia to znaczący wzrost wydajności.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-150">This provides significant performance gains.</span></span> <span data-ttu-id="cf4b4-151">To zachowanie można przełączać za pomocą właściwości `AlwaysCompileMarkupFilesInSeparateDomain`.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-151">This behavior can be toggled with the `AlwaysCompileMarkupFilesInSeparateDomain` property.</span></span> <span data-ttu-id="cf4b4-152">Jest to zaletą zwalniania wszystkich zestawów referencyjnych przez zwolnienie oddzielnego <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-152">This has the advantage of unloading all reference assemblies by unloading the separate <xref:System.AppDomain>.</span></span>

<a name="Pass_2_of_Markup_Compilation"></a>

### <a name="markup-compilationpass-2"></a><span data-ttu-id="cf4b4-153">Kompilacja znaczników — Pass 2</span><span class="sxs-lookup"><span data-stu-id="cf4b4-153">Markup Compilation—Pass 2</span></span>

<span data-ttu-id="cf4b4-154">Nie wszystkie strony [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] są kompilowane podczas kompilacji znaczników 1.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-154">Not all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages are compiled at during pass 1 of markup compilation.</span></span> <span data-ttu-id="cf4b4-155">Pliki [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], które mają lokalnie zdefiniowane odwołania do typu (odwołania do typów zdefiniowanych w kodzie w innym projekcie) są wykluczone z kompilacji w tej chwili.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-155">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files that have locally defined type references (references to types defined in code elsewhere in the same project) are exempt from compilation at this time.</span></span> <span data-ttu-id="cf4b4-156">Wynika to z faktu, że te typy zdefiniowane lokalnie istnieją tylko w źródle i nie zostały jeszcze skompilowane.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-156">This is because those locally defined types exist only in source and have not yet been compiled.</span></span> <span data-ttu-id="cf4b4-157">Aby to ustalić, Analizator używa algorytmów heurystycznych, które obejmują Wyszukiwanie elementów takich jak `x:Name` w pliku znaczników.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-157">In order to determine this, the parser uses heuristics that involve looking for items such as `x:Name` in the markup file.</span></span> <span data-ttu-id="cf4b4-158">Gdy takie wystąpienie zostanie znalezione, kompilacja pliku znaczników jest odkładana do momentu skompilowania plików kodu, a następnie drugi przebieg kompilacji znaczników przetwarza te pliki.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-158">When such an instance is found, that markup file’s compilation is postponed until the code files have been compiled, after which, the second markup compilation pass processes these files.</span></span>

<a name="File_Classification"></a>

### <a name="file-classification"></a><span data-ttu-id="cf4b4-159">Klasyfikacja pliku</span><span class="sxs-lookup"><span data-stu-id="cf4b4-159">File Classification</span></span>

<span data-ttu-id="cf4b4-160">Proces kompilacji umieszcza pliki wyjściowe w różnych grupach zasobów na podstawie zestawu aplikacji, w którym zostaną umieszczone.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-160">The build process puts output files into different resource groups based on which application assembly they will be placed in.</span></span> <span data-ttu-id="cf4b4-161">W typowej aplikacji nielokalnej wszystkie pliki danych oznaczone jako `Resource` są umieszczane w zestawie głównym (plik wykonywalny lub biblioteka).</span><span class="sxs-lookup"><span data-stu-id="cf4b4-161">In a typical nonlocalized application, all data files marked as `Resource` are placed in the main assembly (executable or library).</span></span> <span data-ttu-id="cf4b4-162">Po ustawieniu `UICulture` w projekcie wszystkie skompilowane pliki [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] i te, które zostały oznaczone jako specyficzne dla języka, są umieszczane w zestawie zasobów satelity.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-162">When `UICulture` is set in the project, all compiled [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files and those resources specifically marked as language-specific are placed in the satellite resource assembly.</span></span> <span data-ttu-id="cf4b4-163">Ponadto wszystkie zasoby niezależne od języka są umieszczane w zestawie głównym.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-163">Furthermore, all language-neutral resources are placed in the main assembly.</span></span> <span data-ttu-id="cf4b4-164">W tym kroku procesu kompilacji to oznaczenie zostało wykonane.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-164">In this step of the build process, that determination is made.</span></span>

<span data-ttu-id="cf4b4-165">Akcje tworzenia `ApplicationDefinition`, `Page`i `Resource` w pliku projektu można rozszerzyć za pomocą metadanych `Localizable` (akceptowalne wartości to `true` i `false`), które określają, czy plik jest specyficzny dla języka, czy niezależny od języka.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-165">The `ApplicationDefinition`, `Page`, and `Resource` build actions in the project file can be augmented with the `Localizable` metadata (acceptable values are `true` and `false`), which dictates whether the file is language-specific or language-neutral.</span></span>

<a name="Core_Compilation"></a>

### <a name="core-compilation"></a><span data-ttu-id="cf4b4-166">Kompilacja podstawowa</span><span class="sxs-lookup"><span data-stu-id="cf4b4-166">Core Compilation</span></span>

<span data-ttu-id="cf4b4-167">Podstawowy krok kompilowania obejmuje kompilację plików kodu.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-167">The core compile step involves compilation of code files.</span></span> <span data-ttu-id="cf4b4-168">Jest on zorganizowany przez logikę w plikach docelowych określonych dla języka Microsoft. CSharp. targets i Microsoft. VisualBasic. targets.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-168">This is orchestrated by logic in the language-specific targets files Microsoft.CSharp.targets and Microsoft.VisualBasic.targets.</span></span> <span data-ttu-id="cf4b4-169">Jeśli algorytmy heurystyczne ustaliły, że jeden przebieg kompilatora znaczników jest wystarczający, generowany jest zestaw główny.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-169">If heuristics have determined that a single pass of the markup compiler is sufficient, then the main assembly is generated.</span></span> <span data-ttu-id="cf4b4-170">Jeśli jednak jeden lub więcej plików [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] w projekcie ma odwołania do typów zdefiniowanych lokalnie, zostanie wygenerowany plik tymczasowy. dll, aby można było utworzyć końcowe zestawy aplikacji po zakończeniu drugiego przebiegu kompilacji znaczników.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-170">However, if one or more [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files in the project have references to locally defined types, then a temporary .dll file is generated so the final application assemblies may be created after the second pass of markup compilation is complete.</span></span>

<a name="Manifest_generation"></a>

### <a name="manifest-generation"></a><span data-ttu-id="cf4b4-171">Generowanie manifestu</span><span class="sxs-lookup"><span data-stu-id="cf4b4-171">Manifest Generation</span></span>

<span data-ttu-id="cf4b4-172">Na końcu procesu kompilacji, gdy wszystkie zestawy aplikacji i pliki zawartości są gotowe, są generowane manifesty ClickOnce dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-172">At the end of the build process, after all the application assemblies and content files are ready, the ClickOnce manifests for the application are generated.</span></span>

<span data-ttu-id="cf4b4-173">Plik manifestu wdrożenia opisuje model wdrażania: bieżącą wersję, zachowanie aktualizacji i tożsamość wydawcy wraz z podpisem cyfrowym.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-173">The deployment manifest file describes the deployment model: the current version, update behavior, and publisher identity along with digital signature.</span></span> <span data-ttu-id="cf4b4-174">Ten manifest jest przeznaczony dla administratorów, którzy obsługują wdrażanie.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-174">This manifest is intended to be authored by administrators who handle deployment.</span></span> <span data-ttu-id="cf4b4-175">Rozszerzenie pliku to. XBAP (dla aplikacji przeglądarki XAML (XBAP)) i aplikacji zainstalowanych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-175">The file extension is .xbap (for XAML browser applications (XBAPs)) and .application for installed applications.</span></span> <span data-ttu-id="cf4b4-176">Była to podyktowana przez właściwość projektu `HostInBrowser`, a w efekcie manifest identyfikuje aplikację jako obsługiwaną przez przeglądarkę.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-176">The former is dictated by the `HostInBrowser` project property and as a result the manifest identifies the application as browser-hosted.</span></span>

<span data-ttu-id="cf4b4-177">Manifest aplikacji (plik. exe. manifest) opisuje zestawy aplikacji i biblioteki zależne oraz listę uprawnień wymaganych przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-177">The application manifest (an .exe.manifest file) describes the application assemblies and dependent libraries and lists permissions required by the application.</span></span> <span data-ttu-id="cf4b4-178">Ten plik jest przeznaczony dla deweloperów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-178">This file is intended to be authored by the application developer.</span></span> <span data-ttu-id="cf4b4-179">Aby można było uruchomić aplikację ClickOnce, użytkownik otwiera plik manifestu wdrażania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-179">In order to launch a ClickOnce application, a user opens the application's deployment manifest file.</span></span>

<span data-ttu-id="cf4b4-180">Te pliki manifestu są zawsze tworzone dla aplikacji XBAP.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-180">These manifest files are always created for XBAPs.</span></span> <span data-ttu-id="cf4b4-181">W przypadku zainstalowanych aplikacji nie są one tworzone, o ile Właściwość `GenerateManifests` nie zostanie określona w pliku projektu z wartością `true`.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-181">For installed applications, they are not created unless the `GenerateManifests` property is specified in the project file with value `true`.</span></span>

<span data-ttu-id="cf4b4-182">Aplikacje XBAP uzyskują dwa dodatkowe uprawnienia powyżej i powyżej tych uprawnień przypisanych do typowych aplikacji strefy internetowej: <xref:System.Security.Permissions.WebBrowserPermission> i <xref:System.Security.Permissions.MediaPermission>.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-182">XBAPs get two additional permissions over and above those permissions assigned to typical Internet zone applications: <xref:System.Security.Permissions.WebBrowserPermission> and <xref:System.Security.Permissions.MediaPermission>.</span></span> <span data-ttu-id="cf4b4-183">System kompilacji WPF deklaruje te uprawnienia w manifeście aplikacji.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-183">The WPF build system declares those permissions in the application manifest.</span></span>

<a name="Incremental_Build_Support"></a>

## <a name="incremental-build-support"></a><span data-ttu-id="cf4b4-184">Obsługa kompilacji przyrostowej</span><span class="sxs-lookup"><span data-stu-id="cf4b4-184">Incremental Build Support</span></span>

<span data-ttu-id="cf4b4-185">System kompilacji WPF zapewnia obsługę kompilacji przyrostowych.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-185">The WPF build system provides support for incremental builds.</span></span> <span data-ttu-id="cf4b4-186">Jest to dość inteligentne informacje o wykrywaniu zmian wprowadzonych w znacznikach lub kodzie, a także kompiluje tylko te artefakty, na które wpłynie zmiana.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-186">It is fairly intelligent about detecting changes made to markup or code, and it compiles only those artifacts affected by the change.</span></span> <span data-ttu-id="cf4b4-187">Mechanizm kompilacji przyrostowej używa następujących plików:</span><span class="sxs-lookup"><span data-stu-id="cf4b4-187">The incremental build mechanism uses the following files:</span></span>

- <span data-ttu-id="cf4b4-188">Plik $ (*AssemblyName*) _MarkupCompiler. cache do obsługi bieżącego stanu kompilatora.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-188">An $(*AssemblyName*)_MarkupCompiler.Cache file to maintain current compiler state.</span></span>

- <span data-ttu-id="cf4b4-189">Plik $ (*AssemblyName*) _MarkupCompiler. Lref do buforowania plików [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] z odwołaniami do typów zdefiniowanych lokalnie.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-189">An $(*AssemblyName*)_MarkupCompiler.lref file to cache the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files with references to locally defined types.</span></span>

<span data-ttu-id="cf4b4-190">Poniżej znajduje się zestaw reguł dotyczących kompilacji przyrostowej:</span><span class="sxs-lookup"><span data-stu-id="cf4b4-190">The following is a set of rules governing incremental build:</span></span>

- <span data-ttu-id="cf4b4-191">Ten plik jest najmniejszą jednostką, w której system kompilacji wykryje zmianę.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-191">The file is the smallest unit at which the build system detects change.</span></span> <span data-ttu-id="cf4b4-192">Dlatego w przypadku pliku kodu system kompilacji nie może stwierdzić, czy typ został zmieniony lub czy kod został dodany.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-192">So, for a code file, the build system cannot tell if a type was changed or if code was added.</span></span> <span data-ttu-id="cf4b4-193">Te same blokady dla plików projektu.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-193">The same holds for project files.</span></span>

- <span data-ttu-id="cf4b4-194">Mechanizm kompilacji przyrostowej musi być firma Cognizant, że strona [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] definiuje klasę lub używa innych klas.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-194">The incremental build mechanism must be cognizant that a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] page either defines a class or uses other classes.</span></span>

- <span data-ttu-id="cf4b4-195">W przypadku zmiany `Reference` wpisów należy ponownie skompilować wszystkie strony.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-195">If `Reference` entries change, then recompile all pages.</span></span>

- <span data-ttu-id="cf4b4-196">W przypadku zmiany pliku kodu należy ponownie skompilować wszystkie strony z odwołaniami do typu zdefiniowane lokalnie.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-196">If a code file changes, recompile all pages with locally defined type references.</span></span>

- <span data-ttu-id="cf4b4-197">W przypadku zmiany pliku [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="cf4b4-197">If a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file changes:</span></span>

  - <span data-ttu-id="cf4b4-198">Jeśli [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] jest zadeklarowana jako `Page` w projekcie: Jeśli [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] nie ma lokalnie zdefiniowanych odwołań do typów, należy ponownie skompilować [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] i wszystkie [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] strony z odwołaniami lokalnymi; Jeśli [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] ma lokalne odwołania, należy ponownie skompilować wszystkie strony [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] z odwołaniami lokalnymi.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-198">If [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is declared as `Page` in the project: if the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] does not have locally defined type references, recompile that [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] plus all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages with local references; if the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] has local references, recompile all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages with local references.</span></span>

  - <span data-ttu-id="cf4b4-199">Jeśli [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] jest zadeklarowana jako `ApplicationDefinition` w projekcie: ponownie Kompiluj wszystkie [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] strony (Przyczyna: Każda [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] odwołuje się do typu <xref:System.Windows.Application>, który mógł ulec zmianie).</span><span class="sxs-lookup"><span data-stu-id="cf4b4-199">If [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is declared as `ApplicationDefinition` in the project: recompile all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages (reason: each [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] has reference to an <xref:System.Windows.Application> type that may have changed).</span></span>

- <span data-ttu-id="cf4b4-200">Jeśli plik projektu deklaruje plik kodu jako definicję aplikacji zamiast pliku [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="cf4b4-200">If the project file declares a code file as application definition instead of a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file:</span></span>

  - <span data-ttu-id="cf4b4-201">Sprawdź, czy wartość `ApplicationClassName` w pliku projektu została zmieniona (czy istnieje nowy typ aplikacji?).</span><span class="sxs-lookup"><span data-stu-id="cf4b4-201">Check if the `ApplicationClassName` value in the project file has changed (is there a new application type?).</span></span> <span data-ttu-id="cf4b4-202">W takim przypadku należy ponownie skompilować całą aplikację.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-202">If so, recompile the entire application.</span></span>

  - <span data-ttu-id="cf4b4-203">W przeciwnym razie Skompiluj ponownie wszystkie [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] strony z odwołaniami lokalnymi.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-203">Otherwise, recompile all [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pages with local references.</span></span>

- <span data-ttu-id="cf4b4-204">Jeśli plik projektu ulegnie zmianie: Zastosuj wszystkie poprzednie reguły i zobacz, co należy ponownie skompilować.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-204">If a project file changes: apply all preceding rules and see what needs to be recompiled.</span></span> <span data-ttu-id="cf4b4-205">Zmiany następujących właściwości wyzwalają pełną ponowną kompilację: `AssemblyName`, `IntermediateOutputPath`, `RootNamespace`i `HostInBrowser`.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-205">Changes to the following properties trigger a complete recompile: `AssemblyName`, `IntermediateOutputPath`, `RootNamespace`, and `HostInBrowser`.</span></span>

<span data-ttu-id="cf4b4-206">Możliwe są następujące scenariusze ponownej kompilacji:</span><span class="sxs-lookup"><span data-stu-id="cf4b4-206">The following recompile scenarios are possible:</span></span>

- <span data-ttu-id="cf4b4-207">Cała aplikacja zostanie ponownie skompilowana.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-207">The entire application is recompiled.</span></span>

- <span data-ttu-id="cf4b4-208">Ponownie kompilowane są tylko te [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pliki, które mają lokalnie zdefiniowane odwołania do typów.</span><span class="sxs-lookup"><span data-stu-id="cf4b4-208">Only those [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] files that have locally defined type references are recompiled.</span></span>

- <span data-ttu-id="cf4b4-209">Nic nie jest ponownie kompilowane (Jeśli nic w projekcie nie zostało zmienione).</span><span class="sxs-lookup"><span data-stu-id="cf4b4-209">Nothing is recompiled (if nothing in the project has changed).</span></span>

## <a name="see-also"></a><span data-ttu-id="cf4b4-210">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="cf4b4-210">See also</span></span>

- [<span data-ttu-id="cf4b4-211">Wdrażanie aplikacji WPF</span><span class="sxs-lookup"><span data-stu-id="cf4b4-211">Deploying a WPF Application</span></span>](deploying-a-wpf-application-wpf.md)
- [<span data-ttu-id="cf4b4-212">Odwołanie do WPF MSBuild</span><span class="sxs-lookup"><span data-stu-id="cf4b4-212">WPF MSBuild Reference</span></span>](/visualstudio/msbuild/wpf-msbuild-reference)
- [<span data-ttu-id="cf4b4-213">Pakowanie URI w WPF</span><span class="sxs-lookup"><span data-stu-id="cf4b4-213">Pack URIs in WPF</span></span>](pack-uris-in-wpf.md)
- [<span data-ttu-id="cf4b4-214">Zasoby aplikacji WPF, zawartość i pliki danych</span><span class="sxs-lookup"><span data-stu-id="cf4b4-214">WPF Application Resource, Content, and Data Files</span></span>](wpf-application-resource-content-and-data-files.md)
