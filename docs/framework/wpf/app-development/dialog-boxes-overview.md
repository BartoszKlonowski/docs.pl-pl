---
title: Przegląd okien dialogowych
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- modeless dialog boxes [WPF]
- dialog boxes [WPF]
- message boxes [WPF]
- modal dialog boxes [WPF]
ms.assetid: 0d23d544-a393-4a02-a3aa-d8cd5d3d6511
ms.openlocfilehash: bf4617d838ba7f02523d7bbdbb57932c033f4a9e
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/22/2019
ms.locfileid: "69958674"
---
# <a name="dialog-boxes-overview"></a><span data-ttu-id="53e55-102">Okna dialogowe — Omówienie</span><span class="sxs-lookup"><span data-stu-id="53e55-102">Dialog boxes overview</span></span>
<span data-ttu-id="53e55-103">Aplikacje autonomiczne zwykle mają główne okno, które wyświetla główne dane, nad którymi działa aplikacja, i udostępnia funkcje do przetwarzania tych danych za pomocą [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] mechanizmów, takich jak paski menu, paski narzędzi i paski stanu.</span><span class="sxs-lookup"><span data-stu-id="53e55-103">Standalone applications typically have a main window that both displays the main data over which the application operates and exposes the functionality to process that data through [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] mechanisms like menu bars, tool bars, and status bars.</span></span> <span data-ttu-id="53e55-104">Nieuproszczona aplikacja może również wyświetlać dodatkowe okna, aby wykonać następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="53e55-104">A non-trivial application may also display additional windows to do the following:</span></span>  
  
- <span data-ttu-id="53e55-105">Wyświetl konkretne informacje dla użytkowników.</span><span class="sxs-lookup"><span data-stu-id="53e55-105">Display specific information to users.</span></span>  
  
- <span data-ttu-id="53e55-106">Zbierz informacje od użytkowników.</span><span class="sxs-lookup"><span data-stu-id="53e55-106">Gather information from users.</span></span>  
  
- <span data-ttu-id="53e55-107">Wyświetla i zbiera informacje.</span><span class="sxs-lookup"><span data-stu-id="53e55-107">Both display and gather information.</span></span>  
  
 <span data-ttu-id="53e55-108">Te typy okien są znane jako *okna dialogowe*, a istnieją dwa typy: modalne i niemodalne.</span><span class="sxs-lookup"><span data-stu-id="53e55-108">These types of windows are known as *dialog boxes*, and there are two types: modal and modeless.</span></span>  
  
 <span data-ttu-id="53e55-109">*Modalne* okno dialogowe jest wyświetlane przez funkcję, gdy funkcja wymaga dodatkowych danych od użytkownika, aby kontynuować.</span><span class="sxs-lookup"><span data-stu-id="53e55-109">A *modal* dialog box is displayed by a function when the function needs additional data from a user to continue.</span></span> <span data-ttu-id="53e55-110">Ponieważ funkcja jest zależna od modalnego okna dialogowego do zbierania danych, modalne okno dialogowe uniemożliwia również użytkownikowi aktywowanie innych okien w aplikacji, gdy pozostanie otwarte.</span><span class="sxs-lookup"><span data-stu-id="53e55-110">Because the function depends on the modal dialog box to gather data, the modal dialog box also prevents a user from activating other windows in the application while it remains open.</span></span> <span data-ttu-id="53e55-111">W większości przypadków modalne okno dialogowe umożliwia użytkownikowi sygnalizowanie po zakończeniu pracy z modalnym oknem dialogowym przez naciśnięcie przycisku **OK** lub **Anuluj** .</span><span class="sxs-lookup"><span data-stu-id="53e55-111">In most cases, a modal dialog box allows a user to signal when they have finished with the modal dialog box by pressing either an **OK** or **Cancel** button.</span></span> <span data-ttu-id="53e55-112">Naciśnięcie przycisku **OK** oznacza, że użytkownik wprowadził dane i chce, aby funkcja kontynuowała przetwarzanie za pomocą tych danych.</span><span class="sxs-lookup"><span data-stu-id="53e55-112">Pressing the **OK** button indicates that a user has entered data and wants the function to continue processing with that data.</span></span> <span data-ttu-id="53e55-113">Naciśnięcie przycisku **Anuluj** oznacza, że użytkownik chce zatrzymać wykonywanie funkcji całkowicie.</span><span class="sxs-lookup"><span data-stu-id="53e55-113">Pressing the **Cancel** button indicates that a user wants to stop the function from executing altogether.</span></span> <span data-ttu-id="53e55-114">Najbardziej typowe przykłady modalnych okien dialogowych są wyświetlane, aby otwierać, zapisywać i drukować dane.</span><span class="sxs-lookup"><span data-stu-id="53e55-114">The most common examples of modal dialog boxes are shown to open, save, and print data.</span></span>  
  
 <span data-ttu-id="53e55-115">Niemodalne okno dialogowe, z drugiej strony, nie uniemożliwia użytkownikowi aktywowania innych okien, gdy jest otwarty.</span><span class="sxs-lookup"><span data-stu-id="53e55-115">A *modeless* dialog box, on the other hand, does not prevent a user from activating other windows while it is open.</span></span> <span data-ttu-id="53e55-116">Na przykład, jeśli użytkownik chce znaleźć wystąpienia określonego wyrazu w dokumencie, okno główne często otwiera okno dialogowe z monitem o wyszukanie użytkownika.</span><span class="sxs-lookup"><span data-stu-id="53e55-116">For example, if a user wants to find occurrences of a particular word in a document, a main window will often open a dialog box to ask a user what word they are looking for.</span></span> <span data-ttu-id="53e55-117">Ponieważ znalezienie słowa nie zapobiega edytowaniu dokumentu przez użytkownika, okno dialogowe nie musi być modalne.</span><span class="sxs-lookup"><span data-stu-id="53e55-117">Since finding a word doesn't prevent a user from editing the document, however, the dialog box doesn't need to be modal.</span></span> <span data-ttu-id="53e55-118">Niemodalne okno dialogowe z co najmniej udostępnia przycisk **Zamknij** , aby zamknąć okno dialogowe i może udostępnić dodatkowe przyciski do wykonywania określonych funkcji, takich jak przycisk **Znajdź dalej** , aby znaleźć następny wyraz, który pasuje do kryteriów wyszukiwania szukanych wyrazów.</span><span class="sxs-lookup"><span data-stu-id="53e55-118">A modeless dialog box at least provides a **Close** button to close the dialog box, and may provide additional buttons to execute specific functions, such as a **Find Next** button to find the next word that matches the find criteria of a word search.</span></span>  
  
 <span data-ttu-id="53e55-119">Windows Presentation Foundation (WPF) umożliwia tworzenie kilku typów okien dialogowych, w tym pól komunikatów, wspólnych okien dialogowych i niestandardowych okien dialogowych.</span><span class="sxs-lookup"><span data-stu-id="53e55-119">Windows Presentation Foundation (WPF) allows you to create several types of dialog boxes, including message boxes, common dialog boxes, and custom dialog boxes.</span></span> <span data-ttu-id="53e55-120">W tym temacie omówiono każdy i [przykład okna dialogowego](https://go.microsoft.com/fwlink/?LinkID=159984) zawiera pasujące przykłady.</span><span class="sxs-lookup"><span data-stu-id="53e55-120">This topic discusses each, and the [Dialog Box Sample](https://go.microsoft.com/fwlink/?LinkID=159984) provides matching examples.</span></span>  

<a name="Message_Boxes"></a>   
## <a name="message-boxes"></a><span data-ttu-id="53e55-121">Okna komunikatów</span><span class="sxs-lookup"><span data-stu-id="53e55-121">Message boxes</span></span>  
 <span data-ttu-id="53e55-122">*Okno komunikatu* to okno dialogowe, za pomocą którego można wyświetlić informacje tekstowe i umożliwić użytkownikom podejmowanie decyzji przy użyciu przycisków.</span><span class="sxs-lookup"><span data-stu-id="53e55-122">A *message box* is a dialog box that can be used to display textual information and to allow users to make decisions with buttons.</span></span> <span data-ttu-id="53e55-123">Na poniższej ilustracji przedstawiono okno komunikatu, które wyświetla informacje tekstowe, prosi o pytanie i udostępnia użytkownikowi trzy przyciski, aby odpowiedzieć na pytanie.</span><span class="sxs-lookup"><span data-stu-id="53e55-123">The following figure shows a message box that displays textual information, asks a question, and provides the user with three buttons to answer the question.</span></span>  
  
 ![Okno dialogowe Edytor tekstów z pytaniem, czy chcesz zapisać zmiany w dokumencie przed zamknięciem aplikacji.](./media/dialog-boxes-overview/word-processor-dialog.png)  
  
 <span data-ttu-id="53e55-125">Aby utworzyć okno komunikatu, użyj <xref:System.Windows.MessageBox> klasy.</span><span class="sxs-lookup"><span data-stu-id="53e55-125">To create a message box, you use the <xref:System.Windows.MessageBox> class.</span></span> <span data-ttu-id="53e55-126"><xref:System.Windows.MessageBox>umożliwia skonfigurowanie tekstu, tytułu, ikony i przycisków okna komunikatu przy użyciu kodu, takiego jak poniższy.</span><span class="sxs-lookup"><span data-stu-id="53e55-126"><xref:System.Windows.MessageBox> lets you configure the message box text, title, icon, and buttons, using code like the following.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#MsgBoxConfigureCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#msgboxconfigurecodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#MsgBoxConfigureCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#msgboxconfigurecodebehind)]  
  
 <span data-ttu-id="53e55-127">Aby wyświetlić okno komunikatu, należy wywołać `static` <xref:System.Windows.MessageBox.Show%2A> metodę, jak pokazano w poniższym kodzie.</span><span class="sxs-lookup"><span data-stu-id="53e55-127">To show a message box, you call the `static`<xref:System.Windows.MessageBox.Show%2A> method, as demonstrated in the following code.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#MsgBoxShowCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#msgboxshowcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#MsgBoxShowCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#msgboxshowcodebehind)]  
  
 <span data-ttu-id="53e55-128">Gdy kod, który pokazuje okno komunikatu, musi wykryć i przetworzyć decyzję użytkownika (który został naciśnięty przycisk), kod może sprawdzić wynik okna komunikatu, jak pokazano w poniższym kodzie.</span><span class="sxs-lookup"><span data-stu-id="53e55-128">When code that shows a message box needs to detect and process the user's decision (which button was pressed), the code can inspect the message box result, as shown in the following code.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#MsgBoxShowAndResultCODEBEHIND1](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#msgboxshowandresultcodebehind1)]
 [!code-vb[DialogBoxesOverviewSnippets#MsgBoxShowAndResultCODEBEHIND1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#msgboxshowandresultcodebehind1)]  
  
 <span data-ttu-id="53e55-129">Aby uzyskać więcej informacji na temat korzystania z okien <xref:System.Windows.MessageBox>komunikatów, zobacz, [przykład MessageBox](https://go.microsoft.com/fwlink/?LinkID=160023)i [okna dialogowego](https://go.microsoft.com/fwlink/?LinkID=159984).</span><span class="sxs-lookup"><span data-stu-id="53e55-129">For more information on using message boxes, see <xref:System.Windows.MessageBox>, [MessageBox Sample](https://go.microsoft.com/fwlink/?LinkID=160023), and [Dialog Box Sample](https://go.microsoft.com/fwlink/?LinkID=159984).</span></span>  
  
 <span data-ttu-id="53e55-130">Chociaż <xref:System.Windows.MessageBox> może oferować proste środowisko użytkownika okna dialogowego, zaletą korzystania <xref:System.Windows.MessageBox> z programu jest tylko typ okna, który może być pokazywany przez aplikacje działające w obszarze piaskownicy zabezpieczeń częściowej relacji zaufania (zobacz [zabezpieczenia](../security-wpf.md)), np [!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="53e55-130">Although <xref:System.Windows.MessageBox> may offer a simple dialog box user experience, the advantage of using <xref:System.Windows.MessageBox> is that is the only type of window that can be shown by applications that run within a partial trust security sandbox (see [Security](../security-wpf.md)), such as [!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)].</span></span>  
  
 <span data-ttu-id="53e55-131">Większość okien dialogowych wyświetla i zbiera bardziej złożone dane niż wynik okna komunikatu, w tym tekst, zaznaczenie (pola wyboru), wzajemnie wykluczające się zaznaczenie (przyciski radiowe) i wybór listy (pola listy, pola kombi, pola listy rozwijanej).</span><span class="sxs-lookup"><span data-stu-id="53e55-131">Most dialog boxes display and gather more complex data than the result of a message box, including text, selection (check boxes), mutually exclusive selection (radio buttons), and list selection (list boxes, combo boxes, drop-down list boxes).</span></span> <span data-ttu-id="53e55-132">Dla tych Windows Presentation Foundation (WPF) udostępnia kilka wspólnych okien dialogowych i umożliwia tworzenie własnych okien dialogowych, chociaż korzystanie z nich jest ograniczone do aplikacji działających z pełnym zaufaniem.</span><span class="sxs-lookup"><span data-stu-id="53e55-132">For these, Windows Presentation Foundation (WPF) provides several common dialog boxes and allows you to create your own dialog boxes, although the use of either is limited to applications running with full trust.</span></span>  
  
<a name="Common_Dialogs"></a>   
## <a name="common-dialog-boxes"></a><span data-ttu-id="53e55-133">Wspólne okna dialogowe</span><span class="sxs-lookup"><span data-stu-id="53e55-133">Common dialog boxes</span></span>  
 <span data-ttu-id="53e55-134">System Windows implementuje różne okna dialogowe wielokrotnego użytku, które są wspólne dla wszystkich aplikacji, w tym okna dialogowe do otwierania plików, zapisywania plików i drukowania.</span><span class="sxs-lookup"><span data-stu-id="53e55-134">Windows implements a variety of reusable dialog boxes that are common to all applications, including dialog boxes for opening files, saving files, and printing.</span></span> <span data-ttu-id="53e55-135">Ponieważ te okna dialogowe są implementowane przez system operacyjny, mogą być współużytkowane przez wszystkie aplikacje działające w systemie operacyjnym, co pomaga zapewnić spójność środowiska użytkownika. gdy użytkownicy znają korzystanie z okna dialogowego dostarczonego przez system operacyjny w jednej aplikacji, nie muszą dowiedzieć się, jak korzystać z tego okna dialogowego w innych aplikacjach.</span><span class="sxs-lookup"><span data-stu-id="53e55-135">Since these dialog boxes are implemented by the operating system, they can be shared among all the applications that run on the operating system, which helps user experience consistency; when users are familiar with the use of an operating system-provided dialog box in one application, they don't need to learn how to use that dialog box in other applications.</span></span> <span data-ttu-id="53e55-136">Ponieważ te okna dialogowe są dostępne dla wszystkich aplikacji, a ponieważ zapewniają spójne środowisko użytkownika, są one znane jako *wspólne okna dialogowe*.</span><span class="sxs-lookup"><span data-stu-id="53e55-136">Because these dialog boxes are available to all applications and because they help provide a consistent user experience, they are known as *common dialog boxes*.</span></span>  
  
 <span data-ttu-id="53e55-137">Windows Presentation Foundation (WPF) hermetyzuje okna dialogowe Otwórz plik, Zapisz plik i Drukuj, które udostępniają je jako klasy zarządzane do użycia w aplikacjach autonomicznych.</span><span class="sxs-lookup"><span data-stu-id="53e55-137">Windows Presentation Foundation (WPF) encapsulates the open file, save file, and print common dialog boxes and exposes them as managed classes for you to use in standalone applications.</span></span> <span data-ttu-id="53e55-138">Ten temat zawiera krótkie omówienie każdego z nich.</span><span class="sxs-lookup"><span data-stu-id="53e55-138">This topic provides a brief overview of each.</span></span>  
  
<a name="Open_File_Dialog"></a>   
### <a name="open-file-dialog"></a><span data-ttu-id="53e55-139">Otwórz okno dialogowe pliku</span><span class="sxs-lookup"><span data-stu-id="53e55-139">Open File dialog</span></span>  
 <span data-ttu-id="53e55-140">Okno dialogowe Otwórz plik, pokazane na poniższym rysunku, jest używane przez funkcję otwierania plików do pobrania nazwy pliku do otwarcia.</span><span class="sxs-lookup"><span data-stu-id="53e55-140">The open file dialog box, shown in the following figure, is used by file opening functionality to retrieve the name of a file to open.</span></span>  
  
 ![Otwarte okno dialogowe pokazujące lokalizację, w której ma zostać pobrany plik.](./media/dialog-boxes-overview/open-file-dialog-box.png)  
  
 <span data-ttu-id="53e55-142">Okno dialogowe Common Open File jest zaimplementowane jako <xref:Microsoft.Win32.OpenFileDialog> Klasa i znajduje się <xref:Microsoft.Win32> w przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="53e55-142">The common open file dialog box is implemented as the <xref:Microsoft.Win32.OpenFileDialog> class and is located in the <xref:Microsoft.Win32> namespace.</span></span> <span data-ttu-id="53e55-143">Poniższy kod pokazuje, jak tworzyć, konfigurować i wyświetlać je oraz jak przetwarzać wynik.</span><span class="sxs-lookup"><span data-stu-id="53e55-143">The following code shows how to create, configure, and show one, and how to process the result.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#OpenFileDialogBoxCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#openfiledialogboxcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#OpenFileDialogBoxCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#openfiledialogboxcodebehind)]  
  
 <span data-ttu-id="53e55-144">Aby uzyskać więcej informacji na temat okna dialogowego Otwórz plik, <xref:Microsoft.Win32.OpenFileDialog?displayProperty=nameWithType>Zobacz.</span><span class="sxs-lookup"><span data-stu-id="53e55-144">For more information on the open file dialog box, see <xref:Microsoft.Win32.OpenFileDialog?displayProperty=nameWithType>.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="53e55-145"><xref:Microsoft.Win32.OpenFileDialog>może służyć do bezpiecznego pobierania nazw plików przez aplikacje działające z częściowym zaufaniem (zobacz [zabezpieczenia](../security-wpf.md)).</span><span class="sxs-lookup"><span data-stu-id="53e55-145"><xref:Microsoft.Win32.OpenFileDialog> can be used to safely retrieve file names by applications running with partial trust (see [Security](../security-wpf.md)).</span></span>  
  
<a name="Save_File_Dialog"></a>   
### <a name="save-file-dialog-box"></a><span data-ttu-id="53e55-146">Zapisz Plik — Okno dialogowe</span><span class="sxs-lookup"><span data-stu-id="53e55-146">Save File dialog box</span></span>  
 <span data-ttu-id="53e55-147">Okno dialogowe Zapisz plik, pokazane na poniższym rysunku, jest używane przez funkcję zapisywania plików do pobrania nazwy pliku do zapisania.</span><span class="sxs-lookup"><span data-stu-id="53e55-147">The save file dialog box, shown in the following figure, is used by file saving functionality to retrieve the name of a file to save.</span></span>  
  
 ![Okno dialogowe Zapisz jako z lokalizacją, w której ma zostać zapisany plik.](./media/dialog-boxes-overview/save-file-dialog-box.png)  
  
 <span data-ttu-id="53e55-149">Okno dialogowe często zapisywanego pliku jest zaimplementowane jako <xref:Microsoft.Win32.SaveFileDialog> Klasa i znajduje się <xref:Microsoft.Win32> w przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="53e55-149">The common save file dialog box is implemented as the <xref:Microsoft.Win32.SaveFileDialog> class, and is located in the <xref:Microsoft.Win32> namespace.</span></span> <span data-ttu-id="53e55-150">Poniższy kod pokazuje, jak tworzyć, konfigurować i wyświetlać je oraz jak przetwarzać wynik.</span><span class="sxs-lookup"><span data-stu-id="53e55-150">The following code shows how to create, configure, and show one, and how to process the result.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#SaveFileDialogBoxCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#savefiledialogboxcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#SaveFileDialogBoxCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#savefiledialogboxcodebehind)]  
  
 <span data-ttu-id="53e55-151">Aby uzyskać więcej informacji na temat okna dialogowego Zapisywanie pliku, <xref:Microsoft.Win32.SaveFileDialog?displayProperty=nameWithType>Zobacz.</span><span class="sxs-lookup"><span data-stu-id="53e55-151">For more information on the save file dialog box, see <xref:Microsoft.Win32.SaveFileDialog?displayProperty=nameWithType>.</span></span>  
  
<a name="Print_Dialog"></a>   
### <a name="print-dialog-box"></a><span data-ttu-id="53e55-152">Drukuj — Okno dialogowe</span><span class="sxs-lookup"><span data-stu-id="53e55-152">Print dialog box</span></span>

<span data-ttu-id="53e55-153">Okno dialogowe Drukowanie, pokazane na poniższym rysunku, jest używane przez funkcję drukowania do wybierania i konfigurowania drukarki, do której użytkownik chce drukować dane.</span><span class="sxs-lookup"><span data-stu-id="53e55-153">The print dialog box, shown in the following figure, is used by printing functionality to choose and configure the printer that a user would like to print data to.</span></span>  
  
![Zrzut ekranu przedstawiający okno dialogowe Drukowanie.](./media/dialog-boxes-overview/print-data-dialog-box.png)  
  
<span data-ttu-id="53e55-155">Wspólne okno dialogowe drukowania jest zaimplementowane jako <xref:System.Windows.Controls.PrintDialog> Klasa i znajduje się <xref:System.Windows.Controls> w przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="53e55-155">The common print dialog box is implemented as the <xref:System.Windows.Controls.PrintDialog> class, and is located in the <xref:System.Windows.Controls> namespace.</span></span> <span data-ttu-id="53e55-156">Poniższy kod przedstawia sposób tworzenia, konfigurowania i wyświetlania jednego z nich.</span><span class="sxs-lookup"><span data-stu-id="53e55-156">The following code shows how to create, configure, and show one.</span></span>  
  
 [!code-csharp[DialogBoxesOverviewSnippets#PrintDialogBoxCODEBEHIND](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/CSharp/Window1.xaml.cs#printdialogboxcodebehind)]
 [!code-vb[DialogBoxesOverviewSnippets#PrintDialogBoxCODEBEHIND](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxesOverviewSnippets/VisualBasic/window1.xaml.vb#printdialogboxcodebehind)]  
  
 <span data-ttu-id="53e55-157">Aby uzyskać więcej informacji na temat okna dialogowego drukowanie, <xref:System.Windows.Controls.PrintDialog?displayProperty=nameWithType>Zobacz.</span><span class="sxs-lookup"><span data-stu-id="53e55-157">For more information on the print dialog box, see <xref:System.Windows.Controls.PrintDialog?displayProperty=nameWithType>.</span></span> <span data-ttu-id="53e55-158">Aby uzyskać szczegółowe omówienie drukowania w WPF, zobacz [Omówienie drukowania](../advanced/printing-overview.md).</span><span class="sxs-lookup"><span data-stu-id="53e55-158">For detailed discussion of printing in WPF, see [Printing Overview](../advanced/printing-overview.md).</span></span>  
  
<a name="Custom_Dialog_Boxes"></a>   
## <a name="custom-dialog-boxes"></a><span data-ttu-id="53e55-159">Niestandardowe okna dialogowe</span><span class="sxs-lookup"><span data-stu-id="53e55-159">Custom dialog boxes</span></span>

<span data-ttu-id="53e55-160">Chociaż wspólne okna dialogowe są przydatne i powinny być używane, jeśli jest to możliwe, nie obsługują wymagań okien dialogowych specyficznych dla domeny.</span><span class="sxs-lookup"><span data-stu-id="53e55-160">While common dialog boxes are useful, and should be used when possible, they do not support the requirements of domain-specific dialog boxes.</span></span> <span data-ttu-id="53e55-161">W takich przypadkach należy utworzyć własne okna dialogowe.</span><span class="sxs-lookup"><span data-stu-id="53e55-161">In these cases, you need to create your own dialog boxes.</span></span> <span data-ttu-id="53e55-162">Jak zobaczymy, okno dialogowe jest oknem z zachowaniem specjalnym.</span><span class="sxs-lookup"><span data-stu-id="53e55-162">As we'll see, a dialog box is a window with special behaviors.</span></span> <span data-ttu-id="53e55-163"><xref:System.Windows.Window>implementuje te zachowania i, w związku z tym, <xref:System.Windows.Window> służy do tworzenia niestandardowych modalnych i niemodalnych okien dialogowych.</span><span class="sxs-lookup"><span data-stu-id="53e55-163"><xref:System.Windows.Window> implements those behaviors and, consequently, you use <xref:System.Windows.Window> to create custom modal and modeless dialog boxes.</span></span>  
  
<a name="Creating_a_Modal_Custom_Dialog_Box"></a>   
### <a name="creating-a-modal-custom-dialog-box"></a><span data-ttu-id="53e55-164">Tworzenie modalnego niestandardowego okna dialogowego</span><span class="sxs-lookup"><span data-stu-id="53e55-164">Creating a modal custom dialog box</span></span>

<span data-ttu-id="53e55-165">W tym temacie przedstawiono sposób użycia <xref:System.Windows.Window> programu do tworzenia typowej implementacji modalnego okna dialogowego `Margins` przy użyciu okna dialogowego jako przykładu (zobacz [przykład okna dialogowego](https://go.microsoft.com/fwlink/?LinkID=159984)).</span><span class="sxs-lookup"><span data-stu-id="53e55-165">This topic shows how to use <xref:System.Windows.Window> to create a typical modal dialog box implementation, using the `Margins` dialog box as an example (see [Dialog Box Sample](https://go.microsoft.com/fwlink/?LinkID=159984)).</span></span> <span data-ttu-id="53e55-166">To `Margins` okno dialogowe jest pokazane na poniższym rysunku.</span><span class="sxs-lookup"><span data-stu-id="53e55-166">The `Margins` dialog box is shown in the following figure.</span></span>  
  
 ![Okno dialogowe marginesów z polami do definiowania lewego marginesu, górnego marginesu, prawego marginesu i dolnego marginesu.](./media/dialog-boxes-overview/margin-size-dialog-box.png)  
  
#### <a name="configuring-a-modal-dialog-box"></a><span data-ttu-id="53e55-168">Konfigurowanie modalnego okna dialogowego</span><span class="sxs-lookup"><span data-stu-id="53e55-168">Configuring a modal dialog box</span></span>

<span data-ttu-id="53e55-169">Interfejs użytkownika typowego okna dialogowego zawiera następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="53e55-169">The user interface for a typical dialog box includes the following:</span></span>  
  
- <span data-ttu-id="53e55-170">Różne kontrolki, które są wymagane do zebrania żądanych danych.</span><span class="sxs-lookup"><span data-stu-id="53e55-170">The various controls that are required to gather the desired data.</span></span>  
  
- <span data-ttu-id="53e55-171">Kliknij przycisk **OK** , aby zamknąć okno dialogowe, Wróć do funkcji i Kontynuuj przetwarzanie.</span><span class="sxs-lookup"><span data-stu-id="53e55-171">An **OK** button that users click to close the dialog box, return to the function, and continue processing.</span></span>  
  
- <span data-ttu-id="53e55-172">Przycisk **Anuluj** kliknięty przez użytkowników, aby zamknąć okno dialogowe i zatrzymać funkcję od dalszej obróbki.</span><span class="sxs-lookup"><span data-stu-id="53e55-172">A **Cancel** button that users click to close the dialog box and stop the function from further processing.</span></span>  
  
- <span data-ttu-id="53e55-173">Przycisk **Zamknij** na pasku tytułu.</span><span class="sxs-lookup"><span data-stu-id="53e55-173">A **Close** button in the title bar.</span></span>  
  
- <span data-ttu-id="53e55-174">Ikona.</span><span class="sxs-lookup"><span data-stu-id="53e55-174">An icon.</span></span>  
  
- <span data-ttu-id="53e55-175">Przyciski **Minimalizuj**, **Maksymalizuj**i **Przywróć** .</span><span class="sxs-lookup"><span data-stu-id="53e55-175">**Minimize**, **Maximize**, and **Restore** buttons.</span></span>  
  
- <span data-ttu-id="53e55-176">Menu **systemowe** umożliwiające minimalizowanie, zmaksymalizowanie, przywrócenie i zamknięcie okna dialogowego.</span><span class="sxs-lookup"><span data-stu-id="53e55-176">A **System** menu to minimize, maximize, restore, and close the dialog box.</span></span>  
  
- <span data-ttu-id="53e55-177">Pozycja powyżej i w środku okna, które otworzyło okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="53e55-177">A position above and in the center of the window that opened the dialog box.</span></span>  
  
- <span data-ttu-id="53e55-178">Możliwość zmiany rozmiaru w miarę możliwości, aby zapobiec zbyt małym oknem okna dialogowego i zapewnić użytkownikowi przydatny rozmiar domyślny.</span><span class="sxs-lookup"><span data-stu-id="53e55-178">The ability to be resized where possible to prevent the dialog box from being too small, and to provide the user with a useful default size.</span></span> <span data-ttu-id="53e55-179">Wymaga to ustawienia domyślnego i minimalnego wymiaru.</span><span class="sxs-lookup"><span data-stu-id="53e55-179">This requires that you set both the default and a minimum dimensions.</span></span>  
  
- <span data-ttu-id="53e55-180">Klawisz ESC jako skrót klawiaturowy, który powoduje naciśnięcie przycisku **Anuluj** .</span><span class="sxs-lookup"><span data-stu-id="53e55-180">The ESC key as a keyboard shortcut that causes the **Cancel** button to be pressed.</span></span> <span data-ttu-id="53e55-181">W tym celu należy ustawić <xref:System.Windows.Controls.Button.IsCancel%2A> właściwość przycisku **Anuluj** na. `true`</span><span class="sxs-lookup"><span data-stu-id="53e55-181">You do this by setting the <xref:System.Windows.Controls.Button.IsCancel%2A> property of the **Cancel** button to `true`.</span></span>  
  
- <span data-ttu-id="53e55-182">Klawisz ENTER (lub RETURN) jako skrót klawiaturowy, który powoduje naciśnięcie przycisku **OK** .</span><span class="sxs-lookup"><span data-stu-id="53e55-182">The ENTER (or RETURN) key as a keyboard shortcut that causes the **OK** button to be pressed.</span></span> <span data-ttu-id="53e55-183">W tym celu należy ustawić <xref:System.Windows.Controls.Button.IsDefault%2A> właściwość przycisku `true`OK.</span><span class="sxs-lookup"><span data-stu-id="53e55-183">You do this by setting the <xref:System.Windows.Controls.Button.IsDefault%2A> property of the **OK** button `true`.</span></span>  
  
<span data-ttu-id="53e55-184">Poniższy kod ilustruje tę konfigurację.</span><span class="sxs-lookup"><span data-stu-id="53e55-184">The following code demonstrates this configuration.</span></span>  
  
[!code-xaml[MarginsDialogBox XAML file](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml?range=1-16,106-112)]  

[!code-csharp[MarginsDialogBox C# code-behind](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-12,67-68)]
[!code-vb[MarginsDialogBox VB code-behind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-11,61-62)]  
  
<span data-ttu-id="53e55-185">Środowisko użytkownika dla okna dialogowego rozciąga się również na pasek menu okna dialogowego, które otwiera okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="53e55-185">The user experience for a dialog box also extends into the menu bar of the window that opens the dialog box.</span></span> <span data-ttu-id="53e55-186">Gdy element menu uruchamia funkcję, która wymaga interakcji użytkownika za pomocą okna dialogowego, zanim będzie można kontynuować działanie, element menu dla funkcji będzie miał wielokropek w nagłówku, jak pokazano poniżej.</span><span class="sxs-lookup"><span data-stu-id="53e55-186">When a menu item runs a function that requires user interaction through a dialog box before the function can continue, the menu item for the function will have an ellipsis in its header, as shown here.</span></span>  
  
[!code-xaml[Menu bar of MainWindow.Xaml file](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml#L26-L27)]  
  
<span data-ttu-id="53e55-187">Gdy element menu uruchamia funkcję, która wyświetla okno dialogowe, które nie wymaga interakcji z użytkownikiem, takie jak okno dialogowe informacje, wielokropek nie jest wymagany.</span><span class="sxs-lookup"><span data-stu-id="53e55-187">When a menu item runs a function that displays a dialog box which does not require user interaction, such as an About dialog box, an ellipsis is not required.</span></span>  
  
#### <a name="opening-a-modal-dialog-box"></a><span data-ttu-id="53e55-188">Otwieranie modalnego okna dialogowego</span><span class="sxs-lookup"><span data-stu-id="53e55-188">Opening a modal dialog box</span></span>

<span data-ttu-id="53e55-189">Okno dialogowe jest zwykle wyświetlane jako wynik użytkownika, który wybiera element menu do wykonania funkcji specyficznej dla domeny, na przykład ustawiając marginesy dokumentu w edytorze tekstów.</span><span class="sxs-lookup"><span data-stu-id="53e55-189">A dialog box is typically shown as a result of a user selecting a menu item to perform a domain-specific function, such as setting the margins of a document in a word processor.</span></span> <span data-ttu-id="53e55-190">Wyświetlanie okna jako okno dialogowe jest podobne do wyświetlania normalnego okna, chociaż wymaga dodatkowej konfiguracji specyficznej dla okna dialogowego.</span><span class="sxs-lookup"><span data-stu-id="53e55-190">Showing a window as a dialog box is similar to showing a normal window, although it requires additional dialog box-specific configuration.</span></span> <span data-ttu-id="53e55-191">W poniższym kodzie pokazano cały proces tworzenia wystąpienia, konfigurowania i otwierania okna dialogowego.</span><span class="sxs-lookup"><span data-stu-id="53e55-191">The entire process of instantiating, configuring, and opening a dialog box is shown in the following code.</span></span>  
  
[!code-csharp[Opening a modal dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-11,78-88,193-195)]
[!code-vb[Opening a modal dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,58-67,130-132)]  

<span data-ttu-id="53e55-192">W tym miejscu kod przekazuje domyślne informacje (bieżące marginesy) do okna dialogowego.</span><span class="sxs-lookup"><span data-stu-id="53e55-192">Here, the code passes default information (the current margins) to the dialog box.</span></span> <span data-ttu-id="53e55-193">Ustawia <xref:System.Windows.Window.Owner%2A?displayProperty=nameWithType> również właściwość z odwołaniem do okna, które jest wyświetlane okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="53e55-193">It also sets the <xref:System.Windows.Window.Owner%2A?displayProperty=nameWithType> property with a reference to the window that is showing the dialog box.</span></span> <span data-ttu-id="53e55-194">Ogólnie rzecz biorąc, należy zawsze ustawić właściciela dla okna dialogowego, aby podać zachowania związane ze stanem okna, które są wspólne dla wszystkich okien dialogowych (zobacz [Omówienie systemu Windows WPF](wpf-windows-overview.md) , aby uzyskać więcej informacji).</span><span class="sxs-lookup"><span data-stu-id="53e55-194">In general, you should always set the owner for a dialog box to provide window state-related behaviors that are common to all dialog boxes (see [WPF Windows Overview](wpf-windows-overview.md) for more information).</span></span>

> [!NOTE]
> <span data-ttu-id="53e55-195">Musisz podać właściciela, aby obsługiwał automatyzację interfejsu użytkownika (UI) dla okien dialogowych (zobacz [Automatyzacja interfejsu](../../ui-automation/ui-automation-overview.md)użytkownika).</span><span class="sxs-lookup"><span data-stu-id="53e55-195">You must provide an owner to support user interface (UI) automation for dialog boxes (see [UI Automation Overview](../../ui-automation/ui-automation-overview.md)).</span></span>

<span data-ttu-id="53e55-196">Po skonfigurowaniu okna dialogowego zostanie ono wyświetlone w <xref:System.Windows.Window.ShowDialog%2A> sposób modalny przez wywołanie metody.</span><span class="sxs-lookup"><span data-stu-id="53e55-196">After the dialog box is configured, it is shown modally by calling the <xref:System.Windows.Window.ShowDialog%2A> method.</span></span>  
  
#### <a name="validating-user-provided-data"></a><span data-ttu-id="53e55-197">Sprawdzanie poprawności danych dostarczonych przez użytkownika</span><span class="sxs-lookup"><span data-stu-id="53e55-197">Validating user-provided data</span></span>

<span data-ttu-id="53e55-198">Gdy okno dialogowe zostanie otwarte, a użytkownik poda wymagane dane, okno dialogowe jest odpowiedzialne za upewnienie się, że podane dane są prawidłowe z następujących powodów:</span><span class="sxs-lookup"><span data-stu-id="53e55-198">When a dialog box is opened and the user provides the required data, a dialog box is responsible for ensuring that the provided data is valid for the following reasons:</span></span>  
  
- <span data-ttu-id="53e55-199">Z punktu widzenia zabezpieczeń należy sprawdzić poprawność wszystkich danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="53e55-199">From a security perspective, all input should be validated.</span></span>  
  
- <span data-ttu-id="53e55-200">W perspektywie specyficznej dla domeny weryfikacja danych uniemożliwia przetwarzanie błędnych danych przez kod, co może potencjalnie zgłosić wyjątki.</span><span class="sxs-lookup"><span data-stu-id="53e55-200">From a domain-specific perspective, data validation prevents erroneous data from being processed by the code, which could potentially throw exceptions.</span></span>  
  
- <span data-ttu-id="53e55-201">Z perspektywy użytkownika, okno dialogowe może ułatwić użytkownikom wyświetlanie, które wprowadzone przez siebie dane są nieprawidłowe.</span><span class="sxs-lookup"><span data-stu-id="53e55-201">From a user-experience perspective, a dialog box can help users by showing them which data they have entered is invalid.</span></span>  
  
- <span data-ttu-id="53e55-202">Z punktu widzenia wydajności sprawdzanie poprawności danych w aplikacji wielowarstwowej może zmniejszyć liczbę rund między klientem a warstwami aplikacji, zwłaszcza gdy aplikacja składa się z usług sieci Web lub baz danych opartych na serwerze.</span><span class="sxs-lookup"><span data-stu-id="53e55-202">From a performance perspective, data validation in a multi-tier application can reduce the number of round trips between the client and the application tiers, particularly when the application is composed of Web services or server-based databases.</span></span>  

<span data-ttu-id="53e55-203">Aby sprawdzić poprawność kontroli powiązanej w WPF, należy zdefiniować regułę walidacji i skojarzyć ją z powiązaniem.</span><span class="sxs-lookup"><span data-stu-id="53e55-203">To validate a bound control in WPF, you need to define a validation rule and associate it with the binding.</span></span> <span data-ttu-id="53e55-204">Reguła walidacji jest klasą niestandardową, <xref:System.Windows.Controls.ValidationRule>która pochodzi od.</span><span class="sxs-lookup"><span data-stu-id="53e55-204">A validation rule is a custom class that derives from <xref:System.Windows.Controls.ValidationRule>.</span></span> <span data-ttu-id="53e55-205">Poniższy przykład pokazuje regułę `MarginValidationRule`walidacji, która sprawdza, czy wartość związana <xref:System.Double> jest i znajduje się w określonym zakresie.</span><span class="sxs-lookup"><span data-stu-id="53e55-205">The following example shows a validation rule, `MarginValidationRule`, which checks that a bound value is a <xref:System.Double> and is within a specified range.</span></span>  

[!code-csharp[Margin validation rules](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginValidationRule.cs)]
[!code-vb[Margin validation rules](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginValidationRule.vb)]  

<span data-ttu-id="53e55-206">W tym kodzie logika walidacji reguły walidacji jest implementowana przez zastąpienie <xref:System.Windows.Controls.ValidationRule.Validate%2A> metody, która sprawdza poprawność danych i zwraca odpowiednią. <xref:System.Windows.Controls.ValidationResult></span><span class="sxs-lookup"><span data-stu-id="53e55-206">In this code, the validation logic of a validation rule is implemented by overriding the <xref:System.Windows.Controls.ValidationRule.Validate%2A> method, which validates the data and returns an appropriate <xref:System.Windows.Controls.ValidationResult>.</span></span>  

<span data-ttu-id="53e55-207">Aby skojarzyć regułę walidacji z kontrolką powiązaną, należy użyć następującego znacznika.</span><span class="sxs-lookup"><span data-stu-id="53e55-207">To associate the validation rule with the bound control, you use the following markup.</span></span>  
  
[!code-xaml[Associating a validation rule with a control](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml?range=1-16,57-68,111-112)]

<span data-ttu-id="53e55-208">Po skojarzeniu reguły walidacji program WPF automatycznie zastosuje ją po wprowadzeniu danych do kontrolki powiązanej.</span><span class="sxs-lookup"><span data-stu-id="53e55-208">Once the validation rule is associated, WPF will automatically apply it when data is entered into the bound control.</span></span> <span data-ttu-id="53e55-209">Gdy kontrolka zawiera nieprawidłowe dane, WPF wyświetli czerwone obramowanie wokół nieprawidłowej kontrolki, jak pokazano na poniższej ilustracji.</span><span class="sxs-lookup"><span data-stu-id="53e55-209">When a control contains invalid data, WPF will display a red border around the invalid control, as shown in the following figure.</span></span>  
  
![Okno dialogowe marginesów z czerwonym obramowaniem wokół nieprawidłowej wartości lewego marginesu.](./media/dialog-boxes-overview/invalid-left-margin-dialog.png)  

<span data-ttu-id="53e55-211">Funkcja WPF nie ogranicza użytkownika do nieprawidłowej kontrolki, dopóki nie wprowadzili prawidłowych danych.</span><span class="sxs-lookup"><span data-stu-id="53e55-211">WPF does not restrict a user to the invalid control until they have entered valid data.</span></span> <span data-ttu-id="53e55-212">Jest to dobre zachowanie w przypadku okna dialogowego; Użytkownik powinien mieć możliwość swobodnego nawigowania po kontrolkach w oknie dialogowym, niezależnie od tego, czy dane są prawidłowe.</span><span class="sxs-lookup"><span data-stu-id="53e55-212">This is good behavior for a dialog box; a user should be able to freely navigate the controls in a dialog box whether or not data is valid.</span></span> <span data-ttu-id="53e55-213">Oznacza to jednak, że użytkownik może wprowadzić nieprawidłowe dane i nacisnąć przycisk **OK** .</span><span class="sxs-lookup"><span data-stu-id="53e55-213">However, this means a user can enter invalid data and press the **OK** button.</span></span> <span data-ttu-id="53e55-214">Z tego powodu kod musi również sprawdzać poprawność wszystkich kontrolek w oknie dialogowym po naciśnięciu przycisku **OK** przez obsługę <xref:System.Windows.Controls.Primitives.ButtonBase.Click> zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="53e55-214">For this reason, your code also needs to validate all controls in a dialog box when the **OK** button is pressed by handling the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
[!code-csharp[Validating all controls in a dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-8,26-29,33-68)]
[!code-vb[Validating all controls in a dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-8,27-29,33-62)]  

<span data-ttu-id="53e55-215">Ten kod wylicza wszystkie obiekty zależności w oknie i, jeśli są nieprawidłowe (zwracane przez <xref:System.Windows.Controls.Validation.GetHasError%2A>, nieprawidłowa kontrolka pobiera fokus `IsValid` , metoda zwraca `false`, a okno jest uznawane za nieprawidłowe.</span><span class="sxs-lookup"><span data-stu-id="53e55-215">This code enumerates all dependency objects on a window and, if any are invalid (as returned by <xref:System.Windows.Controls.Validation.GetHasError%2A>, the invalid control gets the focus, the `IsValid` method returns `false`, and the window is considered invalid.</span></span>  
  
<span data-ttu-id="53e55-216">Gdy okno dialogowe jest prawidłowe, może je bezpiecznie zamknąć i zwrócić.</span><span class="sxs-lookup"><span data-stu-id="53e55-216">Once a dialog box is valid, it can safely close and return.</span></span> <span data-ttu-id="53e55-217">W ramach procesu powrotu musi zwrócić wynik do funkcji wywołującej.</span><span class="sxs-lookup"><span data-stu-id="53e55-217">As part of the return process, it needs to return a result to the calling function.</span></span>  
  
#### <a name="setting-the-modal-dialog-result"></a><span data-ttu-id="53e55-218">Ustawianie wyniku dialogu modalnego</span><span class="sxs-lookup"><span data-stu-id="53e55-218">Setting the modal dialog result</span></span>

<span data-ttu-id="53e55-219">Otwieranie okna dialogowego przy użyciu <xref:System.Windows.Window.ShowDialog%2A> programu jest zasadniczo podobne do wywołania metody: kod, który otworzył okno dialogowe przy użyciu <xref:System.Windows.Window.ShowDialog%2A> polecenia czeka <xref:System.Windows.Window.ShowDialog%2A> do momentu, aż zwróci.</span><span class="sxs-lookup"><span data-stu-id="53e55-219">Opening a dialog box using <xref:System.Windows.Window.ShowDialog%2A> is fundamentally like calling a method: the code that opened the dialog box using <xref:System.Windows.Window.ShowDialog%2A> waits until <xref:System.Windows.Window.ShowDialog%2A> returns.</span></span> <span data-ttu-id="53e55-220">Gdy <xref:System.Windows.Window.ShowDialog%2A> zwraca, kod, który wywołał, musi zdecydować, czy kontynuować przetwarzanie czy zatrzymać przetwarzanie, w zależności od tego, czy użytkownik naciśnie przycisk **OK** , czy przycisk **Anuluj** .</span><span class="sxs-lookup"><span data-stu-id="53e55-220">When <xref:System.Windows.Window.ShowDialog%2A> returns, the code that called it needs to decide whether to continue processing or stop processing, based on whether the user pressed the **OK** button or the **Cancel** button.</span></span> <span data-ttu-id="53e55-221">Aby ułatwić tę decyzję, okno dialogowe musi zwrócić wybór użytkownika jako <xref:System.Boolean> wartość, która jest zwracana <xref:System.Windows.Window.ShowDialog%2A> z metody.</span><span class="sxs-lookup"><span data-stu-id="53e55-221">To facilitate this decision, the dialog box needs to return the user's choice as a <xref:System.Boolean> value that is returned from the <xref:System.Windows.Window.ShowDialog%2A> method.</span></span>  

<span data-ttu-id="53e55-222">Po kliknięciu <xref:System.Windows.Window.ShowDialog%2A> przycisku OK powinna zostać zwrócona `true`wartość.</span><span class="sxs-lookup"><span data-stu-id="53e55-222">When the **OK** button is clicked, <xref:System.Windows.Window.ShowDialog%2A> should return `true`.</span></span> <span data-ttu-id="53e55-223">Jest to osiągane przez ustawienie <xref:System.Windows.Window.DialogResult%2A> właściwości okna dialogowego, gdy kliknięto przycisk **OK** .</span><span class="sxs-lookup"><span data-stu-id="53e55-223">This is achieved by setting the <xref:System.Windows.Window.DialogResult%2A> property of the dialog box when the **OK** button is clicked.</span></span>  

[!code-csharp[Responding to the OK button](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-8,25-27,32-33,67-68)]
[!code-vb[Responding to the OK button](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-8,27,31-33,61-62)]  

<span data-ttu-id="53e55-224">Należy zauważyć, że <xref:System.Windows.Window.DialogResult%2A> ustawienie właściwości powoduje również Automatyczne zamknięcie okna, co pozwala uniknąć konieczności jawnego wywołania. <xref:System.Windows.Window.Close%2A></span><span class="sxs-lookup"><span data-stu-id="53e55-224">Note that setting the <xref:System.Windows.Window.DialogResult%2A> property also causes the window to close automatically, which alleviates the need to explicitly call <xref:System.Windows.Window.Close%2A>.</span></span>  
  
<span data-ttu-id="53e55-225">Po kliknięciu <xref:System.Windows.Window.ShowDialog%2A> przycisku Anuluj powinna zostać zwrócona `false`wartość, która wymaga również ustawienia <xref:System.Windows.Window.DialogResult%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="53e55-225">When the **Cancel** button is clicked, <xref:System.Windows.Window.ShowDialog%2A> should return `false`, which also requires setting the <xref:System.Windows.Window.DialogResult%2A> property.</span></span>  
  
[!code-csharp[Responding to the Cancel button](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml.cs?range=1-8,19-24,67-68)]
[!code-vb[Responding to the Cancel button](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MarginsDialogBox.xaml.vb?range=1-8,22-25,61-62)]  

<span data-ttu-id="53e55-226">Gdy <xref:System.Windows.Controls.Button.IsCancel%2A> właściwość przycisku jest ustawiona na `true` , a użytkownik naciśnie przycisk **Anuluj** lub klawisz ESC, <xref:System.Windows.Window.DialogResult%2A> jest automatycznie ustawiana na. `false`</span><span class="sxs-lookup"><span data-stu-id="53e55-226">When a button's <xref:System.Windows.Controls.Button.IsCancel%2A> property is set to `true` and the user presses either the **Cancel** button or the ESC key, <xref:System.Windows.Window.DialogResult%2A> is automatically set to `false`.</span></span> <span data-ttu-id="53e55-227">Następujący znacznik ma ten sam skutek jak poprzedni kod, bez konieczności obsłużenia <xref:System.Windows.Controls.Primitives.ButtonBase.Click> zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="53e55-227">The following markup has the same effect as the preceding code, without the need to handle the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
[!code-xaml[Markup instead of handling the Click event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MarginsDialogBox.xaml#L109-L109)]  

<span data-ttu-id="53e55-228">Okno dialogowe jest automatycznie zwracane `false` , gdy użytkownik naciśnie przycisk **Zamknij** na pasku tytułu lub wybierze element menu **Zamknij** z menu **systemowego** .</span><span class="sxs-lookup"><span data-stu-id="53e55-228">A dialog box automatically returns `false` when a user presses the **Close** button in the title bar or chooses the **Close** menu item from the **System** menu.</span></span>  

#### <a name="processing-data-returned-from-a-modal-dialog-box"></a><span data-ttu-id="53e55-229">Przetwarzanie danych zwróconych z modalnego okna dialogowego</span><span class="sxs-lookup"><span data-stu-id="53e55-229">Processing data returned from a modal dialog box</span></span>  

<span data-ttu-id="53e55-230">Gdy <xref:System.Windows.Window.DialogResult%2A> jest ustawiony za pomocą okna dialogowego, funkcja, która otworzyła go, może uzyskać wynik okna dialogowego, sprawdzając <xref:System.Windows.Window.DialogResult%2A> właściwość po <xref:System.Windows.Window.ShowDialog%2A> powrocie.</span><span class="sxs-lookup"><span data-stu-id="53e55-230">When <xref:System.Windows.Window.DialogResult%2A> is set by a dialog box, the function that opened it can get the dialog box result by inspecting the <xref:System.Windows.Window.DialogResult%2A> property when <xref:System.Windows.Window.ShowDialog%2A> returns.</span></span>  
  
[!code-csharp[Processing data returned from the modal dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-10,77-79,89-96,194-195)]
[!code-vb[Processing data returned from the modal dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,58,69-73,131-132)]

<span data-ttu-id="53e55-231">Jeśli wynik okna dialogowego to `true`, funkcja używa tej funkcji jako wskaźnika do pobierania i przetwarzania danych dostarczonych przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="53e55-231">If the dialog result is `true`, the function uses that as a cue to retrieve and process the data provided by the user.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="53e55-232">Po <xref:System.Windows.Window.ShowDialog%2A> powrocie nie można otworzyć okna dialogowego.</span><span class="sxs-lookup"><span data-stu-id="53e55-232">After <xref:System.Windows.Window.ShowDialog%2A> has returned, a dialog box cannot be reopened.</span></span> <span data-ttu-id="53e55-233">Zamiast tego należy utworzyć nowe wystąpienie.</span><span class="sxs-lookup"><span data-stu-id="53e55-233">Instead, you need to create a new instance.</span></span>

<span data-ttu-id="53e55-234">Jeśli zostanie `false`wyświetlony wynik okna dialogowego, funkcja powinna zostać odpowiednio zakończona.</span><span class="sxs-lookup"><span data-stu-id="53e55-234">If the dialog result is `false`, the function should end processing appropriately.</span></span>  
  
<a name="Creating_a_Modeless_Custom_Dialog_Box"></a>   
### <a name="creating-a-modeless-custom-dialog-box"></a><span data-ttu-id="53e55-235">Tworzenie niemodalnego niestandardowego okna dialogowego</span><span class="sxs-lookup"><span data-stu-id="53e55-235">Creating a modeless custom dialog box</span></span>

<span data-ttu-id="53e55-236">Niemodalne okno dialogowe, takie jak okno dialogowe Znajdź pokazane na poniższej ilustracji ma ten sam wygląd, jak modalne okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="53e55-236">A modeless dialog box, such as the Find Dialog Box shown in the following figure, has the same fundamental appearance as the modal dialog box.</span></span>  

![Zrzut ekranu przedstawiający okno dialogowe Znajdowanie.](./media/dialog-boxes-overview/find-modeless-dialog-box.png)  

<span data-ttu-id="53e55-238">Zachowanie jest jednak nieco inne, zgodnie z opisem w poniższych sekcjach.</span><span class="sxs-lookup"><span data-stu-id="53e55-238">However, the behavior is slightly different, as described in the following sections.</span></span>  
  
#### <a name="opening-a-modeless-dialog-box"></a><span data-ttu-id="53e55-239">Otwieranie niemodalnego okna dialogowego</span><span class="sxs-lookup"><span data-stu-id="53e55-239">Opening a modeless dialog box</span></span>

<span data-ttu-id="53e55-240">Niemodalne okno dialogowe jest otwierane przez <xref:System.Windows.Window.Show%2A> wywołanie metody.</span><span class="sxs-lookup"><span data-stu-id="53e55-240">A modeless dialog box is opened by calling the <xref:System.Windows.Window.Show%2A> method.</span></span>  

[!code-xaml[XAML to define a modeless dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml#L21-L22)]  
 
[!code-csharp[Opening a modeless dialog box](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-10,65-76,194-195)]
[!code-vb[Openng a modeless dialog box](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,18-23,131,132)]  

<span data-ttu-id="53e55-241">W przeciwieństwie <xref:System.Windows.Window.Show%2A> do <xref:System.Windows.Window.ShowDialog%2A>, zwraca natychmiast.</span><span class="sxs-lookup"><span data-stu-id="53e55-241">Unlike <xref:System.Windows.Window.ShowDialog%2A>, <xref:System.Windows.Window.Show%2A> returns immediately.</span></span> <span data-ttu-id="53e55-242">W związku z tym okno wywołujące nie może stwierdzić, kiedy okno dialogowe niemodalne jest zamknięte i w związku z tym nie wie, kiedy sprawdzać wynik okna dialogowego lub pobrać dane z okna dialogowego w celu dalszej obróbki.</span><span class="sxs-lookup"><span data-stu-id="53e55-242">Consequently, the calling window cannot tell when the modeless dialog box is closed and, therefore, does not know when to check for a dialog box result or get data from the dialog box for further processing.</span></span> <span data-ttu-id="53e55-243">Zamiast tego okno dialogowe musi utworzyć alternatywny sposób zwrócenia danych do okna wywołującego w celu przetworzenia.</span><span class="sxs-lookup"><span data-stu-id="53e55-243">Instead, the dialog box needs to create an alternative way to return data to the calling window for processing.</span></span>  
  
#### <a name="processing-data-returned-from-a-modeless-dialog-box"></a><span data-ttu-id="53e55-244">Przetwarzanie danych zwróconych z niemodalnego okna dialogowego</span><span class="sxs-lookup"><span data-stu-id="53e55-244">Processing data returned from a modeless dialog box</span></span>  

<span data-ttu-id="53e55-245">W tym przykładzie `FindDialogBox` może zwrócić jeden lub więcej wyników wyszukiwania do okna głównego, w zależności od wyszukiwanego tekstu bez żadnej konkretnej częstotliwości.</span><span class="sxs-lookup"><span data-stu-id="53e55-245">In this example, the `FindDialogBox` may return one or more find results to the main window, depending on the text being searched for without any specific frequency.</span></span> <span data-ttu-id="53e55-246">Podobnie jak w przypadku modalnego okna dialogowego, niemodalne okno dialogowe może zwracać wyniki przy użyciu właściwości.</span><span class="sxs-lookup"><span data-stu-id="53e55-246">As with a modal dialog box, a modeless dialog box can return results using properties.</span></span> <span data-ttu-id="53e55-247">Jednak okno, które jest właścicielem okna dialogowego, musi wiedzieć, kiedy należy sprawdzić te właściwości.</span><span class="sxs-lookup"><span data-stu-id="53e55-247">However, the window that owns the dialog box needs to know when to check those properties.</span></span> <span data-ttu-id="53e55-248">Jednym ze sposobów na włączenie tego okna dialogowego jest zaimplementowanie zdarzenia, które jest zgłaszane po każdym znalezieniu tekstu.</span><span class="sxs-lookup"><span data-stu-id="53e55-248">One way to enable this is for the dialog box to implement an event that is raised whenever text is found.</span></span> <span data-ttu-id="53e55-249">`FindDialogBox``TextFoundEvent` implementuje do tego celu, który najpierw wymaga delegata.</span><span class="sxs-lookup"><span data-stu-id="53e55-249">`FindDialogBox` implements the `TextFoundEvent` for this purpose, which first requires a delegate.</span></span>  

[!code-csharp[The TextFoundEventHandler delegate](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/TextFoundEventHandler.cs)]
[!code-vb[The TextFoundEventHandler delegate](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/TextFoundEventHandler.vb)]  

<span data-ttu-id="53e55-250">Przy użyciu `TextFoundEventHandler` `FindDialogBox` delegata implementuje. `TextFoundEvent`</span><span class="sxs-lookup"><span data-stu-id="53e55-250">Using the `TextFoundEventHandler` delegate, `FindDialogBox` implements the `TextFoundEvent`.</span></span>
  
[!code-csharp[The TextFound event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/FindDialogBox.xaml.cs?range=1-17,125-126)]
[!code-vb[The TextFound event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/FindDialogBox.xaml.vb?range=1-15,102-103)]

<span data-ttu-id="53e55-251">W związku z `Find` tym, może zgłosić zdarzenie po znalezieniu wyniku wyszukiwania.</span><span class="sxs-lookup"><span data-stu-id="53e55-251">Consequently, `Find` can raise the event when a search result is found.</span></span>  
  
[!code-csharp[Raising the TextFound event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/FindDialogBox.xaml.cs?range=1-9,50-52,91-94,124-127)]
[!code-vb[Raising the TextFound event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/FindDialogBox.xaml.vb?range=1-9,15,60-64,102-103)]  

<span data-ttu-id="53e55-252">Okno właściciela musi być następnie zarejestrowane w usłudze i obsłużyć to zdarzenie.</span><span class="sxs-lookup"><span data-stu-id="53e55-252">The owner window then needs to register with and handle this event.</span></span>

[!code-csharp[Registering and handling the event](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/MainWindow.xaml.cs?range=1-10,184-195)]
[!code-vb[Registering and handling the event](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/MainWindow.xaml.vb?range=1-9,126-132)]  

#### <a name="closing-a-modeless-dialog-box"></a><span data-ttu-id="53e55-253">Zamykanie niemodalnego okna dialogowego</span><span class="sxs-lookup"><span data-stu-id="53e55-253">Closing a modeless dialog box</span></span>

<span data-ttu-id="53e55-254">Ponieważ <xref:System.Windows.Window.DialogResult%2A> nie musi być ustawiony, niemodalne okno dialogowe można zamknąć przy użyciu mechanizmów zapewniania systemu, w tym następujących:</span><span class="sxs-lookup"><span data-stu-id="53e55-254">Because <xref:System.Windows.Window.DialogResult%2A> does not need to be set, a modeless dialog can be closed using system provide mechanisms, including the following:</span></span>  
  
- <span data-ttu-id="53e55-255">Kliknij przycisk **Zamknij** na pasku tytułu.</span><span class="sxs-lookup"><span data-stu-id="53e55-255">Clicking the **Close** button in the title bar.</span></span>  
  
- <span data-ttu-id="53e55-256">Naciśnij klawisze ALT + F4.</span><span class="sxs-lookup"><span data-stu-id="53e55-256">Pressing ALT+F4.</span></span>  
  
- <span data-ttu-id="53e55-257">Wybierz pozycję **Zamknij** z menu **systemowego** .</span><span class="sxs-lookup"><span data-stu-id="53e55-257">Choosing **Close** from the **System** menu.</span></span>  
  
<span data-ttu-id="53e55-258">Alternatywnie kod może wywołać <xref:System.Windows.Window.Close%2A> , gdy kliknięto przycisk **Zamknij** .</span><span class="sxs-lookup"><span data-stu-id="53e55-258">Alternatively, your code can call <xref:System.Windows.Window.Close%2A> when the **Close** button is clicked.</span></span>  

[!code-csharp[Calling the Close method](~/samples/snippets/csharp/VS_Snippets_Wpf/DialogBoxSample/CSharp/FindDialogBox.xaml.cs?range=1-9,119-126)]
[!code-vb[Calling the Close method](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DialogBoxSample/VisualBasic/FindDialogBox.xaml.vb?range=1-9,99-103)]  

## <a name="see-also"></a><span data-ttu-id="53e55-259">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="53e55-259">See also</span></span>

- [<span data-ttu-id="53e55-260">Okno podręczne — omówienie</span><span class="sxs-lookup"><span data-stu-id="53e55-260">Popup Overview</span></span>](../controls/popup-overview.md)
- [<span data-ttu-id="53e55-261">Przykład okna dialogowego</span><span class="sxs-lookup"><span data-stu-id="53e55-261">Dialog Box Sample</span></span>](https://go.microsoft.com/fwlink/?LinkID=159984)
