---
title: Powiązanie danych WPF za pomocą LINQ to XML
ms.date: 10/22/2019
ms.topic: conceptual
ms.openlocfilehash: 53bc5e09d3c837b69c8f215b1b5c61d1b745f683
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/30/2019
ms.locfileid: "73139800"
---
# <a name="overview-of-wpf-data-binding-with-linq-to-xml"></a><span data-ttu-id="d4b61-102">Omówienie powiązania danych WPF z LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="d4b61-102">Overview of WPF data binding with LINQ to XML</span></span>

<span data-ttu-id="d4b61-103">W tym artykule wprowadzono funkcje dynamicznego powiązania danych w przestrzeni nazw <xref:System.Xml.Linq>.</span><span class="sxs-lookup"><span data-stu-id="d4b61-103">This article introduces the dynamic data binding features in the <xref:System.Xml.Linq> namespace.</span></span> <span data-ttu-id="d4b61-104">Te funkcje mogą być używane jako źródło danych dla elementów interfejsu użytkownika w aplikacjach Windows Presentation Foundation (WPF).</span><span class="sxs-lookup"><span data-stu-id="d4b61-104">These features can be used as a data source for user interface (UI) elements in Windows Presentation Foundation (WPF) apps.</span></span> <span data-ttu-id="d4b61-105">Ten scenariusz opiera się na specjalnych *właściwościach dynamicznych* <xref:System.Xml.Linq.XAttribute?displayProperty=fullName> i <xref:System.Xml.Linq.XElement?displayProperty=fullName>.</span><span class="sxs-lookup"><span data-stu-id="d4b61-105">This scenario relies upon special *dynamic properties* of <xref:System.Xml.Linq.XAttribute?displayProperty=fullName> and <xref:System.Xml.Linq.XElement?displayProperty=fullName>.</span></span>

## <a name="xaml-and-linq-to-xml"></a><span data-ttu-id="d4b61-106">XAML i LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="d4b61-106">XAML and LINQ to XML</span></span>

<span data-ttu-id="d4b61-107">Extensible Application Markup Language (XAML) to dialekt XML utworzony przez firmę Microsoft do obsługi technologii platformy .NET.</span><span class="sxs-lookup"><span data-stu-id="d4b61-107">The Extensible Application Markup Language (XAML) is an XML dialect created by Microsoft to support .NET technologies.</span></span> <span data-ttu-id="d4b61-108">Jest on używany w WPF do reprezentowania elementów interfejsu użytkownika i powiązanych funkcji, takich jak zdarzenia i powiązania danych.</span><span class="sxs-lookup"><span data-stu-id="d4b61-108">It is used in WPF to represent user interface elements and related features, such as events and data binding.</span></span> <span data-ttu-id="d4b61-109">W Windows Workflow Foundation język XAML jest używany do reprezentowania struktury programu, takiej jak sterowanie programem (*przepływy pracy*).</span><span class="sxs-lookup"><span data-stu-id="d4b61-109">In Windows Workflow Foundation, XAML is used to represent program structure, such as program control (*workflows*).</span></span> <span data-ttu-id="d4b61-110">Język XAML umożliwia rozdzielenie deklaratywnych aspektów technologicznych od powiązanego kodu proceduralnego, który definiuje bardziej indywidualne zachowanie programu.</span><span class="sxs-lookup"><span data-stu-id="d4b61-110">XAML enables the declarative aspects of a technology to be separated from the related procedural code that defines the more individualized behavior of a program.</span></span>

<span data-ttu-id="d4b61-111">Istnieją dwa szerokie metody, które mogą współistnieć w języku XAML i LINQ to XML:</span><span class="sxs-lookup"><span data-stu-id="d4b61-111">There are two broad ways that XAML and LINQ to XML can interact:</span></span>

- <span data-ttu-id="d4b61-112">Ponieważ pliki XAML są poprawnie sformułowanymi danymi XML, można je badać i manipulować nimi za poorednictwem technologii XML, takich jak LINQ to XML.</span><span class="sxs-lookup"><span data-stu-id="d4b61-112">Because XAML files are well-formed XML, they can be queried and manipulated through XML technologies such as LINQ to XML.</span></span>

- <span data-ttu-id="d4b61-113">Ponieważ zapytania LINQ to XML reprezentują źródło danych, te zapytania mogą służyć jako źródło danych dla powiązania danych dla elementów interfejsu użytkownika WPF.</span><span class="sxs-lookup"><span data-stu-id="d4b61-113">Because LINQ to XML queries represent a source of data, these queries can be used as a data source for data binding for WPF UI elements.</span></span>

<span data-ttu-id="d4b61-114">W tej dokumentacji opisano drugi scenariusz.</span><span class="sxs-lookup"><span data-stu-id="d4b61-114">This documentation describes the second scenario.</span></span>

## <a name="data-binding-in-the-windows-presentation-foundation"></a><span data-ttu-id="d4b61-115">Powiązanie danych w Windows Presentation Foundation</span><span class="sxs-lookup"><span data-stu-id="d4b61-115">Data binding in the Windows Presentation Foundation</span></span>

<span data-ttu-id="d4b61-116">Powiązanie danych WPF umożliwia elementowi interfejsu użytkownika kojarzenie jednej z właściwości ze źródłem danych.</span><span class="sxs-lookup"><span data-stu-id="d4b61-116">WPF data binding enables a UI element to associate one of its properties with a data source.</span></span> <span data-ttu-id="d4b61-117">Prostym przykładem jest <xref:System.Windows.Controls.Label>, którego tekst przedstawia wartość właściwości publicznej w obiekcie zdefiniowanym przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="d4b61-117">A simple example of this is a <xref:System.Windows.Controls.Label> whose text presents the value of a public property in a user-defined object.</span></span> <span data-ttu-id="d4b61-118">Powiązanie danych WPF opiera się na następujących składnikach:</span><span class="sxs-lookup"><span data-stu-id="d4b61-118">WPF data binding relies on the following components:</span></span>

|<span data-ttu-id="d4b61-119">Składnik</span><span class="sxs-lookup"><span data-stu-id="d4b61-119">Component</span></span>|<span data-ttu-id="d4b61-120">Opis</span><span class="sxs-lookup"><span data-stu-id="d4b61-120">Description</span></span>|
|---------------|-----------------|
|<span data-ttu-id="d4b61-121">Obiekt docelowy powiązania</span><span class="sxs-lookup"><span data-stu-id="d4b61-121">Binding target</span></span>|<span data-ttu-id="d4b61-122">Element interfejsu użytkownika, który ma zostać skojarzony ze źródłem danych.</span><span class="sxs-lookup"><span data-stu-id="d4b61-122">The UI element to be associated with the data source.</span></span> <span data-ttu-id="d4b61-123">Elementy wizualne w WPF pochodzą od klasy <xref:System.Windows.UIElement>.</span><span class="sxs-lookup"><span data-stu-id="d4b61-123">Visual elements in WPF are derived from the <xref:System.Windows.UIElement> class.</span></span>|
|<span data-ttu-id="d4b61-124">Target — właściwość</span><span class="sxs-lookup"><span data-stu-id="d4b61-124">Target property</span></span>|<span data-ttu-id="d4b61-125">*Właściwość zależności* obiektu docelowego powiązania, która odzwierciedla wartość źródła powiązań danych.</span><span class="sxs-lookup"><span data-stu-id="d4b61-125">The *dependency property* of the binding target that reflects the value of the data-binding source.</span></span> <span data-ttu-id="d4b61-126">Właściwości zależności są bezpośrednio obsługiwane przez klasę <xref:System.Windows.DependencyObject>, która <xref:System.Windows.UIElement> pochodzi od.</span><span class="sxs-lookup"><span data-stu-id="d4b61-126">Dependency properties are directly supported by the <xref:System.Windows.DependencyObject> class, which <xref:System.Windows.UIElement> derives from.</span></span>|
|<span data-ttu-id="d4b61-127">Źródło powiązania</span><span class="sxs-lookup"><span data-stu-id="d4b61-127">Binding source</span></span>|<span data-ttu-id="d4b61-128">Obiekt źródłowy dla co najmniej jednej wartości, która jest dostarczana do elementu interfejsu użytkownika dla prezentacji.</span><span class="sxs-lookup"><span data-stu-id="d4b61-128">The source object for one or more values that are supplied to the UI element for presentation.</span></span> <span data-ttu-id="d4b61-129">WPF automatycznie obsługuje następujące typy jako źródła powiązań: obiekty CLR, obiekty danych ADO.NET, dane XML (z zapytań XPath lub LINQ to XML) lub inne <xref:System.Windows.DependencyObject>.</span><span class="sxs-lookup"><span data-stu-id="d4b61-129">WPF automatically supports the following types as binding sources: CLR objects, ADO.NET data objects, XML data (from XPath or LINQ to XML queries), or another <xref:System.Windows.DependencyObject>.</span></span>|
|<span data-ttu-id="d4b61-130">Ścieżka źródłowa</span><span class="sxs-lookup"><span data-stu-id="d4b61-130">Source path</span></span>|<span data-ttu-id="d4b61-131">Właściwość źródła powiązania, która jest rozpoznawana jako wartość lub zbiór wartości, które mają być powiązane.</span><span class="sxs-lookup"><span data-stu-id="d4b61-131">The property of the binding source that resolves to the value or set of values that is to be bound.</span></span>|

<span data-ttu-id="d4b61-132">Właściwość zależności jest koncepcją specyficzną dla WPF, która reprezentuje dynamiczną obliczaną właściwość elementu interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="d4b61-132">A dependency property is a concept specific to WPF that represent a dynamically computed property of a UI element.</span></span> <span data-ttu-id="d4b61-133">Na przykład właściwości zależności często mają wartości domyślne lub wartości, które są dostarczane przez element nadrzędny.</span><span class="sxs-lookup"><span data-stu-id="d4b61-133">For example, dependency properties often have default values or values that are provided by a parent element.</span></span> <span data-ttu-id="d4b61-134">Te właściwości specjalne są obsługiwane przez wystąpienia klasy <xref:System.Windows.DependencyProperty> (a nie pola z właściwościami standardowymi).</span><span class="sxs-lookup"><span data-stu-id="d4b61-134">These special properties are backed by instances of the <xref:System.Windows.DependencyProperty> class (and not fields as with standard properties).</span></span> <span data-ttu-id="d4b61-135">Aby uzyskać więcej informacji, zobacz [Omówienie właściwości zależności](/dotnet/framework/wpf/advanced/dependency-properties-overview).</span><span class="sxs-lookup"><span data-stu-id="d4b61-135">For more information, see [Dependency Properties Overview](/dotnet/framework/wpf/advanced/dependency-properties-overview).</span></span>

### <a name="dynamic-data-binding-in-wpf"></a><span data-ttu-id="d4b61-136">Dynamiczne powiązanie danych w WPF</span><span class="sxs-lookup"><span data-stu-id="d4b61-136">Dynamic data binding in WPF</span></span>

<span data-ttu-id="d4b61-137">Domyślnie powiązanie danych występuje tylko wtedy, gdy docelowy element interfejsu użytkownika jest zainicjowany.</span><span class="sxs-lookup"><span data-stu-id="d4b61-137">By default, data binding occurs only when the target UI element is initialized.</span></span> <span data-ttu-id="d4b61-138">Ta nazwa jest nazywana *jednorazowym* wiązaniem.</span><span class="sxs-lookup"><span data-stu-id="d4b61-138">This is called *one-time* binding.</span></span> <span data-ttu-id="d4b61-139">W większości przypadków jest to niewystarczające. zwykle rozwiązanie do powiązania danych wymaga dynamicznego rozpropagowania zmian w czasie wykonywania przy użyciu jednego z następujących elementów:</span><span class="sxs-lookup"><span data-stu-id="d4b61-139">For most purposes, this is insufficient; typically, a data-binding solution requires that the changes be dynamically propagated at run time using one of the following:</span></span>

- <span data-ttu-id="d4b61-140">Powiązanie *jednokierunkowe* powoduje automatyczne propagowanie zmian w jednej stronie.</span><span class="sxs-lookup"><span data-stu-id="d4b61-140">*One-way* binding causes the changes to one side to be propagated automatically.</span></span> <span data-ttu-id="d4b61-141">Najczęściej zmiany w źródle są odzwierciedlane w elemencie docelowym, ale czasami może być przydatne.</span><span class="sxs-lookup"><span data-stu-id="d4b61-141">Most commonly, changes to the source are reflected in the target, but the reverse can sometimes be useful.</span></span>

- <span data-ttu-id="d4b61-142">W przypadku powiązań *dwukierunkowych* zmiany w źródle są automatycznie propagowane do obiektu docelowego, a zmiany w obiekcie docelowym są automatycznie propagowane do źródła.</span><span class="sxs-lookup"><span data-stu-id="d4b61-142">In *two-way* binding, changes to the source are automatically propagated to the target, and changes to the target are automatically propagated to the source.</span></span>

<span data-ttu-id="d4b61-143">W przypadku powiązań jednokierunkowych lub dwukierunkowych Źródło musi implementować mechanizm powiadamiania o zmianach, na przykład przez implementację interfejsu <xref:System.ComponentModel.INotifyPropertyChanged> lub przy użyciu wzorca *PropertyNameChanged* dla każdej obsługiwanej właściwości.</span><span class="sxs-lookup"><span data-stu-id="d4b61-143">For one-way or two-way binding to occur, the source must implement a change notification mechanism, for example by implementing the <xref:System.ComponentModel.INotifyPropertyChanged> interface or by using a *PropertyNameChanged* pattern for each property supported.</span></span>

<span data-ttu-id="d4b61-144">Aby uzyskać więcej informacji na temat powiązania danych w WPF, zobacz [powiązanie danych (WPF)](/dotnet/framework/wpf/data/data-binding-wpf).</span><span class="sxs-lookup"><span data-stu-id="d4b61-144">For more information about data binding in WPF, see [Data Binding (WPF)](/dotnet/framework/wpf/data/data-binding-wpf).</span></span>

## <a name="dynamic-properties-in-linq-to-xml-classes"></a><span data-ttu-id="d4b61-145">Właściwości dynamiczne w klasach LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="d4b61-145">Dynamic properties in LINQ to XML classes</span></span>

<span data-ttu-id="d4b61-146">Większość klas LINQ to XML nie kwalifikuje się do poprawnego dynamicznego źródła danych WPF.</span><span class="sxs-lookup"><span data-stu-id="d4b61-146">Most LINQ to XML classes do not qualify as proper WPF dynamic data sources.</span></span> <span data-ttu-id="d4b61-147">Niektóre z najbardziej przydatnych informacji są dostępne tylko za pomocą metod, a nie właściwości, a właściwości w tych klasach nie implementują powiadomień o zmianach.</span><span class="sxs-lookup"><span data-stu-id="d4b61-147">Some of the most useful information is available only through methods, not properties, and properties in these classes do not implement change notifications.</span></span> <span data-ttu-id="d4b61-148">Aby zapewnić obsługę powiązania danych WPF, LINQ to XML uwidacznia zestaw *właściwości dynamicznych*.</span><span class="sxs-lookup"><span data-stu-id="d4b61-148">To support WPF data binding, LINQ to XML exposes a set of *dynamic properties*.</span></span>

<span data-ttu-id="d4b61-149">Te właściwości dynamiczne są specjalnymi właściwościami czasu wykonywania, które duplikują funkcje istniejących metod i właściwości w klasach <xref:System.Xml.Linq.XAttribute> i <xref:System.Xml.Linq.XElement>.</span><span class="sxs-lookup"><span data-stu-id="d4b61-149">These dynamic properties are special run-time properties that duplicate the functionality of existing methods and properties in the <xref:System.Xml.Linq.XAttribute> and <xref:System.Xml.Linq.XElement> classes.</span></span> <span data-ttu-id="d4b61-150">Zostały dodane do tych klas wyłącznie w celu umożliwienia im działania jako dynamiczne źródła danych dla WPF.</span><span class="sxs-lookup"><span data-stu-id="d4b61-150">They were added to these classes solely to enable them to act as dynamic data sources for WPF.</span></span> <span data-ttu-id="d4b61-151">Aby spełnić to wymaganie, wszystkie te właściwości dynamiczne implementują powiadomienia o zmianach.</span><span class="sxs-lookup"><span data-stu-id="d4b61-151">To meet this need, all these dynamic properties implement change notifications.</span></span> <span data-ttu-id="d4b61-152">Szczegółowe informacje o tych właściwościach dynamicznych znajdują się w następnej sekcji [LINQ to XML właściwości dynamiczne](linq-to-xml-dynamic-properties.md).</span><span class="sxs-lookup"><span data-stu-id="d4b61-152">A detailed reference for these dynamic properties is provided in the next section, [LINQ to XML Dynamic Properties](linq-to-xml-dynamic-properties.md).</span></span>

> [!NOTE]
> <span data-ttu-id="d4b61-153">Wiele standardowych właściwości publicznych, które znajdują się w różnych klasach w przestrzeni nazw <xref:System.Xml.Linq>, może być używany do jednorazowego wiązania danych.</span><span class="sxs-lookup"><span data-stu-id="d4b61-153">Many of the standard public properties, found in the various classes in the <xref:System.Xml.Linq> namespace, can be used for one-time data binding.</span></span> <span data-ttu-id="d4b61-154">Należy jednak pamiętać, że żadne Źródło ani obiekt docelowy nie będą aktualizowane dynamicznie w ramach tego schematu.</span><span class="sxs-lookup"><span data-stu-id="d4b61-154">However, remember that neither the source nor the target will be dynamically updated under this scheme.</span></span>

### <a name="access-dynamic-properties"></a><span data-ttu-id="d4b61-155">Dostęp do właściwości dynamicznych</span><span class="sxs-lookup"><span data-stu-id="d4b61-155">Access dynamic properties</span></span>

<span data-ttu-id="d4b61-156">Nie można uzyskać dostępu do właściwości dynamicznych z klas <xref:System.Xml.Linq.XAttribute> i <xref:System.Xml.Linq.XElement>, takich jak właściwości standardowe.</span><span class="sxs-lookup"><span data-stu-id="d4b61-156">The dynamic properties in the <xref:System.Xml.Linq.XAttribute> and <xref:System.Xml.Linq.XElement> classes cannot be accessed like standard properties.</span></span> <span data-ttu-id="d4b61-157">Na przykład w przypadku języków zgodnych ze środowiskiem C#CLR takie jak nie mogą być:</span><span class="sxs-lookup"><span data-stu-id="d4b61-157">For example, in CLR-compliant languages such as C#, they cannot be:</span></span>

- <span data-ttu-id="d4b61-158">Dostępne bezpośrednio w czasie kompilacji.</span><span class="sxs-lookup"><span data-stu-id="d4b61-158">Accessed directly at compile time.</span></span> <span data-ttu-id="d4b61-159">Właściwości dynamiczne są niewidoczne dla kompilatora i programu Visual Studio IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="d4b61-159">Dynamic properties are invisible to the compiler and to Visual Studio IntelliSense.</span></span>

- <span data-ttu-id="d4b61-160">Odnalezione lub dostępne w czasie wykonywania przy użyciu odbicia platformy .NET.</span><span class="sxs-lookup"><span data-stu-id="d4b61-160">Discovered or accessed at run time using .NET reflection.</span></span> <span data-ttu-id="d4b61-161">Nawet w czasie wykonywania nie są właściwościami w podstawowym sensie CLR.</span><span class="sxs-lookup"><span data-stu-id="d4b61-161">Even at run time, they are not properties in the basic CLR sense.</span></span>

<span data-ttu-id="d4b61-162">W C#programie właściwości dynamiczne są dostępne tylko w czasie wykonywania za pomocą obiektów dostarczonych przez przestrzeń nazw <xref:System.ComponentModel>.</span><span class="sxs-lookup"><span data-stu-id="d4b61-162">In C#, dynamic properties can only be accessed at run time through facilities provided by the <xref:System.ComponentModel> namespace.</span></span>

<span data-ttu-id="d4b61-163">Natomiast w przypadku właściwości dynamicznych źródła XML można uzyskać dostęp za pomocą prostej notacji w następującej postaci:</span><span class="sxs-lookup"><span data-stu-id="d4b61-163">In contrast, however, in an XML source dynamic properties can be accessed through a straightforward notation in the following form:</span></span>

```xml
<object>.<dynamic-property>
```

<span data-ttu-id="d4b61-164">Właściwości dynamiczne tych dwóch klas są rozpoznawane jako wartość, która może być używana bezpośrednio lub do indeksatora, który musi być dostarczony z indeksem w celu uzyskania wartości lub kolekcji wartości.</span><span class="sxs-lookup"><span data-stu-id="d4b61-164">The dynamic properties for these two classes either resolve to a value that can be used directly, or to an indexer that must be supplied with an index to obtain the resulting value or collection of values.</span></span> <span data-ttu-id="d4b61-165">Ostatnia składnia przyjmuje postać:</span><span class="sxs-lookup"><span data-stu-id="d4b61-165">The latter syntax takes the form:</span></span>

```xml
<object>.<dynamic-property>[<index-value>]
```

<span data-ttu-id="d4b61-166">Aby uzyskać więcej informacji, zobacz [LINQ to XML właściwości dynamiczne](linq-to-xml-dynamic-properties.md).</span><span class="sxs-lookup"><span data-stu-id="d4b61-166">For more information, see [LINQ to XML Dynamic Properties](linq-to-xml-dynamic-properties.md).</span></span>

<span data-ttu-id="d4b61-167">Aby zaimplementować dynamiczne powiązanie WPF, właściwości dynamiczne będą używane z obiektami dostarczanymi przez przestrzeń nazw <xref:System.Windows.Data>, w szczególności dla klasy <xref:System.Windows.Data.Binding>.</span><span class="sxs-lookup"><span data-stu-id="d4b61-167">To implement WPF dynamic binding, dynamic properties will be used with facilities provided by the <xref:System.Windows.Data> namespace, most notably the <xref:System.Windows.Data.Binding> class.</span></span>

## <a name="see-also"></a><span data-ttu-id="d4b61-168">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="d4b61-168">See also</span></span>

- [<span data-ttu-id="d4b61-169">Powiązanie danych WPF za pomocą LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="d4b61-169">WPF Data Binding with LINQ to XML</span></span>](wpf-data-binding-with-linq-to-xml-overview.md)
- [<span data-ttu-id="d4b61-170">Właściwości dynamiczne LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="d4b61-170">LINQ to XML Dynamic Properties</span></span>](linq-to-xml-dynamic-properties.md)
- [<span data-ttu-id="d4b61-171">XAML w WPF</span><span class="sxs-lookup"><span data-stu-id="d4b61-171">XAML in WPF</span></span>](/dotnet/framework/wpf/advanced/xaml-in-wpf)
- [<span data-ttu-id="d4b61-172">Powiązanie danych (WPF)</span><span class="sxs-lookup"><span data-stu-id="d4b61-172">Data Binding (WPF)</span></span>](/dotnet/framework/wpf/data/data-binding-wpf)
- [<span data-ttu-id="d4b61-173">Używanie znaczników przepływu pracy</span><span class="sxs-lookup"><span data-stu-id="d4b61-173">Using Workflow Markup</span></span>](https://go.microsoft.com/fwlink/?LinkId=98685)
