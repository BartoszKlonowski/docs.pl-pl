---
title: Przegląd Niestandardowe animacje
ms.date: 03/30/2017
helpviewer_keywords:
- custom classes [WPF], animation
- key frames [WPF], custom
- custom key frames [WPF]
- animation [WPF], custom classes
- custom animation classes [WPF]
ms.assetid: 9be69d50-3384-4938-886f-08ce00e4a7a6
ms.openlocfilehash: c5f315992e8ae37bc79602e6986d90e7af591fb2
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/12/2020
ms.locfileid: "79186546"
---
# <a name="custom-animations-overview"></a><span data-ttu-id="e0cc1-102">Przegląd Niestandardowe animacje</span><span class="sxs-lookup"><span data-stu-id="e0cc1-102">Custom Animations Overview</span></span>
<span data-ttu-id="e0cc1-103">W tym temacie opisano sposób [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] i czas rozszerzania systemu animacji przez tworzenie niestandardowych klatek kluczowych, klas animacji lub za pomocą wywołania zwrotnego na klatkę, aby go pominąć.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-103">This topic describes how and when to extend the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system by creating custom key frames, animation classes, or by using per-frame callback to bypass it.</span></span>  
  
<a name="prerequisites"></a>
## <a name="prerequisites"></a><span data-ttu-id="e0cc1-104">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="e0cc1-104">Prerequisites</span></span>  
 <span data-ttu-id="e0cc1-105">Aby zrozumieć ten temat, należy zapoznać się z różnymi [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]typami animacji dostarczonych przez program .</span><span class="sxs-lookup"><span data-stu-id="e0cc1-105">To understand this topic, you should be familiar with the different types of animations provided by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="e0cc1-106">Aby uzyskać więcej informacji, zobacz omówienie animacji od/do/według, [omówienie animacji klatek kluczowych](key-frame-animations-overview.md)i [omówienie animacji ścieżek](path-animations-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e0cc1-106">For more information, see the From/To/By Animations Overview, the [Key-Frame Animations Overview](key-frame-animations-overview.md), and the [Path Animations Overview](path-animations-overview.md).</span></span>  
  
 <span data-ttu-id="e0cc1-107">Ponieważ klasy animacji <xref:System.Windows.Freezable> dziedziczą z klasy, <xref:System.Windows.Freezable> należy zapoznać <xref:System.Windows.Freezable>się z obiektami i jak dziedziczyć z .</span><span class="sxs-lookup"><span data-stu-id="e0cc1-107">Because the animation classes inherit from the <xref:System.Windows.Freezable> class, you should be familiar with <xref:System.Windows.Freezable> objects and how to inherit from <xref:System.Windows.Freezable>.</span></span> <span data-ttu-id="e0cc1-108">Aby uzyskać więcej informacji, zobacz [Omówienie obiektów freezable](../advanced/freezable-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e0cc1-108">For more information, see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md).</span></span>  
  
<a name="extendingtheanimationsystem"></a>
## <a name="extending-the-animation-system"></a><span data-ttu-id="e0cc1-109">Rozszerzanie systemu animacji</span><span class="sxs-lookup"><span data-stu-id="e0cc1-109">Extending the Animation System</span></span>  
 <span data-ttu-id="e0cc1-110">Istnieje wiele sposobów rozszerzenia systemu [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animacji, w zależności od poziomu wbudowanych funkcji, których chcesz użyć.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-110">There are a number of ways to extend the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system, depending on the level of built-in functionality you want to use.</span></span>  <span data-ttu-id="e0cc1-111">W silniku animacji znajdują [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] się trzy podstawowe punkty rozszerzalności:</span><span class="sxs-lookup"><span data-stu-id="e0cc1-111">There are three primary extensibility points in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation engine:</span></span>  
  
- <span data-ttu-id="e0cc1-112">Utwórz niestandardowy obiekt klatki kluczowej, dziedzicząc z jednej z <xref:System.Windows.Media.Animation.DoubleKeyFrame>klas \* \<>\* Klatki Kluczowej, takiej jak .</span><span class="sxs-lookup"><span data-stu-id="e0cc1-112">Create a custom key frame object by inheriting from one of the *\<Type>* KeyFrame classes, such as <xref:System.Windows.Media.Animation.DoubleKeyFrame>.</span></span> <span data-ttu-id="e0cc1-113">Takie podejście wykorzystuje większość wbudowanych funkcji aparatu [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animacji.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-113">This approach uses most of the built-in functionality of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation engine.</span></span>  
  
- <span data-ttu-id="e0cc1-114">Utwórz własną klasę animacji, dziedzicząc z lub jednej z <xref:System.Windows.Media.Animation.AnimationTimeline> klas \* \<Type>\* AnimationBase.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-114">Create your own animation class by inheriting from <xref:System.Windows.Media.Animation.AnimationTimeline> or one of the *\<Type>* AnimationBase classes.</span></span>  
  
- <span data-ttu-id="e0cc1-115">Używanie wywołania zwrotnego na klatkę do generowania animacji dla klatki.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-115">Use per-frame callback to generate animations on a per-frame basis.</span></span> <span data-ttu-id="e0cc1-116">Takie podejście całkowicie omija system animacji i chronometrażu.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-116">This approach completely bypasses the animation and timing system.</span></span>  
  
 <span data-ttu-id="e0cc1-117">W poniższej tabeli opisano niektóre scenariusze rozszerzania systemu animacji.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-117">The following table describes some the scenarios for extending the animation system.</span></span>  
  
|<span data-ttu-id="e0cc1-118">Jeśli chcesz...</span><span class="sxs-lookup"><span data-stu-id="e0cc1-118">When you want to...</span></span>|<span data-ttu-id="e0cc1-119">Użyj tego podejścia</span><span class="sxs-lookup"><span data-stu-id="e0cc1-119">Use this approach</span></span>|  
|-------------------------|-----------------------|  
|<span data-ttu-id="e0cc1-120">Dostosowywanie interpolacji między wartościami typu, \* \< \*który ma odpowiedni typ>AnimationUsingKeyFrames</span><span class="sxs-lookup"><span data-stu-id="e0cc1-120">Customize the interpolation between values of a type that has a corresponding *\<Type>* AnimationUsingKeyFrames</span></span>|<span data-ttu-id="e0cc1-121">Utwórz niestandardową klatkę kluczową.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-121">Create a custom key frame.</span></span> <span data-ttu-id="e0cc1-122">Aby uzyskać więcej informacji, zobacz [sekcję Tworzenie niestandardowej klatki kluczowej.](#createacustomkeyframe)</span><span class="sxs-lookup"><span data-stu-id="e0cc1-122">For more information, see the [Create a Custom Key Frame](#createacustomkeyframe) section.</span></span>|  
|<span data-ttu-id="e0cc1-123">Dostosuj więcej niż tylko interpolację między wartościami typu, który ma odpowiedni \* \<typ>\* animacji.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-123">Customize more than just the interpolation between values of a type that has a corresponding *\<Type>* Animation.</span></span>|<span data-ttu-id="e0cc1-124">Utwórz niestandardową klasę animacji, która dziedziczy z \* \<klasy Type>\* AnimationBase, która odpowiada typowi, który chcesz animować.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-124">Create a custom animation class that inherits from the *\<Type>* AnimationBase class that corresponds to the type you want to animate.</span></span> <span data-ttu-id="e0cc1-125">Aby uzyskać więcej informacji, zobacz [sekcję Tworzenie niestandardowej klasy animacji.](#createacustomanimationtype)</span><span class="sxs-lookup"><span data-stu-id="e0cc1-125">For more information, see the [Create a Custom Animation Class](#createacustomanimationtype) section.</span></span>|  
|<span data-ttu-id="e0cc1-126">Animowanie typu, który [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] nie ma odpowiedniej animacji</span><span class="sxs-lookup"><span data-stu-id="e0cc1-126">Animate a type that has no corresponding [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation</span></span>|<span data-ttu-id="e0cc1-127">Użyj <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> lub utwórz klasę, <xref:System.Windows.Media.Animation.AnimationTimeline>która dziedziczy po .</span><span class="sxs-lookup"><span data-stu-id="e0cc1-127">Use an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> or create a class that inherits from <xref:System.Windows.Media.Animation.AnimationTimeline>.</span></span> <span data-ttu-id="e0cc1-128">Aby uzyskać więcej informacji, zobacz [sekcję Tworzenie niestandardowej klasy animacji.](#createacustomanimationtype)</span><span class="sxs-lookup"><span data-stu-id="e0cc1-128">For more information, see the [Create a Custom Animation Class](#createacustomanimationtype) section.</span></span>|  
|<span data-ttu-id="e0cc1-129">Animowanie wielu obiektów z wartościami obliczanymi w każdej klatce i opartymi na ostatnim zestawie interakcji z obiektami</span><span class="sxs-lookup"><span data-stu-id="e0cc1-129">Animate multiple objects with values that are computed each frame and are based on the last set of object interactions</span></span>|<span data-ttu-id="e0cc1-130">Użyj wywołania zwrotnego na klatkę.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-130">Use per-frame callback.</span></span> <span data-ttu-id="e0cc1-131">Aby uzyskać więcej informacji, zobacz [sekcję Tworzenie wywołania zwrotnego na klatkę.](#useperframecallback)</span><span class="sxs-lookup"><span data-stu-id="e0cc1-131">For more information, see the [Create a Use Per-Frame Callback](#useperframecallback) section.</span></span>|  
  
<a name="createacustomkeyframe"></a>
## <a name="create-a-custom-key-frame"></a><span data-ttu-id="e0cc1-132">Tworzenie niestandardowej ramki klawiszy</span><span class="sxs-lookup"><span data-stu-id="e0cc1-132">Create a Custom Key Frame</span></span>  
 <span data-ttu-id="e0cc1-133">Tworzenie niestandardowej klasy klatek kluczowych jest najprostszym sposobem rozszerzenia systemu animacji.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-133">Creating a custom key frame class is the simplest way to extend the animation system.</span></span> <span data-ttu-id="e0cc1-134">Użyj tej metody, jeśli chcesz użyć innej metody interpolacji dla animacji klatki kluczowej.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-134">Use this approach when you want to a different interpolation method for a key-frame animation.</span></span>  <span data-ttu-id="e0cc1-135">Zgodnie z opisem w [przeglądzie animacji klatek kluczowych](key-frame-animations-overview.md)animacja klatki kluczowej używa obiektów klatki kluczowej do generowania wartości wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-135">As described in the [Key-Frame Animations Overview](key-frame-animations-overview.md), a key-frame animation uses key frame objects to generate its output values.</span></span> <span data-ttu-id="e0cc1-136">Każdy obiekt klatki kluczowej pełni trzy funkcje:</span><span class="sxs-lookup"><span data-stu-id="e0cc1-136">Each key frame object performs three functions:</span></span>  
  
- <span data-ttu-id="e0cc1-137">Określa wartość docelową <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> przy użyciu jego właściwości.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-137">Specifies a target value using its <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> property.</span></span>  
  
- <span data-ttu-id="e0cc1-138">Określa czas, w którym ta wartość <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> powinna zostać osiągnięta przy użyciu jego właściwości.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-138">Specifies the time at which that value should be reached using its <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> property.</span></span>  
  
- <span data-ttu-id="e0cc1-139">Interpoluje wartość poprzedniej klatki kluczowej a jego własną wartość, implementując metodę InterpolateValueCore.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-139">Interpolates between the value of the previous key frame and its own value by implementing the InterpolateValueCore method.</span></span>  
  
 <span data-ttu-id="e0cc1-140">**Instrukcje implementacji**</span><span class="sxs-lookup"><span data-stu-id="e0cc1-140">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="e0cc1-141">Wywodź z \* \<klasy \*abstrakcyjnej Typ>KeyFrame i zaimplementuj metodę InterpolateValueCore.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-141">Derive from the *\<Type>* KeyFrame abstract class and implement the InterpolateValueCore method.</span></span> <span data-ttu-id="e0cc1-142">Metoda InterpolateValueCore zwraca bieżącą wartość klatki kluczowej.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-142">The InterpolateValueCore method returns the current value of the key frame.</span></span> <span data-ttu-id="e0cc1-143">Wymaga dwóch parametrów: wartość poprzedniej klatki kluczowej i wartość postępu, która waha się od 0 do 1.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-143">It takes two parameters: the value of the previous key frame and a progress value that ranges from 0 to 1.</span></span> <span data-ttu-id="e0cc1-144">Postęp 0 wskazuje, że klatka kluczowa właśnie się rozpoczęła, a wartość 1 wskazuje, że klatka <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> kluczowa właśnie została ukończona i powinna zwrócić wartość określoną przez jego właściwość.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-144">A progress of 0 indicates the key frame has just started, and a value of 1 indicates that the key frame has just completed and should return the value specified by its <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> property.</span></span>  
  
 <span data-ttu-id="e0cc1-145">Ponieważ \* \<Typ>\* Klasy KeyFrame dziedziczą z <xref:System.Windows.Freezable> klasy, należy <xref:System.Windows.Freezable.CreateInstanceCore%2A> również zastąpić core, aby zwrócić nowe wystąpienie klasy.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-145">Because the *\<Type>* KeyFrame classes inherit from the <xref:System.Windows.Freezable> class, you must also override <xref:System.Windows.Freezable.CreateInstanceCore%2A> core to return a new instance of your class.</span></span> <span data-ttu-id="e0cc1-146">Jeśli klasa nie używa właściwości zależności do przechowywania swoich danych lub wymaga dodatkowego inicjowania po utworzeniu, może być konieczne zastąpienie dodatkowych metod; Zobacz [Freezable Obiektów Omówienie, aby](../advanced/freezable-objects-overview.md) uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-146">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="e0cc1-147">Po utworzeniu niestandardowej \* \< *animacji>keyframe można jej używać z elementami \* \<Type>* AnimationUsingKeyFrames dla tego typu.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-147">After you've created your custom *\<Type>* KeyFrame animation, you can use it with the *\<Type>* AnimationUsingKeyFrames for that type.</span></span>  
  
<a name="createacustomanimationtype"></a>
## <a name="create-a-custom-animation-class"></a><span data-ttu-id="e0cc1-148">Tworzenie niestandardowej klasy animacji</span><span class="sxs-lookup"><span data-stu-id="e0cc1-148">Create a Custom Animation Class</span></span>  
 <span data-ttu-id="e0cc1-149">Tworzenie własnego typu animacji daje większą kontrolę nad tym, jak obiekt w animowany.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-149">Creating your own animation type gives you more control over how an object in animated.</span></span> <span data-ttu-id="e0cc1-150">Istnieją dwa zalecane sposoby tworzenia własnego typu animacji: <xref:System.Windows.Media.Animation.AnimationTimeline> można wyprowadzić z klasy lub \* \<Typ>\* AnimationBase klasy.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-150">There are two recommended ways to create your own animation type: you can derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class or the *\<Type>* AnimationBase class.</span></span> <span data-ttu-id="e0cc1-151">Nie zaleca się wyprowadzania z klasy \* \<Animacja>\* typu lub \* \<Typ>. \*</span><span class="sxs-lookup"><span data-stu-id="e0cc1-151">Deriving from the *\<Type>* Animation or *\<Type>* AnimationUsingKeyFrames classes is not recommended.</span></span>  
  
### <a name="derive-from-typeanimationbase"></a><span data-ttu-id="e0cc1-152">Wywodząc się z \<bazy animacji>typu</span><span class="sxs-lookup"><span data-stu-id="e0cc1-152">Derive from \<Type>AnimationBase</span></span>  
 <span data-ttu-id="e0cc1-153">Pochodna klasy \* \<Type>\* AnimationBase jest najprostszym sposobem utworzenia nowego typu animacji.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-153">Deriving from a *\<Type>* AnimationBase class is the simplest way to create a new animation type.</span></span> <span data-ttu-id="e0cc1-154">Użyj tej metody, jeśli chcesz utworzyć nową animację \* \< \*dla typu, który ma już odpowiednią klasę Type>AnimationBase.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-154">Use this approach when you want to create a new animation for type that already has a corresponding *\<Type>* AnimationBase class.</span></span>  
  
 <span data-ttu-id="e0cc1-155">**Instrukcje implementacji**</span><span class="sxs-lookup"><span data-stu-id="e0cc1-155">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="e0cc1-156">Wynik z \* \<klasy Type>\* Animation i zaimplementuj metodę GetCurrentValueCore.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-156">Derive from a *\<Type>* Animation class and implement the GetCurrentValueCore method.</span></span> <span data-ttu-id="e0cc1-157">Metoda GetCurrentValueCore zwraca bieżącą wartość animacji.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-157">The GetCurrentValueCore method returns the current value of the animation.</span></span> <span data-ttu-id="e0cc1-158">Potrzeba trzech parametrów: sugerowanej wartości początkowej, sugerowanej <xref:System.Windows.Media.Animation.AnimationClock>wartości zakończenia i , której używasz do określenia postępu animacji.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-158">It takes three parameters: a suggested starting value, a suggested ending value, and an <xref:System.Windows.Media.Animation.AnimationClock>, which you use to determine the progress of the animation.</span></span>  
  
 <span data-ttu-id="e0cc1-159">Ponieważ \* \<Typ>\* AnimationBase klasy dziedziczą <xref:System.Windows.Freezable> z klasy, należy <xref:System.Windows.Freezable.CreateInstanceCore%2A> również zastąpić core, aby zwrócić nowe wystąpienie klasy.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-159">Because the *\<Type>* AnimationBase classes inherit from the <xref:System.Windows.Freezable> class, you must also override <xref:System.Windows.Freezable.CreateInstanceCore%2A> core to return a new instance of your class.</span></span> <span data-ttu-id="e0cc1-160">Jeśli klasa nie używa właściwości zależności do przechowywania swoich danych lub wymaga dodatkowego inicjowania po utworzeniu, może być konieczne zastąpienie dodatkowych metod; Zobacz [Freezable Obiektów Omówienie, aby](../advanced/freezable-objects-overview.md) uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-160">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="e0cc1-161">Aby uzyskać więcej informacji, zobacz GetCurrentValueCore dokumentacji metody \* \<dla typu>\* AnimationBase klasy dla typu, który chcesz animować.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-161">For more information, see the GetCurrentValueCore method documentation for the *\<Type>* AnimationBase class for the type that you want to animate.</span></span> <span data-ttu-id="e0cc1-162">Na przykład zobacz [przykład animacji niestandardowej](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/CustomAnimation)</span><span class="sxs-lookup"><span data-stu-id="e0cc1-162">For an example, see the [Custom Animation Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/CustomAnimation)</span></span>  
  
 <span data-ttu-id="e0cc1-163">**Alternatywne podejścia**</span><span class="sxs-lookup"><span data-stu-id="e0cc1-163">**Alternative Approaches**</span></span>  
  
 <span data-ttu-id="e0cc1-164">Jeśli chcesz po prostu zmienić sposób interpolacji wartości animacji, biorąc pod uwagę wynikające z jednej z \* \<klasy Type>\* KeyFrame.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-164">If you simply want to change how animation values are interpolated, considering deriving from one of the *\<Type>* KeyFrame classes.</span></span> <span data-ttu-id="e0cc1-165">Utworzona klatka kluczowa może być używana z odpowiednim [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] \* \<typem>\* AnimationUsingKeyFrames dostarczonym przez program .</span><span class="sxs-lookup"><span data-stu-id="e0cc1-165">The key frame you create can be used with the corresponding *\<Type>* AnimationUsingKeyFrames provided by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
### <a name="derive-from-animationtimeline"></a><span data-ttu-id="e0cc1-166">Wywodź z animationtimeline</span><span class="sxs-lookup"><span data-stu-id="e0cc1-166">Derive from AnimationTimeline</span></span>  
 <span data-ttu-id="e0cc1-167">Wynik z <xref:System.Windows.Media.Animation.AnimationTimeline> klasy, gdy chcesz utworzyć animację dla typu, który [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] nie ma jeszcze pasujące animacji lub chcesz utworzyć animację, która nie jest silnie wpisane.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-167">Derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class when you want to create an animation for a type that doesn't already have a matching [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation, or you want to create an animation that is not strongly typed.</span></span>  
  
 <span data-ttu-id="e0cc1-168">**Instrukcje implementacji**</span><span class="sxs-lookup"><span data-stu-id="e0cc1-168">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="e0cc1-169">Wyprowadzić <xref:System.Windows.Media.Animation.AnimationTimeline> z klasy i zastąpić następujące elementy członkowskie:</span><span class="sxs-lookup"><span data-stu-id="e0cc1-169">Derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class and override the following members:</span></span>  
  
- <span data-ttu-id="e0cc1-170"><xref:System.Windows.Freezable.CreateInstanceCore%2A>– Jeśli nowa klasa jest konkretne, <xref:System.Windows.Freezable.CreateInstanceCore%2A> należy zastąpić, aby zwrócić nowe wystąpienie klasy.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-170"><xref:System.Windows.Freezable.CreateInstanceCore%2A> – If your new class is concrete, you must override <xref:System.Windows.Freezable.CreateInstanceCore%2A> to return a new instance of your class.</span></span>  
  
- <span data-ttu-id="e0cc1-171"><xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A>– Zastądnąć tę metodę, aby zwrócić bieżącą wartość animacji.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-171"><xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> – Override this method to return the current value of your animation.</span></span> <span data-ttu-id="e0cc1-172">Potrzeba trzech parametrów: domyślnej wartości początku układu <xref:System.Windows.Media.Animation.AnimationClock>współrzędnych, domyślnej wartości docelowej i pliku .</span><span class="sxs-lookup"><span data-stu-id="e0cc1-172">It takes three parameters: a default origin value, a default destination value, and an <xref:System.Windows.Media.Animation.AnimationClock>.</span></span> <span data-ttu-id="e0cc1-173">Użyj, <xref:System.Windows.Media.Animation.AnimationClock> aby uzyskać bieżący czas lub postęp animacji.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-173">Use the <xref:System.Windows.Media.Animation.AnimationClock> to obtain the current time or progress for the animation.</span></span> <span data-ttu-id="e0cc1-174">Można wybrać, czy mają być używane domyślne wartości początkowe i docelowe.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-174">You can choose whether to use the default origin and destination values.</span></span>  
  
- <span data-ttu-id="e0cc1-175"><xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A>– Zastądnie tej właściwości, aby wskazać, czy <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> animacja używa domyślnej wartości docelowej określonej przez metodę.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-175"><xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> – Override this property to indicate whether your animation uses the default destination value specified by the <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> method.</span></span>  
  
- <span data-ttu-id="e0cc1-176"><xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A>– Zastądeń tę <xref:System.Type> właściwość, aby wskazać dane wyjściowe, które tworzy animacja.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-176"><xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> – Override this property to indicate the <xref:System.Type> of output your animation produces.</span></span>  
  
 <span data-ttu-id="e0cc1-177">Jeśli klasa nie używa właściwości zależności do przechowywania swoich danych lub wymaga dodatkowego inicjowania po utworzeniu, może być konieczne zastąpienie dodatkowych metod; Zobacz [Freezable Obiektów Omówienie, aby](../advanced/freezable-objects-overview.md) uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-177">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="e0cc1-178">Zalecany paradygmat [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] (używany przez animacje) polega na użyciu dwóch poziomów dziedziczenia:</span><span class="sxs-lookup"><span data-stu-id="e0cc1-178">The recommended paradigm (used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animations) is to use two inheritance levels:</span></span>  
  
1. <span data-ttu-id="e0cc1-179">Utwórz \* \< \*abstrakcyjną klasę Type>AnimationBase, <xref:System.Windows.Media.Animation.AnimationTimeline>która wywodzi się z .</span><span class="sxs-lookup"><span data-stu-id="e0cc1-179">Create an abstract *\<Type>* AnimationBase class that derives from <xref:System.Windows.Media.Animation.AnimationTimeline>.</span></span> <span data-ttu-id="e0cc1-180">Ta klasa powinna zastąpić <xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> metodę.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-180">This class should override the <xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> method.</span></span> <span data-ttu-id="e0cc1-181">Należy również wprowadzić nową metodę abstrakcyjną, GetCurrentValueCore <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> i zastąpić tak, aby sprawdzał typy domyślnej wartości początku układu współrzędnych i domyślnych parametrów wartości docelowej, a następnie wywołuje GetCurrentValueCore.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-181">It should also introduce a new abstract method, GetCurrentValueCore, and override <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> so that it validates the types of the default origin value and default destination value parameters, then calls GetCurrentValueCore.</span></span>  
  
2. <span data-ttu-id="e0cc1-182">Utwórz inną klasę, która \* \< \*dziedziczy z nowego typu>AnimationBase klasy i zastępuje <xref:System.Windows.Freezable.CreateInstanceCore%2A> metodę, GetCurrentValueCore metody, które zostały wprowadzone i <xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-182">Create another class that inherits from your new *\<Type>* AnimationBase class and overrides the <xref:System.Windows.Freezable.CreateInstanceCore%2A> method, the GetCurrentValueCore method that you introduced, and the <xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> property.</span></span>  
  
 <span data-ttu-id="e0cc1-183">**Alternatywne podejścia**</span><span class="sxs-lookup"><span data-stu-id="e0cc1-183">**Alternative Approaches**</span></span>  
  
 <span data-ttu-id="e0cc1-184">Jeśli chcesz animować typ, który nie ma odpowiadającej animacji Od/Do/Przez lub animacji klatki kluczowej, rozważ użycie programu <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames>.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-184">If you want to animate a type that has no corresponding From/To/By animation or key-frame animation, consider using an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames>.</span></span> <span data-ttu-id="e0cc1-185">Ponieważ jest słabo wpisany, <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> może animować dowolny typ wartości.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-185">Because it is weakly typed, an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> can animate any type of value.</span></span> <span data-ttu-id="e0cc1-186">Wadą tego podejścia jest <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> to, że obsługuje tylko interpolacji dyskretnej.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-186">The drawback to this approach is that <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> only supports discrete interpolation.</span></span>  
  
<a name="useperframecallback"></a>
## <a name="use-per-frame-callback"></a><span data-ttu-id="e0cc1-187">Używanie wywołania zwrotnego na klatkę</span><span class="sxs-lookup"><span data-stu-id="e0cc1-187">Use Per-Frame Callback</span></span>  
 <span data-ttu-id="e0cc1-188">Użyj tego podejścia, gdy trzeba [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] całkowicie pominąć system animacji.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-188">Use this approach when you need to completely bypass the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system.</span></span> <span data-ttu-id="e0cc1-189">Jednym ze scenariuszy dla tego podejścia jest animacje fizyki, gdzie na każdym kroku animacji nowy kierunek lub położenie animowanych obiektów musi być ponownie skompensowany na podstawie ostatniego zestawu interakcji z obiektami.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-189">One scenario for this approach is physics animations, where at each animation step a new direction or position of animated objects needs to be recomputed based on the  last set of object interactions.</span></span>  
  
 <span data-ttu-id="e0cc1-190">**Instrukcje implementacji**</span><span class="sxs-lookup"><span data-stu-id="e0cc1-190">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="e0cc1-191">W przeciwieństwie do innych metod opisanych w tym przeglądzie, aby użyć wywołania zwrotnego na klatkę, nie trzeba tworzyć niestandardowej animacji lub klasy klatki kluczowej.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-191">Unlike the other approaches described in this overview, to use per-frame callback you don't need to create a custom animation or key frame class.</span></span>  
  
 <span data-ttu-id="e0cc1-192">Zamiast tego można zarejestrować <xref:System.Windows.Media.CompositionTarget.Rendering> zdarzenie obiektu, który zawiera obiekty, które chcesz animować.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-192">Instead, you register for the <xref:System.Windows.Media.CompositionTarget.Rendering> event of the object that contains the objects you want to animate.</span></span> <span data-ttu-id="e0cc1-193">Ta metoda obsługi zdarzeń zostanie wywołana raz na klatkę.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-193">This event handler method gets called once per frame.</span></span> <span data-ttu-id="e0cc1-194">Za każdym [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] razem, gdy marshals utrwalone dane renderowania w drzewie wizualnym w poprzek drzewa kompozycji, metoda obsługi zdarzeń jest wywoływana.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-194">Each time that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] marshals the persisted rendering data in the visual tree across to the composition tree, your event handler method is called.</span></span>  
  
 <span data-ttu-id="e0cc1-195">W programie obsługi zdarzeń wykonaj wszelkie obliczenia niezbędne dla efektu animacji i ustaw właściwości obiektów, które chcesz animować z tymi wartościami.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-195">In your event handler, perform your whatever calculations necessary for your animation effect and set the properties of the objects you want to animate with these values.</span></span>  
  
 <span data-ttu-id="e0cc1-196">Aby uzyskać czas prezentacji bieżącej <xref:System.EventArgs> ramki, skojarzone z <xref:System.Windows.Media.RenderingEventArgs>tym zdarzeniem <xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A> można rzutować jako , które zapewniają właściwość, której można użyć do uzyskania bieżącego czasu renderowania ramki.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-196">To obtain the presentation time of the current frame, the <xref:System.EventArgs> associated with this event can be cast as <xref:System.Windows.Media.RenderingEventArgs>, which provide a <xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A> property that you can use to obtain the current frame's rendering time.</span></span>  
  
 <span data-ttu-id="e0cc1-197">Aby uzyskać więcej <xref:System.Windows.Media.CompositionTarget.Rendering> informacji, zobacz stronę.</span><span class="sxs-lookup"><span data-stu-id="e0cc1-197">For more information, see the <xref:System.Windows.Media.CompositionTarget.Rendering> page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e0cc1-198">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="e0cc1-198">See also</span></span>

- <xref:System.Windows.Media.Animation.AnimationTimeline>
- <xref:System.Windows.Media.Animation.IKeyFrame>
- [<span data-ttu-id="e0cc1-199">Techniki animacji właściwości — przegląd</span><span class="sxs-lookup"><span data-stu-id="e0cc1-199">Property Animation Techniques Overview</span></span>](property-animation-techniques-overview.md)
- [<span data-ttu-id="e0cc1-200">Przegląd Obiekty Freezable</span><span class="sxs-lookup"><span data-stu-id="e0cc1-200">Freezable Objects Overview</span></span>](../advanced/freezable-objects-overview.md)
- [<span data-ttu-id="e0cc1-201">Przegląd Animacja kluczowych klatek</span><span class="sxs-lookup"><span data-stu-id="e0cc1-201">Key-Frame Animations Overview</span></span>](key-frame-animations-overview.md)
- [<span data-ttu-id="e0cc1-202">Animacje ścieżki — przegląd</span><span class="sxs-lookup"><span data-stu-id="e0cc1-202">Path Animations Overview</span></span>](path-animations-overview.md)
- [<span data-ttu-id="e0cc1-203">Przegląd Animacja</span><span class="sxs-lookup"><span data-stu-id="e0cc1-203">Animation Overview</span></span>](animation-overview.md)
- [<span data-ttu-id="e0cc1-204">Przegląd Animacja i system chronometrażu</span><span class="sxs-lookup"><span data-stu-id="e0cc1-204">Animation and Timing System Overview</span></span>](animation-and-timing-system-overview.md)
- [<span data-ttu-id="e0cc1-205">Próbka animacji niestandardowej</span><span class="sxs-lookup"><span data-stu-id="e0cc1-205">Custom Animation Sample</span></span>](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/CustomAnimation)
