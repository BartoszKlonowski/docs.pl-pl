---
title: "Przegląd Niestandardowe animacje"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- custom classes [WPF], animation
- key frames [WPF], custom
- custom key frames [WPF]
- animation [WPF], custom classes
- custom animation classes [WPF]
ms.assetid: 9be69d50-3384-4938-886f-08ce00e4a7a6
caps.latest.revision: "14"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: a206e0234f4e6365e76f73977beda1688c036a79
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/21/2017
---
# <a name="custom-animations-overview"></a><span data-ttu-id="07ff1-102">Przegląd Niestandardowe animacje</span><span class="sxs-lookup"><span data-stu-id="07ff1-102">Custom Animations Overview</span></span>
<span data-ttu-id="07ff1-103">W tym temacie opisano, jak i kiedy rozszerzenie [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] systemu animacji, tworząc niestandardowe klatek kluczowych animacji klas, lub za pomocą wywołania zwrotnego na ramki do obejścia go.</span><span class="sxs-lookup"><span data-stu-id="07ff1-103">This topic describes how and when to extend the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system by creating custom key frames, animation classes, or by using per-frame callback to bypass it.</span></span>  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="07ff1-104">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="07ff1-104">Prerequisites</span></span>  
 <span data-ttu-id="07ff1-105">Aby zrozumieć, w tym temacie, należy się zapoznać z różnymi typami animacje pochodzącymi [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="07ff1-105">To understand this topic, you should be familiar with the different types of animations provided by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="07ff1-106">Aby uzyskać więcej informacji, zobacz Omówienie animacje From/To/By, [klucza ramki animacji omówienie](../../../../docs/framework/wpf/graphics-multimedia/key-frame-animations-overview.md)i [omówienie animacje ścieżki](../../../../docs/framework/wpf/graphics-multimedia/path-animations-overview.md).</span><span class="sxs-lookup"><span data-stu-id="07ff1-106">For more information, see the From/To/By Animations Overview, the [Key-Frame Animations Overview](../../../../docs/framework/wpf/graphics-multimedia/key-frame-animations-overview.md), and the [Path Animations Overview](../../../../docs/framework/wpf/graphics-multimedia/path-animations-overview.md).</span></span>  
  
 <span data-ttu-id="07ff1-107">Ponieważ dziedziczy klasy animacji <xref:System.Windows.Freezable> klasy, należy się zapoznać z <xref:System.Windows.Freezable> obiektów oraz sposób dziedziczyć <xref:System.Windows.Freezable>.</span><span class="sxs-lookup"><span data-stu-id="07ff1-107">Because the animation classes inherit from the <xref:System.Windows.Freezable> class, you should be familiar with <xref:System.Windows.Freezable> objects and how to inherit from <xref:System.Windows.Freezable>.</span></span> <span data-ttu-id="07ff1-108">Aby uzyskać więcej informacji, zobacz [obiektu Freezable Przegląd obiektów](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="07ff1-108">For more information, see the [Freezable Objects Overview](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md).</span></span>  
  
<a name="extendingtheanimationsystem"></a>   
## <a name="extending-the-animation-system"></a><span data-ttu-id="07ff1-109">Rozszerzanie systemu animacji</span><span class="sxs-lookup"><span data-stu-id="07ff1-109">Extending the Animation System</span></span>  
 <span data-ttu-id="07ff1-110">Istnieje wiele sposobów, aby rozszerzyć [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] systemu animacji, w zależności od poziomu wbudowanej funkcji, dla którego chcesz użyć.</span><span class="sxs-lookup"><span data-stu-id="07ff1-110">There are a number of ways to extend the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system, depending on the level of built-in functionality you want to use.</span></span>  <span data-ttu-id="07ff1-111">Istnieją trzy punkty rozszerzalności głównej w [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] aparatu animacji:</span><span class="sxs-lookup"><span data-stu-id="07ff1-111">There are three primary extensibility points in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation engine:</span></span>  
  
-   <span data-ttu-id="07ff1-112">Tworzenie obiektu niestandardowych klatki przez dziedziczenie z jednego z  *\<typu >*klasy klatki kluczowej, takich jak <xref:System.Windows.Media.Animation.DoubleKeyFrame>.</span><span class="sxs-lookup"><span data-stu-id="07ff1-112">Create a custom key frame object by inheriting from one of the *\<Type>*KeyFrame classes, such as <xref:System.Windows.Media.Animation.DoubleKeyFrame>.</span></span> <span data-ttu-id="07ff1-113">Ta metoda używa większość wbudowanych funkcji [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] aparat animacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-113">This approach uses most of the built-in functionality of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation engine.</span></span>  
  
-   <span data-ttu-id="07ff1-114">Tworzenie klasy animacji przez dziedziczenie z <xref:System.Windows.Media.Animation.AnimationTimeline> lub jednego z  *\<typu >*klasy podstawy animacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-114">Create your own animation class by inheriting from <xref:System.Windows.Media.Animation.AnimationTimeline> or one of the *\<Type>*AnimationBase classes.</span></span>  
  
-   <span data-ttu-id="07ff1-115">Umożliwia generowanie animacji na podstawie na ramki na ramki wywołania zwrotnego.</span><span class="sxs-lookup"><span data-stu-id="07ff1-115">Use per-frame callback to generate animations on a per-frame basis.</span></span> <span data-ttu-id="07ff1-116">Takie podejście całkowicie pomijany animacji i czasu systemu.</span><span class="sxs-lookup"><span data-stu-id="07ff1-116">This approach completely bypasses the animation and timing system.</span></span>  
  
 <span data-ttu-id="07ff1-117">W poniższej tabeli opisano niektóre scenariusze rozszerzanie systemu animacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-117">The following table describes some the scenarios for extending the animation system.</span></span>  
  
|<span data-ttu-id="07ff1-118">Jeśli chcesz...</span><span class="sxs-lookup"><span data-stu-id="07ff1-118">When you want to...</span></span>|<span data-ttu-id="07ff1-119">Posłuż się tą metodą</span><span class="sxs-lookup"><span data-stu-id="07ff1-119">Use this approach</span></span>|  
|-------------------------|-----------------------|  
|<span data-ttu-id="07ff1-120">Dostosowywanie interpolacji między wartościami typu, który ma odpowiadające mu  *\<typu >*AnimationUsingKeyFrames</span><span class="sxs-lookup"><span data-stu-id="07ff1-120">Customize the interpolation between values of a type that has a corresponding *\<Type>*AnimationUsingKeyFrames</span></span>|<span data-ttu-id="07ff1-121">Utwórz ramkę klucza niestandardowego.</span><span class="sxs-lookup"><span data-stu-id="07ff1-121">Create a custom key frame.</span></span> <span data-ttu-id="07ff1-122">Aby uzyskać więcej informacji, zobacz [Utwórz ramkę, klucz niestandardowy](#createacustomkeyframe) sekcji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-122">For more information, see the [Create a Custom Key Frame](#createacustomkeyframe) section.</span></span>|  
|<span data-ttu-id="07ff1-123">Dostosowywanie więcej niż tylko interpolacji między wartościami typu, który ma odpowiadające mu  *\<typu >*animacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-123">Customize more than just the interpolation between values of a type that has a corresponding *\<Type>*Animation.</span></span>|<span data-ttu-id="07ff1-124">Utwórz klasę animacji niestandardowej, która dziedziczy  *\<typu >*klasę podstawy animacji, która odpowiada typowi mają być animowane.</span><span class="sxs-lookup"><span data-stu-id="07ff1-124">Create a custom animation class that inherits from the *\<Type>*AnimationBase class that corresponds to the type you want to animate.</span></span> <span data-ttu-id="07ff1-125">Aby uzyskać więcej informacji, zobacz [utworzyć klasę animacji niestandardowej](#createacustomanimationtype) sekcji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-125">For more information, see the [Create a Custom Animation Class](#createacustomanimationtype) section.</span></span>|  
|<span data-ttu-id="07ff1-126">Animowanie typu, który nie ma odpowiedniego [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animacji</span><span class="sxs-lookup"><span data-stu-id="07ff1-126">Animate a type that has no corresponding [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation</span></span>|<span data-ttu-id="07ff1-127">Użyj <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> lub utworzyć klasę, która dziedziczy <xref:System.Windows.Media.Animation.AnimationTimeline>.</span><span class="sxs-lookup"><span data-stu-id="07ff1-127">Use an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> or create a class that inherits from <xref:System.Windows.Media.Animation.AnimationTimeline>.</span></span> <span data-ttu-id="07ff1-128">Aby uzyskać więcej informacji, zobacz [utworzyć klasę animacji niestandardowej](#createacustomanimationtype) sekcji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-128">For more information, see the [Create a Custom Animation Class](#createacustomanimationtype) section.</span></span>|  
|<span data-ttu-id="07ff1-129">Animacja wiele obiektów o wartości, które są obliczane każdy ramki i są oparte na ostatni zestaw obiektów interakcji</span><span class="sxs-lookup"><span data-stu-id="07ff1-129">Animate multiple objects with values that are computed each frame and are based on the last set of object interactions</span></span>|<span data-ttu-id="07ff1-130">Użyj wywołania zwrotnego na ramki.</span><span class="sxs-lookup"><span data-stu-id="07ff1-130">Use per-frame callback.</span></span> <span data-ttu-id="07ff1-131">Aby uzyskać więcej informacji, zobacz [utworzyć Użyj wywołania zwrotnego na ramce](#useperframecallback) sekcji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-131">For more information, see the [Create a Use Per-Frame Callback](#useperframecallback) section.</span></span>|  
  
<a name="createacustomkeyframe"></a>   
## <a name="create-a-custom-key-frame"></a><span data-ttu-id="07ff1-132">Utwórz ramkę klucza niestandardowego</span><span class="sxs-lookup"><span data-stu-id="07ff1-132">Create a Custom Key Frame</span></span>  
 <span data-ttu-id="07ff1-133">Tworzenie klasy niestandardowej klatki jest najprostszym sposobem, aby rozszerzyć systemu animacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-133">Creating a custom key frame class is the simplest way to extend the animation system.</span></span> <span data-ttu-id="07ff1-134">Tej metody należy użyć, jeśli chcesz metodę interpolacji innej animacji ramki klucza.</span><span class="sxs-lookup"><span data-stu-id="07ff1-134">Use this approach when you want to a different interpolation method for a key-frame animation.</span></span>  <span data-ttu-id="07ff1-135">Zgodnie z opisem w [klucza ramki animacji omówienie](../../../../docs/framework/wpf/graphics-multimedia/key-frame-animations-overview.md), animacji ramki klucz używa klatki obiektów do generowania wartości jego dane wyjściowe.</span><span class="sxs-lookup"><span data-stu-id="07ff1-135">As described in the [Key-Frame Animations Overview](../../../../docs/framework/wpf/graphics-multimedia/key-frame-animations-overview.md), a key-frame animation uses key frame objects to generate its output values.</span></span> <span data-ttu-id="07ff1-136">Każdy obiekt klatki pełni trzy funkcje:</span><span class="sxs-lookup"><span data-stu-id="07ff1-136">Each key frame object performs three functions:</span></span>  
  
-   <span data-ttu-id="07ff1-137">Określa wartość docelowych przy użyciu jego <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="07ff1-137">Specifies a target value using its <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> property.</span></span>  
  
-   <span data-ttu-id="07ff1-138">Określa czas, w którym ta wartość zostanie osiągnięty przy użyciu jego <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="07ff1-138">Specifies the time at which that value should be reached using its <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> property.</span></span>  
  
-   <span data-ttu-id="07ff1-139">Zaimplementowanie metody InterpolateValueCore wartość argumentu wartości poprzedniej ramki klucza z własnej wartości.</span><span class="sxs-lookup"><span data-stu-id="07ff1-139">Interpolates between the value of the previous key frame and its own value by implementing the InterpolateValueCore method.</span></span>  
  
 <span data-ttu-id="07ff1-140">**Instrukcje dotyczące wdrażania**</span><span class="sxs-lookup"><span data-stu-id="07ff1-140">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="07ff1-141">Pochodzić od  *\<typu >*klatki kluczowej klasę abstrakcyjną i zaimplementuj metodę InterpolateValueCore.</span><span class="sxs-lookup"><span data-stu-id="07ff1-141">Derive from the *\<Type>*KeyFrame abstract class and implement the InterpolateValueCore method.</span></span> <span data-ttu-id="07ff1-142">Metoda InterpolateValueCore zwraca bieżącą wartość klucza ramki.</span><span class="sxs-lookup"><span data-stu-id="07ff1-142">The InterpolateValueCore method returns the current value of the key frame.</span></span> <span data-ttu-id="07ff1-143">Trwa dwa parametry: wartość poprzedniej ramki klucza i wartość postępu zakresu od 0 do 1.</span><span class="sxs-lookup"><span data-stu-id="07ff1-143">It takes two parameters: the value of the previous key frame and a progress value that ranges from 0 to 1.</span></span> <span data-ttu-id="07ff1-144">Wskazuje postęp 0 klatek kluczowych właśnie zostało uruchomione, a wartość 1 oznacza, że klatek kluczowych został ukończony i powinien zwrócić wartość określoną przez jego <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="07ff1-144">A progress of 0 indicates the key frame has just started, and a value of 1 indicates that the key frame has just completed and should return the value specified by its <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> property.</span></span>  
  
 <span data-ttu-id="07ff1-145">Ponieważ  *\<typu >*klatki kluczowej klasy dziedziczą <xref:System.Windows.Freezable> klasy, należy również zmienić <xref:System.Windows.Freezable.CreateInstanceCore%2A> core, aby zwrócić nowe wystąpienie klasy.</span><span class="sxs-lookup"><span data-stu-id="07ff1-145">Because the *\<Type>*KeyFrame classes inherit from the <xref:System.Windows.Freezable> class, you must also override <xref:System.Windows.Freezable.CreateInstanceCore%2A> core to return a new instance of your class.</span></span> <span data-ttu-id="07ff1-146">Jeśli klasa nie używa właściwości zależności do przechowywania danych lub wymaga dodatkową inicjację po utworzeniu, konieczne może być zastąpienie dodatkowe metody; zobacz [obiektu Freezable Przegląd obiektów](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-146">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="07ff1-147">Po utworzeniu niestandardowe  *\<typu >*klatek kluczowych animacji, użytkownik może być używany z  *\<typu >*AnimationUsingKeyFrames dla tego typu.</span><span class="sxs-lookup"><span data-stu-id="07ff1-147">After you've created your custom *\<Type>*KeyFrame animation, you can use it with the *\<Type>*AnimationUsingKeyFrames for that type.</span></span>  
  
<a name="createacustomanimationtype"></a>   
## <a name="create-a-custom-animation-class"></a><span data-ttu-id="07ff1-148">Utwórz klasę animacji niestandardowej</span><span class="sxs-lookup"><span data-stu-id="07ff1-148">Create a Custom Animation Class</span></span>  
 <span data-ttu-id="07ff1-149">Tworzenie własnych animacji umożliwia typu większa kontrola nad jak animowany obiektu w.</span><span class="sxs-lookup"><span data-stu-id="07ff1-149">Creating your own animation type gives you more control over how an object in animated.</span></span> <span data-ttu-id="07ff1-150">Istnieją dwa sposoby zalecane, aby utworzyć własny typ animacji: może pochodzić od <xref:System.Windows.Media.Animation.AnimationTimeline> klasy lub  *\<typu >*klasy podstawy animacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-150">There are two recommended ways to create your own animation type: you can derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class or the *\<Type>*AnimationBase class.</span></span> <span data-ttu-id="07ff1-151">Wyprowadzanie z  *\<typu >*animacji lub  *\<typu >*AnimationUsingKeyFrames klasy nie jest zalecane.</span><span class="sxs-lookup"><span data-stu-id="07ff1-151">Deriving from the *\<Type>*Animation or *\<Type>*AnimationUsingKeyFrames classes is not recommended.</span></span>  
  
### <a name="derive-from-typeanimationbase"></a><span data-ttu-id="07ff1-152">Pochodzić od \<typu > podstawy animacji</span><span class="sxs-lookup"><span data-stu-id="07ff1-152">Derive from \<Type>AnimationBase</span></span>  
 <span data-ttu-id="07ff1-153">Wyprowadzanie z  *\<typu >*klasy podstawy animacji jest najprostszym sposobem, aby utworzyć nowy typ animacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-153">Deriving from a *\<Type>*AnimationBase class is the simplest way to create a new animation type.</span></span> <span data-ttu-id="07ff1-154">Tej metody należy użyć, gdy chcesz utworzyć nowe animacji dla typu, który ma już odpowiadający  *\<typu >*klasy podstawy animacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-154">Use this approach when you want to create a new animation for type that already has a corresponding *\<Type>*AnimationBase class.</span></span>  
  
 <span data-ttu-id="07ff1-155">**Instrukcje dotyczące wdrażania**</span><span class="sxs-lookup"><span data-stu-id="07ff1-155">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="07ff1-156">Pochodzić od  *\<typu >*klasy animacji i zaimplementuj metodę GetCurrentValueCore.</span><span class="sxs-lookup"><span data-stu-id="07ff1-156">Derive from a *\<Type>*Animation class and implement the GetCurrentValueCore method.</span></span> <span data-ttu-id="07ff1-157">Metoda GetCurrentValueCore zwraca wartość bieżącą animacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-157">The GetCurrentValueCore method returns the current value of the animation.</span></span> <span data-ttu-id="07ff1-158">Trwa trzy parametry: sugerowane wartości początkowej, sugerowane wartości końcowej i <xref:System.Windows.Media.Animation.AnimationClock>, który służy do określania postęp animacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-158">It takes three parameters: a suggested starting value, a suggested ending value, and an <xref:System.Windows.Media.Animation.AnimationClock>, which you use to determine the progress of the animation.</span></span>  
  
 <span data-ttu-id="07ff1-159">Ponieważ  *\<typu >*podstawy animacji klasy dziedziczą <xref:System.Windows.Freezable> klasy, należy również zmienić <xref:System.Windows.Freezable.CreateInstanceCore%2A> core, aby zwrócić nowe wystąpienie klasy.</span><span class="sxs-lookup"><span data-stu-id="07ff1-159">Because the *\<Type>*AnimationBase classes inherit from the <xref:System.Windows.Freezable> class, you must also override <xref:System.Windows.Freezable.CreateInstanceCore%2A> core to return a new instance of your class.</span></span> <span data-ttu-id="07ff1-160">Jeśli klasa nie używa właściwości zależności do przechowywania danych lub wymaga dodatkową inicjację po utworzeniu, konieczne może być zastąpienie dodatkowe metody; zobacz [obiektu Freezable Przegląd obiektów](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-160">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="07ff1-161">Aby uzyskać więcej informacji, zobacz dokumentację metody GetCurrentValueCore dla  *\<typu >*klasę podstawy animacji dla typu, który ma być animowane.</span><span class="sxs-lookup"><span data-stu-id="07ff1-161">For more information, see the GetCurrentValueCore method documentation for the *\<Type>*AnimationBase class for the type that you want to animate.</span></span> <span data-ttu-id="07ff1-162">Na przykład zobacz [próbki animacji niestandardowej](http://go.microsoft.com/fwlink/?LinkID=159981)</span><span class="sxs-lookup"><span data-stu-id="07ff1-162">For an example, see the [Custom Animation Sample](http://go.microsoft.com/fwlink/?LinkID=159981)</span></span>  
  
 <span data-ttu-id="07ff1-163">**Alternatywnych metod**</span><span class="sxs-lookup"><span data-stu-id="07ff1-163">**Alternative Approaches**</span></span>  
  
 <span data-ttu-id="07ff1-164">Jeśli po prostu chcesz zmienić sposób interpolowane z wartości animacji, biorąc pod uwagę, wynikające z jednego z  *\<typu >*klatki kluczowej klasy.</span><span class="sxs-lookup"><span data-stu-id="07ff1-164">If you simply want to change how animation values are interpolated, considering deriving from one of the *\<Type>*KeyFrame classes.</span></span> <span data-ttu-id="07ff1-165">Klatki tworzenia może być używany z odpowiadającego  *\<typu >*AnimationUsingKeyFrames dostarczonych przez [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="07ff1-165">The key frame you create can be used with the corresponding *\<Type>*AnimationUsingKeyFrames provided by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
### <a name="derive-from-animationtimeline"></a><span data-ttu-id="07ff1-166">Pochodzi od klasy AnimationTimeline</span><span class="sxs-lookup"><span data-stu-id="07ff1-166">Derive from AnimationTimeline</span></span>  
 <span data-ttu-id="07ff1-167">Pochodzić od <xref:System.Windows.Media.Animation.AnimationTimeline> klasy, jeśli chcesz utworzyć animację dla typu, który nie ma jeszcze odpowiadającego mu [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animacji lub gdy chcesz utworzyć animację, który nie jest silnie typu.</span><span class="sxs-lookup"><span data-stu-id="07ff1-167">Derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class when you want to create an animation for a type that doesn't already have a matching [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation, or you want to create an animation that is not strongly typed.</span></span>  
  
 <span data-ttu-id="07ff1-168">**Instrukcje dotyczące wdrażania**</span><span class="sxs-lookup"><span data-stu-id="07ff1-168">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="07ff1-169">Pochodzić od <xref:System.Windows.Media.Animation.AnimationTimeline> klasy i przesłonięcie następujących elementów:</span><span class="sxs-lookup"><span data-stu-id="07ff1-169">Derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class and override the following members:</span></span>  
  
-   <span data-ttu-id="07ff1-170"><xref:System.Windows.Freezable.CreateInstanceCore%2A>— W przypadku nowej klasie konkretnych, konieczne jest przesłonięcie <xref:System.Windows.Freezable.CreateInstanceCore%2A> aby zwrócić nowe wystąpienie klasy.</span><span class="sxs-lookup"><span data-stu-id="07ff1-170"><xref:System.Windows.Freezable.CreateInstanceCore%2A> – If your new class is concrete, you must override <xref:System.Windows.Freezable.CreateInstanceCore%2A> to return a new instance of your class.</span></span>  
  
-   <span data-ttu-id="07ff1-171"><xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A>— Przesłonić tę metodę do zwracania bieżącej wartości animacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-171"><xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> – Override this method to return the current value of your animation.</span></span> <span data-ttu-id="07ff1-172">Trwa trzy parametry: wartość pochodzenia domyślną, wartość domyślną docelowego i <xref:System.Windows.Media.Animation.AnimationClock>.</span><span class="sxs-lookup"><span data-stu-id="07ff1-172">It takes three parameters: a default origin value, a default destination value, and an <xref:System.Windows.Media.Animation.AnimationClock>.</span></span> <span data-ttu-id="07ff1-173">Użyj <xref:System.Windows.Media.Animation.AnimationClock> uzyskać bieżącą godzinę lub postępu dla animacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-173">Use the <xref:System.Windows.Media.Animation.AnimationClock> to obtain the current time or progress for the animation.</span></span> <span data-ttu-id="07ff1-174">Można wybrać, czy należy użyć wartości domyślnych źródło i miejsce docelowe.</span><span class="sxs-lookup"><span data-stu-id="07ff1-174">You can choose whether to use the default origin and destination values.</span></span>  
  
-   <span data-ttu-id="07ff1-175"><xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A>— Zastąpić tę właściwość, aby wskazać, czy animacja używa domyślnej wartości docelowej, określone przez <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="07ff1-175"><xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> – Override this property to indicate whether your animation uses the default destination value specified by the <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> method.</span></span>  
  
-   <span data-ttu-id="07ff1-176"><xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A>— Zastąpić tę właściwość, aby wskazać <xref:System.Type> danych wyjściowych tworzy animacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-176"><xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> – Override this property to indicate the <xref:System.Type> of output your animation produces.</span></span>  
  
 <span data-ttu-id="07ff1-177">Jeśli klasa nie używa właściwości zależności do przechowywania danych lub wymaga dodatkową inicjację po utworzeniu, konieczne może być zastąpienie dodatkowe metody; zobacz [obiektu Freezable Przegląd obiektów](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md) Aby uzyskać więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-177">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="07ff1-178">Zalecane modelu (używane przez [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animacje) jest użycie dwa poziomy dziedziczenia:</span><span class="sxs-lookup"><span data-stu-id="07ff1-178">The recommended paradigm (used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animations) is to use two inheritance levels:</span></span>  
  
1.  <span data-ttu-id="07ff1-179">Utwórz abstrakcyjnego  *\<typu >*podstawy animacji klasy, która jest pochodną <xref:System.Windows.Media.Animation.AnimationTimeline>.</span><span class="sxs-lookup"><span data-stu-id="07ff1-179">Create an abstract *\<Type>*AnimationBase class that derives from <xref:System.Windows.Media.Animation.AnimationTimeline>.</span></span> <span data-ttu-id="07ff1-180">Ta klasa powinny zastępować <xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="07ff1-180">This class should override the <xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> method.</span></span> <span data-ttu-id="07ff1-181">Należy również wprowadzić nowej metody abstrakcyjnej GetCurrentValueCore i zastąpić <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> tak, aby sprawdza poprawność typów wartości domyślnej pochodzenia i domyślne parametry wartości docelowej, a następnie wywołuje GetCurrentValueCore.</span><span class="sxs-lookup"><span data-stu-id="07ff1-181">It should also introduce a new abstract method, GetCurrentValueCore, and override <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> so that it validates the types of the default origin value and default destination value parameters, then calls GetCurrentValueCore.</span></span>  
  
2.  <span data-ttu-id="07ff1-182">Utwórz inną klasę, która dziedziczy z nowej  *\<typu >*klasy podstawy animacji i zastępuje <xref:System.Windows.Freezable.CreateInstanceCore%2A> metody, metoda GetCurrentValueCore wprowadzone, i <xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="07ff1-182">Create another class that inherits from your new *\<Type>*AnimationBase class and overrides the <xref:System.Windows.Freezable.CreateInstanceCore%2A> method, the GetCurrentValueCore method that you introduced, and the <xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> property.</span></span>  
  
 <span data-ttu-id="07ff1-183">**Alternatywnych metod**</span><span class="sxs-lookup"><span data-stu-id="07ff1-183">**Alternative Approaches**</span></span>  
  
 <span data-ttu-id="07ff1-184">Aby animować typu, który nie ma odpowiedniego z lub do/przez animację ani klucz ramki animacji, należy rozważyć użycie <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames>.</span><span class="sxs-lookup"><span data-stu-id="07ff1-184">If you want to animate a type that has no corresponding From/To/By animation or key-frame animation, consider using an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames>.</span></span> <span data-ttu-id="07ff1-185">Ponieważ jest słabo wpisany, <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> można animować dowolnego typu wartości.</span><span class="sxs-lookup"><span data-stu-id="07ff1-185">Because it is weakly typed, an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> can animate any type of value.</span></span> <span data-ttu-id="07ff1-186">Wadą tego podejścia jest to, że <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> obsługuje tylko interpolacji dyskretnych.</span><span class="sxs-lookup"><span data-stu-id="07ff1-186">The drawback to this approach is that <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> only supports discrete interpolation.</span></span>  
  
<a name="useperframecallback"></a>   
## <a name="use-per-frame-callback"></a><span data-ttu-id="07ff1-187">Użyj wywołania zwrotnego na ramki</span><span class="sxs-lookup"><span data-stu-id="07ff1-187">Use Per-Frame Callback</span></span>  
 <span data-ttu-id="07ff1-188">Tej metody należy użyć, gdy należy całkowicie pominąć [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] systemu animacji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-188">Use this approach when you need to completely bypass the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system.</span></span> <span data-ttu-id="07ff1-189">Jeden scenariusz takie podejście jest animacje fizycznych, gdzie w każdej animacji kroku nowe kierunek lub położenie animowany obiektów musi to być przeliczane na podstawie ostatni zestaw obiektów interakcji.</span><span class="sxs-lookup"><span data-stu-id="07ff1-189">One scenario for this approach is physics animations, where at each animation step a new direction or position of animated objects needs to be recomputed based on the  last set of object interactions.</span></span>  
  
 <span data-ttu-id="07ff1-190">**Instrukcje dotyczące wdrażania**</span><span class="sxs-lookup"><span data-stu-id="07ff1-190">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="07ff1-191">W odróżnieniu od innych metod opisanych w tym omówieniu Aby użyć wywołania zwrotnego na ramki nie trzeba utworzyć klasę klatek kluczowych animacji niestandardowej lub.</span><span class="sxs-lookup"><span data-stu-id="07ff1-191">Unlike the other approaches described in this overview, to use per-frame callback you don't need to create a custom animation or key frame class.</span></span>  
  
 <span data-ttu-id="07ff1-192">Zamiast tego należy zarejestrować dla <xref:System.Windows.Media.CompositionTarget.Rendering> zdarzeń obiektu, który zawiera obiekty mają być animowane.</span><span class="sxs-lookup"><span data-stu-id="07ff1-192">Instead, you register for the <xref:System.Windows.Media.CompositionTarget.Rendering> event of the object that contains the objects you want to animate.</span></span> <span data-ttu-id="07ff1-193">Ta metoda obsługi zdarzeń jest wywoływana raz na klatkę.</span><span class="sxs-lookup"><span data-stu-id="07ff1-193">This event handler method gets called once per frame.</span></span> <span data-ttu-id="07ff1-194">Każdej aktualizacji [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] marshals danych utrwalonych renderowania w drzewie wizualnym w drzewie kompozycji sieci metoda obsługi zdarzeń jest wywoływana.</span><span class="sxs-lookup"><span data-stu-id="07ff1-194">Each time that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] marshals the persisted rendering data in the visual tree across to the composition tree, your event handler method is called.</span></span>  
  
 <span data-ttu-id="07ff1-195">W program obsługi zdarzeń, wykonaj użytkownika niezależnie od obliczeń niezbędnych dla animacji efektu i ustaw właściwości obiektów mają być animowane z tymi wartościami.</span><span class="sxs-lookup"><span data-stu-id="07ff1-195">In your event handler, perform your whatever calculations necessary for your animation effect and set the properties of the objects you want to animate with these values.</span></span>  
  
 <span data-ttu-id="07ff1-196">Można uzyskać czasu prezentacji bieżącej ramki <xref:System.EventArgs> skojarzony z tym zdarzeń mogą być rzutowane jako <xref:System.Windows.Media.RenderingEventArgs>, które zapewniają <xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A> właściwości, które można użyć w celu uzyskania bieżącej ramki do renderowania czasu.</span><span class="sxs-lookup"><span data-stu-id="07ff1-196">To obtain the presentation time of the current frame, the <xref:System.EventArgs> associated with this event can be cast as <xref:System.Windows.Media.RenderingEventArgs>, which provide a <xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A> property that you can use to obtain the current frame's rendering time.</span></span>  
  
 <span data-ttu-id="07ff1-197">Aby uzyskać więcej informacji, zobacz <xref:System.Windows.Media.CompositionTarget.Rendering> strony.</span><span class="sxs-lookup"><span data-stu-id="07ff1-197">For more information, see the <xref:System.Windows.Media.CompositionTarget.Rendering> page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="07ff1-198">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="07ff1-198">See Also</span></span>  
 <xref:System.Windows.Media.Animation.AnimationTimeline>  
 <xref:System.Windows.Media.Animation.IKeyFrame>  
 [<span data-ttu-id="07ff1-199">Omówienie techniki animacji właściwość</span><span class="sxs-lookup"><span data-stu-id="07ff1-199">Property Animation Techniques Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/property-animation-techniques-overview.md)  
 [<span data-ttu-id="07ff1-200">Obiekty obiektu freezable — omówienie</span><span class="sxs-lookup"><span data-stu-id="07ff1-200">Freezable Objects Overview</span></span>](../../../../docs/framework/wpf/advanced/freezable-objects-overview.md)  
 [<span data-ttu-id="07ff1-201">Omówienie klucza poklatkowych</span><span class="sxs-lookup"><span data-stu-id="07ff1-201">Key-Frame Animations Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/key-frame-animations-overview.md)  
 [<span data-ttu-id="07ff1-202">Omówienie animacje ścieżki</span><span class="sxs-lookup"><span data-stu-id="07ff1-202">Path Animations Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/path-animations-overview.md)  
 [<span data-ttu-id="07ff1-203">Animacja — omówienie</span><span class="sxs-lookup"><span data-stu-id="07ff1-203">Animation Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md)  
 [<span data-ttu-id="07ff1-204">Animacja i chronometrażu Przegląd systemu</span><span class="sxs-lookup"><span data-stu-id="07ff1-204">Animation and Timing System Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/animation-and-timing-system-overview.md)  
 [<span data-ttu-id="07ff1-205">Przykładowe animacji niestandardowej</span><span class="sxs-lookup"><span data-stu-id="07ff1-205">Custom Animation Sample</span></span>](http://go.microsoft.com/fwlink/?LinkID=159981)
