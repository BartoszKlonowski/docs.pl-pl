---
title: Rozszerzenia znacznikowania i WPF XAML
ms.date: 03/30/2017
helpviewer_keywords:
- brace character [WPF]
- Binding markup extensions [WPF]
- RelativeSource markup extensions [WPF]
- XAML [WPF], markup extensions
- markup extensions [WPF]
- nesting extension syntax [WPF]
- curly brace characters ({})
- TemplateBinding markup extensions [WPF]
- StaticResource markup extensions [WPF]
- literal curly brace characters ({})
- characters [WPF], curly brace
- DynamicResource markup extensions [WPF]
ms.assetid: 618dc745-8b14-4886-833f-486d2254bb78
ms.openlocfilehash: e2fb1e64f957b49743d8dfb19091bca50303e2d2
ms.sourcegitcommit: 43924acbdbb3981d103e11049bbe460457d42073
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/23/2018
---
# <a name="markup-extensions-and-wpf-xaml"></a><span data-ttu-id="b4dfe-102">Rozszerzenia znacznikowania i WPF XAML</span><span class="sxs-lookup"><span data-stu-id="b4dfe-102">Markup Extensions and WPF XAML</span></span>
<span data-ttu-id="b4dfe-103">W tym temacie przedstawiono koncepcję rozszerzenia znaczników dla XAML, łącznie z ich składni reguł, cel i model obiektów klasy źródłowej je.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-103">This topic introduces the concept of markup extensions for XAML, including their syntax rules, purpose, and the class object model that underlies them.</span></span> <span data-ttu-id="b4dfe-104">Rozszerzenia znaczników są funkcją ogólne języka XAML i stosowania usługi XAML .NET.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-104">Markup extensions are a general feature of the XAML language and of the .NET implementation of XAML services.</span></span> <span data-ttu-id="b4dfe-105">W tym temacie szczegółowo w szczególności rozszerzenia znaczników do użycia w WPF XAML.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-105">This topic specifically details markup extensions for use in WPF XAML.</span></span>  
  
  
<a name="XAML_Processors_and_Markup_Extensions"></a>   
## <a name="xaml-processors-and-markup-extensions"></a><span data-ttu-id="b4dfe-106">Procesory XAML i rozszerzenia znaczników</span><span class="sxs-lookup"><span data-stu-id="b4dfe-106">XAML Processors and Markup Extensions</span></span>  
 <span data-ttu-id="b4dfe-107">Ogólnie rzecz biorąc analizatora składni języka XAML albo można zinterpretować wartości atrybutu jako ciąg literału, które mogą być konwertowane do typu pierwotnego lub przekonwertować go do obiektu w sposób.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-107">Generally speaking, a XAML parser can either interpret an attribute value as a literal string that can be converted to a primitive, or convert it to an object by some means.</span></span> <span data-ttu-id="b4dfe-108">Takie środki jest odwołując konwertera typów; jest to opisane w temacie [TypeConverters i języka XAML](../../../../docs/framework/wpf/advanced/typeconverters-and-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-108">One such means is by referencing a type converter; this is documented in the topic [TypeConverters and XAML](../../../../docs/framework/wpf/advanced/typeconverters-and-xaml.md).</span></span> <span data-ttu-id="b4dfe-109">Istnieją jednak scenariuszy, w którym wymagany jest inaczej.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-109">However, there are scenarios where different behavior is required.</span></span> <span data-ttu-id="b4dfe-110">Na przykład procesora XAML może się instrukcja wartość atrybutu nie powinny powodować w nowym obiekcie na grafie obiektu.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-110">For example, a XAML processor can be instructed that a value of an attribute should not result in a new object in the object graph.</span></span> <span data-ttu-id="b4dfe-111">Zamiast tego atrybutu powinno spowodować wykresu obiektu, który odwołuje się do obiektu już utworzone w innej części wykresu lub statycznego obiektu.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-111">Instead, the attribute should result in an object graph that makes a reference to an already constructed object in another part of the graph, or a static object.</span></span> <span data-ttu-id="b4dfe-112">Inny scenariusz polega na tym, że procesor XAML mogą być zalecane jest używanie składnię, która zawiera argumenty z systemem innym niż domyślny konstruktor obiektu.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-112">Another scenario is that a XAML processor can be instructed to use a syntax that provides non-default arguments to the constructor of an object.</span></span> <span data-ttu-id="b4dfe-113">Są to typy scenariuszy, w którym rozszerzenie znaczników można podać rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-113">These are the types of scenarios where a markup extension can provide the solution.</span></span>  
  
<a name="Basic_Markup_Extension_Syntax"></a>   
## <a name="basic-markup-extension-syntax"></a><span data-ttu-id="b4dfe-114">Składnia rozszerzenia znaczników podstawowe</span><span class="sxs-lookup"><span data-stu-id="b4dfe-114">Basic Markup Extension Syntax</span></span>  
 <span data-ttu-id="b4dfe-115">Rozszerzenie znaczników można zaimplementować o podanie wartości właściwości użycie atrybutu, właściwości użycie elementu właściwości lub oba.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-115">A markup extension can be implemented to provide values for properties in an attribute usage, properties in a property element usage, or both.</span></span>  
  
 <span data-ttu-id="b4dfe-116">W przypadku podania wartości atrybutu składni, która odróżnia sekwencję rozszerzenia znaczników procesor XAML jest obecność otwierający i zamykający nawiasy klamrowe ({i}).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-116">When used to provide an attribute value, the syntax that distinguishes a markup extension sequence to a XAML processor is the presence of the opening and closing curly braces ({ and }).</span></span> <span data-ttu-id="b4dfe-117">Typ rozszerzenia znacznika następnie jest identyfikowany przez token ciągu bezpośrednio po otwierającym nawiasie klamrowym.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-117">The type of markup extension is then identified by the string token immediately following the opening curly brace.</span></span>  
  
 <span data-ttu-id="b4dfe-118">Używana w składni elementu właściwości, rozszerzenie znaczników wizualnie jest taki sam jak inny element używane w celu dostarczania wartości właściwości elementu: deklarację elementu XAML, który odwołuje się do klasa rozszerzenia struktury znaczników jako elementu ujętą w nawiasy klamrowe nawiasy (<> ).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-118">When used in property element syntax, a markup extension is visually the same as any other element used to provide a property element value: a XAML element declaration that references the markup extension class as an element, enclosed within angle brackets (<>).</span></span>  
  
<a name="XAML_Defined_Markup_Extensions"></a>   
## <a name="xaml-defined-markup-extensions"></a><span data-ttu-id="b4dfe-119">Rozszerzenia znaczników zdefiniowane XAML</span><span class="sxs-lookup"><span data-stu-id="b4dfe-119">XAML-Defined Markup Extensions</span></span>  
 <span data-ttu-id="b4dfe-120">Istnieje kilka rozszerzeń znaczników, które nie są specyficzne dla wdrożenia WPF XAML, ale zamiast tego są implementacje funkcje wewnętrzne lub funkcje XAML jako język.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-120">Several markup extensions exist that are not specific to the WPF implementation of XAML, but are instead implementations of intrinsics or features of XAML as a language.</span></span> <span data-ttu-id="b4dfe-121">Te rozszerzenia znaczników są implementowane w zestawie System.Xaml jako część ogólne usługi .NET Framework XAML i znajdują się w przestrzeni nazw XAML języka XAML.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-121">These markup extensions are implemented in the System.Xaml assembly as part of the general .NET Framework XAML services, and are within the XAML language XAML namespace.</span></span> <span data-ttu-id="b4dfe-122">Pod względem wspólnego użycia znaczników, są zazwyczaj do zidentyfikowania przez te rozszerzenia znaczników `x:` prefiks w użycia.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-122">In terms of common markup usage, these markup extensions are typically identifiable by the `x:` prefix in the usage.</span></span> <span data-ttu-id="b4dfe-123"><xref:System.Windows.Markup.MarkupExtension> Klasy podstawowej (też definiowany w System.Xaml) zawiera wzorzec, który ma być używany przez wszystkie rozszerzenia znaczników aby być obsługiwana w przypadku czytników XAML i moduły zapisujące XAML, w tym w WPF XAML.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-123">The <xref:System.Windows.Markup.MarkupExtension> base class (also defined in System.Xaml) provides the pattern that all markup extensions should use in order to be supported in XAML readers and XAML writers, including in WPF XAML.</span></span>  
  
-   <span data-ttu-id="b4dfe-124">`x:Type` dostarcza <xref:System.Type> obiektu dla typu nazwanego.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-124">`x:Type` supplies the <xref:System.Type> object for the named type.</span></span> <span data-ttu-id="b4dfe-125">Tej funkcji jest najczęściej używane style i szablony.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-125">This facility is used most frequently in styles and templates.</span></span> <span data-ttu-id="b4dfe-126">Aby uzyskać więcej informacji, zobacz [x: Type — rozszerzenie znaczników](../../../../docs/framework/xaml-services/x-type-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-126">For details, see [x:Type Markup Extension](../../../../docs/framework/xaml-services/x-type-markup-extension.md).</span></span>  
  
-   <span data-ttu-id="b4dfe-127">`x:Static` Tworzy wartości statyczne.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-127">`x:Static` produces static values.</span></span> <span data-ttu-id="b4dfe-128">Wartości pochodzą z jednostek kodu typ wartości, które nie są bezpośrednio typ wartości właściwości docelowych, ale może przyjąć typu.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-128">The values come from value-type code entities that are not directly the type of a target property's value, but can be evaluated to that type.</span></span> <span data-ttu-id="b4dfe-129">Aby uzyskać więcej informacji, zobacz [x: Static — rozszerzenie znaczników](../../../../docs/framework/xaml-services/x-static-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-129">For details, see [x:Static Markup Extension](../../../../docs/framework/xaml-services/x-static-markup-extension.md).</span></span>  
  
-   <span data-ttu-id="b4dfe-130">`x:Null` Określa `null` jako wartość właściwości i mogą być używane dla atrybutów lub wartości elementów właściwości.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-130">`x:Null` specifies `null` as a value for a property and can be used either for attributes or property element values.</span></span> <span data-ttu-id="b4dfe-131">Aby uzyskać więcej informacji, zobacz [x: Null — rozszerzenie znaczników](../../../../docs/framework/xaml-services/x-null-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-131">For details, see [x:Null Markup Extension](../../../../docs/framework/xaml-services/x-null-markup-extension.md).</span></span>  
  
-   <span data-ttu-id="b4dfe-132">`x:Array` zapewnia obsługę tworzenia ogólne tablic w składni języka XAML w przypadkach, gdy obsługa kolekcji zapewniana przez WPF podstawowych elementów i modele kontroli celowo nie jest używana.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-132">`x:Array` provides support for creation of general arrays in XAML syntax, for cases where the collection support provided by WPF base elements and control models is deliberately not used.</span></span> <span data-ttu-id="b4dfe-133">Aby uzyskać więcej informacji, zobacz [x: Array — rozszerzenie znaczników](../../../../docs/framework/xaml-services/x-array-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-133">For details, see [x:Array Markup Extension](../../../../docs/framework/xaml-services/x-array-markup-extension.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b4dfe-134">`x:` Prefiks jest używany do typowych mapowania przestrzeni nazw XAML funkcji XAML language wewnętrznych, na w elemencie głównym pliku XAML lub produkcji.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-134">The `x:` prefix is used for the typical XAML namespace mapping of the XAML language intrinsics, in the root element of a XAML file or production.</span></span> <span data-ttu-id="b4dfe-135">Na przykład szablony programu Visual Studio dla aplikacji WPF zainicjować pliku XAML, za pomocą tej `x:` mapowania.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-135">For example, the Visual Studio templates for WPF applications initiate a XAML file using this `x:` mapping.</span></span> <span data-ttu-id="b4dfe-136">Można wybrać inny token w własne mapowania przestrzeni nazw XAML, ale w tej dokumentacji przyjmie wartość domyślna `x:` mapowania jako sposób identyfikacji tych jednostek, które należą do określonych przestrzeni nazw XAML dla języka XAML, a nie WPF domyślnej przestrzeni nazw lub innych przestrzeniach nazw XAML nie dotyczą określonej platformy.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-136">You could choose a different prefix token in your own XAML namespace mapping, but this documentation will assume the default `x:` mapping as a means of identifying those entities that are a defined part of the XAML namespace for the XAML language, as opposed to the WPF default namespace or other XAML namespaces not related to a specific framework.</span></span>  
  
<a name="WPF_Specific_Markup_Extensions"></a>   
## <a name="wpf-specific-markup-extensions"></a><span data-ttu-id="b4dfe-137">Rozszerzenia znaczników specyficzne dla WPF</span><span class="sxs-lookup"><span data-stu-id="b4dfe-137">WPF-Specific Markup Extensions</span></span>  
 <span data-ttu-id="b4dfe-138">Najczęstsze rozszerzenia znacznika używany w programowaniu WPF to takie, które obsługują odwołania do zasobów (`StaticResource` i `DynamicResource`) oraz te, które obsługuje powiązanie danych (`Binding`).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-138">The most common markup extensions used in WPF programming are those that support resource references (`StaticResource` and `DynamicResource`), and those that support data binding (`Binding`).</span></span>  
  
-   <span data-ttu-id="b4dfe-139">`StaticResource` dostarcza wartość dla właściwości, zastępując wartości zasobu już zdefiniowane.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-139">`StaticResource` provides a value for a property by substituting the value of an already defined resource.</span></span> <span data-ttu-id="b4dfe-140">A `StaticResource` oceny staje się ostatecznie w czasie ładowania XAML i nie ma dostępu do obiektu wykresu w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-140">A `StaticResource` evaluation is ultimately made at XAML load time and does not have access to the object graph at run time.</span></span> <span data-ttu-id="b4dfe-141">Aby uzyskać więcej informacji, zobacz [StaticResource — rozszerzenie znaczników](../../../../docs/framework/wpf/advanced/staticresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-141">For details, see [StaticResource Markup Extension](../../../../docs/framework/wpf/advanced/staticresource-markup-extension.md).</span></span>  
  
-   <span data-ttu-id="b4dfe-142">`DynamicResource` udostępnia wartość właściwości przez odkładanie tej wartości jako odwołanie do zasobu czasu wykonywania.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-142">`DynamicResource` provides a value for a property by deferring that value to be a run-time reference to a resource.</span></span> <span data-ttu-id="b4dfe-143">Odwołanie do zasobu dynamicznego wymusza nowego wyszukiwania zawsze czy taki zasób jest dostępny i ma dostęp do obiektu wykresu w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-143">A dynamic resource reference forces a new lookup each time that such a resource is accessed and has access to the object graph at run time.</span></span> <span data-ttu-id="b4dfe-144">Aby uzyskać dostęp, `DynamicResource` koncepcja jest obsługiwana przez właściwości zależności w systemie właściwości WPF i oceniane wyrażenia.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-144">In order to get this access, `DynamicResource` concept is supported by dependency properties in the WPF property system, and evaluated expressions.</span></span> <span data-ttu-id="b4dfe-145">W związku z tym można używać tylko `DynamicResource` dla docelowej właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-145">Therefore you can only use `DynamicResource` for a dependency property target.</span></span> <span data-ttu-id="b4dfe-146">Aby uzyskać więcej informacji, zobacz [DynamicResource — rozszerzenie znaczników](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-146">For details, see [DynamicResource Markup Extension](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md).</span></span>  
  
-   <span data-ttu-id="b4dfe-147">`Binding` zawiera wartość właściwości, za pomocą kontekstu danych, która ma zastosowanie do obiektu nadrzędnego w czasie wykonywania powiązany z danymi.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-147">`Binding` provides a data bound value for a property, using the data context that applies to the parent object at run time.</span></span> <span data-ttu-id="b4dfe-148">Tego rozszerzenia znacznika jest dość złożone, ponieważ dzięki składnię znacznej wbudowanego Określanie powiązania danych.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-148">This markup extension is relatively complex, because it enables a substantial inline syntax for specifying a data binding.</span></span> <span data-ttu-id="b4dfe-149">Aby uzyskać więcej informacji, zobacz [powiązanie — rozszerzenie znaczników](../../../../docs/framework/wpf/advanced/binding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-149">For details, see [Binding Markup Extension](../../../../docs/framework/wpf/advanced/binding-markup-extension.md).</span></span>  
  
-   <span data-ttu-id="b4dfe-150">`RelativeSource` zawiera informacje o źródle <xref:System.Windows.Data.Binding> który Przejdź kilka możliwych relacji drzewa obiektów czasu wykonywania.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-150">`RelativeSource` provides source information for a <xref:System.Windows.Data.Binding> that can navigate several possible relationships in the run-time object tree.</span></span> <span data-ttu-id="b4dfe-151">Zapewnia to specjalne sourcing dla powiązań, które są w szablonach wielokrotnego użytku lub tworzony kodu bez pełnej znajomości otaczającego drzewa obiektów.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-151">This provides specialized sourcing for bindings that are created in multi-use templates or created in code without full knowledge of the surrounding object tree.</span></span> <span data-ttu-id="b4dfe-152">Aby uzyskać więcej informacji, zobacz [RelativeSource MarkupExtension](../../../../docs/framework/wpf/advanced/relativesource-markupextension.md).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-152">For details, see [RelativeSource MarkupExtension](../../../../docs/framework/wpf/advanced/relativesource-markupextension.md).</span></span>  
  
-   <span data-ttu-id="b4dfe-153">`TemplateBinding` Umożliwia szablon formantu użyć wartości dla właściwości opartego na szablonie, które pochodzą z właściwości zdefiniowane przez model obiektu klasy, który będzie używany przez szablon.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-153">`TemplateBinding` enables a control template to use values for templated properties that come from object-model-defined properties of the class that will use the template.</span></span> <span data-ttu-id="b4dfe-154">Innymi słowy właściwości w definicji szablonu mogą uzyskiwać dostęp do kontekstu, który istnieje tylko po zastosowaniu tego szablonu.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-154">In other words, the property within the template definition can access a context that only exists once the template is applied.</span></span> <span data-ttu-id="b4dfe-155">Aby uzyskać więcej informacji, zobacz [rozszerzenie znacznika TemplateBinding](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-155">For details, see [TemplateBinding Markup Extension](../../../../docs/framework/wpf/advanced/templatebinding-markup-extension.md).</span></span> <span data-ttu-id="b4dfe-156">Aby uzyskać więcej informacji na praktyczne wykorzystanie `TemplateBinding`, zobacz [style próbki ControlTemplates](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-156">For more information on the practical use of `TemplateBinding`, see [Styling with ControlTemplates Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Styles%20&%20Templates/IntroToStylingAndTemplating).</span></span>  
  
-   <span data-ttu-id="b4dfe-157">`ColorConvertedBitmap` obsługuje stosunkowo zaawansowanym scenariuszu przetwarzania obrazów.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-157">`ColorConvertedBitmap` supports a relatively advanced imaging scenario.</span></span> <span data-ttu-id="b4dfe-158">Aby uzyskać więcej informacji, zobacz [ColorConvertedBitmap — rozszerzenie znaczników](../../../../docs/framework/wpf/advanced/colorconvertedbitmap-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-158">For details, see [ColorConvertedBitmap Markup Extension](../../../../docs/framework/wpf/advanced/colorconvertedbitmap-markup-extension.md).</span></span>  
  
-   <span data-ttu-id="b4dfe-159">`ComponentResourceKey` i `ThemeDictionary` obsługują aspekty wyszukiwania zasobów, szczególnie w przypadku zasobów i motywów, które są dostarczane z Kontrolki niestandardowe.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-159">`ComponentResourceKey` and `ThemeDictionary` support aspects of resource lookup, particularly for resources and themes that are packaged with custom controls.</span></span> <span data-ttu-id="b4dfe-160">Aby uzyskać więcej informacji, zobacz [ComponentResourceKey — rozszerzenie znaczników](../../../../docs/framework/wpf/advanced/componentresourcekey-markup-extension.md), [ThemeDictionary — rozszerzenie znaczników](../../../../docs/framework/wpf/advanced/themedictionary-markup-extension.md), lub [informacje o formancie tworzenia](../../../../docs/framework/wpf/controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-160">For more information, see [ComponentResourceKey Markup Extension](../../../../docs/framework/wpf/advanced/componentresourcekey-markup-extension.md), [ThemeDictionary Markup Extension](../../../../docs/framework/wpf/advanced/themedictionary-markup-extension.md), or [Control Authoring Overview](../../../../docs/framework/wpf/controls/control-authoring-overview.md).</span></span>  
  
<a name="StarExtension"></a>   
## <a name="extension-classes"></a><span data-ttu-id="b4dfe-161">\* Rozszerzenie klasy</span><span class="sxs-lookup"><span data-stu-id="b4dfe-161">\*Extension Classes</span></span>  
 <span data-ttu-id="b4dfe-162">Dla języka XAML ogólne i WPF rozszerzenia znaczników, zachowania poszczególnych rozszerzeń znaczników jest identyfikowany procesor XAML za pośrednictwem `*Extension` klasą pochodzącą z <xref:System.Windows.Markup.MarkupExtension>i udostępnia implementację elementu <xref:System.Windows.Markup.StaticExtension.ProvideValue%2A> Metoda.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-162">For both the general XAML language and WPF-specific markup extensions, the behavior of each markup extension is identified to a XAML processor through a `*Extension` class that derives from <xref:System.Windows.Markup.MarkupExtension>, and provides an implementation of the <xref:System.Windows.Markup.StaticExtension.ProvideValue%2A> method.</span></span> <span data-ttu-id="b4dfe-163">Tej metody na każde rozszerzenie zawiera obiekt, który jest zwracany, gdy rozszerzenie znaczników jest obliczane.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-163">This method on each extension provides the object that is returned when the markup extension is evaluated.</span></span> <span data-ttu-id="b4dfe-164">Zwrócony obiekt jest zwykle obliczane oparte na różnych tokeny ciągów, które są przekazywane do rozszerzenia znacznika.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-164">The returned object is typically evaluated based on the various string tokens that are passed to the markup extension.</span></span>  
  
 <span data-ttu-id="b4dfe-165">Na przykład <xref:System.Windows.StaticResourceExtension> klasa udostępnia powierzchni wykonania wyszukiwania rzeczywistych zasobów, aby jego <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> implementacja zwraca obiekt, którego zażądano, przy użyciu danych wejściowych tej konkretnej implementacji jest ciąg, który służy do Wyszukiwanie zasobów przez jego `x:Key`.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-165">For example, the <xref:System.Windows.StaticResourceExtension> class provides the surface implementation of actual resource lookup so that its <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> implementation returns the object that is requested, with the input of that particular implementation being a string that is used to look up the resource by its `x:Key`.</span></span> <span data-ttu-id="b4dfe-166">Większość tych szczegółów implementacji jest bez znaczenia, jeśli używane są istniejące rozszerzenie znacznika.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-166">Much of this implementation detail is unimportant if you are using an existing markup extension.</span></span>  
  
 <span data-ttu-id="b4dfe-167">Niektóre rozszerzenia znaczników nie należy używać tokenu argumenty typu string.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-167">Some markup extensions do not use string token arguments.</span></span> <span data-ttu-id="b4dfe-168">Jest to ponieważ zwracają wartość statyczny lub spójne lub kontekst dla wartości, które powinny być zwracane jest dostępna za pośrednictwem usług przekazywane `serviceProvider` parametru.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-168">This is either because they return a static or consistent value, or because context for what value should be returned is available through one of the services passed through the `serviceProvider` parameter.</span></span>  
  
 <span data-ttu-id="b4dfe-169">`*Extension` Jest wzorzec nazewnictwa dla wygody i spójności.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-169">The `*Extension` naming pattern is for convenience and consistency.</span></span> <span data-ttu-id="b4dfe-170">Nie jest konieczne w kolejności dla procesora XAML do identyfikowania tej klasy, jak pomocy technicznej dla rozszerzenia znacznika.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-170">It is not necessary in order for a XAML processor to identify that class as support for a markup extension.</span></span> <span data-ttu-id="b4dfe-171">Tak długo, jak baza kodu zawiera System.Xaml i korzysta z usług .NET Framework XAML implementacji, wszystko jest rozpoznana jako rozszerzenie znaczników w XAML pochodzi od <xref:System.Windows.Markup.MarkupExtension> i obsługuje składni konstrukcji.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-171">So long as your codebase includes System.Xaml and uses .NET Framework XAML Services implementations, all that is necessary to be recognized as a XAML markup extension is to derive from <xref:System.Windows.Markup.MarkupExtension> and to support a construction syntax.</span></span> <span data-ttu-id="b4dfe-172">Włączenie rozszerzenia klasy znaczników, które nie wykonuj definiuje WPF `*Extension` nazewnictwa wzorzec, na przykład <xref:System.Windows.Data.Binding>.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-172">WPF defines markup extension-enabling classes that do not follow the `*Extension` naming pattern, for example <xref:System.Windows.Data.Binding>.</span></span> <span data-ttu-id="b4dfe-173">Zazwyczaj przyczyną jest że klasa obsługuje scenariusze poza czysty znaczników rozszerzenia obsługi.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-173">Typically the reason for this is that the class supports scenarios beyond pure markup extension support.</span></span> <span data-ttu-id="b4dfe-174">W przypadku liczby <xref:System.Windows.Data.Binding>, że klasa obsługuje środowiska wykonawczego dostęp do metody i właściwości obiektu w scenariuszach, które nie mają nic wspólnego z XAML.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-174">In the case of <xref:System.Windows.Data.Binding>, that class supports run-time access to methods and properties of the object for scenarios that have nothing to do with XAML.</span></span>  
  
### <a name="extension-class-interpretation-of-initialization-text"></a><span data-ttu-id="b4dfe-175">Rozszerzenie klasy interpretacji inicjowania tekstu</span><span class="sxs-lookup"><span data-stu-id="b4dfe-175">Extension Class Interpretation of Initialization Text</span></span>  
 <span data-ttu-id="b4dfe-176">Tokeny ciąg następujące rozszerzenie znaczników w nazwie i nadal w nawiasy klamrowe są interpretowane przez procesor XAML w jednym z następujących sposobów:</span><span class="sxs-lookup"><span data-stu-id="b4dfe-176">The string tokens following the markup extension name and still within the braces are interpreted by a XAML processor in one of the following ways:</span></span>  
  
-   <span data-ttu-id="b4dfe-177">Przecinek zawsze stanowi separatora lub ogranicznik poszczególnych tokenów.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-177">A comma always represents the separator or delimiter of individual tokens.</span></span>  
  
-   <span data-ttu-id="b4dfe-178">Jeśli pojedynczych rozdzielonych tokenów nie zawierają jakiekolwiek oznaki equals, każdy token jest traktowany jako argument konstruktora.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-178">If the individual separated tokens do not contain any equals signs, each token is treated as a constructor argument.</span></span> <span data-ttu-id="b4dfe-179">Każdy parametr konstruktora muszą zostać podane jako typ oczekiwany przez tego podpisu, a w prawidłowej kolejności oczekiwany przez ten podpis.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-179">Each constructor parameter must be given as the type expected by that signature, and in the proper order expected by that signature.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="b4dfe-180">Procesor XAML musi wywołać konstruktora, który odpowiada liczba argumentów określona liczba par.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-180">A XAML processor must call the constructor that matches the argument count of the number of pairs.</span></span> <span data-ttu-id="b4dfe-181">Z tego powodu w przypadku wdrażania rozszerzeń znaczników niestandardowych nie udostępniają wiele parametrów o tej samej liczby argumentów.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-181">For this reason, if you are implementing a custom markup extension, do not provide multiple parameters with the same argument count.</span></span> <span data-ttu-id="b4dfe-182">To zachowanie występujące w sposób zachowania procesora XAML, jeśli istnieje więcej niż jedną ścieżkę konstruktora rozszerzenia znaczników z tej samej liczby parametrów nie jest zdefiniowany, ale należy przewidzieć procesora XAML będzie mógł zgłosić wyjątek, użycia, jeśli ta sytuacja występuje w Definicje typu rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-182">The behavior for how a XAML processor behaves if more than one markup extension constructor path with the same parameter count exists is not defined, but you should anticipate that a XAML processor is permitted to throw an exception on usage if this situation exists in the markup extension type definitions.</span></span>  
  
-   <span data-ttu-id="b4dfe-183">Gdy osoba rozdzielone tokeny zawierają znaki równości, a następnie procesora XAML najpierw wywołuje konstruktor domyślny dla rozszerzenia znacznika.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-183">If the individual separated tokens contain equals signs, then a XAML processor first calls the default constructor for the markup extension.</span></span> <span data-ttu-id="b4dfe-184">Następnie każda para nazwa = wartość jest interpretowana jako nazwy właściwości, która istnieje na rozszerzenia znaczników i wartość do przypisania do tej właściwości.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-184">Then, each name=value pair is interpreted as a property name that exists on the markup extension, and a value to assign to that property.</span></span>  
  
-   <span data-ttu-id="b4dfe-185">W przypadku równoległego wynik między zachowanie Konstruktor i ustawienia zachowania w rozszerzeniu znaczników właściwości, nie ma znaczenia, jakie zachowanie, należy użyć.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-185">If there is a parallel result between the constructor behavior and the property setting behavior in a markup extension, it does not matter which behavior you use.</span></span> <span data-ttu-id="b4dfe-186">Jest bardziej popularne użycia do użycia *właściwości*`=`*wartość* pary dla rozszerzenia znaczników, które mają więcej niż jedną właściwość można ustawić, jeśli tylko, ponieważ Twoje znaczników ułatwia więcej zamierzone i jesteś zmniejszyć prawdopodobieństwo przypadkowego Przestaw parametrami konstruktora.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-186">It is more common usage to use the *property*`=`*value* pairs for markup extensions that have more than one settable property, if only because it makes your markup more intentional and you are less likely to accidentally transpose constructor parameters.</span></span> <span data-ttu-id="b4dfe-187">(Po określeniu właściwości = pary wartości tych właściwości można w dowolnej kolejności.) Ponadto nie ma żadnej gwarancji, że rozszerzenie znaczników dostarcza parametru konstruktora, który ustawia każdego z jego właściwości można ustawić jeden.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-187">(When you specify property=value pairs, those properties may be in any order.) Also, there is no guarantee that a markup extension supplies a constructor parameter that sets every one of its settable properties.</span></span> <span data-ttu-id="b4dfe-188">Na przykład <xref:System.Windows.Data.Binding> jest rozszerzeniem znacznika o wiele właściwości, które są można ustawić za pomocą rozszerzenia w *właściwości*`=`*wartość* formularza, ale <xref:System.Windows.Data.Binding> obsługuje tylko dwa Konstruktory: konstruktora domyślnego i jedną, która ustawia ścieżkę początkowej.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-188">For example, <xref:System.Windows.Data.Binding> is a markup extension, with many properties that are settable through the extension in *property*`=`*value* form, but <xref:System.Windows.Data.Binding> only supports two constructors: a default constructor, and one that sets an initial path.</span></span>  
  
-   <span data-ttu-id="b4dfe-189">Nie można przekazać literału przecinkami do rozszerzenia znacznika bez escapement.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-189">A literal comma cannot be passed to a markup extension without escapement.</span></span>  
  
<a name="EscapeSequences"></a>   
## <a name="escape-sequences-and-markup-extensions"></a><span data-ttu-id="b4dfe-190">Sekwencje unikowe i rozszerzeń znaczników</span><span class="sxs-lookup"><span data-stu-id="b4dfe-190">Escape Sequences and Markup Extensions</span></span>  
 <span data-ttu-id="b4dfe-191">Atrybut Obsługa w XAML procesor używa nawiasów klamrowych jako wskaźników sekwencji rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-191">Attribute handling in a XAML processor uses the curly braces as indicators of a markup extension sequence.</span></span> <span data-ttu-id="b4dfe-192">Istnieje również możliwość utworzenia literału nawias klamrowy znak wartości atrybutu w razie potrzeby, wprowadzając — sekwencja specjalna przy użyciu pary pusty nawias klamrowy następuje literału nawias klamrowy.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-192">It is also possible to produce a literal curly brace character attribute value if necessary, by entering an escape sequence using an empty curly brace pair followed by the literal curly brace.</span></span> <span data-ttu-id="b4dfe-193">Zobacz [ {} sekwencji — rozszerzenie znaczników specjalnej](../../xaml-services/escape-sequence-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="b4dfe-193">See [{} Escape Sequence - Markup Extension](../../xaml-services/escape-sequence-markup-extension.md).</span></span>  
  
<a name="Nesting"></a>   
## <a name="nesting-markup-extensions-in-xaml-usage"></a><span data-ttu-id="b4dfe-194">Rozszerzenia znaczników w XAML użycia zagnieżdżania</span><span class="sxs-lookup"><span data-stu-id="b4dfe-194">Nesting Markup Extensions in XAML Usage</span></span>  
 <span data-ttu-id="b4dfe-195">Zagnieżdżenia wiele rozszerzeń znaczników jest obsługiwany, a każde rozszerzenie znacznika zostaną ocenione najgłębszym najpierw.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-195">Nesting of multiple markup extensions is supported, and each markup extension will be evaluated deepest first.</span></span> <span data-ttu-id="b4dfe-196">Na przykład Rozważ użycie następujących:</span><span class="sxs-lookup"><span data-stu-id="b4dfe-196">For example, consider the following usage:</span></span>  
  
```  
<Setter Property="Background"  
  Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}" />  
```  
  
 <span data-ttu-id="b4dfe-197">W ten sposób użycia `x:Static` instrukcji jest szacowana jako pierwsza i zwraca wartość typu ciąg.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-197">In this usage, the `x:Static` statement is evaluated first and returns a string.</span></span> <span data-ttu-id="b4dfe-198">Czy ciąg jest następnie używany jako argument dla `DynamicResource`.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-198">That string is then used as the argument for `DynamicResource`.</span></span>  
  
## <a name="markup-extensions-and-property-element-syntax"></a><span data-ttu-id="b4dfe-199">Rozszerzenia znaczników i składni elementu właściwości</span><span class="sxs-lookup"><span data-stu-id="b4dfe-199">Markup Extensions and Property Element Syntax</span></span>  
 <span data-ttu-id="b4dfe-200">Gdy jest używany jako elementu obiektu, który wypełnia właściwości wartość elementu, klasa rozszerzenia struktury znaczników jest wizualnie można odróżnić od elementu typowe kopii typu obiektu, który może być używana w języku XAML.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-200">When used as an object element that fills a property element value, a markup extension class is visually indistinguishable from a typical type-backed object element that can be used in XAML.</span></span> <span data-ttu-id="b4dfe-201">Praktyczne różnica między element typowego obiektu i rozszerzenia znaczników jest czy rozszerzenie znaczników jest obliczane do wartości typu lub odroczone jako wyrażenia.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-201">The practical difference between a typical object element and a markup extension is that the markup extension is either evaluated to a typed value or deferred as an expression.</span></span> <span data-ttu-id="b4dfe-202">W związku z tym mechanizmów błędy możliwe typ wartości właściwości dla rozszerzenia znacznika będzie inny, podobnie jak właściwość późnym wiązaniem jest traktowany w innych modeli programowania.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-202">Therefore the mechanisms for any possible type errors of property values for the markup extension will be different, similar to how a late-bound property is treated in other programming models.</span></span> <span data-ttu-id="b4dfe-203">Element zwykłej obiekt ma zostać obliczone dla typu metody match na właściwość target, który jest ustawienie, gdy zostanie przeanalizowany XAML.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-203">An ordinary object element will be evaluated for type match against the target property it is setting when the XAML is parsed.</span></span>  
  
 <span data-ttu-id="b4dfe-204">Większość rozszerzenia znaczników, gdy są używane w składni elementu obiektu do wypełniania elementu właściwości nie będzie zawierało składni elementu zawartości i żadnych dodatkowych właściwości w ciągu.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-204">Most markup extensions, when used in object element syntax to fill a property element, would not have content or any further property element syntax within.</span></span> <span data-ttu-id="b4dfe-205">W związku z tym spowoduje zamknięcie tagu elementu obiektu i podaj nie podrzędnych elementów.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-205">Thus you would close the object element tag, and provide no child elements.</span></span> <span data-ttu-id="b4dfe-206">Napotkaniu dowolny element obiektu przez procesor XAML, konstruktora dla tej klasy, nosi nazwę, która tworzy wystąpienie obiektu utworzone na podstawie przeanalizowany element.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-206">Whenever any object element is encountered by a XAML processor, the constructor for that class is called, which instantiates the object created from the parsed element.</span></span> <span data-ttu-id="b4dfe-207">Nie różni się klasa rozszerzenia struktury znaczników: Jeśli chcesz, aby rozszerzenie znacznika może być używany w składni elementu obiektu, należy podać konstruktora domyślnego.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-207">A markup extension class is no different: if you want your markup extension to be usable in object element syntax, you must provide a default constructor.</span></span> <span data-ttu-id="b4dfe-208">Niektóre istniejące rozszerzenia znaczników ma co najmniej jedną wartość wymaganej właściwości, która musi być określona dla inicjowania skuteczne.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-208">Some existing markup extensions have at least one required property value that must be specified for effective initialization.</span></span> <span data-ttu-id="b4dfe-209">Jeśli tak, wartości tej właściwości jest zazwyczaj podawana jako atrybut właściwości w elemencie obiektu.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-209">If so, that property value is typically given as a property attribute on the object element.</span></span> <span data-ttu-id="b4dfe-210">W [Namespace XAML (x:) Funkcje języka](../../../../docs/framework/xaml-services/xaml-namespace-x-language-features.md) i [WPF XAML rozszerzenia](../../../../docs/framework/wpf/advanced/wpf-xaml-extensions.md) odwołania stron, znaczników rozszerzeń, które mają wymagane właściwości (i nazwy właściwości wymagane) zostanie zapisany.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-210">In the [XAML Namespace (x:) Language Features](../../../../docs/framework/xaml-services/xaml-namespace-x-language-features.md) and [WPF XAML Extensions](../../../../docs/framework/wpf/advanced/wpf-xaml-extensions.md) reference pages, markup extensions that have required properties (and the names of required properties) will be noted.</span></span> <span data-ttu-id="b4dfe-211">Strony podręcznika również zauważyć, jeśli obiekt składni elementu lub atrybutu składni jest niedozwolone dla rozszerzenia znaczników określonego.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-211">Reference pages will also note if either object element syntax or attribute syntax is disallowed for particular markup extensions.</span></span> <span data-ttu-id="b4dfe-212">Godne wielkość liter jest [x: Array — rozszerzenie znaczników](../../../../docs/framework/xaml-services/x-array-markup-extension.md), który nie obsługuje Składnia atrybutu, ponieważ zawartości tablicy muszą być określone w znakowanie jako zawartość.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-212">A notable case is [x:Array Markup Extension](../../../../docs/framework/xaml-services/x-array-markup-extension.md), which cannot support attribute syntax because the contents of that array must be specified within the tagging as content.</span></span> <span data-ttu-id="b4dfe-213">Zawartość tablicy są obsługiwane jako ogólne obiekty, dlatego żaden konwerter typów domyślnego atrybutu jest możliwe.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-213">The array contents are handled as general objects, therefore no default type converter for the attribute is feasible.</span></span> <span data-ttu-id="b4dfe-214">Ponadto [x: Array — rozszerzenie znaczników](../../../../docs/framework/xaml-services/x-array-markup-extension.md) wymaga `type` parametru.</span><span class="sxs-lookup"><span data-stu-id="b4dfe-214">Also, [x:Array Markup Extension](../../../../docs/framework/xaml-services/x-array-markup-extension.md) requires a `type` parameter.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b4dfe-215">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="b4dfe-215">See Also</span></span>  
 [<span data-ttu-id="b4dfe-216">Przegląd XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="b4dfe-216">XAML Overview (WPF)</span></span>](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)  
 [<span data-ttu-id="b4dfe-217">Przestrzeń nazw XAML (x:) — funkcje językowe</span><span class="sxs-lookup"><span data-stu-id="b4dfe-217">XAML Namespace (x:) Language Features</span></span>](../../../../docs/framework/xaml-services/xaml-namespace-x-language-features.md)  
 [<span data-ttu-id="b4dfe-218">Rozszerzenia WPF XAML</span><span class="sxs-lookup"><span data-stu-id="b4dfe-218">WPF XAML Extensions</span></span>](../../../../docs/framework/wpf/advanced/wpf-xaml-extensions.md)  
 [<span data-ttu-id="b4dfe-219">StaticResource, rozszerzenie znaczników</span><span class="sxs-lookup"><span data-stu-id="b4dfe-219">StaticResource Markup Extension</span></span>](../../../../docs/framework/wpf/advanced/staticresource-markup-extension.md)  
 [<span data-ttu-id="b4dfe-220">Rozszerzenie znaczników powiązania</span><span class="sxs-lookup"><span data-stu-id="b4dfe-220">Binding Markup Extension</span></span>](../../../../docs/framework/wpf/advanced/binding-markup-extension.md)  
 [<span data-ttu-id="b4dfe-221">DynamicResource, rozszerzenie znaczników</span><span class="sxs-lookup"><span data-stu-id="b4dfe-221">DynamicResource Markup Extension</span></span>](../../../../docs/framework/wpf/advanced/dynamicresource-markup-extension.md)  
 [<span data-ttu-id="b4dfe-222">x:Type, rozszerzenie znaczników</span><span class="sxs-lookup"><span data-stu-id="b4dfe-222">x:Type Markup Extension</span></span>](../../../../docs/framework/xaml-services/x-type-markup-extension.md)
