---
title: Dane i obiekty danych
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data transfer [WPF], drag-and-drop
- DataFormats class [WPF]
- DataObject class [WPF]
ms.assetid: 5967d557-1867-420f-a524-ae3af78402da
ms.openlocfilehash: 9dc195ece60739cf0c137a2893c9e9150e0d4d3f
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/23/2019
ms.locfileid: "62010621"
---
# <a name="data-and-data-objects"></a><span data-ttu-id="6e9d2-102">Dane i obiekty danych</span><span class="sxs-lookup"><span data-stu-id="6e9d2-102">Data and Data Objects</span></span>
<span data-ttu-id="6e9d2-103">Dane są przesyłane w ramach operacji przeciągania i upuszczania są przechowywane w obiekcie danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-103">Data that is transferred as part of a drag-and-drop operation is stored in a data object.</span></span>  <span data-ttu-id="6e9d2-104">Model obiektu danych składa się z co najmniej jedną z następujących par:</span><span class="sxs-lookup"><span data-stu-id="6e9d2-104">Conceptually, a data object consists of one or more of the following pairs:</span></span>  
  
- <span data-ttu-id="6e9d2-105"><xref:System.Object> Zawierający rzeczywistych danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-105">An <xref:System.Object> that contains the actual data.</span></span>  
  
- <span data-ttu-id="6e9d2-106">Odpowiedni identyfikator format danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-106">A corresponding data format identifier.</span></span>  
  
 <span data-ttu-id="6e9d2-107">Samych danych może zawierać wszystko, co może być reprezentowany jako podstawa <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-107">The data itself can consist of anything that can be represented as a base <xref:System.Object>.</span></span>  <span data-ttu-id="6e9d2-108">Odpowiedni format danych jest ciągiem lub <xref:System.Type> zapewniający wskazówkę o tym, co formatowania danych znajduje się w.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-108">The corresponding data format is a string or <xref:System.Type> that provides a hint about what format the data is in.</span></span>  <span data-ttu-id="6e9d2-109">Obiekty danych obsługi wiele par format data/data; Dzięki temu obiekt danych jednego dostarczający dane w wielu formatach.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-109">Data objects support hosting multiple data/data format pairs; this enables a single data object to provide data in multiple formats.</span></span>  
  
<a name="Data_and_Data_Objects"></a>   
## <a name="data-objects"></a><span data-ttu-id="6e9d2-110">Obiekty danych</span><span class="sxs-lookup"><span data-stu-id="6e9d2-110">Data Objects</span></span>  
 <span data-ttu-id="6e9d2-111">Wszystkie obiekty danych musi implementować <xref:System.Windows.IDataObject> interfejs, który oferuje następujący zestaw standardowych metod, które umożliwiają i ułatwienia przesyłania danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-111">All data objects must implement the <xref:System.Windows.IDataObject> interface, which provides the following standard set of methods that enable and facilitate data transfer.</span></span>  
  
|<span data-ttu-id="6e9d2-112">Metoda</span><span class="sxs-lookup"><span data-stu-id="6e9d2-112">Method</span></span>|<span data-ttu-id="6e9d2-113">Podsumowanie</span><span class="sxs-lookup"><span data-stu-id="6e9d2-113">Summary</span></span>|  
|------------|-------------|  
|<xref:System.Windows.IDataObject.GetData%2A>|<span data-ttu-id="6e9d2-114">Pobiera obiekt danych w formacie określone dane.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-114">Retrieves a data object in a specified data format.</span></span>|  
|<xref:System.Windows.IDataObject.GetDataPresent%2A>|<span data-ttu-id="6e9d2-115">Sprawdza, dane są dostępne w, czy można przekonwertować na określony format.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-115">Checks to see whether the data is available in, or can be converted to, a specified format.</span></span>|  
|<xref:System.Windows.IDataObject.GetFormats%2A>|<span data-ttu-id="6e9d2-116">Zwraca listę formatów danych w tym obiekcie dane są przechowywane w lub mogą być konwertowane na.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-116">Returns a list of formats that the data in this data object is stored in, or can be converted to.</span></span>|  
|<xref:System.Windows.IDataObject.SetData%2A>|<span data-ttu-id="6e9d2-117">Zapisuje określone dane w ten obiekt danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-117">Stores the specified data in this data object.</span></span>|  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="6e9d2-118">dostarcza podstawową implementację <xref:System.Windows.IDataObject> w <xref:System.Windows.DataObject> klasy.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-118">provides a basic implementation of <xref:System.Windows.IDataObject> in the <xref:System.Windows.DataObject> class.</span></span> <span data-ttu-id="6e9d2-119">Cena akcji <xref:System.Windows.DataObject> klasy jest wystarczająca dla wielu typowych scenariuszy transferu danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-119">The stock <xref:System.Windows.DataObject> class is sufficient for many common data transfer scenarios.</span></span>  
  
 <span data-ttu-id="6e9d2-120">Istnieje kilka wstępnie zdefiniowanych formatów, takich jak mapy bitowej, CSV, plik, HTML, RTF, ciąg, tekstu i audio.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-120">There are several pre-defined formats, such as bitmap, CSV, file, HTML, RTF, string, text, and audio.</span></span> <span data-ttu-id="6e9d2-121">Informacje na temat formatów danych wstępnie zdefiniowanych dołączonym [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], zobacz <xref:System.Windows.DataFormats> temat referencyjny klasy.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-121">For information about pre-defined data formats provided with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see the <xref:System.Windows.DataFormats> class reference topic.</span></span>  
  
 <span data-ttu-id="6e9d2-122">Obiekty danych często obejmują z funkcją automatycznej konwersji danych przechowywanych w jednego formatu do innego formatu podczas wyodrębniania danych. Ten obiekt jest nazywana automatyczna konwersja.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-122">Data objects commonly include a facility for automatically converting data stored in one format to a different format while extracting data; this facility is referred to as auto-convert.</span></span> <span data-ttu-id="6e9d2-123">Podczas wykonywania zapytań dotyczących formatów danych dostępnych w obiekcie danych, można filtrować formatów danych automatycznie przekonwertować z formatów danych natywnych przez wywołanie metody <xref:System.Windows.DataObject.GetFormats%28System.Boolean%29> lub <xref:System.Windows.DataObject.GetDataPresent%28System.String%2CSystem.Boolean%29> metody i określając `autoConvert` jako parametr `false`.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-123">When querying for the data formats available in a data object, auto-convertible data formats can be filtered from native data formats by calling the <xref:System.Windows.DataObject.GetFormats%28System.Boolean%29> or <xref:System.Windows.DataObject.GetDataPresent%28System.String%2CSystem.Boolean%29> method and specifying the `autoConvert` parameter as `false`.</span></span>  <span data-ttu-id="6e9d2-124">Podczas dodawania danych do obiektu danych za pomocą <xref:System.Windows.DataObject.SetData%28System.String%2CSystem.Object%2CSystem.Boolean%29> metody automatycznego Konwersja danych może być zabroniony przez ustawienie `autoConvert` parametr `false`.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-124">When adding data to a data object with the <xref:System.Windows.DataObject.SetData%28System.String%2CSystem.Object%2CSystem.Boolean%29> method, auto-conversion of data can be prohibited by setting the `autoConvert` parameter to `false`.</span></span>  
  
<a name="Working_with_Data_Objects"></a>   
## <a name="working-with-data-objects"></a><span data-ttu-id="6e9d2-125">Praca z obiektami danych</span><span class="sxs-lookup"><span data-stu-id="6e9d2-125">Working with Data Objects</span></span>  
 <span data-ttu-id="6e9d2-126">W tej sekcji opisano typowe metody do tworzenia i pracy z obiektami danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-126">This section describes common techniques for creating and working with data objects.</span></span>  
  
### <a name="creating-new-data-objects"></a><span data-ttu-id="6e9d2-127">Tworzenie nowych obiektów danych</span><span class="sxs-lookup"><span data-stu-id="6e9d2-127">Creating New Data Objects</span></span>  
 <span data-ttu-id="6e9d2-128"><xref:System.Windows.DataObject> Klasa udostępnia kilka przeciążenia konstruktorów, które ułatwiają wypełnianie nową <xref:System.Windows.DataObject> wystąpienia wraz z przyjacielem format pojedynczego danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-128">The <xref:System.Windows.DataObject> class provides several overloaded constructors that facilitate populating a new <xref:System.Windows.DataObject> instance with a single data/data format pair.</span></span>  
  
 <span data-ttu-id="6e9d2-129">Poniższy przykład kodu tworzy nowy obiekt danych i używa jednego z przeciążenia konstruktorów <xref:System.Windows.DataObject.%23ctor%2A>(<xref:System.Windows.DataObject.%23ctor(System.String,System.Object)>) do inicjalizacji obiektu danych przy użyciu ciągu i format określone dane.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-129">The following example code creates a new data object and uses one of the overloaded constructors <xref:System.Windows.DataObject.%23ctor%2A>(<xref:System.Windows.DataObject.%23ctor(System.String,System.Object)>) to initialize the data object with a string and a specified data format.</span></span>  <span data-ttu-id="6e9d2-130">W tym przypadku format danych jest określona przez ciąg; <xref:System.Windows.DataFormats> klasa oferuje zestaw wstępnie zdefiniowanych typów ciągów.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-130">In this case, the data format is specified by a string; the <xref:System.Windows.DataFormats> class provides a set of pre-defined type strings.</span></span> <span data-ttu-id="6e9d2-131">Konwersja automatycznie przechowywanych danych jest dozwolone domyślnie.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-131">Auto-conversion of the stored data is allowed by default.</span></span>  
  
 [!code-csharp[DragDrop_DragDropMiscCode#_DragDrop_CreateDataObject_TypeString](~/samples/snippets/csharp/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/CSharp/Window1.xaml.cs#_dragdrop_createdataobject_typestring)]
 [!code-vb[DragDrop_DragDropMiscCode#_DragDrop_CreateDataObject_TypeString](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/visualbasic/window1.xaml.vb#_dragdrop_createdataobject_typestring)]  
  
 <span data-ttu-id="6e9d2-132">Aby uzyskać więcej przykładów kodu, która tworzy obiekt danych, zobacz [utworzyć obiekt danych](how-to-create-a-data-object.md).</span><span class="sxs-lookup"><span data-stu-id="6e9d2-132">For more examples of code that creates a data object, see [Create a Data Object](how-to-create-a-data-object.md).</span></span>  
  
### <a name="storing-data-in-multiple-formats"></a><span data-ttu-id="6e9d2-133">Przechowywanie danych w wielu formatach</span><span class="sxs-lookup"><span data-stu-id="6e9d2-133">Storing Data in Multiple Formats</span></span>  
 <span data-ttu-id="6e9d2-134">Obiekt pojedynczego danych jest w stanie do przechowywania danych w wielu formatach.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-134">A single data object is able to store data in multiple formats.</span></span>   <span data-ttu-id="6e9d2-135">Strategiczne wykorzystanie wiele formatów danych w obiekcie danych jednego potencjalnie sprawia, że obiekt danych do wykorzystania przez różnych miejsc docelowych, niż tylko format danych jednego mogą być reprezentowane.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-135">Strategic use of multiple data formats within a single data object potentially makes the data object consumable by a wider variety of drop targets than if only a single data format could be represented.</span></span>  <span data-ttu-id="6e9d2-136">Należy pamiętać, że, ogólnie rzecz biorąc, źródła przeciągania musi być niezależny od dotyczących formatów danych, które są do wykorzystania przez potencjalnych miejsc docelowych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-136">Note that, in general, a drag source must be agnostic about the data formats that are consumable by potential drop targets.</span></span>  
  
 <span data-ttu-id="6e9d2-137">Poniższy przykład pokazuje, jak używać <xref:System.Windows.DataObject.SetData%28System.String%2CSystem.Object%29> metodę, aby dodać dane do obiektu danych w wielu formatach.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-137">The following example shows how to use the <xref:System.Windows.DataObject.SetData%28System.String%2CSystem.Object%29> method to add data to a data object in multiple formats.</span></span>  
  
 [!code-csharp[DragDrop_DragDropMiscCode#_DragDrop_StoreMultipleFormats](~/samples/snippets/csharp/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/CSharp/Window1.xaml.cs#_dragdrop_storemultipleformats)]
 [!code-vb[DragDrop_DragDropMiscCode#_DragDrop_StoreMultipleFormats](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/visualbasic/window1.xaml.vb#_dragdrop_storemultipleformats)]  
  
### <a name="querying-a-data-object-for-available-formats"></a><span data-ttu-id="6e9d2-138">Wykonywanie zapytania dotyczącego obiektu danych dla dostępnych formatów</span><span class="sxs-lookup"><span data-stu-id="6e9d2-138">Querying a Data Object for Available Formats</span></span>  
 <span data-ttu-id="6e9d2-139">Obiekt pojedynczego danych może zawierać dowolną liczbę formatów danych, obiekty danych obejmują funkcje służące do pobierania listy dostępnych formatów danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-139">Because a single data object can contain an arbitrary number of data formats, data objects include facilities for retrieving a list of available data formats.</span></span>  
  
 <span data-ttu-id="6e9d2-140">Poniższy przykład kodu używa <xref:System.Windows.DataObject.GetFormats%2A> przeciążenie, można pobrać tablicę ciągów, określające elementy w obiekcie danych (natywne i przez automatyczna konwersja) wszystkie formaty danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-140">The following example code uses the <xref:System.Windows.DataObject.GetFormats%2A> overload to get an array of strings denoting all data formats available in a data object (both native and by auto-convert).</span></span>  
  
 [!code-csharp[DragDrop_DragDropMiscCode#_DragDrop_GetAllDataFormats](~/samples/snippets/csharp/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/CSharp/Window1.xaml.cs#_dragdrop_getalldataformats)]
 [!code-vb[DragDrop_DragDropMiscCode#_DragDrop_GetAllDataFormats](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/visualbasic/window1.xaml.vb#_dragdrop_getalldataformats)]  
  
 <span data-ttu-id="6e9d2-141">Aby uzyskać więcej przykładów kodu, który odpytuje obiekt danych dla dostępnych formatów danych, zobacz [listy formatów danych w obiekcie danych](how-to-list-the-data-formats-in-a-data-object.md).</span><span class="sxs-lookup"><span data-stu-id="6e9d2-141">For more examples of code that queries a data object for available data formats, see [List the Data Formats in a Data Object](how-to-list-the-data-formats-in-a-data-object.md).</span></span>  <span data-ttu-id="6e9d2-142">Wykonywanie zapytania dotyczącego obiektu danych na obecność w konkretnym formacie danych, zobacz [ustalić, czy Format danych jest obecny w obiekcie danych](how-to-determine-if-a-data-format-is-present-in-a-data-object.md).</span><span class="sxs-lookup"><span data-stu-id="6e9d2-142">For examples of querying a data object for the presence of a particular data format, see [Determine if a Data Format is Present in a Data Object](how-to-determine-if-a-data-format-is-present-in-a-data-object.md).</span></span>  
  
### <a name="retrieving-data-from-a-data-object"></a><span data-ttu-id="6e9d2-143">Pobieranie danych z obiektu danych</span><span class="sxs-lookup"><span data-stu-id="6e9d2-143">Retrieving Data from a Data Object</span></span>  
 <span data-ttu-id="6e9d2-144">Pobieranie danych z obiektu danych, w określonym formacie po prostu polega na wywołaniu jednej z <xref:System.Windows.DataObject.GetData%2A> metody i określanie formatu żądanych danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-144">Retrieving data from a data object in a particular format simply involves calling one of the <xref:System.Windows.DataObject.GetData%2A> methods and specifying the desired data format.</span></span>  <span data-ttu-id="6e9d2-145">Jedną z <xref:System.Windows.DataObject.GetDataPresent%2A> metody może służyć do sprawdzania obecności w konkretnym formacie danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-145">One of the <xref:System.Windows.DataObject.GetDataPresent%2A> methods can be used to check for the presence of a particular data format.</span></span>  <span data-ttu-id="6e9d2-146"><xref:System.Windows.DataObject.GetData%2A> Zwraca dane w <xref:System.Object>; zależnie od formatu danych ten obiekt może być rzutowany kontenera typu.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-146"><xref:System.Windows.DataObject.GetData%2A> returns the data in an <xref:System.Object>; depending on the data format, this object can be cast to a type-specific container.</span></span>  
  
 <span data-ttu-id="6e9d2-147">Poniższy przykład kodu używa <xref:System.Windows.DataObject.GetDataPresent%28System.String%29> przeciążenia, aby sprawdzić, czy format określonych danych jest dostępna (natywny lub automatyczna konwersja).</span><span class="sxs-lookup"><span data-stu-id="6e9d2-147">The following example code uses the <xref:System.Windows.DataObject.GetDataPresent%28System.String%29> overload to check if a specified data format is available (native or by auto-convert).</span></span> <span data-ttu-id="6e9d2-148">Jeśli określony format jest dostępny, przykład pobiera dane przy użyciu <xref:System.Windows.DataObject.GetData%28System.String%29> metody.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-148">If the specified format is available, the example retrieves the data by using the <xref:System.Windows.DataObject.GetData%28System.String%29> method.</span></span>  
  
 [!code-csharp[DragDrop_DragDropMiscCode#_DragDrop_GetSpecificDataFormat](~/samples/snippets/csharp/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/CSharp/Window1.xaml.cs#_dragdrop_getspecificdataformat)]
 [!code-vb[DragDrop_DragDropMiscCode#_DragDrop_GetSpecificDataFormat](~/samples/snippets/visualbasic/VS_Snippets_Wpf/DragDrop_DragDropMiscCode/visualbasic/window1.xaml.vb#_dragdrop_getspecificdataformat)]  
  
 <span data-ttu-id="6e9d2-149">Aby uzyskać więcej przykładów kodu, który pobiera dane z obiektu danych, zobacz [Pobierz dane w określonym formacie danych](how-to-retrieve-data-in-a-particular-data-format.md).</span><span class="sxs-lookup"><span data-stu-id="6e9d2-149">For more examples of code that retrieves data from a data object, see [Retrieve Data in a Particular Data Format](how-to-retrieve-data-in-a-particular-data-format.md).</span></span>  
  
### <a name="removing-data-from-a-data-object"></a><span data-ttu-id="6e9d2-150">Usuwanie danych z obiektu danych</span><span class="sxs-lookup"><span data-stu-id="6e9d2-150">Removing Data From a Data Object</span></span>  
 <span data-ttu-id="6e9d2-151">Danych nie można bezpośrednio usunąć z obiektu danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-151">Data cannot be directly removed from a data object.</span></span>  <span data-ttu-id="6e9d2-152">Aby skutecznie usunięcie danych z obiektu danych, wykonaj następujące kroki:</span><span class="sxs-lookup"><span data-stu-id="6e9d2-152">To effectively remove data from a data object, follow these steps:</span></span>  
  
1. <span data-ttu-id="6e9d2-153">Utwórz nowy obiekt danych, która będzie zawierać tylko dane, które mają zostać zachowane.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-153">Create a new data object that will contain only the data you want to retain.</span></span>  
  
2. <span data-ttu-id="6e9d2-154">"Kopiuj" żądane dane z stary obiekt danych do nowego obiektu danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-154">"Copy" the desired data from the old data object to the new data object.</span></span>  <span data-ttu-id="6e9d2-155">Aby skopiować dane, użyj jednej z <xref:System.Windows.DataObject.GetData%2A> metody pobierania <xref:System.Object> , zawierający dane pierwotne, a następnie użyj jednej z <xref:System.Windows.DataObject.SetData%2A> metody, aby dodać dane do nowego obiektu danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-155">To copy the data, use one of the <xref:System.Windows.DataObject.GetData%2A> methods to retrieve an <xref:System.Object> that contains the raw data, and then use one of the <xref:System.Windows.DataObject.SetData%2A> methods to add the data to the new data object.</span></span>  
  
3. <span data-ttu-id="6e9d2-156">Zastąp nowym stary obiekt danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-156">Replace the old data object with the new one.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="6e9d2-157"><xref:System.Windows.DataObject.SetData%2A> Metody tylko dodać dane do obiektu danych; nie zastępują danych, nawet jeśli dane i format danych są dokładnie takie same jak poprzedniego wywołania.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-157">The <xref:System.Windows.DataObject.SetData%2A> methods only add data to a data object; they do not replace data, even if the data and data format are exactly the same as a previous call.</span></span> <span data-ttu-id="6e9d2-158">Wywoływanie <xref:System.Windows.DataObject.SetData%2A> dwa razy dla tych samych danych i danych spowoduje format w formacie data/data, dwa razy w obiekcie danych.</span><span class="sxs-lookup"><span data-stu-id="6e9d2-158">Calling <xref:System.Windows.DataObject.SetData%2A> twice for the same data and data format will result in the data/data format being present twice in the data object.</span></span>
