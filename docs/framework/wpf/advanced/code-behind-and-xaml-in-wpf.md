---
title: Związane z kodem i XAML w WPF
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [WPF], code-behind
- code-behind files [WPF], XAML
ms.assetid: 9df6d3c9-aed3-471c-af36-6859b19d999f
ms.openlocfilehash: 00427004448997aa234b335b397390f9fabe1bd5
ms.sourcegitcommit: f8c36054eab877de4d40a705aacafa2552ce70e9
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/31/2019
ms.locfileid: "75559914"
---
# <a name="code-behind-and-xaml-in-wpf"></a><span data-ttu-id="3e511-102">Związane z kodem i XAML w WPF</span><span class="sxs-lookup"><span data-stu-id="3e511-102">Code-Behind and XAML in WPF</span></span>
<a name="introduction"></a><span data-ttu-id="3e511-103">Kod jest terminem używanym do opisania kodu, który jest dołączany do obiektów zdefiniowanych przez znaczników, gdy strona [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] jest skompilowana przy użyciu znaczników.</span><span class="sxs-lookup"><span data-stu-id="3e511-103">Code-behind is a term used to describe the code that is joined with markup-defined objects, when a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] page is markup-compiled.</span></span> <span data-ttu-id="3e511-104">W tym temacie opisano wymagania dotyczące kodu, a także alternatywny mechanizm kodu wbudowanego dla kodu w [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3e511-104">This topic describes requirements for code-behind as well as an alternative inline code mechanism for code in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
 <span data-ttu-id="3e511-105">Ten temat zawiera następujące sekcje:</span><span class="sxs-lookup"><span data-stu-id="3e511-105">This topic contains the following sections:</span></span>  
  
- [<span data-ttu-id="3e511-106">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="3e511-106">Prerequisites</span></span>](#Prerequisites)  
  
- [<span data-ttu-id="3e511-107">Kod źródłowy i język XAML</span><span class="sxs-lookup"><span data-stu-id="3e511-107">Code-Behind and the XAML Language</span></span>](#codebehind_and_the_xaml_language)  
  
- [<span data-ttu-id="3e511-108">Powiązane z kodem, procedury obsługi zdarzeń i częściowe wymagania klas w WPF</span><span class="sxs-lookup"><span data-stu-id="3e511-108">Code-behind, Event Handler, and Partial Class Requirements in WPF</span></span>](#Code_behind__Event_Handler__and_Partial_Class)  
  
- [<span data-ttu-id="3e511-109">x:Code</span><span class="sxs-lookup"><span data-stu-id="3e511-109">x:Code</span></span>](#x_Code)  
  
- [<span data-ttu-id="3e511-110">Ograniczenia kodu wbudowanego</span><span class="sxs-lookup"><span data-stu-id="3e511-110">Inline Code Limitations</span></span>](#Inline_Code_Limitations)  
  
<a name="Prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="3e511-111">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="3e511-111">Prerequisites</span></span>  
 <span data-ttu-id="3e511-112">W tym temacie założono, że użytkownik przeczytał [Omówienie XAML (WPF)](../../../desktop-wpf/fundamentals/xaml.md) i ma pewną podstawową wiedzę na temat środowiska CLR i programowania zorientowanego obiektowo.</span><span class="sxs-lookup"><span data-stu-id="3e511-112">This topic assumes that you have read the [XAML Overview (WPF)](../../../desktop-wpf/fundamentals/xaml.md) and have some basic knowledge of the CLR and object-oriented programming.</span></span>  
  
<a name="codebehind_and_the_xaml_language"></a>   
## <a name="code-behind-and-the-xaml-language"></a><span data-ttu-id="3e511-113">Kod źródłowy i język XAML</span><span class="sxs-lookup"><span data-stu-id="3e511-113">Code-Behind and the XAML Language</span></span>  
 <span data-ttu-id="3e511-114">Język XAML zawiera funkcje poziomu języka, które umożliwiają kojarzenie plików kodu z plikami znaczników, po stronie pliku znaczników.</span><span class="sxs-lookup"><span data-stu-id="3e511-114">The XAML language includes language-level features that make it possible to associate code files with markup files, from the markup file side.</span></span> <span data-ttu-id="3e511-115">W każdym przypadku język XAML definiuje funkcje języka [X:Class dyrektywy](../../../desktop-wpf/xaml-services/xclass-directive.md), [dyrektywy X:Subclass —](../../../desktop-wpf/xaml-services/xsubclass-directive.md)i [dyrektywy x:ClassModifier —](../../../desktop-wpf/xaml-services/xclassmodifier-directive.md).</span><span class="sxs-lookup"><span data-stu-id="3e511-115">Specifically, the XAML language defines the language features [x:Class Directive](../../../desktop-wpf/xaml-services/xclass-directive.md), [x:Subclass Directive](../../../desktop-wpf/xaml-services/xsubclass-directive.md), and [x:ClassModifier Directive](../../../desktop-wpf/xaml-services/xclassmodifier-directive.md).</span></span> <span data-ttu-id="3e511-116">Dokładnie jak kod powinien być tworzony i jak zintegrować znaczniki i kod, nie jest częścią tego, co określa język XAML.</span><span class="sxs-lookup"><span data-stu-id="3e511-116">Exactly how the code should be produced, and how to integrate markup and code, is not part of what the XAML language specifies.</span></span> <span data-ttu-id="3e511-117">Jest ona pozostała do struktur, takich jak WPF, aby określić, jak zintegrować kod, jak używać języka XAML w modelach aplikacji i programowania, a także akcji kompilacji lub innych obsługi wymaganych przez wszystkie te wymagania.</span><span class="sxs-lookup"><span data-stu-id="3e511-117">It is left up to frameworks such as WPF to determine how to integrate the code, how to use XAML in the application and programming models, and the build actions or other support that all this requires.</span></span>  
  
<a name="Code_behind__Event_Handler__and_Partial_Class"></a>   
## <a name="code-behind-event-handler-and-partial-class-requirements-in-wpf"></a><span data-ttu-id="3e511-118">Powiązane z kodem, procedury obsługi zdarzeń i częściowe wymagania klas w WPF</span><span class="sxs-lookup"><span data-stu-id="3e511-118">Code-behind, Event Handler, and Partial Class Requirements in WPF</span></span>  
  
- <span data-ttu-id="3e511-119">Klasa częściowa musi pochodzić od typu, który wykonuje kopię zapasową elementu głównego.</span><span class="sxs-lookup"><span data-stu-id="3e511-119">The partial class must derive from the type that backs the root element.</span></span>  
  
- <span data-ttu-id="3e511-120">Należy zauważyć, że pod domyślnym zachowaniem akcji kompilacji znaczników można pozostawić wartość pochodną pustą w definicji klasy częściowej po stronie kodu.</span><span class="sxs-lookup"><span data-stu-id="3e511-120">Note that under the default behavior of the markup compile build actions, you can leave the derivation blank in the partial class definition on the code-behind side.</span></span> <span data-ttu-id="3e511-121">Skompilowany wynik przyjmie, że typ kopii zapasowej elementu głównego strony będzie podstawą dla klasy częściowej, nawet jeśli nie zostanie określony.</span><span class="sxs-lookup"><span data-stu-id="3e511-121">The compiled result will assume the page root's backing type to be the basis for the partial class, even if it not specified.</span></span> <span data-ttu-id="3e511-122">Nie jest to jednak najlepsze rozwiązanie polegające na tym zachowaniu.</span><span class="sxs-lookup"><span data-stu-id="3e511-122">However, relying on this behavior is not a best practice.</span></span>  
  
- <span data-ttu-id="3e511-123">Procedury obsługi zdarzeń zapisywane w kodzie muszą być metodami wystąpień i nie mogą być metodami statycznymi.</span><span class="sxs-lookup"><span data-stu-id="3e511-123">The event handlers you write in the code-behind must be instance methods and cannot be static methods.</span></span> <span data-ttu-id="3e511-124">Te metody muszą być zdefiniowane przez klasę częściową w przestrzeni nazw CLR identyfikowanej przez `x:Class`.</span><span class="sxs-lookup"><span data-stu-id="3e511-124">These methods must be defined by the partial class within the CLR namespace identified by `x:Class`.</span></span> <span data-ttu-id="3e511-125">Nie można zakwalifikować nazwy programu obsługi zdarzeń, aby polecić [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] procesorowi wyszukać obsługę zdarzeń dla okablowania zdarzeń w innym zakresie klasy.</span><span class="sxs-lookup"><span data-stu-id="3e511-125">You cannot qualify the name of an event handler to instruct a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor to look for an event handler for event wiring in a different class scope.</span></span>  
  
- <span data-ttu-id="3e511-126">Program obsługi musi być zgodny z delegatem dla odpowiedniego zdarzenia w systemie typu zapasowego.</span><span class="sxs-lookup"><span data-stu-id="3e511-126">The handler must match the delegate for the appropriate event in the backing type system.</span></span>  
  
- <span data-ttu-id="3e511-127">W przypadku języka Microsoft Visual Basic w konkretnym przypadku można użyć słowa kluczowego `Handles` specyficznego dla języka w celu skojarzenia programów obsługi z wystąpieniami i zdarzeniami w deklaracji procedury obsługi, zamiast dołączać obsługi z atrybutami w [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3e511-127">For the Microsoft Visual Basic language specifically, you can use the language-specific `Handles` keyword to associate handlers with instances and events in the handler declaration, instead of attaching handlers with attributes in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="3e511-128">Jednak w tej metodzie istnieją pewne ograniczenia, ponieważ słowo kluczowe `Handles` nie może obsługiwać wszystkich konkretnych funkcji systemu zdarzeń [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], takich jak określone scenariusze zdarzeń kierowanych lub dołączone zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="3e511-128">However, this technique does have some limitations because the `Handles` keyword cannot support all of the specific features of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event system, such as certain routed event scenarios or attached events.</span></span> <span data-ttu-id="3e511-129">Aby uzyskać szczegółowe informacje, zobacz [Visual Basic i obsługa zdarzeń WPF](visual-basic-and-wpf-event-handling.md).</span><span class="sxs-lookup"><span data-stu-id="3e511-129">For details, see [Visual Basic and WPF Event Handling](visual-basic-and-wpf-event-handling.md).</span></span>  
  
<a name="x_Code"></a>   
## <a name="xcode"></a><span data-ttu-id="3e511-130">x:Code</span><span class="sxs-lookup"><span data-stu-id="3e511-130">x:Code</span></span>  
 <span data-ttu-id="3e511-131">[x:Code](../../../desktop-wpf/xaml-services/xcode-intrinsic-xaml-type.md) jest elementem dyrektywy zdefiniowanym w [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3e511-131">[x:Code](../../../desktop-wpf/xaml-services/xcode-intrinsic-xaml-type.md) is a directive element defined in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="3e511-132">Element dyrektywy `x:Code` może zawierać wbudowany kod programistyczny.</span><span class="sxs-lookup"><span data-stu-id="3e511-132">An `x:Code` directive element can contain inline programming code.</span></span> <span data-ttu-id="3e511-133">Kod, który jest zdefiniowany w tekście, może współdziałać z [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] na tej samej stronie.</span><span class="sxs-lookup"><span data-stu-id="3e511-133">The code that is defined inline can interact with the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] on the same page.</span></span> <span data-ttu-id="3e511-134">Poniższy przykład ilustruje kod wbudowany C# .</span><span class="sxs-lookup"><span data-stu-id="3e511-134">The following example illustrates inline C# code.</span></span> <span data-ttu-id="3e511-135">Zwróć uwagę, że kod znajduje się wewnątrz elementu `x:Code` i że kod musi być ujęty w `<CDATA[`...`]]>`, aby wypróbować zawartość pliku XML, dzięki czemu procesor [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] (interpretując schemat [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] lub schemat [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]) nie będzie próbować interpretować zawartości dosłownie jako XML.</span><span class="sxs-lookup"><span data-stu-id="3e511-135">Notice that the code is inside the `x:Code` element and that the code must be surrounded by `<CDATA[`...`]]>` to escape the contents for XML, so that a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor (interpreting either the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] schema or the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] schema) will not try to interpret the contents literally as XML.</span></span>  
  
 [!code-xaml[XAMLOvwSupport#ButtonWithInlineCode](~/samples/snippets/csharp/VS_Snippets_Wpf/XAMLOvwSupport/CSharp/page4.xaml#buttonwithinlinecode)]  
  
<a name="Inline_Code_Limitations"></a>   
## <a name="inline-code-limitations"></a><span data-ttu-id="3e511-136">Ograniczenia kodu wbudowanego</span><span class="sxs-lookup"><span data-stu-id="3e511-136">Inline Code Limitations</span></span>  
 <span data-ttu-id="3e511-137">Należy rozważyć uniknięcie lub ograniczenie użycia kodu wbudowanego.</span><span class="sxs-lookup"><span data-stu-id="3e511-137">You should consider avoiding or limiting the use of inline code.</span></span> <span data-ttu-id="3e511-138">W zakresie architektury i zasad kodowania, utrzymując rozdzielenie między adiustacją i kodem, utrzymuje znacznie więcej odrębnych ról projektanta i dewelopera.</span><span class="sxs-lookup"><span data-stu-id="3e511-138">In terms of architecture and coding philosophy, maintaining a separation between markup and code-behind keeps the designer and developer roles much more distinct.</span></span> <span data-ttu-id="3e511-139">Na wyższym poziomie technicznym kod, który można napisać pod kątem kodu wbudowanego może być niewygodna do zapisu, ponieważ zawsze piszesz do [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] wygenerowanej częściowej klasy i można używać tylko domyślnych mapowań przestrzeni nazw XML.</span><span class="sxs-lookup"><span data-stu-id="3e511-139">On a more technical level, the code that you write for inline code can be awkward to write, because you are always writing into the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] generated partial class, and can only use the default XML namespace mappings.</span></span> <span data-ttu-id="3e511-140">Ponieważ nie można dodać instrukcji `using`, musisz w pełni zakwalifikować wiele wywołań interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="3e511-140">Because you cannot add `using` statements, you must fully qualify many of the API calls that you make.</span></span> <span data-ttu-id="3e511-141">Domyślne mapowania [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] obejmują większość, ale nie wszystkie przestrzenie nazw CLR, które znajdują się w zestawach [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]; konieczne będzie w pełni kwalifikowanie wywołań do typów i elementów członkowskich zawartych w innych przestrzeniach nazw środowiska CLR.</span><span class="sxs-lookup"><span data-stu-id="3e511-141">The default [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] mappings include most but not all CLR namespaces that are present in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] assemblies; you will have to fully qualify calls to types and members contained within the other CLR namespaces.</span></span> <span data-ttu-id="3e511-142">Nie można również definiować niczego poza klasą częściową w kodzie wbudowanym, a wszystkie jednostki kodu użytkownika, do których się odwołuje, muszą istnieć jako element członkowski lub zmienna w wygenerowanej klasie częściowej.</span><span class="sxs-lookup"><span data-stu-id="3e511-142">You also cannot define anything beyond the partial class in the inline code, and all user code entities you reference must exist as a member or variable within the generated partial class.</span></span> <span data-ttu-id="3e511-143">Inne funkcje programistyczne specyficzne dla języka, takie jak makra lub `#ifdef` na zmienne globalne lub zmienne kompilacji, również są niedostępne.</span><span class="sxs-lookup"><span data-stu-id="3e511-143">Other language specific programming features, such as macros or `#ifdef` against global variables or build variables, are also not available.</span></span> <span data-ttu-id="3e511-144">Aby uzyskać więcej informacji, zobacz [X:Code wewnętrzny typ XAML](../../../desktop-wpf/xaml-services/xcode-intrinsic-xaml-type.md).</span><span class="sxs-lookup"><span data-stu-id="3e511-144">For more information, see [x:Code Intrinsic XAML Type](../../../desktop-wpf/xaml-services/xcode-intrinsic-xaml-type.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3e511-145">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="3e511-145">See also</span></span>

- [<span data-ttu-id="3e511-146">Przegląd XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="3e511-146">XAML Overview (WPF)</span></span>](../../../desktop-wpf/fundamentals/xaml.md)
- [<span data-ttu-id="3e511-147">x:Code, wewnętrzny typ XAML</span><span class="sxs-lookup"><span data-stu-id="3e511-147">x:Code Intrinsic XAML Type</span></span>](../../../desktop-wpf/xaml-services/xcode-intrinsic-xaml-type.md)
- [<span data-ttu-id="3e511-148">Kompilowanie aplikacji WPF</span><span class="sxs-lookup"><span data-stu-id="3e511-148">Building a WPF Application</span></span>](../app-development/building-a-wpf-application-wpf.md)
- [<span data-ttu-id="3e511-149">Szczegóły składni XAML</span><span class="sxs-lookup"><span data-stu-id="3e511-149">XAML Syntax In Detail</span></span>](xaml-syntax-in-detail.md)
