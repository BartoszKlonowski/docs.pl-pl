---
title: Właściwości zależności tylko do odczytu
ms.date: 03/30/2017
helpviewer_keywords:
- dependency properties [WPF], read-only
- read-only dependency properties [WPF]
ms.assetid: f23d6ec9-3780-4c09-a2ff-b2f0a2deddf1
ms.openlocfilehash: 2850dd86ffbe2c6698821218dee5d870fc58e89b
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/04/2018
---
# <a name="read-only-dependency-properties"></a><span data-ttu-id="4d88c-102">Właściwości zależności tylko do odczytu</span><span class="sxs-lookup"><span data-stu-id="4d88c-102">Read-Only Dependency Properties</span></span>
<span data-ttu-id="4d88c-103">W tym temacie opisano właściwości zależności tylko do odczytu, włącznie z istniejącej właściwości tylko do odczytu zależności i scenariusze i techniki tworzenia właściwości niestandardowych zależności tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="4d88c-103">This topic describes read-only dependency properties, including existing read-only dependency properties and the scenarios and techniques for creating a custom read-only dependency property.</span></span>  
  

  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="4d88c-104">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="4d88c-104">Prerequisites</span></span>  
 <span data-ttu-id="4d88c-105">W tym temacie założono, że rozumiesz podstawowe scenariusze wdrażania właściwości zależności i jak metadanych są stosowane do właściwości niestandardowych zależności.</span><span class="sxs-lookup"><span data-stu-id="4d88c-105">This topic assumes that you understand the basic scenarios of implementing a dependency property, and how metadata is applied to a custom dependency property.</span></span> <span data-ttu-id="4d88c-106">Zobacz [właściwości zależności niestandardowe](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md) i [metadanych właściwości zależności](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md) dla kontekstu.</span><span class="sxs-lookup"><span data-stu-id="4d88c-106">See [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md) and [Dependency Property Metadata](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md) for context.</span></span>  
  
<a name="existing"></a>   
## <a name="existing-read-only-dependency-properties"></a><span data-ttu-id="4d88c-107">Istniejącej właściwości tylko do odczytu zależności</span><span class="sxs-lookup"><span data-stu-id="4d88c-107">Existing Read-Only Dependency Properties</span></span>  
 <span data-ttu-id="4d88c-108">Niektóre właściwości zależności zdefiniowane w [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] framework są tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="4d88c-108">Some of the dependency properties defined in the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] framework are read-only.</span></span> <span data-ttu-id="4d88c-109">Typowe przyczyny służący do określania właściwości tylko do odczytu zależności jest, że są one właściwości, która powinna być używana do określenia stanu, ale których wpływ na tym stanie przez wiele czynników, ale tylko ustawienie właściwości w dany stan nie jest pożądana z Perspektywa projektu interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="4d88c-109">The typical reason for specifying a read-only dependency property is that these are properties that should be used for state determination, but where that state is influenced by a multitude of factors, but just setting the property to that state isn't desirable from a user interface design perspective.</span></span> <span data-ttu-id="4d88c-110">Na przykład właściwość <xref:System.Windows.UIElement.IsMouseOver%2A> jest naprawdę tylko udostępniając stanu zgodnie z myszy danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="4d88c-110">For example, the property <xref:System.Windows.UIElement.IsMouseOver%2A> is really just surfacing state as determined from the mouse input.</span></span> <span data-ttu-id="4d88c-111">Każda próba ta wartość programowo przez obejście wejście myszy wartość true, będzie nieprzewidywalny i mogłoby spowodować niespójność.</span><span class="sxs-lookup"><span data-stu-id="4d88c-111">Any attempt to set this value programmatically by circumventing the true mouse input would be unpredictable and would cause inconsistency.</span></span>  
  
 <span data-ttu-id="4d88c-112">Z brakiem można ustawić, właściwości tylko do odczytu zależności nie są odpowiednie dla wielu scenariuszy, dla których zależności właściwości oferują zwykle rozwiązania (to znaczy: wiązanie bezpośrednio stylable wartość, sprawdzanie poprawności, animacji, dziedziczenia danych).</span><span class="sxs-lookup"><span data-stu-id="4d88c-112">By virtue of not being settable, read-only dependency properties aren't appropriate for many of the scenarios for which dependency properties normally offer a solution (namely: data binding, directly stylable to a value, validation, animation, inheritance).</span></span> <span data-ttu-id="4d88c-113">Mimo iż nie można ustawić, tylko do odczytu zależności właściwości nadal mieć niektóre dodatkowe funkcje obsługiwane przez właściwości zależności w systemie właściwości.</span><span class="sxs-lookup"><span data-stu-id="4d88c-113">Despite not being settable, read-only dependency properties still have some of the additional capabilities supported by dependency properties in the property system.</span></span> <span data-ttu-id="4d88c-114">Najważniejsze możliwości pozostałych jest, że właściwość tylko do odczytu zależności nadal może być używana jako właściwość Wyzwalacze w stylu.</span><span class="sxs-lookup"><span data-stu-id="4d88c-114">The most important remaining capability is that the read-only dependency property can still be used as a property trigger in a style.</span></span> <span data-ttu-id="4d88c-115">Nie można włączyć wyzwalacze zwykłym [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] właściwości; musi on być właściwością zależności.</span><span class="sxs-lookup"><span data-stu-id="4d88c-115">You can't enable triggers with a normal [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] property; it needs to be a dependency property.</span></span> <span data-ttu-id="4d88c-116">Wyżej wymienionych <xref:System.Windows.UIElement.IsMouseOver%2A> właściwość jest idealne przykładowy scenariusz, w którym może być bardzo przydatne do definiowania stylów formantu, gdy niektóre właściwości visible, np. tło, pierwszego planu lub podobne właściwości połączone elementy wewnątrz kontroli ulegnie zmianie, gdy użytkownik umieszcza myszy nad niektórych zdefiniowanych region formantu.</span><span class="sxs-lookup"><span data-stu-id="4d88c-116">The aforementioned <xref:System.Windows.UIElement.IsMouseOver%2A> property is a perfect example of a scenario where it might be quite useful to define a style for a control, where some visible property such as a background, foreground, or similar properties of composited elements within the control will change when the user places a mouse over some defined region of your control.</span></span> <span data-ttu-id="4d88c-117">Zmiany właściwości tylko do odczytu zależności można także wykryte i zgłoszony przez system właściwości związanego z używaniem unieważniania procesów i to w rzeczywistości obsługuje funkcje wyzwalacza właściwości wewnętrznie.</span><span class="sxs-lookup"><span data-stu-id="4d88c-117">Changes in a read-only dependency property can also be detected and reported by the property system's inherent invalidation processes, and this in fact supports the property trigger functionality internally.</span></span>  
  
<a name="new"></a>   
## <a name="creating-custom-read-only-dependency-properties"></a><span data-ttu-id="4d88c-118">Tworzenie niestandardowych zależności tylko do odczytu właściwości</span><span class="sxs-lookup"><span data-stu-id="4d88c-118">Creating Custom Read-Only Dependency Properties</span></span>  
 <span data-ttu-id="4d88c-119">Upewnij się zapoznać się z sekcją powyżej dotyczące Dlaczego właściwości tylko do odczytu zależności nie będzie działać w różnych scenariuszach typowe właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="4d88c-119">Make sure to read the section above regarding why read-only dependency properties won't work for many typical dependency-property scenarios.</span></span> <span data-ttu-id="4d88c-120">Ale jeśli jest to odpowiedni scenariusz, możesz utworzyć własną właściwość dependency tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="4d88c-120">But if you have an appropriate scenario, you may wish to create your own read-only dependency property.</span></span>  
  
 <span data-ttu-id="4d88c-121">Większa część procesu tworzenia właściwości zależności tylko do odczytu jest taki sam, jak opisano w [właściwości zależności niestandardowe](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md) i [implementuje właściwości zależności](../../../../docs/framework/wpf/advanced/how-to-implement-a-dependency-property.md) tematów.</span><span class="sxs-lookup"><span data-stu-id="4d88c-121">Much of the process of creating a read-only dependency property is the same as is described in the [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md) and [Implement a Dependency Property](../../../../docs/framework/wpf/advanced/how-to-implement-a-dependency-property.md) topics.</span></span> <span data-ttu-id="4d88c-122">Istnieją trzy istotnych różnic:</span><span class="sxs-lookup"><span data-stu-id="4d88c-122">There are three important differences:</span></span>  
  
-   <span data-ttu-id="4d88c-123">Podczas rejestrowania programu właściwości, należy wywołać <xref:System.Windows.DependencyProperty.RegisterReadOnly%2A> metody zamiast normalnych <xref:System.Windows.DependencyProperty.Register%2A> metoda rejestracji właściwości.</span><span class="sxs-lookup"><span data-stu-id="4d88c-123">When registering your property, call the <xref:System.Windows.DependencyProperty.RegisterReadOnly%2A> method instead of the normal <xref:System.Windows.DependencyProperty.Register%2A> method for property registration.</span></span>  
  
-   <span data-ttu-id="4d88c-124">Podczas implementowania [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] właściwości "otoki" Upewnij się, że zbyt otoki nie ma implementacji zestawu, tak że nie są w stanie tylko do odczytu dla publicznych otoki niezgodności ujawnia.</span><span class="sxs-lookup"><span data-stu-id="4d88c-124">When implementing the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] "wrapper" property, make sure that the wrapper too doesn't have a set implementation, so that there is no inconsistency in read-only state for the public wrapper you expose.</span></span>  
  
-   <span data-ttu-id="4d88c-125">Obiekt zwrócony przez rejestracja tylko do odczytu jest <xref:System.Windows.DependencyPropertyKey> zamiast <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="4d88c-125">The object returned by the read-only registration is <xref:System.Windows.DependencyPropertyKey> rather than <xref:System.Windows.DependencyProperty>.</span></span> <span data-ttu-id="4d88c-126">Nadal należy przechowywać w tym polu jako element członkowski, ale zazwyczaj można nie spowoduje publicznego elementu członkowskiego typu.</span><span class="sxs-lookup"><span data-stu-id="4d88c-126">You should still store this field as a member but typically you would not make it a public member of the type.</span></span>  
  
 <span data-ttu-id="4d88c-127">Niezależnie od prywatnej pola lub wartość ma zapasowy z właściwości tylko do odczytu zależności oczywiście można pełni zapisu przy użyciu logiki, niezależnie od podjęcia decyzji.</span><span class="sxs-lookup"><span data-stu-id="4d88c-127">Whatever private field or value you have backing your read-only dependency property can of course be fully writable using whatever logic you decide.</span></span> <span data-ttu-id="4d88c-128">Jednak jest najbardziej oczywistym sposobem ustaw właściwość początkowo lub jako część logiki środowiska uruchomieniowego do korzystania z systemu właściwości [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], zamiast obejścia system właściwości i ustawienie pola zapasowego prywatnego bezpośrednio.</span><span class="sxs-lookup"><span data-stu-id="4d88c-128">However, the most straightforward way to set the property either initially or as part of runtime logic is to use the property system's [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], rather than circumventing the property system and setting the private backing field directly.</span></span> <span data-ttu-id="4d88c-129">W szczególności jest podpis <xref:System.Windows.DependencyObject.SetValue%2A> który akceptuje parametr typu <xref:System.Windows.DependencyPropertyKey>.</span><span class="sxs-lookup"><span data-stu-id="4d88c-129">In particular, there is a signature of <xref:System.Windows.DependencyObject.SetValue%2A> that accepts a parameter of type <xref:System.Windows.DependencyPropertyKey>.</span></span> <span data-ttu-id="4d88c-130">Jak i gdzie tę wartość ustawiono programowo w aplikacji logiki będzie miało wpływ na sposób możesz ustawić dostęp na <xref:System.Windows.DependencyPropertyKey> utworzone przy pierwszej rejestracji właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="4d88c-130">How and where you set this value programmatically within your application logic will affect how you may wish to set access on the <xref:System.Windows.DependencyPropertyKey> created when you first registered the dependency property.</span></span> <span data-ttu-id="4d88c-131">Jeśli obsługiwać tę logikę w klasie można wprowadzić prywatnych lub wymagane ustawienie z innych części zestawu może być ustawiony wewnętrznego.</span><span class="sxs-lookup"><span data-stu-id="4d88c-131">If you handle this logic all within the class you could make it private, or if you require it to be set from other portions of the assembly you might set it internal.</span></span> <span data-ttu-id="4d88c-132">Jednym z podejść jest wywołanie <xref:System.Windows.DependencyObject.SetValue%2A> w obrębie klasy obsługi zdarzenia odpowiednie zdarzenia, które informują wystąpienia klasy, która musi zostać zmienione wartości właściwości przechowywanej.</span><span class="sxs-lookup"><span data-stu-id="4d88c-132">One approach is to call <xref:System.Windows.DependencyObject.SetValue%2A> within a class event handler of a relevant event that informs a class instance that the stored property value needs to be changed.</span></span> <span data-ttu-id="4d88c-133">Innym rozwiązaniem jest powiązanie właściwości zależności ze sobą za pomocą łączyć <xref:System.Windows.PropertyChangedCallback> i <xref:System.Windows.CoerceValueCallback> wywołania zwrotne w ramach tych właściwości metadanych podczas rejestracji.</span><span class="sxs-lookup"><span data-stu-id="4d88c-133">Another approach is to tie dependency properties together by using paired <xref:System.Windows.PropertyChangedCallback> and <xref:System.Windows.CoerceValueCallback> callbacks as part of those properties' metadata during registration.</span></span>  
  
 <span data-ttu-id="4d88c-134">Ponieważ <xref:System.Windows.DependencyPropertyKey> jest prywatny i nie są propagowane w systemie właściwości poza swój kod, właściwości tylko do odczytu zależności mają lepiej ustawienie zabezpieczeń niż właściwości zależności odczytu i zapisu.</span><span class="sxs-lookup"><span data-stu-id="4d88c-134">Because the <xref:System.Windows.DependencyPropertyKey> is private, and is not propagated by the property system outside of your code, a read-only dependency property does have better setting security than a read-write dependency property.</span></span> <span data-ttu-id="4d88c-135">Dla właściwości zależności odczytu i zapisu pole identyfikacyjne jest jawnie lub niejawnie publicznego i w związku z tym jest powszechnie można ustawić właściwości.</span><span class="sxs-lookup"><span data-stu-id="4d88c-135">For a read-write dependency property, the identifying field is explicitly or implicitly public and thus the property is widely settable.</span></span> <span data-ttu-id="4d88c-136">Aby uzyskać więcej szczegółowych informacji, zobacz [zabezpieczeń właściwości zależności](../../../../docs/framework/wpf/advanced/dependency-property-security.md).</span><span class="sxs-lookup"><span data-stu-id="4d88c-136">For more specifics, see [Dependency Property Security](../../../../docs/framework/wpf/advanced/dependency-property-security.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4d88c-137">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="4d88c-137">See Also</span></span>  
 [<span data-ttu-id="4d88c-138">Przegląd właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="4d88c-138">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)  
 [<span data-ttu-id="4d88c-139">Niestandardowe właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="4d88c-139">Custom Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)  
 [<span data-ttu-id="4d88c-140">Tworzenie szablonów i stylów</span><span class="sxs-lookup"><span data-stu-id="4d88c-140">Styling and Templating</span></span>](../../../../docs/framework/wpf/controls/styling-and-templating.md)
