---
title: Przegląd Zdarzenia trasowane
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- attached events [WPF]
- grouped button set [WPF]
- routed events [WPF]
- events [WPF], routed
- tunneling [WPF]
- events [WPF], attached
- routing strategies for events [WPF]
- button set [WPF], grouped
- bubbling [WPF]
ms.assetid: 1a2189ae-13b4-45b0-b12c-8de2e49c29d2
ms.openlocfilehash: 24fa283ec0c1fef2023845df0a05c3f1ebf5df06
ms.sourcegitcommit: 24a4a8eb6d8cfe7b8549fb6d823076d7c697e0c6
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/23/2019
ms.locfileid: "68400753"
---
# <a name="routed-events-overview"></a><span data-ttu-id="2b3c7-102">Przegląd Zdarzenia trasowane</span><span class="sxs-lookup"><span data-stu-id="2b3c7-102">Routed Events Overview</span></span>

<span data-ttu-id="2b3c7-103">W tym temacie opisano koncepcję zdarzeń kierowanych [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]w programie.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-103">This topic describes the concept of routed events in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span> <span data-ttu-id="2b3c7-104">Temat definiuje terminologię dotyczącą zdarzeń kierowanych, opis sposobu, w jaki zdarzenia kierowane są kierowane przez drzewo elementów, podsumowują sposób obsługi zdarzeń kierowanych i wprowadzają sposób tworzenia własnych niestandardowych zdarzeń routingu.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-104">The topic defines routed events terminology, describes how routed events are routed through a tree of elements, summarizes how you handle routed events, and introduces how to create your own custom routed events.</span></span>

<a name="prerequisites"></a>

## <a name="prerequisites"></a><span data-ttu-id="2b3c7-105">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="2b3c7-105">Prerequisites</span></span>

<span data-ttu-id="2b3c7-106">W tym temacie założono, że masz podstawową wiedzę na temat środowiska uruchomieniowego języka wspólnego (CLR) i programowania zorientowanego obiektowo, a także koncepcji, w jaki [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] sposób relacje między elementami mogą być koncepcyjne jako drzewo.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-106">This topic assumes that you have basic knowledge of the common language runtime (CLR) and object-oriented programming, as well as the concept of how the relationships between [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elements can be conceptualized as a tree.</span></span> <span data-ttu-id="2b3c7-107">Aby postępować zgodnie z przykładami w tym temacie, należy również zrozumieć [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] i wiedzieć, jak pisać bardzo podstawowe [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] aplikacje lub strony.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-107">In order to follow the examples in this topic, you should also understand [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] and know how to write very basic [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications or pages.</span></span> <span data-ttu-id="2b3c7-108">Aby uzyskać więcej informacji, [zobacz Przewodnik: Moja pierwsza aplikacja](../getting-started/walkthrough-my-first-wpf-desktop-application.md) klasyczna WPF i [Omówienie języka XAML (WPF)](xaml-overview-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-108">For more information, see [Walkthrough: My first WPF desktop application](../getting-started/walkthrough-my-first-wpf-desktop-application.md) and [XAML Overview (WPF)](xaml-overview-wpf.md).</span></span>

<a name="routing"></a>

## <a name="what-is-a-routed-event"></a><span data-ttu-id="2b3c7-109">Co to jest zdarzenie trasowane?</span><span class="sxs-lookup"><span data-stu-id="2b3c7-109">What Is a Routed Event?</span></span>

<span data-ttu-id="2b3c7-110">Zdarzenia kierowane można traktować z perspektywy funkcjonalnej lub implementacji.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-110">You can think about routed events either from a functional or implementation perspective.</span></span> <span data-ttu-id="2b3c7-111">Obie definicje są prezentowane w tym miejscu, ponieważ niektóre osoby mogą łatwiej znaleźć jedną lub drugą definicję.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-111">Both definitions are presented here, because some people find one or the other definition more useful.</span></span>

<span data-ttu-id="2b3c7-112">Definicja funkcjonalności: Zdarzenie trasowane to typ zdarzenia, które umożliwia wywoływanie programów obsługi dla wielu odbiorników w drzewie elementów, a nie tylko na obiekt, który spowodował zdarzenie.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-112">Functional definition: A routed event is a type of event that can invoke handlers on multiple listeners in an element tree, rather than just on the object that raised the event.</span></span>

<span data-ttu-id="2b3c7-113">Definicja implementacji: Zdarzenie trasowane to zdarzenie CLR, które jest obsługiwane przez wystąpienie <xref:System.Windows.RoutedEvent> klasy i przetwarzane [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] przez system zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-113">Implementation definition: A routed event is a CLR event that is backed by an instance of the <xref:System.Windows.RoutedEvent> class and is processed by the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] event system.</span></span>

<span data-ttu-id="2b3c7-114">Typowa [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] aplikacja zawiera wiele elementów.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-114">A typical [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] application contains many elements.</span></span> <span data-ttu-id="2b3c7-115">Niezależnie od tego, czy utworzono w [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]kodzie, czy zadeklarowano w, te elementy istnieją w relacji drzewa elementów ze sobą.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-115">Whether created in code or declared in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], these elements exist in an element tree relationship to each other.</span></span> <span data-ttu-id="2b3c7-116">Trasa zdarzenia może poruszać się w jednym z dwóch kierunków, w zależności od definicji zdarzenia, ale ogólnie trasa jest przenoszona z elementu źródłowego, a następnie "bąbelki" w górę za pośrednictwem drzewa elementów do momentu osiągnięcia elementu głównego drzewa elementów (zazwyczaj strony lub okna).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-116">The event route can travel in one of two directions depending on the event definition, but generally the route travels from the source element and then "bubbles" upward through the element tree until it reaches the element tree root (typically a page or a window).</span></span> <span data-ttu-id="2b3c7-117">Ta koncepcja propagacji może być znana użytkownikowi, jeśli wcześniej pracujesz z modelem obiektów DHTML.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-117">This bubbling concept might be familiar to you if you have worked with the DHTML object model previously.</span></span>

<span data-ttu-id="2b3c7-118">Rozważmy następujące proste drzewo elementów:</span><span class="sxs-lookup"><span data-stu-id="2b3c7-118">Consider the following simple element tree:</span></span>

[!code-xaml[EventOvwSupport#GroupButton](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml#groupbutton)]

<span data-ttu-id="2b3c7-119">To drzewo elementów generuje coś podobne do następujących:</span><span class="sxs-lookup"><span data-stu-id="2b3c7-119">This element tree produces something like the following:</span></span>

<span data-ttu-id="2b3c7-120">![Przyciski tak, nie i Anuluj](./media/routedevent-ovw-1.gif "RoutedEvent_ovw_1")</span><span class="sxs-lookup"><span data-stu-id="2b3c7-120">![Yes, No, and Cancel buttons](./media/routedevent-ovw-1.gif "RoutedEvent_ovw_1")</span></span>

<span data-ttu-id="2b3c7-121">W tym uproszczonym drzewie elementów źródło <xref:System.Windows.Controls.Primitives.ButtonBase.Click> zdarzenia jest jednym <xref:System.Windows.Controls.Button> z elementów, a w zależności od tego <xref:System.Windows.Controls.Button> , który został kliknięty jest pierwszym elementem, który ma możliwość obsługi zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-121">In this simplified element tree, the source of a <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event is one of the <xref:System.Windows.Controls.Button> elements, and whichever <xref:System.Windows.Controls.Button> was clicked is the first element that has the opportunity to handle the event.</span></span> <span data-ttu-id="2b3c7-122">Ale jeśli nie dołączono obsługi do <xref:System.Windows.Controls.Button> działań na zdarzeniu, zdarzenie spowoduje przechodzenie w górę <xref:System.Windows.Controls.Button> do elementu nadrzędnego w <xref:System.Windows.Controls.StackPanel>drzewie elementów, który jest.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-122">But if no handler attached to the <xref:System.Windows.Controls.Button> acts on the event, then the event will bubble upwards to the <xref:System.Windows.Controls.Button> parent in the element tree, which is the <xref:System.Windows.Controls.StackPanel>.</span></span> <span data-ttu-id="2b3c7-123">Potencjalnie może to być bąbelki <xref:System.Windows.Controls.Border>zdarzeń do, a następnie poza katalogiem głównym strony drzewa elementów (niepokazywany).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-123">Potentially, the event bubbles to <xref:System.Windows.Controls.Border>, and then beyond to the page root of the element tree (not shown).</span></span>

<span data-ttu-id="2b3c7-124">Innymi słowy, trasa zdarzenia dla tego <xref:System.Windows.Controls.Primitives.ButtonBase.Click> zdarzenia to:</span><span class="sxs-lookup"><span data-stu-id="2b3c7-124">In other words, the event route for this <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event is:</span></span>

<span data-ttu-id="2b3c7-125">Button--> StackPanel--> Border-->...</span><span class="sxs-lookup"><span data-stu-id="2b3c7-125">Button-->StackPanel-->Border-->...</span></span>

### <a name="top-level-scenarios-for-routed-events"></a><span data-ttu-id="2b3c7-126">Scenariusze najwyższego poziomu dla zdarzeń kierowanych</span><span class="sxs-lookup"><span data-stu-id="2b3c7-126">Top-level Scenarios for Routed Events</span></span>

<span data-ttu-id="2b3c7-127">Poniżej przedstawiono krótkie podsumowanie scenariuszy, które podlegają koncepcji kierowanego zdarzenia i dlaczego typowe zdarzenie CLR nie było wystarczające dla następujących scenariuszy:</span><span class="sxs-lookup"><span data-stu-id="2b3c7-127">The following is a brief summary of the scenarios that motivated the routed event concept, and why a typical CLR event was not adequate for these scenarios:</span></span>

<span data-ttu-id="2b3c7-128">**Układ i hermetyzacja formantu:** Różne kontrolki [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] w programie mają bogaty model zawartości.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-128">**Control composition and encapsulation:** Various controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] have a rich content model.</span></span> <span data-ttu-id="2b3c7-129">Na przykład można umieścić obraz wewnątrz <xref:System.Windows.Controls.Button>obiektu, który skutecznie rozszerza drzewo wizualne przycisku.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-129">For example, you can place an image inside of a <xref:System.Windows.Controls.Button>, which effectively extends the visual tree of the button.</span></span> <span data-ttu-id="2b3c7-130">Jednak dodany obraz nie może przerwać działania testowania trafień, które powoduje, że przycisk reaguje <xref:System.Windows.Controls.Primitives.ButtonBase.Click> na jego zawartość, nawet jeśli użytkownik kliknie piksele, które są technicznie częścią obrazu.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-130">However, the added image must not break the hit-testing behavior that causes a button to respond to a <xref:System.Windows.Controls.Primitives.ButtonBase.Click> of its content, even if the user clicks on pixels that are technically part of the image.</span></span>

<span data-ttu-id="2b3c7-131">**Punkty załącznika procedury obsługi pojedynczej:** W [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)]programie konieczne jest dołączenie tego samego programu obsługi wiele razy, aby przetwarzać zdarzenia, które mogą być wywoływane z wielu elementów.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-131">**Singular handler attachment points:** In [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)], you would have to attach the same handler multiple times to process events that could be raised from multiple elements.</span></span> <span data-ttu-id="2b3c7-132">Zdarzenia kierowane umożliwiają dołączenie tego programu obsługi tylko raz, jak pokazano w poprzednim przykładzie, i użycie logiki obsługi do określenia, w razie potrzeby zdarzenia, z którego pochodzi.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-132">Routed events enable you to attach that handler only once, as was shown in the previous example, and use handler logic to determine where the event came from if necessary.</span></span> <span data-ttu-id="2b3c7-133">Na przykład może to być procedura obsługi poprzednio pokazanego [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]:</span><span class="sxs-lookup"><span data-stu-id="2b3c7-133">For instance, this might be the handler for the previously shown [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]:</span></span>

[!code-csharp[EventOvwSupport#GroupButtonCodeBehind](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml.cs#groupbuttoncodebehind)]
[!code-vb[EventOvwSupport#GroupButtonCodeBehind](~/samples/snippets/visualbasic/VS_Snippets_Wpf/EventOvwSupport/visualbasic/default.xaml.vb#groupbuttoncodebehind)]

<span data-ttu-id="2b3c7-134">**Obsługa klasy:** Zdarzenia kierowane umożliwiają obsługę statyczną, która jest definiowana przez klasę.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-134">**Class handling:** Routed events permit a static handler that is defined by the class.</span></span> <span data-ttu-id="2b3c7-135">Ta procedura obsługi klas umożliwia obsługę zdarzenia przed dowolnymi dołączonymi procedurami obsługi wystąpień.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-135">This class handler has the opportunity to handle an event before any attached instance handlers can.</span></span>

<span data-ttu-id="2b3c7-136">**Odwoływanie się do zdarzenia bez odbicia:** Niektóre techniki kodu i znaczników wymagają sposobu identyfikacji konkretnego zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-136">**Referencing an event without reflection:** Certain code and markup techniques require a way to identify a specific event.</span></span> <span data-ttu-id="2b3c7-137">Zdarzenie trasowane tworzy <xref:System.Windows.RoutedEvent> pole jako identyfikator, który zapewnia niezawodną technikę identyfikacji zdarzeń, która nie wymaga odbicia statycznego ani w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-137">A routed event creates a <xref:System.Windows.RoutedEvent> field as an identifier, which provides a robust event identification technique that does not require static or run-time reflection.</span></span>

### <a name="how-routed-events-are-implemented"></a><span data-ttu-id="2b3c7-138">Jak są implementowane zdarzenia kierowane</span><span class="sxs-lookup"><span data-stu-id="2b3c7-138">How Routed Events Are Implemented</span></span>

<span data-ttu-id="2b3c7-139">Zdarzenie trasowane to zdarzenie CLR, które jest obsługiwane przez wystąpienie <xref:System.Windows.RoutedEvent> klasy i zarejestrowane [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] w systemie zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-139">A routed event is a CLR event that is backed by an instance of the <xref:System.Windows.RoutedEvent> class and registered with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event system.</span></span> <span data-ttu-id="2b3c7-140">Wystąpienie uzyskane z rejestracji jest zwykle `static` zachowywane `readonly` `public` jako element członkowski pola klasy, która rejestruje i w tym samym "właścicielem" zdarzenia kierowanego. <xref:System.Windows.RoutedEvent></span><span class="sxs-lookup"><span data-stu-id="2b3c7-140">The <xref:System.Windows.RoutedEvent> instance obtained from registration is typically retained as a `public` `static` `readonly` field member of the class that registers and thus "owns" the routed event.</span></span> <span data-ttu-id="2b3c7-141">Połączenie z identycznie nazwanym zdarzeniem środowiska CLR (które jest czasami określane jako zdarzenie otoki) jest realizowane przez zastąpienie `add` implementacji i `remove` dla zdarzenia CLR.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-141">The connection to the identically named CLR event (which is sometimes termed the "wrapper" event) is accomplished by overriding the `add` and `remove` implementations for the CLR event.</span></span> <span data-ttu-id="2b3c7-142">`add` Zwykle i `remove` są pozostawiane jako niejawne domyślne, które wykorzystują odpowiednią składnię zdarzenia specyficzną dla języka do dodawania i usuwania programów obsługi tego zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-142">Ordinarily, the `add` and `remove` are left as an implicit default that uses the appropriate language-specific event syntax for adding and removing handlers of that event.</span></span> <span data-ttu-id="2b3c7-143">Mechanizm tworzenia kopii zapasowych i łączenia zdarzeń jest koncepcyjnie podobny do tego, w jaki sposób właściwość zależności jest właściwością CLR, <xref:System.Windows.DependencyProperty> która jest obsługiwana przez klasę [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] i zarejestrowana w systemie właściwości.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-143">The routed event backing and connection mechanism is conceptually similar to how a dependency property is a CLR property that is backed by the <xref:System.Windows.DependencyProperty> class and registered with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system.</span></span>

<span data-ttu-id="2b3c7-144">W poniższym przykładzie `Tap` pokazano deklarację dla niestandardowego zdarzenia trasowanego, w tym rejestracji i ekspozycji <xref:System.Windows.RoutedEvent> pola identyfikatora oraz `add` implementacji i `remove` dla `Tap` zdarzenia CLR.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-144">The following example shows the declaration for a custom `Tap` routed event, including the registration and exposure of the <xref:System.Windows.RoutedEvent> identifier field and the `add` and `remove` implementations for the `Tap` CLR event.</span></span>

[!code-csharp[RoutedEventCustom#AddRemoveHandler](~/samples/snippets/csharp/VS_Snippets_Wpf/RoutedEventCustom/CSharp/SDKSampleLibrary/class1.cs#addremovehandler)]
[!code-vb[RoutedEventCustom#AddRemoveHandler](~/samples/snippets/visualbasic/VS_Snippets_Wpf/RoutedEventCustom/VB/SDKSampleLibrary/Class1.vb#addremovehandler)]

### <a name="routed-event-handlers-and-xaml"></a><span data-ttu-id="2b3c7-145">Procedury obsługi zdarzeń kierowanych i XAML</span><span class="sxs-lookup"><span data-stu-id="2b3c7-145">Routed Event Handlers and XAML</span></span>

<span data-ttu-id="2b3c7-146">Aby dodać procedurę obsługi dla zdarzenia przy użyciu [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], należy zadeklarować nazwę zdarzenia jako atrybut w elemencie, który jest odbiornikiem zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-146">To add a handler for an event using [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you declare the event name as an attribute on the element that is an event listener.</span></span> <span data-ttu-id="2b3c7-147">Wartość atrybutu jest nazwą zaimplementowanej metody obsługi, która musi istnieć w klasie częściowej pliku związanego z kodem.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-147">The value of the attribute is the name of your implemented handler method, which must exist in the partial class of the code-behind file.</span></span>

[!code-xaml[EventOvwSupport#SimplestSyntax](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml#simplestsyntax)]

<span data-ttu-id="2b3c7-148">[!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] Składnia służąca do dodawania standardowych programów obsługi zdarzeń CLR jest taka sama w przypadku dodawania obsługi zdarzeń kierowanych, ponieważ w rzeczywistości dodajesz programy obsługi do otoki zdarzeń CLR, która ma zaimplementowaną implementację zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-148">The [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] syntax for adding standard CLR event handlers is the same for adding routed event handlers, because you are really adding handlers to the CLR event wrapper, which has a routed event implementation underneath.</span></span> <span data-ttu-id="2b3c7-149">Aby uzyskać więcej informacji na temat dodawania obsługi zdarzeń [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]w programie, zobacz [XAML — Omówienie (WPF)](xaml-overview-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-149">For more information about adding event handlers in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], see [XAML Overview (WPF)](xaml-overview-wpf.md).</span></span>

<a name="routing_strategies"></a>

## <a name="routing-strategies"></a><span data-ttu-id="2b3c7-150">Strategie routingu</span><span class="sxs-lookup"><span data-stu-id="2b3c7-150">Routing Strategies</span></span>

<span data-ttu-id="2b3c7-151">Zdarzenia kierowane korzystają z jednej z trzech strategii routingu:</span><span class="sxs-lookup"><span data-stu-id="2b3c7-151">Routed events use one of three routing strategies:</span></span>

- <span data-ttu-id="2b3c7-152">**Propagacja** Procedury obsługi zdarzeń w źródle zdarzeń są wywoływane.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-152">**Bubbling:** Event handlers on the event source are invoked.</span></span> <span data-ttu-id="2b3c7-153">Rozesłane zdarzenie następnie kieruje do kolejnych elementów nadrzędnych do momentu osiągnięcia katalogu głównego drzewa elementów.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-153">The routed event then routes to successive parent elements until reaching the element tree root.</span></span> <span data-ttu-id="2b3c7-154">Większość przesłanych zdarzeń korzysta z strategii routingu propagacji.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-154">Most routed events use the bubbling routing strategy.</span></span> <span data-ttu-id="2b3c7-155">Propagacja zdarzeń kierowanych jest zwykle używana do raportowania zmian wprowadzonych lub stanu z różnych kontrolek lub innych elementów interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-155">Bubbling routed events are generally used to report input or state changes from distinct controls or other UI elements.</span></span>

- <span data-ttu-id="2b3c7-156">**Bezpośrednie** Tylko element źródłowy ma możliwość wywołania programów obsługi w odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-156">**Direct:** Only the source element itself is given the opportunity to invoke handlers in response.</span></span> <span data-ttu-id="2b3c7-157">Jest to analogiczne do "routingu" używanego [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] dla zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-157">This is analogous to the "routing" that [!INCLUDE[TLA#tla_winforms](../../../../includes/tlasharptla-winforms-md.md)] uses for events.</span></span> <span data-ttu-id="2b3c7-158">Jednak, w przeciwieństwie do standardowego zdarzenia CLR, obsługiwane są zdarzenia kierowane do obsługi klas (obsługa klasy została omówiona w nadchodzącej sekcji) i może <xref:System.Windows.EventSetter> być <xref:System.Windows.EventTrigger>używane przez i.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-158">However, unlike a standard CLR event, direct routed events support class handling (class handling is explained in an upcoming section) and can be used by <xref:System.Windows.EventSetter> and <xref:System.Windows.EventTrigger>.</span></span>

- <span data-ttu-id="2b3c7-159">**Tunelowania** Początkowo procedury obsługi zdarzeń w katalogu głównym drzewa elementów są wywoływane.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-159">**Tunneling:** Initially, event handlers at the element tree root are invoked.</span></span> <span data-ttu-id="2b3c7-160">Rozesłane zdarzenie następnie kieruje trasę przez kolejne elementy podrzędne wzdłuż trasy do elementu węzła, który jest kierowanym źródłem zdarzeń (element, który zgłosił zdarzenie kierowane).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-160">The routed event then travels a route through successive child elements along the route, towards the node element that is the routed event source (the element that raised the routed event).</span></span> <span data-ttu-id="2b3c7-161">Tunelowanie zdarzeń kierowanych jest często używane lub obsługiwane jako część składu kontrolki, tak że zdarzenia z części złożonych można celowo pominąć lub zastąpić zdarzeniami, które są specyficzne dla całej kontroli.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-161">Tunneling routed events are often used or handled as part of the compositing for a control, such that events from composite parts can be deliberately suppressed or replaced by events that are specific to the complete control.</span></span> <span data-ttu-id="2b3c7-162">Zdarzenia wejściowe podane w [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] często są implementowane jako para tunelowania/propagacji.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-162">Input events provided in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] often come implemented as a tunneling/bubbling pair.</span></span> <span data-ttu-id="2b3c7-163">Zdarzenia tunelowania są również czasami określane jako zdarzenia w wersji zapoznawczej ze względu na konwencję nazewnictwa, która jest używana dla par.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-163">Tunneling events are also sometimes referred to as Preview events, because of a naming convention that is used for the pairs.</span></span>

<a name="why_use"></a>

## <a name="why-use-routed-events"></a><span data-ttu-id="2b3c7-164">Dlaczego warto używać zdarzeń kierowanych?</span><span class="sxs-lookup"><span data-stu-id="2b3c7-164">Why Use Routed Events?</span></span>

<span data-ttu-id="2b3c7-165">Jako deweloper aplikacji nie zawsze musisz znać lub zadbać o to, aby obsługiwane zdarzenie zostało zaimplementowane jako zdarzenie trasowane.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-165">As an application developer, you do not always need to know or care that the event you are handling is implemented as a routed event.</span></span> <span data-ttu-id="2b3c7-166">Zdarzenia kierowane mają specjalne zachowanie, ale takie zachowanie jest w dużym stopniu niewidoczne, jeśli są obsługiwane zdarzenia dotyczące elementu, w którym jest wywoływany.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-166">Routed events have special behavior, but that behavior is largely invisible if you are handling an event on the element where it is raised.</span></span>

<span data-ttu-id="2b3c7-167">W przypadku, gdy zdarzenia kierowane stają się rozbudowane, można użyć dowolnego z sugerowanych scenariuszy: definiowania wspólnych programów obsługi w wspólnym katalogu głównym, tworzenia własnej kontrolki lub definiowania własnej niestandardowej klasy kontrolek.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-167">Where routed events become powerful is if you use any of the suggested scenarios: defining common handlers at a common root, compositing your own control, or defining your own custom control class.</span></span>

<span data-ttu-id="2b3c7-168">Rozesłane detektory zdarzeń i źródła zdarzeń kierowane nie muszą udostępniać typowego zdarzenia w swojej hierarchii.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-168">Routed event listeners and routed event sources do not need to share a common event in their hierarchy.</span></span> <span data-ttu-id="2b3c7-169">Każdy <xref:System.Windows.UIElement> lub<xref:System.Windows.ContentElement> może być odbiornikiem zdarzeń dla dowolnego zdarzenia kierowanego.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-169">Any <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> can be an event listener for any routed event.</span></span> <span data-ttu-id="2b3c7-170">Z tego względu można użyć pełnego zestawu zdarzeń kierowanych dostępnych w ramach działającego zestawu interfejsów API jako koncepcyjnego "interfejsu", za pomocą którego różne elementy w aplikacji mogą wymieniać informacje o zdarzeniach.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-170">Therefore, you can use the full set of routed events available throughout the working API set as a conceptual "interface" whereby disparate elements in the application can exchange event information.</span></span> <span data-ttu-id="2b3c7-171">Pojęcie "Interface" dla zdarzeń kierowanych jest szczególnie stosowane w przypadku zdarzeń wejściowych.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-171">This "interface" concept for routed events is particularly applicable for input events.</span></span>

<span data-ttu-id="2b3c7-172">Zdarzenia trasowane mogą być również używane do komunikowania się w drzewie elementów, ponieważ dane zdarzenia dla zdarzenia są perpetuated do każdego elementu w marszrucie.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-172">Routed events can also be used to communicate through the element tree, because the event data for the event is perpetuated to each element in the route.</span></span> <span data-ttu-id="2b3c7-173">Jeden element może zmienić coś w danych zdarzenia, a ta zmiana byłaby dostępna dla następnego elementu w marszrucie.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-173">One element could change something in the event data, and that change would be available to the next element in the route.</span></span>

<span data-ttu-id="2b3c7-174">Poza aspektem routingu istnieją dwie inne przyczyny, w których każde określone [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] zdarzenie może zostać zaimplementowane jako zdarzenie trasowane zamiast standardowego zdarzenia CLR.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-174">Other than the routing aspect, there are two other reasons that any given [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event might be implemented as a routed event instead of a standard CLR event.</span></span> <span data-ttu-id="2b3c7-175">W przypadku wdrażania własnych zdarzeń można także wziąć pod uwagę następujące zasady:</span><span class="sxs-lookup"><span data-stu-id="2b3c7-175">If you are implementing your own events, you might also consider these principles:</span></span>

- <span data-ttu-id="2b3c7-176">Niektóre [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] funkcje stylów i tworzenia szablonów, takie <xref:System.Windows.EventSetter> jak <xref:System.Windows.EventTrigger> i wymagają zdarzenia przywoływanego, są zdarzeniem kierowanym.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-176">Certain [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] styling and templating features such as <xref:System.Windows.EventSetter> and <xref:System.Windows.EventTrigger> require the referenced event to be a routed event.</span></span> <span data-ttu-id="2b3c7-177">Jest to opisany wcześniej scenariusz identyfikatora zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-177">This is the event identifier scenario mentioned earlier.</span></span>

- <span data-ttu-id="2b3c7-178">Zdarzenia kierowane obsługują mechanizm obsługi klasy, dzięki czemu Klasa może określać metody statyczne, które mają możliwość obsługi zdarzeń kierowanych, zanim wszystkie zarejestrowane programy obsługi wystąpień będą mogły uzyskać do nich dostęp.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-178">Routed events support a class handling mechanism whereby the class can specify static methods that have the opportunity to handle routed events before any registered instance handlers can access them.</span></span> <span data-ttu-id="2b3c7-179">Jest to bardzo przydatne w projekcie kontroli, ponieważ Klasa może wymuszać zachowania klas sterowane zdarzeniami, których nie można przypadkowo pominąć przez obsługę zdarzenia w wystąpieniu.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-179">This is very useful in control design, because your class can enforce event-driven class behaviors that cannot be accidentally suppressed by handling an event on an instance.</span></span>

<span data-ttu-id="2b3c7-180">Każdy z powyższych zagadnień został omówiony w oddzielnej sekcji tego tematu.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-180">Each of the above considerations is discussed in a separate section of this topic.</span></span>

<a name="event_handing"></a>

## <a name="adding-and-implementing-an-event-handler-for-a-routed-event"></a><span data-ttu-id="2b3c7-181">Dodawanie i implementowanie obsługi zdarzeń dla zdarzenia kierowanego</span><span class="sxs-lookup"><span data-stu-id="2b3c7-181">Adding and Implementing an Event Handler for a Routed Event</span></span>

<span data-ttu-id="2b3c7-182">Aby dodać procedurę obsługi zdarzeń w [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]programie, wystarczy dodać nazwę zdarzenia do elementu jako atrybut i ustawić wartość atrybutu jako nazwę programu obsługi zdarzeń implementującego odpowiedni delegat, jak w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-182">To add an event handler in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you simply add the event name to an element as an attribute and set the attribute value as the name of the event handler that implements an appropriate delegate, as in the following example.</span></span>

[!code-xaml[EventOvwSupport#SimplestSyntax](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml#simplestsyntax)]

<span data-ttu-id="2b3c7-183">`b1SetColor`jest nazwą zaimplementowanej procedury obsługi, która zawiera kod, który obsługuje <xref:System.Windows.Controls.Primitives.ButtonBase.Click> zdarzenie.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-183">`b1SetColor` is the name of the implemented handler that contains the code that handles the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span> <span data-ttu-id="2b3c7-184">`b1SetColor`musi mieć taką samą sygnaturę jak <xref:System.Windows.RoutedEventHandler> delegat, który jest delegatem obsługi zdarzeń <xref:System.Windows.Controls.Primitives.ButtonBase.Click> dla zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-184">`b1SetColor` must have the same signature as the <xref:System.Windows.RoutedEventHandler> delegate, which is the event handler delegate for the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span> <span data-ttu-id="2b3c7-185">Pierwszy parametr wszystkich rozesłanych delegatów obsługi zdarzeń określa element, do którego zostanie dodana procedura obsługi zdarzeń, a drugi parametr określa dane dla zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-185">The first parameter of all routed event handler delegates specifies the element to which the event handler is added, and the second parameter specifies the data for the event.</span></span>

[!code-csharp[EventOvwSupport#SimpleHandlerA](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml.cs#simplehandlera)]
[!code-vb[EventOvwSupport#SimpleHandlerA](~/samples/snippets/visualbasic/VS_Snippets_Wpf/EventOvwSupport/visualbasic/default.xaml.vb#simplehandlera)]

<span data-ttu-id="2b3c7-186"><xref:System.Windows.RoutedEventHandler>jest obiektem delegowanym obsługi zdarzeń z obsługą podstawową.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-186"><xref:System.Windows.RoutedEventHandler> is the basic routed event handler delegate.</span></span> <span data-ttu-id="2b3c7-187">W przypadku zdarzeń kierowanych, które są wyspecjalizowane dla pewnych kontrolek lub scenariuszy, Delegaty do użycia w przypadku obsługi zdarzeń kierowanych mogą być bardziej wyspecjalizowane, aby mogły przesyłać wyspecjalizowane dane zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-187">For routed events that are specialized for certain controls or scenarios, the delegates to use for the routed event handlers also might become more specialized, so that they can transmit specialized event data.</span></span> <span data-ttu-id="2b3c7-188">Na przykład w typowym scenariuszu danych wejściowych może dojść do <xref:System.Windows.UIElement.DragEnter> obsłużenia zdarzenia kierowanego.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-188">For instance, in a common input scenario, you might handle a <xref:System.Windows.UIElement.DragEnter> routed event.</span></span> <span data-ttu-id="2b3c7-189">Program obsługi powinien zaimplementować <xref:System.Windows.DragEventHandler> delegata.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-189">Your handler should implement the <xref:System.Windows.DragEventHandler> delegate.</span></span> <span data-ttu-id="2b3c7-190">Korzystając z najbardziej określonego delegata, można przetwarzać <xref:System.Windows.DragEventArgs> w programie obsługi i <xref:System.Windows.DragEventArgs.Data%2A> odczytywać właściwość, która zawiera ładunek schowka operacji przeciągania.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-190">By using the most specific delegate, you can process the <xref:System.Windows.DragEventArgs> in the handler and read the <xref:System.Windows.DragEventArgs.Data%2A> property, which contains the clipboard payload of the drag operation.</span></span>

<span data-ttu-id="2b3c7-191">Aby zapoznać się z kompletnym przykładem dodawania obsługi zdarzeń do elementu przy użyciu [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], zobacz temat [Obsługa zdarzenia kierowanego](how-to-handle-a-routed-event.md).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-191">For a complete example of how to add an event handler to an element using [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], see [Handle a Routed Event](how-to-handle-a-routed-event.md).</span></span>

<span data-ttu-id="2b3c7-192">Dodawanie programu obsługi dla zdarzenia kierowanego w aplikacji, która jest tworzona w kodzie, jest proste.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-192">Adding a handler for a routed event in an application that is created in code is straightforward.</span></span> <span data-ttu-id="2b3c7-193">Procedury obsługi zdarzeń kierowanych mogą być zawsze dodawane za pomocą metody <xref:System.Windows.UIElement.AddHandler%2A> pomocnika (która jest taka sama jak metoda, dla `add`której jest używane istniejące wywołania zapasowe). Jednak istniejące [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] zdarzenia kierowane zwykle mają `add` implementacje i `remove` logikę, które umożliwiają obsługę zdarzeń kierowanych, które mogą być dodawane przez składnię zdarzenia specyficzną dla języka, która jest bardziej intuicyjna składnia niż metoda pomocnika.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-193">Routed event handlers can always be added through a helper method <xref:System.Windows.UIElement.AddHandler%2A> (which is the same method that the existing backing calls for `add`.) However, existing [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] routed events generally have backing implementations of `add` and `remove` logic that allow the handlers for routed events to be added by a language-specific event syntax, which is more intuitive syntax than the helper method.</span></span> <span data-ttu-id="2b3c7-194">Poniżej przedstawiono przykładowe użycie metody pomocnika:</span><span class="sxs-lookup"><span data-stu-id="2b3c7-194">The following is an example usage of the helper method:</span></span>

[!code-csharp[EventOvwSupport#AddHandlerCode](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml.cs#addhandlercode)]
[!code-vb[EventOvwSupport#AddHandlerCode](~/samples/snippets/visualbasic/VS_Snippets_Wpf/EventOvwSupport/visualbasic/default.xaml.vb#addhandlercode)]

<span data-ttu-id="2b3c7-195">W następnym przykładzie pokazano składnię C# operatora (Visual Basic ma nieco inną składnię operatora ze względu na sposób obsługi dereferencji):</span><span class="sxs-lookup"><span data-stu-id="2b3c7-195">The next example shows the C# operator syntax (Visual Basic has slightly different operator syntax because of its handling of dereferencing):</span></span>

[!code-csharp[EventOvwSupport#AddHandlerPlusEquals](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml.cs#addhandlerplusequals)]
[!code-vb[EventOvwSupport#AddHandlerPlusEquals](~/samples/snippets/visualbasic/VS_Snippets_Wpf/EventOvwSupport/visualbasic/default.xaml.vb#addhandlerplusequals)]

<span data-ttu-id="2b3c7-196">Aby zapoznać się z przykładem dodawania obsługi zdarzeń w kodzie, zobacz [Dodawanie programu obsługi zdarzeń przy użyciu kodu](how-to-add-an-event-handler-using-code.md).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-196">For an example of how to add an event handler in code, see [Add an Event Handler Using Code](how-to-add-an-event-handler-using-code.md).</span></span>

<span data-ttu-id="2b3c7-197">Jeśli używasz Visual Basic, możesz również użyć `Handles` słowa kluczowego, aby dodać procedury obsługi jako część deklaracji obsługi.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-197">If you are using Visual Basic, you can also use the `Handles` keyword to add handlers as part of the handler declarations.</span></span> <span data-ttu-id="2b3c7-198">Aby uzyskać więcej informacji, zobacz [Visual Basic i obsługa zdarzeń WPF](visual-basic-and-wpf-event-handling.md).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-198">For more information, see [Visual Basic and WPF Event Handling](visual-basic-and-wpf-event-handling.md).</span></span>

<a name="concept_handled"></a>

### <a name="the-concept-of-handled"></a><span data-ttu-id="2b3c7-199">Koncepcja obsłużonych</span><span class="sxs-lookup"><span data-stu-id="2b3c7-199">The Concept of Handled</span></span>

<span data-ttu-id="2b3c7-200">Wszystkie zdarzenia trasowane mają wspólną klasę <xref:System.Windows.RoutedEventArgs>bazową danych zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-200">All routed events share a common event data base class, <xref:System.Windows.RoutedEventArgs>.</span></span> <span data-ttu-id="2b3c7-201"><xref:System.Windows.RoutedEventArgs><xref:System.Windows.RoutedEventArgs.Handled%2A> definiuje właściwość, która przyjmuje wartość logiczną.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-201"><xref:System.Windows.RoutedEventArgs> defines the <xref:System.Windows.RoutedEventArgs.Handled%2A> property, which takes a Boolean value.</span></span> <span data-ttu-id="2b3c7-202">Celem <xref:System.Windows.RoutedEventArgs.Handled%2A> właściwości jest włączenie dowolnego programu obsługi zdarzeń wzdłuż trasy, aby oznaczyć zdarzenia kierowane jako *Obsłużone*, <xref:System.Windows.RoutedEventArgs.Handled%2A> ustawiając wartość na. `true`</span><span class="sxs-lookup"><span data-stu-id="2b3c7-202">The purpose of the <xref:System.Windows.RoutedEventArgs.Handled%2A> property is to enable any event handler along the route to mark the routed event as *handled*, by setting the value of <xref:System.Windows.RoutedEventArgs.Handled%2A> to `true`.</span></span> <span data-ttu-id="2b3c7-203">Po przetworzeniu przez program obsługi w jednym elemencie wzdłuż trasy dane zdarzenia udostępnione są ponownie raportowane dla każdego odbiornika wzdłuż trasy.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-203">After being processed by the handler at one element along the route, the shared event data is again reported to each listener along the route.</span></span>

<span data-ttu-id="2b3c7-204">Wartość <xref:System.Windows.RoutedEventArgs.Handled%2A> wpływa na to, w jaki sposób zdarzenie kierowane jest raportowane lub przetwarzane w miarę dalszej podróży na trasie.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-204">The value of <xref:System.Windows.RoutedEventArgs.Handled%2A> affects how a routed event is reported or processed as it travels further along the route.</span></span> <span data-ttu-id="2b3c7-205">Jeśli <xref:System.Windows.RoutedEventArgs.Handled%2A> znajduje `true` się w danych zdarzenia dla zdarzenia kierowanego, programy obsługi, które nasłuchują zdarzenia kierowanego na inne elementy, nie są już wywoływane dla danego wystąpienia zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-205">If <xref:System.Windows.RoutedEventArgs.Handled%2A> is `true` in the event data for a routed event, then handlers that listen for that routed event on other elements are generally no longer invoked for that particular event instance.</span></span> <span data-ttu-id="2b3c7-206">Jest to prawdziwe zarówno w przypadku programów obsługi [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] , jak i dla programów obsługi dodanych przez składnię załączników specyficznych dla języka, takich jak `+=` lub `Handles`.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-206">This is true both for handlers attached in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] and for handlers added by language-specific event handler attachment syntaxes such as `+=` or `Handles`.</span></span> <span data-ttu-id="2b3c7-207">W przypadku większości typowych scenariuszy obsługi Oznaczanie zdarzenia jako obsługiwanego przez <xref:System.Windows.RoutedEventArgs.Handled%2A> ustawienie `true` spowoduje "Zatrzymaj" Routing dla trasy tunelowania lub trasy propagacji, a także dla każdego zdarzenia, które jest obsługiwane w punkcie w trasie przez procedurę obsługi klasy.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-207">For most common handler scenarios, marking an event as handled by setting <xref:System.Windows.RoutedEventArgs.Handled%2A> to `true` will "stop" routing for either a tunneling route or a bubbling route, and also for any event that is handled at a point in the route by a class handler.</span></span>

<span data-ttu-id="2b3c7-208">Istnieje jednak mechanizm "handledEventsToo", w którym detektory mogą nadal uruchamiać programy obsługi w odpowiedzi na zdarzenia kierowane, <xref:System.Windows.RoutedEventArgs.Handled%2A> gdzie `true` znajduje się w danych zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-208">However, there is a "handledEventsToo" mechanism whereby listeners can still run handlers in response to routed events where <xref:System.Windows.RoutedEventArgs.Handled%2A> is `true` in the event data.</span></span> <span data-ttu-id="2b3c7-209">Innymi słowy, trasa zdarzenia nie jest naprawdę zatrzymana przez oznaczenie danych zdarzenia jako obsłużonych.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-209">In other words, the event route is not truly stopped by marking the event data as handled.</span></span> <span data-ttu-id="2b3c7-210">Mechanizm handledEventsToo można używać tylko w kodzie lub w <xref:System.Windows.EventSetter>:</span><span class="sxs-lookup"><span data-stu-id="2b3c7-210">You can only use the handledEventsToo mechanism in code, or in an <xref:System.Windows.EventSetter>:</span></span>

- <span data-ttu-id="2b3c7-211">W kodzie, zamiast używać składni zdarzeń specyficznych dla języka, która działa dla ogólnych zdarzeń CLR, wywołaj [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] metodę <xref:System.Windows.UIElement.AddHandler%28System.Windows.RoutedEvent%2CSystem.Delegate%2CSystem.Boolean%29> , aby dodać program obsługi.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-211">In code, instead of using a language-specific event syntax that works for general CLR events, call the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] method <xref:System.Windows.UIElement.AddHandler%28System.Windows.RoutedEvent%2CSystem.Delegate%2CSystem.Boolean%29> to add your handler.</span></span> <span data-ttu-id="2b3c7-212">Określ wartość `handledEventsToo` jako `true`.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-212">Specify the value of `handledEventsToo` as `true`.</span></span>

- <span data-ttu-id="2b3c7-213">W, należy <xref:System.Windows.EventSetter.HandledEventsToo%2A> ustawić atrybut na `true`. <xref:System.Windows.EventSetter></span><span class="sxs-lookup"><span data-stu-id="2b3c7-213">In an <xref:System.Windows.EventSetter>, set the <xref:System.Windows.EventSetter.HandledEventsToo%2A> attribute to be `true`.</span></span>

<span data-ttu-id="2b3c7-214">Oprócz zachowania wytwarzanego przez ten <xref:System.Windows.RoutedEventArgs.Handled%2A> stan w zdarzeniach kierowanych <xref:System.Windows.RoutedEventArgs.Handled%2A> pojęcie ma wpływ na sposób projektowania aplikacji i zapisywanie kodu programu obsługi zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-214">In addition to the behavior that <xref:System.Windows.RoutedEventArgs.Handled%2A> state produces in routed events, the concept of <xref:System.Windows.RoutedEventArgs.Handled%2A> has implications for how you should design your application and write the event handler code.</span></span> <span data-ttu-id="2b3c7-215">Możesz konceptualizacji <xref:System.Windows.RoutedEventArgs.Handled%2A> jako prosty protokół, który jest udostępniany przez zdarzenia kierowane.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-215">You can conceptualize <xref:System.Windows.RoutedEventArgs.Handled%2A> as being a simple protocol that is exposed by routed events.</span></span> <span data-ttu-id="2b3c7-216">Dokładnie, jak korzystać z tego protokołu, ale projekt koncepcyjny, dla którego ma być używana wartość <xref:System.Windows.RoutedEventArgs.Handled%2A> , jest następujący:</span><span class="sxs-lookup"><span data-stu-id="2b3c7-216">Exactly how you use this protocol is up to you, but the conceptual design for how the value of <xref:System.Windows.RoutedEventArgs.Handled%2A> is intended to be used is as follows:</span></span>

- <span data-ttu-id="2b3c7-217">Jeśli zdarzenie trasowane jest oznaczone jako obsługiwane, nie trzeba go obsługiwać ponownie przy użyciu innych elementów i trasy.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-217">If a routed event is marked as handled, then it does not need to be handled again by other elements along that route.</span></span>

- <span data-ttu-id="2b3c7-218">Jeśli zdarzenie trasowane nie jest oznaczone jako obsługiwane, inne detektory, które wcześniej znajdowały się na trasie, nie zarejestrowali procedury obsługi lub zarejestrowano programy obsługi, które wybrały niemanipulowanie danymi zdarzenia i <xref:System.Windows.RoutedEventArgs.Handled%2A> ustawioną na `true`.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-218">If a routed event is not marked as handled, then other listeners that were earlier along the route have chosen either not to register a handler, or the handlers that were registered chose not to manipulate the event data and set <xref:System.Windows.RoutedEventArgs.Handled%2A> to `true`.</span></span> <span data-ttu-id="2b3c7-219">(Lub jest oczywiście możliwe, że bieżący odbiornik jest punktem początkowym trasy). Programy obsługi dla bieżącego odbiornika mają teraz trzy możliwe kursy:</span><span class="sxs-lookup"><span data-stu-id="2b3c7-219">(Or, it is of course possible that the current listener is the first point in the route.) Handlers on the current listener now have three possible courses of action:</span></span>

  - <span data-ttu-id="2b3c7-220">Nie podejmuj żadnych działań w ogóle; zdarzenie pozostaje nieobsłużone i trasy zdarzeń do następnego odbiornika.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-220">Take no action at all; the event remains unhandled, and the event routes to the next listener.</span></span>

  - <span data-ttu-id="2b3c7-221">Wykonaj kod w odpowiedzi na zdarzenie, ale Określ, że podjęta akcja nie była wystarczająco istotna, aby zagwarantować oznaczenie zdarzenia jako obsłużonego.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-221">Execute code in response to the event, but make the determination that the action taken was not substantial enough to warrant marking the event as handled.</span></span> <span data-ttu-id="2b3c7-222">Trasy zdarzeń do następnego odbiornika.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-222">The event routes to the next listener.</span></span>

  - <span data-ttu-id="2b3c7-223">Wykonaj kod w odpowiedzi na zdarzenie.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-223">Execute code in response to the event.</span></span> <span data-ttu-id="2b3c7-224">Oznacz zdarzenie jako obsłużone w danych zdarzenia przekazaniu do procedury obsługi, ponieważ podjęta akcja została uznana za wystarczającą do oznaczania jako przewidzianą.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-224">Mark the event as handled in the event data passed to the handler, because the action taken was deemed substantial enough to warrant marking as handled.</span></span> <span data-ttu-id="2b3c7-225">Zdarzenie nadal <xref:System.Windows.RoutedEventArgs.Handled%2A> kieruje do następnego odbiornika, ale z = `true` danymi zdarzeń, dlatego tylko `handledEventsToo` detektory mają możliwość wywołania dalszych programów obsługi.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-225">The event still routes to the next listener, but with <xref:System.Windows.RoutedEventArgs.Handled%2A>=`true` in its event data, so only `handledEventsToo` listeners have the opportunity to invoke further handlers.</span></span>

<span data-ttu-id="2b3c7-226">Ten projekt koncepcyjny został wzmocniony przez zachowanie routingu wymienione wcześniej: jest trudniejsze (chociaż nadal możliwe w kodzie lub w stylu) do dołączania obsługi zdarzeń kierowanych, które są wywoływane nawet wtedy, gdy wcześniej została ustawiona <xref:System.Windows.RoutedEventArgs.Handled%2A>Poprzedniaproceduraobsługitrasydo `true`programu.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-226">This conceptual design is reinforced by the routing behavior mentioned earlier: it is more difficult (although still possible in code or styles) to attach handlers for routed events that are invoked even if a previous handler along the route has already set <xref:System.Windows.RoutedEventArgs.Handled%2A> to `true`.</span></span>

<span data-ttu-id="2b3c7-227">Aby uzyskać więcej informacji <xref:System.Windows.RoutedEventArgs.Handled%2A>na temat obsługi zdarzeń kierowanych i zaleceń dotyczących tego, kiedy jest to odpowiednie do oznaczenia zdarzenia kierowanego jako <xref:System.Windows.RoutedEventArgs.Handled%2A>, zobacz [oznaczanie zdarzeń kierowanych jako obsłużone i obsługa klas](marking-routed-events-as-handled-and-class-handling.md).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-227">For more information about <xref:System.Windows.RoutedEventArgs.Handled%2A>, class handling of routed events, and recommendations about when it is appropriate to mark a routed event as <xref:System.Windows.RoutedEventArgs.Handled%2A>, see [Marking Routed Events as Handled, and Class Handling](marking-routed-events-as-handled-and-class-handling.md).</span></span>

<span data-ttu-id="2b3c7-228">W aplikacjach bardzo często wystarczy obsłużyć zdarzenie propagacji kierowane na obiekt, który go wywołał, i nie powinno być objęte charakterystyką routingu zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-228">In applications, it is quite common to just handle a bubbling routed event on the object that raised it, and not be concerned with the event's routing characteristics at all.</span></span> <span data-ttu-id="2b3c7-229">Jednak nadal dobrym sposobem jest oznaczenie zdarzenia kierowanego jako obsługiwanego w danych zdarzenia, aby zapobiec nieoczekiwanym efektom ubocznym tylko w przypadku, gdy element, który jest w dalszym ciągu drzew elementu, również ma dołączony program obsługi dla tego samego zdarzenia kierowanego.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-229">However, it is still a good practice to mark the routed event as handled in the event data, to prevent unanticipated side effects just in case an element that is further up the element tree also has a handler attached for that same routed event.</span></span>

<a name="class_handlers"></a>

## <a name="class-handlers"></a><span data-ttu-id="2b3c7-230">Procedury obsługi klas</span><span class="sxs-lookup"><span data-stu-id="2b3c7-230">Class Handlers</span></span>

<span data-ttu-id="2b3c7-231">W przypadku definiowania klasy, która dziedziczy w jakiś sposób z <xref:System.Windows.DependencyObject>, można również zdefiniować i dołączyć procedurę obsługi klasy dla zdarzenia trasowanego, które jest zadeklarowanym lub dziedziczonym członkiem zdarzenia klasy.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-231">If you are defining a class that derives in some way from <xref:System.Windows.DependencyObject>, you can also define and attach a class handler for a routed event that is a declared or inherited event member of your class.</span></span> <span data-ttu-id="2b3c7-232">Procedury obsługi klas są wywoływane przed dowolnymi uchwytami detektora wystąpienia, które są dołączone do wystąpienia tej klasy, za każdym razem, gdy zdarzenie trasowane osiągnie wystąpienie elementu w swojej trasie.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-232">Class handlers are invoked before any instance listener handlers that are attached to an instance of that class, whenever a routed event reaches an element instance in its route.</span></span>

<span data-ttu-id="2b3c7-233">Niektóre [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] kontrolki mają nieodłączną obsługę klas dla pewnych zdarzeń kierowanych.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-233">Some [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls have inherent class handling for certain routed events.</span></span> <span data-ttu-id="2b3c7-234">Może to dać na zewnątrz wrażenie, że zdarzenie kierowane nie zostało kiedykolwiek zgłoszone, ale w rzeczywistości jest obsługiwane klasy, a zdarzenie kierowane może być nadal obsługiwane przez programy obsługi wystąpień, jeśli używasz niektórych technik.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-234">This might give the outward appearance that the routed event is not ever raised, but in reality it is being class handled, and the routed event can potentially still be handled by your instance handlers if you use certain techniques.</span></span> <span data-ttu-id="2b3c7-235">Ponadto wiele klas podstawowych i kontrolek uwidaczniają metody wirtualne, których można użyć do przesłonięcia zachowania obsługi klasy.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-235">Also, many base classes and controls expose virtual methods that can be used to override class handling behavior.</span></span> <span data-ttu-id="2b3c7-236">Aby uzyskać więcej informacji na temat sposobu obejścia nieżądanej obsługi klas i zdefiniowania obsługi własnej klasy w klasie niestandardowej, zobacz [oznaczanie zdarzeń kierowanych jako obsłużone i obsługa klas](marking-routed-events-as-handled-and-class-handling.md).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-236">For more information both on how to work around undesired class handling and on defining your own class handling in a custom class, see [Marking Routed Events as Handled, and Class Handling](marking-routed-events-as-handled-and-class-handling.md).</span></span>

<a name="attached_events"></a>

## <a name="attached-events-in-wpf"></a><span data-ttu-id="2b3c7-237">Zdarzenia dołączone w WPF</span><span class="sxs-lookup"><span data-stu-id="2b3c7-237">Attached Events in WPF</span></span>

<span data-ttu-id="2b3c7-238">Język definiuje również specjalny typ zdarzenia o nazwie *dołączone zdarzenie.* [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]</span><span class="sxs-lookup"><span data-stu-id="2b3c7-238">The [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] language also defines a special type of event called an *attached event*.</span></span> <span data-ttu-id="2b3c7-239">Dołączone zdarzenie umożliwia dodanie procedury obsługi dla danego zdarzenia do dowolnego elementu.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-239">An attached event enables you to add a handler for a particular event to an arbitrary element.</span></span> <span data-ttu-id="2b3c7-240">Element obsługujący zdarzenie nie wymaga zdefiniowania lub dziedziczenia dołączonego zdarzenia, a obiekt, który nie może podnieść zdarzenia, ani docelowego wystąpienia obsługi musi definiować lub w inny sposób "własne" jako element członkowski klasy.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-240">The element handling the event need not define or inherit the attached event, and neither the object potentially raising the event nor the destination handling instance must define or otherwise "own" that event as a class member.</span></span>

<span data-ttu-id="2b3c7-241">System [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] wejściowy używa załączonych zdarzeń w szerokim stopniu.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-241">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] input system uses attached events extensively.</span></span> <span data-ttu-id="2b3c7-242">Jednak niemal wszystkie te dołączone zdarzenia są przekazywane przez elementy podstawowe.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-242">However, nearly all of these attached events are forwarded through base elements.</span></span> <span data-ttu-id="2b3c7-243">Zdarzenia wejściowe są wyświetlane jako równoważne niedołączone zdarzenia kierowane, które są elementami członkowskimi klasy elementu podstawowego.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-243">The input events then appear as equivalent non-attached routed events that are members of the base element class.</span></span> <span data-ttu-id="2b3c7-244">Na przykład <xref:System.Windows.Input.Mouse.MouseDown?displayProperty=nameWithType> , bazowe dołączone zdarzenie może być łatwiej obsługiwane na <xref:System.Windows.UIElement> dowolnym z nich przy użyciu <xref:System.Windows.UIElement.MouseDown> , <xref:System.Windows.UIElement> a nie na podstawie dołączonej składni zdarzenia w [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] lub kodzie.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-244">For instance, the underlying attached event <xref:System.Windows.Input.Mouse.MouseDown?displayProperty=nameWithType> can more easily be handled on any given <xref:System.Windows.UIElement> by using <xref:System.Windows.UIElement.MouseDown> on that <xref:System.Windows.UIElement> rather than dealing with attached event syntax either in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] or code.</span></span>

<span data-ttu-id="2b3c7-245">Aby uzyskać więcej informacji o załączonych zdarzeniach w programie [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], zobacz Omówienie załączonych [zdarzeń](attached-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-245">For more information about attached events in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Attached Events Overview](attached-events-overview.md).</span></span>

<a name="Qualifying_Event_Names_in_XAML_for_Anticipated_Routing"></a>

## <a name="qualified-event-names-in-xaml"></a><span data-ttu-id="2b3c7-246">Kwalifikowane nazwy zdarzeń w języku XAML</span><span class="sxs-lookup"><span data-stu-id="2b3c7-246">Qualified Event Names in XAML</span></span>

<span data-ttu-id="2b3c7-247">Inne użycie składni podobne do elementu *TypeName*. *EventName* — połączona składnia zdarzenia, ale nie jest ściśle mówiąca o załączonym wykorzystaniu zdarzenia, jeśli dołączysz obsługę zdarzeń kierowanych, które są wywoływane przez elementy podrzędne.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-247">Another syntax usage that resembles *typename*.*eventname* attached event syntax but is not strictly speaking an attached event usage is when you attach handlers for routed events that are raised by child elements.</span></span> <span data-ttu-id="2b3c7-248">Aby skorzystać z routingu zdarzeń, należy dołączyć programy obsługi do wspólnego elementu nadrzędnego, nawet jeśli wspólny element nadrzędny może nie mieć odpowiedniego zdarzenia kierowanego jako element członkowski.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-248">You attach the handlers to a common parent, to take advantage of event routing, even though the common parent might not have the relevant routed event as a member.</span></span> <span data-ttu-id="2b3c7-249">Ponownie Rozważ następujący przykład:</span><span class="sxs-lookup"><span data-stu-id="2b3c7-249">Consider this example again:</span></span>

[!code-xaml[EventOvwSupport#GroupButton](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/default.xaml#groupbutton)]

<span data-ttu-id="2b3c7-250">W tym miejscu znajduje się odbiornik elementu nadrzędnego, w którym dodano <xref:System.Windows.Controls.StackPanel>procedurę obsługi.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-250">Here, the parent element listener where the handler is added is a <xref:System.Windows.Controls.StackPanel>.</span></span> <span data-ttu-id="2b3c7-251">Jednak dodaje procedurę obsługi dla zdarzenia trasowanego, które zostało zadeklarowane i zostanie wywołane przez <xref:System.Windows.Controls.Button> klasę (<xref:System.Windows.Controls.Primitives.ButtonBase> w rzeczywistości, ale dostępna do <xref:System.Windows.Controls.Button> dziedziczenia).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-251">However, it is adding a handler for a routed event that was declared and will be raised by the <xref:System.Windows.Controls.Button> class (<xref:System.Windows.Controls.Primitives.ButtonBase> actually, but available to <xref:System.Windows.Controls.Button> through inheritance).</span></span> <span data-ttu-id="2b3c7-252"><xref:System.Windows.Controls.Button>"jest to zdarzenie, ale system zdarzeń kierowanych umożliwia obsługę dowolnego zdarzenia kierowanego do dołączenia do dowolnego <xref:System.Windows.UIElement> odbiornika lub <xref:System.Windows.ContentElement> detektora, który może w inny sposób dołączyć detektory dla zdarzenia środowiska uruchomieniowego języka wspólnego (CLR).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-252"><xref:System.Windows.Controls.Button> "owns" the event, but the routed event system permits handlers for any routed event to be attached to any <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> instance listener that could otherwise attach listeners for a common language runtime (CLR) event.</span></span> <span data-ttu-id="2b3c7-253">Domyślną przestrzenią nazw xmlns dla tych kwalifikowanych nazw atrybutów zdarzeń jest zazwyczaj [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] domyślna przestrzeń nazw xmlns, ale można także określić prefiksy przestrzenie nazw dla niestandardowych zdarzeń kierowanych.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-253">The default xmlns namespace for these qualified event attribute names is typically the default [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] xmlns namespace, but you can also specify prefixed namespaces for custom routed events.</span></span> <span data-ttu-id="2b3c7-254">Aby uzyskać więcej informacji na temat xmlns, zobacz [przestrzenie nazw XAML i mapowanie przestrzeni nazw dla języka XAML WPF](xaml-namespaces-and-namespace-mapping-for-wpf-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-254">For more information about xmlns, see [XAML Namespaces and Namespace Mapping for WPF XAML](xaml-namespaces-and-namespace-mapping-for-wpf-xaml.md).</span></span>

<a name="how_event_processing_works"></a>

## <a name="wpf-input-events"></a><span data-ttu-id="2b3c7-255">Zdarzenia wejściowe WPF</span><span class="sxs-lookup"><span data-stu-id="2b3c7-255">WPF Input Events</span></span>

<span data-ttu-id="2b3c7-256">Jednym z częstych zastosowań zdarzeń kierowanych [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] w ramach platformy jest dla zdarzeń wejściowych.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-256">One frequent application of routed events within the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] platform is for input events.</span></span> <span data-ttu-id="2b3c7-257">W [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]systemie nazwy tunelowanych zdarzeń są poprzedzone prefiksem "wersja zapoznawcza" według Konwencji.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-257">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], tunneling routed events names are prefixed with the word "Preview" by convention.</span></span> <span data-ttu-id="2b3c7-258">Zdarzenia wejściowe często pojawiają się w parach, a jedno jest zdarzeniem propagacji i drugim zdarzeniem tunelowania.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-258">Input events often come in pairs, with one being the bubbling event and the other being the tunneling event.</span></span> <span data-ttu-id="2b3c7-259">Na przykład <xref:System.Windows.ContentElement.KeyDown> zdarzenie <xref:System.Windows.ContentElement.PreviewKeyDown> i zdarzenie mają taki sam podpis, z dawnym zdarzeniem wsadowym propagacji, a drugie to zdarzenie wejściowe tunelowania.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-259">For example, the <xref:System.Windows.ContentElement.KeyDown> event and the <xref:System.Windows.ContentElement.PreviewKeyDown> event have the same signature, with the former being the bubbling input event and the latter being the tunneling input event.</span></span> <span data-ttu-id="2b3c7-260">Czasami zdarzenia wejściowe mają tylko wersję propagacji lub być może tylko bezpośrednio kierowanej wersji.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-260">Occasionally, input events only have a bubbling version, or perhaps only a direct routed version.</span></span> <span data-ttu-id="2b3c7-261">W dokumentacji zdarzenia kierowane zawierają odsyłacze podobne do zdarzeń kierowanych, które mają Alternatywne strategie routingu, jeśli istnieją takie zdarzenia, a sekcje na zarządzanych stronach referencyjnych wyjaśniają strategię routingu każdego zdarzenia kierowanego.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-261">In the documentation, routed event topics cross-reference similar routed events with alternative routing strategies if such routed events exist, and sections in the managed reference pages clarify the routing strategy of each routed event.</span></span>

[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="2b3c7-262">zdarzenia wejściowe, które znajdują się w parach, są implementowane, dzięki czemu pojedyncze działanie użytkownika z danych wejściowych, takich jak naciśnięcie przycisku myszy, spowoduje wygenerowanie obydwu zdarzeń kierowanych przez parę w sekwencji.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-262">input events that come in pairs are implemented so that a single user action from input, such as a mouse button press, will raise both routed events of the pair in sequence.</span></span> <span data-ttu-id="2b3c7-263">Po pierwsze zdarzenie tunelowania jest zgłaszane i podróżuje swoją trasę.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-263">First, the tunneling event is raised and travels its route.</span></span> <span data-ttu-id="2b3c7-264">Następnie zdarzenia propagacji są wywoływane i podróżują swoją trasę.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-264">Then the bubbling event is raised and travels its route.</span></span> <span data-ttu-id="2b3c7-265">Dwa zdarzenia dosłownie współużytkują to samo wystąpienie danych zdarzenia, ponieważ <xref:System.Windows.UIElement.RaiseEvent%2A> wywołanie metody w klasie implementującej, która wywołuje zdarzenie propagacji, nasłuchuje danych zdarzenia ze zdarzenia tunelowania i ponownie używa go w nowym zdarzeniu podniesione.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-265">The two events literally share the same event data instance, because the <xref:System.Windows.UIElement.RaiseEvent%2A> method call in the implementing class that raises the bubbling event listens for the event data from the tunneling event and reuses it in the new raised event.</span></span> <span data-ttu-id="2b3c7-266">Odbiorniki z obsługą zdarzenia tunelowania mają pierwszą okazję do oznaczenia rozesłanego zdarzenia obsłużonego (najpierw obsługi klas, a następnie obsługi wystąpień).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-266">Listeners with handlers for the tunneling event have the first opportunity to mark the routed event handled (class handlers first, then instance handlers).</span></span> <span data-ttu-id="2b3c7-267">Jeśli element wzdłuż trasy tunelowania oznaczył zdarzenie kierowane jako obsłużone, dane zdarzenia, które są już obsługiwane, są wysyłane dla zdarzenia propagacji, a typowe programy obsługi dołączone do równoważnych propagacji zdarzeń wejściowych nie będą wywoływane.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-267">If an element along the tunneling route marked the routed event as handled, the already-handled event data is sent on for the bubbling event, and typical handlers attached for the equivalent bubbling input events will not be invoked.</span></span> <span data-ttu-id="2b3c7-268">Na zewnątrz wygląd będzie wyglądać tak, jakby obsłużone zdarzenie propagacji nie zostało jeszcze zgłoszone.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-268">To outward appearances it will be as if the handled bubbling event has not even been raised.</span></span> <span data-ttu-id="2b3c7-269">Takie zachowanie obsługi jest przydatne w przypadku składania formantów, w którym można chcieć, aby wszystkie zdarzenia wejściowe na podstawie testów trafień lub zdarzenia wejściowe oparte na koncentracji były zgłaszane przez ostateczną kontrolkę, a nie jej części złożone.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-269">This handling behavior is useful for control compositing, where you might want all hit-test based input events or focus-based input events to be reported by your final control, rather than its composite parts.</span></span> <span data-ttu-id="2b3c7-270">Końcowy element kontrolny jest bliższy katalogowi głównemu w składowej i dlatego ma możliwość, aby najpierw obsługiwać zdarzenie tunelowania, a nawet "zastępować", które skierowało zdarzenie z dokładniejszym zdarzeniem kontroli, jako część kodu, który wykonuje kopię zapasową formantu określonej.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-270">The final control element is closer to the root in the compositing, and therefore has the opportunity to class handle the tunneling event first and perhaps to "replace" that routed event with a more control-specific event, as part of the code that backs the control class.</span></span>

<span data-ttu-id="2b3c7-271">Jako ilustracja przedstawiająca sposób działania przetwarzania zdarzeń wejściowych należy wziąć pod uwagę Poniższy przykład zdarzenia wejściowego.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-271">As an illustration of how input event processing works, consider the following input event example.</span></span> <span data-ttu-id="2b3c7-272">Na poniższej ilustracji `leaf element #2` przedstawiono źródło `PreviewMouseDown` obu a i then `MouseDown` zdarzenia:</span><span class="sxs-lookup"><span data-stu-id="2b3c7-272">In the following tree illustration, `leaf element #2` is the source of both a `PreviewMouseDown` and then a `MouseDown` event:</span></span>

![Diagram routingu zdarzeń](./media/routed-events-overview/input-event-routing.png)

<span data-ttu-id="2b3c7-274">Kolejność przetwarzania zdarzeń jest następująca:</span><span class="sxs-lookup"><span data-stu-id="2b3c7-274">The order of event processing is as follows:</span></span>

1. <span data-ttu-id="2b3c7-275">`PreviewMouseDown`(tunel) w elemencie głównym.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-275">`PreviewMouseDown` (tunnel) on root element.</span></span>

2. <span data-ttu-id="2b3c7-276">`PreviewMouseDown`(tunel) dla pośredniego elementu #1.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-276">`PreviewMouseDown` (tunnel) on intermediate element #1.</span></span>

3. <span data-ttu-id="2b3c7-277">`PreviewMouseDown`(tunel) w elemencie źródłowym #2.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-277">`PreviewMouseDown` (tunnel) on source element #2.</span></span>

4. <span data-ttu-id="2b3c7-278">`MouseDown`(bąbelkowy) dla elementu źródłowego #2.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-278">`MouseDown` (bubble) on source element #2.</span></span>

5. <span data-ttu-id="2b3c7-279">`MouseDown`(bąbelkowy) dla pośredniego elementu #1.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-279">`MouseDown` (bubble) on intermediate element #1.</span></span>

6. <span data-ttu-id="2b3c7-280">`MouseDown`(bąbelkowy) na elemencie głównym.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-280">`MouseDown` (bubble) on root element.</span></span>

<span data-ttu-id="2b3c7-281">Delegat procedury obsługi zdarzeń kierowanych zawiera odwołania do dwóch obiektów: obiektu, który spowodował zdarzenie i obiekt, w którym została wywołana procedura obsługi.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-281">A routed event handler delegate provides references to two objects: the object that raised the event and the object where the handler was invoked.</span></span> <span data-ttu-id="2b3c7-282">Obiekt, do którego została wywołana procedura obsługi, jest obiektem zgłoszonym przez `sender` parametr.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-282">The object where the handler was invoked is the object reported by the `sender` parameter.</span></span> <span data-ttu-id="2b3c7-283">Obiekt, w którym zdarzenie zostało po raz pierwszy zgłoszone przez <xref:System.Windows.RoutedEventArgs.Source%2A> właściwość w danych zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-283">The object where the event was first raised is reported by the <xref:System.Windows.RoutedEventArgs.Source%2A> property in the event data.</span></span> <span data-ttu-id="2b3c7-284">Zdarzenie trasowane może nadal być wywoływane i obsługiwane przez ten sam obiekt, w którym to przypadku `sender` i <xref:System.Windows.RoutedEventArgs.Source%2A> są identyczne (w tym przypadku kroki 3 i 4 znajdują się na liście przykładowych przetwarzania zdarzeń).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-284">A routed event can still be raised and handled by the same object, in which case `sender` and <xref:System.Windows.RoutedEventArgs.Source%2A> are identical (this is the case with Steps 3 and 4 in the event processing example list).</span></span>

<span data-ttu-id="2b3c7-285">Z powodu tunelowania i propagacji elementy nadrzędne odbierają zdarzenia wejściowe, <xref:System.Windows.RoutedEventArgs.Source%2A> gdzie jest jednym z ich elementów podrzędnych.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-285">Because of tunneling and bubbling, parent elements receive input events where the <xref:System.Windows.RoutedEventArgs.Source%2A> is one of their child elements.</span></span> <span data-ttu-id="2b3c7-286">Gdy ważne jest, aby wiedzieć, co to jest element źródłowy, można zidentyfikować element źródłowy, uzyskując dostęp <xref:System.Windows.RoutedEventArgs.Source%2A> do właściwości.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-286">When it is important to know what the source element is, you can identify the source element by accessing the <xref:System.Windows.RoutedEventArgs.Source%2A> property.</span></span>

<span data-ttu-id="2b3c7-287">Zwykle po oznaczeniu <xref:System.Windows.RoutedEventArgs.Handled%2A>zdarzenia wejściowego nie są wywoływane dalsze procedury obsługi.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-287">Usually, once the input event is marked <xref:System.Windows.RoutedEventArgs.Handled%2A>, further handlers are not invoked.</span></span> <span data-ttu-id="2b3c7-288">Zazwyczaj należy oznaczyć zdarzenia wejściowe jako obsługiwane, gdy tylko zostanie wywołana procedura obsługi, która odnosi się do obsługi logicznej specyficznej dla aplikacji o znaczeniu zdarzenia wejściowego.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-288">Typically, you should mark input events as handled as soon as a handler is invoked that addresses your application-specific logical handling of the meaning of the input event.</span></span>

<span data-ttu-id="2b3c7-289">Wyjątkiem od tej ogólnej instrukcji dotyczącej <xref:System.Windows.RoutedEventArgs.Handled%2A> stanu jest to, że programy obsługi zdarzeń wejściowych, które są zarejestrowane w <xref:System.Windows.RoutedEventArgs.Handled%2A> celu zamierzonego ignorowania stanu danych zdarzenia, nadal będą wywoływane wraz z trasą.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-289">The exception to this general statement about <xref:System.Windows.RoutedEventArgs.Handled%2A> state is that input event handlers that are registered to deliberately ignore <xref:System.Windows.RoutedEventArgs.Handled%2A> state of the event data would still be invoked along either route.</span></span> <span data-ttu-id="2b3c7-290">Aby uzyskać więcej informacji, zobacz temat [Podgląd zdarzeń](preview-events.md) lub [oznaczanie zdarzeń kierowanych jako obsłużone i obsługa klas](marking-routed-events-as-handled-and-class-handling.md).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-290">For more information, see [Preview Events](preview-events.md) or [Marking Routed Events as Handled, and Class Handling](marking-routed-events-as-handled-and-class-handling.md).</span></span>

<span data-ttu-id="2b3c7-291">Współużytkowany model danych zdarzeń między tunelowaniem i propagacją zdarzeń oraz sekwencyjne wywoływanie operacji pierwszego tunelowania, a następnie Propagacja zdarzeń, nie jest koncepcją, która jest ogólnie prawdziwa dla wszystkich zdarzeń kierowanych.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-291">The shared event data model between tunneling and bubbling events, and the sequential raising of first tunneling then bubbling events, is not a concept that is generally true for all routed events.</span></span> <span data-ttu-id="2b3c7-292">Takie zachowanie jest implementowane w sposób [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] , w jaki urządzenia wejściowe decydują się na podnoszenie i połączenie par zdarzeń wejściowych.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-292">That behavior is specifically implemented by how [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] input devices choose to raise and connect the input event pairs.</span></span> <span data-ttu-id="2b3c7-293">Implementowanie własnych zdarzeń wejściowych jest zaawansowanym scenariuszem, ale można również wybrać ten model dla własnych zdarzeń wejściowych.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-293">Implementing your own input events is an advanced scenario, but you might choose to follow that model for your own input events also.</span></span>

<span data-ttu-id="2b3c7-294">Niektóre klasy decydują o obsłudze klas przez niektóre zdarzenia wejściowe, zwykle z zamiarem ponownego zdefiniowania określonego przez użytkownika zdarzenia wejściowego w ramach tej kontrolki i podniesienia nowego zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-294">Certain classes choose to class-handle certain input events, usually with the intent of redefining what a particular user-driven input event means within that control and raising a new event.</span></span> <span data-ttu-id="2b3c7-295">Aby uzyskać więcej informacji, zobacz [oznaczanie zdarzeń kierowanych jako obsłużone i obsługa klas](marking-routed-events-as-handled-and-class-handling.md).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-295">For more information, see [Marking Routed Events as Handled, and Class Handling](marking-routed-events-as-handled-and-class-handling.md).</span></span>

<span data-ttu-id="2b3c7-296">Aby uzyskać więcej informacji na temat danych wejściowych i sposobu współdziałania danych wejściowych i zdarzeń w typowych scenariuszach aplikacji, zobacz [Omówienie danych wejściowych](input-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-296">For more information on input and how input and events interact in typical application scenarios, see [Input Overview](input-overview.md).</span></span>

<a name="events_styles"></a>

## <a name="eventsetters-and-eventtriggers"></a><span data-ttu-id="2b3c7-297">EventSetters i eventtriggers</span><span class="sxs-lookup"><span data-stu-id="2b3c7-297">EventSetters and EventTriggers</span></span>

<span data-ttu-id="2b3c7-298">W obszarze Style można uwzględnić niepewną zadeklarowaną [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] składnię obsługi zdarzeń w znaczniku przy <xref:System.Windows.EventSetter>użyciu.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-298">In styles, you can include some pre-declared [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] event handling syntax in the markup by using an <xref:System.Windows.EventSetter>.</span></span> <span data-ttu-id="2b3c7-299">Po zastosowaniu stylu do wystąpienia z stylem zostanie dodany przywoływany program obsługi.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-299">When the style is applied, the referenced handler is added to the styled instance.</span></span> <span data-ttu-id="2b3c7-300">Można zadeklarować <xref:System.Windows.EventSetter> tylko dla zdarzenia kierowanego.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-300">You can declare an <xref:System.Windows.EventSetter> only for a routed event.</span></span> <span data-ttu-id="2b3c7-301">Oto przykład.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-301">The following is an example.</span></span> <span data-ttu-id="2b3c7-302">Należy zauważyć, `b1SetColor` że metoda, do której się odwołuje się, znajduje się w pliku związanym z kodem.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-302">Note that the `b1SetColor` method referenced here is in a code-behind file.</span></span>

[!code-xaml[EventOvwSupport#XAML2](~/samples/snippets/csharp/VS_Snippets_Wpf/EventOvwSupport/CSharp/page2.xaml#xaml2)]

<span data-ttu-id="2b3c7-303">Zaletą tej metody jest to, że styl może zawierać bardzo duże rozliczenie innych informacji, które mogą <xref:System.Windows.EventSetter> być stosowane do dowolnego przycisku w aplikacji, a ich częścią tego stylu jest promowanie ponownego użycia kodu nawet na poziomie znaczników.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-303">The advantage gained here is that the style is likely to contain a great deal of other information that could apply to any button in your application, and having the <xref:System.Windows.EventSetter> be part of that style promotes code reuse even at the markup level.</span></span> <span data-ttu-id="2b3c7-304">Ponadto bardziej <xref:System.Windows.EventSetter> abstrakcyjne nazwy metod dla programów obsługi jeden krok poza ogólną aplikacją i znacznikiem strony.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-304">Also, an <xref:System.Windows.EventSetter> abstracts method names for handlers one step further away from the general application and page markup.</span></span>

<span data-ttu-id="2b3c7-305">Kolejną wyspecjalizowaną składnią, która łączy kierowane zdarzenia i funkcje [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animacji programu <xref:System.Windows.EventTrigger>, jest.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-305">Another specialized syntax that combines the routed event and animation features of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is an <xref:System.Windows.EventTrigger>.</span></span> <span data-ttu-id="2b3c7-306">Podobnie jak <xref:System.Windows.EventSetter>w przypadku, tylko zdarzenia trasowane mogą być używane <xref:System.Windows.EventTrigger>dla.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-306">As with <xref:System.Windows.EventSetter>, only routed events may be used for an <xref:System.Windows.EventTrigger>.</span></span> <span data-ttu-id="2b3c7-307">Zwykle jest zadeklarowany jako część stylu, <xref:System.Windows.EventTrigger> ale można go również zadeklarować w <xref:System.Windows.FrameworkElement.Triggers%2A> elementach na poziomie strony jako część kolekcji lub w <xref:System.Windows.Controls.ControlTemplate>. <xref:System.Windows.EventTrigger></span><span class="sxs-lookup"><span data-stu-id="2b3c7-307">Typically, an <xref:System.Windows.EventTrigger> is declared as part of a style, but an <xref:System.Windows.EventTrigger> can also be declared on page-level elements as part of the <xref:System.Windows.FrameworkElement.Triggers%2A> collection, or in a <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="2b3c7-308">Umożliwia określenie, które jest uruchamiane za każdym razem, gdy zdarzenie kierowane osiągnie element w <xref:System.Windows.EventTrigger> swojej trasie, który deklaruje dla tego zdarzenia. <xref:System.Windows.Media.Animation.Storyboard> <xref:System.Windows.EventTrigger></span><span class="sxs-lookup"><span data-stu-id="2b3c7-308">An <xref:System.Windows.EventTrigger> enables you to specify a <xref:System.Windows.Media.Animation.Storyboard> that runs whenever a routed event reaches an element in its route that declares an <xref:System.Windows.EventTrigger> for that event.</span></span> <span data-ttu-id="2b3c7-309">Zaletą <xref:System.Windows.EventTrigger> po prostu obsłudze zdarzenia i spowodowanym rozpoczęciem istniejącego scenorysu jest to <xref:System.Windows.EventTrigger> , że zapewnia lepszą kontrolę nad scenorysem i jego zachowaniem w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-309">The advantage of an <xref:System.Windows.EventTrigger> over just handling the event and causing it to start an existing storyboard is that an <xref:System.Windows.EventTrigger> provides better control over the storyboard and its run-time behavior.</span></span> <span data-ttu-id="2b3c7-310">Aby uzyskać więcej informacji, zobacz [Używanie wyzwalaczy zdarzeń do kontrolowania scenorysu po jego uruchomieniu](../graphics-multimedia/how-to-use-event-triggers-to-control-a-storyboard-after-it-starts.md).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-310">For more information, see [Use Event Triggers to Control a Storyboard After It Starts](../graphics-multimedia/how-to-use-event-triggers-to-control-a-storyboard-after-it-starts.md).</span></span>

<a name="more_about"></a>

## <a name="more-about-routed-events"></a><span data-ttu-id="2b3c7-311">Więcej informacji na temat zdarzeń kierowanych</span><span class="sxs-lookup"><span data-stu-id="2b3c7-311">More About Routed Events</span></span>

<span data-ttu-id="2b3c7-312">W tym temacie opisano głównie zdarzenia kierowane z perspektywy opisującej podstawowe koncepcje i oferujące wskazówki dotyczące sposobu reagowania na zdarzenia kierowane, które znajdują się już w różnych elementach podstawowych i formantach.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-312">This topic mainly discusses routed events from the perspective of describing the basic concepts and offering guidance on how and when to respond to the routed events that are already present in the various base elements and controls.</span></span> <span data-ttu-id="2b3c7-313">Można jednak utworzyć własne wydarzenie kierowane w klasie niestandardowej wraz ze wszystkimi niezbędnymi, takimi jak klasy danych zdarzeń i delegatów.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-313">However, you can create your own routed event on your custom class along with all the necessary support, such as specialized event data classes and delegates.</span></span> <span data-ttu-id="2b3c7-314">Właścicielem zdarzenia kierowanego może być dowolna klasa, ale zdarzenia kierowane muszą być zgłaszane przez i obsługiwane <xref:System.Windows.UIElement> przez <xref:System.Windows.ContentElement> lub klasy pochodne, aby były użyteczne.</span><span class="sxs-lookup"><span data-stu-id="2b3c7-314">The routed event owner can be any class, but routed events must be raised by and handled by <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> derived classes in order to be useful.</span></span> <span data-ttu-id="2b3c7-315">Aby uzyskać więcej informacji na temat zdarzeń niestandardowych, zobacz [Tworzenie niestandardowego zdarzenia kierowanego](how-to-create-a-custom-routed-event.md).</span><span class="sxs-lookup"><span data-stu-id="2b3c7-315">For more information about custom events, see [Create a Custom Routed Event](how-to-create-a-custom-routed-event.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="2b3c7-316">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="2b3c7-316">See also</span></span>

- <xref:System.Windows.EventManager>
- <xref:System.Windows.RoutedEvent>
- <xref:System.Windows.RoutedEventArgs>
- [<span data-ttu-id="2b3c7-317">Oznaczanie zdarzeń trasowanych jako obsłużonych oraz obsługa klasy</span><span class="sxs-lookup"><span data-stu-id="2b3c7-317">Marking Routed Events as Handled, and Class Handling</span></span>](marking-routed-events-as-handled-and-class-handling.md)
- [<span data-ttu-id="2b3c7-318">Przegląd danych wejściowych</span><span class="sxs-lookup"><span data-stu-id="2b3c7-318">Input Overview</span></span>](input-overview.md)
- [<span data-ttu-id="2b3c7-319">Przegląd poleceń</span><span class="sxs-lookup"><span data-stu-id="2b3c7-319">Commanding Overview</span></span>](commanding-overview.md)
- [<span data-ttu-id="2b3c7-320">Niestandardowe właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="2b3c7-320">Custom Dependency Properties</span></span>](custom-dependency-properties.md)
- [<span data-ttu-id="2b3c7-321">Drzewa w WPF</span><span class="sxs-lookup"><span data-stu-id="2b3c7-321">Trees in WPF</span></span>](trees-in-wpf.md)
- [<span data-ttu-id="2b3c7-322">Słabe wzorce zdarzeń</span><span class="sxs-lookup"><span data-stu-id="2b3c7-322">Weak Event Patterns</span></span>](weak-event-patterns.md)
