---
title: Przegląd Obiekty Freezable
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- Freezable objects [WPF], description
- unfreezing Freezable objects [WPF]
- classes [WPF], Freezable
ms.assetid: 89c71692-4f43-4057-b611-67c6a8a863a2
ms.openlocfilehash: d3b9f6f7af22b2a846f4ee34e8d4d00bb032fd69
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/04/2018
ms.locfileid: "33548473"
---
# <a name="freezable-objects-overview"></a><span data-ttu-id="a1e04-102">Przegląd Obiekty Freezable</span><span class="sxs-lookup"><span data-stu-id="a1e04-102">Freezable Objects Overview</span></span>
<span data-ttu-id="a1e04-103">W tym temacie opisano, jak skutecznie używać i utworzyć <xref:System.Windows.Freezable> obiektów, które dostarczają specjalnych funkcji, które może zwiększyć wydajność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a1e04-103">This topic describes how to effectively use and create <xref:System.Windows.Freezable> objects, which provide special features that can help improve application performance.</span></span> <span data-ttu-id="a1e04-104">Przykładami obiektu freezable obiektów pędzle, pióra przekształcenia, mają geometrię i animacji.</span><span class="sxs-lookup"><span data-stu-id="a1e04-104">Examples of freezable objects include brushes, pens, transformations, geometries, and animations.</span></span>  
  
<a name="whatisafreezable"></a>   
## <a name="what-is-a-freezable"></a><span data-ttu-id="a1e04-105">Co to jest obiektu Freezable?</span><span class="sxs-lookup"><span data-stu-id="a1e04-105">What Is a Freezable?</span></span>  
 <span data-ttu-id="a1e04-106">A <xref:System.Windows.Freezable> to specjalny typ obiektu, który ma dwa stany: odblokowana i jest zablokowana.</span><span class="sxs-lookup"><span data-stu-id="a1e04-106">A <xref:System.Windows.Freezable> is a special type of object that has two states: unfrozen and frozen.</span></span> <span data-ttu-id="a1e04-107">Gdy odblokowany, <xref:System.Windows.Freezable> wydaje się zachowują się podobnie jak każdy inny obiekt.</span><span class="sxs-lookup"><span data-stu-id="a1e04-107">When unfrozen, a <xref:System.Windows.Freezable> appears to behave like any other object.</span></span> <span data-ttu-id="a1e04-108">Jeśli zablokowany, <xref:System.Windows.Freezable> nie może być modyfikowany.</span><span class="sxs-lookup"><span data-stu-id="a1e04-108">When frozen, a <xref:System.Windows.Freezable> can no longer be modified.</span></span>  
  
 <span data-ttu-id="a1e04-109">A <xref:System.Windows.Freezable> zapewnia <xref:System.Windows.Freezable.Changed> zdarzenie, aby powiadomić obserwatorów wszelkie modyfikacje obiektu.</span><span class="sxs-lookup"><span data-stu-id="a1e04-109">A <xref:System.Windows.Freezable> provides a <xref:System.Windows.Freezable.Changed> event to notify observers of any modifications to the object.</span></span> <span data-ttu-id="a1e04-110">Zamrażanie <xref:System.Windows.Freezable> może zwiększyć jej wydajność, ponieważ nie jest już konieczne wydatkami zasobów powiadomień o zmianach.</span><span class="sxs-lookup"><span data-stu-id="a1e04-110">Freezing a <xref:System.Windows.Freezable> can improve its performance, because it no longer needs to spend resources on change notifications.</span></span> <span data-ttu-id="a1e04-111">Zablokowane <xref:System.Windows.Freezable> również może być współużytkowana przez wątki, podczas odblokowanej <xref:System.Windows.Freezable> nie.</span><span class="sxs-lookup"><span data-stu-id="a1e04-111">A frozen <xref:System.Windows.Freezable> can also be shared across threads, while an unfrozen <xref:System.Windows.Freezable> cannot.</span></span>  
  
 <span data-ttu-id="a1e04-112">Mimo że <xref:System.Windows.Freezable> klasa ma wiele aplikacji najbardziej <xref:System.Windows.Freezable> obiekty w [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] są związane z podsystem grafiki.</span><span class="sxs-lookup"><span data-stu-id="a1e04-112">Although the <xref:System.Windows.Freezable> class has many applications, most <xref:System.Windows.Freezable> objects in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] are related to the graphics sub-system.</span></span>  
  
 <span data-ttu-id="a1e04-113"><xref:System.Windows.Freezable> Klasy, ułatwia działanie do używania określonych obiektów systemowych grafiki i może zwiększyć wydajność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a1e04-113">The <xref:System.Windows.Freezable> class makes it easier to use certain graphics system objects and can help improve application performance.</span></span> <span data-ttu-id="a1e04-114">Przykłady typów dziedziczących po <xref:System.Windows.Freezable> obejmują <xref:System.Windows.Media.Brush>, <xref:System.Windows.Media.Transform>, i <xref:System.Windows.Media.Geometry> klasy.</span><span class="sxs-lookup"><span data-stu-id="a1e04-114">Examples of types that inherit from <xref:System.Windows.Freezable> include the <xref:System.Windows.Media.Brush>, <xref:System.Windows.Media.Transform>, and <xref:System.Windows.Media.Geometry> classes.</span></span> <span data-ttu-id="a1e04-115">Ponieważ zawierają one niezarządzane zasoby, system musi monitorować tych obiektów w celu zmiany, a następnie zaktualizuj ich odpowiednich zasobów niezarządzanych, po zmianie do oryginalnego obiektu.</span><span class="sxs-lookup"><span data-stu-id="a1e04-115">Because they contain unmanaged resources, the system must monitor these objects for modifications, and then update their corresponding unmanaged resources when there is a change to the original object.</span></span> <span data-ttu-id="a1e04-116">Nawet jeśli nie faktycznie zmodyfikować obiektu systemowego grafiki, system musi nadal spędzają na niektórych zasobów monitorowania obiektu, w przypadku, gdy zostanie zmieniony.</span><span class="sxs-lookup"><span data-stu-id="a1e04-116">Even if you don't actually modify a graphics system object, the system must still spend some of its resources monitoring the object, in case you do change it.</span></span>  
  
 <span data-ttu-id="a1e04-117">Załóżmy na przykład, możesz utworzyć <xref:System.Windows.Media.SolidColorBrush> pędzla i używać go do rysowania tła przycisku.</span><span class="sxs-lookup"><span data-stu-id="a1e04-117">For example, suppose you create a <xref:System.Windows.Media.SolidColorBrush> brush and use it to paint the background of a button.</span></span>  
  
 [!code-csharp[freezablesample_procedural#FrozenExamplePart1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#frozenexamplepart1)]
 [!code-vb[freezablesample_procedural#FrozenExamplePart1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#frozenexamplepart1)]  
  
 <span data-ttu-id="a1e04-118">Podczas renderowania przycisku [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] podsystem grafiki używa informacji dostępnych do malowania grupy pikseli, aby utworzyć wygląd przycisku.</span><span class="sxs-lookup"><span data-stu-id="a1e04-118">When the button is rendered, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] graphics sub-system uses the information you provided to paint a group of pixels to create the appearance of a button.</span></span> <span data-ttu-id="a1e04-119">Mimo że pędzla pełnego koloru jest używany do opisywania, jak przycisk powinien zostać narysowany, pędzla pełnego koloru faktycznie nie rysowania.</span><span class="sxs-lookup"><span data-stu-id="a1e04-119">Although you used a solid color brush to describe how the button should be painted, your solid color brush doesn't actually do the painting.</span></span> <span data-ttu-id="a1e04-120">Obiekty szybkie i niskiego poziomu dla przycisku i pędzla wygenerowany przez system grafiki i jest te obiekty widoczne na ekranie.</span><span class="sxs-lookup"><span data-stu-id="a1e04-120">The graphics system generates fast, low-level objects for the button and the brush, and it is those objects that actually appear on the screen.</span></span>  
  
 <span data-ttu-id="a1e04-121">Gdyby zmodyfikować pędzla tych obiektów niskiego poziomu musi być ponownie wygenerowany.</span><span class="sxs-lookup"><span data-stu-id="a1e04-121">If you were to modify the brush, those low-level objects would have to be regenerated.</span></span> <span data-ttu-id="a1e04-122">Klasa obiektu freezable jest, co umożliwia Pędzel można znaleźć jego odpowiednimi obiektami generowany, niskiego poziomu, a ich aktualizacji, gdy zmieni się.</span><span class="sxs-lookup"><span data-stu-id="a1e04-122">The freezable class is what gives a brush the ability to find its corresponding generated, low-level objects and to update them when it changes.</span></span> <span data-ttu-id="a1e04-123">Ta możliwość jest włączona, pędzla jest określane jako "odblokowanej."</span><span class="sxs-lookup"><span data-stu-id="a1e04-123">When this ability is enabled, the brush is said to be "unfrozen."</span></span>  
  
 <span data-ttu-id="a1e04-124">Obiektu freezable na <xref:System.Windows.Freezable.Freeze%2A> metoda pozwala wyłączyć tę możliwość samoaktualizacji.</span><span class="sxs-lookup"><span data-stu-id="a1e04-124">A freezable's <xref:System.Windows.Freezable.Freeze%2A> method enables you to disable this self-updating ability.</span></span> <span data-ttu-id="a1e04-125">Ta metoda umożliwia także pędzla stają się "zablokowane" lub unmodifiable.</span><span class="sxs-lookup"><span data-stu-id="a1e04-125">You can use this method to make the brush become "frozen," or unmodifiable.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a1e04-126">Nie każdy obiekt obiektu Freezable może być zablokowana.</span><span class="sxs-lookup"><span data-stu-id="a1e04-126">Not every Freezable object can be frozen.</span></span> <span data-ttu-id="a1e04-127">Aby uniknąć generowania <xref:System.InvalidOperationException>, sprawdź wartość obiektu Freezable obiektu <xref:System.Windows.Freezable.CanFreeze%2A> właściwości w celu określenia, czy może być zablokowany przed próbą jej zablokować.</span><span class="sxs-lookup"><span data-stu-id="a1e04-127">To avoid throwing an <xref:System.InvalidOperationException>, check the value of the Freezable object's <xref:System.Windows.Freezable.CanFreeze%2A> property to determine whether it can be frozen before attempting to freeze it.</span></span>  
  
 [!code-csharp[freezablesample_procedural#FrozenExamplePart2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#frozenexamplepart2)]
 [!code-vb[freezablesample_procedural#FrozenExamplePart2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#frozenexamplepart2)]  
  
 <span data-ttu-id="a1e04-128">W przypadku nie trzeba już modyfikować obiektu freezable, zamrażanie go zapewnia zwiększenia wydajności.</span><span class="sxs-lookup"><span data-stu-id="a1e04-128">When you no longer need to modify a freezable, freezing it provides performance benefits.</span></span> <span data-ttu-id="a1e04-129">Jeśli masz zamiar zablokować pędzla w tym przykładzie, system grafiki już musi monitorować jej zmiany.</span><span class="sxs-lookup"><span data-stu-id="a1e04-129">If you were to freeze the brush in this example, the graphics system would no longer need to monitor it for changes.</span></span> <span data-ttu-id="a1e04-130">System grafiki można również ustawić inne optymalizacje, ponieważ że pędzel nie zmieni się.</span><span class="sxs-lookup"><span data-stu-id="a1e04-130">The graphics system can also make other optimizations, because it knows the brush won't change.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a1e04-131">Dla wygody obiektu freezable obiekty pozostają odblokowanej, chyba że ich jawnie zablokować.</span><span class="sxs-lookup"><span data-stu-id="a1e04-131">For convenience, freezable objects remain unfrozen unless you explicitly freeze them.</span></span>  
  
<a name="frozenfreezables"></a>   
## <a name="using-freezables"></a><span data-ttu-id="a1e04-132">Za pomocą obiektów Freezable</span><span class="sxs-lookup"><span data-stu-id="a1e04-132">Using Freezables</span></span>  
 <span data-ttu-id="a1e04-133">Przy użyciu odblokowanej obiektu freezable przypomina innego typu obiektu.</span><span class="sxs-lookup"><span data-stu-id="a1e04-133">Using an unfrozen freezable is like using any other type of object.</span></span> <span data-ttu-id="a1e04-134">W poniższym przykładzie kolor <xref:System.Windows.Media.SolidColorBrush> zostaje zmieniony z żółtym czerwony, gdy jest używany do rysowania tła przycisku.</span><span class="sxs-lookup"><span data-stu-id="a1e04-134">In the following example, the color of a <xref:System.Windows.Media.SolidColorBrush> is changed from yellow to red after it's used to paint the background of a button.</span></span> <span data-ttu-id="a1e04-135">System grafiki działa w tle automatycznie zmienić przycisk z żółtym czerwony po następnym odświeżeniu ekranu.</span><span class="sxs-lookup"><span data-stu-id="a1e04-135">The graphics system works behind the scenes to automatically change the button from yellow to red the next time the screen is refreshed.</span></span>  
  
 [!code-csharp[freezablesample_procedural#UnFrozenExampleShort](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#unfrozenexampleshort)]
 [!code-vb[freezablesample_procedural#UnFrozenExampleShort](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#unfrozenexampleshort)]  
  
### <a name="freezing-a-freezable"></a><span data-ttu-id="a1e04-136">Zamrażanie obiektu Freezable</span><span class="sxs-lookup"><span data-stu-id="a1e04-136">Freezing a Freezable</span></span>  
 <span data-ttu-id="a1e04-137">Aby <xref:System.Windows.Freezable> wywołania unmodifiable, jego <xref:System.Windows.Freezable.Freeze%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="a1e04-137">To make a <xref:System.Windows.Freezable> unmodifiable, you call its <xref:System.Windows.Freezable.Freeze%2A> method.</span></span> <span data-ttu-id="a1e04-138">Po zablokowaniu obiekt zawierający obiekty obiektu freezable te obiekty są również zablokowane.</span><span class="sxs-lookup"><span data-stu-id="a1e04-138">When you freeze an object that contains freezable objects, those objects are frozen as well.</span></span> <span data-ttu-id="a1e04-139">Na przykład, jeśli zablokowanie <xref:System.Windows.Media.PathGeometry>, rysunki i segmentów zawiera może zostać zamrożony zbyt.</span><span class="sxs-lookup"><span data-stu-id="a1e04-139">For example, if you freeze a <xref:System.Windows.Media.PathGeometry>, the figures and segments it contains would be frozen too.</span></span>  
  
 <span data-ttu-id="a1e04-140">Obiekt Freezable **nie** zablokowane, jeśli spełnione są następujące:</span><span class="sxs-lookup"><span data-stu-id="a1e04-140">A Freezable **can't** be frozen if any of the following are true:</span></span>  
  
-   <span data-ttu-id="a1e04-141">Ma on animowany lub właściwości powiązany z danymi.</span><span class="sxs-lookup"><span data-stu-id="a1e04-141">It has animated or data bound properties.</span></span>  
  
-   <span data-ttu-id="a1e04-142">Ma on właściwości ustawione przez zasób dynamicznych.</span><span class="sxs-lookup"><span data-stu-id="a1e04-142">It has properties set by a dynamic resource.</span></span> <span data-ttu-id="a1e04-143">(Zobacz [zasobów XAML](../../../../docs/framework/wpf/advanced/xaml-resources.md) Aby uzyskać więcej informacji o zasobach dynamicznych.)</span><span class="sxs-lookup"><span data-stu-id="a1e04-143">(See the [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md) for more information about dynamic resources.)</span></span>  
  
-   <span data-ttu-id="a1e04-144">Zawiera on <xref:System.Windows.Freezable> obiekty podrzędne, które nie może być zablokowany.</span><span class="sxs-lookup"><span data-stu-id="a1e04-144">It contains <xref:System.Windows.Freezable> sub-objects that can't be frozen.</span></span>  
  
 <span data-ttu-id="a1e04-145">Jeśli te warunki są false, a nie zamierzasz zmodyfikować <xref:System.Windows.Freezable>, następnie zablokowaniu powinien opisanych wcześniej korzyści wydajności.</span><span class="sxs-lookup"><span data-stu-id="a1e04-145">If these conditions are false, and you don't intend to modify the <xref:System.Windows.Freezable>, then you should freeze it to gain the performance benefits described earlier.</span></span>  
  
 <span data-ttu-id="a1e04-146">Po wywołaniu obiektu freezable na <xref:System.Windows.Freezable.Freeze%2A> metody, nie może być modyfikowany.</span><span class="sxs-lookup"><span data-stu-id="a1e04-146">Once you call a freezable's <xref:System.Windows.Freezable.Freeze%2A> method, it can no longer be modified.</span></span> <span data-ttu-id="a1e04-147">Próba zmodyfikowania zablokowane obiekt przyczyny <xref:System.InvalidOperationException> zostanie wygenerowany.</span><span class="sxs-lookup"><span data-stu-id="a1e04-147">Attempting to modify a frozen object causes an <xref:System.InvalidOperationException> to be thrown.</span></span> <span data-ttu-id="a1e04-148">Poniższy kod zgłasza wyjątek, ponieważ będziemy próbuje zmodyfikować pędzla po jest została zablokowana.</span><span class="sxs-lookup"><span data-stu-id="a1e04-148">The following code throws an exception, because we attempt to modify the brush after it's been frozen.</span></span>  
  
 [!code-csharp[freezablesample_procedural#ExceptionExample](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#exceptionexample)]
 [!code-vb[freezablesample_procedural#ExceptionExample](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#exceptionexample)]  
  
 <span data-ttu-id="a1e04-149">Aby uniknąć generowania tego wyjątku, można użyć <xref:System.Windows.Freezable.IsFrozen%2A> metodę, aby określić, czy <xref:System.Windows.Freezable> jest zablokowana.</span><span class="sxs-lookup"><span data-stu-id="a1e04-149">To avoid throwing this exception, you can use the <xref:System.Windows.Freezable.IsFrozen%2A> method to determine whether a <xref:System.Windows.Freezable> is frozen.</span></span>  
  
 [!code-csharp[freezablesample_procedural#CheckIsFrozenExample](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#checkisfrozenexample)]
 [!code-vb[freezablesample_procedural#CheckIsFrozenExample](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#checkisfrozenexample)]  
  
 <span data-ttu-id="a1e04-150">W poprzednim przykładzie kodu, można modyfikować kopii obiektu zablokowane przy użyciu <xref:System.Windows.Freezable.Clone%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="a1e04-150">In the preceding code example, a modifiable copy was made of a frozen object using the <xref:System.Windows.Freezable.Clone%2A> method.</span></span> <span data-ttu-id="a1e04-151">W następnej sekcji omówiono w klonowania bardziej szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="a1e04-151">The next section discusses cloning in more detail.</span></span>  
  
 <span data-ttu-id="a1e04-152">**Uwaga** ponieważ zablokowane obiektu freezable nie można animować, system animacji automatycznie utworzy można modyfikować klonów zablokowane <xref:System.Windows.Freezable> obiekty podczas próby animować je za pomocą <xref:System.Windows.Media.Animation.Storyboard>.</span><span class="sxs-lookup"><span data-stu-id="a1e04-152">**Note** Because a frozen freezable cannot be animated, the animation system will automatically create modifiable clones of frozen <xref:System.Windows.Freezable> objects when you try to animate them with a <xref:System.Windows.Media.Animation.Storyboard>.</span></span> <span data-ttu-id="a1e04-153">Aby wyeliminować obciążenie spowodowane przez klonowanie wydajność, pozostaw odblokowany, jeśli zamierzasz animować go obiektu.</span><span class="sxs-lookup"><span data-stu-id="a1e04-153">To eliminate the performance overhead caused by cloning, leave an object unfrozen if you intend to animate it.</span></span> <span data-ttu-id="a1e04-154">Aby uzyskać więcej informacji na temat animacji z scenorys, zobacz [omówienie Scenorys](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a1e04-154">For more information about animating with storyboards, see the [Storyboards Overview](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md).</span></span>  
  
### <a name="freezing-from-markup"></a><span data-ttu-id="a1e04-155">Zamrażanie z znaczników</span><span class="sxs-lookup"><span data-stu-id="a1e04-155">Freezing from Markup</span></span>  
 <span data-ttu-id="a1e04-156">Aby zablokować <xref:System.Windows.Freezable> obiektu zadeklarowany w znaczniku, możesz użyć `PresentationOptions:Freeze` atrybutu.</span><span class="sxs-lookup"><span data-stu-id="a1e04-156">To freeze a <xref:System.Windows.Freezable> object declared in markup, you use the `PresentationOptions:Freeze` attribute.</span></span> <span data-ttu-id="a1e04-157">W poniższym przykładzie <xref:System.Windows.Media.SolidColorBrush> jest zadeklarowany jako zasobu strony i zablokowane.</span><span class="sxs-lookup"><span data-stu-id="a1e04-157">In the following example, a <xref:System.Windows.Media.SolidColorBrush> is declared as a page resource and frozen.</span></span> <span data-ttu-id="a1e04-158">Następnie służy do ustawiania tło przycisku.</span><span class="sxs-lookup"><span data-stu-id="a1e04-158">It is then used to set the background of a button.</span></span>  
  
 [!code-xaml[FreezableSample#FreezeFromMarkupWholePage](../../../../samples/snippets/csharp/VS_Snippets_Wpf/FreezableSample/CS/FreezeFromMarkupExample.xaml#freezefrommarkupwholepage)]  
  
 <span data-ttu-id="a1e04-159">Aby użyć `Freeze` atrybutu, musisz zamapować do przestrzeni nazw opcje prezentacji: `http://schemas.microsoft.com/winfx/2006/xaml/presentation/options`.</span><span class="sxs-lookup"><span data-stu-id="a1e04-159">To use the `Freeze` attribute, you must map to the presentation options namespace: `http://schemas.microsoft.com/winfx/2006/xaml/presentation/options`.</span></span> <span data-ttu-id="a1e04-160">`PresentationOptions` jest zalecana prefiks dla mapowania tej przestrzeni nazw:</span><span class="sxs-lookup"><span data-stu-id="a1e04-160">`PresentationOptions` is the recommended prefix for mapping this namespace:</span></span>  
  
```  
xmlns:PresentationOptions="http://schemas.microsoft.com/winfx/2006/xaml/presentation/options"   
```  
  
 <span data-ttu-id="a1e04-161">Ponieważ nie wszystkie czytników XAML rozpoznaje tego atrybutu, zaleca się używanie [mc: atrybut Ignorable](../../../../docs/framework/wpf/advanced/mc-ignorable-attribute.md) do oznaczania `Presentation:Freeze` atrybutu jako ignorowalna:</span><span class="sxs-lookup"><span data-stu-id="a1e04-161">Because not all XAML readers recognize this attribute, it's recommended that you use the [mc:Ignorable Attribute](../../../../docs/framework/wpf/advanced/mc-ignorable-attribute.md) to mark the `Presentation:Freeze` attribute as ignorable:</span></span>  
  
```  
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"  
mc:Ignorable="PresentationOptions"  
```  
  
 <span data-ttu-id="a1e04-162">Aby uzyskać więcej informacji, zobacz [mc: atrybut Ignorable](../../../../docs/framework/wpf/advanced/mc-ignorable-attribute.md) strony.</span><span class="sxs-lookup"><span data-stu-id="a1e04-162">For more information, see the [mc:Ignorable Attribute](../../../../docs/framework/wpf/advanced/mc-ignorable-attribute.md) page.</span></span>  
  
### <a name="unfreezing-a-freezable"></a><span data-ttu-id="a1e04-163">"Unfreezing" obiektu Freezable</span><span class="sxs-lookup"><span data-stu-id="a1e04-163">"Unfreezing" a Freezable</span></span>  
 <span data-ttu-id="a1e04-164">Zablokowane na raz, <xref:System.Windows.Freezable> nigdy nie może być zmodyfikowany lub odblokowana; można jednak utworzyć klonu odblokowanej przy użyciu <xref:System.Windows.Freezable.Clone%2A> lub <xref:System.Windows.Freezable.CloneCurrentValue%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="a1e04-164">Once frozen, a <xref:System.Windows.Freezable> can never be modified or unfrozen; however, you can create an unfrozen clone using the <xref:System.Windows.Freezable.Clone%2A> or <xref:System.Windows.Freezable.CloneCurrentValue%2A> method.</span></span>  
  
 <span data-ttu-id="a1e04-165">W poniższym przykładzie tło przycisku jest ustawiony za pomocą pędzla i że pędzla jest następnie zablokowana.</span><span class="sxs-lookup"><span data-stu-id="a1e04-165">In the following example, the button's background is set with a brush and that brush is then frozen.</span></span> <span data-ttu-id="a1e04-166">Odblokowanej kopiowania składa się z pomocą pędzla <xref:System.Windows.Freezable.Clone%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="a1e04-166">An unfrozen copy is made of the brush using the <xref:System.Windows.Freezable.Clone%2A> method.</span></span> <span data-ttu-id="a1e04-167">Klon jest zmodyfikowany, a następnie używać do zmieniania tło przycisku z żółtym na czerwony.</span><span class="sxs-lookup"><span data-stu-id="a1e04-167">The clone is modified and used to change the button's background from yellow to red.</span></span>  
  
 [!code-csharp[freezablesample_procedural#CloneExample](../../../../samples/snippets/csharp/VS_Snippets_Wpf/freezablesample_procedural/CSharp/freezablesample.cs#cloneexample)]
 [!code-vb[freezablesample_procedural#CloneExample](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/freezablesample_procedural/visualbasic/freezablesample.vb#cloneexample)]  
  
> [!NOTE]
>  <span data-ttu-id="a1e04-168">Niezależnie od klonowania wybranej metody, animacje nigdy nie są kopiowane do nowego <xref:System.Windows.Freezable>.</span><span class="sxs-lookup"><span data-stu-id="a1e04-168">Regardless of which clone method you use, animations are never copied to the new <xref:System.Windows.Freezable>.</span></span>  
  
 <span data-ttu-id="a1e04-169"><xref:System.Windows.Freezable.Clone%2A> i <xref:System.Windows.Freezable.CloneCurrentValue%2A> metody uzyskanie bezpośrednich kopii obiektu freezable.</span><span class="sxs-lookup"><span data-stu-id="a1e04-169">The <xref:System.Windows.Freezable.Clone%2A> and <xref:System.Windows.Freezable.CloneCurrentValue%2A> methods produce deep copies of the freezable.</span></span> <span data-ttu-id="a1e04-170">Jeśli obiektu freezable zawierają inne obiekty obiektu freezable zablokowane, są one również sklonować i wprowadzone można modyfikować.</span><span class="sxs-lookup"><span data-stu-id="a1e04-170">If the freezable contains other frozen freezable objects, they are also cloned and made modifiable.</span></span> <span data-ttu-id="a1e04-171">Na przykład, jeśli Sklonowanie zablokowane <xref:System.Windows.Media.PathGeometry> aby umożliwić można modyfikować, rysunki i segmentów zawiera są również kopiowane i wprowadzone można modyfikować.</span><span class="sxs-lookup"><span data-stu-id="a1e04-171">For example, if you clone a frozen <xref:System.Windows.Media.PathGeometry> to make it modifiable, the figures and segments it contains are also copied and made modifiable.</span></span>  
  
<a name="createyourownfreezableclass"></a>   
## <a name="creating-your-own-freezable-class"></a><span data-ttu-id="a1e04-172">Tworzenie obiektu Freezable klasy</span><span class="sxs-lookup"><span data-stu-id="a1e04-172">Creating Your Own Freezable Class</span></span>  
 <span data-ttu-id="a1e04-173">Klasa, która pochodzi z <xref:System.Windows.Freezable> uzyska następujące funkcje.</span><span class="sxs-lookup"><span data-stu-id="a1e04-173">A class that derives from <xref:System.Windows.Freezable> gains the following features.</span></span>  
  
-   <span data-ttu-id="a1e04-174">Stany specjalne: tylko do odczytu (zablokowany) i stanie zapisywalnym.</span><span class="sxs-lookup"><span data-stu-id="a1e04-174">Special states: a read-only (frozen) and a writable state.</span></span>  
  
-   <span data-ttu-id="a1e04-175">Bezpieczeństwo wątków: zablokowane <xref:System.Windows.Freezable> może być współużytkowana przez wątki.</span><span class="sxs-lookup"><span data-stu-id="a1e04-175">Thread safety: a frozen <xref:System.Windows.Freezable> can be shared across threads.</span></span>  
  
-   <span data-ttu-id="a1e04-176">Szczegółowe powiadomienia o zmianie: w odróżnieniu od innych <xref:System.Windows.DependencyObject>s, obiekty obiektu Freezable dostarczają powiadomienia o zmianie po zmianie wartości właściwości podrzędnych.</span><span class="sxs-lookup"><span data-stu-id="a1e04-176">Detailed change notification: Unlike other <xref:System.Windows.DependencyObject>s, Freezable objects provide change notifications when sub-property values change.</span></span>  
  
-   <span data-ttu-id="a1e04-177">Klonowanie łatwe: klasa obiektu Freezable został już zaimplementowany kilka metod, które wywołują klony głębokie.</span><span class="sxs-lookup"><span data-stu-id="a1e04-177">Easy cloning: the Freezable class has already implemented several methods that produce deep clones.</span></span>  
  
 <span data-ttu-id="a1e04-178">A <xref:System.Windows.Freezable> jest typem <xref:System.Windows.DependencyObject>i w związku z tym korzysta z systemu właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="a1e04-178">A <xref:System.Windows.Freezable> is a type of <xref:System.Windows.DependencyObject>, and therefore uses the dependency property system.</span></span> <span data-ttu-id="a1e04-179">Właściwości nie muszą być właściwości zależności, ale przy użyciu właściwości zależności zmniejsza ilość kodu, trzeba napisać, ponieważ <xref:System.Windows.Freezable> klasy została zaprojektowana z właściwości zależności na uwadze.</span><span class="sxs-lookup"><span data-stu-id="a1e04-179">Your class properties don't have to be dependency properties, but using dependency properties will reduce the amount of code you have to write, because the <xref:System.Windows.Freezable> class was designed with dependency properties in mind.</span></span> <span data-ttu-id="a1e04-180">Aby uzyskać więcej informacji o systemie właściwości zależności, zobacz [Przegląd właściwości zależności](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a1e04-180">For more information about the dependency property system, see the [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md).</span></span>  
  
 <span data-ttu-id="a1e04-181">Każdy <xref:System.Windows.Freezable> musi zastąpić podklas <xref:System.Windows.Freezable.CreateInstanceCore%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="a1e04-181">Every <xref:System.Windows.Freezable> subclass must override the <xref:System.Windows.Freezable.CreateInstanceCore%2A> method.</span></span> <span data-ttu-id="a1e04-182">Jeśli klasa używa właściwości zależności dla wszystkich jego danych, zakończeniu.</span><span class="sxs-lookup"><span data-stu-id="a1e04-182">If your class uses dependency properties for all its data, you're finished.</span></span>  
  
 <span data-ttu-id="a1e04-183">Jeśli klasa zawiera elementy członkowskie danych właściwości z systemem innym niż zależności, musi także zastępować następujących metod:</span><span class="sxs-lookup"><span data-stu-id="a1e04-183">If your class contains non-dependency property data members, you must also override the following methods:</span></span>  
  
-   <xref:System.Windows.Freezable.CloneCore%2A>  
  
-   <xref:System.Windows.Freezable.CloneCurrentValueCore%2A>  
  
-   <xref:System.Windows.Freezable.GetAsFrozenCore%2A>  
  
-   <xref:System.Windows.Freezable.GetCurrentValueAsFrozenCore%2A>  
  
-   <xref:System.Windows.Freezable.FreezeCore%2A>  
  
 <span data-ttu-id="a1e04-184">Należy również zgodna z poniższymi regułami uzyskiwania dostępu do oraz zapisywanie do elementów członkowskich danych, które nie są właściwości zależności:</span><span class="sxs-lookup"><span data-stu-id="a1e04-184">You must also observe the following rules for accessing and writing to data members that are not dependency properties:</span></span>  
  
-   <span data-ttu-id="a1e04-185">Na początku dowolnego [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] które odczytuje właściwości zależności z systemem innym niż elementy członkowskie danych, należy wywołać <xref:System.Windows.Freezable.ReadPreamble%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="a1e04-185">At the beginning of any [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)] that reads non-dependency property data members, call the <xref:System.Windows.Freezable.ReadPreamble%2A> method.</span></span>  
  
-   <span data-ttu-id="a1e04-186">Na początku jakiegokolwiek interfejsu API, który zapisuje elementy członkowskie danych właściwości zależności nie należy wywoływać <xref:System.Windows.Freezable.WritePreamble%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="a1e04-186">At the beginning of any API that writes non-dependency property data members, call the <xref:System.Windows.Freezable.WritePreamble%2A> method.</span></span> <span data-ttu-id="a1e04-187">(Po została wywołana <xref:System.Windows.Freezable.WritePreamble%2A> w [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)], nie trzeba wywoływania dodatkowe <xref:System.Windows.Freezable.ReadPreamble%2A> Jeśli również przeczytanie elementy członkowskie danych właściwości z systemem innym niż zależności.)</span><span class="sxs-lookup"><span data-stu-id="a1e04-187">(Once you've called <xref:System.Windows.Freezable.WritePreamble%2A> in an [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)], you don't need to make an additional call to <xref:System.Windows.Freezable.ReadPreamble%2A> if you also read non-dependency property data members.)</span></span>  
  
-   <span data-ttu-id="a1e04-188">Wywołanie <xref:System.Windows.Freezable.WritePostscript%2A> metoda przed zamknięciem metody modyfikujące właściwości zależności z systemem innym niż elementy członkowskie danych.</span><span class="sxs-lookup"><span data-stu-id="a1e04-188">Call the <xref:System.Windows.Freezable.WritePostscript%2A> method before exiting methods that write to non-dependency property data members.</span></span>  
  
 <span data-ttu-id="a1e04-189">Jeśli klasa zawiera elementy członkowskie danych niż właściwość zależności, które są <xref:System.Windows.DependencyObject> obiekty, musisz również wywołać <xref:System.Windows.Freezable.OnFreezablePropertyChanged%2A> metody każdej zmianie na ich wartości, nawet jeśli ustawiasz element członkowski `null`.</span><span class="sxs-lookup"><span data-stu-id="a1e04-189">If your class contains non-dependency-property data members that are <xref:System.Windows.DependencyObject> objects, you must also call the <xref:System.Windows.Freezable.OnFreezablePropertyChanged%2A> method each time you change on of their values, even if you're setting the member to `null`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a1e04-190">Jest bardzo ważne, Rozpocznij każdego <xref:System.Windows.Freezable> zastąpienia z wywołaniem do podstawowej implementacji metody.</span><span class="sxs-lookup"><span data-stu-id="a1e04-190">It's very important that you begin each <xref:System.Windows.Freezable> method you override with a call to the base implementation.</span></span>  
  
 <span data-ttu-id="a1e04-191">Na przykład niestandardowy <xref:System.Windows.Freezable> , zobacz [próbki animacji niestandardowej](http://go.microsoft.com/fwlink/?LinkID=159981).</span><span class="sxs-lookup"><span data-stu-id="a1e04-191">For an example of a custom <xref:System.Windows.Freezable> class, see the [Custom Animation Sample](http://go.microsoft.com/fwlink/?LinkID=159981).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a1e04-192">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="a1e04-192">See Also</span></span>  
 <xref:System.Windows.Freezable>  
 [<span data-ttu-id="a1e04-193">Przykładowe animacji niestandardowej</span><span class="sxs-lookup"><span data-stu-id="a1e04-193">Custom Animation Sample</span></span>](http://go.microsoft.com/fwlink/?LinkID=159981)  
 [<span data-ttu-id="a1e04-194">Przegląd właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="a1e04-194">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)  
 [<span data-ttu-id="a1e04-195">Niestandardowe właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="a1e04-195">Custom Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)
