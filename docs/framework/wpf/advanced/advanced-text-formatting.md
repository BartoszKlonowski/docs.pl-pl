---
title: Zaawansowane formatowanie tekstu
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- formatting [WPF]
- text [WPF]
- typography [WPF], text formatting
ms.assetid: f0a7986e-f5b2-485c-a27d-f8e922022212
ms.openlocfilehash: 745d20e0bd4f877f9d4559f9fc7829b56689d35c
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/12/2020
ms.locfileid: "79185940"
---
# <a name="advanced-text-formatting"></a><span data-ttu-id="d15bd-102">Zaawansowane formatowanie tekstu</span><span class="sxs-lookup"><span data-stu-id="d15bd-102">Advanced Text Formatting</span></span>
<span data-ttu-id="d15bd-103">Windows Presentation Foundation (WPF) zapewnia niezawodny zestaw interfejsów API do dołączania tekstu w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d15bd-103">Windows Presentation Foundation (WPF) provides a robust set of APIs for including text in your application.</span></span> <span data-ttu-id="d15bd-104">Układ [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] i interfejsy API, takie jak <xref:System.Windows.Controls.TextBlock>, zapewniają najbardziej typowe i ogólne elementy do prezentacji tekstu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-104">Layout and [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] APIs, such as <xref:System.Windows.Controls.TextBlock>, provide the most common and general-use elements for text presentation.</span></span> <span data-ttu-id="d15bd-105">Rysowanie interfejsów API, takich jak <xref:System.Windows.Media.GlyphRunDrawing> i <xref:System.Windows.Media.FormattedText>, zapewniają środki do włączenia sformatowanego tekstu do rysunków.</span><span class="sxs-lookup"><span data-stu-id="d15bd-105">Drawing APIs, such as <xref:System.Windows.Media.GlyphRunDrawing> and <xref:System.Windows.Media.FormattedText>, provide a means for including formatted text in drawings.</span></span> <span data-ttu-id="d15bd-106">Na najbardziej zaawansowanym poziomie WPF WPF zapewnia rozszerzalny aparat formatowania tekstu do kontrolowania każdego aspektu prezentacji tekstu, takich jak zarządzanie magazynem tekstu, zarządzanie formatowaniem uruchamiania tekstu i zarządzanie obiektami osadzonymi.</span><span class="sxs-lookup"><span data-stu-id="d15bd-106">At the most advanced level, WPF provides an extensible text formatting engine to control every aspect of text presentation, such as text store management, text run formatting management, and embedded object management.</span></span>  
  
 <span data-ttu-id="d15bd-107">Ten temat zawiera wprowadzenie do formatowania tekstu WPF.</span><span class="sxs-lookup"><span data-stu-id="d15bd-107">This topic provides an introduction to WPF text formatting.</span></span> <span data-ttu-id="d15bd-108">Koncentruje się na implementacji klienta i korzystania z aparatu formatowania tekstu WPF.</span><span class="sxs-lookup"><span data-stu-id="d15bd-108">It focuses on client implementation and use of the WPF text formatting engine.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="d15bd-109">Wszystkie przykłady kodu w tym dokumencie można znaleźć w [przykładzie zaawansowanego formatowania tekstu](https://github.com/Microsoft/WPF-Samples/tree/master/PerMonitorDPI/TextFormatting).</span><span class="sxs-lookup"><span data-stu-id="d15bd-109">All code examples within this document can be found in the [Advanced Text Formatting Sample](https://github.com/Microsoft/WPF-Samples/tree/master/PerMonitorDPI/TextFormatting).</span></span>  

<a name="prereq"></a>
## <a name="prerequisites"></a><span data-ttu-id="d15bd-110">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="d15bd-110">Prerequisites</span></span>  
 <span data-ttu-id="d15bd-111">W tym temacie przyjęto założenie, że znasz interfejsy API wyższego poziomu używane do prezentacji tekstu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-111">This topic assumes that you are familiar with the higher level APIs used for text presentation.</span></span> <span data-ttu-id="d15bd-112">Większość scenariuszy użytkowników nie będzie wymagać zaawansowanych interfejsów API formatowania tekstu omówionych w tym temacie.</span><span class="sxs-lookup"><span data-stu-id="d15bd-112">Most user scenarios will not require the advanced text formatting APIs discussed in this topic.</span></span> <span data-ttu-id="d15bd-113">Aby zapoznać się z wprowadzeniem do różnych interfejsów API tekstu, zobacz [Dokumenty w WPF](documents-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="d15bd-113">For an introduction to the different text APIs, see [Documents in WPF](documents-in-wpf.md).</span></span>  
  
<a name="section1"></a>
## <a name="advanced-text-formatting"></a><span data-ttu-id="d15bd-114">Zaawansowane formatowanie tekstu</span><span class="sxs-lookup"><span data-stu-id="d15bd-114">Advanced Text Formatting</span></span>  
 <span data-ttu-id="d15bd-115">Układ tekstu [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] i formanty w WPF zapewniają właściwości formatowania, które umożliwiają łatwe dołączanie sformatowanego tekstu w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d15bd-115">The text layout and [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] controls in WPF provide formatting properties that allow you to easily include formatted text in your application.</span></span> <span data-ttu-id="d15bd-116">Te formanty uwidaczniają szereg właściwości do obsługi prezentacji tekstu, który zawiera jego krój pisma, rozmiar i kolor.</span><span class="sxs-lookup"><span data-stu-id="d15bd-116">These controls expose a number of properties to handle the presentation of text, which includes its typeface, size, and color.</span></span> <span data-ttu-id="d15bd-117">W zwykłych okolicznościach te formanty mogą obsługiwać większość prezentacji tekstu w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d15bd-117">Under ordinary circumstances, these controls can handle the majority of text presentation in your application.</span></span> <span data-ttu-id="d15bd-118">Jednak niektóre zaawansowane scenariusze wymagają kontroli przechowywania tekstu, a także prezentacji tekstu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-118">However, some advanced scenarios require the control of text storage as well as text presentation.</span></span> <span data-ttu-id="d15bd-119">WPF WPF zapewnia rozszerzalny aparat formatowania tekstu w tym celu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-119">WPF provides an extensible text formatting engine for this purpose.</span></span>  
  
 <span data-ttu-id="d15bd-120">Zaawansowane funkcje formatowania tekstu znalezione w WPF składają się z aparatu formatowania tekstu, magazynu tekstu, przebiegów tekstu i właściwości formatowania.</span><span class="sxs-lookup"><span data-stu-id="d15bd-120">The advanced text formatting features found in WPF consist of a text formatting engine, a text store, text runs, and formatting properties.</span></span> <span data-ttu-id="d15bd-121">Aparat formatowania tekstu <xref:System.Windows.Media.TextFormatting.TextFormatter>, tworzy wiersze tekstu, który ma być używany do prezentacji.</span><span class="sxs-lookup"><span data-stu-id="d15bd-121">The text formatting engine, <xref:System.Windows.Media.TextFormatting.TextFormatter>, creates lines of text to be used for presentation.</span></span> <span data-ttu-id="d15bd-122">Osiąga się to poprzez inicjowanie procesu formatowania linii <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>i wywołanie formatera tekstu .</span><span class="sxs-lookup"><span data-stu-id="d15bd-122">This is achieved by initiating the line formatting process and calling the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span></span> <span data-ttu-id="d15bd-123">Formater tekstu pobiera tekst uruchamia się z magazynu tekstu, wywołując <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> metodę sklepu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-123">The text formatter retrieves text runs from your text store by calling the store's <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="d15bd-124">Obiekty <xref:System.Windows.Media.TextFormatting.TextRun> są następnie <xref:System.Windows.Media.TextFormatting.TextLine> formowane w obiekty przez formater tekstu i przekazywane aplikacji do inspekcji lub wyświetlania.</span><span class="sxs-lookup"><span data-stu-id="d15bd-124">The <xref:System.Windows.Media.TextFormatting.TextRun> objects are then formed into <xref:System.Windows.Media.TextFormatting.TextLine> objects by the text formatter and given to your application for inspection or display.</span></span>  
  
<a name="section2"></a>
## <a name="using-the-text-formatter"></a><span data-ttu-id="d15bd-125">Korzystanie z formatera tekstu</span><span class="sxs-lookup"><span data-stu-id="d15bd-125">Using the Text Formatter</span></span>  
 <span data-ttu-id="d15bd-126"><xref:System.Windows.Media.TextFormatting.TextFormatter>jest aparat formatowania tekstu WPF i zapewnia usługi formatowania i przerywania wierszy tekstu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-126"><xref:System.Windows.Media.TextFormatting.TextFormatter> is the WPF text formatting engine and provides services for formatting and breaking text lines.</span></span> <span data-ttu-id="d15bd-127">Formater tekstu może obsługiwać różne formaty znaków tekstowych i style akapitów, a także obsługuje międzynarodowy układ tekstu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-127">The text formatter can handle different text character formats and paragraph styles, and includes support for international text layout.</span></span>  
  
 <span data-ttu-id="d15bd-128">W przeciwieństwie do tradycyjnego interfejsu API tekstu <xref:System.Windows.Media.TextFormatting.TextFormatter> współdziała z klientem układu tekstu za pomocą zestawu metod wywołania zwrotnego.</span><span class="sxs-lookup"><span data-stu-id="d15bd-128">Unlike a traditional text API, the <xref:System.Windows.Media.TextFormatting.TextFormatter> interacts with a text layout client through a set of callback methods.</span></span> <span data-ttu-id="d15bd-129">Wymaga klienta, aby zapewnić te metody <xref:System.Windows.Media.TextFormatting.TextSource> w implementacji klasy.</span><span class="sxs-lookup"><span data-stu-id="d15bd-129">It requires the client to provide these methods in an implementation of the <xref:System.Windows.Media.TextFormatting.TextSource> class.</span></span> <span data-ttu-id="d15bd-130">Na poniższym diagramie przedstawiono interakcję układu <xref:System.Windows.Media.TextFormatting.TextFormatter>tekstu między aplikacją kliencką i .</span><span class="sxs-lookup"><span data-stu-id="d15bd-130">The following diagram illustrates the text layout interaction between the client application and <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span></span>  
  
 ![Diagram klienta układu tekstu i textformatter](./media/advanced-text-formatting/text-layout-textformatter-interaction.png)  
  
 <span data-ttu-id="d15bd-132">Program formatowania tekstu służy do pobierania sformatowanych wierszy tekstu <xref:System.Windows.Media.TextFormatting.TextSource>z magazynu tekstu, który jest implementacją programu .</span><span class="sxs-lookup"><span data-stu-id="d15bd-132">The text formatter is used to retrieve formatted text lines from the text store, which is an implementation of <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="d15bd-133">Odbywa się to przez pierwsze utworzenie wystąpienia formatera <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> tekstu przy użyciu metody.</span><span class="sxs-lookup"><span data-stu-id="d15bd-133">This is done by first creating an instance of the text formatter by using the <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> method.</span></span> <span data-ttu-id="d15bd-134">Ta metoda tworzy wystąpienie formatera tekstu i ustawia maksymalne wartości wysokości i szerokości linii.</span><span class="sxs-lookup"><span data-stu-id="d15bd-134">This method creates an instance of the text formatter and sets the maximum line height and width values.</span></span> <span data-ttu-id="d15bd-135">Jak tylko zostanie utworzone wystąpienie formatera tekstu, proces tworzenia wiersza jest uruchamiany przez wywołanie <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="d15bd-135">As soon as an instance of the text formatter is created, the line creation process is started by calling the <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span> <span data-ttu-id="d15bd-136"><xref:System.Windows.Media.TextFormatting.TextFormatter>wywołuje z powrotem do źródła tekstu, aby pobrać tekst i parametry formatowania dla przebiegów tekstu, które tworzą wiersz.</span><span class="sxs-lookup"><span data-stu-id="d15bd-136"><xref:System.Windows.Media.TextFormatting.TextFormatter> calls back to the text source to retrieve the text and formatting parameters for the runs of text that form a line.</span></span>  
  
 <span data-ttu-id="d15bd-137">W poniższym przykładzie wyświetlany jest proces formatowania magazynu tekstu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-137">In the following example, the process of formatting a text store is shown.</span></span> <span data-ttu-id="d15bd-138">Obiekt <xref:System.Windows.Media.TextFormatting.TextFormatter> służy do pobierania wierszy tekstu z magazynu tekstu, a następnie <xref:System.Windows.Media.DrawingContext>formatowania wiersza tekstu w celu wciągnania do pliku .</span><span class="sxs-lookup"><span data-stu-id="d15bd-138">The <xref:System.Windows.Media.TextFormatting.TextFormatter> object is used to retrieve text lines from the text store and then format the text line for drawing into the <xref:System.Windows.Media.DrawingContext>.</span></span>  
  
 [!code-csharp[TextFormatterExample#100](~/samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/Window1.xaml.cs#100)]
 [!code-vb[TextFormatterExample#100](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/Window1.xaml.vb#100)]  
  
<a name="section3"></a>
## <a name="implementing-the-client-text-store"></a><span data-ttu-id="d15bd-139">Implementacja magazynu tekstu klienta</span><span class="sxs-lookup"><span data-stu-id="d15bd-139">Implementing the Client Text Store</span></span>  
 <span data-ttu-id="d15bd-140">Po rozszerzeniu aparatu formatowania tekstu, należy zaimplementować i zarządzać wszystkimi aspektami magazynu tekstu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-140">When you extend the text formatting engine, you are required to implement and manage all aspects of the text store.</span></span> <span data-ttu-id="d15bd-141">Nie jest to banalne zadanie.</span><span class="sxs-lookup"><span data-stu-id="d15bd-141">This is not a trivial task.</span></span> <span data-ttu-id="d15bd-142">Magazyn tekstu jest odpowiedzialny za śledzenie właściwości uruchamiania tekstu, właściwości akapitu, obiektów osadzonych i innych podobnych treści.</span><span class="sxs-lookup"><span data-stu-id="d15bd-142">The text store is responsible for tracking text run properties, paragraph properties, embedded objects, and other similar content.</span></span> <span data-ttu-id="d15bd-143">Zapewnia również program do formatowania tekstu z poszczególnych <xref:System.Windows.Media.TextFormatting.TextRun> obiektów, które program text formater używa do tworzenia <xref:System.Windows.Media.TextFormatting.TextLine> obiektów.</span><span class="sxs-lookup"><span data-stu-id="d15bd-143">It also provides the text formatter with individual <xref:System.Windows.Media.TextFormatting.TextRun> objects which the text formatter uses to create <xref:System.Windows.Media.TextFormatting.TextLine> objects.</span></span>  
  
 <span data-ttu-id="d15bd-144">Aby obsługiwać wirtualizację magazynu tekstu, magazyn tekstu <xref:System.Windows.Media.TextFormatting.TextSource>musi pochodzić z pliku .</span><span class="sxs-lookup"><span data-stu-id="d15bd-144">To handle the virtualization of the text store, the text store must be derived from <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="d15bd-145"><xref:System.Windows.Media.TextFormatting.TextSource>definiuje metodę używana przez formater tekstu do pobierania przebiegów tekstu z magazynu tekstu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-145"><xref:System.Windows.Media.TextFormatting.TextSource> defines the method the text formatter uses to retrieve text runs from the text store.</span></span> <span data-ttu-id="d15bd-146"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A>jest metodą używaną przez formater tekstu do pobierania przebiegów tekstu używanych w formatowaniu linii.</span><span class="sxs-lookup"><span data-stu-id="d15bd-146"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is the method used by the text formatter to retrieve text runs used in line formatting.</span></span> <span data-ttu-id="d15bd-147">Wywołanie <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> jest wielokrotnie przez formater tekstu, aż wystąpi jeden z następujących warunków:</span><span class="sxs-lookup"><span data-stu-id="d15bd-147">The call to <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is repeatedly made by the text formatter until one of the following conditions occurs:</span></span>  
  
- <span data-ttu-id="d15bd-148">A <xref:System.Windows.Media.TextFormatting.TextEndOfLine> lub podklasa jest zwracana.</span><span class="sxs-lookup"><span data-stu-id="d15bd-148">A <xref:System.Windows.Media.TextFormatting.TextEndOfLine> or a subclass is returned.</span></span>  
  
- <span data-ttu-id="d15bd-149">Skumulowana szerokość przebiegów tekstu przekracza maksymalną szerokość linii określoną w wywołaniu w celu utworzenia <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> formatera tekstu lub wywołania metody formatera tekstu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-149">The accumulated width of text runs exceeds the maximum line width specified in either the call to create the text formatter or the call to the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span>  
  
- <span data-ttu-id="d15bd-150">Zwracana jest sekwencja nowego linii Unicode, taka jak "CF", "LF" lub "CRLF".</span><span class="sxs-lookup"><span data-stu-id="d15bd-150">A Unicode newline sequence, such as "CF", "LF", or "CRLF", is returned.</span></span>  
  
<a name="section4"></a>
## <a name="providing-text-runs"></a><span data-ttu-id="d15bd-151">Dostarczanie uruchomień tekstu</span><span class="sxs-lookup"><span data-stu-id="d15bd-151">Providing Text Runs</span></span>  
 <span data-ttu-id="d15bd-152">Rdzeniem procesu formatowania tekstu jest interakcja między formaterem tekstu a magazynem tekstu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-152">The core of the text formatting process is the interaction between the text formatter and the text store.</span></span> <span data-ttu-id="d15bd-153">Implementacja <xref:System.Windows.Media.TextFormatting.TextSource> udostępnia formater tekstu <xref:System.Windows.Media.TextFormatting.TextRun> z obiektów i właściwości, za pomocą których do formatowania tekstu jest uruchamiany.</span><span class="sxs-lookup"><span data-stu-id="d15bd-153">Your implementation of <xref:System.Windows.Media.TextFormatting.TextSource> provides the text formatter with the <xref:System.Windows.Media.TextFormatting.TextRun> objects and the properties with which to format the text runs.</span></span> <span data-ttu-id="d15bd-154">Ta interakcja jest <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> obsługiwana przez metodę, która jest wywoływana przez formater tekstu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-154">This interaction is handled by the <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method, which is called by the text formatter.</span></span>  
  
 <span data-ttu-id="d15bd-155">W poniższej tabeli przedstawiono <xref:System.Windows.Media.TextFormatting.TextRun> niektóre wstępnie zdefiniowane obiekty.</span><span class="sxs-lookup"><span data-stu-id="d15bd-155">The following table shows some of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects.</span></span>  
  
|<span data-ttu-id="d15bd-156">TekstRun Typ</span><span class="sxs-lookup"><span data-stu-id="d15bd-156">TextRun Type</span></span>|<span data-ttu-id="d15bd-157">Sposób użycia</span><span class="sxs-lookup"><span data-stu-id="d15bd-157">Usage</span></span>|  
|------------------|-----------|  
|<xref:System.Windows.Media.TextFormatting.TextCharacters>|<span data-ttu-id="d15bd-158">Uruchamianie tekstu specjalistycznego używane do przekazywania reprezentacji glifów znaków z powrotem do formatera tekstu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-158">The specialized text run used to pass a representation of character glyphs back to the text formatter.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEmbeddedObject>|<span data-ttu-id="d15bd-159">Wyspecjalizowany tekst uruchamiany używany do dostarczania zawartości, w której pomiar, testowanie trafień i rysowanie odbywa się w całości, na przykład przycisk lub obraz w tekście.</span><span class="sxs-lookup"><span data-stu-id="d15bd-159">The specialized text run used to provide content in which measuring, hit testing, and drawing is done in whole, such as a button or image within the text.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfLine>|<span data-ttu-id="d15bd-160">Tekst specjalny jest używany do oznaczania końca wiersza.</span><span class="sxs-lookup"><span data-stu-id="d15bd-160">The specialized text run used to mark the end of a line.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>|<span data-ttu-id="d15bd-161">Tekst specjalny jest używany do oznaczania końca akapitu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-161">The specialized text run used to mark the end of a paragraph.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfSegment>|<span data-ttu-id="d15bd-162">Uruchomione tekst wyspecjalizowany używany do oznaczania końca segmentu, na przykład <xref:System.Windows.Media.TextFormatting.TextModifier> w celu zakończenia zakresu, którego dotyczy poprzednie uruchomienie.</span><span class="sxs-lookup"><span data-stu-id="d15bd-162">The specialized text run used to mark the end of a segment, such as to end the scope affected by a previous <xref:System.Windows.Media.TextFormatting.TextModifier> run.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextHidden>|<span data-ttu-id="d15bd-163">Wyspecjalizowany tekst jest używany do oznaczania zakresu ukrytych znaków.</span><span class="sxs-lookup"><span data-stu-id="d15bd-163">The specialized text run used to mark a range of hidden characters.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextModifier>|<span data-ttu-id="d15bd-164">Uruchamianie tekstu specjalistycznego używane do modyfikowania właściwości tekstu jest uruchamiane w jego zakresie.</span><span class="sxs-lookup"><span data-stu-id="d15bd-164">The specialized text run used to modify properties of text runs in its scope.</span></span> <span data-ttu-id="d15bd-165">Zakres rozciąga się na <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> następne pasujące uruchomienie <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>tekstu lub następny .</span><span class="sxs-lookup"><span data-stu-id="d15bd-165">The scope extends to the next matching <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> text run, or the next <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>.</span></span>|  
  
 <span data-ttu-id="d15bd-166">Każdy ze wstępnie zdefiniowanych <xref:System.Windows.Media.TextFormatting.TextRun> obiektów może być podklasyfikowany.</span><span class="sxs-lookup"><span data-stu-id="d15bd-166">Any of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects can be subclassed.</span></span> <span data-ttu-id="d15bd-167">Dzięki temu źródło tekstu, aby zapewnić program do formatowania tekstu z uruchomień tekstu, które zawierają dane niestandardowe.</span><span class="sxs-lookup"><span data-stu-id="d15bd-167">This allows your text source to provide the text formatter with text runs that include custom data.</span></span>  
  
 <span data-ttu-id="d15bd-168">W poniższym przykładzie przedstawiono <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> metodę.</span><span class="sxs-lookup"><span data-stu-id="d15bd-168">The following example demonstrates a <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="d15bd-169">Ten magazyn <xref:System.Windows.Media.TextFormatting.TextRun> tekstu zwraca obiekty do formatera tekstu do przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="d15bd-169">This text store returns <xref:System.Windows.Media.TextFormatting.TextRun> objects to the text formatter for processing.</span></span>  
  
 [!code-csharp[TextFormatterExample#101](~/samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/CustomTextSource.cs#101)]
 [!code-vb[TextFormatterExample#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/CustomTextSource.vb#101)]  
  
> [!NOTE]
> <span data-ttu-id="d15bd-170">W tym przykładzie magazyn tekstu udostępnia te same właściwości tekstu do wszystkich tekstu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-170">In this example, the text store provides the same text properties to all of the text.</span></span> <span data-ttu-id="d15bd-171">Zaawansowane magazyny tekstu musiałyby zaimplementować własne zarządzanie zakresem, aby umożliwić poszczególnym znakom posiadanie różnych właściwości.</span><span class="sxs-lookup"><span data-stu-id="d15bd-171">Advanced text stores would need to implement their own span management to allow individual characters to have different properties.</span></span>  
  
<a name="section5"></a>
## <a name="specifying-formatting-properties"></a><span data-ttu-id="d15bd-172">Określanie właściwości formatowania</span><span class="sxs-lookup"><span data-stu-id="d15bd-172">Specifying Formatting Properties</span></span>  
 <span data-ttu-id="d15bd-173"><xref:System.Windows.Media.TextFormatting.TextRun>obiekty są formatowane przy użyciu właściwości dostarczonych przez magazyn tekstu.</span><span class="sxs-lookup"><span data-stu-id="d15bd-173"><xref:System.Windows.Media.TextFormatting.TextRun> objects are formatted by using properties provided by the text store.</span></span> <span data-ttu-id="d15bd-174">Właściwości te są dostępne <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> w <xref:System.Windows.Media.TextFormatting.TextRunProperties>dwóch typach i .</span><span class="sxs-lookup"><span data-stu-id="d15bd-174">These properties come in two types, <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span></span> <span data-ttu-id="d15bd-175"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties>obsługa właściwości akapitu <xref:System.Windows.TextAlignment> <xref:System.Windows.FlowDirection>włącznie, takich jak i .</span><span class="sxs-lookup"><span data-stu-id="d15bd-175"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties> handle paragraph inclusive properties such as <xref:System.Windows.TextAlignment> and <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="d15bd-176"><xref:System.Windows.Media.TextFormatting.TextRunProperties>to właściwości, które mogą być różne dla każdego tekstu uruchamianego <xref:System.Windows.Media.Typeface>w akapicie, takie jak pędzel pierwszego planu i rozmiar czcionki.</span><span class="sxs-lookup"><span data-stu-id="d15bd-176"><xref:System.Windows.Media.TextFormatting.TextRunProperties> are properties that can be different for each text run within a paragraph, such as foreground brush, <xref:System.Windows.Media.Typeface>, and font size.</span></span> <span data-ttu-id="d15bd-177">Aby zaimplementować niestandardowe typy właściwości uruchamiania akapitu i tekstu niestandardowego, aplikacja musi utworzyć klasy, które pochodzą z <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> i <xref:System.Windows.Media.TextFormatting.TextRunProperties> odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="d15bd-177">To implement custom paragraph and custom text run property types, your application must create classes that derive from <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties> respectively.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d15bd-178">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="d15bd-178">See also</span></span>

- [<span data-ttu-id="d15bd-179">Typografia w WPF</span><span class="sxs-lookup"><span data-stu-id="d15bd-179">Typography in WPF</span></span>](typography-in-wpf.md)
- [<span data-ttu-id="d15bd-180">Dokumenty w WPF</span><span class="sxs-lookup"><span data-stu-id="d15bd-180">Documents in WPF</span></span>](documents-in-wpf.md)
