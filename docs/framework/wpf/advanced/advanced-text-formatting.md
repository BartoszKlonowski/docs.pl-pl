---
title: Zaawansowane formatowanie tekstu
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-wpf
ms.tgt_pltfrm: ''
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- formatting [WPF]
- text [WPF]
- typography [WPF], text formatting
ms.assetid: f0a7986e-f5b2-485c-a27d-f8e922022212
caps.latest.revision: 16
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: 15b5d74c7607c59f7a4b568774e3d870138e56a4
ms.sourcegitcommit: 94d33cadc5ff81d2ac389bf5f26422c227832052
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/30/2018
---
# <a name="advanced-text-formatting"></a><span data-ttu-id="8a0d3-102">Zaawansowane formatowanie tekstu</span><span class="sxs-lookup"><span data-stu-id="8a0d3-102">Advanced Text Formatting</span></span>
<span data-ttu-id="8a0d3-103">Windows Presentation Foundation (WPF) zawiera rozbudowany zestaw [!INCLUDE[TLA#tla_api#plural](../../../../includes/tlasharptla-apisharpplural-md.md)] dla łącznie z tekstem w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-103">The Windows Presentation Foundation (WPF) provides a robust set of [!INCLUDE[TLA#tla_api#plural](../../../../includes/tlasharptla-apisharpplural-md.md)] for including text in your application.</span></span> <span data-ttu-id="8a0d3-104">Układ i [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], takich jak <xref:System.Windows.Controls.TextBlock>, podaj najbardziej typowe i ogólne użycie elementy prezentacji tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-104">Layout and [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)][!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], such as <xref:System.Windows.Controls.TextBlock>, provide the most common and general use elements for text presentation.</span></span> <span data-ttu-id="8a0d3-105">Rysowanie [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], takich jak <xref:System.Windows.Media.GlyphRunDrawing> i <xref:System.Windows.Media.FormattedText>, pozwalają na tym tekst sformatowany na rysunkach.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-105">Drawing [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], such as <xref:System.Windows.Media.GlyphRunDrawing> and <xref:System.Windows.Media.FormattedText>, provide a means for including formatted text in drawings.</span></span> <span data-ttu-id="8a0d3-106">Najbardziej zaawansowane poziom [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] oferuje rozszerzalny aparat do sterowania wszystkie aspekty prezentacji tekstu, takich jak zarządzanie magazynem tekstu, zarządzania formatowania tekstu, uruchom i zarządzania osadzonego obiektu formatowania tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-106">At the most advanced level, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provides an extensible text formatting engine to control every aspect of text presentation, such as text store management, text run formatting management, and embedded object management.</span></span>  
  
 <span data-ttu-id="8a0d3-107">Ten temat zawiera wprowadzenie do [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] formatowania tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-107">This topic provides an introduction to [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting.</span></span> <span data-ttu-id="8a0d3-108">Dotyczy on implementacja klienta i korzystania z [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] aparat formatowania tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-108">It focuses on client implementation and use of the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting engine.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8a0d3-109">Wszystkie przykłady kodu, w tym dokumencie znajdują się w [zaawansowane próbki formatowania tekstu](http://go.microsoft.com/fwlink/?LinkID=159965).</span><span class="sxs-lookup"><span data-stu-id="8a0d3-109">All code examples within this document can be found in the [Advanced Text Formatting Sample](http://go.microsoft.com/fwlink/?LinkID=159965).</span></span>  
  

  
<a name="prereq"></a>   
## <a name="prerequisites"></a><span data-ttu-id="8a0d3-110">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="8a0d3-110">Prerequisites</span></span>  
 <span data-ttu-id="8a0d3-111">W tym temacie założono, że czytelnik zna wyższego poziomu [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] użyte do prezentowania tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-111">This topic assumes that you are familiar with the higher level [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] used for text presentation.</span></span> <span data-ttu-id="8a0d3-112">Większość scenariuszy użytkownika nie będzie wymagać formatowania tekstu zaawansowane [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] omówione w tym temacie.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-112">Most user scenarios will not require the advanced text formatting [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] discussed in this topic.</span></span> <span data-ttu-id="8a0d3-113">Aby obejrzeć wprowadzenie do różnych tekst [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], zobacz [dokumentów na platformie WPF](../../../../docs/framework/wpf/advanced/documents-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="8a0d3-113">For an introduction to the different text [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], see [Documents in WPF](../../../../docs/framework/wpf/advanced/documents-in-wpf.md).</span></span>  
  
<a name="section1"></a>   
## <a name="advanced-text-formatting"></a><span data-ttu-id="8a0d3-114">Zaawansowane formatowanie tekstu</span><span class="sxs-lookup"><span data-stu-id="8a0d3-114">Advanced Text Formatting</span></span>  
 <span data-ttu-id="8a0d3-115">Układu tekstu i [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] formantów w [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] Podaj właściwości formatowania, które umożliwiają łatwe dołączanie tekst sformatowany w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-115">The text layout and [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] controls in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provide formatting properties that allow you to easily include formatted text in your application.</span></span> <span data-ttu-id="8a0d3-116">Tych kontrolek ujawnia szereg właściwości do obsługi prezentacji tekst, który zawiera jego krój czcionki, rozmiaru i koloru.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-116">These controls expose a number of properties to handle the presentation of text, which includes its typeface, size, and color.</span></span> <span data-ttu-id="8a0d3-117">W normalnych okolicznościach tych kontrolek można obsługiwać Większość prezentacji tekstu w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-117">Under ordinary circumstances, these controls can handle the majority of text presentation in your application.</span></span> <span data-ttu-id="8a0d3-118">Jednak niektóre zaawansowane scenariusze wymagają kontroli przechowywanie tekstu, a także tekst prezentacji.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-118">However, some advanced scenarios require the control of text storage as well as text presentation.</span></span> [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]<span data-ttu-id="8a0d3-119"> oferuje rozszerzalny aparat do tego celu formatowania tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-119"> provides an extensible text formatting engine for this purpose.</span></span>  
  
 <span data-ttu-id="8a0d3-120">Znaleziono tekst zaawansowane funkcje formatowania w [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] składają się z tekstu formatowanie aparatu magazynu tekstu, uruchomienia tekstu i formatowanie właściwości.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-120">The advanced text formatting features found in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] consist of a text formatting engine, a text store, text runs, and formatting properties.</span></span> <span data-ttu-id="8a0d3-121">Aparat, formatowania tekstu <xref:System.Windows.Media.TextFormatting.TextFormatter>, tworzy wierszy tekstu używanego do prezentacji.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-121">The text formatting engine, <xref:System.Windows.Media.TextFormatting.TextFormatter>, creates lines of text to be used for presentation.</span></span> <span data-ttu-id="8a0d3-122">Jest to osiągane przez inicjowanie proces formatowania wiersza i wywoływania elementu formatującego tekstu <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-122">This is achieved by initiating the line formatting process and calling the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span></span> <span data-ttu-id="8a0d3-123">Program formatujący tekst pobiera uruchomienia tekstu z magazynu tekstu przez wywołanie metody sklepu <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-123">The text formatter retrieves text runs from your text store by calling the store's <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="8a0d3-124"><xref:System.Windows.Media.TextFormatting.TextRun> Obiekty są następnie utworzone w <xref:System.Windows.Media.TextFormatting.TextLine> obiektów przez program formatujący tekstu i kontroli lub wyświetlania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-124">The <xref:System.Windows.Media.TextFormatting.TextRun> objects are then formed into <xref:System.Windows.Media.TextFormatting.TextLine> objects by the text formatter and given to your application for inspection or display.</span></span>  
  
<a name="section2"></a>   
## <a name="using-the-text-formatter"></a><span data-ttu-id="8a0d3-125">Przy użyciu elementu formatującego tekstu</span><span class="sxs-lookup"><span data-stu-id="8a0d3-125">Using the Text Formatter</span></span>  
 <span data-ttu-id="8a0d3-126"><xref:System.Windows.Media.TextFormatting.TextFormatter> jest [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] formatowania tekstu aparat i udostępnia usługi dotyczące formatowania i dzielenia wierszy tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-126"><xref:System.Windows.Media.TextFormatting.TextFormatter> is the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting engine and provides services for formatting and breaking text lines.</span></span> <span data-ttu-id="8a0d3-127">Program formatujący tekst może obsłużyć w różnych formatach znaków i akapitu style i obsługuje układu tekstu międzynarodowe.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-127">The text formatter can handle different text character formats and paragraph styles, and includes support for international text layout.</span></span>  
  
 <span data-ttu-id="8a0d3-128">W przeciwieństwie do tradycyjnych tekst [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)], <xref:System.Windows.Media.TextFormatting.TextFormatter> wchodzi w interakcję z klientem układu tekstu za pomocą zestawu metod wywołania zwrotnego.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-128">Unlike a traditional text [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)], the <xref:System.Windows.Media.TextFormatting.TextFormatter> interacts with a text layout client through a set of callback methods.</span></span> <span data-ttu-id="8a0d3-129">Wymaga od klienta zapewnienia tych metod w celu wykonania <xref:System.Windows.Media.TextFormatting.TextSource> klasy.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-129">It requires the client to provide these methods in an implementation of the <xref:System.Windows.Media.TextFormatting.TextSource> class.</span></span> <span data-ttu-id="8a0d3-130">Na poniższym diagramie przedstawiono układu tekstu współdziałanie aplikacji klienckiej i <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-130">The following diagram illustrates the text layout interaction between the client application and <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span></span>  
  
 <span data-ttu-id="8a0d3-131">![Diagram klienta układu tekstu i obiekt TextFormatter](../../../../docs/framework/wpf/advanced/media/textformatter01.png "TextFormatter01")</span><span class="sxs-lookup"><span data-stu-id="8a0d3-131">![Diagram of text layout client and TextFormatter](../../../../docs/framework/wpf/advanced/media/textformatter01.png "TextFormatter01")</span></span>  
<span data-ttu-id="8a0d3-132">Interakcja między aplikacją a obiekt TextFormatter</span><span class="sxs-lookup"><span data-stu-id="8a0d3-132">Interaction between application and TextFormatter</span></span>  
  
 <span data-ttu-id="8a0d3-133">Program formatujący tekstu służy do pobierania wierszy tekstu sformatowanego w sklepie tekst, który jest implementacją <xref:System.Windows.Media.TextFormatting.TextSource>.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-133">The text formatter is used to retrieve formatted text lines from the text store, which is an implementation of <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="8a0d3-134">Jest to realizowane przez utworzenie wystąpienia programu formatującego tekstu przy użyciu <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-134">This is done by first creating an instance of the text formatter by using the <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> method.</span></span> <span data-ttu-id="8a0d3-135">Ta metoda tworzy wystąpienie elementu formatującego tekstu i ustawia maksymalną wiersza wartości szerokości i wysokości.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-135">This method creates an instance of the text formatter and sets the maximum line height and width values.</span></span> <span data-ttu-id="8a0d3-136">Natychmiast po utworzeniu wystąpienia programu formatującego tekst procesu tworzenia wiersza jest uruchamiana przez wywołanie <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-136">As soon as an instance of the text formatter is created, the line creation process is started by calling the <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span> <span data-ttu-id="8a0d3-137"><xref:System.Windows.Media.TextFormatting.TextFormatter> wywołuje w źródle tekstu do pobierania tekstu i formatowania parametry serii tekstu formularza wiersza.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-137"><xref:System.Windows.Media.TextFormatting.TextFormatter> calls back to the text source to retrieve the text and formatting parameters for the runs of text that form a line.</span></span>  
  
 <span data-ttu-id="8a0d3-138">W poniższym przykładzie przedstawiono proces formatowania magazynu tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-138">In the following example, the process of formatting a text store is shown.</span></span> <span data-ttu-id="8a0d3-139"><xref:System.Windows.Media.TextFormatting.TextFormatter> Obiekt jest używany do pobierania wierszy tekstu w sklepie tekstu, a następnie sformatować wiersza tekstu do rysowania do <xref:System.Windows.Media.DrawingContext>.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-139">The <xref:System.Windows.Media.TextFormatting.TextFormatter> object is used to retrieve text lines from the text store and then format the text line for drawing into the <xref:System.Windows.Media.DrawingContext>.</span></span>  
  
 [!code-csharp[TextFormatterExample#100](../../../../samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/Window1.xaml.cs#100)]
 [!code-vb[TextFormatterExample#100](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/Window1.xaml.vb#100)]  
  
<a name="section3"></a>   
## <a name="implementing-the-client-text-store"></a><span data-ttu-id="8a0d3-140">Implementacja magazynu tekst klienta</span><span class="sxs-lookup"><span data-stu-id="8a0d3-140">Implementing the Client Text Store</span></span>  
 <span data-ttu-id="8a0d3-141">Rozszerzając aparat formatowania tekstu, są wymagane do wdrożenia i zarządzać wszystkimi aspektami magazynu tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-141">When you extend the text formatting engine, you are required to implement and manage all aspects of the text store.</span></span> <span data-ttu-id="8a0d3-142">To nie jest prosta zadań.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-142">This is not a trivial task.</span></span> <span data-ttu-id="8a0d3-143">Magazyn tekst jest odpowiedzialny za śledzenie tekstu Uruchom właściwości, właściwości osadzonych obiektów i inne podobne zawartości.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-143">The text store is responsible for tracking text run properties, paragraph properties, embedded objects, and other similar content.</span></span> <span data-ttu-id="8a0d3-144">Zapewnia także program formatujący tekstu z poszczególnymi <xref:System.Windows.Media.TextFormatting.TextRun> obiektów, które używa programu formatującego tekst w celu utworzenia <xref:System.Windows.Media.TextFormatting.TextLine> obiektów.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-144">It also provides the text formatter with individual <xref:System.Windows.Media.TextFormatting.TextRun> objects which the text formatter uses to create <xref:System.Windows.Media.TextFormatting.TextLine> objects.</span></span>  
  
 <span data-ttu-id="8a0d3-145">Do obsługi wirtualizacji magazynu tekstu, magazynie tekst musi pochodzić z <xref:System.Windows.Media.TextFormatting.TextSource>.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-145">To handle the virtualization of the text store, the text store must be derived from <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="8a0d3-146"><xref:System.Windows.Media.TextFormatting.TextSource> definiuje metodę, którą program formatujący tekst używa do pobrania uruchomienia tekstu w sklepie tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-146"><xref:System.Windows.Media.TextFormatting.TextSource> defines the method the text formatter uses to retrieve text runs from the text store.</span></span> <span data-ttu-id="8a0d3-147"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> jest używany w formatowaniu wiersza uruchamia metodę używaną przez program formatujący tekstu do pobierania tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-147"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is the method used by the text formatter to retrieve text runs used in line formatting.</span></span> <span data-ttu-id="8a0d3-148">Wywołanie <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> wielokrotnie zostało utworzone przez program formatujący tekstu, dopóki nie wystąpi jedno z następujących warunków:</span><span class="sxs-lookup"><span data-stu-id="8a0d3-148">The call to <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is repeatedly made by the text formatter until one of the following conditions occurs:</span></span>  
  
-   <span data-ttu-id="8a0d3-149">A <xref:System.Windows.Media.TextFormatting.TextEndOfLine> lub zwracany jest podklasą klasy.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-149">A <xref:System.Windows.Media.TextFormatting.TextEndOfLine> or a subclass is returned.</span></span>  
  
-   <span data-ttu-id="8a0d3-150">Skumulowany szerokość uruchomienia tekstu przekracza szerokość linii maksymalny określony w albo wywołanie w celu utworzenia programu formatującego tekstu lub wywołanie elementu formatującego tekst <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-150">The accumulated width of text runs exceeds the maximum line width specified in either the call to create the text formatter or the call to the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span>  
  
-   <span data-ttu-id="8a0d3-151">A [!INCLUDE[TLA#tla_unicode](../../../../includes/tlasharptla-unicode-md.md)] sekwencji znaków nowego wiersza, takie jak "CF", "LF" lub "CRLF", jest zwracana.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-151">A [!INCLUDE[TLA#tla_unicode](../../../../includes/tlasharptla-unicode-md.md)] newline sequence, such as "CF", "LF", or "CRLF", is returned.</span></span>  
  
<a name="section4"></a>   
## <a name="providing-text-runs"></a><span data-ttu-id="8a0d3-152">Zapewnianie uruchomienia tekstu</span><span class="sxs-lookup"><span data-stu-id="8a0d3-152">Providing Text Runs</span></span>  
 <span data-ttu-id="8a0d3-153">Podstawowy proces formatowania tekstu jest interakcji między program formatujący tekstu, a także przechowywać tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-153">The core of the text formatting process is the interaction between the text formatter and the text store.</span></span> <span data-ttu-id="8a0d3-154">Implementacji <xref:System.Windows.Media.TextFormatting.TextSource> zawiera element formatujący tekst <xref:System.Windows.Media.TextFormatting.TextRun> obiektów i właściwości, z którymi do formatowania tekstu jest uruchamiana.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-154">Your implementation of <xref:System.Windows.Media.TextFormatting.TextSource> provides the text formatter with the <xref:System.Windows.Media.TextFormatting.TextRun> objects and the properties with which to format the text runs.</span></span> <span data-ttu-id="8a0d3-155">Ta interakcja jest obsługiwany przez <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> metodę, która jest wywoływana przez element formatujący tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-155">This interaction is handled by the <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method, which is called by the text formatter.</span></span>  
  
 <span data-ttu-id="8a0d3-156">W poniższej tabeli przedstawiono niektóre z wstępnie zdefiniowane <xref:System.Windows.Media.TextFormatting.TextRun> obiektów.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-156">The following table shows some of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects.</span></span>  
  
|<span data-ttu-id="8a0d3-157">Typ TextRun</span><span class="sxs-lookup"><span data-stu-id="8a0d3-157">TextRun Type</span></span>|<span data-ttu-id="8a0d3-158">Użycie</span><span class="sxs-lookup"><span data-stu-id="8a0d3-158">Usage</span></span>|  
|------------------|-----------|  
|<xref:System.Windows.Media.TextFormatting.TextCharacters>|<span data-ttu-id="8a0d3-159">Tekst specjalne Uruchom używany do przekazania reprezentację symboli znak program formatujący tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-159">The specialized text run used to pass a representation of character glyphs back to the text formatter.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEmbeddedObject>|<span data-ttu-id="8a0d3-160">Umożliwia dostarczanie zawartości, w których pomiaru, testowanie trafień Uruchom specjalne tekstu i rysunku odbywa się w całości, takich jak przycisk lub obrazu w tekście.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-160">The specialized text run used to provide content in which measuring, hit testing, and drawing is done in whole, such as a button or image within the text.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfLine>|<span data-ttu-id="8a0d3-161">Tekst specjalne Uruchom używane w celu oznaczenia zakończenia linii.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-161">The specialized text run used to mark the end of a line.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>|<span data-ttu-id="8a0d3-162">Tekst specjalne Uruchom używane w celu oznaczenia zakończenia akapitu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-162">The specialized text run used to mark the end of a paragraph.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfSegment>|<span data-ttu-id="8a0d3-163">Tekst specjalne, uruchom używany do oznaczenia zakończenia segmentu, takich jak do końca zakresu wpływ poprzedniej <xref:System.Windows.Media.TextFormatting.TextModifier> Uruchom.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-163">The specialized text run used to mark the end of a segment, such as to end the scope affected by a previous <xref:System.Windows.Media.TextFormatting.TextModifier> run.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextHidden>|<span data-ttu-id="8a0d3-164">Tekst specjalne Uruchom używany do oznaczania zakres znaków ukryte.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-164">The specialized text run used to mark a range of hidden characters.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextModifier>|<span data-ttu-id="8a0d3-165">Uruchamia specjalne tekst Uruchom używane do modyfikowania właściwości tekstu w swoim zakresie.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-165">The specialized text run used to modify properties of text runs in its scope.</span></span> <span data-ttu-id="8a0d3-166">Zakres obejmuje dalej dopasowywania <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> tekst Uruchom lub następnych <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-166">The scope extends to the next matching <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> text run, or the next <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>.</span></span>|  
  
 <span data-ttu-id="8a0d3-167">Dowolnych predefiniowanych <xref:System.Windows.Media.TextFormatting.TextRun> może być podklasą klasy obiektów.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-167">Any of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects can be subclassed.</span></span> <span data-ttu-id="8a0d3-168">Dzięki temu źródła Tekst zapewnienie uruchamia program formatujący tekstu z tekstem obejmujących danych niestandardowych.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-168">This allows your text source to provide the text formatter with text runs that include custom data.</span></span>  
  
 <span data-ttu-id="8a0d3-169">W poniższym przykładzie pokazano <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-169">The following example demonstrates a <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="8a0d3-170">Magazyn ten tekst zwraca <xref:System.Windows.Media.TextFormatting.TextRun> obiektów do tekstu elementu formatującego do przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-170">This text store returns <xref:System.Windows.Media.TextFormatting.TextRun> objects to the text formatter for processing.</span></span>  
  
 [!code-csharp[TextFormatterExample#101](../../../../samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/CustomTextSource.cs#101)]
 [!code-vb[TextFormatterExample#101](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/CustomTextSource.vb#101)]  
  
> [!NOTE]
>  <span data-ttu-id="8a0d3-171">W tym przykładzie store tekstu zapewnia te same właściwości tekstu, aby cały tekst.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-171">In this example, the text store provides the same text properties to all of the text.</span></span> <span data-ttu-id="8a0d3-172">Zaawansowane tekst, który magazynów należy zaimplementować własnych span zarządzania, aby zezwalać na znaki poszczególnych ma inne właściwości.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-172">Advanced text stores would need to implement their own span management to allow individual characters to have different properties.</span></span>  
  
<a name="section5"></a>   
## <a name="specifying-formatting-properties"></a><span data-ttu-id="8a0d3-173">Określanie właściwości formatowania</span><span class="sxs-lookup"><span data-stu-id="8a0d3-173">Specifying Formatting Properties</span></span>  
 <span data-ttu-id="8a0d3-174"><xref:System.Windows.Media.TextFormatting.TextRun> obiekty są sformatowane przy użyciu właściwości udostępniane przez sklep tekstu.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-174"><xref:System.Windows.Media.TextFormatting.TextRun> objects are formatted by using properties provided by the text store.</span></span> <span data-ttu-id="8a0d3-175">Te właściwości są dostępne w dwóch typów <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> i <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-175">These properties come in two types, <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span></span> <span data-ttu-id="8a0d3-176"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties> takie jak obsługa właściwości włącznie <xref:System.Windows.TextAlignment> i <xref:System.Windows.FlowDirection>.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-176"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties> handle paragraph inclusive properties such as <xref:System.Windows.TextAlignment> and <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="8a0d3-177"><xref:System.Windows.Media.TextFormatting.TextRunProperties> nie ma właściwości, które mogą być różne dla każdego tekstu Uruchom akapitu, takie jak pędzla pierwszego planu <xref:System.Windows.Media.Typeface>i rozmiar czcionki.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-177"><xref:System.Windows.Media.TextFormatting.TextRunProperties> are properties that can be different for each text run within a paragraph, such as foreground brush, <xref:System.Windows.Media.Typeface>, and font size.</span></span> <span data-ttu-id="8a0d3-178">Wdrażanie niestandardowych akapitu i tekstu niestandardowego Uruchom typy właściwości, aplikacji, należy utworzyć klasy, które pochodzą z <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> i <xref:System.Windows.Media.TextFormatting.TextRunProperties> odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="8a0d3-178">To implement custom paragraph and custom text run property types, your application must create classes that derive from <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties> respectively.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8a0d3-179">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="8a0d3-179">See Also</span></span>  
 [<span data-ttu-id="8a0d3-180">Typografia w WPF</span><span class="sxs-lookup"><span data-stu-id="8a0d3-180">Typography in WPF</span></span>](../../../../docs/framework/wpf/advanced/typography-in-wpf.md)  
 [<span data-ttu-id="8a0d3-181">Dokumenty w WPF</span><span class="sxs-lookup"><span data-stu-id="8a0d3-181">Documents in WPF</span></span>](../../../../docs/framework/wpf/advanced/documents-in-wpf.md)
