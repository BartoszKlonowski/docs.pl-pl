---
title: Zaawansowane formatowanie tekstu
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- formatting [WPF]
- text [WPF]
- typography [WPF], text formatting
ms.assetid: f0a7986e-f5b2-485c-a27d-f8e922022212
ms.openlocfilehash: 469c62691ff38a8c5a01bec3ddfd7b324bab7eca
ms.sourcegitcommit: 68653db98c5ea7744fd438710248935f70020dfb
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/22/2019
ms.locfileid: "69969067"
---
# <a name="advanced-text-formatting"></a><span data-ttu-id="ed3ba-102">Zaawansowane formatowanie tekstu</span><span class="sxs-lookup"><span data-stu-id="ed3ba-102">Advanced Text Formatting</span></span>
<span data-ttu-id="ed3ba-103">Windows Presentation Foundation (WPF) oferuje niezawodny zestaw interfejsów API do dołączania tekstu w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-103">The Windows Presentation Foundation (WPF) provides a robust set of APIs for including text in your application.</span></span> <span data-ttu-id="ed3ba-104">Układ i [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]interfejsy API, takie <xref:System.Windows.Controls.TextBlock>jak, zapewniają najpopularniejsze i ogólne elementy używane do prezentacji tekstowej.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-104">Layout and [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]APIs, such as <xref:System.Windows.Controls.TextBlock>, provide the most common and general use elements for text presentation.</span></span> <span data-ttu-id="ed3ba-105">Rysowanie interfejsów API, takich <xref:System.Windows.Media.GlyphRunDrawing> jak <xref:System.Windows.Media.FormattedText>i, zapewnia metodę dołączenia tekstu sformatowanego na rysunku.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-105">Drawing APIs, such as <xref:System.Windows.Media.GlyphRunDrawing> and <xref:System.Windows.Media.FormattedText>, provide a means for including formatted text in drawings.</span></span> <span data-ttu-id="ed3ba-106">Na najbardziej zaawansowanym poziomie program [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] zapewnia rozszerzalny aparat formatowania tekstu do sterowania każdym aspektem prezentacji tekstowej, taki jak zarządzanie magazynem tekstu, zarządzanie formatowaniem tekstu i zarządzanie obiektami osadzonymi.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-106">At the most advanced level, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provides an extensible text formatting engine to control every aspect of text presentation, such as text store management, text run formatting management, and embedded object management.</span></span>  
  
 <span data-ttu-id="ed3ba-107">Ten temat zawiera wprowadzenie do [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] formatowania tekstu.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-107">This topic provides an introduction to [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting.</span></span> <span data-ttu-id="ed3ba-108">Koncentruje się na implementacji klienta i korzystaniu [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] z aparatu formatowania tekstu.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-108">It focuses on client implementation and use of the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting engine.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="ed3ba-109">Wszystkie przykłady kodu w tym dokumencie można znaleźć w przykładowym [formacie tekstu zaawansowanego](https://go.microsoft.com/fwlink/?LinkID=159965).</span><span class="sxs-lookup"><span data-stu-id="ed3ba-109">All code examples within this document can be found in the [Advanced Text Formatting Sample](https://go.microsoft.com/fwlink/?LinkID=159965).</span></span>  

<a name="prereq"></a>   
## <a name="prerequisites"></a><span data-ttu-id="ed3ba-110">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="ed3ba-110">Prerequisites</span></span>  
 <span data-ttu-id="ed3ba-111">W tym temacie założono, że znasz interfejsy API wyższego poziomu używane do prezentacji tekstowej.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-111">This topic assumes that you are familiar with the higher level APIs used for text presentation.</span></span> <span data-ttu-id="ed3ba-112">Większość scenariuszy użytkownika nie wymaga zaawansowanych interfejsów API formatowania tekstu opisanych w tym temacie.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-112">Most user scenarios will not require the advanced text formatting APIs discussed in this topic.</span></span> <span data-ttu-id="ed3ba-113">Aby zapoznać się z wprowadzeniem do różnych interfejsów API tekstu, zobacz [dokumenty w WPF](documents-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="ed3ba-113">For an introduction to the different text APIs, see [Documents in WPF](documents-in-wpf.md).</span></span>  
  
<a name="section1"></a>   
## <a name="advanced-text-formatting"></a><span data-ttu-id="ed3ba-114">Zaawansowane formatowanie tekstu</span><span class="sxs-lookup"><span data-stu-id="ed3ba-114">Advanced Text Formatting</span></span>  
 <span data-ttu-id="ed3ba-115">Układ tekstu i [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] kontrolki w [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] programie udostępniają właściwości formatowania, które umożliwiają łatwe dołączanie sformatowanego tekstu do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-115">The text layout and [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] controls in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provide formatting properties that allow you to easily include formatted text in your application.</span></span> <span data-ttu-id="ed3ba-116">Te kontrolki uwidaczniają wiele właściwości, które obsługują prezentację tekstu, w tym jej krój, rozmiar i kolor.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-116">These controls expose a number of properties to handle the presentation of text, which includes its typeface, size, and color.</span></span> <span data-ttu-id="ed3ba-117">W normalnych warunkach te kontrolki mogą obsługiwać większość prezentacji tekstowej w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-117">Under ordinary circumstances, these controls can handle the majority of text presentation in your application.</span></span> <span data-ttu-id="ed3ba-118">Jednak niektóre zaawansowane scenariusze wymagają kontroli nad przechowywaniem tekstu oraz prezentacji tekstowej.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-118">However, some advanced scenarios require the control of text storage as well as text presentation.</span></span> [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]<span data-ttu-id="ed3ba-119">zapewnia do tego celu aparat Extensible formating Text.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-119">provides an extensible text formatting engine for this purpose.</span></span>  
  
 <span data-ttu-id="ed3ba-120">Zaawansowane funkcje formatowania tekstu, które są [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] dostępne w programie, składają się z aparatu formatowania tekstu, magazynu tekstowego, tekstu i właściwości formatowania.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-120">The advanced text formatting features found in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] consist of a text formatting engine, a text store, text runs, and formatting properties.</span></span> <span data-ttu-id="ed3ba-121">Aparat formatowania tekstu, <xref:System.Windows.Media.TextFormatting.TextFormatter>tworzy wiersze tekstu, które mają być używane na potrzeby prezentacji.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-121">The text formatting engine, <xref:System.Windows.Media.TextFormatting.TextFormatter>, creates lines of text to be used for presentation.</span></span> <span data-ttu-id="ed3ba-122">Jest to osiągane przez zainicjowanie procesu formatowania wiersza i wywołanie programu formatującego <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>tekstu.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-122">This is achieved by initiating the line formatting process and calling the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span></span> <span data-ttu-id="ed3ba-123">Program formatujący tekst pobiera przebiegi tekstowe z magazynu tekstu przez wywołanie <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> metody magazynu.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-123">The text formatter retrieves text runs from your text store by calling the store's <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="ed3ba-124">Obiekty są następnie tworzone do <xref:System.Windows.Media.TextFormatting.TextLine> obiektów przez program formatujący tekst i nadawane aplikacji do inspekcji lub wyświetlania. <xref:System.Windows.Media.TextFormatting.TextRun></span><span class="sxs-lookup"><span data-stu-id="ed3ba-124">The <xref:System.Windows.Media.TextFormatting.TextRun> objects are then formed into <xref:System.Windows.Media.TextFormatting.TextLine> objects by the text formatter and given to your application for inspection or display.</span></span>  
  
<a name="section2"></a>   
## <a name="using-the-text-formatter"></a><span data-ttu-id="ed3ba-125">Korzystanie z programu formatującego tekstu</span><span class="sxs-lookup"><span data-stu-id="ed3ba-125">Using the Text Formatter</span></span>  
 <span data-ttu-id="ed3ba-126"><xref:System.Windows.Media.TextFormatting.TextFormatter>jest aparatem formatowania tekstu i udostępnia usługi do formatowania i przerywania wierszy tekstu. [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]</span><span class="sxs-lookup"><span data-stu-id="ed3ba-126"><xref:System.Windows.Media.TextFormatting.TextFormatter> is the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting engine and provides services for formatting and breaking text lines.</span></span> <span data-ttu-id="ed3ba-127">Program formatujący tekst może obsługiwać różne formaty znaków tekstu i style akapitów, a także obsługuje międzynarodowy układ tekstu.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-127">The text formatter can handle different text character formats and paragraph styles, and includes support for international text layout.</span></span>  
  
 <span data-ttu-id="ed3ba-128">W <xref:System.Windows.Media.TextFormatting.TextFormatter> przeciwieństwie do tradycyjnego interfejsu API tekstu, współdziała z klientem układu tekstu za pomocą zestawu metod wywołania zwrotnego.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-128">Unlike a traditional text API, the <xref:System.Windows.Media.TextFormatting.TextFormatter> interacts with a text layout client through a set of callback methods.</span></span> <span data-ttu-id="ed3ba-129">Wymaga, aby klient dostarczał te metody w implementacji <xref:System.Windows.Media.TextFormatting.TextSource> klasy.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-129">It requires the client to provide these methods in an implementation of the <xref:System.Windows.Media.TextFormatting.TextSource> class.</span></span> <span data-ttu-id="ed3ba-130">Na poniższym diagramie przedstawiono interakcje układu tekstu między aplikacją kliencką i <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-130">The following diagram illustrates the text layout interaction between the client application and <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span></span>  
  
 ![Diagram klienta układu tekstu i elementu textformatującego](./media/advanced-text-formatting/text-layout-textformatter-interaction.png)  
  
 <span data-ttu-id="ed3ba-132">Program formatujący tekst jest używany do pobierania wierszy tekstu sformatowanego z magazynu tekstu, który jest implementacją <xref:System.Windows.Media.TextFormatting.TextSource>programu.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-132">The text formatter is used to retrieve formatted text lines from the text store, which is an implementation of <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="ed3ba-133">W tym celu należy najpierw utworzyć wystąpienie programu formatującego tekstu przy użyciu <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-133">This is done by first creating an instance of the text formatter by using the <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> method.</span></span> <span data-ttu-id="ed3ba-134">Ta metoda tworzy wystąpienie programu formatującego tekst i ustawia maksymalną wysokość i szerokość wiersza.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-134">This method creates an instance of the text formatter and sets the maximum line height and width values.</span></span> <span data-ttu-id="ed3ba-135">Zaraz po utworzeniu wystąpienia programu formatującego tekstu proces tworzenia linii jest uruchamiany przez wywołanie <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-135">As soon as an instance of the text formatter is created, the line creation process is started by calling the <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span> <span data-ttu-id="ed3ba-136"><xref:System.Windows.Media.TextFormatting.TextFormatter>wywołuje z powrotem do źródła tekstu, aby pobrać parametry tekstu i formatowania dla przebiegów tekstu tworzących wiersz.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-136"><xref:System.Windows.Media.TextFormatting.TextFormatter> calls back to the text source to retrieve the text and formatting parameters for the runs of text that form a line.</span></span>  
  
 <span data-ttu-id="ed3ba-137">W poniższym przykładzie jest wyświetlany proces formatowania magazynu tekstu.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-137">In the following example, the process of formatting a text store is shown.</span></span> <span data-ttu-id="ed3ba-138">Obiekt jest używany do pobierania wierszy tekstu z magazynu tekstowego, a następnie formatowania wiersza tekstu do rysowania <xref:System.Windows.Media.DrawingContext>w. <xref:System.Windows.Media.TextFormatting.TextFormatter></span><span class="sxs-lookup"><span data-stu-id="ed3ba-138">The <xref:System.Windows.Media.TextFormatting.TextFormatter> object is used to retrieve text lines from the text store and then format the text line for drawing into the <xref:System.Windows.Media.DrawingContext>.</span></span>  
  
 [!code-csharp[TextFormatterExample#100](~/samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/Window1.xaml.cs#100)]
 [!code-vb[TextFormatterExample#100](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/Window1.xaml.vb#100)]  
  
<a name="section3"></a>   
## <a name="implementing-the-client-text-store"></a><span data-ttu-id="ed3ba-139">Implementowanie magazynu tekstowego klienta</span><span class="sxs-lookup"><span data-stu-id="ed3ba-139">Implementing the Client Text Store</span></span>  
 <span data-ttu-id="ed3ba-140">Po rozbudowaniu aparatu formatowania tekstu wymagane jest zaimplementowanie wszystkich aspektów magazynu tekstowego i zarządzanie nimi.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-140">When you extend the text formatting engine, you are required to implement and manage all aspects of the text store.</span></span> <span data-ttu-id="ed3ba-141">To nie jest zadanie proste.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-141">This is not a trivial task.</span></span> <span data-ttu-id="ed3ba-142">Magazyn tekstowy jest odpowiedzialny za śledzenie właściwości przebiegu tekstu, właściwości akapitu, osadzonych obiektów i innej podobnej zawartości.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-142">The text store is responsible for tracking text run properties, paragraph properties, embedded objects, and other similar content.</span></span> <span data-ttu-id="ed3ba-143">Udostępnia również program formatujący tekst z poszczególnymi <xref:System.Windows.Media.TextFormatting.TextRun> obiektami, których program formatujący tekstu używa do tworzenia <xref:System.Windows.Media.TextFormatting.TextLine> obiektów.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-143">It also provides the text formatter with individual <xref:System.Windows.Media.TextFormatting.TextRun> objects which the text formatter uses to create <xref:System.Windows.Media.TextFormatting.TextLine> objects.</span></span>  
  
 <span data-ttu-id="ed3ba-144">Do obsługi wirtualizacji magazynu tekstowego magazyn tekstu musi pochodzić od <xref:System.Windows.Media.TextFormatting.TextSource>.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-144">To handle the virtualization of the text store, the text store must be derived from <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="ed3ba-145"><xref:System.Windows.Media.TextFormatting.TextSource>definiuje metodę używaną przez program formatujący Text do pobierania tekstu z magazynu tekstowego.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-145"><xref:System.Windows.Media.TextFormatting.TextSource> defines the method the text formatter uses to retrieve text runs from the text store.</span></span> <span data-ttu-id="ed3ba-146"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A>to metoda używana przez program formatujący tekst do pobierania przebiegów tekstowych używanych w formatowaniu wierszy.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-146"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is the method used by the text formatter to retrieve text runs used in line formatting.</span></span> <span data-ttu-id="ed3ba-147">Wywołanie <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> jest wielokrotnie wykonywane przez program formatujący tekst do momentu wystąpienia jednego z następujących warunków:</span><span class="sxs-lookup"><span data-stu-id="ed3ba-147">The call to <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is repeatedly made by the text formatter until one of the following conditions occurs:</span></span>  
  
- <span data-ttu-id="ed3ba-148">Zwracana <xref:System.Windows.Media.TextFormatting.TextEndOfLine> jest lub podklasa.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-148">A <xref:System.Windows.Media.TextFormatting.TextEndOfLine> or a subclass is returned.</span></span>  
  
- <span data-ttu-id="ed3ba-149">Skumulowana szerokość przebiegów tekstu przekracza maksymalną szerokość linii określoną w wywołaniu, aby utworzyć program formatujący tekst lub wywołanie <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> metody programu formatującego tekstu.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-149">The accumulated width of text runs exceeds the maximum line width specified in either the call to create the text formatter or the call to the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span>  
  
- <span data-ttu-id="ed3ba-150">Zwracana jest sekwencja nowego wiersza, taka jak "CF", "LF" lub "CRLF". [!INCLUDE[TLA#tla_unicode](../../../../includes/tlasharptla-unicode-md.md)]</span><span class="sxs-lookup"><span data-stu-id="ed3ba-150">A [!INCLUDE[TLA#tla_unicode](../../../../includes/tlasharptla-unicode-md.md)] newline sequence, such as "CF", "LF", or "CRLF", is returned.</span></span>  
  
<a name="section4"></a>   
## <a name="providing-text-runs"></a><span data-ttu-id="ed3ba-151">Udostępnianie tekstu</span><span class="sxs-lookup"><span data-stu-id="ed3ba-151">Providing Text Runs</span></span>  
 <span data-ttu-id="ed3ba-152">Podstawowym procesem formatowania tekstu jest interakcja między programem formatujący tekst i magazynem tekstu.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-152">The core of the text formatting process is the interaction between the text formatter and the text store.</span></span> <span data-ttu-id="ed3ba-153">Twoja implementacja programu <xref:System.Windows.Media.TextFormatting.TextSource> udostępnia <xref:System.Windows.Media.TextFormatting.TextRun> program formatujący tekst z obiektami i właściwościami, za pomocą których można formatować uruchomienia tekstu.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-153">Your implementation of <xref:System.Windows.Media.TextFormatting.TextSource> provides the text formatter with the <xref:System.Windows.Media.TextFormatting.TextRun> objects and the properties with which to format the text runs.</span></span> <span data-ttu-id="ed3ba-154">Ta interakcja jest obsługiwana przez <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> metodę, która jest wywoływana przez program formatujący tekst.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-154">This interaction is handled by the <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method, which is called by the text formatter.</span></span>  
  
 <span data-ttu-id="ed3ba-155">W poniższej tabeli przedstawiono niektóre ze wstępnie zdefiniowanych <xref:System.Windows.Media.TextFormatting.TextRun> obiektów.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-155">The following table shows some of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects.</span></span>  
  
|<span data-ttu-id="ed3ba-156">Typ TextRun</span><span class="sxs-lookup"><span data-stu-id="ed3ba-156">TextRun Type</span></span>|<span data-ttu-id="ed3ba-157">Użycie</span><span class="sxs-lookup"><span data-stu-id="ed3ba-157">Usage</span></span>|  
|------------------|-----------|  
|<xref:System.Windows.Media.TextFormatting.TextCharacters>|<span data-ttu-id="ed3ba-158">Wyspecjalizowane uruchomienie tekstu używane do przekazywania reprezentacji symboli znaków z powrotem do programu formatującego tekstu.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-158">The specialized text run used to pass a representation of character glyphs back to the text formatter.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEmbeddedObject>|<span data-ttu-id="ed3ba-159">Wyspecjalizowany przebieg tekstu służący do dostarczania zawartości, w której pomiary, testowanie trafień i Rysowanie odbywa się w całości, na przykład w postaci przycisku lub obrazu w tekście.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-159">The specialized text run used to provide content in which measuring, hit testing, and drawing is done in whole, such as a button or image within the text.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfLine>|<span data-ttu-id="ed3ba-160">Wyspecjalizowane uruchomienie tekstu używane do oznaczania końca wiersza.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-160">The specialized text run used to mark the end of a line.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>|<span data-ttu-id="ed3ba-161">Wyspecjalizowany przebieg tekstowy używany do oznaczania końca akapitu.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-161">The specialized text run used to mark the end of a paragraph.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfSegment>|<span data-ttu-id="ed3ba-162">Wyspecjalizowany przebieg tekstowy używany do oznaczania końca segmentu, na przykład w celu zakończenia zakresu, na który miało wpływ <xref:System.Windows.Media.TextFormatting.TextModifier> poprzednie uruchomienie.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-162">The specialized text run used to mark the end of a segment, such as to end the scope affected by a previous <xref:System.Windows.Media.TextFormatting.TextModifier> run.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextHidden>|<span data-ttu-id="ed3ba-163">Wyspecjalizowane uruchomienie tekstu używane do oznaczania zakresu znaków ukrytych.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-163">The specialized text run used to mark a range of hidden characters.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextModifier>|<span data-ttu-id="ed3ba-164">Wyspecjalizowany przebieg tekstu służący do modyfikowania właściwości tekstu jest w jego zakresie.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-164">The specialized text run used to modify properties of text runs in its scope.</span></span> <span data-ttu-id="ed3ba-165">Zakres wykracza do następnego pasującego <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> przebiegu tekstu lub do następnego. <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph></span><span class="sxs-lookup"><span data-stu-id="ed3ba-165">The scope extends to the next matching <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> text run, or the next <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>.</span></span>|  
  
 <span data-ttu-id="ed3ba-166">Każdy ze wstępnie zdefiniowanych <xref:System.Windows.Media.TextFormatting.TextRun> obiektów może być podklasą.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-166">Any of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects can be subclassed.</span></span> <span data-ttu-id="ed3ba-167">Dzięki temu Źródło tekstu będzie zawierać tekst programu formatującego z przebiegami tekstowymi, które zawierają dane niestandardowe.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-167">This allows your text source to provide the text formatter with text runs that include custom data.</span></span>  
  
 <span data-ttu-id="ed3ba-168">Poniższy przykład ilustruje <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> metodę.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-168">The following example demonstrates a <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="ed3ba-169">Ten magazyn tekstowy zwraca <xref:System.Windows.Media.TextFormatting.TextRun> obiekty do programu formatującego tekstu do przetworzenia.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-169">This text store returns <xref:System.Windows.Media.TextFormatting.TextRun> objects to the text formatter for processing.</span></span>  
  
 [!code-csharp[TextFormatterExample#101](~/samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/CustomTextSource.cs#101)]
 [!code-vb[TextFormatterExample#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/CustomTextSource.vb#101)]  
  
> [!NOTE]
> <span data-ttu-id="ed3ba-170">W tym przykładzie magazyn tekstu zapewnia te same właściwości tekstowe do całego tekstu.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-170">In this example, the text store provides the same text properties to all of the text.</span></span> <span data-ttu-id="ed3ba-171">Zaawansowane magazyny tekstowe muszą implementować własne zarządzanie zakresami, aby umożliwić indywidualnym znakom różne właściwości.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-171">Advanced text stores would need to implement their own span management to allow individual characters to have different properties.</span></span>  
  
<a name="section5"></a>   
## <a name="specifying-formatting-properties"></a><span data-ttu-id="ed3ba-172">Określanie właściwości formatowania</span><span class="sxs-lookup"><span data-stu-id="ed3ba-172">Specifying Formatting Properties</span></span>  
 <span data-ttu-id="ed3ba-173"><xref:System.Windows.Media.TextFormatting.TextRun>obiekty są formatowane przy użyciu właściwości dostarczonych przez magazyn tekstu.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-173"><xref:System.Windows.Media.TextFormatting.TextRun> objects are formatted by using properties provided by the text store.</span></span> <span data-ttu-id="ed3ba-174">Te właściwości są dostępne w dwóch typach <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> , <xref:System.Windows.Media.TextFormatting.TextRunProperties>a.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-174">These properties come in two types, <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span></span> <span data-ttu-id="ed3ba-175"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties>Obsługuj właściwości z uwzględnieniem akapitu <xref:System.Windows.FlowDirection>, takie jak <xref:System.Windows.TextAlignment> i.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-175"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties> handle paragraph inclusive properties such as <xref:System.Windows.TextAlignment> and <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="ed3ba-176"><xref:System.Windows.Media.TextFormatting.TextRunProperties>są właściwościami, które mogą być różne dla każdego tekstu w akapicie, takie jak Pędzel <xref:System.Windows.Media.Typeface>pierwszego planu, i rozmiar czcionki.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-176"><xref:System.Windows.Media.TextFormatting.TextRunProperties> are properties that can be different for each text run within a paragraph, such as foreground brush, <xref:System.Windows.Media.Typeface>, and font size.</span></span> <span data-ttu-id="ed3ba-177">Aby zaimplementować niestandardowe typy właściwości akapitu i niestandardowego tekstu, aplikacja musi utworzyć klasy, które pochodzą z <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> i <xref:System.Windows.Media.TextFormatting.TextRunProperties> odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="ed3ba-177">To implement custom paragraph and custom text run property types, your application must create classes that derive from <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties> respectively.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ed3ba-178">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="ed3ba-178">See also</span></span>

- [<span data-ttu-id="ed3ba-179">Typografia w WPF</span><span class="sxs-lookup"><span data-stu-id="ed3ba-179">Typography in WPF</span></span>](typography-in-wpf.md)
- [<span data-ttu-id="ed3ba-180">Dokumenty w WPF</span><span class="sxs-lookup"><span data-stu-id="ed3ba-180">Documents in WPF</span></span>](documents-in-wpf.md)
