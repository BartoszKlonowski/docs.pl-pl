---
title: "Właściwości zależności i ładowania XAML"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- custom dependency properties [WPF]
- dependency properties [WPF], XAML loading and
- loading XML data [WPF]
ms.assetid: 6eea9f4e-45ce-413b-a266-f08238737bf2
caps.latest.revision: "8"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 97970a8a292eee43b01b1eab235376ae9b8e6fad
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/21/2017
---
# <a name="xaml-loading-and-dependency-properties"></a><span data-ttu-id="8428e-102">Właściwości zależności i ładowania XAML</span><span class="sxs-lookup"><span data-stu-id="8428e-102">XAML Loading and Dependency Properties</span></span>
<span data-ttu-id="8428e-103">Bieżący [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] wykonania jego [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] procesora jest z założenia pamiętać właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="8428e-103">The current [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementation of its [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor is inherently dependency property aware.</span></span> <span data-ttu-id="8428e-104">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] Procesor używa metody system właściwości dla właściwości zależności podczas ładowania pliku binarnego [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] i przetwarzania atrybutów, które są właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="8428e-104">The [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor uses property system methods for dependency properties when loading binary [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] and processing attributes that are dependency properties.</span></span> <span data-ttu-id="8428e-105">Pomija to skutecznie otoki właściwości.</span><span class="sxs-lookup"><span data-stu-id="8428e-105">This effectively bypasses the property wrappers.</span></span> <span data-ttu-id="8428e-106">Po zaimplementowaniu właściwości niestandardowe zależności musi konta tego zachowania, a unikać umieszczania innego kodu w Twojej otoki właściwości innych niż metody systemu właściwości <xref:System.Windows.DependencyObject.GetValue%2A> i <xref:System.Windows.DependencyObject.SetValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="8428e-106">When you implement custom dependency properties, you must account for this behavior and should avoid placing any other code in your property wrapper other than the property system methods <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span>  
  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="8428e-107">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="8428e-107">Prerequisites</span></span>  
 <span data-ttu-id="8428e-108">W tym temacie założono, że zrozumieć właściwości zależności zarówno jako konsumenta i autora i przeczytanie [Przegląd właściwości zależności](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md) i [właściwości zależności niestandardowe](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="8428e-108">This topic assumes that you understand dependency properties both as consumer and author and have read [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md) and [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md).</span></span> <span data-ttu-id="8428e-109">Należy również przeczytanie [omówienie XAML (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) i [szczegółów w składni języka XAML](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md).</span><span class="sxs-lookup"><span data-stu-id="8428e-109">You should also have read [XAML Overview (WPF)](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md) and [XAML Syntax In Detail](../../../../docs/framework/wpf/advanced/xaml-syntax-in-detail.md).</span></span>  
  
<a name="implementation"></a>   
## <a name="the-wpf-xaml-loader-implementation-and-performance"></a><span data-ttu-id="8428e-110">Implementacja modułu ładującego WPF XAML i wydajności</span><span class="sxs-lookup"><span data-stu-id="8428e-110">The WPF XAML Loader Implementation, and Performance</span></span>  
 <span data-ttu-id="8428e-111">Ze względów implementacji jest praktyce mniej kosztowne zidentyfikować właściwości jako właściwość zależności i korzystać z systemu właściwości <xref:System.Windows.DependencyObject.SetValue%2A> metodę w celu ustawienia, a nie przy użyciu otoki właściwości i metody ustawiającej.</span><span class="sxs-lookup"><span data-stu-id="8428e-111">For implementation reasons, it is computationally less expensive to identify a property as a dependency property and access the property system <xref:System.Windows.DependencyObject.SetValue%2A> method to set it, rather than using the property wrapper and its setter.</span></span> <span data-ttu-id="8428e-112">Jest to spowodowane [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] procesora musi rozpoznać cały obiekt modelu kodu zapasowy oparte tylko na wiedzy o typie i element członkowski relacje, które są wskazywane przez strukturę znaczników i różne ciągi.</span><span class="sxs-lookup"><span data-stu-id="8428e-112">This is because a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor must infer the entire object model of the backing code based only on knowing the type and member relationships that are indicated by the structure of the markup and various strings.</span></span>  
  
 <span data-ttu-id="8428e-113">Typ jest wyszukiwana przy użyciu kombinacji xmlns i atrybutów zestawu, ale Identyfikowanie członków, określania, które mogą obsługiwać ustawiany jako atrybutu, i rozwiązania, jakie typy obsługuje wartości właściwości w przeciwnym razie będzie wymagać szeroką gamę odbicia przy użyciu <xref:System.Reflection.PropertyInfo>.</span><span class="sxs-lookup"><span data-stu-id="8428e-113">The type is looked up through a combination of xmlns and assembly attributes, but identifying the members, determining which could support being set as an attribute, and resolving what types the property values support would otherwise require extensive reflection using <xref:System.Reflection.PropertyInfo>.</span></span> <span data-ttu-id="8428e-114">Ponieważ właściwości zależności dla danego typu są dostępne jako tabelę magazynu za pośrednictwem systemu właściwość [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] wykonania jego [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] procesora korzysta z tej tabeli i ustala, że jakaś podanej właściwości *ABC* można ustawić wydajniej wywołując <xref:System.Windows.DependencyObject.SetValue%2A> na zawierający <xref:System.Windows.DependencyObject> typu przy użyciu identyfikatora właściwości zależności pochodnego *ABCProperty*.</span><span class="sxs-lookup"><span data-stu-id="8428e-114">Because dependency properties on a given type are accessible as a storage table through the property system, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementation of its [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor uses this table and infers that any given property *ABC* can be more efficiently set by calling <xref:System.Windows.DependencyObject.SetValue%2A> on the containing <xref:System.Windows.DependencyObject> derived type, using the dependency property identifier *ABCProperty*.</span></span>  
  
<a name="implications"></a>   
## <a name="implications-for-custom-dependency-properties"></a><span data-ttu-id="8428e-115">Wpływ na właściwości niestandardowe zależności</span><span class="sxs-lookup"><span data-stu-id="8428e-115">Implications for Custom Dependency Properties</span></span>  
 <span data-ttu-id="8428e-116">Ponieważ bieżącego [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementacja [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] zachowanie procesora ustawienie właściwości pomija otoki całkowicie, nie wolno umieszczać żadnych dodatkową logikę do definicji zestawu otoki dla Twojego właściwości niestandardowe zależności.</span><span class="sxs-lookup"><span data-stu-id="8428e-116">Because the current [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implementation of the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor behavior for property setting bypasses the wrappers entirely, you should not put any additional logic into the set definitions of the wrapper for your custom dependency property.</span></span> <span data-ttu-id="8428e-117">Umieść takie logikę w definicji zestawu, a następnie logiki nie zostanie wykonany, gdy właściwość jest ustawiona [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] , a nie w kodzie.</span><span class="sxs-lookup"><span data-stu-id="8428e-117">If you put such logic in the set definition, then the logic will not be executed when the property is set in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] rather than in code.</span></span>  
  
 <span data-ttu-id="8428e-118">Podobnie, inne aspekty [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] procesora, którą pobrać wartości właściwości z [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] przetwarzania również użycie <xref:System.Windows.DependencyObject.GetValue%2A> zamiast przy użyciu otoki.</span><span class="sxs-lookup"><span data-stu-id="8428e-118">Similarly, other aspects of the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor that obtain property values from [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processing also use <xref:System.Windows.DependencyObject.GetValue%2A> rather than using the wrapper.</span></span> <span data-ttu-id="8428e-119">W związku z tym należy unikać także wszelkie dodatkowe implementacja `get` definicji poza <xref:System.Windows.DependencyObject.GetValue%2A> wywołania.</span><span class="sxs-lookup"><span data-stu-id="8428e-119">Therefore, you should also avoid any additional implementation in the `get` definition beyond the <xref:System.Windows.DependencyObject.GetValue%2A> call.</span></span>  
  
 <span data-ttu-id="8428e-120">Poniższy przykład jest zalecane zależności definicji właściwości z otoki, której identyfikator właściwości jest przechowywana jako `public` `static` `readonly` pola i `get` i `set` żaden kod nie zawiera definicji poza metody systemu wymagana właściwość definiujące właściwości zależności kopii.</span><span class="sxs-lookup"><span data-stu-id="8428e-120">The following example is a recommended dependency property definition with wrappers, where the property identifier is stored as a `public` `static` `readonly` field, and the `get` and `set` definitions contain no code beyond the necessary property system methods that define the dependency property backing.</span></span>  
  
 [!code-csharp[WPFAquariumSln#AGWithWrapper](../../../../samples/snippets/csharp/VS_Snippets_Wpf/WPFAquariumSln/CSharp/WPFAquariumObjects/Class1.cs#agwithwrapper)]
 [!code-vb[WPFAquariumSln#AGWithWrapper](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/WPFAquariumSln/visualbasic/wpfaquariumobjects/class1.vb#agwithwrapper)]  
  
## <a name="see-also"></a><span data-ttu-id="8428e-121">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="8428e-121">See Also</span></span>  
 [<span data-ttu-id="8428e-122">Przegląd właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="8428e-122">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)  
 [<span data-ttu-id="8428e-123">Omówienie XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="8428e-123">XAML Overview (WPF)</span></span>](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)  
 [<span data-ttu-id="8428e-124">Metadane właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="8428e-124">Dependency Property Metadata</span></span>](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md)  
 [<span data-ttu-id="8428e-125">Typ kolekcji właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="8428e-125">Collection-Type Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/collection-type-dependency-properties.md)  
 [<span data-ttu-id="8428e-126">Zabezpieczenia właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="8428e-126">Dependency Property Security</span></span>](../../../../docs/framework/wpf/advanced/dependency-property-security.md)  
 [<span data-ttu-id="8428e-127">Wzorce bezpieczne konstruktora dla DependencyObjects</span><span class="sxs-lookup"><span data-stu-id="8428e-127">Safe Constructor Patterns for DependencyObjects</span></span>](../../../../docs/framework/wpf/advanced/safe-constructor-patterns-for-dependencyobjects.md)
