---
title: Style dla Fokusu w formantach i FocusVisualStyle
ms.date: 03/30/2017
helpviewer_keywords:
- keyboard focus [WPF]
- focus [WPF], visual styling
- styles [WPF], focus visual style
ms.assetid: 786ac576-011b-4d72-913b-558deccb9b35
ms.openlocfilehash: 745c2174c54ed072f91a6d5eb3b43d5385e96b90
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/08/2019
ms.locfileid: "59172058"
---
# <a name="styling-for-focus-in-controls-and-focusvisualstyle"></a><span data-ttu-id="c70e3-102">Style dla Fokusu w formantach i FocusVisualStyle</span><span class="sxs-lookup"><span data-stu-id="c70e3-102">Styling for Focus in Controls, and FocusVisualStyle</span></span>
[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="c70e3-103">udostępnia dwa mechanizmy równoległe zmieniać wygląd kontrolki, gdy otrzymuje fokus klawiatury.</span><span class="sxs-lookup"><span data-stu-id="c70e3-103">provides two parallel mechanisms for changing the visual appearance of a control when it receives keyboard focus.</span></span> <span data-ttu-id="c70e3-104">Pierwszy mechanizm jest używać metod ustawiających właściwości dla właściwości, takich jak <xref:System.Windows.UIElement.IsKeyboardFocused%2A> w stylu lub szablonu, która jest stosowana do formantu.</span><span class="sxs-lookup"><span data-stu-id="c70e3-104">The first mechanism is to use property setters for properties such as <xref:System.Windows.UIElement.IsKeyboardFocused%2A> within the style or template that is applied to the control.</span></span> <span data-ttu-id="c70e3-105">Mechanizm drugi ma na celu dostarczenie oddzielne styl jako wartość <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> właściwości "skupić stylu wizualnego" tworzy osobne drzewo wizualne dla moduł definiowania układu, który rysuje na górze kontrolki, zamiast zmieniania drzewie wizualnym kontrolki lub innego interfejsu użytkownika element przez zastąpienie.</span><span class="sxs-lookup"><span data-stu-id="c70e3-105">The second mechanism is to provide a separate style as the value of the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> property; the "focus visual style" creates a separate visual tree for an adorner that draws on top of the control, rather than changing the visual tree of the control or other UI element by replacing it.</span></span> <span data-ttu-id="c70e3-106">W tym temacie opisano scenariusze, w których każdy z tych mechanizmów jest właściwe.</span><span class="sxs-lookup"><span data-stu-id="c70e3-106">This topic discusses the scenarios where each of these mechanisms is appropriate.</span></span>  

<a name="Purpose"></a>   
## <a name="the-purpose-of-focus-visual-style"></a><span data-ttu-id="c70e3-107">Celem styl wizualny fokusu</span><span class="sxs-lookup"><span data-stu-id="c70e3-107">The Purpose of Focus Visual Style</span></span>  
 <span data-ttu-id="c70e3-108">Funkcja styl wizualny fokusu zapewnia typowe "object model" wprowadzenie do visual opinii klientów oparte na nawigacji za pomocą klawiatury do dowolnego elementu interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="c70e3-108">The focus visual style feature provides a common "object model" for introducing visual user feedback based on keyboard navigation to any UI element.</span></span> <span data-ttu-id="c70e3-109">Jest to możliwe bez zastosowania nowego szablonu do formantu lub wiedząc kompozycji określonego szablonu.</span><span class="sxs-lookup"><span data-stu-id="c70e3-109">This is possible without applying a new template to the control, or knowing the specific template composition.</span></span>  
  
 <span data-ttu-id="c70e3-110">Mówiąc, ponieważ funkcja styl wizualny fokusu działa bez znajomości szablony kontrolek, wizualną opinię, która może być wyświetlany formantu za pomocą styl wizualny fokusu jest jednak zawsze ograniczony.</span><span class="sxs-lookup"><span data-stu-id="c70e3-110">However, precisely because the focus visual style feature works without knowing the control templates, the visual feedback that can be displayed for a control using a focus visual style is necessarily limited.</span></span> <span data-ttu-id="c70e3-111">Faktycznie działania funkcji jest nakładki innego drzewa wizualnego (moduł definiowania układu) na podstawie drzewa wizualnego, utworzonemu renderowania formantu za pomocą szablonu.</span><span class="sxs-lookup"><span data-stu-id="c70e3-111">What the feature actually does is to overlay a different visual tree (an adorner) on top of the visual tree as created by a control's rendering through its template.</span></span> <span data-ttu-id="c70e3-112">Zdefiniuj to oddzielne drzewa wizualnego, przy użyciu stylu, który wypełnia <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="c70e3-112">You define this separate visual tree using a style that fills the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> property.</span></span>  
  
<a name="Default"></a>   
## <a name="default-focus-visual-style-behavior"></a><span data-ttu-id="c70e3-113">Domyślne zachowanie styl wizualny fokusu</span><span class="sxs-lookup"><span data-stu-id="c70e3-113">Default Focus Visual Style Behavior</span></span>  
 <span data-ttu-id="c70e3-114">Styl wizualny fokusu działają tylko wtedy, gdy akcja fokus został zainicjowany przez klawiatury.</span><span class="sxs-lookup"><span data-stu-id="c70e3-114">Focus visual styles act only when the focus action was initiated by the keyboard.</span></span> <span data-ttu-id="c70e3-115">Dowolną akcję myszy lub Zmień zespół programistyczny wyłącza tryb koncentracji uwagi stylów wizualnych.</span><span class="sxs-lookup"><span data-stu-id="c70e3-115">Any mouse action or programmatic focus change disables the mode for focus visual styles.</span></span> <span data-ttu-id="c70e3-116">Aby uzyskać więcej informacji na temat różnice między trybami fokus zobacz [Przegląd fokus](focus-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c70e3-116">For more information about the distinctions between focus modes, see [Focus Overview](focus-overview.md).</span></span>  
  
 <span data-ttu-id="c70e3-117">Kompozycje dla kontrolek obejmują domyślne zachowanie styl wizualny fokusu staje się styl wizualny fokusu dla wszystkich kontrolek w motywie.</span><span class="sxs-lookup"><span data-stu-id="c70e3-117">The themes for controls include a default focus visual style behavior that becomes the focus visual style for all controls in the theme.</span></span> <span data-ttu-id="c70e3-118">Ten styl motywu jest identyfikowany przez wartość klucza statyczne <xref:System.Windows.SystemParameters.FocusVisualStyleKey%2A>.</span><span class="sxs-lookup"><span data-stu-id="c70e3-118">This theme style is identified by the value of the static key <xref:System.Windows.SystemParameters.FocusVisualStyleKey%2A>.</span></span> <span data-ttu-id="c70e3-119">Kiedy Deklarujesz własny styl wizualny fokusu na poziomie aplikacji, można zastąpić domyślne zachowanie styl z tematów.</span><span class="sxs-lookup"><span data-stu-id="c70e3-119">When you declare your own focus visual style at the application level, you replace this default style behavior from the themes.</span></span> <span data-ttu-id="c70e3-120">Alternatywnie Jeśli zdefiniujesz całego motywu, użyj tego samego klucza do zdefiniowania stylu domyślnego zachowania dla całej motywu.</span><span class="sxs-lookup"><span data-stu-id="c70e3-120">Alternatively, if you define the entire theme, then you should use this same key to define the style for the default behavior for your entire theme.</span></span>  
  
 <span data-ttu-id="c70e3-121">W kompozycji domyślny styl wizualny fokusu jest zazwyczaj bardzo proste.</span><span class="sxs-lookup"><span data-stu-id="c70e3-121">In the themes, the default focus visual style is generally very simple.</span></span> <span data-ttu-id="c70e3-122">Poniżej przedstawiono zgrubne przybliżenie:</span><span class="sxs-lookup"><span data-stu-id="c70e3-122">The following is a rough approximation:</span></span>  
  
```xaml  
<Style x:Key="{x:Static SystemParameters.FocusVisualStyleKey}">  
  <Setter Property="Control.Template">  
    <Setter.Value>  
      <ControlTemplate>  
        <Rectangle StrokeThickness="1"  
          Stroke="Black"  
          StrokeDashArray="1 2"  
          SnapsToDevicePixels="true"/>  
      </ControlTemplate>  
    </Setter.Value>  
  </Setter>  
</Style>  
```  
  
<a name="When"></a>   
## <a name="when-to-use-focus-visual-styles"></a><span data-ttu-id="c70e3-123">Kiedy należy używać stylów wizualnych z fokusem</span><span class="sxs-lookup"><span data-stu-id="c70e3-123">When to Use Focus Visual Styles</span></span>  
 <span data-ttu-id="c70e3-124">Model wygląd fokus stylów wizualnych zastosować do kontrolek powinna być spójne z formantami.</span><span class="sxs-lookup"><span data-stu-id="c70e3-124">Conceptually, the appearance of focus visual styles applied to controls should be coherent from control to control.</span></span> <span data-ttu-id="c70e3-125">Jednym ze sposobów na zapewnienie spójności jest fokusu stylu wizualnego tylko wtedy, gdy redagowania całego motywu, w którym każdy formant, który jest zdefiniowany w motywie pobiera styl wizualny fokusu tej samej lub różnice w stylu, wizualnie jest powiązane z kontrolki do kontynuacji roli.</span><span class="sxs-lookup"><span data-stu-id="c70e3-125">One way to ensure coherence is to change the focus visual style only if you are composing an entire theme, where each control that is defined in the theme gets either the very same focus visual style, or some variation of a style that is visually related from control to control.</span></span> <span data-ttu-id="c70e3-126">Alternatywnie można użyć stylu tego samego (lub podobny style) do nadawania stylu każdy element focusable klawiatury, na stronie lub w interfejsie użytkownika.</span><span class="sxs-lookup"><span data-stu-id="c70e3-126">Alternatively, you might use the same style (or similar styles) to style every keyboard-focusable element on a page or in a UI.</span></span>  
  
 <span data-ttu-id="c70e3-127">Ustawienie <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> na stylów poszczególnych kontrolek, które nie są częścią kompozycji jest nie zamierzonego użycia fokus stylów wizualnych.</span><span class="sxs-lookup"><span data-stu-id="c70e3-127">Setting <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A> on individual control styles that are not part of a theme is not the intended usage of focus visual styles.</span></span> <span data-ttu-id="c70e3-128">Jest to spowodowane niespójne zachowanie visual między kontrolkami może prowadzić do mylące czynności użytkownika dotyczących fokus klawiatury.</span><span class="sxs-lookup"><span data-stu-id="c70e3-128">This is because an inconsistent visual behavior between controls can lead to a confusing user experience regarding keyboard focus.</span></span> <span data-ttu-id="c70e3-129">Sygnalizuje pomyślny przebieg operacji specyficznej dla kontroli zachowania fokus klawiatury, które celowo nie są spójne w kompozycji, można znacznie lepszym rozwiązaniem jest Użyj wyzwalaczy w stylach właściwości poszczególnych stanu danych wejściowych, takich jak <xref:System.Windows.UIElement.IsFocused%2A> lub <xref:System.Windows.UIElement.IsKeyboardFocused%2A>.</span><span class="sxs-lookup"><span data-stu-id="c70e3-129">If you are intending control-specific behaviors for keyboard focus that are deliberately not coherent across a theme, a much better approach is to use triggers in styles for individual input state properties, such as <xref:System.Windows.UIElement.IsFocused%2A> or <xref:System.Windows.UIElement.IsKeyboardFocused%2A>.</span></span>  
  
 <span data-ttu-id="c70e3-130">Styl wizualny fokusu działają wyłącznie dla fokus klawiatury.</span><span class="sxs-lookup"><span data-stu-id="c70e3-130">Focus visual styles act exclusively for keyboard focus.</span></span> <span data-ttu-id="c70e3-131">W efekcie stylów wizualnych koncentracji uwagi są typem funkcji ułatwień dostępu.</span><span class="sxs-lookup"><span data-stu-id="c70e3-131">As such, focus visual styles are a type of accessibility feature.</span></span> <span data-ttu-id="c70e3-132">Jeśli chcesz, aby zmiany interfejsu użytkownika dla dowolnego typu fokus, czy za pomocą myszy, klawiatury lub programowo, następnie nie należy używać stylów wizualnych fokus i zamiast tego należy używać metod ustawiających i wyzwalaczy w style lub szablony, które pracują z wartości właściwości ogólne fokus takie jak <xref:System.Windows.UIElement.IsFocused%2A> lub <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>.</span><span class="sxs-lookup"><span data-stu-id="c70e3-132">If you want UI changes for any type of focus, whether via mouse, keyboard, or programmatically, then you should not use focus visual styles, and should instead use setters and triggers in styles or templates that are working from the value of general focus properties such as <xref:System.Windows.UIElement.IsFocused%2A> or <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>.</span></span>  
  
<a name="How"></a>   
## <a name="how-to-create-a-focus-visual-style"></a><span data-ttu-id="c70e3-133">Jak utworzyć styl wizualny fokusu</span><span class="sxs-lookup"><span data-stu-id="c70e3-133">How to Create a Focus Visual Style</span></span>  
 <span data-ttu-id="c70e3-134">Styl możesz utworzyć styl wizualny fokusu powinny zawsze występować <xref:System.Windows.Style.TargetType%2A> z <xref:System.Windows.Controls.Control>.</span><span class="sxs-lookup"><span data-stu-id="c70e3-134">The style you create for a focus visual style should always have the <xref:System.Windows.Style.TargetType%2A> of <xref:System.Windows.Controls.Control>.</span></span> <span data-ttu-id="c70e3-135">Styl powinna składać się głównie z <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="c70e3-135">The style should consist mainly of a <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="c70e3-136">Nie określaj typ docelowy jako typ, gdy styl wizualny fokusu jest przypisany do <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>.</span><span class="sxs-lookup"><span data-stu-id="c70e3-136">You do not specify the target type to be the type where the focus visual style is assigned to the <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>.</span></span>  
  
 <span data-ttu-id="c70e3-137">Ponieważ typ docelowy jest zawsze <xref:System.Windows.Controls.Control>, musi być stylu za pomocą właściwości, które są wspólne dla wszystkich kontrolek (przy użyciu właściwości <xref:System.Windows.Controls.Control> klasy i jej klasy bazowe).</span><span class="sxs-lookup"><span data-stu-id="c70e3-137">Because the target type is always <xref:System.Windows.Controls.Control>, you must style by using properties that are common to all controls (using properties of the <xref:System.Windows.Controls.Control> class and its base classes).</span></span> <span data-ttu-id="c70e3-138">Należy utworzyć szablon, który prawidłowo będzie działać jako nakładkę z elementem interfejsu użytkownika i będzie, nie mogą zasłaniać obszarów funkcjonalnych formantu.</span><span class="sxs-lookup"><span data-stu-id="c70e3-138">You should create a template that will properly function as an overlay to a UI element and that will not obscure functional areas of the control.</span></span> <span data-ttu-id="c70e3-139">Ogólnie rzecz biorąc oznacza to, że wizualną opinię powinien pojawić się poza marginesy kontrolki lub jako tymczasowy lub dyskretny kod efektów, które nie będzie blokować testowania trafień w kontrolce której stosowana jest styl wizualny fokusu.</span><span class="sxs-lookup"><span data-stu-id="c70e3-139">Generally, this means that the visual feedback should appear outside the control margins, or as temporary or unobtrusive effects that will not block the hit testing on the control where the focus visual style is applied.</span></span> <span data-ttu-id="c70e3-140">Właściwości, które można użyć w powiązaniu szablonu, które są przydatne do określania rozmiaru i pozycjonowania szablonu nakładki obejmują <xref:System.Windows.FrameworkElement.ActualHeight%2A>, <xref:System.Windows.FrameworkElement.ActualWidth%2A>, <xref:System.Windows.FrameworkElement.Margin%2A>, i <xref:System.Windows.Controls.Control.Padding%2A>.</span><span class="sxs-lookup"><span data-stu-id="c70e3-140">Properties that you can use in template binding that are useful for determining sizing and positioning of your overlay template include <xref:System.Windows.FrameworkElement.ActualHeight%2A>, <xref:System.Windows.FrameworkElement.ActualWidth%2A>, <xref:System.Windows.FrameworkElement.Margin%2A>, and <xref:System.Windows.Controls.Control.Padding%2A>.</span></span>  
  
<a name="Alternatives"></a>   
## <a name="alternatives-to-using-a-focus-visual-style"></a><span data-ttu-id="c70e3-141">Alternatywy dla przy użyciu styl wizualny fokusu</span><span class="sxs-lookup"><span data-stu-id="c70e3-141">Alternatives to Using a Focus Visual Style</span></span>  
 <span data-ttu-id="c70e3-142">W sytuacjach, w którym przy użyciu styl wizualny fokusu jest nieodpowiednia, ponieważ są tylko style kontrolki jednego lub mają większą kontrolę nad szablonu kontrolki istnieje wiele dostępnych właściwości i technik, które można utworzyć wizualizację zachowanie w odpowiedzi na zmiany w trybie koncentracji uwagi.</span><span class="sxs-lookup"><span data-stu-id="c70e3-142">For situations where using a focus visual style is not appropriate, either because you are only styling single controls or because you want greater control over the control template, there are many other accessible properties and techniques that can create visual behavior in response to changes in focus.</span></span>  
  
 <span data-ttu-id="c70e3-143">Wyzwalacze, metody ustawiające i ustawiające zdarzeń są omówiono szczegółowo w [Tworzenie szablonów i stylów](../controls/styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="c70e3-143">Triggers, setters, and event setters are all discussed in detail in [Styling and Templating](../controls/styling-and-templating.md).</span></span> <span data-ttu-id="c70e3-144">Obsługa zdarzenia trasowane została omówiona w [Przegląd zdarzeń kierowane](routed-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="c70e3-144">Routed event handling is discussed in [Routed Events Overview](routed-events-overview.md).</span></span>  
  
### <a name="iskeyboardfocused"></a><span data-ttu-id="c70e3-145">IsKeyboardFocused</span><span class="sxs-lookup"><span data-stu-id="c70e3-145">IsKeyboardFocused</span></span>  
 <span data-ttu-id="c70e3-146">Jeśli interesuje Cię specjalnie fokus klawiatury <xref:System.Windows.UIElement.IsKeyboardFocused%2A> właściwości zależności można używać właściwości <xref:System.Windows.Trigger>.</span><span class="sxs-lookup"><span data-stu-id="c70e3-146">If you are specifically interested in keyboard focus, the <xref:System.Windows.UIElement.IsKeyboardFocused%2A> dependency property can be used for a property <xref:System.Windows.Trigger>.</span></span> <span data-ttu-id="c70e3-147">Wyzwalacz właściwości w stylu lub szablonu jest techniką bardziej odpowiednie do definiowania zachowania fokus klawiatury jest bardzo specjalnie dla pojedynczego kontrola i który może być wizualnie niezgodny zachowanie fokus klawiatury dla innych kontrolek.</span><span class="sxs-lookup"><span data-stu-id="c70e3-147">A property trigger in either a style or template is a more appropriate technique for defining a keyboard focus behavior that is very specifically for a single control, and which might not visually match the keyboard focus behavior for other controls.</span></span>  
  
 <span data-ttu-id="c70e3-148">Jest inna właściwość zależności podobne <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>, który może być odpowiednie do użycia, jeśli chcesz wizualnie wyróżnienia że fokus klawiatury jest gdzieś w ramach składania lub obszaru funkcjonalnego formantu.</span><span class="sxs-lookup"><span data-stu-id="c70e3-148">Another similar dependency property is <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A>, which might be appropriate to use if you want to visually call out that keyboard focus is somewhere within compositing or within the functional area of the control.</span></span> <span data-ttu-id="c70e3-149">Na przykład może umieścić <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A> wyzwalacza w taki sposób, że panel, który grupuje kilka formantów pojawia się inaczej, mimo że fokus klawiatury może być bardziej precyzyjne włączenia pojedynczego elementu poziomu tego panelu.</span><span class="sxs-lookup"><span data-stu-id="c70e3-149">For example, you might place an <xref:System.Windows.UIElement.IsKeyboardFocusWithin%2A> trigger such that a panel that groups several controls appears differently, even though keyboard focus might more precisely be on an individual element within that panel.</span></span>  
  
 <span data-ttu-id="c70e3-150">Możesz również użyć zdarzenia <xref:System.Windows.UIElement.GotKeyboardFocus> i <xref:System.Windows.UIElement.LostKeyboardFocus> (a także ich odpowiedników w wersji zapoznawczej).</span><span class="sxs-lookup"><span data-stu-id="c70e3-150">You can also use the events <xref:System.Windows.UIElement.GotKeyboardFocus> and <xref:System.Windows.UIElement.LostKeyboardFocus> (as well as their Preview equivalents).</span></span> <span data-ttu-id="c70e3-151">Zdarzenia te można użyć jako podstawy dla <xref:System.Windows.EventSetter>, lub można napisać procedury obsługi zdarzeń w związanym z kodem.</span><span class="sxs-lookup"><span data-stu-id="c70e3-151">You can use these events as the basis for an <xref:System.Windows.EventSetter>, or you can write handlers for the events in code-behind.</span></span>  
  
### <a name="other-focus-properties"></a><span data-ttu-id="c70e3-152">Inne właściwości koncentracji uwagi</span><span class="sxs-lookup"><span data-stu-id="c70e3-152">Other Focus Properties</span></span>  
 <span data-ttu-id="c70e3-153">Jeśli chcesz, aby wszystkie możliwe przyczyny zmieniania fokusu do tworzenia wizualnych zachowanie, podstawowej metody ustawiającej lub Wyzwalaj w momencie <xref:System.Windows.UIElement.IsFocused%2A> właściwość zależności lub alternatywnie w <xref:System.Windows.UIElement.GotFocus> lub <xref:System.Windows.UIElement.LostFocus> zdarzenia używane do <xref:System.Windows.EventSetter>.</span><span class="sxs-lookup"><span data-stu-id="c70e3-153">If you want all possible causes of changing focus to produce a visual behavior, you should base a setter or trigger on the <xref:System.Windows.UIElement.IsFocused%2A> dependency property, or alternatively on the <xref:System.Windows.UIElement.GotFocus> or <xref:System.Windows.UIElement.LostFocus> events used for an <xref:System.Windows.EventSetter>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c70e3-154">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="c70e3-154">See also</span></span>

- <xref:System.Windows.FrameworkElement.FocusVisualStyle%2A>
- [<span data-ttu-id="c70e3-155">Tworzenie szablonów i stylów</span><span class="sxs-lookup"><span data-stu-id="c70e3-155">Styling and Templating</span></span>](../controls/styling-and-templating.md)
- [<span data-ttu-id="c70e3-156">Przegląd Fokus</span><span class="sxs-lookup"><span data-stu-id="c70e3-156">Focus Overview</span></span>](focus-overview.md)
- [<span data-ttu-id="c70e3-157">Przegląd Dane wejściowe</span><span class="sxs-lookup"><span data-stu-id="c70e3-157">Input Overview</span></span>](input-overview.md)
