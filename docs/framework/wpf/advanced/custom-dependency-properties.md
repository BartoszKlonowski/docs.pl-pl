---
title: Niestandardowe właściwości zależności
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- implementing [WPF], wrappers
- registering properties [WPF]
- properties [WPF], metadata
- metadata [WPF], for properties
- custom dependency properties [WPF]
- properties [WPF], registering
- wrappers [WPF], implementing
- dependency properties [WPF], custom
ms.assetid: e6bfcfac-b10d-4f58-9f77-a864c2a2938f
ms.openlocfilehash: 2623f34418aad7a0b29c52d1310fdc79afced790
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/04/2018
ms.locfileid: "33541966"
---
# <a name="custom-dependency-properties"></a><span data-ttu-id="24edd-102">Niestandardowe właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="24edd-102">Custom Dependency Properties</span></span>
<span data-ttu-id="24edd-103">W tym temacie opisano przyczyny który [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] deweloperzy aplikacji autorów składnik może być utworzenie właściwości niestandardowe zależności i opisano kroki implementacji, a także niektóre opcje wdrażania, które może poprawić wydajność, użyteczność lub wszechstronność właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-103">This topic describes the reasons that [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] application developers and component authors might want to create custom dependency property, and describes the implementation steps as well as some implementation options that can improve performance, usability, or versatility of the property.</span></span>  
  

  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="24edd-104">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="24edd-104">Prerequisites</span></span>  
 <span data-ttu-id="24edd-105">W tym temacie założono zrozumieć właściwości zależności z punktu widzenia użytkownika istniejących właściwości zależności na [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] klas i przeczytanie [Przegląd właściwości zależności](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md) tematu.</span><span class="sxs-lookup"><span data-stu-id="24edd-105">This topic assumes that you understand dependency properties from the perspective of a consumer of existing dependency properties on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] classes, and have read the [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md) topic.</span></span> <span data-ttu-id="24edd-106">Aby można było wykonać przykłady w tym temacie, należy również zapoznać się [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] i wiedzieć, jak napisać [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] aplikacji.</span><span class="sxs-lookup"><span data-stu-id="24edd-106">In order to follow the examples in this topic, you should also understand [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] and know how to write [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications.</span></span>  
  
<a name="whatis"></a>   
## <a name="what-is-a-dependency-property"></a><span data-ttu-id="24edd-107">Co to jest właściwością zależności?</span><span class="sxs-lookup"><span data-stu-id="24edd-107">What Is a Dependency Property?</span></span>  
 <span data-ttu-id="24edd-108">Można włączyć, co byłoby [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] właściwości do obsługi stylów, powiązań danych dziedziczenia, animacji i wartości domyślne zaimplementowanie jako właściwość zależności.</span><span class="sxs-lookup"><span data-stu-id="24edd-108">You can enable what would otherwise be a [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] property to support styling, data binding, inheritance, animations, and default values by implementing it as a dependency property.</span></span> <span data-ttu-id="24edd-109">Właściwości zależności są właściwości, które są zarejestrowane w usłudze [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] właściwości systemu przez wywołanie metody <xref:System.Windows.DependencyProperty.Register%2A> — metoda (lub <xref:System.Windows.DependencyProperty.RegisterReadOnly%2A>), oraz obsługiwanych przez <xref:System.Windows.DependencyProperty> pole identyfikatora.</span><span class="sxs-lookup"><span data-stu-id="24edd-109">Dependency properties are properties that are registered with the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system by calling the <xref:System.Windows.DependencyProperty.Register%2A> method (or <xref:System.Windows.DependencyProperty.RegisterReadOnly%2A>), and that are backed by a <xref:System.Windows.DependencyProperty> identifier field.</span></span> <span data-ttu-id="24edd-110">Właściwości zależności, które mogą być używane tylko przez <xref:System.Windows.DependencyObject> typów, ale <xref:System.Windows.DependencyObject> jest dość wysokie w [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] klasy hierarchii, dlatego większość klas dostępne w [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] może obsługiwać właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="24edd-110">Dependency properties can be used only by <xref:System.Windows.DependencyObject> types, but <xref:System.Windows.DependencyObject> is quite high in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] class hierarchy, so the majority of classes available in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] can support dependency properties.</span></span> <span data-ttu-id="24edd-111">Aby uzyskać więcej informacji na temat właściwości zależności i niektórych terminów i konwencje opisujących je w tym [!INCLUDE[TLA2#tla_sdk](../../../../includes/tla2sharptla-sdk-md.md)], zobacz [Przegląd właściwości zależności](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-111">For more information about dependency properties and some of the terminology and conventions used for describing them in this [!INCLUDE[TLA2#tla_sdk](../../../../includes/tla2sharptla-sdk-md.md)], see [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md).</span></span>  
  
<a name="example_dp"></a>   
## <a name="examples-of-dependency-properties"></a><span data-ttu-id="24edd-112">Przykłady właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="24edd-112">Examples of Dependency Properties</span></span>  
 <span data-ttu-id="24edd-113">Przykłady właściwości zależności, które są wdrażane na [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] klasy mają <xref:System.Windows.Controls.Control.Background%2A> właściwość <xref:System.Windows.FrameworkElement.Width%2A> właściwości oraz <xref:System.Windows.Controls.TextBox.Text%2A> właściwości wśród wielu innych.</span><span class="sxs-lookup"><span data-stu-id="24edd-113">Examples of dependency properties that are implemented on [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] classes include the <xref:System.Windows.Controls.Control.Background%2A> property, the <xref:System.Windows.FrameworkElement.Width%2A> property, and the <xref:System.Windows.Controls.TextBox.Text%2A> property, among many others.</span></span> <span data-ttu-id="24edd-114">Każda właściwość zależności udostępnianych przez klasę ma odpowiednie pola statycznego publicznego typu <xref:System.Windows.DependencyProperty> widoczne na tej samej klasy.</span><span class="sxs-lookup"><span data-stu-id="24edd-114">Each dependency property exposed by a class has a corresponding public static field of type <xref:System.Windows.DependencyProperty> exposed on that same class.</span></span> <span data-ttu-id="24edd-115">Jest to identyfikator dla właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="24edd-115">This is the identifier for the dependency property.</span></span> <span data-ttu-id="24edd-116">Identyfikator o nazwie przy użyciu Konwencji: Nazwa właściwości zależności z ciągiem `Property` dołączone do niego.</span><span class="sxs-lookup"><span data-stu-id="24edd-116">The identifier is named using a convention: the name of the dependency property with the string `Property` appended to it.</span></span> <span data-ttu-id="24edd-117">Na przykład odpowiednie <xref:System.Windows.DependencyProperty> pole identyfikatora dla <xref:System.Windows.Controls.Control.Background%2A> jest właściwość <xref:System.Windows.Controls.Control.BackgroundProperty>.</span><span class="sxs-lookup"><span data-stu-id="24edd-117">For example, the corresponding <xref:System.Windows.DependencyProperty> identifier field for the <xref:System.Windows.Controls.Control.Background%2A> property is <xref:System.Windows.Controls.Control.BackgroundProperty>.</span></span> <span data-ttu-id="24edd-118">Identyfikator przechowuje informacje dotyczące właściwości zależności, został on zarejestrowany, a identyfikator jest następnie używany później na inne operacje dotyczące właściwości zależności, takie jak wywołania <xref:System.Windows.DependencyObject.SetValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="24edd-118">The identifier stores the information about the dependency property as it was registered, and the identifier is then used later for other operations involving the dependency property, such as calling <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span>  
  
 <span data-ttu-id="24edd-119">Jak wspomniano w [Przegląd właściwości zależności](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md), wszystkie właściwości zależności w [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] (z wyjątkiem najbardziej dołączone właściwości) są również [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] właściwości z powodu wykonania "otoki".</span><span class="sxs-lookup"><span data-stu-id="24edd-119">As mentioned in the [Dependency Properties Overview](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md), all dependency properties in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] (except most attached properties) are also [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] properties because of the "wrapper" implementation.</span></span> <span data-ttu-id="24edd-120">W związku z tym z kodu, można pobrać lub ustawić właściwości zależności przez wywołanie metody [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] akcesorów definiujące otoki w taki sam sposób, że używasz innych [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-120">Therefore, from code, you can get or set dependency properties by calling [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] accessors that define the wrappers in the same manner that you would use other [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] properties.</span></span> <span data-ttu-id="24edd-121">Klientów właściwości ustalonych zależności nie zwykle jest używana <xref:System.Windows.DependencyObject> metody <xref:System.Windows.DependencyObject.GetValue%2A> i <xref:System.Windows.DependencyObject.SetValue%2A>, które są punkt połączenia źródłowy system właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-121">As a consumer of established dependency properties, you do not typically use the <xref:System.Windows.DependencyObject> methods <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A>, which are the connection point to the underlying property system.</span></span> <span data-ttu-id="24edd-122">Zamiast istniejącego wdrożenia [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] właściwości ma już wywołana <xref:System.Windows.DependencyObject.GetValue%2A> i <xref:System.Windows.DependencyObject.SetValue%2A> w `get` i `set` implementacje otoki właściwości, korzystając z pola Identyfikator odpowiednio .</span><span class="sxs-lookup"><span data-stu-id="24edd-122">Rather, the existing implementation of the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] properties will have already called <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> within the `get` and `set` wrapper implementations of the property, using the identifier field appropriately.</span></span> <span data-ttu-id="24edd-123">W przypadku wdrażania właściwości niestandardowe zależności samodzielnie, następnie będzie zdefiniowanie jest otoka w podobny sposób.</span><span class="sxs-lookup"><span data-stu-id="24edd-123">If you are implementing a custom dependency property yourself, then you will be defining the wrapper in a similar way.</span></span>  
  
<a name="backing_with_dp"></a>   
## <a name="when-should-you-implement-a-dependency-property"></a><span data-ttu-id="24edd-124">Kiedy należy zaimplementować właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="24edd-124">When Should You Implement a Dependency Property?</span></span>  
 <span data-ttu-id="24edd-125">Podczas implementacji właściwości klasy, tak długo, jak pochodną klasy <xref:System.Windows.DependencyObject>, istnieje możliwość kopii z właściwości o <xref:System.Windows.DependencyProperty> identyfikator i w związku z tym dokonanie właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="24edd-125">When you implement a property on a class, so long as your class derives from <xref:System.Windows.DependencyObject>, you have the option to back your property with a <xref:System.Windows.DependencyProperty> identifier and thus to make it a dependency property.</span></span> <span data-ttu-id="24edd-126">Wystąpienia użytkownika właściwości być właściwością zależności nie zawsze jest konieczne lub właściwe, zależy od potrzeb scenariusza.</span><span class="sxs-lookup"><span data-stu-id="24edd-126">Having your property be a dependency property is not always necessary or appropriate, and will depend on your scenario needs.</span></span> <span data-ttu-id="24edd-127">Czasami typowe techniki kopii programu właściwość z polem prywatnej jest odpowiedni.</span><span class="sxs-lookup"><span data-stu-id="24edd-127">Sometimes, the typical technique of backing your property with a private field is adequate.</span></span> <span data-ttu-id="24edd-128">Jednak należy zaimplementować z właściwości jako właściwość zależności przy każdym z właściwości do obsługi co najmniej jeden z następujących [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] możliwości:</span><span class="sxs-lookup"><span data-stu-id="24edd-128">However, you should implement your property as a dependency property whenever you want your property to support one or more of the following [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] capabilities:</span></span>  
  
-   <span data-ttu-id="24edd-129">Chcesz, aby Twoje właściwość jako można ustawić w stylu.</span><span class="sxs-lookup"><span data-stu-id="24edd-129">You want your property to be settable in a style.</span></span> <span data-ttu-id="24edd-130">Aby uzyskać więcej informacji, zobacz [stylami i tworzenia szablonów](../../../../docs/framework/wpf/controls/styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-130">For more information, see [Styling and Templating](../../../../docs/framework/wpf/controls/styling-and-templating.md).</span></span>  
  
-   <span data-ttu-id="24edd-131">Ma równą obsługuje powiązanie danych.</span><span class="sxs-lookup"><span data-stu-id="24edd-131">You want your property to support data binding.</span></span> <span data-ttu-id="24edd-132">Aby uzyskać więcej informacji na temat właściwości zależności wiązania danych zobacz [powiązanie właściwości formantów dwóch](../../../../docs/framework/wpf/data/how-to-bind-the-properties-of-two-controls.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-132">For more information about data binding dependency properties, see [Bind the Properties of Two Controls](../../../../docs/framework/wpf/data/how-to-bind-the-properties-of-two-controls.md).</span></span>  
  
-   <span data-ttu-id="24edd-133">Chcesz, aby Twoje właściwość jako można ustawić z odwołaniem zasobu dynamicznego.</span><span class="sxs-lookup"><span data-stu-id="24edd-133">You want your property to be settable with a dynamic resource reference.</span></span> <span data-ttu-id="24edd-134">Aby uzyskać więcej informacji, zobacz [zasobów XAML](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-134">For more information, see [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span></span>  
  
-   <span data-ttu-id="24edd-135">Użytkownik chce automatycznie dziedziczą wartość właściwości z elementu nadrzędnego w drzewie elementu.</span><span class="sxs-lookup"><span data-stu-id="24edd-135">You want to inherit a property value automatically from a parent element in the element tree.</span></span> <span data-ttu-id="24edd-136">W takim przypadku Zarejestruj <xref:System.Windows.DependencyProperty.RegisterAttached%2A> metody, nawet jeśli tworzysz otokę dla właściwości [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] dostępu.</span><span class="sxs-lookup"><span data-stu-id="24edd-136">In this case, register with the <xref:System.Windows.DependencyProperty.RegisterAttached%2A> method, even if you also create a property wrapper for [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] access.</span></span> <span data-ttu-id="24edd-137">Aby uzyskać więcej informacji, zobacz [dziedziczenie wartości właściwości](../../../../docs/framework/wpf/advanced/property-value-inheritance.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-137">For more information, see [Property Value Inheritance](../../../../docs/framework/wpf/advanced/property-value-inheritance.md).</span></span>  
  
-   <span data-ttu-id="24edd-138">Chcesz, aby Twoje właściwość jako można animować.</span><span class="sxs-lookup"><span data-stu-id="24edd-138">You want your property to be animatable.</span></span> <span data-ttu-id="24edd-139">Aby uzyskać więcej informacji, zobacz [omówienie animacja](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-139">For more information, see [Animation Overview](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md).</span></span>  
  
-   <span data-ttu-id="24edd-140">Podczas poprzedniej wartości właściwości został zmieniony przez akcje wykonywane przez system właściwości, środowiska lub użytkownik lub odczytywania a za pomocą stylów mają system właściwości do raportu.</span><span class="sxs-lookup"><span data-stu-id="24edd-140">You want the property system to report when the previous value of the property has been changed by actions taken by the property system, the environment, or the user, or by reading and using styles.</span></span> <span data-ttu-id="24edd-141">Przy użyciu metadanych właściwości, z właściwości można określić metody wywołania zwrotnego, które będą wywoływane zawsze, gdy system właściwość określa, że ostatecznie zmieniono wartość właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-141">By using property metadata, your property can specify a callback method that will be invoked each time the property system determines that your property value was definitively changed.</span></span> <span data-ttu-id="24edd-142">Powiązane koncepcja jest koercja wartości właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-142">A related concept is property value coercion.</span></span> <span data-ttu-id="24edd-143">Aby uzyskać więcej informacji, zobacz [wywołania zwrotne właściwości zależności i sprawdzania poprawności](../../../../docs/framework/wpf/advanced/dependency-property-callbacks-and-validation.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-143">For more information, see [Dependency Property Callbacks and Validation](../../../../docs/framework/wpf/advanced/dependency-property-callbacks-and-validation.md).</span></span>  
  
-   <span data-ttu-id="24edd-144">Chcesz użyć konwencje ustalonych metadanych, które są również używane przez [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] procesy, takie jak raportowanie czy zmiana wartości właściwości powinny wymagać systemu układu, aby przeskładać elementy wizualne dla elementu.</span><span class="sxs-lookup"><span data-stu-id="24edd-144">You want to use established metadata conventions that are also used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] processes, such as reporting whether changing a property value should require the layout system to recompose the visuals for an element.</span></span> <span data-ttu-id="24edd-145">Lub można było używać zastąpień metadanych, tak aby klas pochodnych można zmienić na podstawie metadanych właściwości, takie jak wartości domyślnej.</span><span class="sxs-lookup"><span data-stu-id="24edd-145">Or you want to be able to use metadata overrides so that derived classes can change metadata-based characteristics such as the default value.</span></span>  
  
-   <span data-ttu-id="24edd-146">Ma właściwości formantu niestandardowego do odbierania [!INCLUDE[vs_orcas_long](../../../../includes/vs-orcas-long-md.md)] [!INCLUDE[wpfdesigner_current_short](../../../../includes/wpfdesigner-current-short-md.md)] pomocy technicznej, takich jak **właściwości** okno edycji.</span><span class="sxs-lookup"><span data-stu-id="24edd-146">You want properties of a custom control to receive [!INCLUDE[vs_orcas_long](../../../../includes/vs-orcas-long-md.md)] [!INCLUDE[wpfdesigner_current_short](../../../../includes/wpfdesigner-current-short-md.md)] support, such as **Properties** window editing.</span></span> <span data-ttu-id="24edd-147">Aby uzyskać więcej informacji, zobacz [informacje o formancie tworzenia](../../../../docs/framework/wpf/controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-147">For more information, see [Control Authoring Overview](../../../../docs/framework/wpf/controls/control-authoring-overview.md).</span></span>  
  
 <span data-ttu-id="24edd-148">Po sprawdzeniu tych scenariuszy należy również rozważyć, czy można uzyskać scenariusz Zastępowanie metadanych istniejącej właściwości zależności, zamiast wykonania całkowicie nową właściwość.</span><span class="sxs-lookup"><span data-stu-id="24edd-148">When you examine these scenarios, you should also consider whether you can achieve your scenario by overriding the metadata of an existing dependency property, rather than implementing a completely new property.</span></span> <span data-ttu-id="24edd-149">Określa, czy zastąpienie metadanych jest praktyczne zależy od danego scenariusza i jak blisko tego scenariusza jest podobny do implementacji w istniejących [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] klasy i właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="24edd-149">Whether a metadata override is practical depends on your scenario and how closely that scenario resembles the implementation in existing [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] dependency properties and classes.</span></span> <span data-ttu-id="24edd-150">Aby uzyskać więcej informacji na temat Zastępowanie metadanych właściwości istniejącej, zobacz [metadanych właściwości zależności](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-150">For more information about overriding metadata on existing properties, see [Dependency Property Metadata](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md).</span></span>  
  
<a name="checklist"></a>   
## <a name="checklist-for-defining-a-dependency-property"></a><span data-ttu-id="24edd-151">Lista kontrolna dotycząca Definiowanie właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="24edd-151">Checklist for Defining a Dependency Property</span></span>  
 <span data-ttu-id="24edd-152">Definiowanie właściwości zależności składa się z czterech różnych pojęcia.</span><span class="sxs-lookup"><span data-stu-id="24edd-152">Defining a dependency property consists of four distinct concepts.</span></span> <span data-ttu-id="24edd-153">Te pojęcia nie są zawsze strict kroki procedur, ponieważ niektóre z nich łączonych jako pojedynczy wierszy kodu w implementacji:</span><span class="sxs-lookup"><span data-stu-id="24edd-153">These concepts are not necessarily strict procedural steps, because some of these end up being combined as single lines of code in the implementation:</span></span>  
  
-   <span data-ttu-id="24edd-154">(Opcjonalnie) Utwórz metadanych właściwości dla właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="24edd-154">(Optional) Create property metadata for the dependency property.</span></span>  
  
-   <span data-ttu-id="24edd-155">Zarejestruj nazwy właściwości w systemie właściwości, typ właściciela i typ wartości właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-155">Register the property name with the property system, specifying an owner type and the type of the property value.</span></span> <span data-ttu-id="24edd-156">Również określić metadanych właściwości, jeśli używana.</span><span class="sxs-lookup"><span data-stu-id="24edd-156">Also specify the property metadata, if used.</span></span>  
  
-   <span data-ttu-id="24edd-157">Zdefiniuj <xref:System.Windows.DependencyProperty> identyfikator `public` `static` `readonly` na typ właściciela.</span><span class="sxs-lookup"><span data-stu-id="24edd-157">Define a <xref:System.Windows.DependencyProperty> identifier as a `public` `static` `readonly` field on the owner type.</span></span>  
  
-   <span data-ttu-id="24edd-158">Zdefiniuj [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] właściwości "otoki", którego nazwa odpowiada nazwie właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="24edd-158">Define a [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] "wrapper" property whose name matches the name of the dependency property.</span></span> <span data-ttu-id="24edd-159">Implementowanie [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] właściwości "otoki" `get` i `set` metod dostępu do nawiązywania połączenia z właściwością zależności, aby utworzyć jego kopię zapasową.</span><span class="sxs-lookup"><span data-stu-id="24edd-159">Implement the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] "wrapper" property's `get` and `set` accessors to connect with the dependency property that backs it.</span></span>  
  
<a name="registering"></a>   
### <a name="registering-the-property-with-the-property-system"></a><span data-ttu-id="24edd-160">Rejestrowanie właściwość z systemu właściwości</span><span class="sxs-lookup"><span data-stu-id="24edd-160">Registering the Property with the Property System</span></span>  
 <span data-ttu-id="24edd-161">Aby dla właściwości z właściwością zależności musisz zarejestrować tej właściwości do obsługiwanego przez system właściwości tabeli i nadaj mu unikatowy identyfikator, który jest używany jako kwalifikator dla późniejszych operacji system właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-161">In order for your property to be a dependency property, you must register that property into a table maintained by the property system, and give it a unique identifier that is used as the qualifier for later property system operations.</span></span> <span data-ttu-id="24edd-162">Te operacje mogą być operacji wewnętrznych lub swoim własnym kodem wywoływanie właściwości systemu [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="24edd-162">These operations might be internal operations, or your own code calling property system [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)].</span></span> <span data-ttu-id="24edd-163">Aby zarejestrować właściwość, należy wywołać <xref:System.Windows.DependencyProperty.Register%2A> metody w treści klasy (wewnątrz klasy, ale poza żadnych definicji elementu członkowskiego).</span><span class="sxs-lookup"><span data-stu-id="24edd-163">To register the property, you call the <xref:System.Windows.DependencyProperty.Register%2A> method within the body of your class (inside the class, but outside of any member definitions).</span></span> <span data-ttu-id="24edd-164">Pole identyfikatora jest również udostępniany przez <xref:System.Windows.DependencyProperty.Register%2A> wywołania metody, jako wartość zwracaną.</span><span class="sxs-lookup"><span data-stu-id="24edd-164">The identifier field is also provided by the <xref:System.Windows.DependencyProperty.Register%2A> method call, as the return value.</span></span> <span data-ttu-id="24edd-165">Powód który <xref:System.Windows.DependencyProperty.Register%2A> wywołania odbywa się poza innego członka definicje są ponieważ zwrócona wartość jest używany do przypisywania i utworzyć `public` `static` `readonly` pole typu <xref:System.Windows.DependencyProperty> w ramach swojej klasy.</span><span class="sxs-lookup"><span data-stu-id="24edd-165">The reason that the <xref:System.Windows.DependencyProperty.Register%2A> call is done outside of other member definitions is because you use this return value to assign and create a `public` `static` `readonly` field of type <xref:System.Windows.DependencyProperty> as part of your class.</span></span> <span data-ttu-id="24edd-166">To pole staje się na identyfikator sieci właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="24edd-166">This field becomes the identifier for your dependency property.</span></span>  
  
 [!code-csharp[WPFAquariumSln#RegisterAG](../../../../samples/snippets/csharp/VS_Snippets_Wpf/WPFAquariumSln/CSharp/WPFAquariumObjects/Class1.cs#registerag)]
 [!code-vb[WPFAquariumSln#RegisterAG](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/WPFAquariumSln/visualbasic/wpfaquariumobjects/class1.vb#registerag)]  
  
<a name="nameconventions"></a>   
### <a name="dependency-property-name-conventions"></a><span data-ttu-id="24edd-167">Konwencje nazw właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="24edd-167">Dependency Property Name Conventions</span></span>  
 <span data-ttu-id="24edd-168">Brak ustalonych konwencje nazewnictwa dotyczące właściwości zależności, które należy wykonać we wszystkich ale w wyjątkowych okolicznościach.</span><span class="sxs-lookup"><span data-stu-id="24edd-168">There are established naming conventions regarding dependency properties that you must follow in all but exceptional circumstances.</span></span>  
  
 <span data-ttu-id="24edd-169">Właściwość zależności mają nazwy podstawowej, "AquariumGraphic", jak w poniższym przykładzie, który jest podawana jako pierwszy parametr <xref:System.Windows.DependencyProperty.Register%2A>.</span><span class="sxs-lookup"><span data-stu-id="24edd-169">The dependency property itself will have a basic name, "AquariumGraphic" as in this example, which is given as the first parameter of <xref:System.Windows.DependencyProperty.Register%2A>.</span></span> <span data-ttu-id="24edd-170">Ta nazwa musi być unikatowa w przypadku każdego typu rejestracji.</span><span class="sxs-lookup"><span data-stu-id="24edd-170">That name must be unique within each registering type.</span></span> <span data-ttu-id="24edd-171">Właściwości zależności dziedziczone przez typy podstawowe są traktowane jako już częścią typu rejestrowania; Nie można ponownie zarejestrować nazwy właściwości dziedziczone.</span><span class="sxs-lookup"><span data-stu-id="24edd-171">Dependency properties inherited through base types are considered to be already part of the registering type; names of inherited properties cannot be registered again.</span></span> <span data-ttu-id="24edd-172">Istnieje jednak technika Dodawanie klasy jako właściciela właściwości zależności, nawet w przypadku danej właściwości zależności nie jest dziedziczona; Aby uzyskać więcej informacji, zobacz [metadanych właściwości zależności](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-172">However, there is a technique for adding a class as owner of a dependency property even when that dependency property is not inherited; for details, see [Dependency Property Metadata](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md).</span></span>  
  
 <span data-ttu-id="24edd-173">Podczas tworzenia w polu identyfikatora nazw to pole, nazwa właściwości zarejestrowanej plus sufiks `Property`.</span><span class="sxs-lookup"><span data-stu-id="24edd-173">When you create the identifier field, name this field by the name of the property as you registered it, plus the suffix `Property`.</span></span> <span data-ttu-id="24edd-174">To pole jest identyfikatorem dla właściwości zależności i będzie służyć jako dane wejściowe dla później <xref:System.Windows.DependencyObject.SetValue%2A> i <xref:System.Windows.DependencyObject.GetValue%2A> wywołania zostaną wprowadzone w otoki, przez wszystkie inne kodu dostępu do właściwości w swoim własnym kodem przez kod zewnętrzny dostęp można zezwolić , przez system właściwości oraz potencjalnie przez [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] procesorów.</span><span class="sxs-lookup"><span data-stu-id="24edd-174">This field is your identifier for the dependency property, and it will be used later as an input for the <xref:System.Windows.DependencyObject.SetValue%2A> and <xref:System.Windows.DependencyObject.GetValue%2A> calls you will make in the wrappers, by any other code access to the property by your own code, by any external code access you allow, by the property system, and potentially by [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processors.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="24edd-175">Definiowanie właściwości zależności w treści klasy jest typowa implementacja, ale jest również możliwe określenie właściwości zależności w konstruktorze statycznym klasy.</span><span class="sxs-lookup"><span data-stu-id="24edd-175">Defining the dependency property in the class body is the typical implementation, but it is also possible to define a dependency property in the class static constructor.</span></span> <span data-ttu-id="24edd-176">Ta metoda może być uzasadnione, jeśli potrzebujesz więcej niż jeden wiersz kodu można zainicjować właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="24edd-176">This approach might make sense if you need more than one line of code to initialize the dependency property.</span></span>  
  
<a name="wrapper1"></a>   
### <a name="implementing-the-wrapper"></a><span data-ttu-id="24edd-177">Implementowanie "Otoki"</span><span class="sxs-lookup"><span data-stu-id="24edd-177">Implementing the "Wrapper"</span></span>  
 <span data-ttu-id="24edd-178">Powinny wywoływać implementację programu otoki <xref:System.Windows.DependencyObject.GetValue%2A> w `get` implementacji i <xref:System.Windows.DependencyObject.SetValue%2A> w `set` implementacji (oryginalny wywołanie rejestracji i pola są wyświetlane tutaj zbyt dla jasności).</span><span class="sxs-lookup"><span data-stu-id="24edd-178">Your wrapper implementation should call <xref:System.Windows.DependencyObject.GetValue%2A> in the `get` implementation, and <xref:System.Windows.DependencyObject.SetValue%2A> in the `set` implementation (the original registration call and field are shown here too for clarity).</span></span>  
  
 <span data-ttu-id="24edd-179">W sytuacjach wyjątkowych wszystkie elementy oprócz implementacjach użytkownika otoki należy wykonać tylko <xref:System.Windows.DependencyObject.GetValue%2A> i <xref:System.Windows.DependencyObject.SetValue%2A> akcje, odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="24edd-179">In all but exceptional circumstances, your wrapper implementations should perform only the <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> actions, respectively.</span></span> <span data-ttu-id="24edd-180">Przyczyną została szczegółowo opisana w temacie [ładowanie XAML i właściwości zależności](../../../../docs/framework/wpf/advanced/xaml-loading-and-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-180">The reason for this is discussed in the topic [XAML Loading and Dependency Properties](../../../../docs/framework/wpf/advanced/xaml-loading-and-dependency-properties.md).</span></span>  
  
 <span data-ttu-id="24edd-181">Wszystkie istniejące właściwości publicznej zależności, które znajdują się na [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] klasy używać tego modelu wdrażania prostego otoki; większość złożoność działania właściwości zależności albo jest z założenia zachowanie systemu właściwości lub jest implementowane za pośrednictwem innych pojęcia, takie jak wywołania zwrotne za pośrednictwem właściwości metadanych o zmianie koercja lub właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-181">All existing public dependency properties that are provided on the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] classes use this simple wrapper implementation model; most of the complexity of how dependency properties work is either inherently a behavior of the property system, or is implemented through other concepts such as coercion or property change callbacks through property metadata.</span></span>  
  
 [!code-csharp[WPFAquariumSln#AGWithWrapper](../../../../samples/snippets/csharp/VS_Snippets_Wpf/WPFAquariumSln/CSharp/WPFAquariumObjects/Class1.cs#agwithwrapper)]
 [!code-vb[WPFAquariumSln#AGWithWrapper](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/WPFAquariumSln/visualbasic/wpfaquariumobjects/class1.vb#agwithwrapper)]  
  
 <span data-ttu-id="24edd-182">Ponownie przez Konwencję, nazwa właściwości otoki musi być taka sama jak nazwa, wybrana opcja i podawana jako pierwszy parametr <xref:System.Windows.DependencyProperty.Register%2A> wywołania zarejestrowanego właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-182">Again, by convention, the name of the wrapper property must be the same as the name chosen and given as first parameter of the <xref:System.Windows.DependencyProperty.Register%2A> call that registered the property.</span></span> <span data-ttu-id="24edd-183">Jeśli Twoje właściwość nie jest zgodna z Konwencji, to nie zawsze wyłączyć wszystkie możliwe użycia, ale można napotkać kilka godne uwagi problemy:</span><span class="sxs-lookup"><span data-stu-id="24edd-183">If your property does not follow the convention, this does not necessarily disable all possible uses, but you will encounter several notable issues:</span></span>  
  
-   <span data-ttu-id="24edd-184">Niektórych aspektów style i szablony nie będą działać.</span><span class="sxs-lookup"><span data-stu-id="24edd-184">Certain aspects of styles and templates will not work.</span></span>  
  
-   <span data-ttu-id="24edd-185">Większość narzędzi i projektantów muszą polegać na konwencje nazewnictwa prawidłowo serializować [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], lub w celu zapewnienia pomocy środowiska projektowego na poziomie poszczególnych właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-185">Most tools and designers must rely on the naming conventions to properly serialize [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], or to provide designer environment assistance at a per-property level.</span></span>  
  
-   <span data-ttu-id="24edd-186">Bieżąca implementacja [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] modułu ładującego całkowicie pomijany otoki i korzysta z konwencją nazewnictwa podczas przetwarzania wartości atrybutów.</span><span class="sxs-lookup"><span data-stu-id="24edd-186">The current implementation of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] loader bypasses the wrappers entirely, and relies on the naming convention when processing attribute values.</span></span> <span data-ttu-id="24edd-187">Aby uzyskać więcej informacji, zobacz [ładowanie XAML i właściwości zależności](../../../../docs/framework/wpf/advanced/xaml-loading-and-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-187">For more information, see [XAML Loading and Dependency Properties](../../../../docs/framework/wpf/advanced/xaml-loading-and-dependency-properties.md).</span></span>  
  
<a name="metadata"></a>   
### <a name="property-metadata-for-a-new-dependency-property"></a><span data-ttu-id="24edd-188">Metadane właściwości dla nowych właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="24edd-188">Property Metadata for a New Dependency Property</span></span>  
 <span data-ttu-id="24edd-189">Podczas rejestrowania właściwości zależności, rejestracja za pomocą właściwości systemu tworzy obiekt metadanych, który przechowuje właściwości właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-189">When you register a dependency property, the registration through the property system creates a metadata object that stores property characteristics.</span></span> <span data-ttu-id="24edd-190">Wiele z tych właściwości mają wartości domyślne, które są ustawione, jeśli właściwość jest zarejestrowany w prosty sygnatur <xref:System.Windows.DependencyProperty.Register%2A>.</span><span class="sxs-lookup"><span data-stu-id="24edd-190">Many of these characteristics have defaults that are set if the property is registered with the simple signatures of <xref:System.Windows.DependencyProperty.Register%2A>.</span></span> <span data-ttu-id="24edd-191">Inne sygnatur <xref:System.Windows.DependencyProperty.Register%2A> umożliwiają określenie metadanych, które ma być zarejestrować właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-191">Other signatures of <xref:System.Windows.DependencyProperty.Register%2A> allow you to specify the metadata that you want as you register the property.</span></span> <span data-ttu-id="24edd-192">Najbardziej typowe metadane dla właściwości zależności jest nadanie im domyślną wartość, jaka jest stosowana na nowe wystąpienia, które należy użyć właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-192">The most common metadata given for dependency properties is to give them a default value that is applied on new instances that use the property.</span></span>  
  
 <span data-ttu-id="24edd-193">Podczas tworzenia właściwości zależności, który istnieje w klasie pochodnej z <xref:System.Windows.FrameworkElement>, można użyć wyspecjalizowanego klasy metadanych <xref:System.Windows.FrameworkPropertyMetadata> zamiast podstawowym <xref:System.Windows.PropertyMetadata> klasy.</span><span class="sxs-lookup"><span data-stu-id="24edd-193">If you are creating a dependency property that exists on a derived class of <xref:System.Windows.FrameworkElement>, you can use the more specialized metadata class <xref:System.Windows.FrameworkPropertyMetadata> rather than the base <xref:System.Windows.PropertyMetadata> class.</span></span> <span data-ttu-id="24edd-194">Konstruktor <xref:System.Windows.FrameworkPropertyMetadata> klasa ma kilka podpisów, w którym można określić różne właściwości metadanych w połączeniu.</span><span class="sxs-lookup"><span data-stu-id="24edd-194">The constructor for the <xref:System.Windows.FrameworkPropertyMetadata> class has several signatures where you can specify various metadata characteristics in combination.</span></span> <span data-ttu-id="24edd-195">Jeśli chcesz określić wartość domyślną tylko Użyj podpisie, który przyjmuje jeden parametr typu <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="24edd-195">If you want to specify the default value only, use the signature that takes a single parameter of type <xref:System.Object>.</span></span> <span data-ttu-id="24edd-196">Przekaż parametru obiektu jako wartość domyślną określonego typu z właściwości (podana wartość domyślna musi być typ przekazany jako `propertyType` parametru w <xref:System.Windows.DependencyProperty.Register%2A> wywołania).</span><span class="sxs-lookup"><span data-stu-id="24edd-196">Pass that object parameter as a type-specific default value for your property (the default value provided must be the type you provided as the `propertyType` parameter in the <xref:System.Windows.DependencyProperty.Register%2A> call).</span></span>  
  
 <span data-ttu-id="24edd-197">Aby uzyskać <xref:System.Windows.FrameworkPropertyMetadata>, można również określić flagi opcji metadane dla właściwości użytkownika.</span><span class="sxs-lookup"><span data-stu-id="24edd-197">For <xref:System.Windows.FrameworkPropertyMetadata>, you can also specify metadata option flags for your property.</span></span> <span data-ttu-id="24edd-198">Te flagi są konwertowane na osobne właściwości metadanych właściwości po rejestracji i są używane do komunikowania się niektórych warunków na inne procesy, takie jak aparatu układu.</span><span class="sxs-lookup"><span data-stu-id="24edd-198">These flags are converted into discrete properties on the property metadata after registration and are used to communicate certain conditionals to other processes such as the layout engine.</span></span>  
  
#### <a name="setting-appropriate-metadata-flags"></a><span data-ttu-id="24edd-199">Ustawienie flagi odpowiednie metadane</span><span class="sxs-lookup"><span data-stu-id="24edd-199">Setting Appropriate Metadata Flags</span></span>  
  
-   <span data-ttu-id="24edd-200">Jeśli właściwość (lub zmiany jego wartości) wpływa na [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], i w szczególności wpływa na sposób system układu powinien rozmiaru lub renderowania, nazwę elementu na stronie ustawić co najmniej jeden z następujących flag: <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsMeasure>, <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsArrange>, <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsRender>.</span><span class="sxs-lookup"><span data-stu-id="24edd-200">If your property (or changes in its value) affects the [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], and in particular affects how the layout system should size or render your element in a page, set one or more of the following flags: <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsMeasure>, <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsArrange>, <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsRender>.</span></span>  
  
    -   <span data-ttu-id="24edd-201"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsMeasure> Wskazuje, że zmiana ta właściwość wymaga zmiany [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] renderowania, w którym obiektu zawierającego konieczność więcej lub mniej miejsca nadrzędnym.</span><span class="sxs-lookup"><span data-stu-id="24edd-201"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsMeasure> indicates that a change to this property requires a change to [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] rendering where the containing object might require more or less space within the parent.</span></span> <span data-ttu-id="24edd-202">Na przykład właściwość "Width" powinien mieć ten zestaw flagi.</span><span class="sxs-lookup"><span data-stu-id="24edd-202">For example, a "Width" property should have this flag set.</span></span>  
  
    -   <span data-ttu-id="24edd-203"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsArrange> Wskazuje, że zmiana ta właściwość wymaga zmiany [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] renderowania, które zwykle nie wymaga zmian w dedykowanym miejsca, ale wskazują, że zmieniła położenie w przestrzeni.</span><span class="sxs-lookup"><span data-stu-id="24edd-203"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsArrange> indicates that a change to this property requires a change to [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] rendering that typically does not require a change in the dedicated space, but does indicate that the positioning within the space has changed.</span></span> <span data-ttu-id="24edd-204">Na przykład "Wyrównania" powinna mieć ten zestaw flagi.</span><span class="sxs-lookup"><span data-stu-id="24edd-204">For example, an "Alignment" property should have this flag set.</span></span>  
  
    -   <span data-ttu-id="24edd-205"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsRender> Wskazuje, że wystąpił kilka dodatkowych zmian, który nie wpłynie na układ i miary, ale wymagają innego renderowania.</span><span class="sxs-lookup"><span data-stu-id="24edd-205"><xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsRender> indicates that some other change has occurred that will not affect layout and measure, but does require another render.</span></span> <span data-ttu-id="24edd-206">Przykładem może być właściwością zmienia kolor istniejącego elementu, takie jak "Tła".</span><span class="sxs-lookup"><span data-stu-id="24edd-206">An example would be a property that changes a color of an existing element, such as "Background".</span></span>  
  
    -   <span data-ttu-id="24edd-207">Te flagi są często używane jako protokół w metadanych własne implementacji zastąpienie właściwości systemu lub układu wywołań zwrotnych.</span><span class="sxs-lookup"><span data-stu-id="24edd-207">These flags are often used as a protocol in metadata for your own override implementations of property system or layout callbacks.</span></span> <span data-ttu-id="24edd-208">Na przykład może być <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> wywołania zwrotnego, które wywoła <xref:System.Windows.UIElement.InvalidateArrange%2A> żadnej właściwości wystąpienia raporty zmiany wartości i czy przypisano <xref:System.Windows.FrameworkPropertyMetadata.AffectsArrange%2A> jako `true` w metadanych.</span><span class="sxs-lookup"><span data-stu-id="24edd-208">For instance, you might have an <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> callback that will call <xref:System.Windows.UIElement.InvalidateArrange%2A> if any property of the instance reports a value change and has <xref:System.Windows.FrameworkPropertyMetadata.AffectsArrange%2A> as `true` in its metadata.</span></span>  
  
-   <span data-ttu-id="24edd-209">Niektóre właściwości może wpłynąć na charakterystykę renderowania zawierającego elementu nadrzędnego, w sposób niż zmiany w wymagany rozmiar wymienionych powyżej.</span><span class="sxs-lookup"><span data-stu-id="24edd-209">Some properties may affect the rendering characteristics of the containing parent element, in ways above and beyond the changes in required size mentioned above.</span></span> <span data-ttu-id="24edd-210">Na przykład <xref:System.Windows.Documents.Paragraph.MinOrphanLines%2A> właściwości używane w modelu dokumentu przepływu, której zmiany wprowadzone do tej właściwości można zmienić ogólną renderowania dokumentu przepływu, który zawiera akapitu.</span><span class="sxs-lookup"><span data-stu-id="24edd-210">An example is the <xref:System.Windows.Documents.Paragraph.MinOrphanLines%2A> property used in the flow document model, where changes to that property can change the overall rendering of the flow document that contains the paragraph.</span></span> <span data-ttu-id="24edd-211">Użyj <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsParentArrange> lub <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsParentMeasure> do identyfikowania podobnych przypadków własnych właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-211">Use <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsParentArrange> or <xref:System.Windows.FrameworkPropertyMetadataOptions.AffectsParentMeasure> to identify similar cases in your own properties.</span></span>  
  
-   <span data-ttu-id="24edd-212">Domyślnie właściwości zależności obsługuje powiązanie danych.</span><span class="sxs-lookup"><span data-stu-id="24edd-212">By default, dependency properties support data binding.</span></span> <span data-ttu-id="24edd-213">Powiązanie danych w przypadkach, można wyłączyć celowo, jeżeli nie nie realistyczne scenariusz wiązania z danymi lub gdy wydajność w powiązaniu danych dla dużego obiektu jest rozpoznawana jako problem.</span><span class="sxs-lookup"><span data-stu-id="24edd-213">You can deliberately disable data binding, for cases where there is no realistic scenario for data binding, or where performance in data binding for a large object is recognized as a problem.</span></span>  
  
-   <span data-ttu-id="24edd-214">Domyślnie powiązanie danych <xref:System.Windows.Data.Binding.Mode%2A> dla parametrów domyślnych właściwości zależności do <xref:System.Windows.Data.BindingMode.OneWay>.</span><span class="sxs-lookup"><span data-stu-id="24edd-214">By default, data binding <xref:System.Windows.Data.Binding.Mode%2A> for dependency properties defaults to <xref:System.Windows.Data.BindingMode.OneWay>.</span></span> <span data-ttu-id="24edd-215">Zawsze można zmienić powiązanie <xref:System.Windows.Data.BindingMode.TwoWay> na wystąpienie obiektu binding; Aby uzyskać więcej informacji, zobacz [określ kierunek powiązania](../../../../docs/framework/wpf/data/how-to-specify-the-direction-of-the-binding.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-215">You can always change the binding to be <xref:System.Windows.Data.BindingMode.TwoWay> per binding instance; for details, see [Specify the Direction of the Binding](../../../../docs/framework/wpf/data/how-to-specify-the-direction-of-the-binding.md).</span></span> <span data-ttu-id="24edd-216">Ale Autor właściwości zależności, możesz wprowadzić właściwości użyj <xref:System.Windows.Data.BindingMode.TwoWay> tryb wiązania domyślnie.</span><span class="sxs-lookup"><span data-stu-id="24edd-216">But as the dependency property author, you can choose to make the property use <xref:System.Windows.Data.BindingMode.TwoWay> binding mode by default.</span></span> <span data-ttu-id="24edd-217">Na przykład z istniejącej właściwości zależności <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A?displayProperty=nameWithType>; scenariusz dla tej właściwości jest to, że <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A> ustawienie logiki i składania kanałów z <xref:System.Windows.Controls.MenuItem> interakcji z domyślnym stylu motywu.</span><span class="sxs-lookup"><span data-stu-id="24edd-217">An example of an existing dependency property is <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A?displayProperty=nameWithType>; the scenario for this property is that the <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A> setting logic and the compositing of <xref:System.Windows.Controls.MenuItem> interact with the default theme style.</span></span> <span data-ttu-id="24edd-218"><xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A> Logiki właściwości wykorzystuje wiązania danych natywnie do zarządzania stanem właściwości zgodnie z innych właściwości stanu i wywołania metody.</span><span class="sxs-lookup"><span data-stu-id="24edd-218">The <xref:System.Windows.Controls.MenuItem.IsSubmenuOpen%2A> property logic uses data binding natively to maintain the state of the property in accordance to other state properties and method calls.</span></span> <span data-ttu-id="24edd-219">Inna właściwość przykładzie, który wiąże <xref:System.Windows.Data.BindingMode.TwoWay> domyślnie jest <xref:System.Windows.Controls.TextBox.Text%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="24edd-219">Another example property that binds <xref:System.Windows.Data.BindingMode.TwoWay> by default is <xref:System.Windows.Controls.TextBox.Text%2A?displayProperty=nameWithType>.</span></span>  
  
-   <span data-ttu-id="24edd-220">Dziedziczenie właściwości we właściwości niestandardowej zależności można także włączyć, ustawiając <xref:System.Windows.FrameworkPropertyMetadataOptions.Inherits> flagi.</span><span class="sxs-lookup"><span data-stu-id="24edd-220">You can also enable property inheritance in a custom dependency property by setting the <xref:System.Windows.FrameworkPropertyMetadataOptions.Inherits> flag.</span></span> <span data-ttu-id="24edd-221">Dziedziczenie właściwości jest przydatne w sytuacji, gdy elementy nadrzędne i podrzędne mają właściwość wspólną i warto dla obiekt podrzędny elementów ma tę wartość określonej właściwości ustawioną taką samą wartość jak ustawić nadrzędnego.</span><span class="sxs-lookup"><span data-stu-id="24edd-221">Property inheritance is useful for a scenario where parent elements and child elements have a property in common, and it makes sense for the child elements to have that particular property value set to the same value as the parent set it.</span></span> <span data-ttu-id="24edd-222">Przykład właściwości dziedziczonych jest <xref:System.Windows.FrameworkElement.DataContext%2A>, która jest używana do wiązania operacji scenariusza ważne główny szczegółowy prezentacji danych.</span><span class="sxs-lookup"><span data-stu-id="24edd-222">An example inheritable property is <xref:System.Windows.FrameworkElement.DataContext%2A>, which is used for binding operations to enable the important master-detail scenario for data presentation.</span></span> <span data-ttu-id="24edd-223">Tworząc <xref:System.Windows.FrameworkElement.DataContext%2A> dziedziczona, wszystkie elementy podrzędne dziedziczą tego kontekstu danych również.</span><span class="sxs-lookup"><span data-stu-id="24edd-223">By making <xref:System.Windows.FrameworkElement.DataContext%2A> inheritable, any child elements inherit that data context also.</span></span> <span data-ttu-id="24edd-224">Ze względu na wartość dziedziczenia mogą określać kontekst danych w katalogu głównym strony lub aplikacji, a nie trzeba respecify go dla powiązania w wszystkie elementy podrzędne możliwe.</span><span class="sxs-lookup"><span data-stu-id="24edd-224">Because of property value inheritance, you can specify a data context at the page or application root, and do not need to respecify it for bindings in all possible child elements.</span></span> <span data-ttu-id="24edd-225"><xref:System.Windows.FrameworkElement.DataContext%2A> jest również dobrym przykładem w celu zilustrowania dziedziczenia przesłaniać wartość domyślną, że można zawsze można ustawić lokalnie na dowolny element podrzędny określonego; Aby uzyskać więcej informacji, zobacz [Użyj wzorca wzorzec-szczegół z danymi hierarchicznymi](../../../../docs/framework/wpf/data/how-to-use-the-master-detail-pattern-with-hierarchical-data.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-225"><xref:System.Windows.FrameworkElement.DataContext%2A> is also a good example to illustrate that inheritance overrides the default value, but it can always be set locally on any particular child element; for details, see [Use the Master-Detail Pattern with Hierarchical Data](../../../../docs/framework/wpf/data/how-to-use-the-master-detail-pattern-with-hierarchical-data.md).</span></span> <span data-ttu-id="24edd-226">Dziedziczenie właściwości wartość ma na wydajność, możliwości i w związku z tym powinny być używane rzadko; Aby uzyskać więcej informacji, zobacz [dziedziczenie wartości właściwości](../../../../docs/framework/wpf/advanced/property-value-inheritance.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-226">Property value inheritance does have a possible performance cost, and thus should be used sparingly; for details, see [Property Value Inheritance](../../../../docs/framework/wpf/advanced/property-value-inheritance.md).</span></span>  
  
-   <span data-ttu-id="24edd-227">Ustaw <xref:System.Windows.FrameworkPropertyMetadataOptions.Journal> flagę wskazującą, czy wykryto lub używane przez usługi rejestrowania nawigacji z właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="24edd-227">Set the <xref:System.Windows.FrameworkPropertyMetadataOptions.Journal> flag to indicate if your dependency property should be detected or used by navigation journaling services.</span></span> <span data-ttu-id="24edd-228">Na przykład <xref:System.Windows.Controls.Primitives.Selector.SelectedIndex%2A> właściwości; dowolnego elementu wybranego w wyborze kontroli powinny być zachowywane w przypadku historii rejestrowania jest przejście.</span><span class="sxs-lookup"><span data-stu-id="24edd-228">An example is the <xref:System.Windows.Controls.Primitives.Selector.SelectedIndex%2A> property; any item selected in a selection control should be persisted when the journaling history is navigated.</span></span>  
  
<a name="RODP"></a>   
## <a name="read-only-dependency-properties"></a><span data-ttu-id="24edd-229">Właściwości zależności tylko do odczytu</span><span class="sxs-lookup"><span data-stu-id="24edd-229">Read-Only Dependency Properties</span></span>  
 <span data-ttu-id="24edd-230">Można zdefiniować właściwości zależności, która jest tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="24edd-230">You can define a dependency property that is read-only.</span></span> <span data-ttu-id="24edd-231">Scenariusze dotyczące Dlaczego można zdefiniować jako tylko do odczytu z właściwości są jednak nieco inny, jak jest to procedura rejestrowania ich w systemie właściwości i udostępnianie identyfikator.</span><span class="sxs-lookup"><span data-stu-id="24edd-231">However, the scenarios for why you might define your property as read-only are somewhat different, as is the procedure for registering them with the property system and exposing the identifier.</span></span> <span data-ttu-id="24edd-232">Aby uzyskać więcej informacji, zobacz [tylko do odczytu właściwości zależności](../../../../docs/framework/wpf/advanced/read-only-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-232">For more information, see [Read-Only Dependency Properties](../../../../docs/framework/wpf/advanced/read-only-dependency-properties.md).</span></span>  
  
<a name="CTDP"></a>   
## <a name="collection-type-dependency-properties"></a><span data-ttu-id="24edd-233">Właściwości zależności typu kolekcji</span><span class="sxs-lookup"><span data-stu-id="24edd-233">Collection-Type Dependency Properties</span></span>  
 <span data-ttu-id="24edd-234">Typ kolekcji właściwości zależności mają niektórych problemów z implementacją dodatkowe wziąć pod uwagę.</span><span class="sxs-lookup"><span data-stu-id="24edd-234">Collection-type dependency properties have some additional implementation issues to consider.</span></span> <span data-ttu-id="24edd-235">Aby uzyskać więcej informacji, zobacz [właściwości zależności typu kolekcji](../../../../docs/framework/wpf/advanced/collection-type-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-235">For details, see [Collection-Type Dependency Properties](../../../../docs/framework/wpf/advanced/collection-type-dependency-properties.md).</span></span>  
  
<a name="SecurityC"></a>   
## <a name="dependency-property-security-considerations"></a><span data-ttu-id="24edd-236">Zagadnienia dotyczące zabezpieczeń właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="24edd-236">Dependency Property Security Considerations</span></span>  
 <span data-ttu-id="24edd-237">Właściwości zależności powinien być zadeklarowany jako publiczny właściwości.</span><span class="sxs-lookup"><span data-stu-id="24edd-237">Dependency properties should be declared as public properties.</span></span> <span data-ttu-id="24edd-238">Pola identyfikatora właściwości zależności powinien być zadeklarowany jako publiczny pola statyczne.</span><span class="sxs-lookup"><span data-stu-id="24edd-238">Dependency property identifier fields should be declared as public static fields.</span></span> <span data-ttu-id="24edd-239">Nawet jeśli spróbujesz zadeklarować inne poziomy dostępu (takich jak chroniony), właściwości zależności można uzyskać za pomocą identyfikatora w połączeniu z systemu właściwości [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="24edd-239">Even if you attempt to declare other access levels (such as protected), a dependency property can always be accessed through the identifier in combination with the property system [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)].</span></span> <span data-ttu-id="24edd-240">Nawet pola Identyfikator chronionego jest potencjalnie niedostępny z powodu oznaczenia metadanych raportowania lub wartość [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] będących częścią właściwości systemu, takich jak <xref:System.Windows.LocalValueEnumerator>.</span><span class="sxs-lookup"><span data-stu-id="24edd-240">Even a protected identifier field is potentially accessible because of metadata reporting or value determination [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] that are part of the property system, such as <xref:System.Windows.LocalValueEnumerator>.</span></span> <span data-ttu-id="24edd-241">Aby uzyskać więcej informacji, zobacz [zabezpieczeń właściwości zależności](../../../../docs/framework/wpf/advanced/dependency-property-security.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-241">For more information, see [Dependency Property Security](../../../../docs/framework/wpf/advanced/dependency-property-security.md).</span></span>  
  
<a name="DPCtor"></a>   
## <a name="dependency-properties-and-class-constructors"></a><span data-ttu-id="24edd-242">Właściwości zależności i konstruktorów klas</span><span class="sxs-lookup"><span data-stu-id="24edd-242">Dependency Properties and Class Constructors</span></span>  
 <span data-ttu-id="24edd-243">Brak zasadniczo w programowaniu kodu zarządzanego (często wymuszane przez narzędzi analizy kodu, takie jak FxCop), która klasa konstruktorów nie powinny wywoływać metody wirtualne.</span><span class="sxs-lookup"><span data-stu-id="24edd-243">There is a general principle in managed code programming (often enforced by code analysis tools such as FxCop) that class constructors should not call virtual methods.</span></span> <span data-ttu-id="24edd-244">To dlatego konstruktorów można wywołać jako podstawowy inicjowania konstruktora klasy pochodnej i wprowadzania metody wirtualnej za pomocą konstruktora może wystąpić w stanie inicjowania niekompletne budowany wystąpienia obiektu.</span><span class="sxs-lookup"><span data-stu-id="24edd-244">This is because constructors can be called as base initialization of a derived class constructor, and entering the virtual method through the constructor might occur at an incomplete initialization state of the object instance being constructed.</span></span> <span data-ttu-id="24edd-245">Jeśli pochodzi z dowolną klasę pochodzącą z <xref:System.Windows.DependencyObject>, należy zwrócić uwagę, że system właściwości wywołuje i udostępnia metody wirtualnej wewnętrznie.</span><span class="sxs-lookup"><span data-stu-id="24edd-245">When you derive from any class that already derives from <xref:System.Windows.DependencyObject>, you should be aware that the property system itself calls and exposes virtual methods internally.</span></span> <span data-ttu-id="24edd-246">Te metody wirtualne są częścią [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] właściwości usług systemowych.</span><span class="sxs-lookup"><span data-stu-id="24edd-246">These virtual methods are part of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system services.</span></span> <span data-ttu-id="24edd-247">Zastępowanie metody umożliwia klas pochodnych brać udziału w określenie wartości.</span><span class="sxs-lookup"><span data-stu-id="24edd-247">Overriding the methods enables derived classes to participate in value determination.</span></span> <span data-ttu-id="24edd-248">Aby uniknąć potencjalnych problemów z inicjowania w czasie wykonywania, nie należy ustawiać zależności wartości właściwości konstruktorów klas, chyba że zostaną wykonane wzorzec bardzo specyficznego konstruktora.</span><span class="sxs-lookup"><span data-stu-id="24edd-248">To avoid potential issues with runtime initialization, you should not set dependency property values within constructors of classes, unless you follow a very specific constructor pattern.</span></span> <span data-ttu-id="24edd-249">Aby uzyskać więcej informacji, zobacz [bezpieczne wzorce konstruktora dla DependencyObjects](../../../../docs/framework/wpf/advanced/safe-constructor-patterns-for-dependencyobjects.md).</span><span class="sxs-lookup"><span data-stu-id="24edd-249">For details, see [Safe Constructor Patterns for DependencyObjects](../../../../docs/framework/wpf/advanced/safe-constructor-patterns-for-dependencyobjects.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="24edd-250">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="24edd-250">See Also</span></span>  
 [<span data-ttu-id="24edd-251">Przegląd właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="24edd-251">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)  
 [<span data-ttu-id="24edd-252">Metadane zależności właściwości</span><span class="sxs-lookup"><span data-stu-id="24edd-252">Dependency Property Metadata</span></span>](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md)  
 [<span data-ttu-id="24edd-253">Tworzenie kontrolek — omówienie</span><span class="sxs-lookup"><span data-stu-id="24edd-253">Control Authoring Overview</span></span>](../../../../docs/framework/wpf/controls/control-authoring-overview.md)  
 [<span data-ttu-id="24edd-254">Właściwości zależności typu kolekcji</span><span class="sxs-lookup"><span data-stu-id="24edd-254">Collection-Type Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/collection-type-dependency-properties.md)  
 [<span data-ttu-id="24edd-255">Zabezpieczenia właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="24edd-255">Dependency Property Security</span></span>](../../../../docs/framework/wpf/advanced/dependency-property-security.md)  
 [<span data-ttu-id="24edd-256">Ładowanie XAML i właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="24edd-256">XAML Loading and Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/xaml-loading-and-dependency-properties.md)  
 [<span data-ttu-id="24edd-257">Bezpieczne wzorce konstruktora dla obiektów DependencyObjects</span><span class="sxs-lookup"><span data-stu-id="24edd-257">Safe Constructor Patterns for DependencyObjects</span></span>](../../../../docs/framework/wpf/advanced/safe-constructor-patterns-for-dependencyobjects.md)
