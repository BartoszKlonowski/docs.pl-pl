---
title: Przegląd Regiony technologiczne
ms.date: 03/30/2017
helpviewer_keywords:
- window regions [WPF]
- Win32 code [WPF], WPF interoperation
- Win32 code [WPF], airspace
- airspace [WPF]
- interoperability [WPF], airspace
- Win32 code [WPF], window regions
ms.assetid: b7cc350f-b9e2-48b1-be14-60f3d853222e
ms.openlocfilehash: 4f1489065a70065700d2f8ceb974e66ecceeebd0
ms.sourcegitcommit: 77e33b682db39955e331b8e8eda4ef1925a24e78
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/29/2019
ms.locfileid: "70133814"
---
# <a name="technology-regions-overview"></a><span data-ttu-id="5716f-102">Przegląd Regiony technologiczne</span><span class="sxs-lookup"><span data-stu-id="5716f-102">Technology Regions Overview</span></span>
<span data-ttu-id="5716f-103">Jeśli w aplikacji jest używanych wiele technologii prezentacji, takich jak WPF, Win32 lub DirectX, muszą one udostępnić obszary renderowania w ramach wspólnego okna najwyższego poziomu.</span><span class="sxs-lookup"><span data-stu-id="5716f-103">If multiple presentation technologies are used in an application, such as WPF, Win32, or DirectX, they must share the rendering areas within a common top-level window.</span></span> <span data-ttu-id="5716f-104">W tym temacie opisano problemy, które mogą mieć wpływ na prezentację i dane wejściowe aplikacji międzyoperacyjnej WPF.</span><span class="sxs-lookup"><span data-stu-id="5716f-104">This topic describes issues that might influence the presentation and input for your WPF interoperation application.</span></span>  
  
## <a name="regions"></a><span data-ttu-id="5716f-105">Regions</span><span class="sxs-lookup"><span data-stu-id="5716f-105">Regions</span></span>  
 <span data-ttu-id="5716f-106">W oknie najwyższego poziomu można konceptualizacji, że każdy HWND, który składa się z jednej z technologii aplikacji międzyoperacyjnej, ma własny region (nazywany także "przestrzenią powietrzną").</span><span class="sxs-lookup"><span data-stu-id="5716f-106">Within a top-level window, you can conceptualize that each HWND that comprises one of the technologies of an interoperation application has its own region (also called "airspace").</span></span> <span data-ttu-id="5716f-107">Każdy piksel w oknie należy do dokładnie jednego elementu HWND, który stanowi region tego elementu HWND.</span><span class="sxs-lookup"><span data-stu-id="5716f-107">Each pixel within the window belongs to exactly one HWND, which constitutes the region of that HWND.</span></span> <span data-ttu-id="5716f-108">(Dokładnie mówiąc, istnieje więcej niż jeden [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] region, jeśli istnieje więcej niż jeden [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] HWND, ale na potrzeby tej dyskusji można założyć, że jest tylko jeden).</span><span class="sxs-lookup"><span data-stu-id="5716f-108">(Strictly speaking, there is more than one [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] region if there is more than one [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] HWND, but for purposes of this discussion, you can assume there is only one).</span></span> <span data-ttu-id="5716f-109">Region oznacza, że wszystkie warstwy lub inne okna, które próbują renderować powyżej piksela w okresie istnienia aplikacji, muszą być częścią tej samej technologii renderowania.</span><span class="sxs-lookup"><span data-stu-id="5716f-109">The region implies that all layers or other windows that attempt to render above that pixel during application lifetime must be part of the same render-level technology.</span></span> <span data-ttu-id="5716f-110">Podjęto próbę [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] renderowania pikseli [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] przez potencjalną liczbę niepożądanych wyników i jest niedozwolony przez interfejsy API międzyoperacyjności.</span><span class="sxs-lookup"><span data-stu-id="5716f-110">Attempting to render [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] pixels over [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] leads to undesirable results, and is disallowed as much as possible through the interoperation APIs.</span></span>  
  
### <a name="region-examples"></a><span data-ttu-id="5716f-111">Przykłady regionów</span><span class="sxs-lookup"><span data-stu-id="5716f-111">Region Examples</span></span>  
 <span data-ttu-id="5716f-112">Na poniższej ilustracji przedstawiono aplikację, która Miksuje [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)], DirectX i. [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]</span><span class="sxs-lookup"><span data-stu-id="5716f-112">The following illustration shows an application that mixes [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)], DirectX, and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="5716f-113">Każda technologia używa własnego, nienakładających się zestawów pikseli i nie ma żadnych problemów z regionem.</span><span class="sxs-lookup"><span data-stu-id="5716f-113">Each technology uses its own separate, non-overlapping set of pixels, and there are no region issues.</span></span>  
  
 ![Przykład aplikacji, która Miksuje Win32, DirectX i WPF.](./media/technology-regions-overview/win32-directx-windows-presentation-foundation-application.png)  
  
 <span data-ttu-id="5716f-115">Załóżmy, że ta aplikacja używa położenia wskaźnika myszy, aby utworzyć animację, która próbuje renderować wszystkie z tych trzech regionów.</span><span class="sxs-lookup"><span data-stu-id="5716f-115">Suppose that this application uses the mouse pointer position to create an animation that attempts to render over any of these three regions.</span></span> <span data-ttu-id="5716f-116">Niezależnie od tego, która technologia była odpowiedzialna za samą animację, ta technologia narusza region pozostałych dwóch.</span><span class="sxs-lookup"><span data-stu-id="5716f-116">No matter which technology was responsible for the animation itself, that technology would violate the region of the other two.</span></span> <span data-ttu-id="5716f-117">Na poniższej ilustracji przedstawiono próbę renderowania kółka WPF w regionie Win32.</span><span class="sxs-lookup"><span data-stu-id="5716f-117">The following illustration shows an attempt to render a WPF circle over a Win32 region.</span></span>  
  
 ![Próba renderowania kółka WPF w regionie Win32.](./media/technology-regions-overview/render-windows-presentation-foundation-circle-over-win32-region.png)  
  
 <span data-ttu-id="5716f-119">Inne naruszenie polega na tym, że próbujesz użyć mieszania folii/alfa między różnymi technologiami.</span><span class="sxs-lookup"><span data-stu-id="5716f-119">Another violation is if you try to use transparency/alpha blending between different technologies.</span></span>  <span data-ttu-id="5716f-120">Na poniższej ilustracji [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] pole narusza [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] regiony i program DirectX.</span><span class="sxs-lookup"><span data-stu-id="5716f-120">In the following illustration, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] box violates the [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] and DirectX regions.</span></span> <span data-ttu-id="5716f-121">Ze względu na [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] to, że piksele w tym polu są częściowo przezroczyste, muszą być wspólne przez program [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]DirectX i, co nie jest możliwe.</span><span class="sxs-lookup"><span data-stu-id="5716f-121">Because pixels in that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] box are semi-transparent, they would have to be owned jointly by both DirectX and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], which is not possible.</span></span>  <span data-ttu-id="5716f-122">Jest to inne naruszenie i nie można go skompilować.</span><span class="sxs-lookup"><span data-stu-id="5716f-122">So this is another violation and cannot be built.</span></span>  
  
 ![Diagram przedstawiający pole WPF narusza regiony Win32 i DirectX.](./media/technology-regions-overview/windows-foundation-presentation-box-violate-win32-directx-region.png)  
  
 <span data-ttu-id="5716f-124">W poprzednich trzech przykładach użyto prostokątnych regionów, ale różne kształty są możliwe.</span><span class="sxs-lookup"><span data-stu-id="5716f-124">The previous three examples used rectangular regions, but different shapes are possible.</span></span>  <span data-ttu-id="5716f-125">Na przykład region może mieć otwór.</span><span class="sxs-lookup"><span data-stu-id="5716f-125">For example, a region can have a hole.</span></span> <span data-ttu-id="5716f-126">Na poniższej ilustracji przedstawiono [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] region z prostokątnym otworem, czyli rozmiar [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] połączonych regionów i programu DirectX.</span><span class="sxs-lookup"><span data-stu-id="5716f-126">The following illustration shows a [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] region with a rectangular hole this is the size of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and DirectX regions combined.</span></span>  
  
 ![Diagram, który pokazuje Region Win32 z prostokątnym otworem.](./media/technology-regions-overview/win32-region-rectangular-hole.png)  
  
 <span data-ttu-id="5716f-128">Regiony mogą być również całkowicie nieprostokątne lub dowolnego kształtu describable przez [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] HRGN (region).</span><span class="sxs-lookup"><span data-stu-id="5716f-128">Regions can also be completely nonrectangular, or any shape describable by a [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] HRGN (region).</span></span>  
  
 ![Diagram, który pokazuje Region nieprostokątny.](./media/technology-regions-overview/nonrectangular-win32-region.png)  
  
## <a name="transparency-and-top-level-windows"></a><span data-ttu-id="5716f-130">Przezroczystość i okna najwyższego poziomu</span><span class="sxs-lookup"><span data-stu-id="5716f-130">Transparency and Top-Level Windows</span></span>  
 <span data-ttu-id="5716f-131">Menedżer okien w systemie Windows tylko naprawdę przetwarza [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] HWND.</span><span class="sxs-lookup"><span data-stu-id="5716f-131">The window manager in Windows only really processes [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] HWNDs.</span></span> <span data-ttu-id="5716f-132">W związku z [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] tym, co <xref:System.Windows.Window> jest HWND.</span><span class="sxs-lookup"><span data-stu-id="5716f-132">Therefore, every [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <xref:System.Windows.Window> is an HWND.</span></span> <span data-ttu-id="5716f-133"><xref:System.Windows.Window> Właściwość HWND musi przestrzegać ogólnych reguł dla dowolnego elementu HWND.</span><span class="sxs-lookup"><span data-stu-id="5716f-133">The <xref:System.Windows.Window> HWND must abide by the general rules for any HWND.</span></span> <span data-ttu-id="5716f-134">W tym elemencie HWND [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] kod może wykonywać wszelkie ogólne [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] obsługa interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="5716f-134">Within that HWND, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] code can do whatever the overall [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] APIs support.</span></span> <span data-ttu-id="5716f-135">Jednak w przypadku interakcji z innymi atrybutami HWND na pulpicie [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] należy [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] przestrzegać zasad przetwarzania i renderowania.</span><span class="sxs-lookup"><span data-stu-id="5716f-135">But for interactions with other HWNDs on the desktop, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] must abide by [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] processing and rendering rules.</span></span>  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="5716f-136">obsługuje okna nieprostokątne za pomocą [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] interfejsów API — HRGNs dla okien nieprostokątnych i warstwowych okien dla alfa w pikselach.</span><span class="sxs-lookup"><span data-stu-id="5716f-136">supports non-rectangular windows by using [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] APIs—HRGNs for non-rectangular windows, and layered windows for a per-pixel alpha.</span></span>  
  
 <span data-ttu-id="5716f-137">Stałe klucze alfa i kolorowe nie są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="5716f-137">Constant alpha and color keys are not supported.</span></span>  [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)]<span data-ttu-id="5716f-138">funkcje okna warstwowego różnią się w zależności od platformy.</span><span class="sxs-lookup"><span data-stu-id="5716f-138">layered window capabilities vary by platform.</span></span>  
  
 <span data-ttu-id="5716f-139">Okna z warstwami mogą być przezroczyste w całym oknie (częściowo przezroczyste) przez określenie wartości alfa, która ma być stosowana do każdego piksela w oknie.</span><span class="sxs-lookup"><span data-stu-id="5716f-139">Layered windows can make the entire window translucent (semi-transparent) by specifying an alpha value to apply to every pixel in the window.</span></span>  <span data-ttu-id="5716f-140">([!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] w rzeczywistości obsługuje alfa w pikselach, ale jest to bardzo trudne do użycia w praktycznych programach, ponieważ w tym trybie należy samodzielnie narysować dowolny podrzędny element HWND, w tym okna dialogowe i listy rozwijane).</span><span class="sxs-lookup"><span data-stu-id="5716f-140">([!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] in fact supports per-pixel alpha, but this is very difficult to use in practical programs because in this mode you would need to draw any child HWND yourself, including dialogs and dropdowns).</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="5716f-141">obsługuje HRGNs; nie ma jednak żadnych zarządzanych interfejsów API dla tej funkcji.</span><span class="sxs-lookup"><span data-stu-id="5716f-141">supports HRGNs; however, there are no managed APIs for this functionality.</span></span> <span data-ttu-id="5716f-142">Można użyć wywołania platformy i <xref:System.Windows.Interop.HwndSource> wywołać odpowiednie [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] interfejsy API.</span><span class="sxs-lookup"><span data-stu-id="5716f-142">You can use platform invoke and <xref:System.Windows.Interop.HwndSource> to call the relevant [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] APIs.</span></span> <span data-ttu-id="5716f-143">Aby uzyskać więcej informacji, zobacz [wywoływanie funkcji natywnych z kodu zarządzanego](/cpp/dotnet/calling-native-functions-from-managed-code).</span><span class="sxs-lookup"><span data-stu-id="5716f-143">For more information, see [Calling Native Functions from Managed Code](/cpp/dotnet/calling-native-functions-from-managed-code).</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="5716f-144">okna z warstwami mają różne możliwości w różnych systemach operacyjnych.</span><span class="sxs-lookup"><span data-stu-id="5716f-144">layered windows have different capabilities on different operating systems.</span></span> <span data-ttu-id="5716f-145">Jest to spowodowane [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] tym, że program używa DirectX do renderowania, a warstwowe okna zostały głównie zaprojektowane do renderowania GDI, a nie renderowania DirectX.</span><span class="sxs-lookup"><span data-stu-id="5716f-145">This is because [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses DirectX to render, and layered windows were primarily designed for GDI rendering, not DirectX rendering.</span></span>  
  
- <span data-ttu-id="5716f-146">WPF obsługuje sprzętowe przyspieszone okna z warstwami.</span><span class="sxs-lookup"><span data-stu-id="5716f-146">WPF supports hardware accelerated layered windows.</span></span>  
  
- [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="5716f-147">Program nie obsługuje przezroczystych kluczy kolorów, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ponieważ nie może gwarantować dokładnego koloru, szczególnie gdy renderowanie jest przyspieszane sprzętowo.</span><span class="sxs-lookup"><span data-stu-id="5716f-147">does not support transparency color keys, because [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] cannot guarantee to render the exact color you requested, particularly when rendering is hardware-accelerated.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5716f-148">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="5716f-148">See also</span></span>

- [<span data-ttu-id="5716f-149">WPF i Win32 — współdziałanie</span><span class="sxs-lookup"><span data-stu-id="5716f-149">WPF and Win32 Interoperation</span></span>](wpf-and-win32-interoperation.md)
- [<span data-ttu-id="5716f-150">Przewodnik: Hostowanie zegara WPF w Win32</span><span class="sxs-lookup"><span data-stu-id="5716f-150">Walkthrough: Hosting a WPF Clock in Win32</span></span>](walkthrough-hosting-a-wpf-clock-in-win32.md)
- [<span data-ttu-id="5716f-151">Hosting zawartości Win32 w WPF</span><span class="sxs-lookup"><span data-stu-id="5716f-151">Hosting Win32 Content in WPF</span></span>](hosting-win32-content-in-wpf.md)
