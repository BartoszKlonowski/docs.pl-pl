---
title: Przegląd Właściwości dołączone
description: Dowiedz się więcej na temat dołączanych właściwości w Windows Presentation Foundation, które są właściwościami globalnymi settable na dowolnym obiekcie.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- attached properties [WPF Designer]
ms.assetid: 75928354-dc01-47e8-a018-8409aec1f32d
ms.openlocfilehash: 993f65024fcfc4f39a408c81af43b798360e6cf6
ms.sourcegitcommit: 87cfeb69226fef01acb17c56c86f978f4f4a13db
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/24/2020
ms.locfileid: "87168381"
---
# <a name="attached-properties-overview"></a><span data-ttu-id="81b7e-103">Przegląd Właściwości dołączone</span><span class="sxs-lookup"><span data-stu-id="81b7e-103">Attached Properties Overview</span></span>

<span data-ttu-id="81b7e-104">Dołączona właściwość jest pojęciem zdefiniowanym przez język XAML.</span><span class="sxs-lookup"><span data-stu-id="81b7e-104">An attached property is a concept defined by XAML.</span></span> <span data-ttu-id="81b7e-105">Dołączona właściwość jest przeznaczona do użycia jako typ właściwości globalnej, która jest settable dla dowolnego obiektu.</span><span class="sxs-lookup"><span data-stu-id="81b7e-105">An attached property is intended to be used as a type of global property that is settable on any object.</span></span> <span data-ttu-id="81b7e-106">W programie [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] dołączone właściwości są zwykle definiowane jako wyspecjalizowana forma właściwości zależności, która nie ma konwencjonalnej właściwości "otoka".</span><span class="sxs-lookup"><span data-stu-id="81b7e-106">In [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)], attached properties are typically defined as a specialized form of dependency property that does not have the conventional property "wrapper".</span></span>

## <a name="prerequisites"></a><span data-ttu-id="81b7e-107">Wymagany<a name="prerequisites"></a></span><span class="sxs-lookup"><span data-stu-id="81b7e-107">Prerequisites <a name="prerequisites"></a></span></span>

<span data-ttu-id="81b7e-108">W tym artykule założono, że rozumiesz właściwości zależności od perspektywy konsumenta istniejących właściwości zależności w [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] klasach i zapoznaj się z [omówieniem właściwości zależności](dependency-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="81b7e-108">This article assumes that you understand dependency properties from the perspective of a consumer of existing dependency properties on [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] classes, and have read the [Dependency Properties Overview](dependency-properties-overview.md).</span></span> <span data-ttu-id="81b7e-109">Aby postępować zgodnie z przykładami w tym artykule, należy również zrozumieć język XAML i wiedzieć, jak pisać aplikacje WPF.</span><span class="sxs-lookup"><span data-stu-id="81b7e-109">To follow the examples in this article, you should also understand XAML and know how to write WPF applications.</span></span>

## <a name="why-use-attached-properties"></a><span data-ttu-id="81b7e-110">Dlaczego warto używać dołączonych właściwości<a name="attached_properties_usage"></a></span><span class="sxs-lookup"><span data-stu-id="81b7e-110">Why Use Attached Properties <a name="attached_properties_usage"></a></span></span>

<span data-ttu-id="81b7e-111">Jednym z celów dołączonej właściwości jest umożliwienie różnym elementom podrzędnym określenie unikatowych wartości dla właściwości, która jest zdefiniowana w elemencie nadrzędnym.</span><span class="sxs-lookup"><span data-stu-id="81b7e-111">One purpose of an attached property is to allow different child elements to specify unique values for a property that's defined in a parent element.</span></span> <span data-ttu-id="81b7e-112">Określona aplikacja tego scenariusza ma elementy podrzędne, które informują element nadrzędny o tym, w jaki sposób mają być prezentowane w [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] .</span><span class="sxs-lookup"><span data-stu-id="81b7e-112">A specific application of this scenario is having child elements inform the parent element of how they are to be presented in the [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)].</span></span> <span data-ttu-id="81b7e-113">Przykładem jest <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> Właściwość.</span><span class="sxs-lookup"><span data-stu-id="81b7e-113">One example is the <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="81b7e-114"><xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType>Właściwość jest tworzona jako dołączona właściwość, ponieważ została zaprojektowana tak, aby była ustawiona dla elementów, które znajdują się w, <xref:System.Windows.Controls.DockPanel> a nie na <xref:System.Windows.Controls.DockPanel> samej samej.</span><span class="sxs-lookup"><span data-stu-id="81b7e-114">The <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> property is created as an attached property because it is designed to be set on elements that are contained within a <xref:System.Windows.Controls.DockPanel> rather than on <xref:System.Windows.Controls.DockPanel> itself.</span></span> <span data-ttu-id="81b7e-115"><xref:System.Windows.Controls.DockPanel>Klasa definiuje <xref:System.Windows.DependencyProperty> pole statyczne o nazwie <xref:System.Windows.Controls.DockPanel.DockProperty> , a następnie udostępnia <xref:System.Windows.Controls.DockPanel.GetDock%2A> <xref:System.Windows.Controls.DockPanel.SetDock%2A> metody i jako publiczne dostęp do dołączonej właściwości.</span><span class="sxs-lookup"><span data-stu-id="81b7e-115">The <xref:System.Windows.Controls.DockPanel> class defines the static <xref:System.Windows.DependencyProperty> field named <xref:System.Windows.Controls.DockPanel.DockProperty>, and then provides the <xref:System.Windows.Controls.DockPanel.GetDock%2A> and <xref:System.Windows.Controls.DockPanel.SetDock%2A> methods as public accessors for the attached property.</span></span>

## <a name="attached-properties-in-xaml"></a><span data-ttu-id="81b7e-116">Dołączone właściwości w języku XAML<a name="attached_properties_xaml"></a></span><span class="sxs-lookup"><span data-stu-id="81b7e-116">Attached Properties in XAML <a name="attached_properties_xaml"></a></span></span>

<span data-ttu-id="81b7e-117">W języku XAML ustawiasz dołączone właściwości przy użyciu składni *AttachedPropertyProvider*. Funkcja *PropertyName*</span><span class="sxs-lookup"><span data-stu-id="81b7e-117">In XAML, you set attached properties by using the syntax *AttachedPropertyProvider*.*PropertyName*</span></span>

<span data-ttu-id="81b7e-118">Poniżej przedstawiono przykład sposobu ustawienia <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> w języku XAML:</span><span class="sxs-lookup"><span data-stu-id="81b7e-118">The following is an example of how you can set <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> in XAML:</span></span>

[!code-xaml[PropertiesOvwSupport#APBasicUsage](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml#apbasicusage)]

<span data-ttu-id="81b7e-119">Użycie jest nieco podobne do właściwości statycznej; zawsze należy odwołać się do typu <xref:System.Windows.Controls.DockPanel> , który jest właścicielem i rejestruje załączoną właściwość, zamiast odwoływać się do żadnego wystąpienia określonego przez nazwę.</span><span class="sxs-lookup"><span data-stu-id="81b7e-119">The usage is somewhat similar to a static property; you always reference the type <xref:System.Windows.Controls.DockPanel> that owns and registers the attached property, rather than referring to any instance specified by name.</span></span>

<span data-ttu-id="81b7e-120">Ponadto, ponieważ dołączona właściwość w języku XAML jest atrybutem ustawionym w znaczniku, tylko operacja ustawiania ma wszelkie istotność.</span><span class="sxs-lookup"><span data-stu-id="81b7e-120">Also, because an attached property in XAML is an attribute that you set in markup, only the set operation has any relevance.</span></span> <span data-ttu-id="81b7e-121">Nie można bezpośrednio uzyskać właściwości w języku XAML, chociaż istnieją pewne mechanizmy pośrednie do porównywania wartości, takich jak Wyzwalacze w stylach (Aby uzyskać szczegółowe informacje, zobacz [Style i tworzenia szablonów](../../../desktop-wpf/fundamentals/styles-templates-overview.md)).</span><span class="sxs-lookup"><span data-stu-id="81b7e-121">You cannot directly get a property in XAML, although there are some indirect mechanisms for comparing values, such as triggers in styles (for details, see [Styling and Templating](../../../desktop-wpf/fundamentals/styles-templates-overview.md)).</span></span>

### <a name="attached-property-implementation-in-wpf"></a><span data-ttu-id="81b7e-122">Załączona implementacja właściwości w WPF</span><span class="sxs-lookup"><span data-stu-id="81b7e-122">Attached Property Implementation in WPF</span></span>

<span data-ttu-id="81b7e-123">W programie [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] większość powiązanych właściwości związanych z interfejsem użytkownika w typach WPF jest implementowana jako właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="81b7e-123">In [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)], most of the UI-related attached properties on WPF types are implemented as dependency properties.</span></span> <span data-ttu-id="81b7e-124">Dołączone właściwości są koncepcją języka XAML, podczas gdy właściwości zależności są koncepcją WPF.</span><span class="sxs-lookup"><span data-stu-id="81b7e-124">Attached properties are a XAML concept, whereas dependency properties are a WPF concept.</span></span> <span data-ttu-id="81b7e-125">Ponieważ właściwości dołączone do platformy WPF są właściwościami zależności, obsługują one koncepcje właściwości zależności, takie jak metadane właściwości i wartości domyślne z tego metadanych właściwości.</span><span class="sxs-lookup"><span data-stu-id="81b7e-125">Because WPF attached properties are dependency properties, they support dependency property concepts such as property metadata, and default values from that property metadata.</span></span>

## <a name="how-attached-properties-are-used-by-the-owning-type"></a><span data-ttu-id="81b7e-126">Jak dołączone właściwości są używane przez typ będącego właścicielem<a name="howused"></a></span><span class="sxs-lookup"><span data-stu-id="81b7e-126">How Attached Properties Are Used by the Owning Type <a name="howused"></a></span></span>

<span data-ttu-id="81b7e-127">Mimo że dołączone właściwości są ustawiane na dowolnym obiekcie, który nie oznacza, że ustawienie właściwości spowoduje wygenerowanie wyniku materialnego lub że wartość będzie kiedykolwiek używana przez inny obiekt.</span><span class="sxs-lookup"><span data-stu-id="81b7e-127">Although attached properties are settable on any object, that does not automatically mean that setting the property will produce a tangible result, or that the value will ever be used by another object.</span></span> <span data-ttu-id="81b7e-128">Ogólnie rzecz biorąc, dołączone właściwości są zamierzone, aby obiekty pochodzące z szerokiej gamy hierarchii klas lub relacje logiczne mogły raportować typowe informacje do typu, który definiuje przyłączoną właściwość.</span><span class="sxs-lookup"><span data-stu-id="81b7e-128">Generally, attached properties are intended so that objects coming from a wide variety of possible class hierarchies or logical relationships can each report common information to the type that defines the attached property.</span></span> <span data-ttu-id="81b7e-129">Typ, który definiuje załączoną Właściwość zwykle jest zgodny z jednym z następujących modeli:</span><span class="sxs-lookup"><span data-stu-id="81b7e-129">The type that defines the attached property typically follows one of these models:</span></span>

- <span data-ttu-id="81b7e-130">Typ, który definiuje załączoną właściwość jest zaprojektowana tak, aby mógł być elementem nadrzędnym elementów, które będą ustawiać wartości dla dołączonej właściwości.</span><span class="sxs-lookup"><span data-stu-id="81b7e-130">The type that defines the attached property is designed so that it can be the parent element of the elements that will set values for the attached property.</span></span> <span data-ttu-id="81b7e-131">Typ, a następnie wykonuje iterację obiektów podrzędnych za pomocą logiki wewnętrznej względem niektórych struktur drzewa obiektów, uzyskuje wartości i działa na tych wartości w jakiś sposób.</span><span class="sxs-lookup"><span data-stu-id="81b7e-131">The type then iterates its child objects through internal logic against some object tree structure, obtains the values, and acts on those values in some manner.</span></span>

- <span data-ttu-id="81b7e-132">Typ, który definiuje załączoną właściwość, będzie używany jako element podrzędny dla różnych możliwych elementów nadrzędnych i modeli zawartości.</span><span class="sxs-lookup"><span data-stu-id="81b7e-132">The type that defines the attached property will be used as the child element for a variety of possible parent elements and content models.</span></span>

- <span data-ttu-id="81b7e-133">Typ, który definiuje załączoną właściwość, reprezentuje usługę.</span><span class="sxs-lookup"><span data-stu-id="81b7e-133">The type that defines the attached property represents a service.</span></span> <span data-ttu-id="81b7e-134">Inne typy ustawiają wartości dla dołączonej właściwości.</span><span class="sxs-lookup"><span data-stu-id="81b7e-134">Other types set values for the attached property.</span></span> <span data-ttu-id="81b7e-135">Następnie, gdy element ustawiający właściwość jest oceniany w kontekście usługi, wartości dołączonych właściwości są uzyskiwane za pomocą wewnętrznej logiki klasy usługi.</span><span class="sxs-lookup"><span data-stu-id="81b7e-135">Then, when the element that set the property is evaluated in the context of the service, the attached property values are obtained through internal logic of the service class.</span></span>

### <a name="an-example-of-a-parent-defined-attached-property"></a><span data-ttu-id="81b7e-136">Przykład właściwości dołączonej do elementu nadrzędnego</span><span class="sxs-lookup"><span data-stu-id="81b7e-136">An Example of a Parent-Defined Attached Property</span></span>

<span data-ttu-id="81b7e-137">Typowy scenariusz, w którym WPF definiuje dołączoną właściwość, gdy element nadrzędny obsługuje kolekcję elementów podrzędnych, a także implementuje zachowanie w przypadku, gdy szczegółowe informacje o zachowaniu są raportowane osobno dla każdego elementu podrzędnego.</span><span class="sxs-lookup"><span data-stu-id="81b7e-137">The most typical scenario where WPF defines an attached property is when a parent element supports a child element collection, and also implements a behavior where the specifics of the behavior are reported individually for each child element.</span></span>

<span data-ttu-id="81b7e-138"><xref:System.Windows.Controls.DockPanel>definiuje <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> załączoną Właściwość i <xref:System.Windows.Controls.DockPanel> ma kod na poziomie klasy jako część logiki renderowania (w odniesieniu <xref:System.Windows.Controls.DockPanel.MeasureOverride%2A> i <xref:System.Windows.Controls.DockPanel.ArrangeOverride%2A> ).</span><span class="sxs-lookup"><span data-stu-id="81b7e-138"><xref:System.Windows.Controls.DockPanel> defines the <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> attached property, and <xref:System.Windows.Controls.DockPanel> has class-level code as part of its rendering logic (specifically, <xref:System.Windows.Controls.DockPanel.MeasureOverride%2A> and <xref:System.Windows.Controls.DockPanel.ArrangeOverride%2A>).</span></span> <span data-ttu-id="81b7e-139"><xref:System.Windows.Controls.DockPanel>Wystąpienie będzie zawsze sprawdzać, czy którykolwiek z jego bezpośrednich elementów podrzędnych ustawił wartość dla <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="81b7e-139">A <xref:System.Windows.Controls.DockPanel> instance will always check to see whether any of its immediate child elements have set a value for <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="81b7e-140">Jeśli tak, te wartości staną się danymi wejściowymi dla logiki renderowania zastosowanej do danego elementu podrzędnego.</span><span class="sxs-lookup"><span data-stu-id="81b7e-140">If so, those values become input for the rendering logic applied to that particular child element.</span></span> <span data-ttu-id="81b7e-141"><xref:System.Windows.Controls.DockPanel>Wystąpienia zagnieżdżone każda traktują swoje własne bezpośrednie kolekcje elementów, ale takie zachowanie jest specyficzne dla implementacji dla <xref:System.Windows.Controls.DockPanel> procesów <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="81b7e-141">Nested <xref:System.Windows.Controls.DockPanel> instances each treat their own immediate child element collections, but that behavior is implementation-specific to how <xref:System.Windows.Controls.DockPanel> processes <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> values.</span></span> <span data-ttu-id="81b7e-142">Teoretycznie możliwe jest dołączenie właściwości, które mają wpływ na elementy poza bezpośrednim elementem nadrzędnym.</span><span class="sxs-lookup"><span data-stu-id="81b7e-142">It is theoretically possible to have attached properties that influence elements beyond the immediate parent.</span></span> <span data-ttu-id="81b7e-143">Jeśli <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> dołączona właściwość jest ustawiona dla elementu, który nie ma <xref:System.Windows.Controls.DockPanel> elementu nadrzędnego do działania, żaden błąd lub wyjątek nie zostanie zgłoszony.</span><span class="sxs-lookup"><span data-stu-id="81b7e-143">If the <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> attached property is set on an element that has no <xref:System.Windows.Controls.DockPanel> parent element to act upon it, no error or exception is raised.</span></span> <span data-ttu-id="81b7e-144">Oznacza to po prostu, że wartość właściwości globalnej została ustawiona, ale nie ma bieżącego <xref:System.Windows.Controls.DockPanel> elementu nadrzędnego, który mógłby wykorzystać te informacje.</span><span class="sxs-lookup"><span data-stu-id="81b7e-144">This simply means that a global property value was set, but it has no current <xref:System.Windows.Controls.DockPanel> parent that could consume the information.</span></span>

## <a name="attached-properties-in-code"></a><span data-ttu-id="81b7e-145">Dołączone właściwości w kodzie<a name="attached_properties_code"></a></span><span class="sxs-lookup"><span data-stu-id="81b7e-145">Attached Properties in Code <a name="attached_properties_code"></a></span></span>

<span data-ttu-id="81b7e-146">Dołączone właściwości w WPF nie mają typowych metod "otoki" środowiska CLR w celu ułatwienia dostępu do usługi get/set.</span><span class="sxs-lookup"><span data-stu-id="81b7e-146">Attached properties in WPF do not have the typical CLR "wrapper" methods for easy get/set access.</span></span> <span data-ttu-id="81b7e-147">Wynika to z faktu, że dołączona właściwość nie musi być częścią przestrzeni nazw CLR dla wystąpień, w których właściwość jest ustawiona.</span><span class="sxs-lookup"><span data-stu-id="81b7e-147">This is because the attached property is not necessarily part of the CLR namespace for instances where the property is set.</span></span> <span data-ttu-id="81b7e-148">Jednak procesor XAML musi mieć możliwość ustawiania tych wartości podczas analizowania kodu XAML.</span><span class="sxs-lookup"><span data-stu-id="81b7e-148">However, a XAML processor must be able to set those values when XAML is parsed.</span></span> <span data-ttu-id="81b7e-149">Aby można było obsługiwać efektywne dołączone właściwości, typ właściciela dołączonej właściwości musi implementować metody dostępu dedykowanego w formularzu **Get_PropertyName_** i **Set_PropertyName_**.</span><span class="sxs-lookup"><span data-stu-id="81b7e-149">To support an effective attached property usage, the owner type of the attached property must implement dedicated accessor methods in the form **Get_PropertyName_** and **Set_PropertyName_**.</span></span> <span data-ttu-id="81b7e-150">Te dedykowane metody dostępu są również przydatne do pobierania lub ustawiania dołączonej właściwości w kodzie.</span><span class="sxs-lookup"><span data-stu-id="81b7e-150">These dedicated accessor methods are also useful to get or set the attached property in code.</span></span> <span data-ttu-id="81b7e-151">W perspektywie kodu dołączona właściwość jest podobna do pola zapasowego, które ma metody dostępu do właściwości, i że pole zapasowe może istnieć na dowolnym obiekcie, a nie musi być jawnie zdefiniowane.</span><span class="sxs-lookup"><span data-stu-id="81b7e-151">From a code perspective, an attached property is similar to a backing field that has method accessors instead of property accessors, and that backing field can exist on any object rather than needing to be specifically defined.</span></span>

<span data-ttu-id="81b7e-152">Poniższy przykład pokazuje, jak można ustawić przyłączoną właściwość w kodzie.</span><span class="sxs-lookup"><span data-stu-id="81b7e-152">The following example shows how you can set an attached property in code.</span></span> <span data-ttu-id="81b7e-153">W tym przykładzie `myCheckBox` jest wystąpieniem <xref:System.Windows.Controls.CheckBox> klasy.</span><span class="sxs-lookup"><span data-stu-id="81b7e-153">In this example, `myCheckBox` is an instance of the <xref:System.Windows.Controls.CheckBox> class.</span></span>

[!code-csharp[PropertiesOvwSupport#APCode](~/samples/snippets/csharp/VS_Snippets_Wpf/PropertiesOvwSupport/CSharp/page4.xaml.cs#apcode)]
[!code-vb[PropertiesOvwSupport#APCode](~/samples/snippets/visualbasic/VS_Snippets_Wpf/PropertiesOvwSupport/visualbasic/page4.xaml.vb#apcode)]

<span data-ttu-id="81b7e-154">Podobnie jak w przypadku języka XAML, jeśli `myCheckBox` nie został jeszcze dodany jako element podrzędny `myDockPanel` przez czwarty wiersz kodu, piąty wiersz kodu nie zgłosi wyjątku, ale wartość właściwości nie będzie współdziałać z <xref:System.Windows.Controls.DockPanel> elementem nadrzędnym i w rezultacie nic nie rób.</span><span class="sxs-lookup"><span data-stu-id="81b7e-154">Similar to the XAML case, if `myCheckBox` had not already been added as a child element of `myDockPanel` by the fourth line of code, the fifth line of code would not raise an exception, but the property value would not interact with a <xref:System.Windows.Controls.DockPanel> parent and thus would do nothing.</span></span> <span data-ttu-id="81b7e-155">Tylko <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> wartość ustawiona w elemencie podrzędnym, w połączeniu z obecność <xref:System.Windows.Controls.DockPanel> elementu nadrzędnego, spowoduje efektywne zachowanie w renderowanej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="81b7e-155">Only a <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> value set on a child element combined with the presence of a <xref:System.Windows.Controls.DockPanel> parent element will cause an effective behavior in the rendered application.</span></span> <span data-ttu-id="81b7e-156">(W tym przypadku można ustawić przyłączoną właściwość, a następnie dołączyć do drzewa.</span><span class="sxs-lookup"><span data-stu-id="81b7e-156">(In this case, you could set the attached property, then attach to the tree.</span></span> <span data-ttu-id="81b7e-157">Możesz też dołączyć do drzewa, a następnie ustawić przyłączoną właściwość.</span><span class="sxs-lookup"><span data-stu-id="81b7e-157">Or you could attach to the tree then set the attached property.</span></span> <span data-ttu-id="81b7e-158">Każda kolejność akcji daje ten sam wynik.)</span><span class="sxs-lookup"><span data-stu-id="81b7e-158">Either action order provides the same result.)</span></span>

## <a name="attached-property-metadata"></a><span data-ttu-id="81b7e-159">Dołączone metadane właściwości<a name="attached_properties_metadata"></a></span><span class="sxs-lookup"><span data-stu-id="81b7e-159">Attached Property Metadata <a name="attached_properties_metadata"></a></span></span>

<span data-ttu-id="81b7e-160">Podczas rejestrowania właściwości, <xref:System.Windows.FrameworkPropertyMetadata> jest ustawione na określanie właściwości właściwości, na przykład czy właściwość wpływa na renderowanie, pomiar i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="81b7e-160">When registering the property, <xref:System.Windows.FrameworkPropertyMetadata> is set to specify characteristics of the property, such as whether the property affects rendering, measurement, and so on.</span></span> <span data-ttu-id="81b7e-161">Metadane dołączonej właściwości zwykle nie są inne niż w przypadku właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="81b7e-161">Metadata for an attached property is generally no different than on a dependency property.</span></span> <span data-ttu-id="81b7e-162">Jeśli określisz wartość domyślną w metadanych przesłonięcia do dołączonej właściwości, ta wartość będzie wartością domyślną niejawnej dołączonej właściwości w wystąpieniach klasy zastępującej.</span><span class="sxs-lookup"><span data-stu-id="81b7e-162">If you specify a default value in an override to attached property metadata, that value becomes the default value of the implicit attached property on instances of the overriding class.</span></span> <span data-ttu-id="81b7e-163">W zależności od tego wartość domyślna jest raportowana, jeśli niektóre zapytania procesu dla wartości właściwości dołączonej przez `Get` metodę dostępu metody dla tej właściwości określają wystąpienie klasy, w której określono metadane, a wartość tej dołączonej właściwości nie została ustawiona.</span><span class="sxs-lookup"><span data-stu-id="81b7e-163">Specifically, your default value is reported if some process queries for the value of an attached property through the `Get` method accessor for that property, specifying an instance of the class where you specified the metadata, and the value for that attached property was otherwise not set.</span></span>

<span data-ttu-id="81b7e-164">Aby włączyć dziedziczenie wartości właściwości dla właściwości, należy użyć dołączonych właściwości, a nie niedołączonych właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="81b7e-164">If you want to enable property value inheritance on a property, you should use attached properties rather than non-attached dependency properties.</span></span> <span data-ttu-id="81b7e-165">Aby uzyskać szczegółowe informacje, zobacz [dziedziczenie wartości właściwości](property-value-inheritance.md).</span><span class="sxs-lookup"><span data-stu-id="81b7e-165">For details, see [Property Value Inheritance](property-value-inheritance.md).</span></span>

## <a name="custom-attached-properties"></a><span data-ttu-id="81b7e-166">Niestandardowe dołączone właściwości<a name="custom"></a></span><span class="sxs-lookup"><span data-stu-id="81b7e-166">Custom Attached Properties <a name="custom"></a></span></span>

### <a name="when-to-create-an-attached-property"></a><span data-ttu-id="81b7e-167">Kiedy należy utworzyć dołączoną Właściwość<a name="create_attached_properties"></a></span><span class="sxs-lookup"><span data-stu-id="81b7e-167">When to Create an Attached Property <a name="create_attached_properties"></a></span></span>

<span data-ttu-id="81b7e-168">Można utworzyć przyłączoną właściwość, gdy istnieje powód, dla którego jest dostępny mechanizm ustawienia właściwości dla klas innych niż Klasa definiująca.</span><span class="sxs-lookup"><span data-stu-id="81b7e-168">You might create an attached property when there is a reason to have a property setting mechanism available for classes other than the defining class.</span></span> <span data-ttu-id="81b7e-169">Najbardziej typowym scenariuszem tego jest układ.</span><span class="sxs-lookup"><span data-stu-id="81b7e-169">The most common scenario for this is layout.</span></span> <span data-ttu-id="81b7e-170">Przykłady istniejących właściwości układu to <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType> , <xref:System.Windows.Controls.Panel.ZIndex%2A?displayProperty=nameWithType> , i <xref:System.Windows.Controls.Canvas.Top%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="81b7e-170">Examples of existing layout properties are <xref:System.Windows.Controls.DockPanel.Dock%2A?displayProperty=nameWithType>, <xref:System.Windows.Controls.Panel.ZIndex%2A?displayProperty=nameWithType>, and <xref:System.Windows.Controls.Canvas.Top%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="81b7e-171">Scenariusz włączony tutaj polega na tym, że elementy, które istnieją jako elementy podrzędne do układu sterujące elementy, są w stanie wyznaczać wymagania układu dla elementów nadrzędnych układu osobno, każde ustawienie wartości właściwości, która została zdefiniowana jako dołączona właściwość.</span><span class="sxs-lookup"><span data-stu-id="81b7e-171">The scenario enabled here is that elements that exist as child elements to layout-controlling elements are able to express layout requirements to their layout parent elements individually, each setting a property value that the parent defined as an attached property.</span></span>

<span data-ttu-id="81b7e-172">Innym scenariuszem korzystania z dołączonej właściwości jest to, że Klasa reprezentuje usługę, i chcesz, aby klasy mogły zintegrować usługę w sposób bardziej niewidoczny.</span><span class="sxs-lookup"><span data-stu-id="81b7e-172">Another scenario for using an attached property is when your class represents a service, and you want classes to be able to integrate the service more transparently.</span></span>

<span data-ttu-id="81b7e-173">Jeszcze innym scenariuszem jest otrzymanie obsługi projektanta Visual Studio WPF, takich jak edytowanie okna **Właściwości** .</span><span class="sxs-lookup"><span data-stu-id="81b7e-173">Yet another scenario is to receive Visual Studio WPF Designer support, such as **Properties** window editing.</span></span> <span data-ttu-id="81b7e-174">Aby uzyskać więcej informacji, zobacz temat [Tworzenie kontroli — przegląd](../controls/control-authoring-overview.md).</span><span class="sxs-lookup"><span data-stu-id="81b7e-174">For more information, see [Control Authoring Overview](../controls/control-authoring-overview.md).</span></span>

<span data-ttu-id="81b7e-175">Jak wspomniano wcześniej, należy zarejestrować się jako właściwość dołączona, jeśli chcesz użyć dziedziczenia wartości właściwości.</span><span class="sxs-lookup"><span data-stu-id="81b7e-175">As mentioned before, you should register as an attached property if you want to use property value inheritance.</span></span>

### <a name="how-to-create-an-attached-property"></a><span data-ttu-id="81b7e-176">Jak utworzyć dołączoną Właściwość<a name="how_do_i_create_attached_properties"></a></span><span class="sxs-lookup"><span data-stu-id="81b7e-176">How to Create an Attached Property <a name="how_do_i_create_attached_properties"></a></span></span>

<span data-ttu-id="81b7e-177">Jeśli klasa definiuje dołączoną Właściwość wyłącznie do użycia w innych typach, Klasa nie musi dziedziczyć od <xref:System.Windows.DependencyObject> .</span><span class="sxs-lookup"><span data-stu-id="81b7e-177">If your class is defining the attached property strictly for use on other types, then the class does not have to derive from <xref:System.Windows.DependencyObject>.</span></span> <span data-ttu-id="81b7e-178">Jednak należy utworzyć wynik z <xref:System.Windows.DependencyObject> , jeśli spełniasz ogólny model WPF, że dołączona właściwość również jest właściwością zależności.</span><span class="sxs-lookup"><span data-stu-id="81b7e-178">But you do need to derive from <xref:System.Windows.DependencyObject> if you follow the overall WPF model of having your attached property also be a dependency property.</span></span>

<span data-ttu-id="81b7e-179">Zdefiniuj załączoną właściwość jako właściwość zależności przez zadeklarowanie `public static readonly` pola typu <xref:System.Windows.DependencyProperty> .</span><span class="sxs-lookup"><span data-stu-id="81b7e-179">Define your attached property as a dependency property by declaring a `public static readonly` field of type <xref:System.Windows.DependencyProperty>.</span></span> <span data-ttu-id="81b7e-180">To pole jest definiowane przy użyciu wartości zwracanej przez <xref:System.Windows.DependencyProperty.RegisterAttached%2A> metodę.</span><span class="sxs-lookup"><span data-stu-id="81b7e-180">You define this field by using the return value of the <xref:System.Windows.DependencyProperty.RegisterAttached%2A> method.</span></span> <span data-ttu-id="81b7e-181">Nazwa pola musi być zgodna z nazwą dołączonej właściwości, dołączoną do ciągu `Property` , aby postępować zgodnie z ustalonym wzorcem WPF określającym nazwy pól identyfikujących i właściwości, które reprezentują.</span><span class="sxs-lookup"><span data-stu-id="81b7e-181">The field name must match the attached property name, appended with the string `Property`, to follow the established WPF pattern of naming the identifying fields versus the properties that they represent.</span></span> <span data-ttu-id="81b7e-182">Dostawca właściwości dołączonej musi również udostępniać statyczne **Get_PropertyName_** i **Set_PropertyName_** metod jako metody dostępu dla dołączonej właściwości; nie można wykonać tych rezultatów, ponieważ system właściwości nie może użyć dołączonej właściwości.</span><span class="sxs-lookup"><span data-stu-id="81b7e-182">The attached property provider must also provide static **Get_PropertyName_** and **Set_PropertyName_** methods as accessors for the attached property; failing to do this results in the property system being unable to use your attached property.</span></span>

> [!NOTE]
> <span data-ttu-id="81b7e-183">Jeśli pominięto metodę dostępu get dołączonej właściwości, powiązanie danych dla właściwości nie będzie działało w narzędziach projektowania, takich jak Visual Studio i Blend for Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="81b7e-183">If you omit the attached property's get accessor, data binding on the property will not work in design tools, such as Visual Studio and Blend for Visual Studio.</span></span>

#### <a name="the-get-accessor"></a><span data-ttu-id="81b7e-184">Metoda dostępu get</span><span class="sxs-lookup"><span data-stu-id="81b7e-184">The Get Accessor</span></span>

<span data-ttu-id="81b7e-185">Sygnatura metody dostępu **Get_PropertyName_** musi być:</span><span class="sxs-lookup"><span data-stu-id="81b7e-185">The signature for the **Get_PropertyName_** accessor must be:</span></span>

`public static object GetPropertyName(object target)`

- <span data-ttu-id="81b7e-186">`target`Obiekt może być określony jako bardziej konkretny typ w implementacji.</span><span class="sxs-lookup"><span data-stu-id="81b7e-186">The `target` object can be specified as a more specific type in your implementation.</span></span> <span data-ttu-id="81b7e-187">Na przykład Metoda określa <xref:System.Windows.Controls.DockPanel.GetDock%2A?displayProperty=nameWithType> parametr jako <xref:System.Windows.UIElement> , ponieważ dołączona właściwość jest przeznaczona tylko do ustawiania w <xref:System.Windows.UIElement> wystąpieniach.</span><span class="sxs-lookup"><span data-stu-id="81b7e-187">For example, the <xref:System.Windows.Controls.DockPanel.GetDock%2A?displayProperty=nameWithType> method types the parameter as <xref:System.Windows.UIElement>, because the attached property is only intended to be set on <xref:System.Windows.UIElement> instances.</span></span>

- <span data-ttu-id="81b7e-188">Wartość zwracana może być określona jako bardziej konkretny typ w implementacji.</span><span class="sxs-lookup"><span data-stu-id="81b7e-188">The return value can be specified as a more specific type in your implementation.</span></span> <span data-ttu-id="81b7e-189">Na przykład Metoda ta jest <xref:System.Windows.Controls.DockPanel.GetDock%2A> <xref:System.Windows.Controls.Dock> określana jako, ponieważ wartość może być ustawiona tylko na to wyliczenie.</span><span class="sxs-lookup"><span data-stu-id="81b7e-189">For example, the <xref:System.Windows.Controls.DockPanel.GetDock%2A> method types it as <xref:System.Windows.Controls.Dock>, because the value can only be set to that enumeration.</span></span>

#### <a name="the-set-accessor"></a><span data-ttu-id="81b7e-190">Metoda dostępu set</span><span class="sxs-lookup"><span data-stu-id="81b7e-190">The Set Accessor</span></span>

<span data-ttu-id="81b7e-191">Sygnatura metody dostępu **Set_PropertyName_** musi być:</span><span class="sxs-lookup"><span data-stu-id="81b7e-191">The signature for the **Set_PropertyName_** accessor must be:</span></span>

`public static void SetPropertyName(object target, object value)`

- <span data-ttu-id="81b7e-192">`target`Obiekt może być określony jako bardziej konkretny typ w implementacji.</span><span class="sxs-lookup"><span data-stu-id="81b7e-192">The `target` object can be specified as a more specific type in your implementation.</span></span> <span data-ttu-id="81b7e-193">Na przykład Metoda ta <xref:System.Windows.Controls.DockPanel.SetDock%2A> <xref:System.Windows.UIElement> jest typu, ponieważ dołączona właściwość jest przeznaczona tylko do ustawiania w <xref:System.Windows.UIElement> wystąpieniach.</span><span class="sxs-lookup"><span data-stu-id="81b7e-193">For example, the <xref:System.Windows.Controls.DockPanel.SetDock%2A> method types it as <xref:System.Windows.UIElement>, because the attached property is only intended to be set on <xref:System.Windows.UIElement> instances.</span></span>

- <span data-ttu-id="81b7e-194">`value`Obiekt może być określony jako bardziej konkretny typ w implementacji.</span><span class="sxs-lookup"><span data-stu-id="81b7e-194">The `value` object can be specified as a more specific type in your implementation.</span></span> <span data-ttu-id="81b7e-195">Na przykład Metoda ta jest <xref:System.Windows.Controls.DockPanel.SetDock%2A> <xref:System.Windows.Controls.Dock> określana jako, ponieważ wartość może być ustawiona tylko na to wyliczenie.</span><span class="sxs-lookup"><span data-stu-id="81b7e-195">For example, the <xref:System.Windows.Controls.DockPanel.SetDock%2A> method types it as <xref:System.Windows.Controls.Dock>, because the value can only be set to that enumeration.</span></span> <span data-ttu-id="81b7e-196">Należy pamiętać, że wartość tej metody jest wartością wejściową pochodzącą z modułu ładującego XAML podczas napotkania dołączonej właściwości we właściwości użycie dołączonej w znaczniku.</span><span class="sxs-lookup"><span data-stu-id="81b7e-196">Remember that the value for this method is the input coming from the XAML loader when it encounters your attached property in an attached property usage in markup.</span></span> <span data-ttu-id="81b7e-197">To dane wejściowe to wartość określona jako wartość atrybutu XAML w znaczniku.</span><span class="sxs-lookup"><span data-stu-id="81b7e-197">That input is the value specified as a XAML attribute value in markup.</span></span> <span data-ttu-id="81b7e-198">W związku z tym, należy dokonać konwersji typu, serializatora wartości lub rozszerzenia znacznika dla używanego typu, aby można było utworzyć odpowiedni typ na podstawie wartości atrybutu (która jest ostatecznie tylko ciągiem).</span><span class="sxs-lookup"><span data-stu-id="81b7e-198">Therefore there must be type conversion, value serializer, or markup extension support for the type you use, such that the appropriate type can be created from the attribute value (which is ultimately just a string).</span></span>

<span data-ttu-id="81b7e-199">Poniższy przykład przedstawia rejestrację właściwości zależności (przy użyciu <xref:System.Windows.DependencyProperty.RegisterAttached%2A> metody), a także metod dostępu **Get_PropertyName_** i **Set_PropertyName_** .</span><span class="sxs-lookup"><span data-stu-id="81b7e-199">The following example shows the dependency property registration (using the <xref:System.Windows.DependencyProperty.RegisterAttached%2A> method), as well as the **Get_PropertyName_** and **Set_PropertyName_** accessors.</span></span> <span data-ttu-id="81b7e-200">W przykładzie nazwa dołączonej właściwości to `IsBubbleSource` .</span><span class="sxs-lookup"><span data-stu-id="81b7e-200">In the example, the attached property name is `IsBubbleSource`.</span></span> <span data-ttu-id="81b7e-201">W związku z tym, metody dostępu muszą mieć nazwę `GetIsBubbleSource` i `SetIsBubbleSource` .</span><span class="sxs-lookup"><span data-stu-id="81b7e-201">Therefore, the accessors must be named `GetIsBubbleSource` and `SetIsBubbleSource`.</span></span>

[!code-csharp[WPFAquariumSln#RegisterAttachedBubbler](~/samples/snippets/csharp/VS_Snippets_Wpf/WPFAquariumSln/CSharp/WPFAquariumObjects/Class1.cs#registerattachedbubbler)]
[!code-vb[WPFAquariumSln#RegisterAttachedBubbler](~/samples/snippets/visualbasic/VS_Snippets_Wpf/WPFAquariumSln/visualbasic/wpfaquariumobjects/class1.vb#registerattachedbubbler)]

#### <a name="attached-property-attributes"></a><span data-ttu-id="81b7e-202">Atrybuty dołączonej właściwości</span><span class="sxs-lookup"><span data-stu-id="81b7e-202">Attached Property Attributes</span></span>

<span data-ttu-id="81b7e-203">WPF definiuje kilka atrybutów platformy .NET, które są przeznaczone do przekazywania informacji o właściwościach dołączonych do procesów odbicia, oraz do typowych użytkowników odbicia i informacji o właściwościach, takich jak projektanci.</span><span class="sxs-lookup"><span data-stu-id="81b7e-203">WPF defines several .NET attributes that are intended to provide information about attached properties to reflection processes, and to typical users of reflection and property information such as designers.</span></span> <span data-ttu-id="81b7e-204">Ponieważ dołączone właściwości mają typ nieograniczonego zakresu, projektanci muszą mieć możliwość uniknięcia przeciążania użytkowników z globalną listą wszystkich dołączonych właściwości, które są zdefiniowane w określonej implementacji technologicznej, która używa języka XAML.</span><span class="sxs-lookup"><span data-stu-id="81b7e-204">Because attached properties have a type of unlimited scope, designers need a way to avoid overwhelming users with a global list of all the attached properties that are defined in a particular technology implementation that uses XAML.</span></span> <span data-ttu-id="81b7e-205">Atrybuty .NET, które program WPF definiuje dla dołączonych właściwości, mogą służyć do określania zakresu sytuacji, w których dana dołączona właściwość powinna być wyświetlana w oknie właściwości.</span><span class="sxs-lookup"><span data-stu-id="81b7e-205">The .NET attributes that WPF defines for attached properties can be used to scope the situations where a given attached property should be shown in a properties window.</span></span> <span data-ttu-id="81b7e-206">Można rozważyć zastosowanie tych atrybutów do własnych niestandardowych właściwości dołączanych.</span><span class="sxs-lookup"><span data-stu-id="81b7e-206">You might consider applying these attributes for your own custom attached properties also.</span></span> <span data-ttu-id="81b7e-207">Zastosowanie i składnia atrybutów .NET jest opisana na odpowiednich stronach odniesienia:</span><span class="sxs-lookup"><span data-stu-id="81b7e-207">The purpose and syntax of the .NET attributes is described on the appropriate reference pages:</span></span>

- <xref:System.Windows.AttachedPropertyBrowsableAttribute>

- <xref:System.Windows.AttachedPropertyBrowsableForChildrenAttribute>

- <xref:System.Windows.AttachedPropertyBrowsableForTypeAttribute>

- <xref:System.Windows.AttachedPropertyBrowsableWhenAttributePresentAttribute>

## <a name="learning-more-about-attached-properties"></a><span data-ttu-id="81b7e-208">Dowiedz się więcej na temat dołączonych właściwości<a name="more"></a></span><span class="sxs-lookup"><span data-stu-id="81b7e-208">Learning More About Attached Properties <a name="more"></a></span></span>

- <span data-ttu-id="81b7e-209">Aby uzyskać więcej informacji na temat tworzenia dołączonej właściwości, zobacz [Rejestrowanie dołączonej właściwości](how-to-register-an-attached-property.md).</span><span class="sxs-lookup"><span data-stu-id="81b7e-209">For more information on creating an attached property, see [Register an Attached Property](how-to-register-an-attached-property.md).</span></span>

- <span data-ttu-id="81b7e-210">Aby uzyskać bardziej zaawansowane scenariusze użycia dla właściwości zależności i dołączonych właściwości, zobacz [niestandardowe właściwości zależności](custom-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="81b7e-210">For more advanced usage scenarios for dependency properties and attached properties, see [Custom Dependency Properties](custom-dependency-properties.md).</span></span>

- <span data-ttu-id="81b7e-211">Możesz również zarejestrować właściwość jako właściwość dołączoną, a jako właściwość zależności, a następnie nadal ujawniać implementacje "otoka".</span><span class="sxs-lookup"><span data-stu-id="81b7e-211">You can also register a property as an attached property, and as a dependency property, but then still expose "wrapper" implementations.</span></span> <span data-ttu-id="81b7e-212">W takim przypadku Właściwość można ustawić na tym elemencie lub w dowolnym elemencie za pomocą składni właściwości dołączonej XAML.</span><span class="sxs-lookup"><span data-stu-id="81b7e-212">In this case, the property can be set either on that element, or on any element through the XAML attached property syntax.</span></span> <span data-ttu-id="81b7e-213">Przykładem właściwości z odpowiednim scenariuszem dla standardowych i dołączonych użycia jest <xref:System.Windows.FrameworkElement.FlowDirection%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="81b7e-213">An example of a property with an appropriate scenario for both standard and attached usages is <xref:System.Windows.FrameworkElement.FlowDirection%2A?displayProperty=nameWithType>.</span></span>

## <a name="see-also"></a><span data-ttu-id="81b7e-214">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="81b7e-214">See also</span></span>

- <xref:System.Windows.DependencyProperty>
- [<span data-ttu-id="81b7e-215">Przegląd Właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="81b7e-215">Dependency Properties Overview</span></span>](dependency-properties-overview.md)
- [<span data-ttu-id="81b7e-216">Niestandardowe właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="81b7e-216">Custom Dependency Properties</span></span>](custom-dependency-properties.md)
- [<span data-ttu-id="81b7e-217">Omówienie XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="81b7e-217">XAML Overview (WPF)</span></span>](../../../desktop-wpf/fundamentals/xaml.md)
- [<span data-ttu-id="81b7e-218">Rejestrowanie dołączonej właściwości</span><span class="sxs-lookup"><span data-stu-id="81b7e-218">Register an Attached Property</span></span>](how-to-register-an-attached-property.md)
