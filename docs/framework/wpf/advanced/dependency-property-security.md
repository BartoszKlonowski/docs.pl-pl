---
title: Zabezpieczenie właściwości zależności
ms.date: 03/30/2017
helpviewer_keywords:
- wrappers [WPF], access
- wrappers [WPF], security
- dependency properties [WPF], security
- security [WPF], wrappers
- validation [WPF], dependency properties
- dependency properties [WPF], access
- security [WPF], dependency properties
ms.assetid: d10150ec-90c5-4571-8d35-84bafa2429a4
ms.openlocfilehash: f5640b348ccd68819052f58756489489371862d0
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/12/2020
ms.locfileid: "79186394"
---
# <a name="dependency-property-security"></a><span data-ttu-id="06967-102">Zabezpieczenie właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="06967-102">Dependency Property Security</span></span>
<span data-ttu-id="06967-103">Właściwości zależności należy ogólnie uznać za właściwości publiczne.</span><span class="sxs-lookup"><span data-stu-id="06967-103">Dependency properties should generally be considered to be public properties.</span></span> <span data-ttu-id="06967-104">Charakter systemu [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] właściwości uniemożliwia możliwość tworzenia gwarancji zabezpieczeń o wartości właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="06967-104">The nature of the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] property system prevents the ability to make security guarantees about a dependency property value.</span></span>  

<a name="AccessSecurity"></a>
## <a name="access-and-security-of-wrappers-and-dependency-properties"></a><span data-ttu-id="06967-105">Dostęp i bezpieczeństwo otoki i właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="06967-105">Access and Security of Wrappers and Dependency Properties</span></span>  
 <span data-ttu-id="06967-106">Zazwyczaj właściwości zależności są implementowane wraz z właściwościami "otoki" wspólnego środowiska wykonawczego języka (CLR), które upraszczają uzyskiwanie lub ustawianie właściwości z wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="06967-106">Typically, dependency properties are implemented along with "wrapper" common language runtime (CLR) properties that simplify getting or setting the property from an instance.</span></span> <span data-ttu-id="06967-107">Ale otoki są naprawdę tylko metody <xref:System.Windows.DependencyObject.GetValue%2A> wygody, które implementują podstawowe i <xref:System.Windows.DependencyObject.SetValue%2A> statyczne wywołania, które są używane podczas interakcji z właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="06967-107">But the wrappers are really just convenience methods that implement the underlying <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> static calls that are used when interacting with dependency properties.</span></span> <span data-ttu-id="06967-108">Myśląc o tym w inny sposób, właściwości są udostępniane jako właściwości środowiska wykonawczego języka wspólnego (CLR), które są wspierane przez właściwość zależności, a nie przez pole prywatne.</span><span class="sxs-lookup"><span data-stu-id="06967-108">Thinking of it in another way, the properties are exposed as common language runtime (CLR) properties that happen to be backed by a dependency property rather than by a private field.</span></span> <span data-ttu-id="06967-109">Mechanizmy zabezpieczeń stosowane do otoki nie są równoległe zachowanie systemu właściwości i dostęp do podstawowej właściwości zależności.</span><span class="sxs-lookup"><span data-stu-id="06967-109">Security mechanisms applied to the wrappers do not parallel the property system behavior and access of the underlying dependency property.</span></span> <span data-ttu-id="06967-110">Umieszczenie żądania zabezpieczeń na opakowaniu tylko uniemożliwi użycie metody wygody, ale <xref:System.Windows.DependencyObject.GetValue%2A> <xref:System.Windows.DependencyObject.SetValue%2A>nie uniemożliwi wywołania lub .</span><span class="sxs-lookup"><span data-stu-id="06967-110">Placing a security demand on the wrapper will only prevent the usage of the convenience method but will not prevent calls to <xref:System.Windows.DependencyObject.GetValue%2A> or <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span> <span data-ttu-id="06967-111">Podobnie umieszczenie chronionego lub prywatnego poziomu dostępu na otokach nie zapewnia żadnych skutecznych zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="06967-111">Similarly, placing protected or private access level on the wrappers does not provide any effective security.</span></span>  
  
 <span data-ttu-id="06967-112">Jeśli piszesz własne właściwości zależności, należy zadeklarować otoki <xref:System.Windows.DependencyProperty> i pole identyfikatora jako elementy członkowskie publiczne, tak aby obiekty wywołujące nie uzyskać wprowadzających w błąd informacji o poziomie rzeczywistego dostępu tej właściwości (ze względu na jego magazyn jest implementowany jako właściwość zależności).</span><span class="sxs-lookup"><span data-stu-id="06967-112">If you are writing your own dependency properties, you should declare the wrappers and the <xref:System.Windows.DependencyProperty> identifier field as public members, so that callers do not get misleading information about the true access level of that property (because of its store being implemented as a dependency property).</span></span>  
  
 <span data-ttu-id="06967-113">Dla właściwości zależności niestandardowej można zarejestrować właściwość jako właściwość zależność tylko do odczytu, a to zapewnia skuteczny sposób zapobiegania <xref:System.Windows.DependencyPropertyKey> właściwości jest ustawiany przez nikogo, kto nie posiada odwołania do dla tej właściwości.</span><span class="sxs-lookup"><span data-stu-id="06967-113">For a custom dependency property, you can register your property as a read-only dependency property, and this does provide an effective means of preventing a property being set by anyone that does not hold a reference to the <xref:System.Windows.DependencyPropertyKey> for that property.</span></span> <span data-ttu-id="06967-114">Aby uzyskać więcej informacji, zobacz [Właściwości zależności tylko do odczytu](read-only-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="06967-114">For more information, see [Read-Only Dependency Properties](read-only-dependency-properties.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="06967-115">Deklarowanie <xref:System.Windows.DependencyProperty> prywatnego pola identyfikatora nie jest zabronione i może być używane w celu zmniejszenia bezpośrednio narażonej przestrzeni nazw klasy niestandardowej, ale taka właściwość nie powinna być uważana za "prywatną" w tym samym znaczeniu, co definicje języka wspólnego (CLR) definiują ten poziom dostępu z powodów opisanych w następnej sekcji.</span><span class="sxs-lookup"><span data-stu-id="06967-115">Declaring a <xref:System.Windows.DependencyProperty> identifier field private is not forbidden, and it can conceivably be used to help reduce the immediately exposed namespace of a custom class, but such a property should not be considered "private" in the same sense as the common language runtime (CLR) language definitions define that access level, for reasons described in the next section.</span></span>  
  
<a name="PropertySystemExposure"></a>
## <a name="property-system-exposure-of-dependency-properties"></a><span data-ttu-id="06967-116">Ekspozycja właściwości systemu właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="06967-116">Property System Exposure of Dependency Properties</span></span>  
 <span data-ttu-id="06967-117">Nie jest ogólnie przydatne i potencjalnie mylące jest <xref:System.Windows.DependencyProperty> deklarowanie jako jakiegokolwiek poziomu dostępu innego niż publiczny.</span><span class="sxs-lookup"><span data-stu-id="06967-117">It is not generally useful, and it is potentially misleading, to declare a <xref:System.Windows.DependencyProperty> as any access level other than public.</span></span> <span data-ttu-id="06967-118">To ustawienie poziomu dostępu tylko uniemożliwia komuś możliwość uzyskania odwołania do wystąpienia z klasy deklarującej.</span><span class="sxs-lookup"><span data-stu-id="06967-118">That access level setting only prevents someone from being able to get a reference to the instance from the declaring class.</span></span> <span data-ttu-id="06967-119">Ale istnieje kilka aspektów systemu właściwości, <xref:System.Windows.DependencyProperty> który zwróci jako środek identyfikacji określonej właściwości, ponieważ istnieje w wystąpieniu wystąpienia klasy lub wystąpienia klasy pochodnej, a ten identyfikator jest nadal użyteczny w <xref:System.Windows.DependencyObject.SetValue%2A> wywołaniu, nawet jeśli oryginalny identyfikator statyczny jest zadeklarowany jako niepubliczny.</span><span class="sxs-lookup"><span data-stu-id="06967-119">But there are several aspects of the property system that will return a <xref:System.Windows.DependencyProperty> as the means of identifying a particular property as it exists on an instance of a class or a derived class instance, and this identifier is still usable in a <xref:System.Windows.DependencyObject.SetValue%2A> call even if the original static identifier is declared as nonpublic.</span></span> <span data-ttu-id="06967-120">Ponadto <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> metody wirtualne odbierają informacje o dowolnej istniejącej właściwości zależności, która zmieniła wartość.</span><span class="sxs-lookup"><span data-stu-id="06967-120">Also, <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> virtual methods receive information of any existing dependency property that changed value.</span></span> <span data-ttu-id="06967-121">Ponadto <xref:System.Windows.DependencyObject.GetLocalValueEnumerator%2A> metoda zwraca identyfikatory dla dowolnej właściwości w wystąpieniach o wartości ustawionej lokalnie.</span><span class="sxs-lookup"><span data-stu-id="06967-121">In addition, the <xref:System.Windows.DependencyObject.GetLocalValueEnumerator%2A> method returns identifiers for any property on instances with a locally set value.</span></span>  
  
### <a name="validation-and-security"></a><span data-ttu-id="06967-122">Walidacja i bezpieczeństwo</span><span class="sxs-lookup"><span data-stu-id="06967-122">Validation and Security</span></span>  
 <span data-ttu-id="06967-123">Stosowanie żądania do <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> i oczekiwanie niepowodzenia sprawdzania poprawności na żądanie awarii, aby zapobiec właściwość jest ustawiona nie jest odpowiedni mechanizm zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="06967-123">Applying a demand to a <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> and expecting the validation failure on a demand failure to prevent a property from being set is not an adequate security mechanism.</span></span> <span data-ttu-id="06967-124">Unieważnienie wartości zestawu wymuszane za pośrednictwem <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> może być również pomijane przez złośliwych wywołujących, jeśli te wywołania działają w domenie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="06967-124">Set-value invalidation enforced through <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> could also be suppressed by malicious callers, if those callers are operating within the application domain.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="06967-125">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="06967-125">See also</span></span>

- [<span data-ttu-id="06967-126">Niestandardowe właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="06967-126">Custom Dependency Properties</span></span>](custom-dependency-properties.md)
