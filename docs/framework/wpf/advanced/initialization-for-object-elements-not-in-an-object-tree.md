---
title: Inicjalizacja elementów obiektu poza drzewem obiektu
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- logical tree [WPF]
- visual tree [WPF]
- elements [WPF], initializing
- initializing elements [WPF]
ms.assetid: 7b8dfc9b-46ac-4ce8-b7bb-035734d688b7
ms.openlocfilehash: ed1f7781453503682648d740b57dd7af0a1715c6
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/23/2019
ms.locfileid: "54524133"
---
# <a name="initialization-for-object-elements-not-in-an-object-tree"></a><span data-ttu-id="14100-102">Inicjalizacja elementów obiektu poza drzewem obiektu</span><span class="sxs-lookup"><span data-stu-id="14100-102">Initialization for Object Elements Not in an Object Tree</span></span>
<span data-ttu-id="14100-103">Niektóre aspekty [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] inicjowania mają być opóźniane do procesów, które są zwykle oparte na ten element jest podłączony do drzewa logicznego lub drzewa wizualnego.</span><span class="sxs-lookup"><span data-stu-id="14100-103">Some aspects of [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] initialization are deferred to processes that typically rely on that element being connected to either the logical tree or visual tree.</span></span> <span data-ttu-id="14100-104">W tym temacie opisano kroki, które mogą być wymagane, aby zainicjować element, który nie jest podłączony do obu drzewa.</span><span class="sxs-lookup"><span data-stu-id="14100-104">This topic describes the steps that may be necessary in order to initialize an element that is not connected to either tree.</span></span>  
  
 
  
## <a name="elements-and-the-logical-tree"></a><span data-ttu-id="14100-105">Elementy i drzewo logiczne</span><span class="sxs-lookup"><span data-stu-id="14100-105">Elements and the Logical Tree</span></span>  
 <span data-ttu-id="14100-106">Po utworzeniu wystąpienia [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] klasy w kodzie, należy pamiętać, że różne aspekty tego obiektu inicjowanie [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] klasy celowo nie są częścią kodu, który jest wykonywany podczas wywoływania konstruktora klasy.</span><span class="sxs-lookup"><span data-stu-id="14100-106">When you create an instance of a [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] class in code, you should be aware that several aspects of object initialization for a [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] class are deliberately not a part of the code that is executed when calling the class constructor.</span></span> <span data-ttu-id="14100-107">Szczególnie w przypadku klasy kontrolki większość wizualnej reprezentacji tej kontrolki nie jest zdefiniowany przez konstruktora.</span><span class="sxs-lookup"><span data-stu-id="14100-107">Particularly for a control class, most of the visual representation of that control is not defined by the constructor.</span></span> <span data-ttu-id="14100-108">Wizualna reprezentacja jest zdefiniowany przez szablon kontrolki.</span><span class="sxs-lookup"><span data-stu-id="14100-108">Instead, the visual representation is defined by the control's template.</span></span> <span data-ttu-id="14100-109">Szablon potencjalnie pochodzą z różnych źródeł, ale w większości przypadków szablonu są uzyskiwane ze stylów motywu.</span><span class="sxs-lookup"><span data-stu-id="14100-109">The template potentially comes from a variety of sources, but most often the template is obtained from theme styles.</span></span> <span data-ttu-id="14100-110">Szablony są wydajnie późnego wiązania; niezbędne szablonu nie jest dołączony do danego kontroli, aż formant będzie gotowa do układu.</span><span class="sxs-lookup"><span data-stu-id="14100-110">Templates are effectively late-binding; the necessary template is not attached to the control in question until the control is ready for layout.</span></span> <span data-ttu-id="14100-111">I kontrolki nie jest gotowa do układu, dopóki nie jest on dołączony do drzewa logicznego, który nawiązuje połączenie z powierzchnię renderowania w katalogu głównym.</span><span class="sxs-lookup"><span data-stu-id="14100-111">And the control is not ready for layout until it is attached to a logical tree that connects to a rendering surface at the root.</span></span> <span data-ttu-id="14100-112">Jest ten element poziomu głównego, który inicjuje wszystkie jego elementy podrzędne renderowania, zgodnie z definicją w drzewie logicznym.</span><span class="sxs-lookup"><span data-stu-id="14100-112">It is that root-level element that initiates the rendering of all of its child elements as defined in the logical tree.</span></span>  
  
 <span data-ttu-id="14100-113">Drzewo wizualne również uczestniczy w ramach tego procesu.</span><span class="sxs-lookup"><span data-stu-id="14100-113">The visual tree also participates in this process.</span></span> <span data-ttu-id="14100-114">Elementy, które są częścią drzewa wizualnego, za pomocą szablonów również nie są w pełni są tworzone, aż do chwili podłączenia.</span><span class="sxs-lookup"><span data-stu-id="14100-114">Elements that are part of the visual tree through the templates are also not fully instantiated until connected.</span></span>  
  
 <span data-ttu-id="14100-115">Konsekwencje tego zachowania to, że niektórych operacji, które opierają się na ukończone visual właściwości elementu wymagają wykonania dodatkowych czynności.</span><span class="sxs-lookup"><span data-stu-id="14100-115">The consequences of this behavior are that certain operations that rely on the completed visual characteristics of an element require additional steps.</span></span> <span data-ttu-id="14100-116">Przykładem jest, jeśli próbujesz pobrać visual cech klasy, które zostało wykonane, ale nie są jeszcze dołączone do drzewa.</span><span class="sxs-lookup"><span data-stu-id="14100-116">An example is if you are attempting to get the visual characteristics of a class that was constructed but not yet attached to a tree.</span></span> <span data-ttu-id="14100-117">Na przykład jeśli chcesz wywołać <xref:System.Windows.Media.Imaging.RenderTargetBitmap.Render%2A> na <xref:System.Windows.Media.Imaging.RenderTargetBitmap> i wizualizacji, które przekazujesz jest elementem nie jest podłączony do drzewa tego elementu nie zostało zakończone wizualnie, aż inicjowanie dodatkowych kroków.</span><span class="sxs-lookup"><span data-stu-id="14100-117">For instance, if you want to call <xref:System.Windows.Media.Imaging.RenderTargetBitmap.Render%2A> on a <xref:System.Windows.Media.Imaging.RenderTargetBitmap> and the visual you are passing is an element not connected to a tree, that element is not visually complete until additional initialization steps are completed.</span></span>  
  
### <a name="using-begininit-and-endinit-to-initialize-the-element"></a><span data-ttu-id="14100-118">Przy użyciu BeginInit i EndInit, aby zainicjować Element</span><span class="sxs-lookup"><span data-stu-id="14100-118">Using BeginInit and EndInit to Initialize the Element</span></span>  
 <span data-ttu-id="14100-119">Różnymi klasami w [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] zaimplementować <xref:System.ComponentModel.ISupportInitialize> interfejsu.</span><span class="sxs-lookup"><span data-stu-id="14100-119">Various classes in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] implement the <xref:System.ComponentModel.ISupportInitialize> interface.</span></span> <span data-ttu-id="14100-120">Możesz użyć <xref:System.ComponentModel.ISupportInitialize.BeginInit%2A> i <xref:System.ComponentModel.ISupportInitialize.EndInit%2A> metody interfejsu, aby wskazać region, w kodzie, które zawiera kroków inicjowania (takie jak ustawienie właściwości wartości tego renderowanie wpływ).</span><span class="sxs-lookup"><span data-stu-id="14100-120">You use the <xref:System.ComponentModel.ISupportInitialize.BeginInit%2A> and <xref:System.ComponentModel.ISupportInitialize.EndInit%2A> methods of the interface to denote a region in your code that contains initialization steps (such as setting property values that affect rendering).</span></span> <span data-ttu-id="14100-121">Po <xref:System.ComponentModel.ISupportInitialize.EndInit%2A> jest wywoływana w sekwencji, system układu można przetworzyć elementu i rozpoczęcia wyszukiwania stylu niejawnego.</span><span class="sxs-lookup"><span data-stu-id="14100-121">After <xref:System.ComponentModel.ISupportInitialize.EndInit%2A> is called in the sequence, the layout system can process the element and start looking for an implicit style.</span></span>  
  
 <span data-ttu-id="14100-122">Jeśli element właściwości są ustawiane na <xref:System.Windows.FrameworkElement> lub <xref:System.Windows.FrameworkContentElement> pochodne klasy, wówczas może wywołać klasy wersje <xref:System.Windows.FrameworkElement.BeginInit%2A> i <xref:System.Windows.FrameworkElement.EndInit%2A> zamiast rzutowania <xref:System.ComponentModel.ISupportInitialize>.</span><span class="sxs-lookup"><span data-stu-id="14100-122">If the element you are setting properties on is a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement> derived class, then you can call the class versions of <xref:System.Windows.FrameworkElement.BeginInit%2A> and <xref:System.Windows.FrameworkElement.EndInit%2A> rather than casting to <xref:System.ComponentModel.ISupportInitialize>.</span></span>  
  
### <a name="sample-code"></a><span data-ttu-id="14100-123">Przykładowy kod</span><span class="sxs-lookup"><span data-stu-id="14100-123">Sample Code</span></span>  
 <span data-ttu-id="14100-124">Poniższy przykład przedstawia przykładowy kod dla aplikacji konsoli, która korzysta z renderowania [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] i <xref:System.Windows.Markup.XamlReader.Load%28System.IO.Stream%29?displayProperty=nameWithType> luzem [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pliku, aby zilustrować właściwe rozmieszczenie <xref:System.Windows.FrameworkElement.BeginInit%2A> i <xref:System.Windows.FrameworkElement.EndInit%2A> wokół nawzajem [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] wywołania właściwości, które wpływają na renderowanie, Dostosuj.</span><span class="sxs-lookup"><span data-stu-id="14100-124">The following example is sample code for a console application that uses rendering [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] and <xref:System.Windows.Markup.XamlReader.Load%28System.IO.Stream%29?displayProperty=nameWithType> of a loose [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file to illustrate the proper placement of <xref:System.Windows.FrameworkElement.BeginInit%2A> and <xref:System.Windows.FrameworkElement.EndInit%2A> around other [!INCLUDE[TLA2#tla_api](../../../../includes/tla2sharptla-api-md.md)] calls that adjust properties that affect rendering.</span></span>  
  
 <span data-ttu-id="14100-125">W przykładzie pokazano tylko funkcji main.</span><span class="sxs-lookup"><span data-stu-id="14100-125">The example illustrates the main function only.</span></span> <span data-ttu-id="14100-126">Funkcje `Rasterize` i `Save` (niewyświetlany) są funkcje narzędzia, które powinien zachować ostrożność, przetwarzanie obrazu i we/wy.</span><span class="sxs-lookup"><span data-stu-id="14100-126">The functions `Rasterize` and `Save` (not shown) are utility functions that take care of image processing and IO.</span></span>  
  
 [!code-csharp[InitializeElements#Main](../../../../samples/snippets/csharp/VS_Snippets_Wpf/InitializeElements/CSharp/initializeelements.cs#main)]
 [!code-vb[InitializeElements#Main](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/InitializeElements/VisualBasic/initializeelements.vb#main)]  
  
## <a name="see-also"></a><span data-ttu-id="14100-127">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="14100-127">See also</span></span>
- [<span data-ttu-id="14100-128">Drzewa w WPF</span><span class="sxs-lookup"><span data-stu-id="14100-128">Trees in WPF</span></span>](../../../../docs/framework/wpf/advanced/trees-in-wpf.md)
- [<span data-ttu-id="14100-129">Renderowanie grafiki WPF — przegląd</span><span class="sxs-lookup"><span data-stu-id="14100-129">WPF Graphics Rendering Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/wpf-graphics-rendering-overview.md)
- [<span data-ttu-id="14100-130">Przegląd XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="14100-130">XAML Overview (WPF)</span></span>](../../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)
