---
title: Przegląd Autorstwo formantów
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- controls [WPF], authoring overview
- authoring overview for controls [WPF]
ms.assetid: 3d864748-cff0-4e63-9b23-d8e5a635b28f
ms.openlocfilehash: 2007ee7680707cd1cc9628cc3900ca1068db8678
ms.sourcegitcommit: 0c48191d6d641ce88d7510e319cf38c0e35697d0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/05/2019
ms.locfileid: "57368730"
---
# <a name="control-authoring-overview"></a><span data-ttu-id="f2ce6-102">Przegląd Autorstwo formantów</span><span class="sxs-lookup"><span data-stu-id="f2ce6-102">Control Authoring Overview</span></span>
<span data-ttu-id="f2ce6-103">Możliwość rozszerzania [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] model kontroli znacząco zmniejsza potrzebę tworzenia nowego formantu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-103">The extensibility of the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] control model greatly reduces the need to create a new control.</span></span> <span data-ttu-id="f2ce6-104">Jednak w niektórych przypadkach może być nadal należy utworzyć formant niestandardowy.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-104">However, in certain cases you may still need to create a custom control.</span></span> <span data-ttu-id="f2ce6-105">W tym temacie omówiono funkcje, które zminimalizować potrzebę tworzenia formantu niestandardowego i innej kontrolki tworzenia modeli w [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f2ce6-105">This topic discusses the features that minimize your need to create a custom control and the different control authoring models in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span> <span data-ttu-id="f2ce6-106">Również w tym temacie pokazano, jak utworzyć nowy formant.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-106">This topic also demonstrates how to create a new control.</span></span>  
  
 
  
<a name="when_to_write_a_new_control"></a>   
## <a name="alternatives-to-writing-a-new-control"></a><span data-ttu-id="f2ce6-107">Alternatywy dla zapisywania nowego formantu</span><span class="sxs-lookup"><span data-stu-id="f2ce6-107">Alternatives to Writing a New Control</span></span>  
 <span data-ttu-id="f2ce6-108">W przeszłości Jeśli chcesz uzyskać dostosowane środowisko z istniejącej kontrolki ograniczały użytkowników do zmiany standardowe właściwości kontrolki, takie jak kolor tła, szerokość obramowania i rozmiar czcionki.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-108">Historically, if you wanted to get a customized experience from an existing control, you were limited to changing the standard properties of the control, such as background color, border width, and font size.</span></span> <span data-ttu-id="f2ce6-109">Dalej rozszerzać wygląd i zachowanie kontrolki poza tych wstępnie zdefiniowanych parametrów, należy utworzyć nowy formant, zwykle przez dziedziczenie z istniejącej kontrolki i zastąpienie metody, które są odpowiedzialne za narysowanie formantu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-109">If you wished to extend the appearance or behavior of a control beyond these predefined parameters, you would need to create a new control, usually by inheriting from an existing control and overriding the method responsible for drawing the control.</span></span>  <span data-ttu-id="f2ce6-110">Mimo że nadal jest opcją, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] umożliwia użytkownikowi dostosowywanie istniejących kontrolek przy użyciu rozbudowanych model zawartości, style, szablonów i wyzwalacze.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-110">Although that is still an option, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] enables to you customize existing controls by using its rich content model, styles, templates, and triggers.</span></span> <span data-ttu-id="f2ce6-111">Poniższa lista zawiera przykłady, jak te funkcje mogą być używane w taki sposób, aby tworzyć niestandardowe i spójne środowiska bez konieczności tworzenia nowego formantu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-111">The following list gives examples of how these features can be used to create custom and consistent experiences without having to create a new control.</span></span>  
  
-   <span data-ttu-id="f2ce6-112">**Sformatowana zawartość.**</span><span class="sxs-lookup"><span data-stu-id="f2ce6-112">**Rich Content.**</span></span> <span data-ttu-id="f2ce6-113">Wiele standardowych [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] formanty obsługują sformatowanej zawartości.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-113">Many of the standard [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls support rich content.</span></span> <span data-ttu-id="f2ce6-114">Na przykład właściwość content <xref:System.Windows.Controls.Button> typu <xref:System.Object>, więc teoretycznie niczego mogą być wyświetlane na <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-114">For example, the content property of a <xref:System.Windows.Controls.Button> is of type <xref:System.Object>, so theoretically anything can be displayed on a <xref:System.Windows.Controls.Button>.</span></span>  <span data-ttu-id="f2ce6-115">Aby wyświetlić obraz i tekst przycisku, można dodać obraz i <xref:System.Windows.Controls.TextBlock> do <xref:System.Windows.Controls.StackPanel> i przypisać <xref:System.Windows.Controls.StackPanel> do <xref:System.Windows.Controls.ContentControl.Content%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-115">To have a button display an image and text, you can add an image and a <xref:System.Windows.Controls.TextBlock> to a <xref:System.Windows.Controls.StackPanel> and assign the <xref:System.Windows.Controls.StackPanel> to the <xref:System.Windows.Controls.ContentControl.Content%2A> property.</span></span> <span data-ttu-id="f2ce6-116">Ponieważ formanty można wyświetlić [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] elementy wizualne i dowolne dane, jest mniej wymagane, aby utworzyć nową kontrolkę lub zmodyfikować istniejącą kontrolkę do obsługi złożonych wizualizacji.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-116">Because the controls can display [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] visual elements and arbitrary data, there is less need to create a new control or to modify an existing control to support a complex visualization.</span></span> <span data-ttu-id="f2ce6-117">Aby uzyskać więcej informacji na temat modelu zawartości dla <xref:System.Windows.Controls.Button> i innej zawartości modeli w [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], zobacz [Model zawartości WPF](wpf-content-model.md).</span><span class="sxs-lookup"><span data-stu-id="f2ce6-117">For more information about the content model for <xref:System.Windows.Controls.Button> and other content models in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [WPF Content Model](wpf-content-model.md).</span></span>  
  
-   <span data-ttu-id="f2ce6-118">**Style.**</span><span class="sxs-lookup"><span data-stu-id="f2ce6-118">**Styles.**</span></span> <span data-ttu-id="f2ce6-119">A <xref:System.Windows.Style> to zbiór wartości, które reprezentują właściwości formantu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-119">A <xref:System.Windows.Style> is a collection of values that represent properties for a control.</span></span> <span data-ttu-id="f2ce6-120">Przy użyciu stylów, można utworzyć wielokrotnego użytku reprezentacja kontroli żądany wygląd i zachowanie, bez konieczności pisania nowego formantu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-120">By using styles, you can create a reusable representation of a desired control appearance and behavior without writing a new control.</span></span> <span data-ttu-id="f2ce6-121">Załóżmy na przykład chcesz wyświetlić wszystkie swoje <xref:System.Windows.Controls.TextBlock> kontrolki ma czerwony, Arial czcionki o rozmiarze czcionki 14.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-121">For example, assume that you want all of your <xref:System.Windows.Controls.TextBlock> controls to have red, Arial font with a font size of 14.</span></span> <span data-ttu-id="f2ce6-122">Można utworzyć styl jako zasób i odpowiednio ustawić odpowiednie właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-122">You can create a style as a resource and set the appropriate properties accordingly.</span></span> <span data-ttu-id="f2ce6-123">Następnie każdy <xref:System.Windows.Controls.TextBlock> sytuacja: dodajesz do Twojej aplikacji będą mieć tego samego wygląd.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-123">Then every <xref:System.Windows.Controls.TextBlock> that you add to your application will have the same appearance.</span></span>  
  
-   <span data-ttu-id="f2ce6-124">**Szablony danych.**</span><span class="sxs-lookup"><span data-stu-id="f2ce6-124">**Data Templates.**</span></span> <span data-ttu-id="f2ce6-125">A <xref:System.Windows.DataTemplate> pozwala dostosować sposób wyświetlania danych w formancie.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-125">A <xref:System.Windows.DataTemplate> enables you to customize how data is displayed on a control.</span></span> <span data-ttu-id="f2ce6-126">Na przykład <xref:System.Windows.DataTemplate> może służyć do określenia, jak dane są wyświetlane w <xref:System.Windows.Controls.ListBox>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-126">For example, a <xref:System.Windows.DataTemplate> can be used to specify how data is displayed in a <xref:System.Windows.Controls.ListBox>.</span></span>  <span data-ttu-id="f2ce6-127">Aby na przykład, zobacz [Przegląd Szablonowanie danych](../data/data-templating-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f2ce6-127">For an example of this, see [Data Templating Overview](../data/data-templating-overview.md).</span></span>  <span data-ttu-id="f2ce6-128">Oprócz Dostosowywanie wyglądu danych <xref:System.Windows.DataTemplate> może zawierać elementy interfejsu użytkownika, który zapewnia dużą elastyczność w niestandardowych interfejsów użytkownika.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-128">In addition to customizing the appearance of data, a <xref:System.Windows.DataTemplate> can include UI elements, which gives you a lot of flexibility in custom UIs.</span></span>  <span data-ttu-id="f2ce6-129">Na przykład za pomocą <xref:System.Windows.DataTemplate>, możesz utworzyć <xref:System.Windows.Controls.ComboBox> , w której każdy element zawiera pole wyboru.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-129">For example, by using a <xref:System.Windows.DataTemplate>, you can create a <xref:System.Windows.Controls.ComboBox> in which each item contains a check box.</span></span>  
  
-   <span data-ttu-id="f2ce6-130">**Szablony kontrolek.**</span><span class="sxs-lookup"><span data-stu-id="f2ce6-130">**Control Templates.**</span></span> <span data-ttu-id="f2ce6-131">Wiele kontrolek [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] użyj <xref:System.Windows.Controls.ControlTemplate> do zdefiniowania kontrolki struktury i wygląd, który oddziela wyglądu formantu z funkcji kontroli.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-131">Many controls in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] use a <xref:System.Windows.Controls.ControlTemplate> to define the control's structure and appearance, which separates the appearance of a control from the functionality of the control.</span></span> <span data-ttu-id="f2ce6-132">Znacznie można zmienić wygląd kontrolki poprzez zmianę definicji jego <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-132">You can drastically change the appearance of a control by redefining its <xref:System.Windows.Controls.ControlTemplate>.</span></span>  <span data-ttu-id="f2ce6-133">Na przykład załóżmy, że chcesz, aby formant, który wygląda jak sygnalizatora.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-133">For example, suppose you want a control that looks like a stoplight.</span></span> <span data-ttu-id="f2ce6-134">Ten formant ma prosty interfejs użytkownika i funkcje.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-134">This control has a simple user interface and functionality.</span></span>  <span data-ttu-id="f2ce6-135">Kontrolka jest trzy koła, tylko jeden z nich może być włączone w danym momencie.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-135">The control is three circles, only one of which can be lit up at a time.</span></span> <span data-ttu-id="f2ce6-136">Po niektórych odbicie, należy być może należy pamiętać, że <xref:System.Windows.Controls.RadioButton> oferuje funkcje tylko jeden zaznaczony w danym momencie, ale domyślny wygląd <xref:System.Windows.Controls.RadioButton> nothing wygląda światła na sygnalizatora.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-136">After some reflection, you might realize that a <xref:System.Windows.Controls.RadioButton> offers the functionality of only one being selected at a time, but the default appearance of the <xref:System.Windows.Controls.RadioButton> looks nothing like the lights on a stoplight.</span></span>  <span data-ttu-id="f2ce6-137">Ponieważ <xref:System.Windows.Controls.RadioButton> używa szablonu kontrolki do definiowania jego wygląd można łatwo zmienić definicję <xref:System.Windows.Controls.ControlTemplate> zgodnie z wymaganiami, kontrolki i używaj przycisków radiowych umożliwia Twojej sygnalizatora.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-137">Because the <xref:System.Windows.Controls.RadioButton> uses a control template to define its appearance, it is easy to redefine the <xref:System.Windows.Controls.ControlTemplate> to fit the requirements of the control, and use radio buttons to make your stoplight.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="f2ce6-138">Mimo że <xref:System.Windows.Controls.RadioButton> służy <xref:System.Windows.DataTemplate>, <xref:System.Windows.DataTemplate> nie wystarcza, w tym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-138">Although a <xref:System.Windows.Controls.RadioButton> can use a <xref:System.Windows.DataTemplate>, a <xref:System.Windows.DataTemplate> is not sufficient in this example.</span></span>  <span data-ttu-id="f2ce6-139"><xref:System.Windows.DataTemplate> Definiuje wygląd elementów zawartości formantu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-139">The <xref:System.Windows.DataTemplate> defines the appearance of the content of a control.</span></span> <span data-ttu-id="f2ce6-140">W przypadku właściwości <xref:System.Windows.Controls.RadioButton>, zawartość jest, niezależnie od rodzaju pojawia się po prawej stronie koła, która wskazuje, czy <xref:System.Windows.Controls.RadioButton> jest zaznaczone.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-140">In the case of a <xref:System.Windows.Controls.RadioButton>, the content is whatever appears to the right of the circle that indicates whether the <xref:System.Windows.Controls.RadioButton> is selected.</span></span>  <span data-ttu-id="f2ce6-141">W przykładzie sygnalizatora przycisku radiowego musi mieć po prostu być circle, który może "dostarczone."</span><span class="sxs-lookup"><span data-stu-id="f2ce6-141">In the example of the stoplight, the radio button needs just be a circle that can "light up."</span></span> <span data-ttu-id="f2ce6-142">Ponieważ wygląd potrzebę sygnalizatora jest więc inny niż domyślny wygląd <xref:System.Windows.Controls.RadioButton>, należy go ponownie zdefiniować <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-142">Because the appearance requirement for the stoplight is so different than the default appearance of the <xref:System.Windows.Controls.RadioButton>, it is necessary to redefine the <xref:System.Windows.Controls.ControlTemplate>.</span></span>  <span data-ttu-id="f2ce6-143">Ogólnie rzecz biorąc <xref:System.Windows.DataTemplate> służy do definiowania zawartości lub danych kontrolkę i a <xref:System.Windows.Controls.ControlTemplate> służy do definiowania struktury formantu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-143">In general a <xref:System.Windows.DataTemplate> is used for defining the content (or data) of a control, and a <xref:System.Windows.Controls.ControlTemplate> is used for defining how a control is structured.</span></span>  
  
-   <span data-ttu-id="f2ce6-144">**Wyzwalacze.**</span><span class="sxs-lookup"><span data-stu-id="f2ce6-144">**Triggers.**</span></span> <span data-ttu-id="f2ce6-145">A <xref:System.Windows.Trigger> dynamicznie zmieniać wygląd i zachowanie kontrolki bez tworzenia nowego formantu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-145">A <xref:System.Windows.Trigger> allows you to dynamically change the appearance and behavior of a control without creating a new control.</span></span> <span data-ttu-id="f2ce6-146">Załóżmy na przykład, posiadasz wiele <xref:System.Windows.Controls.ListBox> formantów w aplikacji i elementy w każdym <xref:System.Windows.Controls.ListBox> jest pogrubiony i czerwony, gdy są zaznaczone.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-146">For example, suppose you have multiple <xref:System.Windows.Controls.ListBox> controls in your application and want the items in each <xref:System.Windows.Controls.ListBox> to be bold and red when they are selected.</span></span> <span data-ttu-id="f2ce6-147">Twoje pierwsze instinct może być utworzyć klasę, która dziedziczy po elemencie <xref:System.Windows.Controls.ListBox> i zastąpić <xref:System.Windows.Controls.Primitives.Selector.OnSelectionChanged%2A> metodę, aby zmienić wygląd wybranego elementu, ale lepszym rozwiązaniem jest dodanie wyzwalacza do styl <xref:System.Windows.Controls.ListBoxItem> zmienia się wygląd wybrany element.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-147">Your first instinct might be to create a class that inherits from <xref:System.Windows.Controls.ListBox> and override the <xref:System.Windows.Controls.Primitives.Selector.OnSelectionChanged%2A> method to change the appearance of the selected item, but a better approach is to add a trigger to a style of a <xref:System.Windows.Controls.ListBoxItem> that changes the appearance of the selected item.</span></span> <span data-ttu-id="f2ce6-148">Wyzwalacz umożliwia zmianę wartości właściwości lub podjąć działania w oparciu o wartość właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-148">A trigger enables you to change property values or take actions based on the value of a property.</span></span> <span data-ttu-id="f2ce6-149"><xref:System.Windows.EventTrigger> Umożliwia akcje, kiedy wystąpi zdarzenie.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-149">An <xref:System.Windows.EventTrigger> enables you to take actions when an event occurs.</span></span>  
  
 <span data-ttu-id="f2ce6-150">Aby uzyskać więcej informacji na temat style, szablonów i wyzwalaczy, zobacz [Tworzenie szablonów i stylów](styling-and-templating.md).</span><span class="sxs-lookup"><span data-stu-id="f2ce6-150">For more information about styles, templates, and triggers, see [Styling and Templating](styling-and-templating.md).</span></span>  
  
 <span data-ttu-id="f2ce6-151">Ogólnie rzecz biorąc Jeśli formant odzwierciedla funkcjonalność istniejącej kontrolki, ale formant będzie wyglądać inaczej, najpierw rozważ, czy można użyć dowolnej z metod opisanych w tej sekcji w celu zmiany wyglądu istniejącej kontrolki.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-151">In general, if your control mirrors the functionality of an existing control, but you want the control to look different, you should first consider whether you can use any of the methods discussed in this section to change the existing control's appearance.</span></span>  
  
<a name="models_for_control_authoring"></a>   
## <a name="models-for-control-authoring"></a><span data-ttu-id="f2ce6-152">Modele do tworzenia kontrolki</span><span class="sxs-lookup"><span data-stu-id="f2ce6-152">Models for Control Authoring</span></span>  
 <span data-ttu-id="f2ce6-153">Rozbudowane model zawartości, style, szablonów i wyzwalacze zminimalizować zapotrzebowanie na tworzenie nowego formantu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-153">The rich content model, styles, templates, and triggers minimize the need for you to create a new control.</span></span> <span data-ttu-id="f2ce6-154">Jednakże jeśli musisz utworzyć nowy formant, ważne jest zrozumienie innej kontrolki tworzenia modeli w [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f2ce6-154">However, if you do need to create a new control, it is important to understand the different control authoring models in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="f2ce6-155">udostępnia trzy modele ogólne do tworzenia kontrolek, z których każdy zawiera inny zestaw funkcji i stopień elastyczności.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-155">provides three general models for creating a control, each of which provides a different set of features and level of flexibility.</span></span> <span data-ttu-id="f2ce6-156">Podstawowej klasy są trzy modele <xref:System.Windows.Controls.UserControl>, <xref:System.Windows.Controls.Control>, i <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-156">The base classes for the three models are <xref:System.Windows.Controls.UserControl>, <xref:System.Windows.Controls.Control>, and <xref:System.Windows.FrameworkElement>.</span></span>  
  
### <a name="deriving-from-usercontrol"></a><span data-ttu-id="f2ce6-157">Wyprowadzanie z elementu UserControl</span><span class="sxs-lookup"><span data-stu-id="f2ce6-157">Deriving from UserControl</span></span>  
 <span data-ttu-id="f2ce6-158">Najprostszym sposobem utworzenia formantu w [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] jest pochodną <xref:System.Windows.Controls.UserControl>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-158">The simplest way to create a control in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is to derive from <xref:System.Windows.Controls.UserControl>.</span></span> <span data-ttu-id="f2ce6-159">Podczas kompilowania formantu dziedziczy <xref:System.Windows.Controls.UserControl>, Dodaj istniejące składniki do <xref:System.Windows.Controls.UserControl>nazwy składników i odwoływać się do obsługi zdarzeń w [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f2ce6-159">When you build a control that inherits from <xref:System.Windows.Controls.UserControl>, you add existing components to the <xref:System.Windows.Controls.UserControl>, name the components, and reference event handlers in [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span></span> <span data-ttu-id="f2ce6-160">Następnie można odwoływać się do nazwanych elementów i definiowanie procedury obsługi zdarzeń w kodzie.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-160">You can then reference the named elements and define the event handlers in code.</span></span> <span data-ttu-id="f2ce6-161">Ten model programowania jest bardzo podobny do modelu używany do programowania aplikacji w [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f2ce6-161">This development model is very similar to the model used for application development in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
 <span data-ttu-id="f2ce6-162">Jeśli skompilowany poprawnie, <xref:System.Windows.Controls.UserControl> mogą korzystać z zalet sformatowanej zawartości, style i wyzwalacze.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-162">If built correctly, a <xref:System.Windows.Controls.UserControl> can take advantage of the benefits of rich content, styles, and triggers.</span></span> <span data-ttu-id="f2ce6-163">Jednakże jeśli formant dziedziczy z <xref:System.Windows.Controls.UserControl>, osób, które używają formantu nie będzie można użyć <xref:System.Windows.DataTemplate> lub <xref:System.Windows.Controls.ControlTemplate> do dostosowania jego wyglądu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-163">However, if your control inherits from <xref:System.Windows.Controls.UserControl>, people who use your control will not be able to use a <xref:System.Windows.DataTemplate> or <xref:System.Windows.Controls.ControlTemplate> to customize its appearance.</span></span>  <span data-ttu-id="f2ce6-164">Zachodzi konieczność dziedziczyć <xref:System.Windows.Controls.Control> klasy lub jednej z jej klas pochodnych (inne niż <xref:System.Windows.Controls.UserControl>) można utworzyć kontrolki niestandardowej, która obsługuje szablony.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-164">It is necessary to derive from the <xref:System.Windows.Controls.Control> class or one of its derived classes (other than <xref:System.Windows.Controls.UserControl>) to create a custom control that supports templates.</span></span>  
  
#### <a name="benefits-of-deriving-from-usercontrol"></a><span data-ttu-id="f2ce6-165">Korzyści wynikające z elementu UserControl</span><span class="sxs-lookup"><span data-stu-id="f2ce6-165">Benefits of Deriving from UserControl</span></span>  
 <span data-ttu-id="f2ce6-166">Należy wziąć pod uwagę pochodząca od <xref:System.Windows.Controls.UserControl> wszystkie następujące zastosowania:</span><span class="sxs-lookup"><span data-stu-id="f2ce6-166">Consider deriving from <xref:System.Windows.Controls.UserControl> if all of the following apply:</span></span>  
  
-   <span data-ttu-id="f2ce6-167">Chcesz skompilować Twoją kontrolą, podobnie jak sposób kompilowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-167">You want to build your control similarly to how you build an application.</span></span>  
  
-   <span data-ttu-id="f2ce6-168">Formant składa się tylko z istniejących składników.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-168">Your control consists only of existing components.</span></span>  
  
-   <span data-ttu-id="f2ce6-169">Nie potrzebujesz do obsługi złożonych dostosowań.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-169">You don't need to support complex customization.</span></span>  
  
### <a name="deriving-from-control"></a><span data-ttu-id="f2ce6-170">Wyprowadzanie z formantu</span><span class="sxs-lookup"><span data-stu-id="f2ce6-170">Deriving from Control</span></span>  
 <span data-ttu-id="f2ce6-171">Wyprowadzanie z <xref:System.Windows.Controls.Control> klasa jest model wykorzystywany przez większość istniejących [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] kontrolki.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-171">Deriving from the <xref:System.Windows.Controls.Control> class is the model used by most of the existing [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] controls.</span></span> <span data-ttu-id="f2ce6-172">Podczas tworzenia kontrolki dziedziczy <xref:System.Windows.Controls.Control> klasy, należy zdefiniować wygląd przy użyciu szablonów.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-172">When you create a control that inherits from the <xref:System.Windows.Controls.Control> class, you define its appearance by using templates.</span></span> <span data-ttu-id="f2ce6-173">W ten sposób można oddzielić logikę operacyjne od wizualnej reprezentacji.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-173">By doing so, you separate the operational logic from the visual representation.</span></span> <span data-ttu-id="f2ce6-174">Można także zapewnić oddzielenie interfejsu użytkownika i logiki przy użyciu poleceń i powiązań zamiast zdarzenia i unikanie odwołujący się elementów w <xref:System.Windows.Controls.ControlTemplate> zawsze, gdy jest to możliwe.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-174">You can also ensure the decoupling of the UI and logic by using commands and bindings instead of events and avoiding referencing elements in the <xref:System.Windows.Controls.ControlTemplate> whenever possible.</span></span>  <span data-ttu-id="f2ce6-175">Jeśli interfejs użytkownika i logikę kontrolki są prawidłowo odłączony, kontrolki użytkownika można ponownie zdefiniować formantu <xref:System.Windows.Controls.ControlTemplate> do dostosowania jego wyglądu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-175">If the UI and logic of your control are properly decoupled, a user of your control can redefine the control's <xref:System.Windows.Controls.ControlTemplate> to customize its appearance.</span></span> <span data-ttu-id="f2ce6-176">Chociaż tworzenie niestandardowego <xref:System.Windows.Controls.Control> nie jest tak proste, jak tworzenie <xref:System.Windows.Controls.UserControl>, niestandardowe <xref:System.Windows.Controls.Control> zapewnia większą elastyczność.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-176">Although building a custom <xref:System.Windows.Controls.Control> is not as simple as building a <xref:System.Windows.Controls.UserControl>, a custom <xref:System.Windows.Controls.Control> provides the most flexibility.</span></span>  
  
#### <a name="benefits-of-deriving-from-control"></a><span data-ttu-id="f2ce6-177">Korzyści wynikające z formantu</span><span class="sxs-lookup"><span data-stu-id="f2ce6-177">Benefits of Deriving from Control</span></span>  
 <span data-ttu-id="f2ce6-178">Należy wziąć pod uwagę pochodząca od <xref:System.Windows.Controls.Control> zamiast <xref:System.Windows.Controls.UserControl> klasy, jeśli dowolny z następujących warunków:</span><span class="sxs-lookup"><span data-stu-id="f2ce6-178">Consider deriving from <xref:System.Windows.Controls.Control> instead of using the <xref:System.Windows.Controls.UserControl> class if any of the following apply:</span></span>  
  
-   <span data-ttu-id="f2ce6-179">Należy zdefiniować wygląd kontrolki dawać możliwość dostosowania za pośrednictwem <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-179">You want the appearance of your control to be customizable via the <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
-   <span data-ttu-id="f2ce6-180">Chcesz, aby Twoją kontrolą w celu obsługi różnych kompozycji.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-180">You want your control to support different themes.</span></span>  
  
### <a name="deriving-from-frameworkelement"></a><span data-ttu-id="f2ce6-181">Wyprowadzanie z elementu FrameworkElement</span><span class="sxs-lookup"><span data-stu-id="f2ce6-181">Deriving from FrameworkElement</span></span>  
 <span data-ttu-id="f2ce6-182">Formanty, które wynikają z <xref:System.Windows.Controls.UserControl> lub <xref:System.Windows.Controls.Control> opierają się na tworzenie istniejące elementy.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-182">Controls that derive from <xref:System.Windows.Controls.UserControl> or <xref:System.Windows.Controls.Control> rely upon composing existing elements.</span></span> <span data-ttu-id="f2ce6-183">W wielu sytuacjach jest to dopuszczalne rozwiązanie, ponieważ każdy obiekt, który dziedziczy z <xref:System.Windows.FrameworkElement> mogą znajdować się w <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-183">For many scenarios, this is an acceptable solution, because any object that inherits from <xref:System.Windows.FrameworkElement> can be in a <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="f2ce6-184">Istnieją jednak czasy, kiedy wygląd formantu wymaga więcej niż funkcje kompozycji prosty element.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-184">However, there are times when a control's appearance requires more than the functionality of simple element composition.</span></span> <span data-ttu-id="f2ce6-185">W tych scenariuszach bazowanie składnika na <xref:System.Windows.FrameworkElement> jest najlepszym wyborem.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-185">For these scenarios, basing a component on <xref:System.Windows.FrameworkElement> is the right choice.</span></span>  
  
 <span data-ttu-id="f2ce6-186">Istnieją dwie metody standardowego do kompilowania <xref:System.Windows.FrameworkElement>— na podstawie składników: bezpośrednie renderowanie i niestandardowych kompozycji elementu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-186">There are two standard methods for building <xref:System.Windows.FrameworkElement>-based components: direct rendering and custom element composition.</span></span> <span data-ttu-id="f2ce6-187">Bezpośrednie renderowania obejmuje zastępowanie <xref:System.Windows.UIElement.OnRender%2A> metody <xref:System.Windows.FrameworkElement> i zapewniając <xref:System.Windows.Media.DrawingContext> operacje, które jawnie zdefiniować wizualizacji składnika.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-187">Direct rendering involves overriding the <xref:System.Windows.UIElement.OnRender%2A> method of <xref:System.Windows.FrameworkElement> and providing <xref:System.Windows.Media.DrawingContext> operations that explicitly define the component visuals.</span></span> <span data-ttu-id="f2ce6-188">Jest to metoda posługują się <xref:System.Windows.Controls.Image> i <xref:System.Windows.Controls.Border>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-188">This is the method used by <xref:System.Windows.Controls.Image> and <xref:System.Windows.Controls.Border>.</span></span> <span data-ttu-id="f2ce6-189">Element niestandardowy kompozycji pociąga za sobą przy użyciu obiektów typu <xref:System.Windows.Media.Visual> do redagowania wygląd danego składnika.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-189">Custom element composition involves using objects of type <xref:System.Windows.Media.Visual> to compose the appearance of your component.</span></span> <span data-ttu-id="f2ce6-190">Aby uzyskać przykład, zobacz [przy użyciu obiektów DrawingVisual](../graphics-multimedia/using-drawingvisual-objects.md).</span><span class="sxs-lookup"><span data-stu-id="f2ce6-190">For an example, see [Using DrawingVisual Objects](../graphics-multimedia/using-drawingvisual-objects.md).</span></span> <span data-ttu-id="f2ce6-191"><xref:System.Windows.Controls.Primitives.Track> Oto przykład kontrolki w [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] kompozycji elementu niestandardowego, który używa.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-191"><xref:System.Windows.Controls.Primitives.Track> is an example of a control in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] that uses custom element composition.</span></span> <span data-ttu-id="f2ce6-192">Istnieje również możliwość mieszać bezpośrednie renderowania i niestandardowego elementu złożenia w tej samej kontrolki.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-192">It is also possible to mix direct rendering and custom element composition in the same control.</span></span>  
  
#### <a name="benefits-of-deriving-from-frameworkelement"></a><span data-ttu-id="f2ce6-193">Korzyści wynikające z elementu FrameworkElement</span><span class="sxs-lookup"><span data-stu-id="f2ce6-193">Benefits of Deriving from FrameworkElement</span></span>  
 <span data-ttu-id="f2ce6-194">Należy wziąć pod uwagę pochodząca od <xref:System.Windows.FrameworkElement> Jeśli dowolny z następujących warunków:</span><span class="sxs-lookup"><span data-stu-id="f2ce6-194">Consider deriving from <xref:System.Windows.FrameworkElement> if any of the following apply:</span></span>  
  
-   <span data-ttu-id="f2ce6-195">Chcesz mieć ścisłą kontrolę nad wyglądu kontrolki poza dostarczanych przez prosty element kompozycji.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-195">You want to have precise control over the appearance of your control beyond what is provided by simple element composition.</span></span>  
  
-   <span data-ttu-id="f2ce6-196">Należy zdefiniować wygląd kontrolki, definiując logikę renderowania.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-196">You want to define the appearance of your control by defining your own render logic.</span></span>  
  
-   <span data-ttu-id="f2ce6-197">Chcesz na nowe sposoby, wykraczający poza to, co można zrobić za pomocą narzędzia compose istniejące elementy <xref:System.Windows.Controls.UserControl> i <xref:System.Windows.Controls.Control>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-197">You want to compose existing elements in novel ways that go beyond what is possible with <xref:System.Windows.Controls.UserControl> and <xref:System.Windows.Controls.Control>.</span></span>  
  
<a name="control_authoring_basics"></a>   
## <a name="control-authoring-basics"></a><span data-ttu-id="f2ce6-198">Podstawowe informacje dotyczące tworzenia kontrolki</span><span class="sxs-lookup"><span data-stu-id="f2ce6-198">Control Authoring Basics</span></span>  
 <span data-ttu-id="f2ce6-199">Jak już wspomniano, jedną z najbardziej zaawansowanych funkcji [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] jest możliwość wykracza poza podstawowe właściwości formantu, aby zmienić wygląd i zachowanie, ale nadal nie musi utworzyć formant niestandardowy.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-199">As discussed earlier, one of the most powerful features of [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] is the ability to go beyond setting basic properties of a control to change its appearance and behavior, yet still not needing to create a custom control.</span></span> <span data-ttu-id="f2ce6-200">Stylów, powiązań danych i funkcji wyzwalacza są możliwe, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] system właściwości i [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] system zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-200">The styling, data binding, and trigger features are made possible by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] property system and the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event system.</span></span> <span data-ttu-id="f2ce6-201">W poniższych sekcjach opisano niektóre rozwiązania, które należy wykonać, niezależnie od tego modelu służy do tworzenia kontrolki niestandardowej, dzięki czemu użytkownicy niestandardową kontrolkę mogą używać tych funkcji, tak samo, jak dla formantu, który jest dołączony [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f2ce6-201">The following sections describe some practices that you should follow, regardless of the model you use to create the custom control, so that users of your custom control can use these features just as they would for a control that is included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
### <a name="use-dependency-properties"></a><span data-ttu-id="f2ce6-202">Użyj właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="f2ce6-202">Use Dependency Properties</span></span>  
 <span data-ttu-id="f2ce6-203">Gdy właściwość jest właściwością zależności, możliwe jest wykonanie następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="f2ce6-203">When a property is a dependency property, it is possible to do the following:</span></span>  
  
-   <span data-ttu-id="f2ce6-204">Ustaw właściwość w stylu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-204">Set the property in a style.</span></span>  
  
-   <span data-ttu-id="f2ce6-205">Powiąż właściwości ze źródłem danych.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-205">Bind the property to a data source.</span></span>  
  
-   <span data-ttu-id="f2ce6-206">Użyj dynamicznych zasobów jako wartość właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-206">Use a dynamic resource as the property's value.</span></span>  
  
-   <span data-ttu-id="f2ce6-207">Animowanie właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-207">Animate the property.</span></span>  
  
 <span data-ttu-id="f2ce6-208">Jeśli chcesz, aby właściwość Twoją kontrolą w celu zapewnienia obsługi tej funkcji, należy zaimplementować go jako właściwość zależności.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-208">If you want a property of your control to support any of this functionality, you should implement it as a dependency property.</span></span> <span data-ttu-id="f2ce6-209">W poniższym przykładzie zdefiniowano właściwość zależności, o nazwie `Value` , wykonując następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="f2ce6-209">The following example defines a dependency property named `Value` by doing the following:</span></span>  
  
-   <span data-ttu-id="f2ce6-210">Zdefiniuj <xref:System.Windows.DependencyProperty> identyfikatora o nazwie `ValueProperty` jako `public` `static` `readonly` pola.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-210">Define a <xref:System.Windows.DependencyProperty> identifier named `ValueProperty` as a `public` `static` `readonly` field.</span></span>  
  
-   <span data-ttu-id="f2ce6-211">Zarejestruj nazwy właściwości w systemie właściwości przez wywołanie metody <xref:System.Windows.DependencyProperty.Register%2A?displayProperty=nameWithType>, aby określić następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="f2ce6-211">Register the property name with the property system, by calling <xref:System.Windows.DependencyProperty.Register%2A?displayProperty=nameWithType>, to specify the following:</span></span>  
  
    -   <span data-ttu-id="f2ce6-212">Nazwa właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-212">The name of the property.</span></span>  
  
    -   <span data-ttu-id="f2ce6-213">Typ właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-213">The type of the property.</span></span>  
  
    -   <span data-ttu-id="f2ce6-214">Typ, który jest właścicielem właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-214">The type that owns the property.</span></span>  
  
    -   <span data-ttu-id="f2ce6-215">Metadane dla właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-215">The metadata for the property.</span></span> <span data-ttu-id="f2ce6-216">Metadane zawierają wartość domyślną właściwości <xref:System.Windows.CoerceValueCallback> i <xref:System.Windows.PropertyChangedCallback>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-216">The metadata contains the property's default value, a <xref:System.Windows.CoerceValueCallback> and a <xref:System.Windows.PropertyChangedCallback>.</span></span>  
  
-   <span data-ttu-id="f2ce6-217">Zdefiniuj [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] otoki właściwość o nazwie `Value`, który ma taką samą nazwę, które jest używane do rejestrowania właściwości zależności poprzez implementację właściwości `get` i `set` metod dostępu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-217">Define a [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] wrapper property named `Value`, which is the same name that is used to register the dependency property, by implementing the property's `get` and `set` accessors.</span></span> <span data-ttu-id="f2ce6-218">Należy pamiętać, że `get` i `set` wywoływać tylko metody dostępu <xref:System.Windows.DependencyObject.GetValue%2A> i <xref:System.Windows.DependencyObject.SetValue%2A> odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-218">Note that the `get` and `set` accessors only call <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> respectively.</span></span> <span data-ttu-id="f2ce6-219">Zalecane jest, że metody dostępu właściwości zależności nie zawierają dodatkowej logiki, ponieważ klienci i [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] można pominąć metody dostępu i wywołania <xref:System.Windows.DependencyObject.GetValue%2A> i <xref:System.Windows.DependencyObject.SetValue%2A> bezpośrednio.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-219">It is recommended that the accessors of dependency properties not contain additional logic because clients and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] can bypass the accessors and call <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> directly.</span></span> <span data-ttu-id="f2ce6-220">Na przykład, gdy właściwość jest powiązana z danych źródłowych, właściwości `set` dostępu nie zostanie wywołana.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-220">For example, when a property is bound to a data source, the property's `set` accessor is not called.</span></span>  <span data-ttu-id="f2ce6-221">Zamiast opcji dodawania dodatkową logikę do pobierania i ustaw metody dostępu, użyj <xref:System.Windows.ValidateValueCallback>, <xref:System.Windows.CoerceValueCallback>, i <xref:System.Windows.PropertyChangedCallback> delegatów odpowiadanie na lub sprawdź wartość, gdy zmienia się.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-221">Instead of adding additional logic to the get and set accessors, use the <xref:System.Windows.ValidateValueCallback>, <xref:System.Windows.CoerceValueCallback>, and <xref:System.Windows.PropertyChangedCallback> delegates to respond to or check the value when it changes.</span></span>  <span data-ttu-id="f2ce6-222">Aby uzyskać więcej informacji na temat tych wywołań zwrotnych, zobacz [zależność wartości wywołania zwrotnego i walidacji](../advanced/dependency-property-callbacks-and-validation.md).</span><span class="sxs-lookup"><span data-stu-id="f2ce6-222">For more information on these callbacks, see [Dependency Property Callbacks and Validation](../advanced/dependency-property-callbacks-and-validation.md).</span></span>  
  
-   <span data-ttu-id="f2ce6-223">Zdefiniuj metodę <xref:System.Windows.CoerceValueCallback> o nazwie `CoerceValue`.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-223">Define a method for the <xref:System.Windows.CoerceValueCallback> named `CoerceValue`.</span></span> <span data-ttu-id="f2ce6-224">`CoerceValue` zapewnia, że `Value` jest większa lub równa `MinValue` i mniejsza niż lub równa `MaxValue`.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-224">`CoerceValue` ensures that `Value` is greater or equal to `MinValue` and less than or equal to `MaxValue`.</span></span>  
  
-   <span data-ttu-id="f2ce6-225">Zdefiniuj metodę <xref:System.Windows.PropertyChangedCallback>o nazwie `OnValueChanged`.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-225">Define a method for the <xref:System.Windows.PropertyChangedCallback>, named `OnValueChanged`.</span></span> <span data-ttu-id="f2ce6-226">`OnValueChanged` Tworzy <xref:System.Windows.RoutedPropertyChangedEventArgs%601> obiektu i przygotowuje podnieść `ValueChanged` zdarzenia trasowanego.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-226">`OnValueChanged` creates a <xref:System.Windows.RoutedPropertyChangedEventArgs%601> object and prepares to raise the `ValueChanged` routed event.</span></span> <span data-ttu-id="f2ce6-227">Zdarzenia trasowane zostały omówione w następnej sekcji.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-227">Routed events are discussed in the next section.</span></span>  
  
 [!code-csharp[UserControlNumericUpDown#DependencyProperty](~/samples/snippets/csharp/VS_Snippets_Wpf/UserControlNumericUpDown/CSharp/NumericUpDown.xaml.cs#dependencyproperty)]
 [!code-vb[UserControlNumericUpDown#DependencyProperty](~/samples/snippets/visualbasic/VS_Snippets_Wpf/UserControlNumericUpDown/visualbasic/numericupdown.xaml.vb#dependencyproperty)]  
  
 <span data-ttu-id="f2ce6-228">Aby uzyskać więcej informacji, zobacz [niestandardowe właściwości zależności](../advanced/custom-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="f2ce6-228">For more information, see [Custom Dependency Properties](../advanced/custom-dependency-properties.md).</span></span>  
  
### <a name="use-routed-events"></a><span data-ttu-id="f2ce6-229">Użyj zdarzenia trasowanego</span><span class="sxs-lookup"><span data-stu-id="f2ce6-229">Use Routed Events</span></span>  
 <span data-ttu-id="f2ce6-230">Podobnie jak zależności właściwości rozszerzają pojęcie [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] właściwości z dodatkowymi funkcjami, zdarzenia trasowane rozszerzają pojęcie standard [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-230">Just as dependency properties extend the notion of [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] properties with additional functionality, routed events extend the notion of standard [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] events.</span></span> <span data-ttu-id="f2ce6-231">Podczas tworzenia nowego [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] kontrolki, jest również dobrym rozwiązaniem do zaimplementowania zdarzenia jako zdarzenia trasowane, ponieważ zdarzenia trasowanego obsługuje następujące zachowanie:</span><span class="sxs-lookup"><span data-stu-id="f2ce6-231">When you create a new [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] control, it is also good practice to implement your event as a routed event because a routed event supports the following behavior:</span></span>  
  
-   <span data-ttu-id="f2ce6-232">Zdarzenia mogą być obsługiwane na element nadrzędny wielu kontrolek.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-232">Events can be handled on a parent of multiple controls.</span></span> <span data-ttu-id="f2ce6-233">Jeśli zdarzenie jest propagacja zdarzeń, jednego nadrzędnego w drzewie elementów mogą subskrybować zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-233">If an event is a bubbling event, a single parent in the element tree can subscribe to the event.</span></span> <span data-ttu-id="f2ce6-234">Następnie autorzy aplikacji można użyć jednego programu obsługi w celu zareagowania na zdarzenie wielu kontrolek.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-234">Then application authors can use one handler to respond to the event of multiple controls.</span></span> <span data-ttu-id="f2ce6-235">Na przykład, jeśli formant jest częścią każdego elementu w <xref:System.Windows.Controls.ListBox> (ponieważ jest on uwzględniony w <xref:System.Windows.DataTemplate>), Deweloper aplikacji można zdefiniować program obsługi zdarzeń dla zdarzenia kontroli nad <xref:System.Windows.Controls.ListBox>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-235">For example, if your control is a part of each item in a <xref:System.Windows.Controls.ListBox> (because it is included in a <xref:System.Windows.DataTemplate>), the application developer can define the event handler for your control's event on the <xref:System.Windows.Controls.ListBox>.</span></span> <span data-ttu-id="f2ce6-236">Zawsze, gdy wystąpi zdarzenie na wszystkich formantów, nosi nazwę programu obsługi zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-236">Whenever the event occurs on any of the controls, the event handler is called.</span></span>  
  
-   <span data-ttu-id="f2ce6-237">Zdarzenia trasowane mogą być używane w <xref:System.Windows.EventSetter>, które umożliwia deweloperom aplikacji określenie program obsługi zdarzenia w stylu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-237">Routed events can be used in an <xref:System.Windows.EventSetter>, which enables application developers to specify the handler of an event within a style.</span></span>  
  
-   <span data-ttu-id="f2ce6-238">Zdarzenia trasowane mogą być używane w <xref:System.Windows.EventTrigger>, która jest przydatne w przypadku animowanie właściwości przy użyciu [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f2ce6-238">Routed events can be used in an <xref:System.Windows.EventTrigger>, which is useful for animating properties by using [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="f2ce6-239">Aby uzyskać więcej informacji, zobacz [Przegląd animacja](../graphics-multimedia/animation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f2ce6-239">For more information, see [Animation Overview](../graphics-multimedia/animation-overview.md).</span></span>  
  
 <span data-ttu-id="f2ce6-240">W poniższym przykładzie zdefiniowano zdarzenia trasowanego, wykonując następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="f2ce6-240">The following example defines a routed event by doing the following:</span></span>  
  
-   <span data-ttu-id="f2ce6-241">Zdefiniuj <xref:System.Windows.RoutedEvent> identyfikatora o nazwie `ValueChangedEvent` jako `public` `static` `readonly` pola.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-241">Define a <xref:System.Windows.RoutedEvent> identifier named `ValueChangedEvent` as a `public` `static` `readonly` field.</span></span>  
  
-   <span data-ttu-id="f2ce6-242">Rejestrowanie zdarzeń trasowanych przez wywołanie metody <xref:System.Windows.EventManager.RegisterRoutedEvent%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-242">Register the routed event by calling the <xref:System.Windows.EventManager.RegisterRoutedEvent%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="f2ce6-243">W przykładzie określono następujące informacje, kiedy wywołuje <xref:System.Windows.EventManager.RegisterRoutedEvent%2A>:</span><span class="sxs-lookup"><span data-stu-id="f2ce6-243">The example specifies the following information when it calls <xref:System.Windows.EventManager.RegisterRoutedEvent%2A>:</span></span>  
  
    -   <span data-ttu-id="f2ce6-244">Nazwa zdarzenia jest `ValueChanged`.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-244">The name of the event is `ValueChanged`.</span></span>  
  
    -   <span data-ttu-id="f2ce6-245">Strategia routingu jest <xref:System.Windows.RoutingStrategy.Bubble>, co oznacza, że program obsługi zdarzeń w źródle (obiekt, który wywołuje zdarzenie) jest wywoływana najpierw, a następnie procedury obsługi zdarzeń na elementy nadrzędne źródło są nazywane kolejno, począwszy od programu obsługi zdarzeń na najbliższą element nadrzędny.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-245">The routing strategy is <xref:System.Windows.RoutingStrategy.Bubble>, which means that an event handler on the source (the object that raises the event) is called first, and then event handlers on the source's parent elements are called in succession, starting with the event handler on the closest parent element.</span></span>  
  
    -   <span data-ttu-id="f2ce6-246">Typem obsługi zdarzeń jest <xref:System.Windows.RoutedPropertyChangedEventHandler%601>, zbudowany z <xref:System.Decimal> typu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-246">The type of the event handler is <xref:System.Windows.RoutedPropertyChangedEventHandler%601>, constructed with a <xref:System.Decimal> type.</span></span>  
  
    -   <span data-ttu-id="f2ce6-247">Jest właścicielem typ zdarzenia `NumericUpDown`.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-247">The owning type of the event is `NumericUpDown`.</span></span>  
  
-   <span data-ttu-id="f2ce6-248">Zadeklaruj zdarzenie publiczne o nazwie `ValueChanged` i zawiera deklaracjach metod dostępu zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-248">Declare a public event named `ValueChanged` and includes event-accessor declarations.</span></span> <span data-ttu-id="f2ce6-249">Przykład wywołuje <xref:System.Windows.UIElement.AddHandler%2A> w `add` deklaracji metody dostępu i <xref:System.Windows.UIElement.RemoveHandler%2A> w `remove` deklaracji metody dostępu do użycia [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] zdarzeń usług.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-249">The example calls <xref:System.Windows.UIElement.AddHandler%2A> in the `add` accessor declaration and <xref:System.Windows.UIElement.RemoveHandler%2A> in the `remove` accessor declaration to use the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] event services.</span></span>  
  
-   <span data-ttu-id="f2ce6-250">Utwórz metodę chroniony, wirtualny o nazwie `OnValueChanged` która zgłasza `ValueChanged` zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-250">Create a protected, virtual method named `OnValueChanged` that raises the `ValueChanged` event.</span></span>  
  
 [!code-csharp[UserControlNumericUpDown#RoutedEvent](~/samples/snippets/csharp/VS_Snippets_Wpf/UserControlNumericUpDown/CSharp/NumericUpDown.xaml.cs#routedevent)]
 [!code-vb[UserControlNumericUpDown#RoutedEvent](~/samples/snippets/visualbasic/VS_Snippets_Wpf/UserControlNumericUpDown/visualbasic/numericupdown.xaml.vb#routedevent)]  
  
 <span data-ttu-id="f2ce6-251">Aby uzyskać więcej informacji, zobacz [Przegląd zdarzeń kierowane](../advanced/routed-events-overview.md) i [Utwórz niestandardowe zdarzenie kierowane](../advanced/how-to-create-a-custom-routed-event.md).</span><span class="sxs-lookup"><span data-stu-id="f2ce6-251">For more information, see [Routed Events Overview](../advanced/routed-events-overview.md) and [Create a Custom Routed Event](../advanced/how-to-create-a-custom-routed-event.md).</span></span>  
  
### <a name="use-binding"></a><span data-ttu-id="f2ce6-252">Użyj powiązań</span><span class="sxs-lookup"><span data-stu-id="f2ce6-252">Use Binding</span></span>  
 <span data-ttu-id="f2ce6-253">Oddzielenie interfejsu użytkownika formantu od jej logiki, należy wziąć pod uwagę przy użyciu powiązania danych.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-253">To decouple the UI of your control from its logic, consider using data binding.</span></span> <span data-ttu-id="f2ce6-254">Jest to szczególnie ważne w przypadku określenia jej wyglądu formantu za pomocą <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-254">This is particularly important if you define the appearance of your control by using a <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="f2ce6-255">Gdy używasz wiązania danych, może być wyeliminować potrzebę odwoływać się do określonych części interfejsu użytkownika z kodu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-255">When you use data binding, you might be able to eliminate the need to reference specific parts of the UI from the code.</span></span> <span data-ttu-id="f2ce6-256">To dobry pomysł, aby unikać odwoływania się do elementów, które znajdują się w <xref:System.Windows.Controls.ControlTemplate> ponieważ gdy kod odwołuje się do elementów, które znajdują się w <xref:System.Windows.Controls.ControlTemplate> i <xref:System.Windows.Controls.ControlTemplate> ulegnie zmianie, potrzeb odnośny element do uwzględnienia w nowym <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-256">It's a good idea to avoid referencing elements that are in the <xref:System.Windows.Controls.ControlTemplate> because when the code references elements that are in the <xref:System.Windows.Controls.ControlTemplate> and the <xref:System.Windows.Controls.ControlTemplate> is changed, the referenced element needs to be included in the new <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 <span data-ttu-id="f2ce6-257">Następujące aktualizacje przykład <xref:System.Windows.Controls.TextBlock> z `NumericUpDown` kontroli, przypisanie nazwy do niego odwołuje się do pola tekstowego według nazwy w kodzie.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-257">The following example updates the <xref:System.Windows.Controls.TextBlock> of the `NumericUpDown` control, assigning a name to it and referencing the textbox by name in code.</span></span>  
  
 [!code-xaml[UserControlNumericUpDownSimple#UIRefMarkup](~/samples/snippets/csharp/VS_Snippets_Wpf/UserControlNumericUpDownSimple/CSharp/NumericUpDown.xaml#uirefmarkup)]  
  
 [!code-csharp[UserControlNumericUpDownSimple#UIRefCode](~/samples/snippets/csharp/VS_Snippets_Wpf/UserControlNumericUpDownSimple/CSharp/NumericUpDown.xaml.cs#uirefcode)]
 [!code-vb[UserControlNumericUpDownSimple#UIRefCode](~/samples/snippets/visualbasic/VS_Snippets_Wpf/UserControlNumericUpDownSimple/VisualBasic/NumericUpDown.xaml.vb#uirefcode)]  
  
 <span data-ttu-id="f2ce6-258">W poniższym przykładzie użyto powiązania, aby osiągnąć ten sam efekt.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-258">The following example uses binding to accomplish the same thing.</span></span>  
  
 [!code-xaml[UserControlNumericUpDown#Binding](~/samples/snippets/csharp/VS_Snippets_Wpf/UserControlNumericUpDown/CSharp/NumericUpDown.xaml#binding)]  
  
 <span data-ttu-id="f2ce6-259">Aby uzyskać więcej informacji na temat tworzenia powiązań danych, zobacz [Data Binding Overview](../data/data-binding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f2ce6-259">For more information about data binding, see [Data Binding Overview](../data/data-binding-overview.md).</span></span>  
  
### <a name="design-for-designers"></a><span data-ttu-id="f2ce6-260">Projektowanie pod kątem projektantów</span><span class="sxs-lookup"><span data-stu-id="f2ce6-260">Design for Designers</span></span>  
 <span data-ttu-id="f2ce6-261">Aby uzyskać pomoc techniczną w przypadku kontrolek niestandardowych WPF w [!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)] (na przykład właściwość edytowaniu w programie w oknie dialogowym Właściwości), należy przestrzegać następujących wytycznych.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-261">To receive support for custom WPF controls in the [!INCLUDE[wpfdesigner_current_long](../../../../includes/wpfdesigner-current-long-md.md)] (for example, property editing with the Properties window), follow these guidelines.</span></span>  <span data-ttu-id="f2ce6-262">Aby uzyskać więcej informacji na temat tworzenia dla [!INCLUDE[wpfdesigner_current_short](../../../../includes/wpfdesigner-current-short-md.md)], zobacz [projektowanie XAML w programie Visual Studio](/visualstudio/designers/designing-xaml-in-visual-studio).</span><span class="sxs-lookup"><span data-stu-id="f2ce6-262">For more information on developing for the [!INCLUDE[wpfdesigner_current_short](../../../../includes/wpfdesigner-current-short-md.md)], see [Design XAML in Visual Studio](/visualstudio/designers/designing-xaml-in-visual-studio).</span></span>  
  
#### <a name="dependency-properties"></a><span data-ttu-id="f2ce6-263">Właściwości zależności</span><span class="sxs-lookup"><span data-stu-id="f2ce6-263">Dependency Properties</span></span>  
 <span data-ttu-id="f2ce6-264">Pamiętaj zaimplementować [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] `get` i `set` metod dostępu w sposób opisany w "Zależności Użyj właściwości".</span><span class="sxs-lookup"><span data-stu-id="f2ce6-264">Be sure to implement [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] `get` and `set` accessors as described earlier, in "Use Dependency Properties."</span></span> <span data-ttu-id="f2ce6-265">Projektanci mogą używać otoki do wykrycia obecności właściwości zależności, ale, takie jak [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] i klientów kontrolki, nie są wymagane do wywołania metody dostępu podczas uzyskiwania lub ustawiania właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-265">Designers may use the wrapper to detect the presence of a dependency property, but they, like [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and clients of the control, are not required to call the accessors when getting or setting the property.</span></span>  
  
#### <a name="attached-properties"></a><span data-ttu-id="f2ce6-266">Dołączone właściwości</span><span class="sxs-lookup"><span data-stu-id="f2ce6-266">Attached Properties</span></span>  
 <span data-ttu-id="f2ce6-267">Należy zaimplementować dołączone właściwości kontrolek niestandardowych, korzystając z następujących wskazówek:</span><span class="sxs-lookup"><span data-stu-id="f2ce6-267">You should implement attached properties on custom controls using the following guidelines:</span></span>  
  
-   <span data-ttu-id="f2ce6-268">Masz `public` `static` `readonly` <xref:System.Windows.DependencyProperty> formularza *PropertyName* `Property` , tworzenia przy użyciu <xref:System.Windows.DependencyProperty.RegisterAttached%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-268">Have a `public` `static` `readonly` <xref:System.Windows.DependencyProperty> of the form *PropertyName*`Property` that was creating using the <xref:System.Windows.DependencyProperty.RegisterAttached%2A> method.</span></span> <span data-ttu-id="f2ce6-269">Nazwa właściwości, który jest przekazywany do <xref:System.Windows.DependencyProperty.RegisterAttached%2A> musi odpowiadać *PropertyName*.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-269">The property name that is passed to <xref:System.Windows.DependencyProperty.RegisterAttached%2A> must match *PropertyName*.</span></span>  
  
-   <span data-ttu-id="f2ce6-270">Implementowanie parę `public` `static` CLR metody o nazwie `Set` *PropertyName* i `Get` *PropertyName*.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-270">Implement a pair of `public` `static` CLR methods named `Set`*PropertyName* and `Get`*PropertyName*.</span></span> <span data-ttu-id="f2ce6-271">Obie metody powinna obsługiwać klasę pochodną <xref:System.Windows.DependencyProperty> jako swojego pierwszego argumentu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-271">Both methods should accept a class derived from <xref:System.Windows.DependencyProperty> as their first argument.</span></span> <span data-ttu-id="f2ce6-272">`Set` *PropertyName* metoda akceptuje także argumentem, którego typ jest zgodny z typem danych zarejestrowanych dla właściwości.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-272">The `Set`*PropertyName* method also accepts an argument whose type matches the registered data type for the property.</span></span> <span data-ttu-id="f2ce6-273">`Get` *PropertyName* metoda powinna zwrócić wartość tego samego typu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-273">The `Get`*PropertyName* method should return a value of the same type.</span></span> <span data-ttu-id="f2ce6-274">Jeśli `Set` *PropertyName* Brak metoda, właściwość jest oznaczona jako tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-274">If the `Set`*PropertyName* method is missing, the property is marked read-only.</span></span>  
  
-   <span data-ttu-id="f2ce6-275">`Set` *PropertyName* i `Get` *PropertyName* musi kierować bezpośrednio do <xref:System.Windows.DependencyObject.GetValue%2A> i <xref:System.Windows.DependencyObject.SetValue%2A> metod w zależności docelowego obiektu odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-275">`Set` *PropertyName* and `Get`*PropertyName* must route directly to the <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> methods on the target dependency object, respectively.</span></span> <span data-ttu-id="f2ce6-276">Projektanci mogą uzyskiwać dostęp do dołączona właściwość wywoływania przez otoki metody lub wybierając bezpośrednie wywołanie do obiektu docelowego zależności.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-276">Designers may access the attached property by calling through the method wrapper or making a direct call to the target dependency object.</span></span>  
  
 <span data-ttu-id="f2ce6-277">Aby uzyskać więcej informacji na temat dołączone właściwości, zobacz [Przegląd właściwości dołączonych](../advanced/attached-properties-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f2ce6-277">For more information on attached properties, see [Attached Properties Overview](../advanced/attached-properties-overview.md).</span></span>  
  
### <a name="define-and-use-shared-resources"></a><span data-ttu-id="f2ce6-278">Definiowanie i korzystanie z zasobów udostępnionych</span><span class="sxs-lookup"><span data-stu-id="f2ce6-278">Define and Use Shared Resources</span></span>  
 <span data-ttu-id="f2ce6-279">Może zawierać kontrolki z tego samego zestawu aplikacji, lub można spakować formantu w osobnym zestawie, który może być używany w wielu aplikacjach.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-279">You can include your control in the same assembly as your application, or you can package your control in a separate assembly that can be used in multiple applications.</span></span> <span data-ttu-id="f2ce6-280">W większości przypadków informacje omówione w tym temacie mają zastosowanie niezależnie od używanej metody.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-280">For the most part, the information discussed in this topic applies regardless of the method you use.</span></span>  <span data-ttu-id="f2ce6-281">Istnieje jednak jeden różnica warte odnotowania.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-281">There is one difference worth noting, however.</span></span>  <span data-ttu-id="f2ce6-282">Po umieszczeniu formantu z tego samego zestawu jako aplikacja jest bezpłatna dodać zasoby globalne do pliku App.xaml.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-282">When you put a control in the same assembly as an application, you are free to add global resources to the App.xaml file.</span></span> <span data-ttu-id="f2ce6-283">Jednak zestaw, który zawiera tylko formanty nie <xref:System.Windows.Application> obiekt skojarzony z nim, dlatego nie jest plik App.xaml.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-283">But an assembly that contains only controls does not have an <xref:System.Windows.Application> object associated with it, so an App.xaml file is not available.</span></span>  
  
 <span data-ttu-id="f2ce6-284">Jeśli aplikacja wygląda dla zasobu, wygląda na trzech poziomach w następującej kolejności:</span><span class="sxs-lookup"><span data-stu-id="f2ce6-284">When an application looks for a resource, it looks at three levels in the following order:</span></span>  
  
1.  <span data-ttu-id="f2ce6-285">Poziom elementu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-285">The element level.</span></span>  
  
     <span data-ttu-id="f2ce6-286">System rozpoczyna się od elementu, który odwołuje się do zasobu i wyszukuje zasoby logiczne nadrzędnego itd aż do osiągnięcia elementu głównego.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-286">The system starts with the element that references the resource and then searches resources of the logical parent and so forth until the root element is reached.</span></span>  
  
2.  <span data-ttu-id="f2ce6-287">Na poziomie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-287">The application level.</span></span>  
  
     <span data-ttu-id="f2ce6-288">Zasoby zdefiniowane przez <xref:System.Windows.Application> obiektu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-288">Resources defined by the <xref:System.Windows.Application> object.</span></span>  
  
3.  <span data-ttu-id="f2ce6-289">Poziom motywu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-289">The theme level.</span></span>  
  
     <span data-ttu-id="f2ce6-290">Motyw poziomie słowniki są przechowywane w podfolderze o nazwie motywów.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-290">Theme-level dictionaries are stored in a subfolder named Themes.</span></span>  <span data-ttu-id="f2ce6-291">Pliki w folderze motywów odpowiadają motywów.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-291">The files in the Themes folder correspond to themes.</span></span>  <span data-ttu-id="f2ce6-292">Na przykład Niewykluczone, że Aero.NormalColor.xaml, Luna.NormalColor.xaml, Royale.NormalColor.xaml i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-292">For example, you might have Aero.NormalColor.xaml, Luna.NormalColor.xaml, Royale.NormalColor.xaml, and so on.</span></span>  <span data-ttu-id="f2ce6-293">Może również mieć plik o nazwie klasie generic.xaml.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-293">You can also have a file named generic.xaml.</span></span>  <span data-ttu-id="f2ce6-294">Gdy system wyszukuje zasobów na poziomie motywy, najpierw szuka go w pliku specyficznych dla motywów, a następnie szuka go w klasie generic.xaml.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-294">When the system looks for a resource at the themes level, it first looks for it in the theme-specific file and then looks for it in generic.xaml.</span></span>  
  
 <span data-ttu-id="f2ce6-295">Jeśli formant znajduje się w zestawie, do którego jest wykonywane niezależnie od aplikacji, możesz umieścić swoje zasoby globalne na poziomie elementu, lub na poziomie motywu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-295">When your control is in an assembly that is separate from the application, you must put your global resources at the element level or at the theme level.</span></span> <span data-ttu-id="f2ce6-296">Obie metody mają swoje zalety.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-296">Both methods have their advantages.</span></span>  
  
#### <a name="defining-resources-at-the-element-level"></a><span data-ttu-id="f2ce6-297">Definiowanie zasobów na poziomie elementu</span><span class="sxs-lookup"><span data-stu-id="f2ce6-297">Defining Resources at the Element Level</span></span>  
 <span data-ttu-id="f2ce6-298">Udostępnione zasoby na poziomie elementu, można zdefiniować, tworząc słownika zasobów niestandardowych i scalając kontroli nad słownika zasobów.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-298">You can define shared resources at the element level by creating a custom resource dictionary and merging it with your control’s resource dictionary.</span></span>  <span data-ttu-id="f2ce6-299">Przy użyciu tej metody możesz nazwać Twojego pliku zasobu, dowolnych znaków i może być w tym samym folderze co kontrolki.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-299">When you use this method, you can name your resource file anything you want, and it can be in the same folder as your controls.</span></span> <span data-ttu-id="f2ce6-300">Zasoby na poziomie elementu, można również użyć zwykłe ciągi jako klucze.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-300">Resources at the element level can also use simple strings as keys.</span></span> <span data-ttu-id="f2ce6-301">Poniższy przykład tworzy <xref:System.Windows.Media.LinearGradientBrush> plik zasobów o nazwie Dictionary1.xaml.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-301">The following example creates a <xref:System.Windows.Media.LinearGradientBrush> resource file named Dictionary1.xaml.</span></span>  
  
 [!code-xaml[SharedResources#1](~/samples/snippets/csharp/VS_Snippets_Wpf/SharedResources/CS/Dictionary1.xaml#1)]  
  
 <span data-ttu-id="f2ce6-302">Po zdefiniowaniu słownika, musisz scalić je z kontroli nad słownika zasobów.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-302">Once you have defined your dictionary, you need to merge it with your control's resource dictionary.</span></span>  <span data-ttu-id="f2ce6-303">Można to zrobić za pomocą [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] lub kodu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-303">You can do this by using [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] or code.</span></span>  
  
 <span data-ttu-id="f2ce6-304">Poniższy przykład scala słownika zasobów za pomocą [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f2ce6-304">The following example merges a resource dictionary by using [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span>  
  
 [!code-xaml[SharedResources#2](~/samples/snippets/csharp/VS_Snippets_Wpf/SharedResources/CS/ShapeResizer.xaml#2)]  
  
 <span data-ttu-id="f2ce6-305">Wadą tego podejścia jest to, że <xref:System.Windows.ResourceDictionary> obiekt jest tworzony za każdym razem, możesz odwoływać się do niego.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-305">The disadvantage to this approach is that a <xref:System.Windows.ResourceDictionary> object is created each time you reference it.</span></span>  <span data-ttu-id="f2ce6-306">Na przykład, jeśli masz 10 niestandardowe formanty w bibliotece i scalić słowniki zasobów udostępnionych, dla każdego formantu przy użyciu XAML, możesz utworzyć 10 identyczne <xref:System.Windows.ResourceDictionary> obiektów.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-306">For example, if you have 10 custom controls in your library and merge the shared resource dictionaries for each control by using XAML, you create 10 identical <xref:System.Windows.ResourceDictionary> objects.</span></span>  <span data-ttu-id="f2ce6-307">Można tego uniknąć, tworząc klasy statycznej, scala zasoby w kodzie i zwraca wynikowy <xref:System.Windows.ResourceDictionary>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-307">You can avoid this by creating a static class that merges the resources in code and returns the resulting <xref:System.Windows.ResourceDictionary>.</span></span>  
  
 <span data-ttu-id="f2ce6-308">Poniższy przykład tworzy klasę, która zwraca wspólny <xref:System.Windows.ResourceDictionary>.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-308">The following example creates a class that returns a shared <xref:System.Windows.ResourceDictionary>.</span></span>  
  
 [!code-csharp[SharedResources#3](~/samples/snippets/csharp/VS_Snippets_Wpf/SharedResources/CS/SharedDictionaryManager.cs#3)]  
  
 <span data-ttu-id="f2ce6-309">Poniższy przykład scala zasobu udostępnionego z zasobami kontrolki niestandardowej w Konstruktorze kontrolki przed wywołaniem `InitializeComponent`.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-309">The following example merges the shared resource with the resources of a custom control in the control's constructor before it calls `InitializeComponent`.</span></span>  <span data-ttu-id="f2ce6-310">Ponieważ `SharedDictionaryManager.SharedDictionary` jest właściwość statyczna <xref:System.Windows.ResourceDictionary> jest tworzony tylko jeden raz.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-310">Because the `SharedDictionaryManager.SharedDictionary` is a static property, the <xref:System.Windows.ResourceDictionary> is created only once.</span></span> <span data-ttu-id="f2ce6-311">Ponieważ słownik zasobów została scalona przed `InitializeComponent` została wywołana, zasoby są dostępne do formantu w jego [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] pliku.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-311">Because the resource dictionary was merged before `InitializeComponent` was called, the resources are available to the control in its [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] file.</span></span>  
  
 [!code-csharp[SharedResources#4](~/samples/snippets/csharp/VS_Snippets_Wpf/SharedResources/CS/ShapeResizer.xaml.cs#4)]  
  
#### <a name="defining-resources-at-the-theme-level"></a><span data-ttu-id="f2ce6-312">Definiowanie zasobów na poziomie motywu</span><span class="sxs-lookup"><span data-stu-id="f2ce6-312">Defining Resources at the Theme Level</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="f2ce6-313">Umożliwia tworzenie zasobów dla różnych motywy Windows.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-313">enables you to create resources for different Windows themes.</span></span>  <span data-ttu-id="f2ce6-314">Jako autor kontrolki można zdefiniować zasób dla określonych motyw Zmienianie wyglądu formantu w zależności od tego, jakie motyw jest używany.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-314">As a control author, you can define a resource for a specific theme to change your control's appearance depending on what theme is in use.</span></span> <span data-ttu-id="f2ce6-315">Na przykład wygląd <xref:System.Windows.Controls.Button> w klasycznym Windows motywu (motyw domyślny dla Windows 2000) różni się od <xref:System.Windows.Controls.Button> w motywie Windows Luna (motyw domyślny dla Windows XP) ponieważ <xref:System.Windows.Controls.Button> używa innego <xref:System.Windows.Controls.ControlTemplate> dla każdego motywu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-315">For example, the appearance of a <xref:System.Windows.Controls.Button> in the Windows Classic theme (the default theme for Windows 2000) differs from a <xref:System.Windows.Controls.Button> in the Windows Luna theme (the default theme for Windows XP) because the <xref:System.Windows.Controls.Button> uses a different <xref:System.Windows.Controls.ControlTemplate> for each theme.</span></span>  
  
 <span data-ttu-id="f2ce6-316">Zasoby, które są specyficzne dla motywu są przechowywane w słowniku zasobów z określoną nazwą pliku.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-316">Resources that are specific to a theme are kept in a resource dictionary with a specific file name.</span></span> <span data-ttu-id="f2ce6-317">Te pliki muszą znajdować się w folderze o nazwie `Themes` oznacza to podfolder folderu, który zawiera formant.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-317">These files must be in a folder named `Themes` that is a subfolder of the folder that contains the control.</span></span> <span data-ttu-id="f2ce6-318">W poniższej tabeli wymieniono pliki słownika zasobów i motyw, który jest skojarzony z każdego pliku:</span><span class="sxs-lookup"><span data-stu-id="f2ce6-318">The following table lists the resource dictionary files and the theme that is associated with each file:</span></span>  
  
|<span data-ttu-id="f2ce6-319">Nazwa pliku słownika zasobów</span><span class="sxs-lookup"><span data-stu-id="f2ce6-319">Resource dictionary file name</span></span>|<span data-ttu-id="f2ce6-320">Motyw Windows</span><span class="sxs-lookup"><span data-stu-id="f2ce6-320">Windows theme</span></span>|  
|-----------------------------------|-------------------|  
|`Classic.xaml`|<span data-ttu-id="f2ce6-321">Klasyczne Windows 9 x / 2000 Szukaj w Windows XP</span><span class="sxs-lookup"><span data-stu-id="f2ce6-321">Classic Windows 9x/2000 look on Windows XP</span></span>|  
|`Luna.NormalColor.xaml`|<span data-ttu-id="f2ce6-322">Motyw domyślny, niebieski w systemie Windows XP</span><span class="sxs-lookup"><span data-stu-id="f2ce6-322">Default blue theme on Windows XP</span></span>|  
|`Luna.Homestead.xaml`|<span data-ttu-id="f2ce6-323">Motyw oliwek w systemie Windows XP</span><span class="sxs-lookup"><span data-stu-id="f2ce6-323">Olive theme on Windows XP</span></span>|  
|`Luna.Metallic.xaml`|<span data-ttu-id="f2ce6-324">Motyw Silver w systemie Windows XP</span><span class="sxs-lookup"><span data-stu-id="f2ce6-324">Silver theme on Windows XP</span></span>|  
|`Royale.NormalColor.xaml`|<span data-ttu-id="f2ce6-325">Motyw domyślny na Windows XP Media Center Edition</span><span class="sxs-lookup"><span data-stu-id="f2ce6-325">Default theme on Windows XP Media Center Edition</span></span>|  
|`Aero.NormalColor.xaml`|<span data-ttu-id="f2ce6-326">Motyw domyślny w systemie Windows Vista</span><span class="sxs-lookup"><span data-stu-id="f2ce6-326">Default theme on Windows Vista</span></span>|  
  
 <span data-ttu-id="f2ce6-327">Nie trzeba zdefiniować zasób dla każdej kompozycji.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-327">You do not need to define a resource for every theme.</span></span> <span data-ttu-id="f2ce6-328">Jeśli zasób nie został zdefiniowany dla określonych motywu, formant sprawdzi `Classic.xaml` dla zasobu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-328">If a resource is not defined for a specific theme, then the control checks `Classic.xaml` for the resource.</span></span> <span data-ttu-id="f2ce6-329">Jeśli zasób nie został zdefiniowany w pliku, który odpowiada bieżącej kompozycji lub w `Classic.xaml`, kontrolka używa zasobów ogólnych, który znajduje się w pliku słownika zasobów o nazwie `generic.xaml`.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-329">If the resource is not defined in the file that corresponds to the current theme or in `Classic.xaml`, the control uses the generic resource, which is in a resource dictionary file named `generic.xaml`.</span></span>  <span data-ttu-id="f2ce6-330">`generic.xaml` Plik znajduje się w tym samym folderze co pliki słowników zasobów specyficznych dla motywów.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-330">The `generic.xaml` file is located in the same folder as the theme-specific resource dictionary files.</span></span> <span data-ttu-id="f2ce6-331">Mimo że `generic.xaml` nie odnoszą się do określonych motywu Windows, nadal jest słownik poziom motywu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-331">Although `generic.xaml` does not correspond to a specific Windows theme, it is still a theme-level dictionary.</span></span>  
  
 <span data-ttu-id="f2ce6-332">[Numericupdown — formant niestandardowy motyw i przykładowe Obsługa automatyzacji interfejsu użytkownika](https://go.microsoft.com/fwlink/?LinkID=160025) zawiera dwa słownikach zasobów `NumericUpDown` kontroli: jeden znajduje się w klasie generic.xaml oraz jeden Luna.NormalColor.xaml.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-332">[NumericUpDown Custom Control with Theme and UI Automation Support Sample](https://go.microsoft.com/fwlink/?LinkID=160025) contains two resource dictionaries for the `NumericUpDown` control: one is in generic.xaml and one is in Luna.NormalColor.xaml.</span></span>  <span data-ttu-id="f2ce6-333">Można uruchomić aplikację i przełączać się między Silver motywu, Windows XP i innego motywu różnice między szablonami dwie kontrolki.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-333">You can run the application and switch between the Silver theme in Windows XP and another theme to see the difference between the two control templates.</span></span> <span data-ttu-id="f2ce6-334">(Jeśli korzystasz z Windows Vista, można zmienić Luna.NormalColor.xaml Aero.NormalColor.xaml i przełączać się między dwoma motywy, takich jak Windows Classic i motyw domyślny system Windows Vista.)</span><span class="sxs-lookup"><span data-stu-id="f2ce6-334">(If you are running Windows Vista, you can rename Luna.NormalColor.xaml to Aero.NormalColor.xaml and switch between two themes, such as Windows Classic and the default theme for Windows Vista.)</span></span>  
  
 <span data-ttu-id="f2ce6-335">Po umieszczeniu <xref:System.Windows.Controls.ControlTemplate> we wszystkich plików słowników zasobów specyficznych dla motywów, należy utworzyć Konstruktor statyczny dla formantu i wywołaniu <xref:System.Windows.DependencyProperty.OverrideMetadata%28System.Type%2CSystem.Windows.PropertyMetadata%29> metody <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>, jak pokazano w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-335">When you put a <xref:System.Windows.Controls.ControlTemplate> in any of the theme-specific resource dictionary files, you must create a static constructor for your control and call the <xref:System.Windows.DependencyProperty.OverrideMetadata%28System.Type%2CSystem.Windows.PropertyMetadata%29> method on the <xref:System.Windows.FrameworkElement.DefaultStyleKey%2A>, as shown in the following example.</span></span>  
  
 [!code-csharp[CustomControlNumericUpDownOneProject#StaticConstructor](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomControlNumericUpDownOneProject/CSharp/NumericUpDown.cs#staticconstructor)]
 [!code-vb[CustomControlNumericUpDownOneProject#StaticConstructor](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CustomControlNumericUpDownOneProject/visualbasic/numericupdown.vb#staticconstructor)]  
  
##### <a name="defining-and-referencing-keys-for-theme-resources"></a><span data-ttu-id="f2ce6-336">Definiowanie i odwołania do kluczy dla motywu zasobów</span><span class="sxs-lookup"><span data-stu-id="f2ce6-336">Defining and Referencing Keys for Theme Resources</span></span>  
 <span data-ttu-id="f2ce6-337">Podczas definiowania zasobów na poziomie elementu, można przypisać ciąg jako klucz, a dostęp do zasobów za pomocą ciągu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-337">When you define a resource at the element level, you can assign a string as its key and access the resource via the string.</span></span> <span data-ttu-id="f2ce6-338">Gdy zdefiniujesz zasób na poziomie motywu, należy użyć <xref:System.Windows.ComponentResourceKey> jako klucz.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-338">When you define a resource at the theme level, you must use a <xref:System.Windows.ComponentResourceKey> as the key.</span></span>  <span data-ttu-id="f2ce6-339">W poniższym przykładzie zdefiniowano zasób w klasie generic.xaml.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-339">The following example defines a resource in generic.xaml.</span></span>  
  
 [!code-xaml[ThemeResourcesControlLibrary#5](~/samples/snippets/csharp/VS_Snippets_Wpf/ThemeResourcesControlLibrary/CS/Themes/generic.xaml#5)]  
  
 <span data-ttu-id="f2ce6-340">Poniższy przykład odwołuje się do zasobu, określając <xref:System.Windows.ComponentResourceKey> jako klucz.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-340">The following example references the resource by specifying the <xref:System.Windows.ComponentResourceKey> as the key.</span></span>  
  
 [!code-xaml[ThemeResourcesControlLibrary#6](~/samples/snippets/csharp/VS_Snippets_Wpf/ThemeResourcesControlLibrary/CS/NumericUpDown.xaml#6)]  
  
##### <a name="specifying-the-location-of-theme-resources"></a><span data-ttu-id="f2ce6-341">Określanie lokalizacji zasobów motywu</span><span class="sxs-lookup"><span data-stu-id="f2ce6-341">Specifying the Location of Theme Resources</span></span>  
 <span data-ttu-id="f2ce6-342">Aby znaleźć zasoby dla formantu, hostingu aplikacji musi wiedzieć, czy zestaw zawiera zasoby specyficzne dla formantu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-342">To find the resources for a control, the hosting application needs to know that the assembly contains control-specific resources.</span></span> <span data-ttu-id="f2ce6-343">Można osiągnąć, dodając <xref:System.Windows.ThemeInfoAttribute> do zestawu, który zawiera formant.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-343">You can accomplish that by adding the <xref:System.Windows.ThemeInfoAttribute> to the assembly that contains the control.</span></span> <span data-ttu-id="f2ce6-344"><xref:System.Windows.ThemeInfoAttribute> Ma <xref:System.Windows.ThemeInfoAttribute.GenericDictionaryLocation%2A> właściwość, która określa lokalizację zasoby ogólne i <xref:System.Windows.ThemeInfoAttribute.ThemeDictionaryLocation%2A> właściwość, która określa lokalizację zasoby specyficzne dla motywu.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-344">The <xref:System.Windows.ThemeInfoAttribute> has a <xref:System.Windows.ThemeInfoAttribute.GenericDictionaryLocation%2A> property that specifies the location of generic resources, and a <xref:System.Windows.ThemeInfoAttribute.ThemeDictionaryLocation%2A> property that specifies the location of the theme-specific resources.</span></span>  
  
 <span data-ttu-id="f2ce6-345">Poniższy przykład ustawia <xref:System.Windows.ThemeInfoAttribute.GenericDictionaryLocation%2A> i <xref:System.Windows.ThemeInfoAttribute.ThemeDictionaryLocation%2A> właściwości <xref:System.Windows.ResourceDictionaryLocation.SourceAssembly>, aby określić, czy z tego samego zestawu jako formant zasobów ogólnych i specyficznych dla motywów.</span><span class="sxs-lookup"><span data-stu-id="f2ce6-345">The following example sets the <xref:System.Windows.ThemeInfoAttribute.GenericDictionaryLocation%2A> and <xref:System.Windows.ThemeInfoAttribute.ThemeDictionaryLocation%2A> properties to <xref:System.Windows.ResourceDictionaryLocation.SourceAssembly>, to specify that the generic and theme-specific resources are in the same assembly as the control.</span></span>  
  
 [!code-csharp[CustomControlNumericUpDown#ThemesSection](~/samples/snippets/csharp/VS_Snippets_Wpf/CustomControlNumericUpDown/CSharp/CustomControlLibrary/Properties/AssemblyInfo.cs#themessection)]
 [!code-vb[CustomControlNumericUpDown#ThemesSection](~/samples/snippets/visualbasic/VS_Snippets_Wpf/CustomControlNumericUpDown/visualbasic/customcontrollibrary/my project/assemblyinfo.vb#themessection)]  
  
## <a name="see-also"></a><span data-ttu-id="f2ce6-346">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="f2ce6-346">See also</span></span>
- [<span data-ttu-id="f2ce6-347">Projektowanie XAML w programie Visual Studio</span><span class="sxs-lookup"><span data-stu-id="f2ce6-347">Design XAML in Visual Studio</span></span>](/visualstudio/designers/designing-xaml-in-visual-studio)
- [<span data-ttu-id="f2ce6-348">Pakowanie URI w WPF</span><span class="sxs-lookup"><span data-stu-id="f2ce6-348">Pack URIs in WPF</span></span>](../app-development/pack-uris-in-wpf.md)
- [<span data-ttu-id="f2ce6-349">Niestandardowe dostosowywanie kontrolki</span><span class="sxs-lookup"><span data-stu-id="f2ce6-349">Control Customization</span></span>](control-customization.md)
