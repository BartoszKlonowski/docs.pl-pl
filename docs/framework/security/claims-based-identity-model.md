---
title: Modelu tożsamości opartego na oświadczeniach
ms.date: 03/30/2017
ms.assetid: 4a96a9af-d980-43be-bf91-341a23401431
author: BrucePerlerMS
manager: mbaldwin
ms.openlocfilehash: dadcc397783e003574d417aa6253ebc561ed28db
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/04/2018
ms.locfileid: "33398898"
---
# <a name="claims-based-identity-model"></a><span data-ttu-id="dff6f-102">Modelu tożsamości opartego na oświadczeniach</span><span class="sxs-lookup"><span data-stu-id="dff6f-102">Claims-Based Identity Model</span></span>
<span data-ttu-id="dff6f-103">W przypadku tworzenia aplikacji obsługujących oświadczenia tożsamość użytkownika jest reprezentowana w aplikacji jako zestaw oświadczeń.</span><span class="sxs-lookup"><span data-stu-id="dff6f-103">When you build claims-aware applications, the user identity is represented in your application as a set of claims.</span></span> <span data-ttu-id="dff6f-104">Jedno oświadczenie może być nazwa użytkownika, prawdopodobnie inny adres e-mail.</span><span class="sxs-lookup"><span data-stu-id="dff6f-104">One claim could be the user’s name, another might be an email address.</span></span> <span data-ttu-id="dff6f-105">Chodzi o to, że zewnętrzny system tożsamości jest skonfigurowany do podawania aplikacji wszystkiego, co musi wiedzieć o użytkowniku przy każdym wysyłanym przez niego żądaniu, a przy tym o kryptograficzne zapewnianie, że dane o tożsamości, które otrzymujesz, pochodzą z zaufanego źródła.</span><span class="sxs-lookup"><span data-stu-id="dff6f-105">The idea is that an external identity system is configured to give your application everything it needs to know about the user with each request she makes, along with cryptographic assurance that the identity data you receive comes from a trusted source.</span></span>  
  
 <span data-ttu-id="dff6f-106">W ramach tego modelu logowanie jednokrotne jest znacznie łatwiejsze do osiągnięcia, a aplikacja przestaje być odpowiedzialna za następujące zadania:</span><span class="sxs-lookup"><span data-stu-id="dff6f-106">Under this model, single sign-on is much easier to achieve, and your application is no longer responsible for the following:</span></span>  
  
-   <span data-ttu-id="dff6f-107">uwierzytelnianie użytkowników;</span><span class="sxs-lookup"><span data-stu-id="dff6f-107">Authenticating users.</span></span>  
  
-   <span data-ttu-id="dff6f-108">przechowywanie kont użytkowników i haseł;</span><span class="sxs-lookup"><span data-stu-id="dff6f-108">Storing user accounts and passwords.</span></span>  
  
-   <span data-ttu-id="dff6f-109">wywoływanie katalogów przedsiębiorstwa w celu wyszukania szczegółów dotyczących tożsamości użytkownika;</span><span class="sxs-lookup"><span data-stu-id="dff6f-109">Calling to enterprise directories to look up user identity details.</span></span>  
  
-   <span data-ttu-id="dff6f-110">integracja z systemami tożsamości z innych platform lub firm.</span><span class="sxs-lookup"><span data-stu-id="dff6f-110">Integrating with identity systems from other platforms or companies.</span></span>  
  
 <span data-ttu-id="dff6f-111">W tym modelu aplikacja podejmuje decyzje dotyczące tożsamości na podstawie oświadczeń dostarczonych przez system, który uwierzytelnił użytkownika.</span><span class="sxs-lookup"><span data-stu-id="dff6f-111">Under this model, your application makes identity-related decisions based on claims supplied by the system that authenticated your user.</span></span> <span data-ttu-id="dff6f-112">Może to być cokolwiek — od prostej personalizacji aplikacji za pomocą imienia użytkownika do autoryzacji użytkownika w celu umożliwienia mu dostępu do ważniejszych funkcji i zasobów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dff6f-112">This could be anything from simple application personalization with the user’s first name, to authorizing the user to access higher valued features and resources in your application.</span></span>  
  
 <span data-ttu-id="dff6f-113">Ten temat zawiera następujące informacje:</span><span class="sxs-lookup"><span data-stu-id="dff6f-113">This topic provides the following information:</span></span>  
  
-   [<span data-ttu-id="dff6f-114">Wprowadzenie do tożsamości opartego na oświadczeniach</span><span class="sxs-lookup"><span data-stu-id="dff6f-114">Introduction to Claims-Based Identity</span></span>](../../../docs/framework/security/claims-based-identity-model.md#BKMK_1)  
  
-   [<span data-ttu-id="dff6f-115">Podstawowy scenariusz modelu tożsamości opartego na oświadczeniach</span><span class="sxs-lookup"><span data-stu-id="dff6f-115">Basic Scenario for a Claims-Based Identity Model</span></span>](../../../docs/framework/security/claims-based-identity-model.md#BKMK_2)  
  
<a name="BKMK_1"></a>   
## <a name="introduction-to-claims-based-identity"></a><span data-ttu-id="dff6f-116">Wprowadzenie do tożsamości opartej na oświadczeniach</span><span class="sxs-lookup"><span data-stu-id="dff6f-116">Introduction to Claims-Based Identity</span></span>  
 <span data-ttu-id="dff6f-117">Poniższe terminy i pojęcia mogą ułatwić zrozumienie tej nowej architektury tożsamości.</span><span class="sxs-lookup"><span data-stu-id="dff6f-117">The following terminology and concepts can help you understand this new architecture for identity.</span></span>  
  
### <a name="identity"></a><span data-ttu-id="dff6f-118">Tożsamość</span><span class="sxs-lookup"><span data-stu-id="dff6f-118">Identity</span></span>  
 <span data-ttu-id="dff6f-119">Zgodnie z opisem modelu programowania w systemie Windows Identity Foundation (WIF) zostanie wykorzystany do reprezentują zestaw atrybutów, które opisują użytkownika lub pewne inne jednostki w systemie, w którym chcesz zabezpieczyć termin "identity".</span><span class="sxs-lookup"><span data-stu-id="dff6f-119">For the purposes of describing the programming model in Windows Identity Foundation (WIF), we will use the term "identity" to represent a set of attributes that describe a user or some other entity in a system that you want to secure.</span></span>  
  
### <a name="claim"></a><span data-ttu-id="dff6f-120">Oświadczenie</span><span class="sxs-lookup"><span data-stu-id="dff6f-120">Claim</span></span>  
 <span data-ttu-id="dff6f-121">Należy traktować jako część informacji o tożsamości, takie jak nazwa, adres e-mail, wieku, członkostwo w roli sprzedaży oświadczenia.</span><span class="sxs-lookup"><span data-stu-id="dff6f-121">Think of a claim as a piece of identity information such as name, email address, age, membership in the Sales role.</span></span> <span data-ttu-id="dff6f-122">Im więcej oświadczeń odbiera aplikacja, tym więcej będziesz wiedzieć o użytkowniku.</span><span class="sxs-lookup"><span data-stu-id="dff6f-122">The more claims your application receives, the more you’ll know about your user.</span></span> <span data-ttu-id="dff6f-123">Możesz się zastanawiać, dlaczego są one nazywane "oświadczenia," zamiast "attributes", jak często jest używany do opisywania katalogów enterprise.</span><span class="sxs-lookup"><span data-stu-id="dff6f-123">You may be wondering why these are called "claims," rather than "attributes," as is commonly used in describing enterprise directories.</span></span> <span data-ttu-id="dff6f-124">Przyczyna wiąże się z metodą dostarczania.</span><span class="sxs-lookup"><span data-stu-id="dff6f-124">The reason has to do with the delivery method.</span></span> <span data-ttu-id="dff6f-125">W tym modelu aplikacja nie wyszukuje atrybutów użytkownika w katalogu.</span><span class="sxs-lookup"><span data-stu-id="dff6f-125">In this model, your application doesn’t look up user attributes in a directory.</span></span> <span data-ttu-id="dff6f-126">W zamian użytkownik dostarcza oświadczenia do aplikacji, a aplikacja je bada.</span><span class="sxs-lookup"><span data-stu-id="dff6f-126">Instead, the user delivers claims to your application, and your application examines them.</span></span> <span data-ttu-id="dff6f-127">Każde oświadczenie jest tworzone przez wystawcę i ufasz oświadczeniu tylko na tyle, na ile ufasz wystawcy.</span><span class="sxs-lookup"><span data-stu-id="dff6f-127">Each claim is made by an issuer, and you trust the claim only as much as you trust the issuer.</span></span> <span data-ttu-id="dff6f-128">Na przykład oświadczeniu przesłanemu przez kontroler domeny w Twojej firmie ufasz bardziej niż oświadczeniu przesłanemu przez samego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="dff6f-128">For example, you trust a claim made by your company’s domain controller more than you trust a claim made by the user herself.</span></span> <span data-ttu-id="dff6f-129">WIF reprezentuje oświadczeń z <xref:System.Security.Claims.Claim> typu, który ma <xref:System.Security.Claims.Claim.Issuer%2A> właściwość, która pozwala sprawdzić, który wystawił oświadczenie.</span><span class="sxs-lookup"><span data-stu-id="dff6f-129">WIF represents claims with a <xref:System.Security.Claims.Claim> type, which has an <xref:System.Security.Claims.Claim.Issuer%2A> property that allows you to find out who issued the claim.</span></span>  
  
### <a name="security-token"></a><span data-ttu-id="dff6f-130">Token zabezpieczający</span><span class="sxs-lookup"><span data-stu-id="dff6f-130">Security Token</span></span>  
 <span data-ttu-id="dff6f-131">Użytkownik dostarcza do aplikacji zestaw oświadczeń wraz z żądaniem.</span><span class="sxs-lookup"><span data-stu-id="dff6f-131">The user delivers a set of claims to your application along with a request.</span></span> <span data-ttu-id="dff6f-132">W usłudze sieci Web te oświadczenia są przenoszone w nagłówku zabezpieczeń koperty protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="dff6f-132">In a Web service, these claims are carried in the security header of the SOAP envelope.</span></span> <span data-ttu-id="dff6f-133">W aplikacji sieci Web opartej na przeglądarce oświadczenia docierają za pośrednictwem metody POST protokołu HTTP z przeglądarki użytkownika, a później mogą być buforowane w pliku cookie, jeśli jest pożądane ustanowienie sesji.</span><span class="sxs-lookup"><span data-stu-id="dff6f-133">In a browser-based Web application, the claims arrive through an HTTP POST from the user’s browser, and may later be cached in a cookie if a session is desired.</span></span> <span data-ttu-id="dff6f-134">Bez względu na to, jak docierają te oświadczenia, muszą być serializowane i z tej serializacji biorą się tokeny zabezpieczające.</span><span class="sxs-lookup"><span data-stu-id="dff6f-134">Regardless of how these claims arrive, they must be serialized, which is where security tokens come in.</span></span> <span data-ttu-id="dff6f-135">Token zabezpieczający to zserializowany zestaw oświadczeń podpisany cyfrowo przez urząd wystawiający.</span><span class="sxs-lookup"><span data-stu-id="dff6f-135">A security token is a serialized set of claims that is digitally signed by the issuing authority.</span></span> <span data-ttu-id="dff6f-136">Podpis ma istotne znaczenie: zapewnia, że to nie sam użytkownik po prostu utworzył pakiet oświadczeń i przesłał go do Ciebie.</span><span class="sxs-lookup"><span data-stu-id="dff6f-136">The signature is important: it gives you assurance that the user didn’t just make up a bunch of claims and send them to you.</span></span> <span data-ttu-id="dff6f-137">W sytuacjach, które nie wymagają wysokiego poziomu zabezpieczeń, gdy kryptografia nie jest konieczna lub pożądana, możesz używać tokenów niepodpisanych, ale tego scenariusza nie opisano w tym temacie.</span><span class="sxs-lookup"><span data-stu-id="dff6f-137">In low security situations where cryptography isn’t necessary or desired, you can use unsigned tokens, but that scenario is not described in this topic.</span></span>  
  
 <span data-ttu-id="dff6f-138">Jedną z podstawowych funkcji w programie WIF jest zdolność do tworzenia i odczytywania tokenów zabezpieczających.</span><span class="sxs-lookup"><span data-stu-id="dff6f-138">One of the core features in WIF is the ability to create and read security tokens.</span></span> <span data-ttu-id="dff6f-139">Programy WIF i .NET Framework wykonują całą pracę związaną z kryptografią i przedstawiają aplikacji zestaw oświadczeń, które możesz odczytać.</span><span class="sxs-lookup"><span data-stu-id="dff6f-139">WIF and the .NET Framework handle all of the cryptographic work, and present your application with a set of claims that you can read.</span></span>  
  
### <a name="issuing-authority"></a><span data-ttu-id="dff6f-140">Urząd wystawiający</span><span class="sxs-lookup"><span data-stu-id="dff6f-140">Issuing Authority</span></span>  
 <span data-ttu-id="dff6f-141">Istnieje wiele różnych typów urzędów wystawiających, od kontrolerów domeny, które wystawiają bilety protokołu Kerberos, do urzędów certyfikacji, które wystawiają certyfikaty X.509, ale konkretny typ urzędu omówiony w tym temacie wystawia tokeny zabezpieczające, które zawierają oświadczenia.</span><span class="sxs-lookup"><span data-stu-id="dff6f-141">There are lots of different types of issuing authorities, from domain controllers that issue Kerberos tickets, to certification authorities that issue X.509 certificates, but the specific type of authority discussed in this topic issues security tokens that contain claims.</span></span> <span data-ttu-id="dff6f-142">Ten urząd wystawiający to aplikacja sieci Web lub usługa sieci Web, która umie wystawiać tokeny zabezpieczające.</span><span class="sxs-lookup"><span data-stu-id="dff6f-142">This issuing authority is a Web application or Web service that knows how to issue security tokens.</span></span> <span data-ttu-id="dff6f-143">Musi mieć wystarczającą wiedzę, aby wystawiać oświadczenia właściwe dla jednostki uzależnionej i użytkownika zgłaszającego żądanie, i może być odpowiedzialna za interakcję z magazynami użytkowników potrzebną do wyszukiwania oświadczeń i uwierzytelniania samych użytkowników.</span><span class="sxs-lookup"><span data-stu-id="dff6f-143">It must have enough knowledge to be able to issue the proper claims given the target relying party and the user making the request, and might be responsible for interacting with user stores to look up claims and authenticate the users themselves.</span></span>  
  
 <span data-ttu-id="dff6f-144">Niezależnie od tego, jaki urząd wystawiający wybierzesz, odgrywa on główną rolę w danym rozwiązaniu tożsamości.</span><span class="sxs-lookup"><span data-stu-id="dff6f-144">Whatever issuing authority you choose, it plays a central role in your identity solution.</span></span> <span data-ttu-id="dff6f-145">Gdy funkcję uwierzytelniania przenosisz poza aplikację, opierając się na oświadczeniach, przekazujesz odpowiedzialność temu urzędowi i prosisz go o uwierzytelnianie użytkowników w Twoim imieniu.</span><span class="sxs-lookup"><span data-stu-id="dff6f-145">When you factor authentication out of your application by relying on claims, you’re passing responsibility to that authority and asking it to authenticate users on your behalf.</span></span>  
  
### <a name="security-token-service-sts"></a><span data-ttu-id="dff6f-146">Usługa tokenu zabezpieczającego (STS)</span><span class="sxs-lookup"><span data-stu-id="dff6f-146">Security Token Service (STS)</span></span>  
 <span data-ttu-id="dff6f-147">Usługa tokenu zabezpieczającego (STS) to składnik, który tworzy, podpisuje i wystawia tokeny zabezpieczające zgodnie z protokołami WS-Trust i WS-Federation.</span><span class="sxs-lookup"><span data-stu-id="dff6f-147">A security token service (STS) is the service component that builds, signs, and issues security tokens according to the WS-Trust and WS-Federation protocols.</span></span> <span data-ttu-id="dff6f-148">Z implementacją tych protokołów wiąże się dużo pracy, ale program WIF wykonuje całą tę pracę za Ciebie, więc nie musisz być ekspertem od tych protokołów, aby szybko i przy niewielkim nakładzie pracy uruchomić usługę STS.</span><span class="sxs-lookup"><span data-stu-id="dff6f-148">There’s a lot of work that goes into implementing these protocols, but WIF does all of this work for you, making it feasible for someone who isn’t an expert in the protocols to get an STS up and running with very little effort.</span></span> <span data-ttu-id="dff6f-149">Można użyć wbudowanych STS, takich jak [Active Directory® Federation Services (AD FS) 2.0](http://go.microsoft.com/fwlink/?LinkID=247516), chmury STS takich jak [usługi kontroli dostępu (ACS) systemu Windows Azure](http://go.microsoft.com/fwlink/?LinkID=247517), lub, jeśli chcesz wystawiać tokeny niestandardowe lub podaj niestandardowe uwierzytelniania i autoryzacji, można tworzyć własne niestandardowe STS przy użyciu WIF.</span><span class="sxs-lookup"><span data-stu-id="dff6f-149">You can use a pre-built STS such as [Active Directory® Federation Services (AD FS) 2.0](http://go.microsoft.com/fwlink/?LinkID=247516), a cloud STS such as a [Windows Azure Access Control Service (ACS)](http://go.microsoft.com/fwlink/?LinkID=247517), or, if you want to issue custom tokens or provide custom authentication or authorization, you can build your own custom STS using WIF.</span></span> <span data-ttu-id="dff6f-150">Program WIF ułatwia tworzenie własnych usług STS.</span><span class="sxs-lookup"><span data-stu-id="dff6f-150">WIF makes it easy to build your own STS.</span></span>  
  
### <a name="relying-party-application"></a><span data-ttu-id="dff6f-151">Aplikacja jednostki uzależnionej</span><span class="sxs-lookup"><span data-stu-id="dff6f-151">Relying Party Application</span></span>  
 <span data-ttu-id="dff6f-152">Gdy tworzysz aplikację, która opiera się na oświadczeniach, tworzysz aplikację jednostki uzależnionej.</span><span class="sxs-lookup"><span data-stu-id="dff6f-152">When you build an application that relies on claims, you are building a relying party (RP) application.</span></span> <span data-ttu-id="dff6f-153">Synonimy dla planu odzyskiwania obejmują "aplikacji obsługującej oświadczenia" i "opartej na oświadczeniach aplikacji".</span><span class="sxs-lookup"><span data-stu-id="dff6f-153">Synonyms for an RP include "claims-aware application" and "claims-based application".</span></span> <span data-ttu-id="dff6f-154">Zarówno aplikacje sieci Web, jak i usługi sieci Web mogą być aplikacjami jednostki uzależnionej.</span><span class="sxs-lookup"><span data-stu-id="dff6f-154">Web applications and Web services can both be RPs.</span></span> <span data-ttu-id="dff6f-155">Aplikacja jednostki uzależnionej wykorzystuje tokeny wystawione przez usługę STS i wyodrębnia z nich oświadczenia w celu użycia ich do zadań związanych z tożsamością.</span><span class="sxs-lookup"><span data-stu-id="dff6f-155">A RP application consumes the tokens issued by a STS and extracts the claims from tokens to use them for identity related tasks.</span></span> <span data-ttu-id="dff6f-156">Program WIF oferuje funkcje ułatwiające tworzenie aplikacji jednostki uzależnionej.</span><span class="sxs-lookup"><span data-stu-id="dff6f-156">WIF offers functionalities to help you build RP applications.</span></span>  
  
### <a name="standards"></a><span data-ttu-id="dff6f-157">Standardy</span><span class="sxs-lookup"><span data-stu-id="dff6f-157">Standards</span></span>  
 <span data-ttu-id="dff6f-158">Aby wszystkie te elementy mogły współdziałać, w poprzednim scenariuszu zastosowano kilka standardów WS-\*.</span><span class="sxs-lookup"><span data-stu-id="dff6f-158">In order to make all of this interoperable, several WS-\* standards are used in the previous scenario.</span></span> <span data-ttu-id="dff6f-159">Zasady są pobierane przy użyciu standardu WS-MetadataExchange i są skonstruowane zgodnie ze specyfikacją WS-Policy.</span><span class="sxs-lookup"><span data-stu-id="dff6f-159">Policy is retrieved using WS-MetadataExchange, and the policy itself is structured according to the WS-Policy specification.</span></span> <span data-ttu-id="dff6f-160">Usługa STS uwidacznia punkty końcowe, które implementują specyfikację WS-Trust opisującą sposób żądania i odbierania tokenów zabezpieczających.</span><span class="sxs-lookup"><span data-stu-id="dff6f-160">The STS exposes endpoints that implement the WS-Trust specification, which describes how to request and receive security tokens.</span></span> <span data-ttu-id="dff6f-161">Większość dzisiejszych usług STS wystawia tokeny sformatowane przy użyciu języka Security Assertion Markup Langauge (SAML).</span><span class="sxs-lookup"><span data-stu-id="dff6f-161">Most STSs today issue tokens formatted with Security Assertion Markup Langauge (SAML).</span></span> <span data-ttu-id="dff6f-162">SAML to uznawany przez całą branżę słownik XML, który może służyć do reprezentowania oświadczeń w sposób interoperacyjny.</span><span class="sxs-lookup"><span data-stu-id="dff6f-162">SAML is an industry-recognized XML vocabulary that can be used to represent claims in an interoperable way.</span></span> <span data-ttu-id="dff6f-163">Ewentualnie, w sytuacji wielu platform, pozwala to na komunikowanie się z usługą STS na całkowicie różnej platformie i osiągnięcie rejestracji jednokrotnej dla wszystkich aplikacji, niezależnie od platformy.</span><span class="sxs-lookup"><span data-stu-id="dff6f-163">Or, in a multi-platform situation, this allows you to communicate with an STS on an entirely different platform and achieve single sign-on across all of your applications, regardless of platform.</span></span>  
  
### <a name="browser-based-applications"></a><span data-ttu-id="dff6f-164">Aplikacje oparte na przeglądarce</span><span class="sxs-lookup"><span data-stu-id="dff6f-164">Browser-Based Applications</span></span>  
 <span data-ttu-id="dff6f-165">Inteligentne aplikacje klienckie to nie jedyne aplikacje, które mogą używać modelu tożsamości opartej na oświadczeniach.</span><span class="sxs-lookup"><span data-stu-id="dff6f-165">Smart clients aren’t the only ones who can use the claims-based identity model.</span></span> <span data-ttu-id="dff6f-166">Mogą go również używać aplikacje oparte na przeglądarce (zwane także klientami pasywnymi).</span><span class="sxs-lookup"><span data-stu-id="dff6f-166">Browser-based applications (also referred to as passive clients) can use it as well.</span></span> <span data-ttu-id="dff6f-167">W poniższym scenariuszu opisano, jak to działa.</span><span class="sxs-lookup"><span data-stu-id="dff6f-167">The following scenario describes how this works.</span></span>  
  
 <span data-ttu-id="dff6f-168">Najpierw użytkownik wskazuje przeglądarkę w aplikacji sieci Web obsługującej oświadczenia (aplikacji jednostki uzależnionej).</span><span class="sxs-lookup"><span data-stu-id="dff6f-168">First, the user points a browser at a claims-aware Web application (the relying party application).</span></span> <span data-ttu-id="dff6f-169">Aplikacja sieci Web przekierowuje przeglądarkę do usługi STS, więc użytkownik może zostać uwierzytelniony.</span><span class="sxs-lookup"><span data-stu-id="dff6f-169">The Web application redirects the browser to the STS so the user can be authenticated.</span></span> <span data-ttu-id="dff6f-170">Usługa STS jest hostowana w prostej aplikacji sieci Web, która odczytuje przychodzące żądanie, uwierzytelnia użytkownika przy użyciu standardowych mechanizmów HTTP, a następnie tworzy token SAML i odpowiada fragmentem kodu JavaScript, który powoduje, że przeglądarka inicjuje metodę POST protokołu HTTP, która z kolei wysyła token SAML z powrotem do jednostki uzależnionej.</span><span class="sxs-lookup"><span data-stu-id="dff6f-170">The STS is hosted in a simple web application that reads the incoming request, authenticates the user using standard HTTP mechanisms, and then creates a SAML token and replies with a piece of JavaScript code that causes the browser to initiate an HTTP POST that sends the SAML token back to the RP.</span></span> <span data-ttu-id="dff6f-171">Treść tej metody POST zawiera oświadczenia, których żądała jednostka uzależniona.</span><span class="sxs-lookup"><span data-stu-id="dff6f-171">The body of this POST contains the claims that the RP requested.</span></span> <span data-ttu-id="dff6f-172">W tym momencie jednostka uzależniona zazwyczaj pakuje oświadczenia w plik cookie, dzięki czemu użytkownik nie musi być przekierowywany przy każdym żądaniu.</span><span class="sxs-lookup"><span data-stu-id="dff6f-172">At this point, it is common for the RP to package the claims into a cookie so that the user doesn’t have to be redirected for each request.</span></span>  
  
<a name="BKMK_2"></a>   
## <a name="basic-scenario-for-a-claims-based-identity-model"></a><span data-ttu-id="dff6f-173">Podstawowy scenariusz dla modelu tożsamości opartej na oświadczeniach</span><span class="sxs-lookup"><span data-stu-id="dff6f-173">Basic Scenario for a Claims-Based Identity Model</span></span>  
 <span data-ttu-id="dff6f-174">Poniżej przedstawiono przykład systemu opartego na oświadczeniach.</span><span class="sxs-lookup"><span data-stu-id="dff6f-174">The following is an example of a claims-based system.</span></span>  
  
 <span data-ttu-id="dff6f-175">![Przepływ uwierzytelniania jednostki uzależnionej w partnera](../../../docs/framework/security/media/conc-relying-partner-processc.png "conc_relying_partner_processc")</span><span class="sxs-lookup"><span data-stu-id="dff6f-175">![Relying Partner Authentication Flow](../../../docs/framework/security/media/conc-relying-partner-processc.png "conc_relying_partner_processc")</span></span>  
  
 <span data-ttu-id="dff6f-176">Diagram przedstawia witrynę sieci Web (aplikację jednostki uzależnionej, jednostkę uzależnioną), która jest skonfigurowana do używania programu WIF do uwierzytelniania, oraz klienta, przeglądarkę sieci Web, który chce użyć tej witryny.</span><span class="sxs-lookup"><span data-stu-id="dff6f-176">This diagram shows a Web site (the relying party application, RP) that has been configured to use WIF for authentication and a client, a web browser, that wants to use that site.</span></span>  
  
1.  <span data-ttu-id="dff6f-177">Gdy nieuwierzytelniony użytkownik zgłasza żądanie strony, jego przeglądarka jest przekierowywana na strony dostawcy tożsamości.</span><span class="sxs-lookup"><span data-stu-id="dff6f-177">When an unauthenticated user requests a page their browser is redirected to the identity provider (IP) pages.</span></span>  
  
2.  <span data-ttu-id="dff6f-178">Dostawca tożsamości wymaga od użytkownika przedstawienia poświadczeń, np. nazwy użytkownika/hasła, biletu protokołu Kerberos itp.</span><span class="sxs-lookup"><span data-stu-id="dff6f-178">The IP requires the user to present their credentials, e.g. username/password, Kerberos, etc.</span></span>  
  
3.  <span data-ttu-id="dff6f-179">Dostawca tożsamości wystawia token, który jest zwracany z powrotem do przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="dff6f-179">The IP issues a token back to that is returned to the browser.</span></span>  
  
4.  <span data-ttu-id="dff6f-180">Przeglądarka zostaje teraz przekierowana z powrotem na pierwotnie żądaną stronę, gdzie program WIF określa, czy token spełnia wymagania niezbędne do uzyskania dostępu do strony.</span><span class="sxs-lookup"><span data-stu-id="dff6f-180">The browser is now redirected back to the originally requested page where WIF determines if the token satisfies the requirements to access the page.</span></span> <span data-ttu-id="dff6f-181">Jeśli tak, wystawiany jest plik cookie w celu ustanowienia sesji, więc wystarczy jednokrotne przeprowadzenie uwierzytelnienia i sterowanie jest przekazywane do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dff6f-181">If so a cookie is issued to establish a session so the authentication only needs to occur once, and control is passed to the application.</span></span>
