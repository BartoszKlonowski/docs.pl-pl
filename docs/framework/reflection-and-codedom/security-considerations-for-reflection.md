---
title: Zagadnienia dotyczące zabezpieczeń dla odbicia
ms.date: 03/30/2017
helpviewer_keywords:
- permissions [.NET Framework], reflection
- MethodInfo parameters
- reflection, security
- partial trust,reflection
- nonpublic members
- reflection,partial trust
- link demands
ms.assetid: 42d9dc2a-8fcc-4ff3-b002-4ff260ef3dc5
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 9dc7bec2023e3ee0db9987e053dd54647ab2e94f
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/04/2018
---
# <a name="security-considerations-for-reflection"></a><span data-ttu-id="1a0e3-102">Zagadnienia dotyczące zabezpieczeń dla odbicia</span><span class="sxs-lookup"><span data-stu-id="1a0e3-102">Security Considerations for Reflection</span></span>
<span data-ttu-id="1a0e3-103">Odbicie pozwala, aby uzyskać informacje o typy i składniki oraz do elementów członkowskich dostępu (to znaczy do wywołania metody i konstruktory do pobierania i ustawiania właściwości wartości, dodawanie i usuwanie programów obsługi zdarzeń i tak dalej).</span><span class="sxs-lookup"><span data-stu-id="1a0e3-103">Reflection provides the ability to obtain information about types and members, and to access members (that is, to call methods and constructors, to get and set property values, to add and remove event handlers, and so on).</span></span> <span data-ttu-id="1a0e3-104">Użyj odbicia w celu uzyskania informacji na temat typów i członków nie jest ograniczone.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-104">The use of reflection to obtain information about types and members is not restricted.</span></span> <span data-ttu-id="1a0e3-105">Cały kod służy odbicia do wykonywania następujących zadań:</span><span class="sxs-lookup"><span data-stu-id="1a0e3-105">All code can use reflection to perform the following tasks:</span></span>  
  
-   <span data-ttu-id="1a0e3-106">Wyliczanie typów i członków, a następnie sprawdź ich metadanych.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-106">Enumerate types and members, and examine their metadata.</span></span>  
  
-   <span data-ttu-id="1a0e3-107">Wyliczanie i sprawdź, czy zestawów i modułów.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-107">Enumerate and examine assemblies and modules.</span></span>  
  
 <span data-ttu-id="1a0e3-108">Z kolei za pomocą odbicia do dostępu do elementów członkowskich, podlega ograniczeniom.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-108">Using reflection to access members, by contrast, is subject to restrictions.</span></span> <span data-ttu-id="1a0e3-109">Począwszy od [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)]tylko zaufany kod umożliwia dostęp do elementów członkowskich krytyczny dla zabezpieczeń odbicia.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-109">Beginning with the [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], only trusted code can use reflection to access security-critical members.</span></span> <span data-ttu-id="1a0e3-110">Ponadto tylko zaufany kod może być odbicia niepublicznych elementów członkowskich, które nie jest bezpośrednio dostępny dla skompilowanego kodu dostępu.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-110">Furthermore, only trusted code can use reflection to access nonpublic members that would not be directly accessible to compiled code.</span></span> <span data-ttu-id="1a0e3-111">Na koniec kod, który używa odbicia uzyskać dostępu do członka bezpieczne krytyczne uprawnienia niezależnie od wymagań bezpieczne krytyczne — członek, tylko podobnie jak w przypadku skompilowanego kodu.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-111">Finally, code that uses reflection to access a safe-critical member must have whatever permissions the safe-critical member demands, just as with compiled code.</span></span>  
  
 <span data-ttu-id="1a0e3-112">Z zastrzeżeniem odpowiednie uprawnienia kodu można używać odbicia do wykonywania następujące rodzaje dostępu:</span><span class="sxs-lookup"><span data-stu-id="1a0e3-112">Subject to necessary permissions, code can use reflection to perform the following kinds of access:</span></span>  
  
-   <span data-ttu-id="1a0e3-113">Dostęp do publicznych elementów członkowskich, które nie są krytyczne dla zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-113">Access public members that are not security-critical.</span></span>  
  
-   <span data-ttu-id="1a0e3-114">Członkowie niepubliczni dostępu, które będą dostępne dla skompilowany kod, jeśli te elementy członkowskie nie są krytyczne dla zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-114">Access nonpublic members that would be accessible to compiled code, if those members are not security-critical.</span></span> <span data-ttu-id="1a0e3-115">Przykładami takich członkowie niepubliczni:</span><span class="sxs-lookup"><span data-stu-id="1a0e3-115">Examples of such nonpublic members include:</span></span>  
  
    -   <span data-ttu-id="1a0e3-116">Chronionych elementów członkowskich klasy podstawowej kodu wywołującego.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-116">Protected members of the calling code's base classes.</span></span> <span data-ttu-id="1a0e3-117">(W odbicia, to jest nazywany dostęp na poziomie rodziny.)</span><span class="sxs-lookup"><span data-stu-id="1a0e3-117">(In reflection, this is referred to as family-level access.)</span></span>  
  
    -   <span data-ttu-id="1a0e3-118">`internal` elementy członkowskie (`Friend` elementów członkowskich w języku Visual Basic) w zestawie kodu wywołującego.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-118">`internal` members (`Friend` members in Visual Basic) in the calling code's assembly.</span></span> <span data-ttu-id="1a0e3-119">(W odbicia, to jest nazywany dostęp na poziomie zestawu.)</span><span class="sxs-lookup"><span data-stu-id="1a0e3-119">(In reflection, this is referred to as assembly-level access.)</span></span>  
  
    -   <span data-ttu-id="1a0e3-120">Prywatne elementy Członkowskie inne wystąpienia klasy, która zawiera kod wywołujący.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-120">Private members of other instances of the class that contains the calling code.</span></span>  
  
 <span data-ttu-id="1a0e3-121">Na przykład kodu, który jest uruchamiany w domenie aplikacji piaskownicy jest ograniczona do dostępu opisano w tej listy, chyba że dodatkowe uprawnienia domeny aplikacji.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-121">For example, code that is run in a sandboxed application domain is limited to the access described in this list, unless the application domain grants additional permissions.</span></span>  
  
 <span data-ttu-id="1a0e3-122">Począwszy od [!INCLUDE[net_v20SP1_long](../../../includes/net-v20sp1-long-md.md)], próby uzyskania dostępu do elementów członkowskich, które są niedostępne. zazwyczaj generuje żądanie dla zestawu grant obiektu docelowego plus <xref:System.Security.Permissions.ReflectionPermission> z <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flagi.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-122">Starting with the [!INCLUDE[net_v20SP1_long](../../../includes/net-v20sp1-long-md.md)], attempting to access members that are normally inaccessible generates a demand for the grant set of the target object plus <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag.</span></span> <span data-ttu-id="1a0e3-123">Kod, który został uruchomiony z pełnego zaufania (na przykład kod w aplikacji, która jest uruchamiana z poziomu wiersza polecenia) zawsze spełnia te uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-123">Code that is running with full trust (for example, code in an application that is launched from the command line) can always satisfy these permissions.</span></span> <span data-ttu-id="1a0e3-124">(To podlega ograniczenia podczas uzyskiwania dostępu do elementów krytycznych dla zabezpieczeń, zgodnie z opisem w dalszej części tego artykułu.)</span><span class="sxs-lookup"><span data-stu-id="1a0e3-124">(This is subject to limitations in accessing security-critical members, as described later in this article.)</span></span>  
  
 <span data-ttu-id="1a0e3-125">Opcjonalnie można przyznać domenie aplikacji piaskownicy <xref:System.Security.Permissions.ReflectionPermission> z <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> Flaga, zgodnie z opisem w sekcji [podczas uzyskiwania dostępu do elementów członkowskich czy są zwykle niedostępny](#accessingNormallyInaccessible)w dalszej części tego artykułu.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-125">Optionally, a sandboxed application domain can grant <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag, as described in the section [Accessing Members That Are Normally Inaccessible](#accessingNormallyInaccessible), later in this article.</span></span>  
  
<a name="accessingSecurityCritical"></a>   
## <a name="accessing-security-critical-members"></a><span data-ttu-id="1a0e3-126">Uzyskiwanie dostępu do członków krytyczny dla zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="1a0e3-126">Accessing Security-Critical Members</span></span>  
 <span data-ttu-id="1a0e3-127">Element członkowski jest krytyczny dla zabezpieczeń, jeśli ma ona <xref:System.Security.SecurityCriticalAttribute>, jeśli należy do typu, który ma <xref:System.Security.SecurityCriticalAttribute>, lub jeśli znajduje się w zestawie krytyczny dla zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-127">A member is security-critical if it has the <xref:System.Security.SecurityCriticalAttribute>, if it belongs to a type that has the <xref:System.Security.SecurityCriticalAttribute>, or if it is in a security-critical assembly.</span></span> <span data-ttu-id="1a0e3-128">Począwszy od [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], zasady dostępu do członków krytyczny dla zabezpieczeń są następujące:</span><span class="sxs-lookup"><span data-stu-id="1a0e3-128">Beginning with the [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], the rules for accessing security-critical members are as follows:</span></span>  
  
-   <span data-ttu-id="1a0e3-129">Kod o przezroczystym nie umożliwia odbicia dostęp do elementów członkowskich krytyczny dla zabezpieczeń, nawet jeśli kod jest w pełni zaufany.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-129">Transparent code cannot use reflection to access security-critical members, even if the code is fully trusted.</span></span> <span data-ttu-id="1a0e3-130">A <xref:System.MethodAccessException>, <xref:System.FieldAccessException>, lub <xref:System.TypeAccessException> jest generowany.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-130">A <xref:System.MethodAccessException>, <xref:System.FieldAccessException>, or <xref:System.TypeAccessException> is thrown.</span></span>  
  
-   <span data-ttu-id="1a0e3-131">Kod, który został uruchomiony z częściowa relacja zaufania jest traktowany jako przezroczysty.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-131">Code that is running with partial trust is treated as transparent.</span></span>  
  
 <span data-ttu-id="1a0e3-132">Te reguły są takie same, czy uzyskać dostępu bezpośrednio skompilowany kod krytyczny dla zabezpieczeń elementu członkowskiego lub przy użyciu odbicia.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-132">These rules are the same whether a security-critical member is accessed directly by compiled code, or accessed by using reflection.</span></span>  
  
 <span data-ttu-id="1a0e3-133">Kod aplikacji, który jest uruchamiany z poziomu wiersza polecenia są uruchamiane przy pełnym zaufaniu.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-133">Application code that is run from the command line runs with full trust.</span></span> <span data-ttu-id="1a0e3-134">O ile nie jest oznaczony jako przezroczysty, można użyć do dostęp do elementów członkowskich krytyczny dla zabezpieczeń odbicia.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-134">As long as it is not marked as transparent, it can use reflection to access security-critical members.</span></span> <span data-ttu-id="1a0e3-135">Uruchomienie tego samego kodu z częściowa relacja zaufania (na przykład w domenie aplikacji piaskownicy) zaufania zestawu poziom określa, czy można uzyskać dostęp do kod krytyczny dla zabezpieczeń: Jeśli zestaw ma silną nazwę i jest zainstalowany w globalnej pamięci podręcznej zestawów, zaufane zestawu i może wywołać krytyczny dla zabezpieczeń elementów członkowskich.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-135">When the same code is run with partial trust (for example, in a sandboxed application domain) the assembly's trust level determines whether it can access security-critical code: If the assembly has a strong name and is installed in the global assembly cache, it is a trusted assembly and can call security-critical members.</span></span> <span data-ttu-id="1a0e3-136">Jeśli nie jest zaufany, staje się on przezroczysty nawet, jeśli nie została oznaczona jako przezroczysty i nie ma dostępu do członków krytyczny dla zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-136">If it is not trusted, it becomes transparent even though it was not marked as transparent, and it cannot access security-critical members.</span></span>  
  
 <span data-ttu-id="1a0e3-137">Aby uzyskać więcej informacji na temat modelu zabezpieczeń w [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)], zobacz [zmiany zabezpieczeń](../../../docs/framework/security/security-changes.md).</span><span class="sxs-lookup"><span data-stu-id="1a0e3-137">For more information about the security model in the [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)], see [Security Changes](../../../docs/framework/security/security-changes.md).</span></span>  
  
## <a name="reflection-and-transparency"></a><span data-ttu-id="1a0e3-138">Odbicie i przezroczystości</span><span class="sxs-lookup"><span data-stu-id="1a0e3-138">Reflection and Transparency</span></span>  
 <span data-ttu-id="1a0e3-139">Począwszy od [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)], środowisko uruchomieniowe języka wspólnego określa poziom przezroczystości typu lub elementu członkowskiego kilka czynników, takich jak poziom zaufania zestawu i poziom zaufania domeny aplikacji.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-139">Beginning with the [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)], the common language runtime determines the transparency level of a type or member from several factors, including the trust level of the assembly and the trust level of the application domain.</span></span> <span data-ttu-id="1a0e3-140">Udostępnia odbicia <xref:System.Type.IsSecurityCritical%2A>, <xref:System.Type.IsSecuritySafeCritical%2A>, i <xref:System.Type.IsSecurityTransparent%2A> właściwości, aby umożliwić odnajdowanie poziom przezroczystości typu.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-140">Reflection provides the <xref:System.Type.IsSecurityCritical%2A>, <xref:System.Type.IsSecuritySafeCritical%2A>, and <xref:System.Type.IsSecurityTransparent%2A> properties to enable you to discover the transparency level of a type.</span></span> <span data-ttu-id="1a0e3-141">W poniższej tabeli przedstawiono prawidłową kombinację tych właściwości.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-141">The following table shows the valid combinations of these properties.</span></span>  
  
|<span data-ttu-id="1a0e3-142">Poziom zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="1a0e3-142">Security level</span></span>|<span data-ttu-id="1a0e3-143">IsSecurityCritical</span><span class="sxs-lookup"><span data-stu-id="1a0e3-143">IsSecurityCritical</span></span>|<span data-ttu-id="1a0e3-144">IsSecuritySafeCritical</span><span class="sxs-lookup"><span data-stu-id="1a0e3-144">IsSecuritySafeCritical</span></span>|<span data-ttu-id="1a0e3-145">IsSecurityTransparent</span><span class="sxs-lookup"><span data-stu-id="1a0e3-145">IsSecurityTransparent</span></span>|  
|--------------------|------------------------|----------------------------|---------------------------|  
|<span data-ttu-id="1a0e3-146">Krytyczny</span><span class="sxs-lookup"><span data-stu-id="1a0e3-146">Critical</span></span>|`true`|`false`|`false`|  
|<span data-ttu-id="1a0e3-147">Bezpieczne krytyczne</span><span class="sxs-lookup"><span data-stu-id="1a0e3-147">Safe-critical</span></span>|`true`|`true`|`false`|  
|<span data-ttu-id="1a0e3-148">Przezroczyste</span><span class="sxs-lookup"><span data-stu-id="1a0e3-148">Transparent</span></span>|`false`|`false`|`true`|  
  
 <span data-ttu-id="1a0e3-149">Przy użyciu tych właściwości jest znacznie prostsze niż badanie adnotacje zabezpieczeń zestawu i jego typów, sprawdzania na bieżącym poziomie zaufania i próby zduplikowane reguły środowiska uruchomieniowego.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-149">Using these properties is much simpler than examining the security annotations of an assembly and its types, checking the current trust level, and attempting to duplicate the runtime's rules.</span></span> <span data-ttu-id="1a0e3-150">Na przykład tego samego typu może być krytyczny dla zabezpieczeń po uruchomieniu z wiersza polecenia lub przezroczystym poziomie bezpieczeństwa, uruchamianych w domenie aplikacji piaskownicy.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-150">For example, the same type can be security-critical when it is run from the command line, or security-transparent when it is run in a sandboxed application domain.</span></span>  
  
 <span data-ttu-id="1a0e3-151">Istnieją podobne właściwości na <xref:System.Reflection.MethodBase>, <xref:System.Reflection.FieldInfo>, <xref:System.Reflection.Emit.TypeBuilder>, <xref:System.Reflection.Emit.MethodBuilder>, i <xref:System.Reflection.Emit.DynamicMethod> klasy.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-151">There are similar properties on the <xref:System.Reflection.MethodBase>, <xref:System.Reflection.FieldInfo>, <xref:System.Reflection.Emit.TypeBuilder>, <xref:System.Reflection.Emit.MethodBuilder>, and <xref:System.Reflection.Emit.DynamicMethod> classes.</span></span> <span data-ttu-id="1a0e3-152">(Inne odbicia i odbicie Emituj obiektów abstrakcyjnych, atrybuty zabezpieczeń są stosowane do skojarzonych z nim metod, na przykład w przypadku właściwości, które są stosowane do metod dostępu właściwości).</span><span class="sxs-lookup"><span data-stu-id="1a0e3-152">(For other reflection and reflection emit abstractions, security attributes are applied to the associated methods; for example, in the case of properties they are applied to the property accessors.)</span></span>  
  
<a name="accessingNormallyInaccessible"></a>   
## <a name="accessing-members-that-are-normally-inaccessible"></a><span data-ttu-id="1a0e3-153">Uzyskiwanie dostępu do elementów członkowskich, które są zwykle niedostępne.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-153">Accessing Members That Are Normally Inaccessible</span></span>  
 <span data-ttu-id="1a0e3-154">Aby użyć odbicia do wywołania elementów członkowskich, które są niedostępne, zgodnie z regułami ułatwień dostępu aparatu plików wykonywalnych języka wspólnego, kodu musi otrzymać jeden z dwóch uprawnienia:</span><span class="sxs-lookup"><span data-stu-id="1a0e3-154">To use reflection to invoke members that are inaccessible according to the accessibility rules of the common language runtime, your code must be granted one of two permissions:</span></span>  
  
-   <span data-ttu-id="1a0e3-155">Do kodu do dowolnego niepubliczny element członkowski wywołania: musi otrzymać kod <xref:System.Security.Permissions.ReflectionPermission> z <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flagi.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-155">To allow code to invoke any nonpublic member:Your code must be granted <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="1a0e3-156">Domyślnie zasady zabezpieczeń nie zezwala na to uprawnienie do kodu, które pochodzą z Internetu.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-156">By default, security policy denies this permission to code that originates from the Internet.</span></span> <span data-ttu-id="1a0e3-157">To uprawnienie nigdy nie może być przyznany elementowi kodu pochodzącego z Internetu.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-157">This permission should never be granted to code that originates from the Internet.</span></span>  
  
-   <span data-ttu-id="1a0e3-158">Kod, aby wywołać żadnych niepubliczny element członkowski, tak długo, jak zestaw grant zestawu, który zawiera wywołany element członkowski jest taka sama jak lub podzbiór, zestaw grant kodu zestawu, który zawiera wywołania: musi otrzymać kod <xref:System.Security.Permissions.ReflectionPermission> z <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType>flagi.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-158">To allow code to invoke any nonpublic member, as long as the grant set of the assembly that contains the invoked member is the same as, or a subset of, the grant set of the assembly that contains the invoking code: Your code must be granted <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag.</span></span>  
  
 <span data-ttu-id="1a0e3-159">Załóżmy na przykład, udziel uprawnienia Internet plus domeny aplikacji <xref:System.Security.Permissions.ReflectionPermission> z <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> Flaga, a następnie uruchom aplikację internetową z dwóch zestawów, A i B.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-159">For example, suppose you grant an application domain Internet permissions plus <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag, and then run an Internet application with two assemblies, A and B.</span></span>  
  
-   <span data-ttu-id="1a0e3-160">Zestawu A umożliwia odbicia dostęp do prywatnych elementów członkowskich zestawu B, ponieważ zestaw grant zestawu B nie obejmuje wszystkie uprawnienia, które nie zostało udzielone A.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-160">Assembly A can use reflection to access private members of assembly B, because the grant set of assembly B does not include any permissions that A has not been granted.</span></span>  
  
-   <span data-ttu-id="1a0e3-161">Zestaw A nie umożliwia dostęp do prywatnych elementów członkowskich odbicia [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] zestawy, takie jak mscorlib.dll, ponieważ mscorlib.dll jest w pełni zaufany, a w związku z tym ma uprawnienia, które nie zostały przyznane zestawu A. A <xref:System.MemberAccessException> jest generowany, gdy zabezpieczenia dostępu kodu przedstawiono stosu w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-161">Assembly A cannot use reflection to access private members of [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] assemblies such as mscorlib.dll, because mscorlib.dll is fully trusted and therefore has permissions that have not been granted to assembly A. A <xref:System.MemberAccessException> is thrown when code access security walks the stack at run time.</span></span>  
  
## <a name="serialization"></a><span data-ttu-id="1a0e3-162">Serializacja</span><span class="sxs-lookup"><span data-stu-id="1a0e3-162">Serialization</span></span>  
 <span data-ttu-id="1a0e3-163">Do serializacji <xref:System.Security.Permissions.SecurityPermission> z <xref:System.Security.Permissions.SecurityPermissionAttribute.SerializationFormatter%2A?displayProperty=nameWithType> Flaga umożliwia pobieranie i ustawianie elementów członkowskich typów możliwych do serializacji, niezależnie od dostępności.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-163">For serialization, <xref:System.Security.Permissions.SecurityPermission> with the <xref:System.Security.Permissions.SecurityPermissionAttribute.SerializationFormatter%2A?displayProperty=nameWithType> flag provides the ability to get and set members of serializable types, regardless of accessibility.</span></span> <span data-ttu-id="1a0e3-164">To uprawnienie umożliwia kod, aby odnaleźć i zmienić prywatnego stan wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-164">This permission enables code to discover and change the private state of an instance.</span></span> <span data-ttu-id="1a0e3-165">(Oprócz trwa odpowiednich uprawnień, typ musi być [oznaczone](../../../docs/standard/attributes/applying-attributes.md) jako możliwy do serializacji w metadanych.)</span><span class="sxs-lookup"><span data-stu-id="1a0e3-165">(In addition to being granted the appropriate permissions, the type must be [marked](../../../docs/standard/attributes/applying-attributes.md) as serializable in metadata.)</span></span>  
  
## <a name="parameters-of-type-methodinfo"></a><span data-ttu-id="1a0e3-166">Parametry typu MethodInfo.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-166">Parameters of Type MethodInfo</span></span>  
 <span data-ttu-id="1a0e3-167">Unikać pisania publiczne elementy członkowskie, które trwają <xref:System.Reflection.MethodInfo> parametrów, szczególnie w przypadku zaufanego kodu.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-167">Avoid writing public members that take <xref:System.Reflection.MethodInfo> parameters, especially for trusted code.</span></span> <span data-ttu-id="1a0e3-168">Takie elementy Członkowskie mogą być bardziej podatne na złośliwego kodu.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-168">Such members might be more vulnerable to malicious code.</span></span> <span data-ttu-id="1a0e3-169">Rozważmy na przykład publicznego elementu członkowskiego w wysoce zaufanych kod, który <xref:System.Reflection.MethodInfo> parametru.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-169">For example, consider a public member in highly trusted code that takes a <xref:System.Reflection.MethodInfo> parameter.</span></span> <span data-ttu-id="1a0e3-170">Załóżmy, że publicznego elementu członkowskiego pośrednio wymaga <xref:System.Reflection.MethodBase.Invoke%2A> metoda dostarczony parametr.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-170">Assume that the public member indirectly calls the <xref:System.Reflection.MethodBase.Invoke%2A> method on the supplied parameter.</span></span> <span data-ttu-id="1a0e3-171">Jeśli publicznego elementu członkowskiego nie przeprowadza kontroli niezbędnych uprawnień, wywołanie <xref:System.Reflection.MethodBase.Invoke%2A> metody zawsze powiedzie się, ponieważ system zabezpieczeń określa, czy element wywołujący jest wysoce zaufanych.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-171">If the public member does not perform the necessary permission checks, the call to the <xref:System.Reflection.MethodBase.Invoke%2A> method will always succeed, because the security system determines that the caller is highly trusted.</span></span> <span data-ttu-id="1a0e3-172">Nawet jeśli złośliwego kodu nie ma uprawnienia do bezpośrednio wywołać metody, on nadal należy więc pośrednio przez wywołanie metody publicznego elementu członkowskiego.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-172">Even if malicious code does not have the permission to directly invoke the method, it can still do so indirectly by calling the public member.</span></span>  
  
## <a name="version-information"></a><span data-ttu-id="1a0e3-173">Informacje o wersji</span><span class="sxs-lookup"><span data-stu-id="1a0e3-173">Version Information</span></span>  
  
-   <span data-ttu-id="1a0e3-174">Począwszy od [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], kod o przezroczystym nie umożliwia dostęp do elementów członkowskich krytyczny dla zabezpieczeń odbicia.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-174">Beginning with the [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], transparent code cannot use reflection to access security-critical members.</span></span>  
  
-   <span data-ttu-id="1a0e3-175"><xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> Flagi została wprowadzona w systemie [!INCLUDE[net_v20SP1_long](../../../includes/net-v20sp1-long-md.md)].</span><span class="sxs-lookup"><span data-stu-id="1a0e3-175">The <xref:System.Security.Permissions.ReflectionPermissionFlag.RestrictedMemberAccess?displayProperty=nameWithType> flag is introduced in the [!INCLUDE[net_v20SP1_long](../../../includes/net-v20sp1-long-md.md)].</span></span> <span data-ttu-id="1a0e3-176">Starsze niż [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] wymagają <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flagi kod, który używa odbicia do uzyskiwania dostępu członkowie niepubliczni.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-176">Earlier versions of the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] require the <xref:System.Security.Permissions.ReflectionPermissionFlag.MemberAccess?displayProperty=nameWithType> flag for code that uses reflection to access nonpublic members.</span></span> <span data-ttu-id="1a0e3-177">To uprawnienie, które nigdy nie może być przyznany elementowi częściowo zaufany kod.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-177">This is a permission that should never be granted to partially trusted code.</span></span>  
  
-   <span data-ttu-id="1a0e3-178">Począwszy od [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)], aby uzyskać informacje o niepubliczne typy i składniki przy użyciu odbicia nie wymaga żadnych uprawnień.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-178">Beginning with the [!INCLUDE[dnprdnlong](../../../includes/dnprdnlong-md.md)], using reflection to obtain information about nonpublic types and members does not require any permissions.</span></span> <span data-ttu-id="1a0e3-179">We wcześniejszych wersjach <xref:System.Security.Permissions.ReflectionPermission> z <xref:System.Security.Permissions.ReflectionPermissionFlag.TypeInformation?displayProperty=nameWithType> flaga jest wymagana.</span><span class="sxs-lookup"><span data-stu-id="1a0e3-179">In earlier versions, <xref:System.Security.Permissions.ReflectionPermission> with the <xref:System.Security.Permissions.ReflectionPermissionFlag.TypeInformation?displayProperty=nameWithType> flag is required.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1a0e3-180">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="1a0e3-180">See Also</span></span>  
 <xref:System.Security.Permissions.ReflectionPermissionFlag>  
 <xref:System.Security.Permissions.ReflectionPermission>  
 <xref:System.Security.Permissions.SecurityPermission>  
 [<span data-ttu-id="1a0e3-181">Zmiany zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="1a0e3-181">Security Changes</span></span>](../../../docs/framework/security/security-changes.md)  
 [<span data-ttu-id="1a0e3-182">Zabezpieczenia dostępu kodu</span><span class="sxs-lookup"><span data-stu-id="1a0e3-182">Code Access Security</span></span>](../../../docs/framework/misc/code-access-security.md)  
 [<span data-ttu-id="1a0e3-183">Problemy związane z zabezpieczeniami w emisji odbicia</span><span class="sxs-lookup"><span data-stu-id="1a0e3-183">Security Issues in Reflection Emit</span></span>](../../../docs/framework/reflection-and-codedom/security-issues-in-reflection-emit.md)  
 [<span data-ttu-id="1a0e3-184">Wyświetlanie informacji o typie</span><span class="sxs-lookup"><span data-stu-id="1a0e3-184">Viewing Type Information</span></span>](../../../docs/framework/reflection-and-codedom/viewing-type-information.md)  
 [<span data-ttu-id="1a0e3-185">Stosowanie atrybutów</span><span class="sxs-lookup"><span data-stu-id="1a0e3-185">Applying Attributes</span></span>](../../../docs/standard/attributes/applying-attributes.md)  
 [<span data-ttu-id="1a0e3-186">Uzyskiwanie dostępu do atrybutów niestandardowych</span><span class="sxs-lookup"><span data-stu-id="1a0e3-186">Accessing Custom Attributes</span></span>](../../../docs/framework/reflection-and-codedom/accessing-custom-attributes.md)
