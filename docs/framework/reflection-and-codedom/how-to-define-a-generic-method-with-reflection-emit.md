---
title: "Porady: definiowanie metody ogólnej przy użyciu emisji odbicia"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- generics [.NET Framework], reflection emit
- reflection emit, generic methods
- generics [.NET Framework], dynamic types
ms.assetid: 93892fa4-90b3-4ec4-b147-4bec9880de2b
caps.latest.revision: "13"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: f894d032527611c036e41fff783b31920c354778
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/21/2017
---
# <a name="how-to-define-a-generic-method-with-reflection-emit"></a><span data-ttu-id="137ec-102">Porady: definiowanie metody ogólnej przy użyciu emisji odbicia</span><span class="sxs-lookup"><span data-stu-id="137ec-102">How to: Define a Generic Method with Reflection Emit</span></span>
<span data-ttu-id="137ec-103">Pierwsza procedura pokazuje, jak utworzyć prostą metodę ogólnego z dwoma parametrami typu i sposób stosowania ograniczenia klasy, interfejsu, ograniczenia i ograniczeń specjalnych parametrów typu.</span><span class="sxs-lookup"><span data-stu-id="137ec-103">The first procedure shows how to create a simple generic method with two type parameters, and how to apply class constraints, interface constraints, and special constraints to the type parameters.</span></span>  
  
 <span data-ttu-id="137ec-104">Druga procedura pokazuje, jak Emituj treść metody i jak używać parametrów typu metody ogólnej do tworzenia wystąpień typów ogólnych i ich metod wywołania.</span><span class="sxs-lookup"><span data-stu-id="137ec-104">The second procedure shows how to emit the method body, and how to use the type parameters of the generic method to create instances of generic types and to call their methods.</span></span>  
  
 <span data-ttu-id="137ec-105">Trzeci procedury przedstawiono sposób wywołania metody ogólnej.</span><span class="sxs-lookup"><span data-stu-id="137ec-105">The third procedure shows how to invoke the generic method.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="137ec-106">Metoda nie jest rodzajowa tak, ponieważ należy do typu ogólnego i używa parametrów typu tego typu.</span><span class="sxs-lookup"><span data-stu-id="137ec-106">A method is not generic just because it belongs to a generic type and uses the type parameters of that type.</span></span> <span data-ttu-id="137ec-107">Metody jest rodzajowy, tylko wtedy, gdy ma własną listy parametrów typu.</span><span class="sxs-lookup"><span data-stu-id="137ec-107">A method is generic only if it has its own type parameter list.</span></span> <span data-ttu-id="137ec-108">Metoda ogólna może występować w nierodzajowe typu, jak w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="137ec-108">A generic method can appear on a nongeneric type, as in this example.</span></span> <span data-ttu-id="137ec-109">Na przykład nierodzajowe metody dla typu ogólnego. zobacz [porady: Definiowanie typu ogólnego z emisja odbicia](../../../docs/framework/reflection-and-codedom/how-to-define-a-generic-type-with-reflection-emit.md).</span><span class="sxs-lookup"><span data-stu-id="137ec-109">For an example of a nongeneric method on a generic type, see [How to: Define a Generic Type with Reflection Emit](../../../docs/framework/reflection-and-codedom/how-to-define-a-generic-type-with-reflection-emit.md).</span></span>  
  
### <a name="to-define-a-generic-method"></a><span data-ttu-id="137ec-110">Aby zdefiniować Metoda ogólna</span><span class="sxs-lookup"><span data-stu-id="137ec-110">To define a generic method</span></span>  
  
1.  <span data-ttu-id="137ec-111">Przed rozpoczęciem, warto przyjrzeć się wygląd Metoda ogólna napisane przy użyciu języka wysokiego poziomu.</span><span class="sxs-lookup"><span data-stu-id="137ec-111">Before beginning, it is useful to look at how the generic method appears when written using a high-level language.</span></span> <span data-ttu-id="137ec-112">Poniższy kod znajduje się w przykładowym kodzie w tym temacie wraz z wywołania metody ogólnej.</span><span class="sxs-lookup"><span data-stu-id="137ec-112">The following code is included in the example code for this topic, along with code to call the generic method.</span></span> <span data-ttu-id="137ec-113">Metoda ma dwa parametry typu `TInput` i `TOutput`, drugi z nich musi być typu odwołania (`class`), musi mieć konstruktora bez parametrów (`new`) i musi implementować `ICollection(Of TInput)` (`ICollection<TInput>` w języku C#).</span><span class="sxs-lookup"><span data-stu-id="137ec-113">The method has two type parameters, `TInput` and `TOutput`, the second of which must be a reference type (`class`), must have a parameterless constructor (`new`), and must implement `ICollection(Of TInput)` (`ICollection<TInput>` in C#).</span></span> <span data-ttu-id="137ec-114">To ograniczenie interfejsu upewnia się, że <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> metody można użyć do dodawania elementów do `TOutput` kolekcji, która tworzy metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-114">This interface constraint ensures that the <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> method can be used to add elements to the `TOutput` collection that the method creates.</span></span> <span data-ttu-id="137ec-115">Metoda ma jeden formalny parametr `input`, który jest tablicą `TInput`.</span><span class="sxs-lookup"><span data-stu-id="137ec-115">The method has one formal parameter, `input`, which is an array of `TInput`.</span></span> <span data-ttu-id="137ec-116">Ta metoda tworzy kolekcję typu `TOutput` i kopiuje elementy `input` do kolekcji.</span><span class="sxs-lookup"><span data-stu-id="137ec-116">The method creates a collection of type `TOutput` and copies the elements of `input` to the collection.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#20](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#20)]
     [!code-vb[GenericMethodHowTo#20](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#20)]  
  
2.  <span data-ttu-id="137ec-117">Zdefiniuj zestawie dynamicznym i należy module dynamicznym zawierać typu metody ogólnej.</span><span class="sxs-lookup"><span data-stu-id="137ec-117">Define a dynamic assembly and a dynamic module to contain the type the generic method belongs to.</span></span> <span data-ttu-id="137ec-118">W takim przypadku zestaw ma tylko jeden moduł o nazwie `DemoMethodBuilder1`, a nazwa modułu jest taka sama nazwa zestawu i rozszerzenia.</span><span class="sxs-lookup"><span data-stu-id="137ec-118">In this case, the assembly has only one module, named `DemoMethodBuilder1`, and the module name is the same as the assembly name plus an extension.</span></span> <span data-ttu-id="137ec-119">W tym przykładzie zestaw jest zapisywany na dysku i również wykonywane, to <xref:System.Reflection.Emit.AssemblyBuilderAccess.RunAndSave?displayProperty=nameWithType> jest określona.</span><span class="sxs-lookup"><span data-stu-id="137ec-119">In this example, the assembly is saved to disk and also executed, so <xref:System.Reflection.Emit.AssemblyBuilderAccess.RunAndSave?displayProperty=nameWithType> is specified.</span></span> <span data-ttu-id="137ec-120">Można użyć [Ildasm.exe (dezasembler IL)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md) zbadać DemoMethodBuilder1.dll i porównania go na język pośredni firmy Microsoft (MSIL) dla metody przedstawionym w kroku 1.</span><span class="sxs-lookup"><span data-stu-id="137ec-120">You can use the [Ildasm.exe (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md) to examine DemoMethodBuilder1.dll and to compare it to the Microsoft intermediate language (MSIL) for the method shown in step 1.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#2](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#2)]
     [!code-vb[GenericMethodHowTo#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#2)]  
  
3.  <span data-ttu-id="137ec-121">Zdefiniuj typ, którego Metoda ogólna należy.</span><span class="sxs-lookup"><span data-stu-id="137ec-121">Define the type the generic method belongs to.</span></span> <span data-ttu-id="137ec-122">Typ nie ma być rodzajowy.</span><span class="sxs-lookup"><span data-stu-id="137ec-122">The type does not have to be generic.</span></span> <span data-ttu-id="137ec-123">Metoda ogólna może należeć do typu ogólnego lub nierodzajowe.</span><span class="sxs-lookup"><span data-stu-id="137ec-123">A generic method can belong to either a generic or nongeneric type.</span></span> <span data-ttu-id="137ec-124">W tym przykładzie typ to klasa, nie jest rodzajowa i nosi nazwę `DemoType`.</span><span class="sxs-lookup"><span data-stu-id="137ec-124">In this example, the type is a class, is not generic, and is named `DemoType`.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#3](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#3)]
     [!code-vb[GenericMethodHowTo#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#3)]  
  
4.  <span data-ttu-id="137ec-125">Definiowanie metody ogólnej.</span><span class="sxs-lookup"><span data-stu-id="137ec-125">Define the generic method.</span></span> <span data-ttu-id="137ec-126">Jeśli typy parametrów formalnych Metoda ogólna są określane przez ogólnych parametrów typu metody ogólnej, użyj <xref:System.Reflection.Emit.TypeBuilder.DefineMethod%28System.String%2CSystem.Reflection.MethodAttributes%29> przeciążenie metody w celu zdefiniowania metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-126">If the types of a generic method's formal parameters are specified by generic type parameters of the generic method, use the <xref:System.Reflection.Emit.TypeBuilder.DefineMethod%28System.String%2CSystem.Reflection.MethodAttributes%29> method overload to define the method.</span></span> <span data-ttu-id="137ec-127">Parametry typu ogólnego metody nie zostały jeszcze zdefiniowane, więc nie można określić typy parametrów formalnych metody w wywołaniu <xref:System.Reflection.Emit.TypeBuilder.DefineMethod%2A>.</span><span class="sxs-lookup"><span data-stu-id="137ec-127">The generic type parameters of the method are not yet defined, so you cannot specify the types of the method's formal parameters in the call to <xref:System.Reflection.Emit.TypeBuilder.DefineMethod%2A>.</span></span> <span data-ttu-id="137ec-128">W tym przykładzie metodę o nazwie `Factory`.</span><span class="sxs-lookup"><span data-stu-id="137ec-128">In this example, the method is named `Factory`.</span></span> <span data-ttu-id="137ec-129">Metoda jest publiczna i `static` (`Shared` w języku Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="137ec-129">The method is public and `static` (`Shared` in Visual Basic).</span></span>  
  
     [!code-csharp[GenericMethodHowTo#4](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#4)]
     [!code-vb[GenericMethodHowTo#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#4)]  
  
5.  <span data-ttu-id="137ec-130">Zdefiniuj parametry typu ogólnego `DemoMethod` przez przekazanie tablica ciągów zawierająca nazwy parametrów w celu <xref:System.Reflection.Emit.MethodBuilder.DefineGenericParameters%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-130">Define the generic type parameters of `DemoMethod` by passing an array of strings containing the names of the parameters to the <xref:System.Reflection.Emit.MethodBuilder.DefineGenericParameters%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="137ec-131">Dzięki temu ta metoda metody rodzajowej.</span><span class="sxs-lookup"><span data-stu-id="137ec-131">This makes the method a generic method.</span></span> <span data-ttu-id="137ec-132">Poniższy kod sprawia, że `Factory` Metoda ogólna z parametrami typu `TInput` i `TOutput`.</span><span class="sxs-lookup"><span data-stu-id="137ec-132">The following code makes `Factory` a generic method with type parameters `TInput` and `TOutput`.</span></span> <span data-ttu-id="137ec-133">Aby czytelność kodu, zmiennych o tych nazwach, są tworzone do przechowywania <xref:System.Reflection.Emit.GenericTypeParameterBuilder> obiekty reprezentujące dwa typy parametrów.</span><span class="sxs-lookup"><span data-stu-id="137ec-133">To make the code easier to read, variables with these names are created to hold the <xref:System.Reflection.Emit.GenericTypeParameterBuilder> objects representing the two type parameters.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#5](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#5)]
     [!code-vb[GenericMethodHowTo#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#5)]  
  
6.  <span data-ttu-id="137ec-134">Opcjonalnie można dodać ograniczeń specjalnych do parametrów typu.</span><span class="sxs-lookup"><span data-stu-id="137ec-134">Optionally add special constraints to the type parameters.</span></span> <span data-ttu-id="137ec-135">Ograniczeń specjalnych są dodawane przy użyciu <xref:System.Reflection.Emit.GenericTypeParameterBuilder.SetGenericParameterAttributes%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-135">Special constraints are added using the <xref:System.Reflection.Emit.GenericTypeParameterBuilder.SetGenericParameterAttributes%2A> method.</span></span> <span data-ttu-id="137ec-136">W tym przykładzie `TOutput` jest ograniczona, typu odwołania i ma konstruktora bez parametrów.</span><span class="sxs-lookup"><span data-stu-id="137ec-136">In this example, `TOutput` is constrained to be a reference type and to have a parameterless constructor.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#6](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#6)]
     [!code-vb[GenericMethodHowTo#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#6)]  
  
7.  <span data-ttu-id="137ec-137">Opcjonalnie można dodać ograniczenia klasy i interfejs do parametrów typu.</span><span class="sxs-lookup"><span data-stu-id="137ec-137">Optionally add class and interface constraints to the type parameters.</span></span> <span data-ttu-id="137ec-138">W tym przykładzie parametr typu `TOutput` jest ograniczona do typów, które implementują `ICollection(Of TInput)` (`ICollection<TInput>` w języku C#) interfejsu.</span><span class="sxs-lookup"><span data-stu-id="137ec-138">In this example, type parameter `TOutput` is constrained to types that implement the `ICollection(Of TInput)` (`ICollection<TInput>` in C#) interface.</span></span> <span data-ttu-id="137ec-139">Gwarantuje to, że <xref:System.Collections.Generic.ICollection%601.Add%2A> metody można użyć do dodawania elementów.</span><span class="sxs-lookup"><span data-stu-id="137ec-139">This ensures that the <xref:System.Collections.Generic.ICollection%601.Add%2A> method can be used to add elements.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#7](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#7)]
     [!code-vb[GenericMethodHowTo#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#7)]  
  
8.  <span data-ttu-id="137ec-140">Zdefiniowanie parametrów formalnych metody, przy użyciu <xref:System.Reflection.Emit.MethodBuilder.SetParameters%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-140">Define the formal parameters of the method, using the <xref:System.Reflection.Emit.MethodBuilder.SetParameters%2A> method.</span></span> <span data-ttu-id="137ec-141">W tym przykładzie `Factory` metoda ma jeden parametr, tablicę `TInput`.</span><span class="sxs-lookup"><span data-stu-id="137ec-141">In this example, the `Factory` method has one parameter, an array of `TInput`.</span></span> <span data-ttu-id="137ec-142">Ten typ jest tworzony przez wywołanie metody <xref:System.Type.MakeArrayType%2A> metoda <xref:System.Reflection.Emit.GenericTypeParameterBuilder> reprezentujący `TInput`.</span><span class="sxs-lookup"><span data-stu-id="137ec-142">This type is created by calling the <xref:System.Type.MakeArrayType%2A> method on the <xref:System.Reflection.Emit.GenericTypeParameterBuilder> that represents `TInput`.</span></span> <span data-ttu-id="137ec-143">Argument <xref:System.Reflection.Emit.MethodBuilder.SetParameters%2A> jest tablicą <xref:System.Type> obiektów.</span><span class="sxs-lookup"><span data-stu-id="137ec-143">The argument of <xref:System.Reflection.Emit.MethodBuilder.SetParameters%2A> is an array of <xref:System.Type> objects.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#8](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#8)]
     [!code-vb[GenericMethodHowTo#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#8)]  
  
9. <span data-ttu-id="137ec-144">Zdefiniuj typ zwracany przez metodę, przy użyciu <xref:System.Reflection.Emit.MethodBuilder.SetReturnType%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-144">Define the return type for the method, using the <xref:System.Reflection.Emit.MethodBuilder.SetReturnType%2A> method.</span></span> <span data-ttu-id="137ec-145">W tym przykładzie wystąpienia `TOutput` jest zwracany.</span><span class="sxs-lookup"><span data-stu-id="137ec-145">In this example, an instance of `TOutput` is returned.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#9](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#9)]
     [!code-vb[GenericMethodHowTo#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#9)]  
  
10. <span data-ttu-id="137ec-146">Emituj metody treści, przy użyciu <xref:System.Reflection.Emit.ILGenerator>.</span><span class="sxs-lookup"><span data-stu-id="137ec-146">Emit the method body, using <xref:System.Reflection.Emit.ILGenerator>.</span></span> <span data-ttu-id="137ec-147">Aby uzyskać więcej informacji zobacz procedurę towarzyszący do emitowania treści metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-147">For details, see the accompanying procedure for emitting the method body.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="137ec-148">Emituj wywołania metod typów ogólnych i argumentów typu tych typów są parametry typu metody ogólnej, należy używać `static` <xref:System.Reflection.Emit.TypeBuilder.GetConstructor%28System.Type%2CSystem.Reflection.ConstructorInfo%29>, <xref:System.Reflection.Emit.TypeBuilder.GetMethod%28System.Type%2CSystem.Reflection.MethodInfo%29>, i <xref:System.Reflection.Emit.TypeBuilder.GetField%28System.Type%2CSystem.Reflection.FieldInfo%29> metoda przeciąża z <xref:System.Reflection.Emit.TypeBuilder> klasa do Uzyskaj skonstruowane formularze metod.</span><span class="sxs-lookup"><span data-stu-id="137ec-148">When you emit calls to methods of generic types, and the type arguments of those types are type parameters of the generic method, you must use the `static`<xref:System.Reflection.Emit.TypeBuilder.GetConstructor%28System.Type%2CSystem.Reflection.ConstructorInfo%29>, <xref:System.Reflection.Emit.TypeBuilder.GetMethod%28System.Type%2CSystem.Reflection.MethodInfo%29>, and <xref:System.Reflection.Emit.TypeBuilder.GetField%28System.Type%2CSystem.Reflection.FieldInfo%29> method overloads of the <xref:System.Reflection.Emit.TypeBuilder> class to obtain constructed forms of the methods.</span></span> <span data-ttu-id="137ec-149">Procedury towarzyszące emitowanie treści metody pokazano to.</span><span class="sxs-lookup"><span data-stu-id="137ec-149">The accompanying procedure for emitting the method body demonstrates this.</span></span>  
  
11. <span data-ttu-id="137ec-150">Ukończ typ zawierający metody i Zapisz zestaw.</span><span class="sxs-lookup"><span data-stu-id="137ec-150">Complete the type that contains the method and save the assembly.</span></span> <span data-ttu-id="137ec-151">Wywoływanie metody ogólnej procedury towarzyszące przedstawia dwa sposoby wywołania metody ukończone.</span><span class="sxs-lookup"><span data-stu-id="137ec-151">The accompanying procedure for invoking the generic method shows two ways to invoke the completed method.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#14](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#14)]
     [!code-vb[GenericMethodHowTo#14](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#14)]  
  
<a name="procedureSection1"></a>   
### <a name="to-emit-the-method-body"></a><span data-ttu-id="137ec-152">Aby emitować treści metody</span><span class="sxs-lookup"><span data-stu-id="137ec-152">To emit the method body</span></span>  
  
1.  <span data-ttu-id="137ec-153">Pobierz generator kodu i deklarować zmiennych lokalnych i etykiet.</span><span class="sxs-lookup"><span data-stu-id="137ec-153">Get a code generator and declare local variables and labels.</span></span> <span data-ttu-id="137ec-154"><xref:System.Reflection.Emit.ILGenerator.DeclareLocal%2A> Metoda służy do deklarowania zmiennych lokalnych.</span><span class="sxs-lookup"><span data-stu-id="137ec-154">The <xref:System.Reflection.Emit.ILGenerator.DeclareLocal%2A> method is used to declare local variables.</span></span> <span data-ttu-id="137ec-155">`Factory` Metoda ma cztery zmiennych lokalnych: `retVal` aby pomieścić nowy `TOutput` który jest zwracany przez metodę `ic` do przechowywania `TOutput` po jest rzutowane na `ICollection(Of TInput)` (`ICollection<TInput>` w języku C#), `input` do Przytrzymaj tablicy wejściowej z `TInput` obiektów, a `index` do iterowania po tablicy.</span><span class="sxs-lookup"><span data-stu-id="137ec-155">The `Factory` method has four local variables: `retVal` to hold the new `TOutput` that is returned by the method, `ic` to hold the `TOutput` when it is cast to `ICollection(Of TInput)` (`ICollection<TInput>` in C#), `input` to hold the input array of `TInput` objects, and `index` to iterate through the array.</span></span> <span data-ttu-id="137ec-156">Metoda ma również dwie etykiety, jedna, aby wprowadzić pętli (`enterLoop`) i jeden dla górnej pętli (`loopAgain`), zdefiniowany za pomocą <xref:System.Reflection.Emit.ILGenerator.DefineLabel%2A> — metoda.</span><span class="sxs-lookup"><span data-stu-id="137ec-156">The method also has two labels, one to enter the loop (`enterLoop`) and one for the top of the loop (`loopAgain`), defined using the <xref:System.Reflection.Emit.ILGenerator.DefineLabel%2A> method.</span></span>  
  
     <span data-ttu-id="137ec-157">Pierwszą czynnością jest metoda jest pobranie jej argument <xref:System.Reflection.Emit.OpCodes.Ldarg_0> opcode i zapisz go w zmiennej lokalnej `input` przy użyciu <xref:System.Reflection.Emit.OpCodes.Stloc_S> opcode.</span><span class="sxs-lookup"><span data-stu-id="137ec-157">The first thing the method does is to load its argument using <xref:System.Reflection.Emit.OpCodes.Ldarg_0> opcode and to store it in the local variable `input` using <xref:System.Reflection.Emit.OpCodes.Stloc_S> opcode.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#10](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#10)]
     [!code-vb[GenericMethodHowTo#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#10)]  
  
2.  <span data-ttu-id="137ec-158">Emituj kod w celu utworzenia wystąpienia `TOutput`, za pomocą przeciążenia metody ogólnej <xref:System.Activator.CreateInstance%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-158">Emit code to create an instance of `TOutput`, using the generic method overload of the <xref:System.Activator.CreateInstance%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="137ec-159">Za pomocą tego przeciążenia wymaga określony typ ma konstruktora bez parametrów, czyli Przyczyna dodanie tego ograniczenia do `TOutput`.</span><span class="sxs-lookup"><span data-stu-id="137ec-159">Using this overload requires the specified type to have a parameterless constructor, which is the reason for adding that constraint to `TOutput`.</span></span> <span data-ttu-id="137ec-160">Utwórz skonstruowane Metoda ogólna przez przekazanie `TOutput` do <xref:System.Reflection.MethodInfo.MakeGenericMethod%2A>.</span><span class="sxs-lookup"><span data-stu-id="137ec-160">Create the constructed generic method by passing `TOutput` to <xref:System.Reflection.MethodInfo.MakeGenericMethod%2A>.</span></span> <span data-ttu-id="137ec-161">Po emitowanie kodu, aby wywołać metodę, wyemitować kodu, zapisz go w zmiennej lokalnej `retVal` przy użyciu<xref:System.Reflection.Emit.OpCodes.Stloc_S></span><span class="sxs-lookup"><span data-stu-id="137ec-161">After emitting code to call the method, emit code to store it in the local variable `retVal` using <xref:System.Reflection.Emit.OpCodes.Stloc_S></span></span>  
  
     [!code-csharp[GenericMethodHowTo#11](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#11)]
     [!code-vb[GenericMethodHowTo#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#11)]  
  
3.  <span data-ttu-id="137ec-162">Emituj kod można rzutować nowe `TOutput` do obiektu `ICollection(Of TInput)` i zapisz go w zmiennej lokalnej `ic`.</span><span class="sxs-lookup"><span data-stu-id="137ec-162">Emit code to cast the new `TOutput` object to `ICollection(Of TInput)` and store it in the local variable `ic`.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#31](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#31)]
     [!code-vb[GenericMethodHowTo#31](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#31)]  
  
4.  <span data-ttu-id="137ec-163">Pobierz <xref:System.Reflection.MethodInfo> reprezentujący <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-163">Get a <xref:System.Reflection.MethodInfo> representing the <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="137ec-164">Metoda działa na `ICollection(Of TInput)` (`ICollection<TInput>` w języku C#), więc konieczne jest uzyskanie `Add` metody określonej w tym skonstruować typu.</span><span class="sxs-lookup"><span data-stu-id="137ec-164">The method is acting on an `ICollection(Of TInput)` (`ICollection<TInput>` in C#), so it is necessary to get the `Add` method specific to that constructed type.</span></span> <span data-ttu-id="137ec-165">Nie można użyć <xref:System.Type.GetMethod%2A> metodę, aby uzyskać dostęp do tej <xref:System.Reflection.MethodInfo> bezpośrednio z `icollOfTInput`, ponieważ <xref:System.Type.GetMethod%2A> nie jest obsługiwana dla typu, który został skonstruowany przy <xref:System.Reflection.Emit.GenericTypeParameterBuilder>.</span><span class="sxs-lookup"><span data-stu-id="137ec-165">You cannot use the <xref:System.Type.GetMethod%2A> method to get this <xref:System.Reflection.MethodInfo> directly from `icollOfTInput`, because <xref:System.Type.GetMethod%2A> is not supported on a type that has been constructed with a <xref:System.Reflection.Emit.GenericTypeParameterBuilder>.</span></span> <span data-ttu-id="137ec-166">Zamiast tego wywołać <xref:System.Type.GetMethod%2A> na `icoll`, który zawiera definicję typu ogólnego <xref:System.Collections.Generic.ICollection%601> interfejs generyczny.</span><span class="sxs-lookup"><span data-stu-id="137ec-166">Instead, call <xref:System.Type.GetMethod%2A> on `icoll`, which contains the generic type definition for the <xref:System.Collections.Generic.ICollection%601> generic interface.</span></span> <span data-ttu-id="137ec-167">Następnie użyj <xref:System.Reflection.Emit.TypeBuilder.GetMethod%28System.Type%2CSystem.Reflection.MethodInfo%29> `static` metodę, aby utworzyć <xref:System.Reflection.MethodInfo> skonstruowanego typu.</span><span class="sxs-lookup"><span data-stu-id="137ec-167">Then use the <xref:System.Reflection.Emit.TypeBuilder.GetMethod%28System.Type%2CSystem.Reflection.MethodInfo%29>`static` method to produce the <xref:System.Reflection.MethodInfo> for the constructed type.</span></span> <span data-ttu-id="137ec-168">Poniższy kod przedstawia to.</span><span class="sxs-lookup"><span data-stu-id="137ec-168">The following code demonstrates this.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#12](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#12)]
     [!code-vb[GenericMethodHowTo#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#12)]  
  
5.  <span data-ttu-id="137ec-169">Emituj kod do zainicjowania `index` zmiennej przez ładowanie 32-bitową liczbę całkowitą 0 i przechowywanie ich w zmiennej.</span><span class="sxs-lookup"><span data-stu-id="137ec-169">Emit code to initialize the `index` variable, by loading a 32-bit integer 0 and storing it in the variable.</span></span> <span data-ttu-id="137ec-170">Emituj kod do gałęzi do etykiety `enterLoop`.</span><span class="sxs-lookup"><span data-stu-id="137ec-170">Emit code to branch to the label `enterLoop`.</span></span> <span data-ttu-id="137ec-171">Etykieta nie jeszcze została oznaczona, ponieważ znajduje się wewnątrz pętli.</span><span class="sxs-lookup"><span data-stu-id="137ec-171">This label has not yet been marked, because it is inside the loop.</span></span> <span data-ttu-id="137ec-172">Kod dla pętli są emitowane w następnym kroku.</span><span class="sxs-lookup"><span data-stu-id="137ec-172">Code for the loop is emitted in the next step.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#32](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#32)]
     [!code-vb[GenericMethodHowTo#32](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#32)]  
  
6.  <span data-ttu-id="137ec-173">Emituj kodu dla pętli.</span><span class="sxs-lookup"><span data-stu-id="137ec-173">Emit code for the loop.</span></span> <span data-ttu-id="137ec-174">Pierwszym krokiem jest oznaczenie górnej pętli, wywołując <xref:System.Reflection.Emit.ILGenerator.MarkLabel%2A> z `loopAgain` etykiety.</span><span class="sxs-lookup"><span data-stu-id="137ec-174">The first step is to mark the top of the loop, by calling <xref:System.Reflection.Emit.ILGenerator.MarkLabel%2A> with the `loopAgain` label.</span></span> <span data-ttu-id="137ec-175">Branch — instrukcje używających etykieta zostanie teraz gałęzi w tym punkcie w kodzie.</span><span class="sxs-lookup"><span data-stu-id="137ec-175">Branch statements that use the label will now branch to this point in the code.</span></span> <span data-ttu-id="137ec-176">Następnym krokiem jest push `TOutput` obiektu rzutować `ICollection(Of TInput)`, na stosie.</span><span class="sxs-lookup"><span data-stu-id="137ec-176">The next step is to push the `TOutput` object, cast to `ICollection(Of TInput)`, onto the stack.</span></span> <span data-ttu-id="137ec-177">Nie jest wymagane natychmiast, ale musi być w pozycji dla wywołania `Add` metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-177">It is not needed immediately, but needs to be in position for calling the `Add` method.</span></span> <span data-ttu-id="137ec-178">Dalej tablicy wejściowej spoczywa na stosie, a następnie `index` zmienną, która zawiera bieżący indeks w tablicy.</span><span class="sxs-lookup"><span data-stu-id="137ec-178">Next the input array is pushed onto the stack, then the `index` variable containing the current index into the array.</span></span> <span data-ttu-id="137ec-179"><xref:System.Reflection.Emit.OpCodes.Ldelem> Kod operacji POP indeks i Tablica ze stosu i umieszcza elementu tablicy indeksowanej na stosie.</span><span class="sxs-lookup"><span data-stu-id="137ec-179">The <xref:System.Reflection.Emit.OpCodes.Ldelem> opcode pops the index and the array off the stack and pushes the indexed array element onto the stack.</span></span> <span data-ttu-id="137ec-180">Stos jest gotowy dla wywołania <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> metodę, która będzie wyświetlana, kolekcji i nowego elementu ze stosu i dodaje element do kolekcji.</span><span class="sxs-lookup"><span data-stu-id="137ec-180">The stack is now ready for the call to the <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> method, which pops the collection and the new element off the stack and adds the element to the collection.</span></span>  
  
     <span data-ttu-id="137ec-181">Zwiększa pozostałej części kodu w pętli indeks i testy, aby zobaczyć, czy Zakończenie pętli: indeks 32-bitową liczbę całkowitą 1 wypychana na stosie i dodany, pozostawiając Suma na stosie; Suma są przechowywane w `index`.</span><span class="sxs-lookup"><span data-stu-id="137ec-181">The rest of the code in the loop increments the index and tests to see whether the loop is finished: The index and a 32-bit integer 1 are pushed onto the stack and added, leaving the sum on the stack; the sum is stored in `index`.</span></span> <span data-ttu-id="137ec-182"><xref:System.Reflection.Emit.ILGenerator.MarkLabel%2A>wywoływana jest ustawiony jako punkt wejścia dla pętli tego punktu.</span><span class="sxs-lookup"><span data-stu-id="137ec-182"><xref:System.Reflection.Emit.ILGenerator.MarkLabel%2A> is called to set this point as the entry point for the loop.</span></span> <span data-ttu-id="137ec-183">Indeks został załadowany ponownie.</span><span class="sxs-lookup"><span data-stu-id="137ec-183">The index is loaded again.</span></span> <span data-ttu-id="137ec-184">Tablica wejściowa spoczywa na stosie, i <xref:System.Reflection.Emit.OpCodes.Ldlen> jest emitowany uzyskać jego długość.</span><span class="sxs-lookup"><span data-stu-id="137ec-184">The input array is pushed on the stack, and <xref:System.Reflection.Emit.OpCodes.Ldlen> is emitted to get its length.</span></span> <span data-ttu-id="137ec-185">Indeks i długość są teraz na stosie, i <xref:System.Reflection.Emit.OpCodes.Clt> jest emitowany do porównania.</span><span class="sxs-lookup"><span data-stu-id="137ec-185">The index and the length are now on the stack, and <xref:System.Reflection.Emit.OpCodes.Clt> is emitted to compare them.</span></span> <span data-ttu-id="137ec-186">Jeśli indeks jest mniejszy niż długość, <xref:System.Reflection.Emit.OpCodes.Brtrue_S> oddziałów z powrotem do początku pętli.</span><span class="sxs-lookup"><span data-stu-id="137ec-186">If the index is less than the length, <xref:System.Reflection.Emit.OpCodes.Brtrue_S> branches back to the beginning of the loop.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#13](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#13)]
     [!code-vb[GenericMethodHowTo#13](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#13)]  
  
7.  <span data-ttu-id="137ec-187">Emituj kod, aby wypychać `TOutput` obiektu na stosie i zwracany przez metodę.</span><span class="sxs-lookup"><span data-stu-id="137ec-187">Emit code to push the `TOutput` object onto the stack and return from the method.</span></span> <span data-ttu-id="137ec-188">Zmienne lokalne `retVal` i `ic` zawierają odwołania do nowego `TOutput`; `ic` służy tylko do dostępu <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-188">The local variables `retVal` and `ic` both contain references to the new `TOutput`; `ic` is used only to access the <xref:System.Collections.Generic.ICollection%601.Add%2A?displayProperty=nameWithType> method.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#33](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#33)]
     [!code-vb[GenericMethodHowTo#33](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#33)]  
  
<a name="procedureSection2"></a>   
### <a name="to-invoke-the-generic-method"></a><span data-ttu-id="137ec-189">Można wywołać metody ogólne</span><span class="sxs-lookup"><span data-stu-id="137ec-189">To invoke the generic method</span></span>  
  
1.  <span data-ttu-id="137ec-190">`Factory`jest ogólną definicją metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-190">`Factory` is a generic method definition.</span></span> <span data-ttu-id="137ec-191">Aby można było wywołać go, należy przypisać typów jego parametrów typu ogólnego.</span><span class="sxs-lookup"><span data-stu-id="137ec-191">In order to invoke it, you must assign types to its generic type parameters.</span></span> <span data-ttu-id="137ec-192">Użyj <xref:System.Reflection.MethodInfo.MakeGenericMethod%2A> metody w tym celu.</span><span class="sxs-lookup"><span data-stu-id="137ec-192">Use the <xref:System.Reflection.MethodInfo.MakeGenericMethod%2A> method to do this.</span></span> <span data-ttu-id="137ec-193">Poniższy kod tworzy skonstruowane metody ogólnej, określając <xref:System.String> dla `TInput` i `List(Of String)` (`List<string>` w języku C#) dla `TOutput`i wyświetla reprezentację ciągu metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-193">The following code creates a constructed generic method, specifying <xref:System.String> for `TInput` and `List(Of String)` (`List<string>` in C#) for `TOutput`, and displays a string representation of the method.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#21](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#21)]
     [!code-vb[GenericMethodHowTo#21](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#21)]  
  
2.  <span data-ttu-id="137ec-194">Aby wywołać metodę późnym wiązaniem, użyj <xref:System.Reflection.MethodBase.Invoke%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-194">To invoke the method late-bound, use the <xref:System.Reflection.MethodBase.Invoke%2A> method.</span></span> <span data-ttu-id="137ec-195">Poniższy kod tworzy tablicę <xref:System.Object>, zawierające jako jej jedynym elementem tablicy ciągów i przekazuje ją jako listy argumentów dla metody ogólnej.</span><span class="sxs-lookup"><span data-stu-id="137ec-195">The following code creates an array of <xref:System.Object>, containing as its only element an array of strings, and passes it as the argument list for the generic method.</span></span> <span data-ttu-id="137ec-196">Pierwszy parametr <xref:System.Reflection.MethodBase.Invoke%2A> jest odwołanie o wartości null, ponieważ metoda jest `static`.</span><span class="sxs-lookup"><span data-stu-id="137ec-196">The first parameter of <xref:System.Reflection.MethodBase.Invoke%2A> is a null reference because the method is `static`.</span></span> <span data-ttu-id="137ec-197">Wartość zwracana jest rzutowane na `List(Of String)`, i nie jest wyświetlany pierwszego elementu.</span><span class="sxs-lookup"><span data-stu-id="137ec-197">The return value is cast to `List(Of String)`, and its first element is displayed.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#22](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#22)]
     [!code-vb[GenericMethodHowTo#22](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#22)]  
  
3.  <span data-ttu-id="137ec-198">Aby wywołać metodę delegata, musi mieć delegata, który pasuje do podpisu skonstruowane metoda rodzajowa.</span><span class="sxs-lookup"><span data-stu-id="137ec-198">To invoke the method using a delegate, you must have a delegate that matches the signature of the constructed generic method.</span></span> <span data-ttu-id="137ec-199">Prosty sposób, w tym celu jest utworzyć to delegat generyczny.</span><span class="sxs-lookup"><span data-stu-id="137ec-199">An easy way to do this is to create a generic delegate.</span></span> <span data-ttu-id="137ec-200">Poniższy kod tworzy wystąpienie Delegat ogólny `D` zdefiniowane w przykładowym kodzie za pomocą <xref:System.Delegate.CreateDelegate%28System.Type%2CSystem.Reflection.MethodInfo%29?displayProperty=nameWithType> przeciążenie metody i wywołuje delegata.</span><span class="sxs-lookup"><span data-stu-id="137ec-200">The following code creates an instance of the generic delegate `D` defined in the example code, using the <xref:System.Delegate.CreateDelegate%28System.Type%2CSystem.Reflection.MethodInfo%29?displayProperty=nameWithType> method overload, and invokes the delegate.</span></span> <span data-ttu-id="137ec-201">Obiekty delegowane lepiej niż wywołania z późnym wiązaniem.</span><span class="sxs-lookup"><span data-stu-id="137ec-201">Delegates perform better than late-bound calls.</span></span>  
  
     [!code-csharp[GenericMethodHowTo#23](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#23)]
     [!code-vb[GenericMethodHowTo#23](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#23)]  
  
4.  <span data-ttu-id="137ec-202">Metoda emitowany można skrót z programu, który odwołuje się do zestawu zapisane.</span><span class="sxs-lookup"><span data-stu-id="137ec-202">The emitted method can also be called from a program that refers to the saved assembly.</span></span>  
  
## <a name="example"></a><span data-ttu-id="137ec-203">Przykład</span><span class="sxs-lookup"><span data-stu-id="137ec-203">Example</span></span>  
 <span data-ttu-id="137ec-204">Poniższy przykład kodu tworzy typu nierodzajowe `DemoType`, metodą rodzajową `Factory`.</span><span class="sxs-lookup"><span data-stu-id="137ec-204">The following code example creates a nongeneric type, `DemoType`, with a generic method, `Factory`.</span></span> <span data-ttu-id="137ec-205">Ta metoda ma dwa parametry typu ogólnego, `TInput` Aby określić typ danych wejściowych i `TOutput` określenia typu danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="137ec-205">This method has two generic type parameters, `TInput` to specify an input type and `TOutput` to specify an output type.</span></span> <span data-ttu-id="137ec-206">`TOutput` Parametr typu jest ograniczona do zaimplementowania `ICollection<TInput>` (`ICollection(Of TInput)` w języku Visual Basic), typu odwołania i mieć konstruktora bez parametrów.</span><span class="sxs-lookup"><span data-stu-id="137ec-206">The `TOutput` type parameter is constrained to implement `ICollection<TInput>` (`ICollection(Of TInput)` in Visual Basic), to be a reference type, and to have a parameterless constructor.</span></span>  
  
 <span data-ttu-id="137ec-207">Metoda ma jeden formalny parametr, który jest tablicą o `TInput`.</span><span class="sxs-lookup"><span data-stu-id="137ec-207">The method has one formal parameter, which is an array of `TInput`.</span></span> <span data-ttu-id="137ec-208">Metoda zwraca wystąpienie klasy `TOutput` zawierający wszystkie elementy tablicy wejściowej.</span><span class="sxs-lookup"><span data-stu-id="137ec-208">The method returns an instance of `TOutput` that contains all the elements of the input array.</span></span> <span data-ttu-id="137ec-209">`TOutput`mogą być dowolnego typu kolekcja ogólna, który implementuje <xref:System.Collections.Generic.ICollection%601> interfejs generyczny.</span><span class="sxs-lookup"><span data-stu-id="137ec-209">`TOutput` can be any generic collection type that implements the <xref:System.Collections.Generic.ICollection%601> generic interface.</span></span>  
  
 <span data-ttu-id="137ec-210">Podczas wykonywania kodu zostanie zapisany jako DemoGenericMethod1.dll zestawu dynamicznego, a przy [Ildasm.exe (dezasembler IL)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md).</span><span class="sxs-lookup"><span data-stu-id="137ec-210">When the code is executed, the dynamic assembly is saved as DemoGenericMethod1.dll, and can be examined using the [Ildasm.exe (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="137ec-211">Dobrym sposobem Dowiedz się, jak można wyemitować kodu jest Napisz program Visual Basic, C# lub Visual C++, który wykonuje zadanie, które próbujesz Emituj i użyj dezasembler Sprawdź MSIL generowane przez kompilator.</span><span class="sxs-lookup"><span data-stu-id="137ec-211">A good way to learn how to emit code is to write a Visual Basic, C#, or Visual C++ program that performs the task you are trying to emit, and use the disassembler to examine the MSIL produced by the compiler.</span></span>  
  
 <span data-ttu-id="137ec-212">Przykładowy kod zawiera kod źródłowy, który jest odpowiednikiem emitowany metody.</span><span class="sxs-lookup"><span data-stu-id="137ec-212">The code example includes source code that is equivalent to the emitted method.</span></span> <span data-ttu-id="137ec-213">Emitowany — metoda jest wywoływana z późnym wiązaniem i również przy użyciu Delegat ogólny zadeklarowany w przykładzie kodu.</span><span class="sxs-lookup"><span data-stu-id="137ec-213">The emitted method is invoked late-bound and also by using a generic delegate declared in the code example.</span></span>  
  
 [!code-csharp[GenericMethodHowTo#1](../../../samples/snippets/csharp/VS_Snippets_CLR/GenericMethodHowTo/CS/source.cs#1)]
 [!code-vb[GenericMethodHowTo#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/GenericMethodHowTo/VB/source.vb#1)]  
  
## <a name="compiling-the-code"></a><span data-ttu-id="137ec-214">Kompilowanie kodu</span><span class="sxs-lookup"><span data-stu-id="137ec-214">Compiling the Code</span></span>  
  
-   <span data-ttu-id="137ec-215">Zawiera kod C# `using` instrukcje (`Imports` w języku Visual Basic) niezbędne do kompilacji.</span><span class="sxs-lookup"><span data-stu-id="137ec-215">The code contains the C# `using` statements (`Imports` in Visual Basic) necessary for compilation.</span></span>  
  
-   <span data-ttu-id="137ec-216">Nie odwołania do zestawów dodatkowe są wymagane.</span><span class="sxs-lookup"><span data-stu-id="137ec-216">No additional assembly references are required.</span></span>  
  
-   <span data-ttu-id="137ec-217">Kompilowanie kodu w wierszu polecenia przy użyciu csc.exe, vbc.exe lub cl.exe.</span><span class="sxs-lookup"><span data-stu-id="137ec-217">Compile the code at the command line using csc.exe, vbc.exe, or cl.exe.</span></span> <span data-ttu-id="137ec-218">Aby skompilować kod w programie Visual Studio, należy umieścić w szablonie Projekt aplikacji konsoli.</span><span class="sxs-lookup"><span data-stu-id="137ec-218">To compile the code in Visual Studio, place it in a console application project template.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="137ec-219">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="137ec-219">See Also</span></span>  
 <xref:System.Reflection.Emit.MethodBuilder>  
 [<span data-ttu-id="137ec-220">Porady: Definiowanie typu ogólnego z odbiciem emisji</span><span class="sxs-lookup"><span data-stu-id="137ec-220">How to: Define a Generic Type with Reflection Emit</span></span>](../../../docs/framework/reflection-and-codedom/how-to-define-a-generic-type-with-reflection-emit.md)
