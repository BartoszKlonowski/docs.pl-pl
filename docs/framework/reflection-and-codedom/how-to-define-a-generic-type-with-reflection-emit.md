---
title: "Porady: definiowanie typu ogólnego przy użyciu emisji odbicia"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- generics [.NET Framework], reflection emit
- generics [.NET Framework], dynamic types
- reflection emit, generic types
ms.assetid: 07d5f01a-7b5b-40ea-9b15-f21561098fe4
caps.latest.revision: "14"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: d6096a54c6a530035bd32c24d427ba047f905476
ms.sourcegitcommit: c0dd436f6f8f44dc80dc43b07f6841a00b74b23f
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/19/2018
---
# <a name="how-to-define-a-generic-type-with-reflection-emit"></a><span data-ttu-id="3765b-102">Porady: definiowanie typu ogólnego przy użyciu emisji odbicia</span><span class="sxs-lookup"><span data-stu-id="3765b-102">How to: Define a Generic Type with Reflection Emit</span></span>
<span data-ttu-id="3765b-103">W tym temacie przedstawiono sposób tworzenia prostego typu ogólnego z dwoma parametrami typu, jak zastosować ograniczenia klasy, interfejsu, ograniczenia i ograniczeń specjalnych do parametrów typu i sposobu tworzenia elementów członkowskich, które używają parametrów typu klasy jako typy parametrów i zwracanych typów.</span><span class="sxs-lookup"><span data-stu-id="3765b-103">This topic shows how to create a simple generic type with two type parameters, how to apply class constraints, interface constraints, and special constraints to the type parameters, and how to create members that use the type parameters of the class as parameter types and return types.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="3765b-104">Metoda nie jest rodzajowa tak, ponieważ należy do typu ogólnego i używa parametrów typu tego typu.</span><span class="sxs-lookup"><span data-stu-id="3765b-104">A method is not generic just because it belongs to a generic type and uses the type parameters of that type.</span></span> <span data-ttu-id="3765b-105">Metody jest rodzajowy, tylko wtedy, gdy ma własną listy parametrów typu.</span><span class="sxs-lookup"><span data-stu-id="3765b-105">A method is generic only if it has its own type parameter list.</span></span> <span data-ttu-id="3765b-106">Większość metody na typach ogólnych nie są ogólny, jak w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="3765b-106">Most methods on generic types are not generic, as in this example.</span></span> <span data-ttu-id="3765b-107">Na przykład emitowania metody rodzajowej zobacz [porady: definiowanie metody ogólnej przy emisja odbicia](../../../docs/framework/reflection-and-codedom/how-to-define-a-generic-method-with-reflection-emit.md).</span><span class="sxs-lookup"><span data-stu-id="3765b-107">For an example of emitting a generic method, see [How to: Define a Generic Method with Reflection Emit](../../../docs/framework/reflection-and-codedom/how-to-define-a-generic-method-with-reflection-emit.md).</span></span>  
  
### <a name="to-define-a-generic-type"></a><span data-ttu-id="3765b-108">Aby zdefiniować typu ogólnego</span><span class="sxs-lookup"><span data-stu-id="3765b-108">To define a generic type</span></span>  
  
1.  <span data-ttu-id="3765b-109">Zdefiniuj zestawie dynamicznym o nazwie `GenericEmitExample1`.</span><span class="sxs-lookup"><span data-stu-id="3765b-109">Define a dynamic assembly named `GenericEmitExample1`.</span></span> <span data-ttu-id="3765b-110">W tym przykładzie zestaw jest wykonywane i zapisywane na dysku, dlatego <xref:System.Reflection.Emit.AssemblyBuilderAccess.RunAndSave?displayProperty=nameWithType> jest określona.</span><span class="sxs-lookup"><span data-stu-id="3765b-110">In this example, the assembly is executed and saved to disk, so <xref:System.Reflection.Emit.AssemblyBuilderAccess.RunAndSave?displayProperty=nameWithType> is specified.</span></span>  
  
     [!code-cpp[EmitGenericType#2](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#2)]
     [!code-csharp[EmitGenericType#2](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#2)]
     [!code-vb[EmitGenericType#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#2)]  
  
2.  <span data-ttu-id="3765b-111">Zdefiniuj module dynamicznym.</span><span class="sxs-lookup"><span data-stu-id="3765b-111">Define a dynamic module.</span></span> <span data-ttu-id="3765b-112">Zestaw składa się z modułów pliku wykonywalnego.</span><span class="sxs-lookup"><span data-stu-id="3765b-112">An assembly is made up of executable modules.</span></span> <span data-ttu-id="3765b-113">Dla zestawu jednego modułu Nazwa modułu jest taka sama jak nazwa zestawu i nazwa pliku jest nazwa modułu oraz rozszerzenia.</span><span class="sxs-lookup"><span data-stu-id="3765b-113">For a single-module assembly, the module name is the same as the assembly name, and the file name is the module name plus an extension.</span></span>  
  
     [!code-cpp[EmitGenericType#3](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#3)]
     [!code-csharp[EmitGenericType#3](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#3)]
     [!code-vb[EmitGenericType#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#3)]  
  
3.  <span data-ttu-id="3765b-114">Zdefiniuj klasę.</span><span class="sxs-lookup"><span data-stu-id="3765b-114">Define a class.</span></span> <span data-ttu-id="3765b-115">W tym przykładzie klasa o nazwie `Sample`.</span><span class="sxs-lookup"><span data-stu-id="3765b-115">In this example, the class is named `Sample`.</span></span>  
  
     [!code-cpp[EmitGenericType#4](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#4)]
     [!code-csharp[EmitGenericType#4](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#4)]
     [!code-vb[EmitGenericType#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#4)]  
  
4.  <span data-ttu-id="3765b-116">Zdefiniuj parametry typu ogólnego `Sample` przez przekazanie tablica ciągów zawierająca nazwy parametrów w celu <xref:System.Reflection.Emit.TypeBuilder.DefineGenericParameters%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="3765b-116">Define the generic type parameters of `Sample` by passing an array of strings containing the names of the parameters to the <xref:System.Reflection.Emit.TypeBuilder.DefineGenericParameters%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="3765b-117">Dzięki temu klasy typu ogólnego.</span><span class="sxs-lookup"><span data-stu-id="3765b-117">This makes the class a generic type.</span></span> <span data-ttu-id="3765b-118">Wartość zwracana jest tablicą <xref:System.Reflection.Emit.GenericTypeParameterBuilder> obiekty reprezentujące parametrów typu, które mogą być używane w kodzie emitowany.</span><span class="sxs-lookup"><span data-stu-id="3765b-118">The return value is an array of <xref:System.Reflection.Emit.GenericTypeParameterBuilder> objects representing the type parameters, which can be used in your emitted code.</span></span>  
  
     <span data-ttu-id="3765b-119">W poniższym kodzie `Sample` staje się typem ogólnym z parametrami typu `TFirst` i `TSecond`.</span><span class="sxs-lookup"><span data-stu-id="3765b-119">In the following code, `Sample` becomes a generic type with type parameters `TFirst` and `TSecond`.</span></span> <span data-ttu-id="3765b-120">Aby czytelność kodu, każdy <xref:System.Reflection.Emit.GenericTypeParameterBuilder> znajduje się w zmiennej z taką samą nazwę jak parametr typu.</span><span class="sxs-lookup"><span data-stu-id="3765b-120">To make the code easier to read, each <xref:System.Reflection.Emit.GenericTypeParameterBuilder> is placed in a variable with the same name as the type parameter.</span></span>  
  
     [!code-cpp[EmitGenericType#5](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#5)]
     [!code-csharp[EmitGenericType#5](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#5)]
     [!code-vb[EmitGenericType#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#5)]  
  
5.  <span data-ttu-id="3765b-121">Dodaj ograniczeń specjalnych parametrów typu.</span><span class="sxs-lookup"><span data-stu-id="3765b-121">Add special constraints to the type parameters.</span></span> <span data-ttu-id="3765b-122">W tym przykładzie parametr typu `TFirst` jest ograniczone do typów, które mają konstruktorów bez parametrów i typy referencyjne.</span><span class="sxs-lookup"><span data-stu-id="3765b-122">In this example, type parameter `TFirst` is constrained to types that have parameterless constructors, and to reference types.</span></span>  
  
     [!code-cpp[EmitGenericType#6](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#6)]
     [!code-csharp[EmitGenericType#6](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#6)]
     [!code-vb[EmitGenericType#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#6)]  
  
6.  <span data-ttu-id="3765b-123">Opcjonalnie można dodać ograniczenia klasy i interfejs do parametrów typu.</span><span class="sxs-lookup"><span data-stu-id="3765b-123">Optionally add class and interface constraints to the type parameters.</span></span> <span data-ttu-id="3765b-124">W tym przykładzie parametr typu `TFirst` jest ograniczona do typów wyprowadzonych z klasy podstawowej reprezentowany przez <xref:System.Type> obiektów zawartych w zmiennej `baseType`, i implementują interfejsy, których typy są zawarte w zmiennych `interfaceA` i `interfaceB`.</span><span class="sxs-lookup"><span data-stu-id="3765b-124">In this example, type parameter `TFirst` is constrained to types that derive from the base class represented by the <xref:System.Type> object contained in the variable `baseType`, and that implement the interfaces whose types are contained in the variables `interfaceA` and `interfaceB`.</span></span> <span data-ttu-id="3765b-125">Zobacz przykład kodu dla deklaracji i przypisanie tych zmiennych.</span><span class="sxs-lookup"><span data-stu-id="3765b-125">See the code example for the declaration and assignment of these variables.</span></span>  
  
     [!code-cpp[EmitGenericType#7](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#7)]
     [!code-csharp[EmitGenericType#7](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#7)]
     [!code-vb[EmitGenericType#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#7)]  
  
7.  <span data-ttu-id="3765b-126">Zdefiniuj pola.</span><span class="sxs-lookup"><span data-stu-id="3765b-126">Define a field.</span></span> <span data-ttu-id="3765b-127">W tym przykładzie typ pola jest określony przez parametr typu `TFirst`.</span><span class="sxs-lookup"><span data-stu-id="3765b-127">In this example, the type of the field is specified by type parameter `TFirst`.</span></span> <span data-ttu-id="3765b-128"><xref:System.Reflection.Emit.GenericTypeParameterBuilder>pochodną <xref:System.Type>, dzięki czemu można używać parametrów typu ogólnego, można użyć typu dowolnego miejsca.</span><span class="sxs-lookup"><span data-stu-id="3765b-128"><xref:System.Reflection.Emit.GenericTypeParameterBuilder> derives from <xref:System.Type>, so you can use generic type parameters anywhere a type can be used.</span></span>  
  
     [!code-cpp[EmitGenericType#21](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#21)]
     [!code-csharp[EmitGenericType#21](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#21)]
     [!code-vb[EmitGenericType#21](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#21)]  
  
8.  <span data-ttu-id="3765b-129">Zdefiniuj metody, która używa parametrów typu ogólnego typu.</span><span class="sxs-lookup"><span data-stu-id="3765b-129">Define a method that uses the type parameters of the generic type.</span></span> <span data-ttu-id="3765b-130">Należy pamiętać, że takie metody nie są ogólny, chyba że mają własne listy parametrów typu.</span><span class="sxs-lookup"><span data-stu-id="3765b-130">Note that such methods are not generic unless they have their own type parameter lists.</span></span> <span data-ttu-id="3765b-131">Poniższy kod definiuje `static` — metoda (`Shared` w języku Visual Basic) pobierającej tablicę `TFirst` i zwraca `List<TFirst>` (`List(Of TFirst)` w języku Visual Basic) zawierający wszystkie elementy tablicy.</span><span class="sxs-lookup"><span data-stu-id="3765b-131">The following code defines a `static` method (`Shared` in Visual Basic) that takes an array of `TFirst` and returns a `List<TFirst>` (`List(Of TFirst)` in Visual Basic) containing all the elements of the array.</span></span> <span data-ttu-id="3765b-132">Aby zdefiniować tej metody, należy utworzyć typ `List<TFirst>` przez wywołanie metody <xref:System.Type.MakeGenericType%2A> w definicji typu ogólnego `List<T>`.</span><span class="sxs-lookup"><span data-stu-id="3765b-132">To define this method, it is necessary to create the type `List<TFirst>` by calling <xref:System.Type.MakeGenericType%2A> on the generic type definition, `List<T>`.</span></span> <span data-ttu-id="3765b-133">( `T` Zostanie pominięty, gdy używasz `typeof` — operator (`GetType` w języku Visual Basic) można pobrać definicji typu ogólnego.) Typ parametru jest tworzona przy użyciu <xref:System.Type.MakeArrayType%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="3765b-133">(The `T` is omitted when you use the `typeof` operator (`GetType` in Visual Basic) to get the generic type definition.) The parameter type is created by using the <xref:System.Type.MakeArrayType%2A> method.</span></span>  
  
     [!code-cpp[EmitGenericType#22](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#22)]
     [!code-csharp[EmitGenericType#22](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#22)]
     [!code-vb[EmitGenericType#22](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#22)]  
  
9. <span data-ttu-id="3765b-134">Emituj treści metody.</span><span class="sxs-lookup"><span data-stu-id="3765b-134">Emit the method body.</span></span> <span data-ttu-id="3765b-135">Treści metody składa się z trzech kody operacji, które ładują tablicy wejściowej na stosie, należy wywołać `List<TFirst>` konstruktora przyjmującego `IEnumerable<TFirst>` (które wykonuje całą pracę umieszczania elementów wejściowych na liście) i zwróć (pozostawiając nowe <xref:System.Collections.Generic.List%601> obiektu na stosie).</span><span class="sxs-lookup"><span data-stu-id="3765b-135">The method body consists of three opcodes that load the input array onto the stack, call the `List<TFirst>` constructor that takes `IEnumerable<TFirst>` (which does all the work of putting the input elements into the list), and return (leaving the new <xref:System.Collections.Generic.List%601> object on the stack).</span></span> <span data-ttu-id="3765b-136">Trudne część emitowanie ten kod będzie niedługo konstruktora.</span><span class="sxs-lookup"><span data-stu-id="3765b-136">The difficult part of emitting this code is getting the constructor.</span></span>  
  
     <span data-ttu-id="3765b-137"><xref:System.Type.GetConstructor%2A> Metoda nie jest obsługiwana na <xref:System.Reflection.Emit.GenericTypeParameterBuilder>, więc nie można pobrać konstruktora `List<TFirst>` bezpośrednio.</span><span class="sxs-lookup"><span data-stu-id="3765b-137">The <xref:System.Type.GetConstructor%2A> method is not supported on a <xref:System.Reflection.Emit.GenericTypeParameterBuilder>, so it is not possible to get the constructor of `List<TFirst>` directly.</span></span> <span data-ttu-id="3765b-138">Najpierw należy pobrać konstruktora definicji typu ogólnego `List<T>` , a następnie wywołaj metodę, który konwertuje go do odpowiedniego konstruktora `List<TFirst>`.</span><span class="sxs-lookup"><span data-stu-id="3765b-138">First, it is necessary to get the constructor of the generic type definition `List<T>` and then to call a method that converts it to the corresponding constructor of `List<TFirst>`.</span></span>  
  
     <span data-ttu-id="3765b-139">Konstruktor używany w tym przykładzie kodu pobiera `IEnumerable<T>`.</span><span class="sxs-lookup"><span data-stu-id="3765b-139">The constructor used for this code example takes an `IEnumerable<T>`.</span></span> <span data-ttu-id="3765b-140">Należy jednak pamiętać, że nie jest definicji typu ogólnego <xref:System.Collections.Generic.IEnumerable%601> interfejs ogólny; zamiast tego parametru typu `T` z `List<T>` musi zastąpić dla parametru typu `T` z `IEnumerable<T>`.</span><span class="sxs-lookup"><span data-stu-id="3765b-140">Note, however, that this is not the generic type definition of the <xref:System.Collections.Generic.IEnumerable%601> generic interface; instead, the type parameter `T` from `List<T>` must be substituted for the type parameter `T` of `IEnumerable<T>`.</span></span> <span data-ttu-id="3765b-141">(Prawdopodobnie mylące tylko, ponieważ oba typy ma parametry typu o nazwie `T`.</span><span class="sxs-lookup"><span data-stu-id="3765b-141">(This seems confusing only because both types have type parameters named `T`.</span></span> <span data-ttu-id="3765b-142">That is, dlaczego w tym przykładzie kodu używane nazwy `TFirst` i `TSecond`.) Aby uzyskać typu argumentu konstruktora, uruchom przy użyciu definicji typu ogólnego `IEnumerable<T>` i Wywołaj <xref:System.Type.MakeGenericType%2A> z pierwszy parametr typu ogólnego `List<T>`.</span><span class="sxs-lookup"><span data-stu-id="3765b-142">That is why this code example uses the names `TFirst` and `TSecond`.) To get the type of the constructor argument, start with the generic type definition `IEnumerable<T>` and call <xref:System.Type.MakeGenericType%2A> with the first generic type parameter of `List<T>`.</span></span> <span data-ttu-id="3765b-143">Lista argumentów konstruktora muszą być przekazywane jako tablica, z tylko jednym argumentem. w takim przypadku.</span><span class="sxs-lookup"><span data-stu-id="3765b-143">The constructor argument list must be passed as an array, with just one argument in this case.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="3765b-144">Definicji typu ogólnego jest wyrażony jako `IEnumerable<>` korzystając `typeof` operatora w języku C# lub `IEnumerable(Of )` korzystając `GetType` operatora w języku Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="3765b-144">The generic type definition is expressed as `IEnumerable<>` when you use the `typeof` operator in C#, or `IEnumerable(Of )` when you use the `GetType` operator in Visual Basic.</span></span>  
  
     <span data-ttu-id="3765b-145">Teraz można pobrać konstruktora `List<T>` przez wywołanie metody <xref:System.Type.GetConstructor%2A> w definicji typu ogólnego.</span><span class="sxs-lookup"><span data-stu-id="3765b-145">Now it is possible to get the constructor of `List<T>` by calling <xref:System.Type.GetConstructor%2A> on the generic type definition.</span></span> <span data-ttu-id="3765b-146">Aby przekonwertować tego konstruktora odpowiedniego konstruktora `List<TFirst>`, Przekaż `List<TFirst>` i konstruktora z `List<T>` do statycznego <xref:System.Reflection.Emit.TypeBuilder.GetConstructor%28System.Type%2CSystem.Reflection.ConstructorInfo%29?displayProperty=nameWithType> — metoda.</span><span class="sxs-lookup"><span data-stu-id="3765b-146">To convert this constructor to the corresponding constructor of `List<TFirst>`, pass `List<TFirst>` and the constructor from `List<T>` to the static <xref:System.Reflection.Emit.TypeBuilder.GetConstructor%28System.Type%2CSystem.Reflection.ConstructorInfo%29?displayProperty=nameWithType> method.</span></span>  
  
     [!code-cpp[EmitGenericType#23](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#23)]
     [!code-csharp[EmitGenericType#23](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#23)]
     [!code-vb[EmitGenericType#23](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#23)]  
  
10. <span data-ttu-id="3765b-147">Utwórz typ i Zapisz plik.</span><span class="sxs-lookup"><span data-stu-id="3765b-147">Create the type and save the file.</span></span>  
  
     [!code-cpp[EmitGenericType#8](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#8)]
     [!code-csharp[EmitGenericType#8](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#8)]
     [!code-vb[EmitGenericType#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#8)]  
  
11. <span data-ttu-id="3765b-148">Wywołanie metody.</span><span class="sxs-lookup"><span data-stu-id="3765b-148">Invoke the method.</span></span> <span data-ttu-id="3765b-149">`ExampleMethod`nie jest rodzajowa, ale należy do typu jest ogólny, tak aby można było pobrać <xref:System.Reflection.MethodInfo> może być wywoływany jest niezbędne do utworzenia skonstruowanego typu z definicji typu dla `Sample`.</span><span class="sxs-lookup"><span data-stu-id="3765b-149">`ExampleMethod` is not generic, but the type it belongs to is generic, so in order to get a <xref:System.Reflection.MethodInfo> that can be invoked it is necessary to create a constructed type from the type definition for `Sample`.</span></span> <span data-ttu-id="3765b-150">Używa utworzony typ `Example` klasy, która spełnia ograniczenia na `TFirst` ponieważ jest typem referencyjnym i ma domyślny konstruktor bez parametrów i `ExampleDerived` klasy, która spełnia ograniczenia na `TSecond`.</span><span class="sxs-lookup"><span data-stu-id="3765b-150">The constructed type uses the `Example` class, which satisfies the constraints on `TFirst` because it is a reference type and has a default parameterless constructor, and the `ExampleDerived` class which satisfies the constraints on `TSecond`.</span></span> <span data-ttu-id="3765b-151">(Kod `ExampleDerived` można znaleźć w sekcji z przykładowym kodem.) Te dwa typy są przekazywane do <xref:System.Type.MakeGenericType%2A> do utworzenia skonstruowanego typu.</span><span class="sxs-lookup"><span data-stu-id="3765b-151">(The code for `ExampleDerived` can be found in the example code section.) These two types are passed to <xref:System.Type.MakeGenericType%2A> to create the constructed type.</span></span> <span data-ttu-id="3765b-152"><xref:System.Reflection.MethodInfo> Następnie są uzyskiwane przy użyciu <xref:System.Type.GetMethod%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="3765b-152">The <xref:System.Reflection.MethodInfo> is then obtained using the <xref:System.Type.GetMethod%2A> method.</span></span>  
  
     [!code-cpp[EmitGenericType#9](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#9)]
     [!code-csharp[EmitGenericType#9](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#9)]
     [!code-vb[EmitGenericType#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#9)]  
  
12. <span data-ttu-id="3765b-153">Poniższy kod tworzy tablicę `Example` obiektów, umieszcza tablicy w tablicy typu <xref:System.Object> reprezentujących argumenty metody do wywołania i przekazuje je do <xref:System.Reflection.MethodBase.Invoke%28System.Object%2CSystem.Object%5B%5D%29> metody.</span><span class="sxs-lookup"><span data-stu-id="3765b-153">The following code creates an array of `Example` objects, places that array in an array of type <xref:System.Object> representing the arguments of the method to be invoked, and passes them to the <xref:System.Reflection.MethodBase.Invoke%28System.Object%2CSystem.Object%5B%5D%29> method.</span></span> <span data-ttu-id="3765b-154">Pierwszy argument funkcji <xref:System.Reflection.MethodBase.Invoke%2A> metoda jest odwołanie o wartości null, ponieważ metoda jest `static`.</span><span class="sxs-lookup"><span data-stu-id="3765b-154">The first argument of the <xref:System.Reflection.MethodBase.Invoke%2A> method is a null reference because the method is `static`.</span></span>  
  
     [!code-cpp[EmitGenericType#10](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#10)]
     [!code-csharp[EmitGenericType#10](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#10)]
     [!code-vb[EmitGenericType#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#10)]  
  
## <a name="example"></a><span data-ttu-id="3765b-155">Przykład</span><span class="sxs-lookup"><span data-stu-id="3765b-155">Example</span></span>  
 <span data-ttu-id="3765b-156">Poniższy przykładowy kod definiuje klasę o nazwie `Sample`, wraz z klasy podstawowej i dwa interfejsy.</span><span class="sxs-lookup"><span data-stu-id="3765b-156">The following code example defines a class named `Sample`, along with a base class and two interfaces.</span></span> <span data-ttu-id="3765b-157">Program definiuje dwa parametry typu ogólnego `Sample`, włączając w typie podstawowym.</span><span class="sxs-lookup"><span data-stu-id="3765b-157">The program defines two generic type parameters for `Sample`, turning it into a generic type.</span></span> <span data-ttu-id="3765b-158">Parametrów typu są jedynym elementem, który sprawia, że typ jest rodzajowy.</span><span class="sxs-lookup"><span data-stu-id="3765b-158">Type parameters are the only thing that makes a type generic.</span></span> <span data-ttu-id="3765b-159">Powoduje wyświetlenie to poprzez wyświetlenie komunikatu testowego przed i po definicji parametrów typu.</span><span class="sxs-lookup"><span data-stu-id="3765b-159">The program shows this by displaying a test message before and after the definition of the type parameters.</span></span>  
  
 <span data-ttu-id="3765b-160">Parametr typu `TSecond` służy do zaprezentowania ograniczenia klasy i interfejs, za pomocą klasy podstawowej i interfejsów, a parametr typu `TFirst` służy do zaprezentowania ograniczeń specjalnych.</span><span class="sxs-lookup"><span data-stu-id="3765b-160">The type parameter `TSecond` is used to demonstrate class and interface constraints, using the base class and interfaces, and the type parameter `TFirst` is used to demonstrate special constraints.</span></span>  
  
 <span data-ttu-id="3765b-161">Przykładowy kod definiuje pole i przy użyciu parametrów typu klasy, dla typu pola i dla parametru metody i zwracany typ metody.</span><span class="sxs-lookup"><span data-stu-id="3765b-161">The code example defines a field and a method using the class's type parameters for the field type and for the parameter and return type of the method.</span></span>  
  
 <span data-ttu-id="3765b-162">Po `Sample` klasa została utworzona, jest wywoływana metoda.</span><span class="sxs-lookup"><span data-stu-id="3765b-162">After the `Sample` class has been created, the method is invoked.</span></span>  
  
 <span data-ttu-id="3765b-163">Program zawiera metodę, która zawiera informacje dotyczące typu ogólnego i metody, która zawiera listę ograniczeń specjalnych w parametrze typu.</span><span class="sxs-lookup"><span data-stu-id="3765b-163">The program includes a method that lists information about a generic type, and a method that lists the special constraints on a type parameter.</span></span> <span data-ttu-id="3765b-164">Te metody są używane do wyświetlania informacji na temat gotowe `Sample` klasy.</span><span class="sxs-lookup"><span data-stu-id="3765b-164">These methods are used to display information about the finished `Sample` class.</span></span>  
  
 <span data-ttu-id="3765b-165">Program zapisze Zakończono modułu na dysku jako `GenericEmitExample1.dll`, więc możesz otworzyć go z [Ildasm.exe (dezasembler IL)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md) i sprawdź, czy MSIL dla `Sample` klasy.</span><span class="sxs-lookup"><span data-stu-id="3765b-165">The program saves the finished module to disk as `GenericEmitExample1.dll`, so you can open it with the [Ildasm.exe (IL Disassembler)](../../../docs/framework/tools/ildasm-exe-il-disassembler.md) and examine the MSIL for the `Sample` class.</span></span>  
  
 [!code-cpp[EmitGenericType#1](../../../samples/snippets/cpp/VS_Snippets_CLR/EmitGenericType/CPP/source.cpp#1)]
 [!code-csharp[EmitGenericType#1](../../../samples/snippets/csharp/VS_Snippets_CLR/EmitGenericType/CS/source.cs#1)]
 [!code-vb[EmitGenericType#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/EmitGenericType/VB/source.vb#1)]  
  
## <a name="compiling-the-code"></a><span data-ttu-id="3765b-166">Kompilowanie kodu</span><span class="sxs-lookup"><span data-stu-id="3765b-166">Compiling the Code</span></span>  
  
-   <span data-ttu-id="3765b-167">Zawiera kod C# `using` instrukcje (`Imports` w języku Visual Basic) niezbędne do kompilacji.</span><span class="sxs-lookup"><span data-stu-id="3765b-167">The code contains the C# `using` statements (`Imports` in Visual Basic) necessary for compilation.</span></span>  
  
-   <span data-ttu-id="3765b-168">Nie odwołania do zestawów dodatkowe są wymagane.</span><span class="sxs-lookup"><span data-stu-id="3765b-168">No additional assembly references are required.</span></span>  
  
-   <span data-ttu-id="3765b-169">Kompilowanie kodu w wierszu polecenia przy użyciu csc.exe, vbc.exe lub cl.exe.</span><span class="sxs-lookup"><span data-stu-id="3765b-169">Compile the code at the command line using csc.exe, vbc.exe, or cl.exe.</span></span> <span data-ttu-id="3765b-170">Aby skompilować kod w programie Visual Studio, należy umieścić w szablonie Projekt aplikacji konsoli.</span><span class="sxs-lookup"><span data-stu-id="3765b-170">To compile the code in Visual Studio, place it in a console application project template.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3765b-171">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="3765b-171">See Also</span></span>  
 <xref:System.Reflection.Emit.GenericTypeParameterBuilder>  
 [<span data-ttu-id="3765b-172">Emituj za pomocą odbicia</span><span class="sxs-lookup"><span data-stu-id="3765b-172">Using Reflection Emit</span></span>](http://msdn.microsoft.com/library/ccc6540d-0e2c-4d89-b456-eb7353f9e9ac)  
 [<span data-ttu-id="3765b-173">Emisja odbicia scenariuszy w zestawie dynamicznym</span><span class="sxs-lookup"><span data-stu-id="3765b-173">Reflection Emit Dynamic Assembly Scenarios</span></span>](http://msdn.microsoft.com/library/e1cc6750-e20f-473b-bb4e-f43bc66aecce)
