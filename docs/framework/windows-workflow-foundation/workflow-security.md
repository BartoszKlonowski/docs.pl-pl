---
title: "Zabezpieczenia przepływu pracy"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: programming [WF], workflow security
ms.assetid: d712a566-f435-44c0-b8c0-49298e84b114
caps.latest.revision: "13"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 47d06950f8aa9b85420d873adcc4b1acb89a5219
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/02/2017
---
# <a name="workflow-security"></a><span data-ttu-id="a71c5-102">Zabezpieczenia przepływu pracy</span><span class="sxs-lookup"><span data-stu-id="a71c5-102">Workflow Security</span></span>
[!INCLUDE[wf](../../../includes/wf-md.md)]<span data-ttu-id="a71c5-103">jest zintegrowany z wielu różnych technologii, takich jak Microsoft SQL Server i [!INCLUDE[indigo1](../../../includes/indigo1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a71c5-103"> is integrated with several different technologies, such as Microsoft SQL Server and [!INCLUDE[indigo1](../../../includes/indigo1-md.md)].</span></span> <span data-ttu-id="a71c5-104">Interakcja z tych technologii może powodować problemy z zabezpieczeniami z przepływem pracy, jeśli wykonane nieprawidłowo.</span><span class="sxs-lookup"><span data-stu-id="a71c5-104">Interacting with these technologies may introduce security issues into your workflow if done improperly.</span></span>  
  
## <a name="persistence-security-concerns"></a><span data-ttu-id="a71c5-105">Problemy z zabezpieczeniami trwałości</span><span class="sxs-lookup"><span data-stu-id="a71c5-105">Persistence Security Concerns</span></span>  
  
1.  <span data-ttu-id="a71c5-106">Przepływy pracy używające <xref:System.Activities.Statements.Delay> działania i trwałości konieczności ponownej aktywacji przez usługę.</span><span class="sxs-lookup"><span data-stu-id="a71c5-106">Workflows that use a <xref:System.Activities.Statements.Delay> activity and persistence need to be reactivated by a service.</span></span> <span data-ttu-id="a71c5-107">Windows AppFabric używa usługi zarządzania przepływu pracy (WMS) z wygasłych czasomierze ponownego uaktywnienia przepływów pracy.</span><span class="sxs-lookup"><span data-stu-id="a71c5-107">Windows AppFabric uses the Workflow Management Service (WMS) to reactivate workflows with expired timers.</span></span> <span data-ttu-id="a71c5-108">Tworzy WMS <xref:System.ServiceModel.WorkflowServiceHost> do hostowania uaktywnionym ponownie przepływ pracy.</span><span class="sxs-lookup"><span data-stu-id="a71c5-108">WMS creates a <xref:System.ServiceModel.WorkflowServiceHost> to host the reactivated workflow.</span></span> <span data-ttu-id="a71c5-109">Po zatrzymaniu usługi WMS do obsługi utrwalonych przepływów pracy będzie nie będzie ponownie aktywować po upływie limitu czasu ich czasomierze.</span><span class="sxs-lookup"><span data-stu-id="a71c5-109">If the WMS service is stopped, persisted workflows will not be reactivated when their timers expire.</span></span>  
  
2.  <span data-ttu-id="a71c5-110">Dostęp do wystąpień trwałe powinny być chronione przed złośliwym podmiotom spoza domeny aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a71c5-110">Access to durable instancing should be protected against malicious entities external to the application domain.</span></span> <span data-ttu-id="a71c5-111">Ponadto deweloperzy powinien upewnij się, że złośliwy kod nie można wykonać w tej samej domenie aplikacji jako trwałe kod wystąpień.</span><span class="sxs-lookup"><span data-stu-id="a71c5-111">In addition, developers should ensure that malicious code can't be executed in the same application domain as the durable instancing code.</span></span>  
  
3.  <span data-ttu-id="a71c5-112">Tworzenie wystąpienia trwałe nie powinien być uruchamiany z podwyższonym poziomem uprawnień (Administrator).</span><span class="sxs-lookup"><span data-stu-id="a71c5-112">Durable instancing should not be run with elevated (Administrator) permissions.</span></span>  
  
4.  <span data-ttu-id="a71c5-113">Dane są przetwarzane spoza domeny aplikacji powinny być chronione.</span><span class="sxs-lookup"><span data-stu-id="a71c5-113">Data being processed outside the application domain should be protected.</span></span>  
  
5.  <span data-ttu-id="a71c5-114">Aplikacje wymagające zabezpieczeń izolacji nie powinny współużytkować to samo wystąpienie elementu abstrakcji schematu.</span><span class="sxs-lookup"><span data-stu-id="a71c5-114">Applications that require security isolation should not share the same instance of the schema abstraction.</span></span> <span data-ttu-id="a71c5-115">Takich aplikacji należy użyć magazynu różnych dostawców, lub przechowywać dostawców skonfigurowana do używania magazynu różnych wystąpień.</span><span class="sxs-lookup"><span data-stu-id="a71c5-115">Such applications should use different store providers, or store providers configured to use different store instantiations.</span></span>  
  
## <a name="sql-server-security-concerns"></a><span data-ttu-id="a71c5-116">Zagadnienia dotyczące zabezpieczeń programu SQL Server</span><span class="sxs-lookup"><span data-stu-id="a71c5-116">SQL Server Security Concerns</span></span>  
  
-   <span data-ttu-id="a71c5-117">Jeśli dużej liczby działań podrzędnych, lokalizacji, zakładki, rozszerzenia hosta lub zakresy są używane, lub zakładki z bardzo dużych ładunki są używane, pamięci można wyczerpane lub nadmiernej ilości miejsca w bazie danych, którą można przydzielić podczas utrwalania.</span><span class="sxs-lookup"><span data-stu-id="a71c5-117">When large numbers of child activities, locations, bookmarks, host extensions, or scopes are used, or when bookmarks with very large payloads are used, memory can be exhausted, or undue amounts of database space can be allocated during persistence.</span></span> <span data-ttu-id="a71c5-118">Można to zminimalizować przy użyciu zabezpieczeń na poziomie bazy danych i na poziomie obiektu.</span><span class="sxs-lookup"><span data-stu-id="a71c5-118">This can be mitigated by using object-level and database-level security.</span></span>  
  
-   <span data-ttu-id="a71c5-119">Korzystając z <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore>, muszą być zabezpieczone w magazynie wystąpień.</span><span class="sxs-lookup"><span data-stu-id="a71c5-119">When using <xref:System.Activities.DurableInstancing.SqlWorkflowInstanceStore>, the instance store must be secured.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="a71c5-120">[Programu SQL Server najlepsze rozwiązania](http://go.microsoft.com/fwlink/?LinkId=164972).</span><span class="sxs-lookup"><span data-stu-id="a71c5-120"> [SQL Server Best Practices](http://go.microsoft.com/fwlink/?LinkId=164972).</span></span>  
  
-   <span data-ttu-id="a71c5-121">Powinny być szyfrowane poufnych danych w magazynie wystąpień.</span><span class="sxs-lookup"><span data-stu-id="a71c5-121">Sensitive data in the instance store should be encrypted.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="a71c5-122">[Szyfrowania zabezpieczeń SQL](http://go.microsoft.com/fwlink/?LinkId=164976).</span><span class="sxs-lookup"><span data-stu-id="a71c5-122"> [SQL Security Encryption](http://go.microsoft.com/fwlink/?LinkId=164976).</span></span>  
  
-   <span data-ttu-id="a71c5-123">Ponieważ często zawiera parametry połączenia bazy danych w pliku konfiguracji, zabezpieczenia na poziomie systemu windows (ACL) powinien być używany do zapewnienia, że plik konfiguracyjny (zwykle w pliku Web.Config) jest bezpieczne i informacje logowania i hasła nie są uwzględnione w Parametry połączenia.</span><span class="sxs-lookup"><span data-stu-id="a71c5-123">Since the database connection string is often included in a configuration file, windows-level security (ACL) should be used to ensure that the configuration file (Web.Config usually) is secure, and that login and password information are not included in the connection string.</span></span> <span data-ttu-id="a71c5-124">Uwierzytelnianie systemu Windows należy użyć między bazy danych i serwera sieci web.</span><span class="sxs-lookup"><span data-stu-id="a71c5-124">Windows authentication should be used between the database and the web server instead.</span></span>  
  
## <a name="considerations-for-workflowservicehost"></a><span data-ttu-id="a71c5-125">Zagadnienia dotyczące obiektu WorkflowServiceHost</span><span class="sxs-lookup"><span data-stu-id="a71c5-125">Considerations for WorkflowServiceHost</span></span>  
  
-   [!INCLUDE[indigo1](../../../includes/indigo1-md.md)]<span data-ttu-id="a71c5-126">punkty końcowe używane w przepływach pracy powinny być chronione.</span><span class="sxs-lookup"><span data-stu-id="a71c5-126"> endpoints used in workflows should be secured.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="a71c5-127">[Omówienie zabezpieczeń usługi WCF](http://go.microsoft.com/fwlink/?LinkID=164975).</span><span class="sxs-lookup"><span data-stu-id="a71c5-127"> [WCF Security Overview](http://go.microsoft.com/fwlink/?LinkID=164975).</span></span>  
  
-   <span data-ttu-id="a71c5-128">Zezwolenie na poziomie hosta można zaimplementować przy użyciu <xref:System.ServiceModel.ServiceAuthorizationManager>.</span><span class="sxs-lookup"><span data-stu-id="a71c5-128">Host-level authorization can be implemented by using <xref:System.ServiceModel.ServiceAuthorizationManager>.</span></span> <span data-ttu-id="a71c5-129">Zobacz [jak: tworzenie Menedżera autoryzacji niestandardowej dla usługi](http://go.microsoft.com/fwlink/?LinkId=192228) szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="a71c5-129">See [How To: Create a Custom Authorization Manager for a Service](http://go.microsoft.com/fwlink/?LinkId=192228) for details.</span></span> <span data-ttu-id="a71c5-130">Jest to również przedstawiono w poniższym przykładzie: [zabezpieczania usług przepływu pracy](../../../docs/framework/windows-workflow-foundation/samples/securing-workflow-services.md).</span><span class="sxs-lookup"><span data-stu-id="a71c5-130">This is also demonstrated in the following sample: [Securing Workflow Services](../../../docs/framework/windows-workflow-foundation/samples/securing-workflow-services.md).</span></span>  
  
-   <span data-ttu-id="a71c5-131">ServiceSecurityContext wiadomości przychodzącej jest również dostępna z poziomu przepływu pracy po zalogowaniu się do elementu OperationContext.</span><span class="sxs-lookup"><span data-stu-id="a71c5-131">The ServiceSecurityContext for the incoming message is also available from within workflow by accessing OperationContext.</span></span>  <span data-ttu-id="a71c5-132">Zobacz [podczas uzyskiwania dostępu do elementu OperationContext z usługi przepływu pracy](../../../docs/framework/wcf/feature-details/accessing-operationcontext-from-a-workflow-service.md) szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="a71c5-132">See [Accessing OperationContext from a Workflow Service](../../../docs/framework/wcf/feature-details/accessing-operationcontext-from-a-workflow-service.md) for details.</span></span>  
  
## <a name="wf-security-pack-ctp"></a><span data-ttu-id="a71c5-133">Pakiet zabezpieczeń WF CTP</span><span class="sxs-lookup"><span data-stu-id="a71c5-133">WF Security Pack CTP</span></span>  
 <span data-ttu-id="a71c5-134">Microsoft WF zabezpieczeń pakietu CTP 1 jest pierwszy wersja zapoznawcza (CTP) technologii społeczności zestawu działań i ich wdrażania w oparciu [Windows Workflow Foundation](http://msdn.microsoft.com/netframework/aa663328.aspx)w [.NET Framework 4](http://msdn.microsoft.com/netframework/default.aspx) (WF (4) i [Windows Identity Foundation (WIF)](http://msdn.microsoft.com/security/aa570351.aspx).</span><span class="sxs-lookup"><span data-stu-id="a71c5-134">The Microsoft WF Security Pack CTP 1 is the first community technology preview (CTP) release of a set of activities and their implementation based on [Windows Workflow Foundation](http://msdn.microsoft.com/netframework/aa663328.aspx)in [.NET Framework 4](http://msdn.microsoft.com/netframework/default.aspx) (WF 4) and the [Windows Identity Foundation (WIF)](http://msdn.microsoft.com/security/aa570351.aspx).</span></span>  <span data-ttu-id="a71c5-135">Microsoft WF zabezpieczeń pakietu CTP 1 zawiera działań i ich projektantów, które przedstawiają sposób pozwala łatwo stosować różne scenariusze związane z zabezpieczeniami, za pomocą przepływu pracy, w tym:</span><span class="sxs-lookup"><span data-stu-id="a71c5-135">The Microsoft WF Security Pack CTP 1 contains both activities and their designers which illustrate how to easily enable various security-related scenarios using workflow, including:</span></span>  
  
1.  <span data-ttu-id="a71c5-136">Personifikacja tożsamości klienta, w przepływie pracy</span><span class="sxs-lookup"><span data-stu-id="a71c5-136">Impersonating a client identity in the workflow</span></span>  
  
2.  <span data-ttu-id="a71c5-137">Autoryzacja w przepływie pracy, takich jak PrincipalPermission i sprawdzania poprawności oświadczeń</span><span class="sxs-lookup"><span data-stu-id="a71c5-137">In-workflow authorization, such as PrincipalPermission and validation of Claims</span></span>  
  
3.  <span data-ttu-id="a71c5-138">Wiadomości uwierzytelnione przy użyciu ClientCredentials określone w przepływie pracy, takie jak nazwa użytkownika/hasło lub token pobrane z zabezpieczeń tokenu usługi (STS)</span><span class="sxs-lookup"><span data-stu-id="a71c5-138">Authenticated messaging using ClientCredentials specified in the workflow, such as username/password or a token retrieved from a Security Token Service (STS)</span></span>  
  
4.  <span data-ttu-id="a71c5-139">Token zabezpieczający klienta do usługi zaplecza (delegacji opartej na oświadczeniach) przy użyciu protokołu WS-Trust ActAs przepływu</span><span class="sxs-lookup"><span data-stu-id="a71c5-139">Flowing a client security token to a back-end service (claims-based delegation) using WS-Trust ActAs</span></span>  
  
<span data-ttu-id="a71c5-140">Aby uzyskać więcej informacji i Pobierz CTP pakietu zabezpieczeń WF, zobacz: [CTP pakietu zabezpieczeń WF](http://wf.codeplex.com/releases/view/48114)</span><span class="sxs-lookup"><span data-stu-id="a71c5-140">For more information and to download the WF Security Pack CTP, see: [WF Security Pack CTP](http://wf.codeplex.com/releases/view/48114)</span></span>