---
title: Magazyny wystąpień
ms.date: 03/30/2017
ms.assetid: f2629668-0923-4987-b943-67477131c1e0
ms.openlocfilehash: 352ffad56c77d0bd16f7e3b9aa1d82090f3a29b1
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/18/2019
ms.locfileid: "59773769"
---
# <a name="instance-stores"></a><span data-ttu-id="5c0e2-102">Magazyny wystąpień</span><span class="sxs-lookup"><span data-stu-id="5c0e2-102">Instance Stores</span></span>
<span data-ttu-id="5c0e2-103">Magazyn wystąpień jest kontenerem logicznym wystąpień.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-103">An instance store is a logical container of instances.</span></span> <span data-ttu-id="5c0e2-104">Jest miejscem, gdzie są przechowywane dane wystąpienia i metadanych.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-104">It is the place where the instance data and metadata is stored.</span></span> <span data-ttu-id="5c0e2-105">Magazyn wystąpień nie oznacza dedykowanych dla magazynu fizycznego.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-105">An instance store does not imply dedicated physical storage.</span></span> <span data-ttu-id="5c0e2-106">Magazyn wystąpień mogą zawierać informacje o stanie nietrwałe w pamięci lub trwałe informacji z bazy danych programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-106">An instance store could contain durable information in a SQL Server database or non-durable state information in a memory.</span></span> <span data-ttu-id="5c0e2-107">[!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] Dostarczany z Store wystąpienia przepływu pracy SQL, który jest konkretną implementację magazyn wystąpienia, umożliwiająca przepływów pracy zachować dane wystąpienia i metadane do bazy danych programu SQL Server 2005 lub SQL Server 2008.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-107">The [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] ships with the SQL Workflow Instance Store, which is a concrete implementation of an instance store that allows workflows to persist instance data and metadata into a SQL Server 2005 or SQL Server 2008 database.</span></span> <span data-ttu-id="5c0e2-108">Ponadto AppFabric w systemie Windows Server udostępnia konkretną implementację magazynu wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-108">In addition Windows Server App Fabric also provides a concrete implementation of an instance store.</span></span> <span data-ttu-id="5c0e2-109">Aby uzyskać więcej informacji, zobacz [systemu Windows Server App Fabric wystąpienia Store, zapytań i dostawców kontroli](https://go.microsoft.com/fwlink/?LinkID=201201&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="5c0e2-109">For more information, see [Windows Server App Fabric Instance Store, Query, and Control Providers](https://go.microsoft.com/fwlink/?LinkID=201201&clcid=0x409).</span></span>  
  
 <span data-ttu-id="5c0e2-110">Utrwalanie interfejsu API jest interfejs między hostem i Magazyn wystąpienia, umożliwiająca hosta na potrzeby wysyłania żądań polecenia (na przykład <xref:System.Activities.DurableInstancing.LoadWorkflowCommand> i <xref:System.Activities.DurableInstancing.SaveWorkflowCommand>) Magazyn wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-110">The persistence API is the interface between a host and an instance store that allows the host to send command requests (for example, <xref:System.Activities.DurableInstancing.LoadWorkflowCommand> and <xref:System.Activities.DurableInstancing.SaveWorkflowCommand>) to the instance store.</span></span> <span data-ttu-id="5c0e2-111">Wykonanie tego interfejsu API nosi nazwę dostawcy stanów trwałych.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-111">The concrete implementation of this API is called a persistence provider.</span></span> <span data-ttu-id="5c0e2-112">Dostawcy stanów trwałych odbiera żądania od hosta i modyfikuje magazyn wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-112">The persistence provider receives requests from a host and modifies the instance store.</span></span>  
  
 <span data-ttu-id="5c0e2-113">Hosty i magazyny wystąpień są podłączane co host może być używany z wielu magazynów wystąpienia i Magazyn wystąpienia mogą być używane z wielu hostach.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-113">Hosts and instance stores are pluggable so that a host can be used with many instance stores, and an instance store can be used with many hosts.</span></span> <span data-ttu-id="5c0e2-114">Magazyn wystąpień zwykle jest zoptymalizowany pod kątem wzorców użycia określonego hosta, mimo że SIS i hosta może się rozwijać na niezależne cykle życia.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-114">An instance store is typically optimized for the usage patterns of a particular host, although the instance store and host may evolve on independent life cycles.</span></span> <span data-ttu-id="5c0e2-115">Na przykład **WorkflowServiceHost** i **SqlWorkflowInstanceStore** zostały zaprojektowane do pracy ze sobą współdziałały.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-115">For example, the **WorkflowServiceHost** and the **SqlWorkflowInstanceStore** are designed to work well together.</span></span> <span data-ttu-id="5c0e2-116">Można utworzyć własny magazyn wystąpienia utrwalić dane i metadane wystąpień usługi przepływu pracy i używać tego magazynu wystąpienia z **WorkflowServiceHost**.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-116">You can create your own instance store to persist data and metadata of workflow service instances and use that instance store with the **WorkflowServiceHost**.</span></span> <span data-ttu-id="5c0e2-117">Na przykład można utworzyć OracleWorkflowInstanceStore umożliwiający przepływy pracy utrwalania informacji w bazie danych programu Oracle zamiast zapisywania ich w bazie danych programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-117">For example, you can create an OracleWorkflowInstanceStore that lets workflows persist information into an Oracle database instead of saving them into a SQL Server database.</span></span>  
  
 <span data-ttu-id="5c0e2-118">Jest to typowe dla hostów, aby można rozszerzyć za pomocą dodatkowych funkcji, która modyfikuje utrwalonych obiektów.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-118">It is common for hosts to be extended with additional functionality that modifies the persisted objects.</span></span> <span data-ttu-id="5c0e2-119">Na przykład system trwałości wystąpienie może mieć hosta przepływu pracy, rozszerzenia, które obsługuje operację "Zawieszania" i wystąpienie magazynu danych SQL.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-119">For example, an instance persistence system may have a workflow host, an extension that supports the "Suspend" operation, and an SQL instance store.</span></span>  <span data-ttu-id="5c0e2-120">Hosta przepływu pracy może wysyłać standardowe polecenia takie jak zapisać lub załadować zapisać ani załadować przepływu pracy ze sklepu wystąpienia lub zapisać przepływ pracy do magazynu wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-120">The workflow host might send a standard command such as Save or Load to save or load a workflow from an instance store or to save a workflow into an instance store.</span></span> <span data-ttu-id="5c0e2-121">Rozszerzenie Wstrzymaj może dodać dodatkowej semantyki do polecenia zapisywanie i ładowanie wystąpienia przepływu pracy, tak aby nie można załadować wystąpienia Wstrzymany przepływ pracy.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-121">The suspend extension might add additional semantics to the commands for saving and loading workflow instances so that a suspended workflow instance cannot be loaded.</span></span> <span data-ttu-id="5c0e2-122">Dostawcy stanów trwałych dla magazynu wystąpienia SQL rozumie polecenia zapisywanie i ładowanie wystąpienia przepływu pracy i implementuje poleceń przez wywołanie odpowiedniej procedury składowane, które zmieniają tabele trwałe obiekty w bazie danych programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-122">The persistence provider for the SQL instance store understands the commands for saving and loading workflow instances, and implements the commands by calling appropriate stored procedures that change the tables of persistent objects in an SQL Server database.</span></span>  
  
 <span data-ttu-id="5c0e2-123">Host działa jako właściciela wystąpienia w magazynie wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-123">A host acts as an instance owner within an instance store.</span></span> <span data-ttu-id="5c0e2-124">Host może działać jako więcej niż jednego właściciela wystąpienia z więcej niż jeden magazyn wystąpienia w tym samym czasie.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-124">A host may act as more than one instance owner with more than one instance store at the same time.</span></span> <span data-ttu-id="5c0e2-125">Host zawiera identyfikatory GUID dla wystąpienia kluczy skojarzone z wystąpieniami.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-125">The host provides GUIDs for instance keys associated with the instances.</span></span> <span data-ttu-id="5c0e2-126">Klucz wystąpienia jest unikatowego aliasu, który identyfikuje wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-126">An instance key is a unique alias that identifies an instance.</span></span> <span data-ttu-id="5c0e2-127">System trwałości tworzy, aktualizuje i usuwa informacje o właścicielu wystąpienia podczas wykonywania polecenia żądana przez hosty.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-127">The persistence system creates, updates, and deletes instance owner information as it executes commands requested by hosts.</span></span>  
  
 <span data-ttu-id="5c0e2-128">Poniższa lista zawiera ważne czynności związane z hosta interakcji z magazynem wystąpienie:</span><span class="sxs-lookup"><span data-stu-id="5c0e2-128">The following list contains the important steps involved in the host’s interaction with the instance store:</span></span>  
  
1. <span data-ttu-id="5c0e2-129">Uzyskaj **objekt InstanceStore** od dostawcy trwałości.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-129">Obtain an **InstanceStore** from a persistence provider.</span></span>  

2. <span data-ttu-id="5c0e2-130">Uzyskaj dojście do wystąpienia, wywołując <xref:System.Runtime.DurableInstancing.InstanceStore.CreateInstanceHandle%2A> metody **objekt InstanceStore**.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-130">Obtain the handle to an instance by calling the <xref:System.Runtime.DurableInstancing.InstanceStore.CreateInstanceHandle%2A> method on the **InstanceStore**.</span></span>  
  
3. <span data-ttu-id="5c0e2-131">Wywołania poleceń względem dojście wystąpienia, wywołując <xref:System.Runtime.DurableInstancing.InstanceStore.Execute%2A> metody **objekt InstanceStore**.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-131">Invoke commands against the instance handle by calling the <xref:System.Runtime.DurableInstancing.InstanceStore.Execute%2A> method on the **InstanceStore**.</span></span>  
  
4. <span data-ttu-id="5c0e2-132">Sprawdź <xref:System.Runtime.DurableInstancing.InstanceView> zwrócone przez **InstanceStore.Execute** do określenia wyników poleceń.</span><span class="sxs-lookup"><span data-stu-id="5c0e2-132">Examine the <xref:System.Runtime.DurableInstancing.InstanceView> returned by **InstanceStore.Execute** to determine the results of the commands.</span></span>
