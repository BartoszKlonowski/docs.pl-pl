---
title: Wystąpienie magazynów
ms.date: 03/30/2017
ms.assetid: f2629668-0923-4987-b943-67477131c1e0
ms.openlocfilehash: 0d59daeee318aaf82897517a23343065dc97d69f
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/04/2018
ms.locfileid: "33518779"
---
# <a name="instance-stores"></a><span data-ttu-id="bf3fe-102">Wystąpienie magazynów</span><span class="sxs-lookup"><span data-stu-id="bf3fe-102">Instance Stores</span></span>
<span data-ttu-id="bf3fe-103">Magazyn wystąpienia jest kontenerem logicznym wystąpień.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-103">An instance store is a logical container of instances.</span></span> <span data-ttu-id="bf3fe-104">Jest to miejsce, gdzie są przechowywane dane wystąpienia i metadanych.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-104">It is the place where the instance data and metadata is stored.</span></span> <span data-ttu-id="bf3fe-105">Magazyn wystąpienia nie oznacza dedykowanych dla magazynu fizycznego.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-105">An instance store does not imply dedicated physical storage.</span></span> <span data-ttu-id="bf3fe-106">Magazyn wystąpienia mogą zawierać informacje o stanie nietrwałe w pamięci lub trwałe informacji z bazy danych programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-106">An instance store could contain durable information in a SQL Server database or non-durable state information in a memory.</span></span> <span data-ttu-id="bf3fe-107">[!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] Jest dostarczany z magazynu wystąpienia SQL przepływu pracy, czyli konkretną implementację magazynu wystąpienia, który umożliwia przepływy pracy, aby zachować dane wystąpienia i metadane do bazy danych programu SQL Server 2005 lub SQL Server 2008.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-107">The [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] ships with the SQL Workflow Instance Store, which is a concrete implementation of an instance store that allows workflows to persist instance data and metadata into a SQL Server 2005 or SQL Server 2008 database.</span></span> <span data-ttu-id="bf3fe-108">Ponadto AppFabric w systemie Windows Server udostępnia konkretną implementację magazynu wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-108">In addition Windows Server App Fabric also provides a concrete implementation of an instance store.</span></span> <span data-ttu-id="bf3fe-109">Aby uzyskać więcej informacji, zobacz [sklepu wystąpienia sieci szkieletowej dla systemu Windows Server, zapytań i dostawców kontroli](http://go.microsoft.com/fwlink/?LinkID=201201&clcid=0x409).</span><span class="sxs-lookup"><span data-stu-id="bf3fe-109">For more information, see [Windows Server App Fabric Instance Store, Query, and Control Providers](http://go.microsoft.com/fwlink/?LinkID=201201&clcid=0x409).</span></span>  
  
 <span data-ttu-id="bf3fe-110">Trwałość interfejsu API jest interfejs między hostem i wystąpienie magazynu, umożliwiająca hosta do wysyłania żądań polecenia (na przykład <xref:System.Activities.DurableInstancing.LoadWorkflowCommand> i <xref:System.Activities.DurableInstancing.SaveWorkflowCommand>) w magazynie wystąpień.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-110">The persistence API is the interface between a host and an instance store that allows the host to send command requests (for example, <xref:System.Activities.DurableInstancing.LoadWorkflowCommand> and <xref:System.Activities.DurableInstancing.SaveWorkflowCommand>) to the instance store.</span></span> <span data-ttu-id="bf3fe-111">Konkretną implementację tego interfejsu API nosi nazwę dostawcy trwałości.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-111">The concrete implementation of this API is called a persistence provider.</span></span> <span data-ttu-id="bf3fe-112">Dostawca trwałości odbiera żądania od hosta i modyfikuje w magazynie wystąpień.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-112">The persistence provider receives requests from a host and modifies the instance store.</span></span>  
  
 <span data-ttu-id="bf3fe-113">Hosty i magazyny wystąpienia są podłączane, dzięki czemu hosta może być używany z wielu sklepach wystąpienia i wystąpienie magazynu mogą być używane z wielu hostach.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-113">Hosts and instance stores are pluggable so that a host can be used with many instance stores, and an instance store can be used with many hosts.</span></span> <span data-ttu-id="bf3fe-114">Magazyn wystąpienia zwykle jest zoptymalizowana pod kątem wzorców użycia określonego hosta, mimo że SIS i hosta może się rozwijać na niezależne cyklu.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-114">An instance store is typically optimized for the usage patterns of a particular host, although the instance store and host may evolve on independent life cycles.</span></span> <span data-ttu-id="bf3fe-115">Na przykład **obiektu WorkflowServiceHost** i **SqlWorkflowInstanceStore** zostały zaprojektowane do siebie.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-115">For example, the **WorkflowServiceHost** and the **SqlWorkflowInstanceStore** are designed to work well together.</span></span> <span data-ttu-id="bf3fe-116">Można utworzyć własne wystąpienie magazynu do utrwalenia danych lub metadanych wystąpień usługi przepływu pracy i używanie tego wystąpienia magazynu z **obiektu WorkflowServiceHost**.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-116">You can create your own instance store to persist data and metadata of workflow service instances and use that instance store with the **WorkflowServiceHost**.</span></span> <span data-ttu-id="bf3fe-117">Na przykład można utworzyć OracleWorkflowInstanceStore umożliwiający przepływy pracy utrwalenia informacji w bazie danych programu Oracle zamiast zapisywania ich w bazie danych programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-117">For example, you can create an OracleWorkflowInstanceStore that lets workflows persist information into an Oracle database instead of saving them into a SQL Server database.</span></span>  
  
 <span data-ttu-id="bf3fe-118">Są często hostom rozszerzony o dodatkowe funkcje, które modyfikuje utrwalonych obiektów.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-118">It is common for hosts to be extended with additional functionality that modifies the persisted objects.</span></span> <span data-ttu-id="bf3fe-119">Na przykład system utrwalania wystąpień może mieć hosta przepływu pracy, rozszerzenie, które obsługuje operację "Zawieszania" i magazynu wystąpienia SQL.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-119">For example, an instance persistence system may have a workflow host, an extension that supports the "Suspend" operation, and an SQL instance store.</span></span>  <span data-ttu-id="bf3fe-120">Hosta przepływu pracy może wysyłać standardowego polecenia takie jak zapisać lub obciążenia, aby zapisać lub załadować przepływu pracy z magazynu wystąpień lub do zapisywania w magazynie wystąpień przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-120">The workflow host might send a standard command such as Save or Load to save or load a workflow from an instance store or to save a workflow into an instance store.</span></span> <span data-ttu-id="bf3fe-121">Rozszerzenia zawieszenia może dodać dodatkowej semantyki do polecenia zapisywanie i ładowanie wystąpienia przepływu pracy, aby nie można załadować wystąpienia Wstrzymany przepływ pracy.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-121">The suspend extension might add additional semantics to the commands for saving and loading workflow instances so that a suspended workflow instance cannot be loaded.</span></span> <span data-ttu-id="bf3fe-122">Dostawca trwałości w magazynie wystąpień programu SQL rozumie polecenia zapisywanie i ładowanie wystąpienia przepływu pracy i implementuje poleceń, wywołując odpowiednie przechowywane procedury, które zmieniania tabel trwałych obiektów w bazie danych programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-122">The persistence provider for the SQL instance store understands the commands for saving and loading workflow instances, and implements the commands by calling appropriate stored procedures that change the tables of persistent objects in an SQL Server database.</span></span>  
  
 <span data-ttu-id="bf3fe-123">Host pełni rolę właściciela wystąpienia w magazynie wystąpień.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-123">A host acts as an instance owner within an instance store.</span></span> <span data-ttu-id="bf3fe-124">Host mogą działać jako więcej niż jednego właściciela wystąpienia z więcej niż jeden magazyn wystąpienia w tym samym czasie.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-124">A host may act as more than one instance owner with more than one instance store at the same time.</span></span> <span data-ttu-id="bf3fe-125">Host zawiera identyfikatory GUID, na przykład kluczy skojarzonych z wystąpieniami.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-125">The host provides GUIDs for instance keys associated with the instances.</span></span> <span data-ttu-id="bf3fe-126">Klucz wystąpienia jest unikatowego aliasu, który identyfikuje wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-126">An instance key is a unique alias that identifies an instance.</span></span> <span data-ttu-id="bf3fe-127">System utrwalania tworzy, aktualizowanie i usuwanie informacji właściciela wystąpienia, podczas wykonywania polecenia wymaganych przez hosty.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-127">The persistence system creates, updates, and deletes instance owner information as it executes commands requested by hosts.</span></span>  
  
 <span data-ttu-id="bf3fe-128">Poniższa lista zawiera ważne etapy hosta interakcji ze sklepem wystąpienie:</span><span class="sxs-lookup"><span data-stu-id="bf3fe-128">The following list contains the important steps involved in the host’s interaction with the instance store:</span></span>  
  
1.  <span data-ttu-id="bf3fe-129">Uzyskaj **InstanceStore** od dostawcy trwałości.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-129">Obtain an **InstanceStore** from a persistence provider.</span></span>  

2.  <span data-ttu-id="bf3fe-130">Uzyskać dojścia do wystąpienia przez wywołanie metody <xref:System.Runtime.DurableInstancing.InstanceStore.CreateInstanceHandle%2A> metoda **InstanceStore**.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-130">Obtain the handle to an instance by calling the <xref:System.Runtime.DurableInstancing.InstanceStore.CreateInstanceHandle%2A> method on the **InstanceStore**.</span></span>  
  
3.  <span data-ttu-id="bf3fe-131">Wywołanie polecenia przed dojście wystąpienia przez wywołanie metody <xref:System.Runtime.DurableInstancing.InstanceStore.Execute%2A> metoda **InstanceStore**.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-131">Invoke commands against the instance handle by calling the <xref:System.Runtime.DurableInstancing.InstanceStore.Execute%2A> method on the **InstanceStore**.</span></span>  
  
4.  <span data-ttu-id="bf3fe-132">Sprawdź <xref:System.Runtime.DurableInstancing.InstanceView> zwrócony przez **wywoływania metody InstanceStore.Execute** do określenia wyników polecenia.</span><span class="sxs-lookup"><span data-stu-id="bf3fe-132">Examine the <xref:System.Runtime.DurableInstancing.InstanceView> returned by **InstanceStore.Execute** to determine the results of the commands.</span></span>
