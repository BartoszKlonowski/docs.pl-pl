---
title: Podstawowe pojęcia związane z programem Windows Workflow
description: W tym artykule opisano niektóre koncepcje tworzenia przepływu pracy w .NET Framework 4.6.1, które mogą być nieznane dla niektórych deweloperów.
ms.date: 03/30/2017
ms.assetid: 0e930e80-5060-45d2-8a7a-95c0690105d4
ms.openlocfilehash: a7683791c7aed54beed9256ab08010dfeebe9936
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/26/2020
ms.locfileid: "96265300"
---
# <a name="fundamental-windows-workflow-concepts"></a><span data-ttu-id="45642-103">Podstawowe pojęcia związane z programem Windows Workflow</span><span class="sxs-lookup"><span data-stu-id="45642-103">Fundamental Windows Workflow Concepts</span></span>

<span data-ttu-id="45642-104">Tworzenie przepływów pracy w programie obejmuje [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] koncepcje, które mogą być nowe dla niektórych deweloperów.</span><span class="sxs-lookup"><span data-stu-id="45642-104">Workflow development in the [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] uses concepts that may be new to some developers.</span></span> <span data-ttu-id="45642-105">W tym temacie opisano niektóre koncepcje i sposób ich implementacji.</span><span class="sxs-lookup"><span data-stu-id="45642-105">This topic describes some of the concepts and how they are implemented.</span></span>  
  
## <a name="workflows-and-activities"></a><span data-ttu-id="45642-106">Przepływy pracy i działania</span><span class="sxs-lookup"><span data-stu-id="45642-106">Workflows and Activities</span></span>  

 <span data-ttu-id="45642-107">Przepływ pracy to strukturalna kolekcja akcji, które modelują proces.</span><span class="sxs-lookup"><span data-stu-id="45642-107">A workflow is a structured collection of actions that models a process.</span></span> <span data-ttu-id="45642-108">Każda akcja w przepływie pracy jest modelowana jako działanie.</span><span class="sxs-lookup"><span data-stu-id="45642-108">Each action in the workflow is modeled as an activity.</span></span> <span data-ttu-id="45642-109">Host współdziała z przepływem pracy przy użyciu <xref:System.Activities.WorkflowInvoker> do wywoływania przepływu pracy tak, jakby był to metoda,  <xref:System.Activities.WorkflowApplication> dla jawnej kontroli nad wykonywaniem pojedynczego wystąpienia przepływu pracy oraz <xref:System.ServiceModel.WorkflowServiceHost> dla interakcji opartych na komunikatach w scenariuszach obejmujących wiele wystąpień.</span><span class="sxs-lookup"><span data-stu-id="45642-109">A host interacts with a workflow by using <xref:System.Activities.WorkflowInvoker> for invoking a workflow as if it were a method,  <xref:System.Activities.WorkflowApplication> for explicit control over the execution of a single workflow instance, and <xref:System.ServiceModel.WorkflowServiceHost> for message-based interactions in multi-instance scenarios.</span></span> <span data-ttu-id="45642-110">Ze względu na to, że kroki przepływu pracy są zdefiniowane jako hierarchia działań, w celu zdefiniowania samego przepływu pracy można określić działanie najwyższego poziomu w hierarchii.</span><span class="sxs-lookup"><span data-stu-id="45642-110">Because steps of the workflow are defined as a hierarchy of activities, the topmost activity in the hierarchy can be said to define the workflow itself.</span></span> <span data-ttu-id="45642-111">Ten model hierarchii uwzględnia miejsce jawne `SequentialWorkflow` i `StateMachineWorkflow` klasy z poprzednich wersji.</span><span class="sxs-lookup"><span data-stu-id="45642-111">This hierarchy model takes the place of the explicit `SequentialWorkflow` and `StateMachineWorkflow` classes from previous versions.</span></span> <span data-ttu-id="45642-112">Same działania są opracowywane jako kolekcje innych działań (przy użyciu <xref:System.Activities.Activity> klasy jako bazy, zazwyczaj zdefiniowanej przy użyciu języka XAML) lub są niestandardowe utworzone przy użyciu <xref:System.Activities.CodeActivity> klasy, która może używać środowiska uruchomieniowego na potrzeby dostępu do danych lub przy użyciu <xref:System.Activities.NativeActivity> klasy, która udostępnia szerokość środowiska uruchomieniowego przepływu pracy do autora działania.</span><span class="sxs-lookup"><span data-stu-id="45642-112">Activities themselves are developed as collections of other activities (using the <xref:System.Activities.Activity> class as a base, usually defined by using XAML) or are custom created by using the <xref:System.Activities.CodeActivity> class, which can use the runtime for data access, or by using the <xref:System.Activities.NativeActivity> class, which exposes the breadth of the workflow runtime to the activity author.</span></span> <span data-ttu-id="45642-113">Działania opracowane przy użyciu <xref:System.Activities.CodeActivity> i <xref:System.Activities.NativeActivity> są tworzone przy użyciu języków zgodnych ze standardem CLR, takich jak C#.</span><span class="sxs-lookup"><span data-stu-id="45642-113">Activities developed by using <xref:System.Activities.CodeActivity> and <xref:System.Activities.NativeActivity> are created by using CLR-compliant languages such as C#.</span></span>  
  
## <a name="activity-data-model"></a><span data-ttu-id="45642-114">Model danych działań</span><span class="sxs-lookup"><span data-stu-id="45642-114">Activity Data Model</span></span>  

 <span data-ttu-id="45642-115">Działania przechowują i udostępniają dane przy użyciu typów pokazanych w poniższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="45642-115">Activities store and share data by using the types shown in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="45642-116">Zmienna</span><span class="sxs-lookup"><span data-stu-id="45642-116">Variable</span></span>|<span data-ttu-id="45642-117">Przechowuje dane w działaniu.</span><span class="sxs-lookup"><span data-stu-id="45642-117">Stores data in an activity.</span></span>|  
|<span data-ttu-id="45642-118">Argument</span><span class="sxs-lookup"><span data-stu-id="45642-118">Argument</span></span>|<span data-ttu-id="45642-119">Przenosi dane do działania i z niego.</span><span class="sxs-lookup"><span data-stu-id="45642-119">Moves data into and out of an activity.</span></span>|  
|<span data-ttu-id="45642-120">Wyrażenie</span><span class="sxs-lookup"><span data-stu-id="45642-120">Expression</span></span>|<span data-ttu-id="45642-121">Działanie z wartością zwracaną z podwyższonym poziomem uprawnień użytą w powiązaniach argumentów.</span><span class="sxs-lookup"><span data-stu-id="45642-121">An activity with an elevated return value used in argument bindings.</span></span>|  
  
## <a name="workflow-runtime"></a><span data-ttu-id="45642-122">Środowisko uruchomieniowe przepływu pracy</span><span class="sxs-lookup"><span data-stu-id="45642-122">Workflow Runtime</span></span>  

 <span data-ttu-id="45642-123">Środowisko uruchomieniowe przepływu pracy jest środowiskiem, w którym są wykonywane przepływy pracy.</span><span class="sxs-lookup"><span data-stu-id="45642-123">The workflow runtime is the environment in which workflows execute.</span></span> <span data-ttu-id="45642-124"><xref:System.Activities.WorkflowInvoker> to najprostszy sposób wykonywania przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="45642-124"><xref:System.Activities.WorkflowInvoker> is the simplest way to execute a workflow.</span></span> <span data-ttu-id="45642-125">Na hoście są stosowane <xref:System.Activities.WorkflowInvoker> następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="45642-125">The host uses <xref:System.Activities.WorkflowInvoker> for the following:</span></span>  
  
- <span data-ttu-id="45642-126">Aby synchronicznie wywołać przepływ pracy.</span><span class="sxs-lookup"><span data-stu-id="45642-126">To synchronously invoke a workflow.</span></span>  
  
- <span data-ttu-id="45642-127">Aby zapewnić dane wejściowe lub pobrać dane wyjściowe z przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="45642-127">To provide input to, or retrieve output from a workflow.</span></span>  
  
- <span data-ttu-id="45642-128">, Aby dodać rozszerzenia, które mają być używane przez działania.</span><span class="sxs-lookup"><span data-stu-id="45642-128">To add extensions to be used by activities.</span></span>  
  
 <span data-ttu-id="45642-129"><xref:System.Activities.ActivityInstance> to bezpieczny dla wątków serwer proxy, którego hosty mogą używać do współdziałania z środowiskiem uruchomieniowym.</span><span class="sxs-lookup"><span data-stu-id="45642-129"><xref:System.Activities.ActivityInstance> is the thread-safe proxy that hosts can use to interact with the runtime.</span></span> <span data-ttu-id="45642-130">Na hoście są stosowane <xref:System.Activities.ActivityInstance> następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="45642-130">The host uses <xref:System.Activities.ActivityInstance> for the following:</span></span>  
  
- <span data-ttu-id="45642-131">Aby uzyskać wystąpienie, tworząc je lub ładując z magazynu wystąpień.</span><span class="sxs-lookup"><span data-stu-id="45642-131">To acquire an instance by creating it or loading it from an instance store.</span></span>  
  
- <span data-ttu-id="45642-132">Aby otrzymywać powiadomienia o zdarzeniach cyklu życia wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="45642-132">To be notified of instance life-cycle events.</span></span>  
  
- <span data-ttu-id="45642-133">Do kontrolowania wykonywania przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="45642-133">To control workflow execution.</span></span>  
  
- <span data-ttu-id="45642-134">Aby zapewnić dane wejściowe lub pobrać dane wyjściowe z przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="45642-134">To provide input to, or retrieve output from a workflow.</span></span>  
  
- <span data-ttu-id="45642-135">Aby sygnalizować kontynuację przepływu pracy i przekazać wartości do przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="45642-135">To signal a workflow continuation and pass values into the workflow.</span></span>  
  
- <span data-ttu-id="45642-136">Aby zachować dane przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="45642-136">To persist workflow data.</span></span>  
  
- <span data-ttu-id="45642-137">, Aby dodać rozszerzenia, które mają być używane przez działania.</span><span class="sxs-lookup"><span data-stu-id="45642-137">To add extensions to be used by activities.</span></span>  
  
 <span data-ttu-id="45642-138">Działania uzyskują dostęp do środowiska uruchomieniowego przepływu pracy przy użyciu odpowiedniej <xref:System.Activities.ActivityContext> klasy pochodnej, takiej jak <xref:System.Activities.NativeActivityContext> lub <xref:System.Activities.CodeActivityContext> .</span><span class="sxs-lookup"><span data-stu-id="45642-138">Activities gain access to the workflow runtime environment by using the appropriate <xref:System.Activities.ActivityContext> derived class, such as <xref:System.Activities.NativeActivityContext> or <xref:System.Activities.CodeActivityContext>.</span></span> <span data-ttu-id="45642-139">Służą one do rozpoznawania argumentów i zmiennych, do planowania działań podrzędnych i w wielu innych celach.</span><span class="sxs-lookup"><span data-stu-id="45642-139">They use this for resolving arguments and variables, for scheduling child activities, and for many other purposes.</span></span>  
  
## <a name="services"></a><span data-ttu-id="45642-140">Usługi</span><span class="sxs-lookup"><span data-stu-id="45642-140">Services</span></span>  

 <span data-ttu-id="45642-141">Przepływy pracy zapewniają naturalny sposób implementacji i uzyskiwania dostępu do luźno sprzężonych usług przy użyciu działań związanych z obsługą wiadomości.</span><span class="sxs-lookup"><span data-stu-id="45642-141">Workflows provide a natural way to implement and access loosely-coupled services, using messaging activities.</span></span> <span data-ttu-id="45642-142">Działania związane z obsługą komunikatów są oparte na programie WCF i są podstawowym mechanizmem służącym do pobierania danych do i z przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="45642-142">Messaging activities are built on WCF and are the primary mechanism used to get data into and out of a workflow.</span></span> <span data-ttu-id="45642-143">Możesz redagować działania związane z obsługą wiadomości, aby modelować dowolny rodzaj niepotrzebnego wzorca wymiany komunikatów.</span><span class="sxs-lookup"><span data-stu-id="45642-143">You can compose messaging activities together to model any kind of message exchange pattern you wish.</span></span> <span data-ttu-id="45642-144">Aby uzyskać więcej informacji, zobacz [działania dotyczące komunikatów](../wcf/feature-details/messaging-activities.md).</span><span class="sxs-lookup"><span data-stu-id="45642-144">For more information, see [Messaging Activities](../wcf/feature-details/messaging-activities.md).</span></span> <span data-ttu-id="45642-145">Usługi przepływu pracy są hostowane przy użyciu <xref:System.ServiceModel.Activities.WorkflowServiceHost> klasy.</span><span class="sxs-lookup"><span data-stu-id="45642-145">Workflow services are hosted using the <xref:System.ServiceModel.Activities.WorkflowServiceHost> class.</span></span> <span data-ttu-id="45642-146">Aby uzyskać więcej informacji, zobacz [hostowanie usług przepływu pracy — Omówienie](../wcf/feature-details/hosting-workflow-services-overview.md).</span><span class="sxs-lookup"><span data-stu-id="45642-146">For more information, see [Hosting Workflow Services Overview](../wcf/feature-details/hosting-workflow-services-overview.md).</span></span> <span data-ttu-id="45642-147">Aby uzyskać więcej informacji na temat usług przepływu pracy, zobacz [usługi przepływu pracy](../wcf/feature-details/workflow-services.md)</span><span class="sxs-lookup"><span data-stu-id="45642-147">For more information about workflow services see [Workflow Services](../wcf/feature-details/workflow-services.md)</span></span>  
  
## <a name="persistence-unloading-and-long-running-workflows"></a><span data-ttu-id="45642-148">Przepływy pracy trwałości, wyładowywania i Long-Running</span><span class="sxs-lookup"><span data-stu-id="45642-148">Persistence, Unloading, and Long-Running Workflows</span></span>  

 <span data-ttu-id="45642-149">Przepływ pracy systemu Windows upraszcza tworzenie długotrwałych, nieaktywnych programów, zapewniając:</span><span class="sxs-lookup"><span data-stu-id="45642-149">Windows Workflow simplifies the authoring of long-running reactive programs by providing:</span></span>  
  
- <span data-ttu-id="45642-150">Działania, które uzyskują dostęp do zewnętrznych danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="45642-150">Activities that access external input.</span></span>  
  
- <span data-ttu-id="45642-151">Możliwość tworzenia <xref:System.Activities.Bookmark> obiektów, które mogą być wznowione przez odbiornik hosta.</span><span class="sxs-lookup"><span data-stu-id="45642-151">The ability to create <xref:System.Activities.Bookmark> objects that can be resumed by a host listener.</span></span>  
  
- <span data-ttu-id="45642-152">Możliwość utrwalania danych przepływu pracy i zwalniania przepływu pracy, a następnie ponownego załadowania i ponownego uaktywniania przepływu pracy w odpowiedzi na wznowienie <xref:System.Activities.Bookmark> obiektów w określonym przepływie pracy.</span><span class="sxs-lookup"><span data-stu-id="45642-152">The ability to persist a workflow’s data and unload the workflow, and then reload and reactivate the workflow in response to the resumption of <xref:System.Activities.Bookmark> objects in a particular workflow.</span></span>  
  
 <span data-ttu-id="45642-153">Przepływ pracy ciągle wykonuje działania do momentu, gdy nie będzie więcej działań do wykonania lub dopóki wszystkie aktualnie wykonywane działania nie oczekują na dane wejściowe.</span><span class="sxs-lookup"><span data-stu-id="45642-153">A workflow continuously executes activities until there are no more activities to execute or until all currently executing activities are waiting for input.</span></span> <span data-ttu-id="45642-154">W tym ostatnim stanie przepływ pracy jest bezczynny.</span><span class="sxs-lookup"><span data-stu-id="45642-154">In this latter state, the workflow is idle.</span></span> <span data-ttu-id="45642-155">Host może zwolnić przepływy pracy, które zostały przetworzone bezczynnie i ponownie załadować je, aby kontynuować wykonywanie po nadejściu wiadomości.</span><span class="sxs-lookup"><span data-stu-id="45642-155">It is common for a host to unload workflows that have gone idle and to reload them to continue execution when a message arrives.</span></span> <span data-ttu-id="45642-156"><xref:System.ServiceModel.Activities.WorkflowServiceHost> oferuje funkcje tej funkcji i zawiera rozszerzalne zasady zwalniania.</span><span class="sxs-lookup"><span data-stu-id="45642-156"><xref:System.ServiceModel.Activities.WorkflowServiceHost> provides functionality for this feature and provides an extensible unload policy.</span></span> <span data-ttu-id="45642-157">Dla bloków wykonywania, które korzystają z danych o stanie volatile lub innych danych, które nie mogą być utrwalane, działanie może wskazywać na hosta, który nie powinien być utrwalany przy użyciu <xref:System.Activities.NoPersistHandle> .</span><span class="sxs-lookup"><span data-stu-id="45642-157">For blocks of execution that use volatile state data or other data that cannot be persisted, an activity can indicate to a host that it should not be persisted by using the <xref:System.Activities.NoPersistHandle>.</span></span> <span data-ttu-id="45642-158">Przepływ pracy może również jawnie utrwalać swoje dane na trwałym nośniku magazynu za pomocą <xref:System.Activities.Statements.Persist> działania.</span><span class="sxs-lookup"><span data-stu-id="45642-158">A workflow can also explicitly persist its data to a durable storage medium by using the <xref:System.Activities.Statements.Persist> activity.</span></span>
