---
title: Wystąpienie aktywacji
ms.date: 03/30/2017
ms.assetid: 134c3f70-5d4e-46d0-9d49-469a6643edd8
ms.openlocfilehash: a1b78dc62fbdc6e5551addf400ceb14dc9e822f5
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/04/2018
ms.locfileid: "33516831"
---
# <a name="instance-activation"></a><span data-ttu-id="d3fdb-102">Wystąpienie aktywacji</span><span class="sxs-lookup"><span data-stu-id="d3fdb-102">Instance Activation</span></span>
<span data-ttu-id="d3fdb-103">W magazynie wystąpień przepływu pracy SQL uruchamia zadanie wewnętrznego, które okresowo budzi i wykrywa wystąpienia przepływu pracy do uruchomienia lub aktywowalnej w bazie danych trwałości.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-103">The SQL Workflow Instance Store runs an internal task that periodically wakes up and detects runnable or activatable workflow instances in the persistence database.</span></span> <span data-ttu-id="d3fdb-104">W przypadku odnalezienia wystąpienia przepływu pracy do uruchomienia, powiadamia hosta przepływu pracy, który jest w stanie aktywacji wystąpienie.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-104">If it finds a runnable workflow instance, it notifies the workflow host that is capable of activating the instance.</span></span> <span data-ttu-id="d3fdb-105">Jeśli w magazynie wystąpień znajdzie wystąpienia przepływu pracy aktywowalnej, powiadamia ogólnego hosta, który uaktywnia hosta przepływu pracy, który z kolei uruchamia wystąpienie przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-105">If the instance store finds an activatable workflow instance, it notifies a generic host that activates a workflow host, which in turn runs the workflow instance.</span></span> <span data-ttu-id="d3fdb-106">W poniższych sekcjach, w tym temacie opisano proces aktywacji wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-106">The following sections in this topic explain the instance activation process in detail.</span></span>  
  
##  <a name="RunnableSection"></a> <span data-ttu-id="d3fdb-107">Wykrywanie i aktywowanie wystąpienia przepływu pracy do uruchomienia</span><span class="sxs-lookup"><span data-stu-id="d3fdb-107">Detecting and Activating Runnable Workflow Instances</span></span>  
 <span data-ttu-id="d3fdb-108">W magazynie wystąpień przepływu pracy SQL uwzględnia wystąpienia przepływu pracy *do uruchomienia* Jeśli wystąpienie nie jest w stanie wstrzymania lub stanu ukończenia i spełnia następujące warunki:</span><span class="sxs-lookup"><span data-stu-id="d3fdb-108">The SQL Workflow Instance Store considers a workflow instance *runnable* if the instance is not in the suspended state or the completed state and satisfies the following conditions:</span></span>  
  
-   <span data-ttu-id="d3fdb-109">Wystąpienie jest odblokowany, a ma oczekujące czasomierza, który wygasł.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-109">The instance is unlocked and has a pending timer that has expired.</span></span>  
  
-   <span data-ttu-id="d3fdb-110">Wystąpienie znajdują się wygasłe blokady.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-110">The instance has an expired lock on it.</span></span>  
  
-   <span data-ttu-id="d3fdb-111">Wystąpienie jest odblokowany, a jego stan jest **Executing**.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-111">The instance is unlocked and its status is **Executing**.</span></span>  
  
 <span data-ttu-id="d3fdb-112">W magazynie wystąpień przepływu pracy SQL zgłasza <xref:System.Activities.DurableInstancing.HasRunnableWorkflowEvent> po znalezione wystąpienie do uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-112">The SQL Workflow Instance Store raises the <xref:System.Activities.DurableInstancing.HasRunnableWorkflowEvent> when it finds a runnable instance.</span></span> <span data-ttu-id="d3fdb-113">Dzięki temu obiekt SqlWorkflowInstanceStore Zatrzymuje monitorowanie do <xref:System.Activities.DurableInstancing.TryLoadRunnableWorkflowCommand> jest wywoływana raz w magazynie.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-113">After this, the SqlWorkflowInstanceStore stops monitoring until the <xref:System.Activities.DurableInstancing.TryLoadRunnableWorkflowCommand> is called once on the store.</span></span>  
  
 <span data-ttu-id="d3fdb-114">Hosta przepływu pracy, które zostały zasubskrybowane dla <xref:System.Activities.DurableInstancing.HasRunnableWorkflowEvent> i wykonuje ładowania możliwość wystąpienia <xref:System.Activities.DurableInstancing.TryLoadRunnableWorkflowCommand> przed w magazynie wystąpień, aby załadować wystąpienie do pamięci.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-114">A workflow host that has subscribed for the <xref:System.Activities.DurableInstancing.HasRunnableWorkflowEvent> and capable of loading the instance executes the <xref:System.Activities.DurableInstancing.TryLoadRunnableWorkflowCommand> against the instance store to load the instance into memory.</span></span> <span data-ttu-id="d3fdb-115">Hosta przepływu pracy jest uznawany za stanie ładowanie wystąpienia przepływu pracy, jeśli host i wystąpienia mają właściwości metadanych **WorkflowServiceType** ustawioną taką samą wartość.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-115">A workflow host is considered capable of loading a workflow instance if the host and the instance have metadata property **WorkflowServiceType** set to the same value.</span></span>  
  
## <a name="detecting-and-activating-activatable-workflow-instances"></a><span data-ttu-id="d3fdb-116">Wykrywanie i aktywowanie wystąpienia Aktywowalnej przepływu pracy</span><span class="sxs-lookup"><span data-stu-id="d3fdb-116">Detecting and Activating Activatable Workflow Instances</span></span>  
 <span data-ttu-id="d3fdb-117">Wystąpienie przepływu pracy jest uznawany za *aktywowalnej* wystąpienie jest do uruchomienia, jeśli ma hosta umożliwiającej ładowanie wystąpienia przepływu pracy jest uruchomiony na komputerze.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-117">A workflow instance is considered *activatable* if the instance is runnable and there is no workflow host that is capable of loading the instance is running on the computer.</span></span> <span data-ttu-id="d3fdb-118">Zobacz wykrywanie i aktywowanie do uruchomienia wystąpień przepływu pracy nad definicji wystąpienia przepływu pracy do uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-118">See Detecting and Activating Runnable Workflow Instances above for the definition of a runnable workflow instance.</span></span>  
  
 <span data-ttu-id="d3fdb-119">W magazynie wystąpień przepływu pracy SQL zgłasza <xref:System.Activities.DurableInstancing.HasActivatableWorkflowEvent> gdy znajdzie wystąpienia przepływu pracy aktywowalnej w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-119">The SQL Workflow Instance Store raises the <xref:System.Activities.DurableInstancing.HasActivatableWorkflowEvent> when it finds an activatable workflow instance in the database.</span></span> <span data-ttu-id="d3fdb-120">Dzięki temu obiekt SqlWorkflowInstanceStore Zatrzymuje monitorowanie do <xref:System.Activities.DurableInstancing.QueryActivatableWorkflowsCommand> jest wywoływana raz w magazynie.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-120">After this, the SqlWorkflowInstanceStore stops monitoring until the <xref:System.Activities.DurableInstancing.QueryActivatableWorkflowsCommand> is called once on the store.</span></span>  
  
 <span data-ttu-id="d3fdb-121">Kiedy host ogólnego subskrybowanych dla <xref:System.Activities.DurableInstancing.HasActivatableWorkflowEvent> odbiera zdarzenia, wykonywania <xref:System.Activities.DurableInstancing.QueryActivatableWorkflowsCommand> przed w magazynie wystąpień, do uzyskania parametrów aktywacji wymagane do utworzenia hosta przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-121">When a generic host that has subscribed for the <xref:System.Activities.DurableInstancing.HasActivatableWorkflowEvent> receives the event, it executes the <xref:System.Activities.DurableInstancing.QueryActivatableWorkflowsCommand> against the instance store to obtain activation parameters required to create a workflow host.</span></span> <span data-ttu-id="d3fdb-122">Ogólny host korzysta z tych parametrów aktywacji można utworzyć hosta przepływu pracy, który z kolei ładuje i uruchamia wystąpienie usługi do uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-122">The generic host uses these activation parameters to create a workflow host, which in turn loads and runs the runnable service instance.</span></span>  
  
## <a name="generic-hosts"></a><span data-ttu-id="d3fdb-123">Ogólny hostów</span><span class="sxs-lookup"><span data-stu-id="d3fdb-123">Generic Hosts</span></span>  
 <span data-ttu-id="d3fdb-124">Ogólny host jest hostem o wartość właściwości metadanych **WorkflowServiceType** dla hostów ogólnego ma ustawioną wartość **WorkflowServiceType.Any** aby wskazać, że może obsługiwać dowolny typ przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-124">A generic host is a host with the value of the metadata property **WorkflowServiceType** for generic hosts is set to **WorkflowServiceType.Any** to indicate that it can handle any workflow type.</span></span> <span data-ttu-id="d3fdb-125">Ogólny host ma parametr XName o nazwie **ActivationType**.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-125">A generic host has an XName parameter named **ActivationType**.</span></span>  
  
 <span data-ttu-id="d3fdb-126">Obecnie w magazynie wystąpień przepływu pracy SQL obsługuje ogólnego hosty z wartością parametru ActivationType ustawioną **WAS**.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-126">Currently, the SQL Workflow Instance Store supports generic hosts with value of the ActivationType parameter set to **WAS**.</span></span> <span data-ttu-id="d3fdb-127">Jeśli nie ustawiono ActivationType do usługi WAS, zgłasza wyjątek w magazynie wystąpień przepływu pracy SQL <xref:System.Runtime.DurableInstancing.InstancePersistenceException>.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-127">If the ActivationType is not set to WAS, the SQL Workflow Instance Store throws an <xref:System.Runtime.DurableInstancing.InstancePersistenceException>.</span></span> <span data-ttu-id="d3fdb-128">Usługi zarządzania przepływu pracy, który jest dostarczany z [!INCLUDE[dublin](../../../includes/dublin-md.md)] jest ogólny hosta, który ma typ aktywacji ustawioną **WAS**.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-128">The Workflow Management Service that ships with the [!INCLUDE[dublin](../../../includes/dublin-md.md)] is a generic host that has the activation type set to **WAS**.</span></span>  
  
 <span data-ttu-id="d3fdb-129">Aktywacji WAS rodzajowego hosta wymaga zestawu parametrów aktywacji w celu uzyskania adres punktu końcowego, w którym można aktywować nowe hosty.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-129">For WAS activation, a generic host requires a set of activation parameters to derive the endpoint address at which new hosts can be activated.</span></span> <span data-ttu-id="d3fdb-130">Parametry aktywacji WAS aktywacji są nazwę lokacji, ścieżka do aplikacji względem lokacji i ścieżka do usługi względem aplikacji.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-130">The activation parameters for WAS activation are name of the site, path to the application relative to the site, and path to the service relative to the application.</span></span> <span data-ttu-id="d3fdb-131">Te parametry aktywacji są przechowywane w magazynie wystąpień przepływu pracy SQL podczas wykonywania <xref:System.Activities.DurableInstancing.SaveWorkflowCommand>.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-131">The SQL Workflow Instance Store stores these activation parameters during the execution of the <xref:System.Activities.DurableInstancing.SaveWorkflowCommand>.</span></span>  
  
## <a name="runnable-instances-detection-period"></a><span data-ttu-id="d3fdb-132">Okres wykrywania wystąpień możliwych do uruchomienia</span><span class="sxs-lookup"><span data-stu-id="d3fdb-132">Runnable Instances Detection Period</span></span>  
 <span data-ttu-id="d3fdb-133">**Okres wykrywania wystąpień możliwych do uruchomienia** właściwość w magazynie wystąpień przepływu pracy SQL określa okres czasu, po którym w magazynie wystąpień przepływu pracy SQL uruchamia zadanie wykrywania do wykrywania wszelkich do uruchomienia lub aktywowalnej przepływu pracy wystąpienia w bazie danych trwałości od poprzedniego cyklu wykrywania.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-133">The **Runnable Instances Detection Period** property of the SQL Workflow Instance Store specifies the time period after which the SQL Workflow Instance Store runs a detection task to detect any runnable or activatable workflow instances in the persistence database after the previous detection cycle.</span></span> <span data-ttu-id="d3fdb-134">Zobacz [okres wykrywania wystąpień możliwych do uruchomienia](../../../docs/framework/windows-workflow-foundation/runnable-instances-detection-period.md) Aby uzyskać więcej informacji na temat tej właściwości.</span><span class="sxs-lookup"><span data-stu-id="d3fdb-134">See [Runnable Instances Detection Period](../../../docs/framework/windows-workflow-foundation/runnable-instances-detection-period.md) for more details on this property.</span></span>
