---
title: Wyznaczanie zakresu i widoczność definicji działania
ms.date: 03/30/2017
ms.assetid: ccdffa07-9503-4eea-a61b-17f1564368b7
ms.openlocfilehash: c7f656fee4960a8c43ac58abafba400ed9b35bc1
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/26/2020
ms.locfileid: "96289168"
---
# <a name="activity-definition-scoping-and-visibility"></a><span data-ttu-id="48f34-102">Wyznaczanie zakresu i widoczność definicji działania</span><span class="sxs-lookup"><span data-stu-id="48f34-102">Activity Definition Scoping and Visibility</span></span>

<span data-ttu-id="48f34-103">Zakres i widoczność definicji działań, podobnie jak określanie zakresu i widoczność obiektu, to zdolność innych obiektów lub działań do uzyskiwania dostępu do elementów członkowskich działania.</span><span class="sxs-lookup"><span data-stu-id="48f34-103">Activity definition scoping and visibility, just like scoping and visibility of an object, is the ability of other objects or activities to access members of the activity.</span></span> <span data-ttu-id="48f34-104">Definicja działania jest wykonywana przez następujące implementacje:</span><span class="sxs-lookup"><span data-stu-id="48f34-104">Activity definition is performed by the following implementations:</span></span>  
  
1. <span data-ttu-id="48f34-105">Określanie elementów członkowskich ( <xref:System.Activities.Argument> , <xref:System.Activities.Variable> , <xref:System.Activities.ActivityDelegate> obiektów i działań podrzędnych) dla działania ujawnia użytkownikom.</span><span class="sxs-lookup"><span data-stu-id="48f34-105">Determining the members (<xref:System.Activities.Argument>, <xref:System.Activities.Variable>, and <xref:System.Activities.ActivityDelegate> objects, and child activities) an activity exposes to its users.</span></span>  
  
2. <span data-ttu-id="48f34-106">Implementowanie logiki wykonywania działania</span><span class="sxs-lookup"><span data-stu-id="48f34-106">Implementing the execution logic of the activity</span></span>  
  
 <span data-ttu-id="48f34-107">Implementacja może dotyczyć członków, którzy nie są narażeni na odbiorców działania, ale są raczej szczegółowymi informacjami o implementacji.</span><span class="sxs-lookup"><span data-stu-id="48f34-107">The implementation may involve members that are not exposed to consumers of the activity, but are rather details of the implementation.</span></span>  <span data-ttu-id="48f34-108">Podobnie jak w przypadku definicji typu, model działania umożliwia autorowi kwalifikowanie widoczności elementu członkowskiego działania w odniesieniu do definicji definiowanego działania.</span><span class="sxs-lookup"><span data-stu-id="48f34-108">Similar to type definition, the activity model allows an author to qualify the visibility of an activity member regarding the definition of the activity being defined.</span></span>  <span data-ttu-id="48f34-109">Ta widoczność kontroluje aspekty użycia elementu członkowskiego, takie jak określanie zakresu danych.</span><span class="sxs-lookup"><span data-stu-id="48f34-109">This visibility governs aspects of member usage, such as data scoping.</span></span>  
  
## <a name="scope"></a><span data-ttu-id="48f34-110">Zakres</span><span class="sxs-lookup"><span data-stu-id="48f34-110">Scope</span></span>  

 <span data-ttu-id="48f34-111">Oprócz określania zakresu danych widoczność modelu działania może ograniczyć dostęp do innych aspektów działania, takich jak Walidacja, debugowanie, śledzenie lub śledzenie.</span><span class="sxs-lookup"><span data-stu-id="48f34-111">In addition to data scoping, activity model visibility can restrict access to other aspects of the activity, such as validation, debugging, tracking, or tracing.</span></span> <span data-ttu-id="48f34-112">Właściwości wykonywania wykorzystują widoczność i zakres dla charakterystyki wykonywania ograniczające do określonego zakresu definicji.</span><span class="sxs-lookup"><span data-stu-id="48f34-112">Execution properties use visibility and scoping for constraining execution characteristics to a particular scope of definition.</span></span> <span data-ttu-id="48f34-113">Pomocnicze katalogi główne używają widoczności i określania zakresu, aby ograniczyć stan przechwycony przez a <xref:System.Activities.Statements.CompensableActivity> do zakresu definicji, w której używane są działania kompensacyjne.</span><span class="sxs-lookup"><span data-stu-id="48f34-113">Secondary roots use visibility and scoping to constrain the state captured by a <xref:System.Activities.Statements.CompensableActivity> to the scope of definition in which the compensable activities are used.</span></span>  
  
## <a name="definition-and-usage"></a><span data-ttu-id="48f34-114">Definicja i użycie</span><span class="sxs-lookup"><span data-stu-id="48f34-114">Definition and usage</span></span>  

 <span data-ttu-id="48f34-115">Przepływ pracy jest tworzony przez tworzenie nowych działań przez dziedziczenie z klas działania podstawowego i używanie działań z [wbudowanej biblioteki działań](net-framework-4-5-built-in-activity-library.md).</span><span class="sxs-lookup"><span data-stu-id="48f34-115">A workflow is written by authoring new activities by inheriting from base activity classes, and by using activities from the [Built-In Activity Library](net-framework-4-5-built-in-activity-library.md).</span></span> <span data-ttu-id="48f34-116">Aby można było użyć działania, autor działania musi skonfigurować widoczność każdego składnika jego definicji.</span><span class="sxs-lookup"><span data-stu-id="48f34-116">In order to use an activity, the activity author must configure the visibility of each component of its definition.</span></span>  
  
### <a name="activity-members"></a><span data-ttu-id="48f34-117">Elementy członkowskie działania</span><span class="sxs-lookup"><span data-stu-id="48f34-117">Activity Members</span></span>  

 <span data-ttu-id="48f34-118">Model działania definiuje argumenty, zmienne, Delegaty i działania podrzędne, które działanie staje się dostępne dla klientów.</span><span class="sxs-lookup"><span data-stu-id="48f34-118">The activity model defines the arguments, variables, delegates, and child activities that the activity makes available to consumers.</span></span> <span data-ttu-id="48f34-119">Każdy z tych elementów członkowskich może być zadeklarowany jako `public` lub `private` .</span><span class="sxs-lookup"><span data-stu-id="48f34-119">Each of these members can be declared as `public` or `private`.</span></span> <span data-ttu-id="48f34-120">Publiczne składowe są konfigurowane przez konsumenta działania, natomiast `private` członkowie korzystają z implementacji ustalonej przez autora działania.</span><span class="sxs-lookup"><span data-stu-id="48f34-120">Public members are configured by the consumer of the activity, whereas `private` members use an implementation fixed by the author of the activity.</span></span> <span data-ttu-id="48f34-121">Reguły widoczności dla określania zakresu danych są następujące:</span><span class="sxs-lookup"><span data-stu-id="48f34-121">The visibility rules for data scoping are as follows:</span></span>  
  
1. <span data-ttu-id="48f34-122">Publiczne elementy członkowskie i publiczne elementy członkowskie publicznych działań podrzędnych mogą odwoływać się do zmiennych publicznych.</span><span class="sxs-lookup"><span data-stu-id="48f34-122">Public members and the public members of public child activities can reference public variables.</span></span>  
  
2. <span data-ttu-id="48f34-123">Prywatne elementy członkowskie i publiczne elementy członkowskie publicznych działań podrzędnych mogą odwoływać się do argumentów i zmiennych prywatnych.</span><span class="sxs-lookup"><span data-stu-id="48f34-123">Private members and the public members of public child activities can reference arguments and private variables.</span></span>  
  
 <span data-ttu-id="48f34-124">Członek, który może być ustawiony przez konsumenta działania, nigdy nie powinien być prywatny.</span><span class="sxs-lookup"><span data-stu-id="48f34-124">A member that can be set by the consumer of an activity should never be made private.</span></span>  
  
### <a name="authoring-models"></a><span data-ttu-id="48f34-125">Tworzenie modeli</span><span class="sxs-lookup"><span data-stu-id="48f34-125">Authoring Models</span></span>  

 <span data-ttu-id="48f34-126">Niestandardowe działania są definiowane przy użyciu <xref:System.Activities.NativeActivity> , <xref:System.Activities.Activity> , <xref:System.Activities.CodeActivity> , lub <xref:System.Activities.AsyncCodeActivity> .</span><span class="sxs-lookup"><span data-stu-id="48f34-126">Custom activities are defined by using <xref:System.Activities.NativeActivity>, <xref:System.Activities.Activity>, <xref:System.Activities.CodeActivity>, or <xref:System.Activities.AsyncCodeActivity>.</span></span> <span data-ttu-id="48f34-127">Działania, które pochodzą od tych klas mogą uwidaczniać różne typy elementów członkowskich z różnymi widoczności.</span><span class="sxs-lookup"><span data-stu-id="48f34-127">Activities that derive from these classes can expose different member types with different visibilities.</span></span>  
  
#### <a name="nativeactivity"></a><span data-ttu-id="48f34-128">NativeActivity</span><span class="sxs-lookup"><span data-stu-id="48f34-128">NativeActivity</span></span>  

 <span data-ttu-id="48f34-129">Działania, które pochodzą z <xref:System.Activities.NativeActivity> mają zachowanie, które są zapisywane w kodzie bezwzględnym i opcjonalnie można zdefiniować przy użyciu istniejących działań.</span><span class="sxs-lookup"><span data-stu-id="48f34-129">Activities that derive from <xref:System.Activities.NativeActivity> have behavior that is written in imperative code, and can optionally be defined by using existing activities.</span></span> <span data-ttu-id="48f34-130">Wygenerowanie działań od <xref:System.Activities.NativeActivity> przyznania dostępu do wszystkich funkcji udostępnianych przez środowisko uruchomieniowe.</span><span class="sxs-lookup"><span data-stu-id="48f34-130">Deriving activities from <xref:System.Activities.NativeActivity> grants access to all of the features exposed by the runtime.</span></span> <span data-ttu-id="48f34-131">Każdy element członkowski takiego działania można zdefiniować przy użyciu publicznej lub prywatnej widoczności, z wyjątkiem argumentów, które mogą być deklarowane tylko jako `public` .</span><span class="sxs-lookup"><span data-stu-id="48f34-131">Any member of such an activity can be defined by using either public or private visibility, except arguments, which can only be declared as `public`.</span></span>  
  
 <span data-ttu-id="48f34-132">Elementy członkowskie klas pochodnych z <xref:System.Activities.NativeActivity> są zadeklarowane w środowisku uruchomieniowym przy użyciu <xref:System.Activities.NativeActivityMetadata> struktury przekazaną do <xref:System.Activities.NativeActivity.CacheMetadata%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="48f34-132">Members of classes derived from <xref:System.Activities.NativeActivity> are declared to the runtime using the <xref:System.Activities.NativeActivityMetadata> struct passed to the <xref:System.Activities.NativeActivity.CacheMetadata%2A> method.</span></span>  
  
#### <a name="activity"></a><span data-ttu-id="48f34-133">Działanie</span><span class="sxs-lookup"><span data-stu-id="48f34-133">Activity</span></span>  

 <span data-ttu-id="48f34-134">Działania utworzone przy użyciu <xref:System.Activities.Activity> mają zachowanie, które jest przeznaczone wyłącznie do tworzenia innych działań.</span><span class="sxs-lookup"><span data-stu-id="48f34-134">Activities created by using <xref:System.Activities.Activity> have behavior that is designed strictly through composing other activities.</span></span> <span data-ttu-id="48f34-135"><xref:System.Activities.Activity>Klasa ma jedno działanie podrzędne implementacji, uzyskane przez środowisko uruchomieniowe przy użyciu <xref:System.Activities.Activity.Implementation%2A> .</span><span class="sxs-lookup"><span data-stu-id="48f34-135">The <xref:System.Activities.Activity> class has one implementation child activity, obtained by the runtime using <xref:System.Activities.Activity.Implementation%2A>.</span></span> <span data-ttu-id="48f34-136">Działanie wynikające z programu <xref:System.Activities.Activity> może definiować argumenty publiczne, zmienne publiczne, zaimportowane ActivityDelegate i zaimportowane działania.</span><span class="sxs-lookup"><span data-stu-id="48f34-136">An activity deriving from <xref:System.Activities.Activity> can define public arguments, public variables, imported ActivityDelegates, and imported Activities.</span></span>  
  
 <span data-ttu-id="48f34-137">Zaimportowane ActivityDelegate i działania są deklarowane jako publiczne elementy podrzędne działania, ale nie mogą być bezpośrednio zaplanowane przez działanie.</span><span class="sxs-lookup"><span data-stu-id="48f34-137">Imported ActivityDelegates and Activities are declared as public children of the activity, but cannot be directly scheduled by the activity.</span></span> <span data-ttu-id="48f34-138">Te informacje są używane podczas weryfikacji, aby uniknąć uruchamiania walidacji mających dostęp do elementów nadrzędnych w lokalizacjach, w których działanie nigdy nie zostanie wykonane.</span><span class="sxs-lookup"><span data-stu-id="48f34-138">This information is used during validation to avoid running parent-facing validations at locations where the activity will never execute.</span></span> <span data-ttu-id="48f34-139">Ponadto zaimportowane elementy podrzędne, podobnie jak publiczne elementy podrzędne, mogą być przywoływane i zaplanowane przez implementację działania.</span><span class="sxs-lookup"><span data-stu-id="48f34-139">Also, imported children, just like public children, can be referenced and scheduled by the activity’s implementation.</span></span> <span data-ttu-id="48f34-140">Oznacza to, że działanie, które importuje działanie o nazwie zakończeniu, może zawierać element <xref:System.Activities.Statements.Sequence> w implementacji, który planuje zakończeniu.</span><span class="sxs-lookup"><span data-stu-id="48f34-140">This means that an activity which imports an activity called Activity1 can contain a <xref:System.Activities.Statements.Sequence> in its implementation which schedules Activity1.</span></span>  
  
#### <a name="codeactivity-asynccodeactivity"></a><span data-ttu-id="48f34-141">Elementu CodeActivity/Metoda AsyncCodeActivity</span><span class="sxs-lookup"><span data-stu-id="48f34-141">CodeActivity/ AsyncCodeActivity</span></span>  

 <span data-ttu-id="48f34-142">Ta klasa bazowa służy do tworzenia zachowań w kodzie bezwzględnym.</span><span class="sxs-lookup"><span data-stu-id="48f34-142">This base class is used for authoring behavior in imperative code.</span></span> <span data-ttu-id="48f34-143">Działania, które pochodzą z tej klasy, mają dostęp tylko do tych, które ujawniają.</span><span class="sxs-lookup"><span data-stu-id="48f34-143">Activities that derive from this class only have access to the arguments they expose.</span></span> <span data-ttu-id="48f34-144">Oznacza to, że jedynymi elementami członkowskimi, które mogą uwidaczniać te działania, są argumenty publiczne.</span><span class="sxs-lookup"><span data-stu-id="48f34-144">This means that the only members that these activities can expose are public arguments.</span></span> <span data-ttu-id="48f34-145">Żadne inne elementy członkowskie lub widoczności nie mają zastosowania do tych działań.</span><span class="sxs-lookup"><span data-stu-id="48f34-145">No other members or visibilities apply to these activities.</span></span>  
  
#### <a name="summary-of-visibilities"></a><span data-ttu-id="48f34-146">Podsumowanie widoczności</span><span class="sxs-lookup"><span data-stu-id="48f34-146">Summary of visibilities</span></span>  

 <span data-ttu-id="48f34-147">Poniższa tabela zawiera podsumowanie informacji znajdujących się wcześniej w tej sekcji.</span><span class="sxs-lookup"><span data-stu-id="48f34-147">The following table summarizes the information earlier in this section.</span></span>  
  
|<span data-ttu-id="48f34-148">Typ elementu członkowskiego</span><span class="sxs-lookup"><span data-stu-id="48f34-148">Member Type</span></span>|<span data-ttu-id="48f34-149">NativeActivity</span><span class="sxs-lookup"><span data-stu-id="48f34-149">NativeActivity</span></span>|<span data-ttu-id="48f34-150">Działanie</span><span class="sxs-lookup"><span data-stu-id="48f34-150">Activity</span></span>|<span data-ttu-id="48f34-151">Elementu CodeActivity/Metoda AsyncCodeActivity</span><span class="sxs-lookup"><span data-stu-id="48f34-151">CodeActivity/ AsyncCodeActivity</span></span>|  
|-----------------|--------------------|--------------|--------------------------------------|  
|<span data-ttu-id="48f34-152">Argumenty</span><span class="sxs-lookup"><span data-stu-id="48f34-152">Arguments</span></span>|<span data-ttu-id="48f34-153">Publiczny/prywatny</span><span class="sxs-lookup"><span data-stu-id="48f34-153">Public/ Private</span></span>|<span data-ttu-id="48f34-154">Publiczne</span><span class="sxs-lookup"><span data-stu-id="48f34-154">Public</span></span>|<span data-ttu-id="48f34-155">nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="48f34-155">not applicable</span></span>|  
|<span data-ttu-id="48f34-156">Zmienne</span><span class="sxs-lookup"><span data-stu-id="48f34-156">Variables</span></span>|<span data-ttu-id="48f34-157">Publiczny/prywatny</span><span class="sxs-lookup"><span data-stu-id="48f34-157">Public/ Private</span></span>|<span data-ttu-id="48f34-158">Publiczne</span><span class="sxs-lookup"><span data-stu-id="48f34-158">Public</span></span>|<span data-ttu-id="48f34-159">nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="48f34-159">not applicable</span></span>|  
|<span data-ttu-id="48f34-160">Działania podrzędne</span><span class="sxs-lookup"><span data-stu-id="48f34-160">Child Activities</span></span>|<span data-ttu-id="48f34-161">Publiczny/prywatny</span><span class="sxs-lookup"><span data-stu-id="48f34-161">Public/ Private</span></span>|<span data-ttu-id="48f34-162">Publiczne, jeden stały prywatny element podrzędny zdefiniowany w implementacji.</span><span class="sxs-lookup"><span data-stu-id="48f34-162">Public, one fixed private child defined in Implementation.</span></span>|<span data-ttu-id="48f34-163">nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="48f34-163">not applicable</span></span>|  
|<span data-ttu-id="48f34-164">ActivityDelegate</span><span class="sxs-lookup"><span data-stu-id="48f34-164">ActivityDelegates</span></span>|<span data-ttu-id="48f34-165">Publiczny/prywatny</span><span class="sxs-lookup"><span data-stu-id="48f34-165">Public/ Private</span></span>|<span data-ttu-id="48f34-166">Publiczne</span><span class="sxs-lookup"><span data-stu-id="48f34-166">Public</span></span>|<span data-ttu-id="48f34-167">nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="48f34-167">not applicable</span></span>|  
  
 <span data-ttu-id="48f34-168">Ogólnie rzecz biorąc, element członkowski, który nie może zostać ustawiony przez konsumenta działania, nie powinien być publiczny.</span><span class="sxs-lookup"><span data-stu-id="48f34-168">In general, a member that cannot be set by the consumer of an activity should not be made public.</span></span>  
  
### <a name="execution-properties"></a><span data-ttu-id="48f34-169">Właściwości wykonania</span><span class="sxs-lookup"><span data-stu-id="48f34-169">Execution Properties</span></span>  

 <span data-ttu-id="48f34-170">W niektórych scenariuszach warto ograniczyć określoną właściwość wykonania do publicznych elementów podrzędnych działania.</span><span class="sxs-lookup"><span data-stu-id="48f34-170">In some scenarios, it is useful to scope a particular execution property to the public children of an activity.</span></span> <span data-ttu-id="48f34-171"><xref:System.Activities.ExecutionProperties>Kolekcja zawiera tę możliwość przy użyciu <xref:System.Activities.ExecutionProperties.Add%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="48f34-171">The <xref:System.Activities.ExecutionProperties> collection provides this capability with the <xref:System.Activities.ExecutionProperties.Add%2A> method.</span></span> <span data-ttu-id="48f34-172">Ta metoda ma parametr logiczny wskazujący, czy określona właściwość jest objęta zakresem do wszystkich elementów podrzędnych, czy tylko te, które są publiczne.</span><span class="sxs-lookup"><span data-stu-id="48f34-172">This method has a Boolean parameter indicating whether a particular property is scoped to all children, or just those that are public.</span></span> <span data-ttu-id="48f34-173">Jeśli ten parametr jest ustawiony na `true` , właściwość będzie widoczna tylko dla członków publicznych i publicznych elementów podrzędnych.</span><span class="sxs-lookup"><span data-stu-id="48f34-173">If this parameter is set to `true`, the property will only be visible to public members and the public members of their public children.</span></span>  
  
### <a name="secondary-roots"></a><span data-ttu-id="48f34-174">Pomocnicze elementy główne</span><span class="sxs-lookup"><span data-stu-id="48f34-174">Secondary Roots</span></span>  

 <span data-ttu-id="48f34-175">Pomocniczy katalog główny to wewnętrzny mechanizm środowiska uruchomieniowego służący do zarządzania stanem działań związanych z kompensacją.</span><span class="sxs-lookup"><span data-stu-id="48f34-175">A secondary root is the runtime’s internal mechanism for managing state for compensation activities.</span></span> <span data-ttu-id="48f34-176">Po <xref:System.Activities.Statements.CompensableActivity> zakończeniu działania jego stan nie jest czyszczony od razu.</span><span class="sxs-lookup"><span data-stu-id="48f34-176">When a <xref:System.Activities.Statements.CompensableActivity> has finished running, its state is not cleaned up immediately.</span></span> <span data-ttu-id="48f34-177">Zamiast tego stan jest obsługiwany przez środowisko uruchomieniowe w pomocniczym katalogu głównym do momentu zakończenia odcinka kompensacji.</span><span class="sxs-lookup"><span data-stu-id="48f34-177">Instead, the state is maintained by the runtime in a secondary root until the compensation episode has completed.</span></span> <span data-ttu-id="48f34-178">Środowiska lokalizacji przechwycone z pomocniczym katalogiem głównym odpowiadają zakresowi definicji, w której używane jest działanie kompensacyjne.</span><span class="sxs-lookup"><span data-stu-id="48f34-178">The location environments captured with the secondary root correspond to the scope of definition in which the Compensable activity is used.</span></span>
