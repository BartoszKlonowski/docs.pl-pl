---
title: "Potwierdź automatycznie wzorca"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 668aec65-78d3-4636-9c7b-deed643a18f9
caps.latest.revision: "6"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: 30aa268fbfa8a6f59491de30dbde6508ccdd7a68
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/18/2017
---
# <a name="auto-confirm-pattern"></a><span data-ttu-id="cc98e-102">Potwierdź automatycznie wzorca</span><span class="sxs-lookup"><span data-stu-id="cc98e-102">Auto-Confirm Pattern</span></span>
<span data-ttu-id="cc98e-103">W tym przykładzie składa się z trzech scenariuszy systemem pokazujący niestandardowego `AutoConfirmScope` działania.</span><span class="sxs-lookup"><span data-stu-id="cc98e-103">This sample consists of three scenarios that run illustrating a custom `AutoConfirmScope` activity.</span></span> <span data-ttu-id="cc98e-104">Pierwszy pokazano pomyślne wykonanie sekwencji działań compensable cztery gdzie drugie i trzecie są zagnieżdżone w `AutoConfirmScope`.</span><span class="sxs-lookup"><span data-stu-id="cc98e-104">The first sample shows the successful execution of a sequence of four compensable activities where the second and third are nested in an `AutoConfirmScope`.</span></span> <span data-ttu-id="cc98e-105">Druga próba zawiera takiej samej kolejności z powodu wyjątku występujących po wykonaniu czwarty <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="cc98e-105">The second sample shows the same sequence with an exception occurring after the execution of the fourth <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="cc98e-106">Trzeci scenariusz zawiera takiej samej kolejności z powodu wyjątku występujące w obrębie `AutoConfirmScope` po drugim <xref:System.Activities.Statements.CompensableActivity> zakończeniu.</span><span class="sxs-lookup"><span data-stu-id="cc98e-106">The third scenario shows the same sequence with an exception occurring in the `AutoConfirmScope` after the second <xref:System.Activities.Statements.CompensableActivity> completes.</span></span>  
  
 <span data-ttu-id="cc98e-107">W przykładzie pokazano wzorzec auto-confirm, gdy zostało potwierdzone wszystkie podrzędne działania compensable po pomyślnym ukończeniu zakresu.</span><span class="sxs-lookup"><span data-stu-id="cc98e-107">The sample demonstrates the auto-confirm pattern where all child compensable activities are confirmed upon successful completion of the scope.</span></span> <span data-ttu-id="cc98e-108">Ten wzorzec definiuje ważności wszystkich działań compensable podrzędnych, zgodnie z ich można już skompensować lub potwierdzić.</span><span class="sxs-lookup"><span data-stu-id="cc98e-108">This pattern defines the lifetime of all child compensable activities, as they can no longer be compensated or confirmed.</span></span>  
  
 <span data-ttu-id="cc98e-109">Zakres obejmuje <xref:System.Activities.Statements.TryCatch> gdzie <xref:System.Activities.Statements.TryCatch.Try%2A> wewnętrznej <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="cc98e-109">The scope consists of a <xref:System.Activities.Statements.TryCatch> where the <xref:System.Activities.Statements.TryCatch.Try%2A> is an internal <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="cc98e-110">Określony użytkownik treści `AutoConfirmScope` treść wewnętrzny <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="cc98e-110">The user-specified body of the `AutoConfirmScope` is the body of the inner <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="cc98e-111">Po tym wewnętrzny <xref:System.Activities.Statements.CompensableActivity> zakończeniu generuje <xref:System.Activities.Statements.CompensationToken> jako argument wyjściowy.</span><span class="sxs-lookup"><span data-stu-id="cc98e-111">When this internal <xref:System.Activities.Statements.CompensableActivity> completes, it produces a <xref:System.Activities.Statements.CompensationToken> as an out-argument.</span></span> <span data-ttu-id="cc98e-112">`AutoConfirmScope` Używa <xref:System.Activities.Statements.TryCatch.Finally%2A> do sprawdzenia, czy token został utworzony, a jeśli tak się stało, potwierdza to wewnętrzne <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="cc98e-112">The `AutoConfirmScope` uses a <xref:System.Activities.Statements.TryCatch.Finally%2A> to check whether the token has been produced and if it has then it confirms the inner <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="cc98e-113">Wewnętrzny <xref:System.Activities.Statements.CompensableActivity> wywołuje domyślną kompensację żadnych compensable działań, które mogą wystąpić w jego treści.</span><span class="sxs-lookup"><span data-stu-id="cc98e-113">The inner <xref:System.Activities.Statements.CompensableActivity> invokes the default compensation for any compensable activities that may exist in its body.</span></span>  
  
 <span data-ttu-id="cc98e-114">Pierwszy scenariusz przedstawia pomyślnego wykonania przepływu pracy i prezentuje działanie działania compensable drugi i trzeci już są potwierdzone po zakończeniu przepływu pracy i pierwszy i czwarty.</span><span class="sxs-lookup"><span data-stu-id="cc98e-114">The first scenario shows successful execution of the workflow and demonstrates that the second and third compensable activities are already confirmed when the workflow completes and the first and fourth are confirmed.</span></span> <span data-ttu-id="cc98e-115">Daje to potwierdzenie kolejności trzech, dwa, cztery, a drugi.</span><span class="sxs-lookup"><span data-stu-id="cc98e-115">This produces a confirmation order of three, two, four, and one.</span></span>  
  
 <span data-ttu-id="cc98e-116">Drugi scenariusz zawiera wyjątek, po zakończeniu działania compensable cztery.</span><span class="sxs-lookup"><span data-stu-id="cc98e-116">The second scenario shows an exception after the four compensable activities have completed.</span></span> <span data-ttu-id="cc98e-117">Ponieważ compensable działań 2 i 3 zostały już potwierdzone nie dotyczy to, ale jedno i czterema są wyrównane.</span><span class="sxs-lookup"><span data-stu-id="cc98e-117">Because compensable activities two and three are already confirmed they are unaffected but one and four are compensated.</span></span> <span data-ttu-id="cc98e-118">Ta daje potwierdzić trzy, potwierdź dwa, cztery kompensacji i kompensacji jeden.</span><span class="sxs-lookup"><span data-stu-id="cc98e-118">This produces confirm three, confirm two, compensate four and compensate one.</span></span>  
  
 <span data-ttu-id="cc98e-119">Końcowe scenariuszu pokazano, wykonanie nie powiodło się `AutoConfirmScope`.</span><span class="sxs-lookup"><span data-stu-id="cc98e-119">The final scenario shows unsuccessful execution of the `AutoConfirmScope`.</span></span> <span data-ttu-id="cc98e-120">W tym scenariuszu, wystąpi wyjątek po zakończeniu drugiego <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="cc98e-120">In this scenario, an exception occurs after the completion of the second <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="cc98e-121">Ponieważ nie wykonano trzeci i czwarty compensable działań, są one nie dotyczy.</span><span class="sxs-lookup"><span data-stu-id="cc98e-121">Because the third and fourth compensable activities have not executed, they are unaffected.</span></span> <span data-ttu-id="cc98e-122">Ponieważ zakres nie zakończyło się pomyślnie, drugi <xref:System.Activities.Statements.CompensableActivity> nie pobrać potwierdzone.</span><span class="sxs-lookup"><span data-stu-id="cc98e-122">Because the scope did not complete successfully, the second <xref:System.Activities.Statements.CompensableActivity> does not get confirmed.</span></span> <span data-ttu-id="cc98e-123">Tworzy i kompensacji kolejność dwóch następnie jeden.</span><span class="sxs-lookup"><span data-stu-id="cc98e-123">This produces and compensation order of two then one.</span></span>  
  
#### <a name="to-use-this-sample"></a><span data-ttu-id="cc98e-124">Aby użyć tego przykładu</span><span class="sxs-lookup"><span data-stu-id="cc98e-124">To use this sample</span></span>  
  
1.  <span data-ttu-id="cc98e-125">Przy użyciu [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], otwórz plik rozwiązania AutoConfirmSample.sln.</span><span class="sxs-lookup"><span data-stu-id="cc98e-125">Using [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)], open the AutoConfirmSample.sln solution file.</span></span>  
  
2.  <span data-ttu-id="cc98e-126">Aby tworzyć rozwiązania, naciśnij kombinację klawiszy CTRL + SHIFT + B.</span><span class="sxs-lookup"><span data-stu-id="cc98e-126">To build the solution, press CTRL+SHIFT+B.</span></span>  
  
3.  <span data-ttu-id="cc98e-127">Aby uruchomić rozwiązanie, naciśnij klawisze CTRL + F5.</span><span class="sxs-lookup"><span data-stu-id="cc98e-127">To run the solution, press CTRL+F5.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="cc98e-128">Próbki mogą być zainstalowane na tym komputerze.</span><span class="sxs-lookup"><span data-stu-id="cc98e-128">The samples may already be installed on your machine.</span></span> <span data-ttu-id="cc98e-129">Przed kontynuowaniem sprawdź, czy są dostępne dla następującego katalogu (ustawienie domyślne).</span><span class="sxs-lookup"><span data-stu-id="cc98e-129">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="cc98e-130">Jeśli ten katalog nie istnieje, przejdź do [Windows Communication Foundation (WCF) i Windows Workflow Foundation (WF) przykłady dla programu .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) pobrać wszystkie [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] i [!INCLUDE[wf1](../../../../includes/wf1-md.md)] próbek.</span><span class="sxs-lookup"><span data-stu-id="cc98e-130">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="cc98e-131">W tym przykładzie znajduje się w następującym katalogu.</span><span class="sxs-lookup"><span data-stu-id="cc98e-131">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WF\Scenario\Compensation\AutoConfirm`  
  
## <a name="see-also"></a><span data-ttu-id="cc98e-132">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="cc98e-132">See Also</span></span>
