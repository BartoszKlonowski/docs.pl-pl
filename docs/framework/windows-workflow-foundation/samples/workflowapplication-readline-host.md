---
title: ReadLine klasy Workflowapplication
ms.date: 03/30/2017
ms.assetid: f7b362be-cb42-40d7-b9ef-cfc4aed2455b
ms.openlocfilehash: 4388ff0285de58b0dc6f86af93aad84b2894373f
ms.sourcegitcommit: efff8f331fd9467f093f8ab8d23a203d6ecb5b60
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/02/2018
ms.locfileid: "43470856"
---
# <a name="workflowapplication-readline-host"></a><span data-ttu-id="7225a-102">ReadLine klasy Workflowapplication</span><span class="sxs-lookup"><span data-stu-id="7225a-102">WorkflowApplication ReadLine Host</span></span>
<span data-ttu-id="7225a-103">W tym przykładzie jest hostem ReadLine ogólnego.</span><span class="sxs-lookup"><span data-stu-id="7225a-103">This sample is a generic ReadLine host.</span></span> <span data-ttu-id="7225a-104">Możesz załadować i uruchomić każdy przepływ pracy za pomocą dołączonej `ReadLine` działania (lub innych działań, takich jak go, które pobierają dane z zakładki wznowiono z użyciem ciągów).</span><span class="sxs-lookup"><span data-stu-id="7225a-104">You can load and run any workflow using the included `ReadLine` activity (or other activities like it that get data from bookmarks resumed with strings).</span></span> <span data-ttu-id="7225a-105">Dane wyjściowe z `WriteLine` działania lub cokolwiek zapisywania <xref:System.Activities.Statements.WriteLine.TextWriter%2A> rozszerzenia są kierowane do okna hosta.</span><span class="sxs-lookup"><span data-stu-id="7225a-105">Output from the `WriteLine` activity or anything writing to the <xref:System.Activities.Statements.WriteLine.TextWriter%2A> extension is directed to the host window.</span></span> <span data-ttu-id="7225a-106">Jeśli wystąpienie jest w stanie bezczynności, w polu kombi są wyświetlane dostępne zakładki dla tego wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="7225a-106">When an instance is idle, the available bookmarks for that instance appear in a combo box.</span></span> <span data-ttu-id="7225a-107">Wybierając zakładkę, wprowadzanie za jakiś tekst i naciśnięcie przycisku zakładki wznowienie kontynuować wykonywanie przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="7225a-107">Selecting a bookmark, inputting some text, and pressing the resume bookmark button continue the execution of the workflow.</span></span> <span data-ttu-id="7225a-108">Możesz również anulować, przerwać lub wybrany przepływ pracy zostanie zakończony.</span><span class="sxs-lookup"><span data-stu-id="7225a-108">You can also cancel, abort, or terminate a selected workflow.</span></span> <span data-ttu-id="7225a-109">Trwałość jest domyślnie włączone — można zamknąć hosta i go przywrócić i listy wystąpień jest wypełniana wystąpień w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="7225a-109">Persistence is on by default – you can shut down the host and bring it back, and the instance list is populated with the instances stored in the database.</span></span> <span data-ttu-id="7225a-110">Jest używane śledzenie danych wyjściowych <xref:System.Activities.WorkflowApplication>-zdarzeń do hosta o możliwość dodania szczegółowe śledzenie na poziomie działania na poziomie.</span><span class="sxs-lookup"><span data-stu-id="7225a-110">Tracking is used to output <xref:System.Activities.WorkflowApplication>-level events to the host with the option to add detailed tracking at the activity level.</span></span>  
  
## <a name="sample-details"></a><span data-ttu-id="7225a-111">Przykład szczegółów</span><span class="sxs-lookup"><span data-stu-id="7225a-111">Sample Details</span></span>  
 <span data-ttu-id="7225a-112">Istnieją dwie warstwy na tym hoście: widok i Menadżerze wystąpień.</span><span class="sxs-lookup"><span data-stu-id="7225a-112">There are two layers to this host: the view and the instance manager.</span></span> <span data-ttu-id="7225a-113">Widok składa się z `HostView` i `WorkflowApplicationInfo` klasy.</span><span class="sxs-lookup"><span data-stu-id="7225a-113">The view consists of the `HostView` and `WorkflowApplicationInfo` classes.</span></span> <span data-ttu-id="7225a-114">Ogólny wzorzec dla tego hosta polega na `HostView` na podstawie klasy, aby wyświetlić dostępne opcje użytkownikowi `WorkflowApplicationInfo` obiektów, które są przechowywane w uzasadniony sposób w synchronizacji z wystąpieniami, stanowią one.</span><span class="sxs-lookup"><span data-stu-id="7225a-114">The general pattern for this host is for the `HostView` class to display available options to the user based on `WorkflowApplicationInfo` objects that are kept reasonably in synchronization with the instances they represent.</span></span> <span data-ttu-id="7225a-115">Warstwa Menedżera wystąpienia składa się z `WorkflowApplicationManager` klasy, czyli podstawowy cała komunikacja z hosta i `WorkflowDefinitionExtension` klasy, która będzie nadal występować relacja między wystąpienia, jak i definicja program został uruchomiony z i kilka innych klas.</span><span class="sxs-lookup"><span data-stu-id="7225a-115">The instance manager layer consists of the `WorkflowApplicationManager` class, which is the core of all host communications, and the `WorkflowDefinitionExtension` class, which persists the relationship between an instance and the program definition it was started with and a few other classes.</span></span> <span data-ttu-id="7225a-116">`HostView` Wywołania sterowania operacjami na `WorkflowApplicationManager`.</span><span class="sxs-lookup"><span data-stu-id="7225a-116">The `HostView` calls control operations on the `WorkflowApplicationManager`.</span></span> <span data-ttu-id="7225a-117">Te wywołania są zazwyczaj asynchronicznych do obsługi interfejsu użytkownika dynamiczne.</span><span class="sxs-lookup"><span data-stu-id="7225a-117">These calls are typically asynchronous to maintain a responsive user interface.</span></span> <span data-ttu-id="7225a-118">Gdy asynchroniczną wywołuje zakończeniu `WorkflowApplicationManager` wykonywania wywołań do warstwy widok za pomocą dobrze zdefiniowanych interfejsu (`IHostView`).</span><span class="sxs-lookup"><span data-stu-id="7225a-118">When the asynchronous calls complete, the `WorkflowApplicationManager` makes calls back into the view layer through a well-defined interface (`IHostView`).</span></span> <span data-ttu-id="7225a-119">`HostView` Klasa wywołuje w większości przypadków te wywołania z `WorkflowApplicationManager` klasy do wątku interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="7225a-119">The `HostView` class most often dispatches these calls from the `WorkflowApplicationManager` class to the user interface thread.</span></span> <span data-ttu-id="7225a-120">Pisanie tekstu jest przeprowadzane sprawdzanie wątkowo <xref:System.Activities.Statements.WriteLine.TextWriter%2A> obiekty dostarczane przez `HostView` klasy.</span><span class="sxs-lookup"><span data-stu-id="7225a-120">Text writing is done to thread-safe <xref:System.Activities.Statements.WriteLine.TextWriter%2A> objects provided by the `HostView` class.</span></span> <span data-ttu-id="7225a-121">Interfejs użytkownika nie jest jedyną czynnością generujących zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="7225a-121">The user interface is not the only thing generating events.</span></span> <span data-ttu-id="7225a-122"><xref:System.Activities.WorkflowApplication> Obiektów również sygnał `WorkflowApplicationManager` po przejściu `Idle`, `Complete`, czy `Aborted`, na przykład.</span><span class="sxs-lookup"><span data-stu-id="7225a-122">The <xref:System.Activities.WorkflowApplication> objects also signal the `WorkflowApplicationManager` when they go `Idle`, `Complete`, or are `Aborted`, for example.</span></span> <span data-ttu-id="7225a-123">`WorkflowApplicationManager` Klasa otrzymuje off wątek zdarzenia wysyłki czyszczenia lub aktualizowanie pracy do hosta.</span><span class="sxs-lookup"><span data-stu-id="7225a-123">The `WorkflowApplicationManager` class gets off the event thread by dispatching clean up or updating work to the host.</span></span>  
  
 <span data-ttu-id="7225a-124">Rejestrowanie plików używane do uruchomienia <xref:System.Activities.WorkflowApplication> jest zapewniana przez `WorkflowDefinitionExtension` klasy.</span><span class="sxs-lookup"><span data-stu-id="7225a-124">The recording of the file used to launch a <xref:System.Activities.WorkflowApplication> is facilitated by the `WorkflowDefinitionExtension` class.</span></span> <span data-ttu-id="7225a-125">Implementuje <xref:System.Activities.Persistence.PersistenceIOParticipant> interfejsu do uczestnictwa w trwałości i utrzymują się ścieżkę do definicji przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="7225a-125">It implements the <xref:System.Activities.Persistence.PersistenceIOParticipant> interface to participate in persistence and persist the path to the workflow definition.</span></span>  
  
 <span data-ttu-id="7225a-126">`WorkflowApplicationManager.Load` Metoda używa przechowywanych ścieżki do utworzenia wystąpienia programy przepływu pracy wymagane do załadowania niedokończone <xref:System.Activities.WorkflowApplication> obiektów.</span><span class="sxs-lookup"><span data-stu-id="7225a-126">The `WorkflowApplicationManager.Load` method uses the stored path to instantiate the workflow programs required for loading unfinished <xref:System.Activities.WorkflowApplication> objects.</span></span>  
  
#### <a name="to-set-up-build-and-run-the-sample"></a><span data-ttu-id="7225a-127">Aby skonfigurować, tworzenie i uruchamianie aplikacji przykładowej</span><span class="sxs-lookup"><span data-stu-id="7225a-127">To set up, build, and run the sample</span></span>  
  
1.  <span data-ttu-id="7225a-128">Ten przykładowy skrypt wymaga zainstalowania programu SQL Express.</span><span class="sxs-lookup"><span data-stu-id="7225a-128">This sample requires SQL Express to be installed.</span></span> <span data-ttu-id="7225a-129">Program SQL Express jest dostarczany z [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)].</span><span class="sxs-lookup"><span data-stu-id="7225a-129">SQL Express comes with [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)].</span></span>  
  
2.  <span data-ttu-id="7225a-130">Otwórz wiersz polecenia programu Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="7225a-130">Open a Visual Studio 2010 command prompt.</span></span>  
  
3.  <span data-ttu-id="7225a-131">Przejdź do katalogu próbki (\WF\Basic\Execution\ControllingWorkflowApplications), a następnie uruchom CreateInstanceStore.cmd.</span><span class="sxs-lookup"><span data-stu-id="7225a-131">Navigate to the sample directory (\WF\Basic\Execution\ControllingWorkflowApplications) and run CreateInstanceStore.cmd.</span></span>  
  
4.  <span data-ttu-id="7225a-132">Skrypt CreateInstanceStore.cmd próbuje utworzyć bazę danych w domyślnym wystąpieniu programu SQL Server 2008 Express.</span><span class="sxs-lookup"><span data-stu-id="7225a-132">The CreateInstanceStore.cmd script attempts to create the database on the default instance of SQL Server 2008 Express.</span></span> <span data-ttu-id="7225a-133">Jeśli chcesz zainstalować bazę danych w innym wystąpieniu, należy zmodyfikować skrypt, aby to zrobić.</span><span class="sxs-lookup"><span data-stu-id="7225a-133">If you want to install the database on a different instance, modify the script to do so.</span></span>  
  
5.  <span data-ttu-id="7225a-134">Kompilowanie projektu WorkflowApplicationReadLineHost i uruchom go z poziomu wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="7225a-134">Compile the WorkflowApplicationReadLineHost project and run it from the command line.</span></span>  
  
6.  <span data-ttu-id="7225a-135">Po uruchomieniu trwałości można opcjonalnie Włączanie i wyłączanie.</span><span class="sxs-lookup"><span data-stu-id="7225a-135">Once running, you can optionally turn persistence off or on.</span></span> <span data-ttu-id="7225a-136">Dodatkowo można włączyć opcjonalnie szczegółowe działania lub wyłącza śledzenie.</span><span class="sxs-lookup"><span data-stu-id="7225a-136">Further, you can optionally turn detailed activity tracking on or off.</span></span>  
  
7.  <span data-ttu-id="7225a-137">Naciśnij przycisk wielokropka obok **Uruchom** przycisk, aby przejść do przepływu pracy zdefiniowanego w pliku XAML</span><span class="sxs-lookup"><span data-stu-id="7225a-137">Press the ellipsis button next to the **Run** button to browse for a workflow defined in a XAML file</span></span>  
  
     <span data-ttu-id="7225a-138">Dwa przykłady można znaleźć w folderze SampleWorkflows.</span><span class="sxs-lookup"><span data-stu-id="7225a-138">Two samples can be found under the SampleWorkflows folder.</span></span> <span data-ttu-id="7225a-139">W przykładzie parallel1.xaml przechodzi bezczynności.</span><span class="sxs-lookup"><span data-stu-id="7225a-139">The parallel1.xaml example goes idle.</span></span>  
  
8.  <span data-ttu-id="7225a-140">Po wybraniu przykład naciśnij **Uruchom** przycisku.</span><span class="sxs-lookup"><span data-stu-id="7225a-140">Once an example is selected, press the **Run** button.</span></span>  
  
9. <span data-ttu-id="7225a-141">Jeśli lub gdy przepływ pracy przechodzi w stan bezczynności, **zakładki** pola kombi jest wypełniana przy użyciu dostępnych zakładek.</span><span class="sxs-lookup"><span data-stu-id="7225a-141">If or when the workflow goes idle, the **Bookmarks** combo box is populated with available bookmarks.</span></span>  
  
10. <span data-ttu-id="7225a-142">Opcje dotyczą na tym etapie wznowienie zakładki, anulować, przerwać lub zakończyć przepływ pracy.</span><span class="sxs-lookup"><span data-stu-id="7225a-142">The options at this point are to resume a bookmark, cancel, abort, or terminate the workflow.</span></span> <span data-ttu-id="7225a-143">Można również zamknąć hosta i uruchom go ponownie.</span><span class="sxs-lookup"><span data-stu-id="7225a-143">You can also shut down the host and restart it.</span></span> <span data-ttu-id="7225a-144">Jeśli pole pozostanie na trwałości, wystąpienia są załadowane podczas zamykania i ponownie załadowany w menu start w górę.</span><span class="sxs-lookup"><span data-stu-id="7225a-144">If persistence is left on, the instances are unloaded on shutdown and reloaded on start up.</span></span>  
  
     <span data-ttu-id="7225a-145">Aby wznowić zakładki, wybierz żądane zakładkę, wpisz wartość w polu tekstowym, obok pola kombi, a następnie naciśnij klawisz **wznowienie zakładki**.</span><span class="sxs-lookup"><span data-stu-id="7225a-145">To resume a bookmark, select the desired bookmark, type in a value in the text box next to the combo box and press **Resume Bookmark**.</span></span>  
  
#### <a name="to-remove-the-instance-store-database"></a><span data-ttu-id="7225a-146">Aby usunąć wystąpienie bazy danych magazynu</span><span class="sxs-lookup"><span data-stu-id="7225a-146">To remove the instance store database</span></span>  
  
1.  <span data-ttu-id="7225a-147">Otwórz wiersz polecenia programu Visual Studio 2010.</span><span class="sxs-lookup"><span data-stu-id="7225a-147">Open a Visual Studio 2010 command prompt.</span></span>  
  
2.  <span data-ttu-id="7225a-148">Przejdź do katalogu próbki (\WF\Basic\Execution\ControllingWorkflowApplications), a następnie uruchom RemoveInstanceStore.cmd.</span><span class="sxs-lookup"><span data-stu-id="7225a-148">Navigate to the sample directory (\WF\Basic\Execution\ControllingWorkflowApplications) and run RemoveInstanceStore.cmd.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="7225a-149">Przykłady może już być zainstalowany na tym komputerze.</span><span class="sxs-lookup"><span data-stu-id="7225a-149">The samples may already be installed on your machine.</span></span> <span data-ttu-id="7225a-150">Przed kontynuowaniem sprawdź, czy są dostępne dla następującego katalogu (ustawienie domyślne).</span><span class="sxs-lookup"><span data-stu-id="7225a-150">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="7225a-151">Jeśli ten katalog nie istnieje, przejdź do strony [Windows Communication Foundation (WCF) i przykłady Windows Workflow Foundation (WF) dla platformy .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) do pobierania wszystkich Windows Communication Foundation (WCF) i [!INCLUDE[wf1](../../../../includes/wf1-md.md)] przykładów.</span><span class="sxs-lookup"><span data-stu-id="7225a-151">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="7225a-152">W tym przykładzie znajduje się w następującym katalogu.</span><span class="sxs-lookup"><span data-stu-id="7225a-152">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WF\Basic\Execution\ControllingWorkflowApplications`