---
title: Opóźnienie bezwzględne
ms.date: 03/30/2017
ms.assetid: b483139a-39bb-4560-8003-8969a8fc2cd1
ms.openlocfilehash: 30719a4340b738a7462584c4dca00f6d5d90ac72
ms.sourcegitcommit: efff8f331fd9467f093f8ab8d23a203d6ecb5b60
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/03/2018
ms.locfileid: "43486105"
---
# <a name="absolute-delay"></a><span data-ttu-id="cdb52-102">Opóźnienie bezwzględne</span><span class="sxs-lookup"><span data-stu-id="cdb52-102">Absolute Delay</span></span>
<span data-ttu-id="cdb52-103">Główne scenariusz, w tym przykładzie jest opóźnienie do określonego <xref:System.DateTime> pomocą timerów trwałe w aplikacji przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="cdb52-103">The main scenario for this sample is to delay until a specified <xref:System.DateTime> using durable timers in a workflow application.</span></span> <span data-ttu-id="cdb52-104">To różni się od przy użyciu wbudowanych <xref:System.Activities.Statements.Delay> działania, ponieważ tylko umożliwi opóźnienia, zanim danego <xref:System.TimeSpan> (lub liczba minut i sekund).</span><span class="sxs-lookup"><span data-stu-id="cdb52-104">This is different from using the built-in <xref:System.Activities.Statements.Delay> activity as this will only allow you to delay for a given <xref:System.TimeSpan> (or number of minutes/seconds).</span></span>  
  
 <span data-ttu-id="cdb52-105">Niektóre rzeczywistych scenariuszy, w których warto takiego rozróżnienia, obejmują następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="cdb52-105">Some real-life scenarios in which you may want to make this distinction include the following:</span></span>  
  
1.  <span data-ttu-id="cdb52-106">Chcesz Opóźnij wysyłanie wiadomości przez 30 sekund upewnić się, że zostało zgłoszone przez Ciebie wszelkie błędy.</span><span class="sxs-lookup"><span data-stu-id="cdb52-106">You want to delay sending a mail for 30 seconds to make sure you didn’t make any errors.</span></span>  
  
2.  <span data-ttu-id="cdb52-107">Jesteś przeciążonego i ma być opóźnienie wszystkie swoje wiadomości e-mail do normalnego godzinach (na przykład 8: 00).</span><span class="sxs-lookup"><span data-stu-id="cdb52-107">You are working overtime and want to delay all of your mails until normal business hours (such as 8 am).</span></span>  
  
## <a name="demonstrates"></a><span data-ttu-id="cdb52-108">Demonstracje</span><span class="sxs-lookup"><span data-stu-id="cdb52-108">Demonstrates</span></span>  
  
1.  <span data-ttu-id="cdb52-109"><xref:System.Activities.Statements.DurableTimerExtension> implementowania opóźnienie bezwzględne</span><span class="sxs-lookup"><span data-stu-id="cdb52-109"><xref:System.Activities.Statements.DurableTimerExtension> for implementing Absolute Delay</span></span>  
  
2.  <span data-ttu-id="cdb52-110">Konfigurowanie trwałości za pomocą <xref:System.Activities.WorkflowApplication> dla trwałego czasomierzy</span><span class="sxs-lookup"><span data-stu-id="cdb52-110">Setting up persistence using <xref:System.Activities.WorkflowApplication> for Durable Timers</span></span>  
  
3.  <span data-ttu-id="cdb52-111">Korzystanie z <xref:System.Activities.NativeActivity%601> z punktów rozszerzeń</span><span class="sxs-lookup"><span data-stu-id="cdb52-111">Use of <xref:System.Activities.NativeActivity%601> for using Extensibility points</span></span>  
  
4.  <span data-ttu-id="cdb52-112">Korzystanie z <xref:System.Activities.CodeActivity%601> w działaniu SendEmail</span><span class="sxs-lookup"><span data-stu-id="cdb52-112">Use of <xref:System.Activities.CodeActivity%601> in the SendEmail activity</span></span>  
  
5.  <xref:System.Activities.Statements.Delay>  
  
6.  <span data-ttu-id="cdb52-113">Tylko do XAML przepływu pracy</span><span class="sxs-lookup"><span data-stu-id="cdb52-113">XAML-only workflow</span></span>  
  
 <span data-ttu-id="cdb52-114">W tym przykładzie pokazano, jak utworzyć niestandardowe działanie, które pobiera <xref:System.DateTime> i używa czasomierzy trwałe, aby zarejestrować czas trwania opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="cdb52-114">This sample demonstrates how to create a custom activity which takes in a <xref:System.DateTime> and uses durable timers to register the delay duration.</span></span> <span data-ttu-id="cdb52-115">Korzystając z czasomierzy trwałe, należy użyć <xref:System.Activities.NativeActivity> utworzyć zakładki, ponieważ będzie potrzebny do zarejestrowania tego zakładki z rozszerzeniem czasomierza.</span><span class="sxs-lookup"><span data-stu-id="cdb52-115">When using durable timers, you must use a <xref:System.Activities.NativeActivity> to create a bookmark, as you will need to register this bookmark with the timer extension.</span></span> <span data-ttu-id="cdb52-116">W tym przykładzie, po upływie okresu działania czasomierza trwałe `OnTimerExpired` metoda zostanie wywołana.</span><span class="sxs-lookup"><span data-stu-id="cdb52-116">In this sample, when the durable timer expires, the `OnTimerExpired` method will be called.</span></span> <span data-ttu-id="cdb52-117">Upewnij się, którego dodajesz rozszerzenie czasomierza w <xref:System.Activities.NativeActivity%601.CacheMetadata%2A> zdarzenie, aby upewnić się, udostępniasz środowisko uruchomieniowe z tymi informacjami.</span><span class="sxs-lookup"><span data-stu-id="cdb52-117">Make sure that you are adding the timer extension in the <xref:System.Activities.NativeActivity%601.CacheMetadata%2A> event to ensure you are providing the runtime with this information.</span></span> <span data-ttu-id="cdb52-118">Tylko inne szczegółowo opisuje implementacja jest, musisz zaimplementować logikę do konwersji z <xref:System.DateTime> do <xref:System.TimeSpan>, ponieważ czasomierze trwałe tylko <xref:System.DateTime>.</span><span class="sxs-lookup"><span data-stu-id="cdb52-118">The only other implementation detail is that you will need to implement logic to convert from <xref:System.DateTime> to <xref:System.TimeSpan>, as durable timers only take in a <xref:System.DateTime>.</span></span> <span data-ttu-id="cdb52-119">Należy pamiętać, że wygaśnięcie małych dokładność wykonując</span><span class="sxs-lookup"><span data-stu-id="cdb52-119">Do note that there is a small lapse in accuracy by doing</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="cdb52-120">Istnieje mały utratą dokładności przez konwersję z <xref:System.DateTime> do <xref:System.TimeSpan>.</span><span class="sxs-lookup"><span data-stu-id="cdb52-120">There is a small loss of accuracy by converting from <xref:System.DateTime> to <xref:System.TimeSpan>.</span></span>  
  
 <span data-ttu-id="cdb52-121">Ten przykład pokazuje również, jak włączanie stanów trwałych dla <xref:System.Activities.WorkflowApplication>.</span><span class="sxs-lookup"><span data-stu-id="cdb52-121">This sample also demonstrates how to turn on persistence for a <xref:System.Activities.WorkflowApplication>.</span></span> <span data-ttu-id="cdb52-122">Dla tego konkretnego przykładu użyjemy czasomierzy trwałe, w których danych przepływu pracy zostanie usunięty w bazie danych trwałości w czasie bezczynności podczas oczekiwania na czasomierz wygaśnie.</span><span class="sxs-lookup"><span data-stu-id="cdb52-122">For this particular sample, we will be using durable timers in which the workflow data will be unloaded into the persistence database during the idle time while waiting for timer to expire.</span></span> <span data-ttu-id="cdb52-123">Ta implementacja można również dla innych akcji trwałości.</span><span class="sxs-lookup"><span data-stu-id="cdb52-123">This implementation can also be used for other persistence actions.</span></span> <span data-ttu-id="cdb52-124">Niniejszy przykład pokazuje, jak skonfigurować stan trwały parametry połączenia z programem SQL Server oraz sposób tworzenia magazynu wystąpienia w celu utrwalenia danych dla wystąpienia przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="cdb52-124">This sample shows how to set up the persistence connection string with SQL Server, and how to create the instance store in order to persist the data for workflow instances.</span></span> <span data-ttu-id="cdb52-125">Logika znajduje się na temat sposobu wznowić przepływ pracy, gdy zdarzenie jest zgłaszane, co sprawia, że wystąpienie przepływu pracy jest możliwy do uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="cdb52-125">Logic is provided on how to resume the workflow once an event is raised which makes the workflow instance runnable.</span></span>  
  
 <span data-ttu-id="cdb52-126">Podczas wykonywania kroków za pośrednictwem tego przykładu, zobaczysz, że czas, w którym wbudowane opóźnienie rozpoczyna się i kończy, który z kolei spowoduje, że wiadomość e-mail do wysłania.</span><span class="sxs-lookup"><span data-stu-id="cdb52-126">As you step through this sample, you will see the time in which the built-in delay begins and completes, which in turn will cause an email message to be sent.</span></span> <span data-ttu-id="cdb52-127">W efekcie działania AbsoluteDelay zatrzyma się aż do określonej <xref:System.DateTime> (lub 0 (w sekundach) Jeśli <xref:System.DateTime> wygasła) co z kolei spowoduje wysłanie wiadomość e-mail po upływie.</span><span class="sxs-lookup"><span data-stu-id="cdb52-127">From there, the AbsoluteDelay activity will halt until a specified <xref:System.DateTime> (or 0 seconds if the <xref:System.DateTime> has expired) which in turn will send out an email upon expiration.</span></span> <span data-ttu-id="cdb52-128">Spowoduje to wyświetlenie dwóch różnych zastosowań wbudowanych <xref:System.Activities.Statements.Delay> funkcjonalność w porównaniu z użyciem AbsoluteDelay działania.</span><span class="sxs-lookup"><span data-stu-id="cdb52-128">This will show the two different use cases of the built-in <xref:System.Activities.Statements.Delay> functionality versus using an AbsoluteDelay activity.</span></span>  
  
#### <a name="to-set-up-build-and-run-the-sample"></a><span data-ttu-id="cdb52-129">Aby skonfigurować, tworzenie i uruchamianie aplikacji przykładowej</span><span class="sxs-lookup"><span data-stu-id="cdb52-129">To set up, build, and run the sample</span></span>  
  
1.  <span data-ttu-id="cdb52-130">Upewnij się, że program SQL Server Express (lub nowszy) zainstalowane na tym komputerze</span><span class="sxs-lookup"><span data-stu-id="cdb52-130">Ensure you have SQL Server Express (or higher) installed on your machine</span></span>  
  
2.  <span data-ttu-id="cdb52-131">Uruchom plik setup.cmd (z programu WF/Basic/Services/AbsoluteDelay/CS) [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] wiersza polecenia, aby utworzyć bazę danych AbsoluteDelaySampleDB, tworzony jest schemat trwałości i tworzenie logiki trwałości.</span><span class="sxs-lookup"><span data-stu-id="cdb52-131">Run setup.cmd (from WF/Basic/Services/AbsoluteDelay/CS) in a [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)] command prompt to create the AbsoluteDelaySampleDB database, create the persistence schema and create the persistence logic.</span></span>  
  
3.  <span data-ttu-id="cdb52-132">Otwórz rozwiązanie w [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)].</span><span class="sxs-lookup"><span data-stu-id="cdb52-132">Open the solution in [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)].</span></span>  
  
4.  <span data-ttu-id="cdb52-133">Określ czas trwania w działaniu opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="cdb52-133">Specify the Duration in the Delay activity.</span></span>  
  
5.  <span data-ttu-id="cdb52-134">Określ czas wygaśnięcia w działaniu AbsoluteDelay.</span><span class="sxs-lookup"><span data-stu-id="cdb52-134">Specify the ExpirationTime in the AbsoluteDelay activity.</span></span>  
  
6.  <span data-ttu-id="cdb52-135">Zaktualizuj pola SendMailTo, SendMailFrom, SendMailSubject, SendMailBody i SmtpHost w działaniu SendMail.</span><span class="sxs-lookup"><span data-stu-id="cdb52-135">Update the SendMailTo, SendMailFrom, SendMailSubject, SendMailBody, and SmtpHost fields in the SendMail activity.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="cdb52-136">Jeśli nie zostanie wprowadzony nieprawidłowy host SMTP, aplikacji spowoduje zgłoszenie wyjątku SMTP.</span><span class="sxs-lookup"><span data-stu-id="cdb52-136">If you do not enter a valid SMTP host, the application will throw a SMTP exception.</span></span>  
  
7.  <span data-ttu-id="cdb52-137">Skompiluj rozwiązanie, wybierając **kompilacji**, **Kompiluj rozwiązanie**.</span><span class="sxs-lookup"><span data-stu-id="cdb52-137">Build the solution by selecting **Build**, **Build Solution**.</span></span>  
  
8.  <span data-ttu-id="cdb52-138">Uruchom rozwiązanie, naciskając klawisz **F5**.</span><span class="sxs-lookup"><span data-stu-id="cdb52-138">Run the solution by pressing **F5**.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="cdb52-139">Przykłady może już być zainstalowany na tym komputerze.</span><span class="sxs-lookup"><span data-stu-id="cdb52-139">The samples may already be installed on your machine.</span></span> <span data-ttu-id="cdb52-140">Przed kontynuowaniem sprawdź, czy są dostępne dla następującego katalogu (ustawienie domyślne).</span><span class="sxs-lookup"><span data-stu-id="cdb52-140">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="cdb52-141">Jeśli ten katalog nie istnieje, przejdź do strony [Windows Communication Foundation (WCF) i przykłady Windows Workflow Foundation (WF) dla platformy .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) do pobierania wszystkich Windows Communication Foundation (WCF) i [!INCLUDE[wf1](../../../../includes/wf1-md.md)] przykładów.</span><span class="sxs-lookup"><span data-stu-id="cdb52-141">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="cdb52-142">W tym przykładzie znajduje się w następującym katalogu.</span><span class="sxs-lookup"><span data-stu-id="cdb52-142">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WF\Basic\Services\AbsoluteDelay`
