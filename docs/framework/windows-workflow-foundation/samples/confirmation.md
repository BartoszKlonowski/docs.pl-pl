---
title: Potwierdzenie
ms.date: 03/30/2017
ms.assetid: 8637aeaf-ac9e-49b8-93f4-da15dee45277
ms.openlocfilehash: caa712aa52da01ce44335a361fd6c9f5215316bf
ms.sourcegitcommit: ba5c189bf44d44204a3e8838e59ec378a62d82f3
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/13/2018
ms.locfileid: "44757242"
---
# <a name="confirmation"></a><span data-ttu-id="b1d7d-102">Potwierdzenie</span><span class="sxs-lookup"><span data-stu-id="b1d7d-102">Confirmation</span></span>
<span data-ttu-id="b1d7d-103">W tym przykładzie przedstawiono cztery typowe scenariusze użytkowania otaczającego <xref:System.Activities.Statements.CompensableActivity> i potwierdzenie hasła.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-103">This sample shows four common scenarios surrounding the use of <xref:System.Activities.Statements.CompensableActivity> and confirmation.</span></span> <span data-ttu-id="b1d7d-104">Przykład jest uruchamiany cztery przepływy pracy, aby pokazać potwierdzenia.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-104">The sample runs four workflows to show confirmation.</span></span> <span data-ttu-id="b1d7d-105">Ten przykład jest dostępny w wersjach deklaratywnego i imperatywnego.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-105">This sample is available in declarative and imperative versions.</span></span>  
  
## <a name="confirm-a-compensable-activity"></a><span data-ttu-id="b1d7d-106">Potwierdź działanie kompensacyjne</span><span class="sxs-lookup"><span data-stu-id="b1d7d-106">Confirm a Compensable Activity</span></span>  
 <span data-ttu-id="b1d7d-107">Pierwszy przepływ pracy przedstawia sposób potwierdzić działanie kompensacyjne i składa się z dwóch sekwencji <xref:System.Activities.Statements.CompensableActivity> wystąpień.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-107">The first workflow demonstrates how to confirm a compensable activity and consists of a sequence of two <xref:System.Activities.Statements.CompensableActivity> instances.</span></span> <span data-ttu-id="b1d7d-108">Po ukończeniu drugiego <xref:System.Activities.Statements.CompensableActivity> działania Potwierdź potwierdza pierwsze działanie.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-108">After the completion of the second <xref:System.Activities.Statements.CompensableActivity> a confirm activity confirms the first activity.</span></span> <span data-ttu-id="b1d7d-109">Po zakończeniu przepływu pracy pomyślnie wszystkich <xref:System.Activities.Statements.CompensableActivity> wystąpień, które nie zostały potwierdzone lub płatne automatycznie zostało potwierdzone przy użyciu domyślnej kolejności.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-109">When the workflow successfully completes, all <xref:System.Activities.Statements.CompensableActivity> instances that have not been confirmed or compensated are automatically confirmed using the default order.</span></span> <span data-ttu-id="b1d7d-110">Bez potwierdzania drugi <xref:System.Activities.Statements.CompensableActivity> czy zostały potwierdzone najpierw.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-110">Without the confirm, the second <xref:System.Activities.Statements.CompensableActivity> would have been confirmed first.</span></span>  
  
## <a name="explicit-compensation"></a><span data-ttu-id="b1d7d-111">Jawne Kompensacja</span><span class="sxs-lookup"><span data-stu-id="b1d7d-111">Explicit Compensation</span></span>  
 <span data-ttu-id="b1d7d-112">Drugi scenariusz prezentuje wpływ na potwierdzenie domyślne podczas <xref:System.Activities.Statements.CompensableActivity> jawnie wynagradzani za.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-112">The second scenario shows the affect on default confirmation when a <xref:System.Activities.Statements.CompensableActivity> is explicitly compensated.</span></span> <span data-ttu-id="b1d7d-113">Przepływ pracy składa się z dwóch sekwencji <xref:System.Activities.Statements.CompensableActivity> wyrównywane jest jawnie działania, po drugim zakończeniu pierwszej.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-113">The workflow consists of a sequence of two <xref:System.Activities.Statements.CompensableActivity> activities, after the second completes the first is explicitly compensated.</span></span> <span data-ttu-id="b1d7d-114">W rezultacie podczas przepływu pracy, kończy tylko drugi <xref:System.Activities.Statements.CompensableActivity> został potwierdzony.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-114">As a result when the workflow, completes only the second <xref:System.Activities.Statements.CompensableActivity> is confirmed.</span></span>  
  
## <a name="controlling-the-order-of-confirmation-for-nested-compensableactivity-activities"></a><span data-ttu-id="b1d7d-115">Kontrolowanie kolejność potwierdzenia CompensableActivity zagnieżdżonych działań</span><span class="sxs-lookup"><span data-stu-id="b1d7d-115">Controlling the Order of Confirmation for Nested CompensableActivity Activities</span></span>  
 <span data-ttu-id="b1d7d-116">Trzeci scenariusz pokazuje, jak kontrolować kolejność potwierdzenia dla zagnieżdżonych <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-116">The third scenario shows how to control the order of confirmation for nested <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="b1d7d-117">Scenariusz składa się z <xref:System.Activities.Statements.CompensableActivity> jako katalogu głównego przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-117">The scenario consists of a <xref:System.Activities.Statements.CompensableActivity> as the root of the workflow.</span></span> <span data-ttu-id="b1d7d-118">Treść głównego <xref:System.Activities.Statements.CompensableActivity> jest sekwencją trzy <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-118">The body of the root <xref:System.Activities.Statements.CompensableActivity> is a sequence of three <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="b1d7d-119"><xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> Dla głównego <xref:System.Activities.Statements.CompensableActivity> jest sekwencji, która określa, aby potwierdzić pierwszego, drugiego zagnieżdżone, a następnie <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-119">The <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> for the root <xref:System.Activities.Statements.CompensableActivity> is a sequence that specifies to confirm the first then the second nested <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="b1d7d-120">Po zakończeniu przepływu pracy potwierdza to główny <xref:System.Activities.Statements.CompensableActivity>, który następnie potwierdza pierwszy, drugi i trzeci zagnieżdżone <xref:System.Activities.Statements.CompensableActivity>, w tym kolejność.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-120">When the workflow completes it confirms the root <xref:System.Activities.Statements.CompensableActivity>, which then confirms the first, second and third nested <xref:System.Activities.Statements.CompensableActivity>, in that order.</span></span> <span data-ttu-id="b1d7d-121">W rezultacie domyślną kolejność potwierdzenia zasadniczo została odwrócona.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-121">As a result, the default confirmation order is essentially reversed.</span></span> <span data-ttu-id="b1d7d-122">Ponieważ trzeci <xref:System.Activities.Statements.CompensableActivity> nie potwierdzono jawnie jako część głównego <xref:System.Activities.Statements.CompensableActivity> przez <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A>, potwierdzono zgodnie z kolejnością domyślną.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-122">Because the third <xref:System.Activities.Statements.CompensableActivity> was not explicitly confirmed as part of the root <xref:System.Activities.Statements.CompensableActivity> by the <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A>, it is confirmed according to the default order.</span></span> <span data-ttu-id="b1d7d-123">Jednakże ponieważ jest to jedyny niepotwierdzone <xref:System.Activities.Statements.CompensableActivity> oznacza to, potwierdzono.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-123">However, because it is the only unconfirmed <xref:System.Activities.Statements.CompensableActivity> this just means it is confirmed.</span></span>  
  
## <a name="scoping-of-variables"></a><span data-ttu-id="b1d7d-124">Wyznaczanie zakresu zmiennych</span><span class="sxs-lookup"><span data-stu-id="b1d7d-124">Scoping of Variables</span></span>  
 <span data-ttu-id="b1d7d-125">Czwarty scenariusz pokazuje, jak okres istnienia zmiennych są definiowane dla <xref:System.Activities.Statements.CompensableActivity> lub jeden z jego elementów nadrzędnych są nadal w przypadku zakresu <xref:System.Activities.Statements.CompensableActivity.CompensationHandler%2A>, <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> lub <xref:System.Activities.Statements.CompensableActivity.CancellationHandler%2A> obsługi są wykonywane nawet sytuacji, gdy działanie zostało zakończone lub przepływu pracy ukończone.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-125">The fourth scenario shows how the lifetime of variables defined for a <xref:System.Activities.Statements.CompensableActivity> or one of their parents are still in scope when the <xref:System.Activities.Statements.CompensableActivity.CompensationHandler%2A>, <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> or <xref:System.Activities.Statements.CompensableActivity.CancellationHandler%2A> handlers are executed even if the activity has completed or the workflow has completed.</span></span> <span data-ttu-id="b1d7d-126">Przepływ pracy składa się z dwóch sekwencji <xref:System.Activities.Statements.CompensableActivity>.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-126">The workflow consists of a sequence of two <xref:System.Activities.Statements.CompensableActivity>.</span></span> <span data-ttu-id="b1d7d-127">W treści pierwszego, zmienna `mySum` jest ustawiony do sumy 5, 10 i wynik wydrukowany.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-127">In the body of the first, the variable `mySum` is set to the sum of 5 and 10 and the result printed.</span></span> <span data-ttu-id="b1d7d-128">W treści drugi <xref:System.Activities.Statements.CompensableActivity>, suma jest równa sumę sum istniejących i 7 i wydrukowane wynik.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-128">In the body of the second <xref:System.Activities.Statements.CompensableActivity>, the sum is set to the sum of the existing sum and 7 and the result printed.</span></span> <span data-ttu-id="b1d7d-129">Program obsługi potwierdzenia niestandardowego jest zdefiniowana w pierwszym <xref:System.Activities.Statements.CompensableActivity>, która drukuje sumy, odejmuje 7 obszary, a suma ponownie.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-129">A custom confirmation handler is defined for the first <xref:System.Activities.Statements.CompensableActivity>, which prints the sum, subtracts 7 and prints the sum again.</span></span> <span data-ttu-id="b1d7d-130">To oczywiste, sprawdzając drukowane sumy, które zmiennej znajduje się w zakresie nie tylko w przypadku grup zarówno <xref:System.Activities.Statements.CompensableActivity> ale <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> także.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-130">It is clear by inspecting the printed sums that the variable is in scope not only for the bodies of both <xref:System.Activities.Statements.CompensableActivity> but the <xref:System.Activities.Statements.CompensableActivity.ConfirmationHandler%2A> as well.</span></span>  
  
#### <a name="to-run-the-sample"></a><span data-ttu-id="b1d7d-131">Aby uruchomić przykład</span><span class="sxs-lookup"><span data-stu-id="b1d7d-131">To run the sample</span></span>  
  
1.  <span data-ttu-id="b1d7d-132">Ładowanie rozwiązania w [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)].</span><span class="sxs-lookup"><span data-stu-id="b1d7d-132">Load the solution in [!INCLUDE[vs2010](../../../../includes/vs2010-md.md)].</span></span>  
  
2.  <span data-ttu-id="b1d7d-133">Uruchom aplikację ConfirmationSample.exe.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-133">Run the ConfirmationSample.exe application.</span></span>  
  
3.  <span data-ttu-id="b1d7d-134">Sprawdź następujące dane wyjściowe:</span><span class="sxs-lookup"><span data-stu-id="b1d7d-134">Observe the following output:</span></span>  
  
 <span data-ttu-id="b1d7d-135">**Jawne potwierdzenie: początek workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity1: HandlerEnd potwierdzenia z workflowCompensableActivity2: wynagrodzenie HandlerExplicit potwierdzenie: początek workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity1: HandlerEnd odszkodowania z workflowCompensableActivity2: Potwierdzenie HandlerCustom potwierdzenie procedury obsługi: Start workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity3: BodyEnd workflowCompensableActivity1: HandlerCompensableActivity2 potwierdzenie: HandlerCompensableActivity3 potwierdzenie: HandlerVariable potwierdzenie dostępu programu obsługi potwierdzenia: Początek workflowCompensableActivity1: BodyCompensableActivity1: Suma: 15CompensableActivity2: BodyCompensableActivity2: dodanie 7, aby sumCompensableActivity2: suma jest teraz: 22End workflowCompensableActivity2: potwierdzenia HandlerCompensableActivity1: Potwierdzenie HandlerCompensableActivity2: Suma: 22CompensableActivity2: po odjęciu 12 suma jest teraz: 10Press ENTER, aby zakończyć.**</span><span class="sxs-lookup"><span data-stu-id="b1d7d-135">**Explicit confirmation:Start of workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity1: Confirmation HandlerEnd of workflowCompensableActivity2: Confirmation HandlerExplicit compensation:Start of workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity1: Compensation HandlerEnd of workflowCompensableActivity2: Confirmation HandlerCustom confirmation handler:Start of workflowCompensableActivity1: BodyCompensableActivity2: BodyCompensableActivity3: BodyEnd of workflowCompensableActivity1: Confirmation HandlerCompensableActivity2: Confirmation HandlerCompensableActivity3: Confirmation HandlerVariable access in a confirmation handler:Start of workflowCompensableActivity1: BodyCompensableActivity1: The sum is: 15CompensableActivity2: BodyCompensableActivity2: Adding 7 to the sumCompensableActivity2: The sum is now: 22End of workflowCompensableActivity2: Confirmation HandlerCompensableActivity1: Confirmation HandlerCompensableActivity2: The sum is: 22CompensableActivity2: After subtracting 12 the sum is now: 10Press ENTER to exit.**</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="b1d7d-136">Przykłady może już być zainstalowany na tym komputerze.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-136">The samples may already be installed on your machine.</span></span> <span data-ttu-id="b1d7d-137">Przed kontynuowaniem sprawdź, czy są dostępne dla następującego katalogu (ustawienie domyślne).</span><span class="sxs-lookup"><span data-stu-id="b1d7d-137">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="b1d7d-138">Jeśli ten katalog nie istnieje, przejdź do strony [Windows Communication Foundation (WCF) i przykłady Windows Workflow Foundation (WF) dla platformy .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) do pobierania wszystkich Windows Communication Foundation (WCF) i [!INCLUDE[wf1](../../../../includes/wf1-md.md)] przykładów.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-138">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](https://go.microsoft.com/fwlink/?LinkId=150780) to download all Windows Communication Foundation (WCF) and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="b1d7d-139">W tym przykładzie znajduje się w następującym katalogu.</span><span class="sxs-lookup"><span data-stu-id="b1d7d-139">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WF\Basic\Compensation\Confirmation`