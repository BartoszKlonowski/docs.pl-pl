---
title: Używanie bibliotek pochodzących z częściowo zaufanego kodu
ms.date: 03/30/2017
helpviewer_keywords:
- security [.NET Framework], partially trusted code
- partially trusted code
- partial trust
- AllowPartiallyTrustedCallersAttribute attribute
- code access security, partially trusted code
- APTCA
ms.assetid: dd66cd4c-b087-415f-9c3e-94e3a1835f74
author: mairaw
ms.author: mairaw
ms.openlocfilehash: 6d858ef4c2f70c55b0a36e845f90d9a8e08f5e2d
ms.sourcegitcommit: 155012a8a826ee8ab6aa49b1b3a3b532e7b7d9bd
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/04/2019
ms.locfileid: "66487826"
---
# <a name="using-libraries-from-partially-trusted-code"></a><span data-ttu-id="a1a36-102">Używanie bibliotek pochodzących z częściowo zaufanego kodu</span><span class="sxs-lookup"><span data-stu-id="a1a36-102">Using Libraries from Partially Trusted Code</span></span>
[!INCLUDE[net_security_note](../../../includes/net-security-note-md.md)]  
  
> [!NOTE]
>  <span data-ttu-id="a1a36-103">W tym temacie adresy zachowanie zestawy o silnych nazwach i ma zastosowanie tylko do [poziomu 1](../../../docs/framework/misc/security-transparent-code-level-1.md) zestawów.</span><span class="sxs-lookup"><span data-stu-id="a1a36-103">This topic addresses the behavior of strong-named assemblies and applies only to [Level 1](../../../docs/framework/misc/security-transparent-code-level-1.md) assemblies.</span></span> <span data-ttu-id="a1a36-104">[Kod o przezroczystym poziomie bezpieczeństwa, poziom 2](../../../docs/framework/misc/security-transparent-code-level-2.md) zestawów w programie .NET Framework 4 lub nowszym nie dotyczy silne nazwy.</span><span class="sxs-lookup"><span data-stu-id="a1a36-104">[Security-Transparent Code, Level 2](../../../docs/framework/misc/security-transparent-code-level-2.md) assemblies in the .NET Framework 4 or later are not affected by strong names.</span></span> <span data-ttu-id="a1a36-105">Aby uzyskać więcej informacji na temat zmian w systemie zabezpieczeń, zobacz [zmiany zabezpieczeń](../../../docs/framework/security/security-changes.md).</span><span class="sxs-lookup"><span data-stu-id="a1a36-105">For more information about changes to the security system, see [Security Changes](../../../docs/framework/security/security-changes.md).</span></span>  
  
 <span data-ttu-id="a1a36-106">Aplikacje odbierające mniejsza niż pełne zaufanie od hosta lub piaskownicy nie są dozwolone do wywołania udostępnionego zarządzanych bibliotek, chyba że moduł zapisujący biblioteki specjalnie pozwala na ich za pośrednictwem <xref:System.Security.AllowPartiallyTrustedCallersAttribute> atrybutu.</span><span class="sxs-lookup"><span data-stu-id="a1a36-106">Applications that receive less than full trust from their host or sandbox are not allowed to call shared managed libraries unless the library writer specifically allows them to through the use of the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> attribute.</span></span> <span data-ttu-id="a1a36-107">W związku z tym autorzy aplikacji należy pamiętać, że niektóre biblioteki nie będą dostępne do nich z częściowo zaufanych kontekstu.</span><span class="sxs-lookup"><span data-stu-id="a1a36-107">Therefore, application writers must be aware that some libraries will not be available to them from a partially trusted context.</span></span> <span data-ttu-id="a1a36-108">Domyślnie, cały kod, który wykonuje w częściowym zaufaniu [piaskownicy](../../../docs/framework/misc/how-to-run-partially-trusted-code-in-a-sandbox.md) i nie znajduje się w listy zestawów pełnego zaufania jest częściowo zaufany.</span><span class="sxs-lookup"><span data-stu-id="a1a36-108">By default, all code that executes in a partial-trust [sandbox](../../../docs/framework/misc/how-to-run-partially-trusted-code-in-a-sandbox.md) and is not in the list of full-trust assemblies is partially trusted.</span></span> <span data-ttu-id="a1a36-109">Jeśli nie powinien być wykonywany z częściowo zaufanych kontekstu lub być wywoływany przez kod częściowo zaufany kod, masz nie trzeba się troszczyć o informacje przedstawione w tej sekcji.</span><span class="sxs-lookup"><span data-stu-id="a1a36-109">If you do not expect your code to be executed from a partially trusted context or to be called by partially trusted code, you do not have to be concerned about the information in this section.</span></span> <span data-ttu-id="a1a36-110">Jednak jeśli piszesz kod, który musi współdziałać z częściowo zaufanego kodu lub nie działać z częściowo zaufanych kontekstu, należy rozważyć następujące czynniki:</span><span class="sxs-lookup"><span data-stu-id="a1a36-110">However, if you write code that must interact with partially trusted code or operate from a partially trusted context, you should consider the following factors:</span></span>  
  
- <span data-ttu-id="a1a36-111">Biblioteki musi być podpisany silną nazwą, aby być współużytkowane przez wiele aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a1a36-111">Libraries must be signed with a strong name in order to be shared by multiple applications.</span></span> <span data-ttu-id="a1a36-112">Silne nazwy Zezwalaj kodu mają być umieszczone w globalnej pamięci podręcznej lub dodać do listy pełnego zaufania piaskownicy <xref:System.AppDomain>, i pozwala użytkownikom sprawdzić, czy określonego fragmentu kodu mobilnego rzeczywiście pochodzi ze strony użytkownika.</span><span class="sxs-lookup"><span data-stu-id="a1a36-112">Strong names allow your code to be placed in the global assembly cache or added to the full-trust list of a sandboxing <xref:System.AppDomain>, and allow consumers to verify that a particular piece of mobile code actually originates from you.</span></span>  
  
- <span data-ttu-id="a1a36-113">Domyślnie o silnej nazwie [poziomu 1](../../../docs/framework/misc/security-transparent-code-level-1.md) biblioteki udostępnione wykonać ukrytego [LinkDemand](../../../docs/framework/misc/link-demands.md) dla pełnego zaufania automatycznie, bez zapisywania biblioteki potrzeby podejmować żadnych działań.</span><span class="sxs-lookup"><span data-stu-id="a1a36-113">By default, strong-named [Level 1](../../../docs/framework/misc/security-transparent-code-level-1.md) shared libraries perform an implicit [LinkDemand](../../../docs/framework/misc/link-demands.md) for full trust automatically, without the library writer having to do anything.</span></span>  
  
- <span data-ttu-id="a1a36-114">Jeśli obiekt wywołujący nie jest w pełni zaufany, ale nadal próbuje wywołać takie biblioteki, środowisko wykonawcze zgłasza <xref:System.Security.SecurityException> i element wywołujący nie ma zezwolenia na łącze do biblioteki.</span><span class="sxs-lookup"><span data-stu-id="a1a36-114">If a caller does not have full trust but still tries to call such a library, the runtime throws a <xref:System.Security.SecurityException> and the caller is not allowed to link to the library.</span></span>  
  
- <span data-ttu-id="a1a36-115">Aby wyłączyć automatyczne **LinkDemand** i zapobiec wyjątek z jest zgłaszana, możesz umieścić **AllowPartiallyTrustedCallersAttribute** atrybutu w zakresie zestaw wspólny Biblioteka.</span><span class="sxs-lookup"><span data-stu-id="a1a36-115">In order to disable the automatic **LinkDemand** and prevent the exception from being thrown, you can place the **AllowPartiallyTrustedCallersAttribute** attribute on the assembly scope of a shared library.</span></span> <span data-ttu-id="a1a36-116">Ten atrybut umożliwia bibliotek do wywołania z częściowo zaufanego kodu zarządzanego.</span><span class="sxs-lookup"><span data-stu-id="a1a36-116">This attribute allows your libraries to be called from partially trusted managed code.</span></span>  
  
- <span data-ttu-id="a1a36-117">Częściowo zaufany kod, który uzyskuje dostęp do biblioteki, z tym atrybutem jest nadal podlega procesowi dodatkowe ograniczenia zdefiniowane przez <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="a1a36-117">Partially trusted code that is granted access to a library with this attribute is still subject to further restrictions defined by the <xref:System.AppDomain>.</span></span>  
  
- <span data-ttu-id="a1a36-118">Nie istnieje sposób programistyczny dla częściowo zaufanego kodu w celu wywołania biblioteki, która nie ma **AllowPartiallyTrustedCallersAttribute** atrybutu.</span><span class="sxs-lookup"><span data-stu-id="a1a36-118">There is no programmatic way for partially trusted code to call a library that does not have the **AllowPartiallyTrustedCallersAttribute** attribute.</span></span>  
  
 <span data-ttu-id="a1a36-119">Bibliotek, które są prywatne z określoną aplikacją nie wymagają silnej nazwy lub **AllowPartiallyTrustedCallersAttribute** atrybutu i nie może być przywoływany przez potencjalnie złośliwy kod poza aplikacją.</span><span class="sxs-lookup"><span data-stu-id="a1a36-119">Libraries that are private to a specific application do not require a strong name or the **AllowPartiallyTrustedCallersAttribute** attribute and cannot be referenced by potentially malicious code outside the application.</span></span> <span data-ttu-id="a1a36-120">Taki kod jest chronione przed zamierzone lub przypadkowe nadużycie przez częściowo zaufany kod przenośny bez deweloper musi wykonywać żadnych dodatkowych czynności.</span><span class="sxs-lookup"><span data-stu-id="a1a36-120">Such code is protected against intentional or unintentional misuse by partially trusted mobile code without the developer having to do anything extra.</span></span>  
  
 <span data-ttu-id="a1a36-121">Należy rozważyć jawne włączenie użycia przez częściowo zaufany kod dla następujących typów kodu:</span><span class="sxs-lookup"><span data-stu-id="a1a36-121">You should consider explicitly enabling use by partially trusted code for the following types of code:</span></span>  
  
- <span data-ttu-id="a1a36-122">Kod, który był testowany przerwami dla luki w zabezpieczeniach i jest zgodne z wytycznymi opisany w [Secure wytycznych kodowania](../../../docs/standard/security/secure-coding-guidelines.md).</span><span class="sxs-lookup"><span data-stu-id="a1a36-122">Code that has been diligently tested for security vulnerabilities and is in compliance with the guidelines described in [Secure Coding Guidelines](../../../docs/standard/security/secure-coding-guidelines.md).</span></span>  
  
- <span data-ttu-id="a1a36-123">Bibliotek o silnej nazwie do kodu, które są opracowane specjalnie dla scenariuszy częściowo zaufany.</span><span class="sxs-lookup"><span data-stu-id="a1a36-123">Strong-named code libraries that are specifically written for partially trusted scenarios.</span></span>  
  
- <span data-ttu-id="a1a36-124">Wszystkie składniki (czy częściowo lub całkowicie zaufanych) podpisany silną nazwą, która zostanie wywołana przez kod, który jest pobierany z Internetu.</span><span class="sxs-lookup"><span data-stu-id="a1a36-124">Any components (whether partially or fully trusted) signed with a strong name that will be called by code that is downloaded from the Internet.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a1a36-125">Niektóre klasy w bibliotece klas programu .NET Framework nie posiadają **AllowPartiallyTrustedCallersAttribute** atrybutu i nie może być wywoływany przez częściowo zaufany kod.</span><span class="sxs-lookup"><span data-stu-id="a1a36-125">Some classes in the .NET Framework class library do not have the **AllowPartiallyTrustedCallersAttribute** attribute and cannot be called by partially trusted code.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a1a36-126">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="a1a36-126">See also</span></span>

- [<span data-ttu-id="a1a36-127">Zabezpieczenia dostępu kodu</span><span class="sxs-lookup"><span data-stu-id="a1a36-127">Code Access Security</span></span>](../../../docs/framework/misc/code-access-security.md)
