---
title: "Zabezpieczenia dostępu kodu"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- named permission sets, code access security
- call stacks
- malicious code
- stack walk
- security [.NET Framework], code access security
- permissions [.NET Framework], code access security
- trusted code
- mobile code security
- unmanaged code, code access security
- granting permissions, code access security
- user authentication, code access security
- code access security
ms.assetid: 859af632-c80d-4736-8d6f-1e01b09ce127
caps.latest.revision: "25"
author: mairaw
ms.author: mairaw
manager: wpickett
ms.openlocfilehash: 3582516dece69589d98acb66f1dde2249d9d8832
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/18/2017
---
# <a name="code-access-security"></a><span data-ttu-id="4c242-102">Zabezpieczenia dostępu kodu</span><span class="sxs-lookup"><span data-stu-id="4c242-102">Code Access Security</span></span>
[!INCLUDE[net_security_note](../../../includes/net-security-note-md.md)]  
  
 <span data-ttu-id="4c242-103">Systemów komputerowych wysokim stopniu połączenia współczesnych często są widoczne dla kodu pochodzącego z różnymi, prawdopodobnie nieznane źródła.</span><span class="sxs-lookup"><span data-stu-id="4c242-103">Today's highly connected computer systems are frequently exposed to code originating from various, possibly unknown sources.</span></span> <span data-ttu-id="4c242-104">Kod można dołączyć do wiadomości e-mail, zawartych w dokumentach lub pobrane za pośrednictwem Internetu.</span><span class="sxs-lookup"><span data-stu-id="4c242-104">Code can be attached to e-mail, contained in documents, or downloaded over the Internet.</span></span> <span data-ttu-id="4c242-105">Niestety w przypadku wielu użytkowników komputera wystąpił firsthand skutków złośliwego kodu przenośnych, w tym wirusy lub robaki, które mogą uszkodzenia lub zniszczenia danych i kosztów czas i pieniądze.</span><span class="sxs-lookup"><span data-stu-id="4c242-105">Unfortunately, many computer users have experienced firsthand the effects of malicious mobile code, including viruses and worms, which can damage or destroy data and cost time and money.</span></span>  
  
 <span data-ttu-id="4c242-106">Najbardziej typowych mechanizmów zabezpieczeń udzielić uprawnień do użytkowników na podstawie ich poświadczeń logowania (zwykle hasła) i ograniczanie zasobów (często katalogów i plików), które użytkownik może uzyskać dostęp.</span><span class="sxs-lookup"><span data-stu-id="4c242-106">Most common security mechanisms give rights to users based on their logon credentials (usually a password) and restrict resources (often directories and files) that the user is allowed to access.</span></span> <span data-ttu-id="4c242-107">Jednak takie podejście nie uda się rozwiązać pewne problemy: użytkownicy uzyskują kodu z wielu źródeł, niektóre z nich mogą być nieprawidłowe; Kod może zawierać usterki lub luk w zabezpieczeniach mogła zostać wykorzystana przez złośliwy kod; i kod czasami wykonuje czynności, które użytkownik nie może określić, że będzie wykonywał.</span><span class="sxs-lookup"><span data-stu-id="4c242-107">However, this approach fails to address several issues: users obtain code from many sources, some of which might be unreliable; code can contain bugs or vulnerabilities that enable it to be exploited by malicious code; and code sometimes does things that the user does not know it will do.</span></span> <span data-ttu-id="4c242-108">W związku z tym może być uszkodzony systemów komputerowych i dane prywatne mogą przedostawać użytkowników ostrożność i zaufanego uruchomienie złośliwego lub wypełnione błąd oprogramowania.</span><span class="sxs-lookup"><span data-stu-id="4c242-108">As a result, computer systems can be damaged and private data can be leaked when cautious and trustworthy users run malicious or error-filled software.</span></span> <span data-ttu-id="4c242-109">Większość mechanizmy zabezpieczeń systemu operacyjnego wymagają, że każdy fragment kodu musi być całkowicie zaufany niezbędne do uruchomienia, z wyjątkiem prawdopodobnie skryptów na stronie sieci Web.</span><span class="sxs-lookup"><span data-stu-id="4c242-109">Most operating system security mechanisms require that every piece of code must be completely trusted in order to run, except perhaps for scripts on a Web page.</span></span> <span data-ttu-id="4c242-110">W związku z tym nadal istnieje potrzeba mechanizm powszechnie stosowane zabezpieczeń, który umożliwia kodu pochodzącego z jednego komputera do wykonania z ochrony w innym systemie, nawet gdy nie ma relacji zaufania między systemów.</span><span class="sxs-lookup"><span data-stu-id="4c242-110">Therefore, there is still a need for a widely applicable security mechanism that allows code originating from one computer system to execute with protection on another system, even when there is no trust relationship between the systems.</span></span>  
  
 <span data-ttu-id="4c242-111">.NET Framework zapewnia mechanizm zabezpieczeń o nazwie zabezpieczenia dostępu kodu w celu ochrony komputerów przed złośliwego kodu przenośnych, aby umożliwić kodu z nieznanego źródła, aby uruchomić z ochrony i ułatwia zapobieganie zaufanego kodu z celowo lub przypadkowo naruszenie zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="4c242-111">The .NET Framework provides a security mechanism called code access security to help protect computer systems from malicious mobile code, to allow code from unknown origins to run with protection, and to help prevent trusted code from intentionally or accidentally compromising security.</span></span> <span data-ttu-id="4c242-112">Zabezpieczenia dostępu kodu umożliwia kod, aby być uważany za zaufany w różnym stopniu, w zależności od których pochodzą kod i na innych aspektów tożsamości kodu.</span><span class="sxs-lookup"><span data-stu-id="4c242-112">Code access security enables code to be trusted to varying degrees depending on where the code originates and on other aspects of the code's identity.</span></span> <span data-ttu-id="4c242-113">Zabezpieczenia dostępu kodu wymusza także różne poziomy zaufania kodu, co minimalizuje ilość kodu, który musi być w pełni zaufany, aby można było uruchomić.</span><span class="sxs-lookup"><span data-stu-id="4c242-113">Code access security also enforces the varying levels of trust on code, which minimizes the amount of code that must be fully trusted in order to run.</span></span> <span data-ttu-id="4c242-114">Przy użyciu zabezpieczenia dostępu kodu można zmniejszyć prawdopodobieństwo, że kod jest używane przez złośliwe lub wypełnione błąd kodu.</span><span class="sxs-lookup"><span data-stu-id="4c242-114">Using code access security can reduce the likelihood that your code will be misused by malicious or error-filled code.</span></span> <span data-ttu-id="4c242-115">Twoja odpowiedzialność go może zmniejszyć, ponieważ można określić zestaw kod powinien mieć możliwość wykonania operacji.</span><span class="sxs-lookup"><span data-stu-id="4c242-115">It can reduce your liability, because you can specify the set of operations your code should be allowed to perform.</span></span> <span data-ttu-id="4c242-116">Zabezpieczenia dostępu kodu może również pomóc ograniczyć potencjalne szkody, który może wynikać z luk w zabezpieczeniach w kodzie.</span><span class="sxs-lookup"><span data-stu-id="4c242-116">Code access security can also help minimize the damage that can result from security vulnerabilities in your code.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="4c242-117">Zabezpieczenia dostępu kodu w wprowadzono istotne zmiany [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4c242-117">Major changes have been made to code access security in the [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)].</span></span> <span data-ttu-id="4c242-118">Najbardziej znaczące zmiany został [przezroczystość zabezpieczeń](../../../docs/framework/misc/security-transparent-code.md), ale istnieją także inne ważne zmiany, które mają wpływ na zabezpieczenia dostępu kodu.</span><span class="sxs-lookup"><span data-stu-id="4c242-118">The most notable change has been [security transparency](../../../docs/framework/misc/security-transparent-code.md), but there are also other significant changes that affect code access security.</span></span> <span data-ttu-id="4c242-119">Aby uzyskać informacje o tych zmianach, zobacz [zmiany zabezpieczeń](../../../docs/framework/security/security-changes.md).</span><span class="sxs-lookup"><span data-stu-id="4c242-119">For information about these changes, see [Security Changes](../../../docs/framework/security/security-changes.md).</span></span>  
  
 <span data-ttu-id="4c242-120">Zabezpieczenia dostępu kodu dotyczy przede wszystkim kod biblioteki i częściowo zaufane aplikacje.</span><span class="sxs-lookup"><span data-stu-id="4c242-120">Code access security primarily affects library code and partially trusted applications.</span></span> <span data-ttu-id="4c242-121">Deweloperzy biblioteki należy chronić ich kodu przed nieautoryzowanym dostępem z częściowo zaufane aplikacje.</span><span class="sxs-lookup"><span data-stu-id="4c242-121">Library developers must protect their code from unauthorized access from partially trusted applications.</span></span> <span data-ttu-id="4c242-122">Częściowo zaufane aplikacje to aplikacje, które są ładowane z zewnętrznych źródeł, takich jak Internet.</span><span class="sxs-lookup"><span data-stu-id="4c242-122">Partially trusted applications are applications that are loaded from external sources such as the Internet.</span></span> <span data-ttu-id="4c242-123">Aplikacje, które są instalowane na pulpicie lub w lokalnym intranecie uruchamiania w trybie pełnego zaufania.</span><span class="sxs-lookup"><span data-stu-id="4c242-123">Applications that are installed on your desktop or on the local intranet run in full trust.</span></span> <span data-ttu-id="4c242-124">Aplikacje pełnego zaufania nie jest narażony na zabezpieczenia dostępu kodu, chyba że są one oznaczone jako [przezroczystym poziomie bezpieczeństwa](../../../docs/framework/misc/security-transparent-code.md), ponieważ są one w pełni zaufany.</span><span class="sxs-lookup"><span data-stu-id="4c242-124">Full-trust applications are not affected by code access security unless they are marked as [security-transparent](../../../docs/framework/misc/security-transparent-code.md), because they are fully trusted.</span></span> <span data-ttu-id="4c242-125">Jest to tylko ograniczenia dla aplikacji pełnego zaufania, że aplikacje, które są oznaczone ikoną z <xref:System.Security.SecurityTransparentAttribute> atrybutu nie można wywołać kod, który jest oznaczony atrybutem <xref:System.Security.SecurityCriticalAttribute> atrybutu.</span><span class="sxs-lookup"><span data-stu-id="4c242-125">The only limitation for full-trust applications is that applications that are marked with the <xref:System.Security.SecurityTransparentAttribute> attribute cannot call code that is marked with the <xref:System.Security.SecurityCriticalAttribute> attribute.</span></span> <span data-ttu-id="4c242-126">Częściowo zaufane aplikacje musi zostać uruchomiony w piaskownicy (na przykład w programie Internet Explorer), dzięki czemu można zastosować zabezpieczenia dostępu kodu.</span><span class="sxs-lookup"><span data-stu-id="4c242-126">Partially trusted applications must be run in a sandbox (for example, in Internet Explorer) so that code access security can be applied.</span></span> <span data-ttu-id="4c242-127">Jeśli pobieranie aplikacji z Internetu i spróbuj uruchomić go z pulpitu, otrzyma <xref:System.NotSupportedException> z komunikatem: "podjęto próbę załadowania zestawu z lokalizacji sieciowej, które mogłyby spowodować zestawu w trybie piaskownicy w poprzednich wersjach programu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="4c242-127">If you download an application from the Internet and try to run it from your desktop, you will get a <xref:System.NotSupportedException> with the message: "An attempt was made to load an assembly from a network location which would have caused the assembly to be sandboxed in previous versions of the .NET Framework.</span></span> <span data-ttu-id="4c242-128">Tej wersji programu .NET Framework nie zasady CAS domyślnie włączone, więc to załadowanie może być niebezpieczne."</span><span class="sxs-lookup"><span data-stu-id="4c242-128">This release of the .NET Framework does not enable CAS policy by default, so this load may be dangerous."</span></span> <span data-ttu-id="4c242-129">Jeśli masz pewność, że aplikacja jest zaufany, możesz je włączyć do uruchomienia przy pełnym zaufaniu przy użyciu [ \<loadFromRemoteSources > elementu](../../../docs/framework/configure-apps/file-schema/runtime/loadfromremotesources-element.md).</span><span class="sxs-lookup"><span data-stu-id="4c242-129">If you are sure that the application can be trusted, you can enable it to be run as full trust by using the [\<loadFromRemoteSources> element](../../../docs/framework/configure-apps/file-schema/runtime/loadfromremotesources-element.md).</span></span> <span data-ttu-id="4c242-130">Aby uzyskać informacje o uruchamianiu aplikacji w bibliotece, zobacz [porady: uruchamianie częściowo zaufanego kodu w bibliotece](../../../docs/framework/misc/how-to-run-partially-trusted-code-in-a-sandbox.md).</span><span class="sxs-lookup"><span data-stu-id="4c242-130">For information about running an application in a sandbox, see [How to: Run Partially Trusted Code in a Sandbox](../../../docs/framework/misc/how-to-run-partially-trusted-code-in-a-sandbox.md).</span></span>  
  
 <span data-ttu-id="4c242-131">Środowisko uruchomieniowe języka wspólnego odbiera zalet zabezpieczeń dostępu kodu, którego element docelowy wszystkie zarządzane kodu, nawet jeśli ten kod nie oznacza, że zabezpieczenia dostępu kodu jednego wywołania.</span><span class="sxs-lookup"><span data-stu-id="4c242-131">All managed code that targets the common language runtime receives the benefits of code access security, even if that code does not make a single code access security call.</span></span> <span data-ttu-id="4c242-132">Aby uzyskać więcej informacji, zobacz [podstawy zabezpieczeń dostępu kodu](../../../docs/framework/misc/code-access-security-basics.md).</span><span class="sxs-lookup"><span data-stu-id="4c242-132">For more information, see [Code Access Security Basics](../../../docs/framework/misc/code-access-security-basics.md).</span></span>  
  
<a name="key_functions"></a>   
## <a name="key-functions-of-code-access-security"></a><span data-ttu-id="4c242-133">Najważniejsze funkcje zabezpieczeń dostępu kodu</span><span class="sxs-lookup"><span data-stu-id="4c242-133">Key Functions of Code Access Security</span></span>  
 <span data-ttu-id="4c242-134">Zabezpieczenia dostępu kodu pomaga ograniczyć dostępu kodu do chronionych zasobów i operacji.</span><span class="sxs-lookup"><span data-stu-id="4c242-134">Code access security helps limit the access that code has to protected resources and operations.</span></span> <span data-ttu-id="4c242-135">W programie .NET Framework zabezpieczenia dostępu kodu wykonuje następujące funkcje:</span><span class="sxs-lookup"><span data-stu-id="4c242-135">In the .NET Framework, code access security performs the following functions:</span></span>  
  
-   <span data-ttu-id="4c242-136">Definiuje uprawnienia i zestawów uprawnień, które reprezentują prawa dostępu różnych zasobów systemowych.</span><span class="sxs-lookup"><span data-stu-id="4c242-136">Defines permissions and permission sets that represent the right to access various system resources.</span></span>  
  
-   <span data-ttu-id="4c242-137">Umożliwia kodu na żądanie, że elementy wywołujące pod ma określone uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="4c242-137">Enables code to demand that its callers have specific permissions.</span></span>  
  
-   <span data-ttu-id="4c242-138">Umożliwia kodu na żądanie, aby elementy wywołujące pod posiadał podpisu cyfrowego, dzięki czemu tylko wywołującym z organizacji lub witryny wywoływać kod chronionych.</span><span class="sxs-lookup"><span data-stu-id="4c242-138">Enables code to demand that its callers possess a digital signature, thus allowing only callers from a particular organization or site to call the protected code.</span></span>  
  
-   <span data-ttu-id="4c242-139">Wymusza ograniczenia dotyczące kodu w czasie wykonywania na podstawie porównania ilości uprawnienia nadanego co wywołujący na stosie wywołań w celu wywoływania musi mieć uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="4c242-139">Enforces restrictions on code at run time by comparing the granted permissions of every caller on the call stack to the permissions that callers must have.</span></span>  
  
<a name="walking_the_call_stack"></a>   
## <a name="walking-the-call-stack"></a><span data-ttu-id="4c242-140">Przejście stosu wywołań</span><span class="sxs-lookup"><span data-stu-id="4c242-140">Walking the Call Stack</span></span>  
 <span data-ttu-id="4c242-141">Aby ustalić, czy kod jest autoryzowany do uzyskania dostępu do zasobu lub wykonania operacji, system zabezpieczeń środowiska uruchomieniowego przeprowadzi stos wywołań, porównanie uprawnienia nadanego każdy obiekt wywołujący, aby uprawnienia są wymagane.</span><span class="sxs-lookup"><span data-stu-id="4c242-141">To determine whether code is authorized to access a resource or perform an operation, the runtime's security system walks the call stack, comparing the granted permissions of each caller to the permission being demanded.</span></span> <span data-ttu-id="4c242-142">Jeśli każdego obiektu wywołującego w stosie wywołań nie ma wymaganego uprawnienia, jest zgłaszany wyjątek zabezpieczeń, a w przypadku odmowy dostępu.</span><span class="sxs-lookup"><span data-stu-id="4c242-142">If any caller in the call stack does not have the demanded permission, a security exception is thrown and access is refused.</span></span> <span data-ttu-id="4c242-143">Podczas przeszukiwana stosu zaprojektowano w celu zapobieżenia zapewnienia ataków, w którym niższym poziomie zaufania kod wywołuje kod wysoce zaufanych i używa go do wykonywania akcji nieautoryzowanego.</span><span class="sxs-lookup"><span data-stu-id="4c242-143">The stack walk is designed to help prevent luring attacks, in which less-trusted code calls highly trusted code and uses it to perform unauthorized actions.</span></span> <span data-ttu-id="4c242-144">Potrzebują uprawnień wszystkim zainteresowanym w czasie wykonywania wpływa na wydajność, ale jest niezbędne w celu ochrony kodu z zapewnienia ataków przez kod niższym poziomie zaufania.</span><span class="sxs-lookup"><span data-stu-id="4c242-144">Demanding permissions of all callers at run time affects performance, but it is essential to help protect code from luring attacks by less-trusted code.</span></span> <span data-ttu-id="4c242-145">Aby zoptymalizować wydajność, może mieć kod wykonania mniejszej liczby przeszukiwań stosu; jednak należy upewnić się, że nie ujawniaj osłabienia zabezpieczeń zawsze, gdy to zrobić.</span><span class="sxs-lookup"><span data-stu-id="4c242-145">To optimize performance, you can have your code perform fewer stack walks; however, you must be sure that you do not expose a security weakness whenever you do this.</span></span>  
  
 <span data-ttu-id="4c242-146">Na poniższej ilustracji przedstawiono przeszukiwania stosu, który gdy metody w zestawie A4 wymaga, że jego obiektów wywołujących uprawnienie P.</span><span class="sxs-lookup"><span data-stu-id="4c242-146">The following illustration shows the stack walk that results when a method in Assembly A4 demands that its callers have permission P.</span></span>  
  
 <span data-ttu-id="4c242-147">![Zabezpieczenia dostępu kodu](../../../docs/framework/misc/media/slide-10a.gif "slide_10a")</span><span class="sxs-lookup"><span data-stu-id="4c242-147">![Code access security](../../../docs/framework/misc/media/slide-10a.gif "slide_10a")</span></span>  
<span data-ttu-id="4c242-148">Przeszukiwanie stosów zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="4c242-148">Security stack walk</span></span>  
  
<a name="related_topics"></a>   
## <a name="related-topics"></a><span data-ttu-id="4c242-149">Tematy pokrewne</span><span class="sxs-lookup"><span data-stu-id="4c242-149">Related Topics</span></span>  
  
|<span data-ttu-id="4c242-150">Tytuł</span><span class="sxs-lookup"><span data-stu-id="4c242-150">Title</span></span>|<span data-ttu-id="4c242-151">Opis</span><span class="sxs-lookup"><span data-stu-id="4c242-151">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="4c242-152">Podstawy zabezpieczeń dostępu kodu</span><span class="sxs-lookup"><span data-stu-id="4c242-152">Code Access Security Basics</span></span>](../../../docs/framework/misc/code-access-security-basics.md)|<span data-ttu-id="4c242-153">W tym artykule opisano zabezpieczenia dostępu kodu i jego najbardziej typowych zastosowań.</span><span class="sxs-lookup"><span data-stu-id="4c242-153">Describes code access security and its most common uses.</span></span>|  
|[<span data-ttu-id="4c242-154">Kod o przezroczystym poziomie bezpieczeństwa, poziom 2</span><span class="sxs-lookup"><span data-stu-id="4c242-154">Security-Transparent Code, Level 2</span></span>](../../../docs/framework/misc/security-transparent-code-level-2.md)|<span data-ttu-id="4c242-155">W tym artykule opisano model przezroczystość zabezpieczeń w programie [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="4c242-155">Describes the security transparency model in the [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)].</span></span>|  
|[<span data-ttu-id="4c242-156">Używanie bibliotek pochodzących z częściowo zaufanego kodu</span><span class="sxs-lookup"><span data-stu-id="4c242-156">Using Libraries from Partially Trusted Code</span></span>](../../../docs/framework/misc/using-libraries-from-partially-trusted-code.md)|<span data-ttu-id="4c242-157">Opisuje sposób włączania biblioteki do użycia z kodem niezarządzanym i sposobu użycia bibliotek pochodzących z kodem niezarządzanym.</span><span class="sxs-lookup"><span data-stu-id="4c242-157">Describes how to enable libraries for use with unmanaged code and how to use libraries from unmanaged code.</span></span>|  
|[<span data-ttu-id="4c242-158">Główne pojęcia dotyczące zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="4c242-158">Key Security Concepts</span></span>](../../../docs/standard/security/key-security-concepts.md)|<span data-ttu-id="4c242-159">Zawiera omówienie wiele kluczowe terminy i pojęcia używane w systemie zabezpieczeń .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="4c242-159">Provides an overview of many of the key terms and concepts used in the .NET Framework security system.</span></span>|  
|[<span data-ttu-id="4c242-160">Zabezpieczenia oparte na rolach</span><span class="sxs-lookup"><span data-stu-id="4c242-160">Role-Based Security</span></span>](../../../docs/standard/security/role-based-security.md)|<span data-ttu-id="4c242-161">Opisuje sposób zastosować zabezpieczenia oparte na rolach.</span><span class="sxs-lookup"><span data-stu-id="4c242-161">Describes how to incorporate security based on roles.</span></span>|  
|[<span data-ttu-id="4c242-162">Usługi kryptograficzne</span><span class="sxs-lookup"><span data-stu-id="4c242-162">Cryptographic Services</span></span>](../../../docs/standard/security/cryptographic-services.md)|<span data-ttu-id="4c242-163">Opisuje sposób włączenia kryptografii do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4c242-163">Describes how to incorporate cryptography into your applications.</span></span>|
