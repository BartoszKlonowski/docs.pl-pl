---
title: Kompilowanie przykładów programu Windows Communication Foundation
ms.date: 03/30/2017
ms.assetid: 2899e7a5-9cb2-4e8d-b8d2-f31391549198
ms.openlocfilehash: 3366f62edd9f1bfec00f0374365cce48ca901163
ms.sourcegitcommit: 97405ed212f69b0a32faa66a5d5fae7e76628b68
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/01/2020
ms.locfileid: "91609346"
---
# <a name="building-the-windows-communication-foundation-samples"></a><span data-ttu-id="49752-102">Kompilowanie przykładów programu Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="49752-102">Building the Windows Communication Foundation Samples</span></span>

<span data-ttu-id="49752-103">Przykłady Windows Communication Foundation (WCF) można skompilować przy użyciu środowiska IDE programu Visual Studio lub za pomocą polecenia **MSBuild** z wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="49752-103">The Windows Communication Foundation (WCF) samples can be built using the Visual Studio IDE or using the **msbuild** command from the command line.</span></span> <span data-ttu-id="49752-104">Obie procedury opisano w tym temacie.</span><span class="sxs-lookup"><span data-stu-id="49752-104">Both procedures are described in this topic.</span></span>

> [!NOTE]
> <span data-ttu-id="49752-105">Przed skompilowaniem lub uruchomieniem dowolnego z przykładów programu WCF upewnij się, że została wykonana [Procedura konfiguracji jednorazowej dla przykładów Windows Communication Foundation](one-time-setup-procedure-for-the-wcf-samples.md).</span><span class="sxs-lookup"><span data-stu-id="49752-105">Before building or running any of the WCF samples, ensure you have performed the [One-Time Setup Procedure for the Windows Communication Foundation Samples](one-time-setup-procedure-for-the-wcf-samples.md).</span></span>

## <a name="to-build-the-sample-using-a-command-prompt"></a><span data-ttu-id="49752-106">Aby skompilować przykład za pomocą wiersza polecenia</span><span class="sxs-lookup"><span data-stu-id="49752-106">To build the sample using a command prompt</span></span>

1. <span data-ttu-id="49752-107">Otwórz wiersz polecenia dla deweloperów dla programu Visual Studio i przejdź do podkatalogu specyficznego dla języka w lokalizacji katalogu, w której zainstalowano przykład.</span><span class="sxs-lookup"><span data-stu-id="49752-107">Open Developer Command Prompt for Visual Studio and navigate to the language-specific subdirectory under the directory location where you installed the sample.</span></span>

2. <span data-ttu-id="49752-108">Wpisz `msbuild` w wierszu polecenia.</span><span class="sxs-lookup"><span data-stu-id="49752-108">Type `msbuild` at the command line.</span></span> <span data-ttu-id="49752-109">Pliki programu klienckiego są kompilowane do *client\bin* , a pliki programu usługi są kompilowane do *service\bin*.</span><span class="sxs-lookup"><span data-stu-id="49752-109">The client program files are built to *client\bin* and the service program files are built to *service\bin*.</span></span> <span data-ttu-id="49752-110">Jeśli usługa jest hostowana przez Internet Information Services (IIS), pliki programu usługi są również kopiowane do katalogu *servicemodelsamples* i jego podkatalogu *\Bin* .</span><span class="sxs-lookup"><span data-stu-id="49752-110">If the service is hosted by Internet Information Services (IIS), the service program files are also copied to the *servicemodelsamples* directory and its *\bin* subdirectory.</span></span>

> [!NOTE]
> <span data-ttu-id="49752-111">Należy ustawić listy ACL w *%SYSTEMDRIVE%\Inetpub\Wwwroot* , aby przyznać uprawnienia do modyfikowania na koncie, w ramach którego jest uruchomiony.</span><span class="sxs-lookup"><span data-stu-id="49752-111">You must set the ACLs on *%systemdrive%\inetpub\wwwroot* to grant modify permissions to the account under which you are running.</span></span> <span data-ttu-id="49752-112">W przeciwnym razie niektóre zdarzenia post nie powiodą się.</span><span class="sxs-lookup"><span data-stu-id="49752-112">Otherwise some post build events fail.</span></span> <span data-ttu-id="49752-113">Alternatywnie można pozostawić listy kontroli dostępu i uruchomić wiersz polecenia zestawu SDK jako administrator.</span><span class="sxs-lookup"><span data-stu-id="49752-113">Alternatively, you can leave the ACLs as they are and run the SDK command prompt as administrator.</span></span>

## <a name="to-build-the-sample-using-visual-studio"></a><span data-ttu-id="49752-114">Aby skompilować przykład za pomocą programu Visual Studio</span><span class="sxs-lookup"><span data-stu-id="49752-114">To build the sample using Visual Studio</span></span>

1. <span data-ttu-id="49752-115">W menu **plik** w programie Visual Studio wybierz pozycję **Otwórz**  >  **projekt/rozwiązanie**.</span><span class="sxs-lookup"><span data-stu-id="49752-115">From the **File** menu in Visual Studio, select **Open** > **Project/Solution**.</span></span> <span data-ttu-id="49752-116">Przejdź do podkatalogu specyficznego dla języka w katalogu, w którym zainstalowano przykład, a następnie kliknij dwukrotnie ikonę pliku. sln, aby otworzyć rozwiązanie w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="49752-116">Navigate to the language-specific subdirectory under the directory in which you installed the sample, and double-click the .sln file icon to open the solution in Visual Studio.</span></span>

1. <span data-ttu-id="49752-117">Z menu **kompilacja** wybierz opcję **Kompiluj ponownie rozwiązanie**.</span><span class="sxs-lookup"><span data-stu-id="49752-117">From the **Build** menu, select **Rebuild Solution**.</span></span>

   <span data-ttu-id="49752-118">Pliki programu klienckiego są kompilowane do client\bin, a pliki programu usługi są kompilowane do service\bin.</span><span class="sxs-lookup"><span data-stu-id="49752-118">The client program files are built to client\bin and the service program files are built to service\bin.</span></span> <span data-ttu-id="49752-119">Jeśli usługa jest hostowana w usługach IIS, pliki programu usługi są również kopiowane do katalogu *servicemodelsamples* i jego podkatalogu *\Bin* .</span><span class="sxs-lookup"><span data-stu-id="49752-119">If the service is hosted in IIS, the service program files are also copied to the *servicemodelsamples* directory and its *\bin* subdirectory.</span></span>

> [!NOTE]
> <span data-ttu-id="49752-120">Należy ustawić listy ACL w%systemdrive%\Inetpub\Wwwroot, aby przyznać uprawnienia do modyfikowania na koncie, w ramach którego jest uruchomiony.</span><span class="sxs-lookup"><span data-stu-id="49752-120">You must set the ACLs on %systemdrive%\inetpub\wwwroot to grant modify permissions to the account under which you are running.</span></span> <span data-ttu-id="49752-121">W przeciwnym razie niektóre zdarzenia post nie powiodą się.</span><span class="sxs-lookup"><span data-stu-id="49752-121">Otherwise some post build events fail.</span></span> <span data-ttu-id="49752-122">Alternatywnie można pozostawić listy kontroli dostępu i uruchomić wiersz polecenia zestawu SDK lub program Visual Studio jako administrator.</span><span class="sxs-lookup"><span data-stu-id="49752-122">Alternatively, you can leave the ACLs as they are and run the SDK command prompt or Visual Studio as administrator.</span></span> <span data-ttu-id="49752-123">Niektóre akcje programu Visual Studio (takie jak dołączenie debugera do procesu roboczego ASP.NET) wymagają również uprawnień administracyjnych.</span><span class="sxs-lookup"><span data-stu-id="49752-123">Some Visual Studio actions (such as attaching a debugger to the ASP.NET worker process) also require administrative privileges.</span></span>

## <a name="setup-batch-files-and-scripts"></a><span data-ttu-id="49752-124">Konfigurowanie plików i skryptów wsadowych</span><span class="sxs-lookup"><span data-stu-id="49752-124">Setup Batch Files and Scripts</span></span>
 <span data-ttu-id="49752-125">Setup.exe i Cleanup.exe plików wsadowych i skryptów należy uruchamiać z wiersz polecenia dla deweloperów dla programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="49752-125">Setup.exe and Cleanup.exe batch files and scripts should be run from Developer Command Prompt for Visual Studio.</span></span> <span data-ttu-id="49752-126">Kilka konfiguracji i oczyszczania plików wykonuje zadania, które wymagają uprawnień administracyjnych i powinny być uruchamiane z uprawnieniami administratora.</span><span class="sxs-lookup"><span data-stu-id="49752-126">Several set up and clean up files perform tasks that require administrative privileges and should be launched with administrator privileges.</span></span>

## <a name="important-security-information-about-metadata-endpoints"></a><span data-ttu-id="49752-127">Ważne informacje o zabezpieczeniach punktów końcowych metadanych</span><span class="sxs-lookup"><span data-stu-id="49752-127">Important Security Information about Metadata Endpoints</span></span>
 <span data-ttu-id="49752-128">Aby zapobiec przypadkowemu ujawnieniu potencjalnie poufnych metadanych usługi, konfiguracja domyślna dla usług Windows Communication Foundation (WCF) wyłącza Publikowanie metadanych.</span><span class="sxs-lookup"><span data-stu-id="49752-128">To prevent unintentional disclosure of potentially sensitive service metadata, the default configuration for Windows Communication Foundation (WCF) services disables metadata publishing.</span></span> <span data-ttu-id="49752-129">To zachowanie jest zabezpieczone domyślnie, ale oznacza to, że nie można użyć narzędzia do importowania metadanych (takiego jak Svcutil.exe) do wygenerowania kodu klienta wymaganego do wywołania usługi, chyba że zachowanie publikowania metadanych usługi jest jawnie włączone w konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="49752-129">This behavior is secure by default, but also means that you cannot use a metadata import tool (such as Svcutil.exe) to generate the client code required to call the service unless the service’s metadata publishing behavior is explicitly enabled in configuration.</span></span> <span data-ttu-id="49752-130">Aby ułatwić eksperymentowanie z przykładami, prawie wszystkie przykłady uwidaczniają niezabezpieczony punkt końcowy publikowania metadanych.</span><span class="sxs-lookup"><span data-stu-id="49752-130">To make experimenting with the samples easier, almost all samples expose an unsecured metadata publishing endpoint.</span></span> <span data-ttu-id="49752-131">Takie punkty końcowe są potencjalnie dostępne dla anonimowych użytkowników nieuwierzytelnionych i należy zachować ostrożność przed wdrożeniem takich punktów końcowych, aby upewnić się, że można publicznie odzamknąć metadane usługi.</span><span class="sxs-lookup"><span data-stu-id="49752-131">Such endpoints are potentially available to anonymous unauthenticated consumers and care must be taken before deploying such endpoints to ensure that publicly disclosing a service’s metadata is appropriate.</span></span> <span data-ttu-id="49752-132">Aby uzyskać więcej informacji na temat publikowania metadanych usługi, zobacz przykład [zachowania publikowania metadanych](metadata-publishing-behavior.md) .</span><span class="sxs-lookup"><span data-stu-id="49752-132">For more information about publishing service metadata, see the [Metadata Publishing Behavior](metadata-publishing-behavior.md) sample.</span></span> <span data-ttu-id="49752-133">Zapoznaj się z przykładem [niestandardowego bezpiecznego punktu końcowego metadanych](custom-secure-metadata-endpoint.md) w celu uzyskania przykładowego zabezpieczenia punktu końcowego metadanych.</span><span class="sxs-lookup"><span data-stu-id="49752-133">See the [Custom Secure Metadata Endpoint](custom-secure-metadata-endpoint.md) sample for a sample securing a metadata endpoint.</span></span>

## <a name="exception-handling"></a><span data-ttu-id="49752-134">Obsługa wyjątków</span><span class="sxs-lookup"><span data-stu-id="49752-134">Exception Handling</span></span>
 <span data-ttu-id="49752-135">Ogólnie mówiąc, te próbki nie obejmują obsługi wyjątków, aby zachować kod skoncentrowany na temacie przykładu.</span><span class="sxs-lookup"><span data-stu-id="49752-135">Generally speaking these samples do not include exception handling to keep the code focused on the subject of the sample.</span></span> <span data-ttu-id="49752-136">Aby uzyskać więcej informacji na temat obsługi wyjątków, zobacz przykład [oczekiwanych wyjątków](expected-exceptions.md) .</span><span class="sxs-lookup"><span data-stu-id="49752-136">For more information about exception handling, see the [Expected Exceptions](expected-exceptions.md) sample.</span></span>

## <a name="regenerating-clients-and-configuration-with-svcutil"></a><span data-ttu-id="49752-137">Ponowne generowanie klientów i konfiguracji za pomocą Svcutil</span><span class="sxs-lookup"><span data-stu-id="49752-137">Regenerating Clients and Configuration with Svcutil</span></span>
 <span data-ttu-id="49752-138">Aby wygenerować kod i konfigurację klienta większości przykładów, można użyć [Narzędzia do przesyłania metadanych modelu ServiceModel (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) .</span><span class="sxs-lookup"><span data-stu-id="49752-138">You can use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) to regenerate client code and configuration for most of the samples.</span></span> <span data-ttu-id="49752-139">Niektóre przykłady wymagają ręcznej edycji konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="49752-139">Some samples require manually edited configuration.</span></span> <span data-ttu-id="49752-140">Jeśli na przykład użyjesz Svcutil.exe, aby ponownie wygenerować konfigurację dla przykładu, który używa poświadczeń certyfikatu klienta, musisz ręcznie określić wcześniej skonfigurowane poświadczenia.</span><span class="sxs-lookup"><span data-stu-id="49752-140">For example, if you use Svcutil.exe to regenerate the configuration for a sample that uses client certificate credentials, you must manually specify the credentials previously configured.</span></span> <span data-ttu-id="49752-141">Niektóre przykłady używają określonych opcji Svcutil.exe, aby wpływać na wygenerowany kod, te opcje są określone w określonych przykładowych tematach.</span><span class="sxs-lookup"><span data-stu-id="49752-141">Some samples use specific Svcutil.exe options to affect the generated code, these options are specified in the specific sample topics.</span></span>

### <a name="to-regenerate-the-client-and-configuration-files"></a><span data-ttu-id="49752-142">Aby ponownie wygenerować pliki klienta i konfiguracji</span><span class="sxs-lookup"><span data-stu-id="49752-142">To regenerate the client and configuration files</span></span>

1. <span data-ttu-id="49752-143">Otwórz wiersz polecenia zestawu SDK i przejdź do podkatalogu specyficznego dla języka w lokalizacji katalogu, w której zainstalowano przykład.</span><span class="sxs-lookup"><span data-stu-id="49752-143">Open an SDK command prompt and navigate to the language-specific subdirectory under the directory location where you installed the sample.</span></span>

2. <span data-ttu-id="49752-144">Jeśli usługa jest typem hostowanym w sieci Web, użyj następującego polecenia.</span><span class="sxs-lookup"><span data-stu-id="49752-144">If the service is a Web-hosted type, use the following command.</span></span>

    ```console
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost/servicemodelsamples/service.svc/mex /out:generatedClient.cs
    ```

     <span data-ttu-id="49752-145">Jeśli usługa jest typem własnym, wpisz następujące polecenie.</span><span class="sxs-lookup"><span data-stu-id="49752-145">If the service is a self-hosted type the following command.</span></span>

    ```console
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost:8000/servicemodelsamples/service.svc/mex /out:generatedClient.cs
    ```

     <span data-ttu-id="49752-146">Zamień `http://localhost:8000/ServiceModelSamples/service.svc/mex` na adres punktu końcowego MEX usługi samodzielnej.</span><span class="sxs-lookup"><span data-stu-id="49752-146">Replace `http://localhost:8000/ServiceModelSamples/service.svc/mex` with the address of the self-hosted service's mex endpoint.</span></span>

     <span data-ttu-id="49752-147">Aby wygenerować klienta w typie Visual Basic, użyj następującego polecenia.</span><span class="sxs-lookup"><span data-stu-id="49752-147">To generate the client in a Visual Basic type, use the following command.</span></span>

    ```console
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost/servicemodelsamples/service.svc/mex /l:vb /out:generatedClient.vb
    ```

     <span data-ttu-id="49752-148">Jeśli usługa jest typem własnym, użyj następującego polecenia.</span><span class="sxs-lookup"><span data-stu-id="49752-148">If the service is a self-hosted type, use the following command.</span></span>

    ```console
    svcutil.exe /n:"http://Microsoft.ServiceModel.Samples,Microsoft.ServiceModel.Samples" http://localhost:8000/servicemodelsamples/service.svc/mex /l:vb /out:generatedClient.vb
    ```

    > [!NOTE]
    > <span data-ttu-id="49752-149">Aby pominąć generowanie konfiguracji klienta, Dodaj opcję **/noconfig** .</span><span class="sxs-lookup"><span data-stu-id="49752-149">To skip the generation of client configuration add the **/noConfig** option.</span></span>

## <a name="see-also"></a><span data-ttu-id="49752-150">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="49752-150">See also</span></span>

- [<span data-ttu-id="49752-151">Uruchamianie przykładów programu Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="49752-151">Running the Windows Communication Foundation Samples</span></span>](running-the-samples.md)
- [<span data-ttu-id="49752-152">Narzędzie do obsługi metadanych elementu ServiceModel (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="49752-152">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../servicemodel-metadata-utility-tool-svcutil-exe.md)
