---
title: "Kanał potwierdzania HTTP"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 469f3056-5ef2-4753-8acf-b574d23d83cf
caps.latest.revision: "10"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: d07a17c5ed4302657671e0247e44ac0ef6e75518
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/22/2017
---
# <a name="http-acknowledgement-channel"></a><span data-ttu-id="f8a9b-102">Kanał potwierdzania HTTP</span><span class="sxs-lookup"><span data-stu-id="f8a9b-102">HTTP Acknowledgement Channel</span></span>
<span data-ttu-id="f8a9b-103">Kanał potwierdzania HTTP jest przykładem warstwowego kanału, który zmienia jednokierunkowe wzorzec przesyłania komunikatów, co umożliwia usłudze potwierdzić lub odmówić wiadomości przychodzących, a nie automatycznie wysyła po otrzymaniu potwierdzenia.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-103">The HTTP Acknowledgement Channel is an example of a layered channel that changes the one-way messaging pattern, allowing a service to acknowledge or refuse incoming messages rather than automatically sending an acknowledgement on receipt.</span></span> <span data-ttu-id="f8a9b-104">Kanał potwierdzania HTTP umożliwia również usługą Opóźnienie potwierdzenia do momentu go gwarancji biznesowej, otrzymasz wiadomość.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-104">The HTTP Acknowledgement Channel also allows the service to delay acknowledgement until it can make a business-level guarantee that the message will be processed.</span></span>  
  
## <a name="demonstrates"></a><span data-ttu-id="f8a9b-105">Demonstracje</span><span class="sxs-lookup"><span data-stu-id="f8a9b-105">Demonstrates</span></span>  
 <span data-ttu-id="f8a9b-106"><xref:System.ServiceModel.Channels.ReceiveContext>, Warstwowego kanału przykład (kanał potwierdzania HTTP).</span><span class="sxs-lookup"><span data-stu-id="f8a9b-106"><xref:System.ServiceModel.Channels.ReceiveContext>, Layered channel example (HTTP Acknowledgement channel).</span></span>  
  
## <a name="discussion"></a><span data-ttu-id="f8a9b-107">Omówienie</span><span class="sxs-lookup"><span data-stu-id="f8a9b-107">Discussion</span></span>  
 <span data-ttu-id="f8a9b-108">Kanał potwierdzania HTTP implementuje <xref:System.ServiceModel.Channels.ReceiveContext> Aby przekształcić wzorzec komunikatów żądanie odpowiedź HTTP do wzorca jednokierunkowe opóźnione potwierdzenia.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-108">The HTTP Acknowledgement Channel implements <xref:System.ServiceModel.Channels.ReceiveContext> to reshape the HTTP request-reply messaging pattern to a one-way pattern with delayed acknowledgement.</span></span> <span data-ttu-id="f8a9b-109">Za pomocą tego nowego wzorca, usługi zapewnia przetwarzania komunikatów przez wysłanie potwierdzenia w postaci kodu stanu HTTP OK 200 bez blokowania klienta, aż do ukończenia przetwarzania komunikatu, lub wysłać komunikat o błędzie do klienta w postaci HTTP Wewnętrzny serwer kod stanu błędu 500.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-109">Using this new pattern, a service can ensure message processing by sending an acknowledgement in the form of an HTTP OK status code of 200 without blocking the client until message processing completes or can send a failure message to the client in the form of an HTTP Internal Server error status code of 500.</span></span> <span data-ttu-id="f8a9b-110">Na przykład usługi można wysłać potwierdzenie po zapisaniu wiadomości do kolejki, a następnie kontynuuj, przetwarzanie wiadomości asynchronicznie.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-110">For example, a service could send an acknowledgement after writing a message to a queue, and then continue processing the message asynchronously.</span></span> <span data-ttu-id="f8a9b-111">W tym scenariuszu klient może mieć pewność, że jego wiadomości przetworzono co najmniej raz przez usługę, jeśli ponownie program wysyłane wiadomości do momentu otrzymania potwierdzenia z usługi.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-111">In this scenario, a client could be assured its messages were processed at least once by the service, if it re-sent each message until it received an acknowledgement from the service.</span></span> <span data-ttu-id="f8a9b-112">Należy zauważyć, że jeśli usługa wymaga przetwarzania za pośrednictwem protokołu HTTP bez żadnych gwarancji, przetwarzania komunikatów o fast asynchroniczne, a następnie <xref:System.ServiceModel.Channels.OneWayBindingElement> jest to odpowiednie rozwiązanie.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-112">Note that, if a service requires fast asynchronous message processing over HTTP without any message processing guarantees, then the <xref:System.ServiceModel.Channels.OneWayBindingElement> is a more appropriate choice.</span></span>  
  
 <span data-ttu-id="f8a9b-113"><xref:System.ServiceModel.Channels.ReceiveContext>Służy do przechowywania wiadomości w miejsce, gdy okaże się, czy wiadomości mogą być przetwarzane w usłudze.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-113"><xref:System.ServiceModel.Channels.ReceiveContext> is used to hold the message in place while it is determined whether the message can be processed at the service.</span></span> <span data-ttu-id="f8a9b-114">Możliwość pomyślnie przetworzyć komunikatu usługi jest określane przez wywoływanie Complete <xref:System.ServiceModel.Channels.ReceiveContext> obiekt, który wysyła kod stanu HTTP OK i czy usługa może przetworzyć komunikatu jest wskazane przez wywołanie metody <xref:System.ServiceModel.Channels.ReceiveContext>w `Abandon` Metoda <xref:System.ServiceModel.Channels.ReceiveContext> obiektu, który wysyła kod stanu błędu wewnętrznego serwera HTTP.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-114">The ability of a service to successfully process the message is indicated by calling Complete on the <xref:System.ServiceModel.Channels.ReceiveContext> object that sends an HTTP OK status code and whether the service can process the message is indicated by calling <xref:System.ServiceModel.Channels.ReceiveContext>’s `Abandon` method on the <xref:System.ServiceModel.Channels.ReceiveContext> object, which sends an HTTP Internal Server error status code.</span></span>  
  
 <span data-ttu-id="f8a9b-115">W tym przykładzie klient żąda informacji przetwarzania przez wysyłanie identyfikatora pracownika.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-115">In this example, the client requests processing information by sending an employee ID.</span></span> <span data-ttu-id="f8a9b-116">Na stronie usługi, jeśli identyfikator Odebrano jest większa niż 50, usługa wysyła kod stanu HTTP 500 (wewnętrzny błąd serwera) z powrotem do klienta, w przeciwnym razie zakłada się, że przetwarzanie może być wykonane pomyślnie i wysyła kod stanu HTTP 200 ( Pomyślne) do klienta.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-116">On the service end, if the employee ID received is greater than 50, the service sends an HTTP Status code of 500 (Internal Server Error) back to the client, otherwise it is assumed that the processing can be successfully done and sends an HTTP Status code of 200 (Successful) to the client.</span></span>  
  
#### <a name="to-set-up-build-and-run-the-sample"></a><span data-ttu-id="f8a9b-117">Aby skonfigurować, kompilacji, a następnie uruchom próbki</span><span class="sxs-lookup"><span data-stu-id="f8a9b-117">To set up, build, and run the sample</span></span>  
  
1.  <span data-ttu-id="f8a9b-118">Otwórz [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] z uprawnieniami administratora.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-118">Open [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] with Administrator privileges.</span></span>  
  
2.  <span data-ttu-id="f8a9b-119">Otwórz **HttpAckChannel** rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-119">Open the **HttpAckChannel** solution.</span></span>  
  
3.  <span data-ttu-id="f8a9b-120">Uruchom nowe wystąpienie klasy **usługi** projektu, klikając prawym przyciskiem myszy projekt w **Eksploratora rozwiązań**i wybierając **debugowania**, **Start nowe wystąpienie** z menu kontekstowego.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-120">Start a new instance of the **Service** project by right clicking the project in **Solution Explorer**, and selecting **Debug**, **Start new instance** from the context menu.</span></span>  
  
4.  <span data-ttu-id="f8a9b-121">Uruchom nowe wystąpienie klasy **klienta** projektu, klikając prawym przyciskiem myszy projekt w **Eksploratora rozwiązań**i wybierając **debugowania**, i **Start nowe wystąpienie** z menu kontekstowego.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-121">Start a new instance of the **Client** project by right clicking the project in **Solution Explorer**, and selecting **Debug**, and **Start new instance** from the context menu.</span></span>  
  
5.  <span data-ttu-id="f8a9b-122">Po uruchomieniu usługi, naciśnij klawisz ENTER w oknie klienta, aby umożliwić klientowi wysłać komunikatu do usługi.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-122">Once the service has started, press ENTER in the client window to let the client send a message to the service.</span></span>  
  
6.  <span data-ttu-id="f8a9b-123">Pierwszy komunikat jest przetwarzany w usłudze, a kod stanu HTTP OK wysyła do klienta.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-123">The first message is processed on the service, and it sends an HTTP OK status code back to the client.</span></span>  
  
7.  <span data-ttu-id="f8a9b-124">Drugi komunikat zakończy się niepowodzeniem, a kod stanu błędu wewnętrznego serwera HTTP wysyłane z powrotem do klienta, który wywołuje <xref:System.ServiceModel.CommunicationException> na kliencie.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-124">The second message is unsuccessful, and it sends an HTTP Internal Server error status code back to the client, which raises a <xref:System.ServiceModel.CommunicationException> on the client.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="f8a9b-125">Próbki mogą być zainstalowane na tym komputerze.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-125">The samples may already be installed on your machine.</span></span> <span data-ttu-id="f8a9b-126">Przed kontynuowaniem sprawdź, czy są dostępne dla następującego katalogu (ustawienie domyślne).</span><span class="sxs-lookup"><span data-stu-id="f8a9b-126">Check for the following (default) directory before continuing.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples`  
>   
>  <span data-ttu-id="f8a9b-127">Jeśli ten katalog nie istnieje, przejdź do [Windows Communication Foundation (WCF) i Windows Workflow Foundation (WF) przykłady dla programu .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) pobrać wszystkie [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] i [!INCLUDE[wf1](../../../../includes/wf1-md.md)] próbek.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-127">If this directory does not exist, go to [Windows Communication Foundation (WCF) and Windows Workflow Foundation (WF) Samples for .NET Framework 4](http://go.microsoft.com/fwlink/?LinkId=150780) to download all [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] and [!INCLUDE[wf1](../../../../includes/wf1-md.md)] samples.</span></span> <span data-ttu-id="f8a9b-128">W tym przykładzie znajduje się w następującym katalogu.</span><span class="sxs-lookup"><span data-stu-id="f8a9b-128">This sample is located in the following directory.</span></span>  
>   
>  `<InstallDrive>:\WF_WCF_Samples\WCF\Extensibility\Channels\HttpAckChannel`
