---
title: Architektura WCF (Windows Communication Foundation)
description: Dowiedz się więcej na temat głównych warstw architektury Windows Communication Foundation, takich jak kontrakty, środowisko uruchomieniowe usług, obsługa komunikatów i aktywacja &.
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Communication Foundation [WCF], architecture
- WCF [WCF], architecture
- architecture [WCF]
ms.assetid: a3bcb0a1-56ea-4ba6-9736-d260d90dade5
ms.openlocfilehash: 7cb03ddd7207fbea23577ff18e984e90779333bc
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/26/2020
ms.locfileid: "96294888"
---
# <a name="windows-communication-foundation-architecture"></a><span data-ttu-id="52bf7-103">Architektura WCF (Windows Communication Foundation)</span><span class="sxs-lookup"><span data-stu-id="52bf7-103">Windows Communication Foundation Architecture</span></span>

<span data-ttu-id="52bf7-104">Na poniższej ilustracji przedstawiono główne warstwy architektury Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="52bf7-104">The following graphic illustrates the major layers of the Windows Communication Foundation (WCF) architecture.</span></span>  
  
## <a name="wcf-architecture"></a><span data-ttu-id="52bf7-105">Architektura WCF</span><span class="sxs-lookup"><span data-stu-id="52bf7-105">WCF Architecture</span></span>  

 <span data-ttu-id="52bf7-106">![Architektura programu WCF](./media/wcf-architecture.gif "WCF_Architecture")</span><span class="sxs-lookup"><span data-stu-id="52bf7-106">![The WCF Architecture](./media/wcf-architecture.gif "WCF_Architecture")</span></span>  
  
### <a name="contracts-and-descriptions"></a><span data-ttu-id="52bf7-107">Kontrakty i opisy</span><span class="sxs-lookup"><span data-stu-id="52bf7-107">Contracts and Descriptions</span></span>  

 <span data-ttu-id="52bf7-108">Kontrakty definiują różne aspekty systemu komunikatów.</span><span class="sxs-lookup"><span data-stu-id="52bf7-108">Contracts define various aspects of the message system.</span></span> <span data-ttu-id="52bf7-109">W umowie dotyczącej danych opisano każdy parametr, który obejmuje każdy komunikat, który usługa może utworzyć lub wykorzystać.</span><span class="sxs-lookup"><span data-stu-id="52bf7-109">The data contract describes every parameter that makes up every message that a service can create or consume.</span></span> <span data-ttu-id="52bf7-110">Parametry wiadomości są definiowane przez dokumenty języka definicji schematu XML (XSD), co umożliwia dowolnemu systemowi zrozumienie kodu XML do przetwarzania dokumentów.</span><span class="sxs-lookup"><span data-stu-id="52bf7-110">The message parameters are defined by XML Schema definition language (XSD) documents, enabling any system that understands XML to process the documents.</span></span> <span data-ttu-id="52bf7-111">Kontrakt wiadomości definiuje konkretne części komunikatów korzystające z protokołów SOAP i umożliwia dokładniejszą kontrolę nad częściami komunikatu, gdy współdziałanie wymaga takiej precyzji.</span><span class="sxs-lookup"><span data-stu-id="52bf7-111">The message contract defines specific message parts using SOAP protocols, and allows finer-grained control over parts of the message, when interoperability demands such precision.</span></span> <span data-ttu-id="52bf7-112">Kontrakt usługi określa rzeczywiste podpisy metody usługi i jest dystrybuowany jako interfejs w jednym z obsługiwanych języków programowania, takich jak Visual Basic lub Visual C#.</span><span class="sxs-lookup"><span data-stu-id="52bf7-112">The service contract specifies the actual method signatures of the service, and is distributed as an interface in one of the supported programming languages, such as Visual Basic or Visual C#.</span></span>  
  
 <span data-ttu-id="52bf7-113">Zasady i powiązania określają warunki wymagane do komunikacji z usługą.</span><span class="sxs-lookup"><span data-stu-id="52bf7-113">Policies and bindings stipulate the conditions required to communicate with a service.</span></span>  <span data-ttu-id="52bf7-114">Na przykład powiązanie musi (co najmniej) określać używany transport (na przykład HTTP lub TCP) i kodowanie.</span><span class="sxs-lookup"><span data-stu-id="52bf7-114">For example, the binding must (at a minimum) specify the transport used (for example, HTTP or TCP), and an encoding.</span></span> <span data-ttu-id="52bf7-115">Zasady obejmują wymagania dotyczące zabezpieczeń i inne warunki, które muszą zostać spełnione, aby komunikować się z usługą.</span><span class="sxs-lookup"><span data-stu-id="52bf7-115">Policies include security requirements and other conditions that must be met to communicate with a service.</span></span>  
  
### <a name="service-runtime"></a><span data-ttu-id="52bf7-116">Środowisko uruchomieniowe usługi</span><span class="sxs-lookup"><span data-stu-id="52bf7-116">Service Runtime</span></span>  

 <span data-ttu-id="52bf7-117">Warstwa środowiska uruchomieniowego usługi zawiera zachowania, które są wykonywane tylko podczas rzeczywistej pracy usługi, czyli zachowania środowiska uruchomieniowego usługi.</span><span class="sxs-lookup"><span data-stu-id="52bf7-117">The service runtime layer contains the behaviors that occur only during the actual operation of the service, that is, the runtime behaviors of the service.</span></span> <span data-ttu-id="52bf7-118">Ograniczanie przepływności kontroluje liczbę przetwarzanych komunikatów, co może być zróżnicowane w przypadku, gdy zapotrzebowanie na usługę osiągnie ustawiony limit.</span><span class="sxs-lookup"><span data-stu-id="52bf7-118">Throttling controls how many messages are processed, which can be varied if the demand for the service grows to a preset limit.</span></span> <span data-ttu-id="52bf7-119">Zachowanie błędu określa, co się dzieje w przypadku wystąpienia błędu wewnętrznego w usłudze, na przykład przez kontrolowanie, jakie informacje są przekazywane Klientowi.</span><span class="sxs-lookup"><span data-stu-id="52bf7-119">An error behavior specifies what occurs when an internal error occurs on the service, for example, by controlling what information is communicated to the client.</span></span> <span data-ttu-id="52bf7-120">(Zbyt wiele informacji może dać złośliwemu użytkownikowi korzyść w instalowaniu ataku). Zachowanie metadanych reguluje sposób i informacje o tym, czy metadane są udostępniane na świecie zewnętrznym.</span><span class="sxs-lookup"><span data-stu-id="52bf7-120">(Too much information can give a malicious user an advantage in mounting an attack.) Metadata behavior governs how and whether metadata is made available to the outside world.</span></span> <span data-ttu-id="52bf7-121">Zachowanie wystąpienia określa, ile wystąpień usługi może być uruchomionych (na przykład pojedyncze określa tylko jedno wystąpienie do przetwarzania wszystkich komunikatów).</span><span class="sxs-lookup"><span data-stu-id="52bf7-121">Instance behavior specifies how many instances of the service can be run (for example, a singleton specifies only one instance to process all messages).</span></span> <span data-ttu-id="52bf7-122">Zachowanie transakcji umożliwia wycofanie operacji transakcyjnych w przypadku wystąpienia błędu.</span><span class="sxs-lookup"><span data-stu-id="52bf7-122">Transaction behavior enables the rollback of transacted operations if a failure occurs.</span></span> <span data-ttu-id="52bf7-123">Zachowanie wysyłania to Kontrola sposobu przetwarzania komunikatów przez infrastrukturę WCF.</span><span class="sxs-lookup"><span data-stu-id="52bf7-123">Dispatch behavior is the control of how a message is processed by the WCF infrastructure.</span></span>  
  
 <span data-ttu-id="52bf7-124">Rozszerzalność umożliwia dostosowanie procesów środowiska uruchomieniowego.</span><span class="sxs-lookup"><span data-stu-id="52bf7-124">Extensibility enables customization of runtime processes.</span></span> <span data-ttu-id="52bf7-125">Na przykład Inspekcja komunikatów jest funkcją do sprawdzania części komunikatu, a filtrowanie parametrów umożliwia wykonywanie wstępnie ustawionych akcji na podstawie filtrów działających na nagłówkach komunikatów.</span><span class="sxs-lookup"><span data-stu-id="52bf7-125">For example, message inspection is the facility to inspect parts of a message, and parameter filtering enables preset actions to occur based on filters acting on message headers.</span></span>  
  
### <a name="messaging"></a><span data-ttu-id="52bf7-126">Obsługa wiadomości</span><span class="sxs-lookup"><span data-stu-id="52bf7-126">Messaging</span></span>  

 <span data-ttu-id="52bf7-127">Warstwa komunikatów składa się z *kanałów*.</span><span class="sxs-lookup"><span data-stu-id="52bf7-127">The messaging layer is composed of *channels*.</span></span> <span data-ttu-id="52bf7-128">Kanał to składnik, który przetwarza komunikat w jakiś sposób, na przykład przez uwierzytelnienie komunikatu.</span><span class="sxs-lookup"><span data-stu-id="52bf7-128">A channel is a component that processes a message in some way, for example, by authenticating a message.</span></span> <span data-ttu-id="52bf7-129">Zestaw kanałów jest również nazywany *stosem kanału*.</span><span class="sxs-lookup"><span data-stu-id="52bf7-129">A set of channels is also known as a *channel stack*.</span></span> <span data-ttu-id="52bf7-130">Kanały działają na komunikatach i nagłówkach komunikatów.</span><span class="sxs-lookup"><span data-stu-id="52bf7-130">Channels operate on messages and message headers.</span></span> <span data-ttu-id="52bf7-131">Różni się to od warstwy środowiska uruchomieniowego usługi, która jest przede wszystkim zaangażowana w przetwarzanie zawartości treści komunikatów.</span><span class="sxs-lookup"><span data-stu-id="52bf7-131">This is different from the service runtime layer, which is primarily concerned about processing the contents of message bodies.</span></span>  
  
 <span data-ttu-id="52bf7-132">Istnieją dwa typy kanałów: kanały transportu i kanały protokołu.</span><span class="sxs-lookup"><span data-stu-id="52bf7-132">There are two types of channels: transport channels and protocol channels.</span></span>  
  
 <span data-ttu-id="52bf7-133">Kanały transportu odczytują i zapisują wiadomości z sieci (lub innego punktu komunikacji z zewnętrznym światem).</span><span class="sxs-lookup"><span data-stu-id="52bf7-133">Transport channels read and write messages from the network (or some other communication point with the outside world).</span></span> <span data-ttu-id="52bf7-134">Niektóre transporty wykorzystują koder do konwertowania komunikatów (które są reprezentowane jako XML Infosets) do i z reprezentacji strumienia bajtów używanych przez sieć.</span><span class="sxs-lookup"><span data-stu-id="52bf7-134">Some transports use an encoder to convert messages (which are represented as XML Infosets) to and from the byte stream representation used by the network.</span></span> <span data-ttu-id="52bf7-135">Przykładami transportami są HTTP, nazwane potoki, TCP i MSMQ.</span><span class="sxs-lookup"><span data-stu-id="52bf7-135">Examples of transports are HTTP, named pipes, TCP, and MSMQ.</span></span> <span data-ttu-id="52bf7-136">Przykłady kodowań są XML i zoptymalizowane jako dane binarne.</span><span class="sxs-lookup"><span data-stu-id="52bf7-136">Examples of encodings are XML and optimized binary.</span></span>  
  
 <span data-ttu-id="52bf7-137">Kanały protokołu implementują protokoły przetwarzania komunikatów, często poprzez odczytywanie lub zapisywanie dodatkowych nagłówków w komunikacie.</span><span class="sxs-lookup"><span data-stu-id="52bf7-137">Protocol channels implement message processing protocols, often by reading or writing additional headers to the message.</span></span> <span data-ttu-id="52bf7-138">Przykładami takich protokołów są WS-Security i WS-niezawodność.</span><span class="sxs-lookup"><span data-stu-id="52bf7-138">Examples of such protocols include WS-Security and WS-Reliability.</span></span>  
  
 <span data-ttu-id="52bf7-139">Warstwa obsługi wiadomości ilustruje możliwe formaty i wzorce wymiany danych.</span><span class="sxs-lookup"><span data-stu-id="52bf7-139">The messaging layer illustrates the possible formats and exchange patterns of the data.</span></span> <span data-ttu-id="52bf7-140">WS-Security to implementacja specyfikacji WS-Security włączająca zabezpieczenia w warstwie komunikatów.</span><span class="sxs-lookup"><span data-stu-id="52bf7-140">WS-Security is an implementation of the WS-Security specification enabling security at the message layer.</span></span> <span data-ttu-id="52bf7-141">Kanał obsługi komunikatów WS-Reliable umożliwia gwarancję dostarczania komunikatów.</span><span class="sxs-lookup"><span data-stu-id="52bf7-141">The WS-Reliable Messaging channel enables the guarantee of message delivery.</span></span> <span data-ttu-id="52bf7-142">Kodery składają się z różnych kodowań, które mogą być używane do zaspokajania potrzeb wiadomości.</span><span class="sxs-lookup"><span data-stu-id="52bf7-142">The encoders present a variety of encodings that can be used to suit the needs of the message.</span></span> <span data-ttu-id="52bf7-143">Kanał HTTP określa, że protokół transportu hipertekstowego jest używany do dostarczania komunikatów.</span><span class="sxs-lookup"><span data-stu-id="52bf7-143">The HTTP channel specifies that the HyperText Transport Protocol is used for message delivery.</span></span> <span data-ttu-id="52bf7-144">Kanałem TCP w podobny sposób określa protokół TCP.</span><span class="sxs-lookup"><span data-stu-id="52bf7-144">The TCP channel similarly specifies the TCP protocol.</span></span> <span data-ttu-id="52bf7-145">Kanał przepływu transakcji zarządza wzorcami komunikatów transakcyjnych.</span><span class="sxs-lookup"><span data-stu-id="52bf7-145">The Transaction Flow channel governs transacted message patterns.</span></span> <span data-ttu-id="52bf7-146">Kanał nazwanego potoku umożliwia komunikację międzyprocesową.</span><span class="sxs-lookup"><span data-stu-id="52bf7-146">The Named Pipe channel enables interprocess communication.</span></span> <span data-ttu-id="52bf7-147">Kanał usługi MSMQ umożliwia współdziałanie z aplikacjami usługi MSMQ.</span><span class="sxs-lookup"><span data-stu-id="52bf7-147">The MSMQ channel enables interoperation with MSMQ applications.</span></span>  
  
### <a name="hosting-and-activation"></a><span data-ttu-id="52bf7-148">Hosting i aktywacja</span><span class="sxs-lookup"><span data-stu-id="52bf7-148">Hosting and Activation</span></span>  

 <span data-ttu-id="52bf7-149">W swojej końcowej formie usługa jest programem.</span><span class="sxs-lookup"><span data-stu-id="52bf7-149">In its final form, a service is a program.</span></span> <span data-ttu-id="52bf7-150">Podobnie jak w przypadku innych programów, usługa musi być uruchomiona w pliku wykonywalnym.</span><span class="sxs-lookup"><span data-stu-id="52bf7-150">Like other programs, a service must be run in an executable.</span></span> <span data-ttu-id="52bf7-151">Jest to tzw. Usługa *samodzielna* .</span><span class="sxs-lookup"><span data-stu-id="52bf7-151">This is known as a *self-hosted* service.</span></span>  
  
 <span data-ttu-id="52bf7-152">Usługi mogą być również *hostowane* lub uruchamiane w pliku wykonywalnym zarządzanym przez agenta zewnętrznego, takiego jak usługi IIS lub usługa aktywacji systemu Windows (was).</span><span class="sxs-lookup"><span data-stu-id="52bf7-152">Services can also be *hosted*, or run in an executable managed by an external agent, such as IIS or Windows Activation Service (WAS).</span></span> <span data-ttu-id="52bf7-153">Program umożliwia automatyczne Aktywowanie aplikacji WCF po wdrożeniu na komputerze z systemem.</span><span class="sxs-lookup"><span data-stu-id="52bf7-153">WAS enables WCF applications to be activated automatically when deployed on a computer running WAS.</span></span> <span data-ttu-id="52bf7-154">Usługi można również uruchamiać ręcznie jako pliki wykonywalne (. exe).</span><span class="sxs-lookup"><span data-stu-id="52bf7-154">Services can also be manually run as executables (.exe files).</span></span> <span data-ttu-id="52bf7-155">Usługa może być również uruchamiana automatycznie jako usługa systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="52bf7-155">A service can also be run automatically as a Windows service.</span></span> <span data-ttu-id="52bf7-156">Składniki modelu COM+ mogą być również hostowane jako usługi WCF.</span><span class="sxs-lookup"><span data-stu-id="52bf7-156">COM+ components can also be hosted as WCF services.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="52bf7-157">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="52bf7-157">See also</span></span>

- [<span data-ttu-id="52bf7-158">Co to jest program Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="52bf7-158">What Is Windows Communication Foundation</span></span>](whats-wcf.md)
- [<span data-ttu-id="52bf7-159">Podstawowe pojęcia programu Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="52bf7-159">Fundamental Windows Communication Foundation Concepts</span></span>](fundamental-concepts.md)
