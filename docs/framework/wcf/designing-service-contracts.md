---
title: "Projektowanie kontraktów usług"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- service contracts [WCF]
ms.assetid: 8e89cbb9-ac84-4f0d-85ef-0eb6be0022fd
caps.latest.revision: 
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: 293d7f8502b39eac6508ba10b2fac128c6aa4879
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/22/2017
---
# <a name="designing-service-contracts"></a><span data-ttu-id="77c67-102">Projektowanie kontraktów usług</span><span class="sxs-lookup"><span data-stu-id="77c67-102">Designing Service Contracts</span></span>
<span data-ttu-id="77c67-103">W tym temacie opisano, jakie usługi kontraktów są, jak są zdefiniowane, jakie operacje są dostępne (i wpływem na podstawowym wymiany komunikatów), jakie typy danych są używane i inne problemy, które ułatwiają projektowanie operacje, które spełniają wymagania danego scenariusza.</span><span class="sxs-lookup"><span data-stu-id="77c67-103">This topic describes what service contracts are, how they are defined, what operations are available (and the implications for the underlying message exchanges), what data types are used, and other issues that help you design operations that satisfy the requirements of your scenario.</span></span>  
  
## <a name="creating-a-service-contract"></a><span data-ttu-id="77c67-104">Tworzenie kontraktu usługi</span><span class="sxs-lookup"><span data-stu-id="77c67-104">Creating a Service Contract</span></span>  
 <span data-ttu-id="77c67-105">Usługi Udostępnianie liczba operacji.</span><span class="sxs-lookup"><span data-stu-id="77c67-105">Services expose a number of operations.</span></span> <span data-ttu-id="77c67-106">W [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] aplikacje, zdefiniuj operacje tworzenia metody i oznaczenie go atrybutem <xref:System.ServiceModel.OperationContractAttribute> atrybutu.</span><span class="sxs-lookup"><span data-stu-id="77c67-106">In [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] applications, define the operations by creating a method and marking it with the <xref:System.ServiceModel.OperationContractAttribute> attribute.</span></span> <span data-ttu-id="77c67-107">Następnie, aby utworzyć kontrakt usługi, grupują działania, poprzez ich zgłaszania interfejsu oznaczony atrybutem <xref:System.ServiceModel.ServiceContractAttribute> atrybut lub poprzez definiowanie je w klasie oznaczonej przez tego samego atrybutu.</span><span class="sxs-lookup"><span data-stu-id="77c67-107">Then, to create a service contract, group together your operations, either by declaring them within an interface marked with the <xref:System.ServiceModel.ServiceContractAttribute> attribute, or by defining them in a class marked with the same attribute.</span></span> <span data-ttu-id="77c67-108">(Na przykład podstawowa, zobacz [porady: definiowanie kontraktu usługi](../../../docs/framework/wcf/how-to-define-a-wcf-service-contract.md).)</span><span class="sxs-lookup"><span data-stu-id="77c67-108">(For a basic example, see [How to: Define a Service Contract](../../../docs/framework/wcf/how-to-define-a-wcf-service-contract.md).)</span></span>  
  
 <span data-ttu-id="77c67-109">Wszystkie metody, które nie mają <xref:System.ServiceModel.OperationContractAttribute> atrybutów nie są operacji usługi i nie są dostępne w [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] usług.</span><span class="sxs-lookup"><span data-stu-id="77c67-109">Any methods that do not have a <xref:System.ServiceModel.OperationContractAttribute> attribute are not service operations and are not exposed by [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] services.</span></span>  
  
 <span data-ttu-id="77c67-110">W tym temacie opisano następujące punkty decyzyjne podczas projektowania kontraktu usługi:</span><span class="sxs-lookup"><span data-stu-id="77c67-110">This topic describes the following decision points when designing a service contract:</span></span>  
  
-   <span data-ttu-id="77c67-111">Określa, czy używać interfejsów lub klas.</span><span class="sxs-lookup"><span data-stu-id="77c67-111">Whether to use classes or interfaces.</span></span>  
  
-   <span data-ttu-id="77c67-112">Jak określać typy danych, które chcesz programu exchange.</span><span class="sxs-lookup"><span data-stu-id="77c67-112">How to specify the data types you want to exchange.</span></span>  
  
-   <span data-ttu-id="77c67-113">Typy z programu exchange, które można użyć.</span><span class="sxs-lookup"><span data-stu-id="77c67-113">The types of exchange patterns you can use.</span></span>  
  
-   <span data-ttu-id="77c67-114">Określa, czy istnieje możliwość wymagania zabezpieczeń jawne częścią umowy.</span><span class="sxs-lookup"><span data-stu-id="77c67-114">Whether you can make explicit security requirements part of the contract.</span></span>  
  
-   <span data-ttu-id="77c67-115">Ograniczenia dotyczące operacji wejścia i wyjścia.</span><span class="sxs-lookup"><span data-stu-id="77c67-115">The restrictions for operation inputs and outputs.</span></span>  
  
## <a name="classes-or-interfaces"></a><span data-ttu-id="77c67-116">Interfejsów lub klas</span><span class="sxs-lookup"><span data-stu-id="77c67-116">Classes or Interfaces</span></span>  
 <span data-ttu-id="77c67-117">Zarówno klasy i interfejsy reprezentują grupowania funkcjonalności i, w związku z tym są używane do definiowania [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] kontraktu usługi.</span><span class="sxs-lookup"><span data-stu-id="77c67-117">Both classes and interfaces represent a grouping of functionality and, therefore, both can be used to define a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service contract.</span></span> <span data-ttu-id="77c67-118">Zaleca się jednak używać interfejsów, ponieważ ich bezpośrednio modelu kontraktów usług.</span><span class="sxs-lookup"><span data-stu-id="77c67-118">However, it is recommended that you use interfaces because they directly model service contracts.</span></span> <span data-ttu-id="77c67-119">Bez implementacji interfejsów nie więcej niż definiowanie grup metod z określonych podpisów.</span><span class="sxs-lookup"><span data-stu-id="77c67-119">Without an implementation, interfaces do no more than define a grouping of methods with certain signatures.</span></span> <span data-ttu-id="77c67-120">Implementowanie interfejsu kontraktu usługi i wdrożeniu [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] usługi.</span><span class="sxs-lookup"><span data-stu-id="77c67-120">Implement a service contract interface and you have implemented a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service.</span></span>  
  
 <span data-ttu-id="77c67-121">Wszystkie zalety zarządzane interfejsy dotyczą interfejsy kontraktu usługi:</span><span class="sxs-lookup"><span data-stu-id="77c67-121">All the benefits of managed interfaces apply to service contract interfaces:</span></span>  
  
-   <span data-ttu-id="77c67-122">Interfejsy kontraktu usługi można rozszerzyć dowolną liczbę inne interfejsy kontraktu usługi.</span><span class="sxs-lookup"><span data-stu-id="77c67-122">Service contract interfaces can extend any number of other service contract interfaces.</span></span>  
  
-   <span data-ttu-id="77c67-123">Klasę można zaimplementować dowolną liczbę kontraktów usług zaimplementowanie te interfejsy kontraktu usługi.</span><span class="sxs-lookup"><span data-stu-id="77c67-123">A single class can implement any number of service contracts by implementing those service contract interfaces.</span></span>  
  
-   <span data-ttu-id="77c67-124">Implementacji kontraktu usługi można modyfikować, zmieniając implementacji interfejsu, podczas gdy kontrakt usługi jest taka sama.</span><span class="sxs-lookup"><span data-stu-id="77c67-124">You can modify the implementation of a service contract by changing the interface implementation, while the service contract remains the same.</span></span>  
  
-   <span data-ttu-id="77c67-125">Możesz wersji usługi zaimplementowanie interfejsu starym i nowym.</span><span class="sxs-lookup"><span data-stu-id="77c67-125">You can version your service by implementing the old interface and the new one.</span></span> <span data-ttu-id="77c67-126">Stary klienci łączą się z oryginalną wersją podczas nowszych wersji klientów można połączyć do nowszej wersji.</span><span class="sxs-lookup"><span data-stu-id="77c67-126">Old clients connect to the original version, while newer clients can connect to the newer version.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="77c67-127">Podczas dziedziczenia z innych interfejsów kontraktu usługi, nie można zastąpić właściwości operacji, np. nazwę lub przestrzeń nazw.</span><span class="sxs-lookup"><span data-stu-id="77c67-127">When inheriting from other service contract interfaces, you cannot override operation properties, such as the name or namespace.</span></span> <span data-ttu-id="77c67-128">Jeśli użytkownik spróbuje to zrobić, tworzenia nowej operacji w bieżącym kontraktu usługi.</span><span class="sxs-lookup"><span data-stu-id="77c67-128">If you attempt to do so, you create a new operation in the current service contract.</span></span>  
  
 [!INCLUDE[crexample](../../../includes/crexample-md.md)]<span data-ttu-id="77c67-129">Tworzenie kontraktu usługi, za pomocą interfejsu zobacz [porady: Tworzenie usługi przy użyciu interfejsu kontraktu](../../../docs/framework/wcf/feature-details/how-to-create-a-service-with-a-contract-interface.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-129"> using an interface to create a service contract, see [How to: Create a Service with a Contract Interface](../../../docs/framework/wcf/feature-details/how-to-create-a-service-with-a-contract-interface.md).</span></span>  
  
 <span data-ttu-id="77c67-130">Można jednak używać klasy definiowanie kontraktu usługi i implementacji tego kontraktu w tym samym czasie.</span><span class="sxs-lookup"><span data-stu-id="77c67-130">You can, however, use a class to define a service contract and implement that contract at the same time.</span></span> <span data-ttu-id="77c67-131">Zaletą tworzenia usług, stosując <xref:System.ServiceModel.ServiceContractAttribute> i <xref:System.ServiceModel.OperationContractAttribute> bezpośrednio do klasy i metody w klasie, odpowiednio jest szybkość i prostota.</span><span class="sxs-lookup"><span data-stu-id="77c67-131">The advantage of creating your services by applying <xref:System.ServiceModel.ServiceContractAttribute> and <xref:System.ServiceModel.OperationContractAttribute> directly to the class and the methods on the class, respectively, is speed and simplicity.</span></span> <span data-ttu-id="77c67-132">Wady są zarządzanych klas nie obsługują dziedziczenie wielokrotne, czy w związku z tym ich można tylko zaimplementować jeden kontrakt usługi naraz.</span><span class="sxs-lookup"><span data-stu-id="77c67-132">The disadvantages are that managed classes do not support multiple inheritance, and as a result they can only implement one service contract at a time.</span></span> <span data-ttu-id="77c67-133">Ponadto wszelkie modyfikacje podpisów klasa lub metoda modyfikuje publicznego kontraktu dla tej usługi, co może uniemożliwić klientom zostały zmodyfikowane za pomocą usługi.</span><span class="sxs-lookup"><span data-stu-id="77c67-133">In addition, any modification to the class or method signatures modifies the public contract for that service, which can prevent unmodified clients from using your service.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="77c67-134">[Implementowanie kontraktów usług](../../../docs/framework/wcf/implementing-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-134"> [Implementing Service Contracts](../../../docs/framework/wcf/implementing-service-contracts.md).</span></span>  
  
 <span data-ttu-id="77c67-135">Na przykład, używa klasy w celu utworzenia kontraktu usługi, który implementuje go w tym samym czasie, zobacz [porady: Tworzenie usługi za pomocą klasy kontraktu](../../../docs/framework/wcf/feature-details/how-to-create-a-wcf-contract-with-a-class.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-135">For an example that uses a class to create a service contract and implements it at the same time, see [How to: Create a Service with a Contract Class](../../../docs/framework/wcf/feature-details/how-to-create-a-wcf-contract-with-a-class.md).</span></span>  
  
 <span data-ttu-id="77c67-136">W tym momencie należy zrozumieć różnicę między Definiowanie umowy serwisowej, przy użyciu interfejsu i przy użyciu klasy.</span><span class="sxs-lookup"><span data-stu-id="77c67-136">At this point, you should understand the difference between defining your service contract by using an interface and by using a class.</span></span> <span data-ttu-id="77c67-137">Następnym krokiem decyduje, jakie dane mogą zostać przekazane i z powrotem między usługą i klientów.</span><span class="sxs-lookup"><span data-stu-id="77c67-137">The next step is deciding what data can be passed back and forth between a service and its clients.</span></span>  
  
## <a name="parameters-and-return-values"></a><span data-ttu-id="77c67-138">Parametry i wartości zwracane</span><span class="sxs-lookup"><span data-stu-id="77c67-138">Parameters and Return Values</span></span>  
 <span data-ttu-id="77c67-139">Każda operacja wymaga wartości zwracanej i parametrów, nawet jeśli są one `void`.</span><span class="sxs-lookup"><span data-stu-id="77c67-139">Each operation has a return value and a parameter, even if these are `void`.</span></span> <span data-ttu-id="77c67-140">Jednak w przeciwieństwie do metodę lokalną, w którym można przekazać odwołania do obiektów z jednego obiektu do innego, operacje usług nie są przekazywane odwołania do obiektów.</span><span class="sxs-lookup"><span data-stu-id="77c67-140">However, unlike a local method, in which you can pass references to objects from one object to another, service operations do not pass references to objects.</span></span> <span data-ttu-id="77c67-141">Zamiast tego przechodzą kopii obiektów.</span><span class="sxs-lookup"><span data-stu-id="77c67-141">Instead, they pass copies of the objects.</span></span>  
  
 <span data-ttu-id="77c67-142">Jest to istotne, ponieważ każdy typ użyte w parametrze lub zwracać wartość musi być możliwy do serializacji; oznacza to musi być możliwe do przekonwertowania obiektu tego typu w strumieniu bajtów i ze strumienia bajtów do obiektu.</span><span class="sxs-lookup"><span data-stu-id="77c67-142">This is significant because each type used in a parameter or return value must be serializable; that is, it must be possible to convert an object of that type into a stream of bytes and from a stream of bytes into an object.</span></span>  
  
 <span data-ttu-id="77c67-143">Typy pierwotne są domyślnie serializacji, ponieważ wiele typów w programie .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="77c67-143">Primitive types are serializable by default, as are many types in the .NET Framework.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="77c67-144">Wartość nazwy parametrów w podpisie operacji są częścią kontraktu i jest uwzględniana wielkość liter.</span><span class="sxs-lookup"><span data-stu-id="77c67-144">The value of the parameter names in the operation signature are part of the contract and are case sensitive.</span></span> <span data-ttu-id="77c67-145">Jeśli chcesz używać tej samej nazwy parametru lokalnie, ale zmodyfikować nazwę w opublikowanej metadanych, zobacz <xref:System.ServiceModel.MessageParameterAttribute?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="77c67-145">If you want to use the same parameter name locally but modify the name in the published metadata, see the <xref:System.ServiceModel.MessageParameterAttribute?displayProperty=nameWithType>.</span></span>  
  
#### <a name="data-contracts"></a><span data-ttu-id="77c67-146">Kontrakty danych</span><span class="sxs-lookup"><span data-stu-id="77c67-146">Data Contracts</span></span>  
 <span data-ttu-id="77c67-147">Aplikacje zorientowane na usługę, takie jak [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] aplikacje są zaprojektowane na potrzeby współdziałania z najszerszych liczba aplikacji klienckich zarówno firmy Microsoft, jak i platform firmy Microsoft.</span><span class="sxs-lookup"><span data-stu-id="77c67-147">Service-oriented applications like [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] applications are designed to interoperate with the widest possible number of client applications on both Microsoft and non-Microsoft platforms.</span></span> <span data-ttu-id="77c67-148">Dla najszerszych możliwych współdziałanie, zalecane jest, aby oznaczyć z typów z <xref:System.Runtime.Serialization.DataContractAttribute> i <xref:System.Runtime.Serialization.DataMemberAttribute> atrybutów, aby utworzyć kontrakt danych, który jest częścią kontraktu usługi, która opisuje dane które operacje usługi Program Exchange.</span><span class="sxs-lookup"><span data-stu-id="77c67-148">For the widest possible interoperability, it is recommended that you mark your types with the <xref:System.Runtime.Serialization.DataContractAttribute> and <xref:System.Runtime.Serialization.DataMemberAttribute> attributes to create a data contract, which is the portion of the service contract that describes the data that your service operations exchange.</span></span>  
  
 <span data-ttu-id="77c67-149">Kontrakty danych są umowami uczestnictwa w stylu: nie typu lub członka danych jest serializowany, chyba że jawnie zastosuj atrybut kontraktu danych.</span><span class="sxs-lookup"><span data-stu-id="77c67-149">Data contracts are opt-in style contracts: No type or data member is serialized unless you explicitly apply the data contract attribute.</span></span> <span data-ttu-id="77c67-150">Kontrakty danych nie są powiązane z zakresem dostępu kodu zarządzanego: dane prywatne elementy Członkowskie mogą być serializowane i wysyłane jako dostępne publicznie w innych miejscach.</span><span class="sxs-lookup"><span data-stu-id="77c67-150">Data contracts are unrelated to the access scope of the managed code: Private data members can be serialized and sent elsewhere to be accessed publicly.</span></span> <span data-ttu-id="77c67-151">(Na przykład podstawowego kontraktu danych, zobacz [porady: Tworzenie podstawowego kontraktu danych dla klasy lub struktury](../../../docs/framework/wcf/feature-details/how-to-create-a-basic-data-contract-for-a-class-or-structure.md).) [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] obsługuje definicji podstawowej wiadomości SOAP, które włączyć funkcję wykonać operację, a także serializacji typów danych do i z treści wiadomości.</span><span class="sxs-lookup"><span data-stu-id="77c67-151">(For a basic example of a data contract, see [How to: Create a Basic Data Contract for a Class or Structure](../../../docs/framework/wcf/feature-details/how-to-create-a-basic-data-contract-for-a-class-or-structure.md).) [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] handles the definition of the underlying SOAP messages that enable the operation's functionality as well as the serialization of your data types into and out of the body of the messages.</span></span> <span data-ttu-id="77c67-152">Tak długo, jak typów danych jest możliwy do serializacji, nie trzeba myśleć o podstawowej infrastruktury wymiany komunikatów podczas projektowania operacje.</span><span class="sxs-lookup"><span data-stu-id="77c67-152">As long as your data types are serializable, you do not need to think about the underlying message exchange infrastructure when designing your operations.</span></span>  
  
 <span data-ttu-id="77c67-153">Mimo że typowe [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] aplikacja używa <xref:System.Runtime.Serialization.DataContractAttribute> i <xref:System.Runtime.Serialization.DataMemberAttribute> atrybuty do utworzenia kontraktów danych dla operacji, można użyć innych mechanizmów serializacji.</span><span class="sxs-lookup"><span data-stu-id="77c67-153">Although the typical [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] application uses the <xref:System.Runtime.Serialization.DataContractAttribute> and <xref:System.Runtime.Serialization.DataMemberAttribute> attributes to create data contracts for operations, you can use other serialization mechanisms.</span></span> <span data-ttu-id="77c67-154">Standardowe <xref:System.Runtime.Serialization.ISerializable>, <xref:System.SerializableAttribute> i <xref:System.Xml.Serialization.IXmlSerializable> wszystkich mechanizmów pracy do obsługi serializacji typów danych w podstawowej wiadomości SOAP, zawierających je z jedną aplikację do innego.</span><span class="sxs-lookup"><span data-stu-id="77c67-154">The standard <xref:System.Runtime.Serialization.ISerializable>, <xref:System.SerializableAttribute> and <xref:System.Xml.Serialization.IXmlSerializable> mechanisms all work to handle the serialization of your data types into the underlying SOAP messages that carry them from one application to another.</span></span> <span data-ttu-id="77c67-155">Można wdrożyć więcej strategii serializacji, jeśli typów danych wymagają specjalnych pomocy technicznej.</span><span class="sxs-lookup"><span data-stu-id="77c67-155">You can employ more serialization strategies if your data types require special support.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="77c67-156">wybrany dla serializacji typów danych w [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] aplikacji, zobacz [Określanie transferu danych w kontraktach usług](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-156"> the choices for serialization of data types in [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] applications, see [Specifying Data Transfer in Service Contracts](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md).</span></span>  
  
#### <a name="mapping-parameters-and-return-values-to-message-exchanges"></a><span data-ttu-id="77c67-157">Mapowanie parametrów i zwracanych wartości do wymiany komunikatów</span><span class="sxs-lookup"><span data-stu-id="77c67-157">Mapping Parameters and Return Values to Message Exchanges</span></span>  
 <span data-ttu-id="77c67-158">Operacje usług są obsługiwane przez podstawowej wymiany wiadomości SOAP, związane z transferem danych aplikacji i z powrotem, oprócz danych wymaganych przez aplikację do obsługi określonych standardowych zabezpieczeń transakcji i funkcje związane z sesji.</span><span class="sxs-lookup"><span data-stu-id="77c67-158">Service operations are supported by an underlying exchange of SOAP messages that transfer application data back and forth, in addition to the data required by the application to support certain standard security, transaction, and session-related features.</span></span> <span data-ttu-id="77c67-159">Ponieważ jest to możliwe, sygnatura operacji usługi nakazują niektórych podstawowych *wymiany komunikatów* (MEP) obsługujące transferu danych i funkcji, operacja wymaga.</span><span class="sxs-lookup"><span data-stu-id="77c67-159">Because this is the case, the signature of a service operation dictates a certain underlying *message exchange pattern* (MEP) that can support the data transfer and the features an operation requires.</span></span> <span data-ttu-id="77c67-160">Można określić trzy wzorce w [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] model programowania: żądanie/odpowiedź, jednokierunkowe i wzorce dupleksu wiadomości.</span><span class="sxs-lookup"><span data-stu-id="77c67-160">You can specify three patterns in the [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] programming model: request/reply, one-way, and duplex message patterns.</span></span>  
  
##### <a name="requestreply"></a><span data-ttu-id="77c67-161">Żądanie i odpowiedź</span><span class="sxs-lookup"><span data-stu-id="77c67-161">Request/Reply</span></span>  
 <span data-ttu-id="77c67-162">Wzorzec żądanie i odpowiedź jest jednym w którym żądanie nadawcy (aplikacja kliencka) odebrał odpowiedź z którym są korelowane z żądania.</span><span class="sxs-lookup"><span data-stu-id="77c67-162">A request/reply pattern is one in which a request sender (a client application) receives a reply with which the request is correlated.</span></span> <span data-ttu-id="77c67-163">Jest to domyślna MEP, ponieważ obsługuje on operacji, w której jeden lub więcej parametrów są przekazywane do działania i wartości zwracanej jest przekazywane z powrotem do wywołującego.</span><span class="sxs-lookup"><span data-stu-id="77c67-163">This is the default MEP because it supports an operation in which one or more parameters are passed to the operation and a return value is passed back to the caller.</span></span> <span data-ttu-id="77c67-164">Na przykład w poniższym przykładzie kodu C# zawiera operację podstawowej usługi, która przyjmuje jeden ciąg i zwraca wartość typu ciąg.</span><span class="sxs-lookup"><span data-stu-id="77c67-164">For example, the following C# code example shows a basic service operation that takes one string and returns a string.</span></span>  
  
```csharp  
[OperationContractAttribute]  
string Hello(string greeting);  
```  
  
 <span data-ttu-id="77c67-165">Poniżej znajduje się równoważne kodu języka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="77c67-165">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<OperationContractAttribute()>  
Function Hello (ByVal greeting As String) As String  
```  
  
 <span data-ttu-id="77c67-166">Ta sygnatura operacji nakazują formularza podstawowego wymiany wiadomości.</span><span class="sxs-lookup"><span data-stu-id="77c67-166">This operation signature dictates the form of underlying message exchange.</span></span> <span data-ttu-id="77c67-167">Jeśli korelacji nie istniał, [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] nie można określić dla operacji, które ma wartość zwracaną.</span><span class="sxs-lookup"><span data-stu-id="77c67-167">If no correlation existed, [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] cannot determine for which operation the return value is intended.</span></span>  
  
 <span data-ttu-id="77c67-168">Należy pamiętać, że jeśli nie podasz inną podstawowej komunikatów, nawet operacji usługi, które zwracają `void` (`Nothing` w [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]) są wymiany komunikatów żądania/odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="77c67-168">Note that unless you specify a different underlying message pattern, even service operations that return `void` (`Nothing` in [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]) are request/reply message exchanges.</span></span> <span data-ttu-id="77c67-169">Wynik dla operacji jest czy chyba, że klient wywołuje operację asynchronicznie, klient zatrzymuje przetwarzanie do momentu otrzymania komunikat zwrotny, mimo że ten komunikat jest pusty w przypadku normalnych.</span><span class="sxs-lookup"><span data-stu-id="77c67-169">The result for your operation is that unless a client invokes the operation asynchronously, the client stops processing until the return message is received, even though that message is empty in the normal case.</span></span> <span data-ttu-id="77c67-170">Poniższy przykład kodu C# zawiera operację, która nie zwraca do momentu otrzymania przez klienta jest pusty komunikat odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="77c67-170">The following C# code example shows an operation that does not return until the client has received an empty message in response.</span></span>  
  
```csharp  
[OperationContractAttribute]  
void Hello(string greeting);  
```  
  
 <span data-ttu-id="77c67-171">Poniżej znajduje się równoważne kodu języka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="77c67-171">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<OperationContractAttribute()>  
Sub Hello (ByVal greeting As String)  
```  
  
 <span data-ttu-id="77c67-172">Poprzedni przykład może zmniejszyć wydajność klienta i elastyczność, jeśli operacja trwa zbyt długo do wykonania, ale istnieją pewne zalety operacji żądania/odpowiedzi nawet gdy zwracają `void`.</span><span class="sxs-lookup"><span data-stu-id="77c67-172">The preceding example can slow client performance and responsiveness if the operation takes a long time to perform, but there are advantages to request/reply operations even when they return `void`.</span></span> <span data-ttu-id="77c67-173">Najbardziej oczywisty znajduje się czy błędach SOAP może być zwracany w odpowiedzi komunikat informujący o tym, że niektóre związane z usługą błąd wystąpił, w komunikacji lub przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="77c67-173">The most obvious one is that SOAP faults can be returned in the response message, which indicates that some service-related error condition has occurred, whether in communication or processing.</span></span> <span data-ttu-id="77c67-174">Błędach SOAP, które są określone w kontrakcie usługi są przekazywane do aplikacji klienckiej jako <xref:System.ServiceModel.FaultException%601> obiektu, gdy parametr typu jest typ określony w kontrakcie usługi.</span><span class="sxs-lookup"><span data-stu-id="77c67-174">SOAP faults that are specified in a service contract are passed to the client application as a <xref:System.ServiceModel.FaultException%601> object, where the type parameter is the type specified in the service contract.</span></span> <span data-ttu-id="77c67-175">Dzięki temu klienci powiadamiające o warunkach błędów w [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] usług łatwe.</span><span class="sxs-lookup"><span data-stu-id="77c67-175">This makes notifying clients about error conditions in [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] services easy.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="77c67-176">wyjątki, błędach SOAP i obsługa błędów zobacz [określanie i obsługa błędów w kontraktach i usługach](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-176"> exceptions, SOAP faults, and error handling, see [Specifying and Handling Faults in Contracts and Services](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md).</span></span> <span data-ttu-id="77c67-177">Aby zapoznać się przykładem żądania/odpowiedzi usługi i klienta, zobacz [porady: tworzenie kontraktu "żądanie-odpowiedź"](../../../docs/framework/wcf/feature-details/how-to-create-a-request-reply-contract.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-177">To see an example of a request/reply service and client, see [How to: Create a Request-Reply Contract](../../../docs/framework/wcf/feature-details/how-to-create-a-request-reply-contract.md).</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="77c67-178">problemy z wzorcem żądanie odpowiedź, zobacz [usługi "żądanie-odpowiedź"](../../../docs/framework/wcf/feature-details/request-reply-services.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-178"> issues with the request-reply pattern, see [Request-Reply Services](../../../docs/framework/wcf/feature-details/request-reply-services.md).</span></span>  
  
##### <a name="one-way"></a><span data-ttu-id="77c67-179">Jednokierunkowe</span><span class="sxs-lookup"><span data-stu-id="77c67-179">One-way</span></span>  
 <span data-ttu-id="77c67-180">Jeśli klient [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] aplikacji usługi nie ma oczekiwać na zakończenie operacji i nie może przetwarzać błędach SOAP, operacji można określić jednokierunkowe komunikatów.</span><span class="sxs-lookup"><span data-stu-id="77c67-180">If the client of a [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] service application should not wait for the operation to complete and does not process SOAP faults, the operation can specify a one-way message pattern.</span></span> <span data-ttu-id="77c67-181">Operacja jednokierunkowa jest jeden, w którym klient wywołuje operację i kontynuuje przetwarzania po [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] zapisuje komunikat w sieci.</span><span class="sxs-lookup"><span data-stu-id="77c67-181">A one-way operation is one in which a client invokes an operation and continues processing after [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] writes the message to the network.</span></span> <span data-ttu-id="77c67-182">Zwykle oznacza to, że chyba, że dane są wysyłane w wiadomości wychodzącej jest bardzo dużą klienta wciąż trwa niemal natychmiast (chyba że występuje błąd podczas wysyłania danych).</span><span class="sxs-lookup"><span data-stu-id="77c67-182">Typically this means that unless the data being sent in the outbound message is extremely large the client continues running almost immediately (unless there is an error sending the data).</span></span> <span data-ttu-id="77c67-183">Ten typ wymiany komunikatów obsługuje zachowanie podobne zdarzenia z klienta do aplikacji usługi.</span><span class="sxs-lookup"><span data-stu-id="77c67-183">This type of message exchange pattern supports event-like behavior from a client to a service application.</span></span>  
  
 <span data-ttu-id="77c67-184">Wymiany wiadomości, w której jeden komunikat jest wysyłany i nie są odbierane nie obsługuje operacji usługi, który innych niż określa wartość zwracaną `void`; w takim przypadku <xref:System.InvalidOperationException> wyjątku.</span><span class="sxs-lookup"><span data-stu-id="77c67-184">A message exchange in which one message is sent and none are received cannot support a service operation that specifies a return value other than `void`; in this case an <xref:System.InvalidOperationException> exception is thrown.</span></span>  
  
 <span data-ttu-id="77c67-185">Żaden komunikat zwrotny również oznacza, że może być nie błędu protokołu SOAP zwracanych do wskazuje wszelkie błędy przetwarzania lub komunikacji.</span><span class="sxs-lookup"><span data-stu-id="77c67-185">No return message also means that there can be no SOAP fault returned to indicate any errors in processing or communication.</span></span> <span data-ttu-id="77c67-186">(Komunikacji informacji o błędach, gdy operacje są operacji jednokierunkowych wymaga dwukierunkowego wymiany komunikatów).</span><span class="sxs-lookup"><span data-stu-id="77c67-186">(Communicating error information when operations are one-way operations requires a duplex message exchange pattern.)</span></span>  
  
 <span data-ttu-id="77c67-187">Aby określić komunikat jednokierunkowy exchange dla danej operacji, która zwraca `void`ustaw <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> właściwości `true`, jak w poniższym przykładzie kodu C#.</span><span class="sxs-lookup"><span data-stu-id="77c67-187">To specify a one-way message exchange for an operation that returns `void`, set the <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> property to `true`, as in the following C# code example.</span></span>  
  
```csharp  
[OperationContractAttribute(IsOneWay=true)]  
void Hello(string greeting);  
```  
  
 <span data-ttu-id="77c67-188">Poniżej znajduje się równoważne kodu języka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="77c67-188">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<OperationContractAttribute(IsOneWay := True)>  
Sub Hello (ByVal greeting As String)  
```  
  
 <span data-ttu-id="77c67-189">Ta metoda jest taki sam jak poprzedni przykład żądania/odpowiedzi, ale ustawienie <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> właściwości `true` oznacza, że metoda ma taki sam, ale operacja usługi nie wysyła komunikat zwrotny, a klienci będą zwracać bezpośrednio po komunikat wychodzący ma zostały przekazane do warstwy kanału.</span><span class="sxs-lookup"><span data-stu-id="77c67-189">This method is identical to the preceding request/reply example, but setting the <xref:System.ServiceModel.OperationContractAttribute.IsOneWay%2A> property to `true` means that although the method is identical, the service operation does not send a return message and clients return immediately once the outbound message has been handed to the channel layer.</span></span> <span data-ttu-id="77c67-190">Na przykład zobacz [porady: tworzenie kontraktu One-Way](../../../docs/framework/wcf/feature-details/how-to-create-a-one-way-contract.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-190">For an example, see [How to: Create a One-Way Contract](../../../docs/framework/wcf/feature-details/how-to-create-a-one-way-contract.md).</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="77c67-191">wzorzec jednokierunkowe, zobacz [usług One-Way](../../../docs/framework/wcf/feature-details/one-way-services.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-191"> the one-way pattern, see [One-Way Services](../../../docs/framework/wcf/feature-details/one-way-services.md).</span></span>  
  
##### <a name="duplex"></a><span data-ttu-id="77c67-192">Dupleks</span><span class="sxs-lookup"><span data-stu-id="77c67-192">Duplex</span></span>  
 <span data-ttu-id="77c67-193">Wzorzec dupleksu charakteryzuje się możliwość wysyłania wiadomości ze sobą niezależnie czy przy użyciu jednokierunkowego usługę i klienta lub żądania/odpowiedzi, wiadomości.</span><span class="sxs-lookup"><span data-stu-id="77c67-193">A duplex pattern is characterized by the ability of both the service and the client to send messages to each other independently whether using one-way or request/reply messaging.</span></span> <span data-ttu-id="77c67-194">Ten formularz dwukierunkowej komunikacji jest przydatne dla usług, które muszą komunikować się bezpośrednio do klienta lub udostępnia asynchroniczne środowiska do jednej części wiadomości programu exchange, w tym zdarzenia podobne zachowania.</span><span class="sxs-lookup"><span data-stu-id="77c67-194">This form of two-way communication is useful for services that must communicate directly to the client or for providing an asynchronous experience to either side of a message exchange, including event-like behavior.</span></span>  
  
 <span data-ttu-id="77c67-195">Wzorzec dupleksu jest nieco bardziej skomplikowane niż żądania/odpowiedzi lub wzorce jednokierunkowe z powodu dodatkowy mechanizm komunikacji z klientem.</span><span class="sxs-lookup"><span data-stu-id="77c67-195">The duplex pattern is slightly more complex than the request/reply or one-way patterns because of the additional mechanism for communicating with the client.</span></span>  
  
 <span data-ttu-id="77c67-196">Projektowanie kontrakt dupleksowy, należy także zaprojektować kontrakt wywołania zwrotnego i przypisać typ tego kontraktu wywołania zwrotnego do <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A> właściwość <xref:System.ServiceModel.ServiceContractAttribute> atrybut umożliwiający oznaczenie umowy serwisowej.</span><span class="sxs-lookup"><span data-stu-id="77c67-196">To design a duplex contract, you must also design a callback contract and assign the type of that callback contract to the <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A> property of the <xref:System.ServiceModel.ServiceContractAttribute> attribute that marks your service contract.</span></span>  
  
 <span data-ttu-id="77c67-197">Aby zaimplementować wzorzec dupleksowy, należy utworzyć drugi interfejs, który zawiera deklaracje metody, które są wywoływane na kliencie.</span><span class="sxs-lookup"><span data-stu-id="77c67-197">To implement a duplex pattern, you must create a second interface that contains the method declarations that are called on the client.</span></span>  
  
 [!INCLUDE[crexample](../../../includes/crexample-md.md)]<span data-ttu-id="77c67-198">Tworzenie usługi i klienta, który uzyskuje dostęp do tej usługi, zobacz [porady: tworzenie kontraktu dwukierunkowego](../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md) i [porady: dostęp do usług z kontraktu dwukierunkowego](../../../docs/framework/wcf/feature-details/how-to-access-services-with-a-duplex-contract.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-198"> creating a service, and a client that accesses that service, see [How to: Create a Duplex Contract](../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md) and [How to: Access Services with a Duplex Contract](../../../docs/framework/wcf/feature-details/how-to-access-services-with-a-duplex-contract.md).</span></span> <span data-ttu-id="77c67-199">Dla przykładu pracy, zobacz [dupleksu](../../../docs/framework/wcf/samples/duplex.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-199">For a working sample, see [Duplex](../../../docs/framework/wcf/samples/duplex.md).</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="77c67-200">problemy dotyczące korzystania z kontrakty dwukierunkowe, zobacz [usługi dwukierunkowe](../../../docs/framework/wcf/feature-details/duplex-services.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-200"> issues using duplex contracts, see [Duplex Services](../../../docs/framework/wcf/feature-details/duplex-services.md).</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="77c67-201">Gdy usługa odbiera komunikat dupleksowy, wygląda na `ReplyTo` element w tej wiadomości przychodzących, aby określić, który ma zostać wysłana odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="77c67-201">When a service receives a duplex message, it looks at the `ReplyTo` element in that incoming message to determine where to send the reply.</span></span> <span data-ttu-id="77c67-202">Jeśli nie jest zabezpieczony kanał, który jest używany do odbierania wiadomości, a następnie niezaufanego klienta może wysłać komunikat złośliwego przy komputerze docelowym `ReplyTo`, prowadzących do odmowy usługi (DOS) tego komputera docelowego.</span><span class="sxs-lookup"><span data-stu-id="77c67-202">If the channel that is used to receive the message is not secured, then an untrusted client could send a malicious message with a target machine's `ReplyTo`, leading to a denial of service (DOS) of that target machine.</span></span>  
  
##### <a name="out-and-ref-parameters"></a><span data-ttu-id="77c67-203">Parametry Ref i out</span><span class="sxs-lookup"><span data-stu-id="77c67-203">Out and Ref Parameters</span></span>  
 <span data-ttu-id="77c67-204">W większości przypadków można użyć `in` parametrów (`ByVal` w [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]) i `out` i `ref` parametrów (`ByRef` w [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]).</span><span class="sxs-lookup"><span data-stu-id="77c67-204">In most cases, you can use `in` parameters (`ByVal` in [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]) and `out` and `ref` parameters (`ByRef` in [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]).</span></span> <span data-ttu-id="77c67-205">Ponieważ oba `out` i `ref` parametry wskazują, że dane są zwracane z operacji programu podpisu operacji, takich jak określa, czy operacja żądania/odpowiedzi jest wymagane, nawet jeśli podpis operacji zwraca `void`.</span><span class="sxs-lookup"><span data-stu-id="77c67-205">Because both `out` and `ref` parameters indicate that data is returned from an operation, an operation signature such as the following specifies that a request/reply operation is required even though the operation signature returns `void`.</span></span>  
  
```csharp  
[ServiceContractAttribute]  
public interface IMyContract  
{  
  [OperationContractAttribute]  
  public void PopulateData(ref CustomDataType data);  
}  
```  
  
 <span data-ttu-id="77c67-206">Poniżej znajduje się równoważne kodu języka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="77c67-206">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<ServiceContractAttribute()> _  
Public Interface IMyContract  
  <OperationContractAttribute()> _  
  Public Sub PopulateData(ByRef data As CustomDataType)  
End Interface  
```  
  
 <span data-ttu-id="77c67-207">Jedynym wyjątkiem są tych przypadków, w których podpis ma określonej struktury.</span><span class="sxs-lookup"><span data-stu-id="77c67-207">The only exceptions are those cases in which your signature has a particular structure.</span></span> <span data-ttu-id="77c67-208">Na przykład można użyć <xref:System.ServiceModel.NetMsmqBinding> powiązanie do komunikacji z klientami tylko wtedy, gdy metodę używaną do deklarowania operacji zwraca `void`; może istnieć bez wartości danych wyjściowych, czy jest wartość zwracaną `ref`, lub `out` parametru.</span><span class="sxs-lookup"><span data-stu-id="77c67-208">For example, you can use the <xref:System.ServiceModel.NetMsmqBinding> binding to communicate with clients only if the method used to declare an operation returns `void`; there can be no output value, whether it is a return value, `ref`, or `out` parameter.</span></span>  
  
 <span data-ttu-id="77c67-209">Ponadto przy użyciu `out` lub `ref` parametrów musi mieć operacji podstawowej komunikat odpowiedzi do przenoszenia wstecz zmodyfikowanego obiektu.</span><span class="sxs-lookup"><span data-stu-id="77c67-209">In addition, using `out` or `ref` parameters requires that the operation have an underlying response message to carry back the modified object.</span></span> <span data-ttu-id="77c67-210">W przypadku operacji jednokierunkowych operacji <xref:System.InvalidOperationException> wyjątek w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="77c67-210">If your operation is a one-way operation, an <xref:System.InvalidOperationException> exception is thrown at runtime.</span></span>  
  
### <a name="specify-message-protection-level-on-the-contract"></a><span data-ttu-id="77c67-211">Określ poziom ochrony wiadomości kontraktu</span><span class="sxs-lookup"><span data-stu-id="77c67-211">Specify Message Protection Level on the Contract</span></span>  
 <span data-ttu-id="77c67-212">Podczas projektowania umowy, należy również postanowić, poziom ochrony wiadomości usług, które implementują umowy.</span><span class="sxs-lookup"><span data-stu-id="77c67-212">When designing your contract, you must also decide the message protection level of services that implement your contract.</span></span> <span data-ttu-id="77c67-213">Jest to konieczne tylko wtedy, gdy zabezpieczenia wiadomości jest stosowany do powiązania w kontraktu punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="77c67-213">This is necessary only if message security is applied to the binding in the contract's endpoint.</span></span> <span data-ttu-id="77c67-214">Jeśli powiązanie jest wyłączone zabezpieczeń (to znaczy, jeśli powiązania dostarczane przez system ustawia <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType> wartość <xref:System.ServiceModel.SecurityMode.None?displayProperty=nameWithType>), a następnie jest konieczne podejmowanie decyzji o poziom ochrony wiadomości dla kontraktu.</span><span class="sxs-lookup"><span data-stu-id="77c67-214">If the binding has security turned off (that is, if the system-provided binding sets the <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType> to the value <xref:System.ServiceModel.SecurityMode.None?displayProperty=nameWithType>) then you do not have to decide on the message protection level for the contract.</span></span> <span data-ttu-id="77c67-215">W większości przypadków powiązania dostarczane przez system z zabezpieczeniami na poziomie komunikatu stosowane zapewniają wystarczający poziom ochrony i nie należy wziąć pod uwagę poziom ochrony dla każdej operacji lub dla każdego komunikatu.</span><span class="sxs-lookup"><span data-stu-id="77c67-215">In most cases, system-provided bindings with message-level security applied provide a sufficient protection level and you do not have to consider the protection level for each operation or for each message.</span></span>  
  
 <span data-ttu-id="77c67-216">Poziom ochrony jest wartość, która określa, czy wiadomości (lub części wiadomości) obsługujące usługi są podpisywane, podpisane i szyfrowane lub wysyłane bez podpisy i szyfrowania.</span><span class="sxs-lookup"><span data-stu-id="77c67-216">The protection level is a value that specifies whether the messages (or message parts) that support a service are signed, signed and encrypted, or sent without signatures or encryption.</span></span> <span data-ttu-id="77c67-217">Można ustawić poziom ochrony w różnych zakresów: na poziomie usługi dla określonej operacji, wiadomości w tej operacji lub części komunikatu.</span><span class="sxs-lookup"><span data-stu-id="77c67-217">The protection level can be set at various scopes: At the service level, for a particular operation, for a message within that operation, or a message part.</span></span> <span data-ttu-id="77c67-218">Wartości ustawione w jednym zakresie staje się wartością domyślną dla mniejszych zakresach, chyba że jawnie przesłonięte.</span><span class="sxs-lookup"><span data-stu-id="77c67-218">Values set at one scope become the default value for smaller scopes unless explicitly overridden.</span></span> <span data-ttu-id="77c67-219">Jeśli Konfiguracja powiązania nie zapewnia poziom ochrony minimalne wymagane dla kontraktu, jest zwracany wyjątek.</span><span class="sxs-lookup"><span data-stu-id="77c67-219">If a binding configuration cannot provide the required minimum protection level for the contract, an exception is thrown.</span></span> <span data-ttu-id="77c67-220">I kontraktu jawnie ustawione wartości poziomu ochrony, Konfiguracja powiązania określa poziom ochrony dla wszystkich wiadomości, jeśli wiązanie zabezpieczeń komunikatów.</span><span class="sxs-lookup"><span data-stu-id="77c67-220">And when no protection level values are explicitly set on the contract, the binding configuration controls the protection level for all messages if the binding has message security.</span></span> <span data-ttu-id="77c67-221">Jest to zachowanie domyślne.</span><span class="sxs-lookup"><span data-stu-id="77c67-221">This is the default behavior.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="77c67-222">Podjęcie decyzji o jawnie ustaw różne zakresy kontraktu na wartość mniejszą niż poziom pełnej ochrony <xref:System.Net.Security.ProtectionLevel.EncryptAndSign?displayProperty=nameWithType> jest zazwyczaj decyzji, które zajmują pewnym stopniu zabezpieczeń w celu zwiększenia wydajności.</span><span class="sxs-lookup"><span data-stu-id="77c67-222">Deciding whether to explicitly set various scopes of a contract to less than the full protection level of <xref:System.Net.Security.ProtectionLevel.EncryptAndSign?displayProperty=nameWithType> is generally a decision that trades some degree of security for increased performance.</span></span> <span data-ttu-id="77c67-223">W takich przypadkach swoje decyzje dotyczące muszą obracać wokół działania i wartości danych, które wymieniają.</span><span class="sxs-lookup"><span data-stu-id="77c67-223">In these cases, your decisions must revolve around your operations and the value of the data they exchange.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="77c67-224">[Zabezpieczania usług](../../../docs/framework/wcf/securing-services.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-224"> [Securing Services](../../../docs/framework/wcf/securing-services.md).</span></span>  
  
 <span data-ttu-id="77c67-225">Na przykład w poniższym przykładzie kodu nie ustawia albo <xref:System.ServiceModel.ServiceContractAttribute.ProtectionLevel%2A> lub <xref:System.ServiceModel.OperationContractAttribute.ProtectionLevel%2A> właściwości kontraktu.</span><span class="sxs-lookup"><span data-stu-id="77c67-225">For example, the following code example does not set either the <xref:System.ServiceModel.ServiceContractAttribute.ProtectionLevel%2A> or the <xref:System.ServiceModel.OperationContractAttribute.ProtectionLevel%2A> property on the contract.</span></span>  
  
```csharp  
[ServiceContract]  
public interface ISampleService  
{  
  [OperationContractAttribute]  
  public string GetString();  
  
  [OperationContractAttribute]  
  public int GetInt();    
}  
```  
  
 <span data-ttu-id="77c67-226">Poniżej znajduje się równoważne kodu języka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="77c67-226">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<ServiceContractAttribute()> _  
Public Interface ISampleService  
  
  <OperationContractAttribute()> _  
  Public Function GetString()As String  
  
  <OperationContractAttribute()> _  
  Public Function GetData() As Integer  
  
End Interface  
```  
  
 <span data-ttu-id="77c67-227">Podczas interakcji z `ISampleService` implementacja punktu końcowego z domyślną <xref:System.ServiceModel.WSHttpBinding> (wartość domyślna <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType>, która jest <xref:System.ServiceModel.SecurityMode.Message>), wszystkie komunikaty są zaszyfrowana i podpisana, ponieważ jest to domyślny poziom ochrony.</span><span class="sxs-lookup"><span data-stu-id="77c67-227">When interacting with an `ISampleService` implementation in an endpoint with a default <xref:System.ServiceModel.WSHttpBinding> (the default <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType>, which is <xref:System.ServiceModel.SecurityMode.Message>), all messages are encrypted and signed because this is the default protection level.</span></span> <span data-ttu-id="77c67-228">Jednakże, gdy `ISampleService` domyślnie jest używana usługa <xref:System.ServiceModel.BasicHttpBinding> (wartość domyślna <xref:System.ServiceModel.SecurityMode>, co jest <xref:System.ServiceModel.SecurityMode.None>), wszystkie komunikaty są wysyłane jako tekst, ponieważ nie istnieje żadne dodatkowe zabezpieczenia dla tego powiązania w związku z czym poziom ochrony jest ignorowany (oznacza to, komunikaty nie są szyfrowane ani podpisany).</span><span class="sxs-lookup"><span data-stu-id="77c67-228">However, when an `ISampleService` service is used with a default <xref:System.ServiceModel.BasicHttpBinding> (the default <xref:System.ServiceModel.SecurityMode>, which is <xref:System.ServiceModel.SecurityMode.None>), all messages are sent as text because there is no security for this binding and so the protection level is ignored (that is, the messages are neither encrypted nor signed).</span></span> <span data-ttu-id="77c67-229">Jeśli <xref:System.ServiceModel.SecurityMode> została zmieniona na <xref:System.ServiceModel.SecurityMode.Message>, a następnie te komunikaty czy zaszyfrowana i podpisana za (ponieważ teraz wyniesie powiązania domyślnego poziomu ochrony).</span><span class="sxs-lookup"><span data-stu-id="77c67-229">If the <xref:System.ServiceModel.SecurityMode> was changed to <xref:System.ServiceModel.SecurityMode.Message>, then these messages would be encrypted and signed (because that would now be the binding's default protection level).</span></span>  
  
 <span data-ttu-id="77c67-230">Jeśli chcesz jawnie określić lub Dostosuj wymagań dotyczących ochrony dla umowy, ustaw <xref:System.ServiceModel.ServiceContractAttribute.ProtectionLevel%2A> właściwości (lub dowolnym `ProtectionLevel` właściwości w zakresie mniejszych) do poziomu wymaga umowy serwisowej.</span><span class="sxs-lookup"><span data-stu-id="77c67-230">If you want to explicitly specify or adjust the protection requirements for your contract, set the <xref:System.ServiceModel.ServiceContractAttribute.ProtectionLevel%2A> property (or any of the `ProtectionLevel` properties at a smaller scope) to the level your service contract requires.</span></span> <span data-ttu-id="77c67-231">W takim przypadku jawne ustawienie wymaga powiązania obsługę tego ustawienia co najmniej zakres używany.</span><span class="sxs-lookup"><span data-stu-id="77c67-231">In this case, using an explicit setting requires the binding to support that setting at a minimum for the scope used.</span></span> <span data-ttu-id="77c67-232">Na przykład poniższy przykład kodu Określa jedną <xref:System.ServiceModel.OperationContractAttribute.ProtectionLevel%2A> wartości jawnie, dla `GetGuid` operacji.</span><span class="sxs-lookup"><span data-stu-id="77c67-232">For example, the following code example specifies one <xref:System.ServiceModel.OperationContractAttribute.ProtectionLevel%2A> value explicitly, for the `GetGuid` operation.</span></span>  
  
```csharp  
[ServiceContract]  
public interface IExplicitProtectionLevelSampleService  
{  
  [OperationContractAttribute]  
  public string GetString();  
  
  [OperationContractAttribute(ProtectionLevel=ProtectionLevel.None)]  
  public int GetInt();    
  [OperationContractAttribute(ProtectionLevel=ProtectionLevel.EncryptAndSign)]  
  public int GetGuid();    
}  
```  
  
 <span data-ttu-id="77c67-233">Poniżej znajduje się równoważne kodu języka Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="77c67-233">The following is the equivalent Visual Basic code.</span></span>  
  
```vb  
<ServiceContract()> _   
Public Interface IExplicitProtectionLevelSampleService   
    <OperationContract()> _   
    Public Function GetString() As String   
    End Function   
  
    <OperationContract(ProtectionLevel := ProtectionLevel.None)> _   
    Public Function GetInt() As Integer   
    End Function   
  
    <OperationContractAttribute(ProtectionLevel := ProtectionLevel.EncryptAndSign)> _   
    Public Function GetGuid() As Integer   
    End Function   
  
End Interface  
```  
  
 <span data-ttu-id="77c67-234">Usługa, która implementuje to `IExplicitProtectionLevelSampleService` kontraktu i ma punktu końcowego, który używa domyślnej <xref:System.ServiceModel.WSHttpBinding> (wartość domyślna <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType>, która jest <xref:System.ServiceModel.SecurityMode.Message>) ma następującą charakterystykę:</span><span class="sxs-lookup"><span data-stu-id="77c67-234">A service that implements this `IExplicitProtectionLevelSampleService` contract and has an endpoint that uses the default <xref:System.ServiceModel.WSHttpBinding> (the default <xref:System.ServiceModel.SecurityMode?displayProperty=nameWithType>, which is <xref:System.ServiceModel.SecurityMode.Message>) has the following behavior:</span></span>  
  
-   <span data-ttu-id="77c67-235">`GetString` Operacji wiadomości są zaszyfrowana i podpisana.</span><span class="sxs-lookup"><span data-stu-id="77c67-235">The `GetString` operation messages are encrypted and signed.</span></span>  
  
-   <span data-ttu-id="77c67-236">`GetInt` Operacji komunikaty są wysyłane w postaci niezaszyfrowanej i bez znaku (to znaczy, gładkie) tekst.</span><span class="sxs-lookup"><span data-stu-id="77c67-236">The `GetInt` operation messages are sent as unencrypted and unsigned (that is, plain) text.</span></span>  
  
-   <span data-ttu-id="77c67-237">`GetGuid` Operacji <xref:System.Guid?displayProperty=nameWithType> jest zwracana w komunikacie, który jest zaszyfrowana i podpisana.</span><span class="sxs-lookup"><span data-stu-id="77c67-237">The `GetGuid` operation <xref:System.Guid?displayProperty=nameWithType> is returned in a message that is encrypted and signed.</span></span>  
  
 [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="77c67-238">poziomy ochrony i korzystania z nich, zobacz [poziom ochrony opis](../../../docs/framework/wcf/understanding-protection-level.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-238"> protection levels and how to use them, see [Understanding Protection Level](../../../docs/framework/wcf/understanding-protection-level.md).</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="77c67-239">zabezpieczenia, zobacz [zabezpieczania usług](../../../docs/framework/wcf/securing-services.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-239"> security, see [Securing Services](../../../docs/framework/wcf/securing-services.md).</span></span>  
  
##### <a name="other-operation-signature-requirements"></a><span data-ttu-id="77c67-240">Wymagania dotyczące innych operacji podpisu</span><span class="sxs-lookup"><span data-stu-id="77c67-240">Other Operation Signature Requirements</span></span>  
 <span data-ttu-id="77c67-241">Niektóre funkcje aplikacji wymagają określonego rodzaju operacji podpisu.</span><span class="sxs-lookup"><span data-stu-id="77c67-241">Some application features require a particular kind of operation signature.</span></span> <span data-ttu-id="77c67-242">Na przykład <xref:System.ServiceModel.NetMsmqBinding> powiązanie obsługuje trwałe usług i klientów, w których aplikację można uruchomić ponownie w trakcie komunikacji i uruchomienia instalacji którym ją przerwał pracę bez Brak komunikaty.</span><span class="sxs-lookup"><span data-stu-id="77c67-242">For example, the <xref:System.ServiceModel.NetMsmqBinding> binding supports durable services and clients, in which an application can restart in the middle of communication and pick up where it left off without missing any messages.</span></span> <span data-ttu-id="77c67-243">([!INCLUDE[crdefault](../../../includes/crdefault-md.md)] [Kolejki programu WCF](../../../docs/framework/wcf/feature-details/queues-in-wcf.md).) Jednak operacje trwałe należy wykonać tylko jedną `in` parametrów i nie zwraca wartości.</span><span class="sxs-lookup"><span data-stu-id="77c67-243">([!INCLUDE[crdefault](../../../includes/crdefault-md.md)] [Queues in WCF](../../../docs/framework/wcf/feature-details/queues-in-wcf.md).) However, durable operations must take only one `in` parameter and have no return value.</span></span>  
  
 <span data-ttu-id="77c67-244">Innym przykładem jest użycie <xref:System.IO.Stream> typów podczas wykonywania operacji.</span><span class="sxs-lookup"><span data-stu-id="77c67-244">Another example is the use of <xref:System.IO.Stream> types in operations.</span></span> <span data-ttu-id="77c67-245">Ponieważ <xref:System.IO.Stream> parametr zawiera treść cały komunikat, jeśli danych wejściowych lub wyjściowych (oznacza to, `ref` parametru `out` parametrów lub wartości zwracanej) jest typu <xref:System.IO.Stream>, to musi być tylko danych wejściowych lub wyjściowych określone w sieci Operacja.</span><span class="sxs-lookup"><span data-stu-id="77c67-245">Because the <xref:System.IO.Stream> parameter includes the entire message body, if an input or an output (that is, `ref` parameter, `out` parameter, or return value) is of type <xref:System.IO.Stream>, then it must be the only input or output specified in your operation.</span></span> <span data-ttu-id="77c67-246">Ponadto, parametr lub typ zwracany musi być równa albo <xref:System.IO.Stream>, <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType>, lub <xref:System.Xml.Serialization.IXmlSerializable?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="77c67-246">In addition, the parameter or return type must be either <xref:System.IO.Stream>, <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType>, or <xref:System.Xml.Serialization.IXmlSerializable?displayProperty=nameWithType>.</span></span> [!INCLUDE[crabout](../../../includes/crabout-md.md)]<span data-ttu-id="77c67-247">strumienie, zobacz [duże ilości danych i przesyłania strumieniowego](../../../docs/framework/wcf/feature-details/large-data-and-streaming.md).</span><span class="sxs-lookup"><span data-stu-id="77c67-247"> streams, see [Large Data and Streaming](../../../docs/framework/wcf/feature-details/large-data-and-streaming.md).</span></span>  
  
##### <a name="names-namespaces-and-obfuscation"></a><span data-ttu-id="77c67-248">Nazwy i przestrzenie nazw oraz zaciemnienie</span><span class="sxs-lookup"><span data-stu-id="77c67-248">Names, Namespaces, and Obfuscation</span></span>  
 <span data-ttu-id="77c67-249">Nazwy i przestrzenie nazw typów .NET w definicji operacji i kontrakty są istotne podczas kontrakty są konwertowane na WSDL i tworzonych i wysyłanych komunikatów kontraktu.</span><span class="sxs-lookup"><span data-stu-id="77c67-249">The names and namespaces of the .NET types in the definition of contracts and operations are significant when contracts are converted into WSDL and when contract messages are created and sent.</span></span> <span data-ttu-id="77c67-250">W związku z tym zdecydowanie zaleca się że nazwy kontraktu usługi i przestrzenie nazw są jawnie ustawione za pomocą `Name` i `Namespace` właściwości pomocniczych wszystkie kontraktu atrybutów, takich jak <xref:System.ServiceModel.ServiceContractAttribute>, <xref:System.ServiceModel.OperationContractAttribute>, <xref:System.Runtime.Serialization.DataContractAttribute>,  <xref:System.Runtime.Serialization.DataMemberAttribute>i inne atrybuty kontraktu.</span><span class="sxs-lookup"><span data-stu-id="77c67-250">Therefore, it is strongly recommended that service contract names and namespaces are explicitly set using the `Name` and `Namespace` properties of all supporting contract attributes such as the <xref:System.ServiceModel.ServiceContractAttribute>, <xref:System.ServiceModel.OperationContractAttribute>, <xref:System.Runtime.Serialization.DataContractAttribute>,  <xref:System.Runtime.Serialization.DataMemberAttribute>, and other contract attributes.</span></span>  
  
 <span data-ttu-id="77c67-251">Jeden wynik jest, że jeśli nazwy i przestrzenie nazw nie jest jawnie ustawiona, użycie zaciemnienie IL w zestawie zmienia nazwy typów kontraktu i obszary nazw i powoduje modyfikacji WSDL oraz wymiany danych przesyłanych w sieci, które nie są zwykle.</span><span class="sxs-lookup"><span data-stu-id="77c67-251">One result of this is that if the names and namespaces are not explicitly set, the use of IL obfuscation on the assembly alters the contract type names and namespaces and results in modified WSDL and wire exchanges that typically fail.</span></span> <span data-ttu-id="77c67-252">Jeśli nie ustawiaj nazwy kontraktu i przestrzenie nazw jawnie, ale ma zostać użyta zaciemnienie, użyj <xref:System.Reflection.ObfuscationAttribute> i <xref:System.Reflection.ObfuscateAssemblyAttribute> atrybutów, aby zapobiec zmiana Umowy wpisz nazwy i przestrzenie nazw.</span><span class="sxs-lookup"><span data-stu-id="77c67-252">If you do not set the contract names and namespaces explicitly but do intend to use obfuscation, use the <xref:System.Reflection.ObfuscationAttribute> and <xref:System.Reflection.ObfuscateAssemblyAttribute> attributes to prevent the modification of the contract type names and namespaces.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="77c67-253">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="77c67-253">See Also</span></span>  
 [<span data-ttu-id="77c67-254">Instrukcje: tworzenie kontraktu „żądanie-odpowiedź”</span><span class="sxs-lookup"><span data-stu-id="77c67-254">How to: Create a Request-Reply Contract</span></span>](../../../docs/framework/wcf/feature-details/how-to-create-a-request-reply-contract.md)  
 [<span data-ttu-id="77c67-255">Instrukcje: tworzenie kontraktu jednokierunkowego</span><span class="sxs-lookup"><span data-stu-id="77c67-255">How to: Create a One-Way Contract</span></span>](../../../docs/framework/wcf/feature-details/how-to-create-a-one-way-contract.md)  
 [<span data-ttu-id="77c67-256">Instrukcje: tworzenie kontraktu dwukierunkowego</span><span class="sxs-lookup"><span data-stu-id="77c67-256">How to: Create a Duplex Contract</span></span>](../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md)  
 [<span data-ttu-id="77c67-257">Określanie transferu danych w kontraktach usług</span><span class="sxs-lookup"><span data-stu-id="77c67-257">Specifying Data Transfer in Service Contracts</span></span>](../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md)  
 [<span data-ttu-id="77c67-258">Określanie i obsługa błędów w kontraktach i usługach</span><span class="sxs-lookup"><span data-stu-id="77c67-258">Specifying and Handling Faults in Contracts and Services</span></span>](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)  
 [<span data-ttu-id="77c67-259">Korzystanie z sesji</span><span class="sxs-lookup"><span data-stu-id="77c67-259">Using Sessions</span></span>](../../../docs/framework/wcf/using-sessions.md)  
 [<span data-ttu-id="77c67-260">Operacje synchroniczne i asynchroniczne</span><span class="sxs-lookup"><span data-stu-id="77c67-260">Synchronous and Asynchronous Operations</span></span>](../../../docs/framework/wcf/synchronous-and-asynchronous-operations.md)  
 [<span data-ttu-id="77c67-261">Niezawodne usługi</span><span class="sxs-lookup"><span data-stu-id="77c67-261">Reliable Services</span></span>](../../../docs/framework/wcf/reliable-services.md)  
 [<span data-ttu-id="77c67-262">Usługi i transakcje</span><span class="sxs-lookup"><span data-stu-id="77c67-262">Services and Transactions</span></span>](../../../docs/framework/wcf/services-and-transactions.md)
