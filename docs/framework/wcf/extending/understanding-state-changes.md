---
title: Opis zmian stanu
ms.date: 03/30/2017
ms.assetid: a79ed2aa-e49a-47a8-845a-c9f436ec9987
ms.openlocfilehash: 858da2a88c17920910c05966bb3b211d754fb278
ms.sourcegitcommit: 9b1ac36b6c80176fd4e20eb5bfcbd9d56c3264cf
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/28/2019
ms.locfileid: "67424776"
---
# <a name="understanding-state-changes"></a><span data-ttu-id="52a5f-102">Opis zmian stanu</span><span class="sxs-lookup"><span data-stu-id="52a5f-102">Understanding State Changes</span></span>
<span data-ttu-id="52a5f-103">W tym temacie omówiono Stany i przejścia, które mają kanały, typy używane do struktury stany kanału i sposobie ich implementacji.</span><span class="sxs-lookup"><span data-stu-id="52a5f-103">This topic discusses the states and transitions that channels have, the types used to structure channel states, and how to implement them.</span></span>  
  
## <a name="state-machines-and-channels"></a><span data-ttu-id="52a5f-104">Stan maszyn i kanałów</span><span class="sxs-lookup"><span data-stu-id="52a5f-104">State Machines and Channels</span></span>  
 <span data-ttu-id="52a5f-105">Obiekty, które zajmują się komunikacji, na przykład gniazd, zwykle przedstawiają automatu stanów, w których stanami odnoszą się do przydzielania zasobów sieciowych, dzięki czemu lub może odbierać połączeń, zamykając połączenia i przerywa komunikacji.</span><span class="sxs-lookup"><span data-stu-id="52a5f-105">Objects that deal with communication, for example sockets, usually present a state machine whose state transitions relate to allocating network resources, making or accepting connections, closing connections and terminating communication.</span></span> <span data-ttu-id="52a5f-106">Automatu stanów kanału zapewnia jednolity model stanów obiektu komunikacyjnego, zapewniający abstrakcję podstawowej implementacji tego obiektu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-106">The channel state machine provides a uniform model of the states of a communication object that abstracts the underlying implementation of that object.</span></span> <span data-ttu-id="52a5f-107"><xref:System.ServiceModel.ICommunicationObject> Interfejs zapewnia zestaw stanów, stan przejścia metod i zdarzeń przejście stanu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-107">The <xref:System.ServiceModel.ICommunicationObject> interface provides a set of states, state transition methods and state transition events.</span></span> <span data-ttu-id="52a5f-108">Wszystkie kanały, fabryki kanałów i odbiorników kanału możesz zaimplementować maszynę stanu kanału.</span><span class="sxs-lookup"><span data-stu-id="52a5f-108">All channels, channel factories and channel listeners implement the channel state machine.</span></span>  
  
 <span data-ttu-id="52a5f-109">Zdarzenia zamknięte, zamykanie, Faulted, otwartego i otwieranie sygnał obserwatora zewnętrznych, po wystąpieniu zmiany stanu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-109">The events Closed, Closing, Faulted, Opened and Opening signal an external observer after a state transition occurs.</span></span>  
  
 <span data-ttu-id="52a5f-110">Metody przerwania, zamknij i Otwórz (i ich odpowiedniki asynchroniczne) powodują stanami.</span><span class="sxs-lookup"><span data-stu-id="52a5f-110">The methods Abort, Close, and Open (and their asynchronous equivalents) cause state transitions.</span></span>  
  
 <span data-ttu-id="52a5f-111">Właściwość stanu zwraca bieżący stan, zgodnie z definicją <xref:System.ServiceModel.CommunicationState>:</span><span class="sxs-lookup"><span data-stu-id="52a5f-111">The state property returns the current state as defined by <xref:System.ServiceModel.CommunicationState>:</span></span>  
  
## <a name="icommunicationobject-communicationobject-and-states-and-state-transition"></a><span data-ttu-id="52a5f-112">ICommunicationObject, CommunicationObject i Stany i przejścia stanu</span><span class="sxs-lookup"><span data-stu-id="52a5f-112">ICommunicationObject, CommunicationObject, and States and State Transition</span></span>  
 <span data-ttu-id="52a5f-113"><xref:System.ServiceModel.ICommunicationObject> Rozpoczyna się w stanie Created, gdzie można skonfigurować jej różne właściwości.</span><span class="sxs-lookup"><span data-stu-id="52a5f-113">An <xref:System.ServiceModel.ICommunicationObject> starts out in the Created state where its various properties can be configured.</span></span> <span data-ttu-id="52a5f-114">Jeden raz w stanie Opened obiektu są wykorzystywane do wysyłania i odbierania wiadomości, ale jego właściwości są traktowane jako niezmienialny.</span><span class="sxs-lookup"><span data-stu-id="52a5f-114">Once in the Opened state, the object is usable for sending and receiving messages but its properties are considered immutable.</span></span> <span data-ttu-id="52a5f-115">Gdy w stanie zamknięcia obiektu można nie jest już przetwarzać nowych wysyłania lub odbierania żądań, ale istniejącymi żądaniami ma szansę zakończyć aż do osiągnięcia limit czasu zamknięcia.</span><span class="sxs-lookup"><span data-stu-id="52a5f-115">Once in the Closing state, the object can no longer process new send or receive requests, but existing requests have a chance to complete until the Close timeout is reached.</span></span>  <span data-ttu-id="52a5f-116">Jeśli wystąpi błąd nieodwracalny, obiekt przechodzi do stanu Faulted, gdzie może być sprawdzane pod kątem informacji o błędzie i ostatecznie zamknięte.</span><span class="sxs-lookup"><span data-stu-id="52a5f-116">If an unrecoverable error occurs, the object transitions to the Faulted state where it can be inspected for information about the error and ultimately closed.</span></span> <span data-ttu-id="52a5f-117">Gdy w stanie zamkniętym obiekt zasadniczo osiągnął koniec automatu stanów.</span><span class="sxs-lookup"><span data-stu-id="52a5f-117">When in the Closed state the object has essentially reached the end of the state machine.</span></span> <span data-ttu-id="52a5f-118">Raz obiektu przejścia z jednego stanu do drugiego, go nie wróć do poprzedniego stanu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-118">Once an object transitions from one state to the next, it does not go back to a previous state.</span></span>  
  
 <span data-ttu-id="52a5f-119">Na poniższym diagramie przedstawiono <xref:System.ServiceModel.ICommunicationObject> Stany i przejścia stanu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-119">The following diagram shows the <xref:System.ServiceModel.ICommunicationObject> states and state transitions.</span></span> <span data-ttu-id="52a5f-120">Stan przejścia może być spowodowana przez wywołanie jednej z trzech metod: Przerwij otwieranie, lub Zamknij.</span><span class="sxs-lookup"><span data-stu-id="52a5f-120">State transitions can be caused by calling one of the three methods: Abort, Open, or Close.</span></span> <span data-ttu-id="52a5f-121">One może również być spowodowane wywołaniem innych metod specyficzne dla implementacji.</span><span class="sxs-lookup"><span data-stu-id="52a5f-121">They could also be caused by calling other implementation-specific methods.</span></span> <span data-ttu-id="52a5f-122">Przejście do stanu Faulted może występować w wyniku błędy podczas otwierania lub po masz otwarty obiekt komunikacyjny.</span><span class="sxs-lookup"><span data-stu-id="52a5f-122">Transitioning to the Faulted state could happen as a result of errors while opening or after having opened the communication object.</span></span>  
  
 <span data-ttu-id="52a5f-123">Każdy <xref:System.ServiceModel.ICommunicationObject> rozpoczyna się w stanie Created.</span><span class="sxs-lookup"><span data-stu-id="52a5f-123">Every <xref:System.ServiceModel.ICommunicationObject> starts out in the Created state.</span></span> <span data-ttu-id="52a5f-124">W tym stanie aplikacji można skonfigurować obiekt przez ustawienie jego właściwości.</span><span class="sxs-lookup"><span data-stu-id="52a5f-124">In this state, an application can configure the object by setting its properties.</span></span> <span data-ttu-id="52a5f-125">Gdy obiekt jest w stanie innym niż utworzony, jest uważany za niezmienialny.</span><span class="sxs-lookup"><span data-stu-id="52a5f-125">Once an object is in a state other than Created, it is considered immutable.</span></span>  
  
 <span data-ttu-id="52a5f-126">![Przejście stanu kanału](../../../../docs/framework/wcf/extending/media/channelstatetranitionshighleveldiagram.gif "ChannelStateTranitionsHighLevelDiagram")</span><span class="sxs-lookup"><span data-stu-id="52a5f-126">![Channel state transition](../../../../docs/framework/wcf/extending/media/channelstatetranitionshighleveldiagram.gif "ChannelStateTranitionsHighLevelDiagram")</span></span>  
<span data-ttu-id="52a5f-127">Rysunek 1.</span><span class="sxs-lookup"><span data-stu-id="52a5f-127">Figure 1.</span></span> <span data-ttu-id="52a5f-128">Automatu stanów ICommunicationObject.</span><span class="sxs-lookup"><span data-stu-id="52a5f-128">The ICommunicationObject State Machine.</span></span>  
  
 <span data-ttu-id="52a5f-129">Windows Communication Foundation (WCF) zapewnia abstrakcyjna klasa bazowa o nazwie <xref:System.ServiceModel.Channels.CommunicationObject> implementującej <xref:System.ServiceModel.ICommunicationObject> i automatu stanów kanału.</span><span class="sxs-lookup"><span data-stu-id="52a5f-129">Windows Communication Foundation (WCF) provides an abstract base class named <xref:System.ServiceModel.Channels.CommunicationObject> that implements <xref:System.ServiceModel.ICommunicationObject> and the channel state machine.</span></span> <span data-ttu-id="52a5f-130">Poniższa ilustracja jest diagram stanu modyfikacji, które są specyficzne dla <xref:System.ServiceModel.Channels.CommunicationObject>.</span><span class="sxs-lookup"><span data-stu-id="52a5f-130">The following graphic is a modified state diagram that is specific to <xref:System.ServiceModel.Channels.CommunicationObject>.</span></span> <span data-ttu-id="52a5f-131">Oprócz <xref:System.ServiceModel.ICommunicationObject> automatu stanów pokazuje przybliżonego dodatkowe <xref:System.ServiceModel.Channels.CommunicationObject> metody są wywoływane.</span><span class="sxs-lookup"><span data-stu-id="52a5f-131">In addition to the <xref:System.ServiceModel.ICommunicationObject> state machine, it shows the timing when additional <xref:System.ServiceModel.Channels.CommunicationObject> methods are invoked.</span></span>  
  
 <span data-ttu-id="52a5f-132">![Zmianie stanu](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigure5statetransitionsdetailsc.gif "wcfc_WCFChannelsigure5StateTransitionsDetailsc")</span><span class="sxs-lookup"><span data-stu-id="52a5f-132">![State changes](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigure5statetransitionsdetailsc.gif "wcfc_WCFChannelsigure5StateTransitionsDetailsc")</span></span>  
<span data-ttu-id="52a5f-133">Rysunek 2.</span><span class="sxs-lookup"><span data-stu-id="52a5f-133">Figure 2.</span></span> <span data-ttu-id="52a5f-134">Implementacja CommunicationObject ICommunicationObject automatu stanów, łącznie z wywołania zdarzenia i metody chronionej.</span><span class="sxs-lookup"><span data-stu-id="52a5f-134">The CommunicationObject implementation of the ICommunicationObject state machine including calls to events and protected methods.</span></span>  
  
### <a name="icommunicationobject-events"></a><span data-ttu-id="52a5f-135">Zdarzenia ICommunicationObject</span><span class="sxs-lookup"><span data-stu-id="52a5f-135">ICommunicationObject Events</span></span>  
 <span data-ttu-id="52a5f-136"><xref:System.ServiceModel.Channels.CommunicationObject> przedstawia pięć zdarzenia, zdefiniowany przez <xref:System.ServiceModel.ICommunicationObject>.</span><span class="sxs-lookup"><span data-stu-id="52a5f-136"><xref:System.ServiceModel.Channels.CommunicationObject> exposes the five events defined by <xref:System.ServiceModel.ICommunicationObject>.</span></span> <span data-ttu-id="52a5f-137">Zdarzenia te zostały zaprojektowane dla kodu za pomocą obiektu komunikacyjnego, aby otrzymywać powiadomienia o zmianie stanu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-137">These events are designed for code using the communication object to be notified of state transitions.</span></span> <span data-ttu-id="52a5f-138">Jak pokazano na rysunku 2 powyżej, każde zdarzenie jest uruchamiany raz, po stan obiektu przechodzi w stan, o nazwie określonej przez zdarzenie.</span><span class="sxs-lookup"><span data-stu-id="52a5f-138">As shown in Figure 2 above, each event is fired once after the object’s state transitions to the state named by the event.</span></span> <span data-ttu-id="52a5f-139">Wszystkie zdarzenia pięciu są `EventHandler` typu, który jest zdefiniowany jako:</span><span class="sxs-lookup"><span data-stu-id="52a5f-139">All five events are of the `EventHandler` type which is defined as:</span></span>  
  
 `public delegate void EventHandler(object sender, EventArgs e);`  
  
 <span data-ttu-id="52a5f-140">W <xref:System.ServiceModel.Channels.CommunicationObject> implementacji nadawcy jest <xref:System.ServiceModel.Channels.CommunicationObject> autonomiczną usługą Intune a niezależnie od rodzaju została przekazana jako nadawcy <xref:System.ServiceModel.Channels.CommunicationObject> konstruktora (jeśli został użyty tego przeciążenia konstruktora).</span><span class="sxs-lookup"><span data-stu-id="52a5f-140">In the <xref:System.ServiceModel.Channels.CommunicationObject> implementation, the sender is either the <xref:System.ServiceModel.Channels.CommunicationObject> itself or whatever was passed in as the sender to the <xref:System.ServiceModel.Channels.CommunicationObject> constructor (if that constructor overload was used).</span></span> <span data-ttu-id="52a5f-141">Parametr EventArgs `e`, jest zawsze `EventArgs.Empty`.</span><span class="sxs-lookup"><span data-stu-id="52a5f-141">The EventArgs parameter, `e`, is always `EventArgs.Empty`.</span></span>  
  
### <a name="derived-object-callbacks"></a><span data-ttu-id="52a5f-142">Wywołania zwrotne pochodnego obiektu</span><span class="sxs-lookup"><span data-stu-id="52a5f-142">Derived Object Callbacks</span></span>  
 <span data-ttu-id="52a5f-143">Oprócz pięciu zdarzenia <xref:System.ServiceModel.Channels.CommunicationObject> deklaruje ośmiu chronione metod wirtualnych, które pozwalają na pochodnej obiekt ma zostać wywołany przed i po zmianie stanu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-143">In addition to the five events, <xref:System.ServiceModel.Channels.CommunicationObject> declares eight protected virtual methods designed to allow a derived object to be called back before and after state transitions occur.</span></span>  
  
 <span data-ttu-id="52a5f-144"><xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> i <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> metody mają trzy takie wywołania zwrotne związany z każdą z nich.</span><span class="sxs-lookup"><span data-stu-id="52a5f-144">The <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> methods have three such callbacks associated with each of them.</span></span> <span data-ttu-id="52a5f-145">Na przykład, odpowiadający <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> ma <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, i <xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="52a5f-145">For example, corresponding to <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> there is <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="52a5f-146">Skojarzone z <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> są <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType>, i <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="52a5f-146">Associated with <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> are the <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> methods.</span></span>  
  
 <span data-ttu-id="52a5f-147">Podobnie <xref:System.ServiceModel.Channels.CommunicationObject.Abort%2A?displayProperty=nameWithType> metoda ma odpowiadające mu <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="52a5f-147">Similarly, the <xref:System.ServiceModel.Channels.CommunicationObject.Abort%2A?displayProperty=nameWithType> method has a corresponding <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="52a5f-148">Gdy <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, i <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType> nie mają domyślnej implementacji, inne wywołania zwrotne mają domyślną implementację, co jest niezbędne pod kątem poprawności maszyny stanu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-148">While <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType> have no default implementation, the other callbacks do have a default implementation which is necessary for state machine correctness.</span></span> <span data-ttu-id="52a5f-149">Jeśli zastąpisz tych metod należy wywoływać implementację podstawową lub poprawnie go zastąpić.</span><span class="sxs-lookup"><span data-stu-id="52a5f-149">If you override those methods be sure to call the base implementation or correctly replace it.</span></span>  
  
 <span data-ttu-id="52a5f-150"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType> i <xref:System.ServiceModel.Channels.CommunicationObject.OnFaulted%2A?displayProperty=nameWithType> fire odpowiednich <xref:System.ServiceModel.Channels.CommunicationObject.Opening?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.Closing?displayProperty=nameWithType> i <xref:System.ServiceModel.Channels.CommunicationObject.Faulted?displayProperty=nameWithType> zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="52a5f-150"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.OnFaulted%2A?displayProperty=nameWithType> fire the corresponding <xref:System.ServiceModel.Channels.CommunicationObject.Opening?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.Closing?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Faulted?displayProperty=nameWithType> events.</span></span> <span data-ttu-id="52a5f-151"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType> i <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> odpowiednio ustawić stan obiektu Opened i zamknięte, a następnie fire odpowiednich <xref:System.ServiceModel.Channels.CommunicationObject.Opened?displayProperty=nameWithType> i <xref:System.ServiceModel.Channels.CommunicationObject.Closed?displayProperty=nameWithType> zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="52a5f-151"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> set the object state to Opened and Closed respectively then fire the corresponding <xref:System.ServiceModel.Channels.CommunicationObject.Opened?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Closed?displayProperty=nameWithType> events.</span></span>  
  
### <a name="state-transition-methods"></a><span data-ttu-id="52a5f-152">Metody przejścia stanu</span><span class="sxs-lookup"><span data-stu-id="52a5f-152">State Transition Methods</span></span>  
 <span data-ttu-id="52a5f-153"><xref:System.ServiceModel.Channels.CommunicationObject> zawiera implementacje przerwania, zamknij i Otwórz.</span><span class="sxs-lookup"><span data-stu-id="52a5f-153"><xref:System.ServiceModel.Channels.CommunicationObject> provides implementations of Abort, Close and Open.</span></span> <span data-ttu-id="52a5f-154">Zapewnia także metody błędów, co powoduje przejście do stanu Faulted.</span><span class="sxs-lookup"><span data-stu-id="52a5f-154">It also provides a Fault method which causes a state transition to the Faulted state.</span></span> <span data-ttu-id="52a5f-155">Na rysunku 2 przedstawiono <xref:System.ServiceModel.ICommunicationObject> automatu stanów z każdym przejściem oznaczone przez metodę, która powoduje, że (bez etykiety przejścia możliwe wewnątrz implementacji metody, która spowodowała ostatnie przejście etykietami).</span><span class="sxs-lookup"><span data-stu-id="52a5f-155">Figure 2 shows the <xref:System.ServiceModel.ICommunicationObject> state machine with each transition labeled by the method that causes it (unlabeled transitions happen inside the implementation of the method that caused the last labeled transition).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="52a5f-156">Wszystkie <xref:System.ServiceModel.Channels.CommunicationObject> implementacje komunikacji stanu pobiera/ustawia są synchronizowane wątku.</span><span class="sxs-lookup"><span data-stu-id="52a5f-156">All <xref:System.ServiceModel.Channels.CommunicationObject> implementations of communication state gets/sets are thread-synchronized.</span></span>  
  
 <span data-ttu-id="52a5f-157">Konstruktor</span><span class="sxs-lookup"><span data-stu-id="52a5f-157">Constructor</span></span>  
  
 <span data-ttu-id="52a5f-158"><xref:System.ServiceModel.Channels.CommunicationObject> zapewnia trzy konstruktory, które należy pozostawić obiekt w stanie Created.</span><span class="sxs-lookup"><span data-stu-id="52a5f-158"><xref:System.ServiceModel.Channels.CommunicationObject> provides three constructors, all of which leave the object in the Created state.</span></span> <span data-ttu-id="52a5f-159">Konstruktory są definiowane jako:</span><span class="sxs-lookup"><span data-stu-id="52a5f-159">The constructors are defined as:</span></span>  
  
 <span data-ttu-id="52a5f-160">Pierwszy Konstruktor jest konstruktorem domyślnym, który delegował do przeciążenia konstruktora, który przyjmuje obiekt:</span><span class="sxs-lookup"><span data-stu-id="52a5f-160">The first constructor is a default constructor that delegates to the constructor overload that takes an object:</span></span>  
  
 `protected CommunicationObject() : this(new object()) { … }`  
  
 <span data-ttu-id="52a5f-161">Konstruktor, który pobiera obiekt używa tego parametru jako obiektu zostanie zablokowane podczas synchronizowania dostępu do stanu obiektu komunikacji:</span><span class="sxs-lookup"><span data-stu-id="52a5f-161">The constructor that takes an object uses that parameter as the object to be locked when synchronizing access to communication object state:</span></span>  
  
 `protected CommunicationObject(object mutex) { … }`  
  
 <span data-ttu-id="52a5f-162">Na koniec trzeci Konstruktor zajmuje dodatkowy parametr, który jest używany jako argument nadawcy podczas <xref:System.ServiceModel.ICommunicationObject> zdarzenia są uruchamiane.</span><span class="sxs-lookup"><span data-stu-id="52a5f-162">Finally, a third constructor takes an additional parameter that is used as the sender argument when <xref:System.ServiceModel.ICommunicationObject> events are fired.</span></span>  
  
 `protected CommunicationObject(object mutex, object eventSender) { … }`  
  
 <span data-ttu-id="52a5f-163">Poprzednie dwa konstruktory to ustawić nadawcy.</span><span class="sxs-lookup"><span data-stu-id="52a5f-163">The previous two constructors set the sender to this.</span></span>  
  
 <span data-ttu-id="52a5f-164">Open — metoda</span><span class="sxs-lookup"><span data-stu-id="52a5f-164">Open Method</span></span>  
  
 <span data-ttu-id="52a5f-165">Warunek wstępny: Stan jest tworzony.</span><span class="sxs-lookup"><span data-stu-id="52a5f-165">Precondition: State is Created.</span></span>  
  
 <span data-ttu-id="52a5f-166">Warunek po: Stan to Opened lub Faulted.</span><span class="sxs-lookup"><span data-stu-id="52a5f-166">Post-condition: State is Opened or Faulted.</span></span> <span data-ttu-id="52a5f-167">Może zgłaszać wyjątek.</span><span class="sxs-lookup"><span data-stu-id="52a5f-167">May throw an exception.</span></span>  
  
 <span data-ttu-id="52a5f-168">Metody Open() podejmie próbę otwarcia obiektu komunikacji i ustawić stan na Opened.</span><span class="sxs-lookup"><span data-stu-id="52a5f-168">The Open() method will try to open the communication object and set the state to Opened.</span></span> <span data-ttu-id="52a5f-169">Jeśli napotka błąd, zostanie ustawiony stan do Faulted.</span><span class="sxs-lookup"><span data-stu-id="52a5f-169">If it encounters an error, it will set the state to Faulted.</span></span>  
  
 <span data-ttu-id="52a5f-170">Metoda najpierw sprawdza, czy bieżący stan został utworzony.</span><span class="sxs-lookup"><span data-stu-id="52a5f-170">The method first checks that the current state is Created.</span></span> <span data-ttu-id="52a5f-171">Jeśli bieżący stan jest otwierania lub otwarciem zgłasza <xref:System.InvalidOperationException>.</span><span class="sxs-lookup"><span data-stu-id="52a5f-171">If the current state is Opening or Opened it throws an <xref:System.InvalidOperationException>.</span></span> <span data-ttu-id="52a5f-172">W przypadku zamknięcia i zamknięte bieżący stan wyniku weryfikacji zgłasza wyjątek <xref:System.ServiceModel.CommunicationObjectAbortedException> Jeśli obiekt został zakończony i <xref:System.ObjectDisposedException> inaczej.</span><span class="sxs-lookup"><span data-stu-id="52a5f-172">If the current state is Closing or Closed, it throws a <xref:System.ServiceModel.CommunicationObjectAbortedException> if the object has been terminated and <xref:System.ObjectDisposedException> otherwise.</span></span> <span data-ttu-id="52a5f-173">Jeśli bieżący stan jest błędne, zgłasza <xref:System.ServiceModel.CommunicationObjectFaultedException>.</span><span class="sxs-lookup"><span data-stu-id="52a5f-173">If the current state is Faulted, it throws a <xref:System.ServiceModel.CommunicationObjectFaultedException>.</span></span>  
  
 <span data-ttu-id="52a5f-174">Następnie ustawia stan do otwierania i wywołuje OnOpening() (który wywołuje zdarzenie otwierania) i OnOpen() OnOpened() w tej kolejności.</span><span class="sxs-lookup"><span data-stu-id="52a5f-174">It then sets the state to Opening and calls OnOpening() (which raises the Opening event), OnOpen() and OnOpened() in that order.</span></span> <span data-ttu-id="52a5f-175">OnOpened() ustawia stan Opened i zgłasza zdarzenie Opened.</span><span class="sxs-lookup"><span data-stu-id="52a5f-175">OnOpened() sets the state to Opened and raises the Opened event.</span></span> <span data-ttu-id="52a5f-176">Jeśli dowolny z tych zgłasza wyjątek (Otwórz) wywołuje Fault() i umożliwia bąbelków wyjątek w.</span><span class="sxs-lookup"><span data-stu-id="52a5f-176">If any of these throws an exception, Open()calls Fault() and lets the exception bubble up.</span></span> <span data-ttu-id="52a5f-177">Na poniższym diagramie przedstawiono procesu otwierania bardziej szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="52a5f-177">The following diagram shows the Open process in more detail.</span></span>  
  
 <span data-ttu-id="52a5f-178">![Zmianie stanu](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigurecoopenflowchartf.gif "wcfc_WCFChannelsigureCOOpenFlowChartf")</span><span class="sxs-lookup"><span data-stu-id="52a5f-178">![State changes](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigurecoopenflowchartf.gif "wcfc_WCFChannelsigureCOOpenFlowChartf")</span></span>  
<span data-ttu-id="52a5f-179">Zastąp metodę zdarzenia do zaimplementowania niestandardowej logiki open, takich jak otwieranie obiekt wewnętrzny komunikacji.</span><span class="sxs-lookup"><span data-stu-id="52a5f-179">Override the OnOpen method to implement custom open logic such as opening an inner communication object.</span></span>  
  
 <span data-ttu-id="52a5f-180">Close — Metoda</span><span class="sxs-lookup"><span data-stu-id="52a5f-180">Close Method</span></span>  
  
 <span data-ttu-id="52a5f-181">Warunek wstępny: Brak.</span><span class="sxs-lookup"><span data-stu-id="52a5f-181">Precondition: None.</span></span>  
  
 <span data-ttu-id="52a5f-182">Warunek po: Stan jest zamknięty.</span><span class="sxs-lookup"><span data-stu-id="52a5f-182">Post-condition: State is Closed.</span></span> <span data-ttu-id="52a5f-183">Może zgłaszać wyjątek.</span><span class="sxs-lookup"><span data-stu-id="52a5f-183">May throw an exception.</span></span>  
  
 <span data-ttu-id="52a5f-184">Można wywołać metody Close() w każdym stanie.</span><span class="sxs-lookup"><span data-stu-id="52a5f-184">The Close() method can be called at any state.</span></span> <span data-ttu-id="52a5f-185">Próbuje zamykających obiekt w zwykły sposób.</span><span class="sxs-lookup"><span data-stu-id="52a5f-185">It tries to close the object normally.</span></span> <span data-ttu-id="52a5f-186">W przypadku napotkania błędu kończy obiektu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-186">If an error is encountered, it terminates the object.</span></span> <span data-ttu-id="52a5f-187">Metoda ma wartość nothing, jeśli bieżący stan jest zamykany lub zamknięte.</span><span class="sxs-lookup"><span data-stu-id="52a5f-187">The method does nothing if the current state is Closing or Closed.</span></span> <span data-ttu-id="52a5f-188">W przeciwnym razie ustawia stan zamknięcia.</span><span class="sxs-lookup"><span data-stu-id="52a5f-188">Otherwise it sets the state to Closing.</span></span> <span data-ttu-id="52a5f-189">Jeśli pierwotnego stanu została utworzona, otwieranie lub Faulted, wywołuje metodę Abort() (patrz poniższy diagram).</span><span class="sxs-lookup"><span data-stu-id="52a5f-189">If the original state was Created, Opening or Faulted, it calls Abort() (see the following diagram).</span></span> <span data-ttu-id="52a5f-190">Jeśli oryginalny stan został otwarty, wywołuje metodę OnClosing() (który wywołuje zdarzenie zamknięcia) i OnClose() OnClosed() w tej kolejności.</span><span class="sxs-lookup"><span data-stu-id="52a5f-190">If the original state was Opened, it calls OnClosing() (which raises the Closing event), OnClose() and OnClosed() in that order.</span></span> <span data-ttu-id="52a5f-191">Jeśli dowolny z tych zgłasza wyjątek (Zamknij) wywołuje metodę Abort() i umożliwia bąbelków wyjątek.</span><span class="sxs-lookup"><span data-stu-id="52a5f-191">If any of these throws an exception, Close()calls Abort() and lets the exception bubble up.</span></span> <span data-ttu-id="52a5f-192">OnClosed() ustawia stan na zamknięte i zgłasza zdarzenie zamknięte.</span><span class="sxs-lookup"><span data-stu-id="52a5f-192">OnClosed() sets the state to Closed and raises the Closed event.</span></span> <span data-ttu-id="52a5f-193">Na poniższym diagramie przedstawiono zamknięciu przetwarzania bardziej szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="52a5f-193">The following diagram shows the Close process in more detail.</span></span>  
  
 <span data-ttu-id="52a5f-194">![Zmianie stanu](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsguire7ico-closeflowchartc.gif "wcfc_WCFChannelsguire7ICO CloseFlowChartc")</span><span class="sxs-lookup"><span data-stu-id="52a5f-194">![State changes](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsguire7ico-closeflowchartc.gif "wcfc_WCFChannelsguire7ICO-CloseFlowChartc")</span></span>  
<span data-ttu-id="52a5f-195">Zastąp metodę OnClose — Aby zaimplementować logikę niestandardową Zamknij, np. zamknięcie obiekt wewnętrzny komunikacji.</span><span class="sxs-lookup"><span data-stu-id="52a5f-195">Override the OnClose method to implement custom close logic, such as closing an inner communication object.</span></span> <span data-ttu-id="52a5f-196">Wszystkie łagodne zamykanie logikę, która może blokować długo (np. Trwa oczekiwanie na drugiej stronie odpowiadać) powinny być zrealizowane w OnClose(), ponieważ pobiera on parametr limitu czasu i ponieważ nie jest wywoływana jako część metodę Abort().</span><span class="sxs-lookup"><span data-stu-id="52a5f-196">All graceful closing logic that may block for a long time (for example, waiting for the other side to respond) should be implemented in OnClose() because it takes a timeout parameter and because it is not called as part of Abort().</span></span>  
  
 <span data-ttu-id="52a5f-197">Przerwij</span><span class="sxs-lookup"><span data-stu-id="52a5f-197">Abort</span></span>  
  
 <span data-ttu-id="52a5f-198">Warunek wstępny: Brak.</span><span class="sxs-lookup"><span data-stu-id="52a5f-198">Precondition: None.</span></span>  
<span data-ttu-id="52a5f-199">Warunek po: Stan jest zamknięty.</span><span class="sxs-lookup"><span data-stu-id="52a5f-199">Post-condition: State is Closed.</span></span> <span data-ttu-id="52a5f-200">Może zgłaszać wyjątek.</span><span class="sxs-lookup"><span data-stu-id="52a5f-200">May throw an exception.</span></span>  
  
 <span data-ttu-id="52a5f-201">Metoda metodę Abort() nie działają, jeśli bieżącym stanem nie jest zamknięty lub jeśli obiekt został zakończony przed (na przykład prawdopodobnie przez metodę Abort() wykonywania w innym wątku).</span><span class="sxs-lookup"><span data-stu-id="52a5f-201">The Abort() method does nothing if the current state is Closed or if the object has been terminated before (for example, possibly by having Abort() executing on another thread).</span></span> <span data-ttu-id="52a5f-202">W przeciwnym razie ustawia stan do zamknięcia i wywołuje OnClosing() (który wywołuje zdarzenie zamknięcia), OnAbort() i OnClosed() w tej kolejności (nie wywołuje OnClose — ponieważ obiekt zostanie przerwany, nie jest zamknięty).</span><span class="sxs-lookup"><span data-stu-id="52a5f-202">Otherwise it sets the state to Closing and calls OnClosing() (which raises the Closing event), OnAbort(), and OnClosed() in that order (does not call OnClose because the object is being terminated, not closed).</span></span> <span data-ttu-id="52a5f-203">OnClosed() ustawia stan na zamknięte i zgłasza zdarzenie zamknięte.</span><span class="sxs-lookup"><span data-stu-id="52a5f-203">OnClosed() sets the state to Closed and raises the Closed event.</span></span> <span data-ttu-id="52a5f-204">Jeśli któregoś z powyższych zgłosić wyjątek, jest ponownie zgłoszony do obiektu wywołującego przerwania.</span><span class="sxs-lookup"><span data-stu-id="52a5f-204">If any of these throw an exception, it is re-thrown to the caller of Abort.</span></span> <span data-ttu-id="52a5f-205">Implementacje OnClosing(), OnClosed() i OnAbort() nie powinny blokować (na przykład na We/Wy).</span><span class="sxs-lookup"><span data-stu-id="52a5f-205">Implementations of OnClosing(), OnClosed() and OnAbort() should not block (for example, on input/output).</span></span> <span data-ttu-id="52a5f-206">Na poniższym diagramie przedstawiono proces przerwania bardziej szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="52a5f-206">The following diagram shows the Abort process in more detail.</span></span>  
  
 <span data-ttu-id="52a5f-207">![Zmianie stanu](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigure8ico-abortflowchartc.gif "wcfc_WCFChannelsigure8ICO AbortFlowChartc")</span><span class="sxs-lookup"><span data-stu-id="52a5f-207">![State changes](../../../../docs/framework/wcf/extending/media/wcfc-wcfchannelsigure8ico-abortflowchartc.gif "wcfc_WCFChannelsigure8ICO-AbortFlowChartc")</span></span>  
<span data-ttu-id="52a5f-208">Zastąpienie metody OnAbort implementacji niestandardowych Zakończ logiki, takie jak przerywanie obiekt wewnętrzny komunikacji.</span><span class="sxs-lookup"><span data-stu-id="52a5f-208">Override the OnAbort method to implement custom terminate logic such as terminating an inner communication object.</span></span>  
  
 <span data-ttu-id="52a5f-209">Błędów</span><span class="sxs-lookup"><span data-stu-id="52a5f-209">Fault</span></span>  
  
 <span data-ttu-id="52a5f-210">Metoda błędów zależy od <xref:System.ServiceModel.Channels.CommunicationObject> i nie jest częścią <xref:System.ServiceModel.ICommunicationObject> interfejsu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-210">The Fault method is specific to <xref:System.ServiceModel.Channels.CommunicationObject> and is not part of the <xref:System.ServiceModel.ICommunicationObject> interface.</span></span> <span data-ttu-id="52a5f-211">Została ona tutaj uwzględniona aby informacje były kompletne.</span><span class="sxs-lookup"><span data-stu-id="52a5f-211">It is included here for completeness.</span></span>  
  
 <span data-ttu-id="52a5f-212">Warunek wstępny: Brak.</span><span class="sxs-lookup"><span data-stu-id="52a5f-212">Precondition: None.</span></span>  
  
 <span data-ttu-id="52a5f-213">Warunek po: Stan jest błędne.</span><span class="sxs-lookup"><span data-stu-id="52a5f-213">Post-condition: State is Faulted.</span></span> <span data-ttu-id="52a5f-214">Może zgłaszać wyjątek.</span><span class="sxs-lookup"><span data-stu-id="52a5f-214">May throw an exception.</span></span>  
  
 <span data-ttu-id="52a5f-215">Metoda Fault() nie działa w przypadku bieżącego stanu Faulted lub zamknięte.</span><span class="sxs-lookup"><span data-stu-id="52a5f-215">The Fault() method does nothing if the current state is Faulted or Closed.</span></span> <span data-ttu-id="52a5f-216">W przeciwnym razie ustawia stan Faulted, a następnie wywołać OnFaulted(), który wywołuje zdarzenie Faulted.</span><span class="sxs-lookup"><span data-stu-id="52a5f-216">Otherwise it sets the state to Faulted and call OnFaulted(), which raises the Faulted event.</span></span> <span data-ttu-id="52a5f-217">Jeśli OnFaulted zgłasza wyjątek jest ponownie zgłoszony.</span><span class="sxs-lookup"><span data-stu-id="52a5f-217">If OnFaulted throws an exception it is re-thrown.</span></span>  
  
### <a name="throwifxxx-methods"></a><span data-ttu-id="52a5f-218">Metody ThrowIfXxx</span><span class="sxs-lookup"><span data-stu-id="52a5f-218">ThrowIfXxx Methods</span></span>  
 <span data-ttu-id="52a5f-219">CommunicationObject ma trzy metody chronionych, których można użyć zgłaszają wyjątki, jeśli obiekt jest w określonym stanie.</span><span class="sxs-lookup"><span data-stu-id="52a5f-219">CommunicationObject has three protected methods that can be used to throw exceptions if the object is in a specific state.</span></span>  
  
 <span data-ttu-id="52a5f-220"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposed%2A> zgłasza wyjątek, jeśli stan jest zamknięcia, zamknięte lub Faulted.</span><span class="sxs-lookup"><span data-stu-id="52a5f-220"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposed%2A> throws an exception if the state is Closing, Closed or Faulted.</span></span>  
  
 <span data-ttu-id="52a5f-221"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrImmutable%2A> zgłasza wyjątek, jeśli stan nie został utworzony.</span><span class="sxs-lookup"><span data-stu-id="52a5f-221"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrImmutable%2A> throws an exception if the state is not Created.</span></span>  
  
 <span data-ttu-id="52a5f-222"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrNotOpen%2A> zgłasza wyjątek, jeśli stan nie jest otwarty.</span><span class="sxs-lookup"><span data-stu-id="52a5f-222"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrNotOpen%2A> throws an exception if the state is not Opened.</span></span>  
  
 <span data-ttu-id="52a5f-223">Wyjątki generowane są zależne od stanu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-223">The exceptions thrown depend on the state.</span></span> <span data-ttu-id="52a5f-224">W poniższej tabeli przedstawiono różne stany i odpowiedni typ wyjątek zgłoszony przez wywołanie metody ThrowIfXxx, która zgłasza w tym stanie.</span><span class="sxs-lookup"><span data-stu-id="52a5f-224">The following table shows the different states and the corresponding exception type thrown by calling a ThrowIfXxx that throws on that state.</span></span>  
  
|<span data-ttu-id="52a5f-225">Stan</span><span class="sxs-lookup"><span data-stu-id="52a5f-225">State</span></span>|<span data-ttu-id="52a5f-226">Została wywołana przerwania?</span><span class="sxs-lookup"><span data-stu-id="52a5f-226">Has Abort been called?</span></span>|<span data-ttu-id="52a5f-227">Wyjątek</span><span class="sxs-lookup"><span data-stu-id="52a5f-227">Exception</span></span>|  
|-----------|----------------------------|---------------|  
|<span data-ttu-id="52a5f-228">Utworzono</span><span class="sxs-lookup"><span data-stu-id="52a5f-228">Created</span></span>|<span data-ttu-id="52a5f-229">Brak</span><span class="sxs-lookup"><span data-stu-id="52a5f-229">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="52a5f-230">Otwieranie</span><span class="sxs-lookup"><span data-stu-id="52a5f-230">Opening</span></span>|<span data-ttu-id="52a5f-231">Brak</span><span class="sxs-lookup"><span data-stu-id="52a5f-231">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="52a5f-232">Otwarte</span><span class="sxs-lookup"><span data-stu-id="52a5f-232">Opened</span></span>|<span data-ttu-id="52a5f-233">Brak</span><span class="sxs-lookup"><span data-stu-id="52a5f-233">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="52a5f-234">Zamykanie</span><span class="sxs-lookup"><span data-stu-id="52a5f-234">Closing</span></span>|<span data-ttu-id="52a5f-235">Yes</span><span class="sxs-lookup"><span data-stu-id="52a5f-235">Yes</span></span>|<xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType>|  
|<span data-ttu-id="52a5f-236">Zamykanie</span><span class="sxs-lookup"><span data-stu-id="52a5f-236">Closing</span></span>|<span data-ttu-id="52a5f-237">Nie</span><span class="sxs-lookup"><span data-stu-id="52a5f-237">No</span></span>|<xref:System.ObjectDisposedException?displayProperty=nameWithType>|  
|<span data-ttu-id="52a5f-238">Zamknięte</span><span class="sxs-lookup"><span data-stu-id="52a5f-238">Closed</span></span>|<span data-ttu-id="52a5f-239">Tak</span><span class="sxs-lookup"><span data-stu-id="52a5f-239">Yes</span></span>|<span data-ttu-id="52a5f-240"><xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType> w przypadku, że obiekt został zamknięty przez poprzednie i jawne wywołanie przerwania.</span><span class="sxs-lookup"><span data-stu-id="52a5f-240"><xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType> in the case that an object was closed by a previous and explicit call of Abort.</span></span> <span data-ttu-id="52a5f-241">Jeśli możesz wywołać operację Close dla obiektu, a następnie <xref:System.ObjectDisposedException?displayProperty=nameWithType> zgłaszany.</span><span class="sxs-lookup"><span data-stu-id="52a5f-241">If you call Close on the object then an <xref:System.ObjectDisposedException?displayProperty=nameWithType> is thrown.</span></span>|  
|<span data-ttu-id="52a5f-242">Zamknięte</span><span class="sxs-lookup"><span data-stu-id="52a5f-242">Closed</span></span>|<span data-ttu-id="52a5f-243">Nie</span><span class="sxs-lookup"><span data-stu-id="52a5f-243">No</span></span>|<xref:System.ObjectDisposedException?displayProperty=nameWithType>|  
|<span data-ttu-id="52a5f-244">Wystąpił błąd</span><span class="sxs-lookup"><span data-stu-id="52a5f-244">Faulted</span></span>|<span data-ttu-id="52a5f-245">Brak</span><span class="sxs-lookup"><span data-stu-id="52a5f-245">N/A</span></span>|<xref:System.ServiceModel.CommunicationObjectFaultedException?displayProperty=nameWithType>|  
  
### <a name="timeouts"></a><span data-ttu-id="52a5f-246">Limity czasu</span><span class="sxs-lookup"><span data-stu-id="52a5f-246">Timeouts</span></span>  
 <span data-ttu-id="52a5f-247">Kilka metod, które Omówiliśmy przyjmują parametry limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-247">Several of the methods we discussed take timeout parameters.</span></span> <span data-ttu-id="52a5f-248">Są to zamknij i Otwórz (niektóre przeciążenia i asynchronicznych wersji), OnClose zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="52a5f-248">These are Close, Open (certain overloads and asynchronous versions), OnClose and OnOpen.</span></span> <span data-ttu-id="52a5f-249">Te metody są zaprojektowane z myślą długotrwałej operacji (np. blokowania na We/Wy podczas bezpiecznie zamknąć połączenie), parametr limitu czasu wskazuje, ile takich operacji może zająć przed są przerwane.</span><span class="sxs-lookup"><span data-stu-id="52a5f-249">These methods are designed to allow for lengthy operations (for example, blocking on input/output while gracefully closing down a connection) so the timeout parameter indicates how long such operations can take before being interrupted.</span></span> <span data-ttu-id="52a5f-250">Implementacje dowolnej z tych metod powinny używać wartości podany limit czasu, aby upewnić się, że powraca do obiektu wywołującego w ramach tego limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-250">Implementations of any of these methods should use the supplied timeout value to ensure it returns to the caller within that timeout.</span></span> <span data-ttu-id="52a5f-251">Implementacje innych metod, które nie przyjmują przekroczenie limitu czasu nie są przeznaczone dla długotrwałej operacji i nie powinny blokować na dane wejściowe i wyjściowe.</span><span class="sxs-lookup"><span data-stu-id="52a5f-251">Implementations of other methods that do not take a timeout are not designed for lengthy operations and should not block on input/output.</span></span>  
  
 <span data-ttu-id="52a5f-252">Wyjątkiem są Open() i Close() przeciążenia, które nie przyjmują przekroczenie limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-252">The exception are the Open() and Close() overloads that do not take a timeout.</span></span> <span data-ttu-id="52a5f-253">Te Użyj domyślnej wartości limitu czasu pochodzącego z klasy pochodnej.</span><span class="sxs-lookup"><span data-stu-id="52a5f-253">These use a default timeout value supplied by the derived class.</span></span> <span data-ttu-id="52a5f-254"><xref:System.ServiceModel.Channels.CommunicationObject> udostępnia dwa chronione właściwości abstrakcyjnych, o nazwie <xref:System.ServiceModel.Channels.CommunicationObject.DefaultCloseTimeout%2A> i <xref:System.ServiceModel.Channels.CommunicationObject.DefaultOpenTimeout%2A> zdefiniowany jako:</span><span class="sxs-lookup"><span data-stu-id="52a5f-254"><xref:System.ServiceModel.Channels.CommunicationObject> exposes two protected abstract properties named <xref:System.ServiceModel.Channels.CommunicationObject.DefaultCloseTimeout%2A> and <xref:System.ServiceModel.Channels.CommunicationObject.DefaultOpenTimeout%2A> defined as:</span></span>  
  
 `protected abstract TimeSpan DefaultCloseTimeout { get; }`  
  
 `protected abstract TimeSpan DefaultOpenTimeout { get; }`  
  
 <span data-ttu-id="52a5f-255">Klasa pochodna implementuje te właściwości, aby podać domyślny limit czasu dla Open() i Close() przeciążeń, które nie przyjmują wartość limitu czasu.</span><span class="sxs-lookup"><span data-stu-id="52a5f-255">A derived class implements these properties to provide the default timeout for the Open() and Close() overloads that do not take a timeout value.</span></span> <span data-ttu-id="52a5f-256">Następnie implementacji metody Open() i Close() delegować do przeciążenia, które przyjmuje przekazanie do niej domyślnej wartości limitu czasu, na przykład limit czasu:</span><span class="sxs-lookup"><span data-stu-id="52a5f-256">Then the Open() and Close() implementations delegate to the overload that takes a timeout passing it the default timeout value, for example:</span></span>  
  
 `public void Open()`  
  
 `{`  
  
 `this.Open(this.DefaultOpenTimeout);`  
  
 `}`  
  
#### <a name="idefaultcommunicationtimeouts"></a><span data-ttu-id="52a5f-257">IDefaultCommunicationTimeouts</span><span class="sxs-lookup"><span data-stu-id="52a5f-257">IDefaultCommunicationTimeouts</span></span>  
 <span data-ttu-id="52a5f-258">Ten interfejs ma cztery właściwości tylko do odczytu do prezentowania domyślne wartości limitów czasu dla otwierania, wysyłanie, odbieranie i zamykania.</span><span class="sxs-lookup"><span data-stu-id="52a5f-258">This interface has four read-only properties for providing default timeout values for open, send, receive, and close.</span></span> <span data-ttu-id="52a5f-259">Każda implementacja jest odpowiedzialny za uzyskanie wartości domyślne w jakikolwiek sposób, które są odpowiednie.</span><span class="sxs-lookup"><span data-stu-id="52a5f-259">Each implementation is responsible for obtaining the default values in whatever manner appropriate.</span></span> <span data-ttu-id="52a5f-260">Dla wygody <xref:System.ServiceModel.Channels.ChannelFactoryBase> i <xref:System.ServiceModel.Channels.ChannelListenerBase> domyślne te wartości na 1 minutę.</span><span class="sxs-lookup"><span data-stu-id="52a5f-260">As a convenience, <xref:System.ServiceModel.Channels.ChannelFactoryBase> and <xref:System.ServiceModel.Channels.ChannelListenerBase> default these values to 1 minute each.</span></span>
