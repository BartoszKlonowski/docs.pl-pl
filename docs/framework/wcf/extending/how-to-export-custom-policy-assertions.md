---
title: 'Instrukcje: eksportowanie niestandardowych asercji zasad'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: 99030386-43b0-4f7b-866d-17ea307f5cbd
ms.openlocfilehash: 8bdc9948d6846631fde1d428c113682f40d15ec3
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/26/2020
ms.locfileid: "96249218"
---
# <a name="how-to-export-custom-policy-assertions"></a><span data-ttu-id="c2fe7-102">Instrukcje: eksportowanie niestandardowych asercji zasad</span><span class="sxs-lookup"><span data-stu-id="c2fe7-102">How to: Export Custom Policy Assertions</span></span>

<span data-ttu-id="c2fe7-103">Potwierdzenia zasad opisują możliwości i wymagania punktu końcowego usługi.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-103">Policy assertions describe the capabilities and requirements of a service endpoint.</span></span> <span data-ttu-id="c2fe7-104">Aplikacje usług mogą używać niestandardowych potwierdzeń zasad w metadanych usługi do przekazywania informacji o dostosowywaniu punktów końcowych, powiązań lub umów do aplikacji klienckiej.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-104">Service applications can use custom policy assertions in service metadata to communicate endpoint, binding or contract customization information to the client application.</span></span> <span data-ttu-id="c2fe7-105">Za pomocą Windows Communication Foundation (WCF) można eksportować potwierdzenia w wyrażeniach zasad dołączonych do powiązań WSDL w podmiotach punktu końcowego, operacji lub komunikatu, w zależności od możliwości lub wymagań, które komunikujesz.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-105">You can use Windows Communication Foundation (WCF) to export assertions in policy expressions attached in WSDL bindings at the endpoint, operation, or message subjects, depending upon the capabilities or requirements you are communicating.</span></span>  
  
 <span data-ttu-id="c2fe7-106">Potwierdzenia zasad niestandardowych są eksportowane przez zaimplementowanie <xref:System.ServiceModel.Description.IPolicyExportExtension?displayProperty=nameWithType> interfejsu na <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType> i wstawianie elementu powiązania bezpośrednio do powiązania punktu końcowego usługi lub przez zarejestrowanie elementu powiązania w pliku konfiguracyjnym aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-106">Custom policy assertions are exported by implementing the <xref:System.ServiceModel.Description.IPolicyExportExtension?displayProperty=nameWithType> interface on a <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType> and either inserting the binding element directly into the binding of the service endpoint or by registering the binding element in your application configuration file.</span></span> <span data-ttu-id="c2fe7-107">Implementacja eksportu zasad powinna dodać potwierdzenie zasad niestandardowych jako <xref:System.Xml.XmlElement?displayProperty=nameWithType> wystąpienie do odpowiedniej <xref:System.ServiceModel.Description.PolicyAssertionCollection?displayProperty=nameWithType> <xref:System.ServiceModel.Description.PolicyConversionContext?displayProperty=nameWithType> metody w przekazaniu na <xref:System.ServiceModel.Description.IPolicyExportExtension.ExportPolicy%2A> metodę.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-107">Your policy export implementation should add your custom policy assertion as a <xref:System.Xml.XmlElement?displayProperty=nameWithType> instance to the appropriate <xref:System.ServiceModel.Description.PolicyAssertionCollection?displayProperty=nameWithType> on the <xref:System.ServiceModel.Description.PolicyConversionContext?displayProperty=nameWithType> passed into the <xref:System.ServiceModel.Description.IPolicyExportExtension.ExportPolicy%2A> method.</span></span>  
  
 <span data-ttu-id="c2fe7-108">Ponadto należy sprawdzić <xref:System.ServiceModel.Description.MetadataExporter.PolicyVersion%2A> Właściwość <xref:System.ServiceModel.Description.WsdlExporter> klasy i wyeksportować zagnieżdżone wyrażenia zasad i atrybuty struktury zasad w prawidłowej przestrzeni nazw na podstawie określonej wersji zasad.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-108">In addition you must check the <xref:System.ServiceModel.Description.MetadataExporter.PolicyVersion%2A> property of the <xref:System.ServiceModel.Description.WsdlExporter> class and export nested policy expressions and policy framework attributes in the correct namespace based on the policy version specified.</span></span>  
  
 <span data-ttu-id="c2fe7-109">Aby zaimportować potwierdzenia zasad niestandardowych, zobacz <xref:System.ServiceModel.Description.IPolicyImportExtension?displayProperty=nameWithType> i [instrukcje: Importowanie potwierdzeń zasad niestandardowych](how-to-import-custom-policy-assertions.md).</span><span class="sxs-lookup"><span data-stu-id="c2fe7-109">To import custom policy assertions, see <xref:System.ServiceModel.Description.IPolicyImportExtension?displayProperty=nameWithType> and [How to: Import Custom Policy Assertions](how-to-import-custom-policy-assertions.md).</span></span>  
  
### <a name="to-export-custom-policy-assertions"></a><span data-ttu-id="c2fe7-110">Aby wyeksportować potwierdzenia zasad niestandardowych</span><span class="sxs-lookup"><span data-stu-id="c2fe7-110">To export custom policy assertions</span></span>  
  
1. <span data-ttu-id="c2fe7-111">Zaimplementuj <xref:System.ServiceModel.Description.IPolicyExportExtension?displayProperty=nameWithType> interfejs na <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="c2fe7-111">Implement the <xref:System.ServiceModel.Description.IPolicyExportExtension?displayProperty=nameWithType> interface on a <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType>.</span></span> <span data-ttu-id="c2fe7-112">Poniższy przykład kodu pokazuje implementację niestandardowej potwierdzeń zasad na poziomie powiązania.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-112">The following code example shows the implementation of a custom policy assertion at the binding level.</span></span>  
  
     [!code-csharp[CustomPolicySample#14](../../../../samples/snippets/csharp/VS_Snippets_CFX/custompolicysample/cs/policyexporter.cs#14)]
     [!code-vb[CustomPolicySample#14](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/custompolicysample/vb/policyexporter.vb#14)]  
  
2. <span data-ttu-id="c2fe7-113">Wstaw element Binding do powiązania punktu końcowego albo programowo lub za pomocą pliku konfiguracji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-113">Insert the binding element into the endpoint binding either programmatically or using an application configuration file.</span></span> <span data-ttu-id="c2fe7-114">Zapoznaj się z poniższymi procedurami.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-114">See the following procedures.</span></span>  
  
### <a name="to-insert-a-binding-element-using-an-application-configuration-file"></a><span data-ttu-id="c2fe7-115">Aby wstawić element powiązania przy użyciu pliku konfiguracji aplikacji</span><span class="sxs-lookup"><span data-stu-id="c2fe7-115">To insert a binding element using an application configuration file</span></span>  
  
1. <span data-ttu-id="c2fe7-116">Zaimplementuj <xref:System.ServiceModel.Configuration.BindingElementExtensionElement?displayProperty=nameWithType> dla elementu niestandardowego powiązania potwierdzenia zasad.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-116">Implement <xref:System.ServiceModel.Configuration.BindingElementExtensionElement?displayProperty=nameWithType> for your custom policy assertion binding element.</span></span>  
  
2. <span data-ttu-id="c2fe7-117">Dodaj rozszerzenie elementu Binding do pliku konfiguracji przy użyciu [\<bindingElementExtensions>](../../configure-apps/file-schema/wcf/bindingelementextensions.md) elementu.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-117">Add the binding element extension to the configuration file using the [\<bindingElementExtensions>](../../configure-apps/file-schema/wcf/bindingelementextensions.md) element.</span></span>  
  
3. <span data-ttu-id="c2fe7-118">Utwórz niestandardowe powiązanie przy użyciu <xref:System.ServiceModel.Channels.CustomBinding?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="c2fe7-118">Build a custom binding using the <xref:System.ServiceModel.Channels.CustomBinding?displayProperty=nameWithType>.</span></span>  
  
### <a name="to-insert-a-binding-element-programmatically"></a><span data-ttu-id="c2fe7-119">Aby programowo wstawić element powiązania</span><span class="sxs-lookup"><span data-stu-id="c2fe7-119">To insert a binding element programmatically</span></span>  
  
1. <span data-ttu-id="c2fe7-120">Utwórz nowy <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType> i dodaj go do <xref:System.ServiceModel.Channels.CustomBinding?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="c2fe7-120">Create a new <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType> and add it to a <xref:System.ServiceModel.Channels.CustomBinding?displayProperty=nameWithType>.</span></span>  
  
2. <span data-ttu-id="c2fe7-121">Dodaj niestandardowe powiązanie z kroku 1.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-121">Add the custom binding from step 1.</span></span> <span data-ttu-id="c2fe7-122">do nowego punktu końcowego i Dodaj nowy punkt końcowy usługi do elementu, <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> wywołując <xref:System.ServiceModel.ServiceHost.AddServiceEndpoint%2A> metodę.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-122">to a new endpoint and add that new service endpoint to the <xref:System.ServiceModel.ServiceHost?displayProperty=nameWithType> by calling the <xref:System.ServiceModel.ServiceHost.AddServiceEndpoint%2A> method.</span></span>  
  
3. <span data-ttu-id="c2fe7-123">Otwórz klasę <xref:System.ServiceModel.ServiceHost>.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-123">Open the <xref:System.ServiceModel.ServiceHost>.</span></span> <span data-ttu-id="c2fe7-124">Poniższy przykład kodu pokazuje Tworzenie niestandardowego powiązania i programistyczne Wstawianie elementów powiązania.</span><span class="sxs-lookup"><span data-stu-id="c2fe7-124">The following code example shows the creation of a custom binding and the programmatic insertion of binding elements.</span></span>  
  
     [!code-csharp[s_imperative#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/s_imperative/cs/service.cs#1)]
     [!code-vb[s_imperative#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/s_imperative/vb/service.vb#1)]  
  
## <a name="see-also"></a><span data-ttu-id="c2fe7-125">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="c2fe7-125">See also</span></span>

- <xref:System.ServiceModel.Description.IPolicyImportExtension>
- <xref:System.ServiceModel.Description.IPolicyExportExtension>
- [<span data-ttu-id="c2fe7-126">Instrukcje: importowanie niestandardowych asercji zasad</span><span class="sxs-lookup"><span data-stu-id="c2fe7-126">How to: Import Custom Policy Assertions</span></span>](how-to-import-custom-policy-assertions.md)
