---
title: Obiekty rozszerzalne
ms.date: 03/30/2017
helpviewer_keywords:
- extensible objects [WCF]
ms.assetid: bc88cefc-31fb-428e-9447-6d20a7d452af
ms.openlocfilehash: f2738d6e3a5fc75ab2f5714dc6644267e4fa1e29
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/23/2019
ms.locfileid: "54495841"
---
# <a name="extensible-objects"></a><span data-ttu-id="c0df4-102">Obiekty rozszerzalne</span><span class="sxs-lookup"><span data-stu-id="c0df4-102">Extensible Objects</span></span>
<span data-ttu-id="c0df4-103">Wzorzec extensible object jest używany, albo rozszerzanie istniejących klas środowiska uruchomieniowego przy użyciu nowych funkcji lub dodanie nowego Państwa do obiektu.</span><span class="sxs-lookup"><span data-stu-id="c0df4-103">The extensible object pattern is used to either extend existing runtime classes with new functionality or to add new state to an object.</span></span> <span data-ttu-id="c0df4-104">Rozszerzenia, dołączony do jednego z obiekty rozszerzalne umożliwiają zachowania w bardzo różnych etapach przetwarzania dostęp do udostępnionego stanu i dołączony do obiektu extensible wspólnego, które mogą uzyskiwać dostęp do funkcji.</span><span class="sxs-lookup"><span data-stu-id="c0df4-104">Extensions, attached to one of the extensible objects, enable behaviors at very different stages in processing to access shared state and functionality attached to a common extensible object that they can access.</span></span>  
  
## <a name="the-iextensibleobjectt-pattern"></a><span data-ttu-id="c0df4-105">IExtensibleObject\<T > wzorzec</span><span class="sxs-lookup"><span data-stu-id="c0df4-105">The IExtensibleObject\<T> Pattern</span></span>  
 <span data-ttu-id="c0df4-106">Istnieją trzy interfejsy we wzorcu extensible object: <xref:System.ServiceModel.IExtensibleObject%601>, <xref:System.ServiceModel.IExtension%601>, i <xref:System.ServiceModel.IExtensionCollection%601>.</span><span class="sxs-lookup"><span data-stu-id="c0df4-106">There are three interfaces in the extensible object pattern: <xref:System.ServiceModel.IExtensibleObject%601>, <xref:System.ServiceModel.IExtension%601>, and <xref:System.ServiceModel.IExtensionCollection%601>.</span></span>  
  
 <span data-ttu-id="c0df4-107"><xref:System.ServiceModel.IExtensibleObject%601> Interfejs jest implementowany przez typy, które umożliwiają <xref:System.ServiceModel.IExtension%601> obiektów, aby dostosować ich funkcje.</span><span class="sxs-lookup"><span data-stu-id="c0df4-107">The <xref:System.ServiceModel.IExtensibleObject%601> interface is implemented by types that allow <xref:System.ServiceModel.IExtension%601> objects to customize their functionality.</span></span>  
  
 <span data-ttu-id="c0df4-108">Obiekty rozszerzalne Zezwalaj na agregację dynamiczne <xref:System.ServiceModel.IExtension%601> obiektów.</span><span class="sxs-lookup"><span data-stu-id="c0df4-108">Extensible objects allow dynamic aggregation of <xref:System.ServiceModel.IExtension%601> objects.</span></span> <span data-ttu-id="c0df4-109"><xref:System.ServiceModel.IExtension%601> obiekty charakteryzują się następujący interfejs:</span><span class="sxs-lookup"><span data-stu-id="c0df4-109"><xref:System.ServiceModel.IExtension%601> objects are characterized by the following interface:</span></span>  
  
```  
public interface IExtension<T>  
where T : IExtensibleObject<T>  
{  
    void Attach(T owner);  
    void Detach(T owner);  
}  
```  
  
 <span data-ttu-id="c0df4-110">Ograniczenie typu gwarantuje, że rozszerzenia mogą być definiowane tylko dla klas, które są <xref:System.ServiceModel.IExtensibleObject%601>.</span><span class="sxs-lookup"><span data-stu-id="c0df4-110">The type restriction guarantees that extensions can only be defined for classes that are <xref:System.ServiceModel.IExtensibleObject%601>.</span></span> <span data-ttu-id="c0df4-111"><xref:System.ServiceModel.IExtension%601.Attach%2A> i <xref:System.ServiceModel.IExtension%601.Detach%2A> powiadomienie agregacji lub podziału.</span><span class="sxs-lookup"><span data-stu-id="c0df4-111"><xref:System.ServiceModel.IExtension%601.Attach%2A> and <xref:System.ServiceModel.IExtension%601.Detach%2A> provide notification of aggregation or disaggregation.</span></span>  
  
 <span data-ttu-id="c0df4-112">Jest on prawidłowy dla implementacji w celu ograniczenia podczas ich mogą być dodawane lub usuwane z właścicielem.</span><span class="sxs-lookup"><span data-stu-id="c0df4-112">It is valid for implementations to restrict when they may be added and removed from an owner.</span></span> <span data-ttu-id="c0df4-113">Na przykład można uniemożliwić usunięcie całkowicie, nie można przydzielać dodawania lub usuwania rozszerzenia, gdy właściciel lub rozszerzenia są w stanie nie zezwalaj na dodawanie wielu właścicielom jednocześnie lub zezwolić tylko pojedynczego dodawania następuje usunięcie jednego.</span><span class="sxs-lookup"><span data-stu-id="c0df4-113">For example, you can disallow removal entirely, disallowing adding or removing extensions when the owner or extension are in a certain state, disallow adding to multiple owners concurrently, or allow only a single addition followed by a single remove.</span></span>  
  
 <span data-ttu-id="c0df4-114"><xref:System.ServiceModel.IExtension%601> nie oznacza wszystkie interakcje z innych standardowych interfejsów zarządzanych.</span><span class="sxs-lookup"><span data-stu-id="c0df4-114"><xref:System.ServiceModel.IExtension%601> does not imply any interactions with other standard managed interfaces.</span></span> <span data-ttu-id="c0df4-115">W szczególności <xref:System.IDisposable.Dispose%2A?displayProperty=nameWithType> metody na obiekt właściciela zwykle nie odłączyć jego rozszerzenia.</span><span class="sxs-lookup"><span data-stu-id="c0df4-115">Specifically, the <xref:System.IDisposable.Dispose%2A?displayProperty=nameWithType> method on the owner object does not normally detach its extensions.</span></span>  
  
 <span data-ttu-id="c0df4-116">Gdy rozszerzenie zostanie dodany do kolekcji, <xref:System.ServiceModel.IExtension%601.Attach%2A> jest wywoływana przed przejdzie do kolekcji.</span><span class="sxs-lookup"><span data-stu-id="c0df4-116">When an extension is added to the collection, <xref:System.ServiceModel.IExtension%601.Attach%2A> is called before it goes into the collection.</span></span> <span data-ttu-id="c0df4-117">Gdy rozszerzenie zostanie usunięty z kolekcji, <xref:System.ServiceModel.IExtension%601.Detach%2A> jest wywoływana po jego usunięciu.</span><span class="sxs-lookup"><span data-stu-id="c0df4-117">When an extension is removed from the collection, <xref:System.ServiceModel.IExtension%601.Detach%2A> is called after it is removed.</span></span> <span data-ttu-id="c0df4-118">(Przy założeniu synchronizacji odpowiednich) oznacza, że rozszerzenie liczyć na dostępne tylko w kolekcji, gdy jest to między <xref:System.ServiceModel.IExtension%601.Attach%2A> i <xref:System.ServiceModel.IExtension%601.Detach%2A>.</span><span class="sxs-lookup"><span data-stu-id="c0df4-118">This means (assuming appropriate synchronization) an extension can count on only being found in the collection while it is between <xref:System.ServiceModel.IExtension%601.Attach%2A> and <xref:System.ServiceModel.IExtension%601.Detach%2A>.</span></span>  
  
 <span data-ttu-id="c0df4-119">Przekazany obiekt <xref:System.ServiceModel.IExtensionCollection%601.FindAll%2A> lub <xref:System.ServiceModel.IExtensionCollection%601.Find%2A> nie muszą być <xref:System.ServiceModel.IExtension%601> (na przykład, możesz przekazać dowolny obiekt), ale rozszerzenie zwracany jest <xref:System.ServiceModel.IExtension%601>.</span><span class="sxs-lookup"><span data-stu-id="c0df4-119">The object passed to <xref:System.ServiceModel.IExtensionCollection%601.FindAll%2A> or <xref:System.ServiceModel.IExtensionCollection%601.Find%2A> need not be <xref:System.ServiceModel.IExtension%601> (for example, you can pass any object), but the returned extension is an <xref:System.ServiceModel.IExtension%601>.</span></span>  
  
 <span data-ttu-id="c0df4-120">Jeśli jest bez rozszerzenia w kolekcji <xref:System.ServiceModel.IExtension%601>, <xref:System.ServiceModel.IExtensionCollection%601.Find%2A> zwraca wartość null, i <xref:System.ServiceModel.IExtensionCollection%601.FindAll%2A> zwraca pustą kolekcję.</span><span class="sxs-lookup"><span data-stu-id="c0df4-120">If no extension in the collection is an <xref:System.ServiceModel.IExtension%601>, <xref:System.ServiceModel.IExtensionCollection%601.Find%2A> returns null, and <xref:System.ServiceModel.IExtensionCollection%601.FindAll%2A> returns an empty collection.</span></span> <span data-ttu-id="c0df4-121">Jeśli zaimplementować wiele rozszerzeń <xref:System.ServiceModel.IExtension%601>, <xref:System.ServiceModel.IExtensionCollection%601.Find%2A> zwraca jeden z nich.</span><span class="sxs-lookup"><span data-stu-id="c0df4-121">If multiple extensions implement <xref:System.ServiceModel.IExtension%601>, <xref:System.ServiceModel.IExtensionCollection%601.Find%2A> returns one of them.</span></span> <span data-ttu-id="c0df4-122">Wartość zwracana z <xref:System.ServiceModel.IExtensionCollection%601.FindAll%2A> jest migawką.</span><span class="sxs-lookup"><span data-stu-id="c0df4-122">The value returned from <xref:System.ServiceModel.IExtensionCollection%601.FindAll%2A> is a snapshot.</span></span>
  
 <span data-ttu-id="c0df4-123">Istnieją dwa główne scenariusze.</span><span class="sxs-lookup"><span data-stu-id="c0df4-123">There are two main scenarios.</span></span> <span data-ttu-id="c0df4-124">Pierwszy scenariusz używa <xref:System.ServiceModel.IExtensibleObject%601.Extensions%2A> właściwości jako słownik na podstawie typu, aby wstawić stanu na obiekcie, aby umożliwić inny składnik w celu wyszukania go przy użyciu typu.</span><span class="sxs-lookup"><span data-stu-id="c0df4-124">The first scenario uses the <xref:System.ServiceModel.IExtensibleObject%601.Extensions%2A> property as a type-based dictionary to insert state on an object to enable another component to look it up using the type.</span></span>  
  
 <span data-ttu-id="c0df4-125">Drugi scenariusz używa <xref:System.ServiceModel.IExtension%601.Attach%2A> i <xref:System.ServiceModel.IExtension%601.Detach%2A> właściwości, aby włączyć obiekt do wzięcia udziału w zachowanie niestandardowe, takie jak rejestrowanie zdarzeń, oglądając stanami i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="c0df4-125">The second scenario uses the <xref:System.ServiceModel.IExtension%601.Attach%2A> and <xref:System.ServiceModel.IExtension%601.Detach%2A> properties to enable an object to participate in custom behavior, such as registering for events, watching state transitions, and so on.</span></span>  
  
 <span data-ttu-id="c0df4-126"><xref:System.ServiceModel.IExtensionCollection%601> Interfejsu jest kolekcją <xref:System.ServiceModel.IExtension%601> obiekty, które umożliwiają pobieranie <xref:System.ServiceModel.IExtension%601> według ich typu.</span><span class="sxs-lookup"><span data-stu-id="c0df4-126">The <xref:System.ServiceModel.IExtensionCollection%601> interface is a collection of the <xref:System.ServiceModel.IExtension%601> objects that allow for retrieving the <xref:System.ServiceModel.IExtension%601> by its type.</span></span> <span data-ttu-id="c0df4-127"><xref:System.ServiceModel.IExtensionCollection%601.Find%2A?displayProperty=nameWithType> Zwraca ostatnio dodany obiekt, który jest <xref:System.ServiceModel.IExtension%601> tego typu.</span><span class="sxs-lookup"><span data-stu-id="c0df4-127"><xref:System.ServiceModel.IExtensionCollection%601.Find%2A?displayProperty=nameWithType> returns the most recently added object that is an <xref:System.ServiceModel.IExtension%601> of that type.</span></span>  
  
### <a name="extensible-objects-in-windows-communication-foundation"></a><span data-ttu-id="c0df4-128">Obiekty rozszerzalne w Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="c0df4-128">Extensible Objects in Windows Communication Foundation</span></span>  
 <span data-ttu-id="c0df4-129">Istnieją cztery obiekty rozszerzalne w Windows Communication Foundation (WCF):</span><span class="sxs-lookup"><span data-stu-id="c0df4-129">There are four extensible objects in Windows Communication Foundation (WCF):</span></span>  
  
-   <span data-ttu-id="c0df4-130"><xref:System.ServiceModel.ServiceHostBase> — To jest klasa bazowa dla hosta usługi.</span><span class="sxs-lookup"><span data-stu-id="c0df4-130"><xref:System.ServiceModel.ServiceHostBase> – This is the base class for the service’s host.</span></span>  <span data-ttu-id="c0df4-131">Rozszerzenia tej klasy może służyć do rozszerzania działania <xref:System.ServiceModel.ServiceHostBase> sam lub do przechowywania stanu dla każdej usługi.</span><span class="sxs-lookup"><span data-stu-id="c0df4-131">Extensions of this class can be used to extend the behavior of the <xref:System.ServiceModel.ServiceHostBase> itself or to store the state for each service.</span></span>  
  
-   <span data-ttu-id="c0df4-132"><xref:System.ServiceModel.InstanceContext> — Ta klasa łączy wystąpienia typu usługi ze środowiskiem uruchomieniowym usługi.</span><span class="sxs-lookup"><span data-stu-id="c0df4-132"><xref:System.ServiceModel.InstanceContext> – This class connects an instance of the service’s type with the service runtime.</span></span>  <span data-ttu-id="c0df4-133">Zawiera informacje o wystąpieniu, a także odwołania do <xref:System.ServiceModel.InstanceContext>zawierające <xref:System.ServiceModel.ServiceHostBase>.</span><span class="sxs-lookup"><span data-stu-id="c0df4-133">It contains information about the instance as well as a reference to the <xref:System.ServiceModel.InstanceContext>'s containing <xref:System.ServiceModel.ServiceHostBase>.</span></span> <span data-ttu-id="c0df4-134">Rozszerzenia tej klasy może służyć do rozszerzania działania <xref:System.ServiceModel.InstanceContext> lub do przechowywania stanu dla każdej usługi.</span><span class="sxs-lookup"><span data-stu-id="c0df4-134">Extensions of this class can be used to extend the behavior of the <xref:System.ServiceModel.InstanceContext> or to store the state for each service.</span></span>  
  
-   <span data-ttu-id="c0df4-135"><xref:System.ServiceModel.OperationContext> — Ta klasa przedstawia informacje o operacji, środowisko uruchomieniowe zbierające dla każdej operacji.</span><span class="sxs-lookup"><span data-stu-id="c0df4-135"><xref:System.ServiceModel.OperationContext> – This class represents the operation information that the runtime gathers for each operation.</span></span>  <span data-ttu-id="c0df4-136">Obejmuje to informacje, takie jak nagłówki wiadomości przychodzących, właściwości wiadomości przychodzących, przychodzącej tożsamości zabezpieczeń i inne informacje.</span><span class="sxs-lookup"><span data-stu-id="c0df4-136">This includes information such as the incoming message headers, the incoming message properties, the incoming security identity, and other information.</span></span>  <span data-ttu-id="c0df4-137">Rozszerzenia tej klasy można wydłużyć zachowanie <xref:System.ServiceModel.OperationContext> ani do przechowywania stanu dla każdej operacji.</span><span class="sxs-lookup"><span data-stu-id="c0df4-137">Extensions of this class can either extend the behavior of <xref:System.ServiceModel.OperationContext> or store the state for each operation.</span></span>  
  
-   <span data-ttu-id="c0df4-138"><xref:System.ServiceModel.IContextChannel> — Ten interfejs umożliwia inspekcję każdy stan dla kanałów i serwery proxy utworzone przez środowisko wykonawcze programu WCF.</span><span class="sxs-lookup"><span data-stu-id="c0df4-138"><xref:System.ServiceModel.IContextChannel> – This interface allows for the inspection of each state for the channels and proxies built by the WCF runtime.</span></span>  <span data-ttu-id="c0df4-139">Rozszerzenia tej klasy można wydłużyć zachowanie <xref:System.ServiceModel.IClientChannel> lub można użyć do przechowywania stanu dla każdego kanału.</span><span class="sxs-lookup"><span data-stu-id="c0df4-139">Extensions of this class can either extend the behavior of <xref:System.ServiceModel.IClientChannel> or can use it to store the state for each channel.</span></span>  
  
-  
  
 <span data-ttu-id="c0df4-140">W poniższym przykładzie kodu pokazano sposób użycia proste rozszerzenie, aby śledzić <xref:System.ServiceModel.InstanceContext> obiektów.</span><span class="sxs-lookup"><span data-stu-id="c0df4-140">The following code example shows the use of a simple extension to track <xref:System.ServiceModel.InstanceContext> objects.</span></span>  
  
 [!code-csharp[IInstanceContextInitializer#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/iinstancecontextinitializer/cs/initializer.cs#1)]  
  
## <a name="see-also"></a><span data-ttu-id="c0df4-141">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="c0df4-141">See also</span></span>
- <xref:System.ServiceModel.IExtensibleObject%601>
- <xref:System.ServiceModel.IExtension%601>
- <xref:System.ServiceModel.IExtensionCollection%601>
