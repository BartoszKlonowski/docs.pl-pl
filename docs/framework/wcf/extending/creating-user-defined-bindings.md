---
title: Tworzenie wiązań zdefiniowanych przez użytkownika
ms.date: 03/30/2017
helpviewer_keywords:
- user-defined bindings [WCF]
ms.assetid: c4960675-d701-4bc9-b400-36a752fdd08b
ms.openlocfilehash: 34100569dc5cd5a340abca66fedca40ba21c1e0b
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/12/2020
ms.locfileid: "79185641"
---
# <a name="creating-user-defined-bindings"></a><span data-ttu-id="0b8ec-102">Tworzenie wiązań zdefiniowanych przez użytkownika</span><span class="sxs-lookup"><span data-stu-id="0b8ec-102">Creating User-Defined Bindings</span></span>
<span data-ttu-id="0b8ec-103">Istnieje kilka sposobów tworzenia powiązań nie dostarczonych przez system:</span><span class="sxs-lookup"><span data-stu-id="0b8ec-103">There are several ways to create bindings not provided by the system:</span></span>  
  
- <span data-ttu-id="0b8ec-104">Utwórz niestandardowe powiązanie, na podstawie <xref:System.ServiceModel.Channels.CustomBinding> klasy, która jest kontenerem, który wypełniasz elementami wiązania.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-104">Create a custom binding, based on the <xref:System.ServiceModel.Channels.CustomBinding> class, which is a container that you fill with binding elements.</span></span> <span data-ttu-id="0b8ec-105">Niestandardowe powiązanie jest następnie dodawane do punktu końcowego usługi.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-105">The custom binding is then added to a service endpoint.</span></span> <span data-ttu-id="0b8ec-106">Powiązanie niestandardowe można utworzyć programowo lub w pliku konfiguracji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-106">You can create the custom binding either programmatically or in an application configuration file.</span></span> <span data-ttu-id="0b8ec-107">Aby użyć elementu wiązania z pliku konfiguracji aplikacji, <xref:System.ServiceModel.Configuration.BindingElementExtensionElement>element wiązania musi zostać rozszerzony .</span><span class="sxs-lookup"><span data-stu-id="0b8ec-107">To use a binding element from an application configuration file, the binding element must extend <xref:System.ServiceModel.Configuration.BindingElementExtensionElement>.</span></span> <span data-ttu-id="0b8ec-108">Aby uzyskać więcej informacji na temat powiązań niestandardowych, zobacz [Powiązania niestandardowe](custom-bindings.md) i <xref:System.ServiceModel.Channels.CustomBinding>.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-108">For more information about custom bindings, see [Custom Bindings](custom-bindings.md) and <xref:System.ServiceModel.Channels.CustomBinding>.</span></span>  
  
- <span data-ttu-id="0b8ec-109">Można utworzyć klasę, która pochodzi od standardowego powiązania.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-109">You can create a class that derives from a standard binding.</span></span> <span data-ttu-id="0b8ec-110">Na przykład można wyprowadzić klasę <xref:System.ServiceModel.WSHttpBinding> z i <xref:System.ServiceModel.Channels.CustomBinding.CreateBindingElements%2A> zastąpić metodę, aby uzyskać elementy wiązania i wstawić niestandardowy element wiązania lub ustanowić określoną wartość zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-110">For example, you can derive a class from <xref:System.ServiceModel.WSHttpBinding> and override <xref:System.ServiceModel.Channels.CustomBinding.CreateBindingElements%2A> method to obtain the binding elements and insert a custom binding element or establish a particular value for security.</span></span>  
  
- <span data-ttu-id="0b8ec-111">Można utworzyć nowy <xref:System.ServiceModel.Channels.Binding> typ, aby całkowicie kontrolować całą implementację powiązania.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-111">You can create a new <xref:System.ServiceModel.Channels.Binding> type to completely control the entire binding implementation.</span></span>  
  
## <a name="the-order-of-binding-elements"></a><span data-ttu-id="0b8ec-112">Kolejność elementów wiążących</span><span class="sxs-lookup"><span data-stu-id="0b8ec-112">The Order of Binding Elements</span></span>  
 <span data-ttu-id="0b8ec-113">Każdy element wiązania reprezentuje etap przetwarzania podczas wysyłania lub odbierania wiadomości.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-113">Each binding element represents a processing step when sending or receiving messages.</span></span> <span data-ttu-id="0b8ec-114">W czasie wykonywania elementy wiązania utworzyć kanały i odbiorniki niezbędne do tworzenia stosów kanałów wychodzących i przychodzących.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-114">At runtime, binding elements create the channels and listeners necessary to build outgoing and incoming channel stacks.</span></span>  
  
 <span data-ttu-id="0b8ec-115">Istnieją trzy główne typy elementów wiązania: elementy wiązania protokołu, kodowanie elementów wiązania i elementy wiązania transportu.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-115">There are three main types of binding elements: Protocol Binding Elements, Encoding Binding Elements and Transport Binding Elements.</span></span>  
  
 <span data-ttu-id="0b8ec-116">Elementy wiązania protokołu — te elementy reprezentują kroki przetwarzania wyższego poziomu, które działają na komunikaty.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-116">Protocol Binding Elements – These elements represent higher-level processing steps that act on messages.</span></span> <span data-ttu-id="0b8ec-117">Kanały i detektory utworzone przez te elementy wiązania można dodawać, usuwać lub modyfikować zawartość wiadomości.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-117">Channels and listeners created by these binding elements can add, remove, or modify the message content.</span></span> <span data-ttu-id="0b8ec-118">Dane powiązanie może mieć dowolną liczbę elementów wiązania <xref:System.ServiceModel.Channels.BindingElement>protokołu, z których każdy dziedziczy.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-118">A given binding may have an arbitrary number of protocol binding elements, each inheriting from <xref:System.ServiceModel.Channels.BindingElement>.</span></span> <span data-ttu-id="0b8ec-119">Windows Communication Foundation (WCF) zawiera kilka <xref:System.ServiceModel.Channels.ReliableSessionBindingElement> elementów <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>wiązania protokołu, w tym i .</span><span class="sxs-lookup"><span data-stu-id="0b8ec-119">Windows Communication Foundation (WCF) includes several protocol binding elements, including the <xref:System.ServiceModel.Channels.ReliableSessionBindingElement> and the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span></span>  
  
 <span data-ttu-id="0b8ec-120">Kodowanie elementu wiązania — te elementy reprezentują przekształcenia między wiadomością a kodowaniem gotowym do transmisji w sieci.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-120">Encoding Binding Element – These elements represent transformations between a message and an encoding ready for transmission on the wire.</span></span> <span data-ttu-id="0b8ec-121">Typowe powiązania WCF zawierają dokładnie jeden element wiązania kodowania.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-121">Typical WCF bindings include exactly one encoding binding element.</span></span> <span data-ttu-id="0b8ec-122">Przykłady elementów wiązania kodowania obejmują <xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement>, , <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>i . <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement></span><span class="sxs-lookup"><span data-stu-id="0b8ec-122">Examples of encoding binding elements include the <xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement>, the <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>, and the <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>.</span></span> <span data-ttu-id="0b8ec-123">Jeśli element powiązania kodowania nie jest określony dla powiązania, używane jest kodowanie domyślne.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-123">If an encoding binding element is not specified for a binding, a default encoding is used.</span></span> <span data-ttu-id="0b8ec-124">Wartość domyślna to tekst, gdy transport jest HTTP i binarny w przeciwnym razie.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-124">The default is text when the transport is HTTP and binary otherwise.</span></span>  
  
 <span data-ttu-id="0b8ec-125">Element wiązania transportu — te elementy reprezentują transmisję komunikatu kodowania w protokole transportu.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-125">Transport Binding Element – These elements represent the transmission of an encoding message on a transport protocol.</span></span> <span data-ttu-id="0b8ec-126">Typowe powiązania WCF obejmują dokładnie jeden element wiązania <xref:System.ServiceModel.Channels.TransportBindingElement>transportu, który dziedziczy po .</span><span class="sxs-lookup"><span data-stu-id="0b8ec-126">Typical WCF bindings include exactly one transport binding element, which inherits from <xref:System.ServiceModel.Channels.TransportBindingElement>.</span></span> <span data-ttu-id="0b8ec-127">Przykłady elementów wiązania <xref:System.ServiceModel.Channels.TcpTransportBindingElement>transportu <xref:System.ServiceModel.Channels.HttpTransportBindingElement>obejmują , <xref:System.ServiceModel.Channels.NamedPipeTransportBindingElement>, i .</span><span class="sxs-lookup"><span data-stu-id="0b8ec-127">Examples of transport binding elements include the <xref:System.ServiceModel.Channels.TcpTransportBindingElement>, the <xref:System.ServiceModel.Channels.HttpTransportBindingElement>, and the <xref:System.ServiceModel.Channels.NamedPipeTransportBindingElement>.</span></span>  
  
 <span data-ttu-id="0b8ec-128">Podczas tworzenia nowych powiązań, kolejność dodanych elementów wiązania jest ważne.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-128">When creating new bindings, the order of the added binding elements is important.</span></span> <span data-ttu-id="0b8ec-129">Zawsze dodawaj elementy wiązania w następującej kolejności:</span><span class="sxs-lookup"><span data-stu-id="0b8ec-129">Always add binding elements in the following order:</span></span>  
  
|<span data-ttu-id="0b8ec-130">Warstwa</span><span class="sxs-lookup"><span data-stu-id="0b8ec-130">Layer</span></span>|<span data-ttu-id="0b8ec-131">Opcje</span><span class="sxs-lookup"><span data-stu-id="0b8ec-131">Options</span></span>|<span data-ttu-id="0b8ec-132">Wymagany</span><span class="sxs-lookup"><span data-stu-id="0b8ec-132">Required</span></span>|  
|-----------|-------------|--------------|  
|<span data-ttu-id="0b8ec-133">Przepływ transakcji</span><span class="sxs-lookup"><span data-stu-id="0b8ec-133">Transaction Flow</span></span>|<xref:System.ServiceModel.Channels.TransactionFlowBindingElement?displayProperty=nameWithType>|<span data-ttu-id="0b8ec-134">Nie</span><span class="sxs-lookup"><span data-stu-id="0b8ec-134">No</span></span>|  
|<span data-ttu-id="0b8ec-135">Niezawodność</span><span class="sxs-lookup"><span data-stu-id="0b8ec-135">Reliability</span></span>|<xref:System.ServiceModel.Channels.ReliableSessionBindingElement?displayProperty=nameWithType>|<span data-ttu-id="0b8ec-136">Nie</span><span class="sxs-lookup"><span data-stu-id="0b8ec-136">No</span></span>|  
|<span data-ttu-id="0b8ec-137">Zabezpieczenia</span><span class="sxs-lookup"><span data-stu-id="0b8ec-137">Security</span></span>|<xref:System.ServiceModel.Channels.SecurityBindingElement?displayProperty=nameWithType>|<span data-ttu-id="0b8ec-138">Nie</span><span class="sxs-lookup"><span data-stu-id="0b8ec-138">No</span></span>|  
|<span data-ttu-id="0b8ec-139">Dwupoziomowy kompozyt</span><span class="sxs-lookup"><span data-stu-id="0b8ec-139">Composite Duplex</span></span>|<xref:System.ServiceModel.Channels.CompositeDuplexBindingElement?displayProperty=nameWithType>|<span data-ttu-id="0b8ec-140">Nie</span><span class="sxs-lookup"><span data-stu-id="0b8ec-140">No</span></span>|  
|<span data-ttu-id="0b8ec-141">Kodowanie</span><span class="sxs-lookup"><span data-stu-id="0b8ec-141">Encoding</span></span>|<span data-ttu-id="0b8ec-142">Tekst, Binarny, MTOM, Niestandardowy</span><span class="sxs-lookup"><span data-stu-id="0b8ec-142">Text, Binary, MTOM, Custom</span></span>|<span data-ttu-id="0b8ec-143">Tak\*</span><span class="sxs-lookup"><span data-stu-id="0b8ec-143">Yes\*</span></span>|  
|<span data-ttu-id="0b8ec-144">Transport</span><span class="sxs-lookup"><span data-stu-id="0b8ec-144">Transport</span></span>|<span data-ttu-id="0b8ec-145">TCP, nazwane potoki, HTTP, HTTPS, MSMQ, Niestandardowe</span><span class="sxs-lookup"><span data-stu-id="0b8ec-145">TCP, Named Pipes, HTTP, HTTPS, MSMQ, Custom</span></span>|<span data-ttu-id="0b8ec-146">Tak</span><span class="sxs-lookup"><span data-stu-id="0b8ec-146">Yes</span></span>|  
  
<span data-ttu-id="0b8ec-147">\*Ponieważ kodowanie jest wymagane dla każdego powiązania, jeśli kodowanie nie jest określony, WCF dodaje domyślne kodowanie dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-147">\*Because an encoding is required for each binding, if an encoding is not specified, WCF adds a default encoding for you.</span></span> <span data-ttu-id="0b8ec-148">Wartość domyślna to Tekst/XML dla transportów HTTP i HTTPS oraz Binarne w przeciwnym razie.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-148">The default is Text/XML for the HTTP and HTTPS transports, and Binary otherwise.</span></span>  
  
## <a name="creating-a-new-binding-element"></a><span data-ttu-id="0b8ec-149">Tworzenie nowego elementu wiązania</span><span class="sxs-lookup"><span data-stu-id="0b8ec-149">Creating a new Binding Element</span></span>  
 <span data-ttu-id="0b8ec-150">Oprócz typów pochodzących z <xref:System.ServiceModel.Channels.BindingElement> tych są dostarczane przez WCF, można utworzyć własne elementy wiązania.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-150">In addition to the types derived from <xref:System.ServiceModel.Channels.BindingElement> that are provided by WCF, you can create your own binding elements.</span></span> <span data-ttu-id="0b8ec-151">Dzięki temu można dostosować sposób stosu powiązań jest tworzony i składników, które <xref:System.ServiceModel.Channels.BindingElement> go w nim przez utworzenie własnego, który może być skomponowany z innymi typami dostarczonymi przez system w stosie.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-151">This lets you customize the way the stack of bindings is created and the components that go in it by creating your own <xref:System.ServiceModel.Channels.BindingElement> that can be composed with the other system-provided types in the stack.</span></span>  
  
 <span data-ttu-id="0b8ec-152">Na przykład jeśli `LoggingBindingElement` zaimplementujesz, który zapewnia możliwość rejestrowania wiadomości do bazy danych, należy umieścić go nad kanałem transportu w stosie kanału.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-152">For example, if you implement a `LoggingBindingElement` that provides the ability to log the message to a database, you must place it above a transport channel in the channel stack.</span></span> <span data-ttu-id="0b8ec-153">W takim przypadku aplikacja tworzy niestandardowe `LoggingBindingElement` powiązanie, które składa się z `TcpTransportBindingElement`, jak w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-153">In this case, the application creates a custom binding that composed the `LoggingBindingElement` with `TcpTransportBindingElement`, as in the following example.</span></span>  
  
```csharp  
Binding customBinding = new CustomBinding(  
  new LoggingBindingElement(),
  new TcpTransportBindingElement()  
);  
```  
  
 <span data-ttu-id="0b8ec-154">Sposób pisania nowego elementu wiązania zależy od jego dokładnej funkcjonalności.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-154">How you write your new binding element depends on its exact functionality.</span></span> <span data-ttu-id="0b8ec-155">Jeden z przykładów, [Transport: UDP](../samples/transport-udp.md), zawiera szczegółowy opis sposobu implementacji jednego rodzaju elementu wiązania.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-155">One of the samples, [Transport: UDP](../samples/transport-udp.md), provides a detailed description of how to implement one kind of binding element.</span></span>  
  
## <a name="creating-a-new-binding"></a><span data-ttu-id="0b8ec-156">Tworzenie nowego powiązania</span><span class="sxs-lookup"><span data-stu-id="0b8ec-156">Creating a New Binding</span></span>  
 <span data-ttu-id="0b8ec-157">Utworzony przez użytkownika element wiązania może służyć na dwa sposoby.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-157">A user-created binding element can be used in two ways.</span></span> <span data-ttu-id="0b8ec-158">Poprzednia sekcja ilustruje pierwszy sposób: za pośrednictwem niestandardowego powiązania.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-158">The previous section illustrates the first way: through a custom binding.</span></span> <span data-ttu-id="0b8ec-159">Powiązanie niestandardowe umożliwia użytkownikowi tworzenie własnego powiązania na podstawie dowolnego zestawu elementów wiązania, w tym utworzonych przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-159">A custom binding allows the user to create their own binding based on an arbitrary set of binding elements, including user-created ones.</span></span>  
  
 <span data-ttu-id="0b8ec-160">Jeśli używasz powiązania w więcej niż jednej aplikacji, <xref:System.ServiceModel.Channels.Binding>utwórz własne powiązanie i rozszerz plik .</span><span class="sxs-lookup"><span data-stu-id="0b8ec-160">If you use the binding in more than one application, create your own binding and extend the <xref:System.ServiceModel.Channels.Binding>.</span></span> <span data-ttu-id="0b8ec-161">Pozwala to uniknąć ręcznego tworzenia niestandardowego powiązania za każdym razem, gdy chcesz go używać.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-161">This avoids manually creating a custom binding every time you want to use it.</span></span> <span data-ttu-id="0b8ec-162">Powiązanie zdefiniowane przez użytkownika umożliwia zdefiniowanie zachowania powiązania i dołączenie elementów wiązania zdefiniowanych przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-162">A user-defined binding allows you to define the binding’s behavior and include user-defined binding elements.</span></span> <span data-ttu-id="0b8ec-163">I jest *wstępnie zapakowany:* nie trzeba odbudować wiązania za każdym razem, gdy go używasz.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-163">And it is *pre-packaged*: you do not have to rebuild the binding every time you use it.</span></span>  
  
 <span data-ttu-id="0b8ec-164">Co najmniej powiązanie zdefiniowane przez <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> użytkownika musi <xref:System.ServiceModel.Channels.Binding.Scheme%2A> implementować metodę i właściwość.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-164">At a minimum, a user-defined binding must implement the <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method and the <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property.</span></span>  
  
 <span data-ttu-id="0b8ec-165">Metoda <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> zwraca nowy, <xref:System.ServiceModel.Channels.BindingElementCollection> który zawiera elementy wiązania dla powiązania.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-165">The <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method returns a new <xref:System.ServiceModel.Channels.BindingElementCollection> that contains the binding elements for the binding.</span></span> <span data-ttu-id="0b8ec-166">Kolekcja jest uporządkowana i powinna zawierać elementy wiązania protokołu, po którym następuje element wiązania kodowania, a następnie element wiązania transportu.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-166">The collection is ordered, and should contain the protocol binding elements first, followed by the encoding binding element, followed by the transport binding element.</span></span> <span data-ttu-id="0b8ec-167">Korzystając z elementów wiązania dostarczonych przez system WCF, należy przestrzegać reguł zamawiania elementu wiązania określonego w [niestandardowych powiązaniach.](custom-bindings.md)</span><span class="sxs-lookup"><span data-stu-id="0b8ec-167">When using the WCF system-provided binding elements, you must follow the binding element ordering rules specified in [Custom Bindings](custom-bindings.md).</span></span> <span data-ttu-id="0b8ec-168">Ta kolekcja nigdy nie powinna odwoływać się do obiektów, do których odwołuje się klasa wiązania zdefiniowana przez użytkownika; w związku z tym, `Clone()` wiążąci autorzy muszą zwrócić a <xref:System.ServiceModel.Channels.BindingElementCollection> każdego wezwania do <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A>.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-168">This collection should never reference objects referenced within the user-defined binding class; consequently, binding authors must return a `Clone()` of the <xref:System.ServiceModel.Channels.BindingElementCollection> on each call to <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A>.</span></span>  
  
 <span data-ttu-id="0b8ec-169">Właściwość <xref:System.ServiceModel.Channels.Binding.Scheme%2A> reprezentuje schemat URI dla protokołu transportu w użyciu na powiązanie.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-169">The <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property represents the URI scheme for the transport protocol in use on the binding.</span></span> <span data-ttu-id="0b8ec-170">Na przykład *WSHttpBinding* i *NetTcpBinding* zwracają "http" i "net.tcp" z ich odpowiednich <xref:System.ServiceModel.Channels.Binding.Scheme%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-170">For example, the *WSHttpBinding* and the *NetTcpBinding* return "http" and "net.tcp" from their respective <xref:System.ServiceModel.Channels.Binding.Scheme%2A> properties.</span></span>  
  
 <span data-ttu-id="0b8ec-171">Aby uzyskać pełną listę opcjonalnych metod i właściwości powiązań zdefiniowanych przez użytkownika, zobacz <xref:System.ServiceModel.Channels.Binding>.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-171">For a complete list of optional methods and properties for user-defined bindings, see <xref:System.ServiceModel.Channels.Binding>.</span></span>  
  
### <a name="example"></a><span data-ttu-id="0b8ec-172">Przykład</span><span class="sxs-lookup"><span data-stu-id="0b8ec-172">Example</span></span>  
 <span data-ttu-id="0b8ec-173">W tym przykładzie `SampleProfileUdpBinding`implementuje powiązanie <xref:System.ServiceModel.Channels.Binding>profilu w , który pochodzi od .</span><span class="sxs-lookup"><span data-stu-id="0b8ec-173">This example implements profile binding in `SampleProfileUdpBinding`, which derives from <xref:System.ServiceModel.Channels.Binding>.</span></span> <span data-ttu-id="0b8ec-174">Zawiera `SampleProfileUdpBinding` do czterech elementów wiązania w nim: jeden utworzony przez `UdpTransportBindingElement`użytkownika; i trzy dostarczane `TextMessageEncodingBindingElement`przez `CompositeDuplexBindingElement`system: , i `ReliableSessionBindingElement`.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-174">The `SampleProfileUdpBinding` contains up to four binding elements within it: one user-created `UdpTransportBindingElement`; and three system-provided: `TextMessageEncodingBindingElement`, `CompositeDuplexBindingElement`, and `ReliableSessionBindingElement`.</span></span>  
  
```csharp
public override BindingElementCollection CreateBindingElements()  
{
    BindingElementCollection bindingElements = new BindingElementCollection();  
    if (ReliableSessionEnabled)  
    {  
        bindingElements.Add(session);  
        bindingElements.Add(compositeDuplex);  
    }  
    bindingElements.Add(encoding);  
    bindingElements.Add(transport);  
    return bindingElements.Clone();  
}  
```  
  
## <a name="security-restrictions-with-duplex-contracts"></a><span data-ttu-id="0b8ec-175">Ograniczenia zabezpieczeń z kontraktami dupleksowymi</span><span class="sxs-lookup"><span data-stu-id="0b8ec-175">Security Restrictions with Duplex Contracts</span></span>  
 <span data-ttu-id="0b8ec-176">Nie wszystkie elementy wiązania są ze sobą kompatybilne.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-176">Not all binding elements are compatible with each other.</span></span> <span data-ttu-id="0b8ec-177">W szczególności istnieją pewne ograniczenia dotyczące elementów wiązania zabezpieczeń, gdy są używane z kontraktami dupleksowymi.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-177">In particular, there are some restrictions on security binding elements when used with duplex contracts.</span></span>  
  
### <a name="one-shot-security"></a><span data-ttu-id="0b8ec-178">Bezpieczeństwo jednym strzałem</span><span class="sxs-lookup"><span data-stu-id="0b8ec-178">One-Shot Security</span></span>  
 <span data-ttu-id="0b8ec-179">Można zaimplementować zabezpieczenia "one-shot", gdzie wszystkie niezbędne poświadczenia zabezpieczeń są `negotiateServiceCredential` wysyłane w \<jednej wiadomości, ustawiając atrybut komunikatu> element konfiguracji na `false`.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-179">You can implement "one-shot" security, where all the necessary security credentials are sent in a single message, by setting the `negotiateServiceCredential` attribute of the \<message> configuration element to `false`.</span></span>  
  
 <span data-ttu-id="0b8ec-180">Uwierzytelnianie jednym strzałem nie działa z kontraktami dupleksowymi.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-180">One-shot authentication does not work with duplex contracts.</span></span>  
  
 <span data-ttu-id="0b8ec-181">W przypadku kontraktów request-reply uwierzytelnianie jednokrotne działa tylko wtedy, <xref:System.ServiceModel.Channels.IRequestChannel> <xref:System.ServiceModel.Channels.IRequestSessionChannel> gdy stos wiązania poniżej elementu wiązania zabezpieczeń obsługuje tworzenie lub wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-181">For Request-Reply contracts, one-shot authentication works only if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="0b8ec-182">W przypadku kontraktów jednokierunkowych uwierzytelnianie jednokrotne działa, jeśli <xref:System.ServiceModel.Channels.IRequestChannel>stos <xref:System.ServiceModel.Channels.IRequestSessionChannel> <xref:System.ServiceModel.Channels.IOutputChannel> wiązania <xref:System.ServiceModel.Channels.IOutputSessionChannel> poniżej elementu wiązania zabezpieczeń obsługuje tworzenie lub wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-182">For one-way contracts, one-shot authentication works if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel>, <xref:System.ServiceModel.Channels.IRequestSessionChannel>, <xref:System.ServiceModel.Channels.IOutputChannel> or <xref:System.ServiceModel.Channels.IOutputSessionChannel> instances.</span></span>  
  
### <a name="cookie-mode-security-context-tokens"></a><span data-ttu-id="0b8ec-183">Tokeny kontekstu zabezpieczeń w trybie cookie</span><span class="sxs-lookup"><span data-stu-id="0b8ec-183">Cookie-mode Security Context Tokens</span></span>  
 <span data-ttu-id="0b8ec-184">Tokeny kontekstu zabezpieczeń trybu plików cookie nie mogą być używane z kontraktami dupleksowymi.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-184">Cookie mode security context tokens cannot be used with duplex contracts.</span></span>  
  
 <span data-ttu-id="0b8ec-185">W przypadku kontraktów request-reply tokeny kontekstu w trybie cookie działają tylko <xref:System.ServiceModel.Channels.IRequestChannel> <xref:System.ServiceModel.Channels.IRequestSessionChannel> wtedy, gdy stos powiązania poniżej elementu wiązania zabezpieczeń obsługuje tworzenie lub wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-185">For Request-Reply contracts, cookie-mode security context tokens work only if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="0b8ec-186">W przypadku kontraktów jednokierunkowych tokeny kontekstu zabezpieczeń w trybie cookie <xref:System.ServiceModel.Channels.IRequestChannel> działają, jeśli stos powiązań poniżej elementu wiązania zabezpieczeń obsługuje tworzenie lub <xref:System.ServiceModel.Channels.IRequestSessionChannel> wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-186">For one-way contracts, cookie-mode security context tokens works if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
### <a name="session-mode-security-context-tokens"></a><span data-ttu-id="0b8ec-187">Tokeny kontekstu zabezpieczeń w trybie sesji</span><span class="sxs-lookup"><span data-stu-id="0b8ec-187">Session-mode Security Context Tokens</span></span>  
 <span data-ttu-id="0b8ec-188">Tryb sesji SCT działa dla kontraktów dupleksu, jeśli <xref:System.ServiceModel.Channels.IDuplexChannel> <xref:System.ServiceModel.Channels.IDuplexSessionChannel> stos wiązania poniżej elementu wiązania zabezpieczeń obsługuje tworzenie lub wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-188">Session mode SCT works for duplex contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel> or <xref:System.ServiceModel.Channels.IDuplexSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="0b8ec-189">Tryb sesji SCT działa dla kontraktów request-reply, jeśli stos <xref:System.ServiceModel.Channels.IDuplexChannel> <xref:System.ServiceModel.Channels.IDuplexSessionChannel>wiązania <xref:System.ServiceModel.Channels.IRequestChannel> <xref:System.ServiceModel.Channels.IRequestSessionChannel>poniżej elementu wiązania zabezpieczeń obsługuje tworzenie , lub , wystąpień.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-189">Session mode SCT works for Request-Reply contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel>, instances.</span></span>  
  
 <span data-ttu-id="0b8ec-190">Tryb sesji SCT działa dla kontraktów jednokierunkowych, jeśli stos <xref:System.ServiceModel.Channels.IDuplexChannel>wiązania <xref:System.ServiceModel.Channels.IDuplexSessionChannel> <xref:System.ServiceModel.Channels.IRequestChannel> poniżej elementu wiązania zabezpieczeń obsługuje tworzenie , lub <xref:System.ServiceModel.Channels.IRequestSessionChannel> wystąpień.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-190">Session mode SCT works for 1-way contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
## <a name="deriving-from-a-standard-binding"></a><span data-ttu-id="0b8ec-191">Wyprowadzenie ze standardowego powiązania</span><span class="sxs-lookup"><span data-stu-id="0b8ec-191">Deriving from a Standard Binding</span></span>  
 <span data-ttu-id="0b8ec-192">Zamiast tworzenia całkowicie nowej klasy wiązania, może być możliwe rozszerzenie jednego z istniejących powiązań dostarczonych przez system.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-192">Instead of creating an entirely new binding class, it may be possible for you to extend one of the existing system-provided bindings.</span></span> <span data-ttu-id="0b8ec-193">Podobnie jak w poprzednim przypadku, należy <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> zastąpić metodę <xref:System.ServiceModel.Channels.Binding.Scheme%2A> i właściwość.</span><span class="sxs-lookup"><span data-stu-id="0b8ec-193">Much like the preceding case, you must override the <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method and the <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0b8ec-194">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="0b8ec-194">See also</span></span>

- <xref:System.ServiceModel.Channels.Binding>
- [<span data-ttu-id="0b8ec-195">Powiązania niestandardowe</span><span class="sxs-lookup"><span data-stu-id="0b8ec-195">Custom Bindings</span></span>](custom-bindings.md)
