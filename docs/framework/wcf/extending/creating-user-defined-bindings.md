---
title: "Tworzenie powiązań zdefiniowanych przez użytkownika"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- user-defined bindings [WCF]
ms.assetid: c4960675-d701-4bc9-b400-36a752fdd08b
caps.latest.revision: 
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: fe9be6ed74569875fd26f9a4913756e0366d757a
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/22/2017
---
# <a name="creating-user-defined-bindings"></a><span data-ttu-id="ce659-102">Tworzenie powiązań zdefiniowanych przez użytkownika</span><span class="sxs-lookup"><span data-stu-id="ce659-102">Creating User-Defined Bindings</span></span>
<span data-ttu-id="ce659-103">Istnieje kilka sposobów, aby utworzyć powiązania nie są dostarczane przez system:</span><span class="sxs-lookup"><span data-stu-id="ce659-103">There are several ways to create bindings not provided by the system:</span></span>  
  
-   <span data-ttu-id="ce659-104">Tworzenie niestandardowego powiązania, na podstawie <xref:System.ServiceModel.Channels.CustomBinding> klasy, która jest kontenerem, który należy wypełnić elementy powiązania.</span><span class="sxs-lookup"><span data-stu-id="ce659-104">Create a custom binding, based on the <xref:System.ServiceModel.Channels.CustomBinding> class, which is a container that you fill with binding elements.</span></span> <span data-ttu-id="ce659-105">Wiązanie niestandardowe jest dodawane do punktu końcowego usługi.</span><span class="sxs-lookup"><span data-stu-id="ce659-105">The custom binding is then added to a service endpoint.</span></span> <span data-ttu-id="ce659-106">Można utworzyć niestandardowego powiązania, które albo programowo lub w konfiguracji aplikacji pliku.</span><span class="sxs-lookup"><span data-stu-id="ce659-106">You can create the custom binding either programmatically or in an application configuration file.</span></span> <span data-ttu-id="ce659-107">Aby użyć elementu powiązania z pliku konfiguracji aplikacji, musi rozszerzać element powiązania <xref:System.ServiceModel.Configuration.BindingElementExtensionElement>.</span><span class="sxs-lookup"><span data-stu-id="ce659-107">To use a binding element from an application configuration file, the binding element must extend <xref:System.ServiceModel.Configuration.BindingElementExtensionElement>.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="ce659-108">powiązania niestandardowe, zobacz [niestandardowego powiązania](../../../../docs/framework/wcf/extending/custom-bindings.md) i <xref:System.ServiceModel.Channels.CustomBinding>.</span><span class="sxs-lookup"><span data-stu-id="ce659-108"> custom bindings, see [Custom Bindings](../../../../docs/framework/wcf/extending/custom-bindings.md) and <xref:System.ServiceModel.Channels.CustomBinding>.</span></span>  
  
-   <span data-ttu-id="ce659-109">Można utworzyć klasy, która pochodzi z Powiązanie standardowe.</span><span class="sxs-lookup"><span data-stu-id="ce659-109">You can create a class that derives from a standard binding.</span></span> <span data-ttu-id="ce659-110">Na przykład mogą dziedziczyć klasy z <xref:System.ServiceModel.WSHttpBinding> i zastąpić <xref:System.ServiceModel.Channels.CustomBinding.CreateBindingElements%2A> metodę, aby uzyskać elementy wiązania i Wstaw element niestandardowego powiązania lub ustanawiania konkretną wartość zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="ce659-110">For example, you can derive a class from <xref:System.ServiceModel.WSHttpBinding> and override <xref:System.ServiceModel.Channels.CustomBinding.CreateBindingElements%2A> method to obtain the binding elements and insert a custom binding element or establish a particular value for security.</span></span>  
  
-   <span data-ttu-id="ce659-111">Można utworzyć nowy <xref:System.ServiceModel.Channels.Binding> typu całkowicie kontrolować implementacji całego powiązania.</span><span class="sxs-lookup"><span data-stu-id="ce659-111">You can create a new <xref:System.ServiceModel.Channels.Binding> type to completely control the entire binding implementation.</span></span>  
  
## <a name="the-order-of-binding-elements"></a><span data-ttu-id="ce659-112">Kolejność elementów wiązania</span><span class="sxs-lookup"><span data-stu-id="ce659-112">The Order of Binding Elements</span></span>  
 <span data-ttu-id="ce659-113">Każdy element powiązania reprezentuje krok przetwarzania przy wysyłaniu lub odbieraniu wiadomości.</span><span class="sxs-lookup"><span data-stu-id="ce659-113">Each binding element represents a processing step when sending or receiving messages.</span></span> <span data-ttu-id="ce659-114">W czasie wykonywania elementy powiązania tworzenia kanałów i odbiorników niezbędne do utworzenia stosy kanału przychodzących i wychodzących.</span><span class="sxs-lookup"><span data-stu-id="ce659-114">At runtime, binding elements create the channels and listeners necessary to build outgoing and incoming channel stacks.</span></span>  
  
 <span data-ttu-id="ce659-115">Istnieją trzy typy elementy powiązania: elementy powiązania protokołu, kodowania elementów wiązania i elementy powiązania transportu.</span><span class="sxs-lookup"><span data-stu-id="ce659-115">There are three main types of binding elements: Protocol Binding Elements, Encoding Binding Elements and Transport Binding Elements.</span></span>  
  
 <span data-ttu-id="ce659-116">Elementy powiązania protokołu — te elementy reprezentują wyższego poziomu przetwarzania czynności, które działają w wiadomości.</span><span class="sxs-lookup"><span data-stu-id="ce659-116">Protocol Binding Elements – These elements represent higher-level processing steps that act on messages.</span></span> <span data-ttu-id="ce659-117">Kanałów i odbiorników utworzone przez te elementy powiązania można dodać, usunąć lub zmodyfikować zawartość komunikatu.</span><span class="sxs-lookup"><span data-stu-id="ce659-117">Channels and listeners created by these binding elements can add, remove, or modify the message content.</span></span> <span data-ttu-id="ce659-118">Podane powiązanie może mieć dowolną liczbę elementy powiązania protokołu, każdy dziedziczenie z <xref:System.ServiceModel.Channels.BindingElement>.</span><span class="sxs-lookup"><span data-stu-id="ce659-118">A given binding may have an arbitrary number of protocol binding elements, each inheriting from <xref:System.ServiceModel.Channels.BindingElement>.</span></span> [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]<span data-ttu-id="ce659-119">zawiera kilka elementów powiązania protokołu, w tym <xref:System.ServiceModel.Channels.ReliableSessionBindingElement> i <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="ce659-119"> includes several protocol binding elements, including the <xref:System.ServiceModel.Channels.ReliableSessionBindingElement> and the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span></span>  
  
 <span data-ttu-id="ce659-120">Kodowanie elementu powiązania — te stanowią elementy przekształceń między komunikat i kodowania gotowe do transmisji w sieci.</span><span class="sxs-lookup"><span data-stu-id="ce659-120">Encoding Binding Element – These elements represent transformations between a message and an encoding ready for transmission on the wire.</span></span> <span data-ttu-id="ce659-121">Typowy [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] powiązania zawierać dokładnie jeden element powiązania kodowania.</span><span class="sxs-lookup"><span data-stu-id="ce659-121">Typical [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] bindings include exactly one encoding binding element.</span></span> <span data-ttu-id="ce659-122">Kodowanie elementy powiązania przykłady <xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement>, <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>i <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="ce659-122">Examples of encoding binding elements include the <xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement>, the <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>, and the <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>.</span></span> <span data-ttu-id="ce659-123">Jeśli nie określono kodowanie elementu powiązania dla powiązania, domyślnym kodowaniem jest używany.</span><span class="sxs-lookup"><span data-stu-id="ce659-123">If an encoding binding element is not specified for a binding, a default encoding is used.</span></span> <span data-ttu-id="ce659-124">Wartość domyślna to tekst w przypadku transportu HTTP i dane binarne w przeciwnym razie wartość.</span><span class="sxs-lookup"><span data-stu-id="ce659-124">The default is text when the transport is HTTP and binary otherwise.</span></span>  
  
 <span data-ttu-id="ce659-125">Element powiązania transportu — te elementy reprezentują transmisji kodowania komunikatu protokołu transportu.</span><span class="sxs-lookup"><span data-stu-id="ce659-125">Transport Binding Element – These elements represent the transmission of an encoding message on a transport protocol.</span></span> <span data-ttu-id="ce659-126">Typowy [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] powiązania zawierać dokładnie jeden element powiązania transportu, który dziedziczy <xref:System.ServiceModel.Channels.TransportBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="ce659-126">Typical [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] bindings include exactly one transport binding element, which inherits from <xref:System.ServiceModel.Channels.TransportBindingElement>.</span></span> <span data-ttu-id="ce659-127">Przykłady transportu elementów wiązania <xref:System.ServiceModel.Channels.TcpTransportBindingElement>, <xref:System.ServiceModel.Channels.HttpTransportBindingElement>i <xref:System.ServiceModel.Channels.NamedPipeTransportBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="ce659-127">Examples of transport binding elements include the <xref:System.ServiceModel.Channels.TcpTransportBindingElement>, the <xref:System.ServiceModel.Channels.HttpTransportBindingElement>, and the <xref:System.ServiceModel.Channels.NamedPipeTransportBindingElement>.</span></span>  
  
 <span data-ttu-id="ce659-128">Podczas tworzenia nowego powiązania ważna jest kolejność elementów powiązania dodany.</span><span class="sxs-lookup"><span data-stu-id="ce659-128">When creating new bindings, the order of the added binding elements is important.</span></span> <span data-ttu-id="ce659-129">Zawsze dodawaj elementy powiązania w następującej kolejności:</span><span class="sxs-lookup"><span data-stu-id="ce659-129">Always add binding elements in the following order:</span></span>  
  
|<span data-ttu-id="ce659-130">Warstwy</span><span class="sxs-lookup"><span data-stu-id="ce659-130">Layer</span></span>|<span data-ttu-id="ce659-131">Opcje</span><span class="sxs-lookup"><span data-stu-id="ce659-131">Options</span></span>|<span data-ttu-id="ce659-132">Wymagane</span><span class="sxs-lookup"><span data-stu-id="ce659-132">Required</span></span>|  
|-----------|-------------|--------------|  
|<span data-ttu-id="ce659-133">Przepływ transakcji</span><span class="sxs-lookup"><span data-stu-id="ce659-133">Transaction Flow</span></span>|<xref:System.ServiceModel.Channels.TransactionFlowBindingElement?displayProperty=nameWithType>|<span data-ttu-id="ce659-134">Nie</span><span class="sxs-lookup"><span data-stu-id="ce659-134">No</span></span>|  
|<span data-ttu-id="ce659-135">Niezawodność</span><span class="sxs-lookup"><span data-stu-id="ce659-135">Reliability</span></span>|<xref:System.ServiceModel.Channels.ReliableSessionBindingElement?displayProperty=nameWithType>|<span data-ttu-id="ce659-136">Nie</span><span class="sxs-lookup"><span data-stu-id="ce659-136">No</span></span>|  
|<span data-ttu-id="ce659-137">Zabezpieczenia</span><span class="sxs-lookup"><span data-stu-id="ce659-137">Security</span></span>|<xref:System.ServiceModel.Channels.SecurityBindingElement?displayProperty=nameWithType>|<span data-ttu-id="ce659-138">Nie</span><span class="sxs-lookup"><span data-stu-id="ce659-138">No</span></span>|  
|<span data-ttu-id="ce659-139">Złożone dupleks</span><span class="sxs-lookup"><span data-stu-id="ce659-139">Composite Duplex</span></span>|<xref:System.ServiceModel.Channels.CompositeDuplexBindingElement?displayProperty=nameWithType>|<span data-ttu-id="ce659-140">Nie</span><span class="sxs-lookup"><span data-stu-id="ce659-140">No</span></span>|  
|<span data-ttu-id="ce659-141">Kodowanie</span><span class="sxs-lookup"><span data-stu-id="ce659-141">Encoding</span></span>|<span data-ttu-id="ce659-142">Tekst, Binary, MTOM, niestandardowe</span><span class="sxs-lookup"><span data-stu-id="ce659-142">Text, Binary, MTOM, Custom</span></span>|<span data-ttu-id="ce659-143">Tak\*</span><span class="sxs-lookup"><span data-stu-id="ce659-143">Yes\*</span></span>|  
|<span data-ttu-id="ce659-144">Transportu</span><span class="sxs-lookup"><span data-stu-id="ce659-144">Transport</span></span>|<span data-ttu-id="ce659-145">TCP i nazwane potoki, HTTP, HTTPS, usługa MSMQ, niestandardowe</span><span class="sxs-lookup"><span data-stu-id="ce659-145">TCP, Named Pipes, HTTP, HTTPS, MSMQ, Custom</span></span>|<span data-ttu-id="ce659-146">Tak</span><span class="sxs-lookup"><span data-stu-id="ce659-146">Yes</span></span>|  
  
 <span data-ttu-id="ce659-147">\* Ponieważ jest wymagane kodowanie dla każdego powiązania, jeśli nie określono kodowania, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] dodaje domyślne kodowanie dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="ce659-147">\*Because an encoding is required for each binding, if an encoding is not specified, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] adds a default encoding for you.</span></span> <span data-ttu-id="ce659-148">Wartość domyślna to Text/XML dla transportu HTTP i HTTPS, a danych binarnych w przeciwnym razie wartość.</span><span class="sxs-lookup"><span data-stu-id="ce659-148">The default is Text/XML for the HTTP and HTTPS transports, and Binary otherwise.</span></span>  
  
## <a name="creating-a-new-binding-element"></a><span data-ttu-id="ce659-149">Tworzenie nowego elementu powiązania</span><span class="sxs-lookup"><span data-stu-id="ce659-149">Creating a new Binding Element</span></span>  
 <span data-ttu-id="ce659-150">Oprócz typów pochodnych <xref:System.ServiceModel.Channels.BindingElement> są dostarczane przez [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], możesz utworzyć własne elementy powiązania.</span><span class="sxs-lookup"><span data-stu-id="ce659-150">In addition to the types derived from <xref:System.ServiceModel.Channels.BindingElement> that are provided by [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], you can create your own binding elements.</span></span> <span data-ttu-id="ce659-151">Dzięki temu można dostosować sposób stosu powiązania jest tworzony i składników, które Przejdź w niej, tworząc własne <xref:System.ServiceModel.Channels.BindingElement> mogą się składać z innych typów dostarczane przez system na stosie.</span><span class="sxs-lookup"><span data-stu-id="ce659-151">This lets you customize the way the stack of bindings is created and the components that go in it by creating your own <xref:System.ServiceModel.Channels.BindingElement> that can be composed with the other system-provided types in the stack.</span></span>  
  
 <span data-ttu-id="ce659-152">Na przykład w przypadku zastosowania `LoggingBindingElement` zapewnia możliwość rejestrowania komunikatu do bazy danych, należy go umieścić powyżej kanał transportu w stosie kanału.</span><span class="sxs-lookup"><span data-stu-id="ce659-152">For example, if you implement a `LoggingBindingElement` that provides the ability to log the message to a database, you must place it above a transport channel in the channel stack.</span></span> <span data-ttu-id="ce659-153">W takim przypadku aplikacja tworzy niestandardowego powiązania, które składa się `LoggingBindingElement` z `TcpTransportBindingElement`, jak w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="ce659-153">In this case, the application creates a custom binding that composed the `LoggingBindingElement` with `TcpTransportBindingElement`, as in the following example.</span></span>  
  
```csharp  
Binding customBinding = new CustomBinding(  
  new LoggingBindingElement(),   
  new TcpTransportBindingElement()  
);  
```  
  
 <span data-ttu-id="ce659-154">Jak zapisać nazwę nowego elementu powiązania zależy od jego działanie dokładnie.</span><span class="sxs-lookup"><span data-stu-id="ce659-154">How you write your new binding element depends on its exact functionality.</span></span> <span data-ttu-id="ce659-155">Jedną z próbek, [transportu: UDP](../../../../docs/framework/wcf/samples/transport-udp.md), zawiera szczegółowy opis sposobu wdrażania jednego rodzaju elementu powiązania.</span><span class="sxs-lookup"><span data-stu-id="ce659-155">One of the samples, [Transport: UDP](../../../../docs/framework/wcf/samples/transport-udp.md), provides a detailed description of how to implement one kind of binding element.</span></span>  
  
## <a name="creating-a-new-binding"></a><span data-ttu-id="ce659-156">Tworzenie nowego powiązania</span><span class="sxs-lookup"><span data-stu-id="ce659-156">Creating a New Binding</span></span>  
 <span data-ttu-id="ce659-157">Element powiązania utworzonych przez użytkownika może służyć na dwa sposoby.</span><span class="sxs-lookup"><span data-stu-id="ce659-157">A user-created binding element can be used in two ways.</span></span> <span data-ttu-id="ce659-158">Poprzedniej sekcji przedstawiono sposób pierwszy: za pomocą niestandardowego powiązania.</span><span class="sxs-lookup"><span data-stu-id="ce659-158">The previous section illustrates the first way: through a custom binding.</span></span> <span data-ttu-id="ce659-159">Niestandardowe powiązanie umożliwia użytkownikom tworzenie własnych powiązania na podstawie dowolnego zestawu powiązania elementów, w tym te utworzone przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="ce659-159">A custom binding allows the user to create their own binding based on an arbitrary set of binding elements, including user-created ones.</span></span>  
  
 <span data-ttu-id="ce659-160">Użycie powiązania w więcej niż jedną aplikację, Utwórz własne powiązania i rozszerzanie <xref:System.ServiceModel.Channels.Binding>.</span><span class="sxs-lookup"><span data-stu-id="ce659-160">If you use the binding in more than one application, create your own binding and extend the <xref:System.ServiceModel.Channels.Binding>.</span></span> <span data-ttu-id="ce659-161">Dzięki temu można uniknąć ręcznego tworzenia niestandardowego powiązania za każdym razem, gdy chcesz jej używać.</span><span class="sxs-lookup"><span data-stu-id="ce659-161">This avoids manually creating a custom binding every time you want to use it.</span></span> <span data-ttu-id="ce659-162">Powiązania zdefiniowane przez użytkownika umożliwia definiowanie zachowania wiązania i obejmują elementy wiązania zdefiniowane przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="ce659-162">A user-defined binding allows you to define the binding’s behavior and include user-defined binding elements.</span></span> <span data-ttu-id="ce659-163">I jest *wstępnie opakowane*: nie masz odbudować powiązania w każdym razem podczas wykonywania.</span><span class="sxs-lookup"><span data-stu-id="ce659-163">And it is *pre-packaged*: you do not have to rebuild the binding every time you use it.</span></span>  
  
 <span data-ttu-id="ce659-164">Co najmniej powiązania zdefiniowane przez użytkownika musi implementować <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> — metoda i <xref:System.ServiceModel.Channels.Binding.Scheme%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="ce659-164">At a minimum, a user-defined binding must implement the <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method and the <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property.</span></span>  
  
 <span data-ttu-id="ce659-165"><xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> Metoda zwraca nową <xref:System.ServiceModel.Channels.BindingElementCollection> zawierającą elementy wiązania dla wiązania.</span><span class="sxs-lookup"><span data-stu-id="ce659-165">The <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method returns a new <xref:System.ServiceModel.Channels.BindingElementCollection> that contains the binding elements for the binding.</span></span> <span data-ttu-id="ce659-166">Kolekcja jest określona i powinna zawierać elementy powiązania protokołu najpierw, a następnie element powiązania kodowania, a następnie element powiązania transportu.</span><span class="sxs-lookup"><span data-stu-id="ce659-166">The collection is ordered, and should contain the protocol binding elements first, followed by the encoding binding element, followed by the transport binding element.</span></span> <span data-ttu-id="ce659-167">Korzystając z [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] elementy wiązania dostarczane przez system, należy wykonać element powiązania reguły określone w kolejności [powiązań niestandardowych](../../../../docs/framework/wcf/extending/custom-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="ce659-167">When using the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] system-provided binding elements, you must follow the binding element ordering rules specified in [Custom Bindings](../../../../docs/framework/wcf/extending/custom-bindings.md).</span></span> <span data-ttu-id="ce659-168">Ta kolekcja nigdy nie powinien odwoływać się w klasie powiązania zdefiniowane przez użytkownika; odwoływać się do obiektów w związku z tym, autorzy powiązania musi zwracać `Clone()` z <xref:System.ServiceModel.Channels.BindingElementCollection> na każde wywołanie <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A>.</span><span class="sxs-lookup"><span data-stu-id="ce659-168">This collection should never reference objects referenced within the user-defined binding class; consequently, binding authors must return a `Clone()` of the <xref:System.ServiceModel.Channels.BindingElementCollection> on each call to <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A>.</span></span>  
  
 <span data-ttu-id="ce659-169"><xref:System.ServiceModel.Channels.Binding.Scheme%2A> Właściwość reprezentuje schemat identyfikatora URI używany dla powiązania protokołu transportu.</span><span class="sxs-lookup"><span data-stu-id="ce659-169">The <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property represents the URI scheme for the transport protocol in use on the binding.</span></span> <span data-ttu-id="ce659-170">Na przykład *WSHttpBinding* i *NetTcpBinding* zwrócić "http" i "net.tcp" z odpowiednich <xref:System.ServiceModel.Channels.Binding.Scheme%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="ce659-170">For example, the *WSHttpBinding* and the *NetTcpBinding* return "http" and "net.tcp" from their respective <xref:System.ServiceModel.Channels.Binding.Scheme%2A> properties.</span></span>  
  
 <span data-ttu-id="ce659-171">Aby uzyskać pełną listę możliwych metod i właściwości dla powiązań zdefiniowanych przez użytkownika, zobacz <xref:System.ServiceModel.Channels.Binding>.</span><span class="sxs-lookup"><span data-stu-id="ce659-171">For a complete list of optional methods and properties for user-defined bindings, see <xref:System.ServiceModel.Channels.Binding>.</span></span>  
  
### <a name="example"></a><span data-ttu-id="ce659-172">Przykład</span><span class="sxs-lookup"><span data-stu-id="ce659-172">Example</span></span>  
 <span data-ttu-id="ce659-173">W tym przykładzie implementuje powiązanie profilu w `SampleProfileUdpBinding`, która jest pochodną <xref:System.ServiceModel.Channels.Binding>.</span><span class="sxs-lookup"><span data-stu-id="ce659-173">This example implements profile binding in `SampleProfileUdpBinding`, which derives from <xref:System.ServiceModel.Channels.Binding>.</span></span> <span data-ttu-id="ce659-174">`SampleProfileUdpBinding` Zawiera maksymalnie cztery elementy powiązania w nim: jeden użytkownik utworzył `UdpTransportBindingElement`; i trzy dostarczane przez system: `TextMessageEncodingBindingElement`, `CompositeDuplexBindingElement`, i `ReliableSessionBindingElement`.</span><span class="sxs-lookup"><span data-stu-id="ce659-174">The `SampleProfileUdpBinding` contains up to four binding elements within it: one user-created `UdpTransportBindingElement`; and three system-provided: `TextMessageEncodingBindingElement`, `CompositeDuplexBindingElement`, and `ReliableSessionBindingElement`.</span></span>  
  
```  
public override BindingElementCollection CreateBindingElements()  
{     
    BindingElementCollection bindingElements = new BindingElementCollection();  
    if (ReliableSessionEnabled)  
    {  
        bindingElements.Add(session);  
        bindingElements.Add(compositeDuplex);  
    }  
    bindingElements.Add(encoding);  
    bindingElements.Add(transport);  
    return bindingElements.Clone();  
}  
```  
  
## <a name="security-restrictions-with-duplex-contracts"></a><span data-ttu-id="ce659-175">Ograniczenia zabezpieczeń z kontrakty dwukierunkowe</span><span class="sxs-lookup"><span data-stu-id="ce659-175">Security Restrictions with Duplex Contracts</span></span>  
 <span data-ttu-id="ce659-176">Nie wszystkie elementy powiązania są niezgodne ze sobą.</span><span class="sxs-lookup"><span data-stu-id="ce659-176">Not all binding elements are compatible with each other.</span></span> <span data-ttu-id="ce659-177">W szczególności istnieją pewne ograniczenia dotyczące zabezpieczeń elementy wiązania, gdy jest używany z kontraktów dupleksowych.</span><span class="sxs-lookup"><span data-stu-id="ce659-177">In particular, there are some restrictions on security binding elements when used with duplex contracts.</span></span>  
  
### <a name="one-shot-security"></a><span data-ttu-id="ce659-178">Jednorazowej zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="ce659-178">One-Shot Security</span></span>  
 <span data-ttu-id="ce659-179">Można zaimplementować zabezpieczeń "jednorazowej", gdzie wszystkie niezbędne poświadczenia zabezpieczeń, jakim są wysyłane w pojedynczym komunikacie, ustawiając `negotiateServiceCredential` atrybutu \<wiadomości > element konfiguracji do `false`.</span><span class="sxs-lookup"><span data-stu-id="ce659-179">You can implement "one-shot" security, where all the necessary security credentials are sent in a single message, by setting the `negotiateServiceCredential` attribute of the \<message> configuration element to `false`.</span></span>  
  
 <span data-ttu-id="ce659-180">Uwierzytelnianie jednorazowej nie działa z kontraktów dupleksowych.</span><span class="sxs-lookup"><span data-stu-id="ce659-180">One-shot authentication does not work with duplex contracts.</span></span>  
  
 <span data-ttu-id="ce659-181">Dla kontraktów "żądanie-odpowiedź" jednorazowej uwierzytelnianie działa tylko wtedy, gdy stos powiązanie poniżej elementu powiązania zabezpieczeń obsługuje tworzenie <xref:System.ServiceModel.Channels.IRequestChannel> lub <xref:System.ServiceModel.Channels.IRequestSessionChannel> wystąpień.</span><span class="sxs-lookup"><span data-stu-id="ce659-181">For Request-Reply contracts, one-shot authentication works only if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="ce659-182">Dla kontraktów jednokierunkowych jednorazowej uwierzytelniania działa, gdy stos powiązanie poniżej elementu powiązania zabezpieczeń obsługuje tworzenie <xref:System.ServiceModel.Channels.IRequestChannel>, <xref:System.ServiceModel.Channels.IRequestSessionChannel>, <xref:System.ServiceModel.Channels.IOutputChannel> lub <xref:System.ServiceModel.Channels.IOutputSessionChannel> wystąpień.</span><span class="sxs-lookup"><span data-stu-id="ce659-182">For one-way contracts, one-shot authentication works if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel>, <xref:System.ServiceModel.Channels.IRequestSessionChannel>, <xref:System.ServiceModel.Channels.IOutputChannel> or <xref:System.ServiceModel.Channels.IOutputSessionChannel> instances.</span></span>  
  
### <a name="cookie-mode-security-context-tokens"></a><span data-ttu-id="ce659-183">Tokenów kontekstów zabezpieczeń tryb plików cookie</span><span class="sxs-lookup"><span data-stu-id="ce659-183">Cookie-mode Security Context Tokens</span></span>  
 <span data-ttu-id="ce659-184">Nie można używać tokenów kontekstów zabezpieczeń plików cookie w trybie z kontraktów dupleksowych.</span><span class="sxs-lookup"><span data-stu-id="ce659-184">Cookie mode security context tokens cannot be used with duplex contracts.</span></span>  
  
 <span data-ttu-id="ce659-185">Dla kontraktów "żądanie-odpowiedź" Tryb plików cookie kontekstu zabezpieczeń tokeny pracy tylko wtedy, gdy stos powiązanie poniżej elementu powiązania zabezpieczeń obsługuje tworzenie <xref:System.ServiceModel.Channels.IRequestChannel> lub <xref:System.ServiceModel.Channels.IRequestSessionChannel> wystąpień.</span><span class="sxs-lookup"><span data-stu-id="ce659-185">For Request-Reply contracts, cookie-mode security context tokens work only if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="ce659-186">Dla kontraktów jednokierunkowych kontekstu zabezpieczeń tryb plików cookie tokeny działa, jeśli stosu powiązanie poniżej elementu powiązania zabezpieczeń obsługuje tworzenie <xref:System.ServiceModel.Channels.IRequestChannel> lub <xref:System.ServiceModel.Channels.IRequestSessionChannel> wystąpień.</span><span class="sxs-lookup"><span data-stu-id="ce659-186">For one-way contracts, cookie-mode security context tokens works if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
### <a name="session-mode-security-context-tokens"></a><span data-ttu-id="ce659-187">Tokenów kontekstów zabezpieczeń trybu sesji</span><span class="sxs-lookup"><span data-stu-id="ce659-187">Session-mode Security Context Tokens</span></span>  
 <span data-ttu-id="ce659-188">Tryb sesji SCT działa w przypadku kontrakty dwukierunkowe Jeśli stosu powiązanie poniżej elementu powiązania zabezpieczeń obsługuje tworzenie <xref:System.ServiceModel.Channels.IDuplexChannel> lub <xref:System.ServiceModel.Channels.IDuplexSessionChannel> wystąpień.</span><span class="sxs-lookup"><span data-stu-id="ce659-188">Session mode SCT works for duplex contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel> or <xref:System.ServiceModel.Channels.IDuplexSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="ce659-189">Tryb sesji SCT działa dla kontraktów "żądanie-odpowiedź", jeśli stosu powiązanie poniżej elementu powiązania zabezpieczeń obsługuje tworzenie <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> lub <xref:System.ServiceModel.Channels.IRequestSessionChannel>, wystąpień.</span><span class="sxs-lookup"><span data-stu-id="ce659-189">Session mode SCT works for Request-Reply contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel>, instances.</span></span>  
  
 <span data-ttu-id="ce659-190">Tryb sesji SCT działa w przypadku umów sposób 1 Jeśli stosu powiązanie poniżej elementu powiązania zabezpieczeń obsługuje tworzenie <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> lub <xref:System.ServiceModel.Channels.IRequestSessionChannel> wystąpień.</span><span class="sxs-lookup"><span data-stu-id="ce659-190">Session mode SCT works for 1-way contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
## <a name="deriving-from-a-standard-binding"></a><span data-ttu-id="ce659-191">Wyprowadzanie z Powiązanie standardowe</span><span class="sxs-lookup"><span data-stu-id="ce659-191">Deriving from a Standard Binding</span></span>  
 <span data-ttu-id="ce659-192">Zamiast tworzenia nowej klasy powiązanie, może być możliwe zwiększenie jedno z istniejących powiązań dostarczane przez system.</span><span class="sxs-lookup"><span data-stu-id="ce659-192">Instead of creating an entirely new binding class, it may be possible for you to extend one of the existing system-provided bindings.</span></span> <span data-ttu-id="ce659-193">Podobnie jak w przypadku poprzedniego konieczne jest przesłonięcie <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> — metoda i <xref:System.ServiceModel.Channels.Binding.Scheme%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="ce659-193">Much like the preceding case, you must override the <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method and the <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ce659-194">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="ce659-194">See Also</span></span>  
 <xref:System.ServiceModel.Channels.Binding>  
 [<span data-ttu-id="ce659-195">Powiązania niestandardowe</span><span class="sxs-lookup"><span data-stu-id="ce659-195">Custom Bindings</span></span>](../../../../docs/framework/wcf/extending/custom-bindings.md)
