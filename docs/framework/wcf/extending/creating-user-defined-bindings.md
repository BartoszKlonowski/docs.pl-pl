---
title: Tworzenie powiązań zdefiniowanych przez użytkownika
ms.date: 03/30/2017
helpviewer_keywords:
- user-defined bindings [WCF]
ms.assetid: c4960675-d701-4bc9-b400-36a752fdd08b
ms.openlocfilehash: 6b3a5bbc93fa6465f70295cc6a3d7528039fb787
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/23/2019
ms.locfileid: "54548798"
---
# <a name="creating-user-defined-bindings"></a><span data-ttu-id="82daf-102">Tworzenie powiązań zdefiniowanych przez użytkownika</span><span class="sxs-lookup"><span data-stu-id="82daf-102">Creating User-Defined Bindings</span></span>
<span data-ttu-id="82daf-103">Istnieje kilka sposobów tworzenia powiązania nie został dostarczony przez system:</span><span class="sxs-lookup"><span data-stu-id="82daf-103">There are several ways to create bindings not provided by the system:</span></span>  
  
-   <span data-ttu-id="82daf-104">Tworzenie niestandardowego powiązania, na podstawie <xref:System.ServiceModel.Channels.CustomBinding> klasy, która jest kontenerem, który można wypełnić elementy powiązania.</span><span class="sxs-lookup"><span data-stu-id="82daf-104">Create a custom binding, based on the <xref:System.ServiceModel.Channels.CustomBinding> class, which is a container that you fill with binding elements.</span></span> <span data-ttu-id="82daf-105">Niestandardowe powiązanie jest dodawane do punktu końcowego usługi.</span><span class="sxs-lookup"><span data-stu-id="82daf-105">The custom binding is then added to a service endpoint.</span></span> <span data-ttu-id="82daf-106">Można utworzyć niestandardowego powiązania, które albo programowo, albo w konfiguracji aplikacji pliku.</span><span class="sxs-lookup"><span data-stu-id="82daf-106">You can create the custom binding either programmatically or in an application configuration file.</span></span> <span data-ttu-id="82daf-107">Aby użyć elementu powiązania z pliku konfiguracji aplikacji, element powiązania musi rozszerzać <xref:System.ServiceModel.Configuration.BindingElementExtensionElement>.</span><span class="sxs-lookup"><span data-stu-id="82daf-107">To use a binding element from an application configuration file, the binding element must extend <xref:System.ServiceModel.Configuration.BindingElementExtensionElement>.</span></span> <span data-ttu-id="82daf-108">Aby uzyskać więcej informacji na temat powiązania niestandardowej zobacz [powiązań niestandardowych](../../../../docs/framework/wcf/extending/custom-bindings.md) i <xref:System.ServiceModel.Channels.CustomBinding>.</span><span class="sxs-lookup"><span data-stu-id="82daf-108">For more information about custom bindings, see [Custom Bindings](../../../../docs/framework/wcf/extending/custom-bindings.md) and <xref:System.ServiceModel.Channels.CustomBinding>.</span></span>  
  
-   <span data-ttu-id="82daf-109">Można utworzyć klasę, która pochodzi od standardowego powiązania.</span><span class="sxs-lookup"><span data-stu-id="82daf-109">You can create a class that derives from a standard binding.</span></span> <span data-ttu-id="82daf-110">Na przykład można wyprowadzić klasę z <xref:System.ServiceModel.WSHttpBinding> i zastąpić <xref:System.ServiceModel.Channels.CustomBinding.CreateBindingElements%2A> metodę, aby uzyskać elementy powiązania i Wstaw element niestandardowego powiązania lub określenia konkretnej wartości dotyczące zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="82daf-110">For example, you can derive a class from <xref:System.ServiceModel.WSHttpBinding> and override <xref:System.ServiceModel.Channels.CustomBinding.CreateBindingElements%2A> method to obtain the binding elements and insert a custom binding element or establish a particular value for security.</span></span>  
  
-   <span data-ttu-id="82daf-111">Można utworzyć nową <xref:System.ServiceModel.Channels.Binding> typu na całkowitą kontrolę wykonania całego powiązania.</span><span class="sxs-lookup"><span data-stu-id="82daf-111">You can create a new <xref:System.ServiceModel.Channels.Binding> type to completely control the entire binding implementation.</span></span>  
  
## <a name="the-order-of-binding-elements"></a><span data-ttu-id="82daf-112">Kolejność elementów wiązania</span><span class="sxs-lookup"><span data-stu-id="82daf-112">The Order of Binding Elements</span></span>  
 <span data-ttu-id="82daf-113">Każdy element powiązania reprezentuje krok przetwarzania podczas wysyłania lub odbierania komunikatów.</span><span class="sxs-lookup"><span data-stu-id="82daf-113">Each binding element represents a processing step when sending or receiving messages.</span></span> <span data-ttu-id="82daf-114">W czasie wykonywania elementy powiązania Tworzenie kanałów i odbiorników niezbędne do utworzenia stosów kanałów przychodzących i wychodzących.</span><span class="sxs-lookup"><span data-stu-id="82daf-114">At runtime, binding elements create the channels and listeners necessary to build outgoing and incoming channel stacks.</span></span>  
  
 <span data-ttu-id="82daf-115">Istnieją trzy główne typy elementy powiązania: Protokół powiązania elementów, kodowania elementów powiązania i elementy powiązania transportu.</span><span class="sxs-lookup"><span data-stu-id="82daf-115">There are three main types of binding elements: Protocol Binding Elements, Encoding Binding Elements and Transport Binding Elements.</span></span>  
  
 <span data-ttu-id="82daf-116">Elementy powiązania protokołu — te elementy reprezentują kroki przetwarzania wyższego poziomu, które działają w wiadomości.</span><span class="sxs-lookup"><span data-stu-id="82daf-116">Protocol Binding Elements – These elements represent higher-level processing steps that act on messages.</span></span> <span data-ttu-id="82daf-117">Kanałów i odbiorników utworzone przez te elementy powiązania można dodać, usunąć lub zmodyfikować zawartości komunikatu.</span><span class="sxs-lookup"><span data-stu-id="82daf-117">Channels and listeners created by these binding elements can add, remove, or modify the message content.</span></span> <span data-ttu-id="82daf-118">Podane powiązanie może mieć dowolną liczbę elementów powiązania protokołu, każdy dziedziczenie z <xref:System.ServiceModel.Channels.BindingElement>.</span><span class="sxs-lookup"><span data-stu-id="82daf-118">A given binding may have an arbitrary number of protocol binding elements, each inheriting from <xref:System.ServiceModel.Channels.BindingElement>.</span></span> <span data-ttu-id="82daf-119">Windows Communication Foundation (WCF) obejmuje kilka elementów powiązania protokołu, w tym <xref:System.ServiceModel.Channels.ReliableSessionBindingElement> i <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="82daf-119">Windows Communication Foundation (WCF) includes several protocol binding elements, including the <xref:System.ServiceModel.Channels.ReliableSessionBindingElement> and the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span></span>  
  
 <span data-ttu-id="82daf-120">Kodowanie elementu powiązania — reprezentują one elementy przekształcenia między wiadomość i kodowania gotowe do transmisji w sieci.</span><span class="sxs-lookup"><span data-stu-id="82daf-120">Encoding Binding Element – These elements represent transformations between a message and an encoding ready for transmission on the wire.</span></span> <span data-ttu-id="82daf-121">Typowe powiązania WCF zawierać dokładnie jeden element powiązania kodowania.</span><span class="sxs-lookup"><span data-stu-id="82daf-121">Typical WCF bindings include exactly one encoding binding element.</span></span> <span data-ttu-id="82daf-122">Kodowanie elementów wiązania przykłady <xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement>, <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>i <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="82daf-122">Examples of encoding binding elements include the <xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement>, the <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>, and the <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>.</span></span> <span data-ttu-id="82daf-123">Jeśli kodowanie elementu powiązania nie zostanie określony dla powiązania, domyślnym kodowaniem jest używany.</span><span class="sxs-lookup"><span data-stu-id="82daf-123">If an encoding binding element is not specified for a binding, a default encoding is used.</span></span> <span data-ttu-id="82daf-124">W przypadku transportu HTTP i danych binarnych w przeciwnym razie, wartość domyślna to text.</span><span class="sxs-lookup"><span data-stu-id="82daf-124">The default is text when the transport is HTTP and binary otherwise.</span></span>  
  
 <span data-ttu-id="82daf-125">Element powiązania transportu — te elementy reprezentują transmisji kodowania komunikatu protokołu transportu.</span><span class="sxs-lookup"><span data-stu-id="82daf-125">Transport Binding Element – These elements represent the transmission of an encoding message on a transport protocol.</span></span> <span data-ttu-id="82daf-126">Typowe powiązania WCF zawierać dokładnie jeden element powiązania transportu, która dziedziczy z <xref:System.ServiceModel.Channels.TransportBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="82daf-126">Typical WCF bindings include exactly one transport binding element, which inherits from <xref:System.ServiceModel.Channels.TransportBindingElement>.</span></span> <span data-ttu-id="82daf-127">Przykłady elementów wiązania transportu <xref:System.ServiceModel.Channels.TcpTransportBindingElement>, <xref:System.ServiceModel.Channels.HttpTransportBindingElement>i <xref:System.ServiceModel.Channels.NamedPipeTransportBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="82daf-127">Examples of transport binding elements include the <xref:System.ServiceModel.Channels.TcpTransportBindingElement>, the <xref:System.ServiceModel.Channels.HttpTransportBindingElement>, and the <xref:System.ServiceModel.Channels.NamedPipeTransportBindingElement>.</span></span>  
  
 <span data-ttu-id="82daf-128">Podczas tworzenia nowego powiązania ważna jest kolejność elementów dodanych wiązania.</span><span class="sxs-lookup"><span data-stu-id="82daf-128">When creating new bindings, the order of the added binding elements is important.</span></span> <span data-ttu-id="82daf-129">Zawsze dodawaj elementy powiązania w następującej kolejności:</span><span class="sxs-lookup"><span data-stu-id="82daf-129">Always add binding elements in the following order:</span></span>  
  
|<span data-ttu-id="82daf-130">Warstwa</span><span class="sxs-lookup"><span data-stu-id="82daf-130">Layer</span></span>|<span data-ttu-id="82daf-131">Opcje</span><span class="sxs-lookup"><span data-stu-id="82daf-131">Options</span></span>|<span data-ttu-id="82daf-132">Wymagane</span><span class="sxs-lookup"><span data-stu-id="82daf-132">Required</span></span>|  
|-----------|-------------|--------------|  
|<span data-ttu-id="82daf-133">Przepływ transakcji</span><span class="sxs-lookup"><span data-stu-id="82daf-133">Transaction Flow</span></span>|<xref:System.ServiceModel.Channels.TransactionFlowBindingElement?displayProperty=nameWithType>|<span data-ttu-id="82daf-134">Nie</span><span class="sxs-lookup"><span data-stu-id="82daf-134">No</span></span>|  
|<span data-ttu-id="82daf-135">Niezawodność</span><span class="sxs-lookup"><span data-stu-id="82daf-135">Reliability</span></span>|<xref:System.ServiceModel.Channels.ReliableSessionBindingElement?displayProperty=nameWithType>|<span data-ttu-id="82daf-136">Nie</span><span class="sxs-lookup"><span data-stu-id="82daf-136">No</span></span>|  
|<span data-ttu-id="82daf-137">Zabezpieczenia</span><span class="sxs-lookup"><span data-stu-id="82daf-137">Security</span></span>|<xref:System.ServiceModel.Channels.SecurityBindingElement?displayProperty=nameWithType>|<span data-ttu-id="82daf-138">Nie</span><span class="sxs-lookup"><span data-stu-id="82daf-138">No</span></span>|  
|<span data-ttu-id="82daf-139">Złożone komunikacja dwukierunkowa</span><span class="sxs-lookup"><span data-stu-id="82daf-139">Composite Duplex</span></span>|<xref:System.ServiceModel.Channels.CompositeDuplexBindingElement?displayProperty=nameWithType>|<span data-ttu-id="82daf-140">Nie</span><span class="sxs-lookup"><span data-stu-id="82daf-140">No</span></span>|  
|<span data-ttu-id="82daf-141">Kodowanie</span><span class="sxs-lookup"><span data-stu-id="82daf-141">Encoding</span></span>|<span data-ttu-id="82daf-142">Tekst, Binary MTOM, niestandardowe</span><span class="sxs-lookup"><span data-stu-id="82daf-142">Text, Binary, MTOM, Custom</span></span>|<span data-ttu-id="82daf-143">Tak\*</span><span class="sxs-lookup"><span data-stu-id="82daf-143">Yes\*</span></span>|  
|<span data-ttu-id="82daf-144">Transport</span><span class="sxs-lookup"><span data-stu-id="82daf-144">Transport</span></span>|<span data-ttu-id="82daf-145">TCP i nazwane potoki, HTTP, HTTPS, usługa MSMQ, niestandardowe</span><span class="sxs-lookup"><span data-stu-id="82daf-145">TCP, Named Pipes, HTTP, HTTPS, MSMQ, Custom</span></span>|<span data-ttu-id="82daf-146">Tak</span><span class="sxs-lookup"><span data-stu-id="82daf-146">Yes</span></span>|  
  
 <span data-ttu-id="82daf-147">\* Ponieważ jest wymagane kodowanie dla każdego powiązania, jeśli nie określono kodowania, WCF dodaje domyślne kodowanie dla Ciebie.</span><span class="sxs-lookup"><span data-stu-id="82daf-147">\*Because an encoding is required for each binding, if an encoding is not specified, WCF adds a default encoding for you.</span></span> <span data-ttu-id="82daf-148">Wartość domyślna to Text/XML binarnej i dla transportu HTTP i HTTPS, w przeciwnym razie.</span><span class="sxs-lookup"><span data-stu-id="82daf-148">The default is Text/XML for the HTTP and HTTPS transports, and Binary otherwise.</span></span>  
  
## <a name="creating-a-new-binding-element"></a><span data-ttu-id="82daf-149">Tworzenie nowego elementu powiązania</span><span class="sxs-lookup"><span data-stu-id="82daf-149">Creating a new Binding Element</span></span>  
 <span data-ttu-id="82daf-150">Oprócz typów pochodnych typu <xref:System.ServiceModel.Channels.BindingElement> , które są wprowadzone przez architekturę WCF, możesz utworzyć własne elementy powiązania.</span><span class="sxs-lookup"><span data-stu-id="82daf-150">In addition to the types derived from <xref:System.ServiceModel.Channels.BindingElement> that are provided by WCF, you can create your own binding elements.</span></span> <span data-ttu-id="82daf-151">Dzięki temu można dostosować sposób stosu powiązania jest tworzony i składniki, które bardziej szczegółowo w nim, tworząc własne <xref:System.ServiceModel.Channels.BindingElement> może być składana przy użyciu innych typów dostarczanych przez system w stosie.</span><span class="sxs-lookup"><span data-stu-id="82daf-151">This lets you customize the way the stack of bindings is created and the components that go in it by creating your own <xref:System.ServiceModel.Channels.BindingElement> that can be composed with the other system-provided types in the stack.</span></span>  
  
 <span data-ttu-id="82daf-152">Na przykład w przypadku zaimplementowania `LoggingBindingElement` zapewniającej możliwość rejestrowania komunikatu do bazy danych, należy go umieścić powyżej kanał transportu w stosie kanału.</span><span class="sxs-lookup"><span data-stu-id="82daf-152">For example, if you implement a `LoggingBindingElement` that provides the ability to log the message to a database, you must place it above a transport channel in the channel stack.</span></span> <span data-ttu-id="82daf-153">W takim przypadku aplikacja tworzy niestandardowego powiązania, które składa się `LoggingBindingElement` z `TcpTransportBindingElement`, jak w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="82daf-153">In this case, the application creates a custom binding that composed the `LoggingBindingElement` with `TcpTransportBindingElement`, as in the following example.</span></span>  
  
```csharp  
Binding customBinding = new CustomBinding(  
  new LoggingBindingElement(),   
  new TcpTransportBindingElement()  
);  
```  
  
 <span data-ttu-id="82daf-154">Jak zapisać nowy element powiązania, zależy od jego dokładne działanie.</span><span class="sxs-lookup"><span data-stu-id="82daf-154">How you write your new binding element depends on its exact functionality.</span></span> <span data-ttu-id="82daf-155">Jednym z przykładów, [transportu: UDP](../../../../docs/framework/wcf/samples/transport-udp.md), zawiera szczegółowy opis sposobu implementacji jeden rodzaj elementu powiązania.</span><span class="sxs-lookup"><span data-stu-id="82daf-155">One of the samples, [Transport: UDP](../../../../docs/framework/wcf/samples/transport-udp.md), provides a detailed description of how to implement one kind of binding element.</span></span>  
  
## <a name="creating-a-new-binding"></a><span data-ttu-id="82daf-156">Tworzenie nowego powiązania</span><span class="sxs-lookup"><span data-stu-id="82daf-156">Creating a New Binding</span></span>  
 <span data-ttu-id="82daf-157">Element powiązania utworzone przez użytkownika może służyć na dwa sposoby.</span><span class="sxs-lookup"><span data-stu-id="82daf-157">A user-created binding element can be used in two ways.</span></span> <span data-ttu-id="82daf-158">Poprzedniej sekcji przedstawiono sposób pierwszy: za pomocą niestandardowego powiązania.</span><span class="sxs-lookup"><span data-stu-id="82daf-158">The previous section illustrates the first way: through a custom binding.</span></span> <span data-ttu-id="82daf-159">Powiązanie niestandardowe umożliwia użytkownikowi tworzenie własnych powiązania na podstawie dowolnego zestawu powiązania elementów, w tym te utworzone przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="82daf-159">A custom binding allows the user to create their own binding based on an arbitrary set of binding elements, including user-created ones.</span></span>  
  
 <span data-ttu-id="82daf-160">Jeśli używasz powiązania w więcej niż jedną aplikację, utworzyć własne powiązania i rozszerzanie <xref:System.ServiceModel.Channels.Binding>.</span><span class="sxs-lookup"><span data-stu-id="82daf-160">If you use the binding in more than one application, create your own binding and extend the <xref:System.ServiceModel.Channels.Binding>.</span></span> <span data-ttu-id="82daf-161">Pozwala to uniknąć ręcznego tworzenia niestandardowego powiązania za każdym razem, gdy chcesz z niego korzystać.</span><span class="sxs-lookup"><span data-stu-id="82daf-161">This avoids manually creating a custom binding every time you want to use it.</span></span> <span data-ttu-id="82daf-162">Powiązania zdefiniowane przez użytkownika umożliwia definiowanie zachowania wiązania i obejmują elementy powiązań zdefiniowanych przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="82daf-162">A user-defined binding allows you to define the binding’s behavior and include user-defined binding elements.</span></span> <span data-ttu-id="82daf-163">I jest *wstępnie spakowane*: nie trzeba odbudować powiązania, za każdym razem, gdy ich używania.</span><span class="sxs-lookup"><span data-stu-id="82daf-163">And it is *pre-packaged*: you do not have to rebuild the binding every time you use it.</span></span>  
  
 <span data-ttu-id="82daf-164">Co najmniej powiązania zdefiniowane przez użytkownika muszą implementować <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> metody i <xref:System.ServiceModel.Channels.Binding.Scheme%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="82daf-164">At a minimum, a user-defined binding must implement the <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method and the <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property.</span></span>  
  
 <span data-ttu-id="82daf-165"><xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> Metoda zwraca nowy <xref:System.ServiceModel.Channels.BindingElementCollection> zawierającą elementy wiązania dla wiązania.</span><span class="sxs-lookup"><span data-stu-id="82daf-165">The <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method returns a new <xref:System.ServiceModel.Channels.BindingElementCollection> that contains the binding elements for the binding.</span></span> <span data-ttu-id="82daf-166">Kolekcja jest określona i może zawierać elementy powiązania protokołu najpierw, następuje kodowania element powiązania, a następnie element powiązania transportu.</span><span class="sxs-lookup"><span data-stu-id="82daf-166">The collection is ordered, and should contain the protocol binding elements first, followed by the encoding binding element, followed by the transport binding element.</span></span> <span data-ttu-id="82daf-167">Podczas korzystania z elementów wiązania WCF dostarczane przez system, należy wykonać element powiązania, kolejność reguł określonych w [niestandardowego powiązania](../../../../docs/framework/wcf/extending/custom-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="82daf-167">When using the WCF system-provided binding elements, you must follow the binding element ordering rules specified in [Custom Bindings](../../../../docs/framework/wcf/extending/custom-bindings.md).</span></span> <span data-ttu-id="82daf-168">Ta kolekcja nigdy nie powinien odwoływać się do obiektów w klasie powiązań zdefiniowanych przez użytkownika; odwoływać się do w związku z tym, autorzy powiązania musi zwracać `Clone()` z <xref:System.ServiceModel.Channels.BindingElementCollection> przy każdym wywołaniu <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A>.</span><span class="sxs-lookup"><span data-stu-id="82daf-168">This collection should never reference objects referenced within the user-defined binding class; consequently, binding authors must return a `Clone()` of the <xref:System.ServiceModel.Channels.BindingElementCollection> on each call to <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A>.</span></span>  
  
 <span data-ttu-id="82daf-169"><xref:System.ServiceModel.Channels.Binding.Scheme%2A> Właściwość reprezentuje schemat identyfikatora URI protokołu transportowego używany w wiązaniu.</span><span class="sxs-lookup"><span data-stu-id="82daf-169">The <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property represents the URI scheme for the transport protocol in use on the binding.</span></span> <span data-ttu-id="82daf-170">Na przykład *WSHttpBinding* i *NetTcpBinding* zwracać "http" i "net.tcp" z odpowiednich <xref:System.ServiceModel.Channels.Binding.Scheme%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="82daf-170">For example, the *WSHttpBinding* and the *NetTcpBinding* return "http" and "net.tcp" from their respective <xref:System.ServiceModel.Channels.Binding.Scheme%2A> properties.</span></span>  
  
 <span data-ttu-id="82daf-171">Aby uzyskać pełną listę opcjonalny metody i właściwości dla powiązań zdefiniowanych przez użytkownika, zobacz <xref:System.ServiceModel.Channels.Binding>.</span><span class="sxs-lookup"><span data-stu-id="82daf-171">For a complete list of optional methods and properties for user-defined bindings, see <xref:System.ServiceModel.Channels.Binding>.</span></span>  
  
### <a name="example"></a><span data-ttu-id="82daf-172">Przykład</span><span class="sxs-lookup"><span data-stu-id="82daf-172">Example</span></span>  
 <span data-ttu-id="82daf-173">W tym przykładzie implementuje powiązanie profilu w `SampleProfileUdpBinding`, która jest pochodną <xref:System.ServiceModel.Channels.Binding>.</span><span class="sxs-lookup"><span data-stu-id="82daf-173">This example implements profile binding in `SampleProfileUdpBinding`, which derives from <xref:System.ServiceModel.Channels.Binding>.</span></span> <span data-ttu-id="82daf-174">`SampleProfileUdpBinding` Zawiera maksymalnie cztery elementy powiązania w niej: jeden użytkownik utworzył `UdpTransportBindingElement`; i trzy dostarczane przez system: `TextMessageEncodingBindingElement`, `CompositeDuplexBindingElement`, i `ReliableSessionBindingElement`.</span><span class="sxs-lookup"><span data-stu-id="82daf-174">The `SampleProfileUdpBinding` contains up to four binding elements within it: one user-created `UdpTransportBindingElement`; and three system-provided: `TextMessageEncodingBindingElement`, `CompositeDuplexBindingElement`, and `ReliableSessionBindingElement`.</span></span>  
  
```csharp
public override BindingElementCollection CreateBindingElements()  
{     
    BindingElementCollection bindingElements = new BindingElementCollection();  
    if (ReliableSessionEnabled)  
    {  
        bindingElements.Add(session);  
        bindingElements.Add(compositeDuplex);  
    }  
    bindingElements.Add(encoding);  
    bindingElements.Add(transport);  
    return bindingElements.Clone();  
}  
```  
  
## <a name="security-restrictions-with-duplex-contracts"></a><span data-ttu-id="82daf-175">Ograniczenia zabezpieczeń za pomocą kontrakty dwukierunkowe</span><span class="sxs-lookup"><span data-stu-id="82daf-175">Security Restrictions with Duplex Contracts</span></span>  
 <span data-ttu-id="82daf-176">Nie wszystkie elementy powiązania są ze sobą zgodne.</span><span class="sxs-lookup"><span data-stu-id="82daf-176">Not all binding elements are compatible with each other.</span></span> <span data-ttu-id="82daf-177">W szczególności istnieją pewne ograniczenia dotyczące zabezpieczeń elementy wiązania, gdy jest używane z kontrakty dwukierunkowe.</span><span class="sxs-lookup"><span data-stu-id="82daf-177">In particular, there are some restrictions on security binding elements when used with duplex contracts.</span></span>  
  
### <a name="one-shot-security"></a><span data-ttu-id="82daf-178">Jednorazowej zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="82daf-178">One-Shot Security</span></span>  
 <span data-ttu-id="82daf-179">Możesz zaimplementować zabezpieczenia "jednorazowej", gdzie wszystkie niezbędne poświadczenia zabezpieczeń są wysyłane w pojedynczym komunikacie, ustawiając `negotiateServiceCredential` atrybutu \<komunikatu > element konfiguracji do `false`.</span><span class="sxs-lookup"><span data-stu-id="82daf-179">You can implement "one-shot" security, where all the necessary security credentials are sent in a single message, by setting the `negotiateServiceCredential` attribute of the \<message> configuration element to `false`.</span></span>  
  
 <span data-ttu-id="82daf-180">Jednorazowej uwierzytelnianie nie działa z kontrakty dwukierunkowe.</span><span class="sxs-lookup"><span data-stu-id="82daf-180">One-shot authentication does not work with duplex contracts.</span></span>  
  
 <span data-ttu-id="82daf-181">Dla kontraktów "żądanie-odpowiedź" jednorazowej uwierzytelnianie działa tylko wtedy, gdy stos powiązania poniżej elementu powiązania zabezpieczeń obsługuje tworzenie <xref:System.ServiceModel.Channels.IRequestChannel> lub <xref:System.ServiceModel.Channels.IRequestSessionChannel> wystąpień.</span><span class="sxs-lookup"><span data-stu-id="82daf-181">For Request-Reply contracts, one-shot authentication works only if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="82daf-182">Dla kontraktów jednokierunkowych jednorazowej uwierzytelniania działa, gdy stos powiązania poniżej elementu powiązania zabezpieczeń obsługuje tworzenie <xref:System.ServiceModel.Channels.IRequestChannel>, <xref:System.ServiceModel.Channels.IRequestSessionChannel>, <xref:System.ServiceModel.Channels.IOutputChannel> lub <xref:System.ServiceModel.Channels.IOutputSessionChannel> wystąpień.</span><span class="sxs-lookup"><span data-stu-id="82daf-182">For one-way contracts, one-shot authentication works if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel>, <xref:System.ServiceModel.Channels.IRequestSessionChannel>, <xref:System.ServiceModel.Channels.IOutputChannel> or <xref:System.ServiceModel.Channels.IOutputSessionChannel> instances.</span></span>  
  
### <a name="cookie-mode-security-context-tokens"></a><span data-ttu-id="82daf-183">Tryb plików cookie zabezpieczeń kontekstu tokenów</span><span class="sxs-lookup"><span data-stu-id="82daf-183">Cookie-mode Security Context Tokens</span></span>  
 <span data-ttu-id="82daf-184">Nie można używać tokenów kontekstu zabezpieczeń trybu plików cookie z kontrakty dwukierunkowe.</span><span class="sxs-lookup"><span data-stu-id="82daf-184">Cookie mode security context tokens cannot be used with duplex contracts.</span></span>  
  
 <span data-ttu-id="82daf-185">Dla kontraktów "żądanie-odpowiedź", kontekst zabezpieczeń trybu plików cookie tokenów pracy tylko wtedy, gdy stos powiązania poniżej elementu powiązania zabezpieczeń obsługuje tworzenie <xref:System.ServiceModel.Channels.IRequestChannel> lub <xref:System.ServiceModel.Channels.IRequestSessionChannel> wystąpień.</span><span class="sxs-lookup"><span data-stu-id="82daf-185">For Request-Reply contracts, cookie-mode security context tokens work only if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="82daf-186">Dla kontraktów jednokierunkowych kontekstu zabezpieczeń trybu plików cookie tokenów działa, jeśli stosu powiązania poniżej elementu powiązania zabezpieczeń obsługuje tworzenie <xref:System.ServiceModel.Channels.IRequestChannel> lub <xref:System.ServiceModel.Channels.IRequestSessionChannel> wystąpień.</span><span class="sxs-lookup"><span data-stu-id="82daf-186">For one-way contracts, cookie-mode security context tokens works if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
### <a name="session-mode-security-context-tokens"></a><span data-ttu-id="82daf-187">Tokeny kontekstu zabezpieczeń trybu sesji</span><span class="sxs-lookup"><span data-stu-id="82daf-187">Session-mode Security Context Tokens</span></span>  
 <span data-ttu-id="82daf-188">Tryb sesji SCT działa w przypadku kontrakty dwukierunkowe Jeśli stosu powiązania poniżej elementu powiązania zabezpieczeń obsługuje tworzenie <xref:System.ServiceModel.Channels.IDuplexChannel> lub <xref:System.ServiceModel.Channels.IDuplexSessionChannel> wystąpień.</span><span class="sxs-lookup"><span data-stu-id="82daf-188">Session mode SCT works for duplex contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel> or <xref:System.ServiceModel.Channels.IDuplexSessionChannel> instances.</span></span>  
  
 <span data-ttu-id="82daf-189">Tryb sesji SCT działa dla kontraktów "żądanie-odpowiedź", jeśli stosu powiązania poniżej elementu powiązania zabezpieczeń obsługuje tworzenie <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> lub <xref:System.ServiceModel.Channels.IRequestSessionChannel>, wystąpień.</span><span class="sxs-lookup"><span data-stu-id="82daf-189">Session mode SCT works for Request-Reply contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel>, instances.</span></span>  
  
 <span data-ttu-id="82daf-190">Tryb sesji SCT działa w przypadku umów sposób 1 Jeśli stosu powiązania poniżej elementu powiązania zabezpieczeń obsługuje tworzenie <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> lub <xref:System.ServiceModel.Channels.IRequestSessionChannel> wystąpień.</span><span class="sxs-lookup"><span data-stu-id="82daf-190">Session mode SCT works for 1-way contracts if the binding stack below the security binding element supports creating <xref:System.ServiceModel.Channels.IDuplexChannel>, <xref:System.ServiceModel.Channels.IDuplexSessionChannel>, <xref:System.ServiceModel.Channels.IRequestChannel> or <xref:System.ServiceModel.Channels.IRequestSessionChannel> instances.</span></span>  
  
## <a name="deriving-from-a-standard-binding"></a><span data-ttu-id="82daf-191">Wyprowadzanie z Powiązanie standardowe</span><span class="sxs-lookup"><span data-stu-id="82daf-191">Deriving from a Standard Binding</span></span>  
 <span data-ttu-id="82daf-192">Zamiast tworzenia nowej klasy powiązanie, może być możliwe zwiększenie jeden z istniejących powiązań dostarczanych przez system.</span><span class="sxs-lookup"><span data-stu-id="82daf-192">Instead of creating an entirely new binding class, it may be possible for you to extend one of the existing system-provided bindings.</span></span> <span data-ttu-id="82daf-193">Podobnie jak w poprzednim przypadku nr, konieczne jest przesłonięcie <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> metody i <xref:System.ServiceModel.Channels.Binding.Scheme%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="82daf-193">Much like the preceding case, you must override the <xref:System.ServiceModel.Channels.Binding.CreateBindingElements%2A> method and the <xref:System.ServiceModel.Channels.Binding.Scheme%2A> property.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="82daf-194">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="82daf-194">See also</span></span>
- <xref:System.ServiceModel.Channels.Binding>
- [<span data-ttu-id="82daf-195">Powiązania niestandardowe</span><span class="sxs-lookup"><span data-stu-id="82daf-195">Custom Bindings</span></span>](../../../../docs/framework/wcf/extending/custom-bindings.md)
