---
title: 'Instrukcje: Tworzenie tokenu niestandardowego'
description: Dowiedz się, jak utworzyć niestandardowy token zabezpieczający w programie WCF przy użyciu klasy SecurityToken oraz jak zintegrować go z dostawcą tokenów zabezpieczających i wystawcą uwierzytelnienia.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- SecurityTokenParameters class
- security [WCF], creating custom tokens
- WSSecurityTokenSerializer class
- SecurityToken class
ms.assetid: 6d892973-1558-4115-a9e1-696777776125
ms.openlocfilehash: a95d663c2669186fcb3eb1fb2f0c426ade945f1c
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/23/2020
ms.locfileid: "85247536"
---
# <a name="how-to-create-a-custom-token"></a><span data-ttu-id="0fd3a-103">Instrukcje: Tworzenie tokenu niestandardowego</span><span class="sxs-lookup"><span data-stu-id="0fd3a-103">How to: Create a Custom Token</span></span>
<span data-ttu-id="0fd3a-104">W tym temacie pokazano, jak utworzyć niestandardowy token zabezpieczający przy użyciu <xref:System.IdentityModel.Tokens.SecurityToken> klasy oraz jak zintegrować go z niestandardowym dostawcą tokenu zabezpieczeń i wystawcą uwierzytelnienia.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-104">This topic shows how to create a custom security token using the <xref:System.IdentityModel.Tokens.SecurityToken> class, and how to integrate it with a custom security token provider and authenticator.</span></span> <span data-ttu-id="0fd3a-105">Aby zapoznać się z kompletnym przykładem kodu, zapoznaj się z przykładem [niestandardowego tokenu](../samples/custom-token.md) .</span><span class="sxs-lookup"><span data-stu-id="0fd3a-105">For a complete code example see the [Custom Token](../samples/custom-token.md) sample.</span></span>  
  
 <span data-ttu-id="0fd3a-106">*Token zabezpieczający* jest zasadniczo elementem XML, który jest używany przez strukturę zabezpieczeń Windows Communication Foundation (WCF) do reprezentowania oświadczeń dotyczących nadawcy w komunikacie protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-106">A *security token* is essentially an XML element that is used by the Windows Communication Foundation (WCF) security framework to represent claims about a sender inside the SOAP message.</span></span> <span data-ttu-id="0fd3a-107">Zabezpieczenia WCF udostępniają różne tokeny dla trybów uwierzytelniania dostępnych w systemie.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-107">WCF security provides various tokens for system-provided authentication modes.</span></span> <span data-ttu-id="0fd3a-108">Przykłady obejmują token zabezpieczający certyfikat X. 509 reprezentowany przez klasę <xref:System.IdentityModel.Tokens.X509SecurityToken> lub token zabezpieczający nazwy użytkownika reprezentowany przez <xref:System.IdentityModel.Tokens.UserNameSecurityToken> klasę.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-108">Examples include an X.509 certificate security token represented by the <xref:System.IdentityModel.Tokens.X509SecurityToken> class or a Username security token represented by the <xref:System.IdentityModel.Tokens.UserNameSecurityToken> class.</span></span>  
  
 <span data-ttu-id="0fd3a-109">Czasami tryb uwierzytelniania lub poświadczenia nie są obsługiwane przez udostępniane typy.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-109">Sometimes an authentication mode or credential is not supported by the provided types.</span></span> <span data-ttu-id="0fd3a-110">W takim przypadku konieczne jest utworzenie niestandardowego tokenu zabezpieczającego, aby zapewnić reprezentację w formacie XML niestandardowego poświadczenia w komunikacie protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-110">In that case, it is necessary to create a custom security token to provide an XML representation of the custom credential inside the SOAP message.</span></span>  
  
 <span data-ttu-id="0fd3a-111">W poniższych procedurach pokazano, jak utworzyć niestandardowy token zabezpieczający i jak zintegrować go z infrastrukturą zabezpieczeń WCF.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-111">The following procedures show how to create a custom security token and how to integrate it with the WCF security infrastructure.</span></span> <span data-ttu-id="0fd3a-112">W tym temacie opisano Tworzenie tokenu karty kredytowej, który służy do przekazywania informacji o karcie kredytowej klienta na serwer.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-112">This topic creates a credit card token that is used to pass information about the client's credit card to the server.</span></span>  
  
 <span data-ttu-id="0fd3a-113">Aby uzyskać więcej informacji na temat poświadczeń niestandardowych i Menedżera tokenów zabezpieczających, zobacz [Przewodnik: Tworzenie niestandardowych poświadczeń klienta i usługi](walkthrough-creating-custom-client-and-service-credentials.md).</span><span class="sxs-lookup"><span data-stu-id="0fd3a-113">For more information about custom credentials and security token manager, see [Walkthrough: Creating Custom Client and Service Credentials](walkthrough-creating-custom-client-and-service-credentials.md).</span></span>  
  
 <span data-ttu-id="0fd3a-114">Zapoznaj się z <xref:System.IdentityModel.Tokens> przestrzenią nazw, aby poznać więcej klas, które reprezentują tokeny zabezpieczające.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-114">See the <xref:System.IdentityModel.Tokens> namespace for more classes that represent security tokens.</span></span>  
  
## <a name="procedures"></a><span data-ttu-id="0fd3a-115">Procedury</span><span class="sxs-lookup"><span data-stu-id="0fd3a-115">Procedures</span></span>  
 <span data-ttu-id="0fd3a-116">Aplikacja kliencka musi być dostępna ze sposobem, aby określić informacje dotyczące karty kredytowej dla infrastruktury zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-116">A client application must be provided with a way to specify credit card information for the security infrastructure.</span></span> <span data-ttu-id="0fd3a-117">Te informacje są udostępniane aplikacji przez niestandardową klasę poświadczeń klienta.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-117">This information is made available to the application by a custom client credentials class.</span></span> <span data-ttu-id="0fd3a-118">Pierwszym krokiem jest utworzenie klasy do reprezentowania informacji o karcie kredytowej dla niestandardowych poświadczeń klienta.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-118">The first step is to create a class to represent the credit card information for custom client credentials.</span></span>  
  
#### <a name="to-create-a-class-that-represents-credit-card-information-inside-client-credentials"></a><span data-ttu-id="0fd3a-119">Aby utworzyć klasę reprezentującą informacje o karcie kredytowej w poświadczeniach klienta</span><span class="sxs-lookup"><span data-stu-id="0fd3a-119">To create a class that represents credit card information inside client credentials</span></span>  
  
1. <span data-ttu-id="0fd3a-120">Zdefiniuj nową klasę, która reprezentuje informacje o karcie kredytowej dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-120">Define a new class that represents the credit card information for the application.</span></span> <span data-ttu-id="0fd3a-121">Poniższy przykład nazywa nazwę klasy `CreditCardInfo` .</span><span class="sxs-lookup"><span data-stu-id="0fd3a-121">The following example names the class `CreditCardInfo`.</span></span>  
  
2. <span data-ttu-id="0fd3a-122">Dodaj odpowiednie właściwości do klasy, aby zezwolić aplikacji na zestaw niezbędnych informacji wymaganych przez Token niestandardowy.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-122">Add appropriate properties to the class to allow an application set the necessary information required for the custom token.</span></span> <span data-ttu-id="0fd3a-123">W tym przykładzie Klasa ma trzy właściwości: `CardNumber` , `CardIssuer` , i `ExpirationDate` .</span><span class="sxs-lookup"><span data-stu-id="0fd3a-123">In this example, the class has three properties: `CardNumber`, `CardIssuer`, and `ExpirationDate`.</span></span>  
  
     [!code-csharp[c_CustomToken#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customtoken/cs/source.cs#4)]
     [!code-vb[c_CustomToken#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customtoken/vb/source.vb#4)]  
  
 <span data-ttu-id="0fd3a-124">Następnie należy utworzyć klasę, która reprezentuje niestandardowy token zabezpieczający.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-124">Next, a class that represents the custom security token must be created.</span></span> <span data-ttu-id="0fd3a-125">Ta klasa jest używana przez dostawcę tokenów zabezpieczających, wystawca i klasy serializatorów do przekazywania informacji o tokenie zabezpieczającym do i z infrastruktury zabezpieczeń WCF.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-125">This class is used by the security token provider, authenticator, and serializer classes to pass information about the security token to and from the WCF security infrastructure.</span></span>  
  
#### <a name="to-create-a-custom-security-token-class"></a><span data-ttu-id="0fd3a-126">Aby utworzyć niestandardową klasę tokenów zabezpieczających</span><span class="sxs-lookup"><span data-stu-id="0fd3a-126">To create a custom security token class</span></span>  
  
1. <span data-ttu-id="0fd3a-127">Zdefiniuj nową klasę pochodną <xref:System.IdentityModel.Tokens.SecurityToken> klasy.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-127">Define a new class derived from the <xref:System.IdentityModel.Tokens.SecurityToken> class.</span></span> <span data-ttu-id="0fd3a-128">Ten przykład tworzy klasę o nazwie `CreditCardToken` .</span><span class="sxs-lookup"><span data-stu-id="0fd3a-128">This example creates a class named `CreditCardToken`.</span></span>  
  
2. <span data-ttu-id="0fd3a-129">Zastąp <xref:System.IdentityModel.Tokens.SecurityToken.Id%2A> Właściwość.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-129">Override the <xref:System.IdentityModel.Tokens.SecurityToken.Id%2A> property.</span></span> <span data-ttu-id="0fd3a-130">Ta właściwość służy do uzyskiwania identyfikatora lokalnego tokenu zabezpieczającego, który służy do wskazywania reprezentacji XML tokenu zabezpieczającego z innych elementów w komunikacie protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-130">This property is used to get the local identifier of the security token that is used to point to the security token XML representation from other elements inside the SOAP message.</span></span> <span data-ttu-id="0fd3a-131">W tym przykładzie Identyfikator tokenu może być przesłany do niego jako parametr konstruktora lub nowy losowo jeden jest generowany za każdym razem, gdy tworzone jest wystąpienie tokenu zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-131">In this example, a token identifier can be either passed to it as a constructor parameter or a new random one is generated every time a security token instance is created.</span></span>  
  
3. <span data-ttu-id="0fd3a-132">Zaimplementuj <xref:System.IdentityModel.Tokens.SecurityToken.SecurityKeys%2A> Właściwość.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-132">Implement the <xref:System.IdentityModel.Tokens.SecurityToken.SecurityKeys%2A> property.</span></span> <span data-ttu-id="0fd3a-133">Ta właściwość zwraca kolekcję kluczy zabezpieczeń, które reprezentuje wystąpienie tokenu zabezpieczającego.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-133">This property returns a collection of security keys that the security token instance represents.</span></span> <span data-ttu-id="0fd3a-134">Takie klucze mogą być używane przez funkcję WCF do podpisywania lub szyfrowania części wiadomości protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-134">Such keys can be used by WCF to sign or encrypt parts of the SOAP message.</span></span> <span data-ttu-id="0fd3a-135">W tym przykładzie token zabezpieczający karty kredytowej nie może zawierać żadnych kluczy zabezpieczeń; w związku z tym implementacja zawsze zwraca pustą kolekcję.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-135">In this example, the credit card security token cannot contain any security keys; therefore, the implementation always returns an empty collection.</span></span>  
  
4. <span data-ttu-id="0fd3a-136">Zastąp <xref:System.IdentityModel.Tokens.SecurityToken.ValidFrom%2A> <xref:System.IdentityModel.Tokens.SecurityToken.ValidTo%2A> właściwości i.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-136">Override the <xref:System.IdentityModel.Tokens.SecurityToken.ValidFrom%2A> and <xref:System.IdentityModel.Tokens.SecurityToken.ValidTo%2A> properties.</span></span> <span data-ttu-id="0fd3a-137">Te właściwości są używane przez program WCF do określania ważności wystąpienia tokenu zabezpieczającego.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-137">These properties are used by WCF to determine the validity of the security token instance.</span></span> <span data-ttu-id="0fd3a-138">W tym przykładzie token zabezpieczający karty kredytowej ma tylko datę wygaśnięcia, więc `ValidFrom` Właściwość zwraca wartość <xref:System.DateTime> reprezentującą datę i godzinę tworzenia wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-138">In this example, the credit card security token has only an expiration date, so the `ValidFrom` property returns a <xref:System.DateTime> that represents the date and time of the instance creation.</span></span>  
  
     [!code-csharp[c_CustomToken#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customtoken/cs/source.cs#1)]
     [!code-vb[c_CustomToken#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customtoken/vb/source.vb#1)]  
  
 <span data-ttu-id="0fd3a-139">Gdy tworzony jest nowy typ tokenu zabezpieczającego, wymaga implementacji <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters> klasy.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-139">When a new security token type is created, it requires an implementation of the <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters> class.</span></span> <span data-ttu-id="0fd3a-140">Implementacja jest używana w konfiguracji elementu powiązania zabezpieczeń, aby reprezentować nowy typ tokenu.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-140">The implementation is used in the security binding element configuration to represent the new token type.</span></span> <span data-ttu-id="0fd3a-141">Klasa parametrów tokenu zabezpieczającego służy jako szablon, który jest używany w celu dopasowania do rzeczywistego wystąpienia tokenu zabezpieczającego do momentu przetworzenia komunikatu.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-141">The security token parameters class serves as a template that is used to match the actual security token instance to when a message is processed.</span></span> <span data-ttu-id="0fd3a-142">Szablon zawiera dodatkowe właściwości, których aplikacja może użyć do określenia kryteriów, które muszą być zgodne z tokenem zabezpieczający, aby można było go używać lub uwierzytelniać.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-142">The template provides additional properties that an application can use to specify criteria that the security token must match to be used or authenticated.</span></span> <span data-ttu-id="0fd3a-143">Poniższy przykład nie dodaje żadnych dodatkowych właściwości, więc tylko typ tokenu zabezpieczającego jest dopasowywany, gdy Infrastruktura WCF szuka wystąpienia tokenu zabezpieczającego do użycia lub do walidacji.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-143">The following example does not add any additional properties, so only the security token type is matched when the WCF infrastructure searches for a security token instance to use or to validate.</span></span>  
  
#### <a name="to-create-a-custom-security-token-parameters-class"></a><span data-ttu-id="0fd3a-144">Aby utworzyć niestandardową klasę parametrów tokenu zabezpieczającego</span><span class="sxs-lookup"><span data-stu-id="0fd3a-144">To create a custom security token parameters class</span></span>  
  
1. <span data-ttu-id="0fd3a-145">Zdefiniuj nową klasę pochodną <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters> klasy.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-145">Define a new class derived from the <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters> class.</span></span>  
  
2. <span data-ttu-id="0fd3a-146">Zaimplementuj <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters.CloneCore%2A> metodę.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-146">Implement the <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters.CloneCore%2A> method.</span></span> <span data-ttu-id="0fd3a-147">Skopiuj wszystkie pola wewnętrzne zdefiniowane w klasie, jeśli istnieją.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-147">Copy all internal fields defined in your class, if any.</span></span> <span data-ttu-id="0fd3a-148">W tym przykładzie nie są zdefiniowane żadne dodatkowe pola.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-148">This example does not define any additional fields.</span></span>  
  
3. <span data-ttu-id="0fd3a-149">Zaimplementuj <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters.SupportsClientAuthentication%2A> Właściwość tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-149">Implement the <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters.SupportsClientAuthentication%2A> read-only property.</span></span> <span data-ttu-id="0fd3a-150">Ta właściwość zwraca wartość `true` , jeśli typ tokenu zabezpieczającego reprezentowany przez tę klasę może służyć do uwierzytelniania klienta w usłudze.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-150">This property returns `true` if the security token type represented by this class can be used to authenticate a client to a service.</span></span> <span data-ttu-id="0fd3a-151">W tym przykładzie token zabezpieczający karty kredytowej może służyć do uwierzytelniania klienta w usłudze.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-151">In this example, the credit card security token can be used to authenticate a client to a service.</span></span>  
  
4. <span data-ttu-id="0fd3a-152">Zaimplementuj <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters.SupportsServerAuthentication%2A> Właściwość tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-152">Implement the <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters.SupportsServerAuthentication%2A> read-only property.</span></span> <span data-ttu-id="0fd3a-153">Ta właściwość zwraca wartość `true` , jeśli typ tokenu zabezpieczającego reprezentowany przez tę klasę może być używany do uwierzytelniania usługi dla klienta.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-153">This property returns `true` if the security token type represented by this class can be used to authenticate a service to a client.</span></span> <span data-ttu-id="0fd3a-154">W tym przykładzie token zabezpieczający karty kredytowej nie może zostać użyty do uwierzytelnienia usługi dla klienta.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-154">In this example, the credit card security token cannot be used to authenticate a service to a client.</span></span>  
  
5. <span data-ttu-id="0fd3a-155">Zaimplementuj <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters.SupportsClientWindowsIdentity%2A> Właściwość tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-155">Implement the <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters.SupportsClientWindowsIdentity%2A> read-only property.</span></span> <span data-ttu-id="0fd3a-156">Ta właściwość zwraca wartość `true` , jeśli typ tokenu zabezpieczającego reprezentowanego przez tę klasę można zamapować na konto systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-156">This property returns `true` if the security token type represented by this class can be mapped to a Windows account.</span></span> <span data-ttu-id="0fd3a-157">W takim przypadku wynik uwierzytelniania jest reprezentowany przez <xref:System.Security.Principal.WindowsIdentity> wystąpienie klasy.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-157">If so, the authentication result is represented by a <xref:System.Security.Principal.WindowsIdentity> class instance.</span></span> <span data-ttu-id="0fd3a-158">W tym przykładzie nie można zamapować tokenu na konto systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-158">In this example, the token cannot be mapped to a Windows account.</span></span>  
  
6. <span data-ttu-id="0fd3a-159">Zaimplementuj <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters.CreateKeyIdentifierClause%28System.IdentityModel.Tokens.SecurityToken%2CSystem.ServiceModel.Security.Tokens.SecurityTokenReferenceStyle%29> metodę.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-159">Implement the <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters.CreateKeyIdentifierClause%28System.IdentityModel.Tokens.SecurityToken%2CSystem.ServiceModel.Security.Tokens.SecurityTokenReferenceStyle%29> method.</span></span> <span data-ttu-id="0fd3a-160">Ta metoda jest wywoływana przez strukturę zabezpieczeń WCF, gdy wymaga odwołania do wystąpienia tokenu zabezpieczającego reprezentowanego przez tę klasę parametrów tokenu zabezpieczającego.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-160">This method is called by WCF security framework when it requires a reference to the security token instance represented by this security token parameters class.</span></span> <span data-ttu-id="0fd3a-161">Zarówno rzeczywiste wystąpienie tokenu zabezpieczającego, jak i <xref:System.ServiceModel.Security.Tokens.SecurityTokenReferenceStyle> typ żądanego odwołania są przekazane do tej metody jako argumenty.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-161">Both the actual security token instance and <xref:System.ServiceModel.Security.Tokens.SecurityTokenReferenceStyle> that specifies the type of the reference that is being requested are passed to this method as arguments.</span></span> <span data-ttu-id="0fd3a-162">W tym przykładzie tylko odwołania wewnętrzne są obsługiwane przez token zabezpieczający karty kredytowej.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-162">In this example, only internal references are supported by the credit card security token.</span></span> <span data-ttu-id="0fd3a-163"><xref:System.IdentityModel.Tokens.SecurityToken>Klasa ma funkcje do tworzenia odwołań wewnętrznych; w związku z tym implementacja nie wymaga dodatkowego kodu.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-163">The <xref:System.IdentityModel.Tokens.SecurityToken> class has functionality to create internal references; therefore, the implementation does not require additional code.</span></span>  
  
7. <span data-ttu-id="0fd3a-164">Zaimplementuj <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters.InitializeSecurityTokenRequirement%28System.IdentityModel.Selectors.SecurityTokenRequirement%29> metodę.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-164">Implement the <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters.InitializeSecurityTokenRequirement%28System.IdentityModel.Selectors.SecurityTokenRequirement%29> method.</span></span> <span data-ttu-id="0fd3a-165">Ta metoda jest wywoływana przez funkcję WCF w celu konwertowania wystąpienia klasy parametrów tokenu zabezpieczającego na wystąpienie <xref:System.IdentityModel.Selectors.SecurityTokenRequirement> klasy.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-165">This method is called by WCF to convert the security token parameters class instance into an instance of the <xref:System.IdentityModel.Selectors.SecurityTokenRequirement> class.</span></span> <span data-ttu-id="0fd3a-166">Ten wynik jest używany przez dostawców tokenów zabezpieczających do utworzenia odpowiedniego wystąpienia tokenu zabezpieczającego.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-166">The result is used by security token providers to create the appropriate security token instance.</span></span>  
  
     [!code-csharp[c_CustomToken#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customtoken/cs/source.cs#2)]
     [!code-vb[c_CustomToken#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customtoken/vb/source.vb#2)]  
  
 <span data-ttu-id="0fd3a-167">Tokeny zabezpieczające są przesyłane wewnątrz komunikatów protokołu SOAP, co wymaga mechanizmu tłumaczenia między reprezentacją tokenu zabezpieczającego w pamięci a reprezentacją w sieci.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-167">Security tokens are transmitted inside SOAP messages, which requires a translation mechanism between the in-memory security token representation and the on-the-wire representation.</span></span> <span data-ttu-id="0fd3a-168">Aby wykonać to zadanie, WCF używa serializatora tokenów zabezpieczających.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-168">WCF uses a security token serializer to accomplish this task.</span></span> <span data-ttu-id="0fd3a-169">Każdy token niestandardowy musi być dołączony do niestandardowego serializatora tokenu zabezpieczającego, który może serializować i zdeserializować niestandardowego tokenu zabezpieczającego z komunikatu protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-169">Every custom token must be accompanied by a custom security token serializer that can serialize and deserialize the custom security token from the SOAP message.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="0fd3a-170">Klucze pochodne są domyślnie włączone.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-170">Derived keys are enabled by default.</span></span> <span data-ttu-id="0fd3a-171">Jeśli utworzysz niestandardowy token zabezpieczający i użyjesz go jako tokenu podstawowego, WCF poniesie klucz od tego.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-171">If you create a custom security token and use it as the primary token, WCF derives a key from it.</span></span> <span data-ttu-id="0fd3a-172">Podczas wykonywania tej operacji wywołuje serializator niestandardowego tokenu zabezpieczeń, aby napisać <xref:System.IdentityModel.Tokens.SecurityKeyIdentifierClause> dla niestandardowego tokenu zabezpieczającego podczas serializacji `DerivedKeyToken` do sieci.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-172">While doing so, it calls the custom security token serializer to write the <xref:System.IdentityModel.Tokens.SecurityKeyIdentifierClause> for the custom security token while serializing the `DerivedKeyToken` to the wire.</span></span> <span data-ttu-id="0fd3a-173">W przypadku zakończenia deserializacji tokenu z sieci na końcu, `DerivedKeyToken` serializator oczekuje `SecurityTokenReference` elementu jako element podrzędny najwyższego poziomu w sobie.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-173">On the receiving end, when deserializing the token off the wire, the `DerivedKeyToken` serializer expects a `SecurityTokenReference` element as the top-level child under itself.</span></span> <span data-ttu-id="0fd3a-174">Jeśli serializator niestandardowego tokenu zabezpieczającego nie dodał `SecurityTokenReference` elementu podczas serializowania jego typu klauzuli, zgłaszany jest wyjątek.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-174">If the custom security token serializer did not add a `SecurityTokenReference` element while serializing its clause type, an exception is thrown.</span></span>  
  
#### <a name="to-create-a-custom-security-token-serializer"></a><span data-ttu-id="0fd3a-175">Aby utworzyć serializator niestandardowego tokenu zabezpieczającego</span><span class="sxs-lookup"><span data-stu-id="0fd3a-175">To create a custom security token serializer</span></span>  
  
1. <span data-ttu-id="0fd3a-176">Zdefiniuj nową klasę pochodną <xref:System.ServiceModel.Security.WSSecurityTokenSerializer> klasy.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-176">Define a new class derived from the <xref:System.ServiceModel.Security.WSSecurityTokenSerializer> class.</span></span>  
  
2. <span data-ttu-id="0fd3a-177">Zastąp <xref:System.ServiceModel.Security.WSSecurityTokenSerializer.CanReadTokenCore%28System.Xml.XmlReader%29> metodę, która polega na <xref:System.Xml.XmlReader> odczytaniu strumienia XML.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-177">Override the <xref:System.ServiceModel.Security.WSSecurityTokenSerializer.CanReadTokenCore%28System.Xml.XmlReader%29> method, which relies on an <xref:System.Xml.XmlReader> to read the XML stream.</span></span> <span data-ttu-id="0fd3a-178">Metoda zwraca, `true` jeśli implementacja serializatora może deserializować token zabezpieczający na podstawie podaną w jego bieżącym elemencie.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-178">The method returns `true` if the serializer implementation can deserialize the security token based given its current element.</span></span> <span data-ttu-id="0fd3a-179">W tym przykładzie metoda sprawdza, czy bieżący element XML czytnika XML ma poprawną nazwę elementu i przestrzeń nazw.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-179">In this example, this method checks whether the XML reader's current XML element has the correct element name and namespace.</span></span> <span data-ttu-id="0fd3a-180">Jeśli tak nie jest, wywołuje implementację klasy bazowej tej metody do obsługi elementu XML.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-180">If it does not, it calls the base class implementation of this method to handle the XML element.</span></span>  
  
3. <span data-ttu-id="0fd3a-181">Zastąp <xref:System.ServiceModel.Security.WSSecurityTokenSerializer.ReadTokenCore%28System.Xml.XmlReader%2CSystem.IdentityModel.Selectors.SecurityTokenResolver%29> metodę.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-181">Override the <xref:System.ServiceModel.Security.WSSecurityTokenSerializer.ReadTokenCore%28System.Xml.XmlReader%2CSystem.IdentityModel.Selectors.SecurityTokenResolver%29> method.</span></span> <span data-ttu-id="0fd3a-182">Ta metoda odczytuje zawartość XML tokenu zabezpieczającego i konstruuje odpowiednią reprezentację w pamięci.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-182">This method reads the XML content of the security token and constructs the appropriate in-memory representation for it.</span></span> <span data-ttu-id="0fd3a-183">Jeśli nie rozpoznaje elementu XML, w którym znajduje się przekazanego czytnika XML, wywołuje implementację klasy podstawowej w celu przetworzenia typów tokenów dostarczonych przez system.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-183">If it does not recognize the XML element on which the passed-in XML reader is standing, it calls the base class implementation to process the system-provided token types.</span></span>  
  
4. <span data-ttu-id="0fd3a-184">Zastąp <xref:System.ServiceModel.Security.WSSecurityTokenSerializer.CanWriteTokenCore%28System.IdentityModel.Tokens.SecurityToken%29> metodę.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-184">Override the <xref:System.ServiceModel.Security.WSSecurityTokenSerializer.CanWriteTokenCore%28System.IdentityModel.Tokens.SecurityToken%29> method.</span></span> <span data-ttu-id="0fd3a-185">Ta metoda zwraca `true` czy można skonwertować reprezentację tokenu w pamięci (przekazaną jako argument) na reprezentację w formacie XML.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-185">This method returns `true` if it can convert the in-memory token representation (passed in as an argument) to the XML representation.</span></span> <span data-ttu-id="0fd3a-186">Jeśli nie można skonwertować, wywoła implementację klasy bazowej.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-186">If it cannot convert, it calls the base class implementation.</span></span>  
  
5. <span data-ttu-id="0fd3a-187">Zastąp <xref:System.ServiceModel.Security.WSSecurityTokenSerializer.WriteTokenCore%28System.Xml.XmlWriter%2CSystem.IdentityModel.Tokens.SecurityToken%29> metodę.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-187">Override the <xref:System.ServiceModel.Security.WSSecurityTokenSerializer.WriteTokenCore%28System.Xml.XmlWriter%2CSystem.IdentityModel.Tokens.SecurityToken%29> method.</span></span> <span data-ttu-id="0fd3a-188">Ta metoda konwertuje reprezentację tokenu zabezpieczeń w pamięci na reprezentację w formacie XML.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-188">This method converts an in-memory security token representation into an XML representation.</span></span> <span data-ttu-id="0fd3a-189">Jeśli metoda nie może konwertować, wywołuje implementację klasy bazowej.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-189">If the method cannot convert, it calls the base class implementation.</span></span>  
  
     [!code-csharp[c_CustomToken#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customtoken/cs/source.cs#3)]
     [!code-vb[c_CustomToken#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customtoken/vb/source.vb#3)]  
  
 <span data-ttu-id="0fd3a-190">Po wykonaniu czterech powyższych procedur Zintegruj niestandardowy token zabezpieczający z dostawcą tokenu zabezpieczeń, wystawcą uwierzytelnienia, menedżerem oraz poświadczeniami usługi i klienta.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-190">After completing the four previous procedures, integrate the custom security token with the security token provider, authenticator, manager, and client and service credentials.</span></span>  
  
#### <a name="to-integrate-the-custom-security-token-with-a-security-token-provider"></a><span data-ttu-id="0fd3a-191">Aby zintegrować niestandardowy token zabezpieczeń z dostawcą tokenów zabezpieczających</span><span class="sxs-lookup"><span data-stu-id="0fd3a-191">To integrate the custom security token with a security token provider</span></span>  
  
1. <span data-ttu-id="0fd3a-192">Dostawca tokenów zabezpieczających tworzy, modyfikuje (w razie potrzeby) i zwraca wystąpienie tokenu.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-192">The security token provider creates, modifies (if necessary), and returns an instance of the token.</span></span> <span data-ttu-id="0fd3a-193">Aby utworzyć niestandardowego dostawcę dla niestandardowego tokenu zabezpieczeń, Utwórz klasę, która dziedziczy z <xref:System.IdentityModel.Selectors.SecurityTokenProvider> klasy.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-193">To create a custom provider for the custom security token, create a class that inherits from the <xref:System.IdentityModel.Selectors.SecurityTokenProvider> class.</span></span> <span data-ttu-id="0fd3a-194">Poniższy przykład zastępuje <xref:System.IdentityModel.Selectors.SecurityTokenProvider.GetTokenCore%2A> metodę zwracającą wystąpienie elementu `CreditCardToken` .</span><span class="sxs-lookup"><span data-stu-id="0fd3a-194">The following example overrides the <xref:System.IdentityModel.Selectors.SecurityTokenProvider.GetTokenCore%2A> method to return an instance of the `CreditCardToken`.</span></span> <span data-ttu-id="0fd3a-195">Aby uzyskać więcej informacji o dostawcach niestandardowych tokenów zabezpieczających, zobacz [How to: Create a Custom Security Token Provider](how-to-create-a-custom-security-token-provider.md).</span><span class="sxs-lookup"><span data-stu-id="0fd3a-195">For more information about custom security token providers, see [How to: Create a Custom Security Token Provider](how-to-create-a-custom-security-token-provider.md).</span></span>  
  
     [!code-csharp[c_CustomToken#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customtoken/cs/source.cs#6)]
     [!code-vb[c_CustomToken#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customtoken/vb/source.vb#6)]  
  
#### <a name="to-integrate-the-custom-security-token-with-a-security-token-authenticator"></a><span data-ttu-id="0fd3a-196">Aby zintegrować niestandardowy token zabezpieczeń z wystawcą uwierzytelnienia tokenu zabezpieczającego</span><span class="sxs-lookup"><span data-stu-id="0fd3a-196">To integrate the custom security token with a security token authenticator</span></span>  
  
1. <span data-ttu-id="0fd3a-197">Wystawca uwierzytelnienia tokenów zabezpieczających weryfikuje zawartość tokenu zabezpieczającego, gdy zostanie wyodrębniony z wiadomości.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-197">The security token authenticator validates the content of the security token when it is extracted from the message.</span></span> <span data-ttu-id="0fd3a-198">Aby utworzyć niestandardową wystawcę uwierzytelniania dla niestandardowego tokenu zabezpieczeń, Utwórz klasę, która dziedziczy z <xref:System.IdentityModel.Selectors.SecurityTokenAuthenticator> klasy.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-198">To create a custom authenticator for the custom security token, create a class that inherits from the <xref:System.IdentityModel.Selectors.SecurityTokenAuthenticator> class.</span></span> <span data-ttu-id="0fd3a-199">Poniższy przykład zastępuje <xref:System.IdentityModel.Selectors.SecurityTokenAuthenticator.ValidateTokenCore%2A> metodę.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-199">The following example overrides the <xref:System.IdentityModel.Selectors.SecurityTokenAuthenticator.ValidateTokenCore%2A> method.</span></span> <span data-ttu-id="0fd3a-200">Aby uzyskać więcej informacji na temat wystawców uwierzytelniania niestandardowych tokenów zabezpieczających, zobacz [How to: Create a Custom Security Token Authenticator](how-to-create-a-custom-security-token-authenticator.md).</span><span class="sxs-lookup"><span data-stu-id="0fd3a-200">For more information about custom security token authenticators, see [How to: Create a Custom Security Token Authenticator](how-to-create-a-custom-security-token-authenticator.md).</span></span>  
  
     [!code-csharp[c_CustomToken#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customtoken/cs/source.cs#7)]
     [!code-vb[c_CustomToken#7](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customtoken/vb/source.vb#7)]  
  
     [!code-csharp[c_CustomToken#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customtoken/cs/source.cs#12)]
     [!code-vb[c_CustomToken#12](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customtoken/vb/source.vb#12)]  
  
#### <a name="to-integrate-the-custom-security-token-with-a-security-token-manager"></a><span data-ttu-id="0fd3a-201">Aby zintegrować niestandardowy token zabezpieczeń z menedżerem tokenów zabezpieczających</span><span class="sxs-lookup"><span data-stu-id="0fd3a-201">To integrate the custom security token with a security token manager</span></span>  
  
1. <span data-ttu-id="0fd3a-202">Menedżer tokenów zabezpieczających tworzy odpowiedniego dostawcę tokenu, wystawcę uwierzytelnienia zabezpieczeń i wystąpienia serializatorów tokenów.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-202">The security token manager creates the appropriate token provider, security authenticator, and token serializer instances.</span></span> <span data-ttu-id="0fd3a-203">Aby utworzyć niestandardowego menedżera tokenów, Utwórz klasę, która dziedziczy z <xref:System.ServiceModel.ClientCredentialsSecurityTokenManager> klasy.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-203">To create a custom token manager, create a class that inherits from the <xref:System.ServiceModel.ClientCredentialsSecurityTokenManager> class.</span></span> <span data-ttu-id="0fd3a-204">Podstawowe metody klasy wykorzystują <xref:System.IdentityModel.Selectors.SecurityTokenRequirement> do tworzenia odpowiednich poświadczeń dostawcy i klienta lub usługi.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-204">The primary methods of the class use a <xref:System.IdentityModel.Selectors.SecurityTokenRequirement> to create the appropriate provider and client or service credentials.</span></span> <span data-ttu-id="0fd3a-205">Aby uzyskać więcej informacji na temat niestandardowych menedżerów tokenów zabezpieczających, zobacz [Przewodnik: Tworzenie niestandardowych poświadczeń klienta i usługi](walkthrough-creating-custom-client-and-service-credentials.md).</span><span class="sxs-lookup"><span data-stu-id="0fd3a-205">For more information about custom security token managers, see [Walkthrough: Creating Custom Client and Service Credentials](walkthrough-creating-custom-client-and-service-credentials.md).</span></span>  
  
     [!code-csharp[c_CustomToken#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customtoken/cs/source.cs#8)]
     [!code-vb[c_CustomToken#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customtoken/vb/source.vb#8)]  
  
     [!code-csharp[c_CustomToken#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customtoken/cs/source.cs#9)]
     [!code-vb[c_CustomToken#9](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customtoken/vb/source.vb#9)]  
  
#### <a name="to-integrate-the-custom-security-token-with-custom-client-and-service-credentials"></a><span data-ttu-id="0fd3a-206">Aby zintegrować niestandardowy token zabezpieczający z niestandardowym klientem i poświadczeniami usługi</span><span class="sxs-lookup"><span data-stu-id="0fd3a-206">To integrate the custom security token with custom client and service credentials</span></span>  
  
1. <span data-ttu-id="0fd3a-207">Niestandardowe poświadczenia klienta i usługi należy dodać, aby udostępnić interfejs API dla aplikacji, aby umożliwić określenie niestandardowych informacji o tokenach, które są używane przez infrastrukturę niestandardowego tokenu zabezpieczeń, która została wcześniej utworzona w celu udostępnienia i uwierzytelnienia niestandardowej zawartości niestandardowego tokenu zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-207">The custom client and service credentials must be added to provide an API for the application to allow specifying custom token information that is used by the custom security token infrastructure created previously to provide and authenticate the custom security token content.</span></span> <span data-ttu-id="0fd3a-208">W poniższych przykładach pokazano, jak to zrobić.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-208">The following samples show how this can be done.</span></span> <span data-ttu-id="0fd3a-209">Aby uzyskać więcej informacji na temat niestandardowych poświadczeń klienta i usługi, zobacz [Przewodnik: Tworzenie niestandardowych poświadczeń klienta i usługi](walkthrough-creating-custom-client-and-service-credentials.md).</span><span class="sxs-lookup"><span data-stu-id="0fd3a-209">For more information about custom client and service credentials, see [Walkthrough: Creating Custom Client and Service Credentials](walkthrough-creating-custom-client-and-service-credentials.md).</span></span>  
  
     [!code-csharp[c_CustomToken#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customtoken/cs/source.cs#10)]
     [!code-vb[c_CustomToken#10](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customtoken/vb/source.vb#10)]  
  
     [!code-csharp[c_customToken#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customtoken/cs/source.cs#11)]
     [!code-vb[c_customToken#11](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customtoken/vb/source.vb#11)]  
  
 <span data-ttu-id="0fd3a-210">Wcześniej utworzona Klasa parametrów niestandardowego tokenu zabezpieczającego służy do informowania struktury zabezpieczeń WCF o konieczności użycia niestandardowego tokenu zabezpieczającego podczas komunikacji z usługą.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-210">The custom security token parameters class created previously is used to tell the WCF security framework that a custom security token must be used when communicating with a service.</span></span> <span data-ttu-id="0fd3a-211">W poniższej procedurze pokazano, jak to zrobić.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-211">The following procedure shows how this can be done.</span></span>  
  
#### <a name="to-integrate-the-custom-security-token-with-the-binding"></a><span data-ttu-id="0fd3a-212">Aby zintegrować niestandardowy token zabezpieczający z powiązaniem</span><span class="sxs-lookup"><span data-stu-id="0fd3a-212">To integrate the custom security token with the binding</span></span>  
  
1. <span data-ttu-id="0fd3a-213">Klasa parametrów niestandardowego tokenu zabezpieczającego musi być określona w jednej z kolekcji parametrów tokenu, które są uwidocznione w <xref:System.ServiceModel.Channels.SecurityBindingElement> klasie.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-213">The custom security token parameters class must be specified in one of the token parameters collections that are exposed on the <xref:System.ServiceModel.Channels.SecurityBindingElement> class.</span></span> <span data-ttu-id="0fd3a-214">Poniższy przykład używa kolekcji zwróconej przez `SignedEncrypted` .</span><span class="sxs-lookup"><span data-stu-id="0fd3a-214">The following example uses the collection returned by `SignedEncrypted`.</span></span> <span data-ttu-id="0fd3a-215">Kod dodaje niestandardowy token karty kredytowej do każdej wiadomości wysyłanej z klienta do usługi z zawartością, która została automatycznie podpisana i zaszyfrowana.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-215">The code adds the credit card custom token to every message sent from the client to the service with its content automatically signed and encrypted.</span></span>  
  
     [!code-csharp[c_CustomToken#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_customtoken/cs/source.cs#13)]
     [!code-vb[c_CustomToken#13](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_customtoken/vb/source.vb#13)]  
  
 <span data-ttu-id="0fd3a-216">W tym temacie przedstawiono różne fragmenty kodu niezbędne do zaimplementowania i użycia niestandardowego tokenu.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-216">This topic shows the various pieces of code necessary to implement and use a custom token.</span></span> <span data-ttu-id="0fd3a-217">Aby zobaczyć kompletny przykład dopasowania wszystkich tych fragmentów kodu, zobacz [Token niestandardowy](../samples/custom-token.md).</span><span class="sxs-lookup"><span data-stu-id="0fd3a-217">To see a complete example of how all these pieces of code fit together see, [Custom Token](../samples/custom-token.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="0fd3a-218">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="0fd3a-218">See also</span></span>

- <xref:System.IdentityModel.Tokens.SecurityToken>
- <xref:System.ServiceModel.Security.Tokens.SecurityTokenParameters>
- <xref:System.ServiceModel.Security.WSSecurityTokenSerializer>
- <xref:System.IdentityModel.Selectors.SecurityTokenProvider>
- <xref:System.IdentityModel.Selectors.SecurityTokenAuthenticator>
- <xref:System.IdentityModel.Policy.IAuthorizationPolicy>
- <xref:System.IdentityModel.Selectors.SecurityTokenRequirement>
- <xref:System.IdentityModel.Selectors.SecurityTokenManager>
- <xref:System.ServiceModel.Description.ClientCredentials>
- <xref:System.ServiceModel.Description.ServiceCredentials>
- <xref:System.ServiceModel.Channels.SecurityBindingElement>
- [<span data-ttu-id="0fd3a-219">Przewodnik: tworzenie niestandardowego klienta i poświadczeń usługi</span><span class="sxs-lookup"><span data-stu-id="0fd3a-219">Walkthrough: Creating Custom Client and Service Credentials</span></span>](walkthrough-creating-custom-client-and-service-credentials.md)
- [<span data-ttu-id="0fd3a-220">Instrukcje: Tworzenie niestandardowego wystawcy uwierzytelniania tokenu zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="0fd3a-220">How to: Create a Custom Security Token Authenticator</span></span>](how-to-create-a-custom-security-token-authenticator.md)
- [<span data-ttu-id="0fd3a-221">Instrukcje: tworzenie niestandardowego dostawcy tokenów zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="0fd3a-221">How to: Create a Custom Security Token Provider</span></span>](how-to-create-a-custom-security-token-provider.md)
