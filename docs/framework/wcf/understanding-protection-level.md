---
title: "Omówienie poziomów ochrony"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF, security
- ProtectionLevel property
ms.assetid: 0c034608-a1ac-4007-8287-b1382eaa8bf2
caps.latest.revision: "22"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: f107e4d1a9779c04a33060af34ee1fc873305eab
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/02/2017
---
# <a name="understanding-protection-level"></a><span data-ttu-id="b8b23-102">Omówienie poziomów ochrony</span><span class="sxs-lookup"><span data-stu-id="b8b23-102">Understanding Protection Level</span></span>
<span data-ttu-id="b8b23-103">`ProtectionLevel` Właściwości znajduje się na wiele różnych klas, takich jak <xref:System.ServiceModel.ServiceContractAttribute> i <xref:System.ServiceModel.OperationContractAttribute> klasy.</span><span class="sxs-lookup"><span data-stu-id="b8b23-103">The `ProtectionLevel` property is found on many different classes, such as the <xref:System.ServiceModel.ServiceContractAttribute> and the <xref:System.ServiceModel.OperationContractAttribute> classes.</span></span> <span data-ttu-id="b8b23-104">Właściwość określa, jak chronione części (lub całego) wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b8b23-104">The property controls how a part (or whole) of a message is protected.</span></span> <span data-ttu-id="b8b23-105">W tym temacie opisano [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] funkcji i jej działania.</span><span class="sxs-lookup"><span data-stu-id="b8b23-105">This topic explains the [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] feature and how it works.</span></span>  
  
 <span data-ttu-id="b8b23-106">Aby uzyskać instrukcje na temat ustawiania poziomu ochrony, zobacz [porady: Ustawianie właściwości ProtectionLevel](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span><span class="sxs-lookup"><span data-stu-id="b8b23-106">For instructions on setting the protection level, see [How to: Set the ProtectionLevel Property](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b8b23-107">Poziomy ochrony można ustawić tylko w kodzie, nie znajduje się w konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="b8b23-107">Protection levels can be set only in code, not in configuration.</span></span>  
  
## <a name="basics"></a><span data-ttu-id="b8b23-108">podstawy</span><span class="sxs-lookup"><span data-stu-id="b8b23-108">Basics</span></span>  
 <span data-ttu-id="b8b23-109">Aby zapoznać się z poziomu funkcji ochrony, zastosuj następujące instrukcje podstawowe:</span><span class="sxs-lookup"><span data-stu-id="b8b23-109">To understand the protection level feature, the following basic statements apply:</span></span>  
  
-   <span data-ttu-id="b8b23-110">Istnieją trzy podstawowe poziomy ochrony dla dowolnej części wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b8b23-110">Three basic levels of protection exist for any part of a message.</span></span> <span data-ttu-id="b8b23-111">Właściwość (wszędzie tam, gdzie występuje) jest ustawiona na jeden z <xref:System.Net.Security.ProtectionLevel> wartości wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="b8b23-111">The property (wherever it occurs) is set to one of the <xref:System.Net.Security.ProtectionLevel> enumeration values.</span></span> <span data-ttu-id="b8b23-112">Rosnąco ochrony, obejmują:</span><span class="sxs-lookup"><span data-stu-id="b8b23-112">In ascending order of protection, they include:</span></span>  
  
    -   <span data-ttu-id="b8b23-113">`None`.</span><span class="sxs-lookup"><span data-stu-id="b8b23-113">`None`.</span></span>  
  
    -   <span data-ttu-id="b8b23-114">`Sign`.</span><span class="sxs-lookup"><span data-stu-id="b8b23-114">`Sign`.</span></span> <span data-ttu-id="b8b23-115">Element chroniony jest podpisany cyfrowo.</span><span class="sxs-lookup"><span data-stu-id="b8b23-115">The protected part is digitally signed.</span></span> <span data-ttu-id="b8b23-116">Dzięki temu wykrywanie wszelkie manipulowanie części chronionej wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b8b23-116">This ensures detection of any tampering with the protected message part.</span></span>  
  
    -   <span data-ttu-id="b8b23-117">`EncryptAndSign`.</span><span class="sxs-lookup"><span data-stu-id="b8b23-117">`EncryptAndSign`.</span></span> <span data-ttu-id="b8b23-118">Część wiadomości są szyfrowane, aby zapewnić poufność, zanim jest podpisany.</span><span class="sxs-lookup"><span data-stu-id="b8b23-118">The message part is encrypted to ensure confidentiality before it is signed.</span></span>  
  
-   <span data-ttu-id="b8b23-119">Można ustawić wymagania ochrony tylko w przypadku *danych aplikacji* przy użyciu tej funkcji.</span><span class="sxs-lookup"><span data-stu-id="b8b23-119">You can set protection requirements only for *application data* with this feature.</span></span> <span data-ttu-id="b8b23-120">Na przykład WS-Addressing nagłówki są infrastruktury danych i, w związku z tym nie dotyczy `ProtectionLevel`.</span><span class="sxs-lookup"><span data-stu-id="b8b23-120">For example, WS-Addressing headers are infrastructure data and, therefore, are not affected by the `ProtectionLevel`.</span></span>  
  
-   <span data-ttu-id="b8b23-121">Gdy tryb zabezpieczeń jest ustawiony na `Transport`, cały komunikat jest chroniony przez mechanizm transportu.</span><span class="sxs-lookup"><span data-stu-id="b8b23-121">When the security mode is set to `Transport`, the entire message is protected by the transport mechanism.</span></span> <span data-ttu-id="b8b23-122">Ustawianie poziomu ochrony osobne dla różnych części komunikatu w związku z tym nie ma znaczenia.</span><span class="sxs-lookup"><span data-stu-id="b8b23-122">Therefore, setting a separate protection level for different parts of a message has no effect.</span></span>  
  
-   <span data-ttu-id="b8b23-123">`ProtectionLevel` Pozwala deweloperowi ustawić *minimalny poziom* który powiązania musi być zgodne z.</span><span class="sxs-lookup"><span data-stu-id="b8b23-123">The `ProtectionLevel` is a way for the developer to set the *minimum level* that a binding must comply with.</span></span> <span data-ttu-id="b8b23-124">Po wdrożeniu usługi rzeczywistego powiązania określony w konfiguracji może lub nie może obsługiwać minimalnego poziomu.</span><span class="sxs-lookup"><span data-stu-id="b8b23-124">When a service is deployed, the actual binding specified in configuration may or may not support the minimum level.</span></span> <span data-ttu-id="b8b23-125">Na przykład domyślnie <xref:System.ServiceModel.BasicHttpBinding> klasy nie dostarcza zabezpieczeń (mimo że można ją włączyć).</span><span class="sxs-lookup"><span data-stu-id="b8b23-125">For example, by default, the <xref:System.ServiceModel.BasicHttpBinding> class does not supply security (although it can be enabled).</span></span> <span data-ttu-id="b8b23-126">W związku z tym korzystanie z kontraktu, który zawiera wszystkie ustawienia innych niż `None` spowoduje, że wyjątek zostanie wygenerowany.</span><span class="sxs-lookup"><span data-stu-id="b8b23-126">Therefore, using it with a contract that has any setting other than `None` will cause an exception to be thrown.</span></span>  
  
-   <span data-ttu-id="b8b23-127">Jeśli usługa wymaga, aby minimum `ProtectionLevel` dla wszystkich wiadomości jest `Sign`, klient (prawdopodobnie utworzone przez niż[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] technologii) można szyfrowania i podpisywania wszystkich wiadomości (które jest większe niż minimalne wymagane).</span><span class="sxs-lookup"><span data-stu-id="b8b23-127">If the service requires that the minimum `ProtectionLevel` for all messages is `Sign`, a client (perhaps created by a non-[!INCLUDE[indigo2](../../../includes/indigo2-md.md)] technology) can encrypt and sign all messages (which is more than the minimum required).</span></span> <span data-ttu-id="b8b23-128">W takim przypadku [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] nie spowoduje zgłoszenie wyjątku, ponieważ klient ma więcej niż wartość minimalna wykonywana.</span><span class="sxs-lookup"><span data-stu-id="b8b23-128">In this case, [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] will not throw an exception because the client has done more than the minimum.</span></span> <span data-ttu-id="b8b23-129">Zauważ, że [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] aplikacje (usług lub klientów) nie nadmiernie chroni części komunikatu, jeśli to możliwe, ale będzie spełniać minimalny poziom.</span><span class="sxs-lookup"><span data-stu-id="b8b23-129">Note, however, that [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] applications (services or clients) will not over-secure a message part if possible but will comply with the minimum level.</span></span> <span data-ttu-id="b8b23-130">Należy również zauważyć, że przy użyciu `Transport` jako tryb zabezpieczeń transport może nadmiernie secure strumień komunikatu, ponieważ jest z założenia nie można zabezpieczyć na bardziej szczegółowym poziomie.</span><span class="sxs-lookup"><span data-stu-id="b8b23-130">Also note that when using `Transport` as the security mode, the transport may over-secure the message stream because it is inherently unable to secure at a more granular level.</span></span>  
  
-   <span data-ttu-id="b8b23-131">Jeśli ustawisz `ProtectionLevel` jawnie na jeden `Sign` lub `EncryptAndSign`, następnie należy użyć powiązania z włączoną obsługą zabezpieczeń lub zostanie wygenerowany wyjątek.</span><span class="sxs-lookup"><span data-stu-id="b8b23-131">If you set the `ProtectionLevel` explicitly to either `Sign` or `EncryptAndSign`, then you must use a binding with security enabled or an exception will be thrown.</span></span>  
  
-   <span data-ttu-id="b8b23-132">Po wybraniu powiązania, które zapewnia bezpieczeństwo i nie należy ustawiać `ProtectionLevel` właściwość dowolnym kontrakt wszystkich aplikacji, danych zostanie zaszyfrowana i podpisana.</span><span class="sxs-lookup"><span data-stu-id="b8b23-132">If you select a binding that enables security and you do not set the `ProtectionLevel` property anywhere on the contract, all application data will be encrypted and signed.</span></span>  
  
-   <span data-ttu-id="b8b23-133">Jeśli wybierzesz powiązania, które nie ma włączoną obsługą zabezpieczeń (na przykład `BasicHttpBinding` klasa ma zabezpieczeń domyślnie wyłączone) i `ProtectionLevel` nie jest jawnie ustawiona, a następnie żadne dane aplikacji ma podlegać ochronie.</span><span class="sxs-lookup"><span data-stu-id="b8b23-133">If you select a binding that does not have security enabled (for example, the `BasicHttpBinding` class has security disabled by default), and the `ProtectionLevel` is not explicitly set, then none of the application data will be protected.</span></span>  
  
-   <span data-ttu-id="b8b23-134">Jeśli używasz powiązania, które dotyczą zabezpieczeń na poziomie transportu, wszystkie dane aplikacji będą chronione zgodnie z możliwościami usługi transportu.</span><span class="sxs-lookup"><span data-stu-id="b8b23-134">If you are using a binding that applies security at the transport level, all application data will be secured according to the capabilities of the transport.</span></span>  
  
-   <span data-ttu-id="b8b23-135">Użycie powiązania, które dotyczą zabezpieczeń na poziomie komunikatu danych aplikacji będą chronione zgodnie z poziomów ochrony, ustaw kontraktu.</span><span class="sxs-lookup"><span data-stu-id="b8b23-135">If you use a binding that applies security at the message level, then application data will be secured according to the protection levels set on the contract.</span></span> <span data-ttu-id="b8b23-136">Jeśli nie określisz poziomu ochrony, a następnie wszystkie dane aplikacji w komunikatach zostanie zaszyfrowana i podpisana.</span><span class="sxs-lookup"><span data-stu-id="b8b23-136">If you do not specify a protection level, then all application data in the messages will be encrypted and signed.</span></span>  
  
-   <span data-ttu-id="b8b23-137">`ProtectionLevel` Można ustawić na różnych poziomach zakresu.</span><span class="sxs-lookup"><span data-stu-id="b8b23-137">The `ProtectionLevel` can be set at different scoping levels.</span></span> <span data-ttu-id="b8b23-138">Brak hierarchii skojarzone z zakresu, który znajduje się w następnej sekcji.</span><span class="sxs-lookup"><span data-stu-id="b8b23-138">There is a hierarchy associated with scoping, which is explained in the next section.</span></span>  
  
## <a name="scoping"></a><span data-ttu-id="b8b23-139">Określanie zakresu</span><span class="sxs-lookup"><span data-stu-id="b8b23-139">Scoping</span></span>  
 <span data-ttu-id="b8b23-140">Ustawienie `ProtectionLevel` na najwyższym poziomie interfejsu API, ustawia poziom na wszystkich poziomach poniżej.</span><span class="sxs-lookup"><span data-stu-id="b8b23-140">Setting the `ProtectionLevel` on the topmost API sets the level for all levels below it.</span></span> <span data-ttu-id="b8b23-141">Jeśli `ProtectionLevel` ma ustawioną wartość inną na niższym poziomie, wszystkie interfejsy API poniżej czy poziomu w hierarchii teraz zostanie zresetowana do wartości nowy poziom (interfejsy API powyżej, jednak nadal wpływają na najwyższym poziomie).</span><span class="sxs-lookup"><span data-stu-id="b8b23-141">If the `ProtectionLevel` is set to a different value at a lower level, all APIs below that level in the hierarchy will now be reset to the new level (APIs above it, however, will still be affected by the topmost level).</span></span> <span data-ttu-id="b8b23-142">Hierarchia ma następującą składnię.</span><span class="sxs-lookup"><span data-stu-id="b8b23-142">The hierarchy is as follows.</span></span> <span data-ttu-id="b8b23-143">Na tym samym poziomie atrybuty elementów równorzędnych.</span><span class="sxs-lookup"><span data-stu-id="b8b23-143">Attributes at the same level are peers.</span></span>  
  
 <xref:System.ServiceModel.ServiceContractAttribute>  
  
 <xref:System.ServiceModel.OperationContractAttribute>  
  
 <xref:System.ServiceModel.FaultContractAttribute>  
  
 <xref:System.ServiceModel.MessageContractAttribute>  
  
 <xref:System.ServiceModel.MessageHeaderAttribute>  
  
 <xref:System.ServiceModel.MessageBodyMemberAttribute>  
  
## <a name="programming-protectionlevel"></a><span data-ttu-id="b8b23-144">Programowanie ProtectionLevel</span><span class="sxs-lookup"><span data-stu-id="b8b23-144">Programming ProtectionLevel</span></span>  
 <span data-ttu-id="b8b23-145">Aby program `ProtectionLevel` w dowolnym momencie w hierarchii, po prostu ustaw właściwość do odpowiedniej wartości podczas stosowania atrybutu.</span><span class="sxs-lookup"><span data-stu-id="b8b23-145">To program the `ProtectionLevel` at any point in the hierarchy, simply set the property to an appropriate value when applying the attribute.</span></span> <span data-ttu-id="b8b23-146">Aby uzyskać przykłady, zobacz [porady: Ustawianie właściwości ProtectionLevel](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span><span class="sxs-lookup"><span data-stu-id="b8b23-146">For examples, see [How to: Set the ProtectionLevel Property](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b8b23-147">Ustawianie właściwości usterek i kontrakty wymaga zrozumienia, jak działają funkcje do wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b8b23-147">Setting the property on faults and message contracts requires understanding how those features work.</span></span> [!INCLUDE[crdefault](../../../includes/crdefault-md.md)]<span data-ttu-id="b8b23-148">[Porady: Ustawianie właściwości ProtectionLevel](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md) i [używanie kontraktów komunikatu](../../../docs/framework/wcf/feature-details/using-message-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="b8b23-148"> [How to: Set the ProtectionLevel Property](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md) and [Using Message Contracts](../../../docs/framework/wcf/feature-details/using-message-contracts.md).</span></span>  
  
## <a name="ws-addressing-dependency"></a><span data-ttu-id="b8b23-149">Protokół WS-Addressing zależności</span><span class="sxs-lookup"><span data-stu-id="b8b23-149">WS-Addressing Dependency</span></span>  
 <span data-ttu-id="b8b23-150">W większości przypadków przy użyciu [narzędzie narzędzia metadanych elementu ServiceModel (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) do generowania klient gwarantuje, że zamówień klienta i usługi są identyczne.</span><span class="sxs-lookup"><span data-stu-id="b8b23-150">In most cases, using the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) to generate a client ensures that the client and service contracts are identical.</span></span> <span data-ttu-id="b8b23-151">Pozornie identyczne kontrakty może jednak spowodować zgłoszenie wyjątku przez klienta.</span><span class="sxs-lookup"><span data-stu-id="b8b23-151">However, seemingly identical contracts can cause the client to throw an exception.</span></span> <span data-ttu-id="b8b23-152">Dzieje się tak, gdy powiązanie nie obsługuje specyfikacji WS-Addressing i różnych poziomów ochrony są określone w umowie.</span><span class="sxs-lookup"><span data-stu-id="b8b23-152">This occurs whenever a binding does not support the WS-Addressing specification and multiple levels of protection are specified on the contract.</span></span> <span data-ttu-id="b8b23-153">Na przykład <xref:System.ServiceModel.BasicHttpBinding> klasa nie obsługuje specyfikacji lub w przypadku utworzenia niestandardowego powiązania, które nie obsługuje protokół WS-Addressing.</span><span class="sxs-lookup"><span data-stu-id="b8b23-153">For example, the <xref:System.ServiceModel.BasicHttpBinding> class does not support the specification, or if you create a custom binding that does not support WS-Addressing.</span></span> <span data-ttu-id="b8b23-154">`ProtectionLevel` Funkcji zależy od specyfikacji WS-Addressing umożliwiające różnych poziomów ochrony na pojedynczy kontrakt.</span><span class="sxs-lookup"><span data-stu-id="b8b23-154">The `ProtectionLevel` feature relies on the WS-Addressing specification to enable different protection levels on a single contract.</span></span> <span data-ttu-id="b8b23-155">Jeśli powiązanie nie obsługuje specyfikacji WS-Addressing, wszystkie poziomy zostanie ustawiona do tego samego poziomu ochrony.</span><span class="sxs-lookup"><span data-stu-id="b8b23-155">If the binding does not support the WS-Addressing specification, all levels will be set to the same protection level.</span></span> <span data-ttu-id="b8b23-156">Poziom skuteczną ochronę dla wszystkich zakresów na kontrakt ustawi najwyższy poziom ochrony używany kontraktu.</span><span class="sxs-lookup"><span data-stu-id="b8b23-156">The effective protection level for all scopes on the contract will be set to the strongest protection level used on the contract.</span></span>  
  
 <span data-ttu-id="b8b23-157">Może to spowodować problem, który jest trudna do debugowania na pierwszy rzut oka.</span><span class="sxs-lookup"><span data-stu-id="b8b23-157">This may cause a problem that is hard to debug at first glance.</span></span> <span data-ttu-id="b8b23-158">Istnieje możliwość tworzenia kontrakt klienta (interfejs), która zawiera metody więcej niż jedna usługa.</span><span class="sxs-lookup"><span data-stu-id="b8b23-158">It is possible to create a client contract (an interface) that includes methods for more than one service.</span></span> <span data-ttu-id="b8b23-159">Oznacza to, że ten sam interfejs służy do tworzenia klienta, który komunikuje się z wielu usług, a jeden interfejs zawiera metody dla wszystkich usług.</span><span class="sxs-lookup"><span data-stu-id="b8b23-159">That is, the same interface is used to create a client that communicates with many services, and the single interface contains methods for all services.</span></span> <span data-ttu-id="b8b23-160">Deweloper musi zajmie się w tym scenariuszu rzadkich można wywołać tylko tych metod, które są odpowiednie dla każdej określonej usługi.</span><span class="sxs-lookup"><span data-stu-id="b8b23-160">The developer must take care in this rare scenario to invoke only those methods that are applicable for each particular service.</span></span> <span data-ttu-id="b8b23-161">Jeśli wiązanie jest <xref:System.ServiceModel.BasicHttpBinding> klasy ochrony wielu poziomów nie może być obsługiwana.</span><span class="sxs-lookup"><span data-stu-id="b8b23-161">If the binding is the <xref:System.ServiceModel.BasicHttpBinding> class, multiple protection levels cannot be supported.</span></span> <span data-ttu-id="b8b23-162">Jednak usługa odpowiedzi do klienta może odpowiadać klienta o niższym poziomie ochrony, niż jest to wymagane.</span><span class="sxs-lookup"><span data-stu-id="b8b23-162">However, a service replying to the client might respond to a client with a lower protection level than required.</span></span> <span data-ttu-id="b8b23-163">W takim przypadku klient spowoduje zgłoszenie wyjątku, ponieważ oczekuje na wyższy poziom ochrony.</span><span class="sxs-lookup"><span data-stu-id="b8b23-163">In this case, the client will throw an exception because it expects a higher protection level.</span></span>  
  
 <span data-ttu-id="b8b23-164">Przykładowy kod przedstawia ten problem.</span><span class="sxs-lookup"><span data-stu-id="b8b23-164">An example of the code illustrates this problem.</span></span> <span data-ttu-id="b8b23-165">W poniższym przykładzie przedstawiono usługą i kontrakt klienta.</span><span class="sxs-lookup"><span data-stu-id="b8b23-165">The following example shows a service and a client contract.</span></span> <span data-ttu-id="b8b23-166">Załóżmy, że powiązanie jest [ \<basicHttpBinding >](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) elementu.</span><span class="sxs-lookup"><span data-stu-id="b8b23-166">Assume that the binding is the [\<basicHttpBinding>](../../../docs/framework/configure-apps/file-schema/wcf/basichttpbinding.md) element.</span></span> <span data-ttu-id="b8b23-167">W związku z tym wszystkie operacje na kontrakt mają taki sam poziom ochrony.</span><span class="sxs-lookup"><span data-stu-id="b8b23-167">Therefore, all operations on a contract have the same protection level.</span></span> <span data-ttu-id="b8b23-168">Ten poziom ochrony uniform jest określana jako poziom ochrony maksymalną we wszystkich operacji.</span><span class="sxs-lookup"><span data-stu-id="b8b23-168">This uniform protection level is determined as the maximum protection level across all operations.</span></span>  
  
 <span data-ttu-id="b8b23-169">Kontrakt usługi jest:</span><span class="sxs-lookup"><span data-stu-id="b8b23-169">The service contract is:</span></span>  
  
 [!code-csharp[c_ProtectionLevel#7](../../../samples/snippets/csharp/VS_Snippets_CFX/c_protectionlevel/cs/source.cs#7)]
 [!code-vb[c_ProtectionLevel#7](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_protectionlevel/vb/source.vb#7)]  
  
 <span data-ttu-id="b8b23-170">Poniższy kod przedstawia klienta interfejsu kontraktu.</span><span class="sxs-lookup"><span data-stu-id="b8b23-170">The following code shows the client contract interface.</span></span> <span data-ttu-id="b8b23-171">Należy pamiętać, że zawiera on `Tax` metodę, która ma być używany z innej usługi:</span><span class="sxs-lookup"><span data-stu-id="b8b23-171">Note that it includes a `Tax` method that is intended to be used with a different service:</span></span>  
  
 [!code-csharp[c_ProtectionLevel#8](../../../samples/snippets/csharp/VS_Snippets_CFX/c_protectionlevel/cs/source.cs#8)]
 [!code-vb[c_ProtectionLevel#8](../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_protectionlevel/vb/source.vb#8)]  
  
 <span data-ttu-id="b8b23-172">Kiedy klient wywołuje `Price` metoda zgłasza wyjątek po odebraniu odpowiedzi z usługi.</span><span class="sxs-lookup"><span data-stu-id="b8b23-172">When the client calls the `Price` method, it throws an exception when it receives a reply from the service.</span></span> <span data-ttu-id="b8b23-173">Dzieje się tak, ponieważ klient nie określa `ProtectionLevel` na `ServiceContractAttribute`, i dlatego klient używa domyślnej (<xref:System.Net.Security.ProtectionLevel.EncryptAndSign>) dla wszystkich metod, w tym `Price` metody.</span><span class="sxs-lookup"><span data-stu-id="b8b23-173">This occurs because the client does not specify a `ProtectionLevel` on the `ServiceContractAttribute`, and therefore the client uses the default (<xref:System.Net.Security.ProtectionLevel.EncryptAndSign>) for all methods, including the `Price` method.</span></span> <span data-ttu-id="b8b23-174">Jednak usługa zwróci wartość, przy użyciu <xref:System.Net.Security.ProtectionLevel.Sign> poziomu, ponieważ kontrakt usługi definiuje pojedynczą metodę, która ma ustawiony poziom jego ochrony <xref:System.Net.Security.ProtectionLevel.Sign>.</span><span class="sxs-lookup"><span data-stu-id="b8b23-174">However, the service returns the value using the <xref:System.Net.Security.ProtectionLevel.Sign> level because the service contract defines a single method that has its protection level set to <xref:System.Net.Security.ProtectionLevel.Sign>.</span></span> <span data-ttu-id="b8b23-175">W takim przypadku klient zgłosi błąd podczas sprawdzania poprawności odpowiedzi z usługi.</span><span class="sxs-lookup"><span data-stu-id="b8b23-175">In this case, the client will throw an error when validating the response from the service.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b8b23-176">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="b8b23-176">See Also</span></span>  
 <xref:System.ServiceModel.ServiceContractAttribute>  
 <xref:System.ServiceModel.OperationContractAttribute>  
 <xref:System.ServiceModel.FaultContractAttribute>  
 <xref:System.ServiceModel.MessageContractAttribute>  
 <xref:System.ServiceModel.MessageHeaderAttribute>  
 <xref:System.ServiceModel.MessageBodyMemberAttribute>  
 <xref:System.Net.Security.ProtectionLevel>  
 [<span data-ttu-id="b8b23-177">Zabezpieczanie usług</span><span class="sxs-lookup"><span data-stu-id="b8b23-177">Securing Services</span></span>](../../../docs/framework/wcf/securing-services.md)  
 [<span data-ttu-id="b8b23-178">Porady: Ustawianie właściwości ProtectionLevel</span><span class="sxs-lookup"><span data-stu-id="b8b23-178">How to: Set the ProtectionLevel Property</span></span>](../../../docs/framework/wcf/how-to-set-the-protectionlevel-property.md)  
 [<span data-ttu-id="b8b23-179">Określanie i obsługa błędów w kontraktach i usługach</span><span class="sxs-lookup"><span data-stu-id="b8b23-179">Specifying and Handling Faults in Contracts and Services</span></span>](../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)  
 [<span data-ttu-id="b8b23-180">Używanie kontraktów komunikatu</span><span class="sxs-lookup"><span data-stu-id="b8b23-180">Using Message Contracts</span></span>](../../../docs/framework/wcf/feature-details/using-message-contracts.md)
