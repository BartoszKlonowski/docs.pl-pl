---
title: Oświadczenia i tokeny
ms.date: 03/30/2017
helpviewer_keywords:
- claims [WCF], and tokens
ms.assetid: eff167f3-33f8-483d-a950-aa3e9f97a189
ms.openlocfilehash: cbc97f2224bce640757e1cef88fe325db477cfd7
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/09/2020
ms.locfileid: "84587030"
---
# <a name="claims-and-tokens"></a><span data-ttu-id="e0afd-102">Oświadczenia i tokeny</span><span class="sxs-lookup"><span data-stu-id="e0afd-102">Claims and Tokens</span></span>

<span data-ttu-id="e0afd-103">W tym temacie opisano różne typy zgłoszeń, które program Windows Communication Foundation (WCF) tworzy z domyślnych tokenów, które obsługuje.</span><span class="sxs-lookup"><span data-stu-id="e0afd-103">This topic describes the various claim types that Windows Communication Foundation (WCF) creates from the default tokens that it supports.</span></span>

<span data-ttu-id="e0afd-104">Oświadczenia poświadczeń klienta można przeanalizować przy użyciu <xref:System.IdentityModel.Claims.ClaimSet> <xref:System.IdentityModel.Claims.Claim> klas i.</span><span class="sxs-lookup"><span data-stu-id="e0afd-104">You can examine the claims of a client credential by using the <xref:System.IdentityModel.Claims.ClaimSet> and <xref:System.IdentityModel.Claims.Claim> classes.</span></span> <span data-ttu-id="e0afd-105">`ClaimSet`Zawiera kolekcję `Claim` obiektów.</span><span class="sxs-lookup"><span data-stu-id="e0afd-105">The `ClaimSet` contains a collection of `Claim` objects.</span></span> <span data-ttu-id="e0afd-106">Każdy `Claim` z nich ma następujące ważne elementy członkowskie:</span><span class="sxs-lookup"><span data-stu-id="e0afd-106">Each `Claim` has the following important members:</span></span>

- <span data-ttu-id="e0afd-107"><xref:System.IdentityModel.Claims.Claim.ClaimType%2A>Właściwość zwraca Uniform Resource Identifier (URI), który określa typ podejmowanych roszczeń.</span><span class="sxs-lookup"><span data-stu-id="e0afd-107">The <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> property returns a Uniform Resource Identifier (URI) that specifies the type of claim being made.</span></span> <span data-ttu-id="e0afd-108">Na przykład typ zgłoszenia może być odciskiem palca certyfikatu, w tym przypadku identyfikator URI to `http://schemas.microsoft.com/ws/20005/05/identity/claims/thumprint` .</span><span class="sxs-lookup"><span data-stu-id="e0afd-108">For example, a claim type may be a thumbprint of a certificate, in which case the URI is `http://schemas.microsoft.com/ws/20005/05/identity/claims/thumprint`.</span></span>

- <span data-ttu-id="e0afd-109"><xref:System.IdentityModel.Claims.Claim.Right%2A>Właściwość zwraca identyfikator URI, który określa prawo od żądania.</span><span class="sxs-lookup"><span data-stu-id="e0afd-109">The <xref:System.IdentityModel.Claims.Claim.Right%2A> property returns a URI that specifies the right of the claim.</span></span> <span data-ttu-id="e0afd-110">Wstępnie zdefiniowane prawa są dostępne w <xref:System.IdentityModel.Claims.Rights> klasie ( <xref:System.IdentityModel.Claims.Rights.Identity%2A> , <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> ).</span><span class="sxs-lookup"><span data-stu-id="e0afd-110">Predefined rights are found in the <xref:System.IdentityModel.Claims.Rights> class (<xref:System.IdentityModel.Claims.Rights.Identity%2A>,  <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>).</span></span>

- <span data-ttu-id="e0afd-111"><xref:System.IdentityModel.Claims.Claim.Resource%2A>Właściwość zwraca zasób skojarzony z tym powiązaniem.</span><span class="sxs-lookup"><span data-stu-id="e0afd-111">The <xref:System.IdentityModel.Claims.Claim.Resource%2A> property returns the resource associated with the claim.</span></span>

<span data-ttu-id="e0afd-112">Każdy <xref:System.IdentityModel.Claims.ClaimSet> z nich ma również <xref:System.IdentityModel.Claims.ClaimSet.Issuer%2A> Właściwość, która reprezentuje <xref:System.IdentityModel.Claims.ClaimSet> `Issuer` .</span><span class="sxs-lookup"><span data-stu-id="e0afd-112">Each <xref:System.IdentityModel.Claims.ClaimSet> also has an <xref:System.IdentityModel.Claims.ClaimSet.Issuer%2A> property, which represents the <xref:System.IdentityModel.Claims.ClaimSet> of the `Issuer`.</span></span>

## <a name="windows-accounts"></a><span data-ttu-id="e0afd-113">Konta systemu Windows</span><span class="sxs-lookup"><span data-stu-id="e0afd-113">Windows Accounts</span></span>

<span data-ttu-id="e0afd-114">Gdy poświadczenia klienta są mapowane na konto użytkownika systemu Windows, wynikiem <xref:System.IdentityModel.Claims.ClaimSet> są następujące wartości:</span><span class="sxs-lookup"><span data-stu-id="e0afd-114">Where a client credential maps to a Windows user account, the resulting <xref:System.IdentityModel.Claims.ClaimSet> has the following values:</span></span>

- <span data-ttu-id="e0afd-115">`Issuer`Jest wartością zwracaną przez statyczną właściwość systemu Windows <xref:System.IdentityModel.Claims.ClaimSet> klasy.</span><span class="sxs-lookup"><span data-stu-id="e0afd-115">The `Issuer` is the value returned by the static Windows property of the <xref:System.IdentityModel.Claims.ClaimSet> class.</span></span>

- <span data-ttu-id="e0afd-116">Oświadczenia w kolekcji są następujące:</span><span class="sxs-lookup"><span data-stu-id="e0afd-116">The claims in the collection are:</span></span>

  - <span data-ttu-id="e0afd-117">A <xref:System.IdentityModel.Claims.Claim> o <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> wartości identyfikatora zabezpieczeń (SID), <xref:System.IdentityModel.Claims.Claim.Right%2A> wartości właściwości `Identity` i, <xref:System.IdentityModel.Claims.Claim.Resource%2A> która zwraca rzeczywistą wartość identyfikatora SID.</span><span class="sxs-lookup"><span data-stu-id="e0afd-117">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> value of security identifier (SID), a <xref:System.IdentityModel.Claims.Claim.Right%2A> property value of `Identity`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> that returns the actual SID value.</span></span> <span data-ttu-id="e0afd-118">Identyfikator SID to unikatowa wartość, którą kontroler domeny wystawia każdemu użytkownikowi.</span><span class="sxs-lookup"><span data-stu-id="e0afd-118">A SID is a unique value the domain controller issues to every user.</span></span> <span data-ttu-id="e0afd-119">Identyfikator SID służy do identyfikowania użytkownika w interakcje z zabezpieczeniami systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="e0afd-119">The SID is used to identify the user in interactions with Windows security.</span></span>

  - <span data-ttu-id="e0afd-120">A <xref:System.IdentityModel.Claims.Claim> o <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> wartości SID, a <xref:System.IdentityModel.Claims.Claim.Right%2A> `PossessProperty` i a <xref:System.IdentityModel.Claims.Claim.Resource%2A> wartości identyfikatora SID.</span><span class="sxs-lookup"><span data-stu-id="e0afd-120">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> value of SID, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `PossessProperty`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> of the SID value.</span></span>

  - <span data-ttu-id="e0afd-121">A z i a z <xref:System.IdentityModel.Claims.Claim> <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> <xref:System.IdentityModel.Claims.Claim.Right%2A> `PossessProperty` i z i z z i a z z i a z, z i a <xref:System.IdentityModel.Claims.Claim.Resource%2A> z o</span><span class="sxs-lookup"><span data-stu-id="e0afd-121">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> of <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `PossessProperty` and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> of string containing the user name (for example, "MYMACHINE\Bob").</span></span>

  - <span data-ttu-id="e0afd-122">Dodatkowe oświadczenia SID <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> dla różnych grup, do których należy użytkownik.</span><span class="sxs-lookup"><span data-stu-id="e0afd-122">Additional SID claims with <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> for the various groups the user belongs to.</span></span>

## <a name="certificates"></a><span data-ttu-id="e0afd-123">Certyfikaty</span><span class="sxs-lookup"><span data-stu-id="e0afd-123">Certificates</span></span>

<span data-ttu-id="e0afd-124">Gdy poświadczenie klienta jest certyfikatem, wynikiem są <xref:System.IdentityModel.Claims.ClaimSet> następujące wartości:</span><span class="sxs-lookup"><span data-stu-id="e0afd-124">Where the client credential is a certificate, the resulting <xref:System.IdentityModel.Claims.ClaimSet> has the following values:</span></span>

- <span data-ttu-id="e0afd-125">W przypadku certyfikatów wystawionych przez siebie `Issuer` jest to <xref:System.IdentityModel.Claims.ClaimSet> sama sama.</span><span class="sxs-lookup"><span data-stu-id="e0afd-125">For self-issued certificates, the `Issuer` is the <xref:System.IdentityModel.Claims.ClaimSet> itself.</span></span> <span data-ttu-id="e0afd-126"><xref:System.IdentityModel.Claims.ClaimSet>Zwraca wartość a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> z <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A> <xref:System.IdentityModel.Claims.Claim.Right%2A> `Identity` i <xref:System.IdentityModel.Claims.Claim.Resource%2A> jest <xref:System.Byte> tablicą zawierającą odcisk palca certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="e0afd-126">The <xref:System.IdentityModel.Claims.ClaimSet> returns a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> of <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `Identity`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> value that is a <xref:System.Byte> array containing the thumbprint of the certificate.</span></span>

- <span data-ttu-id="e0afd-127">Dla certyfikatu wystawionego przez urząd certyfikacji wystawca `ClaimSet` reprezentuje certyfikat urzędu certyfikacji.</span><span class="sxs-lookup"><span data-stu-id="e0afd-127">For a certificate issued by a certification authority, the issuer is the `ClaimSet` representing the certification authority’s certificate.</span></span>

- <span data-ttu-id="e0afd-128">`Claims`W kolekcji należą:</span><span class="sxs-lookup"><span data-stu-id="e0afd-128">The `Claims` in the collection include:</span></span>

  - <span data-ttu-id="e0afd-129">A z `Claim` `ClaimType` odciskiem palca, a `Right` z PossessProperty i `Resource` jest tablicą bajtową zawierającą odcisk palca certyfikatu</span><span class="sxs-lookup"><span data-stu-id="e0afd-129">A `Claim` with a `ClaimType` of Thumbprint, a `Right` of PossessProperty, and a `Resource` that is a byte array containing the thumbprint of the certificate</span></span>

  - <span data-ttu-id="e0afd-130">Dodatkowe oświadczenia PossessProperty różnych typów, w tym X500DistinguishedName, DNS, Name, UPN i RSA, reprezentują różne właściwości certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="e0afd-130">Additional PossessProperty claims of various types, including X500DistinguishedName, Dns, Name, Upn, and Rsa, represent various properties of the certificate.</span></span> <span data-ttu-id="e0afd-131">Zasób dla żądania RSA jest kluczem publicznym skojarzonym z certyfikatem. **Uwaga** W przypadku, gdy typ poświadczeń klienta to certyfikat, który usługa mapuje na konto systemu Windows, `ClaimSet` generowane są dwa obiekty.</span><span class="sxs-lookup"><span data-stu-id="e0afd-131">The resource for the Rsa claim is the public key associated with the certificate.**Note** Where the client credential type is a certificate that the service maps to a Windows account, two `ClaimSet` objects are generated.</span></span> <span data-ttu-id="e0afd-132">Pierwszy zawiera wszystkie oświadczenia powiązane z kontem systemu Windows, a drugi zawiera wszystkie oświadczenia powiązane z certyfikatem.</span><span class="sxs-lookup"><span data-stu-id="e0afd-132">The first contains all the claims related to the Windows account and the second contains all the claims related to the certificate.</span></span>

## <a name="user-namepassword"></a><span data-ttu-id="e0afd-133">Nazwa użytkownika/hasło</span><span class="sxs-lookup"><span data-stu-id="e0afd-133">User Name/Password</span></span>

<span data-ttu-id="e0afd-134">Gdzie poświadczenie klienta to nazwa użytkownika/hasło (lub równoważne), które nie jest mapowane na konto systemu Windows, wynikiem `ClaimSet` jest wystawienie przez właściwość statyczną <xref:System.IdentityModel.Claims.ClaimSet.System%2A> `ClaimSet` klasy.</span><span class="sxs-lookup"><span data-stu-id="e0afd-134">Where the client credential is a user name/password (or equivalent) that does not map to a Windows account, the resulting `ClaimSet` is issued by the static <xref:System.IdentityModel.Claims.ClaimSet.System%2A> property of the `ClaimSet` class.</span></span> <span data-ttu-id="e0afd-135">`ClaimSet`Zawiera typ, `Identity` <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> którego zasób jest nazwą użytkownika dostarczaną przez klienta.</span><span class="sxs-lookup"><span data-stu-id="e0afd-135">The `ClaimSet` contains an `Identity` claim of type <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> whose resource is the user name the client provides.</span></span> <span data-ttu-id="e0afd-136">Odpowiadające mu wnioski mają `Right` `PossessProperty` .</span><span class="sxs-lookup"><span data-stu-id="e0afd-136">A corresponding claim has a `Right` of `PossessProperty`.</span></span>

## <a name="rsa-keys"></a><span data-ttu-id="e0afd-137">Klucze RSA</span><span class="sxs-lookup"><span data-stu-id="e0afd-137">RSA Keys</span></span>

<span data-ttu-id="e0afd-138">Jeśli używany jest klucz RSA, który nie jest skojarzony z certyfikatem, zostanie `ClaimSet` wystawiony własny komunikat i zawiera ono zgłoszenie `Identity` typu, <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A> którego zasób jest kluczem RSA.</span><span class="sxs-lookup"><span data-stu-id="e0afd-138">Where an RSA key not associated with a certificate is used, the resulting `ClaimSet` is self-issued and contains an `Identity` claim of type <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A> whose resource is the RSA key.</span></span> <span data-ttu-id="e0afd-139">Odpowiadające mu wnioski mają `Right` `PossessProperty` .</span><span class="sxs-lookup"><span data-stu-id="e0afd-139">A corresponding claim has a `Right` of `PossessProperty`.</span></span>

## <a name="saml"></a><span data-ttu-id="e0afd-140">SAML</span><span class="sxs-lookup"><span data-stu-id="e0afd-140">SAML</span></span>

<span data-ttu-id="e0afd-141">W przypadku, gdy klient uwierzytelnia się za pomocą tokenu potwierdzeń zabezpieczeń (SAML), `ClaimSet` wydawane przez jednostkę, która podpisał token SAML, często certyfikat usługi tokenu zabezpieczającego (STS), która wystawiła token języka SAML.</span><span class="sxs-lookup"><span data-stu-id="e0afd-141">Where the client authenticates with a Security Assertions Markup Language (SAML) token, the resulting `ClaimSet` is issued by the entity that signed the SAML token, often the certificate of the security token service (STS) that issued the SAML token.</span></span> <span data-ttu-id="e0afd-142">`ClaimSet`Zawiera różne oświadczenia, które znajdują się w tokenie SAML.</span><span class="sxs-lookup"><span data-stu-id="e0afd-142">The `ClaimSet` contains various claims as found in the SAML token.</span></span> <span data-ttu-id="e0afd-143">Jeśli token SAML zawiera element `SamlSubject` o wartości innej niż `null` Nazwa, to zostanie utworzone wystąpienie z `Identity` typem <xref:System.IdentityModel.Claims.ClaimTypes.NameIdentifier%2A> i typem zasobu <xref:System.IdentityModel.Tokens.SamlNameIdentifierClaimResource> .</span><span class="sxs-lookup"><span data-stu-id="e0afd-143">If the SAML token contains a `SamlSubject` with a non-`null` name, then an `Identity` claim with a type of <xref:System.IdentityModel.Claims.ClaimTypes.NameIdentifier%2A> and a resource type of <xref:System.IdentityModel.Tokens.SamlNameIdentifierClaimResource> are created.</span></span>

## <a name="identity-claims-and-servicesecuritycontextisanonymous"></a><span data-ttu-id="e0afd-144">Oświadczenia tożsamości i ServiceSecurityContext. IsAnonymous</span><span class="sxs-lookup"><span data-stu-id="e0afd-144">Identity Claims and ServiceSecurityContext.IsAnonymous</span></span>

<span data-ttu-id="e0afd-145">Jeśli żaden z `ClaimSet` obiektów wynikających z poświadczeń klienta nie zawiera roszczeń z, a `Right` `Identity,` następnie <xref:System.ServiceModel.ServiceSecurityContext.IsAnonymous%2A> zwraca wartość właściwości `true` .</span><span class="sxs-lookup"><span data-stu-id="e0afd-145">If none of the `ClaimSet` objects resulting from the client credentials contain a claim with a `Right` of `Identity,` then the <xref:System.ServiceModel.ServiceSecurityContext.IsAnonymous%2A> property returns `true`.</span></span> <span data-ttu-id="e0afd-146">Jeśli istnieją co najmniej jedno takie oświadczenie, `IsAnonymous` Właściwość zwraca `false` .</span><span class="sxs-lookup"><span data-stu-id="e0afd-146">If one or more such claims are present, the `IsAnonymous` property returns `false`.</span></span>

## <a name="see-also"></a><span data-ttu-id="e0afd-147">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="e0afd-147">See also</span></span>

- <xref:System.IdentityModel.Claims.ClaimSet>
- <xref:System.IdentityModel.Claims.Claim>
- <xref:System.IdentityModel.Claims.Rights>
- <xref:System.IdentityModel.Claims.ClaimTypes>
- [<span data-ttu-id="e0afd-148">Zarządzanie oświadczeniami i autoryzacją za pomocą modelu tożsamości</span><span class="sxs-lookup"><span data-stu-id="e0afd-148">Managing Claims and Authorization with the Identity Model</span></span>](managing-claims-and-authorization-with-the-identity-model.md)
