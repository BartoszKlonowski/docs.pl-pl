---
title: Obsługa komunikatów zanieczyszczonych
ms.date: 03/30/2017
ms.assetid: 8d1c5e5a-7928-4a80-95ed-d8da211b8595
ms.openlocfilehash: fe748ac40f03ed22cacb254ab464a6caf3d27a8c
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/23/2019
ms.locfileid: "62046445"
---
# <a name="poison-message-handling"></a><span data-ttu-id="35a77-102">Obsługa komunikatów zanieczyszczonych</span><span class="sxs-lookup"><span data-stu-id="35a77-102">Poison Message Handling</span></span>
<span data-ttu-id="35a77-103">A *Zarządzanie skażonymi komunikatami* jest komunikat, który przekroczył maksymalną liczbę prób dostarczenia do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="35a77-103">A *poison message* is a message that has exceeded the maximum number of delivery attempts to the application.</span></span> <span data-ttu-id="35a77-104">Ta sytuacja może wystąpić, gdy aplikacja w kolejce nie może przetworzyć komunikatu z powodu błędów.</span><span class="sxs-lookup"><span data-stu-id="35a77-104">This situation can arise when a queue-based application cannot process a message because of errors.</span></span> <span data-ttu-id="35a77-105">Aby spełniać wymagania niezawodności, aplikację zakolejkowaną odbiera komunikaty, w ramach transakcji.</span><span class="sxs-lookup"><span data-stu-id="35a77-105">To meet reliability demands, a queued application receives messages under a transaction.</span></span> <span data-ttu-id="35a77-106">{Przerywanie transakcji, w którym została odebrana wiadomość w kolejce pozostawia wiadomości w kolejce, więc, że komunikat zostanie ponowiony w ramach nowej transakcji.</span><span class="sxs-lookup"><span data-stu-id="35a77-106">Aborting the transaction in which a queued message was received leaves the message in the queue so that the message is retried under a new transaction.</span></span> <span data-ttu-id="35a77-107">Jeśli ten problem, który spowodował przerwanie transakcji nie zostanie rozwiązany, aplikacja odbierająca może utknąć w pętli, odbierania i przerywanie ten sam komunikat, dopóki nie przekroczono maksymalną liczbę prób dostarczenia i wyniki Zarządzanie skażonymi komunikatami.</span><span class="sxs-lookup"><span data-stu-id="35a77-107">If the problem that caused the transaction to abort is not corrected, the receiving application can get stuck in a loop receiving and aborting the same message until the maximum number of delivery attempts has been exceeded and a poison message results.</span></span>  
  
 <span data-ttu-id="35a77-108">Komunikat może stać się zarządzanie skażonymi komunikatami wielu powodów.</span><span class="sxs-lookup"><span data-stu-id="35a77-108">A message can become a poison message for many reasons.</span></span> <span data-ttu-id="35a77-109">Najbardziej typowe przyczyny są określone dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="35a77-109">The most common reasons are application specific.</span></span> <span data-ttu-id="35a77-110">Na przykład jeśli aplikacja odczytuje komunikat z kolejki i przetwarza niektóre bazy danych, aplikacja może zakończyć się niepowodzeniem na uzyskanie blokady w bazie danych, co powoduje przerwać transakcji.</span><span class="sxs-lookup"><span data-stu-id="35a77-110">For example, if an application reads a message from a queue and performs some database processing, the application may fail to get a lock on the database, causing it to abort the transaction.</span></span> <span data-ttu-id="35a77-111">Ponieważ transakcji bazy danych zostało przerwane, komunikat pozostaje w kolejce, co powoduje, że aplikacja ponownie odczytać wiadomość po raz drugi i kolejna próba uzyskania blokady w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="35a77-111">Because the database transaction was aborted, the message remains in the queue, which causes the application to reread the message a second time and make another attempt to acquire a lock on the database.</span></span> <span data-ttu-id="35a77-112">Komunikaty może również stać się zanieczyszczone, jeśli zawierają one nieprawidłowe informacje.</span><span class="sxs-lookup"><span data-stu-id="35a77-112">Messages can also become poison if they contain invalid information.</span></span> <span data-ttu-id="35a77-113">Na przykład zamówienie zakupu mogą zawierać nieprawidłowe odbiorcy.</span><span class="sxs-lookup"><span data-stu-id="35a77-113">For example, a purchase order may contain an invalid customer number.</span></span> <span data-ttu-id="35a77-114">W takich przypadkach aplikacja może dobrowolnie przerwać transakcji i wymuszenie komunikat, aby stać się zarządzanie skażonymi komunikatami.</span><span class="sxs-lookup"><span data-stu-id="35a77-114">In these cases, the application may voluntarily abort the transaction and force the message to become a poison message.</span></span>  
  
 <span data-ttu-id="35a77-115">W rzadkich przypadkach komunikatów może nie uzyskać wysyłane do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="35a77-115">On rare occasions, messages can fail to get dispatched to the application.</span></span> <span data-ttu-id="35a77-116">Warstwy usług Windows Communication Foundation (WCF) może się okazać problem z wiadomości, takich jak Jeśli wiadomość ma niewłaściwy ramce, nieprawidłowy komunikat poświadczenia dołączone do lub nagłówek nieprawidłową akcję.</span><span class="sxs-lookup"><span data-stu-id="35a77-116">The Windows Communication Foundation (WCF) layer may find a problem with the message, such as if the message has the wrong frame, invalid message credentials attached to it, or an invalid action header.</span></span> <span data-ttu-id="35a77-117">W takich przypadkach aplikacja nigdy nie otrzyma wiadomości; Jednakże komunikat nadal może stać się zarządzanie skażonymi komunikatami i ręczne przetwarzanie.</span><span class="sxs-lookup"><span data-stu-id="35a77-117">In these cases, the application never receives the message; however, the message can still become a poison message and be processed manually.</span></span>  
  
## <a name="handling-poison-messages"></a><span data-ttu-id="35a77-118">Obsługa wiadomości</span><span class="sxs-lookup"><span data-stu-id="35a77-118">Handling Poison Messages</span></span>  
 <span data-ttu-id="35a77-119">W programie WCF Zarządzanie skażonymi komunikatami obsługi udostępnia mechanizm aplikacja odbierająca radzenia sobie z wiadomości, które nie mogą być wysyłane do aplikacji lub wiadomości, które są wysyłane do aplikacji, ale które nie mają być przetwarzane z powodu specyficznych dla aplikacji przyczyny.</span><span class="sxs-lookup"><span data-stu-id="35a77-119">In WCF, poison message handling provides a mechanism for a receiving application to deal with messages that cannot be dispatched to the application, or messages that are dispatched to the application but which fail to be processed because of application-specific reasons.</span></span> <span data-ttu-id="35a77-120">Obsługa skażonych komunikatów jest skonfigurowany za pomocą następujących właściwości we wszystkich dostępnych powiązania umieszczonych w kolejce:</span><span class="sxs-lookup"><span data-stu-id="35a77-120">Poison message handling is configured by the following properties in each of the available queued bindings:</span></span>  
  
- <span data-ttu-id="35a77-121">`ReceiveRetryCount`.</span><span class="sxs-lookup"><span data-stu-id="35a77-121">`ReceiveRetryCount`.</span></span> <span data-ttu-id="35a77-122">Wartość całkowitą, która określa maksymalną liczbę ponownych prób dostarczenia komunikatu z kolejki aplikacji do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="35a77-122">An integer value that indicates the maximum number of times to retry delivery of a message from the application queue to the application.</span></span> <span data-ttu-id="35a77-123">Wartość domyślna to 5.</span><span class="sxs-lookup"><span data-stu-id="35a77-123">The default value is 5.</span></span> <span data-ttu-id="35a77-124">Jest to wystarczające w przypadkach, gdzie natychmiastowe ponowienie próby rozwiązuje ten problem, takich jak z tymczasowego zakleszczenie w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="35a77-124">This is sufficient in cases where an immediate retry fixes the problem, such as with a temporary deadlock on a database.</span></span>  
  
- <span data-ttu-id="35a77-125">`MaxRetryCycles`.</span><span class="sxs-lookup"><span data-stu-id="35a77-125">`MaxRetryCycles`.</span></span> <span data-ttu-id="35a77-126">Wartość całkowitą, która określa maksymalną liczbę ponownych prób cyklów.</span><span class="sxs-lookup"><span data-stu-id="35a77-126">An integer value that indicates the maximum number of retry cycles.</span></span> <span data-ttu-id="35a77-127">Cykl składa się z przesyłania wiadomości z kolejki aplikacji, do podrzędnej kolejki ponawiania i po chwili można skonfigurować z kolejki podrzędnej ponownych prób do dostarczania ponownie w kolejce aplikacji.</span><span class="sxs-lookup"><span data-stu-id="35a77-127">A retry cycle consists of transferring a message from the application queue to the retry subqueue and, after a configurable delay, from the retry subqueue back into the application queue to reattempt delivery.</span></span> <span data-ttu-id="35a77-128">Wartość domyślna to 2.</span><span class="sxs-lookup"><span data-stu-id="35a77-128">The default value is 2.</span></span> <span data-ttu-id="35a77-129">Na [!INCLUDE[wv](../../../../includes/wv-md.md)], komunikat zostanie podjęta próba maksymalnie (`ReceiveRetryCount` + 1) \* (`MaxRetryCycles` + 1) razy.</span><span class="sxs-lookup"><span data-stu-id="35a77-129">On [!INCLUDE[wv](../../../../includes/wv-md.md)], the message is tried a maximum of (`ReceiveRetryCount` +1) \* (`MaxRetryCycles` + 1) times.</span></span> <span data-ttu-id="35a77-130">`MaxRetryCycles` jest ignorowana na [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] i [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="35a77-130">`MaxRetryCycles` is ignored on [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
- <span data-ttu-id="35a77-131">`RetryCycleDelay`.</span><span class="sxs-lookup"><span data-stu-id="35a77-131">`RetryCycleDelay`.</span></span> <span data-ttu-id="35a77-132">Czas opóźnienia między ponownych prób cyklów.</span><span class="sxs-lookup"><span data-stu-id="35a77-132">The time delay between retry cycles.</span></span> <span data-ttu-id="35a77-133">Wartość domyślna to 30 minut.</span><span class="sxs-lookup"><span data-stu-id="35a77-133">The default value is 30 minutes.</span></span> <span data-ttu-id="35a77-134">`MaxRetryCycles` i `RetryCycleDelay` razem zapewniają mechanizm, aby rozwiązać problem, w którym ponowienie próby po opóźnieniu okresowe rozwiąże problem.</span><span class="sxs-lookup"><span data-stu-id="35a77-134">`MaxRetryCycles` and `RetryCycleDelay` together provide a mechanism to address the problem where a retry after a periodic delay fixes the problem.</span></span> <span data-ttu-id="35a77-135">Na przykład obsługuje zablokowanego wiersza, ustaw w programie SQL Server do czasu zatwierdzenia transakcji.</span><span class="sxs-lookup"><span data-stu-id="35a77-135">For example, this handles a locked row set in SQL Server pending transaction commit.</span></span>  
  
- <span data-ttu-id="35a77-136">`ReceiveErrorHandling`.</span><span class="sxs-lookup"><span data-stu-id="35a77-136">`ReceiveErrorHandling`.</span></span> <span data-ttu-id="35a77-137">Wyliczenie, które wskazuje akcję do wykonania dla komunikatu, w którym wystąpiła awaria dostarczania po zostanie podjęta określona maksymalna liczba ponownych prób.</span><span class="sxs-lookup"><span data-stu-id="35a77-137">An enumeration that indicates the action to take for a message that has failed delivery after the maximum number of retries has been attempted.</span></span> <span data-ttu-id="35a77-138">Wartości może być usterka, listy, Odrzuć i przenieść.</span><span class="sxs-lookup"><span data-stu-id="35a77-138">The values can be Fault, Drop, Reject, and Move.</span></span> <span data-ttu-id="35a77-139">Opcja domyślna jest błędów.</span><span class="sxs-lookup"><span data-stu-id="35a77-139">The default option is Fault.</span></span>  
  
- <span data-ttu-id="35a77-140">Fault.</span><span class="sxs-lookup"><span data-stu-id="35a77-140">Fault.</span></span> <span data-ttu-id="35a77-141">Ta opcja wysyła błędów do odbiornika, który spowodował `ServiceHost` do błędów.</span><span class="sxs-lookup"><span data-stu-id="35a77-141">This option sends a fault to the listener that caused the `ServiceHost` to fault.</span></span> <span data-ttu-id="35a77-142">Komunikat przeznaczonego do usunięcia z kolejki aplikacji przez inny mechanizm zewnętrzny przed aplikacji mogą w dalszym ciągu przetwarzać komunikaty z kolejki.</span><span class="sxs-lookup"><span data-stu-id="35a77-142">The message must be removed from the application queue by some external mechanism before the application can continue to process messages from the queue.</span></span>  
  
- <span data-ttu-id="35a77-143">Upuść.</span><span class="sxs-lookup"><span data-stu-id="35a77-143">Drop.</span></span> <span data-ttu-id="35a77-144">Ta opcja umieszcza Zarządzanie skażonymi komunikatami, i, że komunikat nigdy nie jest dostarczony do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="35a77-144">This option drops the poison message and the message is never delivered to the application.</span></span> <span data-ttu-id="35a77-145">Jeśli komunikat `TimeToLive` właściwość wygasła w tym momencie, a następnie może zostać wyświetlony komunikat w kolejce wiadomości utraconych nadawcy.</span><span class="sxs-lookup"><span data-stu-id="35a77-145">If the message's `TimeToLive` property has expired at this point, then the message may appear in the sender's dead-letter queue.</span></span> <span data-ttu-id="35a77-146">W przeciwnym razie komunikat nie występować w dowolnym miejscu.</span><span class="sxs-lookup"><span data-stu-id="35a77-146">If not, the message does not appear anywhere.</span></span> <span data-ttu-id="35a77-147">Ta opcja oznacza, że użytkownik nie określił co należy zrobić, jeśli komunikat zostanie utracony.</span><span class="sxs-lookup"><span data-stu-id="35a77-147">This option indicates that the user has not specified what to do if the message is lost.</span></span>  
  
- <span data-ttu-id="35a77-148">Odrzuć.</span><span class="sxs-lookup"><span data-stu-id="35a77-148">Reject.</span></span> <span data-ttu-id="35a77-149">Ta opcja jest dostępna tylko na [!INCLUDE[wv](../../../../includes/wv-md.md)].</span><span class="sxs-lookup"><span data-stu-id="35a77-149">This option is available only on [!INCLUDE[wv](../../../../includes/wv-md.md)].</span></span> <span data-ttu-id="35a77-150">To powoduje, że usługi kolejkowania komunikatów (MSMQ) do odesłania negatywnego potwierdzenia do wysyłania menedżera kolejek, że aplikacja nie może odbierać wiadomości.</span><span class="sxs-lookup"><span data-stu-id="35a77-150">This instructs Message Queuing (MSMQ) to send a negative acknowledgement back to the sending queue manager that the application cannot receive the message.</span></span> <span data-ttu-id="35a77-151">Komunikat jest umieszczana w kolejce wiadomości utraconych Menedżer kolejki wysyłania.</span><span class="sxs-lookup"><span data-stu-id="35a77-151">The message is placed in the sending queue manager's dead-letter queue.</span></span>  
  
- <span data-ttu-id="35a77-152">Przeniesienie.</span><span class="sxs-lookup"><span data-stu-id="35a77-152">Move.</span></span> <span data-ttu-id="35a77-153">Ta opcja jest dostępna tylko na [!INCLUDE[wv](../../../../includes/wv-md.md)].</span><span class="sxs-lookup"><span data-stu-id="35a77-153">This option is available only on [!INCLUDE[wv](../../../../includes/wv-md.md)].</span></span> <span data-ttu-id="35a77-154">Powoduje to przeniesienie skażonych komunikatów do kolejki komunikatów poison do późniejszego przetwarzania przez aplikację do obsługi komunikatów poison.</span><span class="sxs-lookup"><span data-stu-id="35a77-154">This moves the poison message to a poison-message queue for later processing by a poison-message handling application.</span></span> <span data-ttu-id="35a77-155">Kolejka komunikatów poison to kolejki podrzędnej kolejki aplikacji.</span><span class="sxs-lookup"><span data-stu-id="35a77-155">The poison-message queue is a subqueue of the application queue.</span></span> <span data-ttu-id="35a77-156">Aplikacja Obsługa komunikatów poison może być usługi WCF, która odczytuje komunikaty z kolejki skażone.</span><span class="sxs-lookup"><span data-stu-id="35a77-156">A poison-message handling application can be a WCF service that reads messages out of the poison queue.</span></span> <span data-ttu-id="35a77-157">Skażone kolejki jest kolejki podrzędnej kolejki aplikacji i może zostać zlikwidowane jako net.msmq://\<*Nazwa maszyny*>/*applicationQueue*; skażone, gdzie  *Nazwa maszyny* to nazwa komputera, na którym znajduje się kolejka i *applicationQueue* jest nazwą kolejki specyficzne dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="35a77-157">The poison queue is a subqueue of the application queue and can be addressed as net.msmq://\<*machine-name*>/*applicationQueue*;poison, where *machine-name* is the name of the computer on which the queue resides and the *applicationQueue* is the name of the application-specific queue.</span></span>  
  
 <span data-ttu-id="35a77-158">Poniżej przedstawiono maksymalną liczbę prób dostarczenia komunikatu:</span><span class="sxs-lookup"><span data-stu-id="35a77-158">The following are the maximum number of delivery attempts made for a message:</span></span>  
  
- <span data-ttu-id="35a77-159">((ReceiveRetryCount+1) \* (MaxRetryCycles + 1)) na [!INCLUDE[wv](../../../../includes/wv-md.md)].</span><span class="sxs-lookup"><span data-stu-id="35a77-159">((ReceiveRetryCount+1) \* (MaxRetryCycles + 1)) on [!INCLUDE[wv](../../../../includes/wv-md.md)].</span></span>  
  
- <span data-ttu-id="35a77-160">(ReceiveRetryCount + 1) na [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] i [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="35a77-160">(ReceiveRetryCount + 1) on [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="35a77-161">Brak ponownych prób są wprowadzane dla komunikatu, która jest dostarczana pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="35a77-161">No retries are made for a message that is delivered successfully.</span></span>  
  
 <span data-ttu-id="35a77-162">Aby śledzić liczbę wiadomości odczytu zostanie podjęta, [!INCLUDE[wv](../../../../includes/wv-md.md)] przechowuje właściwości trwały komunikat, który zlicza liczbę przerwań i właściwości Liczba przenoszenia, który zlicza ile razy komunikat przechodzi między kolejki aplikacji i podkolejek.</span><span class="sxs-lookup"><span data-stu-id="35a77-162">To keep track of the number of times a message read is attempted, [!INCLUDE[wv](../../../../includes/wv-md.md)] maintains a durable message property that counts the number of aborts and a move count property that counts the number of times the message moves between the application queue and subqueues.</span></span> <span data-ttu-id="35a77-163">Kanał WCF używa ich do obliczenia liczby ponownych prób odbierania i liczby ponownych prób cyklów.</span><span class="sxs-lookup"><span data-stu-id="35a77-163">The WCF channel uses these to compute the receive retry count and the retry cycles count.</span></span> <span data-ttu-id="35a77-164">Na [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] i [!INCLUDE[wxp](../../../../includes/wxp-md.md)], liczba przerwania jest utrzymywany w pamięci przez kanał WCF i jest resetowana, jeśli aplikacja zakończy się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="35a77-164">On [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)], the abort count is maintained in memory by the WCF channel and is reset if the application fails.</span></span> <span data-ttu-id="35a77-165">Ponadto kanału WCF mogą przechowywać przerwanie liczba komunikatów do 256 w pamięci w dowolnym momencie.</span><span class="sxs-lookup"><span data-stu-id="35a77-165">Also, the WCF channel can hold the abort counts for up to 256 messages in memory at any time.</span></span> <span data-ttu-id="35a77-166">Jeśli 257th komunikat jest odczytywany, licznik przerwania najstarsze komunikat zostanie zresetowany.</span><span class="sxs-lookup"><span data-stu-id="35a77-166">If a 257th message is read, then the oldest message's abort count is reset.</span></span>  
  
 <span data-ttu-id="35a77-167">Przerwanie count i przenieść właściwości Liczba służą do operacji usługi za pomocą kontekstu operacji.</span><span class="sxs-lookup"><span data-stu-id="35a77-167">The abort count and move count properties are available to the service operation through the operation context.</span></span> <span data-ttu-id="35a77-168">W poniższym przykładzie kodu pokazano, jak można uzyskać do nich dostęp.</span><span class="sxs-lookup"><span data-stu-id="35a77-168">The following code example shows how to access them.</span></span>  
  
 [!code-csharp[S_UE_MSMQ_Poison#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/s_ue_msmq_poison/cs/service.cs#1)]  
  
 <span data-ttu-id="35a77-169">Usługi WCF oferuje dwa standardowe powiązania umieszczonych w kolejce:</span><span class="sxs-lookup"><span data-stu-id="35a77-169">WCF provides two standard queued bindings:</span></span>  
  
- <span data-ttu-id="35a77-170"><xref:System.ServiceModel.NetMsmqBinding>.</span><span class="sxs-lookup"><span data-stu-id="35a77-170"><xref:System.ServiceModel.NetMsmqBinding>.</span></span> <span data-ttu-id="35a77-171">A [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] powiązanie odpowiednie dla komunikacji z innymi punktami końcowymi programu WCF z kolejki wykonywania.</span><span class="sxs-lookup"><span data-stu-id="35a77-171">A [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] binding suitable for performing queue-based communication with other WCF endpoints.</span></span>  
  
- <span data-ttu-id="35a77-172"><xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding>.</span><span class="sxs-lookup"><span data-stu-id="35a77-172"><xref:System.ServiceModel.MsmqIntegration.MsmqIntegrationBinding>.</span></span> <span data-ttu-id="35a77-173">Powiązanie odpowiednie dla komunikacji z istniejącymi aplikacjami usługi kolejkowania komunikatów.</span><span class="sxs-lookup"><span data-stu-id="35a77-173">A binding suitable for communicating with existing Message Queuing applications.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="35a77-174">Można zmienić właściwości w tych powiązań, w oparciu o wymagania usługi WCF.</span><span class="sxs-lookup"><span data-stu-id="35a77-174">You can alter properties in these bindings based on the requirements of your WCF service.</span></span> <span data-ttu-id="35a77-175">Całe Zarządzanie skażonymi komunikatami, mechanizm obsługi jest lokalny do aplikacji odbierającej.</span><span class="sxs-lookup"><span data-stu-id="35a77-175">The entire poison message handling mechanism is local to the receiving application.</span></span> <span data-ttu-id="35a77-176">Ten proces jest niewidoczny dla aplikacji wysyłającej, chyba że aplikacja odbierająca ostatecznie zatrzymuje i wysyła negatywnego potwierdzenia do nadawcy.</span><span class="sxs-lookup"><span data-stu-id="35a77-176">The process is invisible to the sending application unless the receiving application ultimately stops and sends a negative acknowledgment back to the sender.</span></span> <span data-ttu-id="35a77-177">W takim przypadku wiadomość zostanie przeniesiona do kolejki utraconych wiadomości przez nadawcę.</span><span class="sxs-lookup"><span data-stu-id="35a77-177">In that case, the message is moved to the sender's dead-letter queue.</span></span>  
  
## <a name="best-practice-handling-msmqpoisonmessageexception"></a><span data-ttu-id="35a77-178">Najlepszym rozwiązaniem jest: Msmqpoisonmessageexception — Obsługa</span><span class="sxs-lookup"><span data-stu-id="35a77-178">Best Practice: Handling MsmqPoisonMessageException</span></span>  
 <span data-ttu-id="35a77-179">Gdy usługa określa, czy komunikat jest skażone, zgłasza umieszczonych w kolejce transportu <xref:System.ServiceModel.MsmqPoisonMessageException> zawierający `LookupId` skażone wiadomości.</span><span class="sxs-lookup"><span data-stu-id="35a77-179">When the service determines that a message is poison, the queued transport throws a <xref:System.ServiceModel.MsmqPoisonMessageException> that contains the `LookupId` of the poison message.</span></span>  
  
 <span data-ttu-id="35a77-180">Aplikację można wdrożyć <xref:System.ServiceModel.Dispatcher.IErrorHandler> interfejsu do obsługi błędów, których wymaga aplikacja.</span><span class="sxs-lookup"><span data-stu-id="35a77-180">A receiving application can implement the <xref:System.ServiceModel.Dispatcher.IErrorHandler> interface to handle any errors that the application requires.</span></span> <span data-ttu-id="35a77-181">Aby uzyskać więcej informacji, zobacz [rozszerzanie kontroli nad obsługę błędów i raportowanie](../../../../docs/framework/wcf/samples/extending-control-over-error-handling-and-reporting.md).</span><span class="sxs-lookup"><span data-stu-id="35a77-181">For more information, see [Extending Control Over Error Handling and Reporting](../../../../docs/framework/wcf/samples/extending-control-over-error-handling-and-reporting.md).</span></span>  
  
 <span data-ttu-id="35a77-182">Aplikacja może wymagać pewnego rodzaju automatycznych obsługi skażone komunikaty przenosi skażone komunikaty do kolejki Zarządzanie skażonymi komunikatami, tak, że usługi mogą uzyskiwać dostęp do pozostałej części wiadomości w kolejce.</span><span class="sxs-lookup"><span data-stu-id="35a77-182">The application may require some kind of automated handling of poison messages that moves the poison messages to a poison message queue so that the service can access the rest of the messages in the queue.</span></span> <span data-ttu-id="35a77-183">Jest to tylko scenariusz przy użyciu mechanizmu obsługi błędów do nasłuchiwania wiadomości poison wyjątki, gdy <xref:System.ServiceModel.Configuration.MsmqBindingElementBase.ReceiveErrorHandling%2A> ustawienie ma wartość <xref:System.ServiceModel.ReceiveErrorHandling.Fault>.</span><span class="sxs-lookup"><span data-stu-id="35a77-183">The only scenario for using the error-handler mechanism to listen for poison-message exceptions is when the <xref:System.ServiceModel.Configuration.MsmqBindingElementBase.ReceiveErrorHandling%2A> setting is set to <xref:System.ServiceModel.ReceiveErrorHandling.Fault>.</span></span> <span data-ttu-id="35a77-184">W przykładzie poison wiadomości dla wersji 3.0 pokazano to zachowanie.</span><span class="sxs-lookup"><span data-stu-id="35a77-184">The poison-message sample for Message Queuing 3.0 demonstrates this behavior.</span></span> <span data-ttu-id="35a77-185">Poniżej opisano czynności wymagane do obsługi skażone komunikaty, łącznie z najlepszymi rozwiązaniami:</span><span class="sxs-lookup"><span data-stu-id="35a77-185">The following outlines the steps to take to handle poison messages, including best practices:</span></span>  
  
1. <span data-ttu-id="35a77-186">Upewnij się, że ustawienia skażone odzwierciedla wymagania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="35a77-186">Ensure your poison settings reflect the requirements of your application.</span></span> <span data-ttu-id="35a77-187">Podczas pracy z ustawieniami, upewnij się, zrozumieć różnice między możliwości usługi kolejkowania komunikatów na [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], i [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="35a77-187">When working with the settings, ensure that you understand the differences between the capabilities of Message Queuing on [!INCLUDE[wv](../../../../includes/wv-md.md)], [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
2. <span data-ttu-id="35a77-188">W razie potrzeby Implementowanie `IErrorHandler` do obsługi błędów poison wiadomości.</span><span class="sxs-lookup"><span data-stu-id="35a77-188">If required, implement the `IErrorHandler` to handle poison-message errors.</span></span> <span data-ttu-id="35a77-189">Ponieważ ustawienie `ReceiveErrorHandling` do `Fault` wymaga mechanizm ręcznie przenieść skażone wiadomości w kolejce lub zewnętrznego problemu zależnych zwykle jest używane do implementowania `IErrorHandler` podczas `ReceiveErrorHandling` jest ustawiona na `Fault`, jako pokazano w poniższym kodzie.</span><span class="sxs-lookup"><span data-stu-id="35a77-189">Because setting `ReceiveErrorHandling` to `Fault` requires a manual mechanism to move the poison message out of the queue or to correct an external dependent issue, the typical usage is to implement `IErrorHandler` when `ReceiveErrorHandling` is set to `Fault`, as shown in the following code.</span></span>  
  
     [!code-csharp[S_UE_MSMQ_Poison#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/s_ue_msmq_poison/cs/poisonerrorhandler.cs#2)]  
  
3. <span data-ttu-id="35a77-190">Utwórz `PoisonBehaviorAttribute` używanego zachowania usługi.</span><span class="sxs-lookup"><span data-stu-id="35a77-190">Create a `PoisonBehaviorAttribute` that the service behavior can use.</span></span> <span data-ttu-id="35a77-191">Instaluje zachowanie `IErrorHandler` na Dyspozytor.</span><span class="sxs-lookup"><span data-stu-id="35a77-191">The behavior installs the `IErrorHandler` on the dispatcher.</span></span> <span data-ttu-id="35a77-192">Zobacz poniższy przykład kodu.</span><span class="sxs-lookup"><span data-stu-id="35a77-192">See the following code example.</span></span>  
  
     [!code-csharp[S_UE_MSMQ_Poison#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/s_ue_msmq_poison/cs/poisonbehaviorattribute.cs#3)]  
  
4. <span data-ttu-id="35a77-193">Upewnij się, że usługa jest oznaczony za pomocą atrybutu skażone zachowanie.</span><span class="sxs-lookup"><span data-stu-id="35a77-193">Ensure that your service is annotated with the poison behavior attribute.</span></span>  

 <span data-ttu-id="35a77-194">Ponadto jeśli `ReceiveErrorHandling` ustawiono `Fault`, `ServiceHost` błędów w przypadku napotkania Zarządzanie skażonymi komunikatami.</span><span class="sxs-lookup"><span data-stu-id="35a77-194">In addition, if the `ReceiveErrorHandling` is set to `Fault`, the `ServiceHost` faults when encountering the poison message.</span></span> <span data-ttu-id="35a77-195">Można podpiąć zdarzenie uszkodzoną i wyłączenie usługi, akcje naprawcze i ponownie uruchomić.</span><span class="sxs-lookup"><span data-stu-id="35a77-195">You can hook up to the faulted event and shut down the service, take corrective actions, and restart.</span></span> <span data-ttu-id="35a77-196">Na przykład `LookupId` w <xref:System.ServiceModel.MsmqPoisonMessageException> propagowane do `IErrorHandler` można zauważyć i kiedy błędy hosta usług, można użyć `System.Messaging` interfejsu API do odbierania wiadomości z kolejki przy użyciu `LookupId` do usunięcia komunikatu z kolejki i przechowywać wiadomości w niektórych magazynu zewnętrznego lub innej kolejki.</span><span class="sxs-lookup"><span data-stu-id="35a77-196">For example, the `LookupId` in the <xref:System.ServiceModel.MsmqPoisonMessageException> propagated to the `IErrorHandler` can be noted and when the service host faults, you could use the `System.Messaging` API to receive the message from the queue using the `LookupId` to remove the message from the queue and store the message in some external store or another queue.</span></span> <span data-ttu-id="35a77-197">Następnie można ponownie uruchomić `ServiceHost` Wznowienie normalnego przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="35a77-197">You can then restart `ServiceHost` to resume normal processing.</span></span> <span data-ttu-id="35a77-198">[Obsługa zanieczyszczonych komunikatów, obsługa w usłudze MSMQ 4.0](../../../../docs/framework/wcf/samples/poison-message-handling-in-msmq-4-0.md) przedstawia tego zachowania.</span><span class="sxs-lookup"><span data-stu-id="35a77-198">The [Poison Message Handling in MSMQ 4.0](../../../../docs/framework/wcf/samples/poison-message-handling-in-msmq-4-0.md) demonstrates this behavior.</span></span>  
  
## <a name="transaction-time-out-and-poison-messages"></a><span data-ttu-id="35a77-199">Limit czasu transakcji i skażone komunikaty</span><span class="sxs-lookup"><span data-stu-id="35a77-199">Transaction Time-Out and Poison Messages</span></span>  
 <span data-ttu-id="35a77-200">Klasa błędów może wystąpić między kanał transportowy umieszczonych w kolejce i kod użytkownika.</span><span class="sxs-lookup"><span data-stu-id="35a77-200">A class of errors can occur between the queued transport channel and the user code.</span></span> <span data-ttu-id="35a77-201">Te błędy mogą być wykryte przez wewnętrzne, takie jak warstwa zabezpieczeń wiadomości lub usługa wysyła logiki warstwy.</span><span class="sxs-lookup"><span data-stu-id="35a77-201">These errors can be detected by layers in-between, such as the message security layer or the service dispatching logic.</span></span> <span data-ttu-id="35a77-202">Na przykład brakującego certyfikatu X.509 wykryte w warstwę zabezpieczeń protokołu SOAP i Brak akcji są przypadki, w którym komunikat Pobierz wysyłane do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="35a77-202">For example, a missing X.509 certificate detected in the SOAP security layer and a missing action are cases where the message does get dispatched to the application.</span></span> <span data-ttu-id="35a77-203">W takim przypadku modelu usługi porzuca wiadomość.</span><span class="sxs-lookup"><span data-stu-id="35a77-203">When this happens, the service model drops the message.</span></span> <span data-ttu-id="35a77-204">Komunikat został odczytany w transakcji, a wynik dla transakcji nie może być podany limit czasu po pewnym czasie transakcji, dlatego przerwań i wiadomość jest przywracane do kolejki.</span><span class="sxs-lookup"><span data-stu-id="35a77-204">Because the message is read in a transaction and an outcome for that transaction cannot be provided, the transaction eventually times out, aborts, and the message is put back into the queue.</span></span> <span data-ttu-id="35a77-205">Innymi słowy niektóre klasy błędów, transakcja nie przerwać natychmiast, ale czeka, aż upłynie limit czasu transakcji. Można zmodyfikować limitu czasu transakcji dla usługi przy użyciu <xref:System.ServiceModel.ServiceBehaviorAttribute>.</span><span class="sxs-lookup"><span data-stu-id="35a77-205">In other words, for a certain class of errors, the transaction does not immediately abort but waits until the transaction times out. You can modify the transaction time-out for a service using <xref:System.ServiceModel.ServiceBehaviorAttribute>.</span></span>  
  
 <span data-ttu-id="35a77-206">Aby zmienić limit czasu transakcji na podstawie całego komputera, zmodyfikuj plik machine.config i ustawianie limitu czasu odpowiednie transakcji. Należy zauważyć, że, w zależności od limitu czasu w transakcji, transakcja po pewnym czasie przerywa i powraca do kolejki i przerwania licznik jest zwiększany.</span><span class="sxs-lookup"><span data-stu-id="35a77-206">To change the transaction time-out on a computer-wide basis, modify the machine.config file and set the appropriate transaction time-out. It is important to note that, depending on the time-out set in the transaction, the transaction eventually aborts and goes back to the queue and its abort count is incremented.</span></span> <span data-ttu-id="35a77-207">Po pewnym czasie komunikat staje się zanieczyszczone i odpowiednie dyspozycji składa się zgodnie z ustawieniami użytkownika.</span><span class="sxs-lookup"><span data-stu-id="35a77-207">Eventually, the message becomes poison and the right disposition is made according to the user settings.</span></span>  
  
## <a name="sessions-and-poison-messages"></a><span data-ttu-id="35a77-208">Sesje i skażone komunikaty</span><span class="sxs-lookup"><span data-stu-id="35a77-208">Sessions and Poison Messages</span></span>  
 <span data-ttu-id="35a77-209">Sesję ulega ponawiania tego samego i procedury obsługi komunikatów poison jako pojedynczą wiadomość.</span><span class="sxs-lookup"><span data-stu-id="35a77-209">A session undergoes the same retry and poison-message handling procedures as a single message.</span></span> <span data-ttu-id="35a77-210">Właściwości, w wymienionych powyżej skażone komunikaty mają zastosowanie do całej sesji.</span><span class="sxs-lookup"><span data-stu-id="35a77-210">The properties previously listed for poison messages apply to the entire session.</span></span> <span data-ttu-id="35a77-211">Oznacza to, że podczas całej sesji jest próba uzyskania i przechodzi do kolejki utraconych wiadomości przez nadawcę lub końcowego kolejki poison wiadomości, jeśli komunikat zostanie odrzucony.</span><span class="sxs-lookup"><span data-stu-id="35a77-211">This means that the entire session is retried and goes to a final poison-message queue or the sender’s dead-letter queue if the message is rejected.</span></span>  
  
## <a name="batching-and-poison-messages"></a><span data-ttu-id="35a77-212">Przetwarzania wsadowego i skażonych komunikatów</span><span class="sxs-lookup"><span data-stu-id="35a77-212">Batching and Poison Messages</span></span>  
 <span data-ttu-id="35a77-213">Jeśli komunikat staje się zarządzanie skażonymi komunikatami, jest częścią partii całą partię zostanie wycofana i kanał wróci do odczytywania jeden komunikat w danym momencie.</span><span class="sxs-lookup"><span data-stu-id="35a77-213">If a message becomes a poison message and is part of a batch, then the entire batch is rolled back and the channel returns to reading one message at a time.</span></span> <span data-ttu-id="35a77-214">Aby uzyskać więcej informacji na temat dzielenia na partie, zobacz [tworzenie partii komunikatów w ramach transakcji](../../../../docs/framework/wcf/feature-details/batching-messages-in-a-transaction.md)</span><span class="sxs-lookup"><span data-stu-id="35a77-214">For more information about batching, see [Batching Messages in a Transaction](../../../../docs/framework/wcf/feature-details/batching-messages-in-a-transaction.md)</span></span>  
  
## <a name="poison-message-handling-for-messages-in-a-poison-queue"></a><span data-ttu-id="35a77-215">Obsługa komunikatów w kolejce skażone wiadomości poison</span><span class="sxs-lookup"><span data-stu-id="35a77-215">Poison-message Handling for Messages in a Poison Queue</span></span>  
 <span data-ttu-id="35a77-216">Obsługa komunikatów poison nie kończy się na komunikat jest umieszczany w kolejce komunikatów poison.</span><span class="sxs-lookup"><span data-stu-id="35a77-216">Poison-message handling does not end when a message is placed in the poison-message queue.</span></span> <span data-ttu-id="35a77-217">Komunikaty w kolejce komunikatów poison nadal należy odczytać i obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="35a77-217">Messages in the poison-message queue must still be read and handled.</span></span> <span data-ttu-id="35a77-218">Podzbiór ustawienia Obsługa komunikatów poison można użyć podczas odczytu komunikatów z ostatnim skażone kolejki podrzędnej.</span><span class="sxs-lookup"><span data-stu-id="35a77-218">You can use a subset of the poison-message handling settings when reading messages from the final poison subqueue.</span></span> <span data-ttu-id="35a77-219">Ustawienia stosowane są `ReceiveRetryCount` i `ReceiveErrorHandling`.</span><span class="sxs-lookup"><span data-stu-id="35a77-219">The applicable settings are `ReceiveRetryCount` and `ReceiveErrorHandling`.</span></span> <span data-ttu-id="35a77-220">Możesz ustawić `ReceiveErrorHandling` upuść i Odrzuć lub błędów.</span><span class="sxs-lookup"><span data-stu-id="35a77-220">You can set `ReceiveErrorHandling` to Drop, Reject, or Fault.</span></span> <span data-ttu-id="35a77-221">`MaxRetryCycles` jest ignorowany i jest zgłaszany wyjątek, jeśli `ReceiveErrorHandling` jest ustawiony do przeniesienia.</span><span class="sxs-lookup"><span data-stu-id="35a77-221">`MaxRetryCycles` is ignored and an exception is thrown if `ReceiveErrorHandling` is set to Move.</span></span>  
  
## <a name="windows-vista-windows-server-2003-and-windows-xp-differences"></a><span data-ttu-id="35a77-222">Windows Vista, Windows Server 2003 i Windows XP różnice</span><span class="sxs-lookup"><span data-stu-id="35a77-222">Windows Vista, Windows Server 2003, and Windows XP Differences</span></span>  
 <span data-ttu-id="35a77-223">Jak wspomniano wcześniej, nie wszystkie ustawienia Obsługa komunikatów poison dotyczą [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] i [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="35a77-223">As noted earlier, not all poison-message handling settings apply to [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span> <span data-ttu-id="35a77-224">Następujące kluczowe różnice między usługi kolejkowania komunikatów na [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], [!INCLUDE[wxp](../../../../includes/wxp-md.md)], i [!INCLUDE[wv](../../../../includes/wv-md.md)] mają zastosowanie do obsługi komunikatów poison:</span><span class="sxs-lookup"><span data-stu-id="35a77-224">The following key differences between Message Queuing on [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)], [!INCLUDE[wxp](../../../../includes/wxp-md.md)], and [!INCLUDE[wv](../../../../includes/wv-md.md)] are relevant to poison-message handling:</span></span>  
  
- <span data-ttu-id="35a77-225">Wiadomości usługi MSMQ w [!INCLUDE[wv](../../../../includes/wv-md.md)] obsługuje podkolejkami, podczas gdy [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] i [!INCLUDE[wxp](../../../../includes/wxp-md.md)] nie obsługują podkolejek.</span><span class="sxs-lookup"><span data-stu-id="35a77-225">Message Queuing in [!INCLUDE[wv](../../../../includes/wv-md.md)] supports subqueues, while [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)] do not support subqueues.</span></span> <span data-ttu-id="35a77-226">Podkolejki są używane w obsłudze poison komunikatów.</span><span class="sxs-lookup"><span data-stu-id="35a77-226">Subqueues are used in poison-message handling.</span></span> <span data-ttu-id="35a77-227">Kolejki ponownych prób i skażone kolejki są podkolejkami do kolejki aplikacji, który jest tworzony na podstawie ustawień poison postępowanie.</span><span class="sxs-lookup"><span data-stu-id="35a77-227">The retry queues and the poison queue are subqueues to the application queue that is created based on the poison-message handling settings.</span></span> <span data-ttu-id="35a77-228">`MaxRetryCycles` Decyduje o ile ponów podkolejkami do utworzenia.</span><span class="sxs-lookup"><span data-stu-id="35a77-228">The `MaxRetryCycles` dictates how many retry subqueues to create.</span></span> <span data-ttu-id="35a77-229">W związku z tym podczas uruchamiania na [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] lub [!INCLUDE[wxp](../../../../includes/wxp-md.md)], `MaxRetryCycles` są ignorowane i `ReceiveErrorHandling.Move` jest niedozwolone.</span><span class="sxs-lookup"><span data-stu-id="35a77-229">Therefore, when running on [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] or [!INCLUDE[wxp](../../../../includes/wxp-md.md)], `MaxRetryCycles` are ignored and `ReceiveErrorHandling.Move` is not allowed.</span></span>  
  
- <span data-ttu-id="35a77-230">Wiadomości usługi MSMQ w [!INCLUDE[wv](../../../../includes/wv-md.md)] obsługuje ujemne potwierdzenia, podczas gdy [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] i [!INCLUDE[wxp](../../../../includes/wxp-md.md)] nie obsługują.</span><span class="sxs-lookup"><span data-stu-id="35a77-230">Message Queuing in [!INCLUDE[wv](../../../../includes/wv-md.md)] supports negative acknowledgment, while [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)] do not.</span></span> <span data-ttu-id="35a77-231">Negatywnego potwierdzenia z Menedżera kolejki odbierającej powoduje, że Menedżer kolejki wysyłania umieścić odrzuconych komunikatów w kolejce wiadomości utraconych.</span><span class="sxs-lookup"><span data-stu-id="35a77-231">A negative acknowledgment from the receiving queue manager causes the sending queue manager to place the rejected message in the dead-letter queue.</span></span> <span data-ttu-id="35a77-232">W efekcie `ReceiveErrorHandling.Reject` nie jest dozwolona z [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] i [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="35a77-232">As such, `ReceiveErrorHandling.Reject` is not allowed with [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span>  
  
- <span data-ttu-id="35a77-233">Wiadomości usługi MSMQ w [!INCLUDE[wv](../../../../includes/wv-md.md)] obsługuje podejmowana jest próba właściwości wiadomości, która utrzymuje liczbę razy dostarczanie komunikatów.</span><span class="sxs-lookup"><span data-stu-id="35a77-233">Message Queuing in [!INCLUDE[wv](../../../../includes/wv-md.md)] supports a message property that keeps count of the number of times message delivery is attempted.</span></span> <span data-ttu-id="35a77-234">Ta właściwość liczba przerwania nie jest dostępny na [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] i [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span><span class="sxs-lookup"><span data-stu-id="35a77-234">This abort count property is not available on [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] and [!INCLUDE[wxp](../../../../includes/wxp-md.md)].</span></span> <span data-ttu-id="35a77-235">Usługi WCF przechowuje licznik przerwań w pamięci, więc istnieje możliwość, że ta właściwość nie może zawierać dokładną wartość, gdy ten sam komunikat jest odczytywany przez więcej niż jednej usługi WCF w farmie.</span><span class="sxs-lookup"><span data-stu-id="35a77-235">WCF maintains the abort count in memory, so it is possible that this property may not contain an accurate value when the same message is read by more than one WCF service in a farm.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="35a77-236">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="35a77-236">See also</span></span>

- [<span data-ttu-id="35a77-237">Omówienie kolejek</span><span class="sxs-lookup"><span data-stu-id="35a77-237">Queues Overview</span></span>](../../../../docs/framework/wcf/feature-details/queues-overview.md)
- [<span data-ttu-id="35a77-238">Różnice w funkcjach kolejkowania w systemach Windows Vista, Windows Server 2003 i Windows XP</span><span class="sxs-lookup"><span data-stu-id="35a77-238">Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP</span></span>](../../../../docs/framework/wcf/feature-details/diff-in-queue-in-vista-server-2003-windows-xp.md)
- [<span data-ttu-id="35a77-239">Określanie i obsługa błędów w kontraktach i usługach</span><span class="sxs-lookup"><span data-stu-id="35a77-239">Specifying and Handling Faults in Contracts and Services</span></span>](../../../../docs/framework/wcf/specifying-and-handling-faults-in-contracts-and-services.md)
