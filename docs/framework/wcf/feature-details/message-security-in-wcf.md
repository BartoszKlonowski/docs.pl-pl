---
title: Zabezpieczenia komunikatów w architekturze WCF
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
ms.assetid: a80efb59-591a-4a37-bb3c-8fffa6ca0b7d
caps.latest.revision: 9
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: 3ef96dd25903076fedc59ad1507674dd40dcfcc5
ms.sourcegitcommit: 94d33cadc5ff81d2ac389bf5f26422c227832052
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/30/2018
---
# <a name="message-security-in-wcf"></a><span data-ttu-id="67ff4-102">Zabezpieczenia komunikatów w architekturze WCF</span><span class="sxs-lookup"><span data-stu-id="67ff4-102">Message Security in WCF</span></span>
[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]<span data-ttu-id="67ff4-103"> ma dwa tryby głównych zabezpieczeń (`Transport` i `Message`) i tryb trzeci (`TransportWithMessageCredential`) łączącą dwa.</span><span class="sxs-lookup"><span data-stu-id="67ff4-103"> has two major modes for providing security (`Transport` and `Message`) and a third mode (`TransportWithMessageCredential`) that combines the two.</span></span> <span data-ttu-id="67ff4-104">W tym temacie omówiono zabezpieczeń komunikatów i powodów z niego korzystać.</span><span class="sxs-lookup"><span data-stu-id="67ff4-104">This topic discusses message security and the reasons to use it.</span></span>  
  
## <a name="what-is-message-security"></a><span data-ttu-id="67ff4-105">Co to jest komunikat zabezpieczeń?</span><span class="sxs-lookup"><span data-stu-id="67ff4-105">What Is Message Security?</span></span>  
 <span data-ttu-id="67ff4-106">Zabezpieczenia komunikatów używa specyfikacji WS-Security do zabezpieczenia wiadomości.</span><span class="sxs-lookup"><span data-stu-id="67ff4-106">Message security uses the WS-Security specification to secure messages.</span></span> <span data-ttu-id="67ff4-107">WS-Securityspecification opisano ulepszenia protokołu SOAP wiadomości, aby zapewnić poufność, integralność i uwierzytelniania na poziomie komunikatu SOAP (zamiast poziomu transportu).</span><span class="sxs-lookup"><span data-stu-id="67ff4-107">The WS-Securityspecification describes enhancements to SOAP messaging to ensure confidentiality, integrity, and authentication at the SOAP message level (instead of the transport level).</span></span>  
  
 <span data-ttu-id="67ff4-108">Krótko mówiąc zabezpieczenia komunikatów różni się od zabezpieczeń transportu hermetyzując poświadczenia zabezpieczeń i oświadczeń z każdej wiadomości oraz ochrony wiadomości (podpisywania lub szyfrowania).</span><span class="sxs-lookup"><span data-stu-id="67ff4-108">In brief, message security differs from transport security by encapsulating the security credentials and claims with every message along with any message protection (signing or encryption).</span></span> <span data-ttu-id="67ff4-109">Stosowania zabezpieczeń bezpośrednio do wiadomości, modyfikując jego zawartość pozwala własnym zawierającego względem aspekty zabezpieczeń zabezpieczoną wiadomość.</span><span class="sxs-lookup"><span data-stu-id="67ff4-109">Applying the security directly to the message by modifying its content allows the secured message to be self-containing with respect to the security aspects.</span></span> <span data-ttu-id="67ff4-110">Dzięki temu kilka scenariuszy, które nie są możliwe, gdy używane są zabezpieczenia transportu.</span><span class="sxs-lookup"><span data-stu-id="67ff4-110">This enables some scenarios that are not possible when transport security is used.</span></span>  
  
## <a name="reasons-to-use-message-security"></a><span data-ttu-id="67ff4-111">Ze względu na korzystanie z zabezpieczeń komunikatów</span><span class="sxs-lookup"><span data-stu-id="67ff4-111">Reasons to Use Message Security</span></span>  
 <span data-ttu-id="67ff4-112">W przypadku zabezpieczenia na poziomie komunikatu wszystkie informacje dotyczące zabezpieczeń jest hermetyzowany w komunikacie.</span><span class="sxs-lookup"><span data-stu-id="67ff4-112">In message-level security, all of the security information is encapsulated in the message.</span></span> <span data-ttu-id="67ff4-113">Zabezpieczanie wiadomości z zabezpieczeniami na poziomie wiadomości zamiast zabezpieczenia na poziomie transportu ma następujące zalety:</span><span class="sxs-lookup"><span data-stu-id="67ff4-113">Securing the message with message-level security instead of transport-level security has the following advantages:</span></span>  
  
-   <span data-ttu-id="67ff4-114">Zabezpieczeń na trasie.</span><span class="sxs-lookup"><span data-stu-id="67ff4-114">End-to-end security.</span></span> <span data-ttu-id="67ff4-115">Zabezpieczenia transportu, takich jak Secure Sockets Layer (SSL) chroni tylko wiadomości komunikacja punkt-punkt.</span><span class="sxs-lookup"><span data-stu-id="67ff4-115">Transport security, such as Secure Sockets Layer (SSL) only secures messages when the communication is point-to-point.</span></span> <span data-ttu-id="67ff4-116">Jeśli komunikat jest kierowany do jednego lub więcej pośredników SOAP (na przykład router) przed osiągnięciem ultimate odbiornik, wiadomości nie jest chroniony, po pośrednik odczytuje go z sieci.</span><span class="sxs-lookup"><span data-stu-id="67ff4-116">If the message is routed to one or more SOAP intermediaries (for example a router) before reaching the ultimate receiver, the message itself is not protected once an intermediary reads it from the wire.</span></span> <span data-ttu-id="67ff4-117">Ponadto informacje o uwierzytelnianiu klienta jest dostępna tylko dla pierwszego pośrednik i muszą zostać ponownie przesłane ultimate odbiorcy w sposób poza pasmem, w razie potrzeby.</span><span class="sxs-lookup"><span data-stu-id="67ff4-117">Additionally, the client authentication information is available only to the first intermediary and must be re-transmitted to the ultimate receiver in out-of-band fashion, if necessary.</span></span> <span data-ttu-id="67ff4-118">Dotyczy to również zabezpieczeń SSL między poszczególnych przeskoków używa całego trasy.</span><span class="sxs-lookup"><span data-stu-id="67ff4-118">This applies even if the entire route uses SSL security between individual hops.</span></span> <span data-ttu-id="67ff4-119">Zabezpieczenia komunikatów współpracuje bezpośrednio z komunikatu i zabezpiecza XML w nim, dlatego bezpieczeństwo utrzymane komunikat niezależnie od tego, ile pośredników obejmuje przed jego ultimate odbiornika.</span><span class="sxs-lookup"><span data-stu-id="67ff4-119">Because message security works directly with the message and secures the XML in it, the security stays with the message regardless of how many intermediaries are involved before it reaches the ultimate receiver.</span></span> <span data-ttu-id="67ff4-120">Dzięki temu scenariusza true zabezpieczeń na trasie.</span><span class="sxs-lookup"><span data-stu-id="67ff4-120">This enables a true end-to-end security scenario.</span></span>  
  
-   <span data-ttu-id="67ff4-121">Większa elastyczność.</span><span class="sxs-lookup"><span data-stu-id="67ff4-121">Increased flexibility.</span></span> <span data-ttu-id="67ff4-122">Części wiadomości, a nie cały komunikat może być podpisana lub zaszyfrowana.</span><span class="sxs-lookup"><span data-stu-id="67ff4-122">Parts of the message, instead of the entire message, can be signed or encrypted.</span></span> <span data-ttu-id="67ff4-123">Oznacza to, że pośredników można wyświetlić części wiadomości, które są przeznaczone dla nich.</span><span class="sxs-lookup"><span data-stu-id="67ff4-123">This means that intermediaries can view the parts of the message that are intended for them.</span></span> <span data-ttu-id="67ff4-124">Jeśli trzeba uwidaczniania część informacji w komunikacie pośredników nadawcy, ale chce mieć pewność, że nie zostanie naruszony, może po prostu podpisz go, ale pozostawić go bez szyfrowania.</span><span class="sxs-lookup"><span data-stu-id="67ff4-124">If the sender needs to make part of the information in the message visible to the intermediaries but wants to ensure that it is not tampered with, it can just sign it but leave it unencrypted.</span></span> <span data-ttu-id="67ff4-125">Ponieważ podpis jest częścią komunikatu, ultimate adresat może sprawdzić nienaruszonej otrzymanie informacje zawarte w wiadomości.</span><span class="sxs-lookup"><span data-stu-id="67ff4-125">Since the signature is part of the message, the ultimate receiver can verify that the information in the message was received intact.</span></span> <span data-ttu-id="67ff4-126">Jednym ze scenariuszy może być pośredników SOAP, usługi zgodnie z akcji wartość nagłówka wiadomości trasy.</span><span class="sxs-lookup"><span data-stu-id="67ff4-126">One scenario might have a SOAP intermediary service that routes message according the Action header value.</span></span> <span data-ttu-id="67ff4-127">Domyślnie [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] nie szyfruje wartość akcji, ale podpisuje go, jeśli używane są zabezpieczenia wiadomości.</span><span class="sxs-lookup"><span data-stu-id="67ff4-127">By default, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] does not encrypt the Action value but signs it if message security is used.</span></span> <span data-ttu-id="67ff4-128">Dlatego te informacje są dostępne dla wszystkich pośredników, ale nie można go zmienić.</span><span class="sxs-lookup"><span data-stu-id="67ff4-128">Therefore, this information is available to all intermediaries, but no one can change it.</span></span>  
  
-   <span data-ttu-id="67ff4-129">Obsługa wielu transportów.</span><span class="sxs-lookup"><span data-stu-id="67ff4-129">Support for multiple transports.</span></span> <span data-ttu-id="67ff4-130">Zabezpieczonych wiadomości można wysyłać na wielu różnych transportów, np. potoków nazwanych i TCP, bez konieczności polegają na protokole zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="67ff4-130">You can send secured messages over many different transports, such as named pipes and TCP, without having to rely on the protocol for security.</span></span> <span data-ttu-id="67ff4-131">Z zabezpieczeniami na poziomie transportu wszystkich informacji o zabezpieczeniach jest zakresem połączenia pojedynczego danego transportu i nie jest dostępna z zawartości wiadomości.</span><span class="sxs-lookup"><span data-stu-id="67ff4-131">With transport-level security, all the security information is scoped to a single particular transport connection and is not available from the message content itself.</span></span> <span data-ttu-id="67ff4-132">Zabezpieczenia komunikatów sprawia, że komunikat bezpiecznego niezależnie od używanego do przesyłania wiadomości i kontekstu zabezpieczeń transportu bezpośrednio jest osadzony w wiadomości.</span><span class="sxs-lookup"><span data-stu-id="67ff4-132">Message security makes the message secure regardless of what transport you use to transmit the message, and the security context is directly embedded inside the message.</span></span>  
  
-   <span data-ttu-id="67ff4-133">Obsługa wielu różnych poświadczeń i oświadczenia.</span><span class="sxs-lookup"><span data-stu-id="67ff4-133">Support for a wide set of credentials and claims.</span></span> <span data-ttu-id="67ff4-134">Zabezpieczenia wiadomości są oparte na specyfikacji WS-Security, który udostępnia rozszerzalną strukturą mogą przenosić dowolny typ oświadczenia wewnątrz komunikatu protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="67ff4-134">The message security is based on the WS-Security specification, which provides an extensible framework capable of transmitting any type of claim inside the SOAP message.</span></span> <span data-ttu-id="67ff4-135">W przeciwieństwie do zabezpieczenia transportu zestaw mechanizmów uwierzytelniania lub oświadczeń, których można użyć nie jest ograniczone możliwości transportu.</span><span class="sxs-lookup"><span data-stu-id="67ff4-135">Unlike transport security, the set of authentication mechanisms, or claims, that you can use is not limited by the transport capabilities.</span></span> [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="67ff4-136"> zabezpieczenia komunikatów zawiera wiele typów uwierzytelniania i oświadczeń transmisji i może zostać rozszerzony do obsługi dodatkowych typów w razie potrzeby.</span><span class="sxs-lookup"><span data-stu-id="67ff4-136"> message security includes multiple types of authentication and claim transmission and can be extended to support additional types as necessary.</span></span> <span data-ttu-id="67ff4-137">Z tych powodów na przykład scenariusz poświadczeń federacyjnych nie jest możliwe bez zabezpieczeń wiadomości.</span><span class="sxs-lookup"><span data-stu-id="67ff4-137">For those reasons, for example, a federated credentials scenario is not possible without message security.</span></span> <span data-ttu-id="67ff4-138">Aby uzyskać więcej informacji na temat obsługuje WCF scenariuszach Federacji, zobacz [Federacja i wystawione tokeny](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="67ff4-138">For more information about federation scenarios WCF supports, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span>  
  
## <a name="how-message-and-transport-security-compare"></a><span data-ttu-id="67ff4-139">Porównanie komunikat i zabezpieczeń transportu</span><span class="sxs-lookup"><span data-stu-id="67ff4-139">How Message and Transport Security Compare</span></span>  
  
### <a name="pros-and-cons-of-transport-level-security"></a><span data-ttu-id="67ff4-140">Zalet i wad zabezpieczenia na poziomie transportu</span><span class="sxs-lookup"><span data-stu-id="67ff4-140">Pros and Cons of Transport-Level Security</span></span>  
 <span data-ttu-id="67ff4-141">Zabezpieczenia transportu ma następujące zalety:</span><span class="sxs-lookup"><span data-stu-id="67ff4-141">Transport security has the following advantages:</span></span>  
  
-   <span data-ttu-id="67ff4-142">Nie wymaga, aby komunikującymi się Stronami pojęciami XML poziom zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="67ff4-142">Does not require that the communicating parties understand XML-level security concepts.</span></span> <span data-ttu-id="67ff4-143">Może to poprawić współdziałanie, na przykład gdy HTTPS jest używany do zabezpieczenia komunikacji.</span><span class="sxs-lookup"><span data-stu-id="67ff4-143">This can improve the interoperability, for example, when HTTPS is used to secure the communication.</span></span>  
  
-   <span data-ttu-id="67ff4-144">Ogólnie rzecz biorąc lepszą wydajność.</span><span class="sxs-lookup"><span data-stu-id="67ff4-144">Generally improved performance.</span></span>  
  
-   <span data-ttu-id="67ff4-145">Sprzęt akceleratorów są dostępne.</span><span class="sxs-lookup"><span data-stu-id="67ff4-145">Hardware accelerators are available.</span></span>  
  
-   <span data-ttu-id="67ff4-146">Możliwe jest przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="67ff4-146">Streaming is possible.</span></span>  
  
 <span data-ttu-id="67ff4-147">Zabezpieczenia transportu ma następujące wady:</span><span class="sxs-lookup"><span data-stu-id="67ff4-147">Transport security has the following disadvantages:</span></span>  
  
-   <span data-ttu-id="67ff4-148">Przeskoku do-tylko przeskoku.</span><span class="sxs-lookup"><span data-stu-id="67ff4-148">Hop-to-hop only.</span></span>  
  
-   <span data-ttu-id="67ff4-149">Ograniczona i niewyginający zestaw poświadczeń.</span><span class="sxs-lookup"><span data-stu-id="67ff4-149">Limited and inextensible set of credentials.</span></span>  
  
-   <span data-ttu-id="67ff4-150">Zależne od transportu.</span><span class="sxs-lookup"><span data-stu-id="67ff4-150">Transport-dependent.</span></span>  
  
### <a name="disadvantages-of-message-level-security"></a><span data-ttu-id="67ff4-151">Wady zabezpieczenia na poziomie komunikatu</span><span class="sxs-lookup"><span data-stu-id="67ff4-151">Disadvantages of Message-Level Security</span></span>  
 <span data-ttu-id="67ff4-152">Zabezpieczenia komunikatów ma następujące wady:</span><span class="sxs-lookup"><span data-stu-id="67ff4-152">Message security has the following disadvantages:</span></span>  
  
-   <span data-ttu-id="67ff4-153">Wydajność</span><span class="sxs-lookup"><span data-stu-id="67ff4-153">Performance</span></span>  
  
-   <span data-ttu-id="67ff4-154">Nie można użyć strumienia wiadomości.</span><span class="sxs-lookup"><span data-stu-id="67ff4-154">Cannot use message streaming.</span></span>  
  
-   <span data-ttu-id="67ff4-155">Wymaga wykonania XML poziomie mechanizmy zabezpieczeń i pomocy technicznej dla specyfikacji WS-Security.</span><span class="sxs-lookup"><span data-stu-id="67ff4-155">Requires implementation of XML-level security mechanisms and support for WS-Security specification.</span></span> <span data-ttu-id="67ff4-156">Może to mieć wpływ na współdziałanie.</span><span class="sxs-lookup"><span data-stu-id="67ff4-156">This might affect the interoperability.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="67ff4-157">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="67ff4-157">See Also</span></span>  
 [<span data-ttu-id="67ff4-158">Zabezpieczanie usług i klientów</span><span class="sxs-lookup"><span data-stu-id="67ff4-158">Securing Services and Clients</span></span>](../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)  
 [<span data-ttu-id="67ff4-159">Zabezpieczenia transportu</span><span class="sxs-lookup"><span data-stu-id="67ff4-159">Transport Security</span></span>](../../../../docs/framework/wcf/feature-details/transport-security.md)  
 [<span data-ttu-id="67ff4-160">Instrukcje: korzystanie z zabezpieczeń transportu i poświadczeń komunikatów</span><span class="sxs-lookup"><span data-stu-id="67ff4-160">How to: Use Transport Security and Message Credentials</span></span>](../../../../docs/framework/wcf/feature-details/how-to-use-transport-security-and-message-credentials.md)  
 [<span data-ttu-id="67ff4-161">Microsoft Patterns and Practices, rozdział 3: Wdrażanie transportu i komunikat warstwy zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="67ff4-161">Microsoft Patterns and Practices, Chapter 3: Implementing Transport and Message Layer Security</span></span>](http://go.microsoft.com/fwlink/?LinkId=88897)
