---
title: Tokeny i oświadczenia języka SAML
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF, federation
- federation
- issued tokens
- SAML token
ms.assetid: 930b6e34-9eab-4e95-826c-4e06659bb977
ms.openlocfilehash: f1f7a15d1457390bf77f5e53c7fd657304725df6
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/08/2019
ms.locfileid: "59218215"
---
# <a name="saml-tokens-and-claims"></a><span data-ttu-id="ba69b-102">Tokeny i oświadczenia języka SAML</span><span class="sxs-lookup"><span data-stu-id="ba69b-102">SAML Tokens and Claims</span></span>
<span data-ttu-id="ba69b-103">Zabezpieczenia potwierdzenia Markup Language (SAML) *tokenów* są reprezentacji XML oświadczeń.</span><span class="sxs-lookup"><span data-stu-id="ba69b-103">Security Assertions Markup Language (SAML) *tokens* are XML representations of claims.</span></span> <span data-ttu-id="ba69b-104">Domyślnie są tokeny SAML, które korzysta z usługi Windows Communication Foundation (WCF) w scenariuszach federacyjnego zabezpieczenia *wystawionych tokenów*.</span><span class="sxs-lookup"><span data-stu-id="ba69b-104">By default, SAML tokens Windows Communication Foundation (WCF) uses in federated security scenarios are *issued tokens*.</span></span>  
  
 <span data-ttu-id="ba69b-105">Tokeny SAML, wykonaj instrukcje, które są zestawami oświadczenia wprowadzone przez jedną jednostkę o innej jednostki.</span><span class="sxs-lookup"><span data-stu-id="ba69b-105">SAML tokens carry statements that are sets of claims made by one entity about another entity.</span></span> <span data-ttu-id="ba69b-106">Na przykład w scenariuszach federacyjnego zabezpieczenia instrukcje są wykonywane przez usługę tokenu zabezpieczającego o użytkowniku w systemie.</span><span class="sxs-lookup"><span data-stu-id="ba69b-106">For example, in federated security scenarios, the statements are made by a security token service about a user in the system.</span></span> <span data-ttu-id="ba69b-107">Usługa tokenu zabezpieczającego podpisuje token SAML, aby wskazać wiarygodności instrukcji zawartych w tokenie.</span><span class="sxs-lookup"><span data-stu-id="ba69b-107">The security token service signs the SAML token to indicate the veracity of the statements contained in the token.</span></span> <span data-ttu-id="ba69b-108">Ponadto SAML token jest skojarzony z materiału klucza kryptograficznego, użytkownika w tokenie języka SAML upoważnienie wiedzę na temat.</span><span class="sxs-lookup"><span data-stu-id="ba69b-108">In addition, the SAML token is associated with cryptographic key material that the user of the SAML token proves knowledge of.</span></span> <span data-ttu-id="ba69b-109">Dowód ten spełnia jednostki uzależnionej strona, która była tokenu SAML, w rzeczywistości wystawiony dla tego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="ba69b-109">This proof satisfies the relying party that the SAML token was, in fact, issued to that user.</span></span> <span data-ttu-id="ba69b-110">Na przykład w typowym scenariuszu:</span><span class="sxs-lookup"><span data-stu-id="ba69b-110">For example, in a typical scenario:</span></span>  
  
1.  <span data-ttu-id="ba69b-111">Klient żąda tokenu SAML z usługi tokenu zabezpieczeń, którzy uwierzytelniają się do usługi tokenu zabezpieczeń przy użyciu poświadczeń Windows.</span><span class="sxs-lookup"><span data-stu-id="ba69b-111">A client requests a SAML token from a security token service, authenticating to that security token service by using Windows credentials.</span></span>  
  
2.  <span data-ttu-id="ba69b-112">Usługa tokenu zabezpieczającego wystawia SAML token do klienta.</span><span class="sxs-lookup"><span data-stu-id="ba69b-112">The security token service issues a SAML token to the client.</span></span> <span data-ttu-id="ba69b-113">SAML token jest podpisany przy użyciu certyfikatu skojarzonego z usługi tokenu zabezpieczeń i zawiera klucz potwierdzający zaszyfrowane dla usługi docelowej.</span><span class="sxs-lookup"><span data-stu-id="ba69b-113">The SAML token is signed with a certificate associated with the security token service and contains a proof key encrypted for the target service.</span></span>  
  
3.  <span data-ttu-id="ba69b-114">Klient odbiera także kopię *klucz potwierdzający*.</span><span class="sxs-lookup"><span data-stu-id="ba69b-114">The client also receives a copy of the *proof key*.</span></span> <span data-ttu-id="ba69b-115">Klient przedstawia token SAML z usługą application ( *jednostki uzależnionej*) i podpisuje wiadomości przy użyciu tego klucza weryfikacji.</span><span class="sxs-lookup"><span data-stu-id="ba69b-115">The client then presents the SAML token to the application service (the *relying party*) and signs the message with that proof key.</span></span>  
  
4.  <span data-ttu-id="ba69b-116">Podpis w tokenie języka SAML informuje uzależnionej, czy usługa tokenu zabezpieczającego wystawiony token.</span><span class="sxs-lookup"><span data-stu-id="ba69b-116">The signature over the SAML token tells the relying party that the security token service issued the token.</span></span> <span data-ttu-id="ba69b-117">Podpisu wiadomości utworzone przy użyciu klucza weryfikacji informuje uzależnionej, czy token został wystawiony dla klienta.</span><span class="sxs-lookup"><span data-stu-id="ba69b-117">The message signature created with the proof key tells the relying party that the token was issued to the client.</span></span>  
  
## <a name="from-claims-to-samlattributes"></a><span data-ttu-id="ba69b-118">Z oświadczeń SamlAttributes</span><span class="sxs-lookup"><span data-stu-id="ba69b-118">From Claims to SamlAttributes</span></span>  
 <span data-ttu-id="ba69b-119">W programie WCF, instrukcje w tokeny SAML są modelowane jako <xref:System.IdentityModel.Tokens.SamlAttribute> obiektów, które mogą zostać wypełnione bezpośrednio z <xref:System.IdentityModel.Claims.Claim> obiektów, pod warunkiem <xref:System.IdentityModel.Claims.Claim> obiekt ma <xref:System.IdentityModel.Claims.Claim.Right%2A> właściwość <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> i <xref:System.IdentityModel.Claims.Claim.Resource%2A> właściwość jest Typ <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="ba69b-119">In WCF, statements in SAML tokens are modeled as <xref:System.IdentityModel.Tokens.SamlAttribute> objects, which can be populated directly from <xref:System.IdentityModel.Claims.Claim> objects, provided the <xref:System.IdentityModel.Claims.Claim> object has a <xref:System.IdentityModel.Claims.Claim.Right%2A> property of <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> and the <xref:System.IdentityModel.Claims.Claim.Resource%2A> property is of type <xref:System.String>.</span></span> <span data-ttu-id="ba69b-120">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="ba69b-120">For example:</span></span>  
  
 [!code-csharp[c_CreateSTS#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_creatests/cs/source.cs#8)]
 [!code-vb[c_CreateSTS#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_creatests/vb/source.vb#8)]  
  
> [!NOTE]
>  <span data-ttu-id="ba69b-121">Gdy tokeny SAML są serializowane w wiadomości, wystawiane przez usługę tokenu zabezpieczającego lub gdy są one zgłaszane przez klientów do usług w ramach uwierzytelniania, maksymalny przydział rozmiaru komunikatu musi być wystarczająco duża, aby uwzględnić w tokenie języka SAML i inne części wiadomości.</span><span class="sxs-lookup"><span data-stu-id="ba69b-121">When SAML tokens are serialized in messages, either when they are issued by a security token service or when they are presented by clients to services as part of authentication, the maximum message size quota must be sufficiently large to accommodate the SAML token and the other message parts.</span></span> <span data-ttu-id="ba69b-122">W warunkach normalnych domyślne limity przydziału rozmiaru wiadomości są wystarczające.</span><span class="sxs-lookup"><span data-stu-id="ba69b-122">In normal cases, the default message size quotas are sufficient.</span></span> <span data-ttu-id="ba69b-123">Jednak w przypadku, gdy SAML token jest duże, ponieważ zawiera ona setki oświadczenia, konieczne może zwiększyć te limity, aby pomieścić Zserializowany token.</span><span class="sxs-lookup"><span data-stu-id="ba69b-123">However, in cases where a SAML token is large because it contains hundreds of claims, you may need to increase the quotas to accommodate the serialized token.</span></span> <span data-ttu-id="ba69b-124">Aby uzyskać więcej informacji, zobacz [zagadnienia dotyczące zabezpieczeń dla danych](../../../../docs/framework/wcf/feature-details/security-considerations-for-data.md).</span><span class="sxs-lookup"><span data-stu-id="ba69b-124">For more information, see [Security Considerations for Data](../../../../docs/framework/wcf/feature-details/security-considerations-for-data.md).</span></span>  
  
## <a name="from-samlattributes-to-claims"></a><span data-ttu-id="ba69b-125">Z SamlAttributes do oświadczeń</span><span class="sxs-lookup"><span data-stu-id="ba69b-125">From SamlAttributes to Claims</span></span>  
 <span data-ttu-id="ba69b-126">Po odebraniu wiadomości tokeny SAML, różne oświadczenia w tokenie SAML są przekształcane w <xref:System.IdentityModel.Policy.IAuthorizationPolicy> obiektów, które są umieszczane w <xref:System.IdentityModel.Policy.AuthorizationContext>.</span><span class="sxs-lookup"><span data-stu-id="ba69b-126">When SAML tokens are received in messages, the various statements in the SAML token are turned into <xref:System.IdentityModel.Policy.IAuthorizationPolicy> objects that are placed into the <xref:System.IdentityModel.Policy.AuthorizationContext>.</span></span> <span data-ttu-id="ba69b-127">Oświadczenia z każdej instrukcji SAML są zwracane przez <xref:System.IdentityModel.Policy.AuthorizationContext.ClaimSets%2A> właściwość <xref:System.IdentityModel.Policy.AuthorizationContext> i można zbadać w celu ustalenia, czy do uwierzytelniania i autoryzacji użytkownika.</span><span class="sxs-lookup"><span data-stu-id="ba69b-127">The claims from each SAML statement are returned by the <xref:System.IdentityModel.Policy.AuthorizationContext.ClaimSets%2A> property of the <xref:System.IdentityModel.Policy.AuthorizationContext> and can be examined to determine whether to authenticate and authorize the user.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ba69b-128">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="ba69b-128">See also</span></span>

- <xref:System.IdentityModel.Policy.AuthorizationContext>
- <xref:System.IdentityModel.Policy.IAuthorizationPolicy>
- <xref:System.IdentityModel.Claims.ClaimSet>
- [<span data-ttu-id="ba69b-129">Federacja</span><span class="sxs-lookup"><span data-stu-id="ba69b-129">Federation</span></span>](../../../../docs/framework/wcf/feature-details/federation.md)
- [<span data-ttu-id="ba69b-130">Instrukcje: tworzenie klienta federacyjnego</span><span class="sxs-lookup"><span data-stu-id="ba69b-130">How to: Create a Federated Client</span></span>](../../../../docs/framework/wcf/feature-details/how-to-create-a-federated-client.md)
- [<span data-ttu-id="ba69b-131">Instrukcje: konfigurowanie poświadczeń usługi federacyjnej</span><span class="sxs-lookup"><span data-stu-id="ba69b-131">How to: Configure Credentials on a Federation Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md)
- [<span data-ttu-id="ba69b-132">Zarządzanie oświadczeniami i autoryzacją za pomocą modelu tożsamości</span><span class="sxs-lookup"><span data-stu-id="ba69b-132">Managing Claims and Authorization with the Identity Model</span></span>](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md)
- [<span data-ttu-id="ba69b-133">Oświadczenia i tokeny</span><span class="sxs-lookup"><span data-stu-id="ba69b-133">Claims and Tokens</span></span>](../../../../docs/framework/wcf/feature-details/claims-and-tokens.md)
- [<span data-ttu-id="ba69b-134">Tworzenie oświadczenia i wartości zasobów</span><span class="sxs-lookup"><span data-stu-id="ba69b-134">Claim Creation and Resource Values</span></span>](../../../../docs/framework/wcf/feature-details/claim-creation-and-resource-values.md)
- [<span data-ttu-id="ba69b-135">Instrukcje: tworzenie oświadczenia niestandardowego</span><span class="sxs-lookup"><span data-stu-id="ba69b-135">How to: Create a Custom Claim</span></span>](../../../../docs/framework/wcf/extending/how-to-create-a-custom-claim.md)
