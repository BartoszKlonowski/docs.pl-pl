---
title: "Omówienie rozszerzonej ochrony uwierzytelniania"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 3d2ceffe-a7bf-4bd9-a5a2-9406423bd7f8
caps.latest.revision: "4"
author: BrucePerlerMS
ms.author: bruceper
manager: mbaldwin
ms.openlocfilehash: d8dadf09434778bc32bb75c5eff5ff4cb0494373
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/18/2017
---
# <a name="extended-protection-for-authentication-overview"></a><span data-ttu-id="9a5a7-102">Omówienie rozszerzonej ochrony uwierzytelniania</span><span class="sxs-lookup"><span data-stu-id="9a5a7-102">Extended Protection for Authentication Overview</span></span>
<span data-ttu-id="9a5a7-103">Rozszerzona ochrona uwierzytelniania pomaga w ochronie przed man-in--middle (MITM) ataków, w których osoba atakująca przechwytuje poświadczenia klienta i przekazuje je do serwera.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-103">Extended Protection for Authentication helps protect against man-in-the-middle (MITM) attacks, in which an attacker intercepts a client’s credentials and forwards them to a server.</span></span>  
  
 <span data-ttu-id="9a5a7-104">Rozważmy scenariusz z trzech uczestników: klienta, serwera i osoby atakującej.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-104">Consider a scenario with three participants: a client, server, and attacker.</span></span> <span data-ttu-id="9a5a7-105">Serwer nie ma adresu URL `https://server`, osoba atakująca ma adres URL `https://attacker`.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-105">The server has the URL `https://server`, whereas the attacker has the URL `https://attacker`.</span></span> <span data-ttu-id="9a5a7-106">Osoba atakująca sztuczki klienta do uzyskiwania dostępu do osoba atakująca, tak jakby był on serwera.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-106">The attacker tricks the client into accessing the attacker as if it were the server.</span></span> <span data-ttu-id="9a5a7-107">Osoba atakująca następnie wysyła żądanie do serwera.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-107">The attacker then sends a request to the server.</span></span> <span data-ttu-id="9a5a7-108">Jeśli osoba atakująca próbuje uzyskać dostęp do bezpiecznego zasobu, serwer odpowiedzi dla osoby atakującej z nagłówka WWW-Authenticate.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-108">If the attacker is trying to access a secure resource, the server replies to the attacker with a WWW-Authenticate header.</span></span> <span data-ttu-id="9a5a7-109">Osoba atakująca nie ma informacji o uwierzytelnianiu, więc wysyła klientowi nagłówka WWW-Authenticate.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-109">The attacker does not have the authentication information, so it sends the WWW-Authenticate header on to the client.</span></span> <span data-ttu-id="9a5a7-110">Klient wysyła nagłówek autoryzacji dla osoby atakującej, a osoba atakująca wysyła nagłówka do serwera i uzyskuje dostęp do bezpiecznych zasobów przy użyciu poświadczeń klienta.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-110">The client sends the Authorization header to the attacker, and the attacker sends the header on to the server and gets access to the secure resources using the client’s credentials.</span></span>  
  
 <span data-ttu-id="9a5a7-111">Obecnie gdy aplikacja kliencka uwierzytelnia na serwerze przy użyciu protokołu Kerberos, szyfrowane lub NTLM przy użyciu protokołu HTTPS, najpierw nawiązaniu kanał zabezpieczeń TLS (Transport Level) i uwierzytelnianie odbywa się przy użyciu tego kanału.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-111">Currently, when a client application authenticates itself to the server using Kerberos, Digest, or NTLM using HTTPS, a Transport Level Security (TLS) channel is first established and authentication takes place using this channel.</span></span> <span data-ttu-id="9a5a7-112">Jednakże nie istnieje żadne powiązanie między kluczem sesji generowane przez Secure Sockets Layer (SSL) i klucz sesji, który jest generowany podczas uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-112">However, there is no binding between the session key generated by Secure Sockets Layer (SSL) and the session key that is generated during authentication.</span></span> <span data-ttu-id="9a5a7-113">Tak, w poprzednim scenariuszu, jeśli komunikacja przejmuje miejsca TLS (na przykład kanał HTTPS), istnieją dwa kanały SSL utworzony: jeden między klientem i osoba atakująca i inny między osoba atakująca a serwerem.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-113">So, in the previous scenario, if the communication takes places over a TLS (such as an HTTPS channel), there are two SSL channels created: one between the client and the attacker, and another between the attacker and the server.</span></span> <span data-ttu-id="9a5a7-114">Poświadczenia klienta są wysyłane z klienta do serwera najpierw za pośrednictwem kanału SSL między klientem a osoba atakująca, a następnie przez kanał między osoba atakująca a serwerem.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-114">The client’s credentials are sent from the client to the server first over the SSL channel between the client and the attacker and then over the channel between the attacker and the server.</span></span> <span data-ttu-id="9a5a7-115">Po poświadczenia klienta uzyskać dostęp do serwera, serwer sprawdza poświadczenia bez wykrycia, czy kanał, przez który te poświadczenia zostały wysłane pochodzi z osoba atakująca, a nie przez klienta.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-115">Once the client’s credentials reach the server, the server verifies the credentials without detecting that the channel over which those credentials were sent originated with the attacker and not the client.</span></span>  
  
 <span data-ttu-id="9a5a7-116">Rozwiązaniem jest użycie zewnętrznego kanału zabezpieczonego protokołem TLS i kanał wewnętrzny uwierzytelnienia klienta oraz do przekazania kanału powiązanie Token (CBT) na serwerze.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-116">The solution is to use a TLS-secured outer channel and a client-authenticated inner channel, and to pass a Channel Binding Token (CBT) to the server.</span></span> <span data-ttu-id="9a5a7-117">CBT jest właściwością zewnętrzne kanału zabezpieczonego protokołem TLS i jest używana do powiązania zewnętrzne kanału do konwersacji za pośrednictwem kanału wewnętrzny uwierzytelnienia klienta.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-117">The CBT is a property of the TLS-secured outer channel, and is used to bind the outer channel to a conversation over the client-authenticated inner channel.</span></span>  
  
 <span data-ttu-id="9a5a7-118">W poprzednim scenariuszu CBT kanału TLS osoba atakująca klienta jest scalany z informacji o autoryzacji, które są wysyłane do serwera.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-118">In the previous scenario, the CBT of the client-attacker TLS channel is merged with the authorization information that is sent to the server.</span></span> <span data-ttu-id="9a5a7-119">Serwer obsługujący CBT porównuje CBT zawarte w informacjach uwierzytelniania klienta, co odpowiada kanału klienta atakująca, CBT podłączonych do kanału serwera atakującej.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-119">A CBT-aware server compares the CBT contained in the client authentication information, which corresponds to the client-attacker channel, to the CBT attached to the attacker-server channel.</span></span> <span data-ttu-id="9a5a7-120">CBT jest specyficzne dla docelowego kanału, więc atakująca klienta CBT jest niezgodny z serwera atakującej CBT.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-120">A CBT is specific to a channel’s destination, so the client-attacker CBT does not match the attacker-server CBT.</span></span> <span data-ttu-id="9a5a7-121">Dzięki temu serwer wykrycie ataku MITM i odmowy żądania uwierzytelnienia.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-121">This lets the server detect the MITM attack and refuse the authentication request.</span></span>  
  
 <span data-ttu-id="9a5a7-122">Po stronie klienta nie wymaga żadnych ustawień konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-122">The client side does not require any configuration setting.</span></span> <span data-ttu-id="9a5a7-123">Gdy klient został zaktualizowany do przekazania CBT do serwera, zawsze robi to.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-123">Once the client has been updated to pass the CBT to the server, it always does so.</span></span> <span data-ttu-id="9a5a7-124">Jeśli serwer również została zaktualizowana, można skonfigurować użycie CBT lub ją zignorować.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-124">If the server has also been updated, it can be configured to use the CBT or ignore it.</span></span> <span data-ttu-id="9a5a7-125">Jeśli nie został zaktualizowany, zignoruje ją.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-125">If it has not been updated, it ignores it.</span></span>  
  
 <span data-ttu-id="9a5a7-126">Serwer może mieć następujące poziomy ochrony:</span><span class="sxs-lookup"><span data-stu-id="9a5a7-126">The server can have the following levels of protection:</span></span>  
  
-   <span data-ttu-id="9a5a7-127">Brak.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-127">None.</span></span> <span data-ttu-id="9a5a7-128">Weryfikacja powiązania kanału, nie jest przeprowadzana.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-128">No channel binding validation is performed.</span></span> <span data-ttu-id="9a5a7-129">Jest to zachowanie wszystkich serwerów, które nie zostały zaktualizowane.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-129">This is the behavior of all servers that have not been updated.</span></span>  
  
-   <span data-ttu-id="9a5a7-130">Częściowe.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-130">Partial.</span></span> <span data-ttu-id="9a5a7-131">Wszystkich klientów, które zostały zaktualizowane, musisz podać informacje o powiązaniu kanału do serwera.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-131">All clients that have been updated must provide channel binding information to the server.</span></span> <span data-ttu-id="9a5a7-132">W tym celu nie masz klientów, które nie zostały zaktualizowane.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-132">Clients that have not been updated do not have to do so.</span></span> <span data-ttu-id="9a5a7-133">Jest to pośredni opcja umożliwiająca zgodności aplikacji.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-133">This is an intermediate option that allows for application compatibility.</span></span>  
  
-   <span data-ttu-id="9a5a7-134">Pełna.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-134">Full.</span></span> <span data-ttu-id="9a5a7-135">Wszyscy klienci podać informacje o powiązaniu kanału.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-135">All clients must provide channel binding information.</span></span> <span data-ttu-id="9a5a7-136">Serwer odrzuca żądania uwierzytelniania od klientów, którzy nie zostanie.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-136">The server rejects authentication requests from clients that do not do so.</span></span>  
  
 <span data-ttu-id="9a5a7-137">Aby uzyskać więcej informacji zobacz przykład Win7 CBT/rozszerzonej ochrony.</span><span class="sxs-lookup"><span data-stu-id="9a5a7-137">For more information, see the Win7 CBT/Extended Protection sample.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9a5a7-138">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="9a5a7-138">See Also</span></span>  
 [<span data-ttu-id="9a5a7-139">Model zabezpieczeń systemu Windows Server AppFabric</span><span class="sxs-lookup"><span data-stu-id="9a5a7-139">Security Model for Windows Server App Fabric</span></span>](http://go.microsoft.com/fwlink/?LinkID=201279&clcid=0x409)
