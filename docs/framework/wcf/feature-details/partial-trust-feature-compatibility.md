---
title: "Zgodność funkcji zaufania częściowego"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: a36a540b-1606-4e63-88e0-b7c59e0e6ab7
caps.latest.revision: "75"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: 127629d34c66f5a46ab73e8ddd6dbcd095b87f0f
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/21/2017
---
# <a name="partial-trust-feature-compatibility"></a><span data-ttu-id="9a35a-102">Zgodność funkcji zaufania częściowego</span><span class="sxs-lookup"><span data-stu-id="9a35a-102">Partial Trust Feature Compatibility</span></span>
[!INCLUDE[indigo1](../../../../includes/indigo1-md.md)]<span data-ttu-id="9a35a-103">obsługuje ograniczonym podzbiorem funkcji podczas uruchamiania w środowisku częściowo zaufany.</span><span class="sxs-lookup"><span data-stu-id="9a35a-103"> supports a limited subset of functionality when running in a partially-trusted environment.</span></span> <span data-ttu-id="9a35a-104">Funkcje obsługiwane w częściowej relacji zaufania są została zaprojektowana dla określonych scenariuszy zgodnie z opisem w [obsługiwane scenariusze wdrażania](../../../../docs/framework/wcf/feature-details/supported-deployment-scenarios.md) tematu.</span><span class="sxs-lookup"><span data-stu-id="9a35a-104">The features supported in partial trust are designed around a specific set of scenarios as described in the [Supported Deployment Scenarios](../../../../docs/framework/wcf/feature-details/supported-deployment-scenarios.md) topic.</span></span>  
  
## <a name="minimum-permission-requirements"></a><span data-ttu-id="9a35a-105">Wymagania dotyczące minimalnych uprawnień</span><span class="sxs-lookup"><span data-stu-id="9a35a-105">Minimum Permission Requirements</span></span>  
 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="9a35a-106">obsługuje podzbiór funkcji aplikacji uruchomionych w jednej z następujących zestawów standardowe uprawnienie o nazwie:</span><span class="sxs-lookup"><span data-stu-id="9a35a-106"> supports a subset of features in applications running under either of the following standard named permission sets:</span></span>  
  
-   <span data-ttu-id="9a35a-107">Średnia uprawnień zaufania</span><span class="sxs-lookup"><span data-stu-id="9a35a-107">Medium Trust permissions</span></span>  
  
-   <span data-ttu-id="9a35a-108">Uprawnienia strefy Internet</span><span class="sxs-lookup"><span data-stu-id="9a35a-108">Internet Zone permissions</span></span>  
  
 <span data-ttu-id="9a35a-109">Podjęto próbę użycia [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] w częściowo zaufane aplikacje z bardziej restrykcyjnymi uprawnieniami może spowodować wystąpienie wyjątków zabezpieczeń w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-109">Attempting to use [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] in partially-trusted applications with more restrictive permissions may result in security exceptions at runtime.</span></span>  
  
## <a name="contracts"></a><span data-ttu-id="9a35a-110">Kontrakty</span><span class="sxs-lookup"><span data-stu-id="9a35a-110">Contracts</span></span>  
 <span data-ttu-id="9a35a-111">Kontrakty obowiązują następujące ograniczenia, gdy w częściowej relacji zaufania działa:</span><span class="sxs-lookup"><span data-stu-id="9a35a-111">Contracts are subject to the following restrictions when running under partial trust:</span></span>  
  
-   <span data-ttu-id="9a35a-112">Klasy usługi, który implementuje `[ServiceContract]` interfejs musi być `public` i mieć `public` konstruktora.</span><span class="sxs-lookup"><span data-stu-id="9a35a-112">The service class that implements the `[ServiceContract]` interface must be `public` and have a `public` constructor.</span></span> <span data-ttu-id="9a35a-113">Jeśli definiuje `[OperationContract]` metod, muszą być `public`.</span><span class="sxs-lookup"><span data-stu-id="9a35a-113">If it defines `[OperationContract]` methods, these must be `public`.</span></span> <span data-ttu-id="9a35a-114">Jeśli zamiast tego implementuje `[ServiceContract]` interfejs, może być jawne implementacje tych metod lub `private`, pod warunkiem że `[ServiceContract]` interfejs jest `public`.</span><span class="sxs-lookup"><span data-stu-id="9a35a-114">If it instead implements a `[ServiceContract]` interface, those method implementations can be explicit or `private`, provided that the `[ServiceContract]` interface is `public`.</span></span>  
  
-   <span data-ttu-id="9a35a-115">Korzystając z `[ServiceKnownType]` atrybut, musi być określona metoda `public`.</span><span class="sxs-lookup"><span data-stu-id="9a35a-115">When using the `[ServiceKnownType]` attribute, the method specified must be `public`.</span></span>  
  
-   <span data-ttu-id="9a35a-116">`[MessageContract]`klasy i ich elementy Członkowskie mogą być `public`.</span><span class="sxs-lookup"><span data-stu-id="9a35a-116">`[MessageContract]` classes and their members can be `public`.</span></span> <span data-ttu-id="9a35a-117">Jeśli `[MessageContract]` klasa jest zdefiniowana w zestawie aplikacji może być `internal` i mieć `internal` elementów członkowskich.</span><span class="sxs-lookup"><span data-stu-id="9a35a-117">If the `[MessageContract]` class is defined in the application assembly it can be `internal` and have `internal` members.</span></span>  
  
## <a name="system-provided-bindings"></a><span data-ttu-id="9a35a-118">Powiązania dostarczane przez system</span><span class="sxs-lookup"><span data-stu-id="9a35a-118">System-Provided Bindings</span></span>  
 <span data-ttu-id="9a35a-119"><xref:System.ServiceModel.BasicHttpBinding> i <xref:System.ServiceModel.WebHttpBinding> są w pełni obsługiwane w środowisku częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-119">The <xref:System.ServiceModel.BasicHttpBinding> and <xref:System.ServiceModel.WebHttpBinding> are fully supported in a partial trust environment.</span></span> <span data-ttu-id="9a35a-120"><xref:System.ServiceModel.WSHttpBinding> Jest obsługiwana w przypadku tylko tryb zabezpieczeń Transport.</span><span class="sxs-lookup"><span data-stu-id="9a35a-120">The <xref:System.ServiceModel.WSHttpBinding> is supported for Transport security mode only.</span></span>  
  
 <span data-ttu-id="9a35a-121">Powiązań, które używają transportu innego niż HTTP, takie jak <xref:System.ServiceModel.NetTcpBinding>, <xref:System.ServiceModel.NetNamedPipeBinding>, lub <xref:System.ServiceModel.NetMsmqBinding>, nie są obsługiwane podczas uruchamiania w środowisku częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-121">Bindings that use transports other than HTTP, such as the <xref:System.ServiceModel.NetTcpBinding>, the <xref:System.ServiceModel.NetNamedPipeBinding>, or the <xref:System.ServiceModel.NetMsmqBinding>, are not supported when running in a partial trust environment.</span></span>  
  
## <a name="custom-bindings"></a><span data-ttu-id="9a35a-122">Powiązania niestandardowe</span><span class="sxs-lookup"><span data-stu-id="9a35a-122">Custom Bindings</span></span>  
 <span data-ttu-id="9a35a-123">Powiązania niestandardowe mogą być tworzone i używane w środowisku częściowej relacji zaufania, ale musi wykonać ograniczenia określone w tej sekcji.</span><span class="sxs-lookup"><span data-stu-id="9a35a-123">Custom bindings can be created and used in a partial trust environment, but must follow the restrictions specified in this section.</span></span>  
  
### <a name="transports"></a><span data-ttu-id="9a35a-124">Transporty</span><span class="sxs-lookup"><span data-stu-id="9a35a-124">Transports</span></span>  
 <span data-ttu-id="9a35a-125">Jedyną dozwoloną są elementy powiązania transportu <xref:System.ServiceModel.Channels.HttpTransportBindingElement> i <xref:System.ServiceModel.Channels.HttpsTransportBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="9a35a-125">The only allowed transport binding elements are <xref:System.ServiceModel.Channels.HttpTransportBindingElement> and <xref:System.ServiceModel.Channels.HttpsTransportBindingElement>.</span></span>  
  
### <a name="encoders"></a><span data-ttu-id="9a35a-126">Kodery</span><span class="sxs-lookup"><span data-stu-id="9a35a-126">Encoders</span></span>  
 <span data-ttu-id="9a35a-127">Następujące kodery są dozwolone:</span><span class="sxs-lookup"><span data-stu-id="9a35a-127">The following encoders are allowed:</span></span>  
  
-   <span data-ttu-id="9a35a-128">Koder tekstu (<xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>).</span><span class="sxs-lookup"><span data-stu-id="9a35a-128">The text encoder (<xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>).</span></span>  
  
-   <span data-ttu-id="9a35a-129">Kodera binarnego (<xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>).</span><span class="sxs-lookup"><span data-stu-id="9a35a-129">The binary encoder (<xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>).</span></span>  
  
-   <span data-ttu-id="9a35a-130">Koder komunikatów sieci Web (<xref:System.ServiceModel.Channels.WebMessageEncodingBindingElement>).</span><span class="sxs-lookup"><span data-stu-id="9a35a-130">The Web Message encoder (<xref:System.ServiceModel.Channels.WebMessageEncodingBindingElement>).</span></span>  
  
 <span data-ttu-id="9a35a-131">Kodery mechanizmu optymalizacji transmisji wiadomości (MTOM) nie są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="9a35a-131">The Message Transmission Optimization Mechanism (MTOM) encoders are not supported.</span></span>  
  
### <a name="security"></a><span data-ttu-id="9a35a-132">Zabezpieczenia</span><span class="sxs-lookup"><span data-stu-id="9a35a-132">Security</span></span>  
 <span data-ttu-id="9a35a-133">Częściowo zaufane aplikacje mogą używać [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]na poziomie transportu funkcje zabezpieczeń do zabezpieczania komunikacji.</span><span class="sxs-lookup"><span data-stu-id="9a35a-133">Partially-trusted applications can use [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]'s transport-level security features for securing their communication.</span></span> <span data-ttu-id="9a35a-134">Zabezpieczenia na poziomie komunikatu nie jest obsługiwana.</span><span class="sxs-lookup"><span data-stu-id="9a35a-134">Message-level security is not supported.</span></span> <span data-ttu-id="9a35a-135">Konfigurowanie powiązania w celu użycia zabezpieczenia na poziomie komunikatu powoduje wyjątek w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-135">Configuring a binding to use message-level security results in an exception at runtime.</span></span>  
  
### <a name="unsupported-bindings"></a><span data-ttu-id="9a35a-136">Nieobsługiwany powiązania</span><span class="sxs-lookup"><span data-stu-id="9a35a-136">Unsupported Bindings</span></span>  
 <span data-ttu-id="9a35a-137">Powiązań używających niezawodna obsługa komunikatów, transakcje lub zabezpieczenia na poziomie komunikatu nie są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="9a35a-137">Bindings that use reliable messaging, transactions, or message-level security are not supported.</span></span>  
  
## <a name="serialization"></a><span data-ttu-id="9a35a-138">Serializacja</span><span class="sxs-lookup"><span data-stu-id="9a35a-138">Serialization</span></span>  
 <span data-ttu-id="9a35a-139">Zarówno <xref:System.Runtime.Serialization.DataContractSerializer> i <xref:System.Xml.Serialization.XmlSerializer> są obsługiwane w środowisku częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-139">Both the <xref:System.Runtime.Serialization.DataContractSerializer> and the <xref:System.Xml.Serialization.XmlSerializer> are supported in a partial trust environment.</span></span> <span data-ttu-id="9a35a-140">Jednak użycie <xref:System.Runtime.Serialization.DataContractSerializer> podlega następujące warunki:</span><span class="sxs-lookup"><span data-stu-id="9a35a-140">However, use of the <xref:System.Runtime.Serialization.DataContractSerializer> is subject to the following conditions:</span></span>  
  
-   <span data-ttu-id="9a35a-141">Wszystkie serializacji `[DataContract]` typy muszą być `public`.</span><span class="sxs-lookup"><span data-stu-id="9a35a-141">All serializable `[DataContract]` types must be `public`.</span></span>  
  
-   <span data-ttu-id="9a35a-142">Wszystkie serializacji `[DataMember]` pola lub właściwości w `[DataContract]` typu musi być publiczny i odczytu/zapisu.</span><span class="sxs-lookup"><span data-stu-id="9a35a-142">All serializable `[DataMember]` fields or properties in a `[DataContract]` type must be public and read/write.</span></span> <span data-ttu-id="9a35a-143">Serializacja i deserializacja [tylko do odczytu](http://go.microsoft.com/fwlink/?LinkID=98854) pola nie jest obsługiwane podczas uruchamiania [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] w częściowo zaufanych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="9a35a-143">The serialization and deserialization of [readonly](http://go.microsoft.com/fwlink/?LinkID=98854) fields is not supported when running [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] in a partially-trusted application.</span></span>  
  
-   <span data-ttu-id="9a35a-144">`[Serializable]` /ISerializable model programowania nie jest obsługiwana w środowisku częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-144">The `[Serializable]`/ISerializable programming model is not supported in a partial trust environment.</span></span>  
  
-   <span data-ttu-id="9a35a-145">Znane typy musi określona w konfiguracji poziomie komputera (machine.config) lub kodu.</span><span class="sxs-lookup"><span data-stu-id="9a35a-145">Known types must be specified in code or machine-level configuration (machine.config).</span></span> <span data-ttu-id="9a35a-146">W aplikacjach na poziomie konfiguracji ze względów bezpieczeństwa nie można określić znanych typów.</span><span class="sxs-lookup"><span data-stu-id="9a35a-146">Known types cannot be specified in application-level configuration for security reasons.</span></span>  
  
-   <span data-ttu-id="9a35a-147">Typy, które implementują <xref:System.Runtime.Serialization.IObjectReference> Zgłoś wyjątek w środowisku częściowo zaufany.</span><span class="sxs-lookup"><span data-stu-id="9a35a-147">Types that implement <xref:System.Runtime.Serialization.IObjectReference> throw an exception in a partially-trusted environment.</span></span>  
  
 <span data-ttu-id="9a35a-148">W sekcji serializacji w [częściowego zaufania najlepsze rozwiązania w zakresie](../../../../docs/framework/wcf/feature-details/partial-trust-best-practices.md) Aby uzyskać więcej informacji o zabezpieczeniach, używając <xref:System.Runtime.Serialization.DataContractSerializer> bezpiecznie w aplikacji częściowo zaufany.</span><span class="sxs-lookup"><span data-stu-id="9a35a-148">See the Serialization section in [Partial Trust Best Practices](../../../../docs/framework/wcf/feature-details/partial-trust-best-practices.md) for more information about security when using <xref:System.Runtime.Serialization.DataContractSerializer> safely in a partially-trusted application.</span></span>  
  
### <a name="collection-types"></a><span data-ttu-id="9a35a-149">Typy kolekcji</span><span class="sxs-lookup"><span data-stu-id="9a35a-149">Collection Types</span></span>  
 <span data-ttu-id="9a35a-150">Niektóre typy kolekcji implementować jednocześnie <xref:System.Collections.Generic.IEnumerable%601> i <xref:System.Collections.IEnumerable>.</span><span class="sxs-lookup"><span data-stu-id="9a35a-150">Some collection types implement both <xref:System.Collections.Generic.IEnumerable%601> and <xref:System.Collections.IEnumerable>.</span></span> <span data-ttu-id="9a35a-151">Przykłady typów, które implementują <xref:System.Collections.Generic.ICollection%601>.</span><span class="sxs-lookup"><span data-stu-id="9a35a-151">Examples include types that implement <xref:System.Collections.Generic.ICollection%601>.</span></span> <span data-ttu-id="9a35a-152">Można zaimplementować takich typów `public` implementacja `GetEnumerator()`i jawną implementację elementu `GetEnumerator()`.</span><span class="sxs-lookup"><span data-stu-id="9a35a-152">Such types can implement a `public` implementation of `GetEnumerator()`, and an explicit implementation of `GetEnumerator()`.</span></span> <span data-ttu-id="9a35a-153">W takim przypadku <xref:System.Runtime.Serialization.DataContractSerializer> wywołuje `public` implementacja `GetEnumerator()`, a nie jawną implementację elementu `GetEnumerator()`.</span><span class="sxs-lookup"><span data-stu-id="9a35a-153">In this case, <xref:System.Runtime.Serialization.DataContractSerializer> invokes the `public` implementation of `GetEnumerator()`, and not the explicit implementation of `GetEnumerator()`.</span></span> <span data-ttu-id="9a35a-154">Jeśli żadna z `GetEnumerator()` są implementacje `public` i wszystkie jawnej implementacji, następnie <xref:System.Runtime.Serialization.DataContractSerializer> wywołuje `IEnumerable.GetEnumerator()`.</span><span class="sxs-lookup"><span data-stu-id="9a35a-154">If none of the `GetEnumerator()` implementations are `public` and all are explicit implementations, then <xref:System.Runtime.Serialization.DataContractSerializer> invokes `IEnumerable.GetEnumerator()`.</span></span>  
  
 <span data-ttu-id="9a35a-155">Kolekcji typów, kiedy [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] działa w środowisku częściowej relacji zaufania, jeśli żadna z `GetEnumerator()` są implementacje `public`, lub żaden z nich nie jest jawne implementacje interfejsu, a następnie jest zgłaszany wyjątek zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="9a35a-155">For collection types when [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is running in a partial trust environment, if none of the `GetEnumerator()` implementations are `public`, or none of them are explicit interface implementations, then a security exception is thrown.</span></span>  
  
### <a name="netdatacontractserializer"></a><span data-ttu-id="9a35a-156">NetDataContractSerializer</span><span class="sxs-lookup"><span data-stu-id="9a35a-156">NetDataContractSerializer</span></span>  
 <span data-ttu-id="9a35a-157">Wiele typów kolekcji .NET Framework, takich jak <xref:System.Collections.Generic.List%601>, <xref:System.Collections.ArrayList>, <xref:System.Collections.Generic.Dictionary%602> i <xref:System.Collections.Hashtable> nie są obsługiwane przez <xref:System.Runtime.Serialization.NetDataContractSerializer> w częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-157">Many .NET Framework collection types such as <xref:System.Collections.Generic.List%601>, <xref:System.Collections.ArrayList>, <xref:System.Collections.Generic.Dictionary%602> and <xref:System.Collections.Hashtable> are not supported by the <xref:System.Runtime.Serialization.NetDataContractSerializer> in partial trust.</span></span> <span data-ttu-id="9a35a-158">Te typy mają `[Serializable]` ustawiony atrybut i jak wspomniano wcześniej, w sekcji serializacji, ten atrybut nie jest obsługiwany w częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-158">These types have the `[Serializable]` attribute set, and as stated previously in the Serialization section, this attribute is not supported in partial trust.</span></span> <span data-ttu-id="9a35a-159"><xref:System.Runtime.Serialization.DataContractSerializer> Traktuje kolekcje w specjalny sposób i w związku z tym jest możliwość obejścia tego ograniczenia, ale <xref:System.Runtime.Serialization.NetDataContractSerializer> ma taki mechanizm obejść to ograniczenie.</span><span class="sxs-lookup"><span data-stu-id="9a35a-159">The <xref:System.Runtime.Serialization.DataContractSerializer> treats collections in a special way and is thus able to get around this restriction, but the <xref:System.Runtime.Serialization.NetDataContractSerializer> has no such mechanism to circumvent this restriction.</span></span>  
  
 <span data-ttu-id="9a35a-160"><xref:System.DateTimeOffset> Typ nie jest obsługiwany przez <xref:System.Runtime.Serialization.NetDataContractSerializer> w częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-160">The <xref:System.DateTimeOffset> type is not supported by the <xref:System.Runtime.Serialization.NetDataContractSerializer> in partial trust.</span></span>  
  
 <span data-ttu-id="9a35a-161">Surogat nie można używać z <xref:System.Runtime.Serialization.NetDataContractSerializer> (przy użyciu <xref:System.Runtime.Serialization.SurrogateSelector> mechanizmu) podczas uruchamiania w częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-161">A surrogate cannot be used with the <xref:System.Runtime.Serialization.NetDataContractSerializer> (using the <xref:System.Runtime.Serialization.SurrogateSelector> mechanism) when running in partial trust.</span></span> <span data-ttu-id="9a35a-162">Należy pamiętać, że to ograniczenie dotyczy przy użyciu Surogat, aby nie szeregując go.</span><span class="sxs-lookup"><span data-stu-id="9a35a-162">Note that this restriction applies to using a surrogate, not to serializing it.</span></span>  
  
## <a name="enabling-common-behaviors-to-run"></a><span data-ttu-id="9a35a-163">Włączanie zachowań wspólnych do uruchomienia</span><span class="sxs-lookup"><span data-stu-id="9a35a-163">Enabling Common Behaviors to Run</span></span>  
 <span data-ttu-id="9a35a-164">Zachowania usługi lub punkt końcowy nie jest oznaczony atrybutem <xref:System.Security.AllowPartiallyTrustedCallersAttribute> atrybutu (APTCA), które są dodawane do [ \<commonBehaviors >](../../../../docs/framework/configure-apps/file-schema/wcf/commonbehaviors.md) sekcji pliku konfiguracji nie są uruchamiane, gdy aplikacja działa w częściowej relacji zaufania środowisko i żaden wyjątek jest zgłaszany w takiej sytuacji.</span><span class="sxs-lookup"><span data-stu-id="9a35a-164">Service or endpoint behaviors not marked with the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> attribute (APTCA) that are added to the [\<commonBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/commonbehaviors.md) section of a configuration file are not run when the application runs in a partial trust environment and no exception is thrown when this occurs.</span></span> <span data-ttu-id="9a35a-165">Aby wymusić uruchamianie zachowań wspólnych, wykonaj jedną z następujących opcji:</span><span class="sxs-lookup"><span data-stu-id="9a35a-165">To enforce the running of common behaviors, you must do one of the following options:</span></span>  
  
-   <span data-ttu-id="9a35a-166">Oznacz z typowych zachowanie w przypadku <xref:System.Security.AllowPartiallyTrustedCallersAttribute> atrybutu, dzięki czemu można uruchamiać, gdy wdrożony jako aplikacja częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-166">Mark your common behavior with the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> attribute so that it can run when deployed as a partial trust application.</span></span> <span data-ttu-id="9a35a-167">Należy pamiętać, że wpis rejestru można ustawić na komputerze, aby zapobiec oznaczone atrybutem APTCA zestawy uruchamianie.</span><span class="sxs-lookup"><span data-stu-id="9a35a-167">Note that a registry entry can be set on the computer to prevent APTCA-marked assemblies from running.</span></span> <span data-ttu-id="9a35a-168">.</span><span class="sxs-lookup"><span data-stu-id="9a35a-168">.</span></span>  
  
-   <span data-ttu-id="9a35a-169">Upewnij się, że jeśli aplikacja jest wdrażana jako aplikacja całkowicie zaufane, że użytkownicy nie mogą modyfikować ustawienia zabezpieczeń dostępu kodu do uruchomienia aplikacji w środowisku częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-169">Ensure that if the application is deployed as a fully-trusted application that users cannot modify the code-access security settings to run the application in a partial trust environment.</span></span> <span data-ttu-id="9a35a-170">Mogą one to robić, zachowanie nie jest uruchamiane, a nie wyjątek.</span><span class="sxs-lookup"><span data-stu-id="9a35a-170">If they can do so, the behavior does not run and no exception is thrown.</span></span> <span data-ttu-id="9a35a-171">Aby to zapewnić, zobacz **levelfinal** opcję przy użyciu [Caspol.exe (narzędzie zasad zabezpieczenia dostępu kodu)](../../../../docs/framework/tools/caspol-exe-code-access-security-policy-tool.md).</span><span class="sxs-lookup"><span data-stu-id="9a35a-171">To ensure this, see the **levelfinal** option using [Caspol.exe (Code Access Security Policy Tool)](../../../../docs/framework/tools/caspol-exe-code-access-security-policy-tool.md).</span></span>  
  
 [!INCLUDE[crexample](../../../../includes/crexample-md.md)]<span data-ttu-id="9a35a-172">wspólnego zachowania, zobacz [porady: blokowanie dół punktów końcowych w przedsiębiorstwie](../../../../docs/framework/wcf/extending/how-to-lock-down-endpoints-in-the-enterprise.md).</span><span class="sxs-lookup"><span data-stu-id="9a35a-172"> a common behavior, see [How to: Lock Down Endpoints in the Enterprise](../../../../docs/framework/wcf/extending/how-to-lock-down-endpoints-in-the-enterprise.md).</span></span>  
  
## <a name="configuration"></a><span data-ttu-id="9a35a-173">Konfiguracja</span><span class="sxs-lookup"><span data-stu-id="9a35a-173">Configuration</span></span>  
 <span data-ttu-id="9a35a-174">Z jednym wyjątkiem częściowo zaufanego kodu można ładować tylko [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] sekcji konfiguracyjnych w lokalnym `app.config` pliku.</span><span class="sxs-lookup"><span data-stu-id="9a35a-174">With one exception, partially-trusted code can only load [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] configuration sections in the local `app.config` file.</span></span> <span data-ttu-id="9a35a-175">Aby załadować [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] konfiguracji sekcje tego odwołania [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] ConfigurationPermission(Unrestricted) wymaga sekcji w pliku machine.config lub głównym pliku web.config.</span><span class="sxs-lookup"><span data-stu-id="9a35a-175">To load [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] configuration sections that reference [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] sections in machine.config or in a root web.config file requires ConfigurationPermission(Unrestricted).</span></span> <span data-ttu-id="9a35a-176">Bez tego uprawnienia odwołuje się do [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] sekcji konfiguracyjnych (zachowania, powiązania) poza wyniki do pliku lokalnej konfiguracji wystąpił wyjątek podczas ładowania konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="9a35a-176">Without this permission, references to [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] configuration sections (behaviors, bindings) outside of the local configuration file results in an exception when the configuration is loaded.</span></span>  
  
 <span data-ttu-id="9a35a-177">Jedynym wyjątkiem jest znany typ konfiguracji do serializacji, zgodnie z opisem w sekcji serializacji tego tematu.</span><span class="sxs-lookup"><span data-stu-id="9a35a-177">The one exception is known-type configuration for serialization, as described in the Serialization section of this topic.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="9a35a-178">Rozszerzenia konfiguracji są obsługiwane tylko w przypadku, gdy uruchomiona w ramach pełnego zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-178">Configuration extensions are only supported when running under Full Trust.</span></span>  
  
## <a name="diagnostics"></a><span data-ttu-id="9a35a-179">Diagnostyka</span><span class="sxs-lookup"><span data-stu-id="9a35a-179">Diagnostics</span></span>  
  
### <a name="event-logging"></a><span data-ttu-id="9a35a-180">Rejestrowanie zdarzeń</span><span class="sxs-lookup"><span data-stu-id="9a35a-180">Event Logging</span></span>  
 <span data-ttu-id="9a35a-181">Rejestrowanie zdarzeń ograniczone jest obsługiwane w częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-181">Limited event logging is supported under partial trust.</span></span> <span data-ttu-id="9a35a-182">Tylko usługi aktywacji usterek i błędów rejestrowania śledzenia/wiadomości są rejestrowane w dzienniku zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="9a35a-182">Only service activation faults and tracing/message logging failures are logged to the Event Log.</span></span> <span data-ttu-id="9a35a-183">Maksymalna liczba zdarzeń, które mogą być rejestrowane przez proces wynosi 5, aby uniknąć zapisywania nadmiernej liczby komunikatów w dzienniku zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="9a35a-183">The maximum number of events that can be logged by a process is 5, to avoid writing excessive messages to the Event Log.</span></span>  
  
### <a name="message-logging"></a><span data-ttu-id="9a35a-184">Rejestrowanie komunikatów</span><span class="sxs-lookup"><span data-stu-id="9a35a-184">Message Logging</span></span>  
 <span data-ttu-id="9a35a-185">Komunikat rejestrowania nie działa podczas [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] jest uruchamiana w środowisku częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-185">Message logging does not work when [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is run in a partial trust environment.</span></span> <span data-ttu-id="9a35a-186">Jeśli włączona w częściowej relacji zaufania, nie wystąpi niepowodzenie usługi aktywacji, ale nie jest rejestrowany.</span><span class="sxs-lookup"><span data-stu-id="9a35a-186">If enabled under partial trust, it does not fail service activation, but no message is logged.</span></span>  
  
### <a name="tracing"></a><span data-ttu-id="9a35a-187">Śledzenie</span><span class="sxs-lookup"><span data-stu-id="9a35a-187">Tracing</span></span>  
 <span data-ttu-id="9a35a-188">Funkcja śledzenia z ograniczeniami jest dostępna podczas uruchamiania w środowisku częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-188">Restricted tracing functionality is available when running in a partial trust environment.</span></span> <span data-ttu-id="9a35a-189">W <`listeners`> są tylko typy, które można dodać elementu w pliku konfiguracji, <xref:System.Diagnostics.TextWriterTraceListener> i nowych <xref:System.Diagnostics.EventSchemaTraceListener>.</span><span class="sxs-lookup"><span data-stu-id="9a35a-189">In the <`listeners`> element in the configuration file, the only types that you can add are <xref:System.Diagnostics.TextWriterTraceListener> and the new <xref:System.Diagnostics.EventSchemaTraceListener>.</span></span> <span data-ttu-id="9a35a-190">Użyj standardowego <xref:System.Diagnostics.XmlWriterTraceListener> może spowodować dzienniki niekompletne lub niepoprawne.</span><span class="sxs-lookup"><span data-stu-id="9a35a-190">Use of the standard <xref:System.Diagnostics.XmlWriterTraceListener> may result in incomplete or incorrect logs.</span></span>  
  
 <span data-ttu-id="9a35a-191">Źródła śledzenia obsługiwane są:</span><span class="sxs-lookup"><span data-stu-id="9a35a-191">Supported trace sources are:</span></span>  
  
-   <xref:System.ServiceModel>  
  
-   <xref:System.Runtime.Serialization>  
  
-   <span data-ttu-id="9a35a-192"><xref:System.IdentityModel.Claims>, <xref:System.IdentityModel.Policy>, <xref:System.IdentityModel.Selectors>, i <xref:System.IdentityModel.Tokens>.</span><span class="sxs-lookup"><span data-stu-id="9a35a-192"><xref:System.IdentityModel.Claims>, <xref:System.IdentityModel.Policy>, <xref:System.IdentityModel.Selectors>, and <xref:System.IdentityModel.Tokens>.</span></span>  
  
 <span data-ttu-id="9a35a-193">Następujące źródła śledzenia nie są obsługiwane:</span><span class="sxs-lookup"><span data-stu-id="9a35a-193">The following trace sources are not supported:</span></span>  
  
-   <span data-ttu-id="9a35a-194">CardSpace</span><span class="sxs-lookup"><span data-stu-id="9a35a-194">CardSpace</span></span>  
  
-   <xref:System.IO.Log>  

-   <span data-ttu-id="9a35a-195">[System.ServiceModel.Internal.TransactionBridge](https://msdn.microsoft.com/library/system.servicemodel.internal.transactionbridge.aspx)]</span><span class="sxs-lookup"><span data-stu-id="9a35a-195">[System.ServiceModel.Internal.TransactionBridge](https://msdn.microsoft.com/library/system.servicemodel.internal.transactionbridge.aspx)]</span></span>
  
 <span data-ttu-id="9a35a-196">Następujące elementy członkowskie z <xref:System.Diagnostics.TraceOptions> wyliczenie nie należy określać:</span><span class="sxs-lookup"><span data-stu-id="9a35a-196">The following members of the <xref:System.Diagnostics.TraceOptions> enumeration should not be specified:</span></span>  
  
-   <xref:System.Diagnostics.TraceOptions.Callstack?displayProperty=nameWithType>  
  
-   <xref:System.Diagnostics.TraceOptions.ProcessId?displayProperty=nameWithType>  
  
 <span data-ttu-id="9a35a-197">Korzystając z śledzenie w środowisku częściowej relacji zaufania, upewnij się, że aplikacja ma wystarczające uprawnienia do przechowywania danych wyjściowych obiektu nasłuchującego śledzenia.</span><span class="sxs-lookup"><span data-stu-id="9a35a-197">When using tracing in a partial trust environment, ensure that the application has sufficient permissions to store the output of the trace listener.</span></span> <span data-ttu-id="9a35a-198">Na przykład w przypadku korzystania z <xref:System.Diagnostics.TextWriterTraceListener> do zapisywania danych wyjściowych śledzenia w pliku tekstowym, sprawdź, czy aplikacja ma niezbędne FileIOPermission, trzeba zapisać do pliku śledzenia.</span><span class="sxs-lookup"><span data-stu-id="9a35a-198">For example, when using the <xref:System.Diagnostics.TextWriterTraceListener> to write trace output to a text file, ensure that the application has the necessary FileIOPermission required to successfully write to the trace file.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9a35a-199">Aby uniknąć przepełnienia pliki śledzenia z błędami zduplikowane [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] wyłącza śledzenie zasobów lub akcji po pierwszym błędzie zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="9a35a-199">To avoid flooding the trace files with duplicate errors, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] disables tracing of the resource or action after the first security failure.</span></span> <span data-ttu-id="9a35a-200">Istnieje jeden wyjątek śledzenia dla każdego dostęp do zasobów nie powiodło się, próby dostępu do zasobu lub wykonanie akcji po raz pierwszy.</span><span class="sxs-lookup"><span data-stu-id="9a35a-200">There is one exception trace for each failed resource access, the first time an attempt is made to access the resource or perform the action.</span></span>  
  
## <a name="wcf-service-host"></a><span data-ttu-id="9a35a-201">Host usługi WCF</span><span class="sxs-lookup"><span data-stu-id="9a35a-201">WCF Service Host</span></span>  
 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="9a35a-202">host usługi nie obsługuje częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-202"> service host does not support partial trust.</span></span> <span data-ttu-id="9a35a-203">Jeśli chcesz użyć [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] usługi w częściowej relacji zaufania, nie używaj [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] szablon projektu biblioteki usługi w [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)] do tworzenia usługi.</span><span class="sxs-lookup"><span data-stu-id="9a35a-203">If you want to use a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service in partial trust, do not use the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] Service Library Project template in [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)] to build your service.</span></span> <span data-ttu-id="9a35a-204">Zamiast tego utwórz nową witrynę sieci Web w [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)] , wybierając [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] szablonu witryny sieci Web usługi, który może obsługiwać usługi na serwerze sieci Web, na którym [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] jest obsługiwane w częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-204">Instead, create a new Web site in [!INCLUDE[vsprvs](../../../../includes/vsprvs-md.md)] by choosing the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service Web site template, which can host the service in a Web server on which [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] partial trust is supported.</span></span>  
  
## <a name="other-limitations"></a><span data-ttu-id="9a35a-205">Inne ograniczenia</span><span class="sxs-lookup"><span data-stu-id="9a35a-205">Other Limitations</span></span>  
 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="9a35a-206">jest zazwyczaj ograniczone do zagadnienia dotyczące zabezpieczeń nakłada na nią hostingu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="9a35a-206"> is generally limited to the security considerations imposed upon it by the hosting application.</span></span> <span data-ttu-id="9a35a-207">Na przykład jeśli [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] znajduje się w języku XAML przeglądarki aplikacji (XBAP), jego podlega XBAP ograniczenia, zgodnie z opisem w [zabezpieczenia systemu Windows Presentation Foundation częściowego zaufania](http://go.microsoft.com/fwlink/?LinkId=89138).</span><span class="sxs-lookup"><span data-stu-id="9a35a-207">For example, if [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is hosted in a XAML Browser Application (XBAP), it is subject to XBAP limitations, as described in [Windows Presentation Foundation Partial Trust Security](http://go.microsoft.com/fwlink/?LinkId=89138).</span></span>  
  
 <span data-ttu-id="9a35a-208">Podczas uruchamiania indigo2 w środowisku częściowej relacji zaufania, nie są włączone następujące dodatkowe funkcje:</span><span class="sxs-lookup"><span data-stu-id="9a35a-208">The following additional features are not enabled when running indigo2 in a partial trust environment:</span></span>  
  
-   <span data-ttu-id="9a35a-209">Instrumentacja zarządzania Windows (WMI)</span><span class="sxs-lookup"><span data-stu-id="9a35a-209">Windows Management Instrumentation (WMI)</span></span>  
  
-   <span data-ttu-id="9a35a-210">Rejestrowanie zdarzeń jest tylko częściowo włączona (zobacz Omówienie w **diagnostyki** sekcji).</span><span class="sxs-lookup"><span data-stu-id="9a35a-210">Event logging is only partially enabled (see discussion in **Diagnostics** section).</span></span>  
  
-   <span data-ttu-id="9a35a-211">Liczniki wydajności</span><span class="sxs-lookup"><span data-stu-id="9a35a-211">Performance counters</span></span>  
  
 <span data-ttu-id="9a35a-212">Użycie [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] funkcje, które nie są obsługiwane w środowisku częściowej relacji zaufania może spowodować wystąpienie wyjątków w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="9a35a-212">Use of [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] features that are not supported in a partial trust environment may result in exceptions at runtime.</span></span>  
  
## <a name="unlisted-features"></a><span data-ttu-id="9a35a-213">Funkcje nieznajdujące się na liście</span><span class="sxs-lookup"><span data-stu-id="9a35a-213">Unlisted Features</span></span>  
 <span data-ttu-id="9a35a-214">Najlepszym sposobem, aby dowiedzieć się, że informacji lub akcja jest niedostępna, jeśli działające w środowisku częściowej relacji zaufania jest próba dostępu do zasobu lub akcję wewnątrz `try` bloku, a następnie `catch` awarii.</span><span class="sxs-lookup"><span data-stu-id="9a35a-214">The best way to discover that a piece of information or action is unavailable when running in a partial trust environment is to try to access the resource or do the action inside of a `try` block, and then `catch` the failure.</span></span> <span data-ttu-id="9a35a-215">Aby uniknąć przepełnienia pliki śledzenia z błędami zduplikowane [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] wyłącza śledzenie zasobów lub akcji po pierwszym błędzie zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="9a35a-215">To avoid flooding the trace files with duplicate errors, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] disables tracing of the resource or action after the first security failure.</span></span> <span data-ttu-id="9a35a-216">Istnieje jeden wyjątek śledzenia dla każdego dostęp do zasobów nie powiodło się, próby dostępu do zasobu lub wykonanie akcji po raz pierwszy.</span><span class="sxs-lookup"><span data-stu-id="9a35a-216">There is one exception trace for each failed resource access, the first time an attempt is made to access the resource or perform the action.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9a35a-217">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="9a35a-217">See Also</span></span>  
 <xref:System.ServiceModel.Channels.HttpTransportBindingElement>  
 <xref:System.ServiceModel.Channels.HttpsTransportBindingElement>  
 <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>  
 <xref:System.ServiceModel.Channels.WebMessageEncodingBindingElement>  
 [<span data-ttu-id="9a35a-218">Obsługiwane scenariusze wdrażania</span><span class="sxs-lookup"><span data-stu-id="9a35a-218">Supported Deployment Scenarios</span></span>](../../../../docs/framework/wcf/feature-details/supported-deployment-scenarios.md)  
 [<span data-ttu-id="9a35a-219">Najlepsze rozwiązania w częściowej relacji zaufania</span><span class="sxs-lookup"><span data-stu-id="9a35a-219">Partial Trust Best Practices</span></span>](../../../../docs/framework/wcf/feature-details/partial-trust-best-practices.md)
