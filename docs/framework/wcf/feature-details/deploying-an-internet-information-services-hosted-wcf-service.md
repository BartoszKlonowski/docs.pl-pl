---
title: Wdrażanie usługi WCF hostowanej przez Internetowe usługi informacyjne
ms.date: 03/30/2017
ms.assetid: 04ebd329-3fbd-44c3-b3ab-1de3517e27d7
ms.openlocfilehash: 67f6877546951bd92b235218f10f6ccc7011ef5c
ms.sourcegitcommit: 927b7ea6b2ea5a440c8f23e3e66503152eb85591
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/16/2020
ms.locfileid: "81463856"
---
# <a name="deploying-an-internet-information-services-hosted-wcf-service"></a><span data-ttu-id="8ceca-102">Wdrażanie usługi WCF hostowanej przez Internetowe usługi informacyjne</span><span class="sxs-lookup"><span data-stu-id="8ceca-102">Deploying an Internet Information Services-Hosted WCF Service</span></span>

<span data-ttu-id="8ceca-103">Tworzenie i wdrażanie usługi Windows Communication Foundation (WCF), która jest hostowana w internetowych usługach informacyjnych (IIS) składa się z następujących zadań:</span><span class="sxs-lookup"><span data-stu-id="8ceca-103">Developing and deploying a Windows Communication Foundation (WCF) service that is hosted in Internet Information Services (IIS) consists of the following tasks:</span></span>

- <span data-ttu-id="8ceca-104">Upewnij się, że usługi IIS, ASP.NET, WCF i składnik aktywacji WCF są poprawnie zainstalowane i zarejestrowane.</span><span class="sxs-lookup"><span data-stu-id="8ceca-104">Ensure that IIS, ASP.NET, WCF, and the WCF activation component are correctly installed and registered.</span></span>

- <span data-ttu-id="8ceca-105">Utwórz nową aplikację usług IIS lub ponownie użyć istniejącej aplikacji ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8ceca-105">Create a new IIS application, or reuse an existing ASP.NET application.</span></span>

- <span data-ttu-id="8ceca-106">Utwórz plik .svc dla usługi WCF.</span><span class="sxs-lookup"><span data-stu-id="8ceca-106">Create a .svc file for the WCF service.</span></span>

- <span data-ttu-id="8ceca-107">Wdrażanie implementacji usługi w aplikacji usług IIS.</span><span class="sxs-lookup"><span data-stu-id="8ceca-107">Deploy the service implementation to the IIS application.</span></span>

- <span data-ttu-id="8ceca-108">Konfigurowanie usługi WCF.</span><span class="sxs-lookup"><span data-stu-id="8ceca-108">Configure the WCF service.</span></span>

<span data-ttu-id="8ceca-109">Aby uzyskać szczegółowe informacje na temat tworzenia usługi WCF hostowane przez usługi usług IIS, zobacz [Jak: Hostowanie usługi WCF w usługach IIS](how-to-host-a-wcf-service-in-iis.md).</span><span class="sxs-lookup"><span data-stu-id="8ceca-109">For a detailed walkthrough of creating an IIS-hosted WCF service, see [How to: Host a WCF Service in IIS](how-to-host-a-wcf-service-in-iis.md).</span></span>

## <a name="ensure-that-iis-aspnet-and-wcf-are-correctly-installed-and-registered"></a><span data-ttu-id="8ceca-110">Upewnij się, że iIS, ASP.NET i WCF są poprawnie zainstalowane i zarejestrowane</span><span class="sxs-lookup"><span data-stu-id="8ceca-110">Ensure That IIS, ASP.NET and WCF Are Correctly Installed and Registered</span></span>

<span data-ttu-id="8ceca-111">WCF, IIS i ASP.NET muszą być zainstalowane dla usług WCF hostowanych usług usług IIS do poprawnego działania.</span><span class="sxs-lookup"><span data-stu-id="8ceca-111">WCF, IIS, and ASP.NET must be installed for IIS-hosted WCF services to function correctly.</span></span> <span data-ttu-id="8ceca-112">Procedury instalowania WCF (jako część programu .NET Framework), ASP.NET i IIS różnią się w zależności od systemu operacyjnego.</span><span class="sxs-lookup"><span data-stu-id="8ceca-112">The procedures for installing WCF (as part of the .NET Framework), ASP.NET, and IIS vary depending on your operating system.</span></span> <span data-ttu-id="8ceca-113">Aby uzyskać więcej informacji na temat instalowania WCF i programu .NET Framework, zobacz [Instalowanie programu .NET Framework dla deweloperów](../../install/guide-for-developers.md).</span><span class="sxs-lookup"><span data-stu-id="8ceca-113">For more information about installing WCF and the .NET Framework, see [Install the .NET Framework for developers](../../install/guide-for-developers.md).</span></span> <span data-ttu-id="8ceca-114">Aby zainstalować usługi IIS w systemie Windows 10, otwórz **okno Programy i funkcje** w **Panelu sterowania,** a następnie wybierz pozycję **Włącz lub wyłącz funkcje systemu Windows**.</span><span class="sxs-lookup"><span data-stu-id="8ceca-114">To install IIS on Windows 10, open **Programs and Features** in **Control Panel** and then select **Turn Windows features on or off**.</span></span> <span data-ttu-id="8ceca-115">W **obszarze Funkcje systemu Windows**wybierz pozycję Internetowe usługi **informacyjne,** a następnie wybierz przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="8ceca-115">In **Windows Features**, select **Internet Information Services** and then choose **OK**.</span></span>

![Funkcje systemu Windows z wyróżnionymi iis](./media/windows-features-iis.png)

<span data-ttu-id="8ceca-117">Instrukcje dotyczące instalowania usług IIS w innych systemach operacyjnych można znaleźć na [stronie Zainstaluj usługi IIS w systemie Windows Vista i Windows 7](/iis/install/installing-iis-7/installing-iis-on-windows-vista-and-windows-7) oraz [Zainstaluj usługi IIS 8.5 w systemie Windows Server 2012 R2](/iis/install/installing-iis-85/installing-iis-85-on-windows-server-2012-r2).</span><span class="sxs-lookup"><span data-stu-id="8ceca-117">Instructions for installing IIS on other operating systems can be found at [Install IIS on Windows Vista and Windows 7](/iis/install/installing-iis-7/installing-iis-on-windows-vista-and-windows-7) and [Install IIS 8.5 on Windows Server 2012 R2](/iis/install/installing-iis-85/installing-iis-85-on-windows-server-2012-r2).</span></span>

<span data-ttu-id="8ceca-118">Proces instalacji programu .NET Framework automatycznie rejestruje WCF w usługach IIS, jeśli usługe IIS są już obecne na komputerze.</span><span class="sxs-lookup"><span data-stu-id="8ceca-118">The installation process for .NET Framework automatically registers WCF with IIS if IIS is already present on the machine.</span></span> <span data-ttu-id="8ceca-119">Jeśli usługi IIS są instalowane po platformie .NET Framework, wymagany jest dodatkowy krok do zarejestrowania WCF w urzędzie IIS i ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8ceca-119">If IIS is installed after the .NET Framework, an additional step is required to register WCF with IIS and ASP.NET.</span></span> <span data-ttu-id="8ceca-120">Można to zrobić w następujący sposób, w zależności od systemu operacyjnego:</span><span class="sxs-lookup"><span data-stu-id="8ceca-120">You can do this as follows, depending on your operating system:</span></span>

- <span data-ttu-id="8ceca-121">Windows 7 i Windows Server 2003: Aby zarejestrować usługę IIS, użyj narzędzia [ServiceModel Registration Tool (ServiceModelReg.exe).](../../../../docs/framework/wcf/servicemodelreg-exe.md)</span><span class="sxs-lookup"><span data-stu-id="8ceca-121">Windows 7 and Windows Server 2003: Use the [ServiceModel Registration Tool (ServiceModelReg.exe)](../../../../docs/framework/wcf/servicemodelreg-exe.md) tool to register WCF with IIS.</span></span> <span data-ttu-id="8ceca-122">Aby użyć tego narzędzia, wpisz **servicemodelreg.exe /i /x** w [wierszu polecenia dewelopera dla programu Visual Studio](../../tools/developer-command-prompt-for-vs.md).</span><span class="sxs-lookup"><span data-stu-id="8ceca-122">To use this tool, type **ServiceModelReg.exe /i /x** in the [Developer Command Prompt for Visual Studio](../../tools/developer-command-prompt-for-vs.md).</span></span>

- <span data-ttu-id="8ceca-123">Windows 7: Na koniec należy sprawdzić, czy ASP.NET jest skonfigurowany do używania programu .NET Framework w wersji 4 lub nowszej.</span><span class="sxs-lookup"><span data-stu-id="8ceca-123">Windows 7: Finally, you must verify that ASP.NET is configured to use the .NET Framework version 4 or later.</span></span> <span data-ttu-id="8ceca-124">Można to zrobić, uruchamiając narzędzie ASPNET_Regiis `–i` z opcją.</span><span class="sxs-lookup"><span data-stu-id="8ceca-124">You do this by running the ASPNET_Regiis tool with the `–i` option.</span></span> <span data-ttu-id="8ceca-125">Aby uzyskać więcej informacji, zobacz [ASP.NET narzędzia rejestracji iis](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/k6h9cz8h(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="8ceca-125">For more information, see [ASP.NET IIS Registration Tool](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/k6h9cz8h(v=vs.90)).</span></span>

## <a name="create-a-new-iis-application-or-reuse-an-existing-aspnet-application"></a><span data-ttu-id="8ceca-126">Tworzenie nowej aplikacji usług IIS lub ponowne używanie istniejącej aplikacji ASP.NET</span><span class="sxs-lookup"><span data-stu-id="8ceca-126">Create a New IIS Application or Reuse an Existing ASP.NET Application</span></span>

<span data-ttu-id="8ceca-127">Usługi WCF hostowane przez usługi IIS muszą znajdować się wewnątrz aplikacji usług IIS.</span><span class="sxs-lookup"><span data-stu-id="8ceca-127">IIS-hosted WCF services must reside inside of an IIS application.</span></span> <span data-ttu-id="8ceca-128">Można utworzyć nową aplikację usług IIS do obsługi usług WCF wyłącznie.</span><span class="sxs-lookup"><span data-stu-id="8ceca-128">You can create a new IIS application to host WCF services exclusively.</span></span> <span data-ttu-id="8ceca-129">Alternatywnie można wdrożyć usługę WCF w istniejącej aplikacji, która jest już hostuje zawartość ASP.NET 2.0 (na przykład strony .aspx i usługi sieci Web ASP.NET [ASMX]).</span><span class="sxs-lookup"><span data-stu-id="8ceca-129">Alternatively, you can deploy an WCF service into an existing application that is already hosting ASP.NET 2.0 content (such as .aspx pages and ASP.NET Web services [ASMX]).</span></span> <span data-ttu-id="8ceca-130">Aby uzyskać więcej informacji na temat tych opcji, zobacz sekcje "Hosting WCF Side-by-Side with ASP.NET" i "Hosting WCF Services in ASP.NET Compatibility Mode" w [WCF Services and ASP.NET](wcf-services-and-aspnet.md).</span><span class="sxs-lookup"><span data-stu-id="8ceca-130">For more information about these options, see the "Hosting WCF Side-by-Side with ASP.NET" and "Hosting WCF Services in ASP.NET Compatibility Mode" sections in [WCF Services and ASP.NET](wcf-services-and-aspnet.md).</span></span>

<span data-ttu-id="8ceca-131">Należy zauważyć, że usługi IIS 6.0 i nowsze wersje okresowo ponownie uruchamiają izolowane aplikacje programowania obiektowego.</span><span class="sxs-lookup"><span data-stu-id="8ceca-131">Note that IIS 6.0 and later versions periodically restart an isolated object-oriented programming application.</span></span> <span data-ttu-id="8ceca-132">Wartość domyślna to 1740 minut.</span><span class="sxs-lookup"><span data-stu-id="8ceca-132">The default value is 1740 minutes.</span></span> <span data-ttu-id="8ceca-133">Maksymalna obsługiwana wartość wynosi 71 582 minut.</span><span class="sxs-lookup"><span data-stu-id="8ceca-133">The maximum value supported is 71,582 minutes.</span></span> <span data-ttu-id="8ceca-134">To ponowne uruchomienie można wyłączyć.</span><span class="sxs-lookup"><span data-stu-id="8ceca-134">This restart can be disabled.</span></span> <span data-ttu-id="8ceca-135">Aby uzyskać więcej informacji na temat tej właściwości, zobacz [PeriodicRestartTime](https://docs.microsoft.com/previous-versions/iis/6.0-sdk/ms525914(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="8ceca-135">For more information about this property, see the [PeriodicRestartTime](https://docs.microsoft.com/previous-versions/iis/6.0-sdk/ms525914(v=vs.90)).</span></span>

## <a name="create-an-svc-file-for-the-wcf-service"></a><span data-ttu-id="8ceca-136">Tworzenie pliku .svc dla usługi WCF</span><span class="sxs-lookup"><span data-stu-id="8ceca-136">Create an .svc File for the WCF Service</span></span>

<span data-ttu-id="8ceca-137">Usługi WCF hostowane w usługach IIS są reprezentowane jako pliki zawartości specjalnej (pliki svc) wewnątrz aplikacji usług IIS.</span><span class="sxs-lookup"><span data-stu-id="8ceca-137">WCF services hosted in IIS are represented as special content files (.svc files) inside the IIS application.</span></span> <span data-ttu-id="8ceca-138">Ten model jest podobny do sposobu, w jaki strony ASMX są reprezentowane wewnątrz aplikacji IIS jako pliki asmx.</span><span class="sxs-lookup"><span data-stu-id="8ceca-138">This model is similar to the way ASMX pages are represented inside of an IIS application as .asmx files.</span></span> <span data-ttu-id="8ceca-139">Plik .svc zawiera dyrektywę przetwarzania specyficzne dla WCF[\@(ServiceHost),](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md)która umożliwia infrastrukturze hostingowej WCF aktywować hostowane usługi w odpowiedzi na przychodzące wiadomości.</span><span class="sxs-lookup"><span data-stu-id="8ceca-139">A .svc file contains a WCF-specific processing directive ([\@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md)) that allows the WCF hosting infrastructure to activate hosted services in response to incoming messages.</span></span> <span data-ttu-id="8ceca-140">Najczęstszą składnią pliku .svc jest następująca instrukcja.</span><span class="sxs-lookup"><span data-stu-id="8ceca-140">The most common syntax for a .svc file is in the following statement.</span></span>

`<% @ServiceHost Service="MyNamespace.MyServiceImplementationTypeName" %>`

<span data-ttu-id="8ceca-141">Składa się z [ \@dyrektywy ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md) i `Service`jednego atrybutu, .</span><span class="sxs-lookup"><span data-stu-id="8ceca-141">It consists of the [\@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md) directive and a single attribute, `Service`.</span></span> <span data-ttu-id="8ceca-142">Wartość atrybutu `Service` jest nazwą typu środowiska wykonawczego języka wspólnego (CLR) implementacji usługi.</span><span class="sxs-lookup"><span data-stu-id="8ceca-142">The value of the `Service` attribute is the common language runtime (CLR) type name of the service implementation.</span></span> <span data-ttu-id="8ceca-143">Za pomocą tej dyrektywy jest zasadniczo równoważne tworzenie hosta usługi przy użyciu następującego kodu.</span><span class="sxs-lookup"><span data-stu-id="8ceca-143">Using this directive is basically equivalent to creating a service host using the following code.</span></span>

```csharp
new ServiceHost( typeof( MyNamespace.MyServiceImplementationTypeName ) );
```

<span data-ttu-id="8ceca-144">Można również wykonać dodatkową konfigurację hostingu, taką jak tworzenie listy adresów podstawowych dla usługi.</span><span class="sxs-lookup"><span data-stu-id="8ceca-144">Additional hosting configuration, such as creating a list of base addresses for the service can also be done.</span></span> <span data-ttu-id="8ceca-145">Można również użyć <xref:System.ServiceModel.Activation.ServiceHostFactory> niestandardowego rozszerzenia dyrektywy do użytku z niestandardowymi rozwiązaniami hostingowymi.</span><span class="sxs-lookup"><span data-stu-id="8ceca-145">You can also use a custom <xref:System.ServiceModel.Activation.ServiceHostFactory> to extend the directive for use with custom hosting solutions.</span></span> <span data-ttu-id="8ceca-146">Aplikacje usług IIS, które hostują usługi WCF <xref:System.ServiceModel.ServiceHost> nie są odpowiedzialne za zarządzanie tworzeniem i okresem istnienia wystąpień.</span><span class="sxs-lookup"><span data-stu-id="8ceca-146">The IIS applications that host WCF services are not responsible for managing the creation and lifetime of <xref:System.ServiceModel.ServiceHost> instances.</span></span> <span data-ttu-id="8ceca-147">Zarządzana infrastruktura hostingowa WCF tworzy niezbędne <xref:System.ServiceModel.ServiceHost> wystąpienie dynamicznie po odebraniu pierwszego żądania dla pliku .svc.</span><span class="sxs-lookup"><span data-stu-id="8ceca-147">The managed WCF hosting infrastructure creates the necessary <xref:System.ServiceModel.ServiceHost> instance dynamically when the first request is received for the .svc file.</span></span> <span data-ttu-id="8ceca-148">Wystąpienie nie jest zwalniany, dopóki nie zostanie jawnie zamknięte przez kod lub gdy aplikacja jest odtwomia.</span><span class="sxs-lookup"><span data-stu-id="8ceca-148">The instance is not released until either it is closed explicitly by code or when the application is recycled.</span></span>

<span data-ttu-id="8ceca-149">Aby uzyskać więcej informacji na temat składni plików .svc, zobacz [ \@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md).</span><span class="sxs-lookup"><span data-stu-id="8ceca-149">For more information about the syntax for .svc files, see [\@ServiceHost](../../../../docs/framework/configure-apps/file-schema/wcf-directive/servicehost.md).</span></span>

## <a name="deploy-the-service-implementation-to-the-iis-application"></a><span data-ttu-id="8ceca-150">Wdrażanie implementacji usługi w aplikacji usług IIS</span><span class="sxs-lookup"><span data-stu-id="8ceca-150">Deploy the Service Implementation to the IIS Application</span></span>

<span data-ttu-id="8ceca-151">Usługi WCF hostowane w usługach IIS używają tego samego modelu kompilacji dynamicznej, co ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="8ceca-151">WCF services hosted in IIS use the same dynamic compilation model as ASP.NET 2.0.</span></span> <span data-ttu-id="8ceca-152">Podobnie jak w przypadku ASP.NET, można wdrożyć kod implementacji usług WCF hostowanych usług usług IIS na kilka sposobów w różnych lokalizacjach, w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="8ceca-152">Just as with ASP.NET, you can deploy the implementation code for IIS-hosted WCF services in several ways at various locations, as follows:</span></span>

- <span data-ttu-id="8ceca-153">Jako wstępnie skompilowany plik dll znajdujący się w globalnej pamięci podręcznej zestawów (GAC) lub w katalogu \bin aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8ceca-153">As a precompiled .dll file located in the global assembly cache (GAC) or in the application’s \bin directory.</span></span> <span data-ttu-id="8ceca-154">Wstępnie skompilowane pliki binarne nie są aktualizowane, dopóki nie zostanie wdrożona nowa wersja biblioteki klas.</span><span class="sxs-lookup"><span data-stu-id="8ceca-154">Precompiled binaries are not updated until a new version of the class library is deployed.</span></span>

- <span data-ttu-id="8ceca-155">Jako nieskompilowane pliki źródłowe znajdujące się w katalogu \App_Code aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8ceca-155">As uncompiled source files located in the application’s \App_Code directory.</span></span> <span data-ttu-id="8ceca-156">Pliki źródłowe znajdujące się w tym katalogu są dynamicznie wymagane podczas przetwarzania pierwszego żądania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8ceca-156">Source files located in this directory are dynamically required when processing the application’s first request.</span></span> <span data-ttu-id="8ceca-157">Wszelkie zmiany w plikach w katalogu \App_Code powodują, że cała aplikacja zostanie poddana recyklingowi i ponownie skompilowana po odebraniu następnego żądania.</span><span class="sxs-lookup"><span data-stu-id="8ceca-157">Any changes to files in the \App_Code directory cause the entire application to be recycled and recompiled when the next request is received.</span></span>

- <span data-ttu-id="8ceca-158">Jako nieskompilowany kod umieszczony bezpośrednio w pliku .svc.</span><span class="sxs-lookup"><span data-stu-id="8ceca-158">As uncompiled code placed directly in the .svc file.</span></span> <span data-ttu-id="8ceca-159">Kod implementacji może również znajdować się w ybliwę \@w pliku .svc usługi, po servicehost dyrektywy.</span><span class="sxs-lookup"><span data-stu-id="8ceca-159">Implementation code can also be located inline in the service’s .svc file, after the \@ServiceHost directive.</span></span> <span data-ttu-id="8ceca-160">Wszelkie zmiany w kodzie wbudowanym powodują, że aplikacja ma zostać odtworzena i ponownie skompilowana po otrzymaniu następnego żądania.</span><span class="sxs-lookup"><span data-stu-id="8ceca-160">Any changes to inline code cause the application to be recycled and recompiled when the next request is received.</span></span>

<span data-ttu-id="8ceca-161">Aby uzyskać więcej informacji na temat ASP.NET modelu kompilacji 2.0, zobacz [ASP.NET Przegląd kompilacji](https://docs.microsoft.com/previous-versions/aspnet/ms178466(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="8ceca-161">For more information about the ASP.NET 2.0 compilation model, see [ASP.NET Compilation Overview](https://docs.microsoft.com/previous-versions/aspnet/ms178466(v=vs.100)).</span></span>

## <a name="configure-the-wcf-service"></a><span data-ttu-id="8ceca-162">Konfigurowanie usługi WCF</span><span class="sxs-lookup"><span data-stu-id="8ceca-162">Configure the WCF Service</span></span>

<span data-ttu-id="8ceca-163">Usługi WCF hostowane przez usługi IIS przechowują swoją konfigurację w plikach Web.config aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8ceca-163">IIS-hosted WCF services store their configuration in the applications Web.config file.</span></span> <span data-ttu-id="8ceca-164">Usługi hostowane przez usługi IIS używają tych samych elementów konfiguracji i składni, co usługi WCF hostowane poza usługami IIS.</span><span class="sxs-lookup"><span data-stu-id="8ceca-164">IIS-hosted services use the same configuration elements and syntax as WCF services hosted outside of IIS.</span></span> <span data-ttu-id="8ceca-165">Jednak następujące ograniczenia są unikatowe dla środowiska hostingowego usługi IIS:</span><span class="sxs-lookup"><span data-stu-id="8ceca-165">However, the following constraints are unique to the IIS hosting environment:</span></span>

- <span data-ttu-id="8ceca-166">Adresy podstawowe usług hostowanych usług IIS.</span><span class="sxs-lookup"><span data-stu-id="8ceca-166">Base addresses for IIS-hosted services.</span></span>

- <span data-ttu-id="8ceca-167">Aplikacje obsługujące usługi WCF poza usługami IIS mogą kontrolować adres podstawowy usług, które <xref:System.ServiceModel.ServiceHost> hostują, przekazując zestaw identyfikatorów URI adresu podstawowego do konstruktora lub udostępniając element [ \<>hosta](../../../../docs/framework/configure-apps/file-schema/wcf/host.md) w konfiguracji usługi.</span><span class="sxs-lookup"><span data-stu-id="8ceca-167">Applications hosting WCF services outside of IIS can control the base address of the services they host by passing a set of base address URIs to the <xref:System.ServiceModel.ServiceHost> constructor or by providing a [\<host>](../../../../docs/framework/configure-apps/file-schema/wcf/host.md) element in the service’s configuration.</span></span> <span data-ttu-id="8ceca-168">Usługi hostowane w usługach IIS nie mają możliwości kontrolowania swojego adresu podstawowego; adresem podstawowym usługi hostowanego przez usługi IIS jest adres pliku .svc.</span><span class="sxs-lookup"><span data-stu-id="8ceca-168">Services hosted in IIS do not have the ability to control their base address; the base address of an IIS-hosted service is the address of its .svc file.</span></span>

### <a name="endpoint-addresses-for-iis-hosted-services"></a><span data-ttu-id="8ceca-169">Adresy punktów końcowych usług hostowanych usług IIS</span><span class="sxs-lookup"><span data-stu-id="8ceca-169">Endpoint Addresses for IIS-Hosted Services</span></span>

<span data-ttu-id="8ceca-170">Gdy są hostowane w usługach IIS, adresy punktów końcowych są zawsze uważane za względem adresu pliku .svc reprezentującego usługę.</span><span class="sxs-lookup"><span data-stu-id="8ceca-170">When hosted in IIS, endpoint addresses are always considered to be relative to the address of the .svc file that represents the service.</span></span> <span data-ttu-id="8ceca-171">Na przykład jeśli adres podstawowy usługi WCF ma `http://localhost/Application1/MyService.svc` następującą konfigurację punktu końcowego:</span><span class="sxs-lookup"><span data-stu-id="8ceca-171">For example, if the base address of a WCF service is `http://localhost/Application1/MyService.svc` with the following endpoint configuration:</span></span>

```xml
<endpoint address="anotherEndpoint" />
```

<span data-ttu-id="8ceca-172">Zapewnia to punkt końcowy, do `http://localhost/Application1/MyService.svc/anotherEndpoint`którego można osiągnąć w programie .</span><span class="sxs-lookup"><span data-stu-id="8ceca-172">This provides an endpoint that can be reached at `http://localhost/Application1/MyService.svc/anotherEndpoint`.</span></span>

<span data-ttu-id="8ceca-173">Podobnie element konfiguracji punktu końcowego, który używa pustego ciągu jako względnego `http://localhost/Application1/MyService.svc`adresu zapewnia punkt końcowy osiągalny w , który jest adresem podstawowym.</span><span class="sxs-lookup"><span data-stu-id="8ceca-173">Similarly, the endpoint configuration element that uses an empty string as the relative address provides an endpoint reachable at `http://localhost/Application1/MyService.svc`, which is the base address.</span></span>

```xml
<endpoint address="" />
```

<span data-ttu-id="8ceca-174">Dla punktów końcowych usługi hostowanych usługami IIS należy zawsze używać względnych adresów końcowych punktów końcowych usługi hostowanych przez usługi.</span><span class="sxs-lookup"><span data-stu-id="8ceca-174">You must always use relative endpoint addresses for IIS-hosted service endpoints.</span></span> <span data-ttu-id="8ceca-175">Podanie w pełni kwalifikowanego adresu punktu `http://localhost/MyService.svc`końcowego (na przykład ) może prowadzić do błędów we wdrażaniu usługi, jeśli adres punktu końcowego nie wskazuje aplikacji usług IIS, która obsługuje usługę ujawniającą punkt końcowy.</span><span class="sxs-lookup"><span data-stu-id="8ceca-175">Supplying a fully-qualified endpoint address (for example, `http://localhost/MyService.svc`) can lead to errors in the deployment of the service if the endpoint address does not point to the IIS-application that hosts the service exposing the endpoint.</span></span> <span data-ttu-id="8ceca-176">Przy użyciu względnych adresów punktów końcowych dla usług hostowanych pozwala uniknąć tych potencjalnych konfliktów.</span><span class="sxs-lookup"><span data-stu-id="8ceca-176">Using relative endpoint addresses for hosted services avoids these potential conflicts.</span></span>

### <a name="available-transports"></a><span data-ttu-id="8ceca-177">Dostępne transporty</span><span class="sxs-lookup"><span data-stu-id="8ceca-177">Available Transports</span></span>

<span data-ttu-id="8ceca-178">Usługi WCF hostowane w usługach IIS 5.1 i IIS 6.0 są ograniczone do korzystania z komunikacji opartej na protok lubeli HTTP.</span><span class="sxs-lookup"><span data-stu-id="8ceca-178">WCF services hosted in IIS 5.1 and IIS 6.0 are restricted to using HTTP-based communication.</span></span> <span data-ttu-id="8ceca-179">Na tych platformach usług IIS skonfigurowanie usługi hosta w celu użycia powiązania innego niż HTTP powoduje błąd podczas aktywacji usługi.</span><span class="sxs-lookup"><span data-stu-id="8ceca-179">On these IIS platforms, configuring a hosted service to use a non-HTTP binding results in an error during service activation.</span></span> <span data-ttu-id="8ceca-180">W przypadku programów IIS 7.0 obsługiwane transporty obejmują protokoły HTTP, Net.TCP, Net.Pipe, Net.MSMQ i msmq.formatname dla wstecznej zgodności z istniejącymi aplikacjami usługi MSMQ.</span><span class="sxs-lookup"><span data-stu-id="8ceca-180">For IIS 7.0, the supported transports include HTTP, Net.TCP, Net.Pipe, Net.MSMQ, and msmq.formatname for backwards compatibility with existing MSMQ applications.</span></span>

### <a name="http-transport-security"></a><span data-ttu-id="8ceca-181">Zabezpieczenia transportu HTTP</span><span class="sxs-lookup"><span data-stu-id="8ceca-181">HTTP Transport Security</span></span>

<span data-ttu-id="8ceca-182">Usługi WCF hostowane przez usługi IIS mogą korzystać z zabezpieczeń transportu HTTP (na przykład schematów uwierzytelniania HTTPS i HTTP, takich jak podstawowe, digest i zintegrowane uwierzytelnianie systemu Windows), o ile katalog wirtualny usług IIS zawierający usługę obsługuje te ustawienia.</span><span class="sxs-lookup"><span data-stu-id="8ceca-182">IIS-hosted WCF services can make use of HTTP transport security (for example, HTTPS and HTTP authentication schemes such as Basic, Digest, and Windows Integrated Authentication) as long as the IIS virtual directory that contains the service supports those settings.</span></span> <span data-ttu-id="8ceca-183">Ustawienia zabezpieczeń transportu HTTP w powiązaniu hostowanego punktu końcowego muszą być zgodne z ustawieniami zabezpieczeń transportu w katalogu wirtualnym usług IIS, który go zawiera.</span><span class="sxs-lookup"><span data-stu-id="8ceca-183">The HTTP Transport Security settings on a hosted endpoint’s binding must match the transport security settings on the IIS virtual directory that contains it.</span></span>

<span data-ttu-id="8ceca-184">Na przykład punkt końcowy WCF skonfigurowany do używania uwierzytelniania szyfrowanego HTTP musi znajdować się w katalogu wirtualnym usług IIS, który jest również skonfigurowany do zezwalania na uwierzytelnianie szyfrowane HTTP.</span><span class="sxs-lookup"><span data-stu-id="8ceca-184">For example, a WCF endpoint configured to use HTTP digest authentication must reside in an IIS virtual directory that is also configured to allow HTTP digest authentication.</span></span> <span data-ttu-id="8ceca-185">Niedopasowane kombinacje ustawień usług IIS i ustawień punktu końcowego WCF powodują błąd podczas aktywacji usługi.</span><span class="sxs-lookup"><span data-stu-id="8ceca-185">Unmatched combinations of IIS settings and WCF endpoint settings result in an error during service activation.</span></span>

## <a name="see-also"></a><span data-ttu-id="8ceca-186">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="8ceca-186">See also</span></span>

- [<span data-ttu-id="8ceca-187">Hostowanie przez Internetowe usługi informacyjne</span><span class="sxs-lookup"><span data-stu-id="8ceca-187">Hosting in Internet Information Services</span></span>](hosting-in-internet-information-services.md)
- [<span data-ttu-id="8ceca-188">Najlepsze rozwiązania dotyczące hostowania Internetowych usług informacyjnych</span><span class="sxs-lookup"><span data-stu-id="8ceca-188">Internet Information Services Hosting Best Practices</span></span>](internet-information-services-hosting-best-practices.md)
- <span data-ttu-id="8ceca-189">[Funkcje hostingu sieci szkieletowej aplikacji systemu Windows Server](https://docs.microsoft.com/previous-versions/appfabric/ee677189(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="8ceca-189">[Windows Server App Fabric Hosting Features](https://docs.microsoft.com/previous-versions/appfabric/ee677189(v=azure.10))</span></span>
