---
title: Denial of Service (odmowa usługi)
ms.date: 03/30/2017
helpviewer_keywords:
- denial of service [WCF]
ms.assetid: dfb150f3-d598-4697-a5e6-6779e4f9b600
ms.openlocfilehash: 29798a73ec69b7f695068343d9c7b5593eeba4fa
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/15/2020
ms.locfileid: "90557583"
---
# <a name="denial-of-service"></a><span data-ttu-id="5aaa9-102">Denial of Service (odmowa usługi)</span><span class="sxs-lookup"><span data-stu-id="5aaa9-102">Denial of Service</span></span>
<span data-ttu-id="5aaa9-103">Odmowa usługi występuje, gdy system jest przeciążony w taki sposób, że komunikaty nie mogą być przetwarzane lub są przetwarzane bardzo wolno.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-103">Denial of service occurs when a system is overwhelmed in such a way that messages cannot be processed, or they are processed extremely slowly.</span></span>  
  
## <a name="excess-memory-consumption"></a><span data-ttu-id="5aaa9-104">Nadmierne użycie pamięci</span><span class="sxs-lookup"><span data-stu-id="5aaa9-104">Excess Memory Consumption</span></span>  
 <span data-ttu-id="5aaa9-105">Podczas odczytywania dokumentu XML o dużej liczbie unikatowych nazw lokalnych, przestrzeni nazw lub prefiksów może wystąpić problem.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-105">A problem can occur when reading an XML document with a large number of unique local names, namespaces, or prefixes.</span></span> <span data-ttu-id="5aaa9-106">Jeśli używasz klasy, która pochodzi od <xref:System.Xml.XmlReader> , i wywoływana jest <xref:System.Xml.XmlReader.LocalName%2A> <xref:System.Xml.XmlReader.Prefix%2A> <xref:System.Xml.XmlReader.NamespaceURI%2A> Właściwość lub dla każdego elementu, zwracany ciąg zostanie dodany do <xref:System.Xml.NameTable> .</span><span class="sxs-lookup"><span data-stu-id="5aaa9-106">If you are using a class that derives from <xref:System.Xml.XmlReader>, and you call either the <xref:System.Xml.XmlReader.LocalName%2A>, <xref:System.Xml.XmlReader.Prefix%2A> or <xref:System.Xml.XmlReader.NamespaceURI%2A> property for each item, the returned string is added to a <xref:System.Xml.NameTable>.</span></span> <span data-ttu-id="5aaa9-107">Kolekcja utrzymywana przez <xref:System.Xml.NameTable> nigdy nie zmniejsza rozmiar, tworząc wirtualny "wyciek pamięci" uchwytów ciągów.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-107">The collection held by the <xref:System.Xml.NameTable> never decreases in size, creating a virtual "memory leak" of the string handles.</span></span>  
  
 <span data-ttu-id="5aaa9-108">Środki zaradcze obejmują:</span><span class="sxs-lookup"><span data-stu-id="5aaa9-108">Mitigations include:</span></span>  
  
- <span data-ttu-id="5aaa9-109">Pochodny od <xref:System.Xml.NameTable> klasy i wymuszanie maksymalnego przydziału rozmiaru.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-109">Derive from the <xref:System.Xml.NameTable> class and enforce a maximum size quota.</span></span> <span data-ttu-id="5aaa9-110">(Nie można zapobiec użyciu <xref:System.Xml.NameTable> lub przełączać, <xref:System.Xml.NameTable> gdy jest on pełny).</span><span class="sxs-lookup"><span data-stu-id="5aaa9-110">(You cannot prevent the use of a <xref:System.Xml.NameTable> or switch the <xref:System.Xml.NameTable> when it is full.)</span></span>  
  
- <span data-ttu-id="5aaa9-111">Należy unikać używania powyższych właściwości i zamiast tego używać <xref:System.Xml.XmlReader.MoveToAttribute%2A> metody z <xref:System.Xml.XmlReader.IsStartElement%2A> metodą, jeśli jest to możliwe; metody te nie zwracają ciągów i w ten sposób uniknąć problemu przepełniania <xref:System.Xml.NameTable> kolekcji.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-111">Avoid using the properties mentioned and instead use the <xref:System.Xml.XmlReader.MoveToAttribute%2A> method with the <xref:System.Xml.XmlReader.IsStartElement%2A> method where possible; those methods do not return strings and thus avoid the problem of overfilling the <xref:System.Xml.NameTable> collection.</span></span>  
  
## <a name="malicious-client-sends-excessive-license-requests-to-service"></a><span data-ttu-id="5aaa9-112">Złośliwy klient wysyła nadmierne żądania licencji do usługi</span><span class="sxs-lookup"><span data-stu-id="5aaa9-112">Malicious Client Sends Excessive License Requests to Service</span></span>  
 <span data-ttu-id="5aaa9-113">Jeśli złośliwy klient bombards usługę przy użyciu zbyt dużej liczby żądań licencji, może to spowodować, że serwer użyje nadmiernej ilości pamięci.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-113">If a malicious client bombards a service with excessive license requests, it can cause the server to use excessive memory.</span></span>  
  
 <span data-ttu-id="5aaa9-114">Środki zaradcze: Użyj następujących właściwości <xref:System.ServiceModel.Channels.LocalServiceSecuritySettings> klasy:</span><span class="sxs-lookup"><span data-stu-id="5aaa9-114">Mitigation: Use the following properties of the <xref:System.ServiceModel.Channels.LocalServiceSecuritySettings> class:</span></span>  
  
- <span data-ttu-id="5aaa9-115"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.MaxCachedCookies%2A>: określa maksymalną liczbę powiązanych przekroczeń czasu `SecurityContextToken` , po upływie których serwer przeprowadzi pamięć podręczną `SPNego` lub `SSL` negocjacje.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-115"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.MaxCachedCookies%2A>: controls the maximum number of time-bounded `SecurityContextToken`s that the server caches after `SPNego` or `SSL` negotiation.</span></span>  
  
- <span data-ttu-id="5aaa9-116"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.IssuedCookieLifetime%2A>: określa okres istnienia `SecurityContextTokens` problemów z serwerem `SPNego` lub `SSL` negocjowania przez serwer.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-116"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.IssuedCookieLifetime%2A>: controls the lifetime of the `SecurityContextTokens` that the server issues following `SPNego` or `SSL` negotiation.</span></span> <span data-ttu-id="5aaa9-117">Serwer buforuje `SecurityContextToken` s przez ten okres czasu.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-117">The server caches the `SecurityContextToken`s for this period of time.</span></span>  
  
- <span data-ttu-id="5aaa9-118"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.MaxPendingSessions%2A>: określa maksymalną liczbę bezpiecznych konwersacji, które są ustanowione na serwerze, ale dla których nie przetworzono komunikatów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-118"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.MaxPendingSessions%2A>: controls the maximum number of secure conversations that are established at the server but for which no application messages have been processed.</span></span> <span data-ttu-id="5aaa9-119">Ten limit przydziału uniemożliwia klientom ustanawianie bezpiecznych konwersacji w usłudze, co powoduje, że usługa zachowuje stan na klienta, ale nigdy nie korzysta z nich.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-119">This quota prevents clients from establishing secure conversations at the service, thereby causing the service to maintain state per client, but never using them.</span></span>  
  
- <span data-ttu-id="5aaa9-120"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.InactivityTimeout%2A>: określa maksymalny czas, w którym usługa utrzymuje bezpieczną konwersację, bez otrzymywania komunikatu aplikacji z klienta dla konwersacji.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-120"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.InactivityTimeout%2A>:  controls the maximum time the service keeps a secure conversation alive without receiving an application message from the client for the conversation.</span></span> <span data-ttu-id="5aaa9-121">Ten limit przydziału uniemożliwia klientom ustanawianie bezpiecznych konwersacji w usłudze, co powoduje, że usługa zachowuje stan na klienta, ale nigdy nie korzysta z nich.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-121">This quota prevents clients from establishing secure conversations at the service, thereby causing the service to maintain state per client, but never using them.</span></span>  
  
## <a name="wsdualhttpbinding-or-dual-custom-bindings-require-client-authentication"></a><span data-ttu-id="5aaa9-122">WSDualHttpBinding lub podwójne powiązania niestandardowe wymagają uwierzytelniania klienta</span><span class="sxs-lookup"><span data-stu-id="5aaa9-122">WSDualHttpBinding or Dual Custom Bindings Require Client Authentication</span></span>  
 <span data-ttu-id="5aaa9-123">Domyślnie <xref:System.ServiceModel.WSDualHttpBinding> Funkcja ma włączone zabezpieczenia.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-123">By default, the <xref:System.ServiceModel.WSDualHttpBinding> has security enabled.</span></span> <span data-ttu-id="5aaa9-124">Jeśli jednak uwierzytelnianie klienta zostanie wyłączone przez ustawienie <xref:System.ServiceModel.MessageSecurityOverHttp.ClientCredentialType%2A> właściwości na <xref:System.ServiceModel.MessageCredentialType.None> , złośliwy użytkownik może spowodować atak typu "odmowa usługi" w trzeciej usłudze.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-124">It is possible, however, that if the client authentication is disabled by setting the <xref:System.ServiceModel.MessageSecurityOverHttp.ClientCredentialType%2A> property to <xref:System.ServiceModel.MessageCredentialType.None>, a malicious user can cause a denial of service attack on a third service.</span></span> <span data-ttu-id="5aaa9-125">Może to być spowodowane tym, że złośliwy klient może skierować usługę do wysłania strumienia komunikatów do trzeciej usługi.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-125">This can occur because a malicious client can direct the service to send a stream of messages to a third service.</span></span>  
  
 <span data-ttu-id="5aaa9-126">Aby rozwiązać ten problem, nie ustawiaj właściwości na `None` .</span><span class="sxs-lookup"><span data-stu-id="5aaa9-126">To mitigate this, do not set the property to `None`.</span></span> <span data-ttu-id="5aaa9-127">Należy również pamiętać o tej możliwości podczas tworzenia niestandardowego powiązania, które ma podwójny wzorzec wiadomości.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-127">Also be aware of this possibility when creating a custom binding that has a dual message pattern.</span></span>  
  
## <a name="auditing-event-log-can-be-filled"></a><span data-ttu-id="5aaa9-128">Dziennik zdarzeń inspekcji może być wypełniony</span><span class="sxs-lookup"><span data-stu-id="5aaa9-128">Auditing Event Log Can Be Filled</span></span>  
 <span data-ttu-id="5aaa9-129">Jeśli złośliwy użytkownik rozumie, że inspekcja jest włączona, osoba atakująca może wysłać nieprawidłowe komunikaty, które powodują zapisanie wpisów inspekcji.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-129">If a malicious user understands that auditing is enabled, that attacker can send invalid messages that cause audit entries to be written.</span></span> <span data-ttu-id="5aaa9-130">Jeśli dziennik inspekcji zostanie wypełniony w ten sposób, system inspekcji zakończy się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-130">If the audit log is filled in this manner, the auditing system fails.</span></span>  
  
 <span data-ttu-id="5aaa9-131">Aby rozwiązać ten problem, ustaw <xref:System.ServiceModel.Description.ServiceSecurityAuditBehavior.SuppressAuditFailure%2A> Właściwość na `true` i użyj właściwości Podgląd zdarzeń, aby kontrolować zachowanie inspekcji.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-131">To mitigate this, set the <xref:System.ServiceModel.Description.ServiceSecurityAuditBehavior.SuppressAuditFailure%2A> property to `true` and use the properties of the Event Viewer to control the auditing behavior.</span></span> <span data-ttu-id="5aaa9-132">Aby uzyskać więcej informacji na temat używania Podgląd zdarzeń do wyświetlania dzienników zdarzeń i zarządzania nimi, zobacz [Podgląd zdarzeń](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc766042(v=ws.11)).</span><span class="sxs-lookup"><span data-stu-id="5aaa9-132">For more information about using the Event Viewer to view and manage event logs, see [Event Viewer](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc766042(v=ws.11)).</span></span> <span data-ttu-id="5aaa9-133">Aby uzyskać więcej informacji, zobacz [Inspekcja](auditing-security-events.md).</span><span class="sxs-lookup"><span data-stu-id="5aaa9-133">For more information, see [Auditing](auditing-security-events.md).</span></span>  
  
## <a name="invalid-implementations-of-iauthorizationpolicy-can-cause-service-to-become-unresponsive"></a><span data-ttu-id="5aaa9-134">Nieprawidłowe implementacje interfejsu IAuthorizationPolicy mogą spowodować, że usługa przestanie odpowiadać</span><span class="sxs-lookup"><span data-stu-id="5aaa9-134">Invalid Implementations of IAuthorizationPolicy Can Cause Service to Become Unresponsive</span></span>  
 <span data-ttu-id="5aaa9-135">Wywołanie <xref:System.IdentityModel.Policy.IAuthorizationPolicy.Evaluate%2A> metody w wadliwej implementacji <xref:System.IdentityModel.Policy.IAuthorizationPolicy> interfejsu może spowodować, że usługa przestanie odpowiadać.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-135">Calling the <xref:System.IdentityModel.Policy.IAuthorizationPolicy.Evaluate%2A> method on a faulty implementation of the <xref:System.IdentityModel.Policy.IAuthorizationPolicy> interface can cause the service to become unresponsive.</span></span>  
  
 <span data-ttu-id="5aaa9-136">Środki zaradcze: Używaj tylko zaufanego kodu.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-136">Mitigation: Use only trusted code.</span></span> <span data-ttu-id="5aaa9-137">Oznacza to, że należy używać tylko kodu, który został zapisany i przetestowany lub który pochodzi od zaufanego dostawcy.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-137">That is, use only code that you have written and tested, or that comes from a trusted provider.</span></span> <span data-ttu-id="5aaa9-138">Nie Zezwalaj na Podłączanie niezaufanych rozszerzeń <xref:System.IdentityModel.Policy.IAuthorizationPolicy> do kodu bez uwzględniania ich.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-138">Do not allow untrusted extensions of <xref:System.IdentityModel.Policy.IAuthorizationPolicy> to be plugged into your code without due consideration.</span></span> <span data-ttu-id="5aaa9-139">Dotyczy to wszystkich rozszerzeń używanych w implementacji usługi.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-139">This applies to all extensions used in a service implementation.</span></span> <span data-ttu-id="5aaa9-140">W programie WCF nie są wprowadzane żadne różnice między kodem aplikacji a kodem obcym, który jest podłączony przy użyciu punktów rozszerzalności.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-140">WCF does not make any distinction between application code and foreign code that is plugged in using extensibility points.</span></span>  
  
## <a name="kerberos-maximum-token-size-may-need-resizing"></a><span data-ttu-id="5aaa9-141">Maksymalny rozmiar tokenu protokołu Kerberos może wymagać zmiany rozmiaru</span><span class="sxs-lookup"><span data-stu-id="5aaa9-141">Kerberos Maximum Token Size May Need Resizing</span></span>  
 <span data-ttu-id="5aaa9-142">Jeśli klient należy do dużej liczby grup (około 900, chociaż rzeczywista liczba różni się w zależności od grup), problem może wystąpić, gdy blok nagłówka komunikatu przekracza 64 kilobajty.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-142">If a client belongs to a large number of groups (approximately 900, although the actual number varies depending on the groups), a problem may occur when a message header's block exceeds 64 kilobytes.</span></span> <span data-ttu-id="5aaa9-143">W takim przypadku można zwiększyć maksymalny rozmiar tokenu Kerberos.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-143">In that case, you can increase the maximum Kerberos token size.</span></span> <span data-ttu-id="5aaa9-144">Może być również konieczne zwiększenie maksymalnego rozmiaru komunikatów WCF w celu uwzględnienia większego tokenu Kerberos.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-144">You may also need to increase the maximum WCF message size to accommodate the larger Kerberos token.</span></span>  
  
## <a name="autoenrollment-results-in-multiple-certificates-with-same-subject-name-for-machine"></a><span data-ttu-id="5aaa9-145">Autorejestrowanie powoduje, że wiele certyfikatów ma tę samą nazwę podmiotu dla komputera</span><span class="sxs-lookup"><span data-stu-id="5aaa9-145">Autoenrollment Results in Multiple Certificates with Same Subject Name for Machine</span></span>  
 <span data-ttu-id="5aaa9-146">Funkcja *autorejestrowania* jest funkcją systemu Windows Server 2003, aby automatycznie rejestrować użytkowników i komputery dla certyfikatów.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-146">*Autoenrollment* is the capability of Windows Server 2003 to automatically enroll users and computers for certificates.</span></span> <span data-ttu-id="5aaa9-147">Gdy komputer znajduje się w domenie z włączoną funkcją, certyfikat X. 509 z zamierzonym celem uwierzytelniania klienta zostanie automatycznie utworzony i wstawiony do magazynu certyfikatów osobistych komputera lokalnego za każdym razem, gdy nowa maszyna jest przyłączona do sieci.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-147">When a machine is on a domain with the feature enabled, an X.509 certificate with the intended purpose of client authentication is automatically created and inserted into the local computer's Personal certificates store whenever a new machine is joined to the network.</span></span> <span data-ttu-id="5aaa9-148">Jednak funkcja autorejestrowania używa tej samej nazwy podmiotu dla wszystkich certyfikatów tworzonych w pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-148">However, autoenrollment uses the same subject name for all certificates it creates in the cache.</span></span>  
  
 <span data-ttu-id="5aaa9-149">Ma to wpływ na to, że usługi WCF mogą nie być otwierane w domenach z autorejestrowaniem.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-149">The impact is that WCF services may fail to open on domains with autoenrollment.</span></span> <span data-ttu-id="5aaa9-150">Dzieje się tak dlatego, że domyślne kryteria wyszukiwania poświadczeń X. 509 usługi mogą być niejednoznaczne, ponieważ istnieje wiele certyfikatów z w pełni kwalifikowaną nazwą systemu nazw domen (DNS) na komputerze.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-150">This occurs because the default service X.509 credential search criteria might be ambiguous because multiple certificates with the machine's fully qualified Domain Name System (DNS) name exist.</span></span> <span data-ttu-id="5aaa9-151">Jeden certyfikat pochodzi z autorejestrowania; drugi może być certyfikatem wystawionym przez siebie.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-151">One certificate originates from autoenrollment; the other might be a self-issued certificate.</span></span>  
  
 <span data-ttu-id="5aaa9-152">Aby rozwiązać ten problem, należy odwołać się do dokładnego certyfikatu do użycia przy użyciu dokładniejszego kryterium wyszukiwania w [\<serviceCredentials>](../../configure-apps/file-schema/wcf/servicecredentials.md) .</span><span class="sxs-lookup"><span data-stu-id="5aaa9-152">To mitigate this, reference the exact certificate to use by using a more precise search criterion on the [\<serviceCredentials>](../../configure-apps/file-schema/wcf/servicecredentials.md).</span></span> <span data-ttu-id="5aaa9-153">Na przykład użyj <xref:System.Security.Cryptography.X509Certificates.X509FindType.FindByThumbprint> opcji i Określ certyfikat przy użyciu unikatowego odcisku palca (hash).</span><span class="sxs-lookup"><span data-stu-id="5aaa9-153">For example, use the <xref:System.Security.Cryptography.X509Certificates.X509FindType.FindByThumbprint> option, and specify the certificate by its unique thumbprint (hash).</span></span>  
  
 <span data-ttu-id="5aaa9-154">Aby uzyskać więcej informacji na temat funkcji autorejestrowania, zobacz [autorejestrowanie certyfikatów w systemie Windows Server 2003](/previous-versions/windows/it-pro/windows-server-2003/cc778954(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="5aaa9-154">For more information about the autoenrollment feature, see [Certificate Autoenrollment in Windows Server 2003](/previous-versions/windows/it-pro/windows-server-2003/cc778954(v=ws.10)).</span></span>  
  
## <a name="last-of-multiple-alternative-subject-names-used-for-authorization"></a><span data-ttu-id="5aaa9-155">Ostatnia z wielu alternatywnych nazw podmiotów używanych do autoryzacji</span><span class="sxs-lookup"><span data-stu-id="5aaa9-155">Last of Multiple Alternative Subject Names Used for Authorization</span></span>  
 <span data-ttu-id="5aaa9-156">W rzadkich przypadkach, gdy certyfikat X. 509 zawiera wiele alternatywnych nazw podmiotu i Użytkownik autoryzuje przy użyciu alternatywnej nazwy podmiotu, autoryzacja może zakończyć się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-156">In the rare case when an X.509 certificate contains multiple alternative subject names, and you authorize using the alternative subject name, authorization may fail.</span></span>  
  
## <a name="protect-configuration-files-with-acls"></a><span data-ttu-id="5aaa9-157">Ochrona plików konfiguracji przy użyciu list ACL</span><span class="sxs-lookup"><span data-stu-id="5aaa9-157">Protect Configuration Files with ACLs</span></span>  
 <span data-ttu-id="5aaa9-158">Można określić wymagane i opcjonalne oświadczenia w kodzie i plikach konfiguracji dla tokenów wystawionych przez CardSpace.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-158">You can specify required and optional claims in code and configuration files for CardSpace issued tokens.</span></span> <span data-ttu-id="5aaa9-159">Powoduje to odpowiednie elementy `RequestSecurityToken` , które są emitowane w komunikatach wysyłanych do usługi tokenu zabezpieczającego.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-159">This results in corresponding elements being emitted in `RequestSecurityToken` messages that are sent to the security token service.</span></span> <span data-ttu-id="5aaa9-160">Osoba atakująca może zmodyfikować kod lub konfigurację w celu usunięcia wymaganych lub opcjonalnych oświadczeń, co może spowodować, że usługa tokenu zabezpieczającego wystawia token, który nie zezwala na dostęp do usługi docelowej.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-160">An attacker can modify code or configuration to remove required or optional claims, potentially getting the security token service to issue a token that does not allow access to the target service.</span></span>  
  
 <span data-ttu-id="5aaa9-161">Aby wyeliminować problem: Wymagaj dostępu do komputera w celu zmodyfikowania pliku konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-161">To mitigate: Require access to the computer to modify the configuration file.</span></span> <span data-ttu-id="5aaa9-162">Użyj list kontroli dostępu do plików (ACL) do zabezpieczania plików konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-162">Use file access control lists (ACLs) to secure configuration files.</span></span> <span data-ttu-id="5aaa9-163">Program WCF wymaga, aby kod znajdował się w katalogu aplikacji lub w globalnej pamięci podręcznej zestawów, zanim zezwoli na załadowanie tego kodu z konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-163">WCF requires that code be in the application directory or the global assembly cache before it will allow such code to be loaded from configuration.</span></span> <span data-ttu-id="5aaa9-164">Użyj list ACL katalogów do zabezpieczania katalogów.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-164">Use directory ACLs to secure directories.</span></span>  
  
## <a name="maximum-number-of-secure-sessions-for-a-service-is-reached"></a><span data-ttu-id="5aaa9-165">Osiągnięto maksymalną liczbę zabezpieczonych sesji dla usługi</span><span class="sxs-lookup"><span data-stu-id="5aaa9-165">Maximum Number of Secure Sessions for a Service Is Reached</span></span>  
 <span data-ttu-id="5aaa9-166">W przypadku pomyślnego uwierzytelnienia klienta przez usługę i ustanowienia bezpiecznej sesji z usługą Usługa śledzi sesję do momentu jej anulowania przez klienta lub wygaśnięcia sesji.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-166">When a client is successfully authenticated by a service and a secure session is established with the service, the service keeps track of the session until the client cancels it or the session expires.</span></span> <span data-ttu-id="5aaa9-167">Każdy ustanowiony licznik sesji odnoszący się do limitu maksymalnej liczby aktywnych sesji jednoczesnych z usługą.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-167">Every established session counts against the limit for the maximum number of active simultaneous sessions with a service.</span></span> <span data-ttu-id="5aaa9-168">Po osiągnięciu tego limitu klienci próbujący utworzyć nową sesję z tą usługą są odrzucani do momentu wygaśnięcia co najmniej jednej aktywnej sesji lub anulowania jej przez klienta.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-168">When this limit is reached, clients that attempt to create a new session with that service are rejected until one or more active sessions expire or are canceled by a client.</span></span> <span data-ttu-id="5aaa9-169">Klient może mieć wiele sesji z usługą, a każda z nich jest liczona do limitu.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-169">A client can have multiple sessions with a service, and each one of those sessions counts toward the limit.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="5aaa9-170">W przypadku korzystania z sesji stanowych poprzedni akapit nie ma zastosowania.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-170">When you use stateful sessions, the previous paragraph does not apply.</span></span> <span data-ttu-id="5aaa9-171">Aby uzyskać więcej informacji na temat sesji stanowych, zobacz [jak: Tworzenie tokenu kontekstu zabezpieczeń dla bezpiecznej sesji](how-to-create-a-security-context-token-for-a-secure-session.md).</span><span class="sxs-lookup"><span data-stu-id="5aaa9-171">For more information about stateful sessions, see [How to: Create a Security Context Token for a Secure Session](how-to-create-a-security-context-token-for-a-secure-session.md).</span></span>  
  
 <span data-ttu-id="5aaa9-172">Aby rozwiązać ten problem, należy ustawić limit maksymalnej liczby aktywnych sesji i maksymalny okres istnienia sesji przez ustawienie <xref:System.ServiceModel.Channels.SecurityBindingElement> właściwości <xref:System.ServiceModel.Channels.SecurityBindingElement> klasy.</span><span class="sxs-lookup"><span data-stu-id="5aaa9-172">To mitigate this, set the limit for the maximum number of active sessions and the maximum lifetime for a session by setting the <xref:System.ServiceModel.Channels.SecurityBindingElement> property of the <xref:System.ServiceModel.Channels.SecurityBindingElement> class.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5aaa9-173">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="5aaa9-173">See also</span></span>

- [<span data-ttu-id="5aaa9-174">Zagadnienia dotyczące zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="5aaa9-174">Security Considerations</span></span>](security-considerations-in-wcf.md)
- [<span data-ttu-id="5aaa9-175">Information Disclosure (ujawnienie informacji)</span><span class="sxs-lookup"><span data-stu-id="5aaa9-175">Information Disclosure</span></span>](information-disclosure.md)
- [<span data-ttu-id="5aaa9-176">Elevation of Privilege (podniesienie uprawnień)</span><span class="sxs-lookup"><span data-stu-id="5aaa9-176">Elevation of Privilege</span></span>](elevation-of-privilege.md)
- [<span data-ttu-id="5aaa9-177">Denial of Service (odmowa usługi)</span><span class="sxs-lookup"><span data-stu-id="5aaa9-177">Denial of Service</span></span>](denial-of-service.md)
- [<span data-ttu-id="5aaa9-178">Ataki oparte na metodzie powtórzeń</span><span class="sxs-lookup"><span data-stu-id="5aaa9-178">Replay Attacks</span></span>](replay-attacks.md)
- [<span data-ttu-id="5aaa9-179">Tampering (manipulowanie)</span><span class="sxs-lookup"><span data-stu-id="5aaa9-179">Tampering</span></span>](tampering.md)
- [<span data-ttu-id="5aaa9-180">Nieobsługiwane scenariusze</span><span class="sxs-lookup"><span data-stu-id="5aaa9-180">Unsupported Scenarios</span></span>](unsupported-scenarios.md)
