---
title: "Odmowa usługi"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords: denial of service [WCF]
ms.assetid: dfb150f3-d598-4697-a5e6-6779e4f9b600
caps.latest.revision: "12"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 26b638b81f6402748b261e0766c18a6e9b3489d4
ms.sourcegitcommit: ce279f2d7fe2220e6ea0a25a8a7a5370ddf8d9f0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/02/2017
---
# <a name="denial-of-service"></a><span data-ttu-id="fa3ef-102">Odmowa usługi</span><span class="sxs-lookup"><span data-stu-id="fa3ef-102">Denial of Service</span></span>
<span data-ttu-id="fa3ef-103">Odmowa usługi występuje, gdy system jest przeciążony w taki sposób, że nie można przetworzyć wiadomości, lub są przetwarzane bardzo wolno.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-103">Denial of service occurs when a system is overwhelmed in such a way that messages cannot be processed, or they are processed extremely slowly.</span></span>  
  
## <a name="excess-memory-consumption"></a><span data-ttu-id="fa3ef-104">Zużycie pamięci nadmiarowe</span><span class="sxs-lookup"><span data-stu-id="fa3ef-104">Excess Memory Consumption</span></span>  
 <span data-ttu-id="fa3ef-105">Problem może wystąpić, gdy odczytywanie dokumentu XML z dużą liczbą unikatowe nazwy lokalnej, przestrzenie nazw i prefiksy.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-105">A problem can occur when reading an XML document with a large number of unique local names, namespaces, or prefixes.</span></span> <span data-ttu-id="fa3ef-106">Jeśli korzystasz z klasą pochodzącą z <xref:System.Xml.XmlReader>, i należy wywołać <xref:System.Xml.XmlReader.LocalName%2A>, <xref:System.Xml.XmlReader.Prefix%2A> lub <xref:System.Xml.XmlReader.NamespaceURI%2A> zwracany ciąg właściwości dla każdego elementu, jest dodawany do <xref:System.Xml.NameTable>.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-106">If you are using a class that derives from <xref:System.Xml.XmlReader>, and you call either the <xref:System.Xml.XmlReader.LocalName%2A>, <xref:System.Xml.XmlReader.Prefix%2A> or <xref:System.Xml.XmlReader.NamespaceURI%2A> property for each item, the returned string is added to a <xref:System.Xml.NameTable>.</span></span> <span data-ttu-id="fa3ef-107">Kolekcja posiadaniu <xref:System.Xml.NameTable> nigdy nie zmniejsza rozmiar tworzenia wirtualnej "przeciek pamięci" dojść ciągu.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-107">The collection held by the <xref:System.Xml.NameTable> never decreases in size, creating a virtual "memory leak" of the string handles.</span></span>  
  
 <span data-ttu-id="fa3ef-108">Następujące czynniki:</span><span class="sxs-lookup"><span data-stu-id="fa3ef-108">Mitigations include:</span></span>  
  
-   <span data-ttu-id="fa3ef-109">Pochodzić od <xref:System.Xml.NameTable> klasy i wymuszać maksymalną wielkość limitu przydziału.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-109">Derive from the <xref:System.Xml.NameTable> class and enforce a maximum size quota.</span></span> <span data-ttu-id="fa3ef-110">(Nie może uniemożliwić korzystanie z <xref:System.Xml.NameTable> lub Przełącz <xref:System.Xml.NameTable> gdy jest pełny.)</span><span class="sxs-lookup"><span data-stu-id="fa3ef-110">(You cannot prevent the use of a <xref:System.Xml.NameTable> or switch the <xref:System.Xml.NameTable> when it is full.)</span></span>  
  
-   <span data-ttu-id="fa3ef-111">Unikaj używania właściwości wymienionych — zamiast tego użyj <xref:System.Xml.XmlReader.MoveToAttribute%2A> metody z <xref:System.Xml.XmlReader.IsStartElement%2A> metody w miarę możliwości; tych metod nie zwracać ciągi i w związku z tym uniknąć problemów z przepełnienie <xref:System.Xml.NameTable> kolekcji.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-111">Avoid using the properties mentioned and instead use the <xref:System.Xml.XmlReader.MoveToAttribute%2A> method with the <xref:System.Xml.XmlReader.IsStartElement%2A> method where possible; those methods do not return strings and thus avoid the problem of overfilling the <xref:System.Xml.NameTable> collection.</span></span>  
  
## <a name="malicious-client-sends-excessive-license-requests-to-service"></a><span data-ttu-id="fa3ef-112">Złośliwe klient wysyła żądania nadmiernego licencji usługi</span><span class="sxs-lookup"><span data-stu-id="fa3ef-112">Malicious Client Sends Excessive License Requests to Service</span></span>  
 <span data-ttu-id="fa3ef-113">Złośliwego klienta bombards usługi za pomocą żądania nadmiernego licencji, może spowodować server do używania pamięci nadmierne.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-113">If a malicious client bombards a service with excessive license requests, it can cause the server to use excessive memory.</span></span>  
  
 <span data-ttu-id="fa3ef-114">Ograniczenie: Użyj następujących właściwości <xref:System.ServiceModel.Channels.LocalServiceSecuritySettings> klasy:</span><span class="sxs-lookup"><span data-stu-id="fa3ef-114">Mitigation: Use the following properties of the <xref:System.ServiceModel.Channels.LocalServiceSecuritySettings> class:</span></span>  
  
-   <span data-ttu-id="fa3ef-115"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.MaxCachedCookies%2A>: Określa maksymalną liczbę ograniczonego czasu `SecurityContextToken`s, który serwer buforuje po `SPNego` lub `SSL` negocjacji.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-115"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.MaxCachedCookies%2A>: controls the maximum number of time-bounded `SecurityContextToken`s that the server caches after `SPNego` or `SSL` negotiation.</span></span>  
  
-   <span data-ttu-id="fa3ef-116"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.IssuedCookieLifetime%2A>: Określa okres istnienia `SecurityContextTokens` który problemów serwera po `SPNego` lub `SSL` negocjacji.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-116"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.IssuedCookieLifetime%2A>: controls the lifetime of the `SecurityContextTokens` that the server issues following `SPNego` or `SSL` negotiation.</span></span> <span data-ttu-id="fa3ef-117">Pamięć podręczna serwera `SecurityContextToken`s dla tego okresu czasu.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-117">The server caches the `SecurityContextToken`s for this period of time.</span></span>  
  
-   <span data-ttu-id="fa3ef-118"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.MaxPendingSessions%2A>: steruje maksymalną liczbą bezpiecznych konwersacji, które są ustalane na serwerze, ale które zostały przetworzone żadnych komunikatów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-118"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.MaxPendingSessions%2A>: controls the maximum number of secure conversations that are established at the server but for which no application messages have been processed.</span></span> <span data-ttu-id="fa3ef-119">Ten limit przydziału uniemożliwia klientom ustanawiania bezpiecznych konwersacji w usłudze, co powoduje usługi do zarządzania stanem na klienta, ale nigdy nie za ich pomocą.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-119">This quota prevents clients from establishing secure conversations at the service, thereby causing the service to maintain state per client, but never using them.</span></span>  
  
-   <span data-ttu-id="fa3ef-120"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.InactivityTimeout%2A>: Określa maksymalny czas, Usługa przechowuje bezpiecznej konwersacji podtrzymania bez otrzymania wiadomości aplikacji od klienta do konwersacji.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-120"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.InactivityTimeout%2A>:  controls the maximum time the service keeps a secure conversation alive without receiving an application message from the client for the conversation.</span></span> <span data-ttu-id="fa3ef-121">Ten limit przydziału uniemożliwia klientom ustanawiania bezpiecznych konwersacji w usłudze, co powoduje usługi do zarządzania stanem na klienta, ale nigdy nie za ich pomocą.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-121">This quota prevents clients from establishing secure conversations at the service, thereby causing the service to maintain state per client, but never using them.</span></span>  
  
## <a name="wsdualhttpbinding-or-dual-custom-bindings-require-client-authentication"></a><span data-ttu-id="fa3ef-122">WSDualHttpBinding lub dwa powiązania niestandardowe wymagają uwierzytelniania klienta</span><span class="sxs-lookup"><span data-stu-id="fa3ef-122">WSDualHttpBinding or Dual Custom Bindings Require Client Authentication</span></span>  
 <span data-ttu-id="fa3ef-123">Domyślnie <xref:System.ServiceModel.WSDualHttpBinding> ma włączoną obsługą zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-123">By default, the <xref:System.ServiceModel.WSDualHttpBinding> has security enabled.</span></span> <span data-ttu-id="fa3ef-124">Jest to możliwe, jednak, że jeśli uwierzytelnianie klienta została wyłączona przez ustawienie <xref:System.ServiceModel.MessageSecurityOverHttp.ClientCredentialType%2A> właściwości <xref:System.ServiceModel.MessageCredentialType.None>, złośliwy użytkownik może prowadzić do odmowy usługi ataków na trzeci usługi.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-124">It is possible, however, that if the client authentication is disabled by setting the <xref:System.ServiceModel.MessageSecurityOverHttp.ClientCredentialType%2A> property to <xref:System.ServiceModel.MessageCredentialType.None>, a malicious user can cause a denial of service attack on a third service.</span></span> <span data-ttu-id="fa3ef-125">Może to wystąpić, ponieważ złośliwego klienta może bezpośrednia usługi do wysyłania strumienia komunikatów do innej usługi.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-125">This can occur because a malicious client can direct the service to send a stream of messages to a third service.</span></span>  
  
 <span data-ttu-id="fa3ef-126">Aby temu zaradzić, nie należy ustawiać właściwości `None`.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-126">To mitigate this, do not set the property to `None`.</span></span> <span data-ttu-id="fa3ef-127">Wziąć pod uwagę możliwość ta podczas tworzenia niestandardowego powiązania, które ma podwójną komunikatów.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-127">Also be aware of this possibility when creating a custom binding that has a dual message pattern.</span></span>  
  
## <a name="auditing-event-log-can-be-filled"></a><span data-ttu-id="fa3ef-128">Dziennik zdarzeń inspekcji mogą być wypełnione</span><span class="sxs-lookup"><span data-stu-id="fa3ef-128">Auditing Event Log Can Be Filled</span></span>  
 <span data-ttu-id="fa3ef-129">Jeśli złośliwy użytkownik rozumie, że inspekcja jest włączona, niepowołana może wysyłać nieprawidłowe komunikaty, powodujących wpisy inspekcji do zapisania.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-129">If a malicious user understands that auditing is enabled, that attacker can send invalid messages that cause audit entries to be written.</span></span> <span data-ttu-id="fa3ef-130">Dziennik inspekcji jest wypełniony w ten sposób, inspekcji systemu nie powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-130">If the audit log is filled in this manner, the auditing system fails.</span></span>  
  
 <span data-ttu-id="fa3ef-131">Aby temu zaradzić, ustaw <xref:System.ServiceModel.Description.ServiceSecurityAuditBehavior.SuppressAuditFailure%2A> właściwości `true` i użyj właściwości podglądu zdarzeń w celu kontrolowania zachowania inspekcji.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-131">To mitigate this, set the <xref:System.ServiceModel.Description.ServiceSecurityAuditBehavior.SuppressAuditFailure%2A> property to `true` and use the properties of the Event Viewer to control the auditing behavior.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="fa3ef-132">Wyświetlanie i zarządzanie dziennikami zdarzeń za pomocą Podglądu zdarzeń zobacz [Podgląd zdarzeń](http://go.microsoft.com/fwlink/?LinkId=186123).</span><span class="sxs-lookup"><span data-stu-id="fa3ef-132"> using the Event Viewer to view and manage event logs, see [Event Viewer](http://go.microsoft.com/fwlink/?LinkId=186123).</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="fa3ef-133">[Inspekcji](../../../../docs/framework/wcf/feature-details/auditing-security-events.md).</span><span class="sxs-lookup"><span data-stu-id="fa3ef-133"> [Auditing](../../../../docs/framework/wcf/feature-details/auditing-security-events.md).</span></span>  
  
## <a name="invalid-implementations-of-iauthorizationpolicy-can-cause-service-hangs"></a><span data-ttu-id="fa3ef-134">Nieprawidłowy implementacje zawiesza się usługa Przyczyna może IAuthorizationPolicy</span><span class="sxs-lookup"><span data-stu-id="fa3ef-134">Invalid Implementations of IAuthorizationPolicy Can Cause Service Hangs</span></span>  
 <span data-ttu-id="fa3ef-135">Wywoływanie <xref:System.IdentityModel.Policy.IAuthorizationPolicy.Evaluate%2A> metody na błędną implementację elementu <xref:System.IdentityModel.Policy.IAuthorizationPolicy> interfejs może spowodować, że usługa zawieszenie.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-135">Calling the <xref:System.IdentityModel.Policy.IAuthorizationPolicy.Evaluate%2A> method on a faulty implementation of the <xref:System.IdentityModel.Policy.IAuthorizationPolicy> interface can cause the service to hang.</span></span>  
  
 <span data-ttu-id="fa3ef-136">Ograniczenie: Użyj tylko zaufanego kodu.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-136">Mitigation: Use only trusted code.</span></span> <span data-ttu-id="fa3ef-137">Oznacza to, używają tylko kod, który został zapisany i przetestowane lub która pochodzi z zaufanego dostawcę.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-137">That is, use only code that you have written and tested, or that comes from a trusted provider.</span></span> <span data-ttu-id="fa3ef-138">Nie zezwalaj na niezaufane rozszerzenia <xref:System.IdentityModel.Policy.IAuthorizationPolicy> być podłączony do kodu bez ukończenia brany pod uwagę.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-138">Do not allow untrusted extensions of <xref:System.IdentityModel.Policy.IAuthorizationPolicy> to be plugged into your code without due consideration.</span></span> <span data-ttu-id="fa3ef-139">Dotyczy to wszystkich rozszerzeń zastosowany w implementacji usługi.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-139">This applies to all extensions used in a service implementation.</span></span> [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="fa3ef-140">nie daje żadnej różnicy między kodem aplikacji i obcego kodu, który jest podłączony za pomocą punkty rozszerzeń.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-140"> does not make any distinction between application code and foreign code that is plugged in using extensibility points.</span></span>  
  
## <a name="kerberos-maximum-token-size-may-need-resizing"></a><span data-ttu-id="fa3ef-141">Może być konieczne Kerberos maksymalny rozmiar tokenu zmiana rozmiaru</span><span class="sxs-lookup"><span data-stu-id="fa3ef-141">Kerberos Maximum Token Size May Need Resizing</span></span>  
 <span data-ttu-id="fa3ef-142">Jeśli klient należy do dużej liczby grup (około 900, mimo że rzeczywista liczba może być różna w zależności od grup), problem może wystąpić, gdy blok Nagłówek wiadomości przekroczy 64 kilobajtów.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-142">If a client belongs to a large number of groups (approximately 900, although the actual number varies depending on the groups), a problem may occur when a message header's block exceeds 64 kilobytes.</span></span> <span data-ttu-id="fa3ef-143">W takim przypadku można zwiększyć maksymalny rozmiar tokenu protokołu Kerberos, zgodnie z opisem w artykule firmy Microsoft Support "[uwierzytelniania protokołu Kerberos programu Internet Explorer nie działa z powodu Niewystarczający bufor łączący się z IIS](http://go.microsoft.com/fwlink/?LinkId=89176)."</span><span class="sxs-lookup"><span data-stu-id="fa3ef-143">In that case, you can increase the maximum Kerberos token size, as described in the Microsoft Support article "[Internet Explorer Kerberos authentication does not work because of an insufficient buffer connecting to IIS](http://go.microsoft.com/fwlink/?LinkId=89176)."</span></span> <span data-ttu-id="fa3ef-144">Może również należy zwiększyć maksymalną [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] komunikatu rozmiar, aby obsłużyć większą token protokołu Kerberos.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-144">You may also need to increase the maximum [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] message size to accommodate the larger Kerberos token.</span></span>  
  
## <a name="autoenrollment-results-in-multiple-certificates-with-same-subject-name-for-machine"></a><span data-ttu-id="fa3ef-145">Powoduje autorejestrowania kilka certyfikatów o tej samej nazwie podmiotu maszyny</span><span class="sxs-lookup"><span data-stu-id="fa3ef-145">Autoenrollment Results in Multiple Certificates with Same Subject Name for Machine</span></span>  
 <span data-ttu-id="fa3ef-146">*Autorejestrowania* to możliwość [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] do automatycznego rejestrowania użytkowników i komputerów dla certyfikatów.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-146">*Autoenrollment* is the capability of [!INCLUDE[ws2003](../../../../includes/ws2003-md.md)] to automatically enroll users and computers for certificates.</span></span> <span data-ttu-id="fa3ef-147">Gdy komputer znajduje się w domenie z włączoną funkcją, certyfikat X.509 z przeznaczeniem uwierzytelniania klienta jest automatycznie tworzone i wstawione do magazynu certyfikatów osobistych komputera lokalnego, zawsze, gdy nowy komputer jest dołączony do sieć.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-147">When a machine is on a domain with the feature enabled, an X.509 certificate with the intended purpose of client authentication is automatically created and inserted into the local computer's Personal certificates store whenever a new machine is joined to the network.</span></span> <span data-ttu-id="fa3ef-148">Jednak autorejestrowania korzysta z taką samą nazwę podmiotu dla wszystkich certyfikatów, które tworzy się w pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-148">However, autoenrollment uses the same subject name for all certificates it creates in the cache.</span></span>  
  
 <span data-ttu-id="fa3ef-149">Wpływ jest to, że [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] Otwórz w domenach z automatycznego rejestrowania usługi może być niemożliwe.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-149">The impact is that [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] services may fail to open on domains with autoenrollment.</span></span> <span data-ttu-id="fa3ef-150">Dzieje się tak, ponieważ domyślne kryteria wyszukiwania poświadczeń X.509 usługi może być niejednoznaczna, ponieważ istnieje wiele certyfikatów w pełni kwalifikowaną nazwą systemu nazw domen (DNS, Domain Name System) na komputerze.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-150">This occurs because the default service X.509 credential search criteria might be ambiguous because multiple certificates with the machine's fully qualified Domain Name System (DNS) name exist.</span></span> <span data-ttu-id="fa3ef-151">Jeden certyfikat pochodzi z autorejestrowania; drugi może być własnym wystawiony certyfikat.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-151">One certificate originates from autoenrollment; the other might be a self-issued certificate.</span></span>  
  
 <span data-ttu-id="fa3ef-152">Aby temu zaradzić, odwoływać się dokładnie certyfikat do użycia przy użyciu kryterium wyszukiwania dokładniejsze na [ \<serviceCredentials >](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md).</span><span class="sxs-lookup"><span data-stu-id="fa3ef-152">To mitigate this, reference the exact certificate to use by using a more precise search criterion on the [\<serviceCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md).</span></span> <span data-ttu-id="fa3ef-153">Na przykład użyć <xref:System.Security.Cryptography.X509Certificates.X509FindType.FindByThumbprint> opcji, a następnie określ certyfikat przez jego unikatowy odcisk palca (skrót).</span><span class="sxs-lookup"><span data-stu-id="fa3ef-153">For example, use the <xref:System.Security.Cryptography.X509Certificates.X509FindType.FindByThumbprint> option, and specify the certificate by its unique thumbprint (hash).</span></span>  
  
 [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="fa3ef-154">Funkcja automatycznego rejestrowania, zobacz [autorejestrowanie certyfikatów w systemie Windows Server 2003](http://go.microsoft.com/fwlink/?LinkId=95166).</span><span class="sxs-lookup"><span data-stu-id="fa3ef-154"> the autoenrollment feature, see [Certificate Autoenrollment in Windows Server 2003](http://go.microsoft.com/fwlink/?LinkId=95166).</span></span>  
  
## <a name="last-of-multiple-alternative-subject-names-used-for-authorization"></a><span data-ttu-id="fa3ef-155">Ostatnie wielu nazwy alternatywnej podmiotu używane na potrzeby autoryzacji</span><span class="sxs-lookup"><span data-stu-id="fa3ef-155">Last of Multiple Alternative Subject Names Used for Authorization</span></span>  
 <span data-ttu-id="fa3ef-156">W rzadkich przypadkach, kiedy certyfikat X.509 zawiera wiele nazwy alternatywnej podmiotu i autoryzacji, przy użyciu ustawienia alternatywnej nazwy podmiotu, autoryzacji może zakończyć się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-156">In the rare case when an X.509 certificate contains multiple alternative subject names, and you authorize using the alternative subject name, authorization may fail.</span></span>  
  
## <a name="protect-configuration-files-with-acls"></a><span data-ttu-id="fa3ef-157">Chroń pliki konfiguracji za pomocą listy kontroli dostępu</span><span class="sxs-lookup"><span data-stu-id="fa3ef-157">Protect Configuration Files with ACLs</span></span>  
 <span data-ttu-id="fa3ef-158">Można określić wymaganych i opcjonalnych oświadczeń w plikach kod i konfiguracja dla [!INCLUDE[infocard](../../../../includes/infocard-md.md)] wystawionych tokenów.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-158">You can specify required and optional claims in code and configuration files for [!INCLUDE[infocard](../../../../includes/infocard-md.md)] issued tokens.</span></span> <span data-ttu-id="fa3ef-159">Powoduje to odpowiednie elementy, które są emitowane w `RequestSecurityToken` wiadomości, które są wysyłane do zabezpieczenia tokenu usługi.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-159">This results in corresponding elements being emitted in `RequestSecurityToken` messages that are sent to the security token service.</span></span> <span data-ttu-id="fa3ef-160">Osoba atakująca można zmodyfikować kod lub konfigurację, aby usunąć wymaganego lub opcjonalnego roszczenia, potencjalnie pobierania usługi tokenu zabezpieczeń można wystawić tokenu, który nie zezwala na dostęp do usługi docelowej.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-160">An attacker can modify code or configuration to remove required or optional claims, potentially getting the security token service to issue a token that does not allow access to the target service.</span></span>  
  
 <span data-ttu-id="fa3ef-161">Aby ograniczyć: wymagają dostępu do komputera, aby zmodyfikować pliku konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-161">To mitigate: Require access to the computer to modify the configuration file.</span></span> <span data-ttu-id="fa3ef-162">Korzystanie z pliku kontroli dostępu zawiera listę (kontroli dostępu ACL) do zabezpieczania plików konfiguracyjnych.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-162">Use file access control lists (ACLs) to secure configuration files.</span></span> [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="fa3ef-163">wymaga, aby kod w katalogu aplikacji lub w globalnej pamięci podręcznej zestawów, zanim umożliwi taki kod, aby być ładowane z konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-163"> requires that code be in the application directory or the global assembly cache before it will allow such code to be loaded from configuration.</span></span> <span data-ttu-id="fa3ef-164">Użyj listy ACL w katalogu, aby zabezpieczyć katalogi.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-164">Use directory ACLs to secure directories.</span></span>  
  
## <a name="maximum-number-of-secure-sessions-for-a-service-is-reached"></a><span data-ttu-id="fa3ef-165">Osiągnięto maksymalną liczbę bezpiecznej sesji dla usługi</span><span class="sxs-lookup"><span data-stu-id="fa3ef-165">Maximum Number of Secure Sessions for a Service Is Reached</span></span>  
 <span data-ttu-id="fa3ef-166">Gdy klient zostanie pomyślnie uwierzytelniony przez usługę i bezpieczne ustanowiono połączenie z usługą, Usługa przechowuje informacje o sesji, dopóki klient anuluje go lub wygaśnięcia sesji.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-166">When a client is successfully authenticated by a service and a secure session is established with the service, the service keeps track of the session until the client cancels it or the session expires.</span></span> <span data-ttu-id="fa3ef-167">Każdy ustanowienie sesji jest za mała limit maksymalnej liczby aktywnych sesji jednoczesnych z usługą.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-167">Every established session counts against the limit for the maximum number of active simultaneous sessions with a service.</span></span> <span data-ttu-id="fa3ef-168">Po osiągnięciu tego limitu klientów, które próbują utworzyć nowej sesji z tą usługą są odrzucane, dopóki jedna lub więcej aktywnych sesji wygaśnięcia lub anulowania przez klienta.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-168">When this limit is reached, clients that attempt to create a new session with that service are rejected until one or more active sessions expire or are canceled by a client.</span></span> <span data-ttu-id="fa3ef-169">Klient może mieć wiele sesji z usługą, a limit liczony w każdej z nich tymi sesjami.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-169">A client can have multiple sessions with a service, and each one of those sessions counts toward the limit.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="fa3ef-170">Korzystając z sesji stanowe, powyżej nie ma zastosowania.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-170">When you use stateful sessions, the previous paragraph does not apply.</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="fa3ef-171">stanowe sesje, zobacz [porady: Tworzenie tokenu kontekstu zabezpieczeń dla bezpieczną sesję](../../../../docs/framework/wcf/feature-details/how-to-create-a-security-context-token-for-a-secure-session.md).</span><span class="sxs-lookup"><span data-stu-id="fa3ef-171"> stateful sessions, see [How to: Create a Security Context Token for a Secure Session](../../../../docs/framework/wcf/feature-details/how-to-create-a-security-context-token-for-a-secure-session.md).</span></span>  
  
 <span data-ttu-id="fa3ef-172">Aby temu zaradzić, Ustaw limit maksymalnej liczby aktywnych sesji i maksymalny okres istnienia sesji przez ustawienie <xref:System.ServiceModel.Channels.SecurityBindingElement> właściwość <xref:System.ServiceModel.Channels.SecurityBindingElement> klasy.</span><span class="sxs-lookup"><span data-stu-id="fa3ef-172">To mitigate this, set the limit for the maximum number of active sessions and the maximum lifetime for a session by setting the <xref:System.ServiceModel.Channels.SecurityBindingElement> property of the <xref:System.ServiceModel.Channels.SecurityBindingElement> class.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fa3ef-173">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="fa3ef-173">See Also</span></span>  
 [<span data-ttu-id="fa3ef-174">Zagadnienia dotyczące zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="fa3ef-174">Security Considerations</span></span>](../../../../docs/framework/wcf/feature-details/security-considerations-in-wcf.md)  
 [<span data-ttu-id="fa3ef-175">Ujawnienie informacji</span><span class="sxs-lookup"><span data-stu-id="fa3ef-175">Information Disclosure</span></span>](../../../../docs/framework/wcf/feature-details/information-disclosure.md)  
 [<span data-ttu-id="fa3ef-176">Podniesienie uprawnień</span><span class="sxs-lookup"><span data-stu-id="fa3ef-176">Elevation of Privilege</span></span>](../../../../docs/framework/wcf/feature-details/elevation-of-privilege.md)  
 [<span data-ttu-id="fa3ef-177">Odmowa usługi</span><span class="sxs-lookup"><span data-stu-id="fa3ef-177">Denial of Service</span></span>](../../../../docs/framework/wcf/feature-details/denial-of-service.md)  
 [<span data-ttu-id="fa3ef-178">Ataki</span><span class="sxs-lookup"><span data-stu-id="fa3ef-178">Replay Attacks</span></span>](../../../../docs/framework/wcf/feature-details/replay-attacks.md)  
 [<span data-ttu-id="fa3ef-179">Manipulowanie</span><span class="sxs-lookup"><span data-stu-id="fa3ef-179">Tampering</span></span>](../../../../docs/framework/wcf/feature-details/tampering.md)  
 [<span data-ttu-id="fa3ef-180">Nieobsługiwane scenariusze</span><span class="sxs-lookup"><span data-stu-id="fa3ef-180">Unsupported Scenarios</span></span>](../../../../docs/framework/wcf/feature-details/unsupported-scenarios.md)
