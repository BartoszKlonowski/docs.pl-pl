---
title: Przechowywanie wersji kontraktów danych
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- versioning [WCF], data contracts
- versioning [WCF]
- data contracts [WCF], versioning
ms.assetid: 4a0700cb-5f5f-4137-8705-3a3ecf06461f
ms.openlocfilehash: 6f8623c9d8e9e7ba1f7c762c929f986b523c2f90
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/26/2020
ms.locfileid: "96285203"
---
# <a name="data-contract-versioning"></a><span data-ttu-id="a7cb9-102">Przechowywanie wersji kontraktów danych</span><span class="sxs-lookup"><span data-stu-id="a7cb9-102">Data Contract Versioning</span></span>

<span data-ttu-id="a7cb9-103">W miarę rozwoju aplikacji może być również konieczna zmiana kontraktów danych używanych przez usługi.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-103">As applications evolve, you may also have to change the data contracts the services use.</span></span> <span data-ttu-id="a7cb9-104">W tym temacie wyjaśniono, jak wersje umów dotyczących danych.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-104">This topic explains how to version data contracts.</span></span> <span data-ttu-id="a7cb9-105">W tym temacie opisano mechanizmy obsługi wersji kontraktu danych.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-105">This topic describes the data contract versioning mechanisms.</span></span> <span data-ttu-id="a7cb9-106">Aby zapoznać się z pełnym omówieniem i wskazówkami dotyczącymi wersji, zobacz [najlepsze rozwiązania: przechowywanie wersji kontraktu danych](../best-practices-data-contract-versioning.md).</span><span class="sxs-lookup"><span data-stu-id="a7cb9-106">For a complete overview and prescriptive versioning guidance, see [Best Practices: Data Contract Versioning](../best-practices-data-contract-versioning.md).</span></span>  
  
## <a name="breaking-vs-nonbreaking-changes"></a><span data-ttu-id="a7cb9-107">Zmiany w porównaniu z nieprzerwanymi zmianami</span><span class="sxs-lookup"><span data-stu-id="a7cb9-107">Breaking vs. Nonbreaking Changes</span></span>  

 <span data-ttu-id="a7cb9-108">Zmiany w kontrakcie danych mogą być przerywane lub nieprzerwane.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-108">Changes to a data contract can be breaking or nonbreaking.</span></span> <span data-ttu-id="a7cb9-109">Po zmianie kontraktu danych w sposób nieprzerwany aplikacja używająca starszej wersji kontraktu może komunikować się z aplikacją przy użyciu nowszej wersji, a aplikacja korzystająca z nowszej wersji kontraktu może komunikować się z aplikacją przy użyciu starszej wersji.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-109">When a data contract is changed in a nonbreaking way, an application using the older version of the contract can communicate with an application using the newer version, and an application using the newer version of the contract can communicate with an application using the older version.</span></span> <span data-ttu-id="a7cb9-110">Z drugiej strony, nieprzerwana zmiana uniemożliwia komunikację w jednym lub obu kierunkach.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-110">On the other hand, a breaking change prevents communication in one or both directions.</span></span>  
  
 <span data-ttu-id="a7cb9-111">Wszelkie zmiany typu, który nie ma wpływu na sposób jego przesyłania i odbierania, nie są przerywane.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-111">Any changes to a type that do not affect how it is transmitted and received are nonbreaking.</span></span> <span data-ttu-id="a7cb9-112">Takie zmiany nie zmieniają kontraktu danych, tylko typ podstawowy.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-112">Such changes do not change the data contract, only the underlying type.</span></span> <span data-ttu-id="a7cb9-113">Na przykład można zmienić nazwę pola w sposób niepodzielony, jeśli następnie ustawisz <xref:System.Runtime.Serialization.DataMemberAttribute.Name%2A> Właściwość <xref:System.Runtime.Serialization.DataMemberAttribute> na nazwę starszej wersji.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-113">For example, you can change the name of a field in a nonbreaking way if you then set the <xref:System.Runtime.Serialization.DataMemberAttribute.Name%2A> property of the <xref:System.Runtime.Serialization.DataMemberAttribute> to the older version name.</span></span> <span data-ttu-id="a7cb9-114">Poniższy kod przedstawia wersję 1 kontraktu danych.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-114">The following code shows version 1 of a data contract.</span></span>  
  
 [!code-csharp[C_DataContractVersioning#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractversioning/cs/source.cs#1)]
 [!code-vb[C_DataContractVersioning#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractversioning/vb/source.vb#1)]  
  
 <span data-ttu-id="a7cb9-115">Poniższy kod przedstawia nieprzerwaną zmianę.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-115">The following code shows a nonbreaking change.</span></span>  
  
 [!code-csharp[C_DataContractVersioning#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractversioning/cs/source.cs#2)]
 [!code-vb[C_DataContractVersioning#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractversioning/vb/source.vb#2)]  
  
 <span data-ttu-id="a7cb9-116">Niektóre zmiany modyfikują przesyłane dane, ale mogą lub nie mogą być przerywane.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-116">Some changes do modify the transmitted data, but may or may not be breaking.</span></span> <span data-ttu-id="a7cb9-117">Następujące zmiany są zawsze przerywane:</span><span class="sxs-lookup"><span data-stu-id="a7cb9-117">The following changes are always breaking:</span></span>  
  
- <span data-ttu-id="a7cb9-118">Zmiana <xref:System.Runtime.Serialization.DataContractAttribute.Name%2A> wartości lub <xref:System.Runtime.Serialization.DataContractAttribute.Namespace%2A> kontraktu danych.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-118">Changing the <xref:System.Runtime.Serialization.DataContractAttribute.Name%2A> or <xref:System.Runtime.Serialization.DataContractAttribute.Namespace%2A> value of a data contract.</span></span>  
  
- <span data-ttu-id="a7cb9-119">Zmiana kolejności elementów członkowskich danych przy użyciu <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A> właściwości <xref:System.Runtime.Serialization.DataMemberAttribute> .</span><span class="sxs-lookup"><span data-stu-id="a7cb9-119">Changing the order of data members by using the <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A> property of the <xref:System.Runtime.Serialization.DataMemberAttribute>.</span></span>  
  
- <span data-ttu-id="a7cb9-120">Zmiana nazwy elementu członkowskiego danych.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-120">Renaming a data member.</span></span>  
  
- <span data-ttu-id="a7cb9-121">Zmiana kontraktu danych elementu członkowskiego danych.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-121">Changing the data contract of a data member.</span></span> <span data-ttu-id="a7cb9-122">Na przykład zmiana typu elementu członkowskiego danych z liczby całkowitej na ciąg lub z typu z kontraktem danych o nazwie "Customer" na typ z kontraktem danych o nazwie "Person".</span><span class="sxs-lookup"><span data-stu-id="a7cb9-122">For example, changing the type of data member from an integer to a string, or from a type with a data contract named "Customer" to a type with a data contract named "Person".</span></span>  
  
 <span data-ttu-id="a7cb9-123">Możliwe są również następujące zmiany.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-123">The following changes are also possible.</span></span>  
  
## <a name="adding-and-removing-data-members"></a><span data-ttu-id="a7cb9-124">Dodawanie i usuwanie elementów członkowskich danych</span><span class="sxs-lookup"><span data-stu-id="a7cb9-124">Adding and Removing Data Members</span></span>  

 <span data-ttu-id="a7cb9-125">W większości przypadków dodanie lub usunięcie elementu członkowskiego danych nie jest istotną zmianą, chyba że wymagana jest ścisła ważność schematu (nowe wystąpienia są weryfikowane względem starego schematu).</span><span class="sxs-lookup"><span data-stu-id="a7cb9-125">In most cases, adding or removing a data member is not a breaking change, unless you require strict schema validity (new instances validating against the old schema).</span></span>  
  
 <span data-ttu-id="a7cb9-126">Gdy typ z dodatkowym polem jest deserializowany do typu z brakującym polem, dodatkowe informacje są ignorowane.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-126">When a type with an extra field is deserialized into a type with a missing field, the extra information is ignored.</span></span> <span data-ttu-id="a7cb9-127">(Mogą być również przechowywane w celach okrężnych; Aby uzyskać więcej informacji, zobacz [Kontrakty danych zgodne z przekazaniem](forward-compatible-data-contracts.md)).</span><span class="sxs-lookup"><span data-stu-id="a7cb9-127">(It may also be stored for round-tripping purposes; for more information, see [Forward-Compatible Data Contracts](forward-compatible-data-contracts.md)).</span></span>  
  
 <span data-ttu-id="a7cb9-128">Gdy typ z brakującym polem jest deserializowany do typu z dodatkowym polem, dodatkowe pole ma wartość domyślną, zazwyczaj zero lub `null` .</span><span class="sxs-lookup"><span data-stu-id="a7cb9-128">When a type with a missing field is deserialized into a type with an extra field, the extra field is left at its default value, usually zero or `null`.</span></span> <span data-ttu-id="a7cb9-129">(Wartość domyślna może zostać zmieniona. Aby uzyskać więcej informacji, zobacz [wywołania zwrotne serializacji odpornej na wersje](version-tolerant-serialization-callbacks.md)).</span><span class="sxs-lookup"><span data-stu-id="a7cb9-129">(The default value may be changed; for more information, see [Version-Tolerant Serialization Callbacks](version-tolerant-serialization-callbacks.md).)</span></span>  
  
 <span data-ttu-id="a7cb9-130">Na przykład można użyć `CarV1` klasy na kliencie i `CarV2` klasy w usłudze lub można użyć `CarV1` klasy w usłudze i `CarV2` klasie na kliencie.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-130">For example, you can use the `CarV1` class on a client and the `CarV2` class on a service, or you can use the `CarV1` class on a service and the `CarV2` class on a client.</span></span>  
  
 [!code-csharp[C_DataContractVersioning#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractversioning/cs/source.cs#3)]
 [!code-vb[C_DataContractVersioning#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractversioning/vb/source.vb#3)]  
  
 <span data-ttu-id="a7cb9-131">Punkt końcowy w wersji 2 może pomyślnie wysyłać dane do punktu końcowego w wersji 1.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-131">The version 2 endpoint can successfully send data to the version 1 endpoint.</span></span> <span data-ttu-id="a7cb9-132">Serializowanie wersji 2 `Car` kontraktu danych daje kod XML podobny do poniższego.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-132">Serializing version 2 of the `Car` data contract yields XML similar to the following.</span></span>  
  
```xml  
<Car>  
    <Model>Porsche</Model>  
    <HorsePower>300</HorsePower>  
</Car>  
```  
  
 <span data-ttu-id="a7cb9-133">Aparat deserializacji w wersji 1 nie znalazł zgodnego elementu członkowskiego danych dla tego `HorsePower` pola i odrzuca te dane.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-133">The deserialization engine on V1 does not find a matching data member for the `HorsePower` field, and discards that data.</span></span>  
  
 <span data-ttu-id="a7cb9-134">Ponadto punkt końcowy w wersji 1 może wysyłać dane do punktu końcowego w wersji 2.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-134">Also, the version 1 endpoint can send data to the version 2 endpoint.</span></span> <span data-ttu-id="a7cb9-135">Serializowanie wersji 1 `Car` kontraktu danych daje kod XML podobny do poniższego.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-135">Serializing version 1 of the `Car` data contract yields XML similar to the following.</span></span>  
  
```xml  
<Car>  
    <Model>Porsche</Model>  
</Car>  
```  
  
 <span data-ttu-id="a7cb9-136">Deserializator wersji 2 nie wie `HorsePower` , do czego służy pole, ponieważ nie ma żadnych pasujących danych w przychodzącym formacie XML.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-136">The version 2 deserializer does not know what to set the `HorsePower` field to, because there is no matching data in the incoming XML.</span></span> <span data-ttu-id="a7cb9-137">Zamiast tego pole jest ustawione na wartość domyślną 0.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-137">Instead, the field is set to the default value of 0.</span></span>  
  
## <a name="required-data-members"></a><span data-ttu-id="a7cb9-138">Wymagane składowe danych</span><span class="sxs-lookup"><span data-stu-id="a7cb9-138">Required Data Members</span></span>  

 <span data-ttu-id="a7cb9-139">Składowa danych może być oznaczona jako wymagana przez ustawienie <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> właściwości <xref:System.Runtime.Serialization.DataMemberAttribute> do `true` .</span><span class="sxs-lookup"><span data-stu-id="a7cb9-139">A data member may be marked as being required by setting the <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> property of the <xref:System.Runtime.Serialization.DataMemberAttribute> to `true`.</span></span> <span data-ttu-id="a7cb9-140">Jeśli podczas deserializacji brakuje wymaganych danych, zostanie zgłoszony wyjątek zamiast ustawiania elementu członkowskiego danych do jego wartości domyślnej.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-140">If required data is missing while deserializing, an exception is thrown instead of setting the data member to its default value.</span></span>  
  
 <span data-ttu-id="a7cb9-141">Dodawanie wymaganego elementu członkowskiego danych jest istotną zmianą.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-141">Adding a required data member is a breaking change.</span></span> <span data-ttu-id="a7cb9-142">Oznacza to, że nowszy typ można nadal wysyłać do punktów końcowych ze starszym typem, ale nie w inny sposób.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-142">That is, the newer type can still be sent to endpoints with the older type, but not the other way around.</span></span> <span data-ttu-id="a7cb9-143">Usunięcie elementu członkowskiego danych, który został oznaczony jako wymagany w dowolnej starszej wersji, jest również istotną zmianą.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-143">Removing a data member that was marked as required in any prior version is also a breaking change.</span></span>  
  
 <span data-ttu-id="a7cb9-144">Zmiana <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> wartości właściwości z `true` na na `false` nie jest przerywana, ale zmiana jej z `false` na wartość `true` może zostać przerwana, jeśli żadna wcześniejsza wersja tego typu nie ma podanego elementu członkowskiego danych.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-144">Changing the <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> property value from `true` to `false` is not breaking, but changing it from `false` to `true` may be breaking if any prior versions of the type do not have the data member in question.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="a7cb9-145">Mimo że <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> Właściwość jest ustawiona na `true` , dane przychodzące mogą mieć wartość null lub zero, a typ musi być przygotowany do obsługi tej możliwości.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-145">Although the <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> property is set to `true`, the incoming data may be null or zero, and a type must be prepared to handle this possibility.</span></span> <span data-ttu-id="a7cb9-146">Nie należy używać <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> jako mechanizmu zabezpieczeń, aby chronić przed nieprawidłowymi danymi przychodzącymi.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-146">Do not use <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A> as a security mechanism to protect against bad incoming data.</span></span>  
  
## <a name="omitted-default-values"></a><span data-ttu-id="a7cb9-147">Pominięte wartości domyślne</span><span class="sxs-lookup"><span data-stu-id="a7cb9-147">Omitted Default Values</span></span>  

 <span data-ttu-id="a7cb9-148">Jest możliwe (choć niezalecane), aby ustawić `EmitDefaultValue` właściwość atrybutu DataMemberAttribute na `false` , zgodnie z opisem w [wartościach domyślnych elementu członkowskiego danych](data-member-default-values.md).</span><span class="sxs-lookup"><span data-stu-id="a7cb9-148">It is possible (although not recommended) to set the `EmitDefaultValue` property on the DataMemberAttribute attribute to `false`, as described in [Data Member Default Values](data-member-default-values.md).</span></span> <span data-ttu-id="a7cb9-149">Jeśli to ustawienie ma `false` wartość, element członkowski danych nie zostanie wyemitowany, jeśli zostanie ustawiona na jego wartości domyślne (zazwyczaj wartość null lub zero).</span><span class="sxs-lookup"><span data-stu-id="a7cb9-149">If this setting is `false`, the data member will not be emitted if it is set to its default value (usually null or zero).</span></span> <span data-ttu-id="a7cb9-150">Jest to niezgodne z wymaganymi elementami członkowskimi danych w różnych wersjach na dwa sposoby:</span><span class="sxs-lookup"><span data-stu-id="a7cb9-150">This is not compatible with required data members in different versions in two ways:</span></span>  
  
- <span data-ttu-id="a7cb9-151">Kontrakt danych z elementem członkowskim danych, który jest wymagany w jednej wersji, nie może odbierać wartości domyślnych (null lub zero) z innej wersji, w której element członkowski danych ma `EmitDefaultValue` ustawioną wartość `false` .</span><span class="sxs-lookup"><span data-stu-id="a7cb9-151">A data contract with a data member that is required in one version cannot receive default (null or zero) data from a different version in which the data member has `EmitDefaultValue` set to `false`.</span></span>  
  
- <span data-ttu-id="a7cb9-152">Wymagany element członkowski danych, który ma `EmitDefaultValue` ustawioną `false` wartość, nie może zostać użyty do serializacji jego wartości domyślnej (null lub zero), ale może otrzymać taką wartość przy deserializacji.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-152">A required data member that has `EmitDefaultValue` set to `false` cannot be used to serialize its default (null or zero) value, but can receive such a value on deserialization.</span></span> <span data-ttu-id="a7cb9-153">Powoduje to utworzenie problemu okrężnego (dane mogą zostać odczytane, ale te same dane nie mogą być zapisywane).</span><span class="sxs-lookup"><span data-stu-id="a7cb9-153">This creates a round-tripping problem (data can be read in but the same data cannot then be written out).</span></span> <span data-ttu-id="a7cb9-154">W związku z tym, jeśli `IsRequired` jest `true` i `EmitDefaultValue` znajduje się `false` w jednej wersji, ta sama kombinacja powinna mieć zastosowanie do wszystkich innych wersji, tak że żadna wersja kontraktu danych nie będzie mogła utworzyć wartości, która nie powoduje rundy.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-154">Therefore, if `IsRequired` is `true` and `EmitDefaultValue` is `false` in one version, the same combination should apply to all other versions such that no version of the data contract would be able to produce a value that does not result in a round trip.</span></span>  
  
## <a name="schema-considerations"></a><span data-ttu-id="a7cb9-155">Zagadnienia dotyczące schematu</span><span class="sxs-lookup"><span data-stu-id="a7cb9-155">Schema Considerations</span></span>  

 <span data-ttu-id="a7cb9-156">Aby dowiedzieć się, jakie schematy są generowane dla typów kontraktu danych, zobacz temat [Informacje o schemacie kontraktu danych](data-contract-schema-reference.md).</span><span class="sxs-lookup"><span data-stu-id="a7cb9-156">For an explanation of what schema is produced for data contract types, see [Data Contract Schema Reference](data-contract-schema-reference.md).</span></span>  
  
 <span data-ttu-id="a7cb9-157">Schemat WCF dla typów kontraktu danych nie ma żadnych przepisów dotyczących przechowywania wersji.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-157">The schema WCF produces for data contract types makes no provisions for versioning.</span></span> <span data-ttu-id="a7cb9-158">Oznacza to, że schemat wyeksportowany z określonej wersji typu zawiera tylko te składowe danych, które znajdują się w tej wersji.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-158">That is, the schema exported from a certain version of a type contains only those data members present in that version.</span></span> <span data-ttu-id="a7cb9-159">Implementacja <xref:System.Runtime.Serialization.IExtensibleDataObject> interfejsu nie powoduje zmiany schematu dla typu.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-159">Implementing the <xref:System.Runtime.Serialization.IExtensibleDataObject> interface does not change the schema for a type.</span></span>  
  
 <span data-ttu-id="a7cb9-160">Elementy członkowskie danych są domyślnie eksportowane do schematu jako elementy opcjonalne.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-160">Data members are exported to the schema as optional elements by default.</span></span> <span data-ttu-id="a7cb9-161">Oznacza to, że `minOccurs` wartość (atrybut XML) jest ustawiona na 0.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-161">That is, the `minOccurs` (XML attribute) value is set to 0.</span></span> <span data-ttu-id="a7cb9-162">Wymagane składowe danych zostały wyeksportowane z `minOccurs` ustawioną na 1.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-162">Required data members are exported with `minOccurs` set to 1.</span></span>  
  
 <span data-ttu-id="a7cb9-163">Wiele zmian uważanych za nieprzerwanie jest w rzeczywistości przerywane, jeśli wymagane jest ścisłe przestrzeganie schematu.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-163">Many of the changes considered to be nonbreaking are actually breaking if strict adherence to the schema is required.</span></span> <span data-ttu-id="a7cb9-164">W poprzednim przykładzie `CarV1` wystąpienie z tylko `Model` elementem zostanie zweryfikowane względem `CarV2` schematu (które ma zarówno `Model` i `Horsepower` , ale oba są opcjonalne).</span><span class="sxs-lookup"><span data-stu-id="a7cb9-164">In the preceding example, a `CarV1` instance with just the `Model` element would validate against the `CarV2` schema (which has both `Model` and `Horsepower`, but both are optional).</span></span> <span data-ttu-id="a7cb9-165">Jednak odwrócenie nie jest prawdziwe: wystąpienie nie `CarV2` może sprawdzić poprawności względem `CarV1` schematu.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-165">However, the reverse is not true: a `CarV2` instance would fail validation against the `CarV1` schema.</span></span>  
  
 <span data-ttu-id="a7cb9-166">Dwukrotne wyzwolenie obejmuje również pewne dodatkowe zagadnienia.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-166">Round-tripping also entails some additional considerations.</span></span> <span data-ttu-id="a7cb9-167">Aby uzyskać więcej informacji, zobacz sekcję "zagadnienia dotyczące schematu" w [umowach dotyczących danych przesyłanych dalej](forward-compatible-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="a7cb9-167">For more information, see the "Schema Considerations" section in [Forward-Compatible Data Contracts](forward-compatible-data-contracts.md).</span></span>  
  
### <a name="other-permitted-changes"></a><span data-ttu-id="a7cb9-168">Inne dozwolone zmiany</span><span class="sxs-lookup"><span data-stu-id="a7cb9-168">Other Permitted Changes</span></span>  

 <span data-ttu-id="a7cb9-169">Implementacja <xref:System.Runtime.Serialization.IExtensibleDataObject> interfejsu jest zmianą nierozdzielającą.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-169">Implementing the <xref:System.Runtime.Serialization.IExtensibleDataObject> interface is a nonbreaking change.</span></span> <span data-ttu-id="a7cb9-170">Niemniej jednak pomoc techniczna przy użyciu rundy nie istnieje dla wersji typu przed wersją, w której <xref:System.Runtime.Serialization.IExtensibleDataObject> została zaimplementowana.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-170">However, round-tripping support does not exist for versions of the type prior to the version in which <xref:System.Runtime.Serialization.IExtensibleDataObject> was implemented.</span></span> <span data-ttu-id="a7cb9-171">Aby uzyskać więcej informacji, zobacz [Kontrakty danych zgodne z przekazywaniem dalej](forward-compatible-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="a7cb9-171">For more information, see [Forward-Compatible Data Contracts](forward-compatible-data-contracts.md).</span></span>  
  
## <a name="enumerations"></a><span data-ttu-id="a7cb9-172">Wyliczenia</span><span class="sxs-lookup"><span data-stu-id="a7cb9-172">Enumerations</span></span>  

 <span data-ttu-id="a7cb9-173">Dodawanie lub usuwanie elementu członkowskiego wyliczenia jest istotną zmianą.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-173">Adding or removing an enumeration member is a breaking change.</span></span> <span data-ttu-id="a7cb9-174">Zmiana nazwy elementu członkowskiego wyliczenia jest przerywana, chyba że jego nazwa kontraktu jest taka sama jak w starej wersji przy użyciu `EnumMemberAttribute` atrybutu.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-174">Changing the name of an enumeration member is breaking, unless its contract name is kept the same as in the old version by using the `EnumMemberAttribute` attribute.</span></span> <span data-ttu-id="a7cb9-175">Aby uzyskać więcej informacji, zobacz [typy wyliczeniowe w kontraktach danych](enumeration-types-in-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="a7cb9-175">For more information, see [Enumeration Types in Data Contracts](enumeration-types-in-data-contracts.md).</span></span>  
  
## <a name="collections"></a><span data-ttu-id="a7cb9-176">Kolekcje</span><span class="sxs-lookup"><span data-stu-id="a7cb9-176">Collections</span></span>  

 <span data-ttu-id="a7cb9-177">Większość zmian kolekcji jest nieprzerwana, ponieważ większość typów kolekcji są zamienne ze sobą w modelu kontraktu danych.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-177">Most collection changes are nonbreaking because most collection types are interchangeable with each other in the data contract model.</span></span> <span data-ttu-id="a7cb9-178">Jednak niestandardowa kolekcja jest dostosowywana lub na odwrót jest istotną zmianą.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-178">However, making a noncustomized collection customized or vice versa is a breaking change.</span></span> <span data-ttu-id="a7cb9-179">Ponadto zmiana ustawień dostosowywania kolekcji jest istotną zmianą. oznacza to, że zmiana nazwy kontraktu danych i przestrzeni nazw, powtarzająca się nazwa elementu, nazwa elementu klucza i nazwa elementu wartości.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-179">Also, changing the collection's customization settings is a breaking change; that is, changing its data contract name and namespace, repeating element name, key element name, and value element name.</span></span> <span data-ttu-id="a7cb9-180">Aby uzyskać więcej informacji na temat dostosowywania kolekcji, zobacz [typy kolekcji w kontraktach danych](collection-types-in-data-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="a7cb9-180">For more information about collection customization, see [Collection Types in Data Contracts](collection-types-in-data-contracts.md).</span></span>  
<span data-ttu-id="a7cb9-181">Naturalnie zmiana kontraktu danych kolekcji (na przykład zmiana listy liczb całkowitych na listę ciągów) jest istotną zmianą.</span><span class="sxs-lookup"><span data-stu-id="a7cb9-181">Naturally, changing the data contract of contents of a collection (for example, changing from a list of integers to a list of strings) is a breaking change.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a7cb9-182">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="a7cb9-182">See also</span></span>

- <xref:System.Runtime.Serialization.DataMemberAttribute.Name%2A>
- <xref:System.Runtime.Serialization.DataMemberAttribute>
- <xref:System.Runtime.Serialization.DataContractAttribute.Name%2A>
- <xref:System.Runtime.Serialization.DataContractAttribute.Namespace%2A>
- <xref:System.Runtime.Serialization.DataMemberAttribute.Order%2A>
- <xref:System.Runtime.Serialization.DataMemberAttribute.IsRequired%2A>
- <xref:System.Runtime.Serialization.SerializationException>
- <xref:System.Runtime.Serialization.IExtensibleDataObject>
- [<span data-ttu-id="a7cb9-183">Wywołania zwrotne serializacji z tolerancją dla wersji</span><span class="sxs-lookup"><span data-stu-id="a7cb9-183">Version-Tolerant Serialization Callbacks</span></span>](version-tolerant-serialization-callbacks.md)
- [<span data-ttu-id="a7cb9-184">Najlepsze rozwiązania: Przechowywanie wersji kontraktów danych</span><span class="sxs-lookup"><span data-stu-id="a7cb9-184">Best Practices: Data Contract Versioning</span></span>](../best-practices-data-contract-versioning.md)
- [<span data-ttu-id="a7cb9-185">Używanie kontraktów danych</span><span class="sxs-lookup"><span data-stu-id="a7cb9-185">Using Data Contracts</span></span>](using-data-contracts.md)
- [<span data-ttu-id="a7cb9-186">Równoważność kontraktów danych</span><span class="sxs-lookup"><span data-stu-id="a7cb9-186">Data Contract Equivalence</span></span>](data-contract-equivalence.md)
- [<span data-ttu-id="a7cb9-187">Kontrakty danych zgodne z nowszymi wersjami</span><span class="sxs-lookup"><span data-stu-id="a7cb9-187">Forward-Compatible Data Contracts</span></span>](forward-compatible-data-contracts.md)
