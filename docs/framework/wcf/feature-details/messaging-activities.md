---
title: Działań dotyczących komunikatów — usługi WCF
ms.date: 03/30/2017
ms.assetid: 8498f215-1823-4aba-a6e1-391407f8c273
ms.openlocfilehash: 7670a6694e15f0a9e25152102d6237ef1ed60941
ms.sourcegitcommit: 14355b4b2fe5bcf874cac96d0a9e6376b567e4c7
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/30/2019
ms.locfileid: "55255271"
---
# <a name="messaging-activities"></a><span data-ttu-id="b293f-102">Działania dotyczące komunikatów</span><span class="sxs-lookup"><span data-stu-id="b293f-102">Messaging activities</span></span>

<span data-ttu-id="b293f-103">Działań dotyczących komunikatów umożliwiają przepływy pracy służące do wysyłania i odbierania komunikatów WCF.</span><span class="sxs-lookup"><span data-stu-id="b293f-103">Messaging activities allow workflows to send and receive WCF messages.</span></span> <span data-ttu-id="b293f-104">Dodając działań dotyczących komunikatów do przepływu pracy można modelować wszystkie wzorce exchange dowolnie złożone komunikat (MEP).</span><span class="sxs-lookup"><span data-stu-id="b293f-104">By adding messaging activities to a workflow you can model any arbitrarily complex message exchange patterns (MEP).</span></span>

## <a name="message-exchange-patterns"></a><span data-ttu-id="b293f-105">Wzorce wymiany komunikatów</span><span class="sxs-lookup"><span data-stu-id="b293f-105">Message exchange patterns</span></span>

<span data-ttu-id="b293f-106">Istnieją trzy wzorce exchange podstawowe wiadomości:</span><span class="sxs-lookup"><span data-stu-id="b293f-106">There are three basic message exchange patterns:</span></span>

- <span data-ttu-id="b293f-107">**Datagram** — korzystając z datagram MEP klient wysyła komunikat do usługi, ale usługa nie odpowiada.</span><span class="sxs-lookup"><span data-stu-id="b293f-107">**Datagram** - When using the datagram MEP the client sends a message to the service, but the service does not respond.</span></span> <span data-ttu-id="b293f-108">Jest to czasami nazywane "fire and forget".</span><span class="sxs-lookup"><span data-stu-id="b293f-108">This is sometimes called "fire and forget".</span></span> <span data-ttu-id="b293f-109">Element zostanie wyzwolony i zapomnij programu exchange to taki, który wymaga potwierdzenia out-of-band skutecznej.</span><span class="sxs-lookup"><span data-stu-id="b293f-109">A fire and forget exchange is one that requires out-of-band confirmation of successful delivery.</span></span> <span data-ttu-id="b293f-110">Komunikat może zostać utracone podczas przesyłania i nigdy nie dotrzeć do usługi.</span><span class="sxs-lookup"><span data-stu-id="b293f-110">The message might be lost in transit and never reach the service.</span></span> <span data-ttu-id="b293f-111">Jeśli klient jest pomyślnie wysyłana wiadomość, nie gwarantuje to, że usługa odebrała wiadomość.</span><span class="sxs-lookup"><span data-stu-id="b293f-111">If the client successfully sends a message, it does not guarantee that the service has received the message.</span></span> <span data-ttu-id="b293f-112">Datagram jest elementem konstrukcyjnym podstawowych do obsługi komunikatów, jak tworzyć własne MEPs na ich podstawie.</span><span class="sxs-lookup"><span data-stu-id="b293f-112">The datagram is a fundamental building block for messaging, as you can build your own MEPs on top of it.</span></span>

- <span data-ttu-id="b293f-113">**Odpowiedź na żądanie** — przy użyciu MEP odpowiedź na żądanie klienta wysyła komunikat do usługi, usługa nie wymagane przetwarzanie, a następnie wysyła odpowiedź z powrotem do klienta.</span><span class="sxs-lookup"><span data-stu-id="b293f-113">**Request-Response** - When using the request-response MEP the client sends a message to the service, the service does the required processing, and then sends a response back to the client.</span></span> <span data-ttu-id="b293f-114">Wzorzec składa się z pary odpowiedź na żądanie.</span><span class="sxs-lookup"><span data-stu-id="b293f-114">The pattern consists of request-response pairs.</span></span> <span data-ttu-id="b293f-115">Odpowiedź na żądanie wywołania przykłady zdalnych wywołań procedur (RPC) i przeglądarka GET żądań.</span><span class="sxs-lookup"><span data-stu-id="b293f-115">Examples of request-response calls are remote procedure calls (RPC) and browser GET requests.</span></span> <span data-ttu-id="b293f-116">Ten wzorzec jest nazywany również półdupleks.</span><span class="sxs-lookup"><span data-stu-id="b293f-116">This pattern is also known as half-duplex.</span></span>

- <span data-ttu-id="b293f-117">**Dwukierunkowe** — w przypadku usługi dwukierunkowego MEP klient i usługa wiadomości można wysyłać do siebie nawzajem w dowolnej kolejności.</span><span class="sxs-lookup"><span data-stu-id="b293f-117">**Duplex** - When using the duplex MEP the client and service can send messages to each other in any order.</span></span> <span data-ttu-id="b293f-118">Dwukierunkowego MEP przypomina rozmowy telefonicznej, gdzie każdy wyraz mowy jest komunikat.</span><span class="sxs-lookup"><span data-stu-id="b293f-118">The duplex MEP is like a phone conversation, where each word being spoken is a message.</span></span>

<span data-ttu-id="b293f-119">Działań dotyczących komunikatów umożliwiają implementowanie dowolnego z tych podstawowych MEPs, a także wszelkie MEP dowolnie złożone.</span><span class="sxs-lookup"><span data-stu-id="b293f-119">The messaging activities allow you to implement any of these basic MEPs as well as any arbitrarily complex MEP.</span></span>

## <a name="messaging-activities"></a><span data-ttu-id="b293f-120">Działania dotyczące komunikatów</span><span class="sxs-lookup"><span data-stu-id="b293f-120">Messaging activities</span></span>

<span data-ttu-id="b293f-121">[!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)] Definiuje następujących działań dotyczących komunikatów:</span><span class="sxs-lookup"><span data-stu-id="b293f-121">The [!INCLUDE[netfx_current_long](../../../../includes/netfx-current-long-md.md)] defines the following messaging activities:</span></span>

- <span data-ttu-id="b293f-122"><xref:System.ServiceModel.Activities.Send>-Użyj <xref:System.ServiceModel.Activities.Send> działanie, aby wysłać wiadomość.</span><span class="sxs-lookup"><span data-stu-id="b293f-122"><xref:System.ServiceModel.Activities.Send>- Use the <xref:System.ServiceModel.Activities.Send> activity to send a message.</span></span>

- <span data-ttu-id="b293f-123"><xref:System.ServiceModel.Activities.SendReply> -Użyj <xref:System.ServiceModel.Activities.SendReply> działanie, aby wysłać odpowiedź do odebranego komunikatu.</span><span class="sxs-lookup"><span data-stu-id="b293f-123"><xref:System.ServiceModel.Activities.SendReply> - Use the <xref:System.ServiceModel.Activities.SendReply> activity to send a response to a received message.</span></span> <span data-ttu-id="b293f-124">To działanie jest używane przez usługi przepływu pracy podczas implementowania żądanie/nietypizowana odpowiedź MEP.</span><span class="sxs-lookup"><span data-stu-id="b293f-124">This activity is used by workflow services when implementing a request/reply MEP.</span></span>

- <span data-ttu-id="b293f-125"><xref:System.ServiceModel.Activities.Receive>-Użyj <xref:System.ServiceModel.Activities.Receive> działanie komunikat o błędzie.</span><span class="sxs-lookup"><span data-stu-id="b293f-125"><xref:System.ServiceModel.Activities.Receive>- Use the <xref:System.ServiceModel.Activities.Receive> activity to receive a message.</span></span>

- <span data-ttu-id="b293f-126"><xref:System.ServiceModel.Activities.ReceiveReply> -Użyj <xref:System.ServiceModel.Activities.ReceiveReply> działanie, aby odbierać komunikat odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="b293f-126"><xref:System.ServiceModel.Activities.ReceiveReply> - Use the <xref:System.ServiceModel.Activities.ReceiveReply> activity to receive a reply message.</span></span> <span data-ttu-id="b293f-127">To działanie jest używany przez klientów usługi przepływu pracy, podczas implementowania żądanie/nietypizowana odpowiedź MEP.</span><span class="sxs-lookup"><span data-stu-id="b293f-127">This activity is used by workflow service clients when implementing a request/reply MEP.</span></span>

## <a name="messaging-activities-and-message-exchange-patterns"></a><span data-ttu-id="b293f-128">Działań dotyczących komunikatów i wzorców wymiany komunikatów</span><span class="sxs-lookup"><span data-stu-id="b293f-128">Messaging activities and message exchange patterns</span></span>

<span data-ttu-id="b293f-129">Datagram MEP polega na klienta, wysyłanie wiadomości, a Usługa odbierania komunikatów.</span><span class="sxs-lookup"><span data-stu-id="b293f-129">A datagram MEP involves a client sending a message and a service receiving the message.</span></span> <span data-ttu-id="b293f-130">Jeśli klient jest użycie przepływu pracy <xref:System.ServiceModel.Activities.Send> działanie, aby wysłać wiadomość.</span><span class="sxs-lookup"><span data-stu-id="b293f-130">If the client is a workflow use a <xref:System.ServiceModel.Activities.Send> activity to send the message.</span></span> <span data-ttu-id="b293f-131">Aby otrzymać tę wiadomość w przepływie pracy, użyj <xref:System.ServiceModel.Activities.Receive> działania.</span><span class="sxs-lookup"><span data-stu-id="b293f-131">To receive that message in a workflow, use a <xref:System.ServiceModel.Activities.Receive> activity.</span></span> <span data-ttu-id="b293f-132"><xref:System.ServiceModel.Activities.Send> i <xref:System.ServiceModel.Activities.Receive> działania każdego mieć właściwość o nazwie `Content`.</span><span class="sxs-lookup"><span data-stu-id="b293f-132">The <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.Receive> activities each have a property named `Content`.</span></span> <span data-ttu-id="b293f-133">Ta właściwość zawiera danych wysyłanych lub odbieranych.</span><span class="sxs-lookup"><span data-stu-id="b293f-133">This property contains the data being sent or received.</span></span> <span data-ttu-id="b293f-134">Podczas implementowania MEP odpowiedź na żądanie klienta i usługi użyj pary działań.</span><span class="sxs-lookup"><span data-stu-id="b293f-134">When implementing the request-response MEP both the client and the service use pairs of activities.</span></span> <span data-ttu-id="b293f-135">Klient używa <xref:System.ServiceModel.Activities.Send> działanie, aby wysłać wiadomość i <xref:System.ServiceModel.Activities.ReceiveReply> działanie do odbierania odpowiedzi z usługi.</span><span class="sxs-lookup"><span data-stu-id="b293f-135">The client uses a <xref:System.ServiceModel.Activities.Send> activity to send the message and a <xref:System.ServiceModel.Activities.ReceiveReply> activity to receive the response from the service.</span></span> <span data-ttu-id="b293f-136">Te dwa działania są skojarzone ze sobą przez <xref:System.ServiceModel.Activities.ReceiveReply.Request%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="b293f-136">These two activities are associated with each other by the <xref:System.ServiceModel.Activities.ReceiveReply.Request%2A> property.</span></span> <span data-ttu-id="b293f-137">Ta właściwość jest ustawiona <xref:System.ServiceModel.Activities.Send> działania, który wysłał oryginalny wiadomość.</span><span class="sxs-lookup"><span data-stu-id="b293f-137">This property is set to the <xref:System.ServiceModel.Activities.Send> activity that sent the original message.</span></span> <span data-ttu-id="b293f-138">Usługa również używa pary skojarzonych działań: <xref:System.ServiceModel.Activities.Receive> i <xref:System.ServiceModel.Activities.SendReply>.</span><span class="sxs-lookup"><span data-stu-id="b293f-138">The service also uses a pair of associated activities: <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.SendReply>.</span></span> <span data-ttu-id="b293f-139">Te dwa działania są skojarzone, <xref:System.ServiceModel.Activities.SendReply.Request%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="b293f-139">These two activities are associated by the <xref:System.ServiceModel.Activities.SendReply.Request%2A> property.</span></span> <span data-ttu-id="b293f-140">Ta właściwość jest ustawiona <xref:System.ServiceModel.Activities.Receive> działania, który otrzymał oryginalnej wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b293f-140">This property is set to the <xref:System.ServiceModel.Activities.Receive> activity that received the original message.</span></span> <span data-ttu-id="b293f-141"><xref:System.ServiceModel.Activities.ReceiveReply> i <xref:System.ServiceModel.Activities.SendReply> działania, takie jak <xref:System.ServiceModel.Activities.Send> i <xref:System.ServiceModel.Activities.Receive> umożliwiają wysyłanie <xref:System.ServiceModel.Channels.Message> wystąpienie lub typ kontraktu komunikatu.</span><span class="sxs-lookup"><span data-stu-id="b293f-141">The <xref:System.ServiceModel.Activities.ReceiveReply> and <xref:System.ServiceModel.Activities.SendReply> activities, like <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.Receive> allow you to send a <xref:System.ServiceModel.Channels.Message> instance or a message contract type.</span></span>

<span data-ttu-id="b293f-142">Ze względu na charakter długotrwałe przepływy pracy jest ważne w przypadku dwukierunkowego wzorzec komunikacji w celu obsługi długotrwałych konwersacji.</span><span class="sxs-lookup"><span data-stu-id="b293f-142">Because of the long-running nature of workflows, it is important for the duplex pattern of communication to also support long-running conversations.</span></span> <span data-ttu-id="b293f-143">Do obsługi rozmów długotrwałych, klienci, którzy inicjowania rozmowy musi świadczyć usługi użytkownikom możliwość wywołać go z powrotem w późniejszym czasie, gdy dane będą dostępne.</span><span class="sxs-lookup"><span data-stu-id="b293f-143">To support long-running conversations, clients who initiate the conversation must provide the service with an opportunity to call it back at a later time when the data becomes available.</span></span> <span data-ttu-id="b293f-144">Na przykład żądanie zamówienia zakupu zostanie przesłana do zatwierdzenia przez menedżera, ale nie może być przetwarzana dla dnia, tygodnia lub nawet przez rok; przepływ pracy, który zarządza zatwierdzenia zamówienia zakupu musi wiedzieć, aby wznowić po zatwierdzeniu.</span><span class="sxs-lookup"><span data-stu-id="b293f-144">For example, a purchase order request is submitted for manager approval, but it might not be processed for a day, a week, or even a year; the workflow that manages the purchase order approval must know to resume after the approval is given.</span></span> <span data-ttu-id="b293f-145">Ten wzorzec komunikację dupleksową jest obsługiwana w przepływach pracy przy użyciu korelacji.</span><span class="sxs-lookup"><span data-stu-id="b293f-145">This pattern of duplex communication is supported in workflows using correlation.</span></span> <span data-ttu-id="b293f-146">Aby zaimplementować wzorzec dupleksowy, należy użyć <xref:System.ServiceModel.Activities.Send> i <xref:System.ServiceModel.Activities.Receive> działań.</span><span class="sxs-lookup"><span data-stu-id="b293f-146">To implement a duplex pattern, use <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.Receive> activities.</span></span> <span data-ttu-id="b293f-147">Na <xref:System.ServiceModel.Activities.Receive> działania, inicjowanie korelacji za pomocą <xref:System.ServiceModel.Activities.CorrelationHandle>.</span><span class="sxs-lookup"><span data-stu-id="b293f-147">On the <xref:System.ServiceModel.Activities.Receive> activity, initialize a correlation using <xref:System.ServiceModel.Activities.CorrelationHandle>.</span></span> <span data-ttu-id="b293f-148">Na <xref:System.ServiceModel.Activities.Send> dojścia korelacji jako zestaw działań <xref:System.ServiceModel.Activities.Send.CorrelatesWith%2A> wartości właściwości.</span><span class="sxs-lookup"><span data-stu-id="b293f-148">On the <xref:System.ServiceModel.Activities.Send> activity set that correlation handle as the <xref:System.ServiceModel.Activities.Send.CorrelatesWith%2A> property value.</span></span> <span data-ttu-id="b293f-149">Aby uzyskać więcej informacji, zobacz [trwałe dwukierunkowego](durable-duplex-correlation.md).</span><span class="sxs-lookup"><span data-stu-id="b293f-149">For more information, see [Durable Duplex](durable-duplex-correlation.md).</span></span>

> [!NOTE]
> <span data-ttu-id="b293f-150">Wykonania przepływu pracy dupleks przy użyciu wywołania zwrotnego korelacja ("trwałość dupleks") jest przeznaczona dla długotrwałych konwersacji.</span><span class="sxs-lookup"><span data-stu-id="b293f-150">Workflow’s implementation of duplex using a callback correlation ("Durable Duplex") is intended for long-running conversations.</span></span> <span data-ttu-id="b293f-151">To nie jest taka sama jak WCF dwukierunkowego za pomocą wywołania zwrotnege kontraktów typu gdzie konwersacji jest krótko działających (okres istnienia kanału).</span><span class="sxs-lookup"><span data-stu-id="b293f-151">This is not the same as WCF duplex with callback contracts where the conversation is short-running (the lifetime of the channel).</span></span>

## <a name="message-formatting-and-messaging-activities"></a><span data-ttu-id="b293f-152">Formatowanie wiadomości i działań dotyczących komunikatów</span><span class="sxs-lookup"><span data-stu-id="b293f-152">Message formatting and messaging activities</span></span>

<span data-ttu-id="b293f-153"><xref:System.ServiceModel.Activities.Receive> i <xref:System.ServiceModel.Activities.ReceiveReply> działania mają właściwość o nazwie `Content`.</span><span class="sxs-lookup"><span data-stu-id="b293f-153">The <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.ReceiveReply> activities have a property named `Content`.</span></span> <span data-ttu-id="b293f-154">Ta właściwość jest typu <xref:System.ServiceModel.Activities.ReceiveContent> i reprezentuje dane <xref:System.ServiceModel.Activities.Receive> lub <xref:System.ServiceModel.Activities.ReceiveReply> odbiera działania.</span><span class="sxs-lookup"><span data-stu-id="b293f-154">This property is of type <xref:System.ServiceModel.Activities.ReceiveContent> and represents data the <xref:System.ServiceModel.Activities.Receive> or <xref:System.ServiceModel.Activities.ReceiveReply> activity receives.</span></span> <span data-ttu-id="b293f-155">.NET Framework definiuje dwie klasy pokrewne o nazwie <xref:System.ServiceModel.Activities.ReceiveMessageContent> i <xref:System.ServiceModel.Activities.ReceiveParametersContent> oba są uzyskiwane z <xref:System.ServiceModel.Activities.ReceiveContent>.</span><span class="sxs-lookup"><span data-stu-id="b293f-155">The .NET Framework defines two related classes called <xref:System.ServiceModel.Activities.ReceiveMessageContent> and <xref:System.ServiceModel.Activities.ReceiveParametersContent> both of which are derived from <xref:System.ServiceModel.Activities.ReceiveContent>.</span></span> <span data-ttu-id="b293f-156">Ustaw <xref:System.ServiceModel.Activities.Receive> lub <xref:System.ServiceModel.Activities.ReceiveReply> działania `Content` właściwości wystąpienia jednego z tych typów w celu odbierania danych w usłudze przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="b293f-156">Set the <xref:System.ServiceModel.Activities.Receive> or <xref:System.ServiceModel.Activities.ReceiveReply> activity’s `Content` property to an instance of one of these types to receive data into a workflow service.</span></span> <span data-ttu-id="b293f-157">Typ do użycia zależy od typu danych, który otrzyma działania.</span><span class="sxs-lookup"><span data-stu-id="b293f-157">The type to use depends upon the type of data the activity receives.</span></span> <span data-ttu-id="b293f-158">Jeśli działanie otrzyma `Message` obiektu lub komunikat typu kontraktu, należy użyć <xref:System.ServiceModel.Activities.ReceiveMessageContent>.</span><span class="sxs-lookup"><span data-stu-id="b293f-158">If the activity receives a `Message` object or a message contract type, use <xref:System.ServiceModel.Activities.ReceiveMessageContent>.</span></span> <span data-ttu-id="b293f-159">Jeśli działanie odbiera zestaw kontraktu danych lub typy XML, które może być Zserializowany, użyj <xref:System.ServiceModel.Activities.ReceiveParametersContent>.</span><span class="sxs-lookup"><span data-stu-id="b293f-159">If the activity receives a set of data contract or XML types that can be serialized, use <xref:System.ServiceModel.Activities.ReceiveParametersContent>.</span></span> <span data-ttu-id="b293f-160"><xref:System.ServiceModel.Activities.ReceiveParametersContent> umożliwi to wysyłanie wielu parametrów, dlatego <xref:System.ServiceModel.Activities.ReceiveMessageContent> pozwala tylko jeden obiekt send, wiadomość (lub typ kontraktu komunikatu).</span><span class="sxs-lookup"><span data-stu-id="b293f-160"><xref:System.ServiceModel.Activities.ReceiveParametersContent> allows you to send multiple parameters, whereas <xref:System.ServiceModel.Activities.ReceiveMessageContent> only allows you to send one object, the message (or message contract type).</span></span>

> [!NOTE]
> <span data-ttu-id="b293f-161"><xref:System.ServiceModel.Activities.ReceiveMessageContent> można również za pomocą kontraktu danych jednego lub typu XML, który może być serializowany.</span><span class="sxs-lookup"><span data-stu-id="b293f-161"><xref:System.ServiceModel.Activities.ReceiveMessageContent> can also be used with a single data contract or XML type that can be serialized.</span></span> <span data-ttu-id="b293f-162">Różnica między <xref:System.ServiceModel.Activities.ReceiveParametersContent> z pojedynczy parametr oraz obiekt przekazany bezpośrednio do <xref:System.ServiceModel.Activities.ReceiveMessageContent> to format o komunikacji sieciowej.</span><span class="sxs-lookup"><span data-stu-id="b293f-162">The difference between using <xref:System.ServiceModel.Activities.ReceiveParametersContent> with a single parameter and the object passed directly to <xref:System.ServiceModel.Activities.ReceiveMessageContent> is the wire-format.</span></span> <span data-ttu-id="b293f-163">Zawartość parametru jest opakowane w elemencie XML, który odpowiada nazwie operacji i Zserializowany obiekt jest opakowany element XML przy użyciu nazwy parametrów (na przykład `<Echo><msg>Hello, World</msg></Echo>`).</span><span class="sxs-lookup"><span data-stu-id="b293f-163">The parameter’s content is wrapped in an XML element that corresponds to the operation name and the serialized object is wrapped in an XML element using the parameter name (for example, `<Echo><msg>Hello, World</msg></Echo>`).</span></span> <span data-ttu-id="b293f-164">Zawartość komunikatu nie jest otoczony przez nazwy operacji.</span><span class="sxs-lookup"><span data-stu-id="b293f-164">The message content is not wrapped by the operation name.</span></span> <span data-ttu-id="b293f-165">Zamiast tego Zserializowany obiekt znajduje się w obrębie elementu XML przy użyciu nazwy kwalifikowanej XML typu (na przykład `<string>Hello, World</string>`).</span><span class="sxs-lookup"><span data-stu-id="b293f-165">Instead, the serialized object is placed within an XML element using the XML-qualified type name (for example, `<string>Hello, World</string>`).</span></span>

<span data-ttu-id="b293f-166"><xref:System.ServiceModel.Activities.Send> i <xref:System.ServiceModel.Activities.SendReply> działania mają również właściwość o nazwie `Content`.</span><span class="sxs-lookup"><span data-stu-id="b293f-166">The <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.SendReply> activities also have a property named `Content`.</span></span> <span data-ttu-id="b293f-167">Ta właściwość jest typu <xref:System.ServiceModel.Activities.SendContent> i reprezentuje dane <xref:System.ServiceModel.Activities.Send> lub <xref:System.ServiceModel.Activities.SendReply> wysyła działania.</span><span class="sxs-lookup"><span data-stu-id="b293f-167">This property is of type <xref:System.ServiceModel.Activities.SendContent> and represents data the <xref:System.ServiceModel.Activities.Send> or <xref:System.ServiceModel.Activities.SendReply> activity sends.</span></span> <span data-ttu-id="b293f-168">.NET Framework definiuje dwa typy powiązanej o nazwie <xref:System.ServiceModel.Activities.SendMessageContent> i <xref:System.ServiceModel.Activities.SendParametersContent> oba są uzyskiwane z <xref:System.ServiceModel.Activities.SendContent>.</span><span class="sxs-lookup"><span data-stu-id="b293f-168">The .NET Framework defines two related types called <xref:System.ServiceModel.Activities.SendMessageContent> and <xref:System.ServiceModel.Activities.SendParametersContent> both of which are derived from <xref:System.ServiceModel.Activities.SendContent>.</span></span> <span data-ttu-id="b293f-169">Ustaw <xref:System.ServiceModel.Activities.Send> lub <xref:System.ServiceModel.Activities.SendReply> działania `Content` właściwości wystąpienia jednego z tych typów w celu wysyłania danych z usługi przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="b293f-169">Set the <xref:System.ServiceModel.Activities.Send> or <xref:System.ServiceModel.Activities.SendReply> activity’s `Content` property to an instance of one of these types to send data from a workflow service.</span></span> <span data-ttu-id="b293f-170">Typ do użycia zależy od typu danych, które wysyła działania.</span><span class="sxs-lookup"><span data-stu-id="b293f-170">The type to use depends upon the type of data the activity sends.</span></span> <span data-ttu-id="b293f-171">Jeśli działanie wysyła `Message` obiektu lub komunikat typu kontraktu, należy użyć <xref:System.ServiceModel.Activities.SendMessageContent>.</span><span class="sxs-lookup"><span data-stu-id="b293f-171">If the activity sends a `Message` object or a message contract type, use <xref:System.ServiceModel.Activities.SendMessageContent>.</span></span> <span data-ttu-id="b293f-172">Jeśli działanie wysyła użycie typu kontraktu danych <xref:System.ServiceModel.Activities.SendParametersContent>.</span><span class="sxs-lookup"><span data-stu-id="b293f-172">If the activity sends a data contract type use <xref:System.ServiceModel.Activities.SendParametersContent>.</span></span> <span data-ttu-id="b293f-173"><xref:System.ServiceModel.Activities.SendParametersContent> umożliwi to wysyłanie wielu parametrów, dlatego <xref:System.ServiceModel.Activities.SendMessageContent> umożliwia tylko wysyłanie obiektów (komunikatu lub typ kontraktu komunikatu).</span><span class="sxs-lookup"><span data-stu-id="b293f-173"><xref:System.ServiceModel.Activities.SendParametersContent> allows you to send multiple parameters, whereas <xref:System.ServiceModel.Activities.SendMessageContent> only allows you to send one object, the message (or the message contract type).</span></span>

<span data-ttu-id="b293f-174">Programowanie obowiązkowo, przy użyciu działań dotyczących komunikatów, za pomocą ogólnego <xref:System.Activities.InArgument%601> i <xref:System.Activities.OutArgument%601> opakowywać obiektów, możesz przypisać do właściwości wiadomości lub parametry <xref:System.ServiceModel.Activities.Send>, <xref:System.ServiceModel.Activities.SendReply>, <xref:System.ServiceModel.Activities.Receive>i <xref:System.ServiceModel.Activities.ReceiveReply>działań.</span><span class="sxs-lookup"><span data-stu-id="b293f-174">When programming imperatively with the messaging activities, you use the generic <xref:System.Activities.InArgument%601> and <xref:System.Activities.OutArgument%601> to wrap the objects you assign to the message or parameters properties of the <xref:System.ServiceModel.Activities.Send>, <xref:System.ServiceModel.Activities.SendReply>, <xref:System.ServiceModel.Activities.Receive>, and <xref:System.ServiceModel.Activities.ReceiveReply> activities.</span></span> <span data-ttu-id="b293f-175">Użyj <xref:System.Activities.InArgument%601> dla <xref:System.ServiceModel.Activities.Send> i <xref:System.ServiceModel.Activities.SendReply> działań i <xref:System.Activities.OutArgument%601> dla <xref:System.ServiceModel.Activities.Receive> i <xref:System.ServiceModel.Activities.ReceiveReply> działań.</span><span class="sxs-lookup"><span data-stu-id="b293f-175">Use <xref:System.Activities.InArgument%601> for the <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.SendReply> activities and <xref:System.Activities.OutArgument%601> for <xref:System.ServiceModel.Activities.Receive> and <xref:System.ServiceModel.Activities.ReceiveReply> activities.</span></span> <span data-ttu-id="b293f-176">`In` argumenty są używane z działań wysyłania, ponieważ dane jest przekazywana do działania.</span><span class="sxs-lookup"><span data-stu-id="b293f-176">`In` arguments are used with the send activities because the data is being passed into the activities.</span></span> <span data-ttu-id="b293f-177">`Out` argumenty są używane z działaniami receive, ponieważ data jest przekazywana poza działań, jak pokazano w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="b293f-177">`Out` arguments are used with the receive activities because data is being passed out of the activities, as shown in the following example.</span></span>

```csharp
Receive reserveSeat = new Receive
{
    ...
    Content = new ReceiveParametersContent
    {
        Parameters =
        {
            { "ReservationInfo", new OutArgument<ReservationRequest>(reservationInfo) }
        }
    }
};
SendReply reserveSeat = new SendReply
{
    ...
    Request = reserveSeat,
    Content = new SendParametersContent
    {
        Parameters =
        {
            { "ReservationId", new InArgument<string>(reservationId) }
        }
    },
};
```

<span data-ttu-id="b293f-178">Podczas implementowania usługi przepływu pracy, który definiuje operację żądania/odpowiedzi, który zwraca wartość typu void, trzeba utworzyć <xref:System.ServiceModel.Activities.SendReply> działania i ustaw <xref:System.ServiceModel.Activities.SendReply.Content%2A> właściwość puste wystąpienie jednego z typów zawartości (<xref:System.ServiceModel.Activities.SendMessageContent> lub <xref:System.ServiceModel.Activities.SendParametersContent>) jak pokazano w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="b293f-178">When implementing a workflow service that defines a request/response operation that returns void, you must instantiate a <xref:System.ServiceModel.Activities.SendReply> activity and set the <xref:System.ServiceModel.Activities.SendReply.Content%2A> property to an empty instance of one of the content types (<xref:System.ServiceModel.Activities.SendMessageContent> or <xref:System.ServiceModel.Activities.SendParametersContent>) as shown in the following example.</span></span>

```csharp
Receive rcv = new Receive()
{
ServiceContractName = "IService",
OperationName = "NullReturningContract",
Content = new ReceiveParametersContent( new Dictionary<string, OutArgument>() { { "message", new OutArgument<string>() } } )
};
SendReply sr = new SendReply()
{
Request = rcv
   Content = new SendParametersContent();
};
```

## <a name="add-service-reference"></a><span data-ttu-id="b293f-179">Dodaj odwołanie do usługi</span><span class="sxs-lookup"><span data-stu-id="b293f-179">Add service reference</span></span>

<span data-ttu-id="b293f-180">Podczas wywoływania usługi przepływu pracy z poziomu aplikacji przepływu pracy, Visual Studio 2012 generuje niestandardowych działań dotyczących komunikatów, które hermetyzują zwykłego <xref:System.ServiceModel.Activities.Send> i <xref:System.ServiceModel.Activities.ReceiveReply> działań używanych w żądanie/nietypizowana odpowiedź MEP.</span><span class="sxs-lookup"><span data-stu-id="b293f-180">When calling a workflow service from a workflow application, Visual Studio 2012 generates custom messaging activities that encapsulate the usual <xref:System.ServiceModel.Activities.Send> and <xref:System.ServiceModel.Activities.ReceiveReply> activities used in a request/reply MEP.</span></span> <span data-ttu-id="b293f-181">Aby użyć tej funkcji, kliknij prawym przyciskiem myszy projekt klienta w programie Visual Studio, a następnie wybierz **Dodaj** > **odwołanie do usługi**.</span><span class="sxs-lookup"><span data-stu-id="b293f-181">To use this feature, right-click the client project in Visual Studio and select **Add** > **Service Reference**.</span></span> <span data-ttu-id="b293f-182">W polu adresu wpisz adres podstawowy usługi, a następnie kliknij przycisk z rzeczywistym użyciem.</span><span class="sxs-lookup"><span data-stu-id="b293f-182">Type the base address of the service in the address box and click Go.</span></span> <span data-ttu-id="b293f-183">Dostępne usługi są wyświetlane w **usług:** pole.</span><span class="sxs-lookup"><span data-stu-id="b293f-183">The available services are displayed in the **Services:** box.</span></span> <span data-ttu-id="b293f-184">Rozwiń węzeł usługi do wyświetlania zamówień obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="b293f-184">Expand the service node to display the contracts supported.</span></span> <span data-ttu-id="b293f-185">Zaznacz kontrakt, który chcesz wybrać i zostanie wyświetlona lista dostępnych operacji, w **operacji** pole.</span><span class="sxs-lookup"><span data-stu-id="b293f-185">Select the contract you want to call and the list of available operations is displayed in the **Operations** box.</span></span> <span data-ttu-id="b293f-186">Następnie określ obszar nazw dla wygenerowanego działania i kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="b293f-186">You can then specify the namespace for the generated activity and click **OK**.</span></span> <span data-ttu-id="b293f-187">Wtedy wyświetlone okno dialogowe komunikat, operacja została ukończona pomyślnie, a po mają odbudować projektu wygenerowane działania niestandardowe są w przyborniku.</span><span class="sxs-lookup"><span data-stu-id="b293f-187">You then see a dialog that says the operation completed successfully and that the generated custom activities are in the toolbox after you have rebuilt the project.</span></span> <span data-ttu-id="b293f-188">Występuje jedno działanie, dla każdej operacji zdefiniowany w kontrakcie usługi.</span><span class="sxs-lookup"><span data-stu-id="b293f-188">There is one activity for each operation defined on the service contract.</span></span> <span data-ttu-id="b293f-189">Po ponownie skompilować projekt możesz przeciągnąć i upuścić niestandardowe działania przepływu pracy i ustawić wszelkie wymagane właściwości w oknie dialogowym właściwości.</span><span class="sxs-lookup"><span data-stu-id="b293f-189">After rebuilding the project you can drag and drop the custom activities onto your workflow and set any required properties in the properties window.</span></span>

## <a name="messaging-activity-templates"></a><span data-ttu-id="b293f-190">Szablony działań Messaging</span><span class="sxs-lookup"><span data-stu-id="b293f-190">Messaging activity templates</span></span>

<span data-ttu-id="b293f-191">Ułatwiają konfigurowanie żądania/odpowiedzi MEP na klienta i usługi, Visual Studio 2012 zawiera dwa szablony działania obsługi komunikatów.</span><span class="sxs-lookup"><span data-stu-id="b293f-191">To make setting up a request/response MEP on the client and service easier, Visual Studio 2012 provides two messaging activity templates.</span></span> <span data-ttu-id="b293f-192">`System.ServiceModel.Activities.Design.ReceiveAndSendReply` jest używana w usłudze i `System.ServiceModel.Activities.Design.SendAndReceiveReply` jest używany przez klienta.</span><span class="sxs-lookup"><span data-stu-id="b293f-192">`System.ServiceModel.Activities.Design.ReceiveAndSendReply` is used on the service and `System.ServiceModel.Activities.Design.SendAndReceiveReply` is used on the client.</span></span> <span data-ttu-id="b293f-193">W obu przypadkach szablonów Dodaj odpowiednich działań dotyczących komunikatów do przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="b293f-193">In both cases the templates add the appropriate messaging activities to your workflow.</span></span> <span data-ttu-id="b293f-194">W usłudze `System.ServiceModel.Activities.Design.ReceiveAndSendReply` dodaje <xref:System.ServiceModel.Activities.Receive> następuje działanie <xref:System.ServiceModel.Activities.SendReply> działania.</span><span class="sxs-lookup"><span data-stu-id="b293f-194">On the service, the `System.ServiceModel.Activities.Design.ReceiveAndSendReply` adds a <xref:System.ServiceModel.Activities.Receive> activity followed by a <xref:System.ServiceModel.Activities.SendReply> activity.</span></span> <span data-ttu-id="b293f-195"><xref:System.ServiceModel.Activities.SendReply.Request> Zostaje automatycznie ustalona <xref:System.ServiceModel.Activities.Receive> działania.</span><span class="sxs-lookup"><span data-stu-id="b293f-195">The <xref:System.ServiceModel.Activities.SendReply.Request> property is automatically set to the <xref:System.ServiceModel.Activities.Receive> activity.</span></span> <span data-ttu-id="b293f-196">Na komputerze klienckim `System.ServiceModel.Activities.Design.SendAndReceiveReply` dodaje <xref:System.ServiceModel.Activities.Send> następuje działanie <xref:System.ServiceModel.Activities.ReceiveReply>.</span><span class="sxs-lookup"><span data-stu-id="b293f-196">On the client, the `System.ServiceModel.Activities.Design.SendAndReceiveReply` adds a <xref:System.ServiceModel.Activities.Send> activity followed by a <xref:System.ServiceModel.Activities.ReceiveReply>.</span></span> <span data-ttu-id="b293f-197"><xref:System.ServiceModel.Activities.ReceiveReply.Request%2A> Zostaje automatycznie ustalona <xref:System.ServiceModel.Activities.Send> działania.</span><span class="sxs-lookup"><span data-stu-id="b293f-197">The <xref:System.ServiceModel.Activities.ReceiveReply.Request%2A> property is automatically set to the <xref:System.ServiceModel.Activities.Send> activity.</span></span> <span data-ttu-id="b293f-198">Aby korzystać z tych szablonów, po prostu przeciągnij i upuść odpowiedni szablon na przepływ pracy.</span><span class="sxs-lookup"><span data-stu-id="b293f-198">To use these templates, just drag and drop the appropriate template onto your workflow.</span></span>

## <a name="messaging-activities-and-transactions"></a><span data-ttu-id="b293f-199">Działań dotyczących komunikatów i transakcji</span><span class="sxs-lookup"><span data-stu-id="b293f-199">Messaging activities and transactions</span></span>

<span data-ttu-id="b293f-200">Gdy połączenie jest nawiązywane w przypadku usługi przepływu pracy można przepływu transakcji do operacji usługi.</span><span class="sxs-lookup"><span data-stu-id="b293f-200">When a call is made to a workflow service you may want to flow a transaction to the service operation.</span></span> <span data-ttu-id="b293f-201">Aby zrobić to miejsce <xref:System.ServiceModel.Activities.Receive> działanie <xref:System.ServiceModel.Activities.TransactedReceiveScope> działania.</span><span class="sxs-lookup"><span data-stu-id="b293f-201">To do this place the <xref:System.ServiceModel.Activities.Receive> activity within a <xref:System.ServiceModel.Activities.TransactedReceiveScope> activity.</span></span> <span data-ttu-id="b293f-202"><xref:System.ServiceModel.Activities.TransactedReceiveScope> Zawiera działanie `Receive` działanie i treść.</span><span class="sxs-lookup"><span data-stu-id="b293f-202">The <xref:System.ServiceModel.Activities.TransactedReceiveScope> activity contains a `Receive` activity and a body.</span></span> <span data-ttu-id="b293f-203">Transakcja przekazane do otoczenia podczas wykonywania treści pozostaje usługi <xref:System.ServiceModel.Activities.TransactedReceiveScope>.</span><span class="sxs-lookup"><span data-stu-id="b293f-203">The transaction flowed to the service remains ambient throughout the execution of the body of the <xref:System.ServiceModel.Activities.TransactedReceiveScope>.</span></span> <span data-ttu-id="b293f-204">Transakcja jest zakończona, gdy treść zakończy się wykonywanie.</span><span class="sxs-lookup"><span data-stu-id="b293f-204">The transaction is completed when the body finishes executing.</span></span> <span data-ttu-id="b293f-205">Aby uzyskać więcej informacji na temat przepływów pracy i transakcje zobacz [transakcje przepływu pracy](../../../../docs/framework/windows-workflow-foundation/workflow-transactions.md).</span><span class="sxs-lookup"><span data-stu-id="b293f-205">For more information about workflows and transactions see [Workflow Transactions](../../../../docs/framework/windows-workflow-foundation/workflow-transactions.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="b293f-206">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="b293f-206">See also</span></span>

- [<span data-ttu-id="b293f-207">Jak wysyłanie i odbieranie błędów w usługach przepływu pracy</span><span class="sxs-lookup"><span data-stu-id="b293f-207">How to Send and Receive Faults in Workflow Services</span></span>](https://go.microsoft.com/fwlink/?LinkId=189151)
- [<span data-ttu-id="b293f-208">Tworzenie długo działającej usługi przepływu pracy</span><span class="sxs-lookup"><span data-stu-id="b293f-208">Creating a Long-running Workflow Service</span></span>](creating-a-long-running-workflow-service.md)
