---
title: "Punkty końcowe usługi i adresowanie kolejki"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 7d2d59d7-f08b-44ed-bd31-913908b83d97
caps.latest.revision: "18"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 8488e802ee191c261b65388d48bd26aa37d18206
ms.sourcegitcommit: c0dd436f6f8f44dc80dc43b07f6841a00b74b23f
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/19/2018
---
# <a name="service-endpoints-and-queue-addressing"></a><span data-ttu-id="a6e43-102">Punkty końcowe usługi i adresowanie kolejki</span><span class="sxs-lookup"><span data-stu-id="a6e43-102">Service Endpoints and Queue Addressing</span></span>
<span data-ttu-id="a6e43-103">W tym temacie omówiono sposób klienci adresu usługi, które zapoznały się z kolejek oraz sposobu mapowania punktów końcowych usługi kolejki.</span><span class="sxs-lookup"><span data-stu-id="a6e43-103">This topic discusses how clients address services that read from queues and how service endpoints map to queues.</span></span> <span data-ttu-id="a6e43-104">Dla przypomnienia, na poniższej ilustracji przedstawiono klasycznego [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] wdrożenia aplikacji w kolejce.</span><span class="sxs-lookup"><span data-stu-id="a6e43-104">As a reminder, the following illustration shows the classic [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] queued application deployment.</span></span>  
  
 <span data-ttu-id="a6e43-105">![Diagram aplikacji w kolejce](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "rozproszonych kolejki — rysunek")</span><span class="sxs-lookup"><span data-stu-id="a6e43-105">![Queued Application Diagram](../../../../docs/framework/wcf/feature-details/media/distributed-queue-figure.jpg "Distributed-Queue-Figure")</span></span>  
  
 <span data-ttu-id="a6e43-106">Dla klienta, który można wysłać wiadomości do usługi Klient adresów wiadomości do kolejki docelowej.</span><span class="sxs-lookup"><span data-stu-id="a6e43-106">For the client to send the message to the service, the client addresses the message to the Target Queue.</span></span> <span data-ttu-id="a6e43-107">Dla usługi do czytania wiadomości z kolejki ustawia jego adres nasłuchiwania do kolejki docelowej.</span><span class="sxs-lookup"><span data-stu-id="a6e43-107">For the service to read messages from the queue, it sets its listen address to the Target Queue.</span></span> <span data-ttu-id="a6e43-108">Adresowanie w [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] jest oparta na protokole Uniform Resource Identifier URI podczas nazwy kolejki usługi kolejkowania komunikatów (MSMQ) nie są oparte na identyfikator URI.</span><span class="sxs-lookup"><span data-stu-id="a6e43-108">Addressing in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is Uniform Resource Identifier (URI)-based while Message Queuing (MSMQ) queue names are not URI-based.</span></span> <span data-ttu-id="a6e43-109">Bardzo w związku z tym ważne jest zrozumienie, jak adres kolejki utworzone za pomocą usługi MSMQ [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a6e43-109">It is therefore essential to understand how to address queues created in MSMQ using [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span></span>  
  
## <a name="msmq-addressing"></a><span data-ttu-id="a6e43-110">Adresowanie usługi MSMQ</span><span class="sxs-lookup"><span data-stu-id="a6e43-110">MSMQ Addressing</span></span>  
 <span data-ttu-id="a6e43-111">Usługa MSMQ używana ścieżki i nazwy formatu kolejki.</span><span class="sxs-lookup"><span data-stu-id="a6e43-111">MSMQ uses paths and format names to identify a queue.</span></span> <span data-ttu-id="a6e43-112">Ścieżki Określ nazwę hosta i `QueueName`.</span><span class="sxs-lookup"><span data-stu-id="a6e43-112">Paths specify a host name and a `QueueName`.</span></span> <span data-ttu-id="a6e43-113">Opcjonalnie można `Private$` między nazwą hosta i `QueueName` wskazująca kolejki prywatnej, która nie jest publikowany w usłudze katalogowej Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a6e43-113">Optionally, there can be a `Private$` between the host name and the `QueueName` to indicate a private queue that is not published in the Active Directory directory service.</span></span>  
  
 <span data-ttu-id="a6e43-114">Nazwy ścieżek są mapowane na "FormatNames", aby określić dodatkowe aspekty adres, w tym protokół transferu menedżera kolejek i routing.</span><span class="sxs-lookup"><span data-stu-id="a6e43-114">Path names are mapped to "FormatNames" to determine additional aspects of the address, including routing and queue manager transfer protocol.</span></span> <span data-ttu-id="a6e43-115">Menedżer kolejek obsługuje dwa protokoły transferu: natywnego protokołu MSMQ i SOAP Reliable Messaging Protocol (SRMP).</span><span class="sxs-lookup"><span data-stu-id="a6e43-115">The Queue Manager supports two transfer protocols: native MSMQ protocol and SOAP Reliable Messaging Protocol (SRMP).</span></span>  
  
 [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="a6e43-116">Ścieżka i format nazwy usługi MSMQ, zobacz [o usługi kolejkowania komunikatów](http://go.microsoft.com/fwlink/?LinkId=94837).</span><span class="sxs-lookup"><span data-stu-id="a6e43-116"> MSMQ path and format names, see [About Message Queuing](http://go.microsoft.com/fwlink/?LinkId=94837).</span></span>  
  
## <a name="netmsmqbinding-and-service-addressing"></a><span data-ttu-id="a6e43-117">NetMsmqBinding i adresowania usługi</span><span class="sxs-lookup"><span data-stu-id="a6e43-117">NetMsmqBinding and Service Addressing</span></span>  
 <span data-ttu-id="a6e43-118">Podczas adresowania wiadomości do usługi, schemat w identyfikatorze URI zostanie wybrany na podstawie transportu używany do komunikacji.</span><span class="sxs-lookup"><span data-stu-id="a6e43-118">When addressing a message to a service, the scheme in the URI is chosen based on the transport used for communication.</span></span> <span data-ttu-id="a6e43-119">Każdy transport w [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] ma unikatowy schemat.</span><span class="sxs-lookup"><span data-stu-id="a6e43-119">Each transport in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] has a unique scheme.</span></span> <span data-ttu-id="a6e43-120">Schemat musi odzwierciedlać rodzaj transportu używany do komunikacji.</span><span class="sxs-lookup"><span data-stu-id="a6e43-120">The scheme must reflect the nature of transport used for communication.</span></span> <span data-ttu-id="a6e43-121">Na przykład net.tcp, net.pipe, HTTP i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="a6e43-121">For example, net.tcp, net.pipe, HTTP, and so on.</span></span>  
  
 <span data-ttu-id="a6e43-122">Transport kolejki usługi MSMQ [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] przedstawia schemat net.msmq.</span><span class="sxs-lookup"><span data-stu-id="a6e43-122">The MSMQ queued transport in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] exposes a net.msmq scheme.</span></span> <span data-ttu-id="a6e43-123">Dowolny komunikat reagować, wykonując Schemat net.msmq są wysyłane przy użyciu `NetMsmqBinding` kanałem transport z kolejką usługi MSMQ.</span><span class="sxs-lookup"><span data-stu-id="a6e43-123">Any message addressed using the net.msmq scheme is sent using the `NetMsmqBinding` over the MSMQ queued transport channel.</span></span>  
  
 <span data-ttu-id="a6e43-124">Adresowanie kolejki w [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] opiera się na następujący wzór:</span><span class="sxs-lookup"><span data-stu-id="a6e43-124">The addressing of a queue in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is based on the following pattern:</span></span>  
  
 <span data-ttu-id="a6e43-125">NET.MSMQ: / / \< *nazwy hosta*> / [prywatnej /] \< *Nazwa kolejki*></span><span class="sxs-lookup"><span data-stu-id="a6e43-125">net.msmq: // \<*host-name*> / [private/] \<*queue-name*></span></span>  
  
 <span data-ttu-id="a6e43-126">gdzie:</span><span class="sxs-lookup"><span data-stu-id="a6e43-126">where:</span></span>  
  
-   <span data-ttu-id="a6e43-127">\<*Nazwa hosta*> jest nazwą komputera obsługującego kolejki docelowej.</span><span class="sxs-lookup"><span data-stu-id="a6e43-127">\<*host-name*> is the name of the machine that hosts the Target Queue.</span></span>  
  
-   <span data-ttu-id="a6e43-128">[prywatnej] jest opcjonalna.</span><span class="sxs-lookup"><span data-stu-id="a6e43-128">[private] is optional.</span></span> <span data-ttu-id="a6e43-129">Jest używany podczas adresowanie kolejki docelowej, która jest kolejki prywatnej.</span><span class="sxs-lookup"><span data-stu-id="a6e43-129">It is used when addressing a Target Queue that is a private queue.</span></span> <span data-ttu-id="a6e43-130">Aby zaadresować kolejkę publiczną, nie można określać prywatnych.</span><span class="sxs-lookup"><span data-stu-id="a6e43-130">To address a public queue, you must not specify private.</span></span> <span data-ttu-id="a6e43-131">Należy zauważyć, że w przeciwieństwie do ścieżek usługi MSMQ nie jest "$" w [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] formularza identyfikatora URI.</span><span class="sxs-lookup"><span data-stu-id="a6e43-131">Note that, unlike MSMQ paths, there is no "$" in the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] URI form.</span></span>  
  
-   <span data-ttu-id="a6e43-132">\<*Nazwa kolejki*> jest nazwą kolejki.</span><span class="sxs-lookup"><span data-stu-id="a6e43-132">\<*queue-name*> is the name of the queue.</span></span> <span data-ttu-id="a6e43-133">Nazwa kolejki może również dotyczyć podkolejki.</span><span class="sxs-lookup"><span data-stu-id="a6e43-133">The queue name can also refer to a subqueue.</span></span> <span data-ttu-id="a6e43-134">W związku z tym \< *Nazwa kolejki*> = \< *nazwy z kolejki*> [; *podrzędne queue nazwa*].</span><span class="sxs-lookup"><span data-stu-id="a6e43-134">Thus, \<*queue-name*> = \<*name-of-queue*>[;*sub-queue-name*].</span></span>  
  
 <span data-ttu-id="a6e43-135">Example1: Aby zaadresować kolejkę prywatną PurchaseOrders hostowanych na komputerze atadatum.com abc, identyfikator URI będzie mieć net.msmq://abc.adatum.com/private/PurchaseOrders.</span><span class="sxs-lookup"><span data-stu-id="a6e43-135">Example1: To address a private queue PurchaseOrders hosted on computer abc atadatum.com, the URI would be net.msmq://abc.adatum.com/private/PurchaseOrders.</span></span>  
  
 <span data-ttu-id="a6e43-136">Przykład2: Aby zaadresować kolejkę publiczną AccountsPayable hostowanych na komputerze atadatum.com def, identyfikator URI będzie mieć net.msmq://def.adatum.com/AccountsPayable.</span><span class="sxs-lookup"><span data-stu-id="a6e43-136">Example2: To address a public queue AccountsPayable hosted on computer def atadatum.com, the URI would be net.msmq://def.adatum.com/AccountsPayable.</span></span>  
  
 <span data-ttu-id="a6e43-137">Adres kolejki jest używany jako identyfikatora URI nasłuchiwania przez odbiornik do odczytu wiadomości.</span><span class="sxs-lookup"><span data-stu-id="a6e43-137">The queue address is used as the Listen URI by the Listener to read messages from.</span></span> <span data-ttu-id="a6e43-138">Innymi słowy adres kolejki jest odpowiednikiem gniazda portu TCP nasłuchiwania.</span><span class="sxs-lookup"><span data-stu-id="a6e43-138">In other words, the queue address is equivalent to the listen port of TCP socket.</span></span>  
  
 <span data-ttu-id="a6e43-139">Odczyty z kolejki punktu końcowego, należy określić adres kolejki przy użyciu tego samego schematu określony wcześniej podczas otwierania elementu ServiceHost.</span><span class="sxs-lookup"><span data-stu-id="a6e43-139">An endpoint that reads from a queue must specify the address of the queue using the same scheme specified previously when opening the ServiceHost.</span></span> <span data-ttu-id="a6e43-140">Przykłady można znaleźć [Net powiązanie MSMQ](../../../../docs/framework/wcf/samples/net-msmq-binding.md) i [próbek do powiązania integracji usługi kolejkowania komunikatów](http://msdn.microsoft.com/library/997d11cb-f2c5-4ba0-9209-92843d4d0e1a).</span><span class="sxs-lookup"><span data-stu-id="a6e43-140">For examples, see [Net MSMQ Binding](../../../../docs/framework/wcf/samples/net-msmq-binding.md) and [Message Queuing Integration Binding Samples](http://msdn.microsoft.com/library/997d11cb-f2c5-4ba0-9209-92843d4d0e1a).</span></span>  
  
### <a name="multiple-contracts-in-a-queue"></a><span data-ttu-id="a6e43-141">Wiele kontraktów w kolejce</span><span class="sxs-lookup"><span data-stu-id="a6e43-141">Multiple Contracts in a Queue</span></span>  
 <span data-ttu-id="a6e43-142">Wiadomości w kolejce można zaimplementować różnymi umowami.</span><span class="sxs-lookup"><span data-stu-id="a6e43-142">Messages in a queue can implement different contracts.</span></span> <span data-ttu-id="a6e43-143">W tym przypadku jest istotne, jedną z następujących jest wartość PRAWDA, aby pomyślnie odczytywać i przetwarzać komunikaty:</span><span class="sxs-lookup"><span data-stu-id="a6e43-143">In this case, it is essential that one of the following is true to successfully read and process all messages:</span></span>  
  
-   <span data-ttu-id="a6e43-144">Określ punkt końcowy usługi, który implementuje wszystkich umów.</span><span class="sxs-lookup"><span data-stu-id="a6e43-144">Specify an endpoint for a service that implements all the contracts.</span></span> <span data-ttu-id="a6e43-145">Jest to zalecane podejście.</span><span class="sxs-lookup"><span data-stu-id="a6e43-145">This is the recommended approach.</span></span>  
  
-   <span data-ttu-id="a6e43-146">Określ wiele punktów końcowych z różnymi umowami, ale należy upewnić się, że wszystkie punkty końcowe używać tego samego `NetMsmqBinding` obiektu.</span><span class="sxs-lookup"><span data-stu-id="a6e43-146">Specify multiple endpoints with different contracts, but ensure that all the endpoints use the same `NetMsmqBinding` object.</span></span> <span data-ttu-id="a6e43-147">Wysyłania logikę ServiceModel używa pompę komunikat o treści wiadomości poza kanał transportu do wysyłki ostatecznie demultipleksowanie wiadomości opartych na kontraktu do różnych punktów końcowych.</span><span class="sxs-lookup"><span data-stu-id="a6e43-147">The dispatching logic in ServiceModel uses a message pump that reads messages out of the transport channel for dispatch, which eventually de-multiplexes messages based on the contract to different endpoints.</span></span> <span data-ttu-id="a6e43-148">Przekazywanie komunikatów jest tworzony dla pary powiązania/identyfikatora URI nasłuchiwania.</span><span class="sxs-lookup"><span data-stu-id="a6e43-148">A message pump is created for a listen URI/Binding pair.</span></span> <span data-ttu-id="a6e43-149">Adres kolejki jest używany jako identyfikatora URI nasłuchiwania przez odbiornik umieszczonych w kolejce.</span><span class="sxs-lookup"><span data-stu-id="a6e43-149">The queue address is used as the Listen URI by the queued listener.</span></span> <span data-ttu-id="a6e43-150">O użycie wszystkich punktów końcowych tego samego obiektu powiązania gwarantuje, że pompa pojedynczym komunikacie jest używany do odczytywania wiadomości i demultipleksowania do odpowiednich punktów końcowych na podstawie umowy.</span><span class="sxs-lookup"><span data-stu-id="a6e43-150">Having all the endpoints use the same binding object ensures that a single message pump is used to read the message and de-multiplex to relevant endpoints based on the contract.</span></span>  
  
### <a name="srmp-messaging"></a><span data-ttu-id="a6e43-151">SRMP obsługi wiadomości</span><span class="sxs-lookup"><span data-stu-id="a6e43-151">SRMP Messaging</span></span>  
 <span data-ttu-id="a6e43-152">Jak opisano wcześniej można użyć protokołu SRMP transferów kolejki do kolejki.</span><span class="sxs-lookup"><span data-stu-id="a6e43-152">As previously discussed, you can use the SRMP protocol for queue-to-queue transfers.</span></span> <span data-ttu-id="a6e43-153">Jest ona powszechnie stosowana, gdy transport HTTP przesyła wiadomości między kolejki transmisji i kolejki docelowej.</span><span class="sxs-lookup"><span data-stu-id="a6e43-153">This is commonly used when an HTTP transport transmits messages between the Transmission Queue and the Target Queue.</span></span>  
  
 <span data-ttu-id="a6e43-154">Do korzystania z protokołu transferu SRMP, adres wiadomości przy użyciu net.msmq schemat identyfikatora URI, jak wspomniano wcześniej i określ wybór SRMP lub zabezpieczone SRMP w `QueueTransferProtocol` właściwość `NetMsmqBinding`.</span><span class="sxs-lookup"><span data-stu-id="a6e43-154">To use the SRMP transfer protocol, address messages using the net.msmq URI scheme, as mentioned previously, and specify the choice of SRMP or Secured SRMP in the `QueueTransferProtocol` property of the `NetMsmqBinding`.</span></span>  
  
 <span data-ttu-id="a6e43-155">Określanie `QueueTransferProtocol` właściwość jest tylko do wysyłania funkcji.</span><span class="sxs-lookup"><span data-stu-id="a6e43-155">Specifying the `QueueTransferProtocol` property is a send-only feature.</span></span> <span data-ttu-id="a6e43-156">Jest to wskazanie przez klienta, jakiego rodzaju kolejki transfer protokół do użycia.</span><span class="sxs-lookup"><span data-stu-id="a6e43-156">This is an indication by the client which kind of queue transfer protocol to use.</span></span>  
  
### <a name="using-active-directory"></a><span data-ttu-id="a6e43-157">Przy użyciu usługi Active Directory</span><span class="sxs-lookup"><span data-stu-id="a6e43-157">Using Active Directory</span></span>  
 <span data-ttu-id="a6e43-158">Usługa MSMQ jest dostarczany z obsługą integracji usługi Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a6e43-158">MSMQ comes with support for Active Directory integration.</span></span> <span data-ttu-id="a6e43-159">Jeśli usługa MSMQ jest zainstalowana w integracji usługi Active Directory, komputer musi być częścią domeny systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="a6e43-159">When MSMQ is installed with Active Directory integration, the machine must be part of a Windows domain.</span></span> <span data-ttu-id="a6e43-160">Usługi Active Directory jest używana do publikowania kolejek na potrzeby odnajdowania; kolejki takie są nazywane *kolejek publicznych*.</span><span class="sxs-lookup"><span data-stu-id="a6e43-160">Active Directory is used to publish queues for discovery; such queues are called *public queues*.</span></span> <span data-ttu-id="a6e43-161">Gdy adresowanie kolejki, kolejki można rozwiązać przy użyciu usługi Active Directory.</span><span class="sxs-lookup"><span data-stu-id="a6e43-161">When addressing a queue, the queue can be resolved using Active Directory.</span></span> <span data-ttu-id="a6e43-162">Jest to podobne do używania systemu nazw domen (DNS) do rozpoznawania adresów IP, nazwy sieci.</span><span class="sxs-lookup"><span data-stu-id="a6e43-162">This is similar to how Domain Name System (DNS) is used to resolve the IP address of a network name.</span></span> <span data-ttu-id="a6e43-163">`UseActiveDirectory` Właściwości w `NetMsmqBinding` jest wartością logiczną, która wskazuje, czy kanał umieszczonych w kolejce muszą używać usługi Active Directory można rozpoznać identyfikatora URI kolejki.</span><span class="sxs-lookup"><span data-stu-id="a6e43-163">The `UseActiveDirectory` property in `NetMsmqBinding` is a Boolean that indicates whether the queued channel must use Active Directory to resolve the queue URI.</span></span> <span data-ttu-id="a6e43-164">Domyślnie jest ustawiona wartość `false`.</span><span class="sxs-lookup"><span data-stu-id="a6e43-164">By default it is set to `false`.</span></span> <span data-ttu-id="a6e43-165">Jeśli `UseActiveDirectory` właściwość jest ustawiona na `true`, a następnie zwrócony używa usługi Active Directory, aby przekonwertować net.msmq:// identyfikatora URI nazwy formatu.</span><span class="sxs-lookup"><span data-stu-id="a6e43-165">If the `UseActiveDirectory` property is set to `true`, then the queued channel uses Active Directory to convert the net.msmq:// URI to format name.</span></span>  
  
 <span data-ttu-id="a6e43-166">`UseActiveDirectory` Właściwość ma znaczenie tylko dla klienta, który wysyła wiadomości, ponieważ jest używany do rozpoznawania adresów kolejki przy wysyłaniu wiadomości.</span><span class="sxs-lookup"><span data-stu-id="a6e43-166">The `UseActiveDirectory` property is meaningful only for the client that is sending the message because it is used to resolve the address of the queue when sending messages.</span></span>  
  
### <a name="mapping-netmsmq-uri-to-message-queuing-format-names"></a><span data-ttu-id="a6e43-167">Mapowanie identyfikatora URI net.msmq do nazwy formatu usługi kolejkowania komunikatów</span><span class="sxs-lookup"><span data-stu-id="a6e43-167">Mapping net.msmq URI to Message Queuing Format Names</span></span>  
 <span data-ttu-id="a6e43-168">Zwrócony obsługuje mapowania nazwy identyfikatora URI net.msmq dostarczony do kanału do nazwy formatu MSMQ.</span><span class="sxs-lookup"><span data-stu-id="a6e43-168">The queued channel handles mapping the net.msmq URI name provided to the channel to MSMQ format names.</span></span> <span data-ttu-id="a6e43-169">W poniższej tabeli przedstawiono reguły używane do mapowania między nimi.</span><span class="sxs-lookup"><span data-stu-id="a6e43-169">The following table summarizes the rules used to map between them.</span></span>  
  
|<span data-ttu-id="a6e43-170">Adres URI usługi WCF na podstawie kolejki</span><span class="sxs-lookup"><span data-stu-id="a6e43-170">WCF URI-based queue address</span></span>|<span data-ttu-id="a6e43-171">Użyj właściwości usługi Active Directory</span><span class="sxs-lookup"><span data-stu-id="a6e43-171">Use Active Directory property</span></span>|<span data-ttu-id="a6e43-172">Właściwość Transfer Protocol kolejki</span><span class="sxs-lookup"><span data-stu-id="a6e43-172">Queue Transfer Protocol property</span></span>|<span data-ttu-id="a6e43-173">Wynikowa nazwy formatu MSMQ</span><span class="sxs-lookup"><span data-stu-id="a6e43-173">Resulting MSMQ format names</span></span>|  
|----------------------------------|-----------------------------------|--------------------------------------|---------------------------------|  
|<span data-ttu-id="a6e43-174">Net.msmq://\<machine-name>/private/abc</span><span class="sxs-lookup"><span data-stu-id="a6e43-174">Net.msmq://\<machine-name>/private/abc</span></span>|<span data-ttu-id="a6e43-175">Wartość FAŁSZ (ustawienie domyślne)</span><span class="sxs-lookup"><span data-stu-id="a6e43-175">False (default)</span></span>|<span data-ttu-id="a6e43-176">Native (domyślnie)</span><span class="sxs-lookup"><span data-stu-id="a6e43-176">Native (default)</span></span>|<span data-ttu-id="a6e43-177">DIRECT=OS:machine-name\private$\abc</span><span class="sxs-lookup"><span data-stu-id="a6e43-177">DIRECT=OS:machine-name\private$\abc</span></span>|  
|<span data-ttu-id="a6e43-178">Net.msmq://\<machine-name>/private/abc</span><span class="sxs-lookup"><span data-stu-id="a6e43-178">Net.msmq://\<machine-name>/private/abc</span></span>|<span data-ttu-id="a6e43-179">False</span><span class="sxs-lookup"><span data-stu-id="a6e43-179">False</span></span>|<span data-ttu-id="a6e43-180">SRMP</span><span class="sxs-lookup"><span data-stu-id="a6e43-180">SRMP</span></span>|<span data-ttu-id="a6e43-181">DIRECT=http://machine/msmq/private$/abc</span><span class="sxs-lookup"><span data-stu-id="a6e43-181">DIRECT=http://machine/msmq/private$/abc</span></span>|  
|<span data-ttu-id="a6e43-182">Net.msmq://\<machine-name>/private/abc</span><span class="sxs-lookup"><span data-stu-id="a6e43-182">Net.msmq://\<machine-name>/private/abc</span></span>|<span data-ttu-id="a6e43-183">True</span><span class="sxs-lookup"><span data-stu-id="a6e43-183">True</span></span>|<span data-ttu-id="a6e43-184">Natywne</span><span class="sxs-lookup"><span data-stu-id="a6e43-184">Native</span></span>|<span data-ttu-id="a6e43-185">PUBLICZNY = niektóre guid (identyfikator GUID kolejki)</span><span class="sxs-lookup"><span data-stu-id="a6e43-185">PUBLIC=some-guid (the GUID of the queue)</span></span>|  
  
### <a name="reading-messages-from-the-dead-letter-queue-or-the-poison-message-queue"></a><span data-ttu-id="a6e43-186">Odczytywanie wiadomości z kolejki utraconych wiadomości i kolejki wiadomości Poison</span><span class="sxs-lookup"><span data-stu-id="a6e43-186">Reading Messages from the Dead-Letter Queue or the Poison-Message Queue</span></span>  
 <span data-ttu-id="a6e43-187">Aby odczytać wiadomości z kolejki wiadomości poison, która jest podkolejki kolejki docelowej, otwórz `ServiceHost` adres podkolejki.</span><span class="sxs-lookup"><span data-stu-id="a6e43-187">To read messages from a poison-message queue that is a subqueue of the target queue, open the `ServiceHost` with the address of the subqueue.</span></span>  
  
 <span data-ttu-id="a6e43-188">Przykład: Usługa, która odczytuje z kolejki wiadomości poison kolejki prywatnej PurchaseOrders z komputera lokalnego czy adresów net.msmq://localhost/private/PurchaseOrders;poison.</span><span class="sxs-lookup"><span data-stu-id="a6e43-188">Example: A service that reads from the poison-message queue of the PurchaseOrders private queue from the local machine would address net.msmq://localhost/private/PurchaseOrders;poison.</span></span>  
  
 <span data-ttu-id="a6e43-189">Aby odczytać wiadomości z kolejki utraconych wiadomości transakcyjnych systemu, identyfikator URI musi mieć postać: net.msmq://localhost/system$; DeadXact.</span><span class="sxs-lookup"><span data-stu-id="a6e43-189">To read messages from a system transactional dead-letter queue, the URI must be of the form: net.msmq://localhost/system$;DeadXact.</span></span>  
  
 <span data-ttu-id="a6e43-190">Aby odczytać wiadomości z kolejki utraconych wiadomości nietransakcyjne systemu, identyfikator URI musi być w formie: net.msmq://localhost/system$; utraconych wiadomości.</span><span class="sxs-lookup"><span data-stu-id="a6e43-190">To read messages from a system nontransactional dead-letter queue, the URI must be of the form: net.msmq://localhost/system$;DeadLetter.</span></span>  
  
 <span data-ttu-id="a6e43-191">Podczas korzystania z niestandardowej kolejki utraconych wiadomości, należy pamiętać, że kolejka utraconych wiadomości musi znajdować się na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="a6e43-191">When using a custom dead-letter queue, note that the dead-letter queue must reside on the local computer.</span></span> <span data-ttu-id="a6e43-192">Tak identyfikator URI kolejki utraconych wiadomości jest ograniczony do formularza:</span><span class="sxs-lookup"><span data-stu-id="a6e43-192">As such, the URI for the dead-letter queue is restricted to the form:</span></span>  
  
 <span data-ttu-id="a6e43-193">NET.MSMQ: //localhost/ [prywatnej /] \< *niestandardowe wiadomości list kolejki nazwa-*>.</span><span class="sxs-lookup"><span data-stu-id="a6e43-193">net.msmq: //localhost/ [private/]  \<*custom-dead-letter-queue-name*>.</span></span>  
  
 <span data-ttu-id="a6e43-194">A [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] usługi sprawdza, czy wszystkie komunikaty o otrzymaniu zostały skierowane do określonej kolejki jest nasłuchiwanie.</span><span class="sxs-lookup"><span data-stu-id="a6e43-194">A [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service verifies that all messages it receives were addressed to the particular queue it is listening on.</span></span> <span data-ttu-id="a6e43-195">Kolejki docelowej wiadomości niezgodna kolejki, który znajduje się w usługa nie przetwarza wiadomości.</span><span class="sxs-lookup"><span data-stu-id="a6e43-195">If the message’s destination queue does not match the queue it is found in, the service does not process the message.</span></span> <span data-ttu-id="a6e43-196">Jest to problem, który musi adresów usług nasłuchujących do kolejki utraconych wiadomości, ponieważ wszystkie wiadomości w kolejce wiadomości utraconych miały mają być dostarczone w innym miejscu.</span><span class="sxs-lookup"><span data-stu-id="a6e43-196">This is an issue that services listening to a dead-letter queue must address because any message in the dead-letter queue was meant to be delivered elsewhere.</span></span> <span data-ttu-id="a6e43-197">Aby odczytać wiadomości z kolejki utraconych wiadomości lub skażone kolejki, `ServiceBehavior` z <xref:System.ServiceModel.AddressFilterMode.Any> parametr musi być używany.</span><span class="sxs-lookup"><span data-stu-id="a6e43-197">To read messages from a dead-letter queue, or from a poison queue, a `ServiceBehavior` with the <xref:System.ServiceModel.AddressFilterMode.Any> parameter must be used.</span></span> <span data-ttu-id="a6e43-198">Na przykład zobacz [kolejki utraconych wiadomości](../../../../docs/framework/wcf/samples/dead-letter-queues.md).</span><span class="sxs-lookup"><span data-stu-id="a6e43-198">For an example, see [Dead Letter Queues](../../../../docs/framework/wcf/samples/dead-letter-queues.md).</span></span>  
  
## <a name="msmqintegrationbinding-and-service-addressing"></a><span data-ttu-id="a6e43-199">MsmqIntegrationBinding i adresowania usługi</span><span class="sxs-lookup"><span data-stu-id="a6e43-199">MsmqIntegrationBinding and Service Addressing</span></span>  
 <span data-ttu-id="a6e43-200">`MsmqIntegrationBinding` Jest używany do komunikacji z tradycyjne aplikacje usługi MSMQ.</span><span class="sxs-lookup"><span data-stu-id="a6e43-200">The `MsmqIntegrationBinding` is used for communication with traditional MSMQ applications.</span></span> <span data-ttu-id="a6e43-201">Aby ułatwić współdziałanie z istniejącej aplikacji usługi MSMQ, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] obsługuje tylko format nazw adresowania.</span><span class="sxs-lookup"><span data-stu-id="a6e43-201">To ease interoperation with an existing MSMQ application, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] supports only format name addressing.</span></span> <span data-ttu-id="a6e43-202">W związku z tym komunikatów wysyłanych za pomocą tego powiązania musi odpowiadać schemat identyfikatora URI:</span><span class="sxs-lookup"><span data-stu-id="a6e43-202">Thus, messages sent using this binding must conform to the URI scheme:</span></span>  
  
 <span data-ttu-id="a6e43-203">msmq.formatname:\<*MSMQ-format-name*>></span><span class="sxs-lookup"><span data-stu-id="a6e43-203">msmq.formatname:\<*MSMQ-format-name*>></span></span>  
  
 <span data-ttu-id="a6e43-204">Nazwa formatu MSMQ ma postać określony przez usługę MSMQ w [o usługi kolejkowania komunikatów](http://go.microsoft.com/fwlink/?LinkId=94837).</span><span class="sxs-lookup"><span data-stu-id="a6e43-204">The MSMQ-format-name is of the form specified by MSMQ in [About Message Queuing](http://go.microsoft.com/fwlink/?LinkId=94837).</span></span>  
  
 <span data-ttu-id="a6e43-205">Należy pamiętać, że można używać tylko bezpośrednich nazw formatu i nazwy formatu publiczne i prywatne (wymaga integracji usługi Active Directory) podczas odbierania wiadomości z kolejki przy użyciu `MsmqIntegrationBinding`.</span><span class="sxs-lookup"><span data-stu-id="a6e43-205">Note that you can only use direct format names, and public and private format names (requires Active Directory integration) when receiving messages from a queue using `MsmqIntegrationBinding`.</span></span> <span data-ttu-id="a6e43-206">Jednak zaleca się, że używasz bezpośrednich nazw formatu.</span><span class="sxs-lookup"><span data-stu-id="a6e43-206">However, it is advised that you use direct format names.</span></span> <span data-ttu-id="a6e43-207">Na przykład na [!INCLUDE[wv](../../../../includes/wv-md.md)], inne nazwą formatu powoduje błąd, ponieważ system próbuje otworzyć kolejkę, które mogą być otwierane tylko w przypadku bezpośrednich nazw formatu.</span><span class="sxs-lookup"><span data-stu-id="a6e43-207">For example, on [!INCLUDE[wv](../../../../includes/wv-md.md)], using any other format name causes an error because the system attempts to open a subqueue, which can only be opened with direct format names.</span></span>  
  
 <span data-ttu-id="a6e43-208">Podczas adresowania za pomocą SRMP `MsmqIntegrationBinding`, nie jest wymagane do dodania /msmq/ w bezpośredniej nazwy formatu ułatwiające wysyłki Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="a6e43-208">When addressing SRMP using `MsmqIntegrationBinding`, there is no requirement to add /msmq/ in the direct format name to help Internet Information Services (IIS) with dispatching.</span></span> <span data-ttu-id="a6e43-209">Na przykład: gdy adresowanie kolejki przy użyciu SRMP abc protokołu, zamiast bezpośredniego = http://adatum.com/msmq/private$ / abc, należy używać bezpośrednio = http://adatum.com/private$ / abc.</span><span class="sxs-lookup"><span data-stu-id="a6e43-209">For example: When addressing a queue abc using the SRMP protocol, instead of DIRECT=http://adatum.com/msmq/private$/abc, you should use DIRECT=http://adatum.com/private$/abc.</span></span>  
  
 <span data-ttu-id="a6e43-210">Należy pamiętać, że nie można użyć net.msmq:// adresowania z `MsmqIntegrationBinding`.</span><span class="sxs-lookup"><span data-stu-id="a6e43-210">Note that you cannot use net.msmq:// addressing with `MsmqIntegrationBinding`.</span></span> <span data-ttu-id="a6e43-211">Ponieważ `MsmqIntegrationBinding` obsługuje dowolnych MSMQ format nazwy addressing, można użyć [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] usługi, która używa tego powiązania do funkcji multiemisji i dystrybucji listy w usłudze MSMQ.</span><span class="sxs-lookup"><span data-stu-id="a6e43-211">Because `MsmqIntegrationBinding` supports free-form MSMQ format name addressing, you can use a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service that uses this binding to use multicast and distribution list features in MSMQ.</span></span> <span data-ttu-id="a6e43-212">Jedynym wyjątkiem jest określenie `CustomDeadLetterQueue` przy użyciu `MsmqIntegrationBinding`.</span><span class="sxs-lookup"><span data-stu-id="a6e43-212">One exception is specifying `CustomDeadLetterQueue` when using the `MsmqIntegrationBinding`.</span></span> <span data-ttu-id="a6e43-213">Musi to być net.msmq:// formularza, podobnie jak jest określona za pomocą `NetMsmqBinding`.</span><span class="sxs-lookup"><span data-stu-id="a6e43-213">It must be of the form net.msmq://, similar to how it is specified using the `NetMsmqBinding`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a6e43-214">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="a6e43-214">See Also</span></span>  
 [<span data-ttu-id="a6e43-215">Sieć Web hostująca aplikację zakolejkowaną</span><span class="sxs-lookup"><span data-stu-id="a6e43-215">Web Hosting a Queued Application</span></span>](../../../../docs/framework/wcf/feature-details/web-hosting-a-queued-application.md)
