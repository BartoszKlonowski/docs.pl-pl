---
title: Typy wyliczeniowe w kontraktach danych
description: Dowiedz się, jak model kontraktu danych wyraża Wyliczenie w ramach modelu programowania WFC.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data contracts [WCF], enumeration types
ms.assetid: b5d694da-68cb-4b74-a5fb-75108a68ec3b
ms.openlocfilehash: ff3184a285e88d47d4545a38a6c74b2f209827fb
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/23/2020
ms.locfileid: "85247302"
---
# <a name="enumeration-types-in-data-contracts"></a><span data-ttu-id="57a6f-103">Typy wyliczeniowe w kontraktach danych</span><span class="sxs-lookup"><span data-stu-id="57a6f-103">Enumeration Types in Data Contracts</span></span>
<span data-ttu-id="57a6f-104">Wyliczenia mogą być wyrażone w modelu kontraktu danych.</span><span class="sxs-lookup"><span data-stu-id="57a6f-104">Enumerations can be expressed in the data contract model.</span></span> <span data-ttu-id="57a6f-105">Ten temat zawiera kilka przykładów objaśniających model programowania.</span><span class="sxs-lookup"><span data-stu-id="57a6f-105">This topic walks through several examples that explain the programming model.</span></span>  
  
## <a name="enumeration-basics"></a><span data-ttu-id="57a6f-106">Podstawowe informacje dotyczące wyliczania</span><span class="sxs-lookup"><span data-stu-id="57a6f-106">Enumeration Basics</span></span>  
 <span data-ttu-id="57a6f-107">Jednym ze sposobów używania typów wyliczeniowych w modelu kontraktu danych jest zastosowanie <xref:System.Runtime.Serialization.DataContractAttribute> atrybutu do typu.</span><span class="sxs-lookup"><span data-stu-id="57a6f-107">One way to use enumeration types in the data contract model is to apply the <xref:System.Runtime.Serialization.DataContractAttribute> attribute to the type.</span></span> <span data-ttu-id="57a6f-108">Następnie należy zastosować <xref:System.Runtime.Serialization.EnumMemberAttribute> atrybut do każdego elementu członkowskiego, który musi być uwzględniony w umowie dotyczącej danych.</span><span class="sxs-lookup"><span data-stu-id="57a6f-108">You must then apply the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute to each member that must be included in the data contract.</span></span>  
  
 <span data-ttu-id="57a6f-109">Poniższy przykład przedstawia dwie klasy.</span><span class="sxs-lookup"><span data-stu-id="57a6f-109">The following example shows two classes.</span></span> <span data-ttu-id="57a6f-110">Pierwszy używa wyliczenia, a drugi definiuje wyliczenie.</span><span class="sxs-lookup"><span data-stu-id="57a6f-110">The first uses the enumeration and the second defines the enumeration.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#1)]
 [!code-vb[c_DataContractEnumerations#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#1)]  
  
 <span data-ttu-id="57a6f-111">Wystąpienie `Car` klasy może być wysyłane lub odbierane tylko wtedy, gdy `condition` pole jest ustawione na jedną z wartości `New` , `Used` lub `Rental` .</span><span class="sxs-lookup"><span data-stu-id="57a6f-111">An instance of the `Car` class can be sent or received only if the `condition` field is set to one of the values `New`, `Used`, or `Rental`.</span></span> <span data-ttu-id="57a6f-112">Jeśli `condition` jest `Broken` generowane lub `Stolen` , <xref:System.Runtime.Serialization.SerializationException> jest generowany.</span><span class="sxs-lookup"><span data-stu-id="57a6f-112">If the `condition` is `Broken` or `Stolen`, a <xref:System.Runtime.Serialization.SerializationException> is thrown.</span></span>  
  
 <span data-ttu-id="57a6f-113">Można użyć <xref:System.Runtime.Serialization.DataContractAttribute> właściwości ( <xref:System.Runtime.Serialization.DataContractAttribute.Name%2A> i <xref:System.Runtime.Serialization.DataContractAttribute.Namespace%2A> ) jako zwykłych dla kontraktów danych wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="57a6f-113">You can use the <xref:System.Runtime.Serialization.DataContractAttribute> properties (<xref:System.Runtime.Serialization.DataContractAttribute.Name%2A> and <xref:System.Runtime.Serialization.DataContractAttribute.Namespace%2A>) as usual for enumeration data contracts.</span></span>  
  
### <a name="enumeration-member-values"></a><span data-ttu-id="57a6f-114">Wartości elementu członkowskiego wyliczenia</span><span class="sxs-lookup"><span data-stu-id="57a6f-114">Enumeration Member Values</span></span>  
 <span data-ttu-id="57a6f-115">Ogólnie rzecz biorąc kontrakt dotyczący danych zawiera nazwy elementów członkowskich wyliczenia, a nie wartości numeryczne.</span><span class="sxs-lookup"><span data-stu-id="57a6f-115">Generally the data contract includes enumeration member names, not numerical values.</span></span> <span data-ttu-id="57a6f-116">Jednak w przypadku korzystania z modelu kontraktu danych, jeśli strona otrzymująca jest klientem WCF, wyeksportowany schemat zachowuje wartości liczbowe.</span><span class="sxs-lookup"><span data-stu-id="57a6f-116">However, when using the data contract model, if the receiving side is a WCF client, the exported schema preserves the numerical values.</span></span> <span data-ttu-id="57a6f-117">Należy zauważyć, że nie jest to przypadek w przypadku używania [klasy XmlSerializer](using-the-xmlserializer-class.md).</span><span class="sxs-lookup"><span data-stu-id="57a6f-117">Note that this is not the case when using the [Using the XmlSerializer Class](using-the-xmlserializer-class.md).</span></span>  
  
 <span data-ttu-id="57a6f-118">W poprzednim przykładzie, jeśli `condition` jest ustawiona na, `Used` a dane są serializowane do kodu XML, otrzymany kod XML to, `<condition>Used</condition>` a nie `<condition>1</condition>` .</span><span class="sxs-lookup"><span data-stu-id="57a6f-118">In the preceding example, if `condition` is set to `Used` and the data is serialized to XML, the resulting XML is `<condition>Used</condition>` and not `<condition>1</condition>`.</span></span> <span data-ttu-id="57a6f-119">W związku z tym następująca umowa dotycząca danych jest równoznaczna z umową danych `CarConditionEnum` .</span><span class="sxs-lookup"><span data-stu-id="57a6f-119">Therefore, the following data contract is equivalent to the data contract of `CarConditionEnum`.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#2)]
 [!code-vb[c_DataContractEnumerations#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#2)]  
  
 <span data-ttu-id="57a6f-120">Na przykład można użyć po `CarConditionEnum` stronie wysyłającej i po `CarConditionWithNumbers` stronie odbiorczej.</span><span class="sxs-lookup"><span data-stu-id="57a6f-120">For example, you can use `CarConditionEnum` on the sending side and `CarConditionWithNumbers` on the receiving side.</span></span> <span data-ttu-id="57a6f-121">Mimo że po stronie wysyłającej jest stosowana wartość "1" `Used` , a po stronie otrzymującej jest stosowana wartość "20", Reprezentacja XML jest `<condition>Used</condition>` dla obu stron.</span><span class="sxs-lookup"><span data-stu-id="57a6f-121">Although the sending side uses the value "1" for `Used` and the receiving side uses the value "20," the XML representation is `<condition>Used</condition>` for both sides.</span></span>  
  
 <span data-ttu-id="57a6f-122">Aby uwzględnić je w kontrakcie danych, należy zastosować <xref:System.Runtime.Serialization.EnumMemberAttribute> atrybut.</span><span class="sxs-lookup"><span data-stu-id="57a6f-122">To be included in the data contract, you must apply the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span> <span data-ttu-id="57a6f-123">W .NET Framework można zawsze zastosować specjalną wartość 0 (zero) do wyliczenia, która jest również wartością domyślną dla dowolnego wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="57a6f-123">In the .NET Framework, you can always apply the special value 0 (zero) to an enumeration, which is also the default value for any enumeration.</span></span> <span data-ttu-id="57a6f-124">Jednak nawet tej specjalnej wartości zerowej nie można serializować, chyba że jest oznaczona przy użyciu <xref:System.Runtime.Serialization.EnumMemberAttribute> atrybutu.</span><span class="sxs-lookup"><span data-stu-id="57a6f-124">However, even this special zero value cannot be serialized unless it is marked with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span>  
  
 <span data-ttu-id="57a6f-125">Istnieją dwa wyjątki:</span><span class="sxs-lookup"><span data-stu-id="57a6f-125">There are two exceptions to this:</span></span>  
  
- <span data-ttu-id="57a6f-126">Wyliczenia flag (omówione w dalszej części tego tematu).</span><span class="sxs-lookup"><span data-stu-id="57a6f-126">Flag enumerations (discussed later in this topic).</span></span>  
  
- <span data-ttu-id="57a6f-127">Elementy członkowskie danych wyliczenia z <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> właściwością ustawioną na `false` (w takim przypadku Wyliczenie o wartości zero jest pomijane w przypadku serializowanych danych).</span><span class="sxs-lookup"><span data-stu-id="57a6f-127">Enumeration data members with the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property set to `false` (in which case, the enumeration with the value zero is omitted from the serialized data).</span></span>  
  
### <a name="customizing-enumeration-member-values"></a><span data-ttu-id="57a6f-128">Dostosowywanie wartości elementów członkowskich wyliczenia</span><span class="sxs-lookup"><span data-stu-id="57a6f-128">Customizing Enumeration Member Values</span></span>  
 <span data-ttu-id="57a6f-129">Można dostosować wartość elementu członkowskiego wyliczenia, który stanowi część kontraktu danych przy użyciu <xref:System.Runtime.Serialization.EnumMemberAttribute.Value%2A> właściwości <xref:System.Runtime.Serialization.EnumMemberAttribute> atrybutu.</span><span class="sxs-lookup"><span data-stu-id="57a6f-129">You can customize the enumeration member value that forms a part of the data contract by using the <xref:System.Runtime.Serialization.EnumMemberAttribute.Value%2A> property of the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span>  
  
 <span data-ttu-id="57a6f-130">Na przykład następująca umowa dotycząca danych jest również równoważna z kontraktem danych `CarConditionEnum` .</span><span class="sxs-lookup"><span data-stu-id="57a6f-130">For example, the following data contract is also equivalent to the data contract of the `CarConditionEnum`.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#3)]
 [!code-vb[c_DataContractEnumerations#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#3)]  
  
 <span data-ttu-id="57a6f-131">Podczas serializacji wartość `PreviouslyOwned` ma reprezentację XML `<condition>Used</condition>` .</span><span class="sxs-lookup"><span data-stu-id="57a6f-131">When serialized, the value of `PreviouslyOwned` has the XML representation `<condition>Used</condition>`.</span></span>  
  
## <a name="simple-enumerations"></a><span data-ttu-id="57a6f-132">Proste wyliczenia</span><span class="sxs-lookup"><span data-stu-id="57a6f-132">Simple Enumerations</span></span>  
 <span data-ttu-id="57a6f-133">Można również serializować typy wyliczeniowe, do których <xref:System.Runtime.Serialization.DataContractAttribute> atrybut nie został zastosowany.</span><span class="sxs-lookup"><span data-stu-id="57a6f-133">You can also serialize enumeration types to which the <xref:System.Runtime.Serialization.DataContractAttribute> attribute has not been applied.</span></span> <span data-ttu-id="57a6f-134">Takie typy wyliczeniowe są traktowane dokładnie zgodnie z wcześniejszym opisem, z tą różnicą, że każdy element członkowski (który nie ma <xref:System.NonSerializedAttribute> zastosowania atrybutu) jest traktowany jak gdyby <xref:System.Runtime.Serialization.EnumMemberAttribute> atrybut został zastosowany.</span><span class="sxs-lookup"><span data-stu-id="57a6f-134">Such enumeration types are treated exactly as previously described, except that every member (that does not have the <xref:System.NonSerializedAttribute> attribute applied) is treated as if the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute has been applied.</span></span> <span data-ttu-id="57a6f-135">Na przykład następujące Wyliczenie niejawnie ma umowę danych odpowiadającą poprzedniemu `CarConditionEnum` przykładowi.</span><span class="sxs-lookup"><span data-stu-id="57a6f-135">For example, the following enumeration implicitly has a data contract equivalent to the preceding `CarConditionEnum` example.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#6)]
 [!code-vb[c_DataContractEnumerations#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#6)]  
  
 <span data-ttu-id="57a6f-136">Można użyć prostych wyliczeń, gdy nie trzeba dostosowywać nazwy i przestrzeni nazw kontraktu danych wyliczenia oraz wartości elementów członkowskich wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="57a6f-136">You can use simple enumerations when you do not need to customize the enumeration's data contract name and namespace and the enumeration member values.</span></span>  
  
#### <a name="notes-on-simple-enumerations"></a><span data-ttu-id="57a6f-137">Uwagi dotyczące prostych wyliczeń</span><span class="sxs-lookup"><span data-stu-id="57a6f-137">Notes on Simple Enumerations</span></span>  
 <span data-ttu-id="57a6f-138">Zastosowanie <xref:System.Runtime.Serialization.EnumMemberAttribute> atrybutu do prostych wyliczeń nie ma żadnego wpływu.</span><span class="sxs-lookup"><span data-stu-id="57a6f-138">Applying the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute to simple enumerations has no effect.</span></span>  
  
 <span data-ttu-id="57a6f-139">Nie ma żadnej różnicy niezależnie od tego, czy <xref:System.SerializableAttribute> atrybut jest stosowany do wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="57a6f-139">It makes no difference whether or not the <xref:System.SerializableAttribute> attribute is applied to the enumeration.</span></span>  
  
 <span data-ttu-id="57a6f-140">Fakt, że <xref:System.Runtime.Serialization.DataContractSerializer> Klasa uznaje <xref:System.NonSerializedAttribute> atrybut zastosowany do elementów członkowskich wyliczenia, różni się od zachowania <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> i <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter> .</span><span class="sxs-lookup"><span data-stu-id="57a6f-140">The fact that the <xref:System.Runtime.Serialization.DataContractSerializer> class honors the <xref:System.NonSerializedAttribute> attribute applied to enumeration members is different from the behavior of the <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> and the <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter>.</span></span> <span data-ttu-id="57a6f-141">Oba te serializatory ignorują <xref:System.NonSerializedAttribute> atrybut.</span><span class="sxs-lookup"><span data-stu-id="57a6f-141">Both of those serializers ignore the <xref:System.NonSerializedAttribute> attribute.</span></span>  
  
## <a name="flag-enumerations"></a><span data-ttu-id="57a6f-142">Wyliczenia flag</span><span class="sxs-lookup"><span data-stu-id="57a6f-142">Flag Enumerations</span></span>  
 <span data-ttu-id="57a6f-143">Można zastosować <xref:System.FlagsAttribute> atrybut do wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="57a6f-143">You can apply the <xref:System.FlagsAttribute> attribute to enumerations.</span></span> <span data-ttu-id="57a6f-144">W takim przypadku można jednocześnie wysłać lub odebrać listę wartości wyliczenia zero lub więcej.</span><span class="sxs-lookup"><span data-stu-id="57a6f-144">In that case, a list of zero or more enumeration values can be sent or received simultaneously.</span></span>  
  
 <span data-ttu-id="57a6f-145">W tym celu należy zastosować <xref:System.Runtime.Serialization.DataContractAttribute> atrybut do wyliczenia flag, a następnie oznaczyć wszystkie elementy członkowskie, które mają uprawnienia dwóch przy użyciu <xref:System.Runtime.Serialization.EnumMemberAttribute> atrybutu.</span><span class="sxs-lookup"><span data-stu-id="57a6f-145">To do so, apply the <xref:System.Runtime.Serialization.DataContractAttribute> attribute to the flag enumeration and then mark all the members that are powers of two with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span> <span data-ttu-id="57a6f-146">Należy pamiętać, że aby użyć wyliczenia flag, postęp musi być nieprzerwaną sekwencją uprawnień 2 (na przykład 1, 2, 4, 8, 16, 32, 64).</span><span class="sxs-lookup"><span data-stu-id="57a6f-146">Note that to use a flag enumeration, the progression must be an uninterrupted sequence of powers of 2 (for example, 1, 2, 4, 8, 16, 32, 64).</span></span>  
  
 <span data-ttu-id="57a6f-147">Poniższe kroki dotyczą wysyłania wartości wyliczenia flagi:</span><span class="sxs-lookup"><span data-stu-id="57a6f-147">The following steps apply to sending a flag's enumeration value:</span></span>  
  
1. <span data-ttu-id="57a6f-148">Próba znalezienia elementu członkowskiego wyliczenia (z <xref:System.Runtime.Serialization.EnumMemberAttribute> zastosowanym atrybutem), który jest mapowany na wartość liczbową.</span><span class="sxs-lookup"><span data-stu-id="57a6f-148">Attempt to find an enumeration member (with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute applied) that maps to the numeric value.</span></span> <span data-ttu-id="57a6f-149">Jeśli zostanie znaleziona, Wyślij listę zawierającą tylko ten element członkowski.</span><span class="sxs-lookup"><span data-stu-id="57a6f-149">If found, send a list that contains just that member.</span></span>  
  
2. <span data-ttu-id="57a6f-150">Podjęto próbę przerwania wartości liczbowej w sumie, w taki sposób, że istnieją elementy członkowskie wyliczenia (z których każdy ma <xref:System.Runtime.Serialization.EnumMemberAttribute> przypisany atrybut), które są mapowane na każdą część sum.</span><span class="sxs-lookup"><span data-stu-id="57a6f-150">Attempt to break the numeric value into a sum such that there are enumeration members (each with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute applied) that map to each part of the sum.</span></span> <span data-ttu-id="57a6f-151">Wyślij listę wszystkich tych członków.</span><span class="sxs-lookup"><span data-stu-id="57a6f-151">Send the list of all these members.</span></span> <span data-ttu-id="57a6f-152">Należy zauważyć, że *algorytm zachłanne* jest używany do znajdowania takich sum i dlatego nie ma gwarancji, że taka suma jest znaleziona, nawet jeśli jest obecna.</span><span class="sxs-lookup"><span data-stu-id="57a6f-152">Note that the *greedy algorithm* is used to find such a sum, and thus there is no guarantee that such a sum is found even if it is present.</span></span> <span data-ttu-id="57a6f-153">Aby uniknąć tego problemu, upewnij się, że wartości liczbowe elementów członkowskich wyliczenia to uprawnienia dwóch.</span><span class="sxs-lookup"><span data-stu-id="57a6f-153">To avoid this problem, make sure that the numeric values of the enumeration members are powers of two.</span></span>  
  
3. <span data-ttu-id="57a6f-154">Jeśli powyższe dwa kroki zakończą się niepowodzeniem, a wartość liczbowa jest różna od zera, throw a <xref:System.Runtime.Serialization.SerializationException> .</span><span class="sxs-lookup"><span data-stu-id="57a6f-154">If the preceding two steps fail, and the numeric value is nonzero, throw a <xref:System.Runtime.Serialization.SerializationException>.</span></span> <span data-ttu-id="57a6f-155">Jeśli wartość liczbowa jest równa zero, Wyślij pustą listę.</span><span class="sxs-lookup"><span data-stu-id="57a6f-155">If the numeric value is zero, send the empty list.</span></span>  
  
### <a name="example"></a><span data-ttu-id="57a6f-156">Przykład</span><span class="sxs-lookup"><span data-stu-id="57a6f-156">Example</span></span>  
 <span data-ttu-id="57a6f-157">W operacji flagi można użyć następującego przykładu wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="57a6f-157">The following enumeration example can be used in a flag operation.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#4)]
 [!code-vb[c_DataContractEnumerations#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#4)]  
  
 <span data-ttu-id="57a6f-158">Następujące przykładowe wartości są serializowane zgodnie z podanym opisem.</span><span class="sxs-lookup"><span data-stu-id="57a6f-158">The following example values are serialized as indicated.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#5)]
 [!code-vb[c_DataContractEnumerations#5](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#5)]  
  
## <a name="see-also"></a><span data-ttu-id="57a6f-159">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="57a6f-159">See also</span></span>

- <xref:System.Runtime.Serialization.DataContractSerializer>
- [<span data-ttu-id="57a6f-160">Używanie kontraktów danych</span><span class="sxs-lookup"><span data-stu-id="57a6f-160">Using Data Contracts</span></span>](using-data-contracts.md)
- [<span data-ttu-id="57a6f-161">Określanie transferu danych w kontraktach usług</span><span class="sxs-lookup"><span data-stu-id="57a6f-161">Specifying Data Transfer in Service Contracts</span></span>](specifying-data-transfer-in-service-contracts.md)
