---
title: Typy wyliczeniowe w kontraktach danych
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data contracts [WCF], enumeration types
ms.assetid: b5d694da-68cb-4b74-a5fb-75108a68ec3b
ms.openlocfilehash: 8e793fc130252caf91d9b1c15b41beba1cc8ae1f
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/28/2019
ms.locfileid: "64587617"
---
# <a name="enumeration-types-in-data-contracts"></a><span data-ttu-id="77173-102">Typy wyliczeniowe w kontraktach danych</span><span class="sxs-lookup"><span data-stu-id="77173-102">Enumeration Types in Data Contracts</span></span>
<span data-ttu-id="77173-103">Wyliczenia mogą być wyrażone w modelu kontraktu danych.</span><span class="sxs-lookup"><span data-stu-id="77173-103">Enumerations can be expressed in the data contract model.</span></span> <span data-ttu-id="77173-104">W tym temacie przedstawiono kilka przykładów, które opisują modelu programowania.</span><span class="sxs-lookup"><span data-stu-id="77173-104">This topic walks through several examples that explain the programming model.</span></span>  
  
## <a name="enumeration-basics"></a><span data-ttu-id="77173-105">Podstawowe informacje dotyczące wyliczenia</span><span class="sxs-lookup"><span data-stu-id="77173-105">Enumeration Basics</span></span>  
 <span data-ttu-id="77173-106">Jeden ze sposobów użycia Typy wyliczeniowe w modelu kontraktu danych stosuje się <xref:System.Runtime.Serialization.DataContractAttribute> atrybutu typu.</span><span class="sxs-lookup"><span data-stu-id="77173-106">One way to use enumeration types in the data contract model is to apply the <xref:System.Runtime.Serialization.DataContractAttribute> attribute to the type.</span></span> <span data-ttu-id="77173-107">Następnie należy zastosować <xref:System.Runtime.Serialization.EnumMemberAttribute> atrybutu do każdego elementu członkowskiego, które muszą być zawarte w umowie dotyczącej danych.</span><span class="sxs-lookup"><span data-stu-id="77173-107">You must then apply the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute to each member that must be included in the data contract.</span></span>  
  
 <span data-ttu-id="77173-108">Poniższy przykład pokazuje dwóch klas.</span><span class="sxs-lookup"><span data-stu-id="77173-108">The following example shows two classes.</span></span> <span data-ttu-id="77173-109">Pierwszy używa wyliczenia, a druga definiuje wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="77173-109">The first uses the enumeration and the second defines the enumeration.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#1)]
 [!code-vb[c_DataContractEnumerations#1](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#1)]  
  
 <span data-ttu-id="77173-110">Wystąpienie `Car` klasy, które mogą być wysyłane lub odbierane tylko wtedy, gdy `condition` pole jest ustawione na jedną z wartości `New`, `Used`, lub `Rental`.</span><span class="sxs-lookup"><span data-stu-id="77173-110">An instance of the `Car` class can be sent or received only if the `condition` field is set to one of the values `New`, `Used`, or `Rental`.</span></span> <span data-ttu-id="77173-111">Jeśli `condition` jest `Broken` lub `Stolen`, <xref:System.Runtime.Serialization.SerializationException> zgłaszany.</span><span class="sxs-lookup"><span data-stu-id="77173-111">If the `condition` is `Broken` or `Stolen`, a <xref:System.Runtime.Serialization.SerializationException> is thrown.</span></span>  
  
 <span data-ttu-id="77173-112">Możesz użyć <xref:System.Runtime.Serialization.DataContractAttribute> właściwości (<xref:System.Runtime.Serialization.DataContractAttribute.Name%2A> i <xref:System.Runtime.Serialization.DataContractAttribute.Namespace%2A>) dla kontraktów danych wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="77173-112">You can use the <xref:System.Runtime.Serialization.DataContractAttribute> properties (<xref:System.Runtime.Serialization.DataContractAttribute.Name%2A> and <xref:System.Runtime.Serialization.DataContractAttribute.Namespace%2A>) as usual for enumeration data contracts.</span></span>  
  
### <a name="enumeration-member-values"></a><span data-ttu-id="77173-113">Wartości elementów członkowskich wyliczenia</span><span class="sxs-lookup"><span data-stu-id="77173-113">Enumeration Member Values</span></span>  
 <span data-ttu-id="77173-114">Ogólnie kontraktu danych zawiera nazwy elementów członkowskich wyliczenia, nie wartości liczbowe.</span><span class="sxs-lookup"><span data-stu-id="77173-114">Generally the data contract includes enumeration member names, not numerical values.</span></span> <span data-ttu-id="77173-115">Jednak korzystając z modelu kontraktu danych, jeśli po stronie odbierającej jest klienta WCF, wyeksportowanego schematu zachowuje wartości liczbowe.</span><span class="sxs-lookup"><span data-stu-id="77173-115">However, when using the data contract model, if the receiving side is a WCF client, the exported schema preserves the numerical values.</span></span> <span data-ttu-id="77173-116">Należy pamiętać, że nie jest wymagane przy użyciu [przy użyciu klasy XmlSerializer](../../../../docs/framework/wcf/feature-details/using-the-xmlserializer-class.md).</span><span class="sxs-lookup"><span data-stu-id="77173-116">Note that this is not the case when using the [Using the XmlSerializer Class](../../../../docs/framework/wcf/feature-details/using-the-xmlserializer-class.md).</span></span>  
  
 <span data-ttu-id="77173-117">W poprzednim przykładzie Jeśli `condition` ustawiono `Used` i danych jest serializowany do pliku XML, wynikowy kod XML jest `<condition>Used</condition>` i nie `<condition>1</condition>`.</span><span class="sxs-lookup"><span data-stu-id="77173-117">In the preceding example, if `condition` is set to `Used` and the data is serialized to XML, the resulting XML is `<condition>Used</condition>` and not `<condition>1</condition>`.</span></span> <span data-ttu-id="77173-118">W związku z tym, następujące kontraktu danych odpowiada kontrakt danych `CarConditionEnum`.</span><span class="sxs-lookup"><span data-stu-id="77173-118">Therefore, the following data contract is equivalent to the data contract of `CarConditionEnum`.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#2)]
 [!code-vb[c_DataContractEnumerations#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#2)]  
  
 <span data-ttu-id="77173-119">Na przykład, można użyć `CarConditionEnum` po stronie wysyłania i `CarConditionWithNumbers` po stronie odbierającej.</span><span class="sxs-lookup"><span data-stu-id="77173-119">For example, you can use `CarConditionEnum` on the sending side and `CarConditionWithNumbers` on the receiving side.</span></span> <span data-ttu-id="77173-120">Chociaż po stronie wysyłającej korzysta z wartości "1" dla `Used` i używa po stronie odbierania, wartość "20" reprezentację XML jest `<condition>Used</condition>` dla obu stron.</span><span class="sxs-lookup"><span data-stu-id="77173-120">Although the sending side uses the value "1" for `Used` and the receiving side uses the value "20," the XML representation is `<condition>Used</condition>` for both sides.</span></span>  
  
 <span data-ttu-id="77173-121">Do uwzględnienia w kontraktu danych, należy najpierw zastosować <xref:System.Runtime.Serialization.EnumMemberAttribute> atrybutu.</span><span class="sxs-lookup"><span data-stu-id="77173-121">To be included in the data contract, you must apply the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span> <span data-ttu-id="77173-122">W [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)], zawsze stosować specjalna wartość 0 (zero) do wyliczenia, która jest również wartością domyślną dla dowolnego wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="77173-122">In the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)], you can always apply the special value 0 (zero) to an enumeration, which is also the default value for any enumeration.</span></span> <span data-ttu-id="77173-123">Jednak nawet ten specjalny odcinek serii nie można serializować wartość zero, chyba że jest on oznaczony wartością <xref:System.Runtime.Serialization.EnumMemberAttribute> atrybutu.</span><span class="sxs-lookup"><span data-stu-id="77173-123">However, even this special zero value cannot be serialized unless it is marked with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span>  
  
 <span data-ttu-id="77173-124">Istnieją dwa wyjątki od tej reguły:</span><span class="sxs-lookup"><span data-stu-id="77173-124">There are two exceptions to this:</span></span>  
  
- <span data-ttu-id="77173-125">Flaga wyliczenia (zostało to omówione w dalszej części tego tematu).</span><span class="sxs-lookup"><span data-stu-id="77173-125">Flag enumerations (discussed later in this topic).</span></span>  
  
- <span data-ttu-id="77173-126">Elementy członkowskie danych wyliczenia z <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> właściwością `false` (w którym to przypadku wyliczenie o wartości zero jest pominięty z serializowanych danych).</span><span class="sxs-lookup"><span data-stu-id="77173-126">Enumeration data members with the <xref:System.Runtime.Serialization.DataMemberAttribute.EmitDefaultValue%2A> property set to `false` (in which case, the enumeration with the value zero is omitted from the serialized data).</span></span>  
  
### <a name="customizing-enumeration-member-values"></a><span data-ttu-id="77173-127">Dostosowywanie wartości elementu członkowskiego wyliczenia</span><span class="sxs-lookup"><span data-stu-id="77173-127">Customizing Enumeration Member Values</span></span>  
 <span data-ttu-id="77173-128">Można dostosować wartość elementu członkowskiego wyliczenia, która jest częścią kontraktu danych za pomocą <xref:System.Runtime.Serialization.EnumMemberAttribute.Value%2A> właściwość <xref:System.Runtime.Serialization.EnumMemberAttribute> atrybutu.</span><span class="sxs-lookup"><span data-stu-id="77173-128">You can customize the enumeration member value that forms a part of the data contract by using the <xref:System.Runtime.Serialization.EnumMemberAttribute.Value%2A> property of the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span>  
  
 <span data-ttu-id="77173-129">Na przykład, poniższy kontraktu danych również jest odpowiednikiem kontrakt danych `CarConditionEnum`.</span><span class="sxs-lookup"><span data-stu-id="77173-129">For example, the following data contract is also equivalent to the data contract of the `CarConditionEnum`.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#3](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#3)]
 [!code-vb[c_DataContractEnumerations#3](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#3)]  
  
 <span data-ttu-id="77173-130">Gdy serializowany wartość `PreviouslyOwned` jej reprezentacji XML `<condition>Used</condition>`.</span><span class="sxs-lookup"><span data-stu-id="77173-130">When serialized, the value of `PreviouslyOwned` has the XML representation `<condition>Used</condition>`.</span></span>  
  
## <a name="simple-enumerations"></a><span data-ttu-id="77173-131">Proste wyliczenia</span><span class="sxs-lookup"><span data-stu-id="77173-131">Simple Enumerations</span></span>  
 <span data-ttu-id="77173-132">Typy wyliczeniowe, do której może serializować <xref:System.Runtime.Serialization.DataContractAttribute> atrybutu nie zostały zastosowane.</span><span class="sxs-lookup"><span data-stu-id="77173-132">You can also serialize enumeration types to which the <xref:System.Runtime.Serialization.DataContractAttribute> attribute has not been applied.</span></span> <span data-ttu-id="77173-133">Wyliczenie, takie typy są traktowane jako dokładnie tak jak opisano wcześniej, chyba że każdy element członkowski (które nie mają <xref:System.NonSerializedAttribute> zastosowany) jest traktowana tak, jakby <xref:System.Runtime.Serialization.EnumMemberAttribute> zastosowano atrybut.</span><span class="sxs-lookup"><span data-stu-id="77173-133">Such enumeration types are treated exactly as previously described, except that every member (that does not have the <xref:System.NonSerializedAttribute> attribute applied) is treated as if the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute has been applied.</span></span> <span data-ttu-id="77173-134">Na przykład, poniższy wyliczenie niejawnie określono kontraktu danych odpowiednikiem poprzedniego `CarConditionEnum` przykład.</span><span class="sxs-lookup"><span data-stu-id="77173-134">For example, the following enumeration implicitly has a data contract equivalent to the preceding `CarConditionEnum` example.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#6)]
 [!code-vb[c_DataContractEnumerations#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#6)]  
  
 <span data-ttu-id="77173-135">Można użyć prostego wyliczenia, kiedy nie trzeba dostosować wyliczenia samej nazwie kontraktu danych i przestrzeni nazw i wartości elementów członkowskich wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="77173-135">You can use simple enumerations when you do not need to customize the enumeration's data contract name and namespace and the enumeration member values.</span></span>  
  
#### <a name="notes-on-simple-enumerations"></a><span data-ttu-id="77173-136">Uwagi dotyczące prostego wyliczenia</span><span class="sxs-lookup"><span data-stu-id="77173-136">Notes on Simple Enumerations</span></span>  
 <span data-ttu-id="77173-137">Stosowanie <xref:System.Runtime.Serialization.EnumMemberAttribute> atrybut do prostych wyliczenia nie ma znaczenia.</span><span class="sxs-lookup"><span data-stu-id="77173-137">Applying the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute to simple enumerations has no effect.</span></span>  
  
 <span data-ttu-id="77173-138">Nie ma znaczenia czy <xref:System.SerializableAttribute> atrybut jest stosowany do wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="77173-138">It makes no difference whether or not the <xref:System.SerializableAttribute> attribute is applied to the enumeration.</span></span>  
  
 <span data-ttu-id="77173-139">Fakt, <xref:System.Runtime.Serialization.DataContractSerializer> klasy uwzględniane <xref:System.NonSerializedAttribute> zastosowany do elementów członkowskich wyliczenia różni się od zachowania <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> i <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter>.</span><span class="sxs-lookup"><span data-stu-id="77173-139">The fact that the <xref:System.Runtime.Serialization.DataContractSerializer> class honors the <xref:System.NonSerializedAttribute> attribute applied to enumeration members is different from the behavior of the <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter> and the <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter>.</span></span> <span data-ttu-id="77173-140">Oba te serializatory Ignoruj <xref:System.NonSerializedAttribute> atrybutu.</span><span class="sxs-lookup"><span data-stu-id="77173-140">Both of those serializers ignore the <xref:System.NonSerializedAttribute> attribute.</span></span>  
  
## <a name="flag-enumerations"></a><span data-ttu-id="77173-141">Flagi wyliczeń</span><span class="sxs-lookup"><span data-stu-id="77173-141">Flag Enumerations</span></span>  
 <span data-ttu-id="77173-142">Można zastosować <xref:System.FlagsAttribute> atrybutu do wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="77173-142">You can apply the <xref:System.FlagsAttribute> attribute to enumerations.</span></span> <span data-ttu-id="77173-143">W takim przypadku listę zero lub więcej wartości wyliczenia mogą być wysyłane lub odbierane jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="77173-143">In that case, a list of zero or more enumeration values can be sent or received simultaneously.</span></span>  
  
 <span data-ttu-id="77173-144">Aby to zrobić, należy zastosować <xref:System.Runtime.Serialization.DataContractAttribute> atrybutu do wyliczenia flag, a następnie Oznacz wszystkie elementy członkowskie z potęgi liczb z <xref:System.Runtime.Serialization.EnumMemberAttribute> atrybutu.</span><span class="sxs-lookup"><span data-stu-id="77173-144">To do so, apply the <xref:System.Runtime.Serialization.DataContractAttribute> attribute to the flag enumeration and then mark all the members that are powers of two with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute.</span></span> <span data-ttu-id="77173-145">Należy pamiętać, że można używać wyliczenia flag, postęp musi być nieprzerwaną sekwencji potęgi 2 (na przykład 1, 2, 4, 8, 16, 32, 64).</span><span class="sxs-lookup"><span data-stu-id="77173-145">Note that to use a flag enumeration, the progression must be an uninterrupted sequence of powers of 2 (for example, 1, 2, 4, 8, 16, 32, 64).</span></span>  
  
 <span data-ttu-id="77173-146">Poniższe kroki dotyczą wysyłania wartość wyliczenia flag:</span><span class="sxs-lookup"><span data-stu-id="77173-146">The following steps apply to sending a flag's enumeration value:</span></span>  
  
1. <span data-ttu-id="77173-147">Próba odnalezienia elementu członkowskiego wyliczenia (przy użyciu <xref:System.Runtime.Serialization.EnumMemberAttribute> zastosowany) która jest mapowana na wartość liczbową.</span><span class="sxs-lookup"><span data-stu-id="77173-147">Attempt to find an enumeration member (with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute applied) that maps to the numeric value.</span></span> <span data-ttu-id="77173-148">Jeśli znaleziono, wysłać listę, która zawiera tylko ten element członkowski.</span><span class="sxs-lookup"><span data-stu-id="77173-148">If found, send a list that contains just that member.</span></span>  
  
2. <span data-ttu-id="77173-149">Próbują przerwać wartość liczbowa do sumy w taki sposób, że istnieją elementy członkowskie wyliczenia (każdy z <xref:System.Runtime.Serialization.EnumMemberAttribute> zastosowany) mapowania każda część sumy.</span><span class="sxs-lookup"><span data-stu-id="77173-149">Attempt to break the numeric value into a sum such that there are enumeration members (each with the <xref:System.Runtime.Serialization.EnumMemberAttribute> attribute applied) that map to each part of the sum.</span></span> <span data-ttu-id="77173-150">Wysyłanie listy wszystkich tych elementów członkowskich.</span><span class="sxs-lookup"><span data-stu-id="77173-150">Send the list of all these members.</span></span> <span data-ttu-id="77173-151">Należy pamiętać, że *zachłanne algorytm* jest używana do znajdowania to suma, i w związku z tym nie ma żadnej gwarancji, który takiej sumy zostanie znaleziony, nawet jeśli jest obecny.</span><span class="sxs-lookup"><span data-stu-id="77173-151">Note that the *greedy algorithm* is used to find such a sum, and thus there is no guarantee that such a sum is found even if it is present.</span></span> <span data-ttu-id="77173-152">Aby uniknąć tego problemu, upewnij się, czy uprawnień z dwóch wartości liczbowych elementów członkowskich wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="77173-152">To avoid this problem, make sure that the numeric values of the enumeration members are powers of two.</span></span>  
  
3. <span data-ttu-id="77173-153">Jeśli dwa poprzednie kroki zakończyć się niepowodzeniem, a wartość liczbowa jest różna od zera, throw <xref:System.Runtime.Serialization.SerializationException>.</span><span class="sxs-lookup"><span data-stu-id="77173-153">If the preceding two steps fail, and the numeric value is nonzero, throw a <xref:System.Runtime.Serialization.SerializationException>.</span></span> <span data-ttu-id="77173-154">Jeśli wartość liczbowa jest wartość zero, należy wysłać pustej listy.</span><span class="sxs-lookup"><span data-stu-id="77173-154">If the numeric value is zero, send the empty list.</span></span>  
  
### <a name="example"></a><span data-ttu-id="77173-155">Przykład</span><span class="sxs-lookup"><span data-stu-id="77173-155">Example</span></span>  
 <span data-ttu-id="77173-156">W poniższym przykładzie wyliczenie może służyć w ramach operacji flagi.</span><span class="sxs-lookup"><span data-stu-id="77173-156">The following enumeration example can be used in a flag operation.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#4)]
 [!code-vb[c_DataContractEnumerations#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#4)]  
  
 <span data-ttu-id="77173-157">Następujące przykładowe wartości są serializowane, jak wskazano.</span><span class="sxs-lookup"><span data-stu-id="77173-157">The following example values are serialized as indicated.</span></span>  
  
 [!code-csharp[c_DataContractEnumerations#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_datacontractenumerations/cs/source.cs#5)]
 [!code-vb[c_DataContractEnumerations#5](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_datacontractenumerations/vb/source.vb#5)]  
  
## <a name="see-also"></a><span data-ttu-id="77173-158">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="77173-158">See also</span></span>

- <xref:System.Runtime.Serialization.DataContractSerializer>
- [<span data-ttu-id="77173-159">Używanie kontraktów danych</span><span class="sxs-lookup"><span data-stu-id="77173-159">Using Data Contracts</span></span>](../../../../docs/framework/wcf/feature-details/using-data-contracts.md)
- [<span data-ttu-id="77173-160">Określanie transferu danych w kontraktach usług</span><span class="sxs-lookup"><span data-stu-id="77173-160">Specifying Data Transfer in Service Contracts</span></span>](../../../../docs/framework/wcf/feature-details/specifying-data-transfer-in-service-contracts.md)
