---
title: Mechanizmy kontroli dostępu
ms.date: 03/30/2017
helpviewer_keywords:
- WCF security
- access control [WCF]
ms.assetid: 9d576122-3f55-4425-9acf-b23d0781e966
ms.openlocfilehash: b423dac4d8324069eb1825666419b23b5afdca63
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/12/2020
ms.locfileid: "79185495"
---
# <a name="access-control-mechanisms"></a><span data-ttu-id="5e212-102">Mechanizmy kontroli dostępu</span><span class="sxs-lookup"><span data-stu-id="5e212-102">Access Control Mechanisms</span></span>
<span data-ttu-id="5e212-103">Dostęp można kontrolować w kilka sposobów za pomocą programu Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="5e212-103">You can control access in several way with Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="5e212-104">W tym temacie pokrótce omówiono różne mechanizmy i zawiera sugestie, kiedy używać każdego; ma na celu pomóc w wyborze odpowiedniego mechanizmu do użycia.</span><span class="sxs-lookup"><span data-stu-id="5e212-104">This topic briefly discusses the various mechanisms and provides suggestions on when to use each; it is intended to help you select the correct mechanism to use.</span></span> <span data-ttu-id="5e212-105">Technologie dostępu są wymienione w kolejności złożoności.</span><span class="sxs-lookup"><span data-stu-id="5e212-105">The access technologies are listed in order of complexity.</span></span> <span data-ttu-id="5e212-106">Najprostszym <xref:System.Security.Permissions.PrincipalPermissionAttribute>jest ; najbardziej złożony jest model tożsamości.</span><span class="sxs-lookup"><span data-stu-id="5e212-106">The simplest is the <xref:System.Security.Permissions.PrincipalPermissionAttribute>; the most complex is the Identity Model.</span></span>  
  
 <span data-ttu-id="5e212-107">Oprócz tych mechanizmów, personifikacji i delegowania z WCF jest wyjaśnione w [delegowania i personifikacji](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span><span class="sxs-lookup"><span data-stu-id="5e212-107">In addition to these mechanisms, impersonation and delegation with WCF is explained in [Delegation and Impersonation](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md).</span></span>  
  
## <a name="principalpermissionattribute"></a><span data-ttu-id="5e212-108">PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="5e212-108">PrincipalPermissionAttribute</span></span>  
 <span data-ttu-id="5e212-109">Jest <xref:System.Security.Permissions.PrincipalPermissionAttribute> używany do ograniczania dostępu do metody usługi.</span><span class="sxs-lookup"><span data-stu-id="5e212-109">The <xref:System.Security.Permissions.PrincipalPermissionAttribute> is used to restrict access to a service method.</span></span> <span data-ttu-id="5e212-110">Gdy atrybut jest stosowany do metody, może służyć do żądania tożsamości określonego obiektu wywołującego lub członkostwa w grupie systemu Windows lub ASP.NET roli.</span><span class="sxs-lookup"><span data-stu-id="5e212-110">When the attribute is applied to a method, it can be used to demand a specific caller's identity or membership in a Windows group or ASP.NET role.</span></span> <span data-ttu-id="5e212-111">Jeśli klient jest uwierzytelniany przy użyciu certyfikatu X.509, otrzymuje podstawową tożsamość, która składa się z nazwy podmiotu oraz odcisk palca certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="5e212-111">If the client is authenticated using an X.509 certificate, it is given a primary identity that consists of the subject name plus the thumbprint of the certificate.</span></span>  
  
 <span data-ttu-id="5e212-112">Służy <xref:System.Security.Permissions.PrincipalPermissionAttribute> do kontrolowania dostępu do zasobów na komputerze, na którego jest uruchomiona usługa, a użytkownicy usługi zawsze będą częścią tej samej domeny systemu Windows, na której jest uruchomiona usługa.</span><span class="sxs-lookup"><span data-stu-id="5e212-112">Use the <xref:System.Security.Permissions.PrincipalPermissionAttribute> to control access to resources on the computer that the service is running on, and if the users of the service will always be part of the same Windows domain that the service is running on.</span></span> <span data-ttu-id="5e212-113">Można łatwo tworzyć grupy systemu Windows, które mają określony poziom dostępu (na przykład brak, tylko do odczytu lub odczyt i zapis).</span><span class="sxs-lookup"><span data-stu-id="5e212-113">You can easily create Windows groups that have specified levels of access (such as none, read-only, or read and write).</span></span>  
  
 <span data-ttu-id="5e212-114">Aby uzyskać więcej informacji na temat korzystania z atrybutu, zobacz [Jak: Ogranicz dostęp z PrincipalPermissionAttribute Klasy](../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span><span class="sxs-lookup"><span data-stu-id="5e212-114">For more information about using the attribute, see [How to: Restrict Access with the PrincipalPermissionAttribute Class](../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md).</span></span> <span data-ttu-id="5e212-115">Aby uzyskać więcej informacji na temat tożsamości, zobacz [Tożsamość usługi i uwierzytelnianie](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="5e212-115">For more information about identity, see [Service Identity and Authentication](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span>  
  
## <a name="aspnet-membership-provider"></a><span data-ttu-id="5e212-116">Dostawca członkostwa ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5e212-116">ASP.NET Membership Provider</span></span>  
 <span data-ttu-id="5e212-117">Cechą ASP.NET jest dostawca członkostwa.</span><span class="sxs-lookup"><span data-stu-id="5e212-117">A feature of ASP.NET is the membership provider.</span></span> <span data-ttu-id="5e212-118">Mimo że dostawca członkostwa nie jest technicznie mechanizm kontroli dostępu, umożliwia kontrolowanie dostępu do usługi, ograniczając zestaw możliwych tożsamości, które mogą uzyskać dostęp do punktu końcowego usługi.</span><span class="sxs-lookup"><span data-stu-id="5e212-118">Even though the membership provider is not technically an access control mechanism, it allows controlling access to the service by limiting the set of possible identities that can access the service's endpoint.</span></span> <span data-ttu-id="5e212-119">Funkcja członkostwa obejmuje bazę danych, która może być wypełniona kombinacjami nazw użytkowników i haseł, które umożliwiają użytkownikom witryny sieci Web tworzenie kont w witrynie.</span><span class="sxs-lookup"><span data-stu-id="5e212-119">The membership feature includes a database that can be populated with user name/password combinations that enable users of a Web site to establish accounts with the site.</span></span> <span data-ttu-id="5e212-120">Aby uzyskać dostęp do usługi korzystającej z dostawcy członkostwa, użytkownik musi zalogować się przy użyciu nazwy użytkownika i hasła.</span><span class="sxs-lookup"><span data-stu-id="5e212-120">To access a service that uses the membership provider, a user must log on with their user name and password.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="5e212-121">Należy najpierw wypełnić bazę danych przy użyciu funkcji ASP.NET, zanim usługa WCF może używać jej do celów autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="5e212-121">You must first populate the database using the ASP.NET feature before a WCF service can use it for authorization purposes.</span></span>  
  
 <span data-ttu-id="5e212-122">Funkcji członkostwa można również użyć, jeśli masz już bazę danych członkostwa z istniejącej witryny sieci Web ASP.NET i chcesz włączyć tych samych użytkowników do korzystania z usługi, autoryzowanej z tymi samymi nazwami użytkowników i hasłami.</span><span class="sxs-lookup"><span data-stu-id="5e212-122">You can also use the membership feature if you already have a membership database from an existing ASP.NET Web site and you want to enable the same users to use your service, authorized with the same user names and passwords.</span></span>  
  
 <span data-ttu-id="5e212-123">Aby uzyskać więcej informacji na temat korzystania z funkcji członkostwa w usłudze WCF, zobacz [Jak: Korzystanie z dostawcy członkostwa ASP.NET](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-membership-provider.md).</span><span class="sxs-lookup"><span data-stu-id="5e212-123">For more information about using the membership feature in a WCF service, see [How to: Use the ASP.NET Membership Provider](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-membership-provider.md).</span></span>  
  
## <a name="aspnet-role-provider"></a><span data-ttu-id="5e212-124">Dostawca roli ASP.NET</span><span class="sxs-lookup"><span data-stu-id="5e212-124">ASP.NET Role Provider</span></span>  
 <span data-ttu-id="5e212-125">Inną cechą ASP.NET jest możliwość zarządzania autoryzacją przy użyciu ról.</span><span class="sxs-lookup"><span data-stu-id="5e212-125">Another feature of ASP.NET is the ability to manage authorization using roles.</span></span> <span data-ttu-id="5e212-126">Dostawca roli ASP.NET umożliwia deweloperowi tworzenie ról dla użytkowników i przypisywanie każdego użytkownika do roli lub ról.</span><span class="sxs-lookup"><span data-stu-id="5e212-126">The ASP.NET role provider enables a developer to create roles for users and to assign each user to a role or roles.</span></span> <span data-ttu-id="5e212-127">Podobnie jak w przypadku dostawcy członkostwa, role i przydziały są przechowywane w bazie danych i mogą być wypełniane przy użyciu narzędzi dostarczonych przez określoną implementację dostawcy roli ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="5e212-127">As with the membership provider, the roles and assignments are stored in a database, and can be populated using tools provided by a particular implementation of the ASP.NET role provider.</span></span> <span data-ttu-id="5e212-128">Podobnie jak w przypadku funkcji członkostwa, deweloperzy WCF można użyć informacji w bazie danych do autoryzowania użytkowników usługi według ról.</span><span class="sxs-lookup"><span data-stu-id="5e212-128">As with the membership feature, WCF developers can use the information in the database to authorize service users by roles.</span></span> <span data-ttu-id="5e212-129">Mogą one, na przykład, używać dostawcy `PrincipalPermissionAttribute` roli w połączeniu z mechanizmem kontroli dostępu opisanych powyżej.</span><span class="sxs-lookup"><span data-stu-id="5e212-129">They can, for example, use the role provider in combination with the `PrincipalPermissionAttribute` access control mechanism described above.</span></span>  
  
 <span data-ttu-id="5e212-130">Można również użyć dostawcy roli ASP.NET, jeśli masz istniejącą bazę danych dostawcy ról ASP.NET i chcesz użyć tego samego zestawu reguł i przypisań użytkowników w usłudze WCF.</span><span class="sxs-lookup"><span data-stu-id="5e212-130">You can also use the ASP.NET role provider if you have an existing ASP.NET role provider database and want to use the same set of rules and user assignments in your WCF service.</span></span>  
  
 <span data-ttu-id="5e212-131">Aby uzyskać więcej informacji na temat korzystania z funkcji dostawcy roli, zobacz [Jak: Korzystanie z ASP.NET dostawcy roli z usługą](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-role-provider-with-a-service.md).</span><span class="sxs-lookup"><span data-stu-id="5e212-131">For more information about using the role provider feature, see [How to: Use the ASP.NET Role Provider with a Service](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-role-provider-with-a-service.md).</span></span>  
  
## <a name="authorization-manager"></a><span data-ttu-id="5e212-132">Menedżer autoryzacji</span><span class="sxs-lookup"><span data-stu-id="5e212-132">Authorization Manager</span></span>  
 <span data-ttu-id="5e212-133">Inna funkcja łączy Menedżera autoryzacji (AzMan) z dostawcą roli ASP.NET do autoryzowania klientów.</span><span class="sxs-lookup"><span data-stu-id="5e212-133">Another feature combines the Authorization Manager (AzMan) with the ASP.NET role provider to authorize clients.</span></span> <span data-ttu-id="5e212-134">Gdy ASP.NET hostuje usługę sieci Web, AzMan można zintegrować z aplikacją, dzięki czemu autoryzacja usługi odbywa się za pośrednictwem azmanu.</span><span class="sxs-lookup"><span data-stu-id="5e212-134">When ASP.NET hosts a Web service, AzMan can be integrated into the application so that authorization to the service is done through AzMan.</span></span> <span data-ttu-id="5e212-135">ASP.NET menedżer ról udostępnia interfejs API, który umożliwia zarządzanie rolami aplikacji, dodawanie i usuwanie użytkowników z ról i sprawdzanie członkostwa roli, ale nie pozwala na wykonywanie nazwanych zadań lub operacji.</span><span class="sxs-lookup"><span data-stu-id="5e212-135">ASP.NET role manager provides an API that enables you to manage application roles, add and remove users from roles, and check role membership, but it does not allow you to query whether a user is authorized to perform a named task or operation.</span></span> <span data-ttu-id="5e212-136">AzMan pozwala zdefiniować poszczególne operacje i połączyć je w zadania.</span><span class="sxs-lookup"><span data-stu-id="5e212-136">AzMan allows you to define individual operations and combine them into tasks.</span></span> <span data-ttu-id="5e212-137">Z AZMan, oprócz sprawdzania roli, można również sprawdzić, czy użytkownik może wykonać zadanie.</span><span class="sxs-lookup"><span data-stu-id="5e212-137">With AZMan, in addition to role checks, you can also check whether a user can perform a task.</span></span> <span data-ttu-id="5e212-138">Przypisywanie ról i autoryzacja zadań można skonfigurować poza aplikacją lub wykonać programowo w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="5e212-138">Role assignment and task authorization can be configured outside of the application or performed programmatically within the application.</span></span> <span data-ttu-id="5e212-139">Przystawka AzMan administracji Programu Microsoft Management Console (MMC) umożliwia administratorom zmianę zadań, które rola może wykonywać w czasie wykonywania i zarządzanie członkostwem ról każdego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="5e212-139">The AzMan administration Microsoft Management Console (MMC) snap-in allows administrators to change the tasks a role can perform at run time and to manage each user's membership of roles.</span></span>  
  
 <span data-ttu-id="5e212-140">Można również użyć AzMan i dostawcy roli ASP.NET, jeśli masz już dostęp do istniejącej instalacji AzMan i chcesz autoryzować użytkowników usługi przy użyciu funkcji kombinacji AzMan/dostawca roli.</span><span class="sxs-lookup"><span data-stu-id="5e212-140">You can also use AzMan and the ASP.NET role provider if you already have access to an existing AzMan installation and want to authorize your service users using the features of the AzMan/role provider combination.</span></span>  
  
 <span data-ttu-id="5e212-141">Aby uzyskać więcej informacji na temat programu AzMan i dostawcy roli ASP.NET, zobacz [Jak: Użyj Menedżera autoryzacji (AzMan) z ASP.NET 2.0](https://docs.microsoft.com/previous-versions/msp-n-p/ff649313(v=pandp.10)).</span><span class="sxs-lookup"><span data-stu-id="5e212-141">For more information about AzMan and the ASP.NET role provider, see [How To: Use Authorization Manager (AzMan) with ASP.NET 2.0](https://docs.microsoft.com/previous-versions/msp-n-p/ff649313(v=pandp.10)).</span></span> <span data-ttu-id="5e212-142">Aby uzyskać więcej informacji na temat korzystania z programu AzMan i dostawcy roli dla usług WCF, zobacz [Jak: Korzystanie z dostawcy roli menedżera autoryzacji ASP.NET z usługą](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-authorization-manager-role-provider-with-a-service.md).</span><span class="sxs-lookup"><span data-stu-id="5e212-142">For more information about using AzMan and the role provider for WCF services, see [How to: Use the ASP.NET Authorization Manager Role Provider with a Service](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-authorization-manager-role-provider-with-a-service.md).</span></span>  
  
## <a name="identity-model"></a><span data-ttu-id="5e212-143">Model tożsamości</span><span class="sxs-lookup"><span data-stu-id="5e212-143">Identity Model</span></span>  
 <span data-ttu-id="5e212-144">Model tożsamości to zestaw interfejsów API, które umożliwiają zarządzanie oświadczeniami i zasadami autoryzowania klientów.</span><span class="sxs-lookup"><span data-stu-id="5e212-144">The Identity Model is a set of APIs that enable you to manage claims and policies to authorize clients.</span></span> <span data-ttu-id="5e212-145">Za pomocą modelu tożsamości można sprawdzić każde oświadczenie zawarte w poświadczeniach, które wywołujący używany do uwierzytelniania się do usługi, porównać oświadczenia z zestawem zasad dla usługi i udzielić lub odmówić dostępu na podstawie porównania.</span><span class="sxs-lookup"><span data-stu-id="5e212-145">With the Identity Model, you can examine every claim contained in credentials that the caller used to authenticate itself to the service, compare the claims to the set of policies for the service, and grant or deny access based on the comparison.</span></span>  
  
 <span data-ttu-id="5e212-146">Użyj modelu tożsamości, jeśli potrzebujesz precyzyjnej kontroli i możliwości ustawiania określonych kryteriów przed udzieleniem dostępu.</span><span class="sxs-lookup"><span data-stu-id="5e212-146">Use the Identity Model if you need fine control and the ability to set specific criteria before granting access.</span></span> <span data-ttu-id="5e212-147">Na przykład podczas <xref:System.Security.Permissions.PrincipalPermissionAttribute>korzystania z kryterium , kryterium jest po prostu, że tożsamość użytkownika jest uwierzytelniony i należy do określonej roli.</span><span class="sxs-lookup"><span data-stu-id="5e212-147">For example, when using the <xref:System.Security.Permissions.PrincipalPermissionAttribute>, the criterion is simply that the identity of the user is authenticated and belongs to a specific role.</span></span> <span data-ttu-id="5e212-148">Z drugiej strony za pomocą modelu tożsamości można utworzyć zasady, która stanowi, że użytkownik musi mieć więcej niż 18 lat i posiada ważne prawo jazdy przed zezwoleniem na wyświetlanie dokumentu.</span><span class="sxs-lookup"><span data-stu-id="5e212-148">In contrast, using the Identity Model, you can create a policy that states the user must be over 18 years of age and possesses a valid driver's license before being allowed to view a document.</span></span>  
  
 <span data-ttu-id="5e212-149">Jednym z przykładów, gdzie można korzystać z kontroli dostępu opartej na oświadczenia modelu tożsamości jest podczas korzystania z poświadczeń federacji w scenariuszu wystawionego tokenu.</span><span class="sxs-lookup"><span data-stu-id="5e212-149">One example where you can benefit from the Identity Model claim-based access control is when using federation credentials in the issued token scenario.</span></span> <span data-ttu-id="5e212-150">Aby uzyskać więcej informacji na temat federacji i wystawionych tokenów, zobacz [Federacja i wystawione tokeny](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="5e212-150">For more information about federation and issued tokens, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span>  
  
 <span data-ttu-id="5e212-151">Aby uzyskać więcej informacji na temat modelu tożsamości, zobacz [Zarządzanie roszczeniami i autoryzacją za pomocą modelu tożsamości](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md).</span><span class="sxs-lookup"><span data-stu-id="5e212-151">For more information about the Identity Model, see [Managing Claims and Authorization with the Identity Model](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5e212-152">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="5e212-152">See also</span></span>

- <xref:System.Security.Permissions.PrincipalPermissionAttribute>
- [<span data-ttu-id="5e212-153">Instrukcje: ograniczanie dostępu przy użyciu klasy PrincipalPermissionAttribute</span><span class="sxs-lookup"><span data-stu-id="5e212-153">How to: Restrict Access with the PrincipalPermissionAttribute Class</span></span>](../../../../docs/framework/wcf/how-to-restrict-access-with-the-principalpermissionattribute-class.md)
- [<span data-ttu-id="5e212-154">Instrukcje: Używanie dostawcy ról ASP.NET razem z usługą</span><span class="sxs-lookup"><span data-stu-id="5e212-154">How to: Use the ASP.NET Role Provider with a Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-role-provider-with-a-service.md)
- [<span data-ttu-id="5e212-155">Instrukcje: używanie dostawcy roli menedżera autoryzacji platformy ASP.NET za pomocą usługi</span><span class="sxs-lookup"><span data-stu-id="5e212-155">How to: Use the ASP.NET Authorization Manager Role Provider with a Service</span></span>](../../../../docs/framework/wcf/feature-details/how-to-use-the-aspnet-authorization-manager-role-provider-with-a-service.md)
- [<span data-ttu-id="5e212-156">Zarządzanie oświadczeniami i autoryzacją za pomocą modelu tożsamości</span><span class="sxs-lookup"><span data-stu-id="5e212-156">Managing Claims and Authorization with the Identity Model</span></span>](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md)
- [<span data-ttu-id="5e212-157">Delegowanie i personifikacja</span><span class="sxs-lookup"><span data-stu-id="5e212-157">Delegation and Impersonation</span></span>](../../../../docs/framework/wcf/feature-details/delegation-and-impersonation-with-wcf.md)
