---
title: Przegląd korelacji
ms.date: 03/30/2017
ms.assetid: edcc0315-5d26-44d6-a36d-ea554c418e9f
ms.openlocfilehash: 8d33022524a4619a57b04e7774918fd73d0bdef3
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/15/2020
ms.locfileid: "90552560"
---
# <a name="correlation-overview"></a><span data-ttu-id="e6cae-102">Przegląd korelacji</span><span class="sxs-lookup"><span data-stu-id="e6cae-102">Correlation Overview</span></span>
<span data-ttu-id="e6cae-103">Korelacja to mechanizm odnoszący się do wszystkich komunikatów usługi przepływu pracy lub do stanu wystąpienia aplikacji, na przykład odpowiedź na żądanie początkowe lub określony identyfikator zamówienia do stanu utrwalonego przepływu pracy przetwarzania zamówień.</span><span class="sxs-lookup"><span data-stu-id="e6cae-103">Correlation is the mechanism for relating workflow service messages to each other or to the application instance state, such as a reply to an initial request, or a particular order ID to the persisted state of an order-processing workflow.</span></span> <span data-ttu-id="e6cae-104">Ten temat zawiera omówienie korelacji.</span><span class="sxs-lookup"><span data-stu-id="e6cae-104">This topic provides an overview of correlation.</span></span> <span data-ttu-id="e6cae-105">W innych tematach w tej sekcji znajdują się dodatkowe informacje dotyczące poszczególnych typów korelacji.</span><span class="sxs-lookup"><span data-stu-id="e6cae-105">The other topics in this section provide additional information for each type of correlation.</span></span>  
  
## <a name="types-of-correlation"></a><span data-ttu-id="e6cae-106">Typy korelacji</span><span class="sxs-lookup"><span data-stu-id="e6cae-106">Types of Correlation</span></span>  
 <span data-ttu-id="e6cae-107">Korelacja może być oparta na protokole lub w oparciu o zawartość.</span><span class="sxs-lookup"><span data-stu-id="e6cae-107">Correlation can be protocol-based or content-based.</span></span> <span data-ttu-id="e6cae-108">Korelacje oparte na protokołach wykorzystują dane dostarczone przez infrastrukturę dostarczania komunikatów w celu zapewnienia mapowania między komunikatami.</span><span class="sxs-lookup"><span data-stu-id="e6cae-108">Protocol-based correlations use data provided by the message delivery infrastructure to provide the mapping between messages.</span></span> <span data-ttu-id="e6cae-109">Komunikaty, które są skorelowane przy użyciu korelacji opartej na protokole, są ze sobą powiązane przy użyciu obiektu w pamięci, takiego jak <xref:System.ServiceModel.Channels.RequestContext> lub przez token dostarczony przez protokół transportowy.</span><span class="sxs-lookup"><span data-stu-id="e6cae-109">Messages that are correlated using protocol-based correlation are related to each other using an object in memory, such as a <xref:System.ServiceModel.Channels.RequestContext>, or by a token provided by the transport protocol.</span></span> <span data-ttu-id="e6cae-110">Korelacje oparte na zawartości wiążą komunikaty ze sobą za pomocą danych określonych przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="e6cae-110">Content-based correlations relate messages to each other using application-specified data.</span></span> <span data-ttu-id="e6cae-111">Komunikaty, które są skorelowane przy użyciu korelacji opartej na zawartości, są ze sobą powiązane przez niektóre dane zdefiniowane przez aplikację w wiadomości, takie jak numer klienta.</span><span class="sxs-lookup"><span data-stu-id="e6cae-111">Messages that are correlated using content-based correlation are related to each other by some application-defined data in the message, such as a customer number.</span></span>  
  
 <span data-ttu-id="e6cae-112">Działania, które uczestniczą w korelacji, wykorzystują <xref:System.ServiceModel.Activities.CorrelationHandle> do łączenia działań związanych z wiadomościami.</span><span class="sxs-lookup"><span data-stu-id="e6cae-112">Activities that participate in correlation use a <xref:System.ServiceModel.Activities.CorrelationHandle> to tie the messaging activities together.</span></span> <span data-ttu-id="e6cae-113">Na przykład, <xref:System.ServiceModel.Activities.Send> który jest używany do wywołania usługi i kolejnej <xref:System.ServiceModel.Activities.Receive> , która jest używana do odbierania wywołania zwrotnego z usługi, należy ją udostępnić <xref:System.ServiceModel.Activities.CorrelationHandle> .</span><span class="sxs-lookup"><span data-stu-id="e6cae-113">For example, a <xref:System.ServiceModel.Activities.Send> that is used to call a service and a subsequent <xref:System.ServiceModel.Activities.Receive> that is used to receive a callback from the service, share the same <xref:System.ServiceModel.Activities.CorrelationHandle>.</span></span> <span data-ttu-id="e6cae-114">Ten podstawowy wzorzec jest używany niezależnie od tego, czy korelacja jest oparta na zawartości czy na protokole.</span><span class="sxs-lookup"><span data-stu-id="e6cae-114">This basic pattern is used whether the correlation is content based or protocol based.</span></span> <span data-ttu-id="e6cae-115">Dojście korelacji można jawnie ustawić dla każdego działania lub działania mogą być zawarte w <xref:System.ServiceModel.Activities.CorrelationScope> działaniu.</span><span class="sxs-lookup"><span data-stu-id="e6cae-115">The correlation handle can be explicitly set on each activity or the activities can be contained in a <xref:System.ServiceModel.Activities.CorrelationScope> activity.</span></span> <span data-ttu-id="e6cae-116">Działania zawarte w elemencie <xref:System.ServiceModel.Activities.CorrelationScope> mają uchwyty korelacji zarządzane przez obiekt <xref:System.ServiceModel.Activities.CorrelationScope> i nie wymagają <xref:System.ServiceModel.Activities.CorrelationHandle> jawnie ustawionej wartości.</span><span class="sxs-lookup"><span data-stu-id="e6cae-116">Activities contained in a <xref:System.ServiceModel.Activities.CorrelationScope> have their correlation handles managed by the <xref:System.ServiceModel.Activities.CorrelationScope> and do not require the <xref:System.ServiceModel.Activities.CorrelationHandle> to be explicitly set.</span></span> <span data-ttu-id="e6cae-117"><xref:System.ServiceModel.Activities.CorrelationScope>Zakres umożliwia <xref:System.ServiceModel.Activities.CorrelationHandle> Zarządzanie korelacją typu żądanie-odpowiedź i jednym dodatkowym typem korelacji.</span><span class="sxs-lookup"><span data-stu-id="e6cae-117">A <xref:System.ServiceModel.Activities.CorrelationScope> scope provides <xref:System.ServiceModel.Activities.CorrelationHandle> management for a request-reply correlation and one additional correlation type.</span></span> <span data-ttu-id="e6cae-118">Usługi przepływu pracy hostowane przy użyciu <xref:System.ServiceModel.Activities.WorkflowServiceHost> mają takie samo domyślne zarządzanie korelacją jak <xref:System.ServiceModel.Activities.CorrelationScope> działanie.</span><span class="sxs-lookup"><span data-stu-id="e6cae-118">Workflow services hosted using <xref:System.ServiceModel.Activities.WorkflowServiceHost> have the same default correlation management as the <xref:System.ServiceModel.Activities.CorrelationScope> activity.</span></span> <span data-ttu-id="e6cae-119">Domyślne zarządzanie korelacją zwykle oznacza, że w wielu scenariuszach działania obsługi komunikatów w <xref:System.ServiceModel.Activities.CorrelationScope> usłudze lub przepływie pracy nie wymagają ich <xref:System.ServiceModel.Activities.CorrelationHandle> zestawu, chyba że wiele działań związanych z przesyłaniem komunikatów jest równoległych lub nie nakłada się na siebie, takich jak dwie <xref:System.ServiceModel.Activities.Receive> działania równoległe lub dwie <xref:System.ServiceModel.Activities.Send> działania, po których następuje dwie <xref:System.ServiceModel.Activities.Receive> działania.</span><span class="sxs-lookup"><span data-stu-id="e6cae-119">This default correlation management generally means that in many scenarios, messaging activities in a <xref:System.ServiceModel.Activities.CorrelationScope> or a workflow service do not require their <xref:System.ServiceModel.Activities.CorrelationHandle> set unless multiple messaging activities are in parallel or overlap, such as two <xref:System.ServiceModel.Activities.Receive> activities in parallel, or two <xref:System.ServiceModel.Activities.Send> activities followed by two <xref:System.ServiceModel.Activities.Receive> activities.</span></span> <span data-ttu-id="e6cae-120">Więcej informacji o domyślnej korelacji znajduje się w tematach w tej sekcji, które obejmują poszczególne typy korelacji.</span><span class="sxs-lookup"><span data-stu-id="e6cae-120">More information about default correlation is provided in the topics in this section that cover each specific type of correlation.</span></span> <span data-ttu-id="e6cae-121">Aby uzyskać więcej informacji o działaniach związanych z obsługą wiadomości, zobacz [działania dotyczące komunikatów](messaging-activities.md) i [instrukcje: Tworzenie usługi przepływu pracy przy użyciu działań obsługi komunikatów](how-to-create-a-workflow-service-with-messaging-activities.md).</span><span class="sxs-lookup"><span data-stu-id="e6cae-121">For more information about messaging activities see [Messaging Activities](messaging-activities.md) and [How to: Create a Workflow Service with Messaging Activities](how-to-create-a-workflow-service-with-messaging-activities.md).</span></span>  
  
## <a name="protocol-based-correlation"></a><span data-ttu-id="e6cae-122">Korelacja oparta na protokole</span><span class="sxs-lookup"><span data-stu-id="e6cae-122">Protocol-Based Correlation</span></span>

<span data-ttu-id="e6cae-123">Korelacja oparta na protokole używa mechanizmu transportu do powiązania komunikatów ze sobą i odpowiednim wystąpieniem.</span><span class="sxs-lookup"><span data-stu-id="e6cae-123">Protocol-based correlation uses the transport mechanism to relate messages to each other and the appropriate instance.</span></span> <span data-ttu-id="e6cae-124">Niektóre korelacje protokołu dostarczone przez system obejmują korelację żądania i odpowiedzi oraz korelację opartą na kontekście.</span><span class="sxs-lookup"><span data-stu-id="e6cae-124">Some system-provided protocol correlations include request-reply correlation and context-based correlation.</span></span> <span data-ttu-id="e6cae-125">Korelacja typu żądanie-odpowiedź służy do skorelowania pojedynczej pary działań związanych z przesyłaniem komunikatów w celu utworzenia operacji dwukierunkowej, na przykład <xref:System.ServiceModel.Activities.Send> pary z <xref:System.ServiceModel.Activities.ReceiveReply> lub <xref:System.ServiceModel.Activities.Receive> sparowanych z <xref:System.ServiceModel.Activities.SendReply> .</span><span class="sxs-lookup"><span data-stu-id="e6cae-125">A request-reply correlation is used to correlate a single pair of messaging activities to form a two-way operation, such as a <xref:System.ServiceModel.Activities.Send> paired with a <xref:System.ServiceModel.Activities.ReceiveReply>, or a <xref:System.ServiceModel.Activities.Receive> paired with a <xref:System.ServiceModel.Activities.SendReply>.</span></span> <span data-ttu-id="e6cae-126">Program Visual Studio Projektant przepływu pracy udostępnia również zestaw szablonów działań, aby szybko zaimplementować ten wzorzec.</span><span class="sxs-lookup"><span data-stu-id="e6cae-126">The Visual Studio Workflow Designer also provides a set of activity templates to quickly implement this pattern.</span></span> <span data-ttu-id="e6cae-127">Korelacja oparta na kontekście jest oparta na mechanizmie wymiany kontekstu opisanym w [specyfikacji protokołu Exchange kontekstu programu .NET](/openspecs/windows_protocols/mc-netcex/a7f26280-491f-465b-9914-c5eb5322dbb4).</span><span class="sxs-lookup"><span data-stu-id="e6cae-127">A context-based correlation is based on the context exchange mechanism described in the [.NET Context Exchange Protocol Specification](/openspecs/windows_protocols/mc-netcex/a7f26280-491f-465b-9914-c5eb5322dbb4).</span></span> <span data-ttu-id="e6cae-128">Aby można było użyć korelacji opartej na kontekście, <xref:System.ServiceModel.BasicHttpContextBinding> <xref:System.ServiceModel.WSHttpContextBinding> <xref:System.ServiceModel.NetTcpContextBinding> w punkcie końcowym należy użyć powiązania opartego na kontekście, takiego jak lub.</span><span class="sxs-lookup"><span data-stu-id="e6cae-128">To use context-based correlation, a context-based binding such as <xref:System.ServiceModel.BasicHttpContextBinding>, <xref:System.ServiceModel.WSHttpContextBinding> or <xref:System.ServiceModel.NetTcpContextBinding> must be used on the endpoint.</span></span>  
  
<span data-ttu-id="e6cae-129">Aby uzyskać więcej informacji na temat korelacji protokołów, zobacz [trwałe dupleks](durable-duplex-correlation.md) i [żądanie-odpowiedź](request-reply-correlation.md).</span><span class="sxs-lookup"><span data-stu-id="e6cae-129">For more information about protocol correlation, see [Durable Duplex](durable-duplex-correlation.md) and [Request-Reply](request-reply-correlation.md).</span></span> <span data-ttu-id="e6cae-130">Aby uzyskać więcej informacji o korzystaniu z szablonów działania Projektant przepływu pracy programu Visual Studio, zobacz [działania dotyczące komunikatów](messaging-activities.md).</span><span class="sxs-lookup"><span data-stu-id="e6cae-130">For more information about using the Visual Studio Workflow Designer activity templates, see [Messaging Activities](messaging-activities.md).</span></span> <span data-ttu-id="e6cae-131">Aby zapoznać się z przykładowym kodem, zobacz przykład [NetContextExchangeCorrelation](/previous-versions/dotnet/netframework-4.0/ee662963(v=vs.100)) .</span><span class="sxs-lookup"><span data-stu-id="e6cae-131">For sample code, see the [NetContextExchangeCorrelation](/previous-versions/dotnet/netframework-4.0/ee662963(v=vs.100)) sample.</span></span>  
  
## <a name="content-based-correlation"></a><span data-ttu-id="e6cae-132">Korelacja oparta na zawartości</span><span class="sxs-lookup"><span data-stu-id="e6cae-132">Content-Based Correlation</span></span>

<span data-ttu-id="e6cae-133">Korelacja oparta na zawartości używa niektórych informacji w komunikacie, aby skojarzyć je z określonym wystąpieniem.</span><span class="sxs-lookup"><span data-stu-id="e6cae-133">Content-based correlation uses some piece of information in the message to associate it to a particular instance.</span></span> <span data-ttu-id="e6cae-134">W przeciwieństwie do korelacji opartej na protokole, korelacja oparta na zawartości wymaga, aby autor aplikacji jawnie wskazywał, gdzie te dane znajdują się w poszczególnych wiadomościach pokrewnych.</span><span class="sxs-lookup"><span data-stu-id="e6cae-134">Unlike protocol-based correlation, content-based correlation requires the application author to explicitly state where this data can be found in each related message.</span></span> <span data-ttu-id="e6cae-135">Działania, które używają korelacji opartej na zawartości, określają te dane komunikatu przy użyciu <xref:System.ServiceModel.MessageQuerySet> .</span><span class="sxs-lookup"><span data-stu-id="e6cae-135">Activities that use content-based correlation specify this message data by using a <xref:System.ServiceModel.MessageQuerySet>.</span></span> <span data-ttu-id="e6cae-136">Korelacja oparta na zawartości jest przydatna podczas komunikowania się z usługami, które nie korzystają z jednego z powiązań kontekstu, takich jak <xref:System.ServiceModel.BasicHttpContextBinding> .</span><span class="sxs-lookup"><span data-stu-id="e6cae-136">Content-based correlation is useful when communicating with services that do not use one of the context bindings such as <xref:System.ServiceModel.BasicHttpContextBinding>.</span></span>
  
## <a name="see-also"></a><span data-ttu-id="e6cae-137">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="e6cae-137">See also</span></span>

- <span data-ttu-id="e6cae-138">[NetContextExchangeCorrelation](/previous-versions/dotnet/netframework-4.0/ee662963(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="e6cae-138">[NetContextExchangeCorrelation](/previous-versions/dotnet/netframework-4.0/ee662963(v=vs.100))</span></span>
