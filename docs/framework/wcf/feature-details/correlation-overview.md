---
title: Przegląd korelacji
ms.date: 03/30/2017
ms.assetid: edcc0315-5d26-44d6-a36d-ea554c418e9f
ms.openlocfilehash: cb11f65a30c6bdf5a1d910402ef58446c03a5491
ms.sourcegitcommit: c01c18755bb7b0f82c7232314ccf7955ea7834db
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/15/2020
ms.locfileid: "75963944"
---
# <a name="correlation-overview"></a>Przegląd korelacji
Korelacja to mechanizm odnoszący się do wszystkich komunikatów usługi przepływu pracy lub do stanu wystąpienia aplikacji, na przykład odpowiedź na żądanie początkowe lub określony identyfikator zamówienia do stanu utrwalonego przepływu pracy przetwarzania zamówień. Ten temat zawiera omówienie korelacji. W innych tematach w tej sekcji znajdują się dodatkowe informacje dotyczące poszczególnych typów korelacji.  
  
## <a name="types-of-correlation"></a>Typy korelacji  
 Korelacja może być oparta na protokole lub w oparciu o zawartość. Korelacje oparte na protokołach wykorzystują dane dostarczone przez infrastrukturę dostarczania komunikatów w celu zapewnienia mapowania między komunikatami. Komunikaty, które są skorelowane przy użyciu korelacji opartej na protokole, są ze sobą powiązane przy użyciu obiektu w pamięci, takiego jak <xref:System.ServiceModel.Channels.RequestContext>lub token dostarczony przez protokół transportowy. Korelacje oparte na zawartości wiążą komunikaty ze sobą za pomocą danych określonych przez aplikację. Komunikaty, które są skorelowane przy użyciu korelacji opartej na zawartości, są ze sobą powiązane przez niektóre dane zdefiniowane przez aplikację w wiadomości, takie jak numer klienta.  
  
 Działania, które uczestniczą w korelacji, używają <xref:System.ServiceModel.Activities.CorrelationHandle> do łączenia działań związanych z wiadomościami. Na przykład <xref:System.ServiceModel.Activities.Send>, która jest używana do wywoływania usługi i kolejne <xref:System.ServiceModel.Activities.Receive>, która jest używana do odbierania wywołania zwrotnego z usługi, współdzielą te same <xref:System.ServiceModel.Activities.CorrelationHandle>. Ten podstawowy wzorzec jest używany niezależnie od tego, czy korelacja jest oparta na zawartości czy na protokole. Dojście korelacji można jawnie ustawić dla każdego działania lub działania mogą być zawarte w działaniu <xref:System.ServiceModel.Activities.CorrelationScope>. Działania zawarte w <xref:System.ServiceModel.Activities.CorrelationScope> mają uchwyty korelacji zarządzane przez <xref:System.ServiceModel.Activities.CorrelationScope> i nie wymagają jawnego ustawiania <xref:System.ServiceModel.Activities.CorrelationHandle>. Zakres <xref:System.ServiceModel.Activities.CorrelationScope> zapewnia <xref:System.ServiceModel.Activities.CorrelationHandle> zarządzania dla korelacji typu żądanie-odpowiedź i jednego dodatkowego typu korelacji. Usługi przepływu pracy hostowane przy użyciu <xref:System.ServiceModel.Activities.WorkflowServiceHost> mają takie samo domyślne zarządzanie korelacją jak działanie <xref:System.ServiceModel.Activities.CorrelationScope>. To domyślne zarządzanie korelacją zwykle oznacza, że w wielu scenariuszach działania obsługi komunikatów w <xref:System.ServiceModel.Activities.CorrelationScope> lub usłudze przepływu pracy nie wymagają ich <xref:System.ServiceModel.Activities.CorrelationHandle>, chyba że wiele działań związanych z obsługą komunikatów jest równoległych lub nie nakłada się na siebie, takich jak dwie <xref:System.ServiceModel.Activities.Receive> działania równolegle lub dwie działania <xref:System.ServiceModel.Activities.Send>, po których następuje dwie działania <xref:System.ServiceModel.Activities.Receive>. Więcej informacji o domyślnej korelacji znajduje się w tematach w tej sekcji, które obejmują poszczególne typy korelacji. Aby uzyskać więcej informacji o działaniach związanych z obsługą wiadomości, zobacz [działania dotyczące komunikatów](../../../../docs/framework/wcf/feature-details/messaging-activities.md) i [instrukcje: Tworzenie usługi przepływu pracy przy użyciu działań obsługi komunikatów](../../../../docs/framework/wcf/feature-details/how-to-create-a-workflow-service-with-messaging-activities.md).  
  
## <a name="protocol-based-correlation"></a>Korelacja oparta na protokole

Korelacja oparta na protokole używa mechanizmu transportu do powiązania komunikatów ze sobą i odpowiednim wystąpieniem. Niektóre korelacje protokołu dostarczone przez system obejmują korelację żądania i odpowiedzi oraz korelację opartą na kontekście. Korelacja typu żądanie-odpowiedź służy do skorelowania pojedynczej pary działań związanych z przesyłaniem komunikatów w celu utworzenia dwukierunkowej operacji, takiej jak <xref:System.ServiceModel.Activities.Send> sparowany z <xref:System.ServiceModel.Activities.ReceiveReply>lub <xref:System.ServiceModel.Activities.Receive> sparowany z <xref:System.ServiceModel.Activities.SendReply>. Program Visual Studio Projektant przepływu pracy udostępnia również zestaw szablonów działań, aby szybko zaimplementować ten wzorzec. Korelacja oparta na kontekście jest oparta na mechanizmie wymiany kontekstu opisanym w [specyfikacji protokołu Exchange kontekstu programu .NET](https://docs.microsoft.com/openspecs/windows_protocols/mc-netcex/a7f26280-491f-465b-9914-c5eb5322dbb4). Aby można było korzystać z korelacji opartej na kontekście, w punkcie końcowym należy używać powiązania opartego na kontekście, takiego jak <xref:System.ServiceModel.BasicHttpContextBinding>, <xref:System.ServiceModel.WSHttpContextBinding> lub <xref:System.ServiceModel.NetTcpContextBinding>.  
  
Aby uzyskać więcej informacji na temat korelacji protokołów, zobacz [trwałe dupleks](../../../../docs/framework/wcf/feature-details/durable-duplex-correlation.md) i [żądanie-odpowiedź](../../../../docs/framework/wcf/feature-details/request-reply-correlation.md). Aby uzyskać więcej informacji o korzystaniu z szablonów działania Projektant przepływu pracy programu Visual Studio, zobacz [działania dotyczące komunikatów](../../../../docs/framework/wcf/feature-details/messaging-activities.md). Aby zapoznać się z przykładowym kodem, zobacz przykład [NetContextExchangeCorrelation](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ee662963%28v%3dvs.100%29) .  
  
## <a name="content-based-correlation"></a>Korelacja oparta na zawartości

Korelacja oparta na zawartości używa niektórych informacji w komunikacie, aby skojarzyć je z określonym wystąpieniem. W przeciwieństwie do korelacji opartej na protokole, korelacja oparta na zawartości wymaga, aby autor aplikacji jawnie wskazywał, gdzie te dane znajdują się w poszczególnych wiadomościach pokrewnych. Działania korzystające z korelacji opartej na zawartości określają te dane komunikatu przy użyciu <xref:System.ServiceModel.MessageQuerySet>. Korelacja oparta na zawartości jest przydatna podczas komunikowania się z usługami, które nie korzystają z jednego z powiązań kontekstu, takich jak <xref:System.ServiceModel.BasicHttpContextBinding>.
  
## <a name="see-also"></a>Zobacz także

- [NetContextExchangeCorrelation](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ee662963%28v%3dvs.100%29)
