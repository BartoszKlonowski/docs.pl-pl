---
title: Najlepsze rozwiązania dotyczące komunikacji z obsługą kolejek
ms.date: 03/30/2017
helpviewer_keywords:
- queues [WCF], best practices
- best practices [WCF], queued communication
ms.assetid: 446a6383-cae3-4338-b193-a33c14a49948
ms.openlocfilehash: af9ed7d64a60042297e071262be7610c4d791a51
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/09/2020
ms.locfileid: "84601351"
---
# <a name="best-practices-for-queued-communication"></a><span data-ttu-id="6fb3a-102">Najlepsze rozwiązania dotyczące komunikacji z obsługą kolejek</span><span class="sxs-lookup"><span data-stu-id="6fb3a-102">Best Practices for Queued Communication</span></span>
<span data-ttu-id="6fb3a-103">Ten temat zawiera zalecane praktyki komunikacji w kolejce w programie Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="6fb3a-103">This topic provides recommended practices for queued communication in Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="6fb3a-104">W poniższych sekcjach omówiono zalecane praktyki z perspektywy scenariusza.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-104">The following sections discuss recommended practices from a scenario perspective.</span></span>  
  
## <a name="fast-best-effort-queued-messaging"></a><span data-ttu-id="6fb3a-105">Szybka, Optymalna obsługa wiadomości w kolejce</span><span class="sxs-lookup"><span data-stu-id="6fb3a-105">Fast, Best-Effort Queued Messaging</span></span>  
 <span data-ttu-id="6fb3a-106">W przypadku scenariuszy, które wymagają rozdzielenia, że obsługa komunikatów w kolejce zapewnia wysoką wydajność i szybkie przesyłanie komunikatów o wysokiej wydajności z gwarancjami najlepszego wysiłku, użyj kolejki nietransakcyjnej i ustaw <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> Właściwość na `false` .</span><span class="sxs-lookup"><span data-stu-id="6fb3a-106">For scenarios that require separation that queued messaging provides and fast, high-performance messaging with best-effort assurances, use a non-transactional queue and set the <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> property to `false`.</span></span>  
  
 <span data-ttu-id="6fb3a-107">Ponadto możesz zrezygnować z ponoszenia kosztów zapisu na dysku przez ustawienie <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> właściwości na `false` .</span><span class="sxs-lookup"><span data-stu-id="6fb3a-107">In addition, you can choose not to incur the cost of disk writes by setting the <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> property to `false`.</span></span>  
  
 <span data-ttu-id="6fb3a-108">Zabezpieczenia mają wpływ na wydajność.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-108">Security has implications on performance.</span></span> <span data-ttu-id="6fb3a-109">Aby uzyskać więcej informacji, zobacz [zagadnienia dotyczące wydajności](performance-considerations.md).</span><span class="sxs-lookup"><span data-stu-id="6fb3a-109">For more information, see [Performance Considerations](performance-considerations.md).</span></span>  
  
## <a name="reliable-end-to-end-queued-messaging"></a><span data-ttu-id="6fb3a-110">Niezawodna kompleksowa obsługa komunikatów w kolejce</span><span class="sxs-lookup"><span data-stu-id="6fb3a-110">Reliable End-to-End Queued Messaging</span></span>  
 <span data-ttu-id="6fb3a-111">W poniższych sekcjach opisano zalecane praktyki dotyczące scenariuszy, które wymagają kompleksowej niezawodnej obsługi komunikatów.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-111">The following sections describe recommended practices for scenarios that require end-to-end reliable messaging.</span></span>  
  
### <a name="basic-reliable-transfer"></a><span data-ttu-id="6fb3a-112">Podstawowy niezawodny transfer</span><span class="sxs-lookup"><span data-stu-id="6fb3a-112">Basic Reliable Transfer</span></span>  
 <span data-ttu-id="6fb3a-113">Aby zapewnić kompleksową niezawodność, należy ustawić <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> Właściwość na, aby `true` upewnić się, że transfer.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-113">For end-to-end reliability, set the <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> property to `true` to ensure transfer.</span></span> <span data-ttu-id="6fb3a-114"><xref:System.ServiceModel.MsmqBindingBase.Durable%2A>Właściwość może być ustawiona na wartość `true` lub `false` w zależności od wymagań (wartość domyślna to `true` ).</span><span class="sxs-lookup"><span data-stu-id="6fb3a-114">The <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> property can be set to `true` or `false` depending on your requirements (the default is `true`).</span></span> <span data-ttu-id="6fb3a-115">Ogólnie rzecz biorąc <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> Właściwość jest ustawiana `true` jako część kompleksowej niezawodności.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-115">Generally, the <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> property is set to `true` as part of end-to-end reliability.</span></span> <span data-ttu-id="6fb3a-116">Kompromisem jest koszt wydajności, ale zapewnia trwały komunikat, dzięki czemu komunikat nie zostanie utracony w przypadku awarii Menedżera kolejki.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-116">The compromise is a performance cost, but makes the message durable so that the message is not lost if a queue manager crashes.</span></span>  
  
### <a name="use-of-transactions"></a><span data-ttu-id="6fb3a-117">Korzystanie z transakcji</span><span class="sxs-lookup"><span data-stu-id="6fb3a-117">Use of Transactions</span></span>  
 <span data-ttu-id="6fb3a-118">Aby zapewnić kompleksową niezawodność, należy użyć transakcji.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-118">You must use transactions to ensure end-to-end reliability.</span></span> <span data-ttu-id="6fb3a-119">`ExactlyOnce`Gwarancja gwarantuje, że komunikaty są dostarczane do kolejki docelowej.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-119">`ExactlyOnce` assurances only ensure that messages are delivered to the target queue.</span></span> <span data-ttu-id="6fb3a-120">Aby upewnić się, że wiadomość zostanie odebrana, użyj transakcji.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-120">To ensure that the message is received, use transactions.</span></span> <span data-ttu-id="6fb3a-121">Bez transakcji, jeśli usługa ulegnie awarii, utracisz komunikat, który jest dostarczany, ale faktycznie dostarczany do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-121">Without transactions, if the service crashes, you lose the message that is being delivered but is actually delivered to the application.</span></span>  
  
### <a name="use-of-dead-letter-queues"></a><span data-ttu-id="6fb3a-122">Korzystanie z kolejek z utraconymi wiadomościami</span><span class="sxs-lookup"><span data-stu-id="6fb3a-122">Use of Dead-letter Queues</span></span>  
 <span data-ttu-id="6fb3a-123">Kolejki utraconych wiadomości upewnij się, że otrzymasz powiadomienie o niepowodzeniu dostarczenia komunikatu do kolejki docelowej.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-123">Dead-letter queues ensure that you are notified if a message fails to be delivered to the target queue.</span></span> <span data-ttu-id="6fb3a-124">Można użyć kolejki utraconych wiadomości dostarczonych przez system lub niestandardowej kolejki utraconych wiadomości.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-124">You can use the system-provided dead-letter queue or a custom dead-letter queue.</span></span> <span data-ttu-id="6fb3a-125">Ogólnie rzecz biorąc, używanie niestandardowej kolejki utraconych wiadomości jest najlepszym rozwiązaniem, ponieważ umożliwia wysyłanie wiadomości utraconych z jednej aplikacji do pojedynczej kolejki utraconych wiadomości.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-125">In general, using a custom dead-letter queue is best because it enables you to send dead-letter messages from one application into a single dead-letter queue.</span></span> <span data-ttu-id="6fb3a-126">W przeciwnym razie wszystkie wiadomości utracone, które wystąpiły dla wszystkich aplikacji uruchomionych w systemie, są dostarczane do pojedynczej kolejki.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-126">Otherwise, all dead-letter messages that occur for all applications running on the system are delivered to a single queue.</span></span> <span data-ttu-id="6fb3a-127">Każda aplikacja musi następnie przeszukać kolejkę utraconych wiadomości, aby znaleźć komunikaty utraconych danych, które są istotne dla danej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-127">Each application must then search though the dead-letter queue to find the dead-letter messages that are relevant to that application.</span></span> <span data-ttu-id="6fb3a-128">Czasami użycie niestandardowej kolejki utraconych wiadomości nie jest możliwe, na przykład w przypadku korzystania z usługi MSMQ 3,0.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-128">Sometimes, using a custom dead-letter queue is not feasible, such as when using MSMQ 3.0.</span></span>  
  
 <span data-ttu-id="6fb3a-129">Nie zaleca się wyłączania kolejek z utraconymi wiadomościami w celu zapewnienia komunikacji niezawodnej.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-129">Turning off dead-letter queues for end-to-end reliable communication is not recommended.</span></span>  
  
 <span data-ttu-id="6fb3a-130">Aby uzyskać więcej informacji, zobacz [Korzystanie z kolejek utraconych w celu obsługi niepowodzeń transferu komunikatów](using-dead-letter-queues-to-handle-message-transfer-failures.md).</span><span class="sxs-lookup"><span data-stu-id="6fb3a-130">For more information, see [Using Dead-Letter Queues to Handle Message Transfer Failures](using-dead-letter-queues-to-handle-message-transfer-failures.md).</span></span>  
  
### <a name="use-of-poison-message-handling"></a><span data-ttu-id="6fb3a-131">Korzystanie z obsługi komunikatów trujących</span><span class="sxs-lookup"><span data-stu-id="6fb3a-131">Use of Poison-Message Handling</span></span>  
 <span data-ttu-id="6fb3a-132">Obsługa komunikatów trujących zapewnia możliwość odzyskania sprawności po niepowodzeniu przetwarzania komunikatów.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-132">Poison-message handling provides the ability to recover from the failure to process messages.</span></span>  
  
 <span data-ttu-id="6fb3a-133">W przypadku korzystania z funkcji Trująca obsługa komunikatów upewnij się, że <xref:System.ServiceModel.MsmqBindingBase.ReceiveErrorHandling%2A> Właściwość ma ustawioną odpowiednią wartość.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-133">When using the poison-message handling feature, ensure that the <xref:System.ServiceModel.MsmqBindingBase.ReceiveErrorHandling%2A> property is set to the appropriate value.</span></span> <span data-ttu-id="6fb3a-134">Ustawienie to <xref:System.ServiceModel.ReceiveErrorHandling.Drop> oznacza, że dane zostaną utracone.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-134">Setting it to <xref:System.ServiceModel.ReceiveErrorHandling.Drop> means the data is lost.</span></span> <span data-ttu-id="6fb3a-135">Z drugiej strony, ustawiając ją na <xref:System.ServiceModel.ReceiveErrorHandling.Fault> Błędy hosta usługi, gdy wykryje trujący komunikat.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-135">On the other hand, setting it to <xref:System.ServiceModel.ReceiveErrorHandling.Fault> faults the service host when it detects a poison message.</span></span> <span data-ttu-id="6fb3a-136">W przypadku korzystania z usługi MSMQ 3,0 <xref:System.ServiceModel.ReceiveErrorHandling.Fault> najlepszym rozwiązaniem jest uniknięcie utraty danych i przeniesienie skażonego komunikatu z metody.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-136">Using MSMQ 3.0, <xref:System.ServiceModel.ReceiveErrorHandling.Fault> is the best option to avoid data loss and move the poison message out of the way.</span></span> <span data-ttu-id="6fb3a-137"><xref:System.ServiceModel.ReceiveErrorHandling.Move>Zalecanym podejściem jest użycie usługi MSMQ 4,0.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-137">Using MSMQ 4.0, <xref:System.ServiceModel.ReceiveErrorHandling.Move> is the recommended approach.</span></span> <span data-ttu-id="6fb3a-138"><xref:System.ServiceModel.ReceiveErrorHandling.Move>przenosi trującą wiadomość z kolejki, aby usługa mogła nadal przetwarzać nowe komunikaty.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-138"><xref:System.ServiceModel.ReceiveErrorHandling.Move> moves a poisoned message out of the queue so the service can continue to process new messages.</span></span> <span data-ttu-id="6fb3a-139">Nieskażony komunikat może następnie przetworzyć trujący komunikat osobno.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-139">The poison-message service can then process the poison message separately.</span></span>  
  
 <span data-ttu-id="6fb3a-140">Aby uzyskać więcej informacji, zobacz [Obsługa skażonych komunikatów](poison-message-handling.md).</span><span class="sxs-lookup"><span data-stu-id="6fb3a-140">For more information, see [Poison Message Handling](poison-message-handling.md).</span></span>  
  
## <a name="achieving-high-throughput"></a><span data-ttu-id="6fb3a-141">Osiągnięcie dużej przepływności</span><span class="sxs-lookup"><span data-stu-id="6fb3a-141">Achieving High Throughput</span></span>  
 <span data-ttu-id="6fb3a-142">Aby osiągnąć wysoką przepływność w jednym punkcie końcowym, użyj następujących:</span><span class="sxs-lookup"><span data-stu-id="6fb3a-142">To achieve high throughput on a single endpoint, use the following:</span></span>  
  
- <span data-ttu-id="6fb3a-143">Przetwarzanie wsadowe transakcyjne.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-143">Transacted batching.</span></span> <span data-ttu-id="6fb3a-144">Transakcyjna Partia zadań zapewnia, że wiele komunikatów może być odczytywanych w jednej transakcji.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-144">Transacted batching ensures that many messages can be read in a single transaction.</span></span> <span data-ttu-id="6fb3a-145">Umożliwia to optymalizację zatwierdzeń transakcji, co zwiększa ogólną wydajność.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-145">This optimizes transaction commits, increasing overall performance.</span></span> <span data-ttu-id="6fb3a-146">Koszt przetwarzania wsadowego polega na tym, że jeśli wystąpi błąd w pojedynczym komunikacie w ramach partii, cała partia zostanie wycofana, a komunikaty muszą być przetwarzane pojedynczo do momentu, aż będzie można bezpiecznie wykonać operację wsadową.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-146">The cost of batching is that if a failure occurs in a single message within a batch, then the entire batch is rolled back and the messages must be processed one at a time until it is safe to batch again.</span></span> <span data-ttu-id="6fb3a-147">W większości przypadków trujące komunikaty są rzadkie, więc przetwarzanie wsadowe jest preferowanym sposobem zwiększenia wydajności systemu, szczególnie w przypadku innych menedżerów zasobów, które uczestniczą w transakcji.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-147">In most cases, poison messages are rare, so batching is the preferred way to increase system performance, particularly when you have other resource managers that participate in the transaction.</span></span> <span data-ttu-id="6fb3a-148">Aby uzyskać więcej informacji, zobacz Tworzenie [wsadowe komunikatów w transakcji](batching-messages-in-a-transaction.md).</span><span class="sxs-lookup"><span data-stu-id="6fb3a-148">For more information, see [Batching Messages in a Transaction](batching-messages-in-a-transaction.md).</span></span>  
  
- <span data-ttu-id="6fb3a-149">Współbieżności.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-149">Concurrency.</span></span> <span data-ttu-id="6fb3a-150">Współbieżność zwiększa przepływność, ale współbieżność wpływa również na rywalizację o zasoby udostępnione.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-150">Concurrency increases throughput, but concurrency also affects contention to shared resources.</span></span> <span data-ttu-id="6fb3a-151">Aby uzyskać więcej informacji, zobacz [concurrency](../samples/concurrency.md).</span><span class="sxs-lookup"><span data-stu-id="6fb3a-151">For more information, see [Concurrency](../samples/concurrency.md).</span></span>  
  
- <span data-ttu-id="6fb3a-152">Ograniczania.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-152">Throttling.</span></span> <span data-ttu-id="6fb3a-153">W celu uzyskania optymalnej wydajności Ogranicz liczbę komunikatów w potoku dyspozytora.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-153">For optimal performance, throttle the number of messages in the dispatcher pipeline.</span></span> <span data-ttu-id="6fb3a-154">Aby zapoznać się z przykładem, jak to zrobić, zobacz [ograniczanie](../samples/throttling.md).</span><span class="sxs-lookup"><span data-stu-id="6fb3a-154">For an example of how to do this, see [Throttling](../samples/throttling.md).</span></span>  
  
 <span data-ttu-id="6fb3a-155">Podczas korzystania z usługi Batch należy pamiętać, że współbieżność i ograniczanie przepustowości są tłumaczone na współbieżne partie.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-155">When using batching, be aware that concurrency and throttling translate to concurrent batches.</span></span>  
  
 <span data-ttu-id="6fb3a-156">Aby osiągnąć wyższą przepływność i dostępność, użyj farmy usług WCF odczytanych z kolejki.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-156">To achieve higher throughput and availability, use a farm of WCF services that read from the queue.</span></span> <span data-ttu-id="6fb3a-157">Wymaga to, aby wszystkie te usługi uwidaczniali ten sam kontrakt w tym samym punkcie końcowym.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-157">This requires that all of these services expose the same contract on the same endpoint.</span></span> <span data-ttu-id="6fb3a-158">Podejście farmy działa najlepiej w przypadku aplikacji, które mają wysoką szybkość produkcyjną komunikatów, ponieważ umożliwia ona wszystkim usługom odczytywanie z tej samej kolejki.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-158">The farm approach works best for applications that have high production rates of messages because it enables a number of services to all read from the same queue.</span></span>  
  
 <span data-ttu-id="6fb3a-159">W przypadku korzystania z Farm należy pamiętać, że usługa MSMQ 3,0 nie obsługuje zdalnych operacji odczytu.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-159">When using farms, be aware that MSMQ 3.0 does not support remote transacted reads.</span></span> <span data-ttu-id="6fb3a-160">Usługa MSMQ 4,0 obsługuje zdalne odczyty transakcyjne.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-160">MSMQ 4.0 does support remote transacted reads.</span></span>  
  
 <span data-ttu-id="6fb3a-161">Aby uzyskać więcej informacji, zobacz Tworzenie [wsadowe komunikatów w transakcji](batching-messages-in-a-transaction.md) i [różnice w funkcjach kolejkowania w systemach Windows Vista, Windows Server 2003 i Windows XP](diff-in-queue-in-vista-server-2003-windows-xp.md).</span><span class="sxs-lookup"><span data-stu-id="6fb3a-161">For more information, see [Batching Messages in a Transaction](batching-messages-in-a-transaction.md) and [Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP](diff-in-queue-in-vista-server-2003-windows-xp.md).</span></span>  
  
## <a name="queuing-with-unit-of-work-semantics"></a><span data-ttu-id="6fb3a-162">Kolejkowanie przy użyciu semantyki jednostki pracy</span><span class="sxs-lookup"><span data-stu-id="6fb3a-162">Queuing with Unit of Work Semantics</span></span>  
 <span data-ttu-id="6fb3a-163">W niektórych scenariuszach Grupa komunikatów w kolejce może być powiązana i dlatego kolejność tych komunikatów jest istotna.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-163">In some scenarios a group of messages in a queue may be related and, therefore, the ordering of these messages is significant.</span></span> <span data-ttu-id="6fb3a-164">W takich scenariuszach przetwarzanie grupy powiązanych komunikatów odbywa się wraz z pojedynczą jednostką: wszystkie komunikaty są przetwarzane pomyślnie lub nie są.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-164">In such scenarios, process a group of related messages together as a single unit: either all of the messages are processed successfully or none are.</span></span> <span data-ttu-id="6fb3a-165">Aby zaimplementować takie zachowanie, użyj sesji z kolejkami.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-165">To implement such behavior, use sessions with queues.</span></span>  
  
 <span data-ttu-id="6fb3a-166">Aby uzyskać więcej informacji, zobacz [grupowanie komunikatów umieszczonych w kolejce w sesji](grouping-queued-messages-in-a-session.md).</span><span class="sxs-lookup"><span data-stu-id="6fb3a-166">For more information, see [Grouping Queued Messages in a Session](grouping-queued-messages-in-a-session.md).</span></span>  
  
## <a name="correlating-request-reply-messages"></a><span data-ttu-id="6fb3a-167">Skorelowanie komunikatów z odpowiedzią na żądanie</span><span class="sxs-lookup"><span data-stu-id="6fb3a-167">Correlating Request-Reply Messages</span></span>  
 <span data-ttu-id="6fb3a-168">Chociaż kolejki są zwykle jednokierunkowe, w niektórych scenariuszach może być konieczne skorelowanie odpowiedzi odebranej wcześniej wysłanego żądania.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-168">Though queues are typically one-way, in some scenarios you may want to correlate a reply received to a request sent earlier.</span></span> <span data-ttu-id="6fb3a-169">Jeśli wymagana jest taka korelacja, zaleca się zastosowanie własnego nagłówka komunikatu protokołu SOAP zawierającego informacje o korelacji z wiadomością.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-169">If you require such correlation, it is recommended that you apply your own SOAP message header that contains correlation information with the message.</span></span> <span data-ttu-id="6fb3a-170">Zazwyczaj nadawca dołącza ten nagłówek wraz z wiadomością i odbiorcę, po przetworzeniu komunikatu i odpowiedzeniu z powrotem przy użyciu nowej wiadomości w kolejce odpowiedzi dołącza nagłówek komunikatu nadawcy, który zawiera informacje o korelacji, dzięki czemu nadawca może zidentyfikować komunikat odpowiedzi z żądaniem.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-170">Typically, the sender attaches this header with the message, and the receiver, upon processing the message and replying back with a new message on a reply queue, attaches the sender's message header that contains the correlation information so that the sender can identify the reply message with the request message.</span></span>  
  
## <a name="integrating-with-non-wcf-applications"></a><span data-ttu-id="6fb3a-171">Integrowanie z aplikacjami nieobsługującymi usług WCF</span><span class="sxs-lookup"><span data-stu-id="6fb3a-171">Integrating with Non-WCF Applications</span></span>  
 <span data-ttu-id="6fb3a-172">Służy `MsmqIntegrationBinding` do integrowania usług lub klientów programu WCF z usługami lub klientami spoza środowiska WCF.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-172">Use `MsmqIntegrationBinding` when integrating WCF services or clients with non-WCF services or clients.</span></span> <span data-ttu-id="6fb3a-173">Aplikacja nieobsługująca programu WCF może być aplikacją usługi MSMQ zapisaną przy użyciu funkcji system. Messaging, COM+, Visual Basic lub C++.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-173">The non-WCF application can be an MSMQ application written using System.Messaging, COM+, Visual Basic, or C++.</span></span>  
  
 <span data-ttu-id="6fb3a-174">Korzystając z programu `MsmqIntegrationBinding` , należy pamiętać o następujących kwestiach:</span><span class="sxs-lookup"><span data-stu-id="6fb3a-174">When using `MsmqIntegrationBinding`, be aware of the following:</span></span>  
  
- <span data-ttu-id="6fb3a-175">Treść komunikatu WCF nie jest taka sama jak treść wiadomości MSMQ.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-175">A WCF message body is not the same as a MSMQ message body.</span></span> <span data-ttu-id="6fb3a-176">Podczas wysyłania komunikatu WCF przy użyciu podanego w kolejce powiązania treść komunikatu WCF jest umieszczana w komunikacie usługi MSMQ.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-176">When sending a WCF message using a queued binding, the WCF message body is placed inside of a MSMQ message.</span></span> <span data-ttu-id="6fb3a-177">Infrastruktura usługi MSMQ jest Oblivious do tych dodatkowych informacji; widzi tylko komunikat usługi MSMQ.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-177">The MSMQ infrastructure is oblivious to this extra information; it sees only the MSMQ message.</span></span>  
  
- <span data-ttu-id="6fb3a-178">`MsmqIntegrationBinding`obsługuje popularne typy serializacji.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-178">`MsmqIntegrationBinding` supports popular serialization types.</span></span> <span data-ttu-id="6fb3a-179">W oparciu o typ serializacji, typ treści komunikatu ogólnego, <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601> ma inne parametry typu.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-179">Based on the serialization type, the body type of the generic message, <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601>, takes different type parameters.</span></span> <span data-ttu-id="6fb3a-180">Na przykład <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.ByteArray> wymaga `MsmqMessage\<byte[]>` i <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.Stream> wymaga `MsmqMessage<Stream>` .</span><span class="sxs-lookup"><span data-stu-id="6fb3a-180">For example, <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.ByteArray> requires `MsmqMessage\<byte[]>` and <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.Stream> requires `MsmqMessage<Stream>`.</span></span>  
  
- <span data-ttu-id="6fb3a-181">Przy użyciu serializacji XML można określić typ znany przy użyciu `KnownTypes` atrybutu [\<behavior>](../../configure-apps/file-schema/wcf/behavior-of-servicebehaviors.md) elementu, który jest następnie używany do określenia sposobu deserializacji wiadomości XML.</span><span class="sxs-lookup"><span data-stu-id="6fb3a-181">With XML serialization, you can specify the known type using the `KnownTypes` attribute on the [\<behavior>](../../configure-apps/file-schema/wcf/behavior-of-servicebehaviors.md) element that is then used to determine how to deserialize the XML message.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6fb3a-182">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="6fb3a-182">See also</span></span>

- [<span data-ttu-id="6fb3a-183">Tworzenie kolejek w programie WCF</span><span class="sxs-lookup"><span data-stu-id="6fb3a-183">Queuing in WCF</span></span>](queuing-in-wcf.md)
- [<span data-ttu-id="6fb3a-184">Instrukcje: wymiana komunikatów znajdujących się w kolejce z punktami końcowymi WCF</span><span class="sxs-lookup"><span data-stu-id="6fb3a-184">How to: Exchange Queued Messages with WCF Endpoints</span></span>](how-to-exchange-queued-messages-with-wcf-endpoints.md)
- [<span data-ttu-id="6fb3a-185">Instrukcje: wymiana komunikatów z punktami końcowymi programu WCF i aplikacjami do obsługi kolejek komunikatów</span><span class="sxs-lookup"><span data-stu-id="6fb3a-185">How to: Exchange Messages with WCF Endpoints and Message Queuing Applications</span></span>](how-to-exchange-messages-with-wcf-endpoints-and-message-queuing-applications.md)
- [<span data-ttu-id="6fb3a-186">Grupowanie komunikatów z obsługą kolejek w ramach sesji</span><span class="sxs-lookup"><span data-stu-id="6fb3a-186">Grouping Queued Messages in a Session</span></span>](grouping-queued-messages-in-a-session.md)
- [<span data-ttu-id="6fb3a-187">Tworzenie partii komunikatów w ramach transakcji</span><span class="sxs-lookup"><span data-stu-id="6fb3a-187">Batching Messages in a Transaction</span></span>](batching-messages-in-a-transaction.md)
- [<span data-ttu-id="6fb3a-188">Używanie utraconych kolejek na potrzeby obsługi transferów komunikatów zakończonych niepowodzeniem</span><span class="sxs-lookup"><span data-stu-id="6fb3a-188">Using Dead-Letter Queues to Handle Message Transfer Failures</span></span>](using-dead-letter-queues-to-handle-message-transfer-failures.md)
- [<span data-ttu-id="6fb3a-189">Obsługa komunikatów zanieczyszczonych</span><span class="sxs-lookup"><span data-stu-id="6fb3a-189">Poison Message Handling</span></span>](poison-message-handling.md)
- [<span data-ttu-id="6fb3a-190">Różnice w funkcjach kolejkowania w systemach Windows Vista, Windows Server 2003 i Windows XP</span><span class="sxs-lookup"><span data-stu-id="6fb3a-190">Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP</span></span>](diff-in-queue-in-vista-server-2003-windows-xp.md)
- [<span data-ttu-id="6fb3a-191">Ochrona komunikatów za pomocą zabezpieczeń transportu</span><span class="sxs-lookup"><span data-stu-id="6fb3a-191">Securing Messages Using Transport Security</span></span>](securing-messages-using-transport-security.md)
- [<span data-ttu-id="6fb3a-192">Korzystanie z zabezpieczeń komunikatów</span><span class="sxs-lookup"><span data-stu-id="6fb3a-192">Securing Messages Using Message Security</span></span>](securing-messages-using-message-security.md)
- [<span data-ttu-id="6fb3a-193">Rozwiązywanie problemów obsługi komunikatów kolejek</span><span class="sxs-lookup"><span data-stu-id="6fb3a-193">Troubleshooting Queued Messaging</span></span>](troubleshooting-queued-messaging.md)
