---
title: Wybieranie kodera komunikatów
ms.date: 03/30/2017
ms.assetid: 2204d82d-d962-4922-a79e-c9a231604f19
ms.openlocfilehash: 5d2b55f04954cdd855ff9e224d2bc0405919f7a3
ms.sourcegitcommit: 64f4baed249341e5bf64d1385bf48e3f2e1a0211
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/07/2018
ms.locfileid: "44080556"
---
# <a name="choosing-a-message-encoder"></a><span data-ttu-id="be178-102">Wybieranie kodera komunikatów</span><span class="sxs-lookup"><span data-stu-id="be178-102">Choosing a Message Encoder</span></span>
<span data-ttu-id="be178-103">W tym temacie omówiono kryteria wybierania koderów wiadomości, które znajdują się w Windows Communication Foundation (WCF): plik binarny, tekst i komunikat transmisji optymalizacji mechanizm (MTOM).</span><span class="sxs-lookup"><span data-stu-id="be178-103">This topic discusses criteria for choosing among the message encoders that are included in Windows Communication Foundation (WCF): binary, text, and Message Transmission Optimization Mechanism (MTOM).</span></span>  
  
 <span data-ttu-id="be178-104">W programie WCF, możesz określić sposób transferu danych za pośrednictwem sieci między punktami końcowymi przez *powiązania*, która składa się z sekwencji *elementów wiązania*.</span><span class="sxs-lookup"><span data-stu-id="be178-104">In WCF, you specify how to transfer data across a network between endpoints by means of a *binding*, which is made up of a sequence of *binding elements*.</span></span> <span data-ttu-id="be178-105">Koder komunikatów jest reprezentowany przez element powiązania w stosie powiązania kodowania komunikatu.</span><span class="sxs-lookup"><span data-stu-id="be178-105">A message encoder is represented by a message encoding binding element in the binding stack.</span></span> <span data-ttu-id="be178-106">Powiązanie zawiera elementy powiązania protokołu opcjonalne, przykład elementu powiązania zabezpieczeń lub niezawodnej obsługi komunikatów elementu powiązania, wiadomość wymagane kodowanie elementu powiązania, a element powiązania transportu wymagane.</span><span class="sxs-lookup"><span data-stu-id="be178-106">A binding includes optional protocol binding elements, such as a security binding element or reliable messaging binding element, a required message encoding binding element, and a required transport binding element.</span></span>  
  
 <span data-ttu-id="be178-107">Element powiązania z kodowania komunikatu znajduje się poniżej elementy powiązania protokołu opcjonalne i powyżej elementu powiązania transportu wymagane.</span><span class="sxs-lookup"><span data-stu-id="be178-107">The message encoding binding element sits below the optional protocol binding elements and above the required transport binding element.</span></span> <span data-ttu-id="be178-108">Po stronie wychodzących kodera komunikatów serializuje wychodzącej <xref:System.ServiceModel.Channels.Message> i przekazuje je do transportu.</span><span class="sxs-lookup"><span data-stu-id="be178-108">On the outgoing side, a message encoder serializes the outgoing <xref:System.ServiceModel.Channels.Message> and passes it to the transport.</span></span> <span data-ttu-id="be178-109">Po stronie przychodzących kodera komunikatów odbiera serializowane postaci <xref:System.ServiceModel.Channels.Message> z transportu i przekazuje go do protokół wyższej warstwy, jeśli jest obecny, lub do aplikacji, w przeciwnym razie.</span><span class="sxs-lookup"><span data-stu-id="be178-109">On the incoming side, a message encoder receives the serialized form of a <xref:System.ServiceModel.Channels.Message> from the transport and passes it to the higher protocol layer, if present, or to the application, if not.</span></span>  
  
 <span data-ttu-id="be178-110">Podczas łączenia z istniejącego klienta lub serwera, możesz nie mieć wyboru — informacje przy użyciu kodowania określoną wiadomość, ponieważ należy do zakodowania wiadomości w taki sposób, że oczekiwana druga strona.</span><span class="sxs-lookup"><span data-stu-id="be178-110">When connecting to a pre-existing client or server, you may not have a choice about using a particular message encoding since you need to encode your messages in a way that the other side is expecting.</span></span> <span data-ttu-id="be178-111">Jednak jeśli piszesz usługi WCF można ujawnić usługi za pomocą wielu punktów końcowych, każdy przy użyciu kodowania inny komunikat.</span><span class="sxs-lookup"><span data-stu-id="be178-111">However, if you are writing an WCF service, you can expose your service through multiple endpoints, each using a different message encoding.</span></span> <span data-ttu-id="be178-112">Dzięki temu klienci wybrać optymalne kodowanie dla komunikować się z usługą za pośrednictwem punktu końcowego, który sprawdza się najlepiej w ich, zapewniając klientom swobodę wybierz metodę kodowania, która sprawdza się najlepiej w nich.</span><span class="sxs-lookup"><span data-stu-id="be178-112">This allows clients to choose the best encoding for talking to your service over the endpoint that is best for them, as well as giving your clients the flexibility to choose the encoding that is best for them.</span></span> <span data-ttu-id="be178-113">Za pomocą wielu punktów końcowych również pozwala połączyć zalety kodowania inny komunikat z innymi elementami powiązania.</span><span class="sxs-lookup"><span data-stu-id="be178-113">Using multiple endpoints also allows you to combine the advantages of different message encodings with other binding elements.</span></span>  
  
## <a name="system-provided-encoders"></a><span data-ttu-id="be178-114">Kodery dostarczane przez system</span><span class="sxs-lookup"><span data-stu-id="be178-114">System-Provided Encoders</span></span>  
 <span data-ttu-id="be178-115">Usługi WCF zawiera trzy koderów wiadomości, które są reprezentowane przez następujące trzy klasy:</span><span class="sxs-lookup"><span data-stu-id="be178-115">WCF includes three message encoders, which are represented by the following three classes:</span></span>  
  
-   <span data-ttu-id="be178-116"><xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>, tekst koder komunikatów, obsługuje zarówno zwykłe Kodowanie XML i kodowaniem SOAP.</span><span class="sxs-lookup"><span data-stu-id="be178-116"><xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>, the text message encoder, supports both plain XML encoding and SOAP encoding.</span></span> <span data-ttu-id="be178-117">Zwykły tryb kodowania XML koder komunikatu tekstowego nosi nazwę "zwykłe stare XML" (POX), w odróżnieniu od kodowania SOAP opartego na tekst.</span><span class="sxs-lookup"><span data-stu-id="be178-117">The plain XML encoding mode of the text message encoder is called "plain old XML" (POX) to distinguish it from text-based SOAP encoding.</span></span> <span data-ttu-id="be178-118">Aby włączyć POX, ustaw <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement.MessageVersion%2A> właściwość <xref:System.ServiceModel.Channels.MessageVersion.None%2A>.</span><span class="sxs-lookup"><span data-stu-id="be178-118">To enable POX, set the <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement.MessageVersion%2A> property to <xref:System.ServiceModel.Channels.MessageVersion.None%2A>.</span></span> <span data-ttu-id="be178-119">Użyj koder komunikatów tekstu pod kątem współdziałania z punktami końcowymi WCF nie.</span><span class="sxs-lookup"><span data-stu-id="be178-119">Use the text message encoder to interoperate with non-WCF endpoints.</span></span>  
  
-   <span data-ttu-id="be178-120"><xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>, koder komunikatu binarnego używa compact format binarny jest zoptymalizowany pod kątem usługi WCF do komunikacji WCF i dlatego nie jest międzyoperacyjnych.</span><span class="sxs-lookup"><span data-stu-id="be178-120"><xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>, the binary message encoder, uses a compact binary format and is optimized for WCF to WCF communication, and hence is not interoperable.</span></span> <span data-ttu-id="be178-121">Dotyczy to również większość kodera wydajne wszystkich koderów udostępnia usługi WCF.</span><span class="sxs-lookup"><span data-stu-id="be178-121">This is also the most performant encoder of all the encoders WCF provides.</span></span>  
  
-   <span data-ttu-id="be178-122"><<!--zz xref:System.ServiceModel.Channels.MTOMMessageEncodingBindingElement --> `System.ServiceModel.Channels.MTOMMessageEncodingBindingElement`>, element powiązania Określa kodowanie znaków i wersjonowanie wiadomości dla wiadomości przy użyciu kodowanie MTOM.</span><span class="sxs-lookup"><span data-stu-id="be178-122"><<!--zz xref:System.ServiceModel.Channels.MTOMMessageEncodingBindingElement --> `System.ServiceModel.Channels.MTOMMessageEncodingBindingElement`>, the binding element, specifies the character encoding and message versioning for messages using MTOM encoding.</span></span> <span data-ttu-id="be178-123">MTOM to technologia wydajne przekazywania danych binarnych w wiadomościach WCF.</span><span class="sxs-lookup"><span data-stu-id="be178-123">MTOM is an efficient technology for transmitting binary data in WCF messages.</span></span> <span data-ttu-id="be178-124">Koder MTOM podejmuje próbę utworzenia równowagi między współdziałania i wydajność.</span><span class="sxs-lookup"><span data-stu-id="be178-124">The MTOM encoder attempts to create a balance between efficiency and interoperability.</span></span> <span data-ttu-id="be178-125">Kodowanie MTOM przesyła większość kodu XML w postaci tekstowej, ale optymalizuje dużych bloków danych binarnych, przekazywania ich jako — jest bez konwersji na tekst.</span><span class="sxs-lookup"><span data-stu-id="be178-125">The MTOM encoding transmits most XML in textual form, but optimizes large blocks of binary data by transmitting them as-is, without conversion to text.</span></span> <span data-ttu-id="be178-126">Pod względem wydajności między koderów, który udostępnia usługi WCF MTOM jest wewnętrzne tekstu (najwolniejsze) i plik binarny (najszybciej).</span><span class="sxs-lookup"><span data-stu-id="be178-126">In terms of efficiency, among the encoders WCF provides, MTOM is in-between text (the slowest) and binary (the fastest).</span></span>  
  
## <a name="how-to-choose-a-message-encoder"></a><span data-ttu-id="be178-127">Wybieranie kodera komunikatów</span><span class="sxs-lookup"><span data-stu-id="be178-127">How to Choose a Message Encoder</span></span>  
 <span data-ttu-id="be178-128">W poniższej tabeli opisano typowe czynniki, które umożliwiają wybieranie kodera komunikatów.</span><span class="sxs-lookup"><span data-stu-id="be178-128">The following table describes common factors used to choose a message encoder.</span></span> <span data-ttu-id="be178-129">Ustaw priorytet czynników, które są ważne w przypadku aplikacji, a następnie najlepiej wybierz koderów komunikat współpracujące z tych czynników.</span><span class="sxs-lookup"><span data-stu-id="be178-129">Prioritize the factors that are important for your application, and then choose the message encoders that work best with these factors.</span></span> <span data-ttu-id="be178-130">Należy wziąć pod uwagę czynników dodatkowe niewymienionych w tej tabeli oraz wszelkie koderów niestandardowy komunikat, które mogą być wymagane w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="be178-130">Be sure to consider any additional factors not listed in this table and any custom message encoders that may be required in your application.</span></span>  
  
|<span data-ttu-id="be178-131">współczynnik</span><span class="sxs-lookup"><span data-stu-id="be178-131">Factor</span></span>|<span data-ttu-id="be178-132">Opis</span><span class="sxs-lookup"><span data-stu-id="be178-132">Description</span></span>|<span data-ttu-id="be178-133">Kodery, które obsługują ten współczynnik</span><span class="sxs-lookup"><span data-stu-id="be178-133">Encoders that support this factor</span></span>|  
|------------|-----------------|---------------------------------------|  
|<span data-ttu-id="be178-134">Obsługiwanych zestawów znaków</span><span class="sxs-lookup"><span data-stu-id="be178-134">Supported Character Sets</span></span>|<span data-ttu-id="be178-135"><xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement> i <<!--zz xref:System.ServiceModel.Channels.MTOMMessageEncodingBindingElement --> `System.ServiceModel.Channels.MTOMMessageEncodingBindingElement`> obsługuje tylko UTF8 i UTF16 Unicode (*big-endian* i *little-endian*) kodowania.</span><span class="sxs-lookup"><span data-stu-id="be178-135"><xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement> and <<!--zz xref:System.ServiceModel.Channels.MTOMMessageEncodingBindingElement --> `System.ServiceModel.Channels.MTOMMessageEncodingBindingElement`> support only the UTF8 and UTF16 Unicode (*big-endian* and *little-endian*) encodings.</span></span> <span data-ttu-id="be178-136">Jeśli inne kodowanie są wymagane, na przykład UTF7 lub ASCII, należy użyć niestandardowego kodera.</span><span class="sxs-lookup"><span data-stu-id="be178-136">If other encodings are required, such as UTF7 or ASCII, a custom encoder must be used.</span></span> <span data-ttu-id="be178-137">Aby uzyskać przykład niestandardowego kodera, zobacz [niestandardowy koder komunikatów](https://go.microsoft.com/fwlink/?LinkId=119857).</span><span class="sxs-lookup"><span data-stu-id="be178-137">For a sample custom encoder, see [Custom Message Encoder](https://go.microsoft.com/fwlink/?LinkId=119857).</span></span>|<span data-ttu-id="be178-138">Tekst</span><span class="sxs-lookup"><span data-stu-id="be178-138">Text</span></span>|  
|<span data-ttu-id="be178-139">Inspekcja</span><span class="sxs-lookup"><span data-stu-id="be178-139">Inspection</span></span>|<span data-ttu-id="be178-140">Inspekcja jest możliwość zbadania komunikatów podczas transmisji.</span><span class="sxs-lookup"><span data-stu-id="be178-140">Inspection is the ability to examine messages during transmission.</span></span> <span data-ttu-id="be178-141">Kodowania tekstu, z lub bez użycia protokołu SOAP, zezwalania na komunikaty inspekcji i analizowane przez wiele aplikacji bez użycia specjalistycznych narzędzi.</span><span class="sxs-lookup"><span data-stu-id="be178-141">Text encodings, either with or without the use of SOAP, allow messages to be inspected and analyzed by many applications without the use of specialized tools.</span></span> <span data-ttu-id="be178-142">Należy pamiętać, że użycie bezpieczeństwie transferu, na poziomie komunikatu lub transportu, ma wpływ na możliwość kontroli wiadomości.</span><span class="sxs-lookup"><span data-stu-id="be178-142">Note that the use of transfer security, at either the message or transport level, affects your ability to inspect messages.</span></span> <span data-ttu-id="be178-143">Poufność ochronę komunikat sprawdzane i integralność chroni komunikatu przed modyfikacją.</span><span class="sxs-lookup"><span data-stu-id="be178-143">Confidentiality protects a message from being examined and integrity protects a message from being modified.</span></span>|<span data-ttu-id="be178-144">Tekst</span><span class="sxs-lookup"><span data-stu-id="be178-144">Text</span></span>|  
|<span data-ttu-id="be178-145">Niezawodność</span><span class="sxs-lookup"><span data-stu-id="be178-145">Reliability</span></span>|<span data-ttu-id="be178-146">Niezawodność jest odporność koder błędy transmisji.</span><span class="sxs-lookup"><span data-stu-id="be178-146">Reliability is the resiliency of an encoder to transmission errors.</span></span> <span data-ttu-id="be178-147">Niezawodność, może być również dostarczona w wiadomości, transportu lub warstwie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="be178-147">Reliability can also be provided at the message, transport, or application layer.</span></span> <span data-ttu-id="be178-148">Wszystkie standardowe koderów WCF przyjęto założenie, że kolejna warstwa jest zapewnienie niezawodności.</span><span class="sxs-lookup"><span data-stu-id="be178-148">All of the standard WCF encoders assume that another layer is providing reliability.</span></span> <span data-ttu-id="be178-149">Koder zdolność nieco odzyskać sprawność po błędzie transmisji.</span><span class="sxs-lookup"><span data-stu-id="be178-149">The encoder has little ability to recover from a transmission error.</span></span>|<span data-ttu-id="be178-150">Brak</span><span class="sxs-lookup"><span data-stu-id="be178-150">None</span></span>|  
|<span data-ttu-id="be178-151">Prostota</span><span class="sxs-lookup"><span data-stu-id="be178-151">Simplicity</span></span>|<span data-ttu-id="be178-152">Prostota reprezentuje łatwe za pomocą którego można utworzyć kodeków dla specyfikację kodowania.</span><span class="sxs-lookup"><span data-stu-id="be178-152">Simplicity represents the ease with which you can create encoders and decoders for an encoding specification.</span></span> <span data-ttu-id="be178-153">Kodowania tekstu jest szczególnie korzystne dla uproszczenia i kodowanie tekstu POX ma dodatkową zaletą nie wymagających obsługi przetwarzania protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="be178-153">Text encodings are particularly advantageous for simplicity, and the POX text encoding has the additional advantage of not requiring support for processing SOAP.</span></span>|<span data-ttu-id="be178-154">Tekst (POX)</span><span class="sxs-lookup"><span data-stu-id="be178-154">Text (POX)</span></span>|  
|<span data-ttu-id="be178-155">Rozmiar</span><span class="sxs-lookup"><span data-stu-id="be178-155">Size</span></span>|<span data-ttu-id="be178-156">Kodowanie określa Obciążenie nałożone na zawartość.</span><span class="sxs-lookup"><span data-stu-id="be178-156">The encoding determines the amount of overhead imposed on content.</span></span> <span data-ttu-id="be178-157">Rozmiar zakodowany wiadomości jest bezpośrednio związana maksymalną przepływność operacji usługi.</span><span class="sxs-lookup"><span data-stu-id="be178-157">The size of encoded messages is directly related to the maximum throughput of service operations.</span></span> <span data-ttu-id="be178-158">Kody binarne są zazwyczaj mniejszych niż kodowania tekstu.</span><span class="sxs-lookup"><span data-stu-id="be178-158">Binary encodings are generally more compact than text encodings.</span></span> <span data-ttu-id="be178-159">Jeśli rozmiar komunikatu wynosi premium, należy wziąć pod uwagę także kompresja treści komunikatu podczas kodowania.</span><span class="sxs-lookup"><span data-stu-id="be178-159">When message size is at a premium, consider also compressing the message contents during encoding.</span></span> <span data-ttu-id="be178-160">Jednak kompresji zwiększa koszty przetwarzania dla odbiorcy i nadawcy wiadomości.</span><span class="sxs-lookup"><span data-stu-id="be178-160">However, compression adds processing costs for both the message sender and receiver.</span></span>|<span data-ttu-id="be178-161">plików binarnych</span><span class="sxs-lookup"><span data-stu-id="be178-161">Binary</span></span>|  
|<span data-ttu-id="be178-162">Przesyłanie strumieniowe</span><span class="sxs-lookup"><span data-stu-id="be178-162">Streaming</span></span>|<span data-ttu-id="be178-163">Przesyłanie strumieniowe umożliwia aplikacjom rozpoczęcie przetwarzania komunikatu, zanim dotarła cały komunikat.</span><span class="sxs-lookup"><span data-stu-id="be178-163">Streaming allows applications to begin processing a message before the entire message has arrived.</span></span> <span data-ttu-id="be178-164">Skutecznie przy użyciu przesyłania strumieniowego wymaga ważnych danych komunikatu dostępną na początku komunikatu tak, aby aplikacja odbierająca nie jest wymagane poczekaj na jego dostarczenie.</span><span class="sxs-lookup"><span data-stu-id="be178-164">Effectively using streaming requires that the important data for a message be available at the beginning of the message so that the receiving application is not required to wait for it to arrive.</span></span> <span data-ttu-id="be178-165">Ponadto aplikacje, które używają przesyłane strumieniowo transferu musi organizowania danych w komunikacie przyrostowo tak, aby zawartość nie ma zależności skierowane w przód.</span><span class="sxs-lookup"><span data-stu-id="be178-165">Moreover, applications that use streamed transfer must organize data in the message incrementally so that the content does not have forward dependencies.</span></span> <span data-ttu-id="be178-166">W wielu przypadkach można naruszyć bezpieczeństwo między przesyłanie strumieniowe zawartości oraz o najmniejszego możliwego rozmiaru możliwe transferu tej zawartości.</span><span class="sxs-lookup"><span data-stu-id="be178-166">In many cases, you must compromise between streaming content and having the smallest possible transfer size for that content.</span></span>|<span data-ttu-id="be178-167">Brak</span><span class="sxs-lookup"><span data-stu-id="be178-167">None</span></span>|  
|<span data-ttu-id="be178-168">3 Obsługa narzędzia innych firm</span><span class="sxs-lookup"><span data-stu-id="be178-168">3rd Party Tool Support</span></span>|<span data-ttu-id="be178-169">Obszary pomocy technicznej w zakresie kodowania obejmują rozwoju i diagnostyki.</span><span class="sxs-lookup"><span data-stu-id="be178-169">Support areas for an encoding include development and diagnosis.</span></span> <span data-ttu-id="be178-170">Deweloperzy innych firm wprowadzono dużych inwestycji w bibliotekach i narzędziach programistycznych obsługi wiadomości zakodowane w formacie POX.</span><span class="sxs-lookup"><span data-stu-id="be178-170">Third-party developers have made a large investment in libraries and toolkits for handling messages encoded in the POX format.</span></span>|<span data-ttu-id="be178-171">Tekst (POX)</span><span class="sxs-lookup"><span data-stu-id="be178-171">Text (POX)</span></span>|  
|<span data-ttu-id="be178-172">Współdziałanie</span><span class="sxs-lookup"><span data-stu-id="be178-172">Interoperability</span></span>|<span data-ttu-id="be178-173">Ten współczynnik odnosi się do możliwości kodera WCF do współdziałania z usługami innych WCF.</span><span class="sxs-lookup"><span data-stu-id="be178-173">This factor refers to the ability of a WCF encoder to interoperate with non-WCF services.</span></span>|<span data-ttu-id="be178-174">Tekst</span><span class="sxs-lookup"><span data-stu-id="be178-174">Text</span></span><br /><br /> <span data-ttu-id="be178-175">MTOM (częściowa Obsługa)</span><span class="sxs-lookup"><span data-stu-id="be178-175">MTOM (partial)</span></span>|  
  
<span data-ttu-id="be178-176">Uwaga: Korzystając z kodera binarnego, przy użyciu ustawienia IgnoreWhitespace, tworząc element XMLReader odniesie żadnego skutku.</span><span class="sxs-lookup"><span data-stu-id="be178-176">Note: When using the Binary Encoder, using the IgnoreWhitespace setting when creating a XMLReader will have no effect.</span></span>  <span data-ttu-id="be178-177">Na przykład, jeśli wykonasz następujące czynności w operacji usługi:</span><span class="sxs-lookup"><span data-stu-id="be178-177">For example, if you do the following inside a service operation:</span></span>  

```csharp
public void OperationContract(XElement input)
{
    Console.WriteLine("{0}", input.Value);
    int counter = 0;
    var xreader = input.CreateReader();
    var reader = XmlReader.Create(xreader, new XmlReaderSettings() { IgnoreWhitespace = true });
    while (reader.Read())
    {
        counter++;
    }

    Console.WriteLine("Read {0} lines with reader", counter);
}
```  
  
<span data-ttu-id="be178-178">Ustawienie IgnoreWhitespace zostanie zignorowane.</span><span class="sxs-lookup"><span data-stu-id="be178-178">The IgnoreWhitespace setting is ignored.</span></span>  
  
## <a name="compression-and-the-binary-encoder"></a><span data-ttu-id="be178-179">Kompresja i kodera binarnego</span><span class="sxs-lookup"><span data-stu-id="be178-179">Compression and the Binary Encoder</span></span>

<span data-ttu-id="be178-180">Począwszy od programu WCF 4.5 kodera binarnego WCF dodaje obsługę kompresji.</span><span class="sxs-lookup"><span data-stu-id="be178-180">Beginning with WCF 4.5 the WCF binary encoder adds support for compression.</span></span> <span data-ttu-id="be178-181">To pozwala na użycie algorytmu gzip nebo deflate do wysyłania wiadomości skompresowany z klienta programu WCF i odpowiada także skompresowane komunikaty o z obsługiwanej samodzielnie usługi WCF.</span><span class="sxs-lookup"><span data-stu-id="be178-181">This enables you to use the gzip/deflate algorithm for sending compressed messages from a WCF client and also respond with compressed messages from a self-hosted WCF service.</span></span> <span data-ttu-id="be178-182">Ta funkcja umożliwia kompresję transportu HTTP i TCP.</span><span class="sxs-lookup"><span data-stu-id="be178-182">This feature enables compression on both the HTTP and TCP transports.</span></span> <span data-ttu-id="be178-183">Usługi WCF hostowanej w programie IIS zawsze być włączona usługa wysyłania skompresowane odpowiedzi, konfigurując serwer hosta usług IIS.</span><span class="sxs-lookup"><span data-stu-id="be178-183">An IIS hosted WCF service can always be enabled for sending compressed responses by configuring the IIS host server.</span></span> <span data-ttu-id="be178-184">Typ kompresji jest skonfigurowany przy użyciu <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement.CompressionFormat%2A?displayProperty=nameWithType> właściwości.</span><span class="sxs-lookup"><span data-stu-id="be178-184">The type of compression is configured with the <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement.CompressionFormat%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="be178-185">Ta właściwość jest ustawiona na jedną z <xref:System.ServiceModel.Channels.CompressionFormat?displayProperty=nameWithType> wartości wyliczenia:</span><span class="sxs-lookup"><span data-stu-id="be178-185">This property is set to one of the <xref:System.ServiceModel.Channels.CompressionFormat?displayProperty=nameWithType> enum values:</span></span>

* `CompressionFormat.Deflate`
* `CompressionFormat.GZip`
* `CompressionFormat.None`
  
<span data-ttu-id="be178-186">Ponieważ ta właściwość jest dostępne tylko BinaryMessageEncodingBindingElement, należy utworzyć niestandardowego powiązania podobnie do poniższego, aby użyć tej funkcji:</span><span class="sxs-lookup"><span data-stu-id="be178-186">Since this property is only exposed on the binaryMessageEncodingBindingElement, you will need to create a custom binding like the following to use this feature:</span></span>

 ```xml
 <customBinding>
   <binding name="BinaryCompressionBinding">
     <binaryMessageEncoding compressionFormat ="GZip" />
     <httpTransport />
  </binding>
</customBinding>
 ```

<span data-ttu-id="be178-187">Zarówno klient, jak i usługi muszą wyrazić zgodę na wysyłanie i odbieranie komunikatów skompresowane i w związku z tym należy skonfigurować właściwości compressionFormat w elemencie binaryMessageEncoding zarówno klient, jak i usługi.</span><span class="sxs-lookup"><span data-stu-id="be178-187">Both the client and the service need to agree to send and receive compressed messages and therefore the compressionFormat property must be configured on the binaryMessageEncoding element on both client and service.</span></span> <span data-ttu-id="be178-188">Protocolexception — jest generowany, jeśli usługi lub klienta nie jest skonfigurowany dla kompresji, ale jest drugiej strony. Włączanie kompresji powinien zostać starannie przemyślany.</span><span class="sxs-lookup"><span data-stu-id="be178-188">A ProtocolException is thrown if either the service or client is not configured for compression but the other side is.Enabling compression should be carefully considered.</span></span> <span data-ttu-id="be178-189">Kompresja przede wszystkim jest przydatne, jeśli przepustowość sieci jest "wąskie gardło".</span><span class="sxs-lookup"><span data-stu-id="be178-189">Compression is mostly useful if network bandwidth is a bottleneck.</span></span> <span data-ttu-id="be178-190">W przypadku, gdy Procesor jest wąskie gardło Kompresja zmniejsza się przepływności.</span><span class="sxs-lookup"><span data-stu-id="be178-190">In the case where the CPU is the bottleneck, compression will decrease throughput.</span></span> <span data-ttu-id="be178-191">Odpowiednie testy musi odbywać się w środowisku symulowanym, aby dowiedzieć się, jeśli jest to korzystne dla aplikacji</span><span class="sxs-lookup"><span data-stu-id="be178-191">Appropriate testing must be done in a simulated environment to find out if this benefits the application</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="be178-192">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="be178-192">See Also</span></span>

[<span data-ttu-id="be178-193">Powiązania</span><span class="sxs-lookup"><span data-stu-id="be178-193">Bindings</span></span>](../../../../docs/framework/wcf/feature-details/bindings.md)
