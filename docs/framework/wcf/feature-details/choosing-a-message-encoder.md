---
title: Wybieranie kodera komunikatów
ms.date: 03/30/2017
ms.assetid: 2204d82d-d962-4922-a79e-c9a231604f19
ms.openlocfilehash: a306896af7a73d43956638981908c12d86126a9f
ms.sourcegitcommit: 59e36e65ac81cdd094a5a84617625b2a0ff3506e
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/27/2020
ms.locfileid: "80345256"
---
# <a name="choosing-a-message-encoder"></a><span data-ttu-id="dbb9e-102">Wybieranie kodera komunikatów</span><span class="sxs-lookup"><span data-stu-id="dbb9e-102">Choosing a Message Encoder</span></span>
<span data-ttu-id="dbb9e-103">W tym temacie omówiono kryteria wyboru spośród koderów wiadomości, które są zawarte w Programie Windows Communication Foundation (WCF): mechanizm binarny, tekst i mechanizm optymalizacji transmisji wiadomości (MTOM).</span><span class="sxs-lookup"><span data-stu-id="dbb9e-103">This topic discusses criteria for choosing among the message encoders that are included in Windows Communication Foundation (WCF): binary, text, and Message Transmission Optimization Mechanism (MTOM).</span></span>  
  
 <span data-ttu-id="dbb9e-104">W WCF można określić sposób przesyłania danych przez sieć między punktami końcowymi za pomocą *powiązania,* które składa się z sekwencji *elementów wiązania.*</span><span class="sxs-lookup"><span data-stu-id="dbb9e-104">In WCF, you specify how to transfer data across a network between endpoints by means of a *binding*, which is made up of a sequence of *binding elements*.</span></span> <span data-ttu-id="dbb9e-105">Koder wiadomości jest reprezentowany przez element wiązania kodowania wiadomości w stosie wiązania.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-105">A message encoder is represented by a message encoding binding element in the binding stack.</span></span> <span data-ttu-id="dbb9e-106">Powiązanie zawiera opcjonalne elementy wiązania protokołu, takie jak element wiązania zabezpieczeń lub element wiązania niezawodnej obsługi wiadomości, wymagany element wiązania kodowania komunikatów i wymagany element wiązania transportu.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-106">A binding includes optional protocol binding elements, such as a security binding element or reliable messaging binding element, a required message encoding binding element, and a required transport binding element.</span></span>  
  
 <span data-ttu-id="dbb9e-107">Element wiązania kodowania komunikatów znajduje się poniżej elementów wiązania protokołu opcjonalnego i powyżej wymaganego elementu wiązania transportu.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-107">The message encoding binding element sits below the optional protocol binding elements and above the required transport binding element.</span></span> <span data-ttu-id="dbb9e-108">Po stronie wychodzącej koder wiadomości serializuje <xref:System.ServiceModel.Channels.Message> wychodzących i przekazuje go do transportu.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-108">On the outgoing side, a message encoder serializes the outgoing <xref:System.ServiceModel.Channels.Message> and passes it to the transport.</span></span> <span data-ttu-id="dbb9e-109">Po stronie przychodzącej koder wiadomości odbiera serializowany formularz a <xref:System.ServiceModel.Channels.Message> z transportu i przekazuje go do wyższej warstwy protokołu, jeśli jest obecny, lub do aplikacji, jeśli nie.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-109">On the incoming side, a message encoder receives the serialized form of a <xref:System.ServiceModel.Channels.Message> from the transport and passes it to the higher protocol layer, if present, or to the application, if not.</span></span>  
  
 <span data-ttu-id="dbb9e-110">Podczas łączenia się z istniejącym klientem lub serwerem może nie mieć wyboru dotyczące używania kodowania określonej wiadomości, ponieważ należy zakodować wiadomości w sposób oczekiwany przez drugą stronę.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-110">When connecting to a pre-existing client or server, you may not have a choice about using a particular message encoding since you need to encode your messages in a way that the other side is expecting.</span></span> <span data-ttu-id="dbb9e-111">Jednak jeśli piszesz usługę WCF, można udostępnić usługi za pośrednictwem wielu punktów końcowych, każdy przy użyciu innego kodowania wiadomości.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-111">However, if you are writing an WCF service, you can expose your service through multiple endpoints, each using a different message encoding.</span></span> <span data-ttu-id="dbb9e-112">Dzięki temu klienci mogą wybrać najlepsze kodowanie do rozmowy z usługą za pomocą punktu końcowego, który jest dla nich najlepszy, a także daje klientom elastyczność wyboru kodowania, które jest dla nich najlepsze.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-112">This allows clients to choose the best encoding for talking to your service over the endpoint that is best for them, as well as giving your clients the flexibility to choose the encoding that is best for them.</span></span> <span data-ttu-id="dbb9e-113">Za pomocą wielu punktów końcowych umożliwia również łączenie zalet kodowania różnych komunikatów z innymi elementami wiązania.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-113">Using multiple endpoints also allows you to combine the advantages of different message encodings with other binding elements.</span></span>  
  
## <a name="system-provided-encoders"></a><span data-ttu-id="dbb9e-114">Enkodery dostarczane przez system</span><span class="sxs-lookup"><span data-stu-id="dbb9e-114">System-Provided Encoders</span></span>  
 <span data-ttu-id="dbb9e-115">WCF zawiera trzy kodery komunikatów, które są reprezentowane przez następujące trzy klasy:</span><span class="sxs-lookup"><span data-stu-id="dbb9e-115">WCF includes three message encoders, which are represented by the following three classes:</span></span>  
  
- <span data-ttu-id="dbb9e-116"><xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>, koder wiadomości tekstowych obsługuje zarówno zwykłe kodowanie XML, jak i kodowanie protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-116"><xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>, the text message encoder, supports both plain XML encoding and SOAP encoding.</span></span> <span data-ttu-id="dbb9e-117">Zwykły tryb kodowania XML kodera wiadomości tekstowych jest nazywany "zwykłym starym XML" (POX), aby odróżnić go od kodowania protokołu SOAP opartego na tekście.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-117">The plain XML encoding mode of the text message encoder is called "plain old XML" (POX) to distinguish it from text-based SOAP encoding.</span></span> <span data-ttu-id="dbb9e-118">Aby włączyć pox, <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement.MessageVersion%2A> ustaw <xref:System.ServiceModel.Channels.MessageVersion.None%2A>właściwość na .</span><span class="sxs-lookup"><span data-stu-id="dbb9e-118">To enable POX, set the <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement.MessageVersion%2A> property to <xref:System.ServiceModel.Channels.MessageVersion.None%2A>.</span></span> <span data-ttu-id="dbb9e-119">Użyj kodera wiadomości tekstowych, aby współpracować z punktami końcowymi innych niż WCF.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-119">Use the text message encoder to interoperate with non-WCF endpoints.</span></span>  
  
- <span data-ttu-id="dbb9e-120"><xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>, koder wiadomości binarnych, używa kompaktowego formatu binarnego i jest zoptymalizowany pod kątem komunikacji WCF do WCF, a zatem nie jest interoperacyjny.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-120"><xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement>, the binary message encoder, uses a compact binary format and is optimized for WCF to WCF communication, and hence is not interoperable.</span></span> <span data-ttu-id="dbb9e-121">Jest to również najbardziej wydajny koder wszystkich koderów WCF zapewnia.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-121">This is also the most performant encoder of all the encoders WCF provides.</span></span>  
  
- <span data-ttu-id="dbb9e-122"><xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement>, element wiązania, określa kodowanie znaków i przechowywanie wersji wiadomości dla wiadomości przy użyciu kodowania MTOM.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-122"><xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement>, the binding element, specifies the character encoding and message versioning for messages using MTOM encoding.</span></span> <span data-ttu-id="dbb9e-123">MTOM to wydajna technologia przesyłania danych binarnych w wiadomościach WCF.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-123">MTOM is an efficient technology for transmitting binary data in WCF messages.</span></span> <span data-ttu-id="dbb9e-124">Koder MTOM próbuje stworzyć równowagę między wydajnością a interoperacyjnością.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-124">The MTOM encoder attempts to create a balance between efficiency and interoperability.</span></span> <span data-ttu-id="dbb9e-125">Kodowanie MTOM przesyła większość XML w formie tekstowej, ale optymalizuje duże bloki danych binarnych, przesyłając je w stanie, w jakim są, bez konwersji na tekst.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-125">The MTOM encoding transmits most XML in textual form, but optimizes large blocks of binary data by transmitting them as-is, without conversion to text.</span></span> <span data-ttu-id="dbb9e-126">Pod względem wydajności, wśród koderów WCF zapewnia, MTOM jest pomiędzy tekstem (najwolniejszy) i binarny (najszybszy).</span><span class="sxs-lookup"><span data-stu-id="dbb9e-126">In terms of efficiency, among the encoders WCF provides, MTOM is in-between text (the slowest) and binary (the fastest).</span></span>  
  
## <a name="how-to-choose-a-message-encoder"></a><span data-ttu-id="dbb9e-127">Jak wybrać koder wiadomości</span><span class="sxs-lookup"><span data-stu-id="dbb9e-127">How to Choose a Message Encoder</span></span>  
 <span data-ttu-id="dbb9e-128">W poniższej tabeli opisano typowe czynniki używane do wybierania kodera wiadomości.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-128">The following table describes common factors used to choose a message encoder.</span></span> <span data-ttu-id="dbb9e-129">Ustalanie priorytetów czynników, które są ważne dla aplikacji, a następnie wybierz kodery komunikatów, które najlepiej współpracują z tymi czynnikami.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-129">Prioritize the factors that are important for your application, and then choose the message encoders that work best with these factors.</span></span> <span data-ttu-id="dbb9e-130">Należy wziąć pod uwagę wszelkie dodatkowe czynniki niewymienione w tej tabeli i wszelkie niestandardowe kodery komunikatów, które mogą być wymagane w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-130">Be sure to consider any additional factors not listed in this table and any custom message encoders that may be required in your application.</span></span>  
  
|<span data-ttu-id="dbb9e-131">Czynnikiem</span><span class="sxs-lookup"><span data-stu-id="dbb9e-131">Factor</span></span>|<span data-ttu-id="dbb9e-132">Opis</span><span class="sxs-lookup"><span data-stu-id="dbb9e-132">Description</span></span>|<span data-ttu-id="dbb9e-133">Kodery obsługujące ten czynnik</span><span class="sxs-lookup"><span data-stu-id="dbb9e-133">Encoders that support this factor</span></span>|  
|------------|-----------------|---------------------------------------|  
|<span data-ttu-id="dbb9e-134">Obsługiwane zestawy znaków</span><span class="sxs-lookup"><span data-stu-id="dbb9e-134">Supported Character Sets</span></span>|<span data-ttu-id="dbb9e-135"><xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>i <xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement> obsługuje tylko kodowania UTF8 i UTF16 Unicode *(big-endian* i *little-endian).*</span><span class="sxs-lookup"><span data-stu-id="dbb9e-135"><xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement> and <xref:System.ServiceModel.Channels.MtomMessageEncodingBindingElement> support only the UTF8 and UTF16 Unicode (*big-endian* and *little-endian*) encodings.</span></span> <span data-ttu-id="dbb9e-136">Jeśli wymagane są inne kodowania, takie jak UTF7 lub ASCII, należy użyć niestandardowego kodera.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-136">If other encodings are required, such as UTF7 or ASCII, a custom encoder must be used.</span></span> <span data-ttu-id="dbb9e-137">Aby uzyskać przykładowy koder niestandardowy, zobacz [Koder wiadomości niestandardowych](https://docs.microsoft.com/dotnet/framework/wcf/samples/custom-message-encoder-custom-text-encoder).</span><span class="sxs-lookup"><span data-stu-id="dbb9e-137">For a sample custom encoder, see [Custom Message Encoder](https://docs.microsoft.com/dotnet/framework/wcf/samples/custom-message-encoder-custom-text-encoder).</span></span>|<span data-ttu-id="dbb9e-138">Tekst</span><span class="sxs-lookup"><span data-stu-id="dbb9e-138">Text</span></span>|  
|<span data-ttu-id="dbb9e-139">Kontroli</span><span class="sxs-lookup"><span data-stu-id="dbb9e-139">Inspection</span></span>|<span data-ttu-id="dbb9e-140">Inspekcja to możliwość sprawdzania wiadomości podczas transmisji.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-140">Inspection is the ability to examine messages during transmission.</span></span> <span data-ttu-id="dbb9e-141">Kodowanie tekstu, z lub bez użycia protokołu SOAP, umożliwiają sprawdzanie i analizowanie wiadomości przez wiele aplikacji bez użycia specjalistycznych narzędzi.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-141">Text encodings, either with or without the use of SOAP, allow messages to be inspected and analyzed by many applications without the use of specialized tools.</span></span> <span data-ttu-id="dbb9e-142">Należy zauważyć, że użycie zabezpieczeń transferu, na poziomie wiadomości lub transportu, wpływa na możliwość sprawdzania wiadomości.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-142">Note that the use of transfer security, at either the message or transport level, affects your ability to inspect messages.</span></span> <span data-ttu-id="dbb9e-143">Poufność chroni wiadomość przed badaniem, a integralność chroni wiadomość przed modyfikacją.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-143">Confidentiality protects a message from being examined and integrity protects a message from being modified.</span></span>|<span data-ttu-id="dbb9e-144">Tekst</span><span class="sxs-lookup"><span data-stu-id="dbb9e-144">Text</span></span>|  
|<span data-ttu-id="dbb9e-145">Niezawodność</span><span class="sxs-lookup"><span data-stu-id="dbb9e-145">Reliability</span></span>|<span data-ttu-id="dbb9e-146">Niezawodność to odporność kodera na błędy transmisji.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-146">Reliability is the resiliency of an encoder to transmission errors.</span></span> <span data-ttu-id="dbb9e-147">Niezawodność można również zapewnić w warstwie wiadomości, transportu lub aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-147">Reliability can also be provided at the message, transport, or application layer.</span></span> <span data-ttu-id="dbb9e-148">Wszystkie standardowe kodery WCF zakładają, że inna warstwa zapewnia niezawodność.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-148">All of the standard WCF encoders assume that another layer is providing reliability.</span></span> <span data-ttu-id="dbb9e-149">Koder ma niewielką możliwość odzyskania po błędzie transmisji.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-149">The encoder has little ability to recover from a transmission error.</span></span>|<span data-ttu-id="dbb9e-150">Brak</span><span class="sxs-lookup"><span data-stu-id="dbb9e-150">None</span></span>|  
|<span data-ttu-id="dbb9e-151">Prostota</span><span class="sxs-lookup"><span data-stu-id="dbb9e-151">Simplicity</span></span>|<span data-ttu-id="dbb9e-152">Prostota reprezentuje łatwość, z jaką można tworzyć kodery i dekodery dla specyfikacji kodowania.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-152">Simplicity represents the ease with which you can create encoders and decoders for an encoding specification.</span></span> <span data-ttu-id="dbb9e-153">Kodowanie tekstu są szczególnie korzystne dla prostoty, a kodowanie tekstu POX ma dodatkową zaletę, że nie wymaga obsługi przetwarzania protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-153">Text encodings are particularly advantageous for simplicity, and the POX text encoding has the additional advantage of not requiring support for processing SOAP.</span></span>|<span data-ttu-id="dbb9e-154">Tekst (POX)</span><span class="sxs-lookup"><span data-stu-id="dbb9e-154">Text (POX)</span></span>|  
|<span data-ttu-id="dbb9e-155">Rozmiar</span><span class="sxs-lookup"><span data-stu-id="dbb9e-155">Size</span></span>|<span data-ttu-id="dbb9e-156">Kodowanie określa ilość narzutów nałożonych na zawartość.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-156">The encoding determines the amount of overhead imposed on content.</span></span> <span data-ttu-id="dbb9e-157">Rozmiar zakodowanych komunikatów jest bezpośrednio związany z maksymalną przepływnością operacji serwisowych.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-157">The size of encoded messages is directly related to the maximum throughput of service operations.</span></span> <span data-ttu-id="dbb9e-158">Kodowania binarne są na ogół bardziej kompaktowe niż kodowania tekstu.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-158">Binary encodings are generally more compact than text encodings.</span></span> <span data-ttu-id="dbb9e-159">Gdy rozmiar wiadomości jest na premię, należy również rozważyć kompresji zawartości wiadomości podczas kodowania.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-159">When message size is at a premium, consider also compressing the message contents during encoding.</span></span> <span data-ttu-id="dbb9e-160">Jednak kompresja dodaje koszty przetwarzania zarówno dla nadawcy wiadomości, jak i odbiorcy.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-160">However, compression adds processing costs for both the message sender and receiver.</span></span>|<span data-ttu-id="dbb9e-161">plików binarnych</span><span class="sxs-lookup"><span data-stu-id="dbb9e-161">Binary</span></span>|  
|<span data-ttu-id="dbb9e-162">Przesyłanie strumieniowe</span><span class="sxs-lookup"><span data-stu-id="dbb9e-162">Streaming</span></span>|<span data-ttu-id="dbb9e-163">Przesyłanie strumieniowe umożliwia aplikacjom rozpoczęcie przetwarzania wiadomości przed nadejdą całej wiadomości.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-163">Streaming allows applications to begin processing a message before the entire message has arrived.</span></span> <span data-ttu-id="dbb9e-164">Skutecznie przy użyciu przesyłania strumieniowego wymaga, aby ważne dane dla wiadomości być dostępne na początku wiadomości, tak aby aplikacja odbierająca nie jest wymagane czekać na jej przybycie.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-164">Effectively using streaming requires that the important data for a message be available at the beginning of the message so that the receiving application is not required to wait for it to arrive.</span></span> <span data-ttu-id="dbb9e-165">Ponadto aplikacje korzystające z przesyłania strumieniowego muszą organizować dane w wiadomości przyrostowo, aby zawartość nie miała zależności do przodu.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-165">Moreover, applications that use streamed transfer must organize data in the message incrementally so that the content does not have forward dependencies.</span></span> <span data-ttu-id="dbb9e-166">W wielu przypadkach należy naruszyć problem między zawartością przesyłania strumieniowego a posiadaniem najmniejszego możliwego rozmiaru transferu dla tej zawartości.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-166">In many cases, you must compromise between streaming content and having the smallest possible transfer size for that content.</span></span>|<span data-ttu-id="dbb9e-167">Brak</span><span class="sxs-lookup"><span data-stu-id="dbb9e-167">None</span></span>|  
|<span data-ttu-id="dbb9e-168">Obsługa narzędzi innych firm</span><span class="sxs-lookup"><span data-stu-id="dbb9e-168">3rd Party Tool Support</span></span>|<span data-ttu-id="dbb9e-169">Obszary pomocy technicznej dotyczące kodowania obejmują rozwój i diagnostykę.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-169">Support areas for an encoding include development and diagnosis.</span></span> <span data-ttu-id="dbb9e-170">Deweloperzy innych firm poczynili duże inwestycje w biblioteki i zestawy narzędzi do obsługi wiadomości zakodowanych w formacie POX.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-170">Third-party developers have made a large investment in libraries and toolkits for handling messages encoded in the POX format.</span></span>|<span data-ttu-id="dbb9e-171">Tekst (POX)</span><span class="sxs-lookup"><span data-stu-id="dbb9e-171">Text (POX)</span></span>|  
|<span data-ttu-id="dbb9e-172">Współdziałanie</span><span class="sxs-lookup"><span data-stu-id="dbb9e-172">Interoperability</span></span>|<span data-ttu-id="dbb9e-173">Ten czynnik odnosi się do zdolności kodera WCF do współpracy z usługami innych niż WCF.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-173">This factor refers to the ability of a WCF encoder to interoperate with non-WCF services.</span></span>|<span data-ttu-id="dbb9e-174">Tekst</span><span class="sxs-lookup"><span data-stu-id="dbb9e-174">Text</span></span><br /><br /> <span data-ttu-id="dbb9e-175">MTOM (częściowy)</span><span class="sxs-lookup"><span data-stu-id="dbb9e-175">MTOM (partial)</span></span>|  
  
<span data-ttu-id="dbb9e-176">Uwaga: Podczas korzystania z binarnego kodera, przy użyciu IgnoreWhitespace ustawienie podczas tworzenia XMLReader nie będzie miało wpływu.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-176">Note: When using the Binary Encoder, using the IgnoreWhitespace setting when creating a XMLReader will have no effect.</span></span>  <span data-ttu-id="dbb9e-177">Na przykład, jeśli wykonasz następujące czynności wewnątrz operacji usługi:</span><span class="sxs-lookup"><span data-stu-id="dbb9e-177">For example, if you do the following inside a service operation:</span></span>  

```csharp
public void OperationContract(XElement input)
{
    Console.WriteLine("{0}", input.Value);
    int counter = 0;
    var xreader = input.CreateReader();
    var reader = XmlReader.Create(xreader, new XmlReaderSettings() { IgnoreWhitespace = true });
    while (reader.Read())
    {
        counter++;
    }

    Console.WriteLine("Read {0} lines with reader", counter);
}
```  
  
<span data-ttu-id="dbb9e-178">Ustawienie IgnoreWhitespace jest ignorowane.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-178">The IgnoreWhitespace setting is ignored.</span></span>  
  
## <a name="compression-and-the-binary-encoder"></a><span data-ttu-id="dbb9e-179">Kompresja i koder binarny</span><span class="sxs-lookup"><span data-stu-id="dbb9e-179">Compression and the Binary Encoder</span></span>

<span data-ttu-id="dbb9e-180">Począwszy od WCF 4.5 koder binarny WCF dodaje obsługę kompresji.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-180">Beginning with WCF 4.5 the WCF binary encoder adds support for compression.</span></span> <span data-ttu-id="dbb9e-181">Dzięki temu można używać algorytmu gzip/deflate do wysyłania skompresowanych wiadomości z klienta WCF, a także odpowiadać za pomocą skompresowanych wiadomości z usługi WCF hostowanej samodzielnie.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-181">This enables you to use the gzip/deflate algorithm for sending compressed messages from a WCF client and also respond with compressed messages from a self-hosted WCF service.</span></span> <span data-ttu-id="dbb9e-182">Ta funkcja umożliwia kompresję zarówno na transportach HTTP i TCP.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-182">This feature enables compression on both the HTTP and TCP transports.</span></span> <span data-ttu-id="dbb9e-183">Usługę WCF hostowanych usług usług IIS zawsze można włączyć do wysyłania skompresowanych odpowiedzi, konfigurując serwer hosta usług IIS.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-183">An IIS hosted WCF service can always be enabled for sending compressed responses by configuring the IIS host server.</span></span> <span data-ttu-id="dbb9e-184">Typ kompresji jest skonfigurowany <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement.CompressionFormat%2A?displayProperty=nameWithType> z właściwością.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-184">The type of compression is configured with the <xref:System.ServiceModel.Channels.BinaryMessageEncodingBindingElement.CompressionFormat%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="dbb9e-185">Ta właściwość jest ustawiona na jedną z wartości wyliczenia: <xref:System.ServiceModel.Channels.CompressionFormat?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="dbb9e-185">This property is set to one of the <xref:System.ServiceModel.Channels.CompressionFormat?displayProperty=nameWithType> enum values:</span></span>

- <xref:System.ServiceModel.Channels.CompressionFormat.Deflate>
- <xref:System.ServiceModel.Channels.CompressionFormat.GZip>
- <xref:System.ServiceModel.Channels.CompressionFormat.None>
  
<span data-ttu-id="dbb9e-186">Ponieważ ta właściwość jest dostępna tylko na binaryMessageEncodingBindingElement, należy utworzyć niestandardowe powiązanie, takie jak następujące, aby użyć tej funkcji:</span><span class="sxs-lookup"><span data-stu-id="dbb9e-186">Since this property is only exposed on the binaryMessageEncodingBindingElement, you will need to create a custom binding like the following to use this feature:</span></span>

 ```xml
 <customBinding>
   <binding name="BinaryCompressionBinding">
     <binaryMessageEncoding compressionFormat ="GZip" />
     <httpTransport />
  </binding>
</customBinding>
 ```

<span data-ttu-id="dbb9e-187">Zarówno klient, jak i usługa muszą wyrazić zgodę na wysyłanie i odbieranie skompresowanych komunikatów i dlatego właściwość compressionFormat musi być skonfigurowana na elemencie binaryMessageEncoding na kliencie i usłudze.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-187">Both the client and the service need to agree to send and receive compressed messages and therefore the compressionFormat property must be configured on the binaryMessageEncoding element on both client and service.</span></span> <span data-ttu-id="dbb9e-188">A ProtocolException jest zgłaszany, jeśli usługa lub klient nie jest skonfigurowany do kompresji, ale druga strona jest. Włączenie kompresji należy dokładnie rozważyć.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-188">A ProtocolException is thrown if either the service or client is not configured for compression but the other side is.Enabling compression should be carefully considered.</span></span> <span data-ttu-id="dbb9e-189">Kompresja jest najczęściej przydatna, jeśli przepustowość sieci jest wąskim gardłem.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-189">Compression is mostly useful if network bandwidth is a bottleneck.</span></span> <span data-ttu-id="dbb9e-190">W przypadku, gdy procesor jest wąskim gardłem, kompresja zmniejszy przepustowość.</span><span class="sxs-lookup"><span data-stu-id="dbb9e-190">In the case where the CPU is the bottleneck, compression will decrease throughput.</span></span> <span data-ttu-id="dbb9e-191">Należy przeprowadzić odpowiednie badania w symulowanym środowisku, aby dowiedzieć się, czy jest to korzystne dla aplikacji</span><span class="sxs-lookup"><span data-stu-id="dbb9e-191">Appropriate testing must be done in a simulated environment to find out if this benefits the application</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="dbb9e-192">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="dbb9e-192">See also</span></span>

- [<span data-ttu-id="dbb9e-193">Powiązania</span><span class="sxs-lookup"><span data-stu-id="dbb9e-193">Bindings</span></span>](../../../../docs/framework/wcf/feature-details/bindings.md)
