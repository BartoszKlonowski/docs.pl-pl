---
title: Wybieranie typu poświadczeń
ms.date: 03/30/2017
ms.assetid: bf707063-3f30-4304-ab53-0e63413728a8
ms.openlocfilehash: 756017462ccaf8a555b0634e8a43cfdd3bc63d32
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/04/2018
ms.locfileid: "33508478"
---
# <a name="selecting-a-credential-type"></a><span data-ttu-id="b9a93-102">Wybieranie typu poświadczeń</span><span class="sxs-lookup"><span data-stu-id="b9a93-102">Selecting a Credential Type</span></span>
<span data-ttu-id="b9a93-103">*Poświadczenia* są dane Windows Communication Foundation (WCF) używa do określania tożsamości lub możliwości.</span><span class="sxs-lookup"><span data-stu-id="b9a93-103">*Credentials* are the data Windows Communication Foundation (WCF) uses to establish either a claimed identity or capabilities.</span></span> <span data-ttu-id="b9a93-104">Na przykład usługi passport jest poświadczenia, który wystawia Rząd potwierdzenie możliwości dostępnych w kraju lub regionie.</span><span class="sxs-lookup"><span data-stu-id="b9a93-104">For example, a passport is a credential a government issues to prove citizenship in a country or region.</span></span> <span data-ttu-id="b9a93-105">W programie WCF poświadczenia mogą mieć wiele form, takich jak tokeny nazwy użytkownika i certyfikaty X.509.</span><span class="sxs-lookup"><span data-stu-id="b9a93-105">In WCF, credentials can take many forms, such as user name tokens and X.509 certificates.</span></span> <span data-ttu-id="b9a93-106">W tym temacie omówiono poświadczeń, sposób ich użycia w programie WCF oraz sposobu wybierania prawo poświadczeń dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b9a93-106">This topic discusses credentials, how they are used in WCF, and how to select the right credential for your application.</span></span>  
  
 <span data-ttu-id="b9a93-107">W wielu innych krajów i regionów prawa jazdy jest przykładem poświadczenie.</span><span class="sxs-lookup"><span data-stu-id="b9a93-107">In many countries and regions, a driver’s license is an example of a credential.</span></span> <span data-ttu-id="b9a93-108">Licencji zawiera dane, które reprezentują tożsamość osoby i możliwości.</span><span class="sxs-lookup"><span data-stu-id="b9a93-108">A license contains data that represents a person's identity and capabilities.</span></span> <span data-ttu-id="b9a93-109">Zawiera ona dowodu posiadania w formie obrazu właściciel.</span><span class="sxs-lookup"><span data-stu-id="b9a93-109">It contains proof of possession in the form of the possessor's picture.</span></span> <span data-ttu-id="b9a93-110">Licencji wystawiony przez zaufany urząd zwykle rządowych działu licencjonowania.</span><span class="sxs-lookup"><span data-stu-id="b9a93-110">The license is issued by a trusted authority, usually a governmental department of licensing.</span></span> <span data-ttu-id="b9a93-111">Licencja jest zapieczętowany i może zawierać hologram, pokazujący, że nie został zmieniony przez niepowołane lub podrobić.</span><span class="sxs-lookup"><span data-stu-id="b9a93-111">The license is sealed, and can contain a hologram, showing that it has not been tampered with or counterfeited.</span></span>  
  
 <span data-ttu-id="b9a93-112">Umożliwienie korzystania z poświadczeń polega na prezentacji danych i dowodu posiadania danych.</span><span class="sxs-lookup"><span data-stu-id="b9a93-112">Presenting a credential involves presenting both the data and proof of possession of the data.</span></span> <span data-ttu-id="b9a93-113">Usługi WCF obsługuje różne typy poświadczeń na poziomie zabezpieczeń transportu i komunikatu.</span><span class="sxs-lookup"><span data-stu-id="b9a93-113">WCF supports a variety of credential types at both the transport and message security levels.</span></span> <span data-ttu-id="b9a93-114">Na przykład, należy wziąć pod uwagę dwa typy obsługiwane w programie WCF poświadczenia: nazwa użytkownika oraz (X.509) certyfikatu poświadczeń.</span><span class="sxs-lookup"><span data-stu-id="b9a93-114">For example, consider two types of credentials supported in WCF: user name and (X.509) certificate credentials.</span></span>  
  
 <span data-ttu-id="b9a93-115">Dla poświadczenie nazwy użytkownika tożsamości reprezentuje nazwę użytkownika i hasło zawiera dowodu posiadania.</span><span class="sxs-lookup"><span data-stu-id="b9a93-115">For the user name credential, the user name represents the claimed identity and the password provides proof of possession.</span></span> <span data-ttu-id="b9a93-116">Zaufany urząd to w takim przypadku system, który sprawdza poprawność nazwy użytkownika i hasła.</span><span class="sxs-lookup"><span data-stu-id="b9a93-116">The trusted authority in this case is the system that validates the user name and password.</span></span>  
  
 <span data-ttu-id="b9a93-117">Z poświadczeniami certyfikatu X.509, nazwa podmiotu i alternatywnej nazwy podmiotu określonych pól w ramach certyfikatu może służyć jako oświadczenia tożsamości podczas innych pól, takich jak `Valid From` i `Valid To` pól, określ ważności certyfikat.</span><span class="sxs-lookup"><span data-stu-id="b9a93-117">With an X.509 certificate credential, the subject name, subject alternative name or specific fields within the certificate can be used as claims of identity, while other fields, such as the `Valid From` and `Valid To` fields, specify the validity of the certificate.</span></span>  
  
## <a name="transport-credential-types"></a><span data-ttu-id="b9a93-118">Typy poświadczenia transportu</span><span class="sxs-lookup"><span data-stu-id="b9a93-118">Transport Credential Types</span></span>  
 <span data-ttu-id="b9a93-119">W poniższej tabeli przedstawiono typy poświadczeń klienta, które mogą być używane przez powiązanie w tryb zabezpieczeń transport.</span><span class="sxs-lookup"><span data-stu-id="b9a93-119">The following table shows the possible types of client credentials that can be used by a binding in transport security mode.</span></span> <span data-ttu-id="b9a93-120">Podczas tworzenia usługi należy skonfigurować `ClientCredentialType` właściwości do jednej z tych wartości, aby określić typ poświadczenia, które klient musi podać do komunikowania się z usługą.</span><span class="sxs-lookup"><span data-stu-id="b9a93-120">When creating a service, set the `ClientCredentialType` property to one of these values to specify the type of credential that the client must supply to communicate with your service.</span></span> <span data-ttu-id="b9a93-121">Typów można ustawić w plikach kodu lub konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="b9a93-121">You can set the types in either code or configuration files.</span></span>  
  
|<span data-ttu-id="b9a93-122">Ustawienie</span><span class="sxs-lookup"><span data-stu-id="b9a93-122">Setting</span></span>|<span data-ttu-id="b9a93-123">Opis</span><span class="sxs-lookup"><span data-stu-id="b9a93-123">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="b9a93-124">Brak</span><span class="sxs-lookup"><span data-stu-id="b9a93-124">None</span></span>|<span data-ttu-id="b9a93-125">Określa, że klient musi przedstawiać żadnego poświadczenia.</span><span class="sxs-lookup"><span data-stu-id="b9a93-125">Specifies that the client does not need to present any credential.</span></span> <span data-ttu-id="b9a93-126">Umożliwia to anonimowym klientem.</span><span class="sxs-lookup"><span data-stu-id="b9a93-126">This translates to an anonymous client.</span></span>|  
|<span data-ttu-id="b9a93-127">Podstawowy</span><span class="sxs-lookup"><span data-stu-id="b9a93-127">Basic</span></span>|<span data-ttu-id="b9a93-128">Określa uwierzytelnianie podstawowe dla klienta.</span><span class="sxs-lookup"><span data-stu-id="b9a93-128">Specifies basic authentication for the client.</span></span> <span data-ttu-id="b9a93-129">Aby uzyskać dodatkowe informacje, zobacz RFC2617 —[uwierzytelnianie HTTP: Basic i uwierzytelniania szyfrowanego](http://go.microsoft.com/fwlink/?LinkID=88313).</span><span class="sxs-lookup"><span data-stu-id="b9a93-129">For additional information, see RFC2617—[HTTP Authentication: Basic and Digest Authentication](http://go.microsoft.com/fwlink/?LinkID=88313).</span></span>|  
|<span data-ttu-id="b9a93-130">Skrót</span><span class="sxs-lookup"><span data-stu-id="b9a93-130">Digest</span></span>|<span data-ttu-id="b9a93-131">Określa uwierzytelnianie szyfrowane dla klienta.</span><span class="sxs-lookup"><span data-stu-id="b9a93-131">Specifies digest authentication for the client.</span></span> <span data-ttu-id="b9a93-132">Aby uzyskać dodatkowe informacje, zobacz RFC2617 —[uwierzytelnianie HTTP: Basic i uwierzytelniania szyfrowanego](http://go.microsoft.com/fwlink/?LinkID=88313).</span><span class="sxs-lookup"><span data-stu-id="b9a93-132">For additional information, see RFC2617—[HTTP Authentication: Basic and Digest Authentication](http://go.microsoft.com/fwlink/?LinkID=88313).</span></span>|  
|<span data-ttu-id="b9a93-133">Uwierzytelnianie NTLM</span><span class="sxs-lookup"><span data-stu-id="b9a93-133">Ntlm</span></span>|<span data-ttu-id="b9a93-134">Określa uwierzytelnianie NT LAN Manager (NTLM).</span><span class="sxs-lookup"><span data-stu-id="b9a93-134">Specifies NT LAN Manager (NTLM) authentication.</span></span> <span data-ttu-id="b9a93-135">To jest używany, gdy z jakiegoś powodu nie można użyć uwierzytelniania Kerberos.</span><span class="sxs-lookup"><span data-stu-id="b9a93-135">This is used when you cannot use Kerberos authentication for some reason.</span></span> <span data-ttu-id="b9a93-136">Można również wyłączyć jako rezerwowe, ustawiając <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> właściwości `false`, co powoduje, że WCF dokonanie optymalnych zostać zgłoszony wyjątek, jeśli używane jest uwierzytelnianie NTLM.</span><span class="sxs-lookup"><span data-stu-id="b9a93-136">You can also disable its use as a fallback by setting the <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> property to `false`, which causes WCF to make a best-effort to throw an exception if NTLM is used.</span></span> <span data-ttu-id="b9a93-137">Należy pamiętać, że ustawienie tej właściwości na `false` może uniemożliwia poświadczeń NTLM są przesyłane przez sieć.</span><span class="sxs-lookup"><span data-stu-id="b9a93-137">Note that setting this property to `false` may not prevent NTLM credentials from being sent over the wire.</span></span>|  
|<span data-ttu-id="b9a93-138">Windows</span><span class="sxs-lookup"><span data-stu-id="b9a93-138">Windows</span></span>|<span data-ttu-id="b9a93-139">Określa uwierzytelnianie systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="b9a93-139">Specifies Windows authentication.</span></span> <span data-ttu-id="b9a93-140">Aby określić tylko protokołu Kerberos w domenie systemu Windows, należy ustawić <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> właściwości `false` (wartość domyślna to `true`).</span><span class="sxs-lookup"><span data-stu-id="b9a93-140">To specify only the Kerberos protocol on a Windows domain, set the <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> property to `false` (the default is `true`).</span></span>|  
|<span data-ttu-id="b9a93-141">certyfikat</span><span class="sxs-lookup"><span data-stu-id="b9a93-141">Certificate</span></span>|<span data-ttu-id="b9a93-142">Wykonuje uwierzytelnianie klienta przy użyciu certyfikatu X.509.</span><span class="sxs-lookup"><span data-stu-id="b9a93-142">Performs client authentication using an X.509 certificate.</span></span>|  
|<span data-ttu-id="b9a93-143">Hasło</span><span class="sxs-lookup"><span data-stu-id="b9a93-143">Password</span></span>|<span data-ttu-id="b9a93-144">Użytkownik musi podać nazwę użytkownika i hasło.</span><span class="sxs-lookup"><span data-stu-id="b9a93-144">User must supply a user name and password.</span></span> <span data-ttu-id="b9a93-145">Sprawdź poprawność pary nazwa/hasło użytkownika za pomocą uwierzytelniania systemu Windows lub inne niestandardowe rozwiązanie.</span><span class="sxs-lookup"><span data-stu-id="b9a93-145">Validate the user name/password pair using Windows authentication or another custom solution.</span></span>|  
  
### <a name="message-client-credential-types"></a><span data-ttu-id="b9a93-146">Typy poświadczeń klienta komunikatu</span><span class="sxs-lookup"><span data-stu-id="b9a93-146">Message Client Credential Types</span></span>  
 <span data-ttu-id="b9a93-147">W poniższej tabeli przedstawiono typy możliwe poświadczeń, które można używać podczas tworzenia aplikacji, która korzysta z zabezpieczeń wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b9a93-147">The following table shows the possible credential types that you can use when creating an application that uses message security.</span></span> <span data-ttu-id="b9a93-148">Te wartości można użyć w plikach kodu lub konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="b9a93-148">You can use these values in either code or configuration files.</span></span>  
  
|<span data-ttu-id="b9a93-149">Ustawienie</span><span class="sxs-lookup"><span data-stu-id="b9a93-149">Setting</span></span>|<span data-ttu-id="b9a93-150">Opis</span><span class="sxs-lookup"><span data-stu-id="b9a93-150">Description</span></span>|  
|-------------|-----------------|  
|<span data-ttu-id="b9a93-151">Brak</span><span class="sxs-lookup"><span data-stu-id="b9a93-151">None</span></span>|<span data-ttu-id="b9a93-152">Określa, że klient musi przedstawiać poświadczeń.</span><span class="sxs-lookup"><span data-stu-id="b9a93-152">Specifies that the client does not need to present a credential.</span></span> <span data-ttu-id="b9a93-153">Umożliwia to anonimowym klientem.</span><span class="sxs-lookup"><span data-stu-id="b9a93-153">This translates to an anonymous client.</span></span>|  
|<span data-ttu-id="b9a93-154">Windows</span><span class="sxs-lookup"><span data-stu-id="b9a93-154">Windows</span></span>|<span data-ttu-id="b9a93-155">Umożliwia wymianę wiadomości SOAP występuje w kontekście zabezpieczeń ustanowione za pomocą poświadczeń systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="b9a93-155">Allows SOAP message exchanges to occur under the security context established with a Windows credential.</span></span>|  
|<span data-ttu-id="b9a93-156">Nazwa użytkownika</span><span class="sxs-lookup"><span data-stu-id="b9a93-156">Username</span></span>|<span data-ttu-id="b9a93-157">Umożliwia usłudze wymagają uwierzytelnienia klienta z poświadczenie nazwy użytkownika.</span><span class="sxs-lookup"><span data-stu-id="b9a93-157">Allows the service to require that the client be authenticated with a user name credential.</span></span> <span data-ttu-id="b9a93-158">Należy zauważyć, że WCF nie pozwala operacji kryptograficznych z nazwy użytkownika, takie jak generowania podpis i szyfrowanie danych.</span><span class="sxs-lookup"><span data-stu-id="b9a93-158">Note that WCF does not allow any cryptographic operations with user names, such as generating a signature or encrypting data.</span></span> <span data-ttu-id="b9a93-159">WCF gwarantuje, że transport jest zabezpieczony, korzystając z poświadczeń nazwy użytkownika.</span><span class="sxs-lookup"><span data-stu-id="b9a93-159">WCF ensures that the transport is secured when using user name credentials.</span></span>|  
|<span data-ttu-id="b9a93-160">certyfikat</span><span class="sxs-lookup"><span data-stu-id="b9a93-160">Certificate</span></span>|<span data-ttu-id="b9a93-161">Umożliwia usłudze wymagają który uwierzytelnienia klienta za pomocą certyfikatu X.509.</span><span class="sxs-lookup"><span data-stu-id="b9a93-161">Allows the service to require that the client be authenticated using an X.509 certificate.</span></span>|  
|<span data-ttu-id="b9a93-162">Wystawiony Token</span><span class="sxs-lookup"><span data-stu-id="b9a93-162">Issued Token</span></span>|<span data-ttu-id="b9a93-163">Niestandardowy typ tokenu skonfigurowane zgodnie z zasadami zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="b9a93-163">A custom token type configured according to a security policy.</span></span> <span data-ttu-id="b9a93-164">Domyślny typ tokenu to zabezpieczeń potwierdzenia Markup Language (SAML).</span><span class="sxs-lookup"><span data-stu-id="b9a93-164">The default token type is Security Assertions Markup Language (SAML).</span></span> <span data-ttu-id="b9a93-165">Bezpieczne usługi tokenu wystawiła token.</span><span class="sxs-lookup"><span data-stu-id="b9a93-165">The token is issued by a secure token service.</span></span> <span data-ttu-id="b9a93-166">Aby uzyskać więcej informacji, zobacz [Federacja i wystawione tokeny](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="b9a93-166">For more information, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span>|  
  
### <a name="negotiation-model-of-service-credentials"></a><span data-ttu-id="b9a93-167">Model negocjacji poświadczenia usługi</span><span class="sxs-lookup"><span data-stu-id="b9a93-167">Negotiation Model of Service Credentials</span></span>  
 <span data-ttu-id="b9a93-168">*Negocjowanie* to proces ustanawiania relacji zaufania między klientem a usługą poprzez wymianę poświadczeń.</span><span class="sxs-lookup"><span data-stu-id="b9a93-168">*Negotiation* is the process of establishing trust between a client and a service by exchanging credentials.</span></span> <span data-ttu-id="b9a93-169">Proces jest wykonywany wielokrotnie powtarzane między klientem i usługi, aby ujawnić tylko te informacje, które są niezbędne do następnego kroku w procesie negocjacji.</span><span class="sxs-lookup"><span data-stu-id="b9a93-169">The process is performed iteratively between the client and the service, so as to disclose only the information necessary for the next step in the negotiation process.</span></span> <span data-ttu-id="b9a93-170">W praktyce wynik końcowy jest dostarczanie poświadczeń usługi do klienta, który ma być używana podczas kolejnych operacji.</span><span class="sxs-lookup"><span data-stu-id="b9a93-170">In practice, the end result is the delivery of a service's credential to the client to be used in subsequent operations.</span></span>  
  
 <span data-ttu-id="b9a93-171">Z jednym wyjątkiem domyślnie powiązania dostarczane przez system, w programie WCF negocjowania poświadczeń usługi automatycznie przy użyciu zabezpieczeń na poziomie komunikatu.</span><span class="sxs-lookup"><span data-stu-id="b9a93-171">With one exception, by default the system-provided bindings in WCF negotiate the service credential automatically when using message-level security.</span></span> <span data-ttu-id="b9a93-172">(Wyjątkiem jest <xref:System.ServiceModel.BasicHttpBinding>, który nie obsługuje zabezpieczeń domyślnie.) Aby wyłączyć to zachowanie, zobacz <xref:System.ServiceModel.MessageSecurityOverHttp.NegotiateServiceCredential%2A> i <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.NegotiateServiceCredential%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="b9a93-172">(The exception is the <xref:System.ServiceModel.BasicHttpBinding>, which does not enable security by default.) To disable this behavior, see the <xref:System.ServiceModel.MessageSecurityOverHttp.NegotiateServiceCredential%2A> and <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.NegotiateServiceCredential%2A> properties.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b9a93-173">Stosowania zabezpieczeń SSL z programem .NET Framework 3.5 lub nowszym klienta WCF używa zarówno certyfikaty pośrednie w magazynie certyfikatów i certyfikaty pośrednie otrzymał podczas negocjacji w protokole SSL podczas weryfikacji łańcucha certyfikatu usługi certyfikat.</span><span class="sxs-lookup"><span data-stu-id="b9a93-173">When SSL security is used with .NET Framework 3.5 and later, a WCF client uses both the intermediate certificates in its certificate store and the intermediate certificates received during SSL negotiation to perform certificate chain validation on the service's certificate.</span></span> <span data-ttu-id="b9a93-174">.NET framework 3.0 używa tylko certyfikaty pośrednie zainstalowane w lokalnym magazynie certyfikatów.</span><span class="sxs-lookup"><span data-stu-id="b9a93-174">.NET Framework 3.0 only uses the intermediate certificates installed in the local certificate store.</span></span>  
  
#### <a name="out-of-band-negotiation"></a><span data-ttu-id="b9a93-175">Negocjowanie poza pasmem</span><span class="sxs-lookup"><span data-stu-id="b9a93-175">Out-of-Band Negotiation</span></span>  
 <span data-ttu-id="b9a93-176">Po wyłączeniu automatycznej negocjacji poświadczenie usługi musi zainicjowana dla klienta przed wysłaniem komunikaty do usługi.</span><span class="sxs-lookup"><span data-stu-id="b9a93-176">If automatic negotiation is disabled, the service credential must be provisioned at the client prior to sending any messages to the service.</span></span> <span data-ttu-id="b9a93-177">Jest to nazywane również *poza pasmem* inicjowania obsługi administracyjnej.</span><span class="sxs-lookup"><span data-stu-id="b9a93-177">This is also known as an *out-of-band* provisioning.</span></span> <span data-ttu-id="b9a93-178">Na przykład jeśli określony typ poświadczeń jest certyfikatem, a automatyczne negocjacji jest wyłączone, klient musi skontaktować się Właściciel usługi do pobierania i instalowania certyfikatu na komputerze z uruchomionym aplikacji klienckiej.</span><span class="sxs-lookup"><span data-stu-id="b9a93-178">For example, if the specified credential type is a certificate, and automatic negotiation is disabled, the client must contact the service owner to receive and install the certificate on the computer running the client application.</span></span> <span data-ttu-id="b9a93-179">Można to zrobić, na przykład, jeśli chcesz ściśle kontrolować, które mogą uzyskać dostęp klienci usługi w scenariuszu business-to-business.</span><span class="sxs-lookup"><span data-stu-id="b9a93-179">This can be done, for example, when you want to strictly control which clients can access a service in a business-to-business scenario.</span></span> <span data-ttu-id="b9a93-180">Ten limit z-poza pasmem — negocjowanie może odbywać się w wiadomości e-mail, a certyfikat X.509 jest przechowywany w magazynie certyfikatów systemu Windows, przy użyciu narzędzia, takiego jak przystawki Certyfikaty programu Microsoft Management Console (MMC).</span><span class="sxs-lookup"><span data-stu-id="b9a93-180">This out-of-band-negotiation can be done in email, and the X.509 certificate is stored in Windows certificate store, using a tool such as the Microsoft Management Console (MMC) Certificates snap-in.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b9a93-181"><xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> Właściwość jest używana do świadczenia usług przy użyciu certyfikatu, który został osiągnięty na negocjacji poza pasmem.</span><span class="sxs-lookup"><span data-stu-id="b9a93-181">The <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> property is used to provide the service with a certificate that was attained through out-of-band negotiation.</span></span> <span data-ttu-id="b9a93-182">Jest to konieczne, korzystając z <xref:System.ServiceModel.BasicHttpBinding> klasy, ponieważ powiązanie nie zezwala na automatyczne negocjacji.</span><span class="sxs-lookup"><span data-stu-id="b9a93-182">This is necessary when using the <xref:System.ServiceModel.BasicHttpBinding> class because the binding does not allow automated negotiation.</span></span> <span data-ttu-id="b9a93-183">Właściwość również jest używany w scenariuszu nieskorelowane dupleksowych.</span><span class="sxs-lookup"><span data-stu-id="b9a93-183">The property is also used in an uncorrelated duplex scenario.</span></span> <span data-ttu-id="b9a93-184">Jest scenariusz, w którym serwer wysyła wiadomość do klienta bez konieczności klient najpierw wysłać żądania do serwera.</span><span class="sxs-lookup"><span data-stu-id="b9a93-184">This is a scenario where a server sends a message to the client without requiring the client to send a request to the server first.</span></span> <span data-ttu-id="b9a93-185">Ponieważ serwer nie ma żądanie od klienta, należy użyć certyfikat klienta do szyfrowania wiadomości do klienta.</span><span class="sxs-lookup"><span data-stu-id="b9a93-185">Because the server does not have a request from the client, it must use the client's certificate to encrypt the message to the client.</span></span>  
  
## <a name="setting-credential-values"></a><span data-ttu-id="b9a93-186">Ustawienie wartości poświadczeń</span><span class="sxs-lookup"><span data-stu-id="b9a93-186">Setting Credential Values</span></span>  
 <span data-ttu-id="b9a93-187">Po wybraniu trybu zabezpieczeń, należy określić poświadczenia rzeczywistego.</span><span class="sxs-lookup"><span data-stu-id="b9a93-187">Once you select a security mode, you must specify the actual credentials.</span></span> <span data-ttu-id="b9a93-188">Na przykład jeśli typ poświadczeń jest ustawiony na "certyfikatów", następnie należy skojarzyć poświadczenie (na przykład określonego certyfikatu X.509) z usługi lub klienta.</span><span class="sxs-lookup"><span data-stu-id="b9a93-188">For example, if the credential type is set to "certificate," then you must associate a specific credential (such as a specific X.509 certificate) with the service or client.</span></span>  
  
 <span data-ttu-id="b9a93-189">W zależności od tego, czy są programowania usługi lub klienta Metoda ustawiania wartości poświadczeń różni się nieznacznie.</span><span class="sxs-lookup"><span data-stu-id="b9a93-189">Depending on whether you are programming a service or a client, the method for setting the credential value differs slightly.</span></span>  
  
### <a name="setting-service-credentials"></a><span data-ttu-id="b9a93-190">Ustawienie poświadczeń usługi</span><span class="sxs-lookup"><span data-stu-id="b9a93-190">Setting Service Credentials</span></span>  
 <span data-ttu-id="b9a93-191">Jeśli używasz trybu transportu i są przy użyciu protokołu HTTP jako transportu, możesz użyć albo Internet Information Services (IIS), lub konfigurowanie portu z certyfikatem.</span><span class="sxs-lookup"><span data-stu-id="b9a93-191">If you are using transport mode, and you are using HTTP as the transport, you must use either Internet Information Services (IIS) or configure the port with a certificate.</span></span> <span data-ttu-id="b9a93-192">Aby uzyskać więcej informacji, zobacz [Przegląd zabezpieczeń transportu](../../../../docs/framework/wcf/feature-details/transport-security-overview.md) i [zabezpieczeń transportu HTTP](../../../../docs/framework/wcf/feature-details/http-transport-security.md).</span><span class="sxs-lookup"><span data-stu-id="b9a93-192">For more information, see [Transport Security Overview](../../../../docs/framework/wcf/feature-details/transport-security-overview.md) and [HTTP Transport Security](../../../../docs/framework/wcf/feature-details/http-transport-security.md).</span></span>  
  
 <span data-ttu-id="b9a93-193">Aby udostępnić usługi za pomocą poświadczeń w kodzie, Utwórz wystąpienie <xref:System.ServiceModel.ServiceHost> klasy i określ odpowiednie poświadczenia, za pomocą <xref:System.ServiceModel.Description.ServiceCredentials> klasy dostępne za pośrednictwem <xref:System.ServiceModel.ServiceHostBase.Credentials%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="b9a93-193">To provision a service with credentials in code, create an instance of the <xref:System.ServiceModel.ServiceHost> class and specify the appropriate credential using the <xref:System.ServiceModel.Description.ServiceCredentials> class, accessed through the <xref:System.ServiceModel.ServiceHostBase.Credentials%2A> property.</span></span>  
  
#### <a name="setting-a-certificate"></a><span data-ttu-id="b9a93-194">Ustawienia certyfikatu</span><span class="sxs-lookup"><span data-stu-id="b9a93-194">Setting a Certificate</span></span>  
 <span data-ttu-id="b9a93-195">Aby udostępnić usługi za pomocą certyfikatu X.509, który ma być używany do uwierzytelniania usługi dla klientów, należy użyć <xref:System.ServiceModel.Security.X509CertificateInitiatorServiceCredential.SetCertificate%2A> metody <xref:System.ServiceModel.Security.X509CertificateRecipientServiceCredential> klasy.</span><span class="sxs-lookup"><span data-stu-id="b9a93-195">To provision a service with an X.509 certificate to be used to authenticate the service to clients, use the <xref:System.ServiceModel.Security.X509CertificateInitiatorServiceCredential.SetCertificate%2A> method of the <xref:System.ServiceModel.Security.X509CertificateRecipientServiceCredential> class.</span></span>  
  
 <span data-ttu-id="b9a93-196">Aby udostępnić usługi o certyfikat klienta, należy użyć <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> metody <xref:System.ServiceModel.Security.X509CertificateInitiatorServiceCredential> klasy.</span><span class="sxs-lookup"><span data-stu-id="b9a93-196">To provision a service with a client certificate, use the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> method of the <xref:System.ServiceModel.Security.X509CertificateInitiatorServiceCredential> class.</span></span>  
  
#### <a name="setting-windows-credentials"></a><span data-ttu-id="b9a93-197">Ustawienie poświadczeń systemu Windows</span><span class="sxs-lookup"><span data-stu-id="b9a93-197">Setting Windows Credentials</span></span>  
 <span data-ttu-id="b9a93-198">Jeśli klient określa prawidłową nazwę użytkownika i hasło, to poświadczenie jest używane do uwierzytelniania klienta.</span><span class="sxs-lookup"><span data-stu-id="b9a93-198">If the client specifies a valid user name and password, that credential is used to authenticate the client.</span></span> <span data-ttu-id="b9a93-199">W przeciwnym razie używane są poświadczenia bieżącego zalogowanego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="b9a93-199">Otherwise, the current logged-on user's credentials are used.</span></span>  
  
### <a name="setting-client-credentials"></a><span data-ttu-id="b9a93-200">Ustawianie poświadczeń klienta</span><span class="sxs-lookup"><span data-stu-id="b9a93-200">Setting Client Credentials</span></span>  
 <span data-ttu-id="b9a93-201">W programie WCF aplikacje klienckie użyć klienta programu WCF do nawiązania połączenia usługi.</span><span class="sxs-lookup"><span data-stu-id="b9a93-201">In WCF, client applications use a WCF client to connect to services.</span></span> <span data-ttu-id="b9a93-202">Każdy klient pochodzi z <xref:System.ServiceModel.ClientBase%601> klasy i <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> na kliencie umożliwia określenie różnych wartości poświadczeń klienta.</span><span class="sxs-lookup"><span data-stu-id="b9a93-202">Every client derives from the <xref:System.ServiceModel.ClientBase%601> class, and the <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> property on the client allows the specification of various values of client credentials.</span></span>  
  
#### <a name="setting-a-certificate"></a><span data-ttu-id="b9a93-203">Ustawienia certyfikatu</span><span class="sxs-lookup"><span data-stu-id="b9a93-203">Setting a Certificate</span></span>  
 <span data-ttu-id="b9a93-204">Aby udostępnić usługi za pomocą certyfikatu X.509, który jest używany do uwierzytelniania klienta do usługi, użyj <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> metody <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential> klasy.</span><span class="sxs-lookup"><span data-stu-id="b9a93-204">To provision a service with an X.509 certificate that is used to authenticate the client to a service, use the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> method of the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential> class.</span></span>  
  
## <a name="how-client-credentials-are-used-to-authenticate-a-client-to-the-service"></a><span data-ttu-id="b9a93-205">Jak poświadczeń klienta są używane do uwierzytelniania klienta do usługi</span><span class="sxs-lookup"><span data-stu-id="b9a93-205">How Client Credentials Are Used to Authenticate a Client to the Service</span></span>  
 <span data-ttu-id="b9a93-206">Klient poświadczenia wymagane do komunikacji z usługą informacje przy użyciu <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> właściwości lub <xref:System.ServiceModel.ChannelFactory.Credentials%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="b9a93-206">Client credential information required to communicate with a service is provided using either the <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> property or the <xref:System.ServiceModel.ChannelFactory.Credentials%2A> property.</span></span> <span data-ttu-id="b9a93-207">Bezpieczny kanał używa tych informacji do uwierzytelniania klienta do usługi.</span><span class="sxs-lookup"><span data-stu-id="b9a93-207">The security channel uses this information to authenticate the client to the service.</span></span> <span data-ttu-id="b9a93-208">Uwierzytelnianie jest przeprowadzane za pomocą jednego z dwóch trybów:</span><span class="sxs-lookup"><span data-stu-id="b9a93-208">Authentication is accomplished through one of two modes:</span></span>  
  
-   <span data-ttu-id="b9a93-209">Klient używane są poświadczenia raz przed wysłaniem pierwszego komunikatu przy użyciu wystąpienia klienta WCF ustanowić kontekstu zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="b9a93-209">The client credentials are used once before the first message is sent, using the WCF client instance to establish a security context.</span></span> <span data-ttu-id="b9a93-210">Wszystkie komunikaty aplikacji są następnie zabezpieczone za pomocą kontekstu zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="b9a93-210">All application messages are then secured through the security context.</span></span>  
  
-   <span data-ttu-id="b9a93-211">Poświadczenia klienta są używane do uwierzytelniania każdej wiadomości aplikacji wysyłane do usługi.</span><span class="sxs-lookup"><span data-stu-id="b9a93-211">The client credentials are used to authenticate every application message sent to the service.</span></span> <span data-ttu-id="b9a93-212">W takim przypadku kontekst nie zostanie nawiązane między klientem a usługą.</span><span class="sxs-lookup"><span data-stu-id="b9a93-212">In this case, no context is established between the client and the service.</span></span>  
  
### <a name="established-identities-cannot-be-changed"></a><span data-ttu-id="b9a93-213">Nie można zmienić tożsamości ustalonych</span><span class="sxs-lookup"><span data-stu-id="b9a93-213">Established Identities Cannot Be Changed</span></span>  
 <span data-ttu-id="b9a93-214">W przypadku pierwsza metoda ustalonym kontekstem jest stałe skojarzone z tożsamością klienta.</span><span class="sxs-lookup"><span data-stu-id="b9a93-214">When the first method is used, the established context is permanently associated with the client identity.</span></span> <span data-ttu-id="b9a93-215">Oznacza to, że po ustanowieniu kontekstu zabezpieczeń nie można zmienić tożsamość skojarzoną z klienta.</span><span class="sxs-lookup"><span data-stu-id="b9a93-215">That is, once the security context has been established, the identity associated with the client cannot be changed.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="b9a93-216">Istnieje sytuacja pod uwagę podczas tożsamości nie można przełączyć (to znaczy podczas ustanawiania zabezpieczeń kontekstu jest włączona, domyślnie).</span><span class="sxs-lookup"><span data-stu-id="b9a93-216">There is a situation to be aware of when the identity cannot be switched (that is, when establish security context is on, the default behavior).</span></span> <span data-ttu-id="b9a93-217">Po utworzeniu usługi, która komunikuje się z usługą drugi tożsamości użyty do otwarcia klienta WCF drugi usługi nie można zmienić.</span><span class="sxs-lookup"><span data-stu-id="b9a93-217">If you create a service that communicates with a second service, the identity used to open the WCF client to the second service cannot be changed.</span></span> <span data-ttu-id="b9a93-218">To stanie się problemem, jeśli wielu klientów mogą korzystać z pierwszej usługi i usługa personifikuje klientów podczas uzyskiwania dostępu do usługi drugiego.</span><span class="sxs-lookup"><span data-stu-id="b9a93-218">This becomes a problem if multiple clients are allowed to use the first service and the service impersonates the clients when accessing the second service.</span></span> <span data-ttu-id="b9a93-219">Jeśli usługa ponownie używa tego samego klienta dla wszystkich obiektów wywołujących, wszystkie połączenia z usługą drugi są wykonywane z tożsamością pierwszy obiekt wywołujący, który został użyty do otwarcia klienta usługi drugiego.</span><span class="sxs-lookup"><span data-stu-id="b9a93-219">If the service reuses the same client for all callers, all calls to the second service are done under the identity of the first caller that was used to open the client to the second service.</span></span> <span data-ttu-id="b9a93-220">Innymi słowy usługa używa tożsamości pierwszego klienta dla wszystkich klientów do komunikacji z usługą drugiego.</span><span class="sxs-lookup"><span data-stu-id="b9a93-220">In other words, the service uses the identity of the first client for all its clients to communicate with the second service.</span></span> <span data-ttu-id="b9a93-221">Może to spowodować podniesienie uprawnień.</span><span class="sxs-lookup"><span data-stu-id="b9a93-221">This can lead to the elevation of privilege.</span></span> <span data-ttu-id="b9a93-222">Jeśli nie jest zamierzone zachowanie usługi, musi śledzić każdy obiekt wywołujący i tworzenia nowego klienta do drugiego usługi dla każdego obiektu wywołującego w odrębnych i upewnić, że usługa używa tylko prawo klienta do obiektu wywołującego w prawo do komunikowania się z usługą drugiego.</span><span class="sxs-lookup"><span data-stu-id="b9a93-222">If this is not the desired behavior of your service, you must track each caller and create a new client to the second service for every distinct caller, and ensure that the service uses only the right client for the right caller to communicate with the second service.</span></span>  
  
 <span data-ttu-id="b9a93-223">Aby uzyskać więcej informacji na temat poświadczeń i bezpieczne sesje, zobacz [zagadnienia dotyczące zabezpieczeń dla bezpiecznej sesji](../../../../docs/framework/wcf/feature-details/security-considerations-for-secure-sessions.md).</span><span class="sxs-lookup"><span data-stu-id="b9a93-223">For more information about credentials and secure sessions, see [Security Considerations for Secure Sessions](../../../../docs/framework/wcf/feature-details/security-considerations-for-secure-sessions.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b9a93-224">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="b9a93-224">See Also</span></span>  
 <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType>  
 <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A?displayProperty=nameWithType>  
 <xref:System.ServiceModel.Description.ClientCredentials.ClientCertificate%2A?displayProperty=nameWithType>  
 <xref:System.ServiceModel.BasicHttpMessageSecurity.ClientCredentialType%2A?displayProperty=nameWithType>  
 <xref:System.ServiceModel.HttpTransportSecurity.ClientCredentialType%2A?displayProperty=nameWithType>  
 <xref:System.ServiceModel.MessageSecurityOverHttp.ClientCredentialType%2A?displayProperty=nameWithType>  
 <xref:System.ServiceModel.MessageSecurityOverMsmq.ClientCredentialType%2A?displayProperty=nameWithType>  
 <xref:System.ServiceModel.MessageSecurityOverTcp.ClientCredentialType%2A?displayProperty=nameWithType>  
 <xref:System.ServiceModel.TcpTransportSecurity.ClientCredentialType%2A?displayProperty=nameWithType>  
 <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A?displayProperty=nameWithType>  
 <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A?displayProperty=nameWithType>  
 <xref:System.ServiceModel.Security.X509CertificateInitiatorServiceCredential.SetCertificate%2A?displayProperty=nameWithType>  
 [<span data-ttu-id="b9a93-225">Pojęcia dotyczące zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="b9a93-225">Security Concepts</span></span>](../../../../docs/framework/wcf/feature-details/security-concepts.md)  
 [<span data-ttu-id="b9a93-226">Zabezpieczanie usług i klientów</span><span class="sxs-lookup"><span data-stu-id="b9a93-226">Securing Services and Clients</span></span>](../../../../docs/framework/wcf/feature-details/securing-services-and-clients.md)  
 [<span data-ttu-id="b9a93-227">Programowanie zabezpieczeń WCF</span><span class="sxs-lookup"><span data-stu-id="b9a93-227">Programming WCF Security</span></span>](../../../../docs/framework/wcf/feature-details/programming-wcf-security.md)  
 [<span data-ttu-id="b9a93-228">Zabezpieczenia transportu HTTP</span><span class="sxs-lookup"><span data-stu-id="b9a93-228">HTTP Transport Security</span></span>](../../../../docs/framework/wcf/feature-details/http-transport-security.md)
