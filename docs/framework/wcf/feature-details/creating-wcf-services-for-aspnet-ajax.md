---
title: Tworzenie usług WCF w technologii AJAX na platformie ASP.NET
ms.date: 03/30/2017
ms.assetid: 04c0402c-e617-4ba5-aedf-d17692234776
ms.openlocfilehash: 8c82d4c61b32572fd1ad7d8f19e939273cc2280b
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/09/2020
ms.locfileid: "84599311"
---
# <a name="creating-wcf-services-for-aspnet-ajax"></a><span data-ttu-id="9061d-102">Tworzenie usług WCF w technologii AJAX na platformie ASP.NET</span><span class="sxs-lookup"><span data-stu-id="9061d-102">Creating WCF Services for ASP.NET AJAX</span></span>

<span data-ttu-id="9061d-103">Microsoft ASP.NET AJAX umożliwia szybkie tworzenie stron sieci Web, które zawierają rozbudowane środowisko użytkownika, dzięki czemu odpowiadają i dobrze znane elementy interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="9061d-103">Microsoft ASP.NET AJAX enables you to quickly create Web pages that include a rich user experience with responsive and familiar user interface elements.</span></span> <span data-ttu-id="9061d-104">ASP.NET AJAX udostępnia biblioteki skryptów klienta, które obejmują technologię języka ECMAScript (JavaScript) dla wielu przeglądarek i dynamiczne technologie HTML (DHTML) i integrują je z platformą deweloperskią opartą na serwerze ASP.NET 2,0.</span><span class="sxs-lookup"><span data-stu-id="9061d-104">ASP.NET AJAX provides client-script libraries that incorporate cross-browser ECMAScript (JavaScript) and dynamic HTML (DHTML) technologies, and it integrates them with the ASP.NET 2.0 server-based development platform.</span></span> <span data-ttu-id="9061d-105">Za pomocą ASP.NET AJAX można poprawić środowisko użytkownika i wydajność aplikacji sieci Web.</span><span class="sxs-lookup"><span data-stu-id="9061d-105">By using ASP.NET AJAX, you can improve the user experience and the efficiency of your Web applications.</span></span>

<span data-ttu-id="9061d-106">ASP.NET AJAX składa się z bibliotek skryptów klienta i składników serwera, które są zintegrowane w celu zapewnienia niezawodnej struktury programistycznej.</span><span class="sxs-lookup"><span data-stu-id="9061d-106">ASP.NET AJAX consists of client-script libraries and of server components that are integrated to provide a robust development framework.</span></span> <span data-ttu-id="9061d-107">Aby uzyskać dostęp do usługi ze strony ASP.NET: po dodaniu adresu URL usługi do kontrolki Menedżera skryptów ASP.NET na stronie operacje usługi mogą być wywoływane przy użyciu kodu JavaScript, który wygląda tak samo jak zwykłe wywołanie funkcji JavaScript.</span><span class="sxs-lookup"><span data-stu-id="9061d-107">To access a service from an ASP.NET page: once the service URL is added to the ASP.NET Script Manager control on the page, service operations may be invoked using JavaScript code that looks exactly like a regular JavaScript function call.</span></span>

<span data-ttu-id="9061d-108">Większość usług Windows Communication Foundation (WCF) może być narażonych jako usługa zgodna z ASP.NET AJAX przez dodanie odpowiedniego punktu końcowego ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="9061d-108">Most Windows Communication Foundation (WCF) services may be exposed as a service compatible with ASP.NET AJAX by adding an appropriate ASP.NET AJAX endpoint.</span></span>

<span data-ttu-id="9061d-109">Jeśli używasz programu Visual Studio, możesz użyć wstępnie skompilowanego szablonu dla usług WCF z włączoną obsługą technologii AJAX, który jest dostępny w oknie dialogowym **Dodaj nowy element** podczas pracy z witrynami sieci Web ASP.NET lub aplikacjami sieci Web.</span><span class="sxs-lookup"><span data-stu-id="9061d-109">If you are using Visual Studio, you may use a pre-built template for AJAX-enabled WCF services, available in the **Add New Item** dialog when working with ASP.NET Web Sites or Web Applications.</span></span>

<span data-ttu-id="9061d-110">Jeśli nie korzystasz z szablonów programu Visual Studio, istnieją dwa sposoby tworzenia punktu końcowego ASP.NET AJAX:</span><span class="sxs-lookup"><span data-stu-id="9061d-110">If you are not using the Visual Studio templates, there are two ways to create an ASP.NET AJAX endpoint:</span></span>

- <span data-ttu-id="9061d-111">Utwórz punkt końcowy przy użyciu aktywacji hosta dynamicznego bez użycia żadnej konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="9061d-111">Create the endpoint using dynamic host activation without using any configuration.</span></span> <span data-ttu-id="9061d-112">Jest to najbardziej podstawowe podejście, jeśli nie znasz systemu konfiguracji WCF.</span><span class="sxs-lookup"><span data-stu-id="9061d-112">This is the most basic approach if you are unfamiliar with the WCF configuration system.</span></span> <span data-ttu-id="9061d-113">Aby uzyskać więcej informacji, zobacz [How to: Add a ASP.NET AJAX Endpoint bez using Configuration](how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="9061d-113">For more information, see [How to: Add an ASP.NET AJAX Endpoint Without Using Configuration](how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md).</span></span>

- <span data-ttu-id="9061d-114">Dodaj punkt końcowy z obsługą technologii AJAX do usługi WCF przy użyciu konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="9061d-114">Add an AJAX-enabled endpoint to a WCF service using configuration.</span></span> <span data-ttu-id="9061d-115">Aby uzyskać więcej informacji, zobacz [jak: korzystanie z konfiguracji w celu dodania punktu końcowego AJAX ASP.NET](how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md).</span><span class="sxs-lookup"><span data-stu-id="9061d-115">For more information, see [How to: Use Configuration to Add an ASP.NET AJAX Endpoint](how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md).</span></span>

<span data-ttu-id="9061d-116">Model programowania sieci Web opisany w temacie [Omówienie modelu programowania HTTP sieci Web](wcf-web-http-programming-model-overview.md) w programie WCF może być używany z usługami ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="9061d-116">The Web Programming Model described in the [WCF Web HTTP Programming Model Overview](wcf-web-http-programming-model-overview.md) may be used with ASP.NET AJAX services.</span></span> <span data-ttu-id="9061d-117">Są to:</span><span class="sxs-lookup"><span data-stu-id="9061d-117">Specifically:</span></span>

- <span data-ttu-id="9061d-118">Można użyć <xref:System.ServiceModel.Web.WebGetAttribute> atrybutów i, <xref:System.ServiceModel.Web.WebInvokeAttribute> Aby wybrać między CZASOWNIKAMI HTTP GET i http post.</span><span class="sxs-lookup"><span data-stu-id="9061d-118">You can use the <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes to select between HTTP GET and HTTP POST verbs.</span></span> <span data-ttu-id="9061d-119">Jeśli są używane prawidłowo, może to znacząco poprawić wydajność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="9061d-119">If used correctly, this may significantly improve your application’s performance.</span></span> <span data-ttu-id="9061d-120">Aby uzyskać więcej informacji, zobacz [How to: Wybieranie między żądaniami HTTP POST i HTTP GET dla punktów końcowych ASP.NET AJAX](http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md).</span><span class="sxs-lookup"><span data-stu-id="9061d-120">For more information, see [How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints](http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md).</span></span>

- <span data-ttu-id="9061d-121">Możesz użyć <xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A> właściwości i, <xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A> Aby spowodować, że usługa zwróci dane XML zamiast domyślnego JavaScript Object Notation (JSON).</span><span class="sxs-lookup"><span data-stu-id="9061d-121">You can use the <xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A> and <xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A> properties to cause your service to return XML data instead of the default JavaScript Object Notation (JSON).</span></span> <span data-ttu-id="9061d-122">W tym celu ASP.NET AJAX Framework powoduje, że klient JavaScript otrzymuje obiekt XML DOM.</span><span class="sxs-lookup"><span data-stu-id="9061d-122">Doing this with the ASP.NET AJAX framework causes the JavaScript client to receive an XML DOM object.</span></span>

  > [!WARNING]
  > <span data-ttu-id="9061d-123">Aby to działało, w operacji musi być ustawiony typ zawartości text/xml.</span><span class="sxs-lookup"><span data-stu-id="9061d-123">Your operation must set the content type to text/xml for this to work.</span></span> <span data-ttu-id="9061d-124">W przeciwnym razie klient JavaScript otrzyma ciąg zawierający kod XML zamiast obiektu DOM XML.</span><span class="sxs-lookup"><span data-stu-id="9061d-124">Otherwise, the JavaScript client will receive a string containing the XML instead of an XML DOM object.</span></span>

    <span data-ttu-id="9061d-125">Poniżej przedstawiono przykład operacji zwracającej dane XML z ustawionym odpowiednio typem zawartości:</span><span class="sxs-lookup"><span data-stu-id="9061d-125">The following is an example of an operation that returns XML data with the content type set appropriately:</span></span>

  ```csharp
  [OperationContract, WebGet(ResponseFormat=WebMessageFormat.Xml)]
  public XElement GetData()
  {
      XElement x;
      //Get some data here...

      WebOperationContext.Current.OutgoingResponse.ContentType = "text/xml";
      return x;
  }
  ```

- <span data-ttu-id="9061d-126">Nie można zmienić innych właściwości <xref:System.ServiceModel.Web.WebGetAttribute> atrybutów i, <xref:System.ServiceModel.Web.WebInvokeAttribute> Jeśli jest wymagana zgodność z ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="9061d-126">No other properties on the <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes can be changed if compatibility with ASP.NET AJAX is required.</span></span> <span data-ttu-id="9061d-127">Inne aspekty modelu programowania sieci Web mogą być używane tak długo, jak konwencje wywołań AJAX ASP.NET nie są naruszane.</span><span class="sxs-lookup"><span data-stu-id="9061d-127">Other aspects of the Web Programming Model can be used as long as the ASP.NET AJAX calling conventions are not violated.</span></span>

 <span data-ttu-id="9061d-128">Bardziej zaawansowane scenariusze wymagają zrozumienia dodatkowych informacji o obsłudze AJAX w programie WCF:</span><span class="sxs-lookup"><span data-stu-id="9061d-128">More advanced scenarios require some additional details of AJAX support in WCF be understood:</span></span>

- <span data-ttu-id="9061d-129">Aby zrozumieć, w jaki sposób dane są przesyłane między klientem strony AJAX a usługą WCF przy użyciu języka JavaScript, i aby uzyskać szczegółowe informacje na temat tego, jak typy .NET Framework są mapowane na typy JavaScript, zobacz [Obsługa formatu JSON i innych formatów transfer danych](support-for-json-and-other-data-transfer-formats.md).</span><span class="sxs-lookup"><span data-stu-id="9061d-129">To understand how data is transferred between an AJAX page client and a WCF service using JavaScript, and for details on how .NET Framework types map to JavaScript types, see [Support for JSON and Other Data Transfer Formats](support-for-json-and-other-data-transfer-formats.md).</span></span>

- <span data-ttu-id="9061d-130">Aby korzystać z funkcji ASP.NET, na przykład uwierzytelniania opartego na adresach URL i uzyskiwania dostępu do informacji o sesji ASP.NET, można włączyć tryb zgodności ASP.NET za pomocą konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="9061d-130">To take advantage of ASP.NET features, for example, URL-based authentication and accessing the ASP.NET session information, you may want to enable the ASP.NET Compatibility Mode through configuration.</span></span>

<span data-ttu-id="9061d-131">Punkty końcowe AJAX w WCF mogą nawet być używane bez ASP.NET AJAX Framework.</span><span class="sxs-lookup"><span data-stu-id="9061d-131">AJAX endpoints in WCF may even be consumed without the ASP.NET AJAX framework.</span></span> <span data-ttu-id="9061d-132">W ten sposób należy zrozumieć architekturę pomocy technicznej AJAX w programie WCF.</span><span class="sxs-lookup"><span data-stu-id="9061d-132">Doing so requires an understanding of the support architecture of AJAX support in WCF.</span></span> <span data-ttu-id="9061d-133">Aby zapoznać się z omówieniem tej architektury, zobacz [model obiektów programowania HTTP sieci Web](wcf-web-http-programming-object-model.md)w programie WCF.</span><span class="sxs-lookup"><span data-stu-id="9061d-133">For a discussion of this architecture, see [WCF Web HTTP Programming Object Model](wcf-web-http-programming-object-model.md).</span></span> <span data-ttu-id="9061d-134">Aby uzyskać przykładowy kod ilustrujący takie podejście, zobacz [usługi AJAX z danymi JSON i XML](../samples/ajax-service-with-json-and-xml-sample.md).</span><span class="sxs-lookup"><span data-stu-id="9061d-134">For a code sample demonstrating this approach, see the [AJAX Service with JSON and XML](../samples/ajax-service-with-json-and-xml-sample.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="9061d-135">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="9061d-135">See also</span></span>

- [<span data-ttu-id="9061d-136">Model programowania protokołu HTTP sieci Web w programie WCF</span><span class="sxs-lookup"><span data-stu-id="9061d-136">WCF Web HTTP Programming Model</span></span>](wcf-web-http-programming-model.md)
- [<span data-ttu-id="9061d-137">Instrukcje: dodawanie punktu końcowego AJAX ASP.NET bez używania konfiguracji</span><span class="sxs-lookup"><span data-stu-id="9061d-137">How to: Add an ASP.NET AJAX Endpoint Without Using Configuration</span></span>](how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md)
- [<span data-ttu-id="9061d-138">Instrukcje: dodawanie punktu końcowego AJAX ASP.NET przy użyciu konfiguracji</span><span class="sxs-lookup"><span data-stu-id="9061d-138">How to: Use Configuration to Add an ASP.NET AJAX Endpoint</span></span>](how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md)
- [<span data-ttu-id="9061d-139">Instrukcje: wybieranie między żądaniami HTTP POST i HTTP GET dla punktów końcowych AJAX ASP.NET</span><span class="sxs-lookup"><span data-stu-id="9061d-139">How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints</span></span>](http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md)
