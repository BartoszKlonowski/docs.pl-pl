---
title: "Zagadnienia dotyczące zabezpieczeń obejmujące metadane"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: e78ef8ab-4f63-4656-ab93-b1deab2666d5
caps.latest.revision: "10"
author: BrucePerlerMS
ms.author: bruceper
manager: mbaldwin
ms.workload: dotnet
ms.openlocfilehash: 098b31e479322d9de3a299f06652e819a5388c42
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/22/2017
---
# <a name="security-considerations-with-metadata"></a><span data-ttu-id="a59e8-102">Zagadnienia dotyczące zabezpieczeń obejmujące metadane</span><span class="sxs-lookup"><span data-stu-id="a59e8-102">Security Considerations with Metadata</span></span>
<span data-ttu-id="a59e8-103">Jeśli przy użyciu metadanych funkcji w [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)], należy wziąć pod uwagę ryzyko związane z publikowania, pobieranie i przy użyciu usługi metadanych.</span><span class="sxs-lookup"><span data-stu-id="a59e8-103">When using the metadata features in [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)], consider the security implications of publishing, retrieving, and using service metadata.</span></span>  
  
## <a name="when-to-publish-metadata"></a><span data-ttu-id="a59e8-104">Podczas publikowania metadanych</span><span class="sxs-lookup"><span data-stu-id="a59e8-104">When to Publish Metadata</span></span>  
 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="a59e8-105">usługi nie Publikowanie metadanych domyślnie.</span><span class="sxs-lookup"><span data-stu-id="a59e8-105"> services do not publish metadata by default.</span></span> <span data-ttu-id="a59e8-106">Publikowanie metadanych dla [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] usługi, musisz jawnie włączyć publikowanie metadanych przez dodanie punkty końcowe metadanych z usługą (zobacz [Publikowanie metadanych](../../../../docs/framework/wcf/feature-details/publishing-metadata.md)).</span><span class="sxs-lookup"><span data-stu-id="a59e8-106">To publish metadata for a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service you must explicitly enable metadata publishing by adding metadata endpoints to your service (see [Publishing Metadata](../../../../docs/framework/wcf/feature-details/publishing-metadata.md)).</span></span> <span data-ttu-id="a59e8-107">Pozostawienie Publikowanie metadanych wyłączone zmniejsza możliwości ataku usługi i zmniejsza ryzyko ujawnienia informacji przypadkowe.</span><span class="sxs-lookup"><span data-stu-id="a59e8-107">Leaving metadata publishing disabled reduces the attack surface for your service and lowers the risk of unintentional information disclosure.</span></span> <span data-ttu-id="a59e8-108">Nie wszystkie usługi należy opublikować metadanych.</span><span class="sxs-lookup"><span data-stu-id="a59e8-108">Not all services must publish metadata.</span></span> <span data-ttu-id="a59e8-109">Jeśli nie masz Publikowanie metadanych, należy wziąć pod uwagę pozostawić go wyłączyć.</span><span class="sxs-lookup"><span data-stu-id="a59e8-109">If you do not have to publish metadata, consider leaving it turned off.</span></span> <span data-ttu-id="a59e8-110">Należy pamiętać, że istnieje możliwość wygenerowania kodu metadanych i klient nadal bezpośrednio z z zestawów usługi przy użyciu [narzędzie narzędzia metadanych elementu ServiceModel (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md).</span><span class="sxs-lookup"><span data-stu-id="a59e8-110">Note that you can still generate metadata and client code directly from your service assemblies using the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md).</span></span> [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="a59e8-111">przy użyciu Svcutil.exe, aby wyeksportować metadane, zobacz [porady: użycie Svcutil.exe Eksportowanie metadanych ze skompilowanego kodu usługi](../../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-export-metadata-from-compiled-service-code.md).</span><span class="sxs-lookup"><span data-stu-id="a59e8-111"> using Svcutil.exe to export metadata, see [How to: Use Svcutil.exe to Export Metadata from Compiled Service Code](../../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-export-metadata-from-compiled-service-code.md).</span></span>  
  
## <a name="publishing-metadata-using-a-secure-binding"></a><span data-ttu-id="a59e8-112">Publikowanie metadanych za pomocą bezpiecznego powiązania</span><span class="sxs-lookup"><span data-stu-id="a59e8-112">Publishing Metadata Using a Secure Binding</span></span>  
 <span data-ttu-id="a59e8-113">Powiązania metadanych domyślne który [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] zapewnia nie zabezpieczyć i zezwalają na dostęp anonimowy do metadanych.</span><span class="sxs-lookup"><span data-stu-id="a59e8-113">The default metadata bindings that [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] provides are not secure and they allow anonymous access to the metadata.</span></span> <span data-ttu-id="a59e8-114">Metadane usługi który [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] usługi zawiera szczegółowy opis dotyczących usługi i mogą celowo lub przypadkowo zawierać informacje poufne.</span><span class="sxs-lookup"><span data-stu-id="a59e8-114">The service metadata that a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service publishes contains a detailed description about the service and may intentionally or unintentionally contain sensitive information.</span></span> <span data-ttu-id="a59e8-115">Na przykład metadane usługi mogą zawierać informacje o operacjach infrastruktury, która nie ma to być publicznie emisji.</span><span class="sxs-lookup"><span data-stu-id="a59e8-115">For example, service metadata may contain information about infrastructure operations that was not intended to be broadcast publicly.</span></span> <span data-ttu-id="a59e8-116">Aby chronić metadanych usługi przed nieautoryzowanym dostępem, można użyć bezpiecznego powiązania dla punktu końcowego metadanych.</span><span class="sxs-lookup"><span data-stu-id="a59e8-116">To protect service metadata from unauthorized access, you can use a secure binding for your metadata endpoint.</span></span> <span data-ttu-id="a59e8-117">Punkty końcowe metadanych odpowiadać na żądania HTTP/GET, które umożliwiają Secure Sockets Layer (SSL) do zabezpieczania metadanych.</span><span class="sxs-lookup"><span data-stu-id="a59e8-117">Metadata endpoints respond to HTTP/GET requests that can use Secure Sockets Layer (SSL) to secure the metadata.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="a59e8-118">[Porady: bezpieczne punkty końcowe metadanych](../../../../docs/framework/wcf/feature-details/how-to-secure-metadata-endpoints.md).</span><span class="sxs-lookup"><span data-stu-id="a59e8-118"> [How to: Secure Metadata Endpoints](../../../../docs/framework/wcf/feature-details/how-to-secure-metadata-endpoints.md).</span></span>  
  
 <span data-ttu-id="a59e8-119">Zabezpieczanie punktów końcowych metadanych także sposób dla jednostek żądających bezpieczne pobieranie metadanych usługi bez ryzyka naruszeniu lub fałszowania.</span><span class="sxs-lookup"><span data-stu-id="a59e8-119">Securing your metadata endpoints also provides a way for requesters to securely retrieve service metadata without the risk of tampering or spoofing.</span></span>  
  
## <a name="using-only-trusted-metadata"></a><span data-ttu-id="a59e8-120">Tylko przy użyciu zaufanego metadanych</span><span class="sxs-lookup"><span data-stu-id="a59e8-120">Using Only Trusted Metadata</span></span>  
 <span data-ttu-id="a59e8-121">Metadane usługi służy do automatycznego tworzenia składników środowiska wykonawczego, wymaganych do wywołania tej usługi.</span><span class="sxs-lookup"><span data-stu-id="a59e8-121">You can use service metadata to automatically construct the run-time components required to call the service.</span></span> <span data-ttu-id="a59e8-122">Umożliwia także metadanych w czasie projektowania umożliwiające tworzenie aplikacji klienckich, lub w czasie wykonywania, aby dynamicznie aktualizować powiązania klient używa do wywołania usługi.</span><span class="sxs-lookup"><span data-stu-id="a59e8-122">You can also use metadata at design time to develop a client application or at runtime to dynamically update the binding a client uses to call a service.</span></span>  
  
 <span data-ttu-id="a59e8-123">Metadane usługi mogą przez osoby niepowołane lub sfałszowane po pobraniu w sposób niezabezpieczonych.</span><span class="sxs-lookup"><span data-stu-id="a59e8-123">Service metadata can be tampered with or spoofed when retrieved in an insecure manner.</span></span> <span data-ttu-id="a59e8-124">Zmodyfikowany metadanych można przekierować klienta do usługi złośliwego, zawierają ustawienia, którego bezpieczeństwo zostało naruszone zabezpieczenia lub zawierać złośliwe struktury XML.</span><span class="sxs-lookup"><span data-stu-id="a59e8-124">Tampered metadata can redirect your client to a malicious service, contain compromised security settings, or contain malicious XML structures.</span></span> <span data-ttu-id="a59e8-125">Dokumentów metadanych może być duży i często są zapisywane w systemie plików.</span><span class="sxs-lookup"><span data-stu-id="a59e8-125">Metadata documents can be large and are frequently saved to the file system.</span></span> <span data-ttu-id="a59e8-126">Aby zapewnić ochronę przed naruszeniem i fałszowania, używa bezpiecznego powiązania do żądania metadanych usługi, jeśli jest dostępny.</span><span class="sxs-lookup"><span data-stu-id="a59e8-126">To protect against tampering and spoofing, use a secure binding to request service metadata when one is available.</span></span>  
  
## <a name="using-safe-techniques-for-processing-metadata"></a><span data-ttu-id="a59e8-127">Przy użyciu technik bezpiecznego przetwarzania metadanych</span><span class="sxs-lookup"><span data-stu-id="a59e8-127">Using Safe Techniques for Processing Metadata</span></span>  
 <span data-ttu-id="a59e8-128">Metadane usługi często są pobierane z usługi za pośrednictwem sieci przy użyciu standardowych protokołów, takich jak usługi WS-MetadataExchange (MEX).</span><span class="sxs-lookup"><span data-stu-id="a59e8-128">Service metadata is frequently retrieved from a service over a network using standardized protocols such as WS-MetadataExchange (MEX).</span></span> <span data-ttu-id="a59e8-129">Wiele formatów metadane obejmują odwołujące się do mechanizmów wskazuje dodatkowe metadane.</span><span class="sxs-lookup"><span data-stu-id="a59e8-129">Many metadata formats include referencing mechanisms for pointing to additional metadata.</span></span> <span data-ttu-id="a59e8-130"><xref:System.ServiceModel.Description.MetadataExchangeClient> Typu automatycznie przetwarza odwołań dla Ciebie w dokumentach Web Services Description Language (WSDL), schemat XML i MEX dokumentów.</span><span class="sxs-lookup"><span data-stu-id="a59e8-130">The <xref:System.ServiceModel.Description.MetadataExchangeClient> type automatically processes references for you in Web Services Description Language (WSDL) documents, XML Schema, and MEX documents.</span></span> <span data-ttu-id="a59e8-131">Rozmiar <xref:System.ServiceModel.Description.MetadataSet> obiekt utworzony z metadanych pobranych jest wprost proporcjonalny do <xref:System.ServiceModel.Description.MetadataExchangeClient.MaximumResolvedReferences%2A> wartość <xref:System.ServiceModel.Description.MetadataExchangeClient> wystąpienie, które jest używane i `MaxReceivedMessageSize` wartość używana przez to powiązanie <xref:System.ServiceModel.Description.MetadataExchangeClient> wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="a59e8-131">The size of the <xref:System.ServiceModel.Description.MetadataSet> object created from the retrieved metadata is directly proportional to the <xref:System.ServiceModel.Description.MetadataExchangeClient.MaximumResolvedReferences%2A> value for the <xref:System.ServiceModel.Description.MetadataExchangeClient> instance that is used and the `MaxReceivedMessageSize` value for the binding being used by that <xref:System.ServiceModel.Description.MetadataExchangeClient> instance.</span></span> <span data-ttu-id="a59e8-132">Ustaw te przydziały odpowiednie wartości zgodnie z ustawieniem danego scenariusza.</span><span class="sxs-lookup"><span data-stu-id="a59e8-132">Set these quotas to appropriate values as dictated by your scenario.</span></span>  
  
 <span data-ttu-id="a59e8-133">W [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], metadane usługi jest przetwarzany jako XML.</span><span class="sxs-lookup"><span data-stu-id="a59e8-133">In [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], service metadata is processed as XML.</span></span> <span data-ttu-id="a59e8-134">Podczas przetwarzania dokumentów XML, aplikacji powinna zapewniać ochronę się przed złośliwymi struktury XML.</span><span class="sxs-lookup"><span data-stu-id="a59e8-134">When processing XML documents, applications should protect themselves against malicious XML structures.</span></span> <span data-ttu-id="a59e8-135">Użyj `XmlDictionaryReader` z odpowiednimi przydziały podczas przetwarzania kodu XML, a także ustawić <xref:System.Xml.XmlTextReader.DtdProcessing%2A> właściwości `Prohibit`.</span><span class="sxs-lookup"><span data-stu-id="a59e8-135">Use the `XmlDictionaryReader` with appropriate quotas when processing XML and also set the <xref:System.Xml.XmlTextReader.DtdProcessing%2A> property to `Prohibit`.</span></span>  
  
 <span data-ttu-id="a59e8-136">System metadanych w [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] rozszerzać i rozszerzenia metadane mogą być rejestrowane w pliku konfiguracji aplikacji (zobacz [rozszerzanie systemu metadanych](../../../../docs/framework/wcf/extending/extending-the-metadata-system.md)).</span><span class="sxs-lookup"><span data-stu-id="a59e8-136">The metadata system in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] is extensible and metadata extensions can be registered in your application configuration file (see [Extending the Metadata System](../../../../docs/framework/wcf/extending/extending-the-metadata-system.md)).</span></span> <span data-ttu-id="a59e8-137">Rozszerzenia metadanych można uruchomić dowolny kod, więc powinna zapewniać ochronę pliku konfiguracji aplikacji przy użyciu kontroli dostępu w odpowiedniej list kontroli dostępu (ACL) i zarejestruj implementacje rozszerzenia tylko metadane zaufanych.</span><span class="sxs-lookup"><span data-stu-id="a59e8-137">Metadata extensions can run arbitrary code, so you should protect your application configuration file with appropriate access control lists (ACLs) and register only trusted metadata extension implementations.</span></span>  
  
## <a name="validating-generated-clients"></a><span data-ttu-id="a59e8-138">Sprawdzanie poprawności wygenerowanego klientów</span><span class="sxs-lookup"><span data-stu-id="a59e8-138">Validating Generated Clients</span></span>  
 <span data-ttu-id="a59e8-139">Podczas generowania kodu klienta z metadanych pobrane ze źródła, który nie jest zaufany, sprawdź poprawność kodu wygenerowanego klienta, aby upewnić się, że wygenerowanego klienta odpowiada zasady zabezpieczeń aplikacji klienta.</span><span class="sxs-lookup"><span data-stu-id="a59e8-139">When generating client code from metadata retrieved from a source that is not trusted, validate the generated client code to ensure that the generated client conforms to your client applications security policies.</span></span> <span data-ttu-id="a59e8-140">Sprawdzanie poprawności zachowanie umożliwia ustawienia na komputerze klienckim powiązanie lub wizualnie Przejrzyj kod wygenerowany przez narzędzia.</span><span class="sxs-lookup"><span data-stu-id="a59e8-140">You can use a validating behavior to check settings on your client binding or visually inspect code generated by tools.</span></span> <span data-ttu-id="a59e8-141">Na przykład sposobu wdrażania klienta, która weryfikuje zachowania zobacz [weryfikacji klienta](../../../../docs/framework/wcf/samples/client-validation.md).</span><span class="sxs-lookup"><span data-stu-id="a59e8-141">For an example of how to implement a client that validates behaviors, see [Client Validation](../../../../docs/framework/wcf/samples/client-validation.md).</span></span>  
  
## <a name="protecting-application-configuration-files"></a><span data-ttu-id="a59e8-142">Ochrona pliki konfiguracji aplikacji</span><span class="sxs-lookup"><span data-stu-id="a59e8-142">Protecting Application Configuration Files</span></span>  
 <span data-ttu-id="a59e8-143">Plik konfiguracji usługi aplikacji może kontrolować sposób i jeśli jest publikowany w metadanych.</span><span class="sxs-lookup"><span data-stu-id="a59e8-143">A service's application configuration file may control how and if metadata is published.</span></span> <span data-ttu-id="a59e8-144">Zaleca ochronę pliku konfiguracji aplikacji przy użyciu list kontroli dostępu (ACL), aby upewnić się, że osoba atakująca nie można modyfikować tych ustawień.</span><span class="sxs-lookup"><span data-stu-id="a59e8-144">It is a good idea to protect the application configuration file with appropriate access control lists (ACLs) to ensure an attacker cannot modify such settings.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a59e8-145">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="a59e8-145">See Also</span></span>  
 [<span data-ttu-id="a59e8-146">Instrukcje: bezpieczne punkty końcowe metadanych</span><span class="sxs-lookup"><span data-stu-id="a59e8-146">How to: Secure Metadata Endpoints</span></span>](../../../../docs/framework/wcf/feature-details/how-to-secure-metadata-endpoints.md)  
 [<span data-ttu-id="a59e8-147">Zabezpieczenia</span><span class="sxs-lookup"><span data-stu-id="a59e8-147">Security</span></span>](../../../../docs/framework/wcf/feature-details/security.md)
