---
title: Zachowania zabezpieczeń w programie WCF
ms.date: 03/30/2017
ms.assetid: 513232c0-39fd-4409-bda6-5ebd5e0ea7b0
ms.openlocfilehash: d1bffef127fe295aa41b1287da1c7104464ae0bc
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/08/2019
ms.locfileid: "59180066"
---
# <a name="security-behaviors-in-wcf"></a><span data-ttu-id="c6dac-102">Zachowania zabezpieczeń w programie WCF</span><span class="sxs-lookup"><span data-stu-id="c6dac-102">Security Behaviors in WCF</span></span>
<span data-ttu-id="c6dac-103">W konsoli Windows Communication Foundation (WCF) zachowania zmodyfikować zachowanie w czasie wykonywania na poziomie usługi, lub na poziomie punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="c6dac-103">In Windows Communication Foundation (WCF), behaviors modify run-time behavior at the service level or at the endpoint level.</span></span> <span data-ttu-id="c6dac-104">(Aby uzyskać więcej informacji na temat zachowań ogólnie rzecz biorąc, zobacz [Określanie zachowania środowiska uruchomieniowego usługi](../../../../docs/framework/wcf/specifying-service-run-time-behavior.md).) *Zachowania zabezpieczeń* umożliwić kontrolę nad poświadczeniami, uwierzytelniania, autoryzacji i dzienniki inspekcji.</span><span class="sxs-lookup"><span data-stu-id="c6dac-104">(For more information about behaviors in general, see [Specifying Service Run-Time Behavior](../../../../docs/framework/wcf/specifying-service-run-time-behavior.md).) *Security behaviors* allow control over credentials, authentication, authorization, and auditing logs.</span></span> <span data-ttu-id="c6dac-105">Można użyć zachowań, programowania lub za pośrednictwem konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="c6dac-105">You can use behaviors either by programming or through configuration.</span></span> <span data-ttu-id="c6dac-106">Ten temat koncentruje się na temat konfigurowania następujące zachowania związane z funkcjami zabezpieczeń:</span><span class="sxs-lookup"><span data-stu-id="c6dac-106">This topic focuses on configuring the following behaviors related to security functions:</span></span>  
  
-   <span data-ttu-id="c6dac-107">[\<serviceCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-107">[\<serviceCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md).</span></span>  
  
-   <span data-ttu-id="c6dac-108">[\<clientCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-108">[\<clientCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md).</span></span>  
  
-   <span data-ttu-id="c6dac-109">[\<serviceAuthorization >](../../../../docs/framework/configure-apps/file-schema/wcf/serviceauthorization-element.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-109">[\<serviceAuthorization>](../../../../docs/framework/configure-apps/file-schema/wcf/serviceauthorization-element.md).</span></span>  
  
-   <span data-ttu-id="c6dac-110">[\<serviceSecurityAudit>](../../../../docs/framework/configure-apps/file-schema/wcf/servicesecurityaudit.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-110">[\<serviceSecurityAudit>](../../../../docs/framework/configure-apps/file-schema/wcf/servicesecurityaudit.md).</span></span>  
  
-   <span data-ttu-id="c6dac-111">[\<serviceMetadata w pliku >](../../../../docs/framework/configure-apps/file-schema/wcf/servicemetadata.md), które również pozwala na określenie bezpiecznego punktu końcowego, który klienci mogą uzyskiwać dostęp do metadanych.</span><span class="sxs-lookup"><span data-stu-id="c6dac-111">[\<serviceMetadata>](../../../../docs/framework/configure-apps/file-schema/wcf/servicemetadata.md), which also enables you to specify a secure endpoint that clients can access for metadata.</span></span>  
  
## <a name="setting-credentials-with-behaviors"></a><span data-ttu-id="c6dac-112">Ustawianie poświadczeń za pomocą zachowań</span><span class="sxs-lookup"><span data-stu-id="c6dac-112">Setting Credentials with Behaviors</span></span>  
 <span data-ttu-id="c6dac-113">Użyj [ \<serviceCredentials >](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md) i [ \<clientCredentials >](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) do ustawiania wartości poświadczeń klienta lub usługi.</span><span class="sxs-lookup"><span data-stu-id="c6dac-113">Use the [\<serviceCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md) and [\<clientCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) to set credential values for a service or client.</span></span> <span data-ttu-id="c6dac-114">Bazowej konfiguracji powiązania Określa, czy poświadczenia musi zostać ustawione.</span><span class="sxs-lookup"><span data-stu-id="c6dac-114">The underlying binding configuration determines whether a credential has to be set.</span></span> <span data-ttu-id="c6dac-115">Na przykład, jeśli tryb zabezpieczeń jest ustawiony na `None`, klientów i usług nie wzajemne uwierzytelnianie i wymagane żadne poświadczenia nie dowolnego typu.</span><span class="sxs-lookup"><span data-stu-id="c6dac-115">For example, if the security mode is set to `None`, both clients and services do not authenticate each other and require no credentials of any type.</span></span>  
  
 <span data-ttu-id="c6dac-116">Z drugiej strony powiązanie usługi może wymagać typu poświadczeń klienta.</span><span class="sxs-lookup"><span data-stu-id="c6dac-116">On the other hand, the service binding can require a client credential type.</span></span> <span data-ttu-id="c6dac-117">W takim przypadku trzeba ustawić wartość poświadczenia, za pomocą zachowania.</span><span class="sxs-lookup"><span data-stu-id="c6dac-117">In that case, you may have to set a credential value using a behavior.</span></span> <span data-ttu-id="c6dac-118">(Aby uzyskać więcej informacji na temat możliwych typów poświadczeń, zobacz [Wybieranie typu poświadczeń](../../../../docs/framework/wcf/feature-details/selecting-a-credential-type.md).) W niektórych przypadkach, np. gdy poświadczenia Windows są używane do uwierzytelniania środowisko automatycznie zestawia wartości rzeczywiste poświadczenia i nie trzeba jawnie ustawić wartość poświadczenia (Jeśli nie chcesz określić innego zestawu poświadczeń).</span><span class="sxs-lookup"><span data-stu-id="c6dac-118">(For more information about the possible types of credentials, see [Selecting a Credential Type](../../../../docs/framework/wcf/feature-details/selecting-a-credential-type.md).) In some cases, such as when Windows credentials are used to authenticate, the environment automatically establishes the actual credential value and you do not need to explicitly set the credential value (unless you want to specify a different set of credentials).</span></span>  
  
 <span data-ttu-id="c6dac-119">Wszystkie poświadczenia usługi są dostępne jako elementy podrzędne [ \<serviceBehaviors >](../../../../docs/framework/configure-apps/file-schema/wcf/servicebehaviors.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-119">All service credentials are found as child elements of the [\<serviceBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/servicebehaviors.md).</span></span> <span data-ttu-id="c6dac-120">Poniższy przykład przedstawia certyfikat używany jako poświadczenie usługi.</span><span class="sxs-lookup"><span data-stu-id="c6dac-120">The following example shows a certificate used as a service credential.</span></span>  
  
```xml  
<configuration>  
 <system.serviceModel>  
  <behaviors>  
   <serviceBehaviors>  
    <behavior name="ServiceBehavior1">  
     <serviceCredentials>  
      <serviceCertificate findValue="000000000000000000000000000"   
                          storeLocation="CurrentUser"  
      storeName="Root" x509FindType="FindByThumbprint" />  
     </serviceCredentials>  
    </behavior>  
   </serviceBehaviors>  
  </behaviors>  
 </system.serviceModel>  
</configuration>  
```  
  
## <a name="service-credentials"></a><span data-ttu-id="c6dac-121">Poświadczenia usługi</span><span class="sxs-lookup"><span data-stu-id="c6dac-121">Service Credentials</span></span>  
 <span data-ttu-id="c6dac-122">[ \<ServiceCredentials >](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md) zawiera cztery elementy podrzędne.</span><span class="sxs-lookup"><span data-stu-id="c6dac-122">The [\<serviceCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/servicecredentials.md) contains four child elements.</span></span> <span data-ttu-id="c6dac-123">W poniższych sekcjach omówiono elementów i ich użycia.</span><span class="sxs-lookup"><span data-stu-id="c6dac-123">The elements and their usages are discussed in the following sections.</span></span>  
  
### <a name="servicecertificate-element"></a><span data-ttu-id="c6dac-124">\<serviceCertificate> Element</span><span class="sxs-lookup"><span data-stu-id="c6dac-124">\<serviceCertificate> Element</span></span>  
 <span data-ttu-id="c6dac-125">Użyj tego elementu, aby określić certyfikat X.509, który jest używany do uwierzytelniania usługi dla klientów używających trybu zabezpieczenia wiadomości.</span><span class="sxs-lookup"><span data-stu-id="c6dac-125">Use this element to specify an X.509 certificate that is used to authenticate the service to clients using Message security mode.</span></span> <span data-ttu-id="c6dac-126">Jeśli używasz certyfikatu, który jest okresowo odnawiać, następnie zmiany jego odcisk palca.</span><span class="sxs-lookup"><span data-stu-id="c6dac-126">If you are using a certificate that is periodically renewed, then its thumbprint changes.</span></span> <span data-ttu-id="c6dac-127">W takim przypadku użyj nazwy tematu jako `X509FindType` ponieważ certyfikat może zostać wydany ponownie o takiej samej nazwie podmiotu.</span><span class="sxs-lookup"><span data-stu-id="c6dac-127">In that case, use the subject name as the `X509FindType` because the certificate can be reissued with the same subject name.</span></span>  
  
 <span data-ttu-id="c6dac-128">Aby uzyskać więcej informacji na temat za pomocą elementu zobacz [jak: Określanie wartości poświadczeń klienta](../../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-128">For more information about using the element, see [How to: Specify Client Credential Values](../../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span></span>  
  
### <a name="certificate-of-clientcertificate-element"></a><span data-ttu-id="c6dac-129">\<certyfikat > z \<clientCertificate > Element</span><span class="sxs-lookup"><span data-stu-id="c6dac-129">\<certificate> of \<clientCertificate> Element</span></span>  
 <span data-ttu-id="c6dac-130">Użyj [ \<certyfikatu >](../../../../docs/framework/configure-apps/file-schema/wcf/certificate-of-clientcertificate-element.md) elementu w przypadku usługi musi mieć certyfikat klienta z wyprzedzeniem do bezpiecznego komunikowania się z klientem.</span><span class="sxs-lookup"><span data-stu-id="c6dac-130">Use the [\<certificate>](../../../../docs/framework/configure-apps/file-schema/wcf/certificate-of-clientcertificate-element.md) element when the service must have the client's certificate in advance to communicate securely with the client.</span></span> <span data-ttu-id="c6dac-131">Dzieje się tak, korzystając z paradygmacie komunikacji dupleksowej.</span><span class="sxs-lookup"><span data-stu-id="c6dac-131">This occurs when using the duplex communication pattern.</span></span> <span data-ttu-id="c6dac-132">W bardziej typowy wzorzec "żądanie-odpowiedź" klient dołącza swój certyfikat w żądaniu, w której usługa secure jego odpowiedź z powrotem do klienta.</span><span class="sxs-lookup"><span data-stu-id="c6dac-132">In the more typical request-reply pattern, the client includes its certificate in the request, which the service uses to secure its response back to the client.</span></span> <span data-ttu-id="c6dac-133">Paradygmacie komunikacji dupleksowej, jednak nie ma żądań i odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="c6dac-133">The duplex communication pattern, however, has no requests and replies.</span></span> <span data-ttu-id="c6dac-134">Usługa nie można wywnioskować certyfikat klienta z komunikacji i w związku z tym usługa wymaga certyfikatu klienta z wyprzedzeniem, aby zabezpieczyć wiadomości do klienta.</span><span class="sxs-lookup"><span data-stu-id="c6dac-134">The service cannot infer the client's certificate from the communication and therefore the service requires the client's certificate in advance to secure the messages to the client.</span></span> <span data-ttu-id="c6dac-135">Należy uzyskać certyfikat klienta w sposób out-of-band i Określ certyfikat przy użyciu tego elementu.</span><span class="sxs-lookup"><span data-stu-id="c6dac-135">You must obtain the client's certificate in an out-of-band manner and specify the certificate using this element.</span></span> <span data-ttu-id="c6dac-136">Aby uzyskać więcej informacji na temat usługi dwukierunkowe, zobacz [jak: Tworzenie kontraktu dwukierunkowego](../../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-136">For more information about duplex services, see [How to: Create a Duplex Contract](../../../../docs/framework/wcf/feature-details/how-to-create-a-duplex-contract.md).</span></span>  
  
### <a name="authentication-of-clientcertificate-element"></a><span data-ttu-id="c6dac-137">\<Uwierzytelnianie > z \<clientCertificate > Element</span><span class="sxs-lookup"><span data-stu-id="c6dac-137">\<authentication> of \<clientCertificate> Element</span></span>  
 <span data-ttu-id="c6dac-138">[ \<Uwierzytelniania >](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-clientcertificate-element.md) elementu pozwala na dostosowanie, sposób uwierzytelniania klientów.</span><span class="sxs-lookup"><span data-stu-id="c6dac-138">The [\<authentication>](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-clientcertificate-element.md) element enables you to customize how clients are authenticated.</span></span> <span data-ttu-id="c6dac-139">Możesz ustawić `CertificateValidationMode` atrybutu `None`, `ChainTrust`, `PeerOrChainTrust`, `PeerTrust`, lub `Custom`.</span><span class="sxs-lookup"><span data-stu-id="c6dac-139">You can set the `CertificateValidationMode` attribute to `None`, `ChainTrust`, `PeerOrChainTrust`, `PeerTrust`, or `Custom`.</span></span> <span data-ttu-id="c6dac-140">Domyślnie ustawiono poziom `ChainTrust`, która określa, że każdy certyfikat musi zostać znaleziony w hierarchii certyfikatów kończy się rozszerzeniem *główny urząd* w górnej części łańcucha.</span><span class="sxs-lookup"><span data-stu-id="c6dac-140">By default, the level is set to `ChainTrust`, which specifies that each certificate must be found in a hierarchy of certificates ending in a *root authority* at the top of the chain.</span></span> <span data-ttu-id="c6dac-141">Jest to najbezpieczniejsza opcja Tryb.</span><span class="sxs-lookup"><span data-stu-id="c6dac-141">This is the most secure mode.</span></span> <span data-ttu-id="c6dac-142">Można również ustawić wartość, `PeerOrChainTrust`, która określa, że własnym wystawionych certyfikatów (relacja zaufania elementów równorzędnych) są akceptowane oraz certyfikaty, które znajdują się w zaufanym łańcuchem.</span><span class="sxs-lookup"><span data-stu-id="c6dac-142">You can also set the value to `PeerOrChainTrust`, which specifies that self-issued certificates (peer trust) are accepted as well as certificates that are in a trusted chain.</span></span> <span data-ttu-id="c6dac-143">Ta wartość jest używana podczas opracowywania i debugowania klientów i usług, ponieważ własnym wystawionych certyfikatów nie należy zakupić od zaufanego urzędu.</span><span class="sxs-lookup"><span data-stu-id="c6dac-143">This value is used when developing and debugging clients and services because self-issued certificates need not be purchased from a trusted authority.</span></span> <span data-ttu-id="c6dac-144">Podczas wdrażania klienta, użyj `ChainTrust` jest wartość.</span><span class="sxs-lookup"><span data-stu-id="c6dac-144">When deploying a client, use the `ChainTrust` value instead.</span></span> <span data-ttu-id="c6dac-145">Można również ustawić wartość, `Custom`.</span><span class="sxs-lookup"><span data-stu-id="c6dac-145">You can also set the value to `Custom`.</span></span> <span data-ttu-id="c6dac-146">Po ustawieniu `Custom` wartości, należy także ustawić `CustomCertificateValidatorType` atrybutu do zestawu i typ używany do weryfikacji certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="c6dac-146">When set to the `Custom` value, you must also set the `CustomCertificateValidatorType` attribute to an assembly and type used to validate the certificate.</span></span> <span data-ttu-id="c6dac-147">Aby utworzyć własny niestandardowy moduł sprawdzania poprawności, musi dziedziczyć abstrakcyjnej <xref:System.IdentityModel.Selectors.X509CertificateValidator> klasy.</span><span class="sxs-lookup"><span data-stu-id="c6dac-147">To create your own custom validator, you must inherit from the abstract <xref:System.IdentityModel.Selectors.X509CertificateValidator> class.</span></span>  
  
### <a name="issuedtokenauthentication-element"></a><span data-ttu-id="c6dac-148">\<issuedTokenAuthentication> Element</span><span class="sxs-lookup"><span data-stu-id="c6dac-148">\<issuedTokenAuthentication> Element</span></span>  
 <span data-ttu-id="c6dac-149">Wystawiony token scenariusz ma trzy etapy.</span><span class="sxs-lookup"><span data-stu-id="c6dac-149">The issued token scenario has three stages.</span></span> <span data-ttu-id="c6dac-150">W pierwszym etapie klienta próby uzyskania dostępu do usługi jest określane *secure token service* (STS).</span><span class="sxs-lookup"><span data-stu-id="c6dac-150">In the first stage, a client trying to access a service is referred to a *secure token service* (STS).</span></span> <span data-ttu-id="c6dac-151">Usługa STS następnie uwierzytelnia klientów, a następnie wystawia token, zazwyczaj token zabezpieczeń potwierdzenia Markup Language (SAML) klienta.</span><span class="sxs-lookup"><span data-stu-id="c6dac-151">The STS then authenticates the client and subsequently issues the client a token, typically a Security Assertions Markup Language (SAML) token.</span></span> <span data-ttu-id="c6dac-152">Klient powraca do usługi przy użyciu tokenu.</span><span class="sxs-lookup"><span data-stu-id="c6dac-152">The client then returns to the service with the token.</span></span> <span data-ttu-id="c6dac-153">Usługa sprawdza, czy token dla danych, które umożliwia usłudze uwierzytelniania tokenu, a w związku z tym klientem.</span><span class="sxs-lookup"><span data-stu-id="c6dac-153">The service examines the token for data that allows the service to authenticate the token and therefore the client.</span></span> <span data-ttu-id="c6dac-154">W celu uwierzytelnienia tokenu certyfikatu, który używa usługa bezpiecznych tokenów musi być znane, do usługi.</span><span class="sxs-lookup"><span data-stu-id="c6dac-154">To authenticate the token, the certificate that the secure token service uses must be known to the service.</span></span> <span data-ttu-id="c6dac-155">[ \<IssuedTokenAuthentication >](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtokenauthentication-of-servicecredentials.md) element jest repozytorium dla wszystkich certyfikatów usługa bezpiecznych tokenów.</span><span class="sxs-lookup"><span data-stu-id="c6dac-155">The [\<issuedTokenAuthentication>](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtokenauthentication-of-servicecredentials.md) element is the repository for any such secure token service certificates.</span></span> <span data-ttu-id="c6dac-156">Aby dodać certyfikaty, należy użyć [ \<knownCertificates >](../../../../docs/framework/configure-apps/file-schema/wcf/knowncertificates.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-156">To add certificates, use the [\<knownCertificates>](../../../../docs/framework/configure-apps/file-schema/wcf/knowncertificates.md).</span></span> <span data-ttu-id="c6dac-157">Wstaw [ \<Dodaj >](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-knowncertificates.md) dla każdego certyfikatu, jak pokazano w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="c6dac-157">Insert an [\<add>](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-knowncertificates.md) for each certificate, as shown in the following example.</span></span>  
  
```xml  
<issuedTokenAuthentication>  
   <knownCertificates>  
      <add findValue="www.contoso.com"   
           storeLocation="LocalMachine" storeName="My"   
           X509FindType="FindBySubjectName" />  
    </knownCertificates>  
</issuedTokenAuthentication>  
```  
  
 <span data-ttu-id="c6dac-158">Domyślnie certyfikaty musi pochodzić od usługa bezpiecznych tokenów.</span><span class="sxs-lookup"><span data-stu-id="c6dac-158">By default, the certificates must be obtained from a secure token service.</span></span> <span data-ttu-id="c6dac-159">Te certyfikaty, upewnij się, że wiarygodnych tylko klienci "znane" Uzyskiwanie dostępu do usługi.</span><span class="sxs-lookup"><span data-stu-id="c6dac-159">These "known" certificates ensure that only legitimate clients can access a service.</span></span>  
  
 <span data-ttu-id="c6dac-160">Należy używać [ \<allowedAudienceUris >](../../../../docs/framework/configure-apps/file-schema/wcf/allowedaudienceuris.md) kolekcji w aplikacji federacyjnych, która korzysta z *secure token service* (STS), który wystawia `SamlSecurityToken` tokenów zabezpieczających.</span><span class="sxs-lookup"><span data-stu-id="c6dac-160">You should use the [\<allowedAudienceUris>](../../../../docs/framework/configure-apps/file-schema/wcf/allowedaudienceuris.md) collection in a federated application that utilizes a *secure token service* (STS) that issues `SamlSecurityToken` security tokens.</span></span> <span data-ttu-id="c6dac-161">Gdy Usługa STS wystawia token zabezpieczający, można określić identyfikator URI usługi sieci Web, dla których token zabezpieczający jest przeznaczony przez dodanie `SamlAudienceRestrictionCondition` do tokenu zabezpieczającego.</span><span class="sxs-lookup"><span data-stu-id="c6dac-161">When the STS issues the security token, it can specify the URI of the Web services for which the security token is intended by adding a `SamlAudienceRestrictionCondition` to the security token.</span></span> <span data-ttu-id="c6dac-162">Umożliwiająca `SamlSecurityTokenAuthenticator` odbiorcy usługi sieci Web sprawdzić, czy token zabezpieczeń jest przeznaczony dla tej usługi sieci Web, określając, że ten test ma się zdarzyć, wykonując następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="c6dac-162">That allows the `SamlSecurityTokenAuthenticator` for the recipient Web service to verify that the issued security token is intended for this Web service by specifying that this check should happen by doing the following:</span></span>  
  
-   <span data-ttu-id="c6dac-163">Ustaw `audienceUriMode` atrybutu [ \<issuedTokenAuthentication >](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtokenauthentication-of-servicecredentials.md) do `Always` lub `BearerKeyOnly`.</span><span class="sxs-lookup"><span data-stu-id="c6dac-163">Set the `audienceUriMode` attribute of [\<issuedTokenAuthentication>](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtokenauthentication-of-servicecredentials.md) to `Always` or `BearerKeyOnly`.</span></span>  
  
-   <span data-ttu-id="c6dac-164">Określ zbiór prawidłowe identyfikatory URI, dodając identyfikatory URI do tej kolekcji.</span><span class="sxs-lookup"><span data-stu-id="c6dac-164">Specify the set of valid URIs, by adding the URIs to this collection.</span></span> <span data-ttu-id="c6dac-165">Aby to zrobić, należy wstawić [ \<Dodaj >](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-allowedaudienceuris.md) dla każdego identyfikatora URI</span><span class="sxs-lookup"><span data-stu-id="c6dac-165">To do this, insert an [\<add>](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-allowedaudienceuris.md) for each URI</span></span>  
  
 <span data-ttu-id="c6dac-166">Aby uzyskać więcej informacji, zobacz <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator>.</span><span class="sxs-lookup"><span data-stu-id="c6dac-166">For more information, see <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator>.</span></span>  
  
 <span data-ttu-id="c6dac-167">Aby uzyskać więcej informacji o używaniu ten element konfiguracji, zobacz [jak: Konfigurowanie poświadczeń usługi federacyjnej](../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-167">For more information about using this configuration element, see [How to: Configure Credentials on a Federation Service](../../../../docs/framework/wcf/feature-details/how-to-configure-credentials-on-a-federation-service.md).</span></span>  
  
#### <a name="allowing-anonymous-cardspace-users"></a><span data-ttu-id="c6dac-168">Zezwalanie użytkownikom anonimowym CardSpace</span><span class="sxs-lookup"><span data-stu-id="c6dac-168">Allowing Anonymous CardSpace Users</span></span>  
 <span data-ttu-id="c6dac-169">Ustawienie `AllowUntrustedRsaIssuers` atrybutu `<IssuedTokenAuthentication>` elementu `true` jawnie umożliwia dowolnego klienta przedstawić token wystawiony samodzielnie podpisany przy użyciu dowolnego pary kluczy RSA.</span><span class="sxs-lookup"><span data-stu-id="c6dac-169">Setting the `AllowUntrustedRsaIssuers` attribute of the `<IssuedTokenAuthentication>` element to `true` explicitly allows any client to present a self-issued token signed with an arbitrary RSA key pair.</span></span> <span data-ttu-id="c6dac-170">Wystawca ma *niezaufanych* ponieważ klucz nie zawiera wystawcy danych skojarzonych z nim.</span><span class="sxs-lookup"><span data-stu-id="c6dac-170">The issuer is *untrusted* because the key has no issuer data associated with it.</span></span> <span data-ttu-id="c6dac-171">A [!INCLUDE[infocard](../../../../includes/infocard-md.md)] użytkownik może utworzyć własny wystawionego kartę, która zawiera własny podana oświadczeń tożsamości.</span><span class="sxs-lookup"><span data-stu-id="c6dac-171">A [!INCLUDE[infocard](../../../../includes/infocard-md.md)] user can create a self-issued card that includes self-provided claims of identity.</span></span> <span data-ttu-id="c6dac-172">Tej funkcji należy używać ostrożnie.</span><span class="sxs-lookup"><span data-stu-id="c6dac-172">Use this capability with caution.</span></span> <span data-ttu-id="c6dac-173">Aby użyć tej funkcji, pomyśl o klucz publiczny RSA jako bardziej bezpiecznym hasłem, które mają być przechowywane w bazie danych wraz z nazwą użytkownika.</span><span class="sxs-lookup"><span data-stu-id="c6dac-173">To use this feature, think of the RSA public key as a more secure password that should be stored in a database along with a user name.</span></span> <span data-ttu-id="c6dac-174">Przed zezwoleniem na dostęp klienta do usługi, sprawdź klient przedstawiony klucz publiczny RSA, porównując go z kluczem publicznym przechowywanych dla nazwy użytkownika przedstawiony.</span><span class="sxs-lookup"><span data-stu-id="c6dac-174">Before allowing a client access to the service, verify the client-presented RSA public key by comparing it with the stored public key for the presented user name.</span></span> <span data-ttu-id="c6dac-175">Przy założeniu, że ustanowiono procesu rejestracji, według których użytkownicy mogą zarejestrować swoje nazwy użytkownika i skojarz je z własnym wystawiony klucze publiczne RSA.</span><span class="sxs-lookup"><span data-stu-id="c6dac-175">This presumes that you have established a registration process whereby users can register their user names and associate them with the self-issued RSA public keys.</span></span>  
  
## <a name="client-credentials"></a><span data-ttu-id="c6dac-176">Poświadczenia klienta</span><span class="sxs-lookup"><span data-stu-id="c6dac-176">Client Credentials</span></span>  
 <span data-ttu-id="c6dac-177">Poświadczenia klienta są używane do uwierzytelniania klienta do usługi w przypadkach, gdy jest wymagane uwierzytelnianie wzajemne.</span><span class="sxs-lookup"><span data-stu-id="c6dac-177">Client credentials are used to authenticate the client to services in cases where mutual authentication is required.</span></span> <span data-ttu-id="c6dac-178">Aby określić certyfikaty usługi dla scenariuszy gdzie klienta należy zabezpieczyć komunikaty do usługi za pomocą certyfikatu usługi, można użyć sekcji.</span><span class="sxs-lookup"><span data-stu-id="c6dac-178">You can use the section to specify service certificates for scenarios where the client must secure messages to a service with the service's certificate.</span></span>  
  
 <span data-ttu-id="c6dac-179">Można także skonfigurować klienta jako część scenariusz Federacji do użycia wystawione tokeny usługa bezpiecznych tokenów lub lokalnego wystawcy tokenów.</span><span class="sxs-lookup"><span data-stu-id="c6dac-179">You can also configure a client as part of a federation scenario to use issued tokens from a secure token service or a local issuer of tokens.</span></span> <span data-ttu-id="c6dac-180">Aby uzyskać więcej informacji o scenariuszach obejmujących Federację, zobacz [Federacja i wystawione tokeny](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-180">For more information about federated scenarios, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span> <span data-ttu-id="c6dac-181">Wszystkie poświadczenia klienta znajdują się w obszarze [ \<endpointBehaviors >](../../../../docs/framework/configure-apps/file-schema/wcf/endpointbehaviors.md), jak pokazano w poniższym kodzie.</span><span class="sxs-lookup"><span data-stu-id="c6dac-181">All client credentials are found under the [\<endpointBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/endpointbehaviors.md), as shown in the following code.</span></span>  
  
```xml  
<behaviors>  
 <endpointBehaviors>  
  <behavior name="EndpointBehavior1">  
   <clientCredentials>  
    <clientCertificate findValue="cn=www.contoso.com"     
        storeLocation="LocalMachine"  
        storeName="AuthRoot" x509FindType="FindBySubjectName" />  
    <serviceCertificate>  
     <defaultCertificate findValue="www.cohowinery.com"   
                    storeLocation="LocalMachine"  
                    storeName="Root" x509FindType="FindByIssuerName" />  
    <authentication revocationMode="Online"  
                    trustedStoreLocation="LocalMachine" />  
    </serviceCertificate>  
   </clientCredentials>  
  </behavior>  
 </endpointBehaviors>  
```  
  
#### <a name="clientcertifictate-element"></a><span data-ttu-id="c6dac-182">\<clientCertifictate> Element</span><span class="sxs-lookup"><span data-stu-id="c6dac-182">\<clientCertifictate> Element</span></span>  
 <span data-ttu-id="c6dac-183">Ustaw certyfikat używany do uwierzytelniania klienta z tym elementem.</span><span class="sxs-lookup"><span data-stu-id="c6dac-183">Set the certificate used to authenticate the client with this element.</span></span> <span data-ttu-id="c6dac-184">Aby uzyskać więcej informacji, zobacz [jak: Określanie wartości poświadczeń klienta](../../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-184">For more information, see [How to: Specify Client Credential Values](../../../../docs/framework/wcf/how-to-specify-client-credential-values.md).</span></span>  
  
#### <a name="httpdigest"></a><span data-ttu-id="c6dac-185">\<httpDigest></span><span class="sxs-lookup"><span data-stu-id="c6dac-185">\<httpDigest></span></span>  
 <span data-ttu-id="c6dac-186">Ta funkcja wymaga włączenia w usłudze Active Directory, Windows i Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="c6dac-186">This feature must be enabled with Active Directory on Windows and Internet Information Services (IIS).</span></span> <span data-ttu-id="c6dac-187">Aby uzyskać więcej informacji, zobacz [uwierzytelnianie szyfrowane w usługach IIS 6.0](https://go.microsoft.com/fwlink/?LinkId=88443).</span><span class="sxs-lookup"><span data-stu-id="c6dac-187">For more information, see [Digest Authentication in IIS 6.0](https://go.microsoft.com/fwlink/?LinkId=88443).</span></span>  
  
#### <a name="issuedtoken-element"></a><span data-ttu-id="c6dac-188">\<issuedToken > Element</span><span class="sxs-lookup"><span data-stu-id="c6dac-188">\<issuedToken> Element</span></span>  
 <span data-ttu-id="c6dac-189">[ \<IssuedToken >](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtoken.md) zawiera elementy umożliwia konfigurowanie lokalnego wystawcy tokenów lub zachowania używane z usługi tokenu zabezpieczającego.</span><span class="sxs-lookup"><span data-stu-id="c6dac-189">The [\<issuedToken>](../../../../docs/framework/configure-apps/file-schema/wcf/issuedtoken.md) contains the elements used to configure a local issuer of tokens, or behaviors used with an security token service.</span></span> <span data-ttu-id="c6dac-190">Aby uzyskać instrukcje na temat konfigurowania klienta Użyj wystawcy lokalnego, zobacz [jak: Konfigurowanie lokalnego wystawcy](../../../../docs/framework/wcf/feature-details/how-to-configure-a-local-issuer.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-190">For instructions on configuring a client to use a local issuer, see [How to: Configure a Local Issuer](../../../../docs/framework/wcf/feature-details/how-to-configure-a-local-issuer.md).</span></span>  
  
#### <a name="localissueraddress"></a><span data-ttu-id="c6dac-191">\<localIssuerAddress></span><span class="sxs-lookup"><span data-stu-id="c6dac-191">\<localIssuerAddress></span></span>  
 <span data-ttu-id="c6dac-192">Określa domyślny adres usługi tokenu zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="c6dac-192">Specifies a default security token service address.</span></span> <span data-ttu-id="c6dac-193">Jest on używany podczas <xref:System.ServiceModel.WSFederationHttpBinding> nie dostarcza adres URL dla usługi tokenu zabezpieczającego lub gdy adres wystawcy powiązania federacyjnego `http://schemas.microsoft.com/2005/12/ServiceModel/Addressing/Anonymous` lub `null`.</span><span class="sxs-lookup"><span data-stu-id="c6dac-193">This is used when the <xref:System.ServiceModel.WSFederationHttpBinding> does not supply a URL for the security token service, or when the issuer address of a federated binding is `http://schemas.microsoft.com/2005/12/ServiceModel/Addressing/Anonymous` or `null`.</span></span> <span data-ttu-id="c6dac-194">W takich przypadkach <xref:System.ServiceModel.Description.ClientCredentials> musi być skonfigurowany za pomocą adresu lokalnego wystawcy i powiązanie, aby używać do komunikowania się z tym wystawcą.</span><span class="sxs-lookup"><span data-stu-id="c6dac-194">In such cases, the <xref:System.ServiceModel.Description.ClientCredentials> must be configured with the address of the local issuer and the binding to use to communicate with that issuer.</span></span>  
  
#### <a name="issuerchannelbehaviors"></a><span data-ttu-id="c6dac-195">\<issuerChannelBehaviors></span><span class="sxs-lookup"><span data-stu-id="c6dac-195">\<issuerChannelBehaviors></span></span>  
 <span data-ttu-id="c6dac-196">Użyj [ \<issuerChannelBehaviors >](../../../../docs/framework/configure-apps/file-schema/wcf/issuerchannelbehaviors-element.md) dodać zachowań klienta WCF, używane podczas komunikacji z usługi tokenu zabezpieczającego.</span><span class="sxs-lookup"><span data-stu-id="c6dac-196">Use the [\<issuerChannelBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/issuerchannelbehaviors-element.md) to add WCF client behaviors used when communicating with a security token service.</span></span> <span data-ttu-id="c6dac-197">Definiowanie zachowania klienta w [ \<endpointBehaviors >](../../../../docs/framework/configure-apps/file-schema/wcf/endpointbehaviors.md) sekcji.</span><span class="sxs-lookup"><span data-stu-id="c6dac-197">Define client behaviors in the [\<endpointBehaviors>](../../../../docs/framework/configure-apps/file-schema/wcf/endpointbehaviors.md) section.</span></span> <span data-ttu-id="c6dac-198">Aby użyć zdefiniowanego zachowania, należy dodać <`add`> elementu `<issuerChannelBehaviors>` elementu o dwa atrybuty.</span><span class="sxs-lookup"><span data-stu-id="c6dac-198">To use a defined behavior, add an <`add`> element to the `<issuerChannelBehaviors>` element with two attributes.</span></span> <span data-ttu-id="c6dac-199">Ustaw `issuerAddress` do adresu URL usługi tokenów zabezpieczeń i ustaw `behaviorConfiguration` atrybutu Nazwa zachowania zdefiniowanego punktu końcowego, jak pokazano w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="c6dac-199">Set the `issuerAddress` to the URL of the security token service and set the `behaviorConfiguration` attribute to the name of the defined endpoint behavior, as shown in the following example.</span></span>  
  
```xml  
<clientCredentials>  
   <issuedToken>  
      <issuerChannelBehaviors>  
         <add issuerAddress="http://www.contoso.com"  
               behaviorConfiguration="clientBehavior1" />     
```  
  
#### <a name="servicecertificate-element"></a><span data-ttu-id="c6dac-200">\<serviceCertificate> Element</span><span class="sxs-lookup"><span data-stu-id="c6dac-200">\<serviceCertificate> Element</span></span>  
 <span data-ttu-id="c6dac-201">Użyj tego elementu do kontrolowania uwierzytelniania certyfikatów usługi.</span><span class="sxs-lookup"><span data-stu-id="c6dac-201">Use this element to control authentication of service certificates.</span></span>  
  
 <span data-ttu-id="c6dac-202">[ \<DefaultCertificate >](../../../../docs/framework/configure-apps/file-schema/wcf/defaultcertificate-element.md) elementu można przechowywać jeden certyfikat używany, gdy usługa określa żadnego certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="c6dac-202">The [\<defaultCertificate>](../../../../docs/framework/configure-apps/file-schema/wcf/defaultcertificate-element.md) element can store a single certificate used when the service specifies no certificate.</span></span>  
  
 <span data-ttu-id="c6dac-203">Użyj [ \<scopedCertificates >](../../../../docs/framework/configure-apps/file-schema/wcf/scopedcertificates-element.md) i [ \<Dodaj >](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-scopedcertificates-element.md) można ustawić certyfikaty usługi, które są skojarzone z określonymi usługami.</span><span class="sxs-lookup"><span data-stu-id="c6dac-203">Use the [\<scopedCertificates>](../../../../docs/framework/configure-apps/file-schema/wcf/scopedcertificates-element.md) and [\<add>](../../../../docs/framework/configure-apps/file-schema/wcf/add-of-scopedcertificates-element.md) to set service certificates that are associated with specific services.</span></span> <span data-ttu-id="c6dac-204">`<add>` Element zawiera `targetUri` atrybut, który jest używany do skojarzyć certyfikat z usługą.</span><span class="sxs-lookup"><span data-stu-id="c6dac-204">The `<add>` element includes a `targetUri` attribute that is used to associate the certificate with the service.</span></span>  
  
 <span data-ttu-id="c6dac-205">[ \<Uwierzytelniania >](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-servicecertificate-element.md) element określa poziom zaufania, używany do uwierzytelniania certyfikatów.</span><span class="sxs-lookup"><span data-stu-id="c6dac-205">The [\<authentication>](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-servicecertificate-element.md) element specifies the level of trust used to authenticate certificates.</span></span> <span data-ttu-id="c6dac-206">Domyślnie ustawiono poziom "ChainTrust", który określa, że każdy certyfikat musi zostać znaleziony w hierarchii końcówce zaufanego urzędu certyfikacji w górnej części łańcucha certyfikatów.</span><span class="sxs-lookup"><span data-stu-id="c6dac-206">By default, the level is set to "ChainTrust," which specifies that each certificate must be found in a hierarchy of certificates ending in a trusted certification authority at the top of the chain.</span></span> <span data-ttu-id="c6dac-207">Jest to najbezpieczniejsza opcja Tryb.</span><span class="sxs-lookup"><span data-stu-id="c6dac-207">This is the most secure mode.</span></span> <span data-ttu-id="c6dac-208">Można również ustawić wartość "PeerOrChainTrust", który określa, że własnym wystawionych certyfikatów (relacja zaufania elementów równorzędnych) są akceptowane, a także certyfikaty, które znajdują się w zaufanym łańcuchem.</span><span class="sxs-lookup"><span data-stu-id="c6dac-208">You can also set the value to "PeerOrChainTrust", which specifies that self-issued certificates (peer trust) are accepted, as well as certificates that are in a trusted chain.</span></span> <span data-ttu-id="c6dac-209">Ta wartość jest używana podczas opracowywania i debugowania klientów i usług, ponieważ własnym wystawionych certyfikatów nie należy zakupić od zaufanego urzędu.</span><span class="sxs-lookup"><span data-stu-id="c6dac-209">This value is used when developing and debugging clients and services because self-issued certificates need not be purchased from a trusted authority.</span></span> <span data-ttu-id="c6dac-210">Podczas wdrażania klienta, należy użyć wartości "ChainTrust".</span><span class="sxs-lookup"><span data-stu-id="c6dac-210">When deploying a client, use the "ChainTrust" value instead.</span></span> <span data-ttu-id="c6dac-211">Można również ustawić wartość "Niestandardowe" lub "None".</span><span class="sxs-lookup"><span data-stu-id="c6dac-211">You can also set the value to "Custom" or "None."</span></span> <span data-ttu-id="c6dac-212">Aby użyć wartości "Niestandardowy", należy także ustawić `CustomCertificateValidatorType` atrybutu do zestawu i typ używany do weryfikacji certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="c6dac-212">To use the "Custom" value, you must also set the `CustomCertificateValidatorType` attribute to an assembly and type used to validate the certificate.</span></span> <span data-ttu-id="c6dac-213">Aby utworzyć własny niestandardowy moduł sprawdzania poprawności, musi dziedziczyć abstrakcyjnej <xref:System.IdentityModel.Selectors.X509CertificateValidator> klasy.</span><span class="sxs-lookup"><span data-stu-id="c6dac-213">To create your own custom validator, you must inherit from the abstract <xref:System.IdentityModel.Selectors.X509CertificateValidator> class.</span></span> <span data-ttu-id="c6dac-214">Aby uzyskać więcej informacji, zobacz [jak: Tworzenie usługi korzystającej z niestandardowego modułu weryfikacji certyfikatów](../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-214">For more information, see [How to: Create a Service that Employs a Custom Certificate Validator](../../../../docs/framework/wcf/extending/how-to-create-a-service-that-employs-a-custom-certificate-validator.md).</span></span>  
  
 <span data-ttu-id="c6dac-215">[ \<Uwierzytelniania >](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-servicecertificate-element.md) element zawiera `RevocationMode` atrybut określający, jak certyfikaty są sprawdzane pod kątem odwołań.</span><span class="sxs-lookup"><span data-stu-id="c6dac-215">The [\<authentication>](../../../../docs/framework/configure-apps/file-schema/wcf/authentication-of-servicecertificate-element.md) element includes a `RevocationMode` attribute that specifies how certificates are checked for revocation.</span></span> <span data-ttu-id="c6dac-216">Wartość domyślna to "online", co oznacza, że certyfikaty są automatycznie sprawdzane pod kątem odwołań.</span><span class="sxs-lookup"><span data-stu-id="c6dac-216">The default is "online", which indicates that certificates are automatically checked for revocation.</span></span> <span data-ttu-id="c6dac-217">Aby uzyskać więcej informacji, zobacz [Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-217">For more information, see [Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span></span>  
  
## <a name="serviceauthorization"></a><span data-ttu-id="c6dac-218">ServiceAuthorization</span><span class="sxs-lookup"><span data-stu-id="c6dac-218">ServiceAuthorization</span></span>  
 <span data-ttu-id="c6dac-219">[ \<ServiceAuthorization >](../../../../docs/framework/configure-apps/file-schema/wcf/serviceauthorization-element.md) element zawiera elementy, które wpływają na autoryzacji, ról niestandardowych dostawców i personifikacji.</span><span class="sxs-lookup"><span data-stu-id="c6dac-219">The [\<serviceAuthorization>](../../../../docs/framework/configure-apps/file-schema/wcf/serviceauthorization-element.md) element contains elements that affect authorization, custom role providers, and impersonation.</span></span>  
  
 <span data-ttu-id="c6dac-220"><xref:System.Security.Permissions.PrincipalPermissionAttribute> Klasy jest stosowany do metody usługi.</span><span class="sxs-lookup"><span data-stu-id="c6dac-220">The <xref:System.Security.Permissions.PrincipalPermissionAttribute> class is applied to a service method.</span></span> <span data-ttu-id="c6dac-221">Ten atrybut określa grupy użytkowników do użycia podczas nadanie Metoda chroniona.</span><span class="sxs-lookup"><span data-stu-id="c6dac-221">The attribute specifies the groups of users to use when authorizing use of a protected method.</span></span> <span data-ttu-id="c6dac-222">Wartością domyślną jest "UseWindowsGroups" i określa, czy grupy Windows, takie jak "Administratorzy" lub "Użytkowników", są przeszukiwane pod kątem tożsamości próby uzyskania dostępu do zasobu.</span><span class="sxs-lookup"><span data-stu-id="c6dac-222">The default value is "UseWindowsGroups" and specifies that Windows groups, such as "Administrators" or "Users," are searched for an identity trying to access a resource.</span></span> <span data-ttu-id="c6dac-223">Można również określić "UseAspNetRoles" Używanie dostawcy roli niestandardowej, skonfigurowanego w obszarze <`system.web` > elementu, jak pokazano w poniższym kodzie.</span><span class="sxs-lookup"><span data-stu-id="c6dac-223">You can also specify "UseAspNetRoles" to use a custom role provider that is configured under the <`system.web` > element, as shown in the following code.</span></span>  
  
```xml  
<system.web>  
  <membership defaultProvider="SqlProvider"   
   userIsOnlineTimeWindow="15">  
     <providers>  
       <clear />  
       <add   
          name="SqlProvider"   
          type="System.Web.Security.SqlMembershipProvider"   
          connectionStringName="SqlConn"  
          applicationName="MembershipProvider"  
          enablePasswordRetrieval="false"  
          enablePasswordReset="false"  
          requiresQuestionAndAnswer="false"  
          requiresUniqueEmail="true"  
          passwordFormat="Hashed" />  
     </providers>  
   </membership>  
  <!-- Other configuration code not shown.-->  
</system.web>  
```  
  
 <span data-ttu-id="c6dac-224">Poniższy kod przedstawia `roleProviderName` używane z `principalPermissionMode` atrybutu.</span><span class="sxs-lookup"><span data-stu-id="c6dac-224">The following code shows the `roleProviderName` used with the `principalPermissionMode` attribute.</span></span>  
  
```xml  
<behaviors>  
 <behavior name="ServiceBehaviour">          
  <serviceAuthorization principalPermissionMode ="UseAspNetRoles"   
                        roleProviderName ="SqlProvider" />  
</behavior>   
   <!-- Other configuration code not shown. -->  
</behaviors>  
```  
  
## <a name="configuring-security-audits"></a><span data-ttu-id="c6dac-225">Konfigurowanie inspekcji zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="c6dac-225">Configuring Security Audits</span></span>  
 <span data-ttu-id="c6dac-226">Użyj [ \<serviceSecurityAudit >](../../../../docs/framework/configure-apps/file-schema/wcf/servicesecurityaudit.md) do określania dziennika zapisywane i jakie typy zdarzeń logowania.</span><span class="sxs-lookup"><span data-stu-id="c6dac-226">Use the [\<serviceSecurityAudit>](../../../../docs/framework/configure-apps/file-schema/wcf/servicesecurityaudit.md) to specify the log written to, and what types of events to log.</span></span> <span data-ttu-id="c6dac-227">Aby uzyskać więcej informacji, zobacz [inspekcji](../../../../docs/framework/wcf/feature-details/auditing-security-events.md).</span><span class="sxs-lookup"><span data-stu-id="c6dac-227">For more information, see [Auditing](../../../../docs/framework/wcf/feature-details/auditing-security-events.md).</span></span>  
  
```xml  
<system.serviceModel>  
<serviceBehaviors>  
  <behavior name="NewBehavior">  
    <serviceSecurityAudit auditLogLocation="Application"   
             suppressAuditFailure="true"  
             serviceAuthorizationAuditLevel="Success"   
             messageAuthenticationAuditLevel="Success" />  
    </behavior>  
  </serviceBehaviors>  
</behaviors>  
```  
  
## <a name="secure-metadata-exchange"></a><span data-ttu-id="c6dac-228">Bezpiecznej wymiany metadanych</span><span class="sxs-lookup"><span data-stu-id="c6dac-228">Secure Metadata Exchange</span></span>  
 <span data-ttu-id="c6dac-229">Eksportowanie metadanych dla klientów jest wygodne dla deweloperów usługi i klienta, jak umożliwia pobieranie kodu, konfiguracji i klienta.</span><span class="sxs-lookup"><span data-stu-id="c6dac-229">Exporting metadata to clients is convenient for service and client developers, as it enables downloads of configuration and client code.</span></span> <span data-ttu-id="c6dac-230">Aby zmniejszyć prawdopodobieństwo ujawnienia danych usługi do złośliwych użytkowników, istnieje możliwość bezpiecznego transferu za pomocą protokołu SSL za pośrednictwem mechanizmu HTTP (HTTPS).</span><span class="sxs-lookup"><span data-stu-id="c6dac-230">To reduce the exposure of a service to malicious users, it is possible to secure the transfer using the SSL over HTTP (HTTPS) mechanism.</span></span> <span data-ttu-id="c6dac-231">Aby to zrobić, możesz powiązać odpowiedniego certyfikatu X.509 do określonego portu, na komputerze, który jest hostem usługi.</span><span class="sxs-lookup"><span data-stu-id="c6dac-231">To do so, you must first bind a suitable X.509 certificate to a specific port on the computer that is hosting the service.</span></span> <span data-ttu-id="c6dac-232">(Aby uzyskać więcej informacji, zobacz [Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).) Po drugie, Dodaj [ \<serviceMetadata w pliku >](../../../../docs/framework/configure-apps/file-schema/wcf/servicemetadata.md) do konfiguracji usługi i ustaw `HttpsGetEnabled` atrybutu `true`.</span><span class="sxs-lookup"><span data-stu-id="c6dac-232">(For more information, see [Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).) Second, add a [\<serviceMetadata>](../../../../docs/framework/configure-apps/file-schema/wcf/servicemetadata.md) to the service configuration and set the `HttpsGetEnabled` attribute to `true`.</span></span> <span data-ttu-id="c6dac-233">Wreszcie, ustaw `HttpsGetUrl` atrybutu do adresu URL punktu końcowego metadanych usługi, jak pokazano w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="c6dac-233">Finally, set the `HttpsGetUrl` attribute to the URL of the service metadata endpoint, as shown in the following example.</span></span>  
  
```xml  
<behaviors>  
 <serviceBehaviors>  
  <behavior name="NewBehavior">  
    <serviceMetadata httpsGetEnabled="true"   
     httpsGetUrl="https://myComputerName/myEndpoint" />  
  </behavior>  
 </serviceBehaviors>  
</behaviors>  
```  
  
## <a name="see-also"></a><span data-ttu-id="c6dac-234">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="c6dac-234">See also</span></span>

- [<span data-ttu-id="c6dac-235">Inspekcja</span><span class="sxs-lookup"><span data-stu-id="c6dac-235">Auditing</span></span>](../../../../docs/framework/wcf/feature-details/auditing-security-events.md)
- [<span data-ttu-id="c6dac-236">Model zabezpieczeń dla systemu Windows Server AppFabric</span><span class="sxs-lookup"><span data-stu-id="c6dac-236">Security Model for Windows Server App Fabric</span></span>](https://go.microsoft.com/fwlink/?LinkID=201279&clcid=0x409)
