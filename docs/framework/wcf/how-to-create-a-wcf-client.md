---
title: 'Instrukcje: Tworzenie klienta WCF (Windows Communication Foundation)'
ms.date: 09/14/2018
helpviewer_keywords:
- clients [WCF], running
- WCF clients [WCF], running
ms.assetid: a67884cc-1c4b-416b-8c96-5c954099f19f
ms.openlocfilehash: 1eadb5008575a1a53d685db14d68e42d0dce1360
ms.sourcegitcommit: 213292dfbb0c37d83f62709959ff55c50af5560d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/25/2018
ms.locfileid: "47070679"
---
# <a name="how-to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="4c2ab-102">Instrukcje: Tworzenie klienta WCF (Windows Communication Foundation)</span><span class="sxs-lookup"><span data-stu-id="4c2ab-102">How to: Create a Windows Communication Foundation Client</span></span>

<span data-ttu-id="4c2ab-103">Jest to czwarta sześciu zadań podrzędnych, wymagane do utworzenia aplikacji Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="4c2ab-103">This is the fourth of six tasks required to create a Windows Communication Foundation (WCF) application.</span></span> <span data-ttu-id="4c2ab-104">Omówienie wszystkich sześciu zadań, zobacz [Samouczek wprowadzający](../../../docs/framework/wcf/getting-started-tutorial.md) tematu.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-104">For an overview of all six of the tasks, see the [Getting Started Tutorial](../../../docs/framework/wcf/getting-started-tutorial.md) topic.</span></span>

<span data-ttu-id="4c2ab-105">W tym temacie opisano, jak można pobrać metadanych z usługi WCF i użyć go do utworzenia WCF serwera proxy, który można uzyskać dostęp do usługi.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-105">This topic describes how to retrieve metadata from a WCF service and use it to create a WCF proxy that can access the service.</span></span> <span data-ttu-id="4c2ab-106">To zadanie jest wykonywane przy użyciu **Dodaj odwołanie do usługi** funkcje zapewniane przez program Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-106">This task is completed by using the **Add Service Reference** functionality provided by Visual Studio.</span></span> <span data-ttu-id="4c2ab-107">To narzędzie pobiera metadane z końcowego MEX usługi i generuje plik kodu źródłowego zarządzanego klienta proxy usługi w języka wybrane (C# domyślnie).</span><span class="sxs-lookup"><span data-stu-id="4c2ab-107">This tool obtains the metadata from the service’s MEX endpoint and generates a managed source code file for a client proxy in the language you have chosen (C# by default).</span></span> <span data-ttu-id="4c2ab-108">Oprócz tworzenia serwera proxy klienta, narzędzie tworzy lub aktualizuje plik konfiguracji klienta, która pozwala połączyć się z usługą w jednej z jej punktów końcowych aplikacji klienckiej.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-108">In addition to creating the client proxy, the tool also creates or updates the client configuration file which enables the client application to connect to the service at one of its endpoints.</span></span>

> [!NOTE]
> <span data-ttu-id="4c2ab-109">Można również użyć [narzędzia narzędzie metadanych elementu ServiceModel (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) narzędzie do generowania klasy serwera proxy i konfiguracji zamiast **Dodaj odwołanie do usługi** w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-109">You can also use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool to generate the proxy class and configuration instead of using **Add Service Reference** in Visual Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="4c2ab-110">Podczas wywoływania usługi WCF z projekt biblioteki klas w programie Visual Studio, możesz użyć **Dodaj odwołanie do usługi** funkcji w celu automatycznego generowania serwera proxy i skojarzony plik konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-110">When calling a WCF service from a class library project in Visual Studio, you can use the **Add Service Reference** feature to automatically generate a proxy and associated configuration file.</span></span> <span data-ttu-id="4c2ab-111">Plik konfiguracji nie będzie używany przez projekt biblioteki klas.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-111">The configuration file will not be used by the class library project.</span></span> <span data-ttu-id="4c2ab-112">Należy dodać ustawienia w pliku konfiguracyjnym wygenerowane do pliku app.config dla pliku wykonywalnego, który wywołuje bibliotekę klas.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-112">You need to add the settings in the generated configuration file to the app.config file for the executable that calls the class library.</span></span>

<span data-ttu-id="4c2ab-113">Aplikacja kliencka używa klasy wygenerowany serwer proxy do komunikacji z usługą.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-113">The client application uses the generated proxy class to communicate with the service.</span></span> <span data-ttu-id="4c2ab-114">Ta procedura jest opisana w [porady: używanie klienta](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span><span class="sxs-lookup"><span data-stu-id="4c2ab-114">This procedure is described in [How to: Use a Client](../../../docs/framework/wcf/how-to-use-a-wcf-client.md).</span></span>

## <a name="to-create-a-windows-communication-foundation-client"></a><span data-ttu-id="4c2ab-115">Można utworzyć klienta Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="4c2ab-115">To create a Windows Communication Foundation client</span></span>

1. <span data-ttu-id="4c2ab-116">Utwórz nowy projekt aplikacji konsoli w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-116">Create a new console application project in Visual Studio.</span></span> <span data-ttu-id="4c2ab-117">Kliknij prawym przyciskiem myszy, wprowadzenie do rozwiązania w **Eksploratora rozwiązań** i wybierz **Dodaj** > **nowy projekt**.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-117">Right-click on the Getting Started solution in **Solution Explorer** and select **Add** > **New Project**.</span></span> <span data-ttu-id="4c2ab-118">W **Dodaj nowy projekt** okna dialogowego po lewej stronie wybierz **pulpitu Windows** kategorię w obszarze **Visual C#** lub **języka Visual Basic**.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-118">In the **Add New Project** dialog, on the left-hand side, select the **Windows Desktop** category under **Visual C#** or **Visual Basic**.</span></span> <span data-ttu-id="4c2ab-119">Wybierz **Aplikacja konsoli (.NET Framework)** szablonu, a następnie nazwę projektu **GettingStartedClient**.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-119">Select the **Console App (.NET Framework)** template, and then name the project **GettingStartedClient**.</span></span>

2. <span data-ttu-id="4c2ab-120">Dodaj odwołanie do System.ServiceModel do projektu GettingStartedClient.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-120">Add a reference to System.ServiceModel to the GettingStartedClient project.</span></span> <span data-ttu-id="4c2ab-121">Kliknij prawym przyciskiem myszy **odwołania** folderu w projekcie GettingStartedClient w **Eksploratora rozwiązań**, a następnie wybierz pozycję **Dodaj odwołanie**.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-121">Right-click on the **References** folder under the GettingStartedClient project in **Solution Explorer**, and then select **Add Reference**.</span></span> <span data-ttu-id="4c2ab-122">W **Dodaj odwołanie** okno dialogowe, wybierz opcję **Framework** po lewej stronie okna dialogowego, w obszarze **zestawy**.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-122">In the **Add Reference** dialog, select **Framework** on the left-hand side of the dialog under **Assemblies**.</span></span> <span data-ttu-id="4c2ab-123">Znajdź i zaznacz **System.ServiceModel**, a następnie wybierz **OK**.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-123">Find and select **System.ServiceModel**, and then choose **OK**.</span></span> <span data-ttu-id="4c2ab-124">Zapisz rozwiązanie, wybierając **pliku** > **Zapisz wszystko**.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-124">Save the solution by selecting **File** > **Save All**.</span></span>

3. <span data-ttu-id="4c2ab-125">Dodaj odwołanie do usługi z usługą kalkulatora.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-125">Add a service reference to the Calculator Service.</span></span>

   1. <span data-ttu-id="4c2ab-126">Najpierw należy uruchomić aplikację konsolową GettingStartedHost.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-126">First, start up the GettingStartedHost console application.</span></span>

   2. <span data-ttu-id="4c2ab-127">Gdy host jest uruchomiona, kliknij prawym przyciskiem myszy **odwołania** folderu w projekcie GettingStartedClient w **Eksploratora rozwiązań** i wybierz **Dodaj**  >   **Dokumentacja usługi**.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-127">Once the host is running, right-click the **References** folder under the GettingStartedClient project in **Solution Explorer** and select **Add** > **Service Reference**.</span></span>

   3. <span data-ttu-id="4c2ab-128">Wprowadź następujący adres URL w polu adresu **Dodaj odwołanie do usługi** okno dialogowe: [http://localhost:8000/GettingStartedClient/Service](http://localhost:8000/GettingStartedClient/Service)</span><span class="sxs-lookup"><span data-stu-id="4c2ab-128">Enter the following URL in the address box of the **Add Service Reference** dialog: [http://localhost:8000/GettingStartedClient/Service](http://localhost:8000/GettingStartedClient/Service)</span></span>

   4. <span data-ttu-id="4c2ab-129">Wybierz **Przejdź**.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-129">Choose **Go**.</span></span>

   <span data-ttu-id="4c2ab-130">CalculatorService jest wyświetlany w **usług** pola listy.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-130">The CalculatorService is displayed in the **Services** list box.</span></span> <span data-ttu-id="4c2ab-131">Kliknij dwukrotnie CalculatorService, aby go rozwinąć i wyświetlić kontraktów usług implementowane przez usługę.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-131">Double-click CalculatorService to expand it and show the service contracts implemented by the service.</span></span> <span data-ttu-id="4c2ab-132">Pozostaw domyślny obszar nazw jako — to a wybierz **OK**.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-132">Leave the default namespace as-is and choose **OK**.</span></span>

    <span data-ttu-id="4c2ab-133">Podczas dodawania odwołania do usługi przy użyciu programu Visual Studio w pojawi się nowy element **Eksploratora rozwiązań** w obszarze **odwołania do usług** folderu w projekcie GettingStartedClient.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-133">When you add a reference to a service using Visual Studio, a new item appears in **Solution Explorer** under the **Service References** folder under the GettingStartedClient project.</span></span> <span data-ttu-id="4c2ab-134">Jeśli używasz [narzędzia narzędzie metadanych elementu ServiceModel (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) są generowane, narzędzia, plik kodu źródłowego i pliku app.config.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-134">If you use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) tool, a source code file and app.config file are generated.</span></span>

    <span data-ttu-id="4c2ab-135">Można również użyć narzędzia wiersza polecenia [narzędzia narzędzie metadanych elementu ServiceModel (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) za pomocą odpowiednich przełączników, aby utworzyć kod klienta.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-135">You can also use the command-line tool [ServiceModel Metadata Utility Tool (Svcutil.exe)](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md) with the appropriate switches to create the client code.</span></span> <span data-ttu-id="4c2ab-136">Poniższy przykład generuje plik kodu i pliku konfiguracji usługi.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-136">The following example generates a code file and a configuration file for the service.</span></span> <span data-ttu-id="4c2ab-137">Pierwszy przykład pokazuje, jak wygenerować serwera proxy w języku Visual Basic, a drugi pokazuje, jak wygenerować serwera proxy w języku C#:</span><span class="sxs-lookup"><span data-stu-id="4c2ab-137">The first example shows how to generate the proxy in VB, and the second shows how to generate the proxy in C#:</span></span>

    ```shell
    svcutil.exe /language:vb /out:generatedProxy.vb /config:app.config http://localhost:8000/GettingStartedClient/service
    ```

    ```shell
    svcutil.exe /language:cs /out:generatedProxy.cs /config:app.config http://localhost:8000/GettingStartedClient/service
    ```

## <a name="next-steps"></a><span data-ttu-id="4c2ab-138">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="4c2ab-138">Next steps</span></span>

<span data-ttu-id="4c2ab-139">Utworzono serwer proxy, który aplikacja kliencka będzie używany do wywołania kalkulatora.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-139">You've created the proxy that the client application will use to call the calculator service.</span></span> <span data-ttu-id="4c2ab-140">Przejdź do następnego tematu w serii.</span><span class="sxs-lookup"><span data-stu-id="4c2ab-140">Proceed to the next topic in the series.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="4c2ab-141">Instrukcje: konfigurowanie klienta</span><span class="sxs-lookup"><span data-stu-id="4c2ab-141">How to: Configure a Client</span></span>](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)

## <a name="see-also"></a><span data-ttu-id="4c2ab-142">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="4c2ab-142">See also</span></span>

- [<span data-ttu-id="4c2ab-143">Narzędzie do obsługi metadanych elementu ServiceModel (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="4c2ab-143">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../../../docs/framework/wcf/servicemodel-metadata-utility-tool-svcutil-exe.md)
- [<span data-ttu-id="4c2ab-144">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="4c2ab-144">Getting Started</span></span>](../../../docs/framework/wcf/samples/getting-started-sample.md)
- [<span data-ttu-id="4c2ab-145">Host samodzielny</span><span class="sxs-lookup"><span data-stu-id="4c2ab-145">Self-Host</span></span>](../../../docs/framework/wcf/samples/self-host.md)
- [<span data-ttu-id="4c2ab-146">Instrukcje: publikowanie metadanych dla usługi za pomocą pliku konfiguracji</span><span class="sxs-lookup"><span data-stu-id="4c2ab-146">How to: Publish Metadata for a Service Using a Configuration File</span></span>](../../../docs/framework/wcf/feature-details/how-to-publish-metadata-for-a-service-using-a-configuration-file.md)
- [<span data-ttu-id="4c2ab-147">Instrukcje: używanie programu Svcutil.exe do pobierania dokumentów metadanych</span><span class="sxs-lookup"><span data-stu-id="4c2ab-147">How to: Use Svcutil.exe to Download Metadata Documents</span></span>](../../../docs/framework/wcf/feature-details/how-to-use-svcutil-exe-to-download-metadata-documents.md)
