---
title: Scenariusze synchroniczne z zastosowaniem protokołu HTTP lub TCP albo potoku nazwanego
ms.date: 03/30/2017
ms.assetid: 7e90af1b-f8f6-41b9-a63a-8490ada502b1
ms.openlocfilehash: 28e612b190f4993e1ce7da0d1083c4e55f827d4a
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/23/2019
ms.locfileid: "61784861"
---
# <a name="synchronous-scenarios-using-http-tcp-or-named-pipe"></a><span data-ttu-id="5a0ff-102">Scenariusze synchroniczne z zastosowaniem protokołu HTTP lub TCP albo potoku nazwanego</span><span class="sxs-lookup"><span data-stu-id="5a0ff-102">Synchronous Scenarios using HTTP, TCP or Named-Pipe</span></span>
<span data-ttu-id="5a0ff-103">W tym temacie opisano działania i transferów w scenariuszach różnych synchroniczne żądanie/nietypizowana odpowiedź, za pomocą klienta jednowątkowe, przy użyciu protokołu HTTP, TCP lub nazwany potok.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-103">This topic describes the activities and transfers for different synchronous request/reply scenarios, with a single-threaded client, using HTTP, TCP or named pipe.</span></span> <span data-ttu-id="5a0ff-104">Zobacz [scenariusze asynchroniczne z zastosowaniem HTTP lub TCP albo potoku nazwanego](../../../../../docs/framework/wcf/diagnostics/tracing/asynchronous-scenarios-using-http-tcp-or-named-pipe.md) więcej informacji na temat żądań wielowątkowych.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-104">See [Asynchronous Scenarios using HTTP, TCP, or Named-Pipe](../../../../../docs/framework/wcf/diagnostics/tracing/asynchronous-scenarios-using-http-tcp-or-named-pipe.md) for more information on multi-threaded requests.</span></span>  
  
## <a name="synchronous-requestreply-without-errors"></a><span data-ttu-id="5a0ff-105">Synchroniczne żądanie/nietypizowana odpowiedź bez błędów</span><span class="sxs-lookup"><span data-stu-id="5a0ff-105">Synchronous Request/Reply without Errors</span></span>  
 <span data-ttu-id="5a0ff-106">W tej sekcji opisano działania i transferu dla scenariusza prawidłowe synchroniczne żądanie/nietypizowana odpowiedź, za pomocą klienta jednowątkowe.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-106">This section describes the activities and transfers for a valid synchronous request/reply scenario, with single-threaded client.</span></span>  
  
### <a name="client"></a><span data-ttu-id="5a0ff-107">Klient</span><span class="sxs-lookup"><span data-stu-id="5a0ff-107">Client</span></span>  
  
#### <a name="establishing-communication-with-service-endpoint"></a><span data-ttu-id="5a0ff-108">Ustanawianie komunikacji z punktu końcowego usługi</span><span class="sxs-lookup"><span data-stu-id="5a0ff-108">Establishing Communication with Service Endpoint</span></span>  
 <span data-ttu-id="5a0ff-109">Klient jest tworzony i otwarty.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-109">A client is constructed and opened.</span></span> <span data-ttu-id="5a0ff-110">Dla każdego z tych kroków otoczenia działania (A) jest przekazywana do "Konstruowania Client" (B) i "Otwarte Klienta" (C) działania odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-110">For each of these steps, the ambient activity (A) is transferred to a "Construct Client" (B) and "Open Client" (C) activity respectively.</span></span> <span data-ttu-id="5a0ff-111">Dla każdego działania, przesyłane do otoczenia działania jest zawieszona do momentu przeniesienia, oznacza to, aż ServiceModel kod jest wykonywany.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-111">For each activity being transferred to, the ambient activity is suspended until there is a transfer back, that is, until ServiceModel code is executed.</span></span>  
  
#### <a name="making-a-request-to-service-endpoint"></a><span data-ttu-id="5a0ff-112">Zgłaszającą żądanie do punktu końcowego usługi</span><span class="sxs-lookup"><span data-stu-id="5a0ff-112">Making a Request to Service Endpoint</span></span>  
 <span data-ttu-id="5a0ff-113">Działanie otoczenia jest przekazywana do działania "ProcessAction" (D).</span><span class="sxs-lookup"><span data-stu-id="5a0ff-113">The ambient activity is transferred to a "ProcessAction" (D) activity.</span></span> <span data-ttu-id="5a0ff-114">W ramach tego działania jest wysyłany komunikat żądania, a komunikat odpowiedzi są odbierane.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-114">Within this activity, a request message is sent, and a response message is received.</span></span> <span data-ttu-id="5a0ff-115">Działanie kończy się, gdy sterowanie powraca do kodu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-115">The activity ends when control returns to user code.</span></span> <span data-ttu-id="5a0ff-116">Ponieważ żądań synchronicznych otoczenia działania wstrzymuje, aż formant powraca.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-116">Because this is a synchronous request, the ambient activity suspends until control returns.</span></span>  
  
#### <a name="closing-communication-with-service-endpoint"></a><span data-ttu-id="5a0ff-117">Zamykanie komunikacji z punktu końcowego usługi</span><span class="sxs-lookup"><span data-stu-id="5a0ff-117">Closing Communication with Service Endpoint</span></span>  
 <span data-ttu-id="5a0ff-118">Zamknij działanie klienta, (I) jest tworzony z otoczenia działania.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-118">The client's close activity (I) is created from the ambient activity.</span></span> <span data-ttu-id="5a0ff-119">Jest to taka sama jak nowe i open.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-119">This is identical to new and open.</span></span>  
  
### <a name="server"></a><span data-ttu-id="5a0ff-120">Serwer</span><span class="sxs-lookup"><span data-stu-id="5a0ff-120">Server</span></span>  
  
#### <a name="setting-up-a-service-host"></a><span data-ttu-id="5a0ff-121">Konfigurowanie hosta usługi</span><span class="sxs-lookup"><span data-stu-id="5a0ff-121">Setting up a Service Host</span></span>  
 <span data-ttu-id="5a0ff-122">ServiceHost nowych i otwórz działań (N i O) są tworzone na podstawie aktywności otoczenia (M).</span><span class="sxs-lookup"><span data-stu-id="5a0ff-122">The ServiceHost’s new and open activities (N and O) are created from the ambient activity (M).</span></span>  
  
 <span data-ttu-id="5a0ff-123">Działanie odbiornika (P) jest tworzony z otwierania elementu ServiceHost dla każdego odbiornika.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-123">A listener activity (P) is created from opening a ServiceHost for each listener.</span></span> <span data-ttu-id="5a0ff-124">Działanie odbiornika oczekuje odbierania i przetwarzania danych.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-124">The listener activity waits to receive and process data.</span></span>  
  
#### <a name="receiving-data-on-the-wire"></a><span data-ttu-id="5a0ff-125">Odbieranie danych na potrzeby przesyłu</span><span class="sxs-lookup"><span data-stu-id="5a0ff-125">Receiving Data on the Wire</span></span>  
 <span data-ttu-id="5a0ff-126">Po odebraniu danych na potrzeby przesyłu działania "ReceiveBytes" jest tworzony, jeśli go jeszcze nie istnieje (Q) do przetworzenia odebranych danych.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-126">When data arrives on the wire, a "ReceiveBytes" activity is created if it does not already exist (Q) to process the received data.</span></span> <span data-ttu-id="5a0ff-127">To działanie można ponownie wielu komunikatów w ramach połączenia lub kolejki.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-127">This activity can be reused for multiple messages within a connection or queue.</span></span>  
  
 <span data-ttu-id="5a0ff-128">Działanie ReceiveBytes uruchamia czynnością ProcessMessage (R) ma wystarczającej ilości danych w celu utworzenia komunikatu działania protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-128">The ReceiveBytes activity launches a ProcessMessage activity (R) if it has enough data to form a SOAP action message.</span></span>  
  
 <span data-ttu-id="5a0ff-129">W działaniu R nagłówków wiadomości są przetwarzane, a nagłówek activityID jest weryfikowany.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-129">In activity R, the message headers are processed, and the activityID header is verified.</span></span> <span data-ttu-id="5a0ff-130">Jeśli tego pliku nagłówkowego jest obecna, Identyfikator działania jest ustawiony na działanie ProcessAction; w przeciwnym razie jest tworzony nowy identyfikator.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-130">If this header is present, the activity ID is set to the ProcessAction activity; otherwise, a new ID is created.</span></span>  
  
 <span data-ttu-id="5a0ff-131">Działanie ProcessAction (S) jest tworzone i przesyłane do, gdy wywołanie jest przetwarzany.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-131">ProcessAction activity (S) is created and being transferred to, when the call is processed.</span></span> <span data-ttu-id="5a0ff-132">To działanie kończy się po zakończeniu całego procesu przetwarzania związane z przychodzących wiadomości, łącznie z wykonywaniem kodu użytkownika (T) i wysyła komunikat odpowiedzi, jeśli ma to zastosowanie.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-132">This activity ends when all processing related to the incoming message is completed, including executing user code (T) and sending the response message if applicable.</span></span>  
  
#### <a name="closing-a-service-host"></a><span data-ttu-id="5a0ff-133">Zamykanie hosta usługi</span><span class="sxs-lookup"><span data-stu-id="5a0ff-133">Closing a Service Host</span></span>  
 <span data-ttu-id="5a0ff-134">Zamknij działanie ServiceHost (Z) jest tworzony z otoczenia działania.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-134">The ServiceHost’s close activity (Z) is created from the ambient activity.</span></span>  
  
 ![Diagram przedstawiający scenariusze synchroniczne: HTTP, TCP lub nazwanych potoków.](./media/synchronous-scenarios-using-http-tcp-or-named-pipe/synchronous-scenario-http-tcp-named-pipes.gif)  
  
 <span data-ttu-id="5a0ff-136">W \<A: name >, `A` to symbol skrótu opisujący działanie w poprzedni tekst i w tabeli 3.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-136">In \<A: name>, `A` is a shortcut symbol that describes the activity in the previous text and in table 3.</span></span> <span data-ttu-id="5a0ff-137">`Name` jest skróconą nazwę działania.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-137">`Name` is a shortened name of the activity.</span></span>  
  
 <span data-ttu-id="5a0ff-138">Jeśli `propagateActivity` = `true`, Proces Akcji klienta i usługi mają ten sam identyfikator działania.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-138">If `propagateActivity`=`true`, Process Action on both the client and service have the same activity ID.</span></span>  
  
## <a name="synchronous-requestreply-with-errors"></a><span data-ttu-id="5a0ff-139">Synchroniczne żądanie/nietypizowana odpowiedź z błędami</span><span class="sxs-lookup"><span data-stu-id="5a0ff-139">Synchronous Request/Reply with Errors</span></span>  
 <span data-ttu-id="5a0ff-140">Jedyną różnicą w poprzednim scenariuszu jest to, że komunikatu błędu SOAP są zwracane w postaci komunikatu odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-140">The only difference with the previous scenario is that a SOAP fault message is returned as a response message.</span></span> <span data-ttu-id="5a0ff-141">Jeśli `propagateActivity` = `true`, Identyfikator działania komunikat żądania zostanie dodany do komunikatu błędu SOAP.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-141">If `propagateActivity`=`true`, the activity ID of the request message is added to the SOAP fault message.</span></span>  
  
## <a name="synchronous-one-way-without-errors"></a><span data-ttu-id="5a0ff-142">Synchroniczne jednokierunkowe bez błędów</span><span class="sxs-lookup"><span data-stu-id="5a0ff-142">Synchronous One-Way without Errors</span></span>  
 <span data-ttu-id="5a0ff-143">Jedyna różnica z pierwszego scenariusza polega na tym, że żaden komunikat nie jest zwracana do serwera.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-143">The only difference with the first scenario is that no message is returned to the server.</span></span> <span data-ttu-id="5a0ff-144">Oparte na protokole HTTP protokołów stan (nieprawidłowy lub błędu) nadal jest zwracana do klienta.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-144">For HTTP-based protocols, a status (valid or error) is still returned to the client.</span></span> <span data-ttu-id="5a0ff-145">Jest to spowodowane HTTP jest jedynym protokołem z semantyką odpowiedź na żądanie, należącego do stosu protokołu WCF.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-145">This is because HTTP is the only protocol with a request-response semantics that is part of the WCF protocol stack.</span></span> <span data-ttu-id="5a0ff-146">Ponieważ przetwarzanie TCP jest ukryty dla usługi WCF, potwierdzenie nie są wysyłane do klienta.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-146">Because TCP processing is hidden from WCF, no acknowledgement is sent to the client.</span></span>  
  
## <a name="synchronous-one-way-with-errors"></a><span data-ttu-id="5a0ff-147">Synchroniczne jednokierunkowe z Błędami</span><span class="sxs-lookup"><span data-stu-id="5a0ff-147">Synchronous One-Way with Errors</span></span>  
 <span data-ttu-id="5a0ff-148">Jeśli wystąpi błąd podczas przetwarzania komunikatu (Q lub nowszych), powiadomienia nie jest zwracana do klienta.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-148">If an error occurs while processing the message (Q or beyond), no notification is returned to the client.</span></span> <span data-ttu-id="5a0ff-149">Jest to taka sama jak w scenariuszu "One-Way bez błędów synchronicznych".</span><span class="sxs-lookup"><span data-stu-id="5a0ff-149">This is identical to the "Synchronous One-Way without Errors" scenario.</span></span> <span data-ttu-id="5a0ff-150">Nie należy używać jednokierunkowe scenariusz, jeśli chcesz otrzymywać komunikat o błędzie.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-150">You should not use a One-Way scenario if you want to receive an error message.</span></span>  
  
## <a name="duplex"></a><span data-ttu-id="5a0ff-151">Dupleks</span><span class="sxs-lookup"><span data-stu-id="5a0ff-151">Duplex</span></span>  
 <span data-ttu-id="5a0ff-152">Różnica w poprzednich scenariuszach polega na tym, że klient działa jako usługa, w którym tworzy ReceiveBytes ProcessMessage działalności i, podobnie jak scenariusze asynchroniczne.</span><span class="sxs-lookup"><span data-stu-id="5a0ff-152">The difference with the previous scenarios is that the client acts as a service, in which it creates the ReceiveBytes and ProcessMessage activities, similar to the Asynchronous scenarios.</span></span>
