---
title: Konfigurowanie śledzenia
ms.custom: ''
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: ''
ms.suite: ''
ms.technology:
- dotnet-clr
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- tracing [WCF]
ms.assetid: 82922010-e8b3-40eb-98c4-10fc05c6d65d
caps.latest.revision: 53
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload:
- dotnet
ms.openlocfilehash: b7b9590096789af609e83d1a5ed736cf18e27700
ms.sourcegitcommit: 86adcc06e35390f13c1e372c36d2e044f1fc31ef
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/26/2018
---
# <a name="configuring-tracing"></a><span data-ttu-id="9d63a-102">Konfigurowanie śledzenia</span><span class="sxs-lookup"><span data-stu-id="9d63a-102">Configuring Tracing</span></span>
<span data-ttu-id="9d63a-103">W tym temacie opisano, jak można włączyć śledzenie, skonfigurować źródła śledzenia na emitowanie danych śledzenia i poziomy śledzenia zestawu, śledzenie działania zestawu i propagacji do obsługi korelacji śledzenia end-to-end i ustaw obiektów nasłuchujących śledzenia do śledzenia.</span><span class="sxs-lookup"><span data-stu-id="9d63a-103">This topic describes how you can enable tracing, configure trace sources to emit traces and set trace levels, set activity tracing and propagation to support end-to-end trace correlation, and set trace listeners to access traces.</span></span>  
  
 <span data-ttu-id="9d63a-104">Zalecenia dotyczące ustawień śledzenia w środowisku debugowania i produkcji, można znaleźć w temacie [zalecane ustawienia śledzenia i rejestrowania komunikatów](../../../../../docs/framework/wcf/diagnostics/tracing/recommended-settings-for-tracing-and-message-logging.md).</span><span class="sxs-lookup"><span data-stu-id="9d63a-104">For tracing settings recommendations in production or debugging environment, refer to [Recommended Settings for Tracing and Message Logging](../../../../../docs/framework/wcf/diagnostics/tracing/recommended-settings-for-tracing-and-message-logging.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="9d63a-105">W systemie Windows 8 należy uruchomić aplikację podniesionych uprawnień (Uruchom jako Administrator) w kolejności dla aplikacji do wygenerowania dzienniki śledzenia.</span><span class="sxs-lookup"><span data-stu-id="9d63a-105">On Windows 8 you must run your application elevated (Run as Administrator) in order for your application to generate trace logs.</span></span>  
  
## <a name="enabling-tracing"></a><span data-ttu-id="9d63a-106">Włączenie debugowania</span><span class="sxs-lookup"><span data-stu-id="9d63a-106">Enabling Tracing</span></span>  
 [!INCLUDE[indigo1](../../../../../includes/indigo1-md.md)]<span data-ttu-id="9d63a-107"> Wyświetla następujące dane śledzenia diagnostycznego:</span><span class="sxs-lookup"><span data-stu-id="9d63a-107"> outputs the following data for diagnostic tracing:</span></span>  
  
-   <span data-ttu-id="9d63a-108">Ślady punktów kontrolnych procesu dotyczące wszystkich składników aplikacji, takie jak wywołania operacji kodu wyjątki, ostrzeżenia i inne istotne przetwarzanie zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="9d63a-108">Traces for process milestones across all components of the applications, such as operation calls, code exceptions, warnings and other significant processing events.</span></span>  
  
-   <span data-ttu-id="9d63a-109">Zdarzenia błędu systemu Windows działa funkcja śledzenia.</span><span class="sxs-lookup"><span data-stu-id="9d63a-109">Windows error events when the tracing feature malfunctions.</span></span> <span data-ttu-id="9d63a-110">Zobacz [rejestrowanie zdarzeń](../../../../../docs/framework/wcf/diagnostics/event-logging/index.md).</span><span class="sxs-lookup"><span data-stu-id="9d63a-110">See [Event Logging](../../../../../docs/framework/wcf/diagnostics/event-logging/index.md).</span></span>  
  
 [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)]<span data-ttu-id="9d63a-111"> śledzenie jest oparty na <xref:System.Diagnostics>.</span><span class="sxs-lookup"><span data-stu-id="9d63a-111"> tracing is built on top of <xref:System.Diagnostics>.</span></span> <span data-ttu-id="9d63a-112">Aby użyć śledzenia, należy zdefiniować źródła śledzenia w pliku konfiguracji lub w kodzie.</span><span class="sxs-lookup"><span data-stu-id="9d63a-112">To use tracing, you should define trace sources in the configuration file or in code.</span></span> [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)]<span data-ttu-id="9d63a-113"> Określa źródło śladu dla każdego [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] zestawu.</span><span class="sxs-lookup"><span data-stu-id="9d63a-113"> defines a trace source for each [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] assembly.</span></span> <span data-ttu-id="9d63a-114">`System.ServiceModel` Źródła śledzenia jest najbardziej ogólnym [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] źródła śledzenia i rejestruje przetwarzania punkty kontrolne w [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] stosu komunikacji z wprowadzania pozostawienie transportu do wprowadzania/pozostawienia kodu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="9d63a-114">The `System.ServiceModel` trace source is the most general [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] trace source, and records processing milestones across the [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] communication stack, from entering/leaving transport to entering/leaving user code.</span></span> <span data-ttu-id="9d63a-115">`System.ServiceModel.MessageLogging` Źródło śladu rejestruje wszystkie komunikaty, które przepływać przez system.</span><span class="sxs-lookup"><span data-stu-id="9d63a-115">The `System.ServiceModel.MessageLogging` trace source records all messages that flow through the system.</span></span>  
  
 <span data-ttu-id="9d63a-116">Śledzenie nie jest włączone domyślnie.</span><span class="sxs-lookup"><span data-stu-id="9d63a-116">Tracing is not enabled by default.</span></span> <span data-ttu-id="9d63a-117">Aby uaktywnić śledzenie, należy utworzyć odbiornik śledzenia i ustawić poziom śledzenia innych niż "Off" dla źródła śledzenia wybranych w konfiguracji. w przeciwnym razie [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] nie generuje żadnych śladów.</span><span class="sxs-lookup"><span data-stu-id="9d63a-117">To activate tracing, you must create a trace listener and set a trace level other than "Off" for the selected trace source in configuration; otherwise, [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] does not generate any traces.</span></span> <span data-ttu-id="9d63a-118">Jeśli nie określisz odbiornik, śledzenie jest automatycznie wyłączana.</span><span class="sxs-lookup"><span data-stu-id="9d63a-118">If you do not specify a listener, tracing is automatically disabled.</span></span> <span data-ttu-id="9d63a-119">Jeśli jest określony odbiornik, ale poziom nie jest określony, "Wyłączone" po ustawieniu poziomu domyślnie, co oznacza emitowanego śladów.</span><span class="sxs-lookup"><span data-stu-id="9d63a-119">If a listener is defined, but no level is specified, the level is set to "Off" by default, which means that no trace is emitted.</span></span>  
  
 <span data-ttu-id="9d63a-120">Jeśli używasz [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] punktów rozszerzalności takich jak invokers operacja niestandardowa powinien Emituj własne dane śledzenia.</span><span class="sxs-lookup"><span data-stu-id="9d63a-120">If you use [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] extensibility points such as custom operation invokers, you should emit your own traces.</span></span> <span data-ttu-id="9d63a-121">To dlatego, jeśli implementuje punkt rozszerzeń [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] może nie są już emitowane standardowe dane śledzenia w domyślnej ścieżce.</span><span class="sxs-lookup"><span data-stu-id="9d63a-121">This is because if you implement an extensibility point, [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] can no longer emit the standard traces in the default path.</span></span> <span data-ttu-id="9d63a-122">Jeśli nie implementuje obsługę ręcznego śledzenia przez ślady emisji nie widać oczekiwane dane śledzenia.</span><span class="sxs-lookup"><span data-stu-id="9d63a-122">If you do not implement manual tracing support by emitting traces, you may not see the traces you expect.</span></span>  
  
 <span data-ttu-id="9d63a-123">Można skonfigurować śledzenie, edytując plik konfiguracji aplikacji, albo plik Web.config dla aplikacji hostowanych w sieci Web lub Appname.exe.config własnym obsługiwanych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="9d63a-123">You can configure tracing by editing the application’s configuration file—either Web.config for Web-hosted applications, or Appname.exe.config for self-hosted applications.</span></span> <span data-ttu-id="9d63a-124">Oto przykład takiego edycji.</span><span class="sxs-lookup"><span data-stu-id="9d63a-124">The following is an example of such edit.</span></span> <span data-ttu-id="9d63a-125">Aby uzyskać więcej informacji na temat tych ustawień zobacz sekcję "Konfigurowanie śledzenia odbiorników można korzystać z śladów".</span><span class="sxs-lookup"><span data-stu-id="9d63a-125">For more information on these settings, see the "Configuring Trace Listeners to Consume Traces" section.</span></span>  
  
```xml  
<configuration>  
   <system.diagnostics>  
      <sources>  
            <source name="System.ServiceModel"   
                    switchValue="Information, ActivityTracing"  
                    propagateActivity="true">  
            <listeners>  
               <add name="traceListener"   
                   type="System.Diagnostics.XmlWriterTraceListener"   
                   initializeData= "c:\log\Traces.svclog" />  
            </listeners>  
         </source>  
      </sources>  
   </system.diagnostics>  
</configuration>  
```  
  
> [!NOTE]
>  <span data-ttu-id="9d63a-126">Aby edytować plik konfiguracji programu [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] usługi projektu programu Visual Studio, kliknij prawym przyciskiem myszy plik konfiguracji aplikacji — którejkolwiek Web.config dla aplikacji hostowanych w sieci Web lub Appname.exe.config własnym hostowanej aplikacji w  **Eksplorator rozwiązań**.</span><span class="sxs-lookup"><span data-stu-id="9d63a-126">To edit the configuration file of a [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] service project in Visual Studio, right click the application’s configuration file—either Web.config for Web-hosted applications, or Appname.exe.config for self-hosted application in **Solution Explorer**.</span></span> <span data-ttu-id="9d63a-127">Następnie wybierz pozycję **Edycja konfiguracji WCF** elementu menu kontekstowego.</span><span class="sxs-lookup"><span data-stu-id="9d63a-127">Then choose the **Edit WCF Configuration** context menu item.</span></span> <span data-ttu-id="9d63a-128">Spowoduje to uruchomienie [narzędzie edytora konfiguracji (SvcConfigEditor.exe)](../../../../../docs/framework/wcf/configuration-editor-tool-svcconfigeditor-exe.md), co umożliwia modyfikowanie ustawień konfiguracyjnych [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] usług przy użyciu graficznego interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="9d63a-128">This launches the [Configuration Editor Tool (SvcConfigEditor.exe)](../../../../../docs/framework/wcf/configuration-editor-tool-svcconfigeditor-exe.md), which enables you to modify configuration settings for [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] services using a graphical user interface.</span></span>  
  
## <a name="configuring-trace-sources-to-emit-traces"></a><span data-ttu-id="9d63a-129">Konfigurowanie źródeł śledzenia na emitowanie danych śledzenia</span><span class="sxs-lookup"><span data-stu-id="9d63a-129">Configuring Trace Sources to Emit Traces</span></span>  
 [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)]<span data-ttu-id="9d63a-130"> Określa źródło śladu dla każdego zestawu.</span><span class="sxs-lookup"><span data-stu-id="9d63a-130"> defines a trace source for each assembly.</span></span> <span data-ttu-id="9d63a-131">Wygenerowane w zestawie danych śledzenia są dostępne dla odbiorników zdefiniowane dla tego źródła.</span><span class="sxs-lookup"><span data-stu-id="9d63a-131">Traces generated within an assembly are accessed by the listeners defined for that source.</span></span> <span data-ttu-id="9d63a-132">Następujące źródła śledzenia są zdefiniowane:</span><span class="sxs-lookup"><span data-stu-id="9d63a-132">The following trace sources are defined:</span></span>  
  
-   <span data-ttu-id="9d63a-133">System.ServiceModel: Dzienników wszystkich etapach [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] przetwarzania, gdy odczytać konfiguracji, komunikat jest przetwarzany w transporcie, zabezpieczeń, przetwarzanie wiadomości jest wysyłane w kodzie użytkownika i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="9d63a-133">System.ServiceModel: Logs all stages of [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] processing, whenever configuration is read, a message is processed in transport, security processing, a message is dispatched in user code, and so on.</span></span>  
  
-   <span data-ttu-id="9d63a-134">Używająca elementu System.ServiceModel.MessageLogging jako: Rejestruje wszystkie komunikaty przepływać przez system.</span><span class="sxs-lookup"><span data-stu-id="9d63a-134">System.ServiceModel.MessageLogging: Logs all messages that flow through the system.</span></span>  
  
-   <span data-ttu-id="9d63a-135">System.IdentityModel.</span><span class="sxs-lookup"><span data-stu-id="9d63a-135">System.IdentityModel.</span></span>  
  
-   <span data-ttu-id="9d63a-136">System.ServiceModel.Activation.</span><span class="sxs-lookup"><span data-stu-id="9d63a-136">System.ServiceModel.Activation.</span></span>  
  
-   <span data-ttu-id="9d63a-137">System.IO.Log: Rejestrowanie dla interfejsu programu .NET Framework do typowych dziennika File System (CLFS).</span><span class="sxs-lookup"><span data-stu-id="9d63a-137">System.IO.Log: Logging for the .NET Framework interface to the Common Log File System (CLFS).</span></span>  
  
-   <span data-ttu-id="9d63a-138">System.Runtime.Serialization: Dzienniki gdy obiekty są odczytywane lub zapisywane.</span><span class="sxs-lookup"><span data-stu-id="9d63a-138">System.Runtime.Serialization: Logs when objects are read or written.</span></span>  
  
-   <span data-ttu-id="9d63a-139">Program CardSpace.</span><span class="sxs-lookup"><span data-stu-id="9d63a-139">CardSpace.</span></span>  
  
 <span data-ttu-id="9d63a-140">Każdego źródło śledzenia, aby użyć tego samego odbiornika (udostępnione), można skonfigurować zgodnie z poniższym przykładzie konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="9d63a-140">You can configure each trace source to use the same (shared) listener, as indicated in the following configuration example.</span></span>  
  
```xml  
<configuration>  
    <system.diagnostics>  
        <sources>  
            <source name="System.ServiceModel"   
                    switchValue="Information, ActivityTracing"  
                    propagateActivity="true">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="CardSpace">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.IO.Log">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.Runtime.Serialization">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.IdentityModel">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
        </sources>  
  
        <sharedListeners>  
            <add name="xml"  
                 type="System.Diagnostics.XmlWriterTraceListener"  
                 initializeData="c:\log\Traces.svclog" />  
        </sharedListeners>  
    </system.diagnostics>  
</configuration>  
```  
  
 <span data-ttu-id="9d63a-141">Ponadto możesz dodać źródła śledzenia zdefiniowanych przez użytkownika, jak pokazano na poniższym przykładzie, aby emitować śladów kodu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="9d63a-141">In addition, you can add user-defined trace sources, as demonstrated by the following example, to emit user code traces.</span></span>  
  
```xml  
<system.diagnostics>  
   <sources>  
       <source name="UserTraceSource" switchValue="Warning, ActivityTracing" >  
          <listeners>  
              <add name="xml"  
                 type="System.Diagnostics.XmlWriterTraceListener"  
                 initializeData="C:\logs\UserTraces.svclog" />  
          </listeners>  
       </source>  
   </sources>  
   <trace autoflush="true" />   
</system.diagnostics>  
```  
  
 [!INCLUDE[crabout](../../../../../includes/crabout-md.md)]<span data-ttu-id="9d63a-142"> Tworzenie użytkownika śledzenia źródeł, zobacz [rozszerzanie śledzenia](../../../../../docs/framework/wcf/samples/extending-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="9d63a-142"> creating user-defined trace sources, see [Extending Tracing](../../../../../docs/framework/wcf/samples/extending-tracing.md).</span></span>  
  
## <a name="configuring-trace-listeners-to-consume-traces"></a><span data-ttu-id="9d63a-143">Konfigurowanie obiektów nasłuchujących śledzenia zużyje śledzenia</span><span class="sxs-lookup"><span data-stu-id="9d63a-143">Configuring Trace Listeners to Consume Traces</span></span>  
 <span data-ttu-id="9d63a-144">W czasie wykonywania [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] źródła danych do odbiorników, które przetwarzają dane śledzenia.</span><span class="sxs-lookup"><span data-stu-id="9d63a-144">At runtime, [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] feeds trace data to the listeners which process the data.</span></span> [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)]<span data-ttu-id="9d63a-145"> zawiera kilka wstępnie zdefiniowanych odbiorników dla <xref:System.Diagnostics>, które różnią się w formacie ich użycia dla danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="9d63a-145"> provides several predefined listeners for <xref:System.Diagnostics>, which differ in the format they use for output.</span></span> <span data-ttu-id="9d63a-146">Można również dodać niestandardowe odbiornika typów.</span><span class="sxs-lookup"><span data-stu-id="9d63a-146">You can also add custom listener types.</span></span>  
  
 <span data-ttu-id="9d63a-147">Można użyć `add` określić nazwę i typ odbiornik śledzenia ma być używany.</span><span class="sxs-lookup"><span data-stu-id="9d63a-147">You can use `add` to specify the name and type of the trace listener you want to use.</span></span> <span data-ttu-id="9d63a-148">W naszym przykładzie konfiguracji, firma Microsoft o nazwie odbiornika `traceListener` i dodać standardowe nasłuchującego śledzenia .NET Framework (`System.Diagnostics.XmlWriterTraceListener`) jako typ chcemy użyć.</span><span class="sxs-lookup"><span data-stu-id="9d63a-148">In our example configuration, we named the Listener `traceListener` and added the standard .NET Framework trace listener (`System.Diagnostics.XmlWriterTraceListener`) as the type we want to use.</span></span> <span data-ttu-id="9d63a-149">Możesz dodać dowolną liczbę obiektów nasłuchujących śledzenia dla każdego źródła.</span><span class="sxs-lookup"><span data-stu-id="9d63a-149">You can add any number of trace listeners for each source.</span></span> <span data-ttu-id="9d63a-150">Jeśli odbiornik śledzenia emituje śledzenia w pliku, należy określić dane wyjściowe lokalizację i nazwę pliku w pliku konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="9d63a-150">If the trace listener emits the trace to a file, you must specify the output file location and name in the configuration file.</span></span> <span data-ttu-id="9d63a-151">Odbywa się przez ustawienie `initializeData` nazwę pliku dla tego odbiornika.</span><span class="sxs-lookup"><span data-stu-id="9d63a-151">This is done by setting `initializeData` to the name of the file for that listener.</span></span> <span data-ttu-id="9d63a-152">Jeśli nie określisz nazwy pliku, nazwy pliku losowe jest generowany na podstawie typu odbiornika używane.</span><span class="sxs-lookup"><span data-stu-id="9d63a-152">If you do not specify a file name, a random file name is generated based on the listener type used.</span></span> <span data-ttu-id="9d63a-153">Jeśli <xref:System.Diagnostics.XmlWriterTraceListener> jest używana, jest generowany nazwę pliku bez rozszerzenia.</span><span class="sxs-lookup"><span data-stu-id="9d63a-153">If <xref:System.Diagnostics.XmlWriterTraceListener> is used, a file name with no extension is generated.</span></span> <span data-ttu-id="9d63a-154">W przypadku zastosowania niestandardowych odbiornika, można również użyć tego atrybutu, aby odebrało danych inicjujących inne niż nazwa pliku.</span><span class="sxs-lookup"><span data-stu-id="9d63a-154">If you implement a custom listener, you can also use this attribute to receive initialization data other than a filename.</span></span> <span data-ttu-id="9d63a-155">Na przykład można określić identyfikatora bazy danych dla tego atrybutu.</span><span class="sxs-lookup"><span data-stu-id="9d63a-155">For example, you can specify a database identifier for this attribute.</span></span>  
  
 <span data-ttu-id="9d63a-156">Można skonfigurować odbiornik śledzenia niestandardowych do wysyłania danych śledzenia w sieci, na przykład ze zdalną bazą danych.</span><span class="sxs-lookup"><span data-stu-id="9d63a-156">You can configure a custom trace listener to send traces on the wire, for example, to a remote database.</span></span> <span data-ttu-id="9d63a-157">Jako wdrażania aplikacji należy wymusić kontrolę dostępu do dzienników śledzenia na maszynie zdalnej.</span><span class="sxs-lookup"><span data-stu-id="9d63a-157">As an application deployer, you should enforce proper access control on the trace logs in the remote machine.</span></span>  
  
 <span data-ttu-id="9d63a-158">Można również skonfigurować odbiornik śledzenia programowo.</span><span class="sxs-lookup"><span data-stu-id="9d63a-158">You can also configure a trace listener programmatically.</span></span> [!INCLUDE[crdefault](../../../../../includes/crdefault-md.md)]<span data-ttu-id="9d63a-159"> [Porady: tworzenie i Inicjowanie obiektów nasłuchujących śledzenia](http://go.microsoft.com/fwlink/?LinkId=94648) i [Tworzenie niestandardowego elementu TraceListener](http://go.microsoft.com/fwlink/?LinkId=96239).</span><span class="sxs-lookup"><span data-stu-id="9d63a-159"> [How to: Create and Initialize Trace Listeners](http://go.microsoft.com/fwlink/?LinkId=94648) and [Creating a Custom TraceListener](http://go.microsoft.com/fwlink/?LinkId=96239).</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="9d63a-160">Ponieważ `System.Diagnostics.XmlWriterTraceListener` jest nie wątkowo, źródło śladu może zablokować zasobów wyłącznie podczas wyprowadzania danych śledzenia.</span><span class="sxs-lookup"><span data-stu-id="9d63a-160">Because `System.Diagnostics.XmlWriterTraceListener` is not thread-safe, the trace source may lock resources exclusively when outputting traces.</span></span> <span data-ttu-id="9d63a-161">Wiele wątków dane wyjściowe śledzenia źródła skonfigurowane do używania tego odbiornika rywalizacji może wystąpić, które powoduje problem znaczących wydajności.</span><span class="sxs-lookup"><span data-stu-id="9d63a-161">When many threads output traces to a trace source configured to use this listener, resource contention may occur, which results in a significant performance issue.</span></span> <span data-ttu-id="9d63a-162">Aby rozwiązać ten problem, należy zaimplementować wątkowo niestandardowe odbiornik.</span><span class="sxs-lookup"><span data-stu-id="9d63a-162">To resolve this problem, you should implement a custom listener that is thread-safe.</span></span>  
  
## <a name="trace-level"></a><span data-ttu-id="9d63a-163">Poziom śledzenia</span><span class="sxs-lookup"><span data-stu-id="9d63a-163">Trace Level</span></span>  
 <span data-ttu-id="9d63a-164">Poziom śledzenia jest kontrolowany przez `switchValue` ustawienie źródła śledzenia.</span><span class="sxs-lookup"><span data-stu-id="9d63a-164">The tracing level is controlled by the `switchValue` setting of the trace source.</span></span> <span data-ttu-id="9d63a-165">Poziomy śledzenia dostępne są opisane w poniższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="9d63a-165">The available tracing levels are described in the following table.</span></span>  
  
|<span data-ttu-id="9d63a-166">Poziom śledzenia</span><span class="sxs-lookup"><span data-stu-id="9d63a-166">Trace Level</span></span>|<span data-ttu-id="9d63a-167">Rodzaj rejestrowane zdarzenia</span><span class="sxs-lookup"><span data-stu-id="9d63a-167">Nature of the Tracked Events</span></span>|<span data-ttu-id="9d63a-168">Zawartość śledzonych zdarzeń</span><span class="sxs-lookup"><span data-stu-id="9d63a-168">Content of the Tracked Events</span></span>|<span data-ttu-id="9d63a-169">Rejestrowane zdarzenia</span><span class="sxs-lookup"><span data-stu-id="9d63a-169">Tracked Events</span></span>|<span data-ttu-id="9d63a-170">Miejsce docelowe użytkownika</span><span class="sxs-lookup"><span data-stu-id="9d63a-170">User Target</span></span>|  
|-----------------|----------------------------------|-----------------------------------|--------------------|-----------------|  
|<span data-ttu-id="9d63a-171">Off</span><span class="sxs-lookup"><span data-stu-id="9d63a-171">Off</span></span>|<span data-ttu-id="9d63a-172">Brak</span><span class="sxs-lookup"><span data-stu-id="9d63a-172">N/A</span></span>|<span data-ttu-id="9d63a-173">Brak</span><span class="sxs-lookup"><span data-stu-id="9d63a-173">N/A</span></span>|<span data-ttu-id="9d63a-174">Ślady są emitowane.</span><span class="sxs-lookup"><span data-stu-id="9d63a-174">No traces are emitted.</span></span>|<span data-ttu-id="9d63a-175">Brak</span><span class="sxs-lookup"><span data-stu-id="9d63a-175">N/A</span></span>|  
|<span data-ttu-id="9d63a-176">Krytyczny</span><span class="sxs-lookup"><span data-stu-id="9d63a-176">Critical</span></span>|<span data-ttu-id="9d63a-177">"Ujemną" zdarzenia: zdarzenia, które wskazują podczas wykonywania operacji wystąpił nieoczekiwany lub warunek błędu.</span><span class="sxs-lookup"><span data-stu-id="9d63a-177">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>||<span data-ttu-id="9d63a-178">Rejestrowane są nieobsługiwane wyjątki, takie jak następujące:</span><span class="sxs-lookup"><span data-stu-id="9d63a-178">Unhandled exceptions including the following are logged:</span></span><br /><br /> <span data-ttu-id="9d63a-179">— OutOfMemoryException</span><span class="sxs-lookup"><span data-stu-id="9d63a-179">-   OutOfMemoryException</span></span><br /><span data-ttu-id="9d63a-180">-ThreadAbortException (żadnych ThreadAbortExceptionHandler wywołuje środowiska CLR)</span><span class="sxs-lookup"><span data-stu-id="9d63a-180">-   ThreadAbortException (the CLR invokes any ThreadAbortExceptionHandler)</span></span><br /><span data-ttu-id="9d63a-181">-Stackoverflowexception — (nie można przechwycić)</span><span class="sxs-lookup"><span data-stu-id="9d63a-181">-   StackOverflowException (cannot be caught)</span></span><br /><span data-ttu-id="9d63a-182">-Configurationerrorsexception —</span><span class="sxs-lookup"><span data-stu-id="9d63a-182">-   ConfigurationErrorsException</span></span><br /><span data-ttu-id="9d63a-183">-Sehexception —</span><span class="sxs-lookup"><span data-stu-id="9d63a-183">-   SEHException</span></span><br /><span data-ttu-id="9d63a-184">-Błędy uruchomienia aplikacji</span><span class="sxs-lookup"><span data-stu-id="9d63a-184">-   Application start errors</span></span><br /><span data-ttu-id="9d63a-185">-Natychmiastowy błąd zdarzeń</span><span class="sxs-lookup"><span data-stu-id="9d63a-185">-   Failfast events</span></span><br /><span data-ttu-id="9d63a-186">-System przestaje odpowiadać</span><span class="sxs-lookup"><span data-stu-id="9d63a-186">-   System hangs</span></span><br /><span data-ttu-id="9d63a-187">-Zanieczyszczonych komunikatów: komunikatów śledzenia, które powodują awarię aplikacji.</span><span class="sxs-lookup"><span data-stu-id="9d63a-187">-   Poison messages: message traces that cause the application to fail.</span></span>|<span data-ttu-id="9d63a-188">Administratorzy</span><span class="sxs-lookup"><span data-stu-id="9d63a-188">Administrators</span></span><br /><br /> <span data-ttu-id="9d63a-189">Deweloperzy aplikacji</span><span class="sxs-lookup"><span data-stu-id="9d63a-189">Application developers</span></span>|  
|<span data-ttu-id="9d63a-190">Błąd</span><span class="sxs-lookup"><span data-stu-id="9d63a-190">Error</span></span>|<span data-ttu-id="9d63a-191">"Ujemną" zdarzenia: zdarzenia, które wskazują podczas wykonywania operacji wystąpił nieoczekiwany lub warunek błędu.</span><span class="sxs-lookup"><span data-stu-id="9d63a-191">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>|<span data-ttu-id="9d63a-192">Wystąpił nieoczekiwany przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="9d63a-192">Unexpected processing has happened.</span></span> <span data-ttu-id="9d63a-193">Aplikacja nie może wykonać zadanie, zgodnie z oczekiwaniami.</span><span class="sxs-lookup"><span data-stu-id="9d63a-193">The application was not able to perform a task as expected.</span></span> <span data-ttu-id="9d63a-194">Jednak aplikacja jest nadal uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="9d63a-194">However, the application is still up and running.</span></span>|<span data-ttu-id="9d63a-195">Wszystkie wyjątki są rejestrowane.</span><span class="sxs-lookup"><span data-stu-id="9d63a-195">All exceptions are logged.</span></span>|<span data-ttu-id="9d63a-196">Administratorzy</span><span class="sxs-lookup"><span data-stu-id="9d63a-196">Administrators</span></span><br /><br /> <span data-ttu-id="9d63a-197">Deweloperzy aplikacji</span><span class="sxs-lookup"><span data-stu-id="9d63a-197">Application developers</span></span>|  
|<span data-ttu-id="9d63a-198">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="9d63a-198">Warning</span></span>|<span data-ttu-id="9d63a-199">"Ujemną" zdarzenia: zdarzenia, które wskazują podczas wykonywania operacji wystąpił nieoczekiwany lub warunek błędu.</span><span class="sxs-lookup"><span data-stu-id="9d63a-199">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>|<span data-ttu-id="9d63a-200">Możliwy problem wystąpił lub może wystąpić, ale nadal funkcje aplikacji poprawnie.</span><span class="sxs-lookup"><span data-stu-id="9d63a-200">A possible problem has occurred or may occur, but the application still functions correctly.</span></span> <span data-ttu-id="9d63a-201">Nie może ona jednak nadal działała poprawnie.</span><span class="sxs-lookup"><span data-stu-id="9d63a-201">However, it may not continue to work properly.</span></span>|<span data-ttu-id="9d63a-202">-Aplikacja odbiera żądania więcej niż dozwolone jego ustawienia ograniczenia przepustowości.</span><span class="sxs-lookup"><span data-stu-id="9d63a-202">-   The application is receiving more requests than its throttling settings allow.</span></span><br /><span data-ttu-id="9d63a-203">-Odbierania kolejki zbliża się swoją maksymalną pojemność skonfigurowany.</span><span class="sxs-lookup"><span data-stu-id="9d63a-203">-   The receiving queue is near its maximum configured capacity.</span></span><br /><span data-ttu-id="9d63a-204">— Przekroczony został limit czasu.</span><span class="sxs-lookup"><span data-stu-id="9d63a-204">-   Timeout has exceeded.</span></span><br /><span data-ttu-id="9d63a-205">-Poświadczenia są odrzucane.</span><span class="sxs-lookup"><span data-stu-id="9d63a-205">-   Credentials are rejected.</span></span>|<span data-ttu-id="9d63a-206">Administratorzy</span><span class="sxs-lookup"><span data-stu-id="9d63a-206">Administrators</span></span><br /><br /> <span data-ttu-id="9d63a-207">Deweloperzy aplikacji</span><span class="sxs-lookup"><span data-stu-id="9d63a-207">Application developers</span></span>|  
|<span data-ttu-id="9d63a-208">Informacje</span><span class="sxs-lookup"><span data-stu-id="9d63a-208">Information</span></span>|<span data-ttu-id="9d63a-209">Zdarzenia "Dodatnią": zdarzenia, oznaczające pomyślne punkty kontrolne</span><span class="sxs-lookup"><span data-stu-id="9d63a-209">"Positive" events: events that mark successful milestones</span></span>|<span data-ttu-id="9d63a-210">Ważne i pomyślne punktów kontrolnych wykonywania aplikacji, niezależnie od tego, czy aplikacja działa prawidłowo lub nie.</span><span class="sxs-lookup"><span data-stu-id="9d63a-210">Important and successful milestones of application execution, regardless of whether the application is working properly or not.</span></span>|<span data-ttu-id="9d63a-211">Ogólnie rzecz biorąc generowane są przydatne do monitorowania i diagnozowania stan systemu, pomiaru wydajności lub profilowania wiadomości.</span><span class="sxs-lookup"><span data-stu-id="9d63a-211">In general, messages helpful for monitoring and diagnosing system status, measuring performance or profiling are generated.</span></span> <span data-ttu-id="9d63a-212">Można użyć takich informacji do pojemności planowania i zarządzanie wydajnością:</span><span class="sxs-lookup"><span data-stu-id="9d63a-212">You can use such information for capacity planning and performance management:</span></span><br /><br /> <span data-ttu-id="9d63a-213">-Kanały są tworzone.</span><span class="sxs-lookup"><span data-stu-id="9d63a-213">-   Channels are created.</span></span><br /><span data-ttu-id="9d63a-214">— Odbiorniki punktu końcowego są tworzone.</span><span class="sxs-lookup"><span data-stu-id="9d63a-214">-   Endpoint listeners are created.</span></span><br /><span data-ttu-id="9d63a-215">-Komunikat wprowadza/pozostawia transportu.</span><span class="sxs-lookup"><span data-stu-id="9d63a-215">-   Message enters/leaves transport.</span></span><br /><span data-ttu-id="9d63a-216">-Token zabezpieczający są pobierane.</span><span class="sxs-lookup"><span data-stu-id="9d63a-216">-   Security token is retrieved.</span></span><br /><span data-ttu-id="9d63a-217">— Ustawienie konfiguracji jest do odczytu.</span><span class="sxs-lookup"><span data-stu-id="9d63a-217">-   Configuration setting is read.</span></span>|<span data-ttu-id="9d63a-218">Administratorzy</span><span class="sxs-lookup"><span data-stu-id="9d63a-218">Administrators</span></span><br /><br /> <span data-ttu-id="9d63a-219">Deweloperzy aplikacji</span><span class="sxs-lookup"><span data-stu-id="9d63a-219">Application developers</span></span><br /><br /> <span data-ttu-id="9d63a-220">Deweloperzy produktu.</span><span class="sxs-lookup"><span data-stu-id="9d63a-220">Product developers.</span></span>|  
|<span data-ttu-id="9d63a-221">Pełny</span><span class="sxs-lookup"><span data-stu-id="9d63a-221">Verbose</span></span>|<span data-ttu-id="9d63a-222">Zdarzenia "Dodatnią": zdarzenia, oznaczające pomyślne punkty kontrolne.</span><span class="sxs-lookup"><span data-stu-id="9d63a-222">"Positive" events: events that mark successful milestones.</span></span>|<span data-ttu-id="9d63a-223">Zdarzenia na poziomie niskim kod użytkownika i obsługi są emitowane.</span><span class="sxs-lookup"><span data-stu-id="9d63a-223">Low level events for both user code and servicing are emitted.</span></span>|<span data-ttu-id="9d63a-224">Ogólnie rzecz biorąc można użyć ten poziom optymalizacji aplikacji lub debugowania.</span><span class="sxs-lookup"><span data-stu-id="9d63a-224">In general, you can use this level for debugging or application optimization.</span></span><br /><br /> <span data-ttu-id="9d63a-225">-Nagłówek komunikatu rozpoznawanych.</span><span class="sxs-lookup"><span data-stu-id="9d63a-225">-   Understood message header.</span></span>|<span data-ttu-id="9d63a-226">Administratorzy</span><span class="sxs-lookup"><span data-stu-id="9d63a-226">Administrators</span></span><br /><br /> <span data-ttu-id="9d63a-227">Deweloperzy aplikacji</span><span class="sxs-lookup"><span data-stu-id="9d63a-227">Application developers</span></span><br /><br /> <span data-ttu-id="9d63a-228">Deweloperzy produktu.</span><span class="sxs-lookup"><span data-stu-id="9d63a-228">Product developers.</span></span>|  
|<span data-ttu-id="9d63a-229">ActivityTracing</span><span class="sxs-lookup"><span data-stu-id="9d63a-229">ActivityTracing</span></span>||<span data-ttu-id="9d63a-230">Przepływ zdarzenia między działaniami przetwarzania i składniki.</span><span class="sxs-lookup"><span data-stu-id="9d63a-230">Flow events between processing activities and components.</span></span>|<span data-ttu-id="9d63a-231">Ten poziom umożliwia Administratorzy i deweloperzy służące do skorelowania aplikacji w tej samej domenie aplikacji:</span><span class="sxs-lookup"><span data-stu-id="9d63a-231">This level allows administrators and developers to correlate applications in the same application domain:</span></span><br /><br /> <span data-ttu-id="9d63a-232">-Dane śledzenia granice działania, takie jak uruchomienie/zatrzymanie.</span><span class="sxs-lookup"><span data-stu-id="9d63a-232">-   Traces for activity boundaries, such as start/stop.</span></span><br /><span data-ttu-id="9d63a-233">-Ślady transferów.</span><span class="sxs-lookup"><span data-stu-id="9d63a-233">-   Traces for transfers.</span></span>|<span data-ttu-id="9d63a-234">Wszystkie</span><span class="sxs-lookup"><span data-stu-id="9d63a-234">All</span></span>|  
|<span data-ttu-id="9d63a-235">Wszystkie</span><span class="sxs-lookup"><span data-stu-id="9d63a-235">All</span></span>||<span data-ttu-id="9d63a-236">Aplikacja może działać prawidłowo.</span><span class="sxs-lookup"><span data-stu-id="9d63a-236">Application may function properly.</span></span> <span data-ttu-id="9d63a-237">Wszystkie zdarzenia są emitowane.</span><span class="sxs-lookup"><span data-stu-id="9d63a-237">All events are emitted.</span></span>|<span data-ttu-id="9d63a-238">Wszystkie poprzednie zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="9d63a-238">All previous events.</span></span>|<span data-ttu-id="9d63a-239">Wszystkie</span><span class="sxs-lookup"><span data-stu-id="9d63a-239">All</span></span>|  
  
 <span data-ttu-id="9d63a-240">Stos poziomów pełne krytyczne na siebie, to znaczy każdy poziom śledzenia zawiera wszystkie poziomy wyżej z wyjątkiem poziomu Off.</span><span class="sxs-lookup"><span data-stu-id="9d63a-240">The levels from Verbose to Critical are stacked on top of each other, that is, each trace level includes all levels above it except the Off level.</span></span> <span data-ttu-id="9d63a-241">Na przykład odbiornik nasłuchiwania na poziomie ostrzeżenia odbiera śladów krytyczny, błąd i ostrzeżenie.</span><span class="sxs-lookup"><span data-stu-id="9d63a-241">For example, a listener listening at the Warning level receives Critical, Error, and Warning traces.</span></span> <span data-ttu-id="9d63a-242">Wszystkie poziom obejmuje zdarzenia z pełne działanie i krytyczne zdarzenia śledzenia.</span><span class="sxs-lookup"><span data-stu-id="9d63a-242">The All level includes events from Verbose to Critical and Activity tracing events.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="9d63a-243">Poziomy informacje pełne i ActivityTracing generuje dużą liczbę śladów, które może niekorzystnie wpłynąć na wydajność obsługi wiadomości Jeśli użyto wszystkich dostępnych zasobów na komputerze.</span><span class="sxs-lookup"><span data-stu-id="9d63a-243">The Information, Verbose, and ActivityTracing levels generate a lot of traces, which may negatively impact message throughput if you have used up all available resources on the machine.</span></span>  
  
## <a name="configuring-activity-tracing-and-propagation-for-correlation"></a><span data-ttu-id="9d63a-244">Konfigurowanie śledzenia działań i Propagacja dla korelacji</span><span class="sxs-lookup"><span data-stu-id="9d63a-244">Configuring Activity Tracing and Propagation for Correlation</span></span>  
 <span data-ttu-id="9d63a-245">`activityTracing` Wartość określona dla `switchValue` atrybut służy do włączenia śledzenia działania, który emituje śladów granic działania i transferów w obrębie punktów końcowych.</span><span class="sxs-lookup"><span data-stu-id="9d63a-245">The `activityTracing` value specified for the `switchValue` attribute is used to enable activity tracing, which emits traces for activity boundaries and transfers within endpoints.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9d63a-246">Jeśli używasz pewnych funkcji rozszerzalności w [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)], może spowodować, że <xref:System.NullReferenceException> podczas działania śledzenie jest włączone.</span><span class="sxs-lookup"><span data-stu-id="9d63a-246">When you use certain extensibility features in [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)], you might get a <xref:System.NullReferenceException> when activity tracing is enabled.</span></span> <span data-ttu-id="9d63a-247">Aby rozwiązać ten problem, sprawdź plik konfiguracji aplikacji i upewnij się, że `switchValue` atrybutu źródła śledzenia nie jest ustawiony na `activityTracing`.</span><span class="sxs-lookup"><span data-stu-id="9d63a-247">To fix this problem, check your application's configuration file and ensure that the `switchValue` attribute for your trace source is not set to `activityTracing`.</span></span>  
  
 <span data-ttu-id="9d63a-248">`propagateActivity` Atrybut wskazuje, czy działanie powinno propagowane do pozostałych punktów końcowych, które uczestniczą w wymianie wiadomości.</span><span class="sxs-lookup"><span data-stu-id="9d63a-248">The `propagateActivity` attribute indicates whether the activity should be propagated to other endpoints that participate in the message exchange.</span></span> <span data-ttu-id="9d63a-249">Ustawiając tę wartość na `true`, możesz pobrać pliki śledzenia wygenerowane przez dwoma punktami końcowymi i obserwować, jak zestaw ślady na jeden punkt końcowy skierowana do zestawu danych śledzenia w innym punktem końcowym.</span><span class="sxs-lookup"><span data-stu-id="9d63a-249">By setting this value to `true`, you can take trace files generated by any two endpoints and observe how a set of traces on one endpoint flowed to a set of traces on another endpoint.</span></span>  
  
 [!INCLUDE[crabout](../../../../../includes/crabout-md.md)]<span data-ttu-id="9d63a-250"> śledzenie działania i propagacji, zobacz [propagacji](../../../../../docs/framework/wcf/diagnostics/tracing/propagation.md).</span><span class="sxs-lookup"><span data-stu-id="9d63a-250"> activity tracing and propagation, see [Propagation](../../../../../docs/framework/wcf/diagnostics/tracing/propagation.md).</span></span>  
  
 <span data-ttu-id="9d63a-251">Zarówno `propagateActivity` i `ActivityTracing` wartościami logicznymi dotyczą System.ServiceModel TraceSource.</span><span class="sxs-lookup"><span data-stu-id="9d63a-251">Both `propagateActivity` and `ActivityTracing` Boolean values apply to the System.ServiceModel TraceSource.</span></span> <span data-ttu-id="9d63a-252">`ActivityTracing` Wartości mają zastosowanie również do dowolnego źródła śledzenia, łącznie z [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] lub zdefiniowanej przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="9d63a-252">The `ActivityTracing` value also applies to any trace source, including [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] or user-defined ones.</span></span>  
  
 <span data-ttu-id="9d63a-253">Nie można użyć `propagateActivity` atrybut o źródła śledzenia zdefiniowanych przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="9d63a-253">You cannot use the `propagateActivity` attribute with user-defined trace sources.</span></span> <span data-ttu-id="9d63a-254">Dla Propagacja Identyfikatora działania kodu użytkownika, upewnij się, że nie należy ustawiać ServiceModel `ActivityTracing`, przy zachowaniu ServiceModel `propagateActivity` ustawić atrybutu `true`.</span><span class="sxs-lookup"><span data-stu-id="9d63a-254">For user code activity ID propagation, make sure you do not set ServiceModel `ActivityTracing`, while still having ServiceModel `propagateActivity` attribute set to `true`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9d63a-255">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="9d63a-255">See Also</span></span>  
 [<span data-ttu-id="9d63a-256">Śledzenie</span><span class="sxs-lookup"><span data-stu-id="9d63a-256">Tracing</span></span>](../../../../../docs/framework/wcf/diagnostics/tracing/index.md)  
 [<span data-ttu-id="9d63a-257">Administracja i diagnostyka</span><span class="sxs-lookup"><span data-stu-id="9d63a-257">Administration and Diagnostics</span></span>](../../../../../docs/framework/wcf/diagnostics/index.md)  
 [<span data-ttu-id="9d63a-258">Instrukcje: Tworzenie i inicjowanie obiektów nasłuchujących śledzenie</span><span class="sxs-lookup"><span data-stu-id="9d63a-258">How to: Create and Initialize Trace Listeners</span></span>](http://go.microsoft.com/fwlink/?LinkId=94648)  
 [<span data-ttu-id="9d63a-259">Tworzenie niestandardowego elementu TraceListener</span><span class="sxs-lookup"><span data-stu-id="9d63a-259">Creating a Custom TraceListener</span></span>](http://go.microsoft.com/fwlink/?LinkId=96239)
