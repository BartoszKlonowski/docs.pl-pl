---
title: Konfigurowanie śledzenia
ms.date: 03/30/2017
helpviewer_keywords:
- tracing [WCF]
ms.assetid: 82922010-e8b3-40eb-98c4-10fc05c6d65d
ms.openlocfilehash: d8b216bf5497cf2a1faa2fa24ba1d8b3102f6f10
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/12/2020
ms.locfileid: "79185741"
---
# <a name="configuring-tracing"></a><span data-ttu-id="6aadf-102">Konfigurowanie śledzenia</span><span class="sxs-lookup"><span data-stu-id="6aadf-102">Configuring Tracing</span></span>
<span data-ttu-id="6aadf-103">W tym temacie opisano, jak włączyć śledzenie, skonfigurować źródła śledzenia do emitowania śladów i ustawić poziomy śledzenia, ustawić śledzenie aktywności i propagację do obsługi korelacji śledzenia end-to-end i ustawić detektory śledzenia, aby uzyskać dostęp do śledzenia.</span><span class="sxs-lookup"><span data-stu-id="6aadf-103">This topic describes how you can enable tracing, configure trace sources to emit traces and set trace levels, set activity tracing and propagation to support end-to-end trace correlation, and set trace listeners to access traces.</span></span>  
  
 <span data-ttu-id="6aadf-104">Informacje na temat śledzenia zaleceń dotyczących ustawień w środowisku produkcyjnym lub debugowania można znaleźć w [sekcji Zalecane ustawienia śledzenia i rejestrowania wiadomości](../../../../../docs/framework/wcf/diagnostics/tracing/recommended-settings-for-tracing-and-message-logging.md).</span><span class="sxs-lookup"><span data-stu-id="6aadf-104">For tracing settings recommendations in production or debugging environment, refer to [Recommended Settings for Tracing and Message Logging](../../../../../docs/framework/wcf/diagnostics/tracing/recommended-settings-for-tracing-and-message-logging.md).</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="6aadf-105">W systemie Windows 8 należy uruchomić aplikację z podwyższonym poziomem uprawnień (Uruchom jako administrator), aby aplikacja wygenerowała dzienniki śledzenia.</span><span class="sxs-lookup"><span data-stu-id="6aadf-105">On Windows 8 you must run your application elevated (Run as Administrator) in order for your application to generate trace logs.</span></span>  
  
## <a name="enabling-tracing"></a><span data-ttu-id="6aadf-106">Włączenie debugowania</span><span class="sxs-lookup"><span data-stu-id="6aadf-106">Enabling Tracing</span></span>  
 <span data-ttu-id="6aadf-107">Windows Communication Foundation (WCF) wyprowadza następujące dane do śledzenia diagnostycznego:</span><span class="sxs-lookup"><span data-stu-id="6aadf-107">Windows Communication Foundation (WCF) outputs the following data for diagnostic tracing:</span></span>  
  
- <span data-ttu-id="6aadf-108">Ślady dla punktów kontrolnych procesu we wszystkich składnikach aplikacji, takich jak wywołania operacji, wyjątki kodu, ostrzeżenia i inne znaczące zdarzenia przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="6aadf-108">Traces for process milestones across all components of the applications, such as operation calls, code exceptions, warnings and other significant processing events.</span></span>  
  
- <span data-ttu-id="6aadf-109">Zdarzenia błędu systemu Windows, gdy funkcja śledzenia działa nieprawidłowo.</span><span class="sxs-lookup"><span data-stu-id="6aadf-109">Windows error events when the tracing feature malfunctions.</span></span> <span data-ttu-id="6aadf-110">Zobacz [Rejestrowanie zdarzeń](../../../../../docs/framework/wcf/diagnostics/event-logging/index.md).</span><span class="sxs-lookup"><span data-stu-id="6aadf-110">See [Event Logging](../../../../../docs/framework/wcf/diagnostics/event-logging/index.md).</span></span>  
  
 <span data-ttu-id="6aadf-111">Śledzenie WCF jest zbudowany <xref:System.Diagnostics>na szczycie .</span><span class="sxs-lookup"><span data-stu-id="6aadf-111">WCF tracing is built on top of <xref:System.Diagnostics>.</span></span> <span data-ttu-id="6aadf-112">Aby użyć śledzenia, należy zdefiniować źródła śledzenia w pliku konfiguracyjnym lub w kodzie.</span><span class="sxs-lookup"><span data-stu-id="6aadf-112">To use tracing, you should define trace sources in the configuration file or in code.</span></span> <span data-ttu-id="6aadf-113">WCF definiuje źródło śledzenia dla każdego zestawu WCF.</span><span class="sxs-lookup"><span data-stu-id="6aadf-113">WCF defines a trace source for each WCF assembly.</span></span> <span data-ttu-id="6aadf-114">Źródło `System.ServiceModel` śledzenia jest najbardziej ogólne źródło śledzenia WCF i rekordy przetwarzania punktów kontrolnych w stosie komunikacji WCF, od wprowadzania/opuszczania transportu do wprowadzania/opuszczania kodu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="6aadf-114">The `System.ServiceModel` trace source is the most general WCF trace source, and records processing milestones across the WCF communication stack, from entering/leaving transport to entering/leaving user code.</span></span> <span data-ttu-id="6aadf-115">Źródło `System.ServiceModel.MessageLogging` śledzenia rejestruje wszystkie komunikaty, które przepływają przez system.</span><span class="sxs-lookup"><span data-stu-id="6aadf-115">The `System.ServiceModel.MessageLogging` trace source records all messages that flow through the system.</span></span>  
  
 <span data-ttu-id="6aadf-116">Śledzenie nie jest domyślnie włączone.</span><span class="sxs-lookup"><span data-stu-id="6aadf-116">Tracing is not enabled by default.</span></span> <span data-ttu-id="6aadf-117">Aby aktywować śledzenie, należy utworzyć odbiornik śledzenia i ustawić poziom śledzenia inny niż "Off" dla wybranego źródła śledzenia w konfiguracji; w przeciwnym razie WCF nie generuje żadnych śladów.</span><span class="sxs-lookup"><span data-stu-id="6aadf-117">To activate tracing, you must create a trace listener and set a trace level other than "Off" for the selected trace source in configuration; otherwise, WCF does not generate any traces.</span></span> <span data-ttu-id="6aadf-118">Jeśli odbiornik nie zostanie określony, śledzenie zostanie automatycznie wyłączone.</span><span class="sxs-lookup"><span data-stu-id="6aadf-118">If you do not specify a listener, tracing is automatically disabled.</span></span> <span data-ttu-id="6aadf-119">Jeśli odbiornik jest zdefiniowany, ale nie określono poziomu, poziom jest domyślnie ustawiony na "Off", co oznacza, że nie jest emitowany żaden ślad.</span><span class="sxs-lookup"><span data-stu-id="6aadf-119">If a listener is defined, but no level is specified, the level is set to "Off" by default, which means that no trace is emitted.</span></span>  
  
 <span data-ttu-id="6aadf-120">Jeśli używasz punktów rozszerzalności WCF, takich jak wywoływania operacji niestandardowych, należy emitować własne ślady.</span><span class="sxs-lookup"><span data-stu-id="6aadf-120">If you use WCF extensibility points such as custom operation invokers, you should emit your own traces.</span></span> <span data-ttu-id="6aadf-121">Dzieje się tak, ponieważ jeśli zaimplementujesz punkt rozszerzalności, WCF nie może już emitować standardowych śladów w ścieżce domyślnej.</span><span class="sxs-lookup"><span data-stu-id="6aadf-121">This is because if you implement an extensibility point, WCF can no longer emit the standard traces in the default path.</span></span> <span data-ttu-id="6aadf-122">Jeśli nie implementujesz obsługi śledzenia ręcznego przez emitowanie śladów, możesz nie widzieć oczekiwanych śladów.</span><span class="sxs-lookup"><span data-stu-id="6aadf-122">If you do not implement manual tracing support by emitting traces, you may not see the traces you expect.</span></span>  
  
 <span data-ttu-id="6aadf-123">Śledzenie można skonfigurować, edytując plik konfiguracyjny aplikacji — plik Web.config dla aplikacji hostowanych w sieci Web lub appname.exe.config dla aplikacji hostowanych samodzielnie.</span><span class="sxs-lookup"><span data-stu-id="6aadf-123">You can configure tracing by editing the application’s configuration file—either Web.config for Web-hosted applications, or Appname.exe.config for self-hosted applications.</span></span> <span data-ttu-id="6aadf-124">Poniżej przedstawiono przykład takiej edycji.</span><span class="sxs-lookup"><span data-stu-id="6aadf-124">The following is an example of such edit.</span></span> <span data-ttu-id="6aadf-125">Aby uzyskać więcej informacji na temat tych ustawień, zobacz sekcję "Konfigurowanie odbiorników śledzenia do wykorzystania śladów".</span><span class="sxs-lookup"><span data-stu-id="6aadf-125">For more information on these settings, see the "Configuring Trace Listeners to Consume Traces" section.</span></span>  
  
```xml  
<configuration>  
   <system.diagnostics>  
      <sources>  
            <source name="System.ServiceModel"
                    switchValue="Information, ActivityTracing"  
                    propagateActivity="true">  
            <listeners>  
               <add name="traceListener"
                   type="System.Diagnostics.XmlWriterTraceListener"
                   initializeData= "c:\log\Traces.svclog" />  
            </listeners>  
         </source>  
      </sources>  
   </system.diagnostics>  
</configuration>  
```  
  
> [!NOTE]
> <span data-ttu-id="6aadf-126">Aby edytować plik konfiguracyjny projektu usługi WCF w programie Visual Studio, kliknij prawym przyciskiem myszy plik konfiguracyjny aplikacji — web.config dla aplikacji hostowanych w sieci Web lub Appname.exe.config dla aplikacji hostowanych samodzielnie w **Eksploratorze rozwiązań**.</span><span class="sxs-lookup"><span data-stu-id="6aadf-126">To edit the configuration file of a WCF service project in Visual Studio, right click the application’s configuration file—either Web.config for Web-hosted applications, or Appname.exe.config for self-hosted application in **Solution Explorer**.</span></span> <span data-ttu-id="6aadf-127">Następnie wybierz element menu kontekstowego **Edytuj konfigurację WCF.**</span><span class="sxs-lookup"><span data-stu-id="6aadf-127">Then choose the **Edit WCF Configuration** context menu item.</span></span> <span data-ttu-id="6aadf-128">Spowoduje to uruchomienie [narzędzia Edytor konfiguracji (SvcConfigEditor.exe),](../../../../../docs/framework/wcf/configuration-editor-tool-svcconfigeditor-exe.md)które umożliwia modyfikowanie ustawień konfiguracji usług WCF przy użyciu graficznego interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="6aadf-128">This launches the [Configuration Editor Tool (SvcConfigEditor.exe)](../../../../../docs/framework/wcf/configuration-editor-tool-svcconfigeditor-exe.md), which enables you to modify configuration settings for WCF services using a graphical user interface.</span></span>  
  
## <a name="configuring-trace-sources-to-emit-traces"></a><span data-ttu-id="6aadf-129">Konfigurowanie źródeł śledzenia w celu emitowania śladów</span><span class="sxs-lookup"><span data-stu-id="6aadf-129">Configuring Trace Sources to Emit Traces</span></span>  
 <span data-ttu-id="6aadf-130">WCF definiuje źródło śledzenia dla każdego zestawu.</span><span class="sxs-lookup"><span data-stu-id="6aadf-130">WCF defines a trace source for each assembly.</span></span> <span data-ttu-id="6aadf-131">Ślady generowane w ramach zestawu są dostępne dla odbiorników zdefiniowanych dla tego źródła.</span><span class="sxs-lookup"><span data-stu-id="6aadf-131">Traces generated within an assembly are accessed by the listeners defined for that source.</span></span> <span data-ttu-id="6aadf-132">Zdefiniowano następujące źródła śledzenia:</span><span class="sxs-lookup"><span data-stu-id="6aadf-132">The following trace sources are defined:</span></span>  
  
- <span data-ttu-id="6aadf-133">System.ServiceModel: Rejestruje wszystkie etapy przetwarzania WCF, gdy konfiguracja jest odczytywana, komunikat jest przetwarzany w transporcie, przetwarzania zabezpieczeń, wiadomość jest wywoływana w kodzie użytkownika i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="6aadf-133">System.ServiceModel: Logs all stages of WCF processing, whenever configuration is read, a message is processed in transport, security processing, a message is dispatched in user code, and so on.</span></span>  
  
- <span data-ttu-id="6aadf-134">System.ServiceModel.MessageLogging: Rejestruje wszystkie komunikaty, które przepływają przez system.</span><span class="sxs-lookup"><span data-stu-id="6aadf-134">System.ServiceModel.MessageLogging: Logs all messages that flow through the system.</span></span>  
  
- <span data-ttu-id="6aadf-135">System.identitymodel.</span><span class="sxs-lookup"><span data-stu-id="6aadf-135">System.IdentityModel.</span></span>  
  
- <span data-ttu-id="6aadf-136">System.ServiceModel.Activation.</span><span class="sxs-lookup"><span data-stu-id="6aadf-136">System.ServiceModel.Activation.</span></span>  
  
- <span data-ttu-id="6aadf-137">System.IO.Log: Rejestrowanie interfejsu programu .NET Framework do wspólnego systemu plików dziennika (CLFS).</span><span class="sxs-lookup"><span data-stu-id="6aadf-137">System.IO.Log: Logging for the .NET Framework interface to the Common Log File System (CLFS).</span></span>  
  
- <span data-ttu-id="6aadf-138">System.Runtime.Serialization: Rejestruje, gdy obiekty są odczytywane lub zapisywane.</span><span class="sxs-lookup"><span data-stu-id="6aadf-138">System.Runtime.Serialization: Logs when objects are read or written.</span></span>  
  
- <span data-ttu-id="6aadf-139">Cardspace.</span><span class="sxs-lookup"><span data-stu-id="6aadf-139">CardSpace.</span></span>  
  
 <span data-ttu-id="6aadf-140">Można skonfigurować każde źródło śledzenia, aby używało tego samego (udostępnionego) odbiornika, jak wskazano w poniższym przykładzie konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="6aadf-140">You can configure each trace source to use the same (shared) listener, as indicated in the following configuration example.</span></span>  
  
```xml  
<configuration>  
    <system.diagnostics>  
        <sources>  
            <source name="System.ServiceModel"
                    switchValue="Information, ActivityTracing"  
                    propagateActivity="true">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="CardSpace">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.IO.Log">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.Runtime.Serialization">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
            <source name="System.IdentityModel">  
                <listeners>  
                    <add name="xml" />  
                </listeners>  
            </source>  
        </sources>  
  
        <sharedListeners>  
            <add name="xml"  
                 type="System.Diagnostics.XmlWriterTraceListener"  
                 initializeData="c:\log\Traces.svclog" />  
        </sharedListeners>  
    </system.diagnostics>  
</configuration>  
```  
  
 <span data-ttu-id="6aadf-141">Ponadto można dodać źródła śledzenia zdefiniowane przez użytkownika, jak pokazano w poniższym przykładzie, aby emitować ślady kodu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="6aadf-141">In addition, you can add user-defined trace sources, as demonstrated by the following example, to emit user code traces.</span></span>  
  
```xml  
<system.diagnostics>  
   <sources>  
       <source name="UserTraceSource" switchValue="Warning, ActivityTracing" >  
          <listeners>  
              <add name="xml"  
                 type="System.Diagnostics.XmlWriterTraceListener"  
                 initializeData="C:\logs\UserTraces.svclog" />  
          </listeners>  
       </source>  
   </sources>  
   <trace autoflush="true" />
</system.diagnostics>  
```  
  
 <span data-ttu-id="6aadf-142">Aby uzyskać więcej informacji na temat tworzenia źródeł śledzenia zdefiniowanych przez użytkownika, zobacz [Rozszerzanie śledzenia](../../../../../docs/framework/wcf/samples/extending-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="6aadf-142">For more information about creating user-defined trace sources, see [Extending Tracing](../../../../../docs/framework/wcf/samples/extending-tracing.md).</span></span>  
  
## <a name="configuring-trace-listeners-to-consume-traces"></a><span data-ttu-id="6aadf-143">Konfigurowanie odbiorników śledzenia do wykorzystania śladów</span><span class="sxs-lookup"><span data-stu-id="6aadf-143">Configuring Trace Listeners to Consume Traces</span></span>  
 <span data-ttu-id="6aadf-144">W czasie wykonywania WCF dostarcza dane śledzenia do odbiorników, które przetwarzają dane.</span><span class="sxs-lookup"><span data-stu-id="6aadf-144">At runtime, WCF feeds trace data to the listeners which process the data.</span></span> <span data-ttu-id="6aadf-145">WCF zapewnia kilka wstępnie zdefiniowanych <xref:System.Diagnostics>odbiorników dla , które różnią się formatem, którego używają do wyjścia.</span><span class="sxs-lookup"><span data-stu-id="6aadf-145">WCF provides several predefined listeners for <xref:System.Diagnostics>, which differ in the format they use for output.</span></span> <span data-ttu-id="6aadf-146">Można również dodać niestandardowe typy odbiorników.</span><span class="sxs-lookup"><span data-stu-id="6aadf-146">You can also add custom listener types.</span></span>  
  
 <span data-ttu-id="6aadf-147">Można użyć `add` określić nazwę i typ odbiornik śledzenia ma być używany.</span><span class="sxs-lookup"><span data-stu-id="6aadf-147">You can use `add` to specify the name and type of the trace listener you want to use.</span></span> <span data-ttu-id="6aadf-148">W naszej konfiguracji przykładowej nazwaliśmy odbiornik `traceListener` i dodaliśmy standardowy`System.Diagnostics.XmlWriterTraceListener`odbiornik śledzenia programu .NET Framework ( ) jako typ, którego chcemy użyć.</span><span class="sxs-lookup"><span data-stu-id="6aadf-148">In our example configuration, we named the Listener `traceListener` and added the standard .NET Framework trace listener (`System.Diagnostics.XmlWriterTraceListener`) as the type we want to use.</span></span> <span data-ttu-id="6aadf-149">Można dodać dowolną liczbę odbiorników śledzenia dla każdego źródła.</span><span class="sxs-lookup"><span data-stu-id="6aadf-149">You can add any number of trace listeners for each source.</span></span> <span data-ttu-id="6aadf-150">Jeśli odbiornik śledzenia emituje śledzenie do pliku, należy określić lokalizację pliku wyjściowego i nazwę w pliku konfiguracyjnym.</span><span class="sxs-lookup"><span data-stu-id="6aadf-150">If the trace listener emits the trace to a file, you must specify the output file location and name in the configuration file.</span></span> <span data-ttu-id="6aadf-151">Odbywa się to `initializeData` przez ustawienie nazwy pliku dla tego odbiornika.</span><span class="sxs-lookup"><span data-stu-id="6aadf-151">This is done by setting `initializeData` to the name of the file for that listener.</span></span> <span data-ttu-id="6aadf-152">Jeśli nazwa pliku nie zostanie określona, zostanie wygenerowana losowa nazwa pliku na podstawie używanego typu odbiornika.</span><span class="sxs-lookup"><span data-stu-id="6aadf-152">If you do not specify a file name, a random file name is generated based on the listener type used.</span></span> <span data-ttu-id="6aadf-153">Jeśli <xref:System.Diagnostics.XmlWriterTraceListener> jest używany, nazwa pliku bez rozszerzenia jest generowany.</span><span class="sxs-lookup"><span data-stu-id="6aadf-153">If <xref:System.Diagnostics.XmlWriterTraceListener> is used, a file name with no extension is generated.</span></span> <span data-ttu-id="6aadf-154">Jeśli zaimplementujesz odbiornik niestandardowy, można również użyć tego atrybutu do odbierania danych inicjowania innych niż nazwa pliku.</span><span class="sxs-lookup"><span data-stu-id="6aadf-154">If you implement a custom listener, you can also use this attribute to receive initialization data other than a filename.</span></span> <span data-ttu-id="6aadf-155">Na przykład można określić identyfikator bazy danych dla tego atrybutu.</span><span class="sxs-lookup"><span data-stu-id="6aadf-155">For example, you can specify a database identifier for this attribute.</span></span>  
  
 <span data-ttu-id="6aadf-156">Można skonfigurować niestandardowy odbiornik śledzenia, aby wysyłał ślady w sieci, na przykład do zdalnej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="6aadf-156">You can configure a custom trace listener to send traces on the wire, for example, to a remote database.</span></span> <span data-ttu-id="6aadf-157">Jako wdrażający aplikację należy wymusić właściwą kontrolę dostępu na dziennikach śledzenia na komputerze zdalnym.</span><span class="sxs-lookup"><span data-stu-id="6aadf-157">As an application deployer, you should enforce proper access control on the trace logs in the remote machine.</span></span>  
  
 <span data-ttu-id="6aadf-158">Można również skonfigurować odbiornik śledzenia programowo.</span><span class="sxs-lookup"><span data-stu-id="6aadf-158">You can also configure a trace listener programmatically.</span></span> <span data-ttu-id="6aadf-159">Aby uzyskać więcej informacji, zobacz [Jak: Tworzenie i inicjowanie odbiorników śledzenia](../../../debug-trace-profile/how-to-create-and-initialize-trace-listeners.md) i [tworzenie niestandardowego listy śledzenia](https://docs.microsoft.com/archive/msdn-magazine/2006/april/clr-inside-out-extending-system-diagnostics).</span><span class="sxs-lookup"><span data-stu-id="6aadf-159">For more information, see [How to: Create and Initialize Trace Listeners](../../../debug-trace-profile/how-to-create-and-initialize-trace-listeners.md) and [Creating a Custom TraceListener](https://docs.microsoft.com/archive/msdn-magazine/2006/april/clr-inside-out-extending-system-diagnostics).</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="6aadf-160">Ponieważ `System.Diagnostics.XmlWriterTraceListener` nie jest bezpieczne dla wątków, źródło śledzenia może zablokować zasoby wyłącznie podczas wyprowadzania śladów.</span><span class="sxs-lookup"><span data-stu-id="6aadf-160">Because `System.Diagnostics.XmlWriterTraceListener` is not thread-safe, the trace source may lock resources exclusively when outputting traces.</span></span> <span data-ttu-id="6aadf-161">Gdy wiele wątków danych danych śledzenia śledzenia źródła skonfigurowanego do korzystania z tego odbiornika, rywalizacja o zasoby może wystąpić, co powoduje znaczący problem z wydajnością.</span><span class="sxs-lookup"><span data-stu-id="6aadf-161">When many threads output traces to a trace source configured to use this listener, resource contention may occur, which results in a significant performance issue.</span></span> <span data-ttu-id="6aadf-162">Aby rozwiązać ten problem, należy zaimplementować niestandardowy odbiornik, który jest bezpieczny dla wątków.</span><span class="sxs-lookup"><span data-stu-id="6aadf-162">To resolve this problem, you should implement a custom listener that is thread-safe.</span></span>  
  
## <a name="trace-level"></a><span data-ttu-id="6aadf-163">Poziom śledzenia</span><span class="sxs-lookup"><span data-stu-id="6aadf-163">Trace Level</span></span>  
 <span data-ttu-id="6aadf-164">Poziom śledzenia jest kontrolowany `switchValue` przez ustawienie źródła śledzenia.</span><span class="sxs-lookup"><span data-stu-id="6aadf-164">The tracing level is controlled by the `switchValue` setting of the trace source.</span></span> <span data-ttu-id="6aadf-165">Dostępne poziomy śledzenia są opisane w poniższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="6aadf-165">The available tracing levels are described in the following table.</span></span>  
  
|<span data-ttu-id="6aadf-166">Poziom śledzenia</span><span class="sxs-lookup"><span data-stu-id="6aadf-166">Trace Level</span></span>|<span data-ttu-id="6aadf-167">Charakter śledzonych wydarzeń</span><span class="sxs-lookup"><span data-stu-id="6aadf-167">Nature of the Tracked Events</span></span>|<span data-ttu-id="6aadf-168">Zawartość śledzonych zdarzeń</span><span class="sxs-lookup"><span data-stu-id="6aadf-168">Content of the Tracked Events</span></span>|<span data-ttu-id="6aadf-169">Śledzone zdarzenia</span><span class="sxs-lookup"><span data-stu-id="6aadf-169">Tracked Events</span></span>|<span data-ttu-id="6aadf-170">Obiekt docelowy użytkownika</span><span class="sxs-lookup"><span data-stu-id="6aadf-170">User Target</span></span>|  
|-----------------|----------------------------------|-----------------------------------|--------------------|-----------------|  
|<span data-ttu-id="6aadf-171">Wyłączone</span><span class="sxs-lookup"><span data-stu-id="6aadf-171">Off</span></span>|<span data-ttu-id="6aadf-172">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="6aadf-172">N/A</span></span>|<span data-ttu-id="6aadf-173">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="6aadf-173">N/A</span></span>|<span data-ttu-id="6aadf-174">Nie są emitowane żadne ślady.</span><span class="sxs-lookup"><span data-stu-id="6aadf-174">No traces are emitted.</span></span>|<span data-ttu-id="6aadf-175">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="6aadf-175">N/A</span></span>|  
|<span data-ttu-id="6aadf-176">Krytyczny</span><span class="sxs-lookup"><span data-stu-id="6aadf-176">Critical</span></span>|<span data-ttu-id="6aadf-177">Zdarzenia "negatywne": zdarzenia wskazujące nieoczekiwane przetwarzanie lub warunek błędu.</span><span class="sxs-lookup"><span data-stu-id="6aadf-177">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>||<span data-ttu-id="6aadf-178">Rejestrowane są nieobsługiwalne wyjątki, w tym następujące:</span><span class="sxs-lookup"><span data-stu-id="6aadf-178">Unhandled exceptions including the following are logged:</span></span><br /><br /> <span data-ttu-id="6aadf-179">- OutOfMemoryException</span><span class="sxs-lookup"><span data-stu-id="6aadf-179">-   OutOfMemoryException</span></span><br /><span data-ttu-id="6aadf-180">- ThreadAbortException (CLR wywołuje wszelkie ThreadAbortExceptionHandler)</span><span class="sxs-lookup"><span data-stu-id="6aadf-180">-   ThreadAbortException (the CLR invokes any ThreadAbortExceptionHandler)</span></span><br /><span data-ttu-id="6aadf-181">- StackOverflowException (nie można złapać)</span><span class="sxs-lookup"><span data-stu-id="6aadf-181">-   StackOverflowException (cannot be caught)</span></span><br /><span data-ttu-id="6aadf-182">- KonfiguracjaErrorsException</span><span class="sxs-lookup"><span data-stu-id="6aadf-182">-   ConfigurationErrorsException</span></span><br /><span data-ttu-id="6aadf-183">- SEHException</span><span class="sxs-lookup"><span data-stu-id="6aadf-183">-   SEHException</span></span><br /><span data-ttu-id="6aadf-184">- Błędy uruchamiania aplikacji</span><span class="sxs-lookup"><span data-stu-id="6aadf-184">-   Application start errors</span></span><br /><span data-ttu-id="6aadf-185">- Nieudane zdarzenia</span><span class="sxs-lookup"><span data-stu-id="6aadf-185">-   Failfast events</span></span><br /><span data-ttu-id="6aadf-186">- Zawiesza się system</span><span class="sxs-lookup"><span data-stu-id="6aadf-186">-   System hangs</span></span><br /><span data-ttu-id="6aadf-187">- Trujące wiadomości: ślady wiadomości, które powodują niepowodzenie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6aadf-187">-   Poison messages: message traces that cause the application to fail.</span></span>|<span data-ttu-id="6aadf-188">Administratorzy</span><span class="sxs-lookup"><span data-stu-id="6aadf-188">Administrators</span></span><br /><br /> <span data-ttu-id="6aadf-189">Deweloperzy aplikacji</span><span class="sxs-lookup"><span data-stu-id="6aadf-189">Application developers</span></span>|  
|<span data-ttu-id="6aadf-190">Błąd</span><span class="sxs-lookup"><span data-stu-id="6aadf-190">Error</span></span>|<span data-ttu-id="6aadf-191">Zdarzenia "negatywne": zdarzenia wskazujące nieoczekiwane przetwarzanie lub warunek błędu.</span><span class="sxs-lookup"><span data-stu-id="6aadf-191">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>|<span data-ttu-id="6aadf-192">Nieoczekiwane przetwarzanie miało miejsce.</span><span class="sxs-lookup"><span data-stu-id="6aadf-192">Unexpected processing has happened.</span></span> <span data-ttu-id="6aadf-193">Aplikacja nie była w stanie wykonać zadania zgodnie z oczekiwaniami.</span><span class="sxs-lookup"><span data-stu-id="6aadf-193">The application was not able to perform a task as expected.</span></span> <span data-ttu-id="6aadf-194">Jednak aplikacja jest nadal uruchomiona.</span><span class="sxs-lookup"><span data-stu-id="6aadf-194">However, the application is still up and running.</span></span>|<span data-ttu-id="6aadf-195">Wszystkie wyjątki są rejestrowane.</span><span class="sxs-lookup"><span data-stu-id="6aadf-195">All exceptions are logged.</span></span>|<span data-ttu-id="6aadf-196">Administratorzy</span><span class="sxs-lookup"><span data-stu-id="6aadf-196">Administrators</span></span><br /><br /> <span data-ttu-id="6aadf-197">Deweloperzy aplikacji</span><span class="sxs-lookup"><span data-stu-id="6aadf-197">Application developers</span></span>|  
|<span data-ttu-id="6aadf-198">Ostrzeżenie</span><span class="sxs-lookup"><span data-stu-id="6aadf-198">Warning</span></span>|<span data-ttu-id="6aadf-199">Zdarzenia "negatywne": zdarzenia wskazujące nieoczekiwane przetwarzanie lub warunek błędu.</span><span class="sxs-lookup"><span data-stu-id="6aadf-199">"Negative" events: events that indicate an unexpected processing or an error condition.</span></span>|<span data-ttu-id="6aadf-200">Wystąpił lub może wystąpić możliwy problem, ale aplikacja nadal działa poprawnie.</span><span class="sxs-lookup"><span data-stu-id="6aadf-200">A possible problem has occurred or may occur, but the application still functions correctly.</span></span> <span data-ttu-id="6aadf-201">Jednak może nie działać poprawnie.</span><span class="sxs-lookup"><span data-stu-id="6aadf-201">However, it may not continue to work properly.</span></span>|<span data-ttu-id="6aadf-202">- Aplikacja otrzymuje więcej żądań niż pozwalają na to jej ustawienia ograniczania przepustowości.</span><span class="sxs-lookup"><span data-stu-id="6aadf-202">-   The application is receiving more requests than its throttling settings allow.</span></span><br /><span data-ttu-id="6aadf-203">- Kolejka odbiorcza znajduje się w pobliżu maksymalnej skonfigurowaną pojemności.</span><span class="sxs-lookup"><span data-stu-id="6aadf-203">-   The receiving queue is near its maximum configured capacity.</span></span><br /><span data-ttu-id="6aadf-204">- Przekroczony limit czasu.</span><span class="sxs-lookup"><span data-stu-id="6aadf-204">-   Timeout has exceeded.</span></span><br /><span data-ttu-id="6aadf-205">- Poświadczenia są odrzucane.</span><span class="sxs-lookup"><span data-stu-id="6aadf-205">-   Credentials are rejected.</span></span>|<span data-ttu-id="6aadf-206">Administratorzy</span><span class="sxs-lookup"><span data-stu-id="6aadf-206">Administrators</span></span><br /><br /> <span data-ttu-id="6aadf-207">Deweloperzy aplikacji</span><span class="sxs-lookup"><span data-stu-id="6aadf-207">Application developers</span></span>|  
|<span data-ttu-id="6aadf-208">Informacje</span><span class="sxs-lookup"><span data-stu-id="6aadf-208">Information</span></span>|<span data-ttu-id="6aadf-209">"Pozytywne" wydarzenia: wydarzenia, które oznaczają udane kamienie milowe</span><span class="sxs-lookup"><span data-stu-id="6aadf-209">"Positive" events: events that mark successful milestones</span></span>|<span data-ttu-id="6aadf-210">Ważne i pomyślne punkty kontrolne wykonania aplikacji, niezależnie od tego, czy aplikacja działa poprawnie, czy nie.</span><span class="sxs-lookup"><span data-stu-id="6aadf-210">Important and successful milestones of application execution, regardless of whether the application is working properly or not.</span></span>|<span data-ttu-id="6aadf-211">Ogólnie rzecz biorąc, generowane są komunikaty przydatne do monitorowania i diagnozowania stanu systemu, pomiaru wydajności lub profilowania.</span><span class="sxs-lookup"><span data-stu-id="6aadf-211">In general, messages helpful for monitoring and diagnosing system status, measuring performance or profiling are generated.</span></span> <span data-ttu-id="6aadf-212">Takie informacje można wykorzystać do planowania pojemności i zarządzania wydajnością:</span><span class="sxs-lookup"><span data-stu-id="6aadf-212">You can use such information for capacity planning and performance management:</span></span><br /><br /> <span data-ttu-id="6aadf-213">- Kanały są tworzone.</span><span class="sxs-lookup"><span data-stu-id="6aadf-213">-   Channels are created.</span></span><br /><span data-ttu-id="6aadf-214">- Odbiorniki punktów końcowych są tworzone.</span><span class="sxs-lookup"><span data-stu-id="6aadf-214">-   Endpoint listeners are created.</span></span><br /><span data-ttu-id="6aadf-215">- Wiadomość wchodzi / opuszcza transport.</span><span class="sxs-lookup"><span data-stu-id="6aadf-215">-   Message enters/leaves transport.</span></span><br /><span data-ttu-id="6aadf-216">- Token zabezpieczający jest pobierany.</span><span class="sxs-lookup"><span data-stu-id="6aadf-216">-   Security token is retrieved.</span></span><br /><span data-ttu-id="6aadf-217">- Odczytanie ustawienia konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="6aadf-217">-   Configuration setting is read.</span></span>|<span data-ttu-id="6aadf-218">Administratorzy</span><span class="sxs-lookup"><span data-stu-id="6aadf-218">Administrators</span></span><br /><br /> <span data-ttu-id="6aadf-219">Deweloperzy aplikacji</span><span class="sxs-lookup"><span data-stu-id="6aadf-219">Application developers</span></span><br /><br /> <span data-ttu-id="6aadf-220">Deweloperzy produktów.</span><span class="sxs-lookup"><span data-stu-id="6aadf-220">Product developers.</span></span>|  
|<span data-ttu-id="6aadf-221">Pełny</span><span class="sxs-lookup"><span data-stu-id="6aadf-221">Verbose</span></span>|<span data-ttu-id="6aadf-222">"Pozytywne" wydarzenia: wydarzenia, które oznaczają udane kamienie milowe.</span><span class="sxs-lookup"><span data-stu-id="6aadf-222">"Positive" events: events that mark successful milestones.</span></span>|<span data-ttu-id="6aadf-223">Emitowane są zdarzenia niskiego poziomu zarówno dla kodu użytkownika, jak i obsługi.</span><span class="sxs-lookup"><span data-stu-id="6aadf-223">Low level events for both user code and servicing are emitted.</span></span>|<span data-ttu-id="6aadf-224">Ogólnie rzecz biorąc można użyć tego poziomu do debugowania lub optymalizacji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6aadf-224">In general, you can use this level for debugging or application optimization.</span></span><br /><br /> <span data-ttu-id="6aadf-225">- Zrozumiałe nagłówek wiadomości.</span><span class="sxs-lookup"><span data-stu-id="6aadf-225">-   Understood message header.</span></span>|<span data-ttu-id="6aadf-226">Administratorzy</span><span class="sxs-lookup"><span data-stu-id="6aadf-226">Administrators</span></span><br /><br /> <span data-ttu-id="6aadf-227">Deweloperzy aplikacji</span><span class="sxs-lookup"><span data-stu-id="6aadf-227">Application developers</span></span><br /><br /> <span data-ttu-id="6aadf-228">Deweloperzy produktów.</span><span class="sxs-lookup"><span data-stu-id="6aadf-228">Product developers.</span></span>|  
|<span data-ttu-id="6aadf-229">Activitytracing</span><span class="sxs-lookup"><span data-stu-id="6aadf-229">ActivityTracing</span></span>||<span data-ttu-id="6aadf-230">Zdarzenia przepływu między działaniami przetwarzania i składnikami.</span><span class="sxs-lookup"><span data-stu-id="6aadf-230">Flow events between processing activities and components.</span></span>|<span data-ttu-id="6aadf-231">Ten poziom umożliwia administratorom i deweloperom skorelowanie aplikacji w tej samej domenie aplikacji:</span><span class="sxs-lookup"><span data-stu-id="6aadf-231">This level allows administrators and developers to correlate applications in the same application domain:</span></span><br /><br /> <span data-ttu-id="6aadf-232">- Ślady dla granic działania, takie jak start/stop.</span><span class="sxs-lookup"><span data-stu-id="6aadf-232">-   Traces for activity boundaries, such as start/stop.</span></span><br /><span data-ttu-id="6aadf-233">- Ślady transferów.</span><span class="sxs-lookup"><span data-stu-id="6aadf-233">-   Traces for transfers.</span></span>|<span data-ttu-id="6aadf-234">Wszystkie</span><span class="sxs-lookup"><span data-stu-id="6aadf-234">All</span></span>|  
|<span data-ttu-id="6aadf-235">Wszystkie</span><span class="sxs-lookup"><span data-stu-id="6aadf-235">All</span></span>||<span data-ttu-id="6aadf-236">Aplikacja może działać prawidłowo.</span><span class="sxs-lookup"><span data-stu-id="6aadf-236">Application may function properly.</span></span> <span data-ttu-id="6aadf-237">Wszystkie zdarzenia są emitowane.</span><span class="sxs-lookup"><span data-stu-id="6aadf-237">All events are emitted.</span></span>|<span data-ttu-id="6aadf-238">Wszystkie poprzednie wydarzenia.</span><span class="sxs-lookup"><span data-stu-id="6aadf-238">All previous events.</span></span>|<span data-ttu-id="6aadf-239">Wszystkie</span><span class="sxs-lookup"><span data-stu-id="6aadf-239">All</span></span>|  
  
 <span data-ttu-id="6aadf-240">Poziomy z pełnej do krytycznej są ułożone jeden na drugim, oznacza to, że każdy poziom śledzenia zawiera wszystkie poziomy powyżej z wyjątkiem Off poziom.</span><span class="sxs-lookup"><span data-stu-id="6aadf-240">The levels from Verbose to Critical are stacked on top of each other, that is, each trace level includes all levels above it except the Off level.</span></span> <span data-ttu-id="6aadf-241">Na przykład odbiornik nasłuchiwania na poziomie ostrzeżenie odbiera krytyczne, błędy i ostrzeżenia śledzenia.</span><span class="sxs-lookup"><span data-stu-id="6aadf-241">For example, a listener listening at the Warning level receives Critical, Error, and Warning traces.</span></span> <span data-ttu-id="6aadf-242">Poziom Wszystkie zawiera zdarzenia z pełne do krytycznych i zdarzeń śledzenia aktywności.</span><span class="sxs-lookup"><span data-stu-id="6aadf-242">The All level includes events from Verbose to Critical and Activity tracing events.</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="6aadf-243">Poziomy Informacje, Pełne i ActivityTracing generują wiele śladów, które mogą negatywnie wpłynąć na przepływność komunikatów, jeśli zostały wykorzystane wszystkie dostępne zasoby na komputerze.</span><span class="sxs-lookup"><span data-stu-id="6aadf-243">The Information, Verbose, and ActivityTracing levels generate a lot of traces, which may negatively impact message throughput if you have used up all available resources on the machine.</span></span>  
  
## <a name="configuring-activity-tracing-and-propagation-for-correlation"></a><span data-ttu-id="6aadf-244">Konfigurowanie śledzenia i propagacji działań dla korelacji</span><span class="sxs-lookup"><span data-stu-id="6aadf-244">Configuring Activity Tracing and Propagation for Correlation</span></span>  
 <span data-ttu-id="6aadf-245">Wartość `activityTracing` określona `switchValue` dla atrybutu jest używana do włączania śledzenia działania, które emituje ślady dla granic działania i transferów w punktach końcowych.</span><span class="sxs-lookup"><span data-stu-id="6aadf-245">The `activityTracing` value specified for the `switchValue` attribute is used to enable activity tracing, which emits traces for activity boundaries and transfers within endpoints.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="6aadf-246">Korzystając z niektórych funkcji rozszerzalności w WCF, może pojawić <xref:System.NullReferenceException> się, gdy śledzenie aktywności jest włączone.</span><span class="sxs-lookup"><span data-stu-id="6aadf-246">When you use certain extensibility features in WCF, you might get a <xref:System.NullReferenceException> when activity tracing is enabled.</span></span> <span data-ttu-id="6aadf-247">Aby rozwiązać ten problem, sprawdź plik konfiguracyjny aplikacji i upewnij się, że `switchValue` atrybut źródła śledzenia nie jest ustawiony na `activityTracing`.</span><span class="sxs-lookup"><span data-stu-id="6aadf-247">To fix this problem, check your application's configuration file and ensure that the `switchValue` attribute for your trace source is not set to `activityTracing`.</span></span>  
  
 <span data-ttu-id="6aadf-248">Atrybut `propagateActivity` wskazuje, czy działanie powinno być propagowane do innych punktów końcowych, które uczestniczą w wymianie wiadomości.</span><span class="sxs-lookup"><span data-stu-id="6aadf-248">The `propagateActivity` attribute indicates whether the activity should be propagated to other endpoints that participate in the message exchange.</span></span> <span data-ttu-id="6aadf-249">Ustawiając tę `true`wartość na , można wziąć pliki śledzenia generowane przez dowolne dwa punkty końcowe i obserwować, jak zestaw śladów w jednym punkcie końcowym przepływał do zestawu śladów w innym punkcie końcowym.</span><span class="sxs-lookup"><span data-stu-id="6aadf-249">By setting this value to `true`, you can take trace files generated by any two endpoints and observe how a set of traces on one endpoint flowed to a set of traces on another endpoint.</span></span>  
  
 <span data-ttu-id="6aadf-250">Aby uzyskać więcej informacji na temat śledzenia i propagacji aktywności, zobacz [Propagacja](../../../../../docs/framework/wcf/diagnostics/tracing/propagation.md).</span><span class="sxs-lookup"><span data-stu-id="6aadf-250">For more information about activity tracing and propagation, see [Propagation](../../../../../docs/framework/wcf/diagnostics/tracing/propagation.md).</span></span>  
  
 <span data-ttu-id="6aadf-251">Zarówno `propagateActivity` `ActivityTracing` wartości logiczne i logiczne mają zastosowanie do System.ServiceModel TraceSource.</span><span class="sxs-lookup"><span data-stu-id="6aadf-251">Both `propagateActivity` and `ActivityTracing` Boolean values apply to the System.ServiceModel TraceSource.</span></span> <span data-ttu-id="6aadf-252">Wartość `ActivityTracing` dotyczy również dowolnego źródła śledzenia, w tym WCF lub zdefiniowanych przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="6aadf-252">The `ActivityTracing` value also applies to any trace source, including WCF or user-defined ones.</span></span>  
  
 <span data-ttu-id="6aadf-253">Nie można `propagateActivity` użyć atrybutu ze źródłami śledzenia zdefiniowanymi przez użytkownika.</span><span class="sxs-lookup"><span data-stu-id="6aadf-253">You cannot use the `propagateActivity` attribute with user-defined trace sources.</span></span> <span data-ttu-id="6aadf-254">W przypadku propagacji identyfikatora działania kodu użytkownika upewnij `ActivityTracing`się, że nie `propagateActivity` ustawiono servicemodelu, podczas gdy atrybut ServiceModel jest ustawiony na `true`.</span><span class="sxs-lookup"><span data-stu-id="6aadf-254">For user code activity ID propagation, make sure you do not set ServiceModel `ActivityTracing`, while still having ServiceModel `propagateActivity` attribute set to `true`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6aadf-255">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="6aadf-255">See also</span></span>

- [<span data-ttu-id="6aadf-256">Śledzenie</span><span class="sxs-lookup"><span data-stu-id="6aadf-256">Tracing</span></span>](../../../../../docs/framework/wcf/diagnostics/tracing/index.md)
- [<span data-ttu-id="6aadf-257">Administracja i diagnostyka</span><span class="sxs-lookup"><span data-stu-id="6aadf-257">Administration and Diagnostics</span></span>](../../../../../docs/framework/wcf/diagnostics/index.md)
- [<span data-ttu-id="6aadf-258">Porady: tworzenie i inicjowanie obiektów nasłuchujących śledzenia</span><span class="sxs-lookup"><span data-stu-id="6aadf-258">How to: Create and Initialize Trace Listeners</span></span>](../../../debug-trace-profile/how-to-create-and-initialize-trace-listeners.md)
- [<span data-ttu-id="6aadf-259">Tworzenie niestandardowego listy śledzenia</span><span class="sxs-lookup"><span data-stu-id="6aadf-259">Creating a Custom TraceListener</span></span>](https://docs.microsoft.com/archive/msdn-magazine/2006/april/clr-inside-out-extending-system-diagnostics)
