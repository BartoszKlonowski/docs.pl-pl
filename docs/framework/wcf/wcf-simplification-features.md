---
title: Funkcje upraszczania programu WCF
ms.date: 03/30/2017
ms.assetid: 4535a511-6064-4da0-b361-80262a891663
ms.openlocfilehash: 2a2b1bc90729f2c8c3303c5d8ce6befc4dff3980
ms.sourcegitcommit: 2eb5ca4956231c1a0efd34b6a9cab6153a5438af
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/11/2018
ms.locfileid: "49087365"
---
# <a name="wcf-simplification-features"></a><span data-ttu-id="5dcf5-102">Funkcje upraszczania programu WCF</span><span class="sxs-lookup"><span data-stu-id="5dcf5-102">WCF Simplification Features</span></span>
<span data-ttu-id="5dcf5-103">W tym temacie omówiono nowe funkcje, które upewnij się, zapisywanie WCF aplikacje prostsze.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-103">This topic discusses new features that make writing WCF applications simpler.</span></span>  
  
## <a name="simplified-generated-configuration-files"></a><span data-ttu-id="5dcf5-104">Uproszczony wygenerowanych plików konfiguracyjnych</span><span class="sxs-lookup"><span data-stu-id="5dcf5-104">Simplified Generated Configuration Files</span></span>  
 <span data-ttu-id="5dcf5-105">Podczas dodawania odwołania do usługi w programie Visual Studio lub za pomocą narzędzia SvcUtil.exe pliku konfiguracji klienta jest generowany.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-105">When you add a service reference in Visual Studio or use the SvcUtil.exe tool a client configuration file is generated.</span></span> <span data-ttu-id="5dcf5-106">W poprzednich wersjach programu WCF te pliki konfiguracji zawarte wartości dla każdej właściwości powiązania, nawet wtedy, gdy jego wartość jest wartością domyślną.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-106">In previous versions of WCF these configuration files contained the value of every binding property even if its value is the default value.</span></span> <span data-ttu-id="5dcf5-107">W programie WCF 4.5 wygenerowanych plików konfiguracyjnych zawiera tylko te właściwości powiązania, które są ustawione na wartości innych niż domyślne.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-107">In WCF 4.5 the generated configuration files contain only those binding properties that are set to a non-default value.</span></span>  
  
 <span data-ttu-id="5dcf5-108">Oto przykładowy plik konfiguracji, generowane przez WCF 3.0.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-108">The following is an example of a configuration file generated by WCF 3.0.</span></span>  
  
```xml  
<?xml version="1.0" encoding="utf-8"?>  
<configuration>  
    <system.serviceModel>  
        <bindings>  
            <basicHttpBinding>  
                <binding name="BasicHttpBinding_IService1" closeTimeout="00:01:00"  
                    openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"  
                    allowCookies="false" bypassProxyOnLocal="false"   
                    hostNameComparisonMode="StrongWildcard" maxBufferSize="65536"   
                    maxBufferPoolSize="524288" maxReceivedMessageSize="65536"  
                    messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"  
                    useDefaultWebProxy="true">  
                    <readerQuotas maxDepth="32" maxStringContentLength="8192"   
                        maxArrayLength="16384" maxBytesPerRead="4096"  
                        maxNameTableCharCount="16384" />  
                    <security mode="None">  
                        <transport clientCredentialType="None" proxyCredentialType="None"  
                            realm="" />  
                        <message clientCredentialType="UserName" algorithmSuite="Default" />  
                    </security>  
                </binding>  
            </basicHttpBinding>  
        </bindings>  
        <client>  
            <endpoint address="http://localhost:36906/Service1.svc" binding="basicHttpBinding"  
                bindingConfiguration="BasicHttpBinding_IService1" contract="IService1"  
                name="BasicHttpBinding_IService1" />  
        </client>  
    </system.serviceModel>  
</configuration>  
```  
  
 <span data-ttu-id="5dcf5-109">Oto przykład tego samego pliku konfiguracji, generowane przez 4.5 usługi WCF.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-109">The following is an example of the same configuration file generated by WCF 4.5.</span></span>  
  
```xml  
<?xml version="1.0" encoding="utf-8"?>  
<configuration>  
    <system.serviceModel>  
        <bindings>  
            <basicHttpBinding>  
                <binding name="BasicHttpBinding_IService1" />  
            </basicHttpBinding>  
        </bindings>  
        <client>  
            <endpoint address="http://localhost:36906/Service1.svc" binding="basicHttpBinding"  
                bindingConfiguration="BasicHttpBinding_IService1" contract="IService1"  
                name="BasicHttpBinding_IService1" />  
        </client>  
    </system.serviceModel>  
</configuration>  
```  
  
## <a name="contract-first-development"></a><span data-ttu-id="5dcf5-110">Programowanie Contract-First</span><span class="sxs-lookup"><span data-stu-id="5dcf5-110">Contract-First Development</span></span>  
 <span data-ttu-id="5dcf5-111">Usługi WCF dodano wsparcie dla programowania z wymogiem wcześniejszego zawarcia kontraktu.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-111">WCF now has support for contract-first development.</span></span> <span data-ttu-id="5dcf5-112">Narzędzie svcutl.exe ma przełącznik /serviceContract, który umożliwia generowanie kontraktów usług i danych z dokumentu WSDL.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-112">The svcutl.exe tool has a /serviceContract switch which allows you to generate service and data contracts from a WSDL document.</span></span>  
  
## <a name="add-service-reference-from-a-portable-subset-project"></a><span data-ttu-id="5dcf5-113">Dodaj odwołanie do usługi w projekcie obsługującym podzestaw przenośny</span><span class="sxs-lookup"><span data-stu-id="5dcf5-113">Add Service Reference From a Portable Subset Project</span></span>  
 <span data-ttu-id="5dcf5-114">Projekty obsługującym podzestaw przenośny umożliwiają deweloperom zestawu .NET do utrzymywania drzewa pojedyncze źródło i systemu kompilacji, nadal obsługując wiele implementacji .NET (pulpitu, Silverlight, Windows Phone i XBOX).</span><span class="sxs-lookup"><span data-stu-id="5dcf5-114">Portable subset projects enable .NET assembly programmers to maintain a single source tree and build system while still supporting multiple .NET implementations (desktop, Silverlight, Windows Phone, and XBOX).</span></span> <span data-ttu-id="5dcf5-115">Projekty obsługującym podzestaw przenośny tylko odwołania do bibliotek przenośnych platformy .NET, będące zestaw .NET framework, używanym w implementacji .NET.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-115">Portable subset projects only reference .NET portable libraries which are a .NET framework assembly that can be used on any .NET implementation.</span></span> <span data-ttu-id="5dcf5-116">Środowisko programistyczne jest taka sama jak dodawanie odwołania do usługi w ramach innej aplikacji klienckich programu WCF.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-116">The developer experience is the same as adding a service reference within any other WCF client application.</span></span> <span data-ttu-id="5dcf5-117">Aby uzyskać więcej informacji, zobacz [Dodaj odwołanie do usługi w przenośnych projekcie obsługującym podzestaw](../../../docs/framework/wcf/add-service-reference-in-a-portable-subset-project.md).</span><span class="sxs-lookup"><span data-stu-id="5dcf5-117">For more information, see [Add Service Reference in a Portable Subset Project](../../../docs/framework/wcf/add-service-reference-in-a-portable-subset-project.md).</span></span>  
  
## <a name="aspnet-compatibility-mode-default-changed"></a><span data-ttu-id="5dcf5-118">Domyślne tryb zgodności ASP.NET zostało zmienione</span><span class="sxs-lookup"><span data-stu-id="5dcf5-118">ASP.NET Compatibility Mode Default Changed</span></span>  
 <span data-ttu-id="5dcf5-119">Usługi WCF zapewnia tryb zgodności ASP.NET do udzielania deweloperów pełny dostęp do funkcji w potoku HTTP programu ASP.NET, podczas zapisywania usług WCF.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-119">WCF provides ASP.NET compatibility mode to grant developers full access to the features in the ASP.NET HTTP pipeline when writing WCF services.</span></span> <span data-ttu-id="5dcf5-120">Aby użyć tego trybu, należy ustawić `aspNetCompatibilityEnabled` atrybut na wartość true w [ \<serviceHostingEnvironment >](../../../docs/framework/configure-apps/file-schema/wcf/servicehostingenvironment.md) sekcja pliku Web.config. Ponadto każda usługa, w tym elemencie appDomain musi mieć `RequirementsMode` właściwość jego <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> równa <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> lub <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-120">To use this mode, you must set the `aspNetCompatibilityEnabled` attribute to true in the [\<serviceHostingEnvironment>](../../../docs/framework/configure-apps/file-schema/wcf/servicehostingenvironment.md) section of web.config. Additionally, any service in this appDomain needs to have the `RequirementsMode` property on its <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> or <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span></span> <span data-ttu-id="5dcf5-121">Domyślnie <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> są teraz ustawione na <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> i domyślne WCF usługi zestawy szablonów aplikacji `aspNetCompatibilityEnabled` atrybutu `true`.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-121">By default <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> is now set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> and the default WCF service application template sets the `aspNetCompatibilityEnabled` attribute to `true`.</span></span> <span data-ttu-id="5dcf5-122">Aby uzyskać więcej informacji, zobacz [What's New in Windows Communication Foundation 4.5](../../../docs/framework/wcf/whats-new.md) i [usługi WCF i platforma ASP.NET](../../../docs/framework/wcf/feature-details/wcf-services-and-aspnet.md).</span><span class="sxs-lookup"><span data-stu-id="5dcf5-122">For more information, see [What's New in Windows Communication Foundation 4.5](../../../docs/framework/wcf/whats-new.md) and [WCF Services and ASP.NET](../../../docs/framework/wcf/feature-details/wcf-services-and-aspnet.md).</span></span>  
  
## <a name="streaming-improvements"></a><span data-ttu-id="5dcf5-123">Ulepszenia przesyłania strumieniowego</span><span class="sxs-lookup"><span data-stu-id="5dcf5-123">Streaming Improvements</span></span>  
  
-   <span data-ttu-id="5dcf5-124">Nowa funkcja obsługi asynchronicznego przesyłania strumieniowego dołączonym do programu WCF.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-124">New support for asynchronous streaming has been added to WCF.</span></span> <span data-ttu-id="5dcf5-125">Aby włączyć, asynchronicznego przesyłania strumieniowego, Dodaj <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> zachowanie punktu końcowego usługi hosta i ustaw jego <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> właściwość `true`.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-125">To enable asynchronous streaming, add the  <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> endpoint behavior to the service host and set its <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> property to `true`.</span></span>  <span data-ttu-id="5dcf5-126">Mogą zyskać skalowalność, gdy usługa wysyła komunikaty przesyłane strumieniowo do wielu klientów, które odczytują powoli.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-126">This can benefit scalability when a service is sending streamed messages to multiple clients which are reading slowly.</span></span> <span data-ttu-id="5dcf5-127">Usługi WCF nie blokuje już jeden wątek na każdym klienta i dysku można zwolnić wątek do obsługi innego klienta.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-127">WCF does not block one thread per client anymore and will free up the thread to service another client.</span></span>  
  
-   <span data-ttu-id="5dcf5-128">Usunięto ograniczenia dotyczące buforowania wiadomości, gdy usługa jest hostowana w usługach IIS.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-128">Removed limitations around buffering of messages when a service is IIS hosted.</span></span> <span data-ttu-id="5dcf5-129">W poprzednich wersjach programu WCF podczas odbierania komunikatu dla używanej strumieniowy transfer komunikatów usługi hostowanych przez usługi IIS ASP.NET będzie buforować cały komunikat przed wysłaniem ich do programu WCF.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-129">In previous versions of WCF when receiving a message for an IIS-hosted service that used streaming message transfer, ASP.NET would buffer the entire message before sending it to WCF.</span></span> <span data-ttu-id="5dcf5-130">To spowoduje, że zużycie pamięci.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-130">This would cause large memory consumption.</span></span> <span data-ttu-id="5dcf5-131">Tej buforowanie zostało usunięte w .NET 4.5, a teraz usługi WCF hostowanej przez usługi IIS można uruchomić, przetwarzanie strumienia przychodzącego przed odebraniem cały komunikat, umożliwiając w ten sposób true przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-131">This buffering has been removed in .NET 4.5 and now IIS-hosted WCF services can start processing the incoming stream before the entire message has been received, thereby enabling true streaming.</span></span> <span data-ttu-id="5dcf5-132">Zezwala na WCF do natychmiastowe odpowiadanie na wiadomości i umożliwia lepszą wydajność.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-132">This allows WCF to respond immediately to messages and allows improved performance.</span></span> <span data-ttu-id="5dcf5-133">Ponadto nie należy określić wartość dla `maxRequestLength`, limit rozmiaru platformy ASP.NET na żądań przychodzących.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-133">In addition, you no longer have to specify a value for `maxRequestLength`, the ASP.NET size limit on incoming requests.</span></span> <span data-ttu-id="5dcf5-134">Jeśli ta właściwość jest ustawiona, zostanie zignorowany.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-134">If this property is set, it is ignored.</span></span> <span data-ttu-id="5dcf5-135">Aby uzyskać więcej informacji na temat `maxRequestLength` zobacz [ \<httpRuntime > element konfiguracji](https://go.microsoft.com/fwlink/?LinkId=223344).</span><span class="sxs-lookup"><span data-stu-id="5dcf5-135">For more information about `maxRequestLength` see [\<httpRuntime> configuration element](https://go.microsoft.com/fwlink/?LinkId=223344).</span></span> <span data-ttu-id="5dcf5-136">Należy także skonfigurować maxAllowedContentLength, aby uzyskać więcej informacji, zobacz [limity żądań usług IIS](https://go.microsoft.com/fwlink/?LinkId=225908).</span><span class="sxs-lookup"><span data-stu-id="5dcf5-136">You will still need to configure the maxAllowedContentLength, For more information, see [IIS Request Limits](https://go.microsoft.com/fwlink/?LinkId=225908).</span></span>  
  
## <a name="new-transport-default-values"></a><span data-ttu-id="5dcf5-137">Nowe wartości domyślne transportu</span><span class="sxs-lookup"><span data-stu-id="5dcf5-137">New Transport Default Values</span></span>  
 <span data-ttu-id="5dcf5-138">W poniższej tabeli opisano ustawienia, które zostały zmienione i gdzie można znaleźć dodatkowe informacje.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-138">The following table describes the settings that have changed and where to find additional information.</span></span>  
  
|<span data-ttu-id="5dcf5-139">Właściwość</span><span class="sxs-lookup"><span data-stu-id="5dcf5-139">Property</span></span>|<span data-ttu-id="5dcf5-140">On</span><span class="sxs-lookup"><span data-stu-id="5dcf5-140">On</span></span>|<span data-ttu-id="5dcf5-141">Nowe rozwiązanie domyślne</span><span class="sxs-lookup"><span data-stu-id="5dcf5-141">New Default</span></span>|<span data-ttu-id="5dcf5-142">Więcej informacji</span><span class="sxs-lookup"><span data-stu-id="5dcf5-142">More Information</span></span>|  
|--------------|--------|-----------------|----------------------|  
|<span data-ttu-id="5dcf5-143">channelInitializationTimeout</span><span class="sxs-lookup"><span data-stu-id="5dcf5-143">channelInitializationTimeout</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="5dcf5-144">30 sekund</span><span class="sxs-lookup"><span data-stu-id="5dcf5-144">30 seconds</span></span>|<span data-ttu-id="5dcf5-145">Ta właściwość określa, jak długo połączenia protokołu TCP można wykonać w celu uwierzytelniać za pomocą programu .Net Framing protokołu.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-145">This property determines how long a TCP connection can take to authenticate itself using the .Net Framing protocol.</span></span> <span data-ttu-id="5dcf5-146">Klient musi wysyłać niektórych danych początkowych, zanim serwer ma za mało informacji w celu przeprowadzenia uwierzytelniania.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-146">A client needs to send some initial data before the server has enough information to perform authentication.</span></span> <span data-ttu-id="5dcf5-147">Limit czasu jest celowo zapewnić mniejszy niż ReceiveTimeout (10 min) złośliwego nieuwierzytelnionych klientów nie przechowuj połączeń blokowana serwerowi długo.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-147">This timeout is intentionally made smaller than the ReceiveTimeout (10 min) so that malicious unauthenticated clients do not keep the connections tied up to the server for long.</span></span> <span data-ttu-id="5dcf5-148">Wartość domyślna to 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-148">The default value is 30 seconds.</span></span> <span data-ttu-id="5dcf5-149">Aby uzyskać więcej informacji na temat <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A></span><span class="sxs-lookup"><span data-stu-id="5dcf5-149">For more information about <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A></span></span>|  
|<span data-ttu-id="5dcf5-150">listenBacklog</span><span class="sxs-lookup"><span data-stu-id="5dcf5-150">listenBacklog</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="5dcf5-151">16 \* liczba procesorów</span><span class="sxs-lookup"><span data-stu-id="5dcf5-151">16 \* number of processors</span></span>|<span data-ttu-id="5dcf5-152">Ta właściwość poziomie gniazd opisuje liczbę "oczekujące Akceptuj" żądań w kolejce.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-152">This socket-level property describes the number of "pending accept" requests to be queued.</span></span> <span data-ttu-id="5dcf5-153">Jeśli kolejka zaległości nasłuchiwania się zapełni, nowe żądania gniazda zostanie odrzucone.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-153">If the listen backlog queue fills up, new socket requests will be rejected.</span></span> <span data-ttu-id="5dcf5-154">Aby uzyskać więcej informacji na temat <xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A></span><span class="sxs-lookup"><span data-stu-id="5dcf5-154">For more information about <xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A></span></span>|  
|<span data-ttu-id="5dcf5-155">maxPendingAccepts</span><span class="sxs-lookup"><span data-stu-id="5dcf5-155">maxPendingAccepts</span></span>|<span data-ttu-id="5dcf5-156">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="5dcf5-156">ConnectionOrientedTransportBindingElement</span></span><br /><br /> <span data-ttu-id="5dcf5-157">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="5dcf5-157">SMSvcHost.exe</span></span>|<span data-ttu-id="5dcf5-158">2 \* liczba procesorów dla transportu</span><span class="sxs-lookup"><span data-stu-id="5dcf5-158">2 \* number of processors for transport</span></span><br /><br /> <span data-ttu-id="5dcf5-159">4 \* liczby procesorów dla SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="5dcf5-159">4 \* number of processors for SMSvcHost.exe</span></span>|<span data-ttu-id="5dcf5-160">Ta właściwość ogranicza liczbę kanałów, które serwer może mieć oczekiwanie na odbiornik.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-160">This property limits the number of channels that the server can have waiting on a listener.</span></span> <span data-ttu-id="5dcf5-161">Gdy MaxPendingAccepts jest zbyt niska, nastąpi małych przedział czasu, w którym wszystkie kanały oczekiwania rozpoczęły obsługi połączeń, ale nie nowe kanały rozpoczęto nasłuchiwania.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-161">When MaxPendingAccepts is too low, there will be a small interval of time in which all of the waiting channels have started servicing connections, but no new channels have begun listening.</span></span> <span data-ttu-id="5dcf5-162">Połączenie, mogą pojawić się w danym przedziale czasu i zakończy się niepowodzeniem, ponieważ nic nie czeka on na serwerze.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-162">A connection can arrive during this interval and will fail because nothing is waiting for it on the server.</span></span> <span data-ttu-id="5dcf5-163">Tej właściwości można skonfigurować, ustawiając <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A> właściwości na większą liczbę.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-163">This property can be configured by setting the <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A> property to a larger number.</span></span> <span data-ttu-id="5dcf5-164">Aby uzyskać więcej informacji, zobacz <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> i [konfigurowania usługi udostępniania portów Net.TCP](../../../docs/framework/wcf/feature-details/configuring-the-net-tcp-port-sharing-service.md)</span><span class="sxs-lookup"><span data-stu-id="5dcf5-164">For more information, see <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> and [Configuring the Net.TCP Port Sharing Service](../../../docs/framework/wcf/feature-details/configuring-the-net-tcp-port-sharing-service.md)</span></span>|  
|<span data-ttu-id="5dcf5-165">maxPendingConnections</span><span class="sxs-lookup"><span data-stu-id="5dcf5-165">maxPendingConnections</span></span>|<span data-ttu-id="5dcf5-166">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="5dcf5-166">ConnectionOrientedTransportBindingElement</span></span>|<span data-ttu-id="5dcf5-167">12 \* liczba procesorów</span><span class="sxs-lookup"><span data-stu-id="5dcf5-167">12 \* number of processors</span></span>|<span data-ttu-id="5dcf5-168">Ta właściwość określa, ile połączenia transportu zaakceptował, ale nie zostały jeszcze odebrane przez dyspozytora elementu ServiceModel.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-168">This property controls how many connections a transport has accepted but have not been picked up by the ServiceModel Dispatcher.</span></span> <span data-ttu-id="5dcf5-169">Aby ustawić tę wartość, użyj `MaxConnections` w powiązaniu lub `maxOutboundConnectionsPerEndpoint` w elemencie powiązania.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-169">To set this value, use `MaxConnections` on the binding or `maxOutboundConnectionsPerEndpoint` on the binding element.</span></span> <span data-ttu-id="5dcf5-170">Aby uzyskać więcej informacji na temat <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A></span><span class="sxs-lookup"><span data-stu-id="5dcf5-170">For more information about <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A></span></span>|  
|<span data-ttu-id="5dcf5-171">receiveTimeout</span><span class="sxs-lookup"><span data-stu-id="5dcf5-171">receiveTimeout</span></span>|<span data-ttu-id="5dcf5-172">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="5dcf5-172">SMSvcHost.exe</span></span>|<span data-ttu-id="5dcf5-173">30 sekund</span><span class="sxs-lookup"><span data-stu-id="5dcf5-173">30 seconds</span></span>|<span data-ttu-id="5dcf5-174">Ta właściwość określa limit czasu dla odczytu danych z ramek TCP i wykonania przekazania połączenia z podstawowym połączeń.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-174">This property specifies the timeout for reading the TCP framing data and performing connection dispatching from the underlying connections.</span></span> <span data-ttu-id="5dcf5-175">Istnieje to umieszczenie limit ilości czasu, przez który SMSvcHost.exe usługi są przechowywane zaangażowani odczytać dane preambuły z połączenia przychodzącego.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-175">This exists to put a cap on the amount of time SMSvcHost.exe service is kept engaged to read the preamble data from an incoming connection.</span></span> <span data-ttu-id="5dcf5-176">Aby uzyskać więcej informacji, zobacz [konfigurowania usługi udostępniania portów Net.TCP](../../../docs/framework/wcf/feature-details/configuring-the-net-tcp-port-sharing-service.md).</span><span class="sxs-lookup"><span data-stu-id="5dcf5-176">For more information, see [Configuring the Net.TCP Port Sharing Service](../../../docs/framework/wcf/feature-details/configuring-the-net-tcp-port-sharing-service.md).</span></span>|  
  
> [!NOTE]
>  <span data-ttu-id="5dcf5-177">Te nowe ustawienia domyślne są używane tylko wtedy, gdy wdrażanie usługi WCF na maszynie z .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-177">These new defaults are used only if you deploy the WCF service on a machine with .NET Framework 4.5.</span></span> <span data-ttu-id="5dcf5-178">Jeśli możesz wdrożyć tę samą usługę na komputerze przy użyciu programu .NET Framework 4.0, używane są ustawienia domyślne programu .NET Framework 4.0.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-178">If you deploy the same service on a machine with .NET Framework 4.0, then the .NET Framework 4.0 defaults are used.</span></span> <span data-ttu-id="5dcf5-179">W takich przypadkach zalecane jest aby skonfigurować te ustawienia jawnie.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-179">In such cases it is recommended to configure these settings explicitly.</span></span>  
  
## <a name="xmldictionaryreaderquotas"></a><span data-ttu-id="5dcf5-180">XmlDictionaryReaderQuotas</span><span class="sxs-lookup"><span data-stu-id="5dcf5-180">XmlDictionaryReaderQuotas</span></span>  
 <span data-ttu-id="5dcf5-181"><xref:System.Xml.XmlDictionaryReaderQuotas> zawiera wartości zasobów można skonfigurować dla czytelników słownika XML, które ograniczają ilość pamięci wykorzystywany przez koder podczas tworzenia komunikatu.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-181"><xref:System.Xml.XmlDictionaryReaderQuotas> contains configurable quota values for XML dictionary readers which limit the amount of memory utilized by an encoder while creating a message.</span></span> <span data-ttu-id="5dcf5-182">Mimo że tych limitów przydziału można skonfigurować, wartości domyślne zostały zmienione na zmniejszanie możliwości, które deweloper będzie ustawiony w sposób jawny.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-182">While these quotas are configurable, the default values have changed to lessen the possibility that a developer will need to set them explicitly.</span></span> <span data-ttu-id="5dcf5-183">`MaxReceivedMessageSize` przydział nie został zmieniony tak, aby nadal może ograniczyć zużycie pamięci, zapobiegając potrzebę radzenia sobie z złożoność <xref:System.Xml.XmlDictionaryReaderQuotas>.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-183">`MaxReceivedMessageSize` quota has not been changed so that it can still limit memory consumption preventing the need for you to deal with the complexity of the <xref:System.Xml.XmlDictionaryReaderQuotas>.</span></span> <span data-ttu-id="5dcf5-184">W poniższej tabeli przedstawiono limity przydziału, nowe wartości domyślnych i krótki opis dotyczący przeznaczenia każdego przydziału.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-184">The following table shows the quotas, their new default values and a brief explanation of what each quota is used for.</span></span>  
  
|<span data-ttu-id="5dcf5-185">Nazwa limitu przydziału</span><span class="sxs-lookup"><span data-stu-id="5dcf5-185">Quota Name</span></span>|<span data-ttu-id="5dcf5-186">Wartość domyślna</span><span class="sxs-lookup"><span data-stu-id="5dcf5-186">Default Value</span></span>|<span data-ttu-id="5dcf5-187">Opis</span><span class="sxs-lookup"><span data-stu-id="5dcf5-187">Description</span></span>|  
|----------------|-------------------|-----------------|  
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>|<span data-ttu-id="5dcf5-188">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="5dcf5-188">Int32.MaxValue</span></span>|<span data-ttu-id="5dcf5-189">Pobiera lub ustawia maksymalną dozwoloną długość tablicy.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-189">Gets and sets the maximum allowed array length.</span></span> <span data-ttu-id="5dcf5-190">Ten limit przydziału ogranicza maksymalny rozmiar tablicy elementów podstawowych, które zwraca odczytującego XML, w tym tablice typu byte.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-190">This quota limits the maximum size of an array of primitives that the XML reader returns, including byte arrays.</span></span> <span data-ttu-id="5dcf5-191">Ten limit przydziału nie ogranicza użycie pamięci przez czytnik XML, sam, ale w składniku niezależnie od korzystający z czytnika.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-191">This quota does not limit memory consumption in the XML reader itself, but in whatever component that is using the reader.</span></span> <span data-ttu-id="5dcf5-192">Na przykład, gdy <xref:System.Runtime.Serialization.DataContractSerializer> używa czytnik zabezpieczony za pomocą <xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>, nie wykonać deserializacji tablice bajtów przekracza ten limit przydziału.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-192">For example, when the <xref:System.Runtime.Serialization.DataContractSerializer> uses a reader secured with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>, it does not deserialize byte arrays larger than this quota.</span></span>|  
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>|<span data-ttu-id="5dcf5-193">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="5dcf5-193">Int32.MaxValue</span></span>|<span data-ttu-id="5dcf5-194">Pobiera i ustawia maksymalna liczba bajtów dozwoloną dla każdego odczytu.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-194">Gets and sets the maximum allowed bytes returned for each read.</span></span> <span data-ttu-id="5dcf5-195">Ten limit przydziału ogranicza liczbę bajtów, które są odczytywane w ramach jednej operacji odczytu podczas odczytywania elementu start tag i jego atrybuty.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-195">This quota limits the number of bytes that are read in a single Read operation when reading the element start tag and its attributes.</span></span> <span data-ttu-id="5dcf5-196">(W przypadkach,-strumieniowo, sama nazwa elementu jest nie przeliczane względem limitu przydziału).</span><span class="sxs-lookup"><span data-stu-id="5dcf5-196">(In non-streamed cases, the element name itself is not counted against the quota).</span></span> <span data-ttu-id="5dcf5-197">Masz zbyt wiele atrybutów XML może używać nieproporcjonalne czas przetwarzania, ponieważ nazwy atrybutu muszą być sprawdzane pod kątem unikatowości.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-197">Having too many XML attributes may use up disproportionate processing time because attribute names have to be checked for uniqueness.</span></span> <span data-ttu-id="5dcf5-198"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A> zmniejsza zagrożenie tego typu.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-198"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A> mitigates this threat.</span></span>|  
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A>|<span data-ttu-id="5dcf5-199">głębokie 128 węzłów</span><span class="sxs-lookup"><span data-stu-id="5dcf5-199">128 nodes deep</span></span>|<span data-ttu-id="5dcf5-200">Ten limit przydziału ogranicza maksymalną głębokość zagnieżdżenia elementów XML.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-200">This quota limits the maximum nesting depth of XML elements.</span></span>  <span data-ttu-id="5dcf5-201"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> wchodzi w interakcję z <xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>: czytnik zawsze zachowuje dane w pamięci dla bieżącego elementu i wszystkie jego elementy nadrzędne, zmniejszenie zużycia pamięci maksymalnej czytnika jest proporcjonalna do produktu te dwa ustawienia.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-201"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> interacts with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>: the reader always keeps data in memory for the current element and all of its ancestors, so the maximum memory consumption of the reader is proportional to the product of these two settings.</span></span> <span data-ttu-id="5dcf5-202">Podczas deserializacji grafu obiektów głęboko zagnieżdżone, dostęp do całego stosu i zgłosić nieodwracalny wymuszono Deserializator <xref:System.StackOverflowException>.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-202">When deserializing a deeply-nested object graph, the deserializer is forced to access the entire stack and throw an unrecoverable <xref:System.StackOverflowException>.</span></span> <span data-ttu-id="5dcf5-203">Między zagnieżdżanie XML i zagnieżdżanie obiektu dla obu istnieje bezpośrednia korelacja <xref:System.Runtime.Serialization.DataContractSerializer> i <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-203">A direct correlation exists between XML nesting and object nesting for both the <xref:System.Runtime.Serialization.DataContractSerializer> and the <xref:System.Xml.Serialization.XmlSerializer>.</span></span> <span data-ttu-id="5dcf5-204"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> Umożliwia uniknięcie tego zagrożenia.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-204"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> is used to mitigate this threat.</span></span>|  
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxNameTableCharCount%2A>|<span data-ttu-id="5dcf5-205">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="5dcf5-205">Int32.MaxValue</span></span>|<span data-ttu-id="5dcf5-206">Ten limit przydziału ogranicza maksymalną liczbę znaków dozwolonych w tabeli nazw.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-206">This quota limits the maximum number of characters allowed in a nametable.</span></span> <span data-ttu-id="5dcf5-207">Tabela nazw zawiera niektóre ciągi (na przykład obszary nazw i prefiksy), napotkanych podczas przetwarzania dokumentu XML.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-207">The nametable contains certain strings (such as namespaces and prefixes) that are encountered when processing an XML document.</span></span> <span data-ttu-id="5dcf5-208">Jak te ciągi są buforowane w pamięci, ten limit przydziału jest używana Aby uniknąć nadmiernego buforowanie podczas przesyłania strumieniowego jest oczekiwany.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-208">As these strings are buffered in memory, this quota is used to prevent excessive buffering when streaming is expected.</span></span>|  
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>|<span data-ttu-id="5dcf5-209">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="5dcf5-209">Int32.MaxValue</span></span>|<span data-ttu-id="5dcf5-210">Ten limit przydziału ogranicza rozmiar maksymalny ciągu, która zwraca odczytującego XML.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-210">This quota limits the maximum string size that the XML reader returns.</span></span> <span data-ttu-id="5dcf5-211">Ten limit przydziału nie ogranicza użycie pamięci przez czytnik XML, sam, ale w składniku korzystający z czytnika.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-211">This quota does not limit memory consumption in the XML reader itself, but in the component that is using the reader.</span></span> <span data-ttu-id="5dcf5-212">Na przykład, gdy <xref:System.Runtime.Serialization.DataContractSerializer> używa czytnik zabezpieczony za pomocą <xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>, nie wykonać deserializacji ciągi przekracza ten limit przydziału.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-212">For example, when the <xref:System.Runtime.Serialization.DataContractSerializer> uses a reader secured with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>, it does not deserialize strings larger than this quota.</span></span>|  
  
> [!IMPORTANT]
>  <span data-ttu-id="5dcf5-213">Zobacz "Przy użyciu bezpiecznego XML" w obszarze [zagadnienia dotyczące zabezpieczeń dla danych](../../../docs/framework/wcf/feature-details/security-considerations-for-data.md) Aby uzyskać więcej informacji na temat zabezpieczania danych.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-213">Refer to "Using XML Safely" under [Security Considerations for Data](../../../docs/framework/wcf/feature-details/security-considerations-for-data.md) for more information about securing your data.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5dcf5-214">Te nowe ustawienia domyślne są używane tylko wtedy, gdy wdrażanie usługi WCF na maszynie z .NET Framework 4.5.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-214">These new defaults are used only if you deploy the WCF service on a machine with .NET Framework 4.5.</span></span> <span data-ttu-id="5dcf5-215">Jeśli możesz wdrożyć tę samą usługę na komputerze przy użyciu programu .NET Framework 4.0, używane są ustawienia domyślne programu .NET Framework 4.0.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-215">If you deploy the same service on a machine with .NET Framework 4.0, then the .NET Framework 4.0 defaults are used.</span></span> <span data-ttu-id="5dcf5-216">W takich przypadkach zalecane jest aby skonfigurować te ustawienia jawnie.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-216">In such cases it is recommended to configure these settings explicitly.</span></span>  
  
## <a name="wcf-configuration-validation"></a><span data-ttu-id="5dcf5-217">Sprawdzanie poprawności konfiguracji programu WCF</span><span class="sxs-lookup"><span data-stu-id="5dcf5-217">WCF Configuration Validation</span></span>  
 <span data-ttu-id="5dcf5-218">Jako część procesu kompilacji w programie Visual Studio są teraz sprawdzane plików konfiguracyjnych WCF.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-218">As part of the build process within Visual Studio, WCF configuration files are now validated.</span></span> <span data-ttu-id="5dcf5-219">Lista ostrzeżeń ani błędów sprawdzania poprawności są wyświetlane w programie Visual Studio, jeśli weryfikacja zakończy się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-219">A list of validation errors or warnings are displayed in Visual Studio if the validation fails.</span></span>  
  
## <a name="xml-editor-tooltips"></a><span data-ttu-id="5dcf5-220">Etykietki narzędzi edytora XML</span><span class="sxs-lookup"><span data-stu-id="5dcf5-220">XML Editor Tooltips</span></span>  
 <span data-ttu-id="5dcf5-221">W celu ułatwić nowych i istniejących deweloperzy usług WCF do konfigurowania swoich usług, edytorze XML Visual Studio teraz udostępnia etykietki narzędzi dla każdego elementu konfiguracji i jego właściwości, które jest częścią pliku konfiguracji usługi.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-221">In order to help new and existing WCF service developers to configure their services, the Visual Studio XML editor now provides tooltips for every configuration element and its properties that is part of the service configuration file.</span></span>  
  
## <a name="basichttpbinding-improvements"></a><span data-ttu-id="5dcf5-222">Ulepszenia BasicHttpBinding</span><span class="sxs-lookup"><span data-stu-id="5dcf5-222">BasicHttpBinding Improvements</span></span>  
  
1.  <span data-ttu-id="5dcf5-223">Umożliwia jednym punkcie końcowym WCF odpowiedzieć na tryby uwierzytelniania innego.</span><span class="sxs-lookup"><span data-stu-id="5dcf5-223">Enables a single WCF endpoint to respond to different authentication modes.</span></span>  
  
2.  <span data-ttu-id="5dcf5-224">Włącza usługi WCF ustawienia zabezpieczeń będą kontrolowane przez usługi IIS</span><span class="sxs-lookup"><span data-stu-id="5dcf5-224">Enables a WCF service’s security settings to be controlled by IIS</span></span>
