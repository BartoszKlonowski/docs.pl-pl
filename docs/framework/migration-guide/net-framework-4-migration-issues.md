---
title: Problemy podczas migracji programu .NET Framework 4
ms.date: 05/02/2017
helpviewer_keywords:
- .NET Framework 4, migration
- application compatibility
ms.assetid: df478548-8c05-4de2-8ba7-adcdbe1c2a60
ms.openlocfilehash: 200acea81b9f00c659ddceae011430983e2b5f5b
ms.sourcegitcommit: c91110ef6ee3fedb591f3d628dc17739c4a7071e
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/15/2020
ms.locfileid: "81389721"
---
# <a name="net-framework-4-migration-issues"></a><span data-ttu-id="09ff8-102">Problemy podczas migracji programu .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="09ff8-102">.NET Framework 4 migration issues</span></span>

<span data-ttu-id="09ff8-103">W tym artykule opisano problemy z migracją między programami .NET Framework w wersji 3.5 z dodatkiem Service Pack 1 i .NET Framework w wersji 4, w tym poprawki, zmiany dotyczące zgodności ze standardami i zabezpieczeń oraz zmiany oparte na opiniach klientów.</span><span class="sxs-lookup"><span data-stu-id="09ff8-103">This article describes migration issues between .NET Framework version 3.5 Service Pack 1 and .NET Framework version 4, including fixes, changes for standards compliance and security, and changes based on customer feedback.</span></span> <span data-ttu-id="09ff8-104">Większość tych zmian nie wymaga żadnych modyfikacji programistycznych w aplikacjach.</span><span class="sxs-lookup"><span data-stu-id="09ff8-104">Most of these changes do not require any programming modifications in your applications.</span></span> <span data-ttu-id="09ff8-105">Dla tych, które mogą obejmować modyfikacje, zobacz **zalecane zmiany** kolumny tabeli.</span><span class="sxs-lookup"><span data-stu-id="09ff8-105">For those that may involve modifications, see the **Recommended changes** column of the table.</span></span> <span data-ttu-id="09ff8-106">Znaczące zmiany są podzielone według obszaru, na przykład ASP.NET i Windows Presentation Foundation (WPF).</span><span class="sxs-lookup"><span data-stu-id="09ff8-106">Notable changes are broken down by area, for example, ASP.NET and Windows Presentation Foundation (WPF).</span></span>

<span data-ttu-id="09ff8-107">Aby zapoznać się z omówieniem problemów wyższego poziomu w tym artykule, zobacz [Przewodnik po migracji do programu .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="09ff8-107">For a higher-level overview of the issues in this article, see [Migration Guide to .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29).</span></span>

<span data-ttu-id="09ff8-108">Aby uzyskać informacje o nowych funkcjach, zobacz [Co nowego w programach .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="09ff8-108">For information about new features, see [What's New in .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29).</span></span>

## <a name="aspnet-and-web"></a><span data-ttu-id="09ff8-109">ASP.NET i Internet</span><span class="sxs-lookup"><span data-stu-id="09ff8-109">ASP.NET and Web</span></span>

<span data-ttu-id="09ff8-110">Przestrzenie <xref:System.Web>nazw: <xref:System.Web.Mobile> <xref:System.Web.Security>, , ,<xref:System.Web.UI.WebControls></span><span class="sxs-lookup"><span data-stu-id="09ff8-110">Namespaces: <xref:System.Web>, <xref:System.Web.Mobile>, <xref:System.Web.Security>, <xref:System.Web.UI.WebControls></span></span>

<span data-ttu-id="09ff8-111">Montaż: System.Web (w pliku System.Web.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-111">Assembly: System.Web (in System.Web.dll)</span></span>

| <span data-ttu-id="09ff8-112">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-112">Feature</span></span>  | <span data-ttu-id="09ff8-113">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-113">Differences from 3.5 SP1</span></span> | <span data-ttu-id="09ff8-114">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="09ff8-114">Recommended changes</span></span> |
| -------- | ------------------------ | ------------------- |
| <span data-ttu-id="09ff8-115">**Pliki definicji przeglądarki**</span><span class="sxs-lookup"><span data-stu-id="09ff8-115">**Browser definition files**</span></span> | <span data-ttu-id="09ff8-116">Pliki definicji przeglądarki zostały zaktualizowane w celu uwzględnienia informacji o nowych i zaktualizowanych przeglądarkach i urządzeniach.</span><span class="sxs-lookup"><span data-stu-id="09ff8-116">The browser definition files have been updated to include information about new and updated browsers and devices.</span></span> <span data-ttu-id="09ff8-117">Starsze przeglądarki i urządzenia, takie jak Netscape Navigator, zostały usunięte, a nowsze przeglądarki i urządzenia, takie jak Google Chrome i Apple iPhone zostały dodane.</span><span class="sxs-lookup"><span data-stu-id="09ff8-117">Older browsers and devices such as Netscape Navigator have been removed, and newer browsers and devices such as Google Chrome and Apple iPhone have been added.</span></span><br><br><span data-ttu-id="09ff8-118">Jeśli aplikacja zawiera niestandardowe definicje przeglądarki, które dziedziczą z jednej z definicji przeglądarki, które zostały usunięte, zostanie wyświetlony błąd.</span><span class="sxs-lookup"><span data-stu-id="09ff8-118">If your application contains custom browser definitions that inherit from one of the browser definitions that have been removed, you will see an error.</span></span><br><br><span data-ttu-id="09ff8-119">Obiekt <xref:System.Web.HttpBrowserCapabilities> (który jest narażony `Request.Browse` przez page's property) jest napędzany przez pliki definicji przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="09ff8-119">The <xref:System.Web.HttpBrowserCapabilities> object (which is exposed by the page's `Request.Browse` property) is driven by the browser definition files.</span></span> <span data-ttu-id="09ff8-120">W związku z tym informacje, które są zwracane przez dostęp do właściwości tego obiektu w ASP.NET 4 może być inny niż informacje, które zostały zwrócone we wcześniejszej wersji ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="09ff8-120">Therefore, the information that is returned by accessing a property of this object in ASP.NET 4 might be different than the information that was returned in an earlier version of ASP.NET.</span></span> | <span data-ttu-id="09ff8-121">Jeśli aplikacja opiera się na starych plikach definicji przeglądarki, można je skopiować z następującego folderu:</span><span class="sxs-lookup"><span data-stu-id="09ff8-121">If your application relies on the old browser definition files, you can copy them from the following folder:</span></span><br><br><span data-ttu-id="09ff8-122">*Windows\\\\Microsoft.NET\\Framework w wersji 2.0.50727\\Przeglądarki CONFIG\\*</span><span class="sxs-lookup"><span data-stu-id="09ff8-122">*Windows\\Microsoft.NET\\Framework\\v2.0.50727\\CONFIG\\Browsers*</span></span><br><br><span data-ttu-id="09ff8-123">Skopiuj \* \\\\* pliki do odpowiedniego folderu przeglądarki CONFIG dla ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="09ff8-123">Copy the files into the corresponding *\\CONFIG\\Browsers* folder for ASP.NET 4.</span></span> <span data-ttu-id="09ff8-124">Po skopiowaniu plików uruchom narzędzie wiersza polecenia [Aspnet_regbrowsers.exe.](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms229858(v=vs.90))</span><span class="sxs-lookup"><span data-stu-id="09ff8-124">After you copy the files, run the [Aspnet_regbrowsers.exe](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.5/ms229858(v=vs.90)) command-line tool.</span></span> <span data-ttu-id="09ff8-125">Aby uzyskać więcej [https://www.asp.net/mobile](/aspnet/mobile/overview) informacji, zobacz witrynę sieci Web.</span><span class="sxs-lookup"><span data-stu-id="09ff8-125">For more information, see the [https://www.asp.net/mobile](/aspnet/mobile/overview) Web site.</span></span> |
| <span data-ttu-id="09ff8-126">**Aplikacje podrzędne działające w mieszanych wersjach ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="09ff8-126">**Child applications running under mixed versions of ASP.NET**</span></span> | <span data-ttu-id="09ff8-127">ASP.NET 4 aplikacje, które są skonfigurowane jako elementy podrzędne aplikacji, które uruchamiają starsze wersje ASP.NET może nie zostać uruchomiony z powodu błędów konfiguracji lub kompilacji.</span><span class="sxs-lookup"><span data-stu-id="09ff8-127">ASP.NET 4 applications that are configured as children of applications that run earlier versions of ASP.NET might fail to start because of configuration or compilation errors.</span></span> <span data-ttu-id="09ff8-128">Określony błąd, który występuje zależy od tego, czy aplikacja działa w ramach usług IIS 6.0 lub w ramach usług IIS 7 lub IIS 7.5.</span><span class="sxs-lookup"><span data-stu-id="09ff8-128">The specific error that occurs depends on whether the application runs under IIS 6.0, or under IIS 7 or IIS 7.5.</span></span> | <span data-ttu-id="09ff8-129">Można wprowadzić zmiany w plikach konfiguracyjnych aplikacji, których dotyczy problem, tak aby system konfiguracji poprawnie rozpoznał aplikację ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="09ff8-129">You can make changes to the configuration files of the affected applications so that the configuration system correctly recognizes the ASP.NET 4 application.</span></span> <span data-ttu-id="09ff8-130">Aby uzyskać informacje na temat zmian, które należy wprowadzić, zobacz sekcję "ASP.NET 4 Aplikacje podrzędne nie można uruchomić, gdy w obszarze ASP.NET 2.0 lub ASP.NET 3.5 Aplikacje" w dokumencie [ASP.NET 4 Przełomowe zmiany](/aspnet/whitepapers/aspnet4/breaking-changes) w witrynie sieci Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="09ff8-130">For information about the changes you must make, see the section "ASP.NET 4 Child Applications Fail to Start When Under ASP.NET 2.0 or ASP.NET 3.5 Applications" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="09ff8-131">**Zmiany identyfikatora klienta**</span><span class="sxs-lookup"><span data-stu-id="09ff8-131">**ClientID changes**</span></span> | <span data-ttu-id="09ff8-132">Nowe `clientIDMode` ustawienie w ASP.NET 4 umożliwia określenie sposobu generowania `id` atrybutu dla elementów HTML przez ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="09ff8-132">The new `clientIDMode` setting in ASP.NET 4 lets you specify how ASP.NET generates the `id` attribute for HTML elements.</span></span> <span data-ttu-id="09ff8-133">W poprzednich wersjach ASP.NET domyślne zachowanie było `AutoID` równoważne `clientIDMode`z ustawieniem programu .</span><span class="sxs-lookup"><span data-stu-id="09ff8-133">In previous versions of ASP.NET, the default behavior was equivalent to the `AutoID` setting of `clientIDMode`.</span></span> <span data-ttu-id="09ff8-134">Ustawieniem domyślnym `Predictable`jest teraz .</span><span class="sxs-lookup"><span data-stu-id="09ff8-134">The default setting is now `Predictable`.</span></span> <span data-ttu-id="09ff8-135">Aby uzyskać więcej informacji, zobacz [ASP.NET identyfikację sterowania serwerem sieci Web](https://docs.microsoft.com/previous-versions/aspnet/1d04y8ss%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="09ff8-135">For more information, see [ASP.NET Web Server Control Identification](https://docs.microsoft.com/previous-versions/aspnet/1d04y8ss%28v=vs.100%29).</span></span> | <span data-ttu-id="09ff8-136">Jeśli program Visual Studio jest używany do uaktualniania aplikacji z ASP.NET 2.0 lub ASP.NET 3.5, narzędzie automatycznie dodaje ustawienie do pliku Web.config, które zachowuje zachowanie wcześniejszych wersji programu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="09ff8-136">If you use Visual Studio to upgrade your application from ASP.NET 2.0 or ASP.NET 3.5, the tool automatically adds a setting to the Web.config file that preserves the behavior of earlier versions of .NET Framework.</span></span> <span data-ttu-id="09ff8-137">Jednak jeśli uaktualnienie aplikacji przez zmianę puli aplikacji w usługach IIS do docelowego .NET Framework 4, ASP.NET domyślnie używa nowego trybu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-137">However, if you upgrade an application by changing the application pool in IIS to target .NET Framework 4, ASP.NET uses the new mode by default.</span></span> <span data-ttu-id="09ff8-138">Aby wyłączyć nowy tryb identyfikatora klienta, dodaj następujące ustawienie do pliku Web.config:</span><span class="sxs-lookup"><span data-stu-id="09ff8-138">To disable the new client ID mode, add the following setting to the Web.config file:</span></span><br><br>`<pages clientIDMode="AutoID" />` |
| <span data-ttu-id="09ff8-139">**Zabezpieczenia dostępu do kodu (CAS)**</span><span class="sxs-lookup"><span data-stu-id="09ff8-139">**Code access security (CAS)**</span></span> | <span data-ttu-id="09ff8-140">ASP.NET 2.0 NET funkcje, które zostały dodane w ASP.NET 3.5 używać .NET Framework 1.1 i .NET Framework 2.0 kod zabezpieczeń (CAS) modelu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-140">ASP.NET 2.0 NET features that were added in ASP.NET 3.5 use the .NET Framework 1.1 and .NET Framework 2.0 code access security (CAS) model.</span></span> <span data-ttu-id="09ff8-141">Jednakże wdrożenie CAS w ASP.NET 4 zostało gruntownie zmienione.</span><span class="sxs-lookup"><span data-stu-id="09ff8-141">However, the implementation of CAS in ASP.NET 4 has been substantially overhauled.</span></span> <span data-ttu-id="09ff8-142">W rezultacie częściowe zaufanie ASP.NET aplikacje, które opierają się na zaufanym kodzie uruchomionym w globalnej pamięci podręcznej zestawów, mogą zakończyć się niepowodzeniem z różnymi wyjątkami zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="09ff8-142">As a result, partial-trust ASP.NET applications that rely on trusted code running in the global assembly cache might fail with various security exceptions.</span></span> <span data-ttu-id="09ff8-143">Aplikacje częściowe zaufanie, które opierają się na rozległe modyfikacje do zasad CAS komputera może również zakończyć się niepowodzeniem i zgłaszać wyjątki zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="09ff8-143">Partial-trust applications that rely on extensive modifications to machine CAS policy might also fail and throw security exceptions.</span></span> | <span data-ttu-id="09ff8-144">Można przywrócić częściowe zaufanie ASP.NET 4 aplikacji do zachowania ASP.NET 1.1 i 2.0 `legacyCasModel` przy użyciu `trust` nowego atrybutu w elemencie konfiguracji, jak pokazano w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="09ff8-144">You can revert partial-trust ASP.NET 4 applications to the behavior of ASP.NET 1.1 and 2.0 by using the new `legacyCasModel` attribute in the `trust` configuration element, as shown in the following example:</span></span><br><br>`<trust level= "Medium" legacyCasModel="true" />`<br><br><span data-ttu-id="09ff8-145">Ważne: Powrót do starszego modelu CAS może reprezentować zmniejszone zabezpieczenia.</span><span class="sxs-lookup"><span data-stu-id="09ff8-145">Important: Reverting to the older CAS model might represent reduced security.</span></span><br><br><span data-ttu-id="09ff8-146">Aby uzyskać więcej informacji na temat nowego modelu zabezpieczeń dostępu do kodu ASP.NET 4, zobacz [Zabezpieczenia dostępu do kodu w ASP.NET 4 aplikacje](https://docs.microsoft.com/previous-versions/dd984947(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="09ff8-146">For more information about the new ASP.NET 4 code access security model, see [Code Access Security in ASP.NET 4 Applications](https://docs.microsoft.com/previous-versions/dd984947(v=vs.100)).</span></span> |
| <span data-ttu-id="09ff8-147">**Pliki konfiguracyjne**</span><span class="sxs-lookup"><span data-stu-id="09ff8-147">**Configuration files**</span></span> | <span data-ttu-id="09ff8-148">Główne pliki konfiguracyjne (plik machine.config i główny plik Web.config) dla platformy .NET Framework i ASP.NET 4 zostały zaktualizowane w celu uwzględnienia większości informacji konfiguracyjnych, które zostały znalezione w plikach Web.config aplikacji w ASP.NET 3.5.</span><span class="sxs-lookup"><span data-stu-id="09ff8-148">The root configuration files (the machine.config file and the root Web.config file) for .NET Framework and ASP.NET 4 have been updated to include most of the boilerplate configuration information that was found in the application Web.config files in ASP.NET 3.5.</span></span> <span data-ttu-id="09ff8-149">Ze względu na złożoność zarządzanych systemów konfiguracyjnych usług IIS 7 i IIS 7.5 uruchamianie aplikacji ASP.NET 3.5 w ramach ASP.NET 4 i 7 i IIS 7.5 może powodować błędy ASP.NET lub błędy usług IIS.</span><span class="sxs-lookup"><span data-stu-id="09ff8-149">Because of the complexity of the managed IIS 7 and IIS 7.5 configuration systems, running ASP.NET 3.5 applications under ASP.NET 4 and under IIS 7 and IIS 7.5 can result in either ASP.NET errors or IIS errors.</span></span> | <span data-ttu-id="09ff8-150">Uaktualnij ASP.NET 3.5 aplikacji do ASP.NET 4 przy użyciu narzędzi uaktualniania projektu w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="09ff8-150">Upgrade ASP.NET 3.5 applications to ASP.NET 4 by using the project upgrade tools in Visual Studio.</span></span> <span data-ttu-id="09ff8-151">Visual Studio 2010 automatycznie modyfikuje plik Web.config aplikacji ASP.NET 3.5, aby zawierał odpowiednie ustawienia dla ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="09ff8-151">Visual Studio 2010 automatically modifies the ASP.NET 3.5 application's Web.config file to contain the appropriate settings for ASP.NET 4.</span></span><br><br><span data-ttu-id="09ff8-152">Można jednak uruchomić ASP.NET 3.5 aplikacji przy użyciu programu .NET Framework 4 bez ponownej kompilacji.</span><span class="sxs-lookup"><span data-stu-id="09ff8-152">However, you can run ASP.NET 3.5 applications using .NET Framework 4 without recompilation.</span></span> <span data-ttu-id="09ff8-153">W takim przypadku może być ręczna modyfikacja pliku Web.config aplikacji przed uruchomieniem aplikacji w ramach programu .NET Framework 4 i usług IIS 7 lub IIS 7.5.</span><span class="sxs-lookup"><span data-stu-id="09ff8-153">In that case, you might have to manually modify the application's Web.config file before you run the application under .NET Framework 4 and under IIS 7 or IIS 7.5.</span></span> <span data-ttu-id="09ff8-154">Konkretne zmiany, które należy wprowadzić, zależą od kombinacji oprogramowania, z którego pracujesz, w tym wersji dodatku Service Pack (SP).</span><span class="sxs-lookup"><span data-stu-id="09ff8-154">The specific change you must make depends on the combination of software you are working with, including Service Pack (SP) releases.</span></span> <span data-ttu-id="09ff8-155">Aby uzyskać informacje na temat możliwych kombinacji oprogramowania, których dotyczy ta zmiana, oraz sposobu rozwiązywania problemów z określonymi kombinacjami, zobacz sekcję "Błędy konfiguracji związane z konfiguracją nowego ASP.NET 4 root" w dokumencie [ASP.NET 4 Przełomowe zmiany](/aspnet/whitepapers/aspnet4/breaking-changes) w witrynie sieci Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="09ff8-155">For information about the possible software combinations that are affected by this change and how to resolve problems with specific combinations, see the section "Configuration Errors Related to New ASP.NET 4 Root Configuration" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="09ff8-156">**Sterowanie renderowaniem**</span><span class="sxs-lookup"><span data-stu-id="09ff8-156">**Control rendering**</span></span> | <span data-ttu-id="09ff8-157">W poprzednich wersjach ASP.NET niektóre formanty emitowane znaczników, które nie można wyłączyć.</span><span class="sxs-lookup"><span data-stu-id="09ff8-157">In previous versions of ASP.NET, some controls emitted markup that you could not disable.</span></span> <span data-ttu-id="09ff8-158">Domyślnie ten typ znaczników nie jest już generowany w ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="09ff8-158">By default, this type of markup is no longer generated in ASP.NET 4.</span></span> <span data-ttu-id="09ff8-159">Zmiany renderowania mają wpływ na następujące formanty:</span><span class="sxs-lookup"><span data-stu-id="09ff8-159">The rendering changes affect the following controls:</span></span><br><br><span data-ttu-id="09ff8-160">\* `Image` I `ImageButton` formanty `border="0"` nie są już renderowane atrybut.</span><span class="sxs-lookup"><span data-stu-id="09ff8-160">\* The `Image` and `ImageButton` controls no longer render a `border="0"` attribute.</span></span><br><span data-ttu-id="09ff8-161">\* `BaseValidator` Klasy i sprawdzania poprawności formanty, które pochodzą z niego nie renderowania czerwony tekst domyślnie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-161">\* The `BaseValidator` class and validation controls that derive from it no longer render red text by default.</span></span><br><span data-ttu-id="09ff8-162">\* `HtmlForm` Formant nie `name` renderuje atrybutu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-162">\* The `HtmlForm` control does not render a `name` attribute.</span></span><br><span data-ttu-id="09ff8-163">\* `Table` Formant nie renderuje już atrybutu. `border="0"`</span><span class="sxs-lookup"><span data-stu-id="09ff8-163">\* The `Table` control no longer renders a `border="0"` attribute.</span></span><br><br><span data-ttu-id="09ff8-164">Formanty, które nie są przeznaczone `Label` do wprowadzania danych `disabled="disabled"` przez użytkownika `Enabled` (na `false` przykład formant) nie są już renderowane atrybut, jeśli ich właściwość jest ustawiona na (lub jeśli dziedziczą to ustawienie z formantu kontenera).</span><span class="sxs-lookup"><span data-stu-id="09ff8-164">Controls that are not designed for user input (for example, the `Label` control) no longer render the `disabled="disabled"` attribute if their `Enabled` property is set to `false` (or if they inherit this setting from a container control).</span></span> | <span data-ttu-id="09ff8-165">Jeśli program Visual Studio jest używany do uaktualniania aplikacji z ASP.NET 2.0 lub ASP.NET 3.5, narzędzie automatycznie dodaje ustawienie do pliku Web.config, który zachowuje renderowania starszego.</span><span class="sxs-lookup"><span data-stu-id="09ff8-165">If you use Visual Studio to upgrade your application from ASP.NET 2.0 or ASP.NET 3.5, the tool automatically adds a setting to the Web.config file that preserves legacy rendering.</span></span> <span data-ttu-id="09ff8-166">Jednak jeśli uaktualnienie aplikacji przez zmianę puli aplikacji w usługach IIS do docelowego .NET Framework 4, ASP.NET domyślnie używa nowego trybu renderowania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-166">However, if you upgrade an application by changing the application pool in IIS to target .NET Framework 4, ASP.NET uses the new rendering mode by default.</span></span> <span data-ttu-id="09ff8-167">Aby wyłączyć nowy tryb renderowania, dodaj następujące ustawienie do pliku Web.config:</span><span class="sxs-lookup"><span data-stu-id="09ff8-167">To disable the new rendering mode, add the following setting to the Web.config file:</span></span><br><br>`<pages controlRenderingCompatibilityVersion="3.5" />` |
| <span data-ttu-id="09ff8-168">**Programy obsługi zdarzeń w dokumentach domyślnych**</span><span class="sxs-lookup"><span data-stu-id="09ff8-168">**Event handlers in default documents**</span></span> | <span data-ttu-id="09ff8-169">ASP.NET 4 renderuje wartość `form` `action` atrybutu elementu HTML jako pusty ciąg, gdy żądanie jest składane do adresu URL bez rozszerzenia, który ma domyślny dokument mapowany do niego.</span><span class="sxs-lookup"><span data-stu-id="09ff8-169">ASP.NET  4 renders the HTML `form` element's `action` attribute value as an empty string when a request is made to an extensionless URL that has a default document mapped to it.</span></span> <span data-ttu-id="09ff8-170">We wcześniejszych wersjach ASP.NET żądanie `http://contoso.com` spowodowałoby żądanie default.aspx.</span><span class="sxs-lookup"><span data-stu-id="09ff8-170">In earlier releases of ASP.NET, a request to `http://contoso.com` would result in a request to Default.aspx.</span></span> <span data-ttu-id="09ff8-171">W tym dokumencie `form` znacznik otwierający będzie renderowany tak, jak w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="09ff8-171">In that document, the opening `form` tag would be rendered as in the following example:</span></span><br><br>`<form action="Default.aspx" />`<br><br><span data-ttu-id="09ff8-172">W ASP.NET 4 żądanie `http://contoso.com` również powoduje żądanie default.aspx, ale ASP.NET teraz renderuje tag `form` otwierający HTML, jak w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="09ff8-172">In ASP.NET 4, a request to `http://contoso.com` also results in a request to Default.aspx, but ASP.NET now renders the HTML opening `form` tag as in the following example:</span></span><br><br>`<form action="" />`<br><br><span data-ttu-id="09ff8-173">Gdy `action` atrybut jest pustym ciągiem, `DefaultDocumentModule` obiekt IIS tworzy żądanie podrzędne do pliku Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="09ff8-173">When the `action` attribute is an empty string, the IIS `DefaultDocumentModule` object creates a child request to Default.aspx.</span></span> <span data-ttu-id="09ff8-174">W większości warunków to żądanie podrzędne jest niewidoczny do kodu aplikacji, a default.aspx strona działa normalnie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-174">Under most conditions, this child request is transparent to application code, and the Default.aspx page runs normally.</span></span> <span data-ttu-id="09ff8-175">Jednak potencjalna interakcja między kodem zarządzanym a trybem zintegrowanym usług IIS 7 lub IIS 7.5 może spowodować, że zarządzane strony .aspx przestaną działać poprawnie podczas żądania podrzędnego.</span><span class="sxs-lookup"><span data-stu-id="09ff8-175">However, a potential interaction between managed code and IIS 7 or IIS 7.5 Integrated mode can cause managed .aspx pages to stop working properly during the child request.</span></span> <span data-ttu-id="09ff8-176">Jeśli wystąpią następujące warunki, żądanie podrzędne do domyślnego dokumentu .aspx spowoduje błąd lub nieoczekiwane zachowanie:</span><span class="sxs-lookup"><span data-stu-id="09ff8-176">If the following conditions occur, the child request to a default .aspx document will result in an error or in unexpected behavior:</span></span><br><br><span data-ttu-id="09ff8-177">\* Strona .aspx jest wysyłana `form` do przeglądarki `action` z atrybutem elementu ustawionym na "".</span><span class="sxs-lookup"><span data-stu-id="09ff8-177">\* An .aspx page is sent to the browser with the `form` element's `action` attribute set to "".</span></span><br><span data-ttu-id="09ff8-178">\* Formularz jest księgowane z powrotem do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="09ff8-178">\* The form is posted back to ASP.NET.</span></span><br><span data-ttu-id="09ff8-179">\* Zarządzany moduł HTTP odczytuje część treści `Request.Form` jednostki, na przykład lub `Request.Params`.</span><span class="sxs-lookup"><span data-stu-id="09ff8-179">\* A managed HTTP module reads some part of the entity body, such as `Request.Form` or `Request.Params`.</span></span> <span data-ttu-id="09ff8-180">Powoduje to, że treść jednostki żądania POST do odczytu w pamięci zarządzanej.</span><span class="sxs-lookup"><span data-stu-id="09ff8-180">This causes the entity body of the POST request to be read into managed memory.</span></span> <span data-ttu-id="09ff8-181">W rezultacie treść jednostki nie jest już dostępna dla wszystkich modułów kodu macierzystego, które są uruchomione w trybie zintegrowanym IIS 7 lub IIS 7.5.</span><span class="sxs-lookup"><span data-stu-id="09ff8-181">As a result, the entity body is no longer available to any native code modules that are running in IIS 7 or IIS 7.5 Integrated mode.</span></span><br><span data-ttu-id="09ff8-182">\* Obiekt IIS `DefaultDocumentModule` po pewnym czasie uruchamia i tworzy żądanie podrzędne do dokumentu Default.aspx.</span><span class="sxs-lookup"><span data-stu-id="09ff8-182">\* The IIS `DefaultDocumentModule` object eventually runs and creates a child request to the Default.aspx document.</span></span> <span data-ttu-id="09ff8-183">Jednak ponieważ treść jednostki została już odczytana przez fragment kodu zarządzanego, nie ma żadnej jednostki dostępnej do wysłania do żądania podrzędnego.</span><span class="sxs-lookup"><span data-stu-id="09ff8-183">However, because the entity body has already been read by a piece of managed code, there is no entity body available to send to the child request.</span></span><br><span data-ttu-id="09ff8-184">\* Gdy potok HTTP jest uruchamiany dla żądania podrzędnego, program obsługi plików .aspx jest uruchamiany podczas fazy wykonywania programu handler.\*</span><span class="sxs-lookup"><span data-stu-id="09ff8-184">\* When the HTTP pipeline runs for the child request, the handler for .aspx files runs during the handler-execute phase.</span></span><br><br><span data-ttu-id="09ff8-185">Ponieważ nie ma treści jednostki, nie ma żadnych zmiennych formularza i nie ma stanu widoku.</span><span class="sxs-lookup"><span data-stu-id="09ff8-185">Because there is no entity body, there are no form variables and no view state.</span></span> <span data-ttu-id="09ff8-186">W związku z tym nie ma żadnych informacji dostępnych dla .aspx obsługi strony, aby określić, jakie zdarzenie (jeśli istnieje) powinny być wywoływane.</span><span class="sxs-lookup"><span data-stu-id="09ff8-186">Therefore there is no information available for the .aspx page handler to determine what event (if any) should be raised.</span></span> <span data-ttu-id="09ff8-187">W rezultacie żaden z programów obsługi zdarzeń postback dla strony .aspx, którego dotyczy problem, jest uruchamiany.</span><span class="sxs-lookup"><span data-stu-id="09ff8-187">As a result, none of the postback event handlers for the affected .aspx page run.</span></span> | <span data-ttu-id="09ff8-188">Aby uzyskać informacje na temat sposobów obejścia problemów, które mogą pojawić się w wyniku tej zmiany, zobacz "Programy obsługi zdarzeń nie mogą być wywoływane w dokumencie domyślnym w trybie zintegrowanym usług IIS 7 lub IIS 7.5" w dokumencie [ASP.NET 4 przełomowe zmiany](/aspnet/whitepapers/aspnet4/breaking-changes) w ASP.NET witrynie sieci Web.</span><span class="sxs-lookup"><span data-stu-id="09ff8-188">For information about ways to work around problems that might arise as a result of this change, see "Event Handlers Might Not Be Not Raised in a Default Document in IIS 7 or IIS 7.5 Integrated Mode" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="09ff8-189">**Algorytm mieszania**</span><span class="sxs-lookup"><span data-stu-id="09ff8-189">**Hashing algorithm**</span></span> | <span data-ttu-id="09ff8-190">ASP.NET używa algorytmów szyfrowania i mieszania, aby zabezpieczyć dane, takie jak pliki cookie uwierzytelniania formularzy i stan wyświetlania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-190">ASP.NET uses both encryption and hashing algorithms to help secure data such as forms authentication cookies and view state.</span></span> <span data-ttu-id="09ff8-191">Domyślnie ASP.NET 4 używa algorytmu <xref:System.Security.Cryptography.HMACSHA256> dla operacji mieszania w plikach cookie i stanu widoku.</span><span class="sxs-lookup"><span data-stu-id="09ff8-191">By default, ASP.NET 4 uses the <xref:System.Security.Cryptography.HMACSHA256> algorithm for hash operations on cookies and view state.</span></span> <span data-ttu-id="09ff8-192">Starsze wersje ASP.NET używane starszy <xref:System.Security.Cryptography.HMACSHA1> algorytm.</span><span class="sxs-lookup"><span data-stu-id="09ff8-192">Earlier versions of ASP.NET used the older <xref:System.Security.Cryptography.HMACSHA1> algorithm.</span></span> | <span data-ttu-id="09ff8-193">Jeśli uruchamiasz aplikacje, które łączą ASP.NET 2.0 i ASP.NET 4, gdzie dane, takie jak pliki cookie uwierzytelniania formularzy, muszą działać <xref:System.Security.Cryptography.HMACSHA1> w wersjach programu .NET Framework, skonfiguruj aplikację sieci Web ASP.NET 4, aby używała starszego algorytmu, dodając następujące ustawienie w pliku Web.config:</span><span class="sxs-lookup"><span data-stu-id="09ff8-193">If you run applications that mix ASP.NET 2.0 and ASP.NET 4, where data such as forms authentication cookies must work across .NET Framework versions, configure an ASP.NET 4 Web application to use the older <xref:System.Security.Cryptography.HMACSHA1> algorithm by adding the following setting in the Web.config file:</span></span><br><br>`<machineKey validation="SHA1" />` |
| <span data-ttu-id="09ff8-194">**Kontrolki hostingu w programie Internet Explorer**</span><span class="sxs-lookup"><span data-stu-id="09ff8-194">**Hosting controls in Internet Explorer**</span></span> | <span data-ttu-id="09ff8-195">Formanty formularzy systemu Windows nie mogą być już hostować w programie Internet Explorer, ponieważ istnieją lepsze rozwiązania dla formantów hostingu w sieci Web.</span><span class="sxs-lookup"><span data-stu-id="09ff8-195">You can no longer host Windows Forms controls in the Internet Explorer, because there are better solutions for hosting controls on the Web.</span></span> <span data-ttu-id="09ff8-196">W związku z tym zestawy IEHost.dll i IEExec.exe zostały usunięte z programu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="09ff8-196">Therefore, the IEHost.dll and IEExec.exe assemblies have been removed from .NET Framework.</span></span> | <span data-ttu-id="09ff8-197">Do tworzenia formantów niestandardowych w aplikacjach sieci Web można używać następujących technologii:</span><span class="sxs-lookup"><span data-stu-id="09ff8-197">You can use the following technologies for custom control development in Web applications:</span></span><br><br><span data-ttu-id="09ff8-198">\* Można utworzyć aplikację Silverlight i skonfigurować ją tak, aby działała poza przeglądarką.</span><span class="sxs-lookup"><span data-stu-id="09ff8-198">\* You can create a Silverlight application and configure it to run outside the browser.</span></span> <span data-ttu-id="09ff8-199">Aby uzyskać więcej informacji, zobacz [Obsługa poza przeglądarką](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/dd550721%28v=vs.95%29).</span><span class="sxs-lookup"><span data-stu-id="09ff8-199">For more information, see [Out-of-Browser Support](https://docs.microsoft.com/previous-versions/windows/silverlight/dotnet-windows-silverlight/dd550721%28v=vs.95%29).</span></span><br><span data-ttu-id="09ff8-200">\* Można utworzyć aplikację przeglądarki XAML (XBAP), aby skorzystać z możliwości WPF (wymaga .NET Framework na komputerach klienckich).</span><span class="sxs-lookup"><span data-stu-id="09ff8-200">\* You can build a XAML browser application (XBAP) to take advantage of WPF capabilities (requires .NET Framework on client machines).</span></span> <span data-ttu-id="09ff8-201">Aby uzyskać więcej informacji, zobacz [Omówienie aplikacji przeglądarki WPF XAML](../wpf/app-development/wpf-xaml-browser-applications-overview.md).</span><span class="sxs-lookup"><span data-stu-id="09ff8-201">For more information, see [WPF XAML Browser Applications Overview](../wpf/app-development/wpf-xaml-browser-applications-overview.md).</span></span> |
| <span data-ttu-id="09ff8-202">**Metody HtmlEncode i UrlEncode**</span><span class="sxs-lookup"><span data-stu-id="09ff8-202">**HtmlEncode and UrlEncode methods**</span></span> | <span data-ttu-id="09ff8-203">Metody `HtmlEncode` `UrlEncode` i <xref:System.Web.HttpServerUtility> klasy <xref:System.Web.HttpUtility> zostały zaktualizowane w celu zakodowania pojedynczego znaku cudzysłowu (') w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="09ff8-203">The `HtmlEncode` and `UrlEncode` methods of the <xref:System.Web.HttpUtility> and <xref:System.Web.HttpServerUtility> classes have been updated to encode the single quotation mark character (') as follows:</span></span><br><br><span data-ttu-id="09ff8-204">\* `HtmlEncode` Metoda koduje wystąpienia pojedynczego cudzysłowu jako`&#39;`</span><span class="sxs-lookup"><span data-stu-id="09ff8-204">\* The `HtmlEncode` method encodes instances of the single quotation mark as `&#39;`</span></span><br><span data-ttu-id="09ff8-205">\* `UrlEncode` Metoda koduje wystąpienia pojedynczego cudzysłowu jako`%27`</span><span class="sxs-lookup"><span data-stu-id="09ff8-205">\* The `UrlEncode` method encodes instances of the single quotation mark as `%27`</span></span> | <span data-ttu-id="09ff8-206">Sprawdź kod dla miejsc, `HtmlEncode` w `UrlEncode` których używasz i metody i upewnij się, że zmiana w kodowaniu nie powoduje zmiany, które mogłyby mieć wpływ na aplikację.</span><span class="sxs-lookup"><span data-stu-id="09ff8-206">Examine your code for places where you use the `HtmlEncode` and `UrlEncode` methods, and make sure that the change in encoding does not result in a change that would affect your application.</span></span> |
| <span data-ttu-id="09ff8-207">**Błędy httpException w aplikacjach ASP.NET 2.0**</span><span class="sxs-lookup"><span data-stu-id="09ff8-207">**HttpException errors in ASP.NET 2.0 applications**</span></span> | <span data-ttu-id="09ff8-208">Po włączeniu ASP.NET 4 w usługach IIS 6 ASP.NET aplikacje 2.0 uruchamiane w systemie IIS 6 (w systemie Windows Server 2003 lub Windows Server 2003 R2) mogą generować następujące błędy:`System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.`</span><span class="sxs-lookup"><span data-stu-id="09ff8-208">After ASP.NET 4 has been enabled on IIS 6, ASP.NET 2.0 applications that run on IIS 6 (in either Windows Server 2003 or Windows Server 2003 R2) might generate errors such as the following: `System.Web.HttpException: Path '/[yourApplicationRoot]/eurl.axd/[Value]' was not found.`</span></span> | <span data-ttu-id="09ff8-209">\* Jeśli ASP.NET 4 nie jest wymagane do uruchomienia witryny sieci Web, ponownie zamapuj witrynę, aby zamiast tego użyć ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="09ff8-209">\* If ASP.NET 4 is not required in order to run the Web site, remap the site to use ASP.NET 2.0 instead.</span></span><br><br><span data-ttu-id="09ff8-210">— lub —</span><span class="sxs-lookup"><span data-stu-id="09ff8-210">-or-</span></span><br><br><span data-ttu-id="09ff8-211">\* Jeśli do uruchomienia witryny sieci Web wymagany jest ASP.NET 4, przenieś wszystkie katalogi wirtualne ASP.NET 2.0 dla dzieci do innej witryny sieci Web, która jest mapowana na ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="09ff8-211">\* If ASP.NET 4 is required in order to run the Web site, move any child ASP.NET 2.0 virtual directories to a different Web site that is mapped to ASP.NET 2.0.</span></span><br><br><span data-ttu-id="09ff8-212">— lub —</span><span class="sxs-lookup"><span data-stu-id="09ff8-212">-or-</span></span><br><br><span data-ttu-id="09ff8-213">\* Wyłącz adresy URL bez rozszerzenia.</span><span class="sxs-lookup"><span data-stu-id="09ff8-213">\* Disable extensionless URLs.</span></span> <span data-ttu-id="09ff8-214">Aby uzyskać więcej informacji, zobacz "ASP.NET 2.0 Aplikacje mogą generować błędy httpException, które odwołują się do eurl.axd" w dokumencie [ASP.NET 4 Przełomowe zmiany](/aspnet/whitepapers/aspnet4/breaking-changes) w witrynie sieci Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="09ff8-214">For more information, see "ASP.NET 2.0 Applications Might Generate HttpException Errors That Reference eurl.axd" in the document [ASP.NET 4 Breaking Changes](/aspnet/whitepapers/aspnet4/breaking-changes) on the ASP.NET Web site.</span></span> |
| <span data-ttu-id="09ff8-215">**Typy członkostwa**</span><span class="sxs-lookup"><span data-stu-id="09ff8-215">**Membership types**</span></span> | <span data-ttu-id="09ff8-216">Niektóre typy (na przykład <xref:System.Web.Security.MembershipProvider>), które są używane w ASP.NET członkostwie zostały przeniesione z pliku System.Web.dll do zestawu System.Web.ApplicationServices.dll.</span><span class="sxs-lookup"><span data-stu-id="09ff8-216">Some types (for example, <xref:System.Web.Security.MembershipProvider>) that are used in ASP.NET membership have been moved from System.Web.dll to the System.Web.ApplicationServices.dll assembly.</span></span> <span data-ttu-id="09ff8-217">Typy zostały przeniesione w celu rozwiązania zależności warstw architektonicznych między typami w kliencie i w rozszerzonych jednostek SKU .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="09ff8-217">The types were moved in order to resolve architectural layering dependencies between types in the client and in extended .NET Framework SKUs.</span></span> | <span data-ttu-id="09ff8-218">Biblioteki klas, które zostały uaktualnione z wcześniejszych wersji ASP.NET i które używają typów członkostwa, które zostały przeniesione, mogą nie zostać skompilowane, gdy są używane w projekcie ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="09ff8-218">Class libraries that have been upgraded from earlier versions of ASP.NET and that use membership types that have been moved might fail to compile when used in an ASP.NET 4 project.</span></span> <span data-ttu-id="09ff8-219">Jeśli tak, dodaj odwołanie w projekcie biblioteki klas do pliku System.Web.ApplicationServices.dll.</span><span class="sxs-lookup"><span data-stu-id="09ff8-219">If so, add a reference in the class library project to System.Web.ApplicationServices.dll.</span></span> |
| <span data-ttu-id="09ff8-220">**Zmiany w formancie menu**</span><span class="sxs-lookup"><span data-stu-id="09ff8-220">**Menu control changes**</span></span> | <span data-ttu-id="09ff8-221">Zmiany w <xref:System.Web.UI.WebControls.Menu> formancie powodują następujące zachowanie:</span><span class="sxs-lookup"><span data-stu-id="09ff8-221">Changes to the <xref:System.Web.UI.WebControls.Menu> control result in the following behavior:</span></span><br><br><span data-ttu-id="09ff8-222">\* <xref:System.Web.UI.WebControls.MenuRenderingMode> Jeśli jest `List`ustawiona <xref:System.Web.UI.WebControls.MenuRenderingMode> na `Default` , <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> lub `4.0` jeśli jest <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> ustawiona na i jest ustawiona na lub później, właściwość nie ma wpływu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-222">\* If <xref:System.Web.UI.WebControls.MenuRenderingMode> is set to `List`, or if <xref:System.Web.UI.WebControls.MenuRenderingMode> is set to `Default` and <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> is set to `4.0` or later, the <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> property has no effect.</span></span><br><span data-ttu-id="09ff8-223">\* Jeśli ścieżka ustawiona <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> we <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> właściwościach i zawiera\\ukośnik odwrotny ( ), obrazy nie są renderowane.</span><span class="sxs-lookup"><span data-stu-id="09ff8-223">\* If the path that is set in the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> and <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> properties contains a backslash (\\), the images do not render.</span></span> <span data-ttu-id="09ff8-224">(We wcześniejszych wersjach ASP.NET ścieżka może zawierać ukośnik odwrotny).</span><span class="sxs-lookup"><span data-stu-id="09ff8-224">(In earlier versions of ASP.NET, the path could include a backslash.)</span></span> | <span data-ttu-id="09ff8-225">\* Zamiast ustawiać <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> właściwość dla poszczególnych <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> elementów <xref:System.Web.UI.WebControls.Menu> menu, ustaw lub formantu nadrzędnego.</span><span class="sxs-lookup"><span data-stu-id="09ff8-225">\* Instead of setting the <xref:System.Web.UI.WebControls.MenuItem.PopOutImageUrl> property for individual menu items, set the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> or <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> of the parent <xref:System.Web.UI.WebControls.Menu> control.</span></span><br><br><span data-ttu-id="09ff8-226">— lub —</span><span class="sxs-lookup"><span data-stu-id="09ff8-226">-or-</span></span><br><br><span data-ttu-id="09ff8-227">Ustaw <xref:System.Web.UI.WebControls.MenuRenderingMode> `Table`na , <xref:System.Web.UI.WebControls.MenuRenderingMode> `Default` lub <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> ustawić `3.5`na .</span><span class="sxs-lookup"><span data-stu-id="09ff8-227">Set <xref:System.Web.UI.WebControls.MenuRenderingMode> to `Table`, or set <xref:System.Web.UI.WebControls.MenuRenderingMode> to `Default` and set <xref:System.Web.Configuration.PagesSection.ControlRenderingCompatibilityVersion> to `3.5`.</span></span> <span data-ttu-id="09ff8-228">Te ustawienia <xref:System.Web.UI.WebControls.Menu> powodują, że formant używa układu opartego na tabeli HTML, który był używany we wcześniejszych wersjach ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="09ff8-228">These settings cause the <xref:System.Web.UI.WebControls.Menu> control to use the HTML table-based layout that it used in earlier versions of ASP.NET.</span></span><br><span data-ttu-id="09ff8-229">\* Jeśli ścieżka <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> w <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> lub właściwość zawiera\\ukośnik odwrotny ( ), zastąpić ukośnik znak (/).</span><span class="sxs-lookup"><span data-stu-id="09ff8-229">\* If the path in the <xref:System.Web.UI.WebControls.Menu.StaticPopOutImageUrl%2A> or <xref:System.Web.UI.WebControls.Menu.DynamicPopOutImageUrl> property contains a backslash (\\), substitute a slash character (/).</span></span> |
| <span data-ttu-id="09ff8-230">**Zestaw mobilny w pliku Web.config**</span><span class="sxs-lookup"><span data-stu-id="09ff8-230">**Mobile assembly in Web.config file**</span></span> | <span data-ttu-id="09ff8-231">W poprzednich wersjach ASP.NET odwołanie do zestawu System.Web.Mobile.dll zostało zawarte w głównym pliku `assemblies` Web.config w sekcji w obszarze `system.web` / `compilation`.</span><span class="sxs-lookup"><span data-stu-id="09ff8-231">In previous versions of ASP.NET, a reference to the System.Web.Mobile.dll assembly was included in the root Web.config file in the `assemblies` section under `system.web`/`compilation`.</span></span> <span data-ttu-id="09ff8-232">Aby zwiększyć wydajność, odwołanie do tego zestawu zostało usunięte.</span><span class="sxs-lookup"><span data-stu-id="09ff8-232">To improve performance, the reference to this assembly has been removed.</span></span><br><br><span data-ttu-id="09ff8-233">Uwaga: Zestaw System.Web.Mobile.dll i ASP.NET kontrolki mobilne są zawarte w ASP.NET 4, ale są przestarzałe.</span><span class="sxs-lookup"><span data-stu-id="09ff8-233">Note: The System.Web.Mobile.dll assembly and the ASP.NET mobile controls are included in ASP.NET 4, but they are deprecated.</span></span> | <span data-ttu-id="09ff8-234">Jeśli chcesz używać typów z tego zestawu, dodaj odwołanie do zestawu w głównym pliku Web.config lub w pliku Web.config aplikacji.</span><span class="sxs-lookup"><span data-stu-id="09ff8-234">If you want to use types from this assembly, add a reference to the assembly in either the root Web.config file or in an application Web.config file.</span></span> |
| <span data-ttu-id="09ff8-235">**Buforowanie danych wyjściowych**</span><span class="sxs-lookup"><span data-stu-id="09ff8-235">**Output caching**</span></span> | <span data-ttu-id="09ff8-236">W ASP.NET 1.0 błąd spowodował buforowane strony, które określono `Location="ServerAndClient"` jako wyjściowe&euro;"ustawienie pamięci podręcznej do emitowania nagłówka `Vary:*` HTTP w odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="09ff8-236">In ASP.NET 1.0, a bug caused cached pages that specified `Location="ServerAndClient"` as an output&euro;"cache setting to emit a `Vary:*` HTTP header in the response.</span></span> <span data-ttu-id="09ff8-237">Miało to wpływ na poinformowanie przeglądarek klienckich, aby nigdy nie buforować strony lokalnie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-237">This had the effect of telling client browsers to never cache the page locally.</span></span> <span data-ttu-id="09ff8-238">W ASP.NET 1.1 dodano <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> metodę, która może być wywoływana `Vary:*` w celu wygaszenia nagłówka.</span><span class="sxs-lookup"><span data-stu-id="09ff8-238">In ASP.NET 1.1, the <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> method was added, which could be called in order to suppress the `Vary:*` header.</span></span> <span data-ttu-id="09ff8-239">Jednak raporty o błędach sugerują, `SetOmitVaryStar` że deweloperzy nie są świadomi istniejącego zachowania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-239">However, bug reports suggest that developers are unaware of the existing `SetOmitVaryStar` behavior.</span></span><br><br><span data-ttu-id="09ff8-240">W ASP.NET 4 nagłówek `Vary:*` HTTP nie jest już emitowany z odpowiedzi, które określają następującą dyrektywę:</span><span class="sxs-lookup"><span data-stu-id="09ff8-240">In ASP.NET 4, the `Vary:*` HTTP header is no longer emitted from responses that specify the following directive:</span></span><br><br>`<%@ OutputCache Location="ServerAndClient" %>`<br><br><span data-ttu-id="09ff8-241">W rezultacie <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> metoda nie jest już potrzebna `Vary:*` w celu wygaszenia nagłówka.</span><span class="sxs-lookup"><span data-stu-id="09ff8-241">As a result, the <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A> method is no longer needed in order to suppress the `Vary:*` header.</span></span> <span data-ttu-id="09ff8-242">W aplikacjach, które określają "ServerAndClient" dla atrybutu, `Location` strony będą buforowane <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A>w przeglądarce bez konieczności wywoływania .</span><span class="sxs-lookup"><span data-stu-id="09ff8-242">In applications that specify "ServerAndClient" for the `Location` attribute, pages will be cacheable in the browser without requiring that you call <xref:System.Web.HttpCachePolicy.SetOmitVaryStar%2A>.</span></span> | <span data-ttu-id="09ff8-243">Jeśli strony w aplikacji `Vary:*`muszą <xref:System.Web.HttpResponse.AppendHeader%2A> emitować, wywołaj metodę, jak pokazano w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="09ff8-243">If pages in the application must emit `Vary:*`, call the <xref:System.Web.HttpResponse.AppendHeader%2A> method as shown in the following example:</span></span><br><br>`System.Web.HttpResponse.AppendHeader("Vary","*");`<br><br><span data-ttu-id="09ff8-244">Alternatywnie można zmienić wartość wyjściowego atrybutu buforowania `Location` na "Serwer".</span><span class="sxs-lookup"><span data-stu-id="09ff8-244">Alternatively, you can change the value of the output caching `Location` attribute to "Server".</span></span> |
| <span data-ttu-id="09ff8-245">**Analizowanie stron**</span><span class="sxs-lookup"><span data-stu-id="09ff8-245">**Page parsing**</span></span> | <span data-ttu-id="09ff8-246">Analizator stron dla ASP.NET stron sieci Web (pliki aspx) i formantów użytkownika (pliki ascx) jest bardziej rygorystyczny w ASP.NET 4 niż we wcześniejszych wersjach ASP.NET i oznacza więcej znaczników jako nieprawidłowych niż we wcześniejszych wersjach.</span><span class="sxs-lookup"><span data-stu-id="09ff8-246">The page parser for ASP.NET Web pages (.aspx files) and user controls (.ascx files) is stricter in ASP.NET 4 than in earlier versions of ASP.NET, and it flags more markup as invalid than in earlier versions.</span></span> | <span data-ttu-id="09ff8-247">Sprawdź komunikaty o błędach, które są tworzone podczas pracy strony i naprawić błędy, które wynikają z nieprawidłowego znaczników.</span><span class="sxs-lookup"><span data-stu-id="09ff8-247">Examine error messages that are produced when a page runs and fix errors that result from invalid markup.</span></span> |
| <span data-ttu-id="09ff8-248">**Typy paszportów**</span><span class="sxs-lookup"><span data-stu-id="09ff8-248">**Passport types**</span></span> | <span data-ttu-id="09ff8-249">Obsługa usługi Passport wbudowana w ASP.NET 2.0 jest przestarzała i nie jest obsługiwana ze względu na zmiany w ucho.</span><span class="sxs-lookup"><span data-stu-id="09ff8-249">The Passport support built into ASP.NET 2.0 is obsolete and is unsupported due to changes in Passport (now Live ID SDK).</span></span> <span data-ttu-id="09ff8-250">W rezultacie typy związane z <xref:System.Web.Security> passport in `ObsoleteAttribute` są teraz oznaczone atrybutem.</span><span class="sxs-lookup"><span data-stu-id="09ff8-250">As a result, the types related to Passport in <xref:System.Web.Security> are now marked with the `ObsoleteAttribute` attribute.</span></span> | <span data-ttu-id="09ff8-251">Zmień dowolny kod, który używa <xref:System.Web.Security> typów usługi Passport <xref:System.Web.Security.PassportIdentity>w obszarze nazw (na przykład ) do używania sdk windows live IDK.</span><span class="sxs-lookup"><span data-stu-id="09ff8-251">Change any code that uses Passport types in the <xref:System.Web.Security> namespace (for example, <xref:System.Web.Security.PassportIdentity>) to use the Windows Live ID SDK.</span></span> |
| <span data-ttu-id="09ff8-252">**Informacje PathInfo we właściwości FilePath**</span><span class="sxs-lookup"><span data-stu-id="09ff8-252">**PathInfo information in the FilePath property**</span></span> | <span data-ttu-id="09ff8-253">ASP.NET 4 nie zawiera `PathInfo` już wartości zwracanej z właściwości <xref:System.Web.HttpRequest.FilePath> <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath>takich <xref:System.Web.HttpRequest.CurrentExecutionFilePath>jak , i .</span><span class="sxs-lookup"><span data-stu-id="09ff8-253">ASP.NET 4 no longer includes the `PathInfo` value in the return values from properties such as <xref:System.Web.HttpRequest.FilePath>, <xref:System.Web.HttpRequest.AppRelativeCurrentExecutionFilePath>, and <xref:System.Web.HttpRequest.CurrentExecutionFilePath>.</span></span> <span data-ttu-id="09ff8-254">Zamiast tego `PathInfo` informacje są <xref:System.Web.HttpRequest.PathInfo>dostępne w pliku .</span><span class="sxs-lookup"><span data-stu-id="09ff8-254">Instead, the `PathInfo` information is available in <xref:System.Web.HttpRequest.PathInfo>.</span></span> <span data-ttu-id="09ff8-255">Załóżmy na przykład następujący fragment adresu URL:</span><span class="sxs-lookup"><span data-stu-id="09ff8-255">For example, imagine the following URL fragment:</span></span><br><br>`/testapp/Action.mvc/SomeAction`<br><br><span data-ttu-id="09ff8-256">We wcześniejszych wersjach ASP.NET <xref:System.Web.HttpRequest> właściwości mają następujące wartości:</span><span class="sxs-lookup"><span data-stu-id="09ff8-256">In earlier versions of ASP.NET, <xref:System.Web.HttpRequest> properties have the following values:</span></span><br><br><span data-ttu-id="09ff8-257">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`</span><span class="sxs-lookup"><span data-stu-id="09ff8-257">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc/SomeAction`</span></span><br><span data-ttu-id="09ff8-258">\* <xref:System.Web.HttpRequest.PathInfo>: (pusty)</span><span class="sxs-lookup"><span data-stu-id="09ff8-258">\* <xref:System.Web.HttpRequest.PathInfo>: (empty)</span></span><br><br><span data-ttu-id="09ff8-259">W ASP.NET 4 <xref:System.Web.HttpRequest> właściwości mają zamiast tego następujące wartości:</span><span class="sxs-lookup"><span data-stu-id="09ff8-259">In ASP.NET 4, <xref:System.Web.HttpRequest> properties instead have the following values:</span></span><br><br><span data-ttu-id="09ff8-260">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`</span><span class="sxs-lookup"><span data-stu-id="09ff8-260">\* <xref:System.Web.HttpRequest.FilePath>: `/testapp/Action.mvc`</span></span><br><span data-ttu-id="09ff8-261">\* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction`</span><span class="sxs-lookup"><span data-stu-id="09ff8-261">\* <xref:System.Web.HttpRequest.PathInfo>: `SomeAction`</span></span> | <span data-ttu-id="09ff8-262">Sprawdź swój kod dla miejsc, w <xref:System.Web.HttpRequest> których można polegać na właściwości klasy, aby zwrócić informacje o ścieżce; zmienić kod, aby odzwierciedlić zmiany w sposobie zwracania informacji o ścieżce.</span><span class="sxs-lookup"><span data-stu-id="09ff8-262">Examine your code for places where you rely on properties of the <xref:System.Web.HttpRequest> class to return path information; change the code to reflect the changes in how path information is returned.</span></span> |
| <span data-ttu-id="09ff8-263">**Sprawdzanie poprawności żądania**</span><span class="sxs-lookup"><span data-stu-id="09ff8-263">**Request validation**</span></span> | <span data-ttu-id="09ff8-264">Aby poprawić sprawdzanie poprawności żądania, sprawdzanie poprawności żądania ASP.NET jest wywoływana wcześniej w cyklu życia żądania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-264">To improve request validation, the ASP.NET request validation is invoked earlier in the request life cycle.</span></span> <span data-ttu-id="09ff8-265">W rezultacie sprawdzanie poprawności żądań jest uruchamiane dla żądań, które nie są dla plików .aspx, takich jak wywołania usługi sieci Web i niestandardowych programów obsługi.</span><span class="sxs-lookup"><span data-stu-id="09ff8-265">As a result, request validation runs for requests that are not for .aspx files, such as for Web service calls and for custom handlers.</span></span> <span data-ttu-id="09ff8-266">Sprawdzanie poprawności żądania będzie również aktywne, gdy niestandardowe moduły HTTP są uruchomione w potoku przetwarzania żądań.</span><span class="sxs-lookup"><span data-stu-id="09ff8-266">Request validation will also be active when custom HTTP modules are running in the request processing pipeline.</span></span><br><br><span data-ttu-id="09ff8-267">W wyniku tej zmiany żądania dotyczące zasobów innych niż pliki aspx mogą powodować błędy sprawdzania poprawności żądania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-267">As a result of this change, requests for resources other than .aspx files might throw request validation errors.</span></span> <span data-ttu-id="09ff8-268">Kod niestandardowy, który działa w potoku żądań (na przykład niestandardowe moduły HTTP) może również zgłaszać błędy sprawdzania poprawności żądania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-268">Custom code that runs in the request pipeline (for example, custom HTTP modules) might also throw request validation errors.</span></span> | <span data-ttu-id="09ff8-269">W razie potrzeby można przywrócić stare zachowanie, że tylko strony .aspx wyzwalają sprawdzanie poprawności żądania, używając następującego ustawienia w pliku konfiguracji sieci Web:</span><span class="sxs-lookup"><span data-stu-id="09ff8-269">If necessary, you can revert to the old behavior of having only .aspx pages triggering request validation by using the following setting in the Web configuration file:</span></span><br><br>`<httpRuntime requestValidationMode="2.0" />`<br><br><span data-ttu-id="09ff8-270">Ostrzeżenie: Jeśli powrócisz do starego zachowania, upewnij się, że cały kod w istniejących programach obsługi, modułów i innego kodu niestandardowego wykonuje kontrole potencjalnie niebezpiecznych danych wejściowych HTTP, które mogą być wektorami ataku XSS.</span><span class="sxs-lookup"><span data-stu-id="09ff8-270">Warning: If you revert to the old behavior, make sure that all code in existing handlers, modules, and other custom code performs checks for potentially unsafe HTTP inputs that could be XSS attack vectors.</span></span> |
| <span data-ttu-id="09ff8-271">**Routing**</span><span class="sxs-lookup"><span data-stu-id="09ff8-271">**Routing**</span></span> | <span data-ttu-id="09ff8-272">Jeśli w programie Visual Studio 2010 utworzysz witrynę sieci Web systemu plików, a witryna sieci Web znajduje się w folderze zawierającym kropkę (.) w nazwie folderu, routing adresów URL nie będzie działać niezawodnie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-272">If you create a file system Web site in Visual Studio 2010 and the Web site is in a folder that contains a dot (.) in the folder name, URL routing will not work reliably.</span></span> <span data-ttu-id="09ff8-273">Błąd HTTP 404 jest zwracany z niektórych ścieżek wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="09ff8-273">An HTTP 404 error is returned from some virtual paths.</span></span> <span data-ttu-id="09ff8-274">Dzieje się tak, ponieważ program Visual Studio 2010 uruchamia program Visual Studio Development Server przy użyciu niepoprawnej ścieżki dla głównego katalogu wirtualnego.</span><span class="sxs-lookup"><span data-stu-id="09ff8-274">This occurs because Visual Studio 2010 launches the Visual Studio Development Server using an incorrect path for the root virtual directory.</span></span> | <span data-ttu-id="09ff8-275">\* Na stronie **Właściwości witryny** sieci Web opartej na plikach zmień atrybut **Ścieżka wirtualna** na "/".</span><span class="sxs-lookup"><span data-stu-id="09ff8-275">\* In the **Properties** page for the file-based Web site, change the **Virtual Path** attribute to "/".</span></span><br><br><span data-ttu-id="09ff8-276">— lub —</span><span class="sxs-lookup"><span data-stu-id="09ff8-276">-or-</span></span><br><br><span data-ttu-id="09ff8-277">\* Utwórz projekt aplikacji sieci Web zamiast projektu witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="09ff8-277">\* Create a Web application project instead of a Web site project.</span></span> <span data-ttu-id="09ff8-278">Projekty aplikacji sieci Web nie mają tego problemu, a routing adresów URL działa, nawet jeśli folder projektu ma kropkę w nazwie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-278">Web application projects do not have this issue, and URL routing works even if the project folder has a dot in its name.</span></span><br><br><span data-ttu-id="09ff8-279">— lub —</span><span class="sxs-lookup"><span data-stu-id="09ff8-279">-or-</span></span><br><br><span data-ttu-id="09ff8-280">\* Utwórz witrynę sieci Web opartą na protokoście z protokołem HTTP, która jest hostowana w serwisach IIS.</span><span class="sxs-lookup"><span data-stu-id="09ff8-280">\* Create an HTTP-based Web site that is hosted in IIS.</span></span> <span data-ttu-id="09ff8-281">Witryny sieci Web hostowane przez usługi IIS mogą mieć kropki w ścieżce wirtualnej, a także w folderze plików projektu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-281">IIS-hosted Web sites can have dots in the virtual path as well as in the project file folder.</span></span> |
| <span data-ttu-id="09ff8-282">**Witryny programu SharePoint**</span><span class="sxs-lookup"><span data-stu-id="09ff8-282">**SharePoint sites**</span></span> | <span data-ttu-id="09ff8-283">W przypadku próby uruchomienia witryny sieci Web ASP.NET 4, która jest wdrażana jako element podrzędny witryny sieci Web programu SharePoint zawierającej niestandardowy poziom częściowego zaufania o nazwie `WSS_Minimal`, zostanie wyświetlony następujący błąd:</span><span class="sxs-lookup"><span data-stu-id="09ff8-283">If you try to run an ASP.NET 4 Web site that is deployed as a child of a SharePoint Web site that contains a custom partial-trust level named `WSS_Minimal`, you will see the following error:</span></span><br><br>`Could not find permission set named 'ASP.Net'.` | <span data-ttu-id="09ff8-284">Obecnie żadne wersje programu SharePoint nie są zgodne z ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="09ff8-284">Currently, no versions of SharePoint are compatible with ASP.NET.</span></span> <span data-ttu-id="09ff8-285">W związku z tym nie należy podejmować prób uruchamiania witryny sieci Web ASP.NET 4 jako element podrzędny witryny sieci Web programu SharePoint.</span><span class="sxs-lookup"><span data-stu-id="09ff8-285">As a result, you should not attempt to run an ASP.NET 4 Web site as a child of a SharePoint Web site.</span></span> |
| <span data-ttu-id="09ff8-286">**Normy XHTML 1.1**</span><span class="sxs-lookup"><span data-stu-id="09ff8-286">**XHTML 1.1 standards**</span></span> | <span data-ttu-id="09ff8-287">Aby włączyć zgodność z programem XHTML 1.1 dla nowych witryn sieci Web, ASP.NET formantów w programie .NET Framework 4 wygeneruje kod HTML zgodny ze standardem XHTML 1.1.</span><span class="sxs-lookup"><span data-stu-id="09ff8-287">To enable XHTML 1.1 compliance for new Web sites, the ASP.NET controls in .NET Framework 4 will generate XHTML 1.1 compliant HTML.</span></span> <span data-ttu-id="09ff8-288">Renderowanie to jest włączone przy użyciu następującej opcji w `<system.Web>` pliku Web.config wewnątrz elementu:</span><span class="sxs-lookup"><span data-stu-id="09ff8-288">This rendering is enabled using the following option in the Web.config file inside the `<system.Web>` element:</span></span><br><br>`<pages controlRenderingCompatibilityVersion="4.0"/>`<br><br><span data-ttu-id="09ff8-289">Ta opcja jest domyślnie ustawiona na 4.0.</span><span class="sxs-lookup"><span data-stu-id="09ff8-289">This option is set by default to 4.0.</span></span> <span data-ttu-id="09ff8-290">Projekty sieci Web uaktualnione z programu Visual Studio 2008 mają włączone ustawienie 3.5 dla zgodności.</span><span class="sxs-lookup"><span data-stu-id="09ff8-290">Web projects that are upgraded from Visual Studio 2008 have the 3.5 setting enabled for compatibility.</span></span> | <span data-ttu-id="09ff8-291">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-291">None.</span></span> |

## <a name="core"></a><span data-ttu-id="09ff8-292">Podstawowe</span><span class="sxs-lookup"><span data-stu-id="09ff8-292">Core</span></span>

### <a name="general-features"></a><span data-ttu-id="09ff8-293">Funkcje ogólne</span><span class="sxs-lookup"><span data-stu-id="09ff8-293">General features</span></span>

| <span data-ttu-id="09ff8-294">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-294">Feature</span></span> | <span data-ttu-id="09ff8-295">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-295">Differences from 3.5 SP1</span></span> | <span data-ttu-id="09ff8-296">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="09ff8-296">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="09ff8-297">**CardSpace**</span><span class="sxs-lookup"><span data-stu-id="09ff8-297">**CardSpace**</span></span> | <span data-ttu-id="09ff8-298">Program Windows CardSpace nie jest już uwzględniony w programie .NET Framework; jest dostarczany oddzielnie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-298">Windows CardSpace is no longer included in .NET Framework; it is provided separately.</span></span> | <span data-ttu-id="09ff8-299">Pobierz program Windows CardSpace z [Centrum pobierania Microsoft](https://go.microsoft.com/fwlink/?LinkId=199868).</span><span class="sxs-lookup"><span data-stu-id="09ff8-299">Download Windows CardSpace from the [Microsoft Download Center](https://go.microsoft.com/fwlink/?LinkId=199868).</span></span> |
| <span data-ttu-id="09ff8-300">**Pliki konfiguracyjne**</span><span class="sxs-lookup"><span data-stu-id="09ff8-300">**Configuration files**</span></span> | <span data-ttu-id="09ff8-301">Wprowadzono poprawki w sposobie uzyskiwania dostępu do plików konfiguracyjnych aplikacji przez program .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="09ff8-301">Corrections have been made in how .NET Framework accesses application configuration files.</span></span> | <span data-ttu-id="09ff8-302">Jeśli plik konfiguracji aplikacji nosi nazwę *application-name.config*, zmień jego nazwę na *application-name.exe.config*. Na przykład zmień nazwę *myapp.config* na *MyApp.exe.config*.</span><span class="sxs-lookup"><span data-stu-id="09ff8-302">If your application configuration file is named *application-name.config*, rename it to *application-name.exe.config*. For example, rename *MyApp.config* to *MyApp.exe.config*.</span></span> |
| <span data-ttu-id="09ff8-303">**Kompilator kodu języka C#**</span><span class="sxs-lookup"><span data-stu-id="09ff8-303">**C# code compiler**</span></span> | <span data-ttu-id="09ff8-304">Klasy `Compiler` `CompilerError`, `ErrorLevel` i klasy, <xref:Microsoft.CSharp> które znajdowały się w obszarze nazw, nie są już dostępne, a ich zestaw (cscompmgd.dll) nie jest już uwzględniony w programie .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="09ff8-304">The `Compiler`, `CompilerError`, and `ErrorLevel` classes that were in the <xref:Microsoft.CSharp> namespace are no longer available, and their assembly (cscompmgd.dll) is no longer included in .NET Framework.</span></span> | <span data-ttu-id="09ff8-305">Użyj <xref:System.CodeDom.Compiler.CodeDomProvider> klasy i innych <xref:System.CodeDom.Compiler> klas w obszarze nazw.</span><span class="sxs-lookup"><span data-stu-id="09ff8-305">Use the <xref:System.CodeDom.Compiler.CodeDomProvider> class and other classes in the <xref:System.CodeDom.Compiler> namespace.</span></span> <span data-ttu-id="09ff8-306">Aby uzyskać więcej informacji, zobacz [Korzystanie z codedom](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/y2k85ax6%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="09ff8-306">For more information, see [Using the CodeDOM](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/y2k85ax6%28v=vs.100%29).</span></span> |
| <span data-ttu-id="09ff8-307">**Hosting** (niezarządzany interfejs API)</span><span class="sxs-lookup"><span data-stu-id="09ff8-307">**Hosting** (unmanaged API)</span></span> | <span data-ttu-id="09ff8-308">Aby poprawić możliwości hostingu, niektóre interfejsy API aktywacji hostingu zostały przestarzałe.</span><span class="sxs-lookup"><span data-stu-id="09ff8-308">To improve hosting capabilities, some of the hosting activation APIs have been deprecated.</span></span> <span data-ttu-id="09ff8-309">Funkcje wykonywania w trakcie procesu umożliwiają aplikacji ładowanie i uruchamianie wielu wersji programu .NET Framework w tym samym procesie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-309">In-process side-by-side execution features enable an application to load and start multiple versions of .NET Framework in the same process.</span></span> <span data-ttu-id="09ff8-310">Na przykład można uruchamiać aplikacje, które ładują dodatki (lub składniki), które są oparte na .NET Framework 2.0 SP1 i dodatki, które są oparte na programie .NET Framework 4 w tym samym procesie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-310">For example, you can run applications that load add-ins (or components) that are based on .NET Framework 2.0 SP1 and add-ins that are based on .NET Framework 4 in the same process.</span></span> <span data-ttu-id="09ff8-311">Starsze składniki nadal używają starszej wersji programu .NET Framework, a nowe składniki używają nowej wersji programu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="09ff8-311">Older components continue to use the older .NET Framework version, and new components use the new .NET Framework version.</span></span> | <span data-ttu-id="09ff8-312">Użyj konfiguracji opisanych [w wykonaniu w procesie side-by-side](../deployment/in-process-side-by-side-execution.md).</span><span class="sxs-lookup"><span data-stu-id="09ff8-312">Use the configurations described in [In-Process Side-by-Side Execution](../deployment/in-process-side-by-side-execution.md).</span></span> |
| <span data-ttu-id="09ff8-313">**Nowy model zabezpieczeń**</span><span class="sxs-lookup"><span data-stu-id="09ff8-313">**New security model**</span></span> | <span data-ttu-id="09ff8-314">Zasady zabezpieczeń dostępu do kodu (CAS) zostały wyłączone i zastąpione uproszczonym modelem, zgodnie z opisem w [obszarze Zmiany zabezpieczeń w programie .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd233103%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="09ff8-314">The code access security (CAS) policy has been turned off and replaced with a simplified model, as described in [Security Changes in .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd233103%28v=vs.100%29).</span></span> | <span data-ttu-id="09ff8-315">Modyfikacje mogą być wymagane, jeśli zależy od cas w aplikacjach.</span><span class="sxs-lookup"><span data-stu-id="09ff8-315">Modifications may be required if you depend on CAS in your applications.</span></span> <span data-ttu-id="09ff8-316">Aby uzyskać więcej informacji, zobacz [Zgodność zasad zabezpieczeń dostępu do kodu i migracja](../misc/code-access-security-policy-compatibility-and-migration.md).</span><span class="sxs-lookup"><span data-stu-id="09ff8-316">For more information, see [Code Access Security Policy Compatibility and Migration](../misc/code-access-security-policy-compatibility-and-migration.md).</span></span> |

### <a name="date-and-time"></a><span data-ttu-id="09ff8-317">Data i godzina</span><span class="sxs-lookup"><span data-stu-id="09ff8-317">Date and time</span></span>

<span data-ttu-id="09ff8-318">Namespace:<xref:System></span><span class="sxs-lookup"><span data-stu-id="09ff8-318">Namespace: <xref:System></span></span>

<span data-ttu-id="09ff8-319">Montaż: mscorlib (w mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-319">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="09ff8-320">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-320">Feature</span></span> | <span data-ttu-id="09ff8-321">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-321">Differences from 3.5 SP1</span></span> | <span data-ttu-id="09ff8-322">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="09ff8-322">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="09ff8-323">**Czasu letniego**</span><span class="sxs-lookup"><span data-stu-id="09ff8-323">**Daylight savings**</span></span> | <span data-ttu-id="09ff8-324">Aby być zgodne z zegarem systemowym, <xref:System.TimeZoneInfo.Local> <xref:System.DateTime.Now>właściwości czasu (takie jak i ) używają teraz reguł systemu operacyjnego zamiast innych danych programu .NET Framework dla operacji czasu letniego.</span><span class="sxs-lookup"><span data-stu-id="09ff8-324">To be consistent with the system clock, time properties (such as <xref:System.TimeZoneInfo.Local> and <xref:System.DateTime.Now>) now use operating system rules instead of other .NET Framework data for daylight saving time operations.</span></span> | <span data-ttu-id="09ff8-325">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-325">None.</span></span> |
| <span data-ttu-id="09ff8-326">**Ciągi formatowania**</span><span class="sxs-lookup"><span data-stu-id="09ff8-326">**Formatting strings**</span></span> | <span data-ttu-id="09ff8-327">Aby obsługiwać formatowanie uwzględniające kulturę, <xref:System.TimeSpan> struktura zawiera `ToString` `Parse`nowe `TryParse` przeciążenia , `ParseExact` `TryParseExact` i metody oprócz nowych i metod.</span><span class="sxs-lookup"><span data-stu-id="09ff8-327">To support culture-sensitive formatting, the <xref:System.TimeSpan> structure includes new overloads of the `ToString`, `Parse`, and `TryParse` methods in addition to new `ParseExact` and `TryParseExact` methods.</span></span> | <span data-ttu-id="09ff8-328">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-328">None.</span></span> |

### <a name="globalization"></a><span data-ttu-id="09ff8-329">Globalizacja</span><span class="sxs-lookup"><span data-stu-id="09ff8-329">Globalization</span></span>

<span data-ttu-id="09ff8-330">Aby uzyskać listę nowych neutralnych i konkretnych kultur, zobacz [Co nowego w globalizacji i lokalizacji](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd997383%28v=vs.100%29).</span><span class="sxs-lookup"><span data-stu-id="09ff8-330">For a list of new neutral and specific cultures, see [What's New in Globalization and Localization](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd997383%28v=vs.100%29).</span></span>

<span data-ttu-id="09ff8-331">Namespace:<xref:System.Globalization></span><span class="sxs-lookup"><span data-stu-id="09ff8-331">Namespace: <xref:System.Globalization></span></span>

<span data-ttu-id="09ff8-332">Montaż: mscorlib (w mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-332">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="09ff8-333">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-333">Feature</span></span> | <span data-ttu-id="09ff8-334">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-334">Differences from 3.5 SP1</span></span> | <span data-ttu-id="09ff8-335">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="09ff8-335">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="09ff8-336">**Nazwy kultury**</span><span class="sxs-lookup"><span data-stu-id="09ff8-336">**Culture names**</span></span> | <span data-ttu-id="09ff8-337">Następujące zmiany nazwy wpływają na kultury niemieckie, Divehi i afryki:</span><span class="sxs-lookup"><span data-stu-id="09ff8-337">The following name changes affect the German, Divehi, and African cultures:</span></span><br><br><span data-ttu-id="09ff8-338">\* <xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: Nazwa waluty kultury niemieckiej (Szwajcaria) (de-CH) zmieniła się z "sFr".</span><span class="sxs-lookup"><span data-stu-id="09ff8-338">\* <xref:System.Globalization.CultureAndRegionInfoBuilder.CurrencyEnglishName>: The currency name for the German (Switzerland) (de-CH) culture has changed from "sFr."</span></span> <span data-ttu-id="09ff8-339">"Fr.".</span><span class="sxs-lookup"><span data-stu-id="09ff8-339">to "Fr.".</span></span><br><span data-ttu-id="09ff8-340">\* <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: Długi wzór daty dla kultury Divehi (Malediwy) (dv-MV) zmienił się z "dd/MMMM/yyyy" na "dd/MM/yyyy".</span><span class="sxs-lookup"><span data-stu-id="09ff8-340">\* <xref:System.Globalization.DateTimeFormatInfo.LongDatePattern>: The long date pattern for the Divehi (Maldives) (dv-MV) culture has changed from "dd/MMMM/yyyy" to "dd/MM/yyyy".</span></span><br><span data-ttu-id="09ff8-341">\* <xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: P.M.</span><span class="sxs-lookup"><span data-stu-id="09ff8-341">\* <xref:System.Globalization.DateTimeFormatInfo.PMDesignator>: The P.M.</span></span> <span data-ttu-id="09ff8-342">projektator afrikaans (Republika Południowej Afryki) (af-ZA) kultury zmienił się z "nm" na "PM".</span><span class="sxs-lookup"><span data-stu-id="09ff8-342">designator of the Afrikaans (South Africa) (af-ZA) culture has changed from "nm" to "PM".</span></span> | <span data-ttu-id="09ff8-343">Uwaga zmiany nazwy kultury.</span><span class="sxs-lookup"><span data-stu-id="09ff8-343">Note culture name changes.</span></span> |
| <span data-ttu-id="09ff8-344">**Parametr LCID**</span><span class="sxs-lookup"><span data-stu-id="09ff8-344">**LCID parameter**</span></span> | <span data-ttu-id="09ff8-345">Aby być zgodne z oczekiwanym zachowaniem w ustawieniach serwera automatyzacji, CLR nie przekazuje bieżącej kultury dla parametru `LCID` do niezarządzanych aplikacji opartych na COM.</span><span class="sxs-lookup"><span data-stu-id="09ff8-345">To be consistent with expected behavior in automation server settings, the CLR no longer passes the current culture for the `LCID` parameter to unmanaged COM-based applications.</span></span> <span data-ttu-id="09ff8-346">Zamiast tego przechodzi 1033 (en-us) dla kultury.</span><span class="sxs-lookup"><span data-stu-id="09ff8-346">Instead, it passes 1033 (en-us) for the culture.</span></span> | <span data-ttu-id="09ff8-347">Nie konieczne modyfikacje z wyjątkiem aplikacji natywnych, które wymagają określonej kultury.</span><span class="sxs-lookup"><span data-stu-id="09ff8-347">No modifications necessary except for native applications that require a specified culture.</span></span> |
| <span data-ttu-id="09ff8-348">**Przestarzałe typy kultury**</span><span class="sxs-lookup"><span data-stu-id="09ff8-348">**Obsolete culture types**</span></span> | <span data-ttu-id="09ff8-349"><xref:System.Globalization.CultureTypes> Typy <xref:System.Globalization.CultureTypes> i kultury są teraz przestarzałe.</span><span class="sxs-lookup"><span data-stu-id="09ff8-349">The <xref:System.Globalization.CultureTypes> and <xref:System.Globalization.CultureTypes> culture types are now obsolete.</span></span><br><br><span data-ttu-id="09ff8-350">W celu zapewnienia zgodności <xref:System.Globalization.CultureTypes> z poprzednimi wersjami, teraz zwraca neutralne i <xref:System.Globalization.CultureTypes> określone kultury, które zostały uwzględnione w poprzednim .NET Framework, a teraz zwraca pustą listę.</span><span class="sxs-lookup"><span data-stu-id="09ff8-350">For backward compatibility, <xref:System.Globalization.CultureTypes> now returns neutral and specific cultures that were included with the previous .NET Framework, and <xref:System.Globalization.CultureTypes> now returns an empty list.</span></span> | <span data-ttu-id="09ff8-351">Użyj innych wartości <xref:System.Globalization.CultureTypes> wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="09ff8-351">Use other values of the <xref:System.Globalization.CultureTypes> enumeration.</span></span> |
| <span data-ttu-id="09ff8-352">**Pobieranie kultury**</span><span class="sxs-lookup"><span data-stu-id="09ff8-352">**Retrieving culture**</span></span> | <span data-ttu-id="09ff8-353">Począwszy od systemu Windows 7, .NET Framework 4 pobiera informacje o kulturze z systemu operacyjnego zamiast przechowywania danych.</span><span class="sxs-lookup"><span data-stu-id="09ff8-353">Beginning with Windows 7, .NET Framework 4 retrieves culture information from the operating system instead of storing the data itself.</span></span> <span data-ttu-id="09ff8-354">Ponadto program .NET Framework synchronizuje się z systemem Windows w celu sortowania i tworzenia danych dotyczących wielkości liter.</span><span class="sxs-lookup"><span data-stu-id="09ff8-354">In addition, .NET Framework synchronizes with Windows for sorting and casing data.</span></span> | <span data-ttu-id="09ff8-355">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-355">None.</span></span> |
| <span data-ttu-id="09ff8-356">**Standardy Unicode 5.1**</span><span class="sxs-lookup"><span data-stu-id="09ff8-356">**Unicode 5.1 standards**</span></span> | <span data-ttu-id="09ff8-357">Program .NET Framework obsługuje teraz wszystkie znaki Unicode 5.1 — dodanie około 1400 znaków.</span><span class="sxs-lookup"><span data-stu-id="09ff8-357">.NET Framework now supports all Unicode 5.1 characters -- an addition of approximately 1400 characters.</span></span> <span data-ttu-id="09ff8-358">Dodatkowe znaki obejmują nowe symbole, strzałki, znaki diakrytyczne, znaki interpunkcyjne, symbole matematyczne, obrysy i ideografy CJK, dodatkowe znaki liczbowe malajalam i telugu oraz różne znaki birmańskie, łacińskie, arabskie, greckie, mongolskie i cyrylicy.</span><span class="sxs-lookup"><span data-stu-id="09ff8-358">The additional characters include new symbols, arrows, diacritics, punctuation, mathematical symbols, CJK strokes and ideographs, additional Malayalam and Telugu numeric characters, and various Myanmar, Latin, Arabic, Greek, Mongolian, and Cyrillic characters.</span></span> <span data-ttu-id="09ff8-359">Następujące nowe skrypty są obsługiwane przez Unicode 5.1: Sundanese, Lepcha, Ol Chiki, Vai, Saurashtra, Kayah Li, Rejang, Gurmukhi, Odia, Tamil, Telugu i Malayalam znaków i Cham.</span><span class="sxs-lookup"><span data-stu-id="09ff8-359">The following new scripts are supported with Unicode 5.1: Sundanese, Lepcha, Ol Chiki, Vai, Saurashtra, Kayah Li, Rejang, Gurmukhi, Odia, Tamil, Telugu, and Malayalam characters and Cham.</span></span> | <span data-ttu-id="09ff8-360">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-360">None.</span></span> |

### <a name="exceptions"></a><span data-ttu-id="09ff8-361">Wyjątki</span><span class="sxs-lookup"><span data-stu-id="09ff8-361">Exceptions</span></span>

<span data-ttu-id="09ff8-362">Przestrzenie nazw: <xref:System>,<xref:System.Runtime.ExceptionServices></span><span class="sxs-lookup"><span data-stu-id="09ff8-362">Namespaces: <xref:System>, <xref:System.Runtime.ExceptionServices></span></span>

<span data-ttu-id="09ff8-363">Montaż: mscorlib (w mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-363">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="09ff8-364">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-364">Feature</span></span> | <span data-ttu-id="09ff8-365">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-365">Differences from 3.5 SP1</span></span> | <span data-ttu-id="09ff8-366">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="09ff8-366">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="09ff8-367">**Wyjątki dla uszkodzonego stanu procesu**</span><span class="sxs-lookup"><span data-stu-id="09ff8-367">**Exceptions for corrupted process state**</span></span> | <span data-ttu-id="09ff8-368">Program CLR nie zapewnia już wyjątków dla stanu uszkodzonego procesu dla obsługi wyjątków w kodzie zarządzanym.</span><span class="sxs-lookup"><span data-stu-id="09ff8-368">The CLR no longer delivers exceptions for corrupted process state to exception handlers in managed code.</span></span> | <span data-ttu-id="09ff8-369">Wyjątki te wskazują, że stan procesu został uszkodzony.</span><span class="sxs-lookup"><span data-stu-id="09ff8-369">These exceptions indicate that the state of a process has been corrupted.</span></span> <span data-ttu-id="09ff8-370">Nie zaleca się uruchamiania aplikacji w tym stanie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-370">We do not recommend that you run your application in this state.</span></span><br><br><span data-ttu-id="09ff8-371">Aby uzyskać więcej <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> informacji, zobacz i wpis [Obsługa wyjątków uszkodzonych stanów](https://docs.microsoft.com/archive/msdn-magazine/2009/february/clr-inside-out-handling-corrupted-state-exceptions) w magazynie MSDN.</span><span class="sxs-lookup"><span data-stu-id="09ff8-371">For more information, see the <xref:System.Runtime.ExceptionServices.HandleProcessCorruptedStateExceptionsAttribute> and the entry [Handling Corrupted State Exceptions](https://docs.microsoft.com/archive/msdn-magazine/2009/february/clr-inside-out-handling-corrupted-state-exceptions) in the MSDN magazine.</span></span> |
| <span data-ttu-id="09ff8-372">**Wyjątki aparatu wykonania**</span><span class="sxs-lookup"><span data-stu-id="09ff8-372">**Execution engine exceptions**</span></span> | <span data-ttu-id="09ff8-373"><xref:System.ExecutionEngineException>jest teraz przestarzały, ponieważ catchable wyjątek pozwoli na proces niestabilny, aby kontynuować uruchamianie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-373"><xref:System.ExecutionEngineException> is now obsolete, because a catchable exception will allow an unstable process to continue to run.</span></span> <span data-ttu-id="09ff8-374">Ta zmiana zwiększa przewidywalność i niezawodność w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-374">This change improves predictability and reliability in the runtime.</span></span> | <span data-ttu-id="09ff8-375">Użyj, <xref:System.InvalidOperationException> aby zasygnalizować stan.</span><span class="sxs-lookup"><span data-stu-id="09ff8-375">Use an <xref:System.InvalidOperationException> to signal the condition.</span></span> |

### <a name="reflection"></a><span data-ttu-id="09ff8-376">Odbicie</span><span class="sxs-lookup"><span data-stu-id="09ff8-376">Reflection</span></span>

<span data-ttu-id="09ff8-377">Namespace:<xref:System.Reflection></span><span class="sxs-lookup"><span data-stu-id="09ff8-377">Namespace: <xref:System.Reflection></span></span>

<span data-ttu-id="09ff8-378">Montaż: mscorlib (w mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-378">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="09ff8-379">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-379">Feature</span></span> | <span data-ttu-id="09ff8-380">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-380">Differences from 3.5 SP1</span></span> | <span data-ttu-id="09ff8-381">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="09ff8-381">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="09ff8-382">**Algorytmy mieszania zestawu**</span><span class="sxs-lookup"><span data-stu-id="09ff8-382">**Assembly hash algorithms**</span></span> | <span data-ttu-id="09ff8-383">Właściwość <xref:System.Reflection.AssemblyName.HashAlgorithm> zwraca <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm>teraz, ponieważ środowisko wykonawcze nie zna algorytmu mieszania zestawu, do którego istnieje odwołanie, gdy zestaw nie jest ładowany.</span><span class="sxs-lookup"><span data-stu-id="09ff8-383">The <xref:System.Reflection.AssemblyName.HashAlgorithm> property now returns <xref:System.Configuration.Assemblies.AssemblyHashAlgorithm>, because the runtime does not know the hash algorithm of the referenced assembly when the assembly is not loaded.</span></span> <span data-ttu-id="09ff8-384">(Odnosi się to do używania właściwości w zestawie, <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A> do którego istnieje odwołanie, takiej jak zwracana przez metodę).</span><span class="sxs-lookup"><span data-stu-id="09ff8-384">(This refers to using the property on a referenced assembly such as that returned by the <xref:System.Reflection.Assembly.GetReferencedAssemblies%2A> method.)</span></span> | <span data-ttu-id="09ff8-385">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-385">None.</span></span> |
| <span data-ttu-id="09ff8-386">**Obciążenie zespołu**</span><span class="sxs-lookup"><span data-stu-id="09ff8-386">**Assembly loading**</span></span> | <span data-ttu-id="09ff8-387">Aby zapobiec nadmiarowemu obciążeniu złożeń i zaoszczędzić wirtualną przestrzeń adresową, środowisko `MapViewOfFile` CLR ładuje teraz zestawy przy użyciu tylko funkcji Win32.</span><span class="sxs-lookup"><span data-stu-id="09ff8-387">To prevent redundant loading of assemblies and to save virtual address space, the CLR now loads assemblies by using only the Win32 `MapViewOfFile` function.</span></span> <span data-ttu-id="09ff8-388">Nie wywołuje już `LoadLibrary` również funkcji.</span><span class="sxs-lookup"><span data-stu-id="09ff8-388">It no longer also calls the `LoadLibrary` function.</span></span><br><br><span data-ttu-id="09ff8-389">Ta zmiana wpływa na aplikacje diagnostyczne w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="09ff8-389">This change affects diagnostic applications in the following ways:</span></span><br><br><span data-ttu-id="09ff8-390">\* <xref:System.Diagnostics.ProcessModuleCollection> A nie będzie już zawierać żadnych modułów z biblioteki klas (plik dll), otrzymanych z połączenia do `Process.GetCurrentProcess().Modules`.</span><span class="sxs-lookup"><span data-stu-id="09ff8-390">\* A <xref:System.Diagnostics.ProcessModuleCollection> will no longer contain any modules from a class library (.dll file), as obtained from a call to `Process.GetCurrentProcess().Modules`.</span></span><br><span data-ttu-id="09ff8-391">\* Aplikacje Win32, które korzystają z `EnumProcessModules` funkcji, nie zobaczą wszystkich zarządzanych modułów na liście.</span><span class="sxs-lookup"><span data-stu-id="09ff8-391">\* Win32 applications that use the `EnumProcessModules` function will not see all managed modules listed.</span></span> | <span data-ttu-id="09ff8-392">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-392">None.</span></span> |
| <span data-ttu-id="09ff8-393">**Deklarowanie typu**</span><span class="sxs-lookup"><span data-stu-id="09ff8-393">**Declaring type**</span></span> | <span data-ttu-id="09ff8-394">Właściwość <xref:System.Type.DeclaringType> teraz poprawnie zwraca wartość null, gdy typ nie ma typu deklarowania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-394">The <xref:System.Type.DeclaringType> property now correctly returns null when the type does not have a declaring type.</span></span> | <span data-ttu-id="09ff8-395">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-395">None.</span></span> |
| <span data-ttu-id="09ff8-396">**Delegaty**</span><span class="sxs-lookup"><span data-stu-id="09ff8-396">**Delegates**</span></span> | <span data-ttu-id="09ff8-397">Delegat teraz zgłasza <xref:System.ArgumentNullException> zamiast, <xref:System.NullReferenceException> gdy wartość null jest przekazywana do konstruktora delegata.</span><span class="sxs-lookup"><span data-stu-id="09ff8-397">A delegate now throws an <xref:System.ArgumentNullException> instead of a <xref:System.NullReferenceException> when a null value is passed to the delegate's constructor.</span></span> | <span data-ttu-id="09ff8-398">Upewnij się, że <xref:System.ArgumentNullException>wszelkie wyjątki obsługi połowów .</span><span class="sxs-lookup"><span data-stu-id="09ff8-398">Ensure that any exception handling catches <xref:System.ArgumentNullException>.</span></span> |
| <span data-ttu-id="09ff8-399">**Zmiana lokalizacji globalnej pamięci podręcznej zestawów**</span><span class="sxs-lookup"><span data-stu-id="09ff8-399">**Global assembly cache location change**</span></span> | <span data-ttu-id="09ff8-400">W przypadku zestawów programu .NET Framework 4 globalna pamięć podręczna zestawów została przeniesiona z katalogu systemu Windows (%WINDIR%) do podkatalogu Microsoft.Net (*%WINDIR%\\Microsoft.Net*).</span><span class="sxs-lookup"><span data-stu-id="09ff8-400">For .NET Framework 4 assemblies, the global assembly cache has been moved from the Windows directory (%WINDIR%) to the Microsoft.Net subdirectory (*%WINDIR%\\Microsoft.Net*).</span></span> <span data-ttu-id="09ff8-401">Zestawy z wcześniejszych wersji pozostają w starszym katalogu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-401">Assemblies from earlier versions remain in the older directory.</span></span><br><br><span data-ttu-id="09ff8-402">Niezarządzane wyliczenie [ASM_CACHE_FLAGS](../unmanaged-api/fusion/asm-cache-flags-enumeration.md) zawiera nową `ASM_CACHE_ROOT_EX` flagę.</span><span class="sxs-lookup"><span data-stu-id="09ff8-402">The unmanaged [ASM_CACHE_FLAGS](../unmanaged-api/fusion/asm-cache-flags-enumeration.md) enumeration contains the new `ASM_CACHE_ROOT_EX` flag.</span></span> <span data-ttu-id="09ff8-403">Ta flaga pobiera lokalizację pamięci podręcznej dla .NET Framework 4 zestawów, które można uzyskać za pomocą funkcji [GetCachePath.](../unmanaged-api/fusion/getcachepath-function.md)</span><span class="sxs-lookup"><span data-stu-id="09ff8-403">This flag gets the cache location for .NET Framework 4 assemblies, which can be obtained by the [GetCachePath](../unmanaged-api/fusion/getcachepath-function.md) function.</span></span> | <span data-ttu-id="09ff8-404">Brak, przy założeniu, że aplikacje nie używają jawnych ścieżek do zestawów, co nie jest zalecaną praktyką.</span><span class="sxs-lookup"><span data-stu-id="09ff8-404">None, assuming that applications do not use explicit paths to assemblies, which is not a recommended practice.</span></span> |
| <span data-ttu-id="09ff8-405">**Narzędzie globalnej pamięci podręcznej zestawów**</span><span class="sxs-lookup"><span data-stu-id="09ff8-405">**Global assembly cache tool**</span></span> | <span data-ttu-id="09ff8-406">[Gacutil.exe (Global Assembly Cache Tool)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ex0ss12c%28v=vs.100%29) nie obsługuje już przeglądarki wtyczek powłoki.</span><span class="sxs-lookup"><span data-stu-id="09ff8-406">The [Gacutil.exe (Global Assembly Cache Tool)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ex0ss12c%28v=vs.100%29) no longer supports the shell plugin viewer.</span></span> | <span data-ttu-id="09ff8-407">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-407">None.</span></span> |

### <a name="interoperability"></a><span data-ttu-id="09ff8-408">Współdziałanie</span><span class="sxs-lookup"><span data-stu-id="09ff8-408">Interoperability</span></span>

<span data-ttu-id="09ff8-409">Namespace:<xref:System.Runtime.InteropServices></span><span class="sxs-lookup"><span data-stu-id="09ff8-409">Namespace: <xref:System.Runtime.InteropServices></span></span>

<span data-ttu-id="09ff8-410">Montaż: mscorlib (w mscorlib.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-410">Assembly: mscorlib (in mscorlib.dll)</span></span>

| <span data-ttu-id="09ff8-411">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-411">Feature</span></span> | <span data-ttu-id="09ff8-412">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-412">Differences from 3.5 SP1</span></span> | <span data-ttu-id="09ff8-413">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="09ff8-413">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="09ff8-414">**Długość buforu** (niezarządzany interfejs API)</span><span class="sxs-lookup"><span data-stu-id="09ff8-414">**Buffer length** (unmanaged API)</span></span> | <span data-ttu-id="09ff8-415">Aby zapisać pamięć, funkcja `pBufferLengthOffset` parametru [dla metody ICorProfilerInfo2::GetStringLayout](../unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method.md) została `pStringLengthOffset` zmieniona w celu dopasowania do parametru.</span><span class="sxs-lookup"><span data-stu-id="09ff8-415">To save memory, the functionality for the `pBufferLengthOffset` parameter for the [ICorProfilerInfo2::GetStringLayout](../unmanaged-api/profiling/icorprofilerinfo2-getstringlayout-method.md) method has been changed to match the `pStringLengthOffset` parameter.</span></span> <span data-ttu-id="09ff8-416">Oba parametry wskazują teraz położenie odsunięcia długości ciągu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-416">Both parameters now point to the offset location of the string's length.</span></span> <span data-ttu-id="09ff8-417">Długość buforu została usunięta z reprezentacji klasy ciągu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-417">Buffer length has been removed from the representation of the string class.</span></span> | <span data-ttu-id="09ff8-418">Usuń wszelkie zależności od długości buforu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-418">Remove any dependency on the buffer length.</span></span> |
| <span data-ttu-id="09ff8-419">**Debugowanie JIT**</span><span class="sxs-lookup"><span data-stu-id="09ff8-419">**JIT debugging**</span></span> | <span data-ttu-id="09ff8-420">Aby uprościć rejestrację debugowania just-in-time (JIT), debuger .NET Framework używa teraz tylko klucza rejestru AeDebug, który kontroluje zachowanie debugowania JIT dla kodu macierzystego.</span><span class="sxs-lookup"><span data-stu-id="09ff8-420">To simplify registration for just-in-time (JIT) debugging, the .NET Framework debugger now uses only the AeDebug registry key, which controls the JIT debugging behavior for native code.</span></span> <span data-ttu-id="09ff8-421">Ta zmiana powoduje, że:</span><span class="sxs-lookup"><span data-stu-id="09ff8-421">This change results in the following:</span></span><br><br><span data-ttu-id="09ff8-422">\* Nie można już zarejestrować dwa różne debugery dla kodu zarządzanego i natywnego.</span><span class="sxs-lookup"><span data-stu-id="09ff8-422">\* You can no longer register two different debuggers for managed and native code.</span></span><br><span data-ttu-id="09ff8-423">\* Nie można już automatycznie uruchomić debugera dla procesu nieinteraktywnego, ale można monitować użytkownika o interaktywny proces.</span><span class="sxs-lookup"><span data-stu-id="09ff8-423">\* You can no longer start the debugger automatically for a non-interactive process, but you can prompt the user for an interactive process.</span></span><br><span data-ttu-id="09ff8-424">\* Nie są już powiadamiane, gdy debuger nie można uruchomić lub gdy nie ma zarejestrowanego debugera, który powinien zostać uruchomiony.</span><span class="sxs-lookup"><span data-stu-id="09ff8-424">\* You are no longer notified when the debugger fails to start, or when there is no registered debugger that should be started.</span></span><br><span data-ttu-id="09ff8-425">\* Zasady automatycznego uruchamiania, które zależą od interaktywności aplikacji, nie są już obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="09ff8-425">\* Auto-launch policies that depend on the interactivity of the application are no longer supported.</span></span> | <span data-ttu-id="09ff8-426">Dostosuj operacje debugowania zgodnie z wymaganiami.</span><span class="sxs-lookup"><span data-stu-id="09ff8-426">Adjust debugging operations as required.</span></span> |
| <span data-ttu-id="09ff8-427">**Wywołanie platformy**</span><span class="sxs-lookup"><span data-stu-id="09ff8-427">**Platform invoke**</span></span> | <span data-ttu-id="09ff8-428">Aby zwiększyć wydajność w współdziałanie z kodem niezarządzanym, niepoprawne konwencje wywoływania w platformie wywołać teraz spowodować niepowodzenie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="09ff8-428">To improve performance in interoperability with unmanaged code, incorrect calling conventions in a platform invoke now cause the application to fail.</span></span> <span data-ttu-id="09ff8-429">W poprzednich wersjach warstwy organizowania rozwiązać te błędy w górę stosu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-429">In previous versions, the marshaling layer resolved these errors up the stack.</span></span> | <span data-ttu-id="09ff8-430">Debugowanie aplikacji w programie Microsoft Visual Studio ostrzega o tych błędach, dzięki czemu można je poprawić.</span><span class="sxs-lookup"><span data-stu-id="09ff8-430">Debugging your applications in Microsoft Visual Studio alerts you to these errors so you can correct them.</span></span><br><br><span data-ttu-id="09ff8-431">Jeśli masz pliki binarne, które nie mogą być aktualizowane, można dołączyć [ \<NetFx40_PInvokeStackResilience>](../configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element.md) element w pliku konfiguracji aplikacji, aby umożliwić wywoływanie błędów, które mają być rozwiązane stosu, jak we wcześniejszych wersjach.</span><span class="sxs-lookup"><span data-stu-id="09ff8-431">If you have binaries that cannot be updated, you can include the [\<NetFx40_PInvokeStackResilience>](../configure-apps/file-schema/runtime/netfx40-pinvokestackresilience-element.md) element in your application's configuration file to enable calling errors to be resolved up the stack as in earlier versions.</span></span> <span data-ttu-id="09ff8-432">Może to jednak wpłynąć na wydajność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="09ff8-432">However, this may affect the performance of your application.</span></span> |
| <span data-ttu-id="09ff8-433">**Usunięto interfejsy** (niezarządzany interfejs API)</span><span class="sxs-lookup"><span data-stu-id="09ff8-433">**Removed interfaces** (unmanaged API)</span></span> | <span data-ttu-id="09ff8-434">Aby uniknąć nieporozumień dewelopera, następujące interfejsy zostały usunięte, ponieważ nie dostarczyły żadnych przydatnych scenariuszy w czasie wykonywania, a program CLR nie dostarczył ani nie zaakceptował żadnych implementacji:</span><span class="sxs-lookup"><span data-stu-id="09ff8-434">To avoid developer confusion, the following interfaces were removed, because they did not provide any useful run-time scenarios, and the CLR did not provide or accept any implementations:</span></span><br><br><span data-ttu-id="09ff8-435">\* **INativeImageINativeImageZależność**</span><span class="sxs-lookup"><span data-stu-id="09ff8-435">\* **INativeImageINativeImageDependency**</span></span><br><span data-ttu-id="09ff8-436">\* **INativeImageInstallInfo**</span><span class="sxs-lookup"><span data-stu-id="09ff8-436">\* **INativeImageInstallInfo**</span></span><br><span data-ttu-id="09ff8-437">\* **INativeImageEwartuate**</span><span class="sxs-lookup"><span data-stu-id="09ff8-437">\* **INativeImageEvaluate**</span></span><br><span data-ttu-id="09ff8-438">\* **INativeImageKonwerter**</span><span class="sxs-lookup"><span data-stu-id="09ff8-438">\* **INativeImageConverter**</span></span><br><span data-ttu-id="09ff8-439">\* **ICorModule**</span><span class="sxs-lookup"><span data-stu-id="09ff8-439">\* **ICorModule**</span></span><br><span data-ttu-id="09ff8-440">\* **IMetaDataKonwerter**</span><span class="sxs-lookup"><span data-stu-id="09ff8-440">\* **IMetaDataConverter**</span></span> | <span data-ttu-id="09ff8-441">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-441">None.</span></span> |

## <a name="data"></a><span data-ttu-id="09ff8-442">Dane</span><span class="sxs-lookup"><span data-stu-id="09ff8-442">Data</span></span>

<span data-ttu-id="09ff8-443">W tej sekcji opisano problemy z migracją przy użyciu zestawów danych i klientów SQL, entity framework, LINQ do SQL i WCF Serwery danych (dawniej znany jako ADO.NET usług danych).</span><span class="sxs-lookup"><span data-stu-id="09ff8-443">This section describes migration issues for using data sets and SQL clients, the Entity Framework, LINQ to SQL, and WCF Data Servers (formerly known as ADO.NET Data Services).</span></span>

### <a name="dataset-and-sql-client"></a><span data-ttu-id="09ff8-444">Zestaw danych i klient SQL</span><span class="sxs-lookup"><span data-stu-id="09ff8-444">DataSet and SQL Client</span></span>

<span data-ttu-id="09ff8-445">W poniższej tabeli opisano ulepszenia funkcji, które wcześniej miały ograniczenia lub inne problemy.</span><span class="sxs-lookup"><span data-stu-id="09ff8-445">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="09ff8-446">Przestrzenie <xref:System.Data>nazw: <xref:System.Data.Objects.DataClasses>, ,<xref:System.Data.SqlClient></span><span class="sxs-lookup"><span data-stu-id="09ff8-446">Namespaces: <xref:System.Data>, <xref:System.Data.Objects.DataClasses>, <xref:System.Data.SqlClient></span></span>

<span data-ttu-id="09ff8-447">Zestawy: System.Data (w System.Data.dll), System.Data.Entity (w System.Data.Entity.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-447">Assemblies: System.Data (in System.Data.dll), System.Data.Entity (in System.Data.Entity.dll)</span></span>

| <span data-ttu-id="09ff8-448">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-448">Feature</span></span> | <span data-ttu-id="09ff8-449">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-449">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="09ff8-450">**Scenariusze POCO**</span><span class="sxs-lookup"><span data-stu-id="09ff8-450">**POCO Scenarios**</span></span> | <span data-ttu-id="09ff8-451">Interfejs <xref:System.Data.Objects.DataClasses.IRelatedEnd> ma nowe metody, aby poprawić jego użyteczność w zwykły stary obiekt CLR (POCO) scenariusze.</span><span class="sxs-lookup"><span data-stu-id="09ff8-451">The <xref:System.Data.Objects.DataClasses.IRelatedEnd> interface has new methods to improve its usability in Plain Old CLR Object (POCO) scenarios.</span></span> <span data-ttu-id="09ff8-452">Te nowe metody <xref:System.Object> wziąć zamiast <xref:System.Data.Objects.DataClasses.IEntityWithRelationships> jednostki jako parametr.</span><span class="sxs-lookup"><span data-stu-id="09ff8-452">These new methods take an <xref:System.Object> instead of an <xref:System.Data.Objects.DataClasses.IEntityWithRelationships> entity as a parameter.</span></span> |
| <span data-ttu-id="09ff8-453">**Edytowanie wierszy**</span><span class="sxs-lookup"><span data-stu-id="09ff8-453">**Editing Rows**</span></span> | <span data-ttu-id="09ff8-454">Metoda, <xref:System.Collections.IList.IndexOf%2A> zaimplementowana <xref:System.Data.DataView> przez klasę, teraz poprawnie zwraca wartość wiersza, który jest edytowany, zamiast zwracać -1.</span><span class="sxs-lookup"><span data-stu-id="09ff8-454">The <xref:System.Collections.IList.IndexOf%2A> method, as implemented by the <xref:System.Data.DataView> class, now correctly returns the value of a row that is being edited, instead of returning -1.</span></span> |
| <span data-ttu-id="09ff8-455">**Zdarzenia**</span><span class="sxs-lookup"><span data-stu-id="09ff8-455">**Events**</span></span> | <span data-ttu-id="09ff8-456">Zdarzenie <xref:System.Data.DataRowView.PropertyChanged> jest teraz wywoływane, gdy wiersz jest <xref:System.Data.DataRow.RejectChanges%2A> w stanie zmodyfikowanym i metoda jest wywoływana.</span><span class="sxs-lookup"><span data-stu-id="09ff8-456">The <xref:System.Data.DataRowView.PropertyChanged> event is now raised when a row is in a modified state and the <xref:System.Data.DataRow.RejectChanges%2A> method is called.</span></span> <span data-ttu-id="09ff8-457">Ta zmiana ułatwia tworzenie formantów interfejsu użytkownika, <xref:System.Data.DataSet> które ujawniają zawartość obiektu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-457">This change makes it easier to create UI controls that expose the contents of a <xref:System.Data.DataSet> object.</span></span> |
| <span data-ttu-id="09ff8-458">**Wyjątki**</span><span class="sxs-lookup"><span data-stu-id="09ff8-458">**Exceptions**</span></span> | <span data-ttu-id="09ff8-459">Metoda <xref:System.Data.SqlClient.SqlCommand.Prepare%2A> teraz <xref:System.InvalidOperationException> zgłasza, gdy połączenie nie jest ustawione lub <xref:System.NullReferenceException>otwarte zamiast .</span><span class="sxs-lookup"><span data-stu-id="09ff8-459">The <xref:System.Data.SqlClient.SqlCommand.Prepare%2A> method now throws an <xref:System.InvalidOperationException> when a connection is not set or open instead of a <xref:System.NullReferenceException>.</span></span> |
| <span data-ttu-id="09ff8-460">**Widoki mapowania**</span><span class="sxs-lookup"><span data-stu-id="09ff8-460">**Mapping Views**</span></span> | <span data-ttu-id="09ff8-461">Błędy mapowania widoku kwerendy są teraz przechwytywanie <xref:System.NullReferenceException> w czasie projektowania zamiast rzucania w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-461">Query view mapping errors are now caught at design time instead of throwing a <xref:System.NullReferenceException> at run time.</span></span><br><br><span data-ttu-id="09ff8-462">Sprawdzanie poprawności mapowania teraz przechwytuje błąd, w którym dwa zestawy skojarzeń w schemacie koncepcyjnym (CSDL) są mapowane do tej samej kolumny.</span><span class="sxs-lookup"><span data-stu-id="09ff8-462">Mapping validation now catches the error in which two association sets in Conceptual Schema (CSDL) are mapped to the same column.</span></span> |
| <span data-ttu-id="09ff8-463">**Transakcje**</span><span class="sxs-lookup"><span data-stu-id="09ff8-463">**Transactions**</span></span> | <span data-ttu-id="09ff8-464">Jeśli aplikacja próbuje wykonać instrukcję na połączenie po zakończeniu transakcji (w tym przerwane lub wycofane), jest <xref:System.InvalidOperationException> teraz generowany.</span><span class="sxs-lookup"><span data-stu-id="09ff8-464">If an application tries to execute a statement on a connection after a transaction has been completed (including aborted or rolled back), an <xref:System.InvalidOperationException> is now thrown.</span></span> <span data-ttu-id="09ff8-465">Poprzednie wersje nie zgłaszały wyjątku i umożliwiają wykonywanie dodatkowych poleceń, nawet jeśli transakcja została przerwana.</span><span class="sxs-lookup"><span data-stu-id="09ff8-465">Previous versions did not throw an exception and let you execute additional commands even if a transaction was aborted.</span></span> |

### <a name="entity-framework"></a><span data-ttu-id="09ff8-466">Entity Framework</span><span class="sxs-lookup"><span data-stu-id="09ff8-466">Entity Framework</span></span>

<span data-ttu-id="09ff8-467">W poniższej tabeli opisano ulepszenia funkcji, które wcześniej miały ograniczenia lub inne problemy.</span><span class="sxs-lookup"><span data-stu-id="09ff8-467">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="09ff8-468">Przestrzenie <xref:System.Data>nazw: <xref:System.Data.Objects>, ,<xref:System.Data.Objects.DataClasses></span><span class="sxs-lookup"><span data-stu-id="09ff8-468">Namespaces: <xref:System.Data>, <xref:System.Data.Objects>, <xref:System.Data.Objects.DataClasses></span></span>

<span data-ttu-id="09ff8-469">Zestawy: System.Data.Entity (w system.data.entity.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-469">Assemblies: System.Data.Entity (in System.Data.Entity.dll)</span></span>

| <span data-ttu-id="09ff8-470">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-470">Feature</span></span> | <span data-ttu-id="09ff8-471">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-471">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="09ff8-472">**Obiekty encji**</span><span class="sxs-lookup"><span data-stu-id="09ff8-472">**Entity objects**</span></span> | <span data-ttu-id="09ff8-473">Istnieje teraz parzystość między <xref:System.Data.Objects.ObjectContext.Detach%2A> metodą a stanem obiektu jednostki, gdy <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> wywoływana jest metoda.</span><span class="sxs-lookup"><span data-stu-id="09ff8-473">There is now parity between the <xref:System.Data.Objects.ObjectContext.Detach%2A> method and the state of the entity object when the <xref:System.Data.Objects.ObjectContext.SaveChanges%2A> method is called.</span></span> <span data-ttu-id="09ff8-474">Ta ulepszona spójność zapobiega zgłaszaniu nieoczekiwanych wyjątków.</span><span class="sxs-lookup"><span data-stu-id="09ff8-474">This improved consistency prevents unexpected exceptions from being thrown.</span></span> |
| <span data-ttu-id="09ff8-475">**Entity SQL**</span><span class="sxs-lookup"><span data-stu-id="09ff8-475">**Entity SQL**</span></span> | <span data-ttu-id="09ff8-476">Udoskonalono reguły rozpoznawania identyfikatorów w programie Entity SQL.</span><span class="sxs-lookup"><span data-stu-id="09ff8-476">Rules have been improved for identifier resolutions in Entity SQL.</span></span><br><br><span data-ttu-id="09ff8-477">Analizator SQL jednostki udoskonalił logikę rozpoznawania identyfikatorów wieloczęściowych.</span><span class="sxs-lookup"><span data-stu-id="09ff8-477">The Entity SQL parser has improved logic for resolving multipart identifiers.</span></span> |
| <span data-ttu-id="09ff8-478">**Adnotacje strukturalne**</span><span class="sxs-lookup"><span data-stu-id="09ff8-478">**Structural annotations**</span></span> | <span data-ttu-id="09ff8-479">Entity Framework rozpoznaje teraz adnotacje strukturalne.</span><span class="sxs-lookup"><span data-stu-id="09ff8-479">The Entity Framework now recognizes structural annotations.</span></span> |
| <span data-ttu-id="09ff8-480">**Zapytania**</span><span class="sxs-lookup"><span data-stu-id="09ff8-480">**Queries**</span></span> | <span data-ttu-id="09ff8-481">Następujące ulepszenia zostały wprowadzone w zapytaniach:</span><span class="sxs-lookup"><span data-stu-id="09ff8-481">The following improvements were made in queries:</span></span><br><br><span data-ttu-id="09ff8-482">\* `GroupBy` Kwerenda używająca klucza zerowego nad pustą kolekcją nie zwróci żadnych wierszy, niezależnie od tego, czy w kwerendzie znajdują się dodatkowe zaznaczenia.</span><span class="sxs-lookup"><span data-stu-id="09ff8-482">\* A `GroupBy` query using a null key over an empty collection will not return any rows, regardless if there are any additional selects in the query.</span></span><br><span data-ttu-id="09ff8-483">\* Wygenerowane SQL w LINQ i Entity-SQL kwerendy teraz traktować parametry ciągu jako wartości innych niż Unicode domyślnie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-483">\* Generated SQL in LINQ and Entity-SQL queries now treat string parameters as non-Unicode values by default.</span></span> |

### <a name="linq-to-sql"></a><span data-ttu-id="09ff8-484">LINQ to SQL</span><span class="sxs-lookup"><span data-stu-id="09ff8-484">LINQ to SQL</span></span>

<span data-ttu-id="09ff8-485">W poniższej tabeli opisano ulepszenia funkcji, które wcześniej miały ograniczenia lub inne problemy.</span><span class="sxs-lookup"><span data-stu-id="09ff8-485">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="09ff8-486">Namespace:<xref:System.Data.Linq></span><span class="sxs-lookup"><span data-stu-id="09ff8-486">Namespace: <xref:System.Data.Linq></span></span>

<span data-ttu-id="09ff8-487">Montaż: System.Data.Linq (w System.Data.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-487">Assembly: System.Data.Linq (in System.Data.Linq.dll)</span></span>

| <span data-ttu-id="09ff8-488">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-488">Feature</span></span> | <span data-ttu-id="09ff8-489">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-489">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="09ff8-490">**Zdarzenia**</span><span class="sxs-lookup"><span data-stu-id="09ff8-490">**Events**</span></span> | <span data-ttu-id="09ff8-491">Kolekcja <xref:System.Data.Linq.EntitySet%601> teraz wywołuje <xref:System.Data.Linq.EntitySet%601.ListChanged> zdarzenie do dodawania i <xref:System.Data.Linq.EntitySet%601> usuwania operacji, jeśli jest zwolniony, oprócz podnoszenia zdarzenia podczas ładowania kolekcji.</span><span class="sxs-lookup"><span data-stu-id="09ff8-491">A <xref:System.Data.Linq.EntitySet%601> collection now raises the <xref:System.Data.Linq.EntitySet%601.ListChanged> event for add and remove operations if the <xref:System.Data.Linq.EntitySet%601> is unloaded, in addition to raising the event when the collection is loaded.</span></span> |
| <span data-ttu-id="09ff8-492">**Zapytania**</span><span class="sxs-lookup"><span data-stu-id="09ff8-492">**Queries**</span></span> | <span data-ttu-id="09ff8-493">`Skip(0)`nie jest już ignorowana w LINQ do zapytań SQL.</span><span class="sxs-lookup"><span data-stu-id="09ff8-493">`Skip(0)` is no longer ignored in LINQ to SQL queries.</span></span> <span data-ttu-id="09ff8-494">W rezultacie kwerendy, które mają tę metodę może zachowywać się inaczej.</span><span class="sxs-lookup"><span data-stu-id="09ff8-494">As a result, queries that have this method might behave differently.</span></span> <span data-ttu-id="09ff8-495">Na przykład w niektórych `OrderBy` przypadkach klauzula `Skip(0)`jest wymagana z , <xref:System.NotSupportedException> a `OrderBy` kwerenda będzie teraz zgłaszać wyjątek, jeśli klauzula nie została uwzględniona.</span><span class="sxs-lookup"><span data-stu-id="09ff8-495">For example, in some cases, an `OrderBy` clause is required with `Skip(0)`, and the query will now throw a <xref:System.NotSupportedException> exception if the `OrderBy` clause was not included.</span></span> |

### <a name="wcf-data-services"></a><span data-ttu-id="09ff8-496">Usługi danych WCF</span><span class="sxs-lookup"><span data-stu-id="09ff8-496">WCF Data Services</span></span>

<span data-ttu-id="09ff8-497">W poniższej tabeli opisano ulepszenia funkcji, które wcześniej miały ograniczenia lub inne problemy.</span><span class="sxs-lookup"><span data-stu-id="09ff8-497">The following table describes improvements to features that previously had limitations or other issues.</span></span>

<span data-ttu-id="09ff8-498">Przestrzenie <xref:System.Data.Services>nazw: <xref:System.Data.Services.Client> <xref:System.Data.Services.Common>, , ,<xref:System.Data.Services.Providers></span><span class="sxs-lookup"><span data-stu-id="09ff8-498">Namespaces: <xref:System.Data.Services>, <xref:System.Data.Services.Client>, <xref:System.Data.Services.Common>, <xref:System.Data.Services.Providers></span></span>

<span data-ttu-id="09ff8-499">Zestawy: System.Data.Services (w System.Data.Services.dll), System.Data.Services.Client (w System.Data.Services.Client.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-499">Assemblies: System.Data.Services (in System.Data.Services.dll), System.Data.Services.Client (in System.Data.Services.Client.dll)</span></span>

| <span data-ttu-id="09ff8-500">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-500">Feature</span></span> | <span data-ttu-id="09ff8-501">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-501">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="09ff8-502">**Wsadowe treści binarne**</span><span class="sxs-lookup"><span data-stu-id="09ff8-502">**Batched Binary Content**</span></span> | <span data-ttu-id="09ff8-503">Usługi danych WCF obsługuje teraz wsadowej zawartości binarnej w żądaniach i odpowiedziach.</span><span class="sxs-lookup"><span data-stu-id="09ff8-503">WCF Data Services now supports batched binary content in requests and responses.</span></span> |
| <span data-ttu-id="09ff8-504">**Zmienianie myśliwców przechwytujących**</span><span class="sxs-lookup"><span data-stu-id="09ff8-504">**Change interceptors**</span></span> | <span data-ttu-id="09ff8-505">Zmieniaj interceptory są teraz wykonywane dla żądania usunięcia.</span><span class="sxs-lookup"><span data-stu-id="09ff8-505">Change interceptors are now executed for a delete request.</span></span><br><br><span data-ttu-id="09ff8-506">Interceptor zmiany jest metodą, która jest uruchamiana za każdym razem, gdy żądanie jest odbierane przez serwer, aby zmodyfikować jednostkę w zestawie jednostek.</span><span class="sxs-lookup"><span data-stu-id="09ff8-506">A change interceptor is a method that runs every time a request is received by the server to modify an entity in the entity set.</span></span> <span data-ttu-id="09ff8-507">Jest uruchamiany przed wykonaniem żądania przychodzącego.</span><span class="sxs-lookup"><span data-stu-id="09ff8-507">It runs before the incoming request is executed.</span></span> <span data-ttu-id="09ff8-508">Interceptor zmiany zapewnia dostęp do jednostki, która jest zmieniana i operacji, która jest wykonywana na nim.</span><span class="sxs-lookup"><span data-stu-id="09ff8-508">The change interceptor provides access to the entity that is being changed and the operation that is being performed on it.</span></span> |
| <span data-ttu-id="09ff8-509">**Wyjątki**</span><span class="sxs-lookup"><span data-stu-id="09ff8-509">**Exceptions**</span></span> | <span data-ttu-id="09ff8-510">Następujące warunki zgłaszają teraz bardziej przydatne wyjątki <xref:System.NullReferenceException>zamiast:</span><span class="sxs-lookup"><span data-stu-id="09ff8-510">The following conditions now throw more useful exceptions instead of a <xref:System.NullReferenceException>:</span></span><br><br><span data-ttu-id="09ff8-511">\* <xref:System.ServiceProcess.TimeoutException> A po przesiądeniu czasu połączenia z usługą danych.</span><span class="sxs-lookup"><span data-stu-id="09ff8-511">\* A <xref:System.ServiceProcess.TimeoutException> when a call to a data service times out.</span></span><br><span data-ttu-id="09ff8-512">\* <xref:System.Data.Services.Client.DataServiceRequestException> A, gdy złe żądanie jest dokonywane do usługi danych.</span><span class="sxs-lookup"><span data-stu-id="09ff8-512">\* A <xref:System.Data.Services.Client.DataServiceRequestException> when a bad request is made to a data service.</span></span><br><br><span data-ttu-id="09ff8-513">W aplikacjach należy zmienić obsługę wyjątków, aby przechwyć nowe wyjątki.</span><span class="sxs-lookup"><span data-stu-id="09ff8-513">In your applications, you should change exception handling to catch the new exceptions.</span></span> |
| <span data-ttu-id="09ff8-514">**Nagłówki**</span><span class="sxs-lookup"><span data-stu-id="09ff8-514">**Headers**</span></span> | <span data-ttu-id="09ff8-515">W nagłówkach wprowadzono następujące ulepszenia:</span><span class="sxs-lookup"><span data-stu-id="09ff8-515">The following improvements were made to headers:</span></span><br><br><span data-ttu-id="09ff8-516">\* Usługi danych WCF teraz `eTag` poprawnie odrzuca nagłówek, który ma nieokreśloną wartość.</span><span class="sxs-lookup"><span data-stu-id="09ff8-516">\* WCF Data Services now correctly rejects an `eTag` header that has an unspecified value.</span></span><br><span data-ttu-id="09ff8-517">\* Usługi danych WCF zwraca teraz błąd i nie wykonuje żądania usunięcia `if-*` żądania do łącza, gdy nagłówek jest w żądaniu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-517">\* WCF Data Services now returns an error and does not execute the request for a delete request to a link when an `if-*` header is in the request.</span></span><br><span data-ttu-id="09ff8-518">\* Usługi danych WCF zwraca teraz błąd do klienta w formacie (Atom, JSON), który klient określony w nagłówku Akceptuj.</span><span class="sxs-lookup"><span data-stu-id="09ff8-518">\* WCF Data Services now returns an error to the client in the format (Atom, JSON) that the client specified in the Accept header.</span></span> |
| <span data-ttu-id="09ff8-519">**Czytnik JSON**</span><span class="sxs-lookup"><span data-stu-id="09ff8-519">**JSON Reader**</span></span> | <span data-ttu-id="09ff8-520">Czytnik notacji obiektu JavaScript (JSON) zwraca teraz poprawnie błąd podczas odczytywania pojedynczego znaku ucieczki ukośnika odwrotnego ("\\") podczas przetwarzania ładunków JSON wysyłanych do usługi danych WCF.</span><span class="sxs-lookup"><span data-stu-id="09ff8-520">The JavaScript Object Notation (JSON) reader now correctly returns an error when it reads the single backslash ("\\") escape character, when it processes JSON payloads sent to a WCF Data Service.</span></span> |
| <span data-ttu-id="09ff8-521">**Scala**</span><span class="sxs-lookup"><span data-stu-id="09ff8-521">**Merges**</span></span> | <span data-ttu-id="09ff8-522">Następujące ulepszenia zostały wprowadzone <xref:System.Data.Services.Client.MergeOption> do wyliczenia:</span><span class="sxs-lookup"><span data-stu-id="09ff8-522">The following improvements were made to the <xref:System.Data.Services.Client.MergeOption> enumeration:</span></span><br><br><span data-ttu-id="09ff8-523">\* <xref:System.Data.Services.Client.MergeOption> Opcja scalania nie modyfikuje już jednostki na kliencie w wyniku późniejszej odpowiedzi z usługi danych.</span><span class="sxs-lookup"><span data-stu-id="09ff8-523">\* The <xref:System.Data.Services.Client.MergeOption> merge option no longer modifies the entity on the client as a result of any subsequent response from a data service.</span></span><br><span data-ttu-id="09ff8-524">\* <xref:System.Data.Services.Client.MergeOption> Opcja jest teraz spójna między dynamicznymi aktualizacjami SQL i opartymi na procedurach składowanych.</span><span class="sxs-lookup"><span data-stu-id="09ff8-524">\* The <xref:System.Data.Services.Client.MergeOption> option is now consistent between dynamic SQL and stored procedure-based updates.</span></span> |
| <span data-ttu-id="09ff8-525">**Żądania**</span><span class="sxs-lookup"><span data-stu-id="09ff8-525">**Requests**</span></span> | <span data-ttu-id="09ff8-526">Metoda <xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A> jest teraz wywoływana przed przetworzeniem żądania do usług danych.</span><span class="sxs-lookup"><span data-stu-id="09ff8-526">The <xref:System.Data.Services.DataService%601.OnStartProcessingRequest%2A> method is now called before a request to data services is processed.</span></span> <span data-ttu-id="09ff8-527">Dzięki temu żądanie działa <xref:System.Data.Services.Providers.ServiceOperation> poprawnie dla usług.</span><span class="sxs-lookup"><span data-stu-id="09ff8-527">This enables the request to work correctly for <xref:System.Data.Services.Providers.ServiceOperation> services.</span></span> |
| <span data-ttu-id="09ff8-528">**Strumienie**</span><span class="sxs-lookup"><span data-stu-id="09ff8-528">**Streams**</span></span> | <span data-ttu-id="09ff8-529">Usługi WCF Data Services nie zamyka już podstawowy strumień dla operacji odczytu i zapisu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-529">WCF Data Services no longer closes the underlying stream for read and write operations.</span></span> |
| <span data-ttu-id="09ff8-530">**Identyfikatory URI**</span><span class="sxs-lookup"><span data-stu-id="09ff8-530">**URIs**</span></span> | <span data-ttu-id="09ff8-531">Poprawiono ucieczkę identyfikatorów URI przez klienta usług danych WCF.</span><span class="sxs-lookup"><span data-stu-id="09ff8-531">The escaping of URIs by WCF Data Services client has been corrected.</span></span> |

## <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="09ff8-532">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="09ff8-532">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="09ff8-533">W poniższej tabeli opisano ulepszenia funkcji, które wcześniej miały ograniczenia lub inne problemy.</span><span class="sxs-lookup"><span data-stu-id="09ff8-533">The following table describes improvements to features that previously had limitations or other issues.</span></span>

| <span data-ttu-id="09ff8-534">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-534">Feature</span></span> | <span data-ttu-id="09ff8-535">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-535">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="09ff8-536">**Pliki konfiguracyjne**</span><span class="sxs-lookup"><span data-stu-id="09ff8-536">**Configuration files**</span></span> | <span data-ttu-id="09ff8-537">Aby włączyć dziedziczenie zachowań za pośrednictwem hierarchii plików konfiguracji, WCF obsługuje teraz scalanie między plikami konfiguracyjnymi.</span><span class="sxs-lookup"><span data-stu-id="09ff8-537">To enable inheritance of behaviors through the configuration file hierarchy, WCF now supports merging across configuration files.</span></span><br><br><span data-ttu-id="09ff8-538">Model dziedziczenia konfiguracji jest teraz rozwinięty, aby umożliwić użytkownikom definiowanie zachowań, które zostaną zastosowane do wszystkich usług, które są uruchomione na komputerze.</span><span class="sxs-lookup"><span data-stu-id="09ff8-538">The configuration inheritance model is now expanded to let users define behaviors that will be applied to all the services that are running on the computer.</span></span><br><br><span data-ttu-id="09ff8-539">Zmiany w zachowaniu mogą wystąpić, jeśli istnieją zachowania o tej samej nazwie na różnych poziomach hierarchii.</span><span class="sxs-lookup"><span data-stu-id="09ff8-539">You may encounter behavioral changes if there are behaviors with the same name at different levels of the hierarchy.</span></span> |
| <span data-ttu-id="09ff8-540">**Hosting usług**</span><span class="sxs-lookup"><span data-stu-id="09ff8-540">**Service hosting**</span></span> | <span data-ttu-id="09ff8-541">Nie można już `<serviceHostingEnvironment>` określić elementu konfiguracji na poziomie `allowDefinition="MachineToApplication"` usługi, dodając atrybut do definicji elementu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-541">You can no longer specify the `<serviceHostingEnvironment>` configuration element at the service level by adding the attribute `allowDefinition="MachineToApplication"` to the element definition.</span></span><br><br><span data-ttu-id="09ff8-542">Określanie `<serviceHostingEnvironment>` elementu na poziomie usługi jest technicznie niepoprawne i powoduje niespójne zachowanie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-542">Specifying the `<serviceHostingEnvironment>` element at the service level is technically incorrect and causes inconsistent behavior.</span></span> |

## <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="09ff8-543">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="09ff8-543">Windows Presentation Foundation (WPF)</span></span>

### <a name="applications"></a><span data-ttu-id="09ff8-544">Aplikacje</span><span class="sxs-lookup"><span data-stu-id="09ff8-544">Applications</span></span>

<span data-ttu-id="09ff8-545">Przestrzenie nazw: <xref:System.Windows>,<xref:System.Windows.Controls></span><span class="sxs-lookup"><span data-stu-id="09ff8-545">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls></span></span>

<span data-ttu-id="09ff8-546">Zestawy: PresentationFramework (w presentationframework.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-546">Assemblies: PresentationFramework (in PresentationFramework.dll)</span></span>

| <span data-ttu-id="09ff8-547">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-547">Feature</span></span> | <span data-ttu-id="09ff8-548">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-548">Differences from 3.5 SP1</span></span> | <span data-ttu-id="09ff8-549">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="09ff8-549">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="09ff8-550">**Obsługa wyjątków**</span><span class="sxs-lookup"><span data-stu-id="09ff8-550">**Exception handling**</span></span> | <span data-ttu-id="09ff8-551">Aby włączyć błędy, które mają być wykryte <xref:System.Reflection.TargetInvocationException> wcześniej, <xref:System.Exception.InnerException> WPF zgłasza i <xref:System.NullReferenceException>ustawia <xref:System.OutOfMemoryException> <xref:System.StackOverflowException>właściwość <xref:System.Security.SecurityException>na wyjątki krytyczne, takie jak , , i , zamiast przechwytywania oryginalnego wyjątku.</span><span class="sxs-lookup"><span data-stu-id="09ff8-551">To enable errors to be detected earlier, WPF throws a <xref:System.Reflection.TargetInvocationException> and sets the <xref:System.Exception.InnerException> property to critical exceptions, such as <xref:System.NullReferenceException>, <xref:System.OutOfMemoryException>, <xref:System.StackOverflowException>, and <xref:System.Security.SecurityException>, instead of catching the original exception.</span></span> | <span data-ttu-id="09ff8-552">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-552">None.</span></span> |
| <span data-ttu-id="09ff8-553">**Połączone zasoby**</span><span class="sxs-lookup"><span data-stu-id="09ff8-553">**Linked resources**</span></span> | <span data-ttu-id="09ff8-554">Aby ułatwić łączenie, pliki zasobów (takie jak obrazy), które znajdują się w lokalizacji innej niż struktura folderów projektu, użyj pełnej ścieżki pliku zasobów, a nie tylko jego nazwy pliku jako identyfikatora zasobu podczas tworzenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="09ff8-554">To make linking easier, resource files (such as images) that are located in a location other than the project's folder structure use the resource file's full path instead of just its file name as the resource ID when the application is built.</span></span> <span data-ttu-id="09ff8-555">Aplikacja będzie mogła zlokalizować pliki w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-555">The application will be able to locate the files at run time.</span></span> | <span data-ttu-id="09ff8-556">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-556">None.</span></span> |
| <span data-ttu-id="09ff8-557">**Aplikacje częściowego zaufania**</span><span class="sxs-lookup"><span data-stu-id="09ff8-557">**Partial-trust applications**</span></span> | <span data-ttu-id="09ff8-558">Ze względów bezpieczeństwa aplikacje oparte na systemie <xref:System.Windows.Controls.WebBrowser> Windows, <xref:System.Windows.Controls.Frame> które są uruchamiane <xref:System.Security.SecurityException> w częściowym zaufaniu i zawierają formant lub formant zawierający kod HTML, będą zgłaszać podczas tworzenia formantu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-558">For security considerations, Windows-based applications that run in partial trust and contain a <xref:System.Windows.Controls.WebBrowser> control or a <xref:System.Windows.Controls.Frame> control that contains HTML will throw a <xref:System.Security.SecurityException> when the control is created.</span></span><br><br><span data-ttu-id="09ff8-559">Aplikacje przeglądarki zda wyjątek i wyświetli komunikat, jeśli spełnione są wszystkie następujące warunki:</span><span class="sxs-lookup"><span data-stu-id="09ff8-559">Browser applications will throw an exception and display a message if all of the following conditions are met:</span></span><br><br><span data-ttu-id="09ff8-560">\* Aplikacja działa w Firefoksie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-560">\* The application is running in Firefox.</span></span><br><span data-ttu-id="09ff8-561">\* Aplikacja działa w częściowym zaufaniu do strefy Internet z niezaufanych witryn.</span><span class="sxs-lookup"><span data-stu-id="09ff8-561">\* The application is running in partial trust in the Internet zone from non-trusted sites.</span></span><br><span data-ttu-id="09ff8-562">\* Aplikacja zawiera <xref:System.Windows.Controls.WebBrowser> formant <xref:System.Windows.Controls.Frame> lub formant, który zawiera kod HTML.</span><span class="sxs-lookup"><span data-stu-id="09ff8-562">\* The application contains a <xref:System.Windows.Controls.WebBrowser> control or a <xref:System.Windows.Controls.Frame> control that contains HTML.</span></span><br><br><span data-ttu-id="09ff8-563">Nie będzie to miało wpływu na aplikacje uruchamiane z zaufanych witryn lub ze strefy intranetowej.</span><span class="sxs-lookup"><span data-stu-id="09ff8-563">Applications that run from trusted sites or from the intranet zone will not be affected.</span></span> | <span data-ttu-id="09ff8-564">W aplikacjach przeglądarki można ułatwić tę zmianę, wykonując jedną z następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="09ff8-564">In your browser applications, you can ease this change by doing one of the following:</span></span><br><br><span data-ttu-id="09ff8-565">\* Uruchom aplikację przeglądarki w pełnym zaufaniu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-565">\* Run the browser application in full trust.</span></span><br><span data-ttu-id="09ff8-566">\* Niech klienci dodadzą witrynę aplikacji do strefy zaufanych witryn.</span><span class="sxs-lookup"><span data-stu-id="09ff8-566">\* Have customers add the application's site to the trusted sites zone.</span></span><br><span data-ttu-id="09ff8-567">\* Czy klienci uruchamiają aplikację w programie Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="09ff8-567">\* Have customers run the application in Internet Explorer.</span></span> |
| <span data-ttu-id="09ff8-568">**Słowniki zasobów**</span><span class="sxs-lookup"><span data-stu-id="09ff8-568">**Resource dictionaries**</span></span> | <span data-ttu-id="09ff8-569">Aby poprawić słowniki zasobów na poziomie motywu i zapobiec ich zmianie, zasoby, które są zdefiniowane w słowniku zasobów i scalone w słownik na poziomie motywu, są teraz zawsze oznaczane jako zamrożone i niezmienne.</span><span class="sxs-lookup"><span data-stu-id="09ff8-569">To improve theme-level resource dictionaries and prevent them from changing, freezable resources that are defined in a resource dictionary and merged into a theme-level dictionary are now always marked as frozen and are immutable.</span></span> <span data-ttu-id="09ff8-570">Jest to oczekiwane zachowanie dla zasobów freezable.</span><span class="sxs-lookup"><span data-stu-id="09ff8-570">This is the expected behavior for freezable resources.</span></span> | <span data-ttu-id="09ff8-571">Aplikacje modyfikując zasób, który jest zdefiniowany w słowniku scalonym na poziomie motywu należy sklonować zasób i zmodyfikować sklonowaną kopię.</span><span class="sxs-lookup"><span data-stu-id="09ff8-571">Applications that modify a resource that is defined in a theme-level merged dictionary should clone the resource and modify the cloned copy.</span></span> <span data-ttu-id="09ff8-572">Alternatywnie zasób można `x:Shared="false"` oznaczyć tak, aby <xref:System.Windows.ResourceDictionary> tworzy nową kopię za każdym razem, gdy zasób jest wyszukiwany.</span><span class="sxs-lookup"><span data-stu-id="09ff8-572">Alternatively, the resource can be marked `x:Shared="false"` so that the <xref:System.Windows.ResourceDictionary> creates a new copy every time the resource is queried.</span></span> |
| <span data-ttu-id="09ff8-573">**Windows 7**</span><span class="sxs-lookup"><span data-stu-id="09ff8-573">**Windows 7**</span></span> | <span data-ttu-id="09ff8-574">Aby aplikacje WPF działały lepiej w systemie Windows 7, wprowadzono następujące ulepszenia w celu skorygowania zachowania okna:</span><span class="sxs-lookup"><span data-stu-id="09ff8-574">To make WPF applications work better on Windows 7, the following improvements were made to correct the behavior of a window:</span></span><br><br><span data-ttu-id="09ff8-575">\* Stany dokującej i gestów działają teraz zgodnie z oczekiwaniami na podstawie interakcji użytkownika.</span><span class="sxs-lookup"><span data-stu-id="09ff8-575">\* Dock and gesture states now work as expected based on user interactions.</span></span><br><span data-ttu-id="09ff8-576">\* Polecenia paska zadań **Kaskada okna, Pokaż okna ułożone**i **Pokaż okna obok siebie** mają teraz poprawne zachowanie i zaktualizować odpowiednie właściwości.</span><span class="sxs-lookup"><span data-stu-id="09ff8-576">\* The taskbar commands **Cascade windows, Show windows stacked**, and **Show windows side-by-side** now have the correct behavior and update the appropriate properties.</span></span><br><span data-ttu-id="09ff8-577">\* `Top`Właściwości `Left` `Width` `Height` okna zmaksymalizowanego lub zminimalizowanego zawierają teraz prawidłową lokalizację przywracania okna zamiast innych wartości, w zależności od monitora.</span><span class="sxs-lookup"><span data-stu-id="09ff8-577">\* The `Top`, `Left`, `Width`, and `Height` properties for a maximized or minimized window now contain the correct restore location of the window instead of other values, depending on the monitor.</span></span> | <span data-ttu-id="09ff8-578">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-578">None.</span></span> |
| <span data-ttu-id="09ff8-579">**Styl i przezroczystość systemu Windows**</span><span class="sxs-lookup"><span data-stu-id="09ff8-579">**Windows style and transparency**</span></span> | <span data-ttu-id="09ff8-580">An <xref:System.InvalidOperationException> jest generowany, jeśli <xref:System.Windows.Window.WindowStyle> spróbujesz <xref:System.Windows.WindowStyle> ustawić <xref:System.Windows.Window.AllowsTransparency> `true` wartość <xref:System.Windows.WindowState> <xref:System.Windows.WindowState>inną niż kiedy jest i jest .</span><span class="sxs-lookup"><span data-stu-id="09ff8-580">An <xref:System.InvalidOperationException> is thrown if you try to set <xref:System.Windows.Window.WindowStyle> to a value other than <xref:System.Windows.WindowStyle> when <xref:System.Windows.Window.AllowsTransparency> is `true` and <xref:System.Windows.WindowState> is <xref:System.Windows.WindowState>.</span></span> | <span data-ttu-id="09ff8-581">Jeśli musisz <xref:System.Windows.Window.WindowStyle> zmienić <xref:System.Windows.Window.AllowsTransparency> `true`kiedy jest , można `SetWindowLongPtr` wywołać funkcję Win32.</span><span class="sxs-lookup"><span data-stu-id="09ff8-581">If you must change the <xref:System.Windows.Window.WindowStyle> when <xref:System.Windows.Window.AllowsTransparency> is `true`, you can call the Win32 `SetWindowLongPtr` function.</span></span> |
| <span data-ttu-id="09ff8-582">**Przeglądarka plików XPS**</span><span class="sxs-lookup"><span data-stu-id="09ff8-582">**XPS Viewer**</span></span> | <span data-ttu-id="09ff8-583">WPF WPF nie zawiera pakietu Essentials Pack (XPSEP) specyfikacji papieru Microsoft XML.</span><span class="sxs-lookup"><span data-stu-id="09ff8-583">WPF does not include the Microsoft XML Paper Specification Essentials Pack (XPSEP).</span></span> <span data-ttu-id="09ff8-584">XpSEP jest dołączony do systemów Windows 7 i Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="09ff8-584">XPSEP is included with Windows 7 and Windows Vista.</span></span><br><br><span data-ttu-id="09ff8-585">Na komputerze z systemem Windows XP bez zainstalowanego dodatku SP1 programu .NET Framework 3.5 drukowanie przy użyciu interfejsu API WPF innego niż te, które są dostępne, <xref:System.Windows.Controls.PrintDialog> będzie zależeć od usługi WINSPOOL.</span><span class="sxs-lookup"><span data-stu-id="09ff8-585">On a computer that is running Windows XP without .NET Framework 3.5 SP1 installed, printing by using a WPF API other than those in <xref:System.Windows.Controls.PrintDialog> will rely on the WINSPOOL.</span></span> <span data-ttu-id="09ff8-586">Niektóre funkcje drukarki nie zostaną zgłoszone, a niektóre ustawienia drukarki nie zostaną zastosowane podczas drukowania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-586">Some printer capabilities will not be reported and some printer settings will not be applied during printing.</span></span> | <span data-ttu-id="09ff8-587">W razie potrzeby zainstaluj pakiet [Essentials Pack specyfikacji papieru XML firmy Microsoft](https://www.microsoft.com/en-us/download/details.aspx?id=11816).</span><span class="sxs-lookup"><span data-stu-id="09ff8-587">If needed, install the [Microsoft XML Paper Specification Essentials Pack](https://www.microsoft.com/en-us/download/details.aspx?id=11816).</span></span> |

### <a name="controls"></a><span data-ttu-id="09ff8-588">Formanty</span><span class="sxs-lookup"><span data-stu-id="09ff8-588">Controls</span></span>

<span data-ttu-id="09ff8-589">Przestrzenie <xref:System.Windows>nazw: <xref:System.Windows.Controls> <xref:System.Windows.Data>, , ,<xref:System.Windows.Input></span><span class="sxs-lookup"><span data-stu-id="09ff8-589">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span></span>

<span data-ttu-id="09ff8-590">Zestawy: PresentationFramework (w PresentationFramework.dll), PresentationCore (w PresentationCore.dll), WindowsBase (w pliku WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-590">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="09ff8-591">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-591">Feature</span></span> | <span data-ttu-id="09ff8-592">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-592">Differences from 3.5 SP1</span></span> | <span data-ttu-id="09ff8-593">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="09ff8-593">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="09ff8-594">**Okien dialogowych**</span><span class="sxs-lookup"><span data-stu-id="09ff8-594">**Dialog boxes**</span></span> | <span data-ttu-id="09ff8-595">Aby zwiększyć niezawodność, <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> metoda jest wywoływana w <xref:Microsoft.Win32.FileDialog> tym samym wątku, który utworzył formant.</span><span class="sxs-lookup"><span data-stu-id="09ff8-595">To improve reliability, the <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> method is called on the same thread that created the <xref:Microsoft.Win32.FileDialog> control.</span></span> | <span data-ttu-id="09ff8-596">Pamiętaj, aby <xref:Microsoft.Win32.FileDialog> utworzyć formant <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> i wywołać metodę w tym samym wątku.</span><span class="sxs-lookup"><span data-stu-id="09ff8-596">Be sure to create a <xref:Microsoft.Win32.FileDialog> control and call the <xref:Microsoft.Win32.CommonDialog.ShowDialog%2A> method on the same thread.</span></span> |
| <span data-ttu-id="09ff8-597">**Okna pływające**</span><span class="sxs-lookup"><span data-stu-id="09ff8-597">**Floating windows**</span></span> | <span data-ttu-id="09ff8-598">Aby naprawić logikę przywracania fokusu, która niepoprawnie utrzymuje ponowne aktywowanie okna przestawnego (dzięki czemu wygląda jak modalne okno dialogowe), przywrócenie fokusu jest teraz zapobiegane, jeśli kandydat nie jest dziewiętnaskiem okna.</span><span class="sxs-lookup"><span data-stu-id="09ff8-598">To fix focus restoration logic that incorrectly keeps reactivating a floating window (making it appear like a modal dialog box), focus restoration is now prevented if the candidate is not a child of the window.</span></span> | <span data-ttu-id="09ff8-599">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-599">None.</span></span> |
| <span data-ttu-id="09ff8-600">**Przedmioty w kolekcjach**</span><span class="sxs-lookup"><span data-stu-id="09ff8-600">**Items in collections**</span></span> | <span data-ttu-id="09ff8-601">Gdy element jest przenoszony lub dodawany do <xref:System.Windows.Data.CollectionView> podstawowej kolekcji, <xref:System.Windows.Data.CollectionView> pojawia się w tej samej lokalizacji względnej, jeśli nie jest sortowany.</span><span class="sxs-lookup"><span data-stu-id="09ff8-601">When an item is moved or added to an underlying collection, it appears in the <xref:System.Windows.Data.CollectionView> in the same relative location if the <xref:System.Windows.Data.CollectionView> is not sorted.</span></span> <span data-ttu-id="09ff8-602">Zapewnia to spójność między położeniem elementu w kolekcji i w skojarzonym <xref:System.Windows.Data.CollectionView>.</span><span class="sxs-lookup"><span data-stu-id="09ff8-602">This provides consistency between the item's position in the collection and in the associated <xref:System.Windows.Data.CollectionView>.</span></span> | <span data-ttu-id="09ff8-603">Użyj <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> metody <xref:System.Windows.Data.CollectionView.IndexOf%2A> lub, aby znaleźć lokalizację <xref:System.Windows.Data.CollectionView> elementu w zamiast polegać na stałej lokalizacji towaru.</span><span class="sxs-lookup"><span data-stu-id="09ff8-603">Use the <xref:System.Windows.Controls.ItemContainerGenerator.ContainerFromItem%2A> or <xref:System.Windows.Data.CollectionView.IndexOf%2A> method to find the location of an item in a <xref:System.Windows.Data.CollectionView> instead of relying on a fixed location of an item.</span></span> |
| <span data-ttu-id="09ff8-604">**Układy**</span><span class="sxs-lookup"><span data-stu-id="09ff8-604">**Layouts**</span></span> | <span data-ttu-id="09ff8-605">Aby wyeliminować niepotrzebne ponowne układy, zmiana <xref:System.Windows.Controls.Page.ShowsNavigationUI> nie unieważnia już układu lub powoduje inny przebieg układu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-605">To eliminate unnecessary re-layouts, changing the <xref:System.Windows.Controls.Page.ShowsNavigationUI> no longer invalidates layout or causes another layout pass.</span></span> | <span data-ttu-id="09ff8-606">Jeśli oczekujesz, <xref:System.Windows.Controls.Page.ShowsNavigationUI> że zmiana spowoduje <xref:System.Windows.UIElement.InvalidateVisual%2A> inny przebieg układu, wywołać po ustawieniu właściwości.</span><span class="sxs-lookup"><span data-stu-id="09ff8-606">If you expect that changing <xref:System.Windows.Controls.Page.ShowsNavigationUI> will cause another layout pass, call <xref:System.Windows.UIElement.InvalidateVisual%2A> after you set the property.</span></span> |
| <span data-ttu-id="09ff8-607">**Menu**</span><span class="sxs-lookup"><span data-stu-id="09ff8-607">**Menus**</span></span> | <span data-ttu-id="09ff8-608">Aby włączyć ClearType tekst w menu pop-upy, <xref:System.Windows.Controls.ControlTemplate> modyfikacje <xref:System.Windows.Controls.MenuItem> zostały wprowadzone do klasy i formantu i innych formantów.</span><span class="sxs-lookup"><span data-stu-id="09ff8-608">To enable ClearType text in menu pop-ups, modifications were made to the <xref:System.Windows.Controls.ControlTemplate> class and to the <xref:System.Windows.Controls.MenuItem> control and other controls.</span></span> | <span data-ttu-id="09ff8-609">Aplikacje nie powinny polegać na strukturze wizualnej szablonów kontroli.</span><span class="sxs-lookup"><span data-stu-id="09ff8-609">Applications should not rely on the visual structure of control templates.</span></span> <span data-ttu-id="09ff8-610">Tylko wymienione części <xref:System.Windows.Controls.ControlTemplate> a są częścią zamówienia publicznego.</span><span class="sxs-lookup"><span data-stu-id="09ff8-610">Only named parts of a <xref:System.Windows.Controls.ControlTemplate> are part of the public contract.</span></span> <span data-ttu-id="09ff8-611">Jeśli aplikacja musi znaleźć określony <xref:System.Windows.Controls.ControlTemplate>obiekt w , przeszukaj drzewo wizualne dla określonego typu zamiast polegać na stałej lokalizacji obiektu w drzewie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-611">If an application must find a certain object in a <xref:System.Windows.Controls.ControlTemplate>, search the visual tree for a specific type instead of relying on a fixed location of an object in the tree.</span></span> |
| <span data-ttu-id="09ff8-612">**Nawigacja**</span><span class="sxs-lookup"><span data-stu-id="09ff8-612">**Navigating**</span></span> | <span data-ttu-id="09ff8-613">Jeśli <xref:System.Windows.Controls.Frame> bezpośrednio przechodzi do lokalizacji, <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> właściwość `true` jest po początkowej nawigacji.</span><span class="sxs-lookup"><span data-stu-id="09ff8-613">If a <xref:System.Windows.Controls.Frame> directly navigates to a location, the <xref:System.Windows.Navigation.NavigatingCancelEventArgs.IsNavigationInitiator> property is `true` after the initial navigation.</span></span> <span data-ttu-id="09ff8-614">Ta zmiana zapobiega wywoływania dodatkowych zdarzeń podczas scenariuszy uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-614">This change prevents additional events from being raised during startup scenarios.</span></span> | <span data-ttu-id="09ff8-615">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-615">None.</span></span> |
| <span data-ttu-id="09ff8-616">**Pop-upy**</span><span class="sxs-lookup"><span data-stu-id="09ff8-616">**Pop-ups**</span></span> | <span data-ttu-id="09ff8-617">Pełnomocnik <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> może być teraz wywoływany wiele razy podczas przebiegu układu, a nie tylko raz.</span><span class="sxs-lookup"><span data-stu-id="09ff8-617">The <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> delegate can now be called multiple times during a layout pass instead of only once.</span></span> | <span data-ttu-id="09ff8-618">Jeśli <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> pełnomocnik oblicza położenie <xref:System.Windows.Controls.Primitives.Popup> na podstawie jego poprzedniego stanowiska, przelicz pozycję tylko `popupSize`wtedy, gdy zmienią się wartości `targetSize`, lub `offset` parametry.</span><span class="sxs-lookup"><span data-stu-id="09ff8-618">If your <xref:System.Windows.Controls.Primitives.CustomPopupPlacementCallback> delegate calculates the position of a <xref:System.Windows.Controls.Primitives.Popup> based on its previous position, recalculate the position only if the values of the `popupSize`, `targetSize`, or `offset` parameters change.</span></span> |
| <span data-ttu-id="09ff8-619">**Wartości właściwości**</span><span class="sxs-lookup"><span data-stu-id="09ff8-619">**Property values**</span></span> | <span data-ttu-id="09ff8-620">Metoda <xref:System.Windows.DependencyObject.SetCurrentValue%2A> umożliwia teraz ustawienie właściwości na wartość efektywną, chociaż nadal respektuje wszelkie powiązania, styl lub wyzwalacz, który wpływa na właściwość.</span><span class="sxs-lookup"><span data-stu-id="09ff8-620">The <xref:System.Windows.DependencyObject.SetCurrentValue%2A> method now lets you set a property to an effective value, although it continues to respect any binding, style, or trigger that affects the property.</span></span> | <span data-ttu-id="09ff8-621">Autorzy kontroli <xref:System.Windows.DependencyObject.SetCurrentValue%2A> należy używać za każdym razem, gdy wartość właściwości zmienia się jako efekt uboczny niektórych innych akcji, w tym manipulacji użytkownika.</span><span class="sxs-lookup"><span data-stu-id="09ff8-621">Control authors should use <xref:System.Windows.DependencyObject.SetCurrentValue%2A> whenever the property value changes as a side-effect of some other action, including user manipulation.</span></span> |
| <span data-ttu-id="09ff8-622">**Pola tekstowe**</span><span class="sxs-lookup"><span data-stu-id="09ff8-622">**Text boxes**</span></span> | <span data-ttu-id="09ff8-623">Ze względów <xref:System.Windows.Forms.TextBoxBase.Copy%2A> bezpieczeństwa <xref:System.Windows.Forms.TextBoxBase.Cut%2A> i metody dyskretnie nie powiedzie się, gdy są one wywoływane w częściowym zaufaniu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-623">For security considerations, the <xref:System.Windows.Forms.TextBoxBase.Copy%2A> and <xref:System.Windows.Forms.TextBoxBase.Cut%2A> methods silently fail when they are called in partial trust.</span></span><br><br><span data-ttu-id="09ff8-624">Ponadto programowe wykonanie <xref:System.Windows.Input.ApplicationCommands.Copy> lub <xref:System.Windows.Input.ApplicationCommands.Cut> właściwości na formancie, <xref:System.Windows.Controls.Primitives.TextBoxBase> który dziedziczy z zostaną zablokowane w częściowym zaufaniu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-624">In addition, programmatic execution of the <xref:System.Windows.Input.ApplicationCommands.Copy> or <xref:System.Windows.Input.ApplicationCommands.Cut> property on a control that inherits from <xref:System.Windows.Controls.Primitives.TextBoxBase> will be blocked in partial trust.</span></span> <span data-ttu-id="09ff8-625">Jednak zainicjowane przez użytkownika polecenia kopiowania i wycinania, takie jak kliknięcie przycisku, którego <xref:System.Windows.Controls.Primitives.ButtonBase.Command> właściwość jest powiązana z jednym z tych poleceń, będą działać.</span><span class="sxs-lookup"><span data-stu-id="09ff8-625">However, user-initiated copy and cut commands, such as clicking a button whose <xref:System.Windows.Controls.Primitives.ButtonBase.Command> property is bound to one of these commands, will work.</span></span> <span data-ttu-id="09ff8-626">Standardowe kopiowanie i przecinanie skrótów klawiaturowych i menu kontekstowego będzie nadal działać tak jak poprzednio w częściowym zaufaniu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-626">Standard copy and cut through keyboard shortcuts and the context menu will still work as before in partial trust.</span></span> | <span data-ttu-id="09ff8-627">Powiąż <xref:System.Windows.Input.ApplicationCommands.Copy> polecenie lub <xref:System.Windows.Input.ApplicationCommands.Cut> z akcją inicjującą przez użytkownika, taką jak kliknięcie przycisku.</span><span class="sxs-lookup"><span data-stu-id="09ff8-627">Bind the <xref:System.Windows.Input.ApplicationCommands.Copy> or <xref:System.Windows.Input.ApplicationCommands.Cut> command to a user-initiated action, such as clicking a button.</span></span> |

### <a name="graphics"></a><span data-ttu-id="09ff8-628">Grafika</span><span class="sxs-lookup"><span data-stu-id="09ff8-628">Graphics</span></span>

<span data-ttu-id="09ff8-629">Przestrzenie <xref:System.Windows>nazw: <xref:System.Windows.Controls> <xref:System.Windows.Data>, <xref:System.Windows.Input>, , ,<xref:System.Windows.Media.Effects></span><span class="sxs-lookup"><span data-stu-id="09ff8-629">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Media.Effects></span></span>

<span data-ttu-id="09ff8-630">Zestawy: PresentationFramework (w PresentationFramework.dll), PresentationCore (w PresentationCore.dll), WindowsBase (w pliku WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-630">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="09ff8-631">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-631">Feature</span></span> | <span data-ttu-id="09ff8-632">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-632">Differences from 3.5 SP1</span></span> | <span data-ttu-id="09ff8-633">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="09ff8-633">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="09ff8-634">**Efekty mapy bitowej**</span><span class="sxs-lookup"><span data-stu-id="09ff8-634">**Bitmap effects**</span></span> | <span data-ttu-id="09ff8-635">Aby zwiększyć wydajność, <xref:System.Windows.Media.Effects.BitmapEffect> klasy i klasy, <xref:System.Windows.Media.Effects.BitmapEffect> które dziedziczą z klasy, chociaż nadal obecne, są wyłączone.</span><span class="sxs-lookup"><span data-stu-id="09ff8-635">To improve performance, the <xref:System.Windows.Media.Effects.BitmapEffect> class and the classes that inherit from the <xref:System.Windows.Media.Effects.BitmapEffect> class, although still present, are disabled.</span></span> <span data-ttu-id="09ff8-636">Efekt zostanie renderowany przy użyciu potoku renderowania przyspieszającego sprzętowo, jeśli spełnione są następujące warunki:</span><span class="sxs-lookup"><span data-stu-id="09ff8-636">The effect will render by using the hardware-accelerated rendering pipeline if the following conditions are true:</span></span><br><br><span data-ttu-id="09ff8-637">\* Aplikacja używa <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> lub <xref:System.Windows.Media.Effects.BlurBitmapEffect> a, który ma właściwość promień ustawiony mniej niż 100 DIU.</span><span class="sxs-lookup"><span data-stu-id="09ff8-637">\* The application uses a <xref:System.Windows.Media.Effects.DropShadowBitmapEffect> or a <xref:System.Windows.Media.Effects.BlurBitmapEffect> that has a radius property set less than 100 DIU.</span></span><br><span data-ttu-id="09ff8-638">\* Karta graficzna na komputerze z uruchomioną aplikacją obsługuje moduł cieniujący pikseli 2.0.</span><span class="sxs-lookup"><span data-stu-id="09ff8-638">\* The video card on the computer that runs the application supports pixel shader 2.0.</span></span><br><br><span data-ttu-id="09ff8-639">Jeśli te warunki nie <xref:System.Windows.Media.Effects.BitmapEffect> są spełnione, obiekt nie będzie miał wpływu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-639">If these conditions are not met, a <xref:System.Windows.Media.Effects.BitmapEffect> object will have no effect.</span></span><br><br><span data-ttu-id="09ff8-640">Ponadto visual studio generuje ostrzeżenie kompilatora, <xref:System.Windows.Media.Effects.BitmapEffect> gdy napotka obiekt lub podklasę.</span><span class="sxs-lookup"><span data-stu-id="09ff8-640">Also, Visual Studio produces a compiler warning when it encounters the <xref:System.Windows.Media.Effects.BitmapEffect> object or a subclass.</span></span><br><br><span data-ttu-id="09ff8-641">Metoda <xref:System.Windows.Media.DrawingContext.PushEffect%2A> jest oznaczona jako przestarzała.</span><span class="sxs-lookup"><span data-stu-id="09ff8-641">The <xref:System.Windows.Media.DrawingContext.PushEffect%2A> method is marked obsolete.</span></span> | <span data-ttu-id="09ff8-642">Zaprzestać używania <xref:System.Windows.Media.Effects.BitmapEffect> starszych i pochodnych klas i zamiast <xref:System.Windows.Media.Effects.Effect> <xref:System.Windows.Media.Effects.BlurEffect>tego <xref:System.Windows.Media.Effects.DropShadowEffect>użyć <xref:System.Windows.Media.Effects.ShaderEffect>nowych klas pochodzących z : , i .</span><span class="sxs-lookup"><span data-stu-id="09ff8-642">Discontinue using the legacy <xref:System.Windows.Media.Effects.BitmapEffect> and derived classes and instead use the new classes derived from <xref:System.Windows.Media.Effects.Effect>: <xref:System.Windows.Media.Effects.BlurEffect>, <xref:System.Windows.Media.Effects.DropShadowEffect>, and <xref:System.Windows.Media.Effects.ShaderEffect>.</span></span><br><br><span data-ttu-id="09ff8-643">Można również utworzyć własne efekty, dziedzicząc z <xref:System.Windows.Media.Effects.ShaderEffect> klasy.</span><span class="sxs-lookup"><span data-stu-id="09ff8-643">You can also create your own effects by inheriting from the <xref:System.Windows.Media.Effects.ShaderEffect> class.</span></span> |
| <span data-ttu-id="09ff8-644">**Ramki bitmapowe**</span><span class="sxs-lookup"><span data-stu-id="09ff8-644">**Bitmap frames**</span></span> | <span data-ttu-id="09ff8-645">Sklonowane <xref:System.Windows.Media.Imaging.BitmapFrame> obiekty otrzymują <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress> <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>teraz <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> program , i zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="09ff8-645">The cloned <xref:System.Windows.Media.Imaging.BitmapFrame> objects now receive the <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, and <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> events.</span></span> <span data-ttu-id="09ff8-646">Dzięki temu obrazy, które są pobierane z <xref:System.Windows.Controls.Image> sieci <xref:System.Windows.Style> Web i stosowane do formantu za pośrednictwem a do poprawnego działania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-646">This enables images that are downloaded from the Web and applied to the <xref:System.Windows.Controls.Image> control through a <xref:System.Windows.Style> to work correctly.</span></span><br><br><span data-ttu-id="09ff8-647">Nastąpi zmiana zachowania tylko wtedy, gdy wszystkie następujące instrukcje są spełnione:</span><span class="sxs-lookup"><span data-stu-id="09ff8-647">You will see a change in behavior only if all of the following statements are true:</span></span><br><br><span data-ttu-id="09ff8-648">\* Subskrybujesz <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> lub zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="09ff8-648">\* You subscribe to the <xref:System.Windows.Media.Imaging.BitmapSource.DownloadProgress>, <xref:System.Windows.Media.Imaging.BitmapSource.DownloadCompleted>, or <xref:System.Windows.Media.Imaging.BitmapSource.DownloadFailed> event.</span></span><br><span data-ttu-id="09ff8-649">\* Źródło <xref:System.Windows.Media.Imaging.BitmapFrame> jest z sieci Web.</span><span class="sxs-lookup"><span data-stu-id="09ff8-649">\* The source of the <xref:System.Windows.Media.Imaging.BitmapFrame> is from the Web.</span></span><br><span data-ttu-id="09ff8-650">\* <xref:System.Windows.Media.Imaging.BitmapFrame> Jest sklonowany, gdy pobieranie jest nadal w toku.</span><span class="sxs-lookup"><span data-stu-id="09ff8-650">\* The <xref:System.Windows.Media.Imaging.BitmapFrame> is cloned while the download is still in progress.</span></span> | <span data-ttu-id="09ff8-651">Sprawdź nadawcę w programie obsługi zdarzeń i podejmij <xref:System.Windows.Media.Imaging.BitmapFrame>działania tylko wtedy, gdy nadawcą jest oryginalny .</span><span class="sxs-lookup"><span data-stu-id="09ff8-651">Check the sender in the event handler and take action only if the sender is the original <xref:System.Windows.Media.Imaging.BitmapFrame>.</span></span> |
| <span data-ttu-id="09ff8-652">**Dekodowanie obrazów**</span><span class="sxs-lookup"><span data-stu-id="09ff8-652">**Decoding images**</span></span> | <span data-ttu-id="09ff8-653">Aby zapobiec <xref:System.IO.IOException> nie jest obsługiwany, gdy obrazy mogą <xref:System.Windows.Media.Imaging.BitmapSource> nie dekodować, klasa spowoduje podniesienie <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> zdarzenia, gdy nie dekoduje obrazu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-653">To prevent an <xref:System.IO.IOException> from not being handled when images may not decode, the <xref:System.Windows.Media.Imaging.BitmapSource> class will raise the <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> event when it does not decode an image.</span></span> | <span data-ttu-id="09ff8-654">Usuń wszelkie obsługi <xref:System.IO.IOException>wyjątków <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> dla programu i użyj zdarzenia, aby sprawdzić, czy błąd dekodowania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-654">Remove any exception handling for <xref:System.IO.IOException>, and use the <xref:System.Windows.Media.Imaging.BitmapSource.DecodeFailed> event to check for decode failure.</span></span> |

### <a name="input"></a><span data-ttu-id="09ff8-655">Dane wejściowe</span><span class="sxs-lookup"><span data-stu-id="09ff8-655">Input</span></span>

<span data-ttu-id="09ff8-656">Przestrzenie <xref:System.Windows>nazw: <xref:System.Windows.Controls> <xref:System.Windows.Data>, , ,<xref:System.Windows.Input></span><span class="sxs-lookup"><span data-stu-id="09ff8-656">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span></span>

<span data-ttu-id="09ff8-657">Zestawy: PresentationFramework (w PresentationFramework.dll), PresentationCore (w PresentationCore.dll), WindowsBase (w pliku WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-657">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="09ff8-658">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-658">Feature</span></span> | <span data-ttu-id="09ff8-659">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-659">Differences from 3.5 SP1</span></span> | <span data-ttu-id="09ff8-660">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="09ff8-660">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="09ff8-661">**Powiązania wystąpienia poleceń**</span><span class="sxs-lookup"><span data-stu-id="09ff8-661">**Binding command instances**</span></span> | <span data-ttu-id="09ff8-662">Aby zapewnić mechanizm powiązania wystąpień poleceń opartych na widoku modelu <xref:System.Windows.Input.InputBinding> z gestami <xref:System.Windows.Freezable> wejściowymi <xref:System.Windows.DependencyObject>opartymi na widoku, klasa dziedziczy teraz zamiast .</span><span class="sxs-lookup"><span data-stu-id="09ff8-662">To provide a mechanism to bind View-Model-based command instances to View-based input gestures, the <xref:System.Windows.Input.InputBinding> class now inherits from <xref:System.Windows.Freezable> instead of <xref:System.Windows.DependencyObject>.</span></span> <span data-ttu-id="09ff8-663">Następujące właściwości są teraz właściwości zależności:</span><span class="sxs-lookup"><span data-stu-id="09ff8-663">The following properties are now dependency properties:</span></span><br><br>* <xref:System.Windows.Input.InputBinding.Command><br>* <xref:System.Windows.Input.InputBinding.CommandParameter><br>* <xref:System.Windows.Input.InputBinding.CommandTarget><br><br><span data-ttu-id="09ff8-664">Ta zmiana powoduje, że:</span><span class="sxs-lookup"><span data-stu-id="09ff8-664">This change results in the following:</span></span><br><br><span data-ttu-id="09ff8-665">\* <xref:System.Windows.Input.InputBinding> Obiekt jest teraz zamrożony, gdy jest zarejestrowany, a nie pozostaje modyfikowalny.</span><span class="sxs-lookup"><span data-stu-id="09ff8-665">\* An <xref:System.Windows.Input.InputBinding> object is now frozen when it is registered instead of remaining mutable.</span></span><br><span data-ttu-id="09ff8-666">\* Nie można uzyskać <xref:System.Windows.Input.InputBinding> dostępu do obiektów na poziomie wystąpienia <xref:System.Windows.DependencyObject> z wielu wątków, ze względu na ograniczenia klasy.</span><span class="sxs-lookup"><span data-stu-id="09ff8-666">\* You cannot access instance-level <xref:System.Windows.Input.InputBinding> objects from multiple threads, due to the restrictions of the <xref:System.Windows.DependencyObject> class.</span></span><br><span data-ttu-id="09ff8-667">\* Nie można mutować powiązania wejściowe na poziomie klasy po <xref:System.Windows.Freezable> ich rejestracji, ze względu na ograniczenia klasy.</span><span class="sxs-lookup"><span data-stu-id="09ff8-667">\* You cannot mutate class-level input bindings after their registration, due to the restrictions of the <xref:System.Windows.Freezable> class.</span></span><br><span data-ttu-id="09ff8-668">\* Nie można określić powiązania wejściowe dla wystąpień poleceń, które są tworzone w view-model.</span><span class="sxs-lookup"><span data-stu-id="09ff8-668">\* You cannot specify input bindings on command instances that are created in a View-Model.</span></span> | <span data-ttu-id="09ff8-669">Tworzenie oddzielnych wystąpień <xref:System.Windows.Input.InputBinding> klasy na oddzielnych wątków, jeśli powiązania mają być modyfikowalne lub zamrozić je w inny sposób.</span><span class="sxs-lookup"><span data-stu-id="09ff8-669">Create separate instances of an <xref:System.Windows.Input.InputBinding> class on separate threads if bindings are to be mutable, or freeze them otherwise.</span></span> <span data-ttu-id="09ff8-670">Nie mutuj statycznego poziomu <xref:System.Windows.Input.InputBinding> klasy po jej zarejestrowaniu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-670">Do not mutate a class-level static <xref:System.Windows.Input.InputBinding> after it has been registered.</span></span> |
| <span data-ttu-id="09ff8-671">**Aplikacje przeglądarki**</span><span class="sxs-lookup"><span data-stu-id="09ff8-671">**Browser applications**</span></span> | <span data-ttu-id="09ff8-672">Aplikacje przeglądarki WPF (. XBAP) teraz przetwarzać kluczowe zdarzenia, podobnie jak autonomiczne aplikacje WPF, tak aby obiekty odbierały kierowane zdarzenia kluczy w odpowiedniej kolejności.</span><span class="sxs-lookup"><span data-stu-id="09ff8-672">WPF Browser applications (.XBAP) now process key events just like stand-alone WPF applications so that objects receive routed key events in the correct order.</span></span> | <span data-ttu-id="09ff8-673">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-673">None.</span></span> |
| <span data-ttu-id="09ff8-674">**Martwe kombinacje klawiszy**</span><span class="sxs-lookup"><span data-stu-id="09ff8-674">**Dead key combinations**</span></span> | <span data-ttu-id="09ff8-675">WPF zaciemnia martwe klucze, które nie dają żadnego widocznego znaku, ale zamiast tego wskazuje, że klucz ma być połączony z następnym kluczem letter, aby uzyskać jeden znak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-675">WPF obfuscates dead keys, which produce no visible character, but instead indicates that the key is to be combined with the next letter key to produce one character.</span></span> <span data-ttu-id="09ff8-676">Zdarzenia wejściowe klucza, <xref:System.Windows.Input.Keyboard.KeyDownEvent> takie jak zdarzenie, raport, gdy <xref:System.Windows.Input.KeyEventArgs.Key> klucz jest <xref:System.Windows.Input.Key> kluczem martwym, ustawiając właściwość na wartość.</span><span class="sxs-lookup"><span data-stu-id="09ff8-676">The key input events, such as the <xref:System.Windows.Input.Keyboard.KeyDownEvent> event, report when a key is a dead key by setting the <xref:System.Windows.Input.KeyEventArgs.Key> property to the <xref:System.Windows.Input.Key> value.</span></span> <span data-ttu-id="09ff8-677">Jest to zwykle oczekiwane zachowanie, ponieważ aplikacje zwykle nie mają na celu odpowiedzieć na dane wejściowe klawiatury, która tworzy połączony znak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-677">This is usually expected behavior because applications usually do not intend to respond to keyboard input that creates a combined character.</span></span> | <span data-ttu-id="09ff8-678">Aplikacje, które oczekują, aby odczytać klucze, które były częścią połączonych <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey> znaków można uzyskać teraz zaciemnione klucz przy użyciu właściwości.</span><span class="sxs-lookup"><span data-stu-id="09ff8-678">Applications that expect to read keys that were part of combined characters can get the now obfuscated key by using the <xref:System.Windows.Input.KeyEventArgs.DeadCharProcessedKey> property.</span></span> |
| <span data-ttu-id="09ff8-679">**Menedżer fokusu**</span><span class="sxs-lookup"><span data-stu-id="09ff8-679">**Focus manager**</span></span> | <span data-ttu-id="09ff8-680">Gdy <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> metoda jest przekazywana element, który ma [IsFocusScope](xref:System.Windows.Input.FocusManager.IsFocusScope%2A) dołączone właściwość ustawiona do `true`, metoda zwraca element, który jest ostatnim elementem <xref:System.Windows.PresentationSource> skoncentrowanym na klawiaturze w tym zakresie fokusu, jeśli i tylko wtedy, gdy zwrócony element należy do tego samego obiektu jako element, który jest przekazywany do metody.</span><span class="sxs-lookup"><span data-stu-id="09ff8-680">When the <xref:System.Windows.Input.FocusManager.GetFocusedElement(System.Windows.DependencyObject)?displayProperty=nameWithType> method is passed an element that has the [IsFocusScope](xref:System.Windows.Input.FocusManager.IsFocusScope%2A) attached property set to `true`, the method returns an element that is the last keyboard-focused element within that focus scope if and only if the returned element belongs to the same <xref:System.Windows.PresentationSource> object as the element that is passed to the method.</span></span> | <span data-ttu-id="09ff8-681">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-681">None.</span></span> |

### <a name="ui-automation"></a><span data-ttu-id="09ff8-682">Automatyzacja interfejsu użytkownika</span><span class="sxs-lookup"><span data-stu-id="09ff8-682">UI Automation</span></span>

<span data-ttu-id="09ff8-683"><xref:System.Windows>Przestrzeń nazw: <xref:System.Windows.Automation.Peers> <xref:System.Windows.Automation.Provider>, <xref:System.Windows.Controls> <xref:System.Windows.Data>, , , ,<xref:System.Windows.Input></span><span class="sxs-lookup"><span data-stu-id="09ff8-683">Namespace: <xref:System.Windows>, <xref:System.Windows.Automation.Peers>, <xref:System.Windows.Automation.Provider>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input></span></span>

<span data-ttu-id="09ff8-684">Zestawy: PresentationFramework (w PresentationFramework.dll), PresentationCore (w PresentationCore.dll), UIAutomationProvider (w UIAutomationProvider.dll), WindowsBase (w pliku WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-684">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), UIAutomationProvider (in UIAutomationProvider.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="09ff8-685">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-685">Feature</span></span> | <span data-ttu-id="09ff8-686">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-686">Differences from 3.5 SP1</span></span> | <span data-ttu-id="09ff8-687">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="09ff8-687">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="09ff8-688">**Hierarchia klas widoków**</span><span class="sxs-lookup"><span data-stu-id="09ff8-688">**Class hierarchy of views**</span></span> | <span data-ttu-id="09ff8-689">I <xref:System.Windows.Automation.Peers.TreeViewAutomationPeer> <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> klasy dziedziczą <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> zamiast <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer>.</span><span class="sxs-lookup"><span data-stu-id="09ff8-689">The <xref:System.Windows.Automation.Peers.TreeViewAutomationPeer> and <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> classes inherit from <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer> instead of <xref:System.Windows.Automation.Peers.FrameworkElementAutomationPeer>.</span></span> | <span data-ttu-id="09ff8-690">Jeśli dziedziczysz <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> z klas i <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A> zastąpić metodę, należy rozważyć zwrócenie obiektu, który dziedziczy z nowej <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer> klasy.</span><span class="sxs-lookup"><span data-stu-id="09ff8-690">If you inherit from the <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer> classes and override the <xref:System.Windows.Automation.Peers.TreeViewItemAutomationPeer.GetChildrenCore%2A> method, consider returning an object that inherits from the new <xref:System.Windows.Automation.Peers.TreeViewDataItemAutomationPeer> class.</span></span> |
| <span data-ttu-id="09ff8-691">**Kontenery poza ekranem**</span><span class="sxs-lookup"><span data-stu-id="09ff8-691">**Containers off screen**</span></span> | <span data-ttu-id="09ff8-692">Aby naprawić niepoprawną wartość <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> zwracaną, `false` metoda teraz poprawnie zwraca dla kontenerów towarów, które są przewijane poza widok.</span><span class="sxs-lookup"><span data-stu-id="09ff8-692">To fix an incorrect return value, the <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.IsOffscreenCore%2A> method now correctly returns `false` for item containers that are scrolled out of view.</span></span> <span data-ttu-id="09ff8-693">Ponadto wartość metody nie ma wpływu na okluzję przez inne okna lub czy element jest widoczny na określonym monitorze.</span><span class="sxs-lookup"><span data-stu-id="09ff8-693">Also, the value of the method is not affected by occlusion by other windows, or by whether the element is visible on a specific monitor.</span></span> | <span data-ttu-id="09ff8-694">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-694">None.</span></span> |
| <span data-ttu-id="09ff8-695">**Menu i obiekty podrzędne**</span><span class="sxs-lookup"><span data-stu-id="09ff8-695">**Menus and child objects**</span></span> | <span data-ttu-id="09ff8-696">Aby włączyć automatyzację interfejsu użytkownika menu, <xref:System.Windows.Controls.MenuItem> które <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> zawierają elementy <xref:System.Windows.Automation.Peers.AutomationPeer> podrzędne inne <xref:System.Windows.UIElement> niż obiekty, <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer> metoda zwraca teraz obiekt obiektu podrzędnego, zamiast obiektu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-696">To enable UI automation of menus that contain children other than <xref:System.Windows.Controls.MenuItem> objects, the <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer.GetChildrenCore%2A> method now returns the <xref:System.Windows.Automation.Peers.AutomationPeer> object of a child <xref:System.Windows.UIElement> object, instead of a <xref:System.Windows.Automation.Peers.MenuItemAutomationPeer> object.</span></span> | <span data-ttu-id="09ff8-697">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-697">None.</span></span> |
| <span data-ttu-id="09ff8-698">**Nowe interfejsy i montaż**</span><span class="sxs-lookup"><span data-stu-id="09ff8-698">**New interfaces and assembly**</span></span> | <span data-ttu-id="09ff8-699">Aby włączyć nowe funkcje automatyzacji interfejsu użytkownika, dodano następujące interfejsy:</span><span class="sxs-lookup"><span data-stu-id="09ff8-699">To enable new features for UI automation, the following interfaces were added:</span></span><br><br>* <xref:System.Windows.Automation.Provider.IItemContainerProvider><br>* <xref:System.Windows.Automation.Provider.ISynchronizedInputProvider><br>* <xref:System.Windows.Automation.Provider.IVirtualizedItemProvider> | <span data-ttu-id="09ff8-700">Każdy projekt, który tworzy w programie WPF automation peers należy dodać jawne odwołanie do UIAutomationProvider.dll.</span><span class="sxs-lookup"><span data-stu-id="09ff8-700">Any project that builds WPF automation peers must add an explicit reference to UIAutomationProvider.dll.</span></span> |
| <span data-ttu-id="09ff8-701">**Kciuki**</span><span class="sxs-lookup"><span data-stu-id="09ff8-701">**Thumbs**</span></span> | <span data-ttu-id="09ff8-702">Metoda <xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A> zwraca wartość zamiast null.</span><span class="sxs-lookup"><span data-stu-id="09ff8-702">The <xref:System.Windows.Automation.Peers.ThumbAutomationPeer.GetClassNameCore%2A> method returns a value instead of null.</span></span> <span data-ttu-id="09ff8-703">W związku z <xref:System.Windows.Controls.GridSplitter> tym formanty, takie jak dziedziczenie z <xref:System.Windows.Controls.Primitives.Thumb> klasy zgłosi nazwę do automatyzacji interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="09ff8-703">Therefore, controls such as <xref:System.Windows.Controls.GridSplitter> that inherit from the <xref:System.Windows.Controls.Primitives.Thumb> class will report a name to UI Automation.</span></span> | <span data-ttu-id="09ff8-704">Brak.</span><span class="sxs-lookup"><span data-stu-id="09ff8-704">None.</span></span> |
| <span data-ttu-id="09ff8-705">**Elementy zwirtualizowane**</span><span class="sxs-lookup"><span data-stu-id="09ff8-705">**Virtualized elements**</span></span> | <span data-ttu-id="09ff8-706">Aby zwiększyć wydajność, <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> metoda zwraca tylko obiekty podrzędne, które są faktycznie w drzewie wizualnym, zamiast wszystkich obiektów podrzędnych, niezależnie od tego, czy są one zwirtualizowane.</span><span class="sxs-lookup"><span data-stu-id="09ff8-706">To improve performance, the <xref:System.Windows.Automation.Peers.UIElementAutomationPeer.GetChildrenCore%2A> method returns only the child objects that are actually in the visual tree, instead of all child objects, regardless of whether they are virtualized.</span></span> | <span data-ttu-id="09ff8-707">Służy <xref:System.Windows.Automation.ItemContainerPattern> do iteracji wszystkich <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer>elementów programu .</span><span class="sxs-lookup"><span data-stu-id="09ff8-707">Use <xref:System.Windows.Automation.ItemContainerPattern> to iterate over all items of an <xref:System.Windows.Automation.Peers.ItemsControlAutomationPeer>.</span></span> |

### <a name="xaml"></a><span data-ttu-id="09ff8-708">XAML</span><span class="sxs-lookup"><span data-stu-id="09ff8-708">XAML</span></span>

<span data-ttu-id="09ff8-709">Przestrzenie <xref:System.Windows>nazw: <xref:System.Windows.Controls> <xref:System.Windows.Data>, <xref:System.Windows.Input>, , ,<xref:System.Windows.Markup></span><span class="sxs-lookup"><span data-stu-id="09ff8-709">Namespaces: <xref:System.Windows>, <xref:System.Windows.Controls>, <xref:System.Windows.Data>, <xref:System.Windows.Input>, <xref:System.Windows.Markup></span></span>

<span data-ttu-id="09ff8-710">Zestawy: PresentationFramework (w PresentationFramework.dll), PresentationCore (w PresentationCore.dll), WindowsBase (w pliku WindowsBase.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-710">Assemblies: PresentationFramework (in PresentationFramework.dll), PresentationCore (in PresentationCore.dll), WindowsBase (in WindowsBase.dll)</span></span>

| <span data-ttu-id="09ff8-711">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-711">Feature</span></span> | <span data-ttu-id="09ff8-712">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-712">Differences from 3.5 SP1</span></span> | <span data-ttu-id="09ff8-713">Zalecane zmiany</span><span class="sxs-lookup"><span data-stu-id="09ff8-713">Recommended changes</span></span> |
| ------- | ------------------------ | ------------------- |
| <span data-ttu-id="09ff8-714">**Rozszerzenie znaczników**</span><span class="sxs-lookup"><span data-stu-id="09ff8-714">**Markup extension**</span></span> | <span data-ttu-id="09ff8-715">WPF WPF teraz poprawnie zawsze <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> używa wartości z <xref:System.Windows.Markup.MarkupExtension> metody zamiast zwracania obiektu w niektórych przypadkach, gdy rozszerzenie znaczników jest używany do ustawiania właściwości lub do tworzenia elementu w kolekcji.</span><span class="sxs-lookup"><span data-stu-id="09ff8-715">WPF now correctly always uses the value from the <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A> method instead of returning the <xref:System.Windows.Markup.MarkupExtension> object in certain cases when a markup extension is used to set a property or to create an item in a collection.</span></span> <span data-ttu-id="09ff8-716">Rozszerzenie znaczników może zwrócić się w niektórych przypadkach.</span><span class="sxs-lookup"><span data-stu-id="09ff8-716">A markup extension might return itself in some cases.</span></span> | <span data-ttu-id="09ff8-717">Jeśli aplikacja uzyskuje dostęp do <xref:System.Windows.Markup.MarkupExtension> zasobu, który zwrócił obiekt we <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>wcześniejszych wersjach, <xref:System.Windows.Markup.MarkupExtension> odwołaj się do obiektu, który jest zwracany z obiektu, a nie do obiektu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-717">If your application accesses a resource that returned a <xref:System.Windows.Markup.MarkupExtension> object in earlier versions, reference the object that is returned from <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, instead of the <xref:System.Windows.Markup.MarkupExtension> object.</span></span> |
| <span data-ttu-id="09ff8-718">**Analizowanie atrybutów**</span><span class="sxs-lookup"><span data-stu-id="09ff8-718">**Parsing attributes**</span></span> | <span data-ttu-id="09ff8-719">Atrybuty w języku XAML mogą teraz mieć tylko jeden okres.</span><span class="sxs-lookup"><span data-stu-id="09ff8-719">Attributes in XAML can now have only one period.</span></span> <span data-ttu-id="09ff8-720">Na przykład prawidłowe są następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="09ff8-720">For example, the following are valid:</span></span><br><br><span data-ttu-id="09ff8-721">`<Button Background="Red"/>`(bez okresów)</span><span class="sxs-lookup"><span data-stu-id="09ff8-721">`<Button Background="Red"/>` (no periods)</span></span><br><br><span data-ttu-id="09ff8-722">`<Button Button.Background = "Red"/>`(jeden okres)</span><span class="sxs-lookup"><span data-stu-id="09ff8-722">`<Button Button.Background = "Red"/>` (one period)</span></span><br><br><span data-ttu-id="09ff8-723">Następujące elementy nie są już prawidłowe:</span><span class="sxs-lookup"><span data-stu-id="09ff8-723">The following is no longer valid:</span></span><br><br><span data-ttu-id="09ff8-724">`<Button Control.Button.Background = "Red"/>`(więcej niż jeden okres)</span><span class="sxs-lookup"><span data-stu-id="09ff8-724">`<Button Control.Button.Background = "Red"/>` (more than one period)</span></span> | <span data-ttu-id="09ff8-725">Popraw atrybuty XAML, które mają więcej niż jeden okres.</span><span class="sxs-lookup"><span data-stu-id="09ff8-725">Correct XAML attributes that have more than one period.</span></span> |

## <a name="xml"></a><span data-ttu-id="09ff8-726">XML</span><span class="sxs-lookup"><span data-stu-id="09ff8-726">XML</span></span>

<span data-ttu-id="09ff8-727">Wiersze w tej tabeli opisują ulepszenia funkcji, które wcześniej miały ograniczenia lub inne problemy.</span><span class="sxs-lookup"><span data-stu-id="09ff8-727">The rows in this table describe improvements to features that previously had limitations or other issues.</span></span>

### <a name="schema-and-transforms"></a><span data-ttu-id="09ff8-728">Schemat i przekształcenia</span><span class="sxs-lookup"><span data-stu-id="09ff8-728">Schema and transforms</span></span>

<span data-ttu-id="09ff8-729">Przestrzenie nazw: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>,<xref:System.Xml.XPath></span><span class="sxs-lookup"><span data-stu-id="09ff8-729">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span></span>

<span data-ttu-id="09ff8-730">Zestawy: System.Xml (w pliku System.Xml.dll), System.Xml.Linq (w pliku System.Xml.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-730">Assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="09ff8-731">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-731">Feature</span></span> | <span data-ttu-id="09ff8-732">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-732">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="09ff8-733">**Schematy kameleona**</span><span class="sxs-lookup"><span data-stu-id="09ff8-733">**Chameleon schemas**</span></span> | <span data-ttu-id="09ff8-734">Aby zapobiec uszkodzeniu danych, schematy kameleona są teraz poprawnie klonowane, gdy są dołączone do wielu schematów.</span><span class="sxs-lookup"><span data-stu-id="09ff8-734">To prevent data corruption, chameleon schemas are now cloned correctly when they are included with multiple schemas.</span></span><br><br><span data-ttu-id="09ff8-735">Schematy kameleona są schematami, które nie mają docelowego obszaru nazw, a gdy są zawarte w innym XSD, przyjmują docelową przestrzeń nazw schematu importowania.</span><span class="sxs-lookup"><span data-stu-id="09ff8-735">Chameleon schemas are schemas that do not have a target namespace, and when they are included in another XSD, they take on the target namespace of the importing schema.</span></span> <span data-ttu-id="09ff8-736">Są one często używane do uwzględnienia typowych typów w schemacie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-736">They are often used to include common types into a schema.</span></span> |
| <span data-ttu-id="09ff8-737">**Funkcje identyfikatora**</span><span class="sxs-lookup"><span data-stu-id="09ff8-737">**ID functions**</span></span> | <span data-ttu-id="09ff8-738">[Funkcja identyfikatora](/sql/xquery/functions-on-sequences-id) XSLT zwraca teraz prawidłową wartość <xref:System.Xml.XmlReader> zamiast wartości null, gdy obiekt jest przekazywany do XLST.</span><span class="sxs-lookup"><span data-stu-id="09ff8-738">The XSLT [id function](/sql/xquery/functions-on-sequences-id) now returns the correct value instead of null when an <xref:System.Xml.XmlReader> object is passed to an XLST.</span></span><br><br><span data-ttu-id="09ff8-739">Jeśli użytkownik utworzył <xref:System.Xml.XmlReader> obiekt z klasy LINQ do <xref:System.Xml.Linq.XNode.CreateReader%2A> XML przy <xref:System.Xml.XmlReader> użyciu metody, a ten obiekt został `id` przekazany do XSLT, wszystkie wystąpienia funkcji w XSLT wcześniej zwrócone null.</span><span class="sxs-lookup"><span data-stu-id="09ff8-739">If the user created an <xref:System.Xml.XmlReader> object from a LINQ to XML class by using the <xref:System.Xml.Linq.XNode.CreateReader%2A> method, and this <xref:System.Xml.XmlReader> object was passed to an XSLT, any instances of the `id` function in the XSLT previously returned null.</span></span> <span data-ttu-id="09ff8-740">Nie jest to dozwolona wartość `id` zwracana dla funkcji.</span><span class="sxs-lookup"><span data-stu-id="09ff8-740">This is not an allowed return value for the `id` function.</span></span> |
| <span data-ttu-id="09ff8-741">**Atrybut obszaru nazw**</span><span class="sxs-lookup"><span data-stu-id="09ff8-741">**Namespace attribute**</span></span> | <span data-ttu-id="09ff8-742">Aby zapobiec uszkodzeniu <xref:System.Xml.XPath.XPathNavigator> danych, obiekt zwraca `x:xmlns` teraz poprawnie lokalną nazwę atrybutu.</span><span class="sxs-lookup"><span data-stu-id="09ff8-742">To prevent data corruption, an <xref:System.Xml.XPath.XPathNavigator> object now returns the local name of the `x:xmlns` attribute correctly.</span></span> |
| <span data-ttu-id="09ff8-743">**Deklaracje obszaru nazw**</span><span class="sxs-lookup"><span data-stu-id="09ff8-743">**Namespace declarations**</span></span> | <span data-ttu-id="09ff8-744">Obiekt <xref:System.Xml.XmlReader> w poddrzewie nie tworzy już zduplikowanych deklaracji obszaru nazw w ramach jednego elementu XML.</span><span class="sxs-lookup"><span data-stu-id="09ff8-744">An <xref:System.Xml.XmlReader> object on a subtree no longer creates duplicate namespace declarations within one XML element.</span></span> |
| <span data-ttu-id="09ff8-745">**Sprawdzanie poprawności schematu**</span><span class="sxs-lookup"><span data-stu-id="09ff8-745">**Schema validation**</span></span> | <span data-ttu-id="09ff8-746">Aby zapobiec błędnej weryfikacji schematu, <xref:System.Xml.Schema.XmlSchemaSet> klasa umożliwia XSD schematy mają być kompilowane poprawnie i konsekwentnie.</span><span class="sxs-lookup"><span data-stu-id="09ff8-746">To prevent erroneous schema validation, the <xref:System.Xml.Schema.XmlSchemaSet> class allows for XSD schemas to be compiled correctly and consistently.</span></span> <span data-ttu-id="09ff8-747">Schematy te mogą zawierać inne schematy; na przykład, `A.xsd` `B.xsd`może zawierać `C.xsd`, które mogą zawierać .</span><span class="sxs-lookup"><span data-stu-id="09ff8-747">These schemas can include other schemas; for example, `A.xsd` can include `B.xsd`, which can include `C.xsd`.</span></span> <span data-ttu-id="09ff8-748">Kompilowanie jednego z tych powoduje, że ten wykres zależności, które mają być przesunięty.</span><span class="sxs-lookup"><span data-stu-id="09ff8-748">Compiling any one of these causes this graph of dependencies to be traversed.</span></span> |
| <span data-ttu-id="09ff8-749">**Funkcje skryptów**</span><span class="sxs-lookup"><span data-stu-id="09ff8-749">**Script functions**</span></span> | <span data-ttu-id="09ff8-750">[Funkcja dostępna dla funkcji](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms256124(v=vs.100)) nie `false` zwraca już niepoprawnie, gdy funkcja jest faktycznie dostępna.</span><span class="sxs-lookup"><span data-stu-id="09ff8-750">The [function-available function](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms256124(v=vs.100)) no longer incorrectly returns `false` when the function is actually available.</span></span> |
| <span data-ttu-id="09ff8-751">**Identyfikatory URI**</span><span class="sxs-lookup"><span data-stu-id="09ff8-751">**URIs**</span></span> | <span data-ttu-id="09ff8-752">Metoda <xref:System.Xml.Linq.XElement.Load%2A> zwraca teraz poprawny BaseURI w zapytaniach LINQ.</span><span class="sxs-lookup"><span data-stu-id="09ff8-752">The <xref:System.Xml.Linq.XElement.Load%2A> method now returns the correct BaseURI in LINQ queries.</span></span> |

### <a name="validation"></a><span data-ttu-id="09ff8-753">Walidacja</span><span class="sxs-lookup"><span data-stu-id="09ff8-753">Validation</span></span>

<span data-ttu-id="09ff8-754">Przestrzenie nazw: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>,<xref:System.Xml.XPath></span><span class="sxs-lookup"><span data-stu-id="09ff8-754">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span></span>

<span data-ttu-id="09ff8-755">Zestawy: System.Xml (w pliku System.Xml.dll), System.Xml.Linq (w pliku System.Xml.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-755">Assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="09ff8-756">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-756">Feature</span></span> | <span data-ttu-id="09ff8-757">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-757">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="09ff8-758">**Program rozpoznawania nazw**</span><span class="sxs-lookup"><span data-stu-id="09ff8-758">**Namespace resolvers**</span></span> | <span data-ttu-id="09ff8-759">Metoda <xref:System.Xml.XmlReader.ReadContentAs%2A> nie ignoruje <xref:System.Xml.IXmlNamespaceResolver> już rozpoznawania nazw przekazanych do niego.</span><span class="sxs-lookup"><span data-stu-id="09ff8-759">The <xref:System.Xml.XmlReader.ReadContentAs%2A> method no longer ignores the <xref:System.Xml.IXmlNamespaceResolver> resolver passed to it.</span></span><br><br><span data-ttu-id="09ff8-760">W poprzednich wersjach określony program rozpoznawania nazw został <xref:System.Xml.XmlReader> zignorowany, a zamiast tego został użyty.</span><span class="sxs-lookup"><span data-stu-id="09ff8-760">In previous versions, the specified namespace resolver was ignored, and the <xref:System.Xml.XmlReader> was used instead.</span></span> |
| <span data-ttu-id="09ff8-761">**Odstępu**</span><span class="sxs-lookup"><span data-stu-id="09ff8-761">**White space**</span></span> | <span data-ttu-id="09ff8-762">Aby zapobiec utracie danych podczas tworzenia <xref:System.Xml.XmlReader.Create%2A> czytnika, metoda nie odrzuca już znacznych odstępów.</span><span class="sxs-lookup"><span data-stu-id="09ff8-762">To prevent data loss when you are creating a reader, the <xref:System.Xml.XmlReader.Create%2A> method no longer discards significant white space.</span></span><br><br><span data-ttu-id="09ff8-763">Sprawdzanie poprawności XML rozpoznaje tryb zawartości mieszanej, w którym tekst można mieszać z znacznikami XML.</span><span class="sxs-lookup"><span data-stu-id="09ff8-763">XML validation recognizes mixed-content mode, where text can be intermixed with XML markup.</span></span> <span data-ttu-id="09ff8-764">W trybie mieszanym wszystkie białe spościcie są znaczące i powinny być zgłaszane.</span><span class="sxs-lookup"><span data-stu-id="09ff8-764">In mixed mode, all white space is significant and should be reported.</span></span> |

### <a name="writing"></a><span data-ttu-id="09ff8-765">Pisania</span><span class="sxs-lookup"><span data-stu-id="09ff8-765">Writing</span></span>

<span data-ttu-id="09ff8-766">Przestrzenie nazw: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>,<xref:System.Xml.XPath></span><span class="sxs-lookup"><span data-stu-id="09ff8-766">Namespaces: <xref:System.Xml.Linq>; <xref:System.Xml.Schema>, <xref:System.Xml.XPath></span></span>

<span data-ttu-id="09ff8-767">Zestawy: System.Xml (w pliku System.Xml.dll), System.Xml.Linq (w pliku System.Xml.Linq.dll)</span><span class="sxs-lookup"><span data-stu-id="09ff8-767">Assemblies: System.Xml (in System.Xml.dll), System.Xml.Linq (in System.Xml.Linq.dll)</span></span>

| <span data-ttu-id="09ff8-768">Funkcja</span><span class="sxs-lookup"><span data-stu-id="09ff8-768">Feature</span></span> | <span data-ttu-id="09ff8-769">Różnice od 3,5 SP1</span><span class="sxs-lookup"><span data-stu-id="09ff8-769">Differences from 3.5 SP1</span></span> |
| ------- | ------------------------ |
| <span data-ttu-id="09ff8-770">**Odwołania do encji**</span><span class="sxs-lookup"><span data-stu-id="09ff8-770">**Entity references**</span></span> | <span data-ttu-id="09ff8-771">Aby zapobiec uszkodzeniu danych, odwołania do jednostek nie są już dwukrotnie powiązane w atrybutach XML.</span><span class="sxs-lookup"><span data-stu-id="09ff8-771">To prevent data corruption, entity references are no longer entitized twice in XML attributes.</span></span><br><br><span data-ttu-id="09ff8-772">Jeśli użytkownik próbował zapisać jednostki `xmlns` do atrybutu `xml:lang` `xml:space` lub do lub <xref:System.Xml.XmlWriter.WriteEntityRef%2A> atrybutu przy użyciu metody, jednostka została entityzed dwa razy w danych wyjściowych, w związku z tym uszkodzenia danych.</span><span class="sxs-lookup"><span data-stu-id="09ff8-772">If the user tried to write an entity into an `xmlns` attribute or into an `xml:lang` or `xml:space` attribute by using the <xref:System.Xml.XmlWriter.WriteEntityRef%2A> method, the entity was entitized twice in the output, therefore corrupting the data.</span></span> |
| <span data-ttu-id="09ff8-773">**Nowa obsługa linii**</span><span class="sxs-lookup"><span data-stu-id="09ff8-773">**New line handling**</span></span> | <span data-ttu-id="09ff8-774">Aby zapobiec uszkodzeniu danych, <xref:System.Xml.XmlWriter> obiekty są zgodne z <xref:System.Xml.NewLineHandling> opcją.</span><span class="sxs-lookup"><span data-stu-id="09ff8-774">To prevent data corruption, <xref:System.Xml.XmlWriter> objects respect the <xref:System.Xml.NewLineHandling> option.</span></span> |

## <a name="see-also"></a><span data-ttu-id="09ff8-775">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="09ff8-775">See also</span></span>

- [<span data-ttu-id="09ff8-776">Nowe typy i elementy członkowskie w ramach .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="09ff8-776">New Types and Members in .NET Framework 4</span></span>](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff641764%28v=vs.100%29)
- [<span data-ttu-id="09ff8-777">Przewodnik po migracji do programu .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="09ff8-777">Migration Guide to .NET Framework 4</span></span>](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ff657133%28v=vs.100%29)
- [<span data-ttu-id="09ff8-778">Co nowego w platformie .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="09ff8-778">What's New in .NET Framework 4</span></span>](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms171868%28v=vs.100%29)
- [<span data-ttu-id="09ff8-779">Zgodność wersji w ramach .NET Framework</span><span class="sxs-lookup"><span data-stu-id="09ff8-779">Version Compatibility in .NET Framework</span></span>](version-compatibility.md)
- [<span data-ttu-id="09ff8-780">Migrowanie rozwiązań pakietu Office do platformy .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="09ff8-780">Migrating Office Solutions to .NET Framework 4</span></span>](/visualstudio/vsto/migrating-office-solutions-to-the-dotnet-framework-4-or-later)
- [<span data-ttu-id="09ff8-781">Przestarzałe elementy w bibliotece klas programu .NET Framework</span><span class="sxs-lookup"><span data-stu-id="09ff8-781">What's Obsolete in the .NET Framework Class Library</span></span>](../whats-new/whats-obsolete.md)
