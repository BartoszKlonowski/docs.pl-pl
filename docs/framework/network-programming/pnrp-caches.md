---
title: Pamięci podręczne PNRP
ms.date: 03/30/2017
ms.assetid: 270068d9-1b6b-4eb9-9e14-e02326bb88df
author: mcleblanc
ms.author: markl
ms.openlocfilehash: f0cda9fe5ea6d8c79249603f4a51c18a615fe839
ms.sourcegitcommit: ea00c05e0995dae928d48ead99ddab6296097b4c
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/02/2018
ms.locfileid: "48025376"
---
# <a name="pnrp-caches"></a><span data-ttu-id="c1c8c-102">Pamięci podręczne PNRP</span><span class="sxs-lookup"><span data-stu-id="c1c8c-102">PNRP Caches</span></span>
<span data-ttu-id="c1c8c-103">Elementu równorzędnego protokołu PNRP (Name Resolution Protocol) w pamięci podręcznej są kolekcji lokalnych punktów końcowych algorithmically wybranego elementu równorzędnego w elementu równorzędnego.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-103">Peer Name Resolution Protocol (PNRP) caches are local collections of algorithmically selected peer endpoints maintained on the peer.</span></span>  
  
## <a name="pnrp-cache-initialization"></a><span data-ttu-id="c1c8c-104">Inicjowanie pamięci podręcznej PNRP</span><span class="sxs-lookup"><span data-stu-id="c1c8c-104">PNRP Cache Initialization</span></span>  
 <span data-ttu-id="c1c8c-105">Aby zainicjować pamięci podręcznej PNRP, czyli kolekcji rekordów nazwy elementów równorzędnych, podczas uruchamiania węzła równorzędnego, węzeł można użyć następujących metod:</span><span class="sxs-lookup"><span data-stu-id="c1c8c-105">To initialize the PNRP cache, or Peer Name Record Collection, when a peer node starts up, a node can use the following methods:</span></span>  
  
-   <span data-ttu-id="c1c8c-106">Wpisy trwała pamięć podręczna, jakie były dostępne, gdy węzeł został zamknięty, są ładowane z magazynu danych na dysku twardym.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-106">Persistent cache entries that were present when the node was shut down are loaded from hard disk storage.</span></span>  
  
-   <span data-ttu-id="c1c8c-107">Jeśli aplikacja używa infrastruktury współpracy P2P, informacje o współpracy jest dostępna w Contact Manager dla tego węzła.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-107">If an application uses the P2P collaboration infrastructure, collaboration information is available in the Contact Manager for that node.</span></span>  
  
## <a name="scaling-peer-name-resolution-with-a-multi-level-cache"></a><span data-ttu-id="c1c8c-108">Skalowanie rozpoznawania nazw równorzędnych z pamięcią podręczną wielopoziomowe</span><span class="sxs-lookup"><span data-stu-id="c1c8c-108">Scaling Peer Name Resolution with a Multi-Level Cache</span></span>  
 <span data-ttu-id="c1c8c-109">Aby zachować rozmiary pamięci podręczne PNRP małe, węzły równorzędne Użyj wielopoziomowe pamięci podręcznej, w której każdy poziom zawiera maksymalną liczbę wpisów.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-109">To keep the sizes of the PNRP caches small, peer nodes use a multi-level cache, in which each level contains a maximum number of entries.</span></span> <span data-ttu-id="c1c8c-110">Każdy poziom w pamięci podręcznej reprezentuje mniejszy jedna dziesiąta część miejsca numer Identyfikator PNRP (2<sup>256</sup>).</span><span class="sxs-lookup"><span data-stu-id="c1c8c-110">Each level in the cache represents a one tenth smaller portion of the PNRP ID number space (2<sup>256</sup>).</span></span> <span data-ttu-id="c1c8c-111">Najniższy poziom w pamięci podręcznej zawiera lokalnie zarejestrowany identyfikator PNRP i inne identyfikatory PNRP, który numerycznie znajdują się blisko go.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-111">The lowest level in the cache contains a locally registered PNRP ID and other PNRP IDs that are numerically close to it.</span></span> <span data-ttu-id="c1c8c-112">Zgodnie z poziomu pamięci podręcznej jest wypełniany maksymalnie 20 wpisów, jest tworzony nowy niższego poziomu.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-112">As a level of the cache is filled with a maximum of 20 entries, a new lower level is created.</span></span> <span data-ttu-id="c1c8c-113">Maksymalna liczba poziomów w pamięci podręcznej jest rzędu kilku log10 (całkowita liczba identyfikatory PNRP w chmurze).</span><span class="sxs-lookup"><span data-stu-id="c1c8c-113">The maximum number of levels in the cache is on the order of log10(Total number of PNRP IDs in the cloud).</span></span> <span data-ttu-id="c1c8c-114">Na przykład w przypadku chmury globalnej z identyfikatorami PNRP 100 milionów istnieją nie więcej niż 8 (=log10(100,000,000)) poziomów w pamięci podręcznej i podobną liczbę przeskoków, aby rozwiązać Identyfikator PNRP podczas rozpoznawania nazw.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-114">For example, for a global cloud with 100 million PNRP IDs, there are no more than 8 (=log10(100,000,000)) levels in the cache and a similar number of hops to resolve a PNRP ID during name resolution.</span></span> <span data-ttu-id="c1c8c-115">Ten mechanizm pozwala uzyskać tabelę mieszania rozproszonej, dla którego dowolny identyfikator PNRP może zostać rozpoznana przez przekazywanie komunikatów żądania PNRP najbliższy elementów równorzędnych, aż do znalezienia elementu równorzędnego przy użyciu odpowiedniego CPA.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-115">This mechanism allows for a distributed hash table for which an arbitrary PNRP ID can be resolved by forwarding PNRP Request messages to the next-closest peer until the peer with the corresponding CPA is found.</span></span>  
  
 <span data-ttu-id="c1c8c-116">Aby upewnić się, rozpoznawanie wykonać, każdym węzłem dodaje wpis do najniższego poziomu pamięci podręcznej go floods kopię wejścia do wszystkich węzłów w ramach ostatniego poziomu pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-116">To ensure that resolution can complete, each time a node adds an entry to the lowest level of its cache, it floods a copy of the entry to all the nodes within the last level of the cache.</span></span>  
  
 <span data-ttu-id="c1c8c-117">Wpisy w pamięci podręcznej są odświeżane wraz z upływem czasu.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-117">The cache entries are refreshed over time.</span></span> <span data-ttu-id="c1c8c-118">Wpisy w pamięci podręcznej, które są przestarzałe, są usuwane z pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-118">Cache entries that are stale are removed from the cache.</span></span> <span data-ttu-id="c1c8c-119">Powoduje to, że tabelę skrótów rozproszonych identyfikatory PNRP opiera się na aktywnych punktów końcowych, w odróżnieniu od DNS, w której rekordy adresów i protokołu DNS zapewniają żadnej gwarancji, że węzeł skojarzonych z tym adresem aktywnie znajduje się w sieci.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-119">The result is that the distributed hash table of PNRP IDs is based on active endpoints, unlike DNS in which address records and the DNS protocol provide no guarantee that the node associated with the address is actively on the network.</span></span>  
  
## <a name="other-pnrp-caches"></a><span data-ttu-id="c1c8c-120">Inne pamięci podręczne PNRP</span><span class="sxs-lookup"><span data-stu-id="c1c8c-120">Other PNRP Caches</span></span>  
 <span data-ttu-id="c1c8c-121">Innym trwałym magazynie danych jest lokalnej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-121">Another persistent data store is the local cache.</span></span>  <span data-ttu-id="c1c8c-122">Oprócz innych obiektów niezbędnych do działania PNRP może on zawierać rekordów skojarzonych z PNRP w chmurze lub współpracy sesji, która bezpiecznie publikowania i synchronizowane między wszystkie elementy członkowskie w chmurze.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-122">In addition to the other objects needed for PNRP activity, it may include the records associated with a PNRP cloud or collaboration session that is securely published and synchronized between all the members of the cloud.</span></span> <span data-ttu-id="c1c8c-123">Tego replikowanego magazynu reprezentuje widok danych grupy, która powinna być taka sama dla wszystkich członków grupy.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-123">This replicated store represents the view of the group data, which should be the same for all group members.</span></span> <span data-ttu-id="c1c8c-124">Technicznie rzecz biorąc, te obiekty nie są rekordy per se, ale raczej aplikacji obecności i dane obiektów przeznaczonych do lokalnej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-124">Technically, these objects are not records per se, but rather application, presence, and object data destined for a local cache.</span></span> <span data-ttu-id="c1c8c-125">Korzystanie z chmury PNRP gwarantuje, że obiekty są przenoszone do wszystkich węzłów w sesji współpracy lub w chmurze PNRP.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-125">Use of the PNRP cloud ensures that objects are propagated to all nodes in the collaboration session or PNRP cloud.</span></span>  <span data-ttu-id="c1c8c-126">Rekord replikacji między elementami członkowskimi chmury używa protokołu SSL w celu zapewnienia integralności danych i szyfrowania.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-126">Record replication between cloud members uses SSL to provide encryption and data integrity.</span></span>  
  
 <span data-ttu-id="c1c8c-127">Gdy element równorzędny dołącza chmurę, nie automatycznie otrzymują lokalnej pamięci podręcznej danych z elementu równorzędnego hosta, do których one dołączyć; muszą oni subskrypcji na węźle równorzędnym hosta, aby otrzymywać aktualizacje w aplikacji, obecności i dane obiektu.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-127">When a peer joins a cloud, they do not automatically receive local cache data from the host peer to which they attach; they have to subscribe to the host peer to receive updates in application, presence, and object data.</span></span> <span data-ttu-id="c1c8c-128">Po początkowej synchronizacji elementów równorzędnych okresowo zsynchronizować ich replikowanych sklepami, aby upewnij się, że wszyscy członkowie grupy spójnie tego samego widoku.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-128">After the initial synchronization, peers periodically resynchronize their replicated stores to ensure that all group members consistently have the same view.</span></span>  <span data-ttu-id="c1c8c-129">Współpracy sesji lub aplikacje w ramach sesji współpracy mogą również wykonać tę samą funkcję.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-129">The collaboration session or applications within the collaboration session may also perform the same function.</span></span>  
  
 <span data-ttu-id="c1c8c-130">Po sesji współpracy dla chmury, aplikacje mogą zarejestrować elementów równorzędnych i rozpocząć publikowanie ich informacji przy użyciu zabezpieczeń definiowane przez zakres chmury.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-130">After a collaboration session has begun for a cloud, applications can register peers and begin publishing their information using the security defined by the cloud scope.</span></span> <span data-ttu-id="c1c8c-131">Gdy element równorzędny dołącza chmurę, mechanizmy zabezpieczeń w chmurze są stosowane na węźle równorzędnym, nadając mu zakresu, w której chcesz wziąć udział.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-131">When a peer joins a cloud, the security mechanisms for the cloud are applied to the peer, giving it a scope in which to participate.</span></span>  <span data-ttu-id="c1c8c-132">Rekordy można opublikować bezpiecznie w zakresie chmury.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-132">Its records can then be published securely within the scope of the cloud.</span></span> <span data-ttu-id="c1c8c-133">Należy zauważyć, że zakres chmury nie może być taka sama jak zakres aplikacji współpracy.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-133">Note that cloud scope may not be the same as collaboration application scope.</span></span>  
  
 <span data-ttu-id="c1c8c-134">Elementy równorzędne można zarejestrować zainteresowanie odbieranie obiektów z innymi elementami równorzędnymi.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-134">Peers can register interest in receiving objects from other peers.</span></span> <span data-ttu-id="c1c8c-135">Gdy obiekt jest aktualizowany, aplikacji współpracy zostanie wysłane powiadomienie, a nowy obiekt jest przekazywany do wszystkich subskrybentów aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-135">When an object is updated, the collaboration application is notified and the new object is passed to all subscribers of the application.</span></span> <span data-ttu-id="c1c8c-136">Na przykład elementu równorzędnego w grupie aplikacji rozmów można zarejestrować zainteresowanie odbieranie informacji o aplikacji, która będzie wysyłać je wszystkie rekordy rozmowy jako dane aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-136">For example, a peer in a group chat application can register interest in receiving application information, which will send it all chat records as application data.</span></span>  <span data-ttu-id="c1c8c-137">Dzięki temu na monitorowanie działania rozmowy w chmurze.</span><span class="sxs-lookup"><span data-stu-id="c1c8c-137">This allows it to monitor chat activity within the cloud.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c1c8c-138">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="c1c8c-138">See Also</span></span>  
 <xref:System.Net.PeerToPeer>
