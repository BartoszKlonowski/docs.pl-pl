---
title: "Publikowanie nazw elementów równorzędnych i rozwiązanie"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f0370e08-9fa6-4ee5-ab78-9a58a20a7da2
caps.latest.revision: "5"
author: mcleblanc
ms.author: markl
manager: markl
ms.workload: dotnet
ms.openlocfilehash: 76201cc1b84e2bbcee35768781f3bae1ac38e14b
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/22/2017
---
# <a name="peer-name-publication-and-resolution"></a><span data-ttu-id="55b8a-102">Publikowanie nazw elementów równorzędnych i rozwiązanie</span><span class="sxs-lookup"><span data-stu-id="55b8a-102">Peer Name Publication and Resolution</span></span>
## <a name="publishing-a-peer-name"></a><span data-ttu-id="55b8a-103">Nazwa elementu równorzędnego publikowania</span><span class="sxs-lookup"><span data-stu-id="55b8a-103">Publishing a Peer Name</span></span>  
 <span data-ttu-id="55b8a-104">Aby opublikować nowy identyfikator PNRP, peer wykonuje następujące działania:</span><span class="sxs-lookup"><span data-stu-id="55b8a-104">To publish a new PNRP ID, a peer performs the following:</span></span>  
  
-   <span data-ttu-id="55b8a-105">Wysyła komunikaty publikacji PNRP dla swoich sąsiadów pamięci podręcznej (elementów równorzędnych zarejestrowanych identyfikatorów PNRP na najniższym poziomie pamięci podręcznej) do umieszczenia ich w pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="55b8a-105">Sends PNRP publication messages to its cache neighbors (the peers that have registered PNRP IDs in the lowest level of the cache) to seed their caches.</span></span>  
  
-   <span data-ttu-id="55b8a-106">Wybiera węzły losowe w chmurze, które nie są jej sąsiadami i wysyła je żądań rozpoznawania nazw PNRP dla własnego identyfikatora P2P.</span><span class="sxs-lookup"><span data-stu-id="55b8a-106">Chooses random nodes in the cloud that are not its neighbors and sends them PNRP name resolution requests for its own P2P ID.</span></span> <span data-ttu-id="55b8a-107">Wynikowa procesu określania punktu końcowego nasion pamięci podręczne losowe węzłów w chmurze o identyfikatorze publikowania elementów równorzędnych PNRP.</span><span class="sxs-lookup"><span data-stu-id="55b8a-107">The resulting endpoint determination process seeds the caches of random nodes in the cloud with the PNRP ID of the publishing peer.</span></span>  
  
-  
  
 <span data-ttu-id="55b8a-108">Węzły w wersji 2 PNRP nie publikować identyfikatorów PNRP, jeśli są one tylko rozpoznawanie innych identyfikatorów P2P.</span><span class="sxs-lookup"><span data-stu-id="55b8a-108">PNRP version 2 nodes do not publish PNRP IDs if they are only resolving other P2P IDs.</span></span> <span data-ttu-id="55b8a-109">HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\PeerNet\PNRP\IPV6-Global\SearchOnly = 1 wartość rejestru (typ: REG_DWORD) określa, że elementy równorzędne tylko używać PNRP do rozpoznawania nazw, nigdy nie dla nazwy publikacji.</span><span class="sxs-lookup"><span data-stu-id="55b8a-109">The HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\PeerNet\PNRP\IPV6-Global\SearchOnly=1 registry value (REG_DWORD type) specifies that peers only use PNRP for name resolution, never for name publication.</span></span> <span data-ttu-id="55b8a-110">Ta wartość rejestru można również skonfigurować za pomocą zasad grupy.</span><span class="sxs-lookup"><span data-stu-id="55b8a-110">This registry value can also be configured through Group Policy.</span></span>  
  
## <a name="resolving-a-peer-name"></a><span data-ttu-id="55b8a-111">Rozpoznawanie nazwy elementu równorzędnego</span><span class="sxs-lookup"><span data-stu-id="55b8a-111">Resolving a Peer Name</span></span>  
 <span data-ttu-id="55b8a-112">Lokalizowanie innych elementów równorzędnych w protokole PNRP sieci lub w chmurze jest procesem, które składają się z dwóch faz:</span><span class="sxs-lookup"><span data-stu-id="55b8a-112">Locating other peers in a PNRP network or cloud is a process comprised of two phases:</span></span>  
  
1.  <span data-ttu-id="55b8a-113">Określenie punktu końcowego</span><span class="sxs-lookup"><span data-stu-id="55b8a-113">Endpoint Determination</span></span>  
  
2.  <span data-ttu-id="55b8a-114">Usługa PNRP identyfikator rozwiązania</span><span class="sxs-lookup"><span data-stu-id="55b8a-114">PNRP ID Resolution</span></span>  
  
 <span data-ttu-id="55b8a-115">W fazie określenie punktu końcowego elementu równorzędnego, który próbuje rozpoznać Identyfikatora PNRP usługi na innym komputerze określa ten komputer zdalny adres IPv6.</span><span class="sxs-lookup"><span data-stu-id="55b8a-115">In the endpoint determination phase, a peer that is attempting to resolve the PNRP ID of a service on another computer determines the IPv6 address of that remote peer.</span></span>  <span data-ttu-id="55b8a-116">Komputer zdalny jest opublikowana lub jest skojarzony z Identyfikatorem PNRP komputera lub usługi.</span><span class="sxs-lookup"><span data-stu-id="55b8a-116">The remote peer is the one that published, or is associated with, the PNRP ID of the computer or service.</span></span>  
  
 <span data-ttu-id="55b8a-117">Po potwierdzeniu, że zdalny punkt końcowy został zarejestrowany w chmurze usługi PNRP, żądanie elementu równorzędnego w fazie rozpoznawania Identyfikator PNRP wysyła żądanie do tego punktu końcowego elementu równorzędnego dla Identyfikatora PNRP żądanej usługi.</span><span class="sxs-lookup"><span data-stu-id="55b8a-117">After confirming that the remote endpoint has been registered into the PNRP cloud, the requesting peer in the PNRP ID resolution phase sends a request to that peer endpoint for the PNRP ID of the desired service.</span></span> <span data-ttu-id="55b8a-118">Punkt końcowy wysyła odpowiedź potwierdzenie Identyfikator PNRP usługi komentarz, oraz maksymalnie 4 kilobajtów dodatkowe informacje, że żądanie elementu równorzędnego można używać do komunikacji w przyszłości.</span><span class="sxs-lookup"><span data-stu-id="55b8a-118">The endpoint sends a reply confirming the PNRP ID of the service, a comment, and up to 4 kilobytes of additional information that the requesting peer can use for future communication.</span></span> <span data-ttu-id="55b8a-119">Na przykład jeśli żądanego punktu końcowego jest serwerem gier, dane rekordu nazwa dodatkowego elementu równorzędnego mogą zawierać informacje o gry, poziom play, a bieżąca liczba odtwarzaczy.</span><span class="sxs-lookup"><span data-stu-id="55b8a-119">For example, if the desired endpoint is a gaming server, the additional peer name record data can contain information about the game, the level of play, and the current number of players.</span></span>  
  
 <span data-ttu-id="55b8a-120">W fazie określenie punktu końcowego PNRP używa procesem iteracyjnym do lokalizowania węzeł, który jest opublikowany Identyfikator PNRP, w którym węzeł rozpoznawania jest odpowiedzialny za skontaktowanie się z węzłów, które są kolejno bliżej docelowy identyfikator PNRP.</span><span class="sxs-lookup"><span data-stu-id="55b8a-120">In the endpoint determination phase, PNRP uses an iterative process for locating the node that published the PNRP ID, in which the node performing the resolution is responsible for contacting nodes that are successively closer to the target PNRP ID.</span></span>  
  
 <span data-ttu-id="55b8a-121">Przeprowadzać rozpoznawania nazw w protokole PNRP, peer sprawdza wpisy w bufor wpisu, który jest zgodna z docelowym Identyfikator PNRP.</span><span class="sxs-lookup"><span data-stu-id="55b8a-121">To perform name resolution in PNRP, the peer examines the entries in its own cache for an entry that matches the target PNRP ID.</span></span> <span data-ttu-id="55b8a-122">Jeśli znaleziono element równorzędny wysyła komunikat żądania PNRP dla elementu równorzędnego i czeka na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="55b8a-122">If found, the peer sends a PNRP Request message to the peer and waits for a response.</span></span> <span data-ttu-id="55b8a-123">Jeśli wpis dla Identyfikatora PNRP nie zostanie znaleziony, element równorzędny wysyła komunikat żądania PNRP dla elementu równorzędnego umożliwiająca wpisu, który ma identyfikator PNRP, najlepiej pasujący element docelowy identyfikator PNRP.</span><span class="sxs-lookup"><span data-stu-id="55b8a-123">If an entry for the PNRP ID is not found, the peer sends a PNRP Request message to the peer that corresponds to the entry that has a PNRP ID that most closely matches the target PNRP ID.</span></span> <span data-ttu-id="55b8a-124">Węzeł, który odbiera komunikat żądania PNRP sprawdza własnej pamięci podręcznej i wykonuje następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="55b8a-124">The node that receives the PNRP Request message examines its own cache and does the following:</span></span>  
  
-   <span data-ttu-id="55b8a-125">Jeśli zostanie znaleziony Identyfikator PNRP, peer żądanego punktu końcowego odpowiada bezpośrednio na żądanie elementu równorzędnego.</span><span class="sxs-lookup"><span data-stu-id="55b8a-125">If the PNRP ID is found, the requested endpoint peer replies directly to the requesting peer.</span></span>  
  
-   <span data-ttu-id="55b8a-126">Nie znaleziono Identyfikatora PNRP, Identyfikatora PNRP w pamięci podręcznej jest bliżej docelowy identyfikator PNRP żądanego elementu równorzędnego wysyła odpowiedź na żądanie elementu równorzędnego zawierający adres IPv6 elementu równorzędnego reprezentujący wpisu z Identyfikatorem PNRP bardziej ściśle zgodna z docelowym Identyfikator PNRP.</span><span class="sxs-lookup"><span data-stu-id="55b8a-126">If the PNRP ID is not found and a PNRP ID in the cache is closer to the target PNRP ID, the requested peer sends a response to the requesting peer containing the IPv6 address of the peer that represents the entry with a PNRP ID that more closely matches the target PNRP ID.</span></span> <span data-ttu-id="55b8a-127">Przy użyciu adresu IP, w odpowiedzi, węzeł żądania wysyła kolejną wiadomość PNRP żądania na adres IPv6 do odpowiedzi lub zbadać pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="55b8a-127">Using the IP address in the response, the requesting node sends another PNRP Request message to the IPv6 address to respond or examine its cache.</span></span>  
  
-   <span data-ttu-id="55b8a-128">Nie znaleziono Identyfikatora PNRP, jeśli nie ma żadnych Identyfikator PNRP w swojej pamięci podręcznej zbliżonej do docelowej Identyfikator PNRP, żądanego elementu równorzędnego wysyła żądanie elementu równorzędnego odpowiedzi, który wskazuje na taki stan.</span><span class="sxs-lookup"><span data-stu-id="55b8a-128">If the PNRP ID is not found and there is no PNRP ID in its cache that is closer to the target PNRP ID, the requested peer sends the requesting peer a response that indicates this condition.</span></span> <span data-ttu-id="55b8a-129">Żądanie elementu równorzędnego następnie wybiera najbliższy Identyfikator PNRP.</span><span class="sxs-lookup"><span data-stu-id="55b8a-129">The requesting peer then chooses the next-closest PNRP ID.</span></span>  
  
-  
  
 <span data-ttu-id="55b8a-130">Z kolejnych iteracji, proces jest kontynuowany wysyłającego żądanie elementu równorzędnego po pewnym czasie lokalizowanie węzeł, który jest zarejestrowany identyfikator PNRP.</span><span class="sxs-lookup"><span data-stu-id="55b8a-130">The requesting peer continues this process with successive iterations, eventually locating the node that registered the PNRP ID.</span></span>  
  
 <span data-ttu-id="55b8a-131">W ramach <xref:System.Net.PeerToPeer> przestrzeni nazw, istnieje relacja wiele do wielu między <xref:System.Net.PeerToPeer.PeerName> rekordy, które zawierają punkty końcowe i chmur PNRP lub siatki, w których komunikują się.</span><span class="sxs-lookup"><span data-stu-id="55b8a-131">Within the <xref:System.Net.PeerToPeer> namespace, there is a many-to-many relationship between the <xref:System.Net.PeerToPeer.PeerName> records that contain endpoints and PNRP clouds or meshes in which they communicate.</span></span> <span data-ttu-id="55b8a-132">Gdy istnieją zduplikowane lub przestarzałych wpisów lub wiele węzłów o tej samej nazwie elementu równorzędnego, węzły PNRP mogą uzyskać bieżące informacje przy użyciu <xref:System.Net.PeerToPeer.PeerNameResolver> klasy.</span><span class="sxs-lookup"><span data-stu-id="55b8a-132">When there are duplicate or stale entries, or multiple nodes with the same peer name, PNRP nodes can obtain current information using the <xref:System.Net.PeerToPeer.PeerNameResolver> class.</span></span> <span data-ttu-id="55b8a-133"><xref:System.Net.PeerToPeer.PeerNameResolver> Metody upraszczanie z perspektywy jednej równorzędnej peer do wielu rekordów i tego samego równorzędnej jeden do wielu chmur przy użyciu nazwę pojedynczego elementu równorzędnego.</span><span class="sxs-lookup"><span data-stu-id="55b8a-133">The <xref:System.Net.PeerToPeer.PeerNameResolver> methods use a single peer name to simplify the perspective to one peer-to-many peer name records and the same one peer to many clouds.</span></span> <span data-ttu-id="55b8a-134">Efekt jest podobny do zapytania wykonywane przy użyciu sprzężenia relacyjne tabeli.</span><span class="sxs-lookup"><span data-stu-id="55b8a-134">This is similar to a query performed using a relational-table join.</span></span> <span data-ttu-id="55b8a-135">Po pomyślnym zakończeniu zwraca obiekt rozpoznawania <xref:System.Net.PeerToPeer.PeerNameRecordCollection> nazwę określonego elementu równorzędnego.</span><span class="sxs-lookup"><span data-stu-id="55b8a-135">Upon successful completion, the Resolver object returns a <xref:System.Net.PeerToPeer.PeerNameRecordCollection> for the specified peer name.</span></span>  <span data-ttu-id="55b8a-136">Na przykład nazwa elementu równorzędnego wystąpiłyby we wszystkich rekordach nazwa elementu równorzędnego w kolekcji, uporządkowanych według chmury.</span><span class="sxs-lookup"><span data-stu-id="55b8a-136">For example, a peer name would occur in all the peer name records in the collection, ordered by cloud.</span></span> <span data-ttu-id="55b8a-137">Są to wystąpień nazwa elementu równorzędnego, którego dane pomocnicze zażąda aplikacją opartą na protokole PNRP.</span><span class="sxs-lookup"><span data-stu-id="55b8a-137">These are the instances of the peer name whose supporting data may be requested by a PNRP-based application.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="55b8a-138">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="55b8a-138">See Also</span></span>  
 <xref:System.Net.PeerToPeer>
