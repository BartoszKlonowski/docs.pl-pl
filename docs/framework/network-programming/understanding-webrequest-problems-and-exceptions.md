---
title: Opis problemów i wyjątków dotyczących elementów WebRequest
ms.date: 03/30/2017
ms.assetid: 74a361a5-e912-42d3-8f2e-8e9a96880a2b
ms.openlocfilehash: 172ad7508bdcac94cc278faab65a2e265b3c6a65
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/15/2020
ms.locfileid: "76743890"
---
# <a name="understanding-webrequest-problems-and-exceptions"></a>Opis problemów i wyjątków dotyczących elementów WebRequest
<xref:System.Net.WebRequest>i jego klasy<xref:System.Net.HttpWebRequest>pochodne ( , <xref:System.Net.FtpWebRequest>, i <xref:System.Net.FileWebRequest>) zgłaszają wyjątki, aby zasygnalizować nieprawidłowy stan. Czasami rozwiązanie tych problemów nie jest oczywiste.  
  
## <a name="solutions"></a>Rozwiązania  
 Sprawdź <xref:System.Net.WebException.Status%2A> właściwość, <xref:System.Net.WebException> aby ustalić problem. W poniższej tabeli przedstawiono kilka wartości stanu i niektóre możliwe rozwiązania.  
  
|Stan|Szczegóły|Rozwiązanie|  
|------------|-------------|--------------|  
|<xref:System.Net.WebExceptionStatus.SendFailure><br /><br /> — lub —<br /><br /> <xref:System.Net.WebExceptionStatus.ReceiveFailure>|Wystąpił problem z gniazdem źródłowym. Połączenie mogło zostać zresetowane.|Połącz ponownie i ponownie wysuń żądanie.<br /><br /> Upewnij się, że jest zainstalowany najnowszy dodatek Service Pack.<br /><br /> Zwiększ wartość <xref:System.Net.ServicePointManager.MaxServicePointIdleTime%2A?displayProperty=nameWithType> właściwości.<br /><br /> Ustaw <xref:System.Net.HttpWebRequest.KeepAlive%2A?displayProperty=nameWithType> `false`na .<br /><br /> Zwiększ liczbę maksymalnych połączeń <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A> z właściwością.<br /><br /> Sprawdź konfigurację serwera proxy.<br /><br /> Jeśli używasz SSL, upewnij się, że proces serwera ma uprawnienia dostępu do magazynu certyfikatów.<br /><br /> W przypadku wysyłania dużej <xref:System.Net.HttpWebRequest.AllowWriteStreamBuffering%2A> ilości `false`danych ustaw wartość .|  
|<xref:System.Net.WebExceptionStatus.TrustFailure>|Nie można zweryfikować certyfikatu serwera.|Spróbuj otworzyć identyfikator URI przy użyciu programu Internet Explorer. Rozwiąż wszelkie alerty zabezpieczeń wyświetlane przez program IE. Jeśli nie można rozpoznać alertu zabezpieczeń, można utworzyć <xref:System.Net.ICertificatePolicy> klasę `true`zasad certyfikatu, <xref:System.Net.ServicePointManager.CertificatePolicy%2A>która implementuje zwracaną , i przekazać ją do programu .<br /><br /> Patrz <https://support.microsoft.com/?id=823177>.<br /><br /> Upewnij się, że certyfikat urzędu certyfikacji, który podpisał certyfikat serwera, jest dodawany do listy Zaufany urząd certyfikacji w programie Internet Explorer.<br /><br /> Upewnij się, że nazwa hosta w adresie URL jest zgodna z nazwą pospolitą na certyfikacie serwera.|  
|<xref:System.Net.WebExceptionStatus.SecureChannelFailure>|Wystąpił błąd w transakcji SSL lub wystąpił problem z certyfikatem.|Program .NET Framework w wersji 1.1 obsługuje tylko protokół SSL w wersji 3.0. Jeśli serwer używa tylko protokołu TLS w wersji 1.0 lub SSL w wersji 2.0, wyjątek zostanie zgłoszony. Uaktualnij do programu .NET Framework w <xref:System.Net.ServicePointManager.SecurityProtocol%2A> wersji 2.0 i ustawiono, aby dopasować go do serwera.<br /><br /> Certyfikat klienta został podpisany przez urząd certyfikacji (CA), któremu serwer nie ufa. Zainstaluj certyfikat urzędu certyfikacji na serwerze. Zobacz: <https://support.microsoft.com/?id=332077>.<br /><br /> Upewnij się, że masz zainstalowany najnowszy dodatek Service Pack.|  
|<xref:System.Net.WebExceptionStatus.ConnectFailure>|Nie udało się połączyć.|Zapora lub serwer proxy blokuje połączenie. Zmodyfikuj zaporę lub serwer proxy, aby zezwolić na połączenie.<br /><br /> Jawnie wyznaczyć <xref:System.Net.WebProxy> w aplikacji klienckiej, wywołując <xref:System.Net.WebProxy> konstruktora (`WebServiceProxyClass.Proxy = new WebProxy("http://server:80", true)`).<br /><br /> Uruchom plik Filemon lub Regmon, aby upewnić się, że tożsamość procesu roboczego ma niezbędne uprawnienia dostępu do pliku WSPWSP.dll, HKLM\System\CurrentControlSet\Services\DnsCache lub HKLM\System\CurrentControlSet\Services\WinSock2.|  
|<xref:System.Net.WebExceptionStatus.NameResolutionFailure>|Usługa nazw domen nie może rozpoznać nazwy hosta.|Poprawnie skonfiguruj serwer proxy. Zobacz: <https://support.microsoft.com/?id=318140>.<br /><br /> Upewnij się, że zainstalowane oprogramowanie antywirusowe lub zapora nie blokuje połączenia.|  
|<xref:System.Net.WebExceptionStatus.RequestCanceled>|<xref:System.Net.WebRequest.Abort%2A>lub wystąpił błąd.|Ten problem może być spowodowany dużym obciążeniem klienta lub serwera. Zmniejsz obciążenie.<br /><br /> Zwiększ <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A> ustawienie.<br /><br /> Zobacz, <https://support.microsoft.com/?id=821268> aby zmodyfikować ustawienia wydajności usługi sieci Web.|  
|<xref:System.Net.WebExceptionStatus.ConnectionClosed>|Aplikacja próbowała zapisać do gniazda, które zostało już zamknięte.|Klient lub serwer jest przeciążony. Zmniejsz obciążenie.<br /><br /> Zwiększ <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A> ustawienie.<br /><br /> Zobacz, <https://support.microsoft.com/?id=821268> aby zmodyfikować ustawienia wydajności usługi sieci Web.|  
|<xref:System.Net.WebExceptionStatus.MessageLengthLimitExceeded>|Limit ustawiony<xref:System.Net.HttpWebRequest.MaximumResponseHeadersLength%2A>( ) na długość wiadomości został przekroczony.|Zwiększ wartość <xref:System.Net.HttpWebRequest.MaximumResponseHeadersLength%2A> właściwości.|  
|<xref:System.Net.WebExceptionStatus.ProxyNameResolutionFailure>|Usługa nazw domen nie może rozpoznać nazwy hosta serwera proxy.|Poprawnie skonfiguruj serwer proxy. Zobacz: <https://support.microsoft.com/?id=318140>.<br /><br /> Wymuś <xref:System.Net.HttpWebRequest> użycie serwera <xref:System.Net.HttpWebRequest.Proxy%2A> proxy, ustawiając właściwość na `null`.|  
|<xref:System.Net.WebExceptionStatus.ServerProtocolViolation>|Odpowiedź z serwera nie jest prawidłową odpowiedzią HTTP. Ten problem występuje, gdy program .NET Framework wykryje, że odpowiedź serwera nie jest zgodna z protokołem HTTP 1.1 RFC. Ten problem może wystąpić, gdy odpowiedź zawiera nieprawidłowe nagłówki lub niepoprawne ograniczniki nagłówka. RFC 2616 definiuje http 1.1 i prawidłowy format odpowiedzi z serwera. Aby uzyskać więcej informacji, zobacz [RFC 2616 - Hypertext Transfer Protocol -- HTTP/1.1](https://tools.ietf.org/html/rfc2616) w witrynie internetowej [Internet Engineering Task Force (IETF).](https://www.ietf.org/)|Pobierz ślad sieci transakcji i sprawdź nagłówki w odpowiedzi.<br /><br /> Jeśli aplikacja wymaga odpowiedzi serwera bez analizy (może to być `useUnsafeHeaderParsing` `true` problem z zabezpieczeniami), ustawiona na w pliku konfiguracyjnym. Zobacz [ \<httpWebRequest> Element (Ustawienia sieciowe)](../configure-apps/file-schema/network/httpwebrequest-element-network-settings.md).|  
  
## <a name="see-also"></a>Zobacz też

- <xref:System.Net.HttpWebRequest>
- <xref:System.Net.HttpWebResponse>
- <xref:System.Net.Dns>
