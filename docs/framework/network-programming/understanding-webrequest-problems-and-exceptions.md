---
title: Opis problemów i wyjątków dotyczących elementów WebRequest
ms.date: 03/30/2017
ms.assetid: 74a361a5-e912-42d3-8f2e-8e9a96880a2b
ms.openlocfilehash: 172ad7508bdcac94cc278faab65a2e265b3c6a65
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/24/2020
ms.locfileid: "76743890"
---
# <a name="understanding-webrequest-problems-and-exceptions"></a>Opis problemów i wyjątków dotyczących elementów WebRequest
<xref:System.Net.WebRequest> i jej klasy pochodne (<xref:System.Net.HttpWebRequest>, <xref:System.Net.FtpWebRequest>i <xref:System.Net.FileWebRequest>) generują wyjątki, aby sygnalizować nietypowy warunek. Czasami rozwiązywanie tych problemów nie jest oczywiste.  
  
## <a name="solutions"></a>Rozwiązania  
 Sprawdź Właściwość <xref:System.Net.WebException.Status%2A> <xref:System.Net.WebException>, aby określić problem. W poniższej tabeli przedstawiono kilka wartości stanu i możliwych rozwiązań.  
  
|Stan|Szczegóły|Rozwiązanie|  
|------------|-------------|--------------|  
|<xref:System.Net.WebExceptionStatus.SendFailure><br /><br /> —lub—<br /><br /> <xref:System.Net.WebExceptionStatus.ReceiveFailure>|Wystąpił problem z podstawowym gniazdem. Połączenie mogło zostać zresetowane.|Ponownie nawiąż połączenie i Wyślij ponownie żądanie.<br /><br /> Upewnij się, że jest zainstalowany najnowszy dodatek Service Pack.<br /><br /> Zwiększ wartość właściwości <xref:System.Net.ServicePointManager.MaxServicePointIdleTime%2A?displayProperty=nameWithType>.<br /><br /> Ustaw <xref:System.Net.HttpWebRequest.KeepAlive%2A?displayProperty=nameWithType> na `false`.<br /><br /> Zwiększ maksymalną liczbę połączeń z właściwością <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A>.<br /><br /> Sprawdź konfigurację serwera proxy.<br /><br /> W przypadku korzystania z protokołu SSL upewnij się, że proces serwera ma uprawnienia dostępu do magazynu certyfikatów.<br /><br /> W przypadku wysyłania dużej ilości danych ustaw <xref:System.Net.HttpWebRequest.AllowWriteStreamBuffering%2A> na `false`.|  
|<xref:System.Net.WebExceptionStatus.TrustFailure>|Nie można zweryfikować certyfikatu serwera.|Spróbuj otworzyć identyfikator URI przy użyciu programu Internet Explorer. Rozwiąż wszelkie alerty zabezpieczeń wyświetlane przez program IE. Jeśli nie można rozwiązać alertu zabezpieczeń, można utworzyć klasę zasad certyfikatów implementującą <xref:System.Net.ICertificatePolicy>, która zwraca `true`, i przekazać ją do <xref:System.Net.ServicePointManager.CertificatePolicy%2A>.<br /><br /> Zapoznaj się z <https://support.microsoft.com/?id=823177>.<br /><br /> Upewnij się, że certyfikat urzędu certyfikacji, który podpisał certyfikat serwera, został dodany do listy zaufanych urzędów certyfikacji w programie Internet Explorer.<br /><br /> Upewnij się, że nazwa hosta w adresie URL jest zgodna z nazwą pospolitą certyfikatu serwera.|  
|<xref:System.Net.WebExceptionStatus.SecureChannelFailure>|Wystąpił błąd w transakcji SSL lub wystąpił problem z certyfikatem.|.NET Framework wersja 1,1 obsługuje tylko protokół SSL w wersji 3,0. Jeśli serwer używa tylko protokołu TLS w wersji 1,0 lub SSL w wersji 2,0, wyjątek jest zgłaszany. Uaktualnij .NET Framework do wersji 2,0 i ustaw <xref:System.Net.ServicePointManager.SecurityProtocol%2A> tak, aby odpowiadały serwerowi.<br /><br /> Certyfikat klienta został podpisany przez urząd certyfikacji (CA), który nie jest zaufany dla serwera. Zainstaluj na serwerze certyfikat urzędu certyfikacji. Zobacz <https://support.microsoft.com/?id=332077>.<br /><br /> Upewnij się, że zainstalowano najnowszy dodatek Service Pack.|  
|<xref:System.Net.WebExceptionStatus.ConnectFailure>|Nie udało się połączyć.|Zapora lub serwer proxy blokuje połączenie. Zmodyfikuj zaporę lub serwer proxy, aby zezwolić na połączenie.<br /><br /> Jawnie Wyznacz <xref:System.Net.WebProxy> w aplikacji klienckiej, wywołując Konstruktor <xref:System.Net.WebProxy> (`WebServiceProxyClass.Proxy = new WebProxy("http://server:80", true)`).<br /><br /> Uruchom program Filemon lub Regmon, aby upewnić się, że tożsamość procesu roboczego ma odpowiednie uprawnienia dostępu do WSPWSP. dll, HKLM\System\CurrentControlSet\Services\DnsCache lub HKLM\System\CurrentControlSet\Services\WinSock2.|  
|<xref:System.Net.WebExceptionStatus.NameResolutionFailure>|Usługa nazwy domeny nie może rozpoznać nazwy hosta.|Skonfiguruj poprawnie serwer proxy. Zobacz <https://support.microsoft.com/?id=318140>.<br /><br /> Upewnij się, że żadne zainstalowane oprogramowanie chroniące przed wirusami lub zapora nie blokuje połączenia.|  
|<xref:System.Net.WebExceptionStatus.RequestCanceled>|Wywołano <xref:System.Net.WebRequest.Abort%2A> lub wystąpił błąd.|Przyczyną tego problemu może być duże obciążenie klienta lub serwera. Zmniejsz obciążenie.<br /><br /> Zwiększ ustawienie <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A>.<br /><br /> Aby zmodyfikować ustawienia wydajności usługi sieci Web, zobacz <https://support.microsoft.com/?id=821268>.|  
|<xref:System.Net.WebExceptionStatus.ConnectionClosed>|Aplikacja podjęła próbę zapisu w gnieździe, które zostało już zamknięte.|Klient lub serwer jest przeciążony. Zmniejsz obciążenie.<br /><br /> Zwiększ ustawienie <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A>.<br /><br /> Aby zmodyfikować ustawienia wydajności usługi sieci Web, zobacz <https://support.microsoft.com/?id=821268>.|  
|<xref:System.Net.WebExceptionStatus.MessageLengthLimitExceeded>|Przekroczono limit określony (<xref:System.Net.HttpWebRequest.MaximumResponseHeadersLength%2A>) długości komunikatu.|Zwiększ wartość właściwości <xref:System.Net.HttpWebRequest.MaximumResponseHeadersLength%2A>.|  
|<xref:System.Net.WebExceptionStatus.ProxyNameResolutionFailure>|Usługa nazwy domeny nie może rozpoznać nazwy hosta serwera proxy.|Skonfiguruj poprawnie serwer proxy. Zobacz <https://support.microsoft.com/?id=318140>.<br /><br /> Wymuś <xref:System.Net.HttpWebRequest> nie używaj serwera proxy przez ustawienie właściwości <xref:System.Net.HttpWebRequest.Proxy%2A> na `null`.|  
|<xref:System.Net.WebExceptionStatus.ServerProtocolViolation>|Odpowiedź z serwera nie jest prawidłową odpowiedzią HTTP. Ten problem występuje, gdy .NET Framework wykryje, że odpowiedź serwera nie jest zgodna z standardem HTTP 1,1 RFC. Ten problem może wystąpić, gdy odpowiedź zawiera nieprawidłowe nagłówki lub nieprawidłowe ograniczniki nagłówka. Specyfikacja RFC 2616 definiuje protokół HTTP 1,1 oraz prawidłowy format odpowiedzi z serwera. Aby uzyskać więcej informacji, zobacz [dokument RFC 2616-Hypertext Transfer Protocol--HTTP/1.1](https://tools.ietf.org/html/rfc2616) w witrynie [Internet Engineering Task Force (IETF)](https://www.ietf.org/) .|Pobierz ślad sieciowy transakcji i Przejrzyj nagłówki w odpowiedzi.<br /><br /> Jeśli aplikacja wymaga odpowiedzi serwera bez analizy (może to być problem z zabezpieczeniami), ustaw `useUnsafeHeaderParsing` na `true` w pliku konfiguracji. Zobacz [\<httpWebRequest > elementu (Ustawienia sieci)](../configure-apps/file-schema/network/httpwebrequest-element-network-settings.md).|  
  
## <a name="see-also"></a>Zobacz także

- <xref:System.Net.HttpWebRequest>
- <xref:System.Net.HttpWebResponse>
- <xref:System.Net.Dns>
