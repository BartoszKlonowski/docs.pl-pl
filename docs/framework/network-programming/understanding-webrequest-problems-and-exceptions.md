---
title: Opis problemów i wyjątków dotyczących elementów WebRequest
description: Żądania WebRequest i klasy pochodne generują wyjątki, aby sygnalizować nietypowe warunki. Użyj tych możliwych rozwiązań, aby rozwiązać te warunki w .NET Framework.
ms.date: 03/30/2017
ms.assetid: 74a361a5-e912-42d3-8f2e-8e9a96880a2b
ms.openlocfilehash: aa9ab989bad7940e82cc4fd8fd22ca3915f7b800
ms.sourcegitcommit: da21fc5a8cce1e028575acf31974681a1bc5aeed
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/08/2020
ms.locfileid: "84502083"
---
# <a name="understanding-webrequest-problems-and-exceptions"></a>Opis problemów i wyjątków dotyczących elementów WebRequest
<xref:System.Net.WebRequest>i jej klasy pochodne ( <xref:System.Net.HttpWebRequest> , <xref:System.Net.FtpWebRequest> i <xref:System.Net.FileWebRequest> ) generują wyjątki, aby sygnalizować nietypowy warunek. Czasami rozwiązywanie tych problemów nie jest oczywiste.  
  
## <a name="solutions"></a>Rozwiązania  
 Sprawdź <xref:System.Net.WebException.Status%2A> Właściwość w <xref:System.Net.WebException> celu ustalenia problemu. W poniższej tabeli przedstawiono kilka wartości stanu i możliwych rozwiązań.  
  
|Stan|Szczegóły|Rozwiązanie|  
|------------|-------------|--------------|  
|<xref:System.Net.WebExceptionStatus.SendFailure><br /><br /> -lub-<br /><br /> <xref:System.Net.WebExceptionStatus.ReceiveFailure>|Wystąpił problem z podstawowym gniazdem. Połączenie mogło zostać zresetowane.|Ponownie nawiąż połączenie i Wyślij ponownie żądanie.<br /><br /> Upewnij się, że jest zainstalowany najnowszy dodatek Service Pack.<br /><br /> Zwiększ wartość <xref:System.Net.ServicePointManager.MaxServicePointIdleTime%2A?displayProperty=nameWithType> właściwości.<br /><br /> Ustaw <xref:System.Net.HttpWebRequest.KeepAlive%2A?displayProperty=nameWithType> wartość `false` .<br /><br /> Zwiększ maksymalną liczbę połączeń z <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A> właściwością.<br /><br /> Sprawdź konfigurację serwera proxy.<br /><br /> W przypadku korzystania z protokołu SSL upewnij się, że proces serwera ma uprawnienia dostępu do magazynu certyfikatów.<br /><br /> W przypadku wysyłania dużej ilości danych ustaw wartość <xref:System.Net.HttpWebRequest.AllowWriteStreamBuffering%2A> `false` .|  
|<xref:System.Net.WebExceptionStatus.TrustFailure>|Nie można zweryfikować certyfikatu serwera.|Spróbuj otworzyć identyfikator URI przy użyciu programu Internet Explorer. Rozwiąż wszelkie alerty zabezpieczeń wyświetlane przez program IE. Jeśli nie można rozwiązać alertu zabezpieczeń, można utworzyć klasę zasad certyfikatów implementującą, <xref:System.Net.ICertificatePolicy> która zwraca `true` i przekazać do <xref:System.Net.ServicePointManager.CertificatePolicy%2A> .<br /><br /> Zapoznaj się z tematem <https://support.microsoft.com/?id=823177> .<br /><br /> Upewnij się, że certyfikat urzędu certyfikacji, który podpisał certyfikat serwera, został dodany do listy zaufanych urzędów certyfikacji w programie Internet Explorer.<br /><br /> Upewnij się, że nazwa hosta w adresie URL jest zgodna z nazwą pospolitą certyfikatu serwera.|  
|<xref:System.Net.WebExceptionStatus.SecureChannelFailure>|Wystąpił błąd w transakcji SSL lub wystąpił problem z certyfikatem.|.NET Framework wersja 1,1 obsługuje tylko protokół SSL w wersji 3,0. Jeśli serwer używa tylko protokołu TLS w wersji 1,0 lub SSL w wersji 2,0, wyjątek jest zgłaszany. Uaktualnij program .NET Framework do wersji 2,0, a następnie ustaw <xref:System.Net.ServicePointManager.SecurityProtocol%2A> zgodny z serwerem.<br /><br /> Certyfikat klienta został podpisany przez urząd certyfikacji (CA), który nie jest zaufany dla serwera. Zainstaluj na serwerze certyfikat urzędu certyfikacji. Zobacz: <https://support.microsoft.com/?id=332077>.<br /><br /> Upewnij się, że zainstalowano najnowszy dodatek Service Pack.|  
|<xref:System.Net.WebExceptionStatus.ConnectFailure>|Nie udało się połączyć.|Zapora lub serwer proxy blokuje połączenie. Zmodyfikuj zaporę lub serwer proxy, aby zezwolić na połączenie.<br /><br /> Jawnie Wyznacz element <xref:System.Net.WebProxy> w aplikacji klienckiej, wywołując <xref:System.Net.WebProxy> Konstruktor ( `WebServiceProxyClass.Proxy = new WebProxy("http://server:80", true)` ).<br /><br /> Uruchom program Filemon lub Regmon, aby upewnić się, że tożsamość procesu roboczego ma odpowiednie uprawnienia dostępu do WSPWSP. dll, HKLM\System\CurrentControlSet\Services\DnsCache lub HKLM\System\CurrentControlSet\Services\WinSock2.|  
|<xref:System.Net.WebExceptionStatus.NameResolutionFailure>|Usługa nazwy domeny nie może rozpoznać nazwy hosta.|Skonfiguruj poprawnie serwer proxy. Zobacz: <https://support.microsoft.com/?id=318140>.<br /><br /> Upewnij się, że żadne zainstalowane oprogramowanie chroniące przed wirusami lub zapora nie blokuje połączenia.|  
|<xref:System.Net.WebExceptionStatus.RequestCanceled>|<xref:System.Net.WebRequest.Abort%2A>zostało wywołane lub wystąpił błąd.|Przyczyną tego problemu może być duże obciążenie klienta lub serwera. Zmniejsz obciążenie.<br /><br /> Zwiększ <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A> ustawienie.<br /><br /> Zobacz <https://support.microsoft.com/?id=821268> , aby zmodyfikować ustawienia wydajności usługi sieci Web.|  
|<xref:System.Net.WebExceptionStatus.ConnectionClosed>|Aplikacja podjęła próbę zapisu w gnieździe, które zostało już zamknięte.|Klient lub serwer jest przeciążony. Zmniejsz obciążenie.<br /><br /> Zwiększ <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A> ustawienie.<br /><br /> Zobacz <https://support.microsoft.com/?id=821268> , aby zmodyfikować ustawienia wydajności usługi sieci Web.|  
|<xref:System.Net.WebExceptionStatus.MessageLengthLimitExceeded>|Przekroczono limit określony <xref:System.Net.HttpWebRequest.MaximumResponseHeadersLength%2A> dla długości komunikatu ().|Zwiększ wartość <xref:System.Net.HttpWebRequest.MaximumResponseHeadersLength%2A> właściwości.|  
|<xref:System.Net.WebExceptionStatus.ProxyNameResolutionFailure>|Usługa nazwy domeny nie może rozpoznać nazwy hosta serwera proxy.|Skonfiguruj poprawnie serwer proxy. Zobacz: <https://support.microsoft.com/?id=318140>.<br /><br /> Wymuś <xref:System.Net.HttpWebRequest> użycie serwera proxy przez ustawienie <xref:System.Net.HttpWebRequest.Proxy%2A> właściwości na `null` .|  
|<xref:System.Net.WebExceptionStatus.ServerProtocolViolation>|Odpowiedź z serwera nie jest prawidłową odpowiedzią HTTP. Ten problem występuje, gdy .NET Framework wykryje, że odpowiedź serwera nie jest zgodna z standardem HTTP 1,1 RFC. Ten problem może wystąpić, gdy odpowiedź zawiera nieprawidłowe nagłówki lub nieprawidłowe ograniczniki nagłówka. Specyfikacja RFC 2616 definiuje protokół HTTP 1,1 oraz prawidłowy format odpowiedzi z serwera. Aby uzyskać więcej informacji, zobacz [dokument RFC 2616-Hypertext Transfer Protocol--HTTP/1.1](https://tools.ietf.org/html/rfc2616) w witrynie [Internet Engineering Task Force (IETF)](https://www.ietf.org/) .|Pobierz ślad sieciowy transakcji i Przejrzyj nagłówki w odpowiedzi.<br /><br /> Jeśli aplikacja wymaga odpowiedzi serwera bez analizy (może to być problem z zabezpieczeniami), ustaw wartość `useUnsafeHeaderParsing` `true` w pliku konfiguracji. Zobacz [ \<httpWebRequest> element (Ustawienia sieci)](../configure-apps/file-schema/network/httpwebrequest-element-network-settings.md).|  
  
## <a name="see-also"></a>Zobacz także

- <xref:System.Net.HttpWebRequest>
- <xref:System.Net.HttpWebResponse>
- <xref:System.Net.Dns>
