---
title: 'Wskazówki: Tworzenie formularza wzorzec szczegół za pomocą dwóch formantów DataGridView formularzy systemu Windows'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- DataGridView control [Windows Forms], master/detail form
- parent-child tables [Windows Forms], displaying on Windows Forms
- master-details lists [Windows Forms], displaying on Windows Forms
- walkthroughs [Windows Forms], DataGridView control
ms.assetid: c5fa29e8-47f7-4691-829b-0e697a691f36
ms.openlocfilehash: 38f7c6197fb3ee79119e41ab9620bc3aa2b21900
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/04/2018
ms.locfileid: "33529444"
---
# <a name="walkthrough-creating-a-masterdetail-form-using-two-windows-forms-datagridview-controls"></a><span data-ttu-id="4f8b5-102">Wskazówki: tworzenie formularza wzorzec/szczegół za pomocą dwóch formantów DataGridView formularzy systemu Windows</span><span class="sxs-lookup"><span data-stu-id="4f8b5-102">Walkthrough: Creating a Master/Detail Form Using Two Windows Forms DataGridView Controls</span></span>
<span data-ttu-id="4f8b5-103">Jedną z najbardziej typowych scenariuszy stosowania <xref:System.Windows.Forms.DataGridView> formant jest *wzorzec/szczegół* formularza, w którym jest wyświetlany relacji nadrzędny/podrzędny między dwiema tabelami bazy danych.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-103">One of the most common scenarios for using the <xref:System.Windows.Forms.DataGridView> control is the *master/detail* form, in which a parent/child relationship between two database tables is displayed.</span></span> <span data-ttu-id="4f8b5-104">Wybierania wierszy w tabeli głównej powoduje, że tabela szczegółów aktualizowania przy użyciu odpowiednich danych podrzędnych.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-104">Selecting rows in the master table causes the detail table to update with the corresponding child data.</span></span>  
  
 <span data-ttu-id="4f8b5-105">Implementacja formularza wzorzec/szczegół jest łatwy w użyciu interakcji między <xref:System.Windows.Forms.DataGridView> kontroli i <xref:System.Windows.Forms.BindingSource> składnika.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-105">Implementing a master/detail form is easy using the interaction between the <xref:System.Windows.Forms.DataGridView> control and the <xref:System.Windows.Forms.BindingSource> component.</span></span> <span data-ttu-id="4f8b5-106">W tym przykładzie utworzysz formularza za pomocą dwóch <xref:System.Windows.Forms.DataGridView> kontrolek i dwa <xref:System.Windows.Forms.BindingSource> składników.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-106">In this walkthrough, you will build the form using two <xref:System.Windows.Forms.DataGridView> controls and two <xref:System.Windows.Forms.BindingSource> components.</span></span> <span data-ttu-id="4f8b5-107">W formularzu będą wyświetlone dwa powiązane tabele w przykładowej bazie danych Northwind programu SQL Server: `Customers` i `Orders`.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-107">The form will show two related tables in the Northwind SQL Server sample database: `Customers` and `Orders`.</span></span> <span data-ttu-id="4f8b5-108">Gdy skończysz, konieczne będzie formularz, który zawiera wszystkich klientów z bazy danych we wzorcu <xref:System.Windows.Forms.DataGridView> i wszystkich zleceń dla wybranego klienta w szczegółach <xref:System.Windows.Forms.DataGridView>.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-108">When you are finished, you will have a form that shows all the customers in the database in the master <xref:System.Windows.Forms.DataGridView> and all the orders for the selected customer in the detail <xref:System.Windows.Forms.DataGridView>.</span></span>  
  
 <span data-ttu-id="4f8b5-109">Aby skopiować kod w tym temacie na jednej liście, zobacz [porady: tworzenie wzorzec/szczegół formularza za pomocą dwóch formantów formularzy systemu Windows DataGridView](../../../../docs/framework/winforms/controls/create-a-master-detail-form-using-two-datagridviews.md).</span><span class="sxs-lookup"><span data-stu-id="4f8b5-109">To copy the code in this topic as a single listing, see [How to: Create a Master/Detail Form Using Two Windows Forms DataGridView Controls](../../../../docs/framework/winforms/controls/create-a-master-detail-form-using-two-datagridviews.md).</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="4f8b5-110">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="4f8b5-110">Prerequisites</span></span>  
 <span data-ttu-id="4f8b5-111">W celu przeprowadzenia tego instruktażu potrzebne są:</span><span class="sxs-lookup"><span data-stu-id="4f8b5-111">In order to complete this walkthrough, you will need:</span></span>  
  
-   <span data-ttu-id="4f8b5-112">Dostęp do serwera z przykładowej bazy danych Northwind programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-112">Access to a server that has the Northwind SQL Server sample database.</span></span>  
  
## <a name="creating-the-form"></a><span data-ttu-id="4f8b5-113">Tworzenie formularza</span><span class="sxs-lookup"><span data-stu-id="4f8b5-113">Creating the form</span></span>  
  
#### <a name="to-create-a-masterdetail-form"></a><span data-ttu-id="4f8b5-114">Aby utworzyć formularz główny/szczegółowy</span><span class="sxs-lookup"><span data-stu-id="4f8b5-114">To create a master/detail form</span></span>  
  
1.  <span data-ttu-id="4f8b5-115">Utwórz klasę pochodną <xref:System.Windows.Forms.Form> i zawiera dwa <xref:System.Windows.Forms.DataGridView> kontrolek i dwa <xref:System.Windows.Forms.BindingSource> składników.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-115">Create a class that derives from <xref:System.Windows.Forms.Form> and contains two <xref:System.Windows.Forms.DataGridView> controls and two <xref:System.Windows.Forms.BindingSource> components.</span></span> <span data-ttu-id="4f8b5-116">Poniższy kod zawiera podstawowe formularza inicjowania oraz `Main` metody.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-116">The following code provides basic form initialization and includes a `Main` method.</span></span> <span data-ttu-id="4f8b5-117">Tworzenie formularza za pomocą projektanta programu Visual Studio można używać Projektanta wygenerowanego kodu zamiast tego kodu, ale należy użyć nazw wyświetlanych w deklaracjach zmiennych w tym miejscu.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-117">If you use the Visual Studio designer to create your form, you can use the designer generated code instead of this code, but be sure to use the names shown in the variable declarations here.</span></span>  
  
     [!code-csharp[System.Windows.Forms.DataGridViewMasterDetails#01](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/CS/masterdetails.cs#01)]
     [!code-vb[System.Windows.Forms.DataGridViewMasterDetails#01](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/VB/masterdetails.vb#01)]  
    [!code-csharp[System.Windows.Forms.DataGridViewMasterDetails#02](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/CS/masterdetails.cs#02)]
    [!code-vb[System.Windows.Forms.DataGridViewMasterDetails#02](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/VB/masterdetails.vb#02)]  
  
2.  <span data-ttu-id="4f8b5-118">W definicji klasy formularza obsługi szczegóły połączenia z bazą danych, należy zaimplementować metodę.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-118">Implement a method in your form's class definition for handling the detail of connecting to the database.</span></span> <span data-ttu-id="4f8b5-119">W tym przykładzie użyto `GetData` metodę, która wypełnia <xref:System.Data.DataSet> obiektu powoduje dodanie <xref:System.Data.DataRelation> obiekt do zestawu danych i wiązania <xref:System.Windows.Forms.BindingSource> składników.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-119">This example uses a `GetData` method that populates a <xref:System.Data.DataSet> object, adds a <xref:System.Data.DataRelation> object to the data set, and binds the <xref:System.Windows.Forms.BindingSource> components.</span></span> <span data-ttu-id="4f8b5-120">Należy ustawić `connectionString` zmiennej na wartość, która jest odpowiednia dla Twojej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-120">Be sure to set the `connectionString` variable to a value that is appropriate for your database.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="4f8b5-121">Przechowywanie poufne informacje, takie jak hasła, w ciągu połączenia może mieć wpływ na bezpieczeństwo aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-121">Storing sensitive information, such as a password, within the connection string can affect the security of your application.</span></span> <span data-ttu-id="4f8b5-122">Korzystanie z uwierzytelniania systemu Windows (znanego również jako zabezpieczenia zintegrowane) jest bezpieczniejszym sposobem na kontrolowanie dostępu do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-122">Using Windows Authentication (also known as integrated security) is a more secure way to control access to a database.</span></span> <span data-ttu-id="4f8b5-123">Aby uzyskać więcej informacji, zobacz [ochrony informacji o połączeniu](../../../../docs/framework/data/adonet/protecting-connection-information.md).</span><span class="sxs-lookup"><span data-stu-id="4f8b5-123">For more information, see [Protecting Connection Information](../../../../docs/framework/data/adonet/protecting-connection-information.md).</span></span>  
  
     [!code-csharp[System.Windows.Forms.DataGridViewMasterDetails#20](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/CS/masterdetails.cs#20)]
     [!code-vb[System.Windows.Forms.DataGridViewMasterDetails#20](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/VB/masterdetails.vb#20)]  
  
3.  <span data-ttu-id="4f8b5-124">Implementowanie obsługi dla formularza użytkownika <xref:System.Windows.Forms.Form.Load> zdarzeń, która jest powiązywana <xref:System.Windows.Forms.DataGridView> formanty <xref:System.Windows.Forms.BindingSource> składniki i wywołania `GetData` — metoda.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-124">Implement a handler for your form's <xref:System.Windows.Forms.Form.Load> event that binds the <xref:System.Windows.Forms.DataGridView> controls to the <xref:System.Windows.Forms.BindingSource> components and calls the `GetData` method.</span></span> <span data-ttu-id="4f8b5-125">Poniższy przykład zawiera kod, który zmienia rozmiar <xref:System.Windows.Forms.DataGridView> kolumn wyświetlanych danych.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-125">The following example includes code that resizes <xref:System.Windows.Forms.DataGridView> columns to fit the displayed data.</span></span>  
  
     [!code-csharp[System.Windows.Forms.DataGridViewMasterDetails#10](../../../../samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/CS/masterdetails.cs#10)]
     [!code-vb[System.Windows.Forms.DataGridViewMasterDetails#10](../../../../samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/VB/masterdetails.vb#10)]  
  
## <a name="testing-the-application"></a><span data-ttu-id="4f8b5-126">Testowanie aplikacji</span><span class="sxs-lookup"><span data-stu-id="4f8b5-126">Testing the Application</span></span>  
 <span data-ttu-id="4f8b5-127">Teraz możesz przetestować formularz, aby upewnić się, że działa zgodnie z oczekiwaniami.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-127">You can now test the form to make sure it behaves as expected.</span></span>  
  
#### <a name="to-test-the-form"></a><span data-ttu-id="4f8b5-128">Aby przetestować formularz</span><span class="sxs-lookup"><span data-stu-id="4f8b5-128">To test the form</span></span>  
  
-   <span data-ttu-id="4f8b5-129">Kompilowanie i uruchamianie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-129">Compile and run the application.</span></span>  
  
     <span data-ttu-id="4f8b5-130">Zobaczysz dwa <xref:System.Windows.Forms.DataGridView> określa jeden nad drugim.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-130">You will see two <xref:System.Windows.Forms.DataGridView> controls, one above the other.</span></span> <span data-ttu-id="4f8b5-131">U góry są klientów z Northwind `Customers` tabeli i u dołu są `Orders` odpowiadającego danego odbiorcy.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-131">On top are the customers from the Northwind `Customers` table, and at the bottom are the `Orders` corresponding to the selected customer.</span></span> <span data-ttu-id="4f8b5-132">Po wybraniu różne wiersze w prawym górnym <xref:System.Windows.Forms.DataGridView>, zawartość niższa <xref:System.Windows.Forms.DataGridView> odpowiednio zmienić.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-132">As you select different rows in the upper <xref:System.Windows.Forms.DataGridView>, the contents of the lower <xref:System.Windows.Forms.DataGridView> change accordingly.</span></span>  
  
## <a name="next-steps"></a><span data-ttu-id="4f8b5-133">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="4f8b5-133">Next Steps</span></span>  
 <span data-ttu-id="4f8b5-134">Ta aplikacja zawiera podstawowe <xref:System.Windows.Forms.DataGridView> funkcje formantu.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-134">This application gives you a basic understanding of the <xref:System.Windows.Forms.DataGridView> control's capabilities.</span></span> <span data-ttu-id="4f8b5-135">Można dostosować wygląd i zachowanie <xref:System.Windows.Forms.DataGridView> sterowania na kilka sposobów:</span><span class="sxs-lookup"><span data-stu-id="4f8b5-135">You can customize the appearance and behavior of the <xref:System.Windows.Forms.DataGridView> control in several ways:</span></span>  
  
-   <span data-ttu-id="4f8b5-136">Zmienianie stylów obramowania i nagłówek.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-136">Change border and header styles.</span></span> <span data-ttu-id="4f8b5-137">Aby uzyskać więcej informacji, zobacz [porady: Zmiana obramowania i style linii siatki w formancie DataGridView formularzy systemu Windows](../../../../docs/framework/winforms/controls/change-the-border-and-gridline-styles-in-the-datagrid.md).</span><span class="sxs-lookup"><span data-stu-id="4f8b5-137">For more information, see [How to: Change the Border and Gridline Styles in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/change-the-border-and-gridline-styles-in-the-datagrid.md).</span></span>  
  
-   <span data-ttu-id="4f8b5-138">Włącz lub ograniczanie danych wejściowych użytkownika na <xref:System.Windows.Forms.DataGridView> formantu.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-138">Enable or restrict user input to the <xref:System.Windows.Forms.DataGridView> control.</span></span> <span data-ttu-id="4f8b5-139">Aby uzyskać więcej informacji, zobacz [porady: Zapobiegaj dodawaniu i usuwaniu rzędów do formantu DataGridView formularzy systemu Windows](../../../../docs/framework/winforms/controls/prevent-row-addition-and-deletion-datagridview.md), i [jak: utworzyć tylko do odczytu w kolumn w formancie DataGridView formularzy systemu Windows](../../../../docs/framework/winforms/controls/how-to-make-columns-read-only-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="4f8b5-139">For more information, see [How to: Prevent Row Addition and Deletion in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/prevent-row-addition-and-deletion-datagridview.md), and [How to: Make Columns Read-Only in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/how-to-make-columns-read-only-in-the-windows-forms-datagridview-control.md).</span></span>  
  
-   <span data-ttu-id="4f8b5-140">Sprawdzanie poprawności danych wejściowych użytkownika na <xref:System.Windows.Forms.DataGridView> formantu.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-140">Validate user input to the <xref:System.Windows.Forms.DataGridView> control.</span></span> <span data-ttu-id="4f8b5-141">Aby uzyskać więcej informacji, zobacz [wskazówki: Sprawdzanie poprawności danych w formancie DataGridView formularzy systemu Windows](../../../../docs/framework/winforms/controls/walkthrough-validating-data-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="4f8b5-141">For more information, see [Walkthrough: Validating Data in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/walkthrough-validating-data-in-the-windows-forms-datagridview-control.md).</span></span>  
  
-   <span data-ttu-id="4f8b5-142">Obsłużyć bardzo dużych zestawów danych przy użyciu trybu wirtualnego.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-142">Handle very large data sets using virtual mode.</span></span> <span data-ttu-id="4f8b5-143">Aby uzyskać więcej informacji, zobacz [wskazówki: Implementowanie trybu wirtualnego w formancie DataGridView formularzy systemu Windows](../../../../docs/framework/winforms/controls/implementing-virtual-mode-wf-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="4f8b5-143">For more information, see [Walkthrough: Implementing Virtual Mode in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/implementing-virtual-mode-wf-datagridview-control.md).</span></span>  
  
-   <span data-ttu-id="4f8b5-144">Dostosowywanie wyglądu komórek.</span><span class="sxs-lookup"><span data-stu-id="4f8b5-144">Customize the appearance of cells.</span></span> <span data-ttu-id="4f8b5-145">Aby uzyskać więcej informacji, zobacz [porady: Dostosowywanie wyglądu komórek w formancie DataGridView formularzy systemu Windows](../../../../docs/framework/winforms/controls/customize-the-appearance-of-cells-in-the-datagrid.md) i [porady: Ustaw domyślnych stylów komórki dla formantu DataGridView formularzy systemu Windows](../../../../docs/framework/winforms/controls/how-to-set-default-cell-styles-for-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="4f8b5-145">For more information, see [How to: Customize the Appearance of Cells in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/customize-the-appearance-of-cells-in-the-datagrid.md) and [How to: Set Default Cell Styles for the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/how-to-set-default-cell-styles-for-the-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="4f8b5-146">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="4f8b5-146">See Also</span></span>  
 <xref:System.Windows.Forms.DataGridView>  
 <xref:System.Windows.Forms.BindingSource>  
 [<span data-ttu-id="4f8b5-147">Wyświetlanie danych w kontrolce DataGridView formularzy Windows Forms</span><span class="sxs-lookup"><span data-stu-id="4f8b5-147">Displaying Data in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/displaying-data-in-the-windows-forms-datagridview-control.md)  
 [<span data-ttu-id="4f8b5-148">Instrukcje: tworzenie formularza wzorzec/szczegół za pomocą dwóch kontrolek DataGridView formularzy Windows Forms</span><span class="sxs-lookup"><span data-stu-id="4f8b5-148">How to: Create a Master/Detail Form Using Two Windows Forms DataGridView Controls</span></span>](../../../../docs/framework/winforms/controls/create-a-master-detail-form-using-two-datagridviews.md)  
 [<span data-ttu-id="4f8b5-149">Ochrona informacji o połączeniu</span><span class="sxs-lookup"><span data-stu-id="4f8b5-149">Protecting Connection Information</span></span>](../../../../docs/framework/data/adonet/protecting-connection-information.md)
