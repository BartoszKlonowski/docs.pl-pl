---
title: Dodatkowe zagadnienia dotyczące zabezpieczeń
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms, secure calls to Windows API
- security [Windows Forms]
- security [Windows Forms], calling APIs
- Clipboard [Windows Forms], securing access
ms.assetid: 15abda8b-0527-47c7-aedb-77ab595f2bf1
ms.openlocfilehash: c8d51a57194f1dc536bc4b5d0376987dbfd3b2cf
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/24/2020
ms.locfileid: "76739811"
---
# <a name="additional-security-considerations-in-windows-forms"></a><span data-ttu-id="f35de-102">Dodatkowe zagadnienia dotyczące zabezpieczeń dotyczące formularzy systemu Windows</span><span class="sxs-lookup"><span data-stu-id="f35de-102">Additional Security Considerations in Windows Forms</span></span>
<span data-ttu-id="f35de-103">.NET Framework ustawienia zabezpieczeń mogą spowodować, że aplikacja będzie działać inaczej w środowisku częściowego zaufania niż na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="f35de-103">.NET Framework security settings might cause your application to run differently in a partial trust environment than on your local computer.</span></span> <span data-ttu-id="f35de-104">.NET Framework ogranicza dostęp do takich krytycznych zasobów lokalnych, jak system plików, Sieć i niezarządzane interfejsy API, między innymi.</span><span class="sxs-lookup"><span data-stu-id="f35de-104">The .NET Framework restricts access to such critical local resources as the file system, network, and unmanaged APIs, among other things.</span></span> <span data-ttu-id="f35de-105">Ustawienia zabezpieczeń mają wpływ na możliwość wywołania interfejsu API systemu Microsoft Windows lub innych interfejsów API, które nie mogą być zweryfikowane przez system zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="f35de-105">The security settings affect the ability to call the Microsoft Windows API or other APIs that cannot be verified by the security system.</span></span> <span data-ttu-id="f35de-106">Zabezpieczenia mają również wpływ na inne aspekty aplikacji, w tym dostęp do plików i danych oraz drukowanie.</span><span class="sxs-lookup"><span data-stu-id="f35de-106">Security also affects other aspects of your application, including file and data access, and printing.</span></span> <span data-ttu-id="f35de-107">Aby uzyskać więcej informacji na temat dostępu do plików i danych w środowisku częściowej relacji zaufania, zobacz [bardziej bezpieczny dostęp do plików i danych w Windows Forms](more-secure-file-and-data-access-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="f35de-107">For more information about file and data access in a partial trust environment, see [More Secure File and Data Access in Windows Forms](more-secure-file-and-data-access-in-windows-forms.md).</span></span> <span data-ttu-id="f35de-108">Aby uzyskać więcej informacji na temat drukowania w środowisku częściowej relacji zaufania, zobacz [bezpieczniejsze drukowanie w Windows Forms](more-secure-printing-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="f35de-108">For more information about printing in a partial trust environment, see [More Secure Printing in Windows Forms](more-secure-printing-in-windows-forms.md).</span></span>  
  
 <span data-ttu-id="f35de-109">W poniższych sekcjach omówiono, jak pracować ze schowkiem, przeprowadzać manipulowanie oknami i wywoływać interfejs API systemu Windows z aplikacji, które działają w środowisku częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="f35de-109">The following sections discuss how to work with the Clipboard, perform window manipulation, and call the Windows API from applications that are running in a partial trust environment.</span></span>  
  
## <a name="clipboard-access"></a><span data-ttu-id="f35de-110">Dostęp do schowka</span><span class="sxs-lookup"><span data-stu-id="f35de-110">Clipboard Access</span></span>  
 <span data-ttu-id="f35de-111">Klasa <xref:System.Security.Permissions.UIPermission> kontroluje dostęp do schowka, a skojarzona wartość wyliczenia <xref:System.Security.Permissions.UIPermissionClipboard> wskazuje poziom dostępu.</span><span class="sxs-lookup"><span data-stu-id="f35de-111">The <xref:System.Security.Permissions.UIPermission> class controls access to the Clipboard, and the associated <xref:System.Security.Permissions.UIPermissionClipboard> enumeration value indicates the level of access.</span></span> <span data-ttu-id="f35de-112">W poniższej tabeli przedstawiono możliwe poziomy uprawnień.</span><span class="sxs-lookup"><span data-stu-id="f35de-112">The following table shows the possible permission levels.</span></span>  
  
|<span data-ttu-id="f35de-113">UIPermissionClipboard wartość</span><span class="sxs-lookup"><span data-stu-id="f35de-113">UIPermissionClipboard value</span></span>|<span data-ttu-id="f35de-114">Opis</span><span class="sxs-lookup"><span data-stu-id="f35de-114">Description</span></span>|  
|---------------------------------|-----------------|  
|<xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard>|<span data-ttu-id="f35de-115">Schowka można używać bez ograniczeń.</span><span class="sxs-lookup"><span data-stu-id="f35de-115">The Clipboard can be used without restriction.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard>|<span data-ttu-id="f35de-116">Schowek może być używany z pewnymi ograniczeniami.</span><span class="sxs-lookup"><span data-stu-id="f35de-116">The Clipboard can be used with some restrictions.</span></span> <span data-ttu-id="f35de-117">Możliwość umieszczania danych w schowku (operacje kopiowania lub wycinania) jest nieograniczona.</span><span class="sxs-lookup"><span data-stu-id="f35de-117">The ability to put data on the Clipboard (Copy or Cut command operations) is unrestricted.</span></span> <span data-ttu-id="f35de-118">Formanty wewnętrzne akceptujące Wklej, takie jak pole tekstowe, mogą akceptować dane ze schowka, ale formanty użytkownika nie mogą programistycznie odczytywać ze schowka.</span><span class="sxs-lookup"><span data-stu-id="f35de-118">Intrinsic controls that accept paste, such as a text box, can accept Clipboard data, but user controls cannot programmatically read from the Clipboard.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionClipboard.NoClipboard>|<span data-ttu-id="f35de-119">Nie można użyć Schowka.</span><span class="sxs-lookup"><span data-stu-id="f35de-119">The Clipboard cannot be used.</span></span>|  
  
 <span data-ttu-id="f35de-120">Domyślnie strefa Lokalny intranet otrzymuje <xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard> dostęp, a strefa Internet odbiera <xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard> dostęp.</span><span class="sxs-lookup"><span data-stu-id="f35de-120">By default, the Local Intranet zone receives <xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard> access and the Internet zone receives <xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard> access.</span></span> <span data-ttu-id="f35de-121">Oznacza to, że aplikacja może kopiować dane do schowka, ale aplikacja nie może programistycznie wkleić ani odczytać ze schowka.</span><span class="sxs-lookup"><span data-stu-id="f35de-121">This means that the application can copy data to the Clipboard, but the application cannot programmatically paste to or read from the Clipboard.</span></span> <span data-ttu-id="f35de-122">Te ograniczenia uniemożliwiają programom bez pełnego zaufania odczytywanie zawartości skopiowanej do schowka przez inną aplikację.</span><span class="sxs-lookup"><span data-stu-id="f35de-122">These restrictions prevent programs without full trust from reading content copied to the Clipboard by another application.</span></span> <span data-ttu-id="f35de-123">Jeśli aplikacja wymaga pełnego dostępu do schowka, ale nie masz uprawnień, musisz podwyższyć poziom uprawnień aplikacji.</span><span class="sxs-lookup"><span data-stu-id="f35de-123">If your application requires full Clipboard access but you do not have the permissions, you will have to elevate the permissions for your application.</span></span> <span data-ttu-id="f35de-124">Aby uzyskać więcej informacji na temat podnoszenia uprawnień, zobacz [Ogólne administrowanie zasadami zabezpieczeń](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="f35de-124">For more information about elevating permissions, see [General Security Policy Administration](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span></span>  
  
## <a name="window-manipulation"></a><span data-ttu-id="f35de-125">Manipulowanie oknem</span><span class="sxs-lookup"><span data-stu-id="f35de-125">Window Manipulation</span></span>  
 <span data-ttu-id="f35de-126">Klasa <xref:System.Security.Permissions.UIPermission> kontroluje również uprawnienia do wykonywania manipulowania oknem i innych akcji związanych z interfejsem użytkownika, a skojarzona wartość wyliczenia <xref:System.Security.Permissions.UIPermissionWindow> wskazuje poziom dostępu.</span><span class="sxs-lookup"><span data-stu-id="f35de-126">The <xref:System.Security.Permissions.UIPermission> class also controls permission to perform window manipulation and other UI-related actions, and the associated <xref:System.Security.Permissions.UIPermissionWindow> enumeration value indicates the level of access.</span></span> <span data-ttu-id="f35de-127">W poniższej tabeli przedstawiono możliwe poziomy uprawnień.</span><span class="sxs-lookup"><span data-stu-id="f35de-127">The following table shows the possible permission levels.</span></span>  
  
 <span data-ttu-id="f35de-128">Domyślnie strefa Lokalny intranet otrzymuje <xref:System.Security.Permissions.UIPermissionWindow.AllWindows> dostęp, a strefa Internet odbiera <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> dostęp.</span><span class="sxs-lookup"><span data-stu-id="f35de-128">By default, the Local Intranet zone receives <xref:System.Security.Permissions.UIPermissionWindow.AllWindows> access and the Internet zone receives <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> access.</span></span> <span data-ttu-id="f35de-129">Oznacza to, że w strefie Internet aplikacja może wykonywać większość działań okna i interfejsów użytkownika, ale wygląd okna zostanie zmodyfikowany.</span><span class="sxs-lookup"><span data-stu-id="f35de-129">This means that in the Internet zone, the application can perform most windowing and UI actions, but the window's appearance will be modified.</span></span> <span data-ttu-id="f35de-130">Zmodyfikowane okno wyświetla powiadomienie w dymku, gdy pierwsze uruchomienie, zawiera zmodyfikowany tekst paska tytułu i wymaga przycisku Zamknij na pasku tytułu.</span><span class="sxs-lookup"><span data-stu-id="f35de-130">The modified window displays a balloon notification when first run, contains modified title bar text, and requires a close button on the title bar.</span></span> <span data-ttu-id="f35de-131">Powiadomienie w dymku i pasek tytułu identyfikują użytkownika aplikacji, która jest uruchomiona przez aplikację w ramach częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="f35de-131">The balloon notification and the title bar identify to the user of the application that the application is running under partial trust.</span></span>  
  
|<span data-ttu-id="f35de-132">UIPermissionWindow wartość</span><span class="sxs-lookup"><span data-stu-id="f35de-132">UIPermissionWindow value</span></span>|<span data-ttu-id="f35de-133">Opis</span><span class="sxs-lookup"><span data-stu-id="f35de-133">Description</span></span>|  
|------------------------------|-----------------|  
|<xref:System.Security.Permissions.UIPermissionWindow.AllWindows>|<span data-ttu-id="f35de-134">Użytkownicy mogą używać wszystkich zdarzeń systemu Windows i danych wejściowych użytkownika bez ograniczeń.</span><span class="sxs-lookup"><span data-stu-id="f35de-134">Users can use all windows and user input events without restriction.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>|<span data-ttu-id="f35de-135">Użytkownicy mogą używać tylko bezpieczniejszego systemu Windows najwyższego poziomu i bezpieczniejszego systemu Windows na potrzeby rysowania i mogą używać tylko zdarzeń wejściowych użytkownika dla interfejsu użytkownika w tych oknach najwyższego poziomu i w podsystemach Windows.</span><span class="sxs-lookup"><span data-stu-id="f35de-135">Users can use only safer top-level windows and safer subwindows for drawing, and can use only user input events for the user interface within those top-level windows and subwindows.</span></span> <span data-ttu-id="f35de-136">Te bezpieczniejsze okna są jasno oznaczone i mają minimalne i maksymalne ograniczenia rozmiaru.</span><span class="sxs-lookup"><span data-stu-id="f35de-136">These safer windows are clearly labeled and have minimum and maximum size restrictions.</span></span> <span data-ttu-id="f35de-137">Ograniczenia uniemożliwiają potencjalnie szkodliwe ataki, takie jak imitacje ekranów logowania systemu lub pulpit systemowy, a także ograniczają dostęp programistyczny do okien nadrzędnych, interfejsów API związanych z ostrością i używania kontrolki <xref:System.Windows.Forms.ToolTip>,</span><span class="sxs-lookup"><span data-stu-id="f35de-137">The restrictions prevent potentially harmful spoofing attacks, such as imitating system logon screens or the system desktop, and restricts programmatic access to parent windows, focus-related APIs, and use of the <xref:System.Windows.Forms.ToolTip> control,</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows>|<span data-ttu-id="f35de-138">Użytkownicy mogą używać tylko bezpieczniejszego systemu Windows do rysowania i mogą korzystać tylko z zdarzeń wejściowych użytkownika dla interfejsu użytkownika w tym podsystemie.</span><span class="sxs-lookup"><span data-stu-id="f35de-138">Users can use only safer subwindows for drawing, and can use only user input events for the user interface within that subwindow.</span></span> <span data-ttu-id="f35de-139">Kontrolka wyświetlana w przeglądarce to przykład bezpieczniejszego podokna.</span><span class="sxs-lookup"><span data-stu-id="f35de-139">A control displayed within a browser is an example of a safer subwindow.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.NoWindows>|<span data-ttu-id="f35de-140">Użytkownicy nie mogą używać żadnych zdarzeń interfejsu systemu Windows ani użytkownika.</span><span class="sxs-lookup"><span data-stu-id="f35de-140">Users cannot use any windows or user interface events.</span></span> <span data-ttu-id="f35de-141">Nie można użyć interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="f35de-141">No user interface can be used.</span></span>|  
  
 <span data-ttu-id="f35de-142">Każdy poziom uprawnień identyfikowany przez Wyliczenie <xref:System.Security.Permissions.UIPermissionWindow> umożliwia mniejszą liczbę akcji niż wyższy poziom.</span><span class="sxs-lookup"><span data-stu-id="f35de-142">Each permission level identified by the <xref:System.Security.Permissions.UIPermissionWindow> enumeration allows fewer actions than the level above it.</span></span> <span data-ttu-id="f35de-143">Poniższe tabele wskazują akcje ograniczone przez wartości <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> i <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows>.</span><span class="sxs-lookup"><span data-stu-id="f35de-143">The following tables indicate the actions that are restricted by the <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> and <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> values.</span></span> <span data-ttu-id="f35de-144">Aby uzyskać dokładne uprawnienia, które są wymagane dla każdego elementu członkowskiego, zobacz odwołanie do tego elementu członkowskiego w dokumentacji biblioteki klas .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f35de-144">For exact permissions that are required for each member, see the reference for that member in the .NET Framework class library documentation.</span></span>  
  
 <span data-ttu-id="f35de-145">uprawnienie <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> ogranicza akcje wymienione w poniższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="f35de-145"><xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> permission restricts the actions listed in the following table.</span></span>  
  
|<span data-ttu-id="f35de-146">Składnik</span><span class="sxs-lookup"><span data-stu-id="f35de-146">Component</span></span>|<span data-ttu-id="f35de-147">Akcje z ograniczeniami</span><span class="sxs-lookup"><span data-stu-id="f35de-147">Restricted actions</span></span>|  
|---------------|------------------------|  
|<xref:System.Windows.Forms.Application>|<span data-ttu-id="f35de-148">-Ustawianie właściwości <xref:System.Windows.Forms.Application.SafeTopLevelCaptionFormat%2A>.</span><span class="sxs-lookup"><span data-stu-id="f35de-148">-   Setting the <xref:System.Windows.Forms.Application.SafeTopLevelCaptionFormat%2A> property.</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="f35de-149">— Pobieranie właściwości <xref:System.Windows.Forms.Control.Parent%2A>.</span><span class="sxs-lookup"><span data-stu-id="f35de-149">-   Getting the <xref:System.Windows.Forms.Control.Parent%2A> property.</span></span><br /><span data-ttu-id="f35de-150">-Ustawianie właściwości `Region`.</span><span class="sxs-lookup"><span data-stu-id="f35de-150">-   Setting the `Region` property.</span></span><br /><span data-ttu-id="f35de-151">-Wywoływanie metody <xref:System.Windows.Forms.Control.FindForm%2A>, <xref:System.Windows.Forms.Control.Focus%2A>, <xref:System.Windows.Forms.Control.FromChildHandle%2A> i <xref:System.Windows.Forms.Control.FromHandle%2A>, <xref:System.Windows.Forms.Control.PreProcessMessage%2A>, <xref:System.Windows.Forms.Control.ReflectMessage%2A>lub <xref:System.Windows.Forms.Control.SetTopLevel%2A>.</span><span class="sxs-lookup"><span data-stu-id="f35de-151">-   Calling the <xref:System.Windows.Forms.Control.FindForm%2A> , <xref:System.Windows.Forms.Control.Focus%2A>, <xref:System.Windows.Forms.Control.FromChildHandle%2A> and <xref:System.Windows.Forms.Control.FromHandle%2A>, <xref:System.Windows.Forms.Control.PreProcessMessage%2A>, <xref:System.Windows.Forms.Control.ReflectMessage%2A>, or <xref:System.Windows.Forms.Control.SetTopLevel%2A> method.</span></span><br /><span data-ttu-id="f35de-152">-Wywoływanie metody <xref:System.Windows.Forms.Control.GetChildAtPoint%2A>, jeśli zwrócona kontrolka nie jest elementem podrzędnym kontrolki wywołującej.</span><span class="sxs-lookup"><span data-stu-id="f35de-152">-   Calling the <xref:System.Windows.Forms.Control.GetChildAtPoint%2A> method if the control returned is not a child of the calling control.</span></span><br /><span data-ttu-id="f35de-153">-Modyfikuj fokus kontroli wewnątrz kontrolki kontenera.</span><span class="sxs-lookup"><span data-stu-id="f35de-153">-   Modify control focus inside a container control.</span></span>|  
|<xref:System.Windows.Forms.Cursor>|<span data-ttu-id="f35de-154">-Ustawianie właściwości <xref:System.Windows.Forms.Cursor.Clip%2A>.</span><span class="sxs-lookup"><span data-stu-id="f35de-154">-   Setting the <xref:System.Windows.Forms.Cursor.Clip%2A> property.</span></span><br /><span data-ttu-id="f35de-155">-Wywoływanie metody <xref:System.Windows.Forms.Control.Hide%2A>.</span><span class="sxs-lookup"><span data-stu-id="f35de-155">-   Calling the <xref:System.Windows.Forms.Control.Hide%2A> method.</span></span>|  
|<xref:System.Windows.Forms.DataGrid>|<span data-ttu-id="f35de-156">-Wywoływanie metody <xref:System.Windows.Forms.ContainerControl.ProcessTabKey%2A>.</span><span class="sxs-lookup"><span data-stu-id="f35de-156">-   Calling the <xref:System.Windows.Forms.ContainerControl.ProcessTabKey%2A> method.</span></span>|  
|<xref:System.Windows.Forms.Form>|<span data-ttu-id="f35de-157">-Pobieranie właściwości <xref:System.Windows.Forms.Form.ActiveForm%2A> lub <xref:System.Windows.Forms.Form.MdiParent%2A>.</span><span class="sxs-lookup"><span data-stu-id="f35de-157">-   Getting the <xref:System.Windows.Forms.Form.ActiveForm%2A> or <xref:System.Windows.Forms.Form.MdiParent%2A> property.</span></span><br /><span data-ttu-id="f35de-158">-Ustawianie właściwości <xref:System.Windows.Forms.Form.ControlBox%2A>, <xref:System.Windows.Forms.Form.ShowInTaskbar%2A>lub <xref:System.Windows.Forms.Form.TopMost%2A>.</span><span class="sxs-lookup"><span data-stu-id="f35de-158">-   Setting the <xref:System.Windows.Forms.Form.ControlBox%2A>, <xref:System.Windows.Forms.Form.ShowInTaskbar%2A>, or <xref:System.Windows.Forms.Form.TopMost%2A> property.</span></span><br /><span data-ttu-id="f35de-159">-Ustawianie właściwości <xref:System.Windows.Forms.Form.Opacity%2A> poniżej 50%.</span><span class="sxs-lookup"><span data-stu-id="f35de-159">-   Setting the <xref:System.Windows.Forms.Form.Opacity%2A> property below 50%.</span></span><br /><span data-ttu-id="f35de-160">-Ustawianie właściwości <xref:System.Windows.Forms.Form.WindowState%2A> na <xref:System.Windows.Forms.FormWindowState.Minimized> programowo.</span><span class="sxs-lookup"><span data-stu-id="f35de-160">-   Setting the <xref:System.Windows.Forms.Form.WindowState%2A> property to <xref:System.Windows.Forms.FormWindowState.Minimized> programmatically.</span></span><br /><span data-ttu-id="f35de-161">-Wywoływanie metody <xref:System.Windows.Forms.Form.Activate%2A>.</span><span class="sxs-lookup"><span data-stu-id="f35de-161">-   Calling the <xref:System.Windows.Forms.Form.Activate%2A> method.</span></span><br /><span data-ttu-id="f35de-162">— Przy użyciu wartości <xref:System.Windows.Forms.FormBorderStyle.None>, <xref:System.Windows.Forms.FormBorderStyle.FixedToolWindow>i <xref:System.Windows.Forms.FormBorderStyle.SizableToolWindow><xref:System.Windows.Forms.FormBorderStyle>.</span><span class="sxs-lookup"><span data-stu-id="f35de-162">-   Using the <xref:System.Windows.Forms.FormBorderStyle.None>, <xref:System.Windows.Forms.FormBorderStyle.FixedToolWindow>, and <xref:System.Windows.Forms.FormBorderStyle.SizableToolWindow><xref:System.Windows.Forms.FormBorderStyle> enumeration values.</span></span>|  
|<xref:System.Windows.Forms.NotifyIcon>|<span data-ttu-id="f35de-163">— Używanie składnika <xref:System.Windows.Forms.NotifyIcon> jest całkowicie ograniczone.</span><span class="sxs-lookup"><span data-stu-id="f35de-163">-   Using the <xref:System.Windows.Forms.NotifyIcon> component is completely restricted.</span></span>|  
  
 <span data-ttu-id="f35de-164">Wartość <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> ogranicza akcje wymienione w poniższej tabeli, a także ograniczenia wprowadzone przez wartość <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>.</span><span class="sxs-lookup"><span data-stu-id="f35de-164">The <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> value restricts the actions listed in the following table, in addition to the restrictions placed by the <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> value.</span></span>  
  
|<span data-ttu-id="f35de-165">Składnik</span><span class="sxs-lookup"><span data-stu-id="f35de-165">Component</span></span>|<span data-ttu-id="f35de-166">Akcje z ograniczeniami</span><span class="sxs-lookup"><span data-stu-id="f35de-166">Restricted actions</span></span>|  
|---------------|------------------------|  
|<xref:System.Windows.Forms.CommonDialog>|<span data-ttu-id="f35de-167">— Wyświetlanie okna dialogowego pochodnego od klasy <xref:System.Windows.Forms.CommonDialog>.</span><span class="sxs-lookup"><span data-stu-id="f35de-167">-   Showing a dialog box derived from the <xref:System.Windows.Forms.CommonDialog> class.</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="f35de-168">-Wywoływanie metody <xref:System.Windows.Forms.Control.CreateGraphics%2A>.</span><span class="sxs-lookup"><span data-stu-id="f35de-168">-   Calling the <xref:System.Windows.Forms.Control.CreateGraphics%2A> method.</span></span><br /><span data-ttu-id="f35de-169">-Ustawianie właściwości <xref:System.Windows.Forms.Control.Cursor%2A>.</span><span class="sxs-lookup"><span data-stu-id="f35de-169">-   Setting the <xref:System.Windows.Forms.Control.Cursor%2A> property.</span></span>|  
|<xref:System.Windows.Forms.Control.Cursor%2A>|<span data-ttu-id="f35de-170">-Ustawianie właściwości <xref:System.Windows.Forms.Cursor.Current%2A>.</span><span class="sxs-lookup"><span data-stu-id="f35de-170">-   Setting the <xref:System.Windows.Forms.Cursor.Current%2A> property.</span></span>|  
|<xref:System.Windows.Forms.MessageBox>|<span data-ttu-id="f35de-171">-Wywoływanie metody <xref:System.Windows.Forms.Form.Show%2A>.</span><span class="sxs-lookup"><span data-stu-id="f35de-171">-   Calling the <xref:System.Windows.Forms.Form.Show%2A> method.</span></span>|  
  
### <a name="hosting-third-party-controls"></a><span data-ttu-id="f35de-172">Hosting kontrolek innych firm</span><span class="sxs-lookup"><span data-stu-id="f35de-172">Hosting Third-Party Controls</span></span>  
 <span data-ttu-id="f35de-173">Inne rodzaje manipulowania oknem mogą wystąpić, jeśli formularze obsługują kontrolki innych firm.</span><span class="sxs-lookup"><span data-stu-id="f35de-173">Another kind of window manipulation can occur if your forms host third-party controls.</span></span> <span data-ttu-id="f35de-174">Kontrolka innej firmy to wszelkie niestandardowe <xref:System.Windows.Forms.UserControl>, które nie zostały opracowane i skompilowane samodzielnie.</span><span class="sxs-lookup"><span data-stu-id="f35de-174">A third-party control is any custom <xref:System.Windows.Forms.UserControl> that you have not developed and compiled yourself.</span></span> <span data-ttu-id="f35de-175">Chociaż scenariusz hostingu jest trudno wykorzystać, teoretycznie jest możliwe, aby formant innej firmy mógł rozwijać powierzchnię renderowania w celu pokrycia całego obszaru formularza.</span><span class="sxs-lookup"><span data-stu-id="f35de-175">Although the hosting scenario is hard to exploit, it is theoretically possible for a third-party control to expand its rendering surface to cover the entire area of your form.</span></span> <span data-ttu-id="f35de-176">Ta kontrolka może następnie naśladować krytyczne okno dialogowe i żądać informacji, takich jak kombinacje nazwy użytkownika/hasła lub numery kont bankowych od użytkowników.</span><span class="sxs-lookup"><span data-stu-id="f35de-176">This control could then mimic a critical dialog box, and request information such as username/password combinations or bank account numbers from your users.</span></span>  
  
 <span data-ttu-id="f35de-177">Aby ograniczyć to potencjalne ryzyko, należy użyć kontrolek innych firm tylko od dostawców, którym można zaufać.</span><span class="sxs-lookup"><span data-stu-id="f35de-177">To limit this potential risk, use third-party controls only from vendors you can trust.</span></span> <span data-ttu-id="f35de-178">Jeśli używasz kontrolek innych firm pobranych z niemożliwego do zweryfikowania źródła, zalecamy zapoznanie się z kodem źródłowym w celu uzyskania potencjalnych luk w zabezpieczeniach.</span><span class="sxs-lookup"><span data-stu-id="f35de-178">If you use third-party controls you have downloaded from an unverifiable source, we recommend that you review the source code for potential exploits.</span></span> <span data-ttu-id="f35de-179">Po sprawdzeniu, że źródło nie jest złośliwe, należy skompilować zestaw samodzielnie, aby upewnić się, że źródło jest zgodne z zestawem.</span><span class="sxs-lookup"><span data-stu-id="f35de-179">After you've verified that the source is non-malicious, you should compile the assembly yourself to ensure that the source matches the assembly.</span></span>  
  
## <a name="windows-api-calls"></a><span data-ttu-id="f35de-180">Wywołania interfejsu API systemu Windows</span><span class="sxs-lookup"><span data-stu-id="f35de-180">Windows API Calls</span></span>  
 <span data-ttu-id="f35de-181">Jeśli projekt aplikacji wymaga wywołania funkcji z interfejsu API systemu Windows, uzyskujesz dostęp do kodu niezarządzanego.</span><span class="sxs-lookup"><span data-stu-id="f35de-181">If your application design requires calling a function from the Windows API, you are accessing unmanaged code.</span></span> <span data-ttu-id="f35de-182">W takim przypadku nie można ustalić akcji kodu do okna lub systemu operacyjnego podczas pracy z wywołaniami lub wartościami interfejsu API systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="f35de-182">In this case the code's actions to the window or operating system cannot be determined when you are working with Windows API calls or values.</span></span> <span data-ttu-id="f35de-183">Klasy <xref:System.Security.Permissions.SecurityPermission> i <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> wartość wyliczenia <xref:System.Security.Permissions.SecurityPermissionFlag> kontrolują dostęp do niezarządzanego kodu.</span><span class="sxs-lookup"><span data-stu-id="f35de-183">The <xref:System.Security.Permissions.SecurityPermission> class and the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> value of the <xref:System.Security.Permissions.SecurityPermissionFlag> enumeration control access to unmanaged code.</span></span> <span data-ttu-id="f35de-184">Aplikacja może uzyskać dostęp do kodu niezarządzanego tylko wtedy, gdy udzielono mu uprawnienia <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode>.</span><span class="sxs-lookup"><span data-stu-id="f35de-184">An application can access unmanaged code only when it is granted the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission.</span></span> <span data-ttu-id="f35de-185">Domyślnie tylko aplikacje działające lokalnie mogą wywoływać kod niezarządzany.</span><span class="sxs-lookup"><span data-stu-id="f35de-185">By default, only applications that are running locally can call unmanaged code.</span></span>  
  
 <span data-ttu-id="f35de-186">Niektórzy członkowie Windows Forms zapewniają niezarządzany dostęp, który wymaga uprawnień <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode>.</span><span class="sxs-lookup"><span data-stu-id="f35de-186">Some Windows Forms members provide unmanaged access that requires the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission.</span></span> <span data-ttu-id="f35de-187">Poniższa tabela zawiera listę elementów członkowskich w przestrzeni nazw <xref:System.Windows.Forms>, które wymagają uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="f35de-187">The following table lists the members in the <xref:System.Windows.Forms> namespace that require the permission.</span></span> <span data-ttu-id="f35de-188">Aby uzyskać więcej informacji o uprawnieniach, które są wymagane dla elementu członkowskiego, zapoznaj się z dokumentacją biblioteki klas .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f35de-188">For more information about the permissions that are required for a member, see the .NET Framework class library documentation.</span></span>  
  
|<span data-ttu-id="f35de-189">Składnik</span><span class="sxs-lookup"><span data-stu-id="f35de-189">Component</span></span>|<span data-ttu-id="f35de-190">Element członkowski</span><span class="sxs-lookup"><span data-stu-id="f35de-190">Member</span></span>|  
|---------------|------------|  
|<xref:System.Windows.Forms.Application>|<span data-ttu-id="f35de-191">-   <xref:System.Windows.Forms.Application.AddMessageFilter%2A> Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-191">-   <xref:System.Windows.Forms.Application.AddMessageFilter%2A> method</span></span><br /><span data-ttu-id="f35de-192">Właściwość <xref:System.Windows.Forms.Application.CurrentInputLanguage%2A> -   </span><span class="sxs-lookup"><span data-stu-id="f35de-192">-   <xref:System.Windows.Forms.Application.CurrentInputLanguage%2A> property</span></span><br /><span data-ttu-id="f35de-193">-   `Exit` Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-193">-   `Exit` method</span></span><br /><span data-ttu-id="f35de-194">-   <xref:System.Windows.Forms.Application.ExitThread%2A> Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-194">-   <xref:System.Windows.Forms.Application.ExitThread%2A> method</span></span><br /><span data-ttu-id="f35de-195">zdarzenie <xref:System.Windows.Forms.Application.ThreadException> -   </span><span class="sxs-lookup"><span data-stu-id="f35de-195">-   <xref:System.Windows.Forms.Application.ThreadException> event</span></span>|  
|<xref:System.Windows.Forms.CommonDialog>|<span data-ttu-id="f35de-196">-   <xref:System.Windows.Forms.CommonDialog.HookProc%2A> Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-196">-   <xref:System.Windows.Forms.CommonDialog.HookProc%2A> method</span></span><br /><span data-ttu-id="f35de-197">-   <xref:System.Windows.Forms.CommonDialog.OwnerWndProc%2A>\ Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-197">-   <xref:System.Windows.Forms.CommonDialog.OwnerWndProc%2A>\ method</span></span><br /><span data-ttu-id="f35de-198">-   <xref:System.Windows.Forms.CommonDialog.Reset%2A> Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-198">-   <xref:System.Windows.Forms.CommonDialog.Reset%2A> method</span></span><br /><span data-ttu-id="f35de-199">-   <xref:System.Windows.Forms.CommonDialog.RunDialog%2A> Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-199">-   <xref:System.Windows.Forms.CommonDialog.RunDialog%2A> method</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="f35de-200">-   <xref:System.Windows.Forms.Control.CreateParams%2A> Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-200">-   <xref:System.Windows.Forms.Control.CreateParams%2A> method</span></span><br /><span data-ttu-id="f35de-201">-   <xref:System.Windows.Forms.Control.DefWndProc%2A> Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-201">-   <xref:System.Windows.Forms.Control.DefWndProc%2A> method</span></span><br /><span data-ttu-id="f35de-202">-   <xref:System.Windows.Forms.Control.DestroyHandle%2A> Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-202">-   <xref:System.Windows.Forms.Control.DestroyHandle%2A> method</span></span><br /><span data-ttu-id="f35de-203">-   <xref:System.Windows.Forms.Control.WndProc%2A> Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-203">-   <xref:System.Windows.Forms.Control.WndProc%2A> method</span></span>|  
|<xref:System.Windows.Forms.Help>|<span data-ttu-id="f35de-204">Metody <xref:System.Windows.Forms.Help.ShowHelp%2A> -   </span><span class="sxs-lookup"><span data-stu-id="f35de-204">-   <xref:System.Windows.Forms.Help.ShowHelp%2A> methods</span></span><br /><span data-ttu-id="f35de-205">-   <xref:System.Windows.Forms.Help.ShowHelpIndex%2A> Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-205">-   <xref:System.Windows.Forms.Help.ShowHelpIndex%2A> method</span></span>|  
|<xref:System.Windows.Forms.NativeWindow>|<span data-ttu-id="f35de-206">Klasa <xref:System.Windows.Forms.NativeWindow> -   </span><span class="sxs-lookup"><span data-stu-id="f35de-206">-   <xref:System.Windows.Forms.NativeWindow> class</span></span>|  
|<xref:System.Windows.Forms.Screen>|<span data-ttu-id="f35de-207">-   <xref:System.Windows.Forms.Screen.FromHandle%2A> Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-207">-   <xref:System.Windows.Forms.Screen.FromHandle%2A> method</span></span>|  
|<xref:System.Windows.Forms.SendKeys>|<span data-ttu-id="f35de-208">-   <xref:System.Windows.Forms.SendKeys.Send%2A> Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-208">-   <xref:System.Windows.Forms.SendKeys.Send%2A> method</span></span><br /><span data-ttu-id="f35de-209">-   <xref:System.Windows.Forms.SendKeys.SendWait%2A> Metoda</span><span class="sxs-lookup"><span data-stu-id="f35de-209">-   <xref:System.Windows.Forms.SendKeys.SendWait%2A> method</span></span>|  
  
 <span data-ttu-id="f35de-210">Jeśli aplikacja nie ma uprawnień do wywoływania kodu niezarządzanego, aplikacja musi zażądać uprawnień <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> lub należy rozważyć alternatywne sposoby wdrażania funkcji; w wielu przypadkach Windows Forms zapewnia zarządzaną alternatywę funkcji interfejsu API systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="f35de-210">If your application does not have permission to call unmanaged code, your application must request <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission, or you must consider alternative ways of implementing features; in many cases, Windows Forms provides a managed alternative to Windows API functions.</span></span> <span data-ttu-id="f35de-211">Jeśli żaden alternatywny nie istnieje i aplikacja musi uzyskać dostęp do niezarządzanego kodu, konieczne będzie podniesienie poziomu uprawnień aplikacji.</span><span class="sxs-lookup"><span data-stu-id="f35de-211">If no alternative means exist and the application must access unmanaged code, you will have to elevate the permissions for the application.</span></span>  
  
 <span data-ttu-id="f35de-212">Uprawnienie do wywoływania kodu niezarządzanego umożliwia aplikacji wykonywanie większości elementów.</span><span class="sxs-lookup"><span data-stu-id="f35de-212">Permission to call unmanaged code allows an application to perform most anything.</span></span> <span data-ttu-id="f35de-213">W związku z tym uprawnienia do wywoływania kodu niezarządzanego powinny być przyznawane tylko dla aplikacji, które pochodzą z zaufanego źródła.</span><span class="sxs-lookup"><span data-stu-id="f35de-213">Therefore, permission to call unmanaged code should only be granted for applications that come from a trusted source.</span></span> <span data-ttu-id="f35de-214">Alternatywnie, w zależności od aplikacji, element funkcjonalności aplikacji, który sprawia, że wywołanie do kodu niezarządzanego może być opcjonalny lub włączony tylko w środowisku pełnego zaufania.</span><span class="sxs-lookup"><span data-stu-id="f35de-214">Alternatively, depending on the application, the piece of application functionality that makes the call to unmanaged code could be optional, or enabled in the full trust environment only.</span></span> <span data-ttu-id="f35de-215">Aby uzyskać więcej informacji o uprawnieniach niebezpiecznych, zobacz temat [niebezpieczne uprawnienia i administrowanie zasadami](../misc/dangerous-permissions-and-policy-administration.md).</span><span class="sxs-lookup"><span data-stu-id="f35de-215">For more information about dangerous permissions, see [Dangerous Permissions and Policy Administration](../misc/dangerous-permissions-and-policy-administration.md).</span></span> <span data-ttu-id="f35de-216">Aby uzyskać więcej informacji na temat podnoszenia uprawnień, zobacz [Ogólne administrowanie zasadami zabezpieczeń](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="f35de-216">For more information about elevating permissions, see [General Security Policy Administration](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f35de-217">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="f35de-217">See also</span></span>

- [<span data-ttu-id="f35de-218">Bezpieczniejszy dostęp do plików i danych w formularzach Windows Forms</span><span class="sxs-lookup"><span data-stu-id="f35de-218">More Secure File and Data Access in Windows Forms</span></span>](more-secure-file-and-data-access-in-windows-forms.md)
- [<span data-ttu-id="f35de-219">Bezpieczniejsze drukowanie w formularzach Windows Forms</span><span class="sxs-lookup"><span data-stu-id="f35de-219">More Secure Printing in Windows Forms</span></span>](more-secure-printing-in-windows-forms.md)
- [<span data-ttu-id="f35de-220">Przegląd zabezpieczeń w formularzach Windows Forms</span><span class="sxs-lookup"><span data-stu-id="f35de-220">Security in Windows Forms Overview</span></span>](security-in-windows-forms-overview.md)
- [<span data-ttu-id="f35de-221">Zabezpieczenia formularzy Windows Forms</span><span class="sxs-lookup"><span data-stu-id="f35de-221">Windows Forms Security</span></span>](windows-forms-security.md)
- [<span data-ttu-id="f35de-222">Zabezpieczanie aplikacji ClickOnce</span><span class="sxs-lookup"><span data-stu-id="f35de-222">Securing ClickOnce Applications</span></span>](/visualstudio/deployment/securing-clickonce-applications)
