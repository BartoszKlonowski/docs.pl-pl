---
title: Przegląd ustawień aplikacji
ms.date: 03/30/2017
f1_keywords:
- ApplicationsSettingsOverview
helpviewer_keywords:
- application settings [Windows Forms], about application settings
- dynamic properties
- user preferences [Windows Forms], tracking
ms.assetid: 0dd8bca5-a6bf-4ac4-8eec-5725d08b38dc
ms.openlocfilehash: b603e81a342652a6639f54a78fb998cda5fdc35a
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/18/2019
ms.locfileid: "59203629"
---
# <a name="application-settings-overview"></a><span data-ttu-id="a771c-102">Przegląd ustawień aplikacji</span><span class="sxs-lookup"><span data-stu-id="a771c-102">Application Settings Overview</span></span>
<span data-ttu-id="a771c-103">W tym temacie omówiono sposób tworzenia i przechowywania danych ustawień w imieniu użytkowników i aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a771c-103">This topic discusses how to create and store settings data on behalf of your application and your users.</span></span>  
  
 <span data-ttu-id="a771c-104">Funkcja ustawienia aplikacji Windows Forms ułatwia tworzenie i przechowywanie i Obsługa niestandardowych aplikacji i preferencji użytkowników na komputerze klienckim.</span><span class="sxs-lookup"><span data-stu-id="a771c-104">The Application Settings feature of Windows Forms makes it easy to create, store, and maintain custom application and user preferences on the client computer.</span></span> <span data-ttu-id="a771c-105">Za pomocą ustawień aplikacji Windows Forms można przechowywać nie tylko dane aplikacji, takie jak parametry połączenia bazy danych, ale również dane specyficzne dla użytkownika, takie jak preferencje użytkownika.</span><span class="sxs-lookup"><span data-stu-id="a771c-105">With Windows Forms application settings, you can store not only application data such as database connection strings, but also user-specific data, such as user application preferences.</span></span> <span data-ttu-id="a771c-106">Przy użyciu programu Visual Studio lub niestandardowy zarządzany kod, możesz utworzyć nowe ustawienia, odczytać ich z i zapisanie ich do dysku, powiązać je z właściwościami w formularzach i sprawdzanie poprawności ustawień danych przed ładowania i zapisywania.</span><span class="sxs-lookup"><span data-stu-id="a771c-106">Using Visual Studio or custom managed code, you can create new settings, read them from and write them to disk, bind them to properties on your forms, and validate settings data prior to loading and saving.</span></span>  
  
 <span data-ttu-id="a771c-107">Ustawienia aplikacji pozwala deweloperom na zapisanie stanu w aplikacjach za pomocą bardzo mało kodu niestandardowego i zastępuje właściwości dynamicznych w poprzednich wersjach [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a771c-107">Application settings enables developers to save state in their application using very little custom code, and is a replacement for dynamic properties in previous versions of the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)].</span></span> <span data-ttu-id="a771c-108">Ustawienia aplikacji zawiera wiele ulepszeń za pośrednictwem właściwości dynamicznych, które są tylko do odczytu, z późnym wiązaniem i wymagają więcej niestandardowych programów.</span><span class="sxs-lookup"><span data-stu-id="a771c-108">Application settings contains many improvements over dynamic properties, which are read-only, late-bound, and require more custom programming.</span></span> <span data-ttu-id="a771c-109">Właściwości dynamiczne klasy zatrzymane w [!INCLUDE[dnprdnext](../../../../includes/dnprdnext-md.md)], ale są one po prostu klasy powłoki, które alokowane opakowywania klas ustawień aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a771c-109">The dynamic property classes have been retained in [!INCLUDE[dnprdnext](../../../../includes/dnprdnext-md.md)], but they are just shell classes that thinly wrap the application settings classes.</span></span>  
  
## <a name="what-are-application-settings"></a><span data-ttu-id="a771c-110">Co to są ustawienia aplikacji?</span><span class="sxs-lookup"><span data-stu-id="a771c-110">What Are Application Settings?</span></span>  
 <span data-ttu-id="a771c-111">Aplikacje Windows Forms często będą wymagać danych jest krytyczne dla działania aplikacji, ale którego nie chcesz dołączyć bezpośrednio w kodzie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a771c-111">Your Windows Forms applications will often require data that is critical to running the application, but which you do not want to include directly in the application's code.</span></span> <span data-ttu-id="a771c-112">Jeśli aplikacja korzysta z usługi sieci Web lub serwera bazy danych, warto przechowywać tych informacji w oddzielnym pliku, aby można go w przyszłości zmienić bez ponownego kompilowania.</span><span class="sxs-lookup"><span data-stu-id="a771c-112">If your application uses a Web Service or a database server, you may want to store this information in a separate file, so that you can change it in the future without re-compiling.</span></span> <span data-ttu-id="a771c-113">Podobnie Twoje aplikacje mogą wymagać przechowywania danych, które są specyficzne dla bieżącego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="a771c-113">Similarly, your applications may require storing data that is specific to the current user.</span></span> <span data-ttu-id="a771c-114">Większość aplikacji, na przykład mieć preferencje użytkownika, które dostosować wygląd i zachowanie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a771c-114">Most applications, for example, have user preferences that customize the application's appearance and behavior.</span></span>  
  
 <span data-ttu-id="a771c-115">Adresy ustawienia aplikacji zarówno musi, zapewniając łatwy sposób przechowywania ustawień o zakresie aplikacji i zakresu użytkownika na komputerze klienckim.</span><span class="sxs-lookup"><span data-stu-id="a771c-115">Application settings addresses both needs by providing an easy way to store both application-scoped and user-scoped settings on the client computer.</span></span> <span data-ttu-id="a771c-116">Za pomocą programu Visual Studio lub Edytor kodu, zdefiniować ustawienia dla danej właściwości, określając jej nazwę, typ danych i zakresu (aplikacji lub użytkownika).</span><span class="sxs-lookup"><span data-stu-id="a771c-116">Using Visual Studio or a code editor, you define a setting for a given property by specifying its name, data type, and scope (application or user).</span></span> <span data-ttu-id="a771c-117">Można nawet umieścić powiązane ustawienia do nazwanych grup do użytku łatwiejsze i czytelności.</span><span class="sxs-lookup"><span data-stu-id="a771c-117">You can even place related settings into named groups for easier use and readability.</span></span> <span data-ttu-id="a771c-118">Po zdefiniowaniu te ustawienia są zachowywane i odczytywać je do pamięci automatycznie w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="a771c-118">Once defined, these settings are persisted and read back into memory automatically at run time.</span></span> <span data-ttu-id="a771c-119">Architektura obsługująca dodatki umożliwia mechanizmu stanu trwałego, który ma zostać zmieniony, ale domyślnie jest używany w lokalnym systemie plików.</span><span class="sxs-lookup"><span data-stu-id="a771c-119">A pluggable architecture enables the persistence mechanism to be changed, but by default, the local file system is used.</span></span>  
  
 <span data-ttu-id="a771c-120">Ustawienia aplikacji polega na utrwalanie danych jako XML do innej konfiguracji (.config) plików, odpowiedniego do tego, czy ustawienie jest o zakresie aplikacji lub użytkownika o określonym zakresie.</span><span class="sxs-lookup"><span data-stu-id="a771c-120">Application settings works by persisting data as XML to different configuration (.config) files, corresponding to whether the setting is application-scoped or user-scoped.</span></span> <span data-ttu-id="a771c-121">W większości przypadków ustawień o zakresie aplikacji są tylko do odczytu. ponieważ są one informacje o programie, zazwyczaj nie należy je zastąpić.</span><span class="sxs-lookup"><span data-stu-id="a771c-121">In most cases, the application-scoped settings are read-only; because they are program information, you will typically not need to overwrite them.</span></span> <span data-ttu-id="a771c-122">Z drugiej strony ustawień zakresu użytkownika może odczytywać i zapisane bezpiecznie w czasie wykonywania, nawet wtedy, gdy aplikacja działa w częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="a771c-122">By contrast, user-scoped settings can be read and written safely at run time, even if your application runs under partial trust.</span></span> <span data-ttu-id="a771c-123">Aby uzyskać więcej informacji na temat częściowej relacji zaufania, zobacz [zabezpieczeń w Windows Forms — omówienie](../security-in-windows-forms-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a771c-123">For more information about partial trust, see [Security in Windows Forms Overview](../security-in-windows-forms-overview.md).</span></span>  
  
 <span data-ttu-id="a771c-124">Ustawienia są przechowywane jako fragmenty XML w plikach konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="a771c-124">Settings are stored as XML fragments in configuration files.</span></span> <span data-ttu-id="a771c-125">Ustawienia w zakresie aplikacji są reprezentowane przez `<application.Settings>` element i zazwyczaj są umieszczane w *aplikacji*. exe.config, gdzie *aplikacji* to nazwa głównego pliku wykonywalnego.</span><span class="sxs-lookup"><span data-stu-id="a771c-125">Application-scoped settings are represented by the `<application.Settings>` element, and generally are placed in *app*.exe.config, where *app* is the name of your main executable file.</span></span> <span data-ttu-id="a771c-126">Ustawienia z zakresu użytkownika są reprezentowane przez `<userSettings>` elementu i są umieszczane w *użytkownika*.config, gdzie *użytkownika* to nazwa użytkownika osoby, aktualnie uruchomiona jest aplikacja.</span><span class="sxs-lookup"><span data-stu-id="a771c-126">User-scoped settings are represented by the `<userSettings>` element and are placed in *user*.config, where *user* is the user name of the person currently running the application.</span></span> <span data-ttu-id="a771c-127">Należy wdrożyć *aplikacji*. exe.config plików za pomocą aplikacji; ustawienia utworzy architektury *użytkownika*.config plików na żądanie pierwszego czasu aplikacja zapisuje ustawienia dla tego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="a771c-127">You must deploy the *app*.exe.config file with your application; the settings architecture will create the *user*.config files on demand the first time the application saves settings for that user.</span></span> <span data-ttu-id="a771c-128">Można również definiować `<userSettings>` blokowania w ramach *aplikacji*. exe.config w celu określenia wartości domyślnych ustawień zakresu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="a771c-128">You can also define a `<userSettings>` block within *app*.exe.config to provide default values for user-scoped settings.</span></span>  
  
 <span data-ttu-id="a771c-129">Kontrolki niestandardowe można także zapisać własne ustawienia, implementując <xref:System.Configuration.IPersistComponentSettings> interfejsu, który ujawnia <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="a771c-129">Custom controls can also save their own settings by implementing the <xref:System.Configuration.IPersistComponentSettings> interface, which exposes the <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> method.</span></span> <span data-ttu-id="a771c-130">Formularze Windows <xref:System.Windows.Forms.ToolStrip> kontrolka implementuje ten interfejs, aby zapisać pozycji pasków narzędzi i elementów paska narzędzi, między sesjami aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a771c-130">The Windows Forms <xref:System.Windows.Forms.ToolStrip> control implements this interface to save the position of toolbars and toolbar items between application sessions.</span></span> <span data-ttu-id="a771c-131">Aby dowiedzieć się więcej o kontrolkach niestandardowych i ustawienia aplikacji, zobacz [ustawienia aplikacji dotyczące kontrolek niestandardowych](application-settings-for-custom-controls.md).</span><span class="sxs-lookup"><span data-stu-id="a771c-131">For more information about custom controls and application settings, see [Application Settings for Custom Controls](application-settings-for-custom-controls.md).</span></span>  
  
## <a name="limitations-of-application-settings"></a><span data-ttu-id="a771c-132">Ograniczenia dotyczące ustawień aplikacji</span><span class="sxs-lookup"><span data-stu-id="a771c-132">Limitations of Application Settings</span></span>  
 <span data-ttu-id="a771c-133">Nie można użyć ustawienia aplikacji w niezarządzanej aplikacji, który jest hostem [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a771c-133">You cannot use application settings in an unmanaged application that hosts the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)].</span></span> <span data-ttu-id="a771c-134">Ustawienia nie będą działać w takich środowiskach jak Visual Studio dodatki, Microsoft Office w języku C++ kontrolować hosting w programie Internet Explorer lub dodatków programu Microsoft Outlook i projektów.</span><span class="sxs-lookup"><span data-stu-id="a771c-134">Settings will not work in such environments as Visual Studio add-ins, C++ for Microsoft Office, control hosting in Internet Explorer, or Microsoft Outlook add-ins and projects.</span></span>  
  
 <span data-ttu-id="a771c-135">Obecnie nie można powiązać z niektórych właściwości w formularzach Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="a771c-135">You currently cannot bind to some properties in Windows Forms.</span></span> <span data-ttu-id="a771c-136">Najlepszym przykładem jest <xref:System.Windows.Forms.Form.ClientSize%2A> właściwości jako powiązania do tej właściwości mogłoby spowodować nieprzewidywalne zachowanie w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="a771c-136">The most notable example is the <xref:System.Windows.Forms.Form.ClientSize%2A> property, as binding to this property would cause unpredictable behavior at run time.</span></span> <span data-ttu-id="a771c-137">Można zwykle obejścia tych problemów, zapisywanie i ładowanie te ustawienia programowo.</span><span class="sxs-lookup"><span data-stu-id="a771c-137">You can usually work around these issues by saving and loading these settings programmatically.</span></span>  
  
 <span data-ttu-id="a771c-138">Ustawienia aplikacji nie ma żadnych wbudowanych funkcji do automatycznego szyfrowania informacji.</span><span class="sxs-lookup"><span data-stu-id="a771c-138">Application settings has no built-in facility for encrypting information automatically.</span></span> <span data-ttu-id="a771c-139">Nigdy nie przechowuj informacji związanych z zabezpieczeniami, takie jak hasła bazy danych w postaci zwykłego tekstu.</span><span class="sxs-lookup"><span data-stu-id="a771c-139">You should never store security-related information, such as database passwords, in clear text.</span></span> <span data-ttu-id="a771c-140">Jeśli chcesz przechowywać tych informacji poufnych, Deweloper aplikacji jesteś odpowiedzialny za upewnienie się, że jest bezpieczne.</span><span class="sxs-lookup"><span data-stu-id="a771c-140">If you want to store such sensitive information, you as the application developer are responsible for making sure it is secure.</span></span> <span data-ttu-id="a771c-141">Jeśli chcesz przechowywać parametry połączenia, zaleca się używać zabezpieczeń zintegrowanych Windows i nie zastosuje poważniejsze niezmiennych haseł do adresu URL.</span><span class="sxs-lookup"><span data-stu-id="a771c-141">If you want to store connection strings, we recommend that you use Windows Integrated Security and not resort to hard-coding passwords into the URL.</span></span> <span data-ttu-id="a771c-142">Aby uzyskać więcej informacji, zobacz [zabezpieczenia dostępu kodu i ADO.NET](../../data/adonet/code-access-security.md).</span><span class="sxs-lookup"><span data-stu-id="a771c-142">For more information, see [Code Access Security and ADO.NET](../../data/adonet/code-access-security.md).</span></span>  
  
## <a name="getting-started-with-application-settings"></a><span data-ttu-id="a771c-143">Wprowadzenie do ustawień aplikacji</span><span class="sxs-lookup"><span data-stu-id="a771c-143">Getting Started with Application Settings</span></span>  
 <span data-ttu-id="a771c-144">Jeśli używasz programu Visual Studio, można zdefiniować ustawienia w obrębie za pomocą programu Windows Forms Designer **(ApplicationSettings)** właściwość **właściwości** okna.</span><span class="sxs-lookup"><span data-stu-id="a771c-144">If you use Visual Studio, you can define settings within the Windows Forms Designer using the **(ApplicationSettings)** property in the **Properties** window.</span></span> <span data-ttu-id="a771c-145">Podczas definiowania ustawień w ten sposób program Visual Studio automatycznie tworzy klasy niestandardowej otoka zarządzana, która kojarzy każde ustawienie właściwości klasy.</span><span class="sxs-lookup"><span data-stu-id="a771c-145">When you define settings this way, Visual Studio automatically creates a custom managed wrapper class which associates each setting with a class property.</span></span> <span data-ttu-id="a771c-146">Program Visual Studio zajmie również powiązania ustawienie właściwości formularza lub formantu, aby ustawienia kontroli zostaną przywrócone automatycznie jej formularz jest wyświetlany, gdy zapisywane automatycznie, gdy formularz jest zamknięty.</span><span class="sxs-lookup"><span data-stu-id="a771c-146">Visual Studio also takes care of binding the setting to a property on a form or control so that the control's settings are restored automatically when its form is displayed, and saved automatically when the form is closed.</span></span>  
  
 <span data-ttu-id="a771c-147">Jeśli chcesz bardziej szczegółową kontrolę nad ustawienia, można zdefiniować własne klasy otoki ustawień niestandardowych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a771c-147">If you want more detailed control over your settings, you can define your own custom applications settings wrapper class.</span></span> <span data-ttu-id="a771c-148">Jest to osiągane przez wyprowadzanie klasy z <xref:System.Configuration.ApplicationSettingsBase>, dodając właściwość, która odnosi się do każdego ustawienia i stosowanie specjalnych atrybutów do tych właściwości.</span><span class="sxs-lookup"><span data-stu-id="a771c-148">This is accomplished by deriving a class from <xref:System.Configuration.ApplicationSettingsBase>, adding a property that corresponds to each setting, and applying special attributes to these properties.</span></span> <span data-ttu-id="a771c-149">Aby uzyskać szczegółowe informacje o tworzeniu klas otoki, zobacz [Architektura ustawień aplikacji](application-settings-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="a771c-149">For details about creating wrapper classes, see [Application Settings Architecture](application-settings-architecture.md).</span></span>  
  
 <span data-ttu-id="a771c-150">Można również użyć <xref:System.Windows.Forms.Binding> klasy ustawienia programowo można powiązać właściwości formularzy i kontrolek.</span><span class="sxs-lookup"><span data-stu-id="a771c-150">You can also use the <xref:System.Windows.Forms.Binding> class to bind settings programmatically to properties on forms and controls.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a771c-151">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="a771c-151">See also</span></span>

- <xref:System.Configuration.ApplicationSettingsBase>
- <xref:System.Configuration.SettingsProvider>
- <xref:System.Configuration.LocalFileSettingsProvider>
- <xref:System.Configuration.IPersistComponentSettings>
- [<span data-ttu-id="a771c-152">Instrukcje: Sprawdzanie poprawności ustawień aplikacji</span><span class="sxs-lookup"><span data-stu-id="a771c-152">How to: Validate Application Settings</span></span>](how-to-validate-application-settings.md)
- [<span data-ttu-id="a771c-153">Zarządzanie ustawieniami aplikacji (.NET)</span><span class="sxs-lookup"><span data-stu-id="a771c-153">Managing Application Settings (.NET)</span></span>](/visualstudio/ide/managing-application-settings-dotnet)
- [<span data-ttu-id="a771c-154">Instrukcje: Odczytaj ustawienia w czasie wykonywania za pomocąC#</span><span class="sxs-lookup"><span data-stu-id="a771c-154">How To: Read Settings at Run Time With C#</span></span>](how-to-read-settings-at-run-time-with-csharp.md)
- [<span data-ttu-id="a771c-155">Używanie ustawień aplikacji i ustawień użytkownika</span><span class="sxs-lookup"><span data-stu-id="a771c-155">Using Application Settings and User Settings</span></span>](using-application-settings-and-user-settings.md)
- [<span data-ttu-id="a771c-156">Architektura ustawień aplikacji</span><span class="sxs-lookup"><span data-stu-id="a771c-156">Application Settings Architecture</span></span>](application-settings-architecture.md)
- [<span data-ttu-id="a771c-157">Ustawienia aplikacji dotyczące kontrolek niestandardowych</span><span class="sxs-lookup"><span data-stu-id="a771c-157">Application Settings for Custom Controls</span></span>](application-settings-for-custom-controls.md)
