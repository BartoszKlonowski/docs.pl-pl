---
title: Przegląd ustawień aplikacji
ms.date: 03/30/2017
f1_keywords:
- ApplicationsSettingsOverview
helpviewer_keywords:
- application settings [Windows Forms], about application settings
- dynamic properties
- user preferences [Windows Forms], tracking
ms.assetid: 0dd8bca5-a6bf-4ac4-8eec-5725d08b38dc
ms.openlocfilehash: 72a15736fd21d1d626f88e728d70b7dd7ee6768f
ms.sourcegitcommit: 45c8eed045779b70a47b23169897459d0323dc89
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/18/2020
ms.locfileid: "84990182"
---
# <a name="application-settings-overview"></a><span data-ttu-id="0df41-102">Przegląd ustawień aplikacji</span><span class="sxs-lookup"><span data-stu-id="0df41-102">Application Settings Overview</span></span>

<span data-ttu-id="0df41-103">W tym artykule omówiono sposób tworzenia i przechowywania danych ustawień w imieniu aplikacji i użytkowników.</span><span class="sxs-lookup"><span data-stu-id="0df41-103">This article discusses how to create and store settings data on behalf of your application and your users.</span></span>

 <span data-ttu-id="0df41-104">Funkcja ustawienia aplikacji programu Windows Forms ułatwia tworzenie, przechowywanie i konserwowanie niestandardowych preferencji aplikacji oraz użytkowników na komputerze klienckim.</span><span class="sxs-lookup"><span data-stu-id="0df41-104">The Application Settings feature of Windows Forms makes it easy to create, store, and maintain custom application and user preferences on the client computer.</span></span> <span data-ttu-id="0df41-105">Za pomocą ustawień aplikacji Windows Forms można przechowywać nie tylko dane aplikacji, takie jak parametry połączenia bazy danych, ale również dane specyficzne dla użytkownika, takie jak preferencje aplikacji użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0df41-105">With Windows Forms application settings, you can store not only application data such as database connection strings, but also user-specific data, such as user application preferences.</span></span> <span data-ttu-id="0df41-106">Za pomocą programu Visual Studio lub niestandardowego kodu zarządzanego można utworzyć nowe ustawienia, odczytać je i zapisać na dysku, powiązać je z właściwościami w formularzach i zweryfikować dane ustawień przed załadowaniem i zapisaniem.</span><span class="sxs-lookup"><span data-stu-id="0df41-106">Using Visual Studio or custom managed code, you can create new settings, read them from and write them to disk, bind them to properties on your forms, and validate settings data prior to loading and saving.</span></span>

 <span data-ttu-id="0df41-107">Ustawienia aplikacji umożliwiają deweloperom Zapisywanie stanu w aplikacji przy użyciu bardzo małego kodu niestandardowego i zastępowanie właściwości dynamicznych we wcześniejszych wersjach .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="0df41-107">Application settings enables developers to save state in their application using very little custom code, and is a replacement for dynamic properties in previous versions of the .NET Framework.</span></span> <span data-ttu-id="0df41-108">Ustawienia aplikacji zawierają wiele ulepszeń w porównaniu z właściwościami dynamicznymi, które są tylko do odczytu, z późnym wiązaniem i wymagają większej liczby niestandardowych programów programistycznych.</span><span class="sxs-lookup"><span data-stu-id="0df41-108">Application settings contains many improvements over dynamic properties, which are read-only, late-bound, and require more custom programming.</span></span> <span data-ttu-id="0df41-109">Klasy właściwości dynamicznych zostały zachowane w .NET Framework 2,0, ale tylko klasy powłoki, które znacznie zawijają klasy ustawień aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0df41-109">The dynamic property classes have been retained in .NET Framework 2.0, but they are just shell classes that thinly wrap the application settings classes.</span></span>

## <a name="what-are-application-settings"></a><span data-ttu-id="0df41-110">Co to są ustawienia aplikacji?</span><span class="sxs-lookup"><span data-stu-id="0df41-110">What Are Application Settings?</span></span>
 <span data-ttu-id="0df41-111">Aplikacje Windows Forms będą często wymagały danych, które są niezbędne do uruchomienia aplikacji, ale które nie mają być uwzględniane bezpośrednio w kodzie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0df41-111">Your Windows Forms applications will often require data that's critical to running the application, but which you don't want to include directly in the application's code.</span></span> <span data-ttu-id="0df41-112">Jeśli aplikacja korzysta z usługi sieci Web lub serwera bazy danych, można przechowywać te informacje w osobnym pliku, dzięki czemu można je zmienić w przyszłości bez ponownego kompilowania.</span><span class="sxs-lookup"><span data-stu-id="0df41-112">If your application uses a Web Service or a database server, you may want to store this information in a separate file, so that you can change it in the future without recompiling.</span></span> <span data-ttu-id="0df41-113">Podobnie aplikacje mogą wymagać przechowywania danych specyficznych dla bieżącego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0df41-113">Similarly, your applications may require storing data that is specific to the current user.</span></span> <span data-ttu-id="0df41-114">Większość aplikacji, na przykład, ma preferencje użytkownika, które dostosowują wygląd i zachowanie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0df41-114">Most applications, for example, have user preferences that customize the application's appearance and behavior.</span></span>

 <span data-ttu-id="0df41-115">Ustawienia aplikacji dotyczą obu potrzeb, zapewniając łatwy sposób przechowywania ustawień z zakresu aplikacji i zakresu użytkownika na komputerze klienckim.</span><span class="sxs-lookup"><span data-stu-id="0df41-115">Application settings addresses both needs by providing an easy way to store both application-scoped and user-scoped settings on the client computer.</span></span> <span data-ttu-id="0df41-116">Za pomocą programu Visual Studio lub edytora kodu definiuje się ustawienie dla danej właściwości, określając jego nazwę, typ danych i zakres (aplikację lub użytkownika).</span><span class="sxs-lookup"><span data-stu-id="0df41-116">Using Visual Studio or a code editor, you define a setting for a given property by specifying its name, data type, and scope (application or user).</span></span> <span data-ttu-id="0df41-117">Możesz nawet umieścić powiązane ustawienia w nazwanych grupach, aby ułatwić ich użycie i czytelność.</span><span class="sxs-lookup"><span data-stu-id="0df41-117">You can even place related settings into named groups for easier use and readability.</span></span> <span data-ttu-id="0df41-118">Po zdefiniowaniu te ustawienia są utrwalane i odczytywane w pamięci automatycznie w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="0df41-118">Once defined, these settings are persisted and read back into memory automatically at run time.</span></span> <span data-ttu-id="0df41-119">Architektura podłączana umożliwia zmianę mechanizmu trwałości, ale domyślnie używany jest lokalny system plików.</span><span class="sxs-lookup"><span data-stu-id="0df41-119">A pluggable architecture enables the persistence mechanism to be changed, but by default, the local file system is used.</span></span>

 <span data-ttu-id="0df41-120">Ustawienia aplikacji działają przez utrwalanie danych jako XML do różnych plików konfiguracji (. config), odpowiadających tym, czy ustawienie jest w zakresie aplikacji, czy w zakresie użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0df41-120">Application settings works by persisting data as XML to different configuration (.config) files, corresponding to whether the setting is application-scoped or user-scoped.</span></span> <span data-ttu-id="0df41-121">W większości przypadków ustawienia o zakresie aplikacji są tylko do odczytu. ponieważ są one informacjami o programie, zazwyczaj nie trzeba ich zastąpić.</span><span class="sxs-lookup"><span data-stu-id="0df41-121">In most cases, the application-scoped settings are read-only; because they are program information, you will typically not need to overwrite them.</span></span> <span data-ttu-id="0df41-122">Z kolei ustawienia o zakresie użytkownika mogą być odczytywane i bezpiecznie zapisywane w czasie wykonywania, nawet jeśli aplikacja działa w ramach częściowej relacji zaufania.</span><span class="sxs-lookup"><span data-stu-id="0df41-122">By contrast, user-scoped settings can be read and written safely at run time, even if your application runs under partial trust.</span></span> <span data-ttu-id="0df41-123">Aby uzyskać więcej informacji o częściowej relacji zaufania, zobacz [zabezpieczenia w Windows Forms Omówienie](../security-in-windows-forms-overview.md).</span><span class="sxs-lookup"><span data-stu-id="0df41-123">For more information about partial trust, see [Security in Windows Forms Overview](../security-in-windows-forms-overview.md).</span></span>

 <span data-ttu-id="0df41-124">Ustawienia są przechowywane jako fragmenty XML w plikach konfiguracyjnych.</span><span class="sxs-lookup"><span data-stu-id="0df41-124">Settings are stored as XML fragments in configuration files.</span></span> <span data-ttu-id="0df41-125">Ustawienia o zakresie aplikacji są reprezentowane przez `<applicationSettings>` element i ogólnie umieszczane w.exe.config *aplikacji* , gdzie *App* to nazwa głównego pliku wykonywalnego.</span><span class="sxs-lookup"><span data-stu-id="0df41-125">Application-scoped settings are represented by the `<applicationSettings>` element, and generally are placed in *app*.exe.config, where *app* is the name of your main executable file.</span></span> <span data-ttu-id="0df41-126">Ustawienia o zakresie użytkownika są reprezentowane przez `<userSettings>` element i są umieszczane w pliku *User*. config, gdzie *użytkownik* jest nazwą użytkownika osoby, która aktualnie uruchamia aplikację.</span><span class="sxs-lookup"><span data-stu-id="0df41-126">User-scoped settings are represented by the `<userSettings>` element and are placed in *user*.config, where *user* is the user name of the person currently running the application.</span></span> <span data-ttu-id="0df41-127">Musisz wdrożyć plik.exe.config *aplikacji* za pomocą swojej aplikacji. Architektura ustawień spowoduje utworzenie plików *User*. config na żądanie podczas pierwszego zapisywania ustawień dla tego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0df41-127">You must deploy the *app*.exe.config file with your application; the settings architecture will create the *user*.config files on demand the first time the application saves settings for that user.</span></span> <span data-ttu-id="0df41-128">Istnieje również możliwość zdefiniowania `<userSettings>` bloku w.exe.config *aplikacji* , aby zapewnić wartości domyślne dla ustawień o zakresie użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0df41-128">You can also define a `<userSettings>` block within *app*.exe.config to provide default values for user-scoped settings.</span></span>

 <span data-ttu-id="0df41-129">Formanty niestandardowe mogą również zapisywać własne ustawienia <xref:System.Configuration.IPersistComponentSettings> , implementując interfejs, który uwidacznia <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> metodę.</span><span class="sxs-lookup"><span data-stu-id="0df41-129">Custom controls can also save their own settings by implementing the <xref:System.Configuration.IPersistComponentSettings> interface, which exposes the <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> method.</span></span> <span data-ttu-id="0df41-130">Formant Windows Forms <xref:System.Windows.Forms.ToolStrip> implementuje ten interfejs, aby zapisać położenie pasków narzędzi i elementów paska narzędzi między sesjami aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0df41-130">The Windows Forms <xref:System.Windows.Forms.ToolStrip> control implements this interface to save the position of toolbars and toolbar items between application sessions.</span></span> <span data-ttu-id="0df41-131">Aby uzyskać więcej informacji na temat kontrolek niestandardowych i ustawień aplikacji, zobacz [Ustawienia aplikacji dla formantów niestandardowych](application-settings-for-custom-controls.md).</span><span class="sxs-lookup"><span data-stu-id="0df41-131">For more information about custom controls and application settings, see [Application Settings for Custom Controls](application-settings-for-custom-controls.md).</span></span>

## <a name="limitations-of-application-settings"></a><span data-ttu-id="0df41-132">Ograniczenia ustawień aplikacji</span><span class="sxs-lookup"><span data-stu-id="0df41-132">Limitations of Application Settings</span></span>
 <span data-ttu-id="0df41-133">Nie można używać ustawień aplikacji w niezarządzanej aplikacji, która hostuje .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="0df41-133">You cannot use application settings in an unmanaged application that hosts the .NET Framework.</span></span> <span data-ttu-id="0df41-134">Ustawienia nie będą działały w takich środowiskach jak dodatki Visual Studio, C++ dla Microsoft Office, kontrola hostingu w programie Internet Explorer lub dodatki i projekty programu Microsoft Outlook.</span><span class="sxs-lookup"><span data-stu-id="0df41-134">Settings will not work in such environments as Visual Studio add-ins, C++ for Microsoft Office, control hosting in Internet Explorer, or Microsoft Outlook add-ins and projects.</span></span>

 <span data-ttu-id="0df41-135">Obecnie nie można utworzyć powiązania z niektórymi właściwościami w Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="0df41-135">You currently cannot bind to some properties in Windows Forms.</span></span> <span data-ttu-id="0df41-136">Najważniejszym przykładem jest <xref:System.Windows.Forms.Form.ClientSize%2A> Właściwość, ponieważ powiązanie z tą właściwością może spowodować nieprzewidywalne zachowanie w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="0df41-136">The most notable example is the <xref:System.Windows.Forms.Form.ClientSize%2A> property, as binding to this property would cause unpredictable behavior at run time.</span></span> <span data-ttu-id="0df41-137">Zazwyczaj można obejść te problemy, zapisując i ładując te ustawienia programowo.</span><span class="sxs-lookup"><span data-stu-id="0df41-137">You can usually work around these issues by saving and loading these settings programmatically.</span></span>

 <span data-ttu-id="0df41-138">Ustawienia aplikacji nie zawierają wbudowanej funkcji automatycznego szyfrowania informacji.</span><span class="sxs-lookup"><span data-stu-id="0df41-138">Application settings has no built-in facility for encrypting information automatically.</span></span> <span data-ttu-id="0df41-139">Nie należy przechowywać informacji związanych z zabezpieczeniami, takich jak hasła do bazy danych, w postaci zwykłego tekstu.</span><span class="sxs-lookup"><span data-stu-id="0df41-139">You should never store security-related information, such as database passwords, in clear text.</span></span> <span data-ttu-id="0df41-140">Jeśli chcesz przechowywać takie informacje poufne, jako że deweloper aplikacji jest odpowiedzialny za zapewnienie, że jest bezpieczny.</span><span class="sxs-lookup"><span data-stu-id="0df41-140">If you want to store such sensitive information, you as the application developer are responsible for making sure it is secure.</span></span> <span data-ttu-id="0df41-141">Jeśli chcesz przechowywać parametry połączenia, zalecamy użycie zintegrowanych zabezpieczeń systemu Windows, a nie do kodowania haseł.</span><span class="sxs-lookup"><span data-stu-id="0df41-141">If you want to store connection strings, we recommend that you use Windows Integrated Security and not resort to hard-coding passwords into the URL.</span></span> <span data-ttu-id="0df41-142">Aby uzyskać więcej informacji, zobacz [zabezpieczenia dostępu kodu i ADO.NET](../../data/adonet/code-access-security.md).</span><span class="sxs-lookup"><span data-stu-id="0df41-142">For more information, see [Code Access Security and ADO.NET](../../data/adonet/code-access-security.md).</span></span>

## <a name="getting-started-with-application-settings"></a><span data-ttu-id="0df41-143">Wprowadzenie z ustawieniami aplikacji</span><span class="sxs-lookup"><span data-stu-id="0df41-143">Getting Started with Application Settings</span></span>
 <span data-ttu-id="0df41-144">Jeśli używasz programu Visual Studio, możesz zdefiniować ustawienia w Projektant formularzy systemu Windows przy użyciu właściwości **(ApplicationSettings)** w oknie **Właściwości** .</span><span class="sxs-lookup"><span data-stu-id="0df41-144">If you use Visual Studio, you can define settings within the Windows Forms Designer using the **(ApplicationSettings)** property in the **Properties** window.</span></span> <span data-ttu-id="0df41-145">Podczas definiowania ustawień w ten sposób program Visual Studio automatycznie tworzy niestandardową klasę otoki zarządzanej, która kojarzy każde ustawienie z właściwością klasy.</span><span class="sxs-lookup"><span data-stu-id="0df41-145">When you define settings this way, Visual Studio automatically creates a custom managed wrapper class that associates each setting with a class property.</span></span> <span data-ttu-id="0df41-146">Program Visual Studio wymaga również powiązania ustawienia z właściwością w formularzu lub kontrolce, aby ustawienia kontrolki były przywracane automatycznie, gdy formularz zostanie wyświetlony i zapisany automatycznie po zamknięciu formularza.</span><span class="sxs-lookup"><span data-stu-id="0df41-146">Visual Studio also takes care of binding the setting to a property on a form or control so that the control's settings are restored automatically when its form is displayed, and saved automatically when the form is closed.</span></span>

 <span data-ttu-id="0df41-147">Jeśli potrzebujesz bardziej szczegółowej kontroli nad ustawieniami, możesz zdefiniować własne klasy otoki ustawień aplikacji niestandardowych.</span><span class="sxs-lookup"><span data-stu-id="0df41-147">If you want more detailed control over your settings, you can define your own custom applications settings wrapper class.</span></span> <span data-ttu-id="0df41-148">Jest to realizowane przez wymienienie klasy z <xref:System.Configuration.ApplicationSettingsBase> , dodanie właściwości, która odnosi się do każdego ustawienia, i zastosowanie atrybutów specjalnych do tych właściwości.</span><span class="sxs-lookup"><span data-stu-id="0df41-148">This is accomplished by deriving a class from <xref:System.Configuration.ApplicationSettingsBase>, adding a property that corresponds to each setting, and applying special attributes to these properties.</span></span> <span data-ttu-id="0df41-149">Aby uzyskać szczegółowe informacje na temat tworzenia klas otoki, zobacz [Architektura ustawień aplikacji](application-settings-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="0df41-149">For details about creating wrapper classes, see [Application Settings Architecture](application-settings-architecture.md).</span></span>

 <span data-ttu-id="0df41-150">Można również użyć klasy, <xref:System.Windows.Forms.Binding> Aby programowo powiązać ustawienia z właściwościami formularzy i kontrolek.</span><span class="sxs-lookup"><span data-stu-id="0df41-150">You can also use the <xref:System.Windows.Forms.Binding> class to bind settings programmatically to properties on forms and controls.</span></span>

## <a name="see-also"></a><span data-ttu-id="0df41-151">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="0df41-151">See also</span></span>

- <xref:System.Configuration.ApplicationSettingsBase>
- <xref:System.Configuration.SettingsProvider>
- <xref:System.Configuration.LocalFileSettingsProvider>
- <xref:System.Configuration.IPersistComponentSettings>
- [<span data-ttu-id="0df41-152">Porady: sprawdzanie poprawności ustawień aplikacji</span><span class="sxs-lookup"><span data-stu-id="0df41-152">How to: Validate Application Settings</span></span>](how-to-validate-application-settings.md)
- [<span data-ttu-id="0df41-153">Zarządzanie ustawieniami aplikacji (.NET)</span><span class="sxs-lookup"><span data-stu-id="0df41-153">Managing Application Settings (.NET)</span></span>](/visualstudio/ide/managing-application-settings-dotnet)
- [<span data-ttu-id="0df41-154">Porady: czytanie ustawień w czasie wykonywania w języku C#</span><span class="sxs-lookup"><span data-stu-id="0df41-154">How To: Read Settings at Run Time With C#</span></span>](how-to-read-settings-at-run-time-with-csharp.md)
- [<span data-ttu-id="0df41-155">Używanie ustawień aplikacji i ustawień użytkownika</span><span class="sxs-lookup"><span data-stu-id="0df41-155">Using Application Settings and User Settings</span></span>](using-application-settings-and-user-settings.md)
- [<span data-ttu-id="0df41-156">Architektura ustawień aplikacji</span><span class="sxs-lookup"><span data-stu-id="0df41-156">Application Settings Architecture</span></span>](application-settings-architecture.md)
- [<span data-ttu-id="0df41-157">Ustawienia aplikacji dotyczące kontrolek niestandardowych</span><span class="sxs-lookup"><span data-stu-id="0df41-157">Application Settings for Custom Controls</span></span>](application-settings-for-custom-controls.md)
