---
title: "Ochrona informacji o połączeniu"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-ado
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 1471f580-bcd4-4046-bdaf-d2541ecda2f4
caps.latest.revision: "4"
author: JennieHubbard
ms.author: jhubbard
manager: jhubbard
ms.openlocfilehash: 31196697a606b3edbc0b3aa00b01e5eacb66cb03
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/21/2017
---
# <a name="protecting-connection-information"></a><span data-ttu-id="c2c0b-102">Ochrona informacji o połączeniu</span><span class="sxs-lookup"><span data-stu-id="c2c0b-102">Protecting Connection Information</span></span>
<span data-ttu-id="c2c0b-103">Ochrona dostępu do źródła danych jest jednym z najważniejszych celów zabezpieczania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-103">Protecting access to your data source is one of the most important goals when securing an application.</span></span> <span data-ttu-id="c2c0b-104">Ciąg połączenia przedstawia potencjalne luki w zabezpieczeniach, jeśli nie jest zabezpieczony.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-104">A connection string presents a potential vulnerability if it is not secured.</span></span> <span data-ttu-id="c2c0b-105">Przechowywanie informacji o połączeniu w formacie zwykłego tekstu lub utrwalanie go w pamięci ryzyko naruszenia całego systemu.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-105">Storing connection information in plain text or persisting it in memory risks compromising your entire system.</span></span> <span data-ttu-id="c2c0b-106">Osadzone w kodzie źródłowym parametry połączenia mogą być odczytywane przy użyciu [Ildasm.exe (dezasembler IL)](../../../../docs/framework/tools/ildasm-exe-il-disassembler.md) Aby wyświetlić język pośredni firmy Microsoft (MSIL) w skompilowanym zestawie.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-106">Connection strings embedded in your source code can be read using the [Ildasm.exe (IL Disassembler)](../../../../docs/framework/tools/ildasm-exe-il-disassembler.md) to view Microsoft intermediate language (MSIL) in a compiled assembly.</span></span>  
  
 <span data-ttu-id="c2c0b-107">Luki w zabezpieczeniach, które mogą wystąpić obejmujące parametry połączenia oparte na typ uwierzytelniania używany, jak parametry połączenia są zachowywane w pamięci i na dysku i techniki tworzenia ich w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-107">Security vulnerabilities involving connection strings can arise based on the type of authentication used, how connection strings are persisted in memory and on disk, and the techniques used to construct them at run time.</span></span>  
  
## <a name="use-windows-authentication"></a><span data-ttu-id="c2c0b-108">Uwierzytelnianie systemu Windows</span><span class="sxs-lookup"><span data-stu-id="c2c0b-108">Use Windows Authentication</span></span>  
 <span data-ttu-id="c2c0b-109">Ułatwia ograniczenie dostępu do źródła danych, należy zabezpieczyć połączenie informacje takie jak nazwa źródła identyfikator, hasło i danych użytkownika.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-109">To help limit access to your data source, you must secure connection information such as user ID, password, and data source name.</span></span> <span data-ttu-id="c2c0b-110">Aby uniknąć udostępnianie informacji o użytkowniku, zalecane jest używanie uwierzytelniania systemu Windows (czasami zwanej *zabezpieczenia zintegrowane*) tam gdzie to możliwe.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-110">In order to avoid exposing user information, we recommend using Windows authentication (sometimes referred to as *integrated security*) wherever possible.</span></span> <span data-ttu-id="c2c0b-111">Uwierzytelnianie systemu Windows określono w parametrach połączenia przy użyciu `Integrated Security` lub `Trusted_Connection` słów kluczowych, eliminując konieczność użycia identyfikator użytkownika i hasło.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-111">Windows authentication is specified in a connection string by using the `Integrated Security` or `Trusted_Connection` keywords, eliminating the need to use a user ID and password.</span></span> <span data-ttu-id="c2c0b-112">Podczas korzystania z uwierzytelniania systemu Windows, użytkownicy są uwierzytelniani przez system Windows i dostęp do zasobów serwera i bazy danych jest określany przez udzielanie uprawnień dla użytkowników systemu Windows i grup.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-112">When using Windows authentication, users are authenticated by Windows, and access to server and database resources is determined by granting permissions to Windows users and groups.</span></span>  
  
 <span data-ttu-id="c2c0b-113">W sytuacjach, gdy nie jest możliwe do uwierzytelniania systemu Windows należy użyć szczególną uwagę, ponieważ poświadczenia użytkownika są widoczne w parametrach połączenia.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-113">For situations where it is not possible to use Windows authentication, you must use extra care because user credentials are exposed in the connection string.</span></span> <span data-ttu-id="c2c0b-114">W aplikacji ASP.NET można skonfigurować konta systemu Windows jako tożsamości stałej, która służy do nawiązania połączenia bazy danych i innych zasobów sieciowych.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-114">In an ASP.NET application, you can configure a Windows account as a fixed identity that is used to connect to databases and other network resources.</span></span> <span data-ttu-id="c2c0b-115">Włączanie personifikacji w tożsamości elementu w **web.config** pliku i określ nazwę użytkownika i hasło.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-115">You enable impersonation in the identity element in the **web.config** file and specify a user name and password.</span></span>  
  
```xml  
<identity impersonate="true"   
        userName="MyDomain\UserAccount"   
        password="*****" />  
```  
  
 <span data-ttu-id="c2c0b-116">Konto tożsamości stałej powinno być konto niskich uprawnieniach, które zostały przyznane tylko niezbędne uprawnienia w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-116">The fixed identity account should be a low-privilege account that has been granted only necessary permissions in the database.</span></span> <span data-ttu-id="c2c0b-117">Ponadto należy szyfrowania pliku konfiguracji, tak, aby nazwy użytkownika i hasła nie są widoczne w postaci zwykłego tekstu.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-117">In addition, you should encrypt the configuration file so that the user name and password are not exposed in clear text.</span></span>  
  
## <a name="do-not-use-universal-data-link-udl-files"></a><span data-ttu-id="c2c0b-118">Czy nie Użyj Universal Data Link () pliki UDL</span><span class="sxs-lookup"><span data-stu-id="c2c0b-118">Do Not Use Universal Data Link (UDL) files</span></span>  
 <span data-ttu-id="c2c0b-119">Nie należy przechowywać parametry połączenia dla <xref:System.Data.OleDb.OleDbConnection> w plik Universal Data Link (UDL).</span><span class="sxs-lookup"><span data-stu-id="c2c0b-119">Avoid storing connection strings for an <xref:System.Data.OleDb.OleDbConnection> in a Universal Data Link (UDL) file.</span></span> <span data-ttu-id="c2c0b-120">UDL są przechowywane w postaci zwykłego tekstu i nie mogą być szyfrowane.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-120">UDLs are stored in clear text and cannot be encrypted.</span></span> <span data-ttu-id="c2c0b-121">Plik UDL jest zewnętrzny zasób opartych na plikach do aplikacji, i nie mogą być chronione ani zaszyfrowane za pomocą programu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-121">A UDL file is an external file-based resource to your application, and it cannot be secured or encrypted using the .NET Framework.</span></span>  
  
## <a name="avoid-injection-attacks-with-connection-string-builders"></a><span data-ttu-id="c2c0b-122">Unikaj ataków iniekcji z konstruktorów ciąg połączenia</span><span class="sxs-lookup"><span data-stu-id="c2c0b-122">Avoid Injection Attacks with Connection String Builders</span></span>  
 <span data-ttu-id="c2c0b-123">Atak iniekcji ciągu połączenia może wystąpić, gdy dynamiczne ciągów jest używany do tworzenia parametry połączenia oparte na danych wejściowych użytkownika.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-123">A connection string injection attack can occur when dynamic string concatenation is used to build connection strings based on user input.</span></span> <span data-ttu-id="c2c0b-124">Jeśli dane wejściowe użytkownika nie jest zweryfikowany i złośliwych tekst lub znaków, które nie miały zmienione znaczenie, osoba atakująca może potencjalnie uzyskać dostęp do poufnych danych lub innych zasobów na serwerze.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-124">If the user input is not validated and malicious text or characters not escaped, an attacker can potentially access sensitive data or other resources on the server.</span></span> <span data-ttu-id="c2c0b-125">Aby rozwiązać ten problem, ADO.NET 2.0 wprowadzono nowe połączenie ciąg konstruktora klasy do sprawdzania poprawności składnia ciągu połączenia i upewnij się, że nie wprowadzono dodatkowe parametry.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-125">To address this problem, ADO.NET 2.0 introduced new connection string builder classes to validate connection string syntax and ensure that additional parameters are not introduced.</span></span> <span data-ttu-id="c2c0b-126">Aby uzyskać więcej informacji, zobacz [Konstruktorzy ciągów połączenia](../../../../docs/framework/data/adonet/connection-string-builders.md).</span><span class="sxs-lookup"><span data-stu-id="c2c0b-126">For more information, see [Connection String Builders](../../../../docs/framework/data/adonet/connection-string-builders.md).</span></span>  
  
## <a name="use-persist-security-infofalse"></a><span data-ttu-id="c2c0b-127">Użyj Utrzymuj informacje o zabezpieczeniach = False</span><span class="sxs-lookup"><span data-stu-id="c2c0b-127">Use Persist Security Info=False</span></span>  
 <span data-ttu-id="c2c0b-128">Wartość domyślna dla `Persist Security Info` ma wartość FAŁSZ; zaleca się używanie to ustawienie domyślne w wszystkie parametry połączenia.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-128">The default value for `Persist Security Info` is false; we recommend using this default in all connection strings.</span></span> <span data-ttu-id="c2c0b-129">Ustawienie `Persist Security Info` do `true` lub `yes` umożliwia informacji istotnych dla zabezpieczeń, w tym nazwę użytkownika i hasło, które mają zostać uzyskane z połączenia po jej otwarciu.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-129">Setting `Persist Security Info` to `true` or `yes` allows security-sensitive information, including the user ID and password, to be obtained from a connection after it has been opened.</span></span> <span data-ttu-id="c2c0b-130">Gdy `Persist Security Info` ustawiono `false` lub `no`, informacje o zabezpieczeniach są usuwane po jest używany do otwierania połączenia zapewnienie, że niezaufanego źródła nie ma dostępu do informacji poufnych.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-130">When `Persist Security Info` is set to `false` or `no`, security information is discarded after it is used to open the connection, ensuring that an untrusted source does not have access to security-sensitive information.</span></span>  
  
## <a name="encrypt-configuration-files"></a><span data-ttu-id="c2c0b-131">Szyfrowanie plików konfiguracji</span><span class="sxs-lookup"><span data-stu-id="c2c0b-131">Encrypt Configuration Files</span></span>  
 <span data-ttu-id="c2c0b-132">Można przechowywać parametry połączenia w plikach konfiguracji, która eliminuje potrzebę osadzić je w kodzie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-132">You can also store connection strings in configuration files, which eliminates the need to embed them in your application's code.</span></span> <span data-ttu-id="c2c0b-133">Pliki konfiguracji są standardowe pliki XML, dla których programu .NET Framework został zdefiniowany zestaw wspólnych elementów.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-133">Configuration files are standard XML files for which the .NET Framework has defined a common set of elements.</span></span> <span data-ttu-id="c2c0b-134">Parametry połączenia w plikach konfiguracji są zwykle przechowywane wewnątrz  **\<connectionStrings >** element **app.config** dla aplikacji systemu Windows lub  **plik Web.config** plików dla aplikacji ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c2c0b-134">Connection strings in configuration files are typically stored inside the **\<connectionStrings>** element in the **app.config** for a Windows application, or the **web.config** file for an ASP.NET application.</span></span> <span data-ttu-id="c2c0b-135">Aby uzyskać więcej informacji na podstawowe informacje dotyczące przechowywania, pobieranie i szyfrowania parametrów połączenia z plików konfiguracyjnych, zobacz [parametry połączenia i pliki konfiguracyjne](../../../../docs/framework/data/adonet/connection-strings-and-configuration-files.md).</span><span class="sxs-lookup"><span data-stu-id="c2c0b-135">For more information on the basics of storing, retrieving and encrypting connection strings from configuration files, see [Connection Strings and Configuration Files](../../../../docs/framework/data/adonet/connection-strings-and-configuration-files.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c2c0b-136">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="c2c0b-136">See Also</span></span>  
 [<span data-ttu-id="c2c0b-137">Zabezpieczanie aplikacji ADO.NET</span><span class="sxs-lookup"><span data-stu-id="c2c0b-137">Securing ADO.NET Applications</span></span>](../../../../docs/framework/data/adonet/securing-ado-net-applications.md)  
 [<span data-ttu-id="c2c0b-138">Szyfrowanie za pomocą konfiguracji chronionych informacji o konfiguracji</span><span class="sxs-lookup"><span data-stu-id="c2c0b-138">Encrypting Configuration Information Using Protected Configuration</span></span>](http://msdn.microsoft.com/library/51cdfe5b-9d82-458c-94ff-c551c4f38ed1)  
 [<span data-ttu-id="c2c0b-139">Pave – zabezpieczeń w trybie macierzystym i kodu platformy .NET Framework</span><span class="sxs-lookup"><span data-stu-id="c2c0b-139">PAVE Security in Native and .NET Framework Code</span></span>](http://msdn.microsoft.com/en-us/bd61be84-c143-409a-a75a-44253724f784)  
 [<span data-ttu-id="c2c0b-140">ADO.NET zarządzanego dostawcy i zestawu danych w Centrum deweloperów</span><span class="sxs-lookup"><span data-stu-id="c2c0b-140">ADO.NET Managed Providers and DataSet Developer Center</span></span>](http://go.microsoft.com/fwlink/?LinkId=217917)
