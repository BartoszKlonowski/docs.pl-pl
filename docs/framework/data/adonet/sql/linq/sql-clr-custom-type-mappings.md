---
title: Mapowanie niestandardowego typu SQL CLR
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-ado
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: d916c7fb-4b56-4214-acbe-5e23365047b2
caps.latest.revision: "2"
author: JennieHubbard
ms.author: jhubbard
manager: jhubbard
ms.openlocfilehash: 82456bf5b892bc32a6eba0d3cf074b4adc76a305
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/21/2017
---
# <a name="sql-clr-custom-type-mappings"></a><span data-ttu-id="ebc98-102">Mapowanie niestandardowego typu SQL CLR</span><span class="sxs-lookup"><span data-stu-id="ebc98-102">SQL-CLR Custom Type Mappings</span></span>
<span data-ttu-id="ebc98-103">Automatycznie określono typ mapowania między serwerem SQL i środowisko uruchomieniowe języka wspólnego (CLR), korzystając z narzędzia wiersza polecenia SQLMetal Projektant obiektów relacyjnych (Projektanta obiektów relacyjnych).</span><span class="sxs-lookup"><span data-stu-id="ebc98-103">Type mapping between SQL Server and the common language runtime (CLR) is automatically specified when you use the SQLMetal command-line tool, Object Relational Designer (O/R Designer).</span></span>  
  
 <span data-ttu-id="ebc98-104">Po wykonaniu dostosowane mapowania tych narzędzi przypisać domyślne mapowanie typu zgodnie z opisem w [mapowanie typu środowiska CLR SQL](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="ebc98-104">When no customized mapping is performed, these tools assign default type mappings as described in [SQL-CLR Type Mapping](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md).</span></span> <span data-ttu-id="ebc98-105">Na typ mapowania inaczej niż te wartości domyślne, należy wykonać pewne dostosowania mapowania typu.</span><span class="sxs-lookup"><span data-stu-id="ebc98-105">If you want to type mappings differently from these defaults, you need to do some customization of the type mappings.</span></span>  
  
 <span data-ttu-id="ebc98-106">W przypadku dostosowywania mapowania typów, zalecanym podejściem jest będzie wprowadzenie zmian w pliku DBML pośredniczące.</span><span class="sxs-lookup"><span data-stu-id="ebc98-106">When customizing type mappings, the recommended approach is to make the changes in an intermediary DBML file.</span></span> <span data-ttu-id="ebc98-107">Następnie dostosowanego pliku DBML powinna być używana podczas tworzenia możesz kodu i mapowania plików SQLMetal lub projektanta obiektów relacyjnych.</span><span class="sxs-lookup"><span data-stu-id="ebc98-107">Then, your customized DBML file should be used when you create you code and mapping files with SQLMetal or O/R Designer.</span></span>  
  
 <span data-ttu-id="ebc98-108">Po można utworzyć wystąpienia <xref:System.Data.Linq.DataContext> obiektu z kodu i pliki mapowania <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> metoda tworzy bazę danych oparte na mapowania typów, które zostały określone.</span><span class="sxs-lookup"><span data-stu-id="ebc98-108">Once you instantiate the <xref:System.Data.Linq.DataContext> object from the code and mapping files, the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method creates a database based on the type mappings that are specified.</span></span> <span data-ttu-id="ebc98-109">Jeśli nie ma żadnych CLR `type` atrybuty określone w mapowaniu, będą używane domyślne mapowania typu.</span><span class="sxs-lookup"><span data-stu-id="ebc98-109">If there are no CLR `type` attributes specified in the mappings, the default type mappings will be used.</span></span>  
  
## <a name="customization-with-sqlmetal-or-or-designer"></a><span data-ttu-id="ebc98-110">Dostosowywanie SQLMetal lub projektanta obiektów relacyjnych</span><span class="sxs-lookup"><span data-stu-id="ebc98-110">Customization with SQLMetal or O/R Designer</span></span>  
 <span data-ttu-id="ebc98-111">SQLMetal i projektanta obiektów relacyjnych można automatycznie utworzyć model obiektu, który zawiera typ informacje dotyczące mapowania lub poza nim pliku kodu.</span><span class="sxs-lookup"><span data-stu-id="ebc98-111">With SQLMetal and O/R Designer, you can automatically create an object model that includes the type mapping information inside or outside the code file.</span></span> <span data-ttu-id="ebc98-112">Ponieważ te pliki zostaną zastąpione przez SQLMetal lub projektanta obiektów relacyjnych, zawsze możesz ponownie utworzyć mapowania, zalecane podejście do określania typu niestandardowego mapowania jest dostosować za pomocą pliku DBML.</span><span class="sxs-lookup"><span data-stu-id="ebc98-112">Because these files are overwritten by SQLMetal or O/R Designer, each time you recreate your mappings, the recommended approach to specifying custom type mappings is to customize a DBML file.</span></span>  
  
 <span data-ttu-id="ebc98-113">Aby dostosować mapowania typu SQLMetal lub projektanta obiektów relacyjnych, najpierw należy wygenerować za pomocą pliku DBML.</span><span class="sxs-lookup"><span data-stu-id="ebc98-113">To customize type mappings with SQLMetal or O/R Designer, first generate a DBML file.</span></span> <span data-ttu-id="ebc98-114">Następnie przed wygenerowaniem kodu lub pliku mapowania, należy zmodyfikować pliku DBML, aby zidentyfikować mapowania żądanego typu.</span><span class="sxs-lookup"><span data-stu-id="ebc98-114">Then, before generating the code file or mapping file, modify the DBML file to identify the desired type mappings.</span></span> <span data-ttu-id="ebc98-115">Dzięki SQLMetal, trzeba ręcznie zmienić `Type` i `DbType` atrybutów w pliku DBML, aby Twoje typu dostosowania mapowania.</span><span class="sxs-lookup"><span data-stu-id="ebc98-115">With SQLMetal, you have to manually change the `Type` and `DbType` attributes in the DBML file to make your type mapping customizations.</span></span> <span data-ttu-id="ebc98-116">Za pomocą Projektanta obiektów relacyjnych możesz wprowadzić zmiany w projektancie.</span><span class="sxs-lookup"><span data-stu-id="ebc98-116">With O/R Designer, you can make your changes within the Designer.</span></span> <span data-ttu-id="ebc98-117">Aby uzyskać więcej informacji na temat za pomocą Projektanta obiektów relacyjnych, zobacz [składnika LINQ to SQL narzędzia w programie Visual Studio](/visualstudio/data-tools/linq-to-sql-tools-in-visual-studio2).</span><span class="sxs-lookup"><span data-stu-id="ebc98-117">For more information about using the O/R Designer, see [LINQ to SQL Tools in Visual Studio](/visualstudio/data-tools/linq-to-sql-tools-in-visual-studio2).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="ebc98-118">Niektóre mapowania typów może skutkować wyjątki utrata danych lub przepełnienie podczas tłumaczenia do lub z bazy danych.</span><span class="sxs-lookup"><span data-stu-id="ebc98-118">Some type mappings may result in overflow or data loss exceptions while translating to or from the database.</span></span> <span data-ttu-id="ebc98-119">Uważnie przejrzyj macierz zachowanie mapowanie typu czasu wykonywania w [mapowanie typu środowiska CLR SQL](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md) przed wprowadzeniem jakichkolwiek dostosowań.</span><span class="sxs-lookup"><span data-stu-id="ebc98-119">Carefully review the Type Mapping Run-time Behavior Matrix in [SQL-CLR Type Mapping](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md) before making any customizations.</span></span>  
  
 <span data-ttu-id="ebc98-120">Mapowanie typu dostosowania rozpoznaje SQLMetal lub projektanta obiektów relacyjnych, należy upewnij się, że te narzędzia są dostarczane ze ścieżką do niestandardowego pliku DBML podczas generowania pliku kodu lub pliku mapowania zewnętrznych.</span><span class="sxs-lookup"><span data-stu-id="ebc98-120">In order for your type mapping customizations to be recognized by SQLMetal or O/R Designer, you need to make sure that these tools are supplied with the path to your custom DBML file when you generate your code file or external mapping file.</span></span> <span data-ttu-id="ebc98-121">Nie są wymagane do dostosowania mapowanie typu, zalecane jest zawsze oddzielnych z informacjami dotyczącymi mapowania typu z pliku kodu i Generuj plik mapowania dodatkowe typu zewnętrznego.</span><span class="sxs-lookup"><span data-stu-id="ebc98-121">Although not required for type mapping customization, it is recommended that you always separate your type mapping information from your code file and generate the additional external type mapping file.</span></span> <span data-ttu-id="ebc98-122">W ten sposób spowoduje pozostawienie elastycznością nie wymaga, aby ponownie skompilowana pliku kodu.</span><span class="sxs-lookup"><span data-stu-id="ebc98-122">Doing so will leave some flexibility by not requiring that the code file be recompiled.</span></span>  
  
## <a name="incorporating-database-changes"></a><span data-ttu-id="ebc98-123">Dołączanie zmian w bazie danych</span><span class="sxs-lookup"><span data-stu-id="ebc98-123">Incorporating Database Changes</span></span>  
 <span data-ttu-id="ebc98-124">Podczas zmiany bazy danych, musisz zaktualizować pliku DBML w celu odzwierciedlenia tych zmian.</span><span class="sxs-lookup"><span data-stu-id="ebc98-124">When your database changes, you will need to update your DBML file to reflect those changes.</span></span> <span data-ttu-id="ebc98-125">Aby wykonać to do automatycznego tworzenia nowego pliku DBML, a następnie wykonaj ponownie Twoje dostosowania mapowania typu.</span><span class="sxs-lookup"><span data-stu-id="ebc98-125">One way to do this is to automatically create a new DBML file and then re-do your type mapping customizations.</span></span> <span data-ttu-id="ebc98-126">Alternatywnie możesz porównać nowego pliku DBML i dostosowanego pliku DBML i aktualizacja Twojego niestandardowego pliku DBML ręcznie, aby odzwierciedlić zmianę w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="ebc98-126">Alternatively, you could compare the differences between your new DBML file and your customized DBML file and update your custom DBML file manually to reflect the database change.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ebc98-127">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="ebc98-127">See Also</span></span>  
 [<span data-ttu-id="ebc98-128">Mapowanie typu środowiska CLR SQL</span><span class="sxs-lookup"><span data-stu-id="ebc98-128">SQL-CLR Type Mapping</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md)  
 [<span data-ttu-id="ebc98-129">Generowanie kodu w składniku LINQ to SQL</span><span class="sxs-lookup"><span data-stu-id="ebc98-129">Code Generation in LINQ to SQL</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/code-generation-in-linq-to-sql.md)
