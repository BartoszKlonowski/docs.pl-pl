---
title: Mapowanie niestandardowego typu SQL CLR
ms.date: 03/30/2017
ms.assetid: d916c7fb-4b56-4214-acbe-5e23365047b2
ms.openlocfilehash: bc92d54cad6a977268ef3f000c684d5f195a933d
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/08/2019
ms.locfileid: "59140416"
---
# <a name="sql-clr-custom-type-mappings"></a><span data-ttu-id="59d83-102">Mapowanie niestandardowego typu SQL CLR</span><span class="sxs-lookup"><span data-stu-id="59d83-102">SQL-CLR Custom Type Mappings</span></span>
<span data-ttu-id="59d83-103">Typ mapowania między programu SQL Server i środowisko uruchomieniowe języka wspólnego (CLR) automatycznie jest określona, korzystając z narzędzia wiersza polecenia SQLMetal Object Relational Designer (O/R Designer).</span><span class="sxs-lookup"><span data-stu-id="59d83-103">Type mapping between SQL Server and the common language runtime (CLR) is automatically specified when you use the SQLMetal command-line tool, Object Relational Designer (O/R Designer).</span></span>  
  
 <span data-ttu-id="59d83-104">Podczas wykonywania dostosowane mapowania tych narzędzi przypisać domyślne mapowanie typu zgodnie z opisem w [mapowanie typu SQL CLR](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="59d83-104">When no customized mapping is performed, these tools assign default type mappings as described in [SQL-CLR Type Mapping](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md).</span></span> <span data-ttu-id="59d83-105">Na typ mapowania inaczej niż te ustawienia domyślne, należy wykonać pewne dostosowania mapowania typów.</span><span class="sxs-lookup"><span data-stu-id="59d83-105">If you want to type mappings differently from these defaults, you need to do some customization of the type mappings.</span></span>  
  
 <span data-ttu-id="59d83-106">Podczas dostosowywania mapowania typów, zalecanym podejściem jest aby wprowadzić zmiany w pliku DBML pośrednie.</span><span class="sxs-lookup"><span data-stu-id="59d83-106">When customizing type mappings, the recommended approach is to make the changes in an intermediary DBML file.</span></span> <span data-ttu-id="59d83-107">Następnie dostosowanego pliku DBML powinna służyć podczas tworzenia możesz kodu i mapowania plików za pomocą SQLMetal lub O/R Designer.</span><span class="sxs-lookup"><span data-stu-id="59d83-107">Then, your customized DBML file should be used when you create you code and mapping files with SQLMetal or O/R Designer.</span></span>  
  
 <span data-ttu-id="59d83-108">Gdy tworzenia wystąpienia <xref:System.Data.Linq.DataContext> obiektu z kodu i mapowania plików <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> metoda tworzy bazę danych w oparciu mapowania typów, które są określone.</span><span class="sxs-lookup"><span data-stu-id="59d83-108">Once you instantiate the <xref:System.Data.Linq.DataContext> object from the code and mapping files, the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method creates a database based on the type mappings that are specified.</span></span> <span data-ttu-id="59d83-109">Jeśli nie ma żadnych CLR `type` atrybuty określone w mapowaniach, będą używane domyślne mapowania typu.</span><span class="sxs-lookup"><span data-stu-id="59d83-109">If there are no CLR `type` attributes specified in the mappings, the default type mappings will be used.</span></span>  
  
## <a name="customization-with-sqlmetal-or-or-designer"></a><span data-ttu-id="59d83-110">Dostosowywanie za pomocą SQLMetal lub Relational Designer</span><span class="sxs-lookup"><span data-stu-id="59d83-110">Customization with SQLMetal or O/R Designer</span></span>  
 <span data-ttu-id="59d83-111">Program SQLMetal i O/R Designer może automatycznie tworzyć model obiektu, który zawiera mapowania informacje o typie wewnątrz lub na zewnątrz pliku kodu.</span><span class="sxs-lookup"><span data-stu-id="59d83-111">With SQLMetal and O/R Designer, you can automatically create an object model that includes the type mapping information inside or outside the code file.</span></span> <span data-ttu-id="59d83-112">Ponieważ te pliki są zastępowane przez program SQLMetal lub O/R Designer, zawsze możesz ponownie utworzyć mapowania, zalecane podejście do określania mapowanie niestandardowego typu jest dostosowywanie za pomocą pliku DBML.</span><span class="sxs-lookup"><span data-stu-id="59d83-112">Because these files are overwritten by SQLMetal or O/R Designer, each time you recreate your mappings, the recommended approach to specifying custom type mappings is to customize a DBML file.</span></span>  
  
 <span data-ttu-id="59d83-113">Aby dostosować mapowanie typu SQLMetal lub O/R Designer, należy najpierw wygenerować za pomocą pliku DBML.</span><span class="sxs-lookup"><span data-stu-id="59d83-113">To customize type mappings with SQLMetal or O/R Designer, first generate a DBML file.</span></span> <span data-ttu-id="59d83-114">Przed wygenerowaniem plik kodu lub pliku mapowania, zmodyfikowanie pliku DBML, aby zidentyfikować mapowania żądanego typu.</span><span class="sxs-lookup"><span data-stu-id="59d83-114">Then, before generating the code file or mapping file, modify the DBML file to identify the desired type mappings.</span></span> <span data-ttu-id="59d83-115">Za pomocą SQLMetal, należy ręcznie zmienić `Type` i `DbType` atrybutów w dostosowania mapowania typu za pomocą pliku DBML.</span><span class="sxs-lookup"><span data-stu-id="59d83-115">With SQLMetal, you have to manually change the `Type` and `DbType` attributes in the DBML file to make your type mapping customizations.</span></span> <span data-ttu-id="59d83-116">Za pomocą Projektanta obiektów relacyjnych można wprowadzić zmiany w projektancie.</span><span class="sxs-lookup"><span data-stu-id="59d83-116">With O/R Designer, you can make your changes within the Designer.</span></span> <span data-ttu-id="59d83-117">Aby uzyskać więcej informacji na temat za pomocą Projektanta obiektów relacyjnych, zobacz [LINQ to SQL Tools w programie Visual Studio](/visualstudio/data-tools/linq-to-sql-tools-in-visual-studio2).</span><span class="sxs-lookup"><span data-stu-id="59d83-117">For more information about using the O/R Designer, see [LINQ to SQL Tools in Visual Studio](/visualstudio/data-tools/linq-to-sql-tools-in-visual-studio2).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="59d83-118">Niektóre mapowania typu może spowodować wyjątki utraty danych lub przepełnienie podczas tłumaczenia do lub z bazy danych.</span><span class="sxs-lookup"><span data-stu-id="59d83-118">Some type mappings may result in overflow or data loss exceptions while translating to or from the database.</span></span> <span data-ttu-id="59d83-119">Dokładnie przejrzyj macierzy zachowanie mapowanie typu wykonawcze w [mapowanie typu SQL CLR](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md) przed wykonaniem wszelkich dostosowań.</span><span class="sxs-lookup"><span data-stu-id="59d83-119">Carefully review the Type Mapping Run-time Behavior Matrix in [SQL-CLR Type Mapping](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md) before making any customizations.</span></span>  
  
 <span data-ttu-id="59d83-120">Mapowanie typu dostosowania zostały rozpoznane przez program SQLMetal lub O/R Designer, należy upewnić się, że te narzędzia są dostarczane ze ścieżką do niestandardowego pliku DBML podczas generowania pliku kodu lub pliku mapowania zewnętrznych.</span><span class="sxs-lookup"><span data-stu-id="59d83-120">In order for your type mapping customizations to be recognized by SQLMetal or O/R Designer, you need to make sure that these tools are supplied with the path to your custom DBML file when you generate your code file or external mapping file.</span></span> <span data-ttu-id="59d83-121">Chociaż nie jest to wymagane do dostosowywania mapowania typu, zalecane jest zawsze rozdzielić dane mapowania typu z pliku kodu i wygenerować dodatkowe typ zewnętrzny plik mapowania.</span><span class="sxs-lookup"><span data-stu-id="59d83-121">Although not required for type mapping customization, it is recommended that you always separate your type mapping information from your code file and generate the additional external type mapping file.</span></span> <span data-ttu-id="59d83-122">To spowoduje, że pewną elastyczność, nie wymagając rekompilować pliku kodu.</span><span class="sxs-lookup"><span data-stu-id="59d83-122">Doing so will leave some flexibility by not requiring that the code file be recompiled.</span></span>  
  
## <a name="incorporating-database-changes"></a><span data-ttu-id="59d83-123">Dołączanie zmian w bazie danych</span><span class="sxs-lookup"><span data-stu-id="59d83-123">Incorporating Database Changes</span></span>  
 <span data-ttu-id="59d83-124">Po zmianie bazy danych, należy zaktualizować pliku DBML, aby odzwierciedlać wprowadzone zmiany.</span><span class="sxs-lookup"><span data-stu-id="59d83-124">When your database changes, you will need to update your DBML file to reflect those changes.</span></span> <span data-ttu-id="59d83-125">Jednym ze sposobów, aby zrobić to automatyczne tworzenie nowego pliku DBML, a następnie ponownie wykonaj dostosowania mapowania typu.</span><span class="sxs-lookup"><span data-stu-id="59d83-125">One way to do this is to automatically create a new DBML file and then re-do your type mapping customizations.</span></span> <span data-ttu-id="59d83-126">Alternatywnie możesz porównać nowego pliku DBML i dostosowanego pliku DBML i zaktualizować niestandardowego pliku DBML ręcznie, aby odzwierciedlić zmianę w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="59d83-126">Alternatively, you could compare the differences between your new DBML file and your customized DBML file and update your custom DBML file manually to reflect the database change.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="59d83-127">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="59d83-127">See also</span></span>

- [<span data-ttu-id="59d83-128">Mapowania typów środowiska SQL-CLR</span><span class="sxs-lookup"><span data-stu-id="59d83-128">SQL-CLR Type Mapping</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mapping.md)
- [<span data-ttu-id="59d83-129">Generowanie kodu w składniku LINQ to SQL</span><span class="sxs-lookup"><span data-stu-id="59d83-129">Code Generation in LINQ to SQL</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/code-generation-in-linq-to-sql.md)
