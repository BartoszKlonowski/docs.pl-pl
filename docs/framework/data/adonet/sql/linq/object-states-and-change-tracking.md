---
title: Stanów obiektów i śledzenie zmian
ms.date: 03/30/2017
ms.assetid: 7a808b00-9c3c-479a-aa94-717280fefd71
ms.openlocfilehash: 482299f90a92acec9307649ec04a89f8ce6be414
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/04/2018
ms.locfileid: "33364258"
---
# <a name="object-states-and-change-tracking"></a><span data-ttu-id="8ebe1-102">Stanów obiektów i śledzenie zmian</span><span class="sxs-lookup"><span data-stu-id="8ebe1-102">Object States and Change-Tracking</span></span>
[!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="8ebe1-103"> obiekty zawsze uczestniczyć w niektórych *stanu*.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-103"> objects always participate in some *state*.</span></span> <span data-ttu-id="8ebe1-104">Na przykład, jeśli [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] tworzy nowy obiekt, gdy obiekt jest w `Unchanged` stanu.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-104">For example, when [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] creates a new object, the object is in `Unchanged` state.</span></span> <span data-ttu-id="8ebe1-105">Możesz samodzielnie utworzyć nowy obiekt jest nieznany w <xref:System.Data.Linq.DataContext> i znajduje się w `Untracked` stanu.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-105">A new object that you yourself create is unknown to the <xref:System.Data.Linq.DataContext> and is in `Untracked` state.</span></span> <span data-ttu-id="8ebe1-106">Po pomyślnym wykonaniu <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, wszystkie obiekty znane [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] w `Unchanged` stanu.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-106">Following successful execution of <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, all objects known to [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] are in `Unchanged` state.</span></span> <span data-ttu-id="8ebe1-107">(Jedynym wyjątkiem jest reprezentowana przez te, które zostały pomyślnie usunięte z bazy danych, które znajdują się w `Deleted` stanu i korzystanie z niej w tym <xref:System.Data.Linq.DataContext> wystąpienia.)</span><span class="sxs-lookup"><span data-stu-id="8ebe1-107">(The single exception is represented by those that have been successfully deleted from the database, which are in `Deleted` state and unusable in that <xref:System.Data.Linq.DataContext> instance.)</span></span>  
  
## <a name="object-states"></a><span data-ttu-id="8ebe1-108">Stanów obiektów</span><span class="sxs-lookup"><span data-stu-id="8ebe1-108">Object States</span></span>  
 <span data-ttu-id="8ebe1-109">W poniższej tabeli przedstawiono możliwe stany [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] obiektów.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-109">The following table lists the possible states for [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] objects.</span></span>  
  
|<span data-ttu-id="8ebe1-110">Stan</span><span class="sxs-lookup"><span data-stu-id="8ebe1-110">State</span></span>|<span data-ttu-id="8ebe1-111">Opis</span><span class="sxs-lookup"><span data-stu-id="8ebe1-111">Description</span></span>|  
|-----------|-----------------|  
|`Untracked`|<span data-ttu-id="8ebe1-112">Nie są śledzone przez obiekt [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8ebe1-112">An object not tracked by [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)].</span></span> <span data-ttu-id="8ebe1-113">Przykłady obejmują następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="8ebe1-113">Examples include the following:</span></span><br /><br /> <span data-ttu-id="8ebe1-114">-Nie tworzyć zapytania za pomocą bieżącego obiektu <xref:System.Data.Linq.DataContext> (na przykład nowo utworzony obiekt).</span><span class="sxs-lookup"><span data-stu-id="8ebe1-114">-   An object not queried through the current <xref:System.Data.Linq.DataContext> (such as a newly created object).</span></span><br /><span data-ttu-id="8ebe1-115">-Został utworzony za pomocą deserializacji obiektu</span><span class="sxs-lookup"><span data-stu-id="8ebe1-115">-   An object created through deserialization</span></span><br /><span data-ttu-id="8ebe1-116">-Tworzyć zapytania za pomocą innego obiektu <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-116">-   An object queried through a different <xref:System.Data.Linq.DataContext>.</span></span>|  
|`Unchanged`|<span data-ttu-id="8ebe1-117">Obiekt pobrany przy użyciu bieżącej <xref:System.Data.Linq.DataContext> , nie wiadomo, został zmodyfikowany od czasu jej utworzenia.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-117">An object retrieved by using the current <xref:System.Data.Linq.DataContext> and not known to have been modified since it was created.</span></span>|  
|`PossiblyModified`|<span data-ttu-id="8ebe1-118">Obiekt, który jest *dołączony* do <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-118">An object which is *attached* to a <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="8ebe1-119">Aby uzyskać więcej informacji, zobacz [pobierania danych i CUD operacje w aplikacjach warstwowych (LINQ to SQL)](../../../../../../docs/framework/data/adonet/sql/linq/data-retrieval-and-cud-operations-in-n-tier-applications.md).</span><span class="sxs-lookup"><span data-stu-id="8ebe1-119">For more information, see [Data Retrieval and CUD Operations in N-Tier Applications (LINQ to SQL)](../../../../../../docs/framework/data/adonet/sql/linq/data-retrieval-and-cud-operations-in-n-tier-applications.md).</span></span>|  
|`ToBeInserted`|<span data-ttu-id="8ebe1-120">Obiekt nie pobrać przy użyciu bieżącej <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-120">An object not retrieved by using the current <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="8ebe1-121">Powoduje to, że bazy danych `INSERT` podczas <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-121">This causes a database `INSERT` during <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span>|  
|`ToBeUpdated`|<span data-ttu-id="8ebe1-122">Obiekt znane został zmodyfikowany od czasu jej pobrania.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-122">An object known to have been modified since it was retrieved.</span></span> <span data-ttu-id="8ebe1-123">Powoduje to, że bazy danych `UPDATE` podczas <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-123">This causes a database `UPDATE` during <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span>|  
|`ToBeDeleted`|<span data-ttu-id="8ebe1-124">Obiekt oznaczona do usunięcia, co powoduje bazy danych `DELETE` podczas <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-124">An object marked for deletion, causing a database `DELETE` during <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span>|  
|`Deleted`|<span data-ttu-id="8ebe1-125">Obiekt, który został usunięty w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-125">An object that has been deleted in the database.</span></span> <span data-ttu-id="8ebe1-126">Ten stan jest ostateczny i nie zezwala na dodatkowe przejścia.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-126">This state is final and does not allow for additional transitions.</span></span>|  
  
## <a name="inserting-objects"></a><span data-ttu-id="8ebe1-127">Wstawianie obiektów</span><span class="sxs-lookup"><span data-stu-id="8ebe1-127">Inserting Objects</span></span>  
 <span data-ttu-id="8ebe1-128">Można jawnie żądania `Inserts` przy użyciu <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-128">You can explicitly request `Inserts` by using <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>.</span></span> <span data-ttu-id="8ebe1-129">Alternatywnie [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] można wywnioskować `Inserts` przez wyszukiwanie obiektów połączony z jednym z znane obiekty, które muszą zostać zaktualizowane.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-129">Alternatively, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] can infer `Inserts` by finding objects connected to one of the known objects that must be updated.</span></span> <span data-ttu-id="8ebe1-130">Na przykład, jeśli dodasz `Untracked` do obiektu <xref:System.Data.Linq.EntitySet%601> lub ustaw <xref:System.Data.Linq.EntityRef%601> do `Untracked` obiektu o wprowadzeniu `Untracked` obiekt jest dostępny i śledzonych obiektów na wykresie.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-130">For example, if you add an `Untracked` object to an <xref:System.Data.Linq.EntitySet%601> or set an <xref:System.Data.Linq.EntityRef%601> to an `Untracked` object, you make the `Untracked` object reachable by way of tracked objects in the graph.</span></span> <span data-ttu-id="8ebe1-131">Podczas przetwarzania <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] przesyłane za pośrednictwem śledzonych obiektów i odnajduje dostępny obiekty trwałe, które nie są śledzone.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-131">While processing <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] traverses the tracked objects and discovers any reachable persistent objects that are not tracked.</span></span> <span data-ttu-id="8ebe1-132">Takie obiekty nadają się do wstawienia do bazy danych.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-132">Such objects are candidates for insertion into the database.</span></span>  
  
 <span data-ttu-id="8ebe1-133">Dla klas w hierarchii dziedziczenia <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>(`o`) określa również wartość elementu członkowskiego, wyznaczony jako *rozróżniacza* odpowiada typowi obiektu `o`.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-133">For classes in an inheritance hierarchy, <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>(`o`) also sets the value of the member designated as the *discriminator* to match the type of the object `o`.</span></span> <span data-ttu-id="8ebe1-134">W przypadku typu pasującego domyślną wartość dyskryminatora ta akcja powoduje, że wartość dyskryminatora zostaną zastąpione z wartością domyślną.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-134">In the case of a type matching the default discriminator value, this action causes the discriminator value to be overwritten with the default value.</span></span> <span data-ttu-id="8ebe1-135">Aby uzyskać więcej informacji, zobacz [Obsługa dziedziczenia](../../../../../../docs/framework/data/adonet/sql/linq/inheritance-support.md).</span><span class="sxs-lookup"><span data-stu-id="8ebe1-135">For more information, see [Inheritance Support](../../../../../../docs/framework/data/adonet/sql/linq/inheritance-support.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="8ebe1-136">Obiekt, który został dodany do `Table` nie znajduje się w pamięci podręcznej tożsamości.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-136">An object added to a `Table` is not in the identity cache.</span></span> <span data-ttu-id="8ebe1-137">Pamięć podręczna tożsamości odzwierciedla co pobrane z bazy danych.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-137">The identity cache reflects only what is retrieved from the database.</span></span> <span data-ttu-id="8ebe1-138">Po wywołaniu <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>, dodano jednostki nie jest wyświetlany w kwerendy do bazy danych do <xref:System.Data.Linq.DataContext.SubmitChanges%2A> zakończy się pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-138">After a call to <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>, the added entity does not appear in queries against the database until <xref:System.Data.Linq.DataContext.SubmitChanges%2A> is successfully completed.</span></span>  
  
## <a name="deleting-objects"></a><span data-ttu-id="8ebe1-139">Usuwanie obiektów</span><span class="sxs-lookup"><span data-stu-id="8ebe1-139">Deleting Objects</span></span>  
 <span data-ttu-id="8ebe1-140">Oznacz śledzonych obiektu `o` do usunięcia przez wywołanie metody <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>(IE) na odpowiednie <xref:System.Data.Linq.Table%601>.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-140">You mark a tracked object `o` for deletion by calling <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>(o) on the appropriate <xref:System.Data.Linq.Table%601>.</span></span> [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="8ebe1-141"> uwzględnia usunięcie obiektu z <xref:System.Data.Linq.EntitySet%601> jako aktualizacja operacji i odpowiednie wartości klucza obcego jest ustawiona na wartość null.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-141"> considers the removal of an object from an <xref:System.Data.Linq.EntitySet%601> as an update operation, and the corresponding foreign key value is set to null.</span></span> <span data-ttu-id="8ebe1-142">Obiekt docelowy operacji (`o`) nie zostanie usunięty z tabeli.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-142">The target of the operation (`o`) is not deleted from its table.</span></span> <span data-ttu-id="8ebe1-143">Na przykład `cust.Orders.DeleteOnSubmit(ord)` oznacza, że aktualizacja gdzie relacji między `cust` i `ord` jest Przerwano ustawiając klucz obcy `ord.CustomerID` na wartość null.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-143">For example, `cust.Orders.DeleteOnSubmit(ord)` indicates an update where the relationship between `cust` and `ord` is severed by setting the foreign key `ord.CustomerID` to null.</span></span> <span data-ttu-id="8ebe1-144">Nie powoduje usunięcia wiersza odpowiadający `ord`.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-144">It does not cause the deletion of the row corresponding to `ord`.</span></span>  
  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="8ebe1-145"> wykonuje następujące przetwarzania po usunięciu obiektu (<xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>) z tabeli:</span><span class="sxs-lookup"><span data-stu-id="8ebe1-145"> performs the following processing when an object is deleted (<xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>) from its table:</span></span>  
  
-   <span data-ttu-id="8ebe1-146">Gdy <xref:System.Data.Linq.DataContext.SubmitChanges%2A> jest nazywany `DELETE` operacja została wykonana dla tego obiektu.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-146">When <xref:System.Data.Linq.DataContext.SubmitChanges%2A> is called, a `DELETE` operation is performed for that object.</span></span>  
  
-   <span data-ttu-id="8ebe1-147">Usuwanie nie są propagowane do obiektów powiązanych niezależnie od tego, czy zostały załadowane.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-147">The removal is not propagated to related objects regardless of whether they are loaded.</span></span> <span data-ttu-id="8ebe1-148">W szczególności powiązane obiekty nie są ładowane do aktualizacji właściwości relacji.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-148">Specifically, related objects are not loaded for updating the relationship property.</span></span>  
  
-   <span data-ttu-id="8ebe1-149">Po pomyślnym wykonaniu <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, obiekty są ustawione na `Deleted` stanu.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-149">After successful execution of <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, the objects are set to the `Deleted` state.</span></span> <span data-ttu-id="8ebe1-150">W związku z tym nie można użyć obiektu lub jego `id` w tym <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-150">As a result, you cannot use the object or its `id` in that <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="8ebe1-151">Wewnętrznej pamięci podręcznej obsługiwanego przez <xref:System.Data.Linq.DataContext> wystąpienia nie powoduje usunięcia obiektów, które są pobierane lub dodany jako nowy, nawet po usunięciu obiektów w bazie danych.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-151">The internal cache maintained by a <xref:System.Data.Linq.DataContext> instance does not eliminate objects that are retrieved or added as new, even after the objects have been deleted in the database.</span></span>  
  
 <span data-ttu-id="8ebe1-152">Możesz wywołać <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> tylko na śledzone przez obiekt <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-152">You can call <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> only on an object tracked by the <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="8ebe1-153">Aby uzyskać `Untracked` obiektu, należy wywołać <xref:System.Data.Linq.Table%601.Attach%2A> przed wywołaniem <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-153">For an `Untracked` object, you must call <xref:System.Data.Linq.Table%601.Attach%2A> before you call <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>.</span></span> <span data-ttu-id="8ebe1-154">Wywoływanie <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> na `Untracked` obiektu zgłasza wyjątek.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-154">Calling <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> on an `Untracked` object throws an exception.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="8ebe1-155">Usuwanie obiektu z tabeli informuje [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] do generowania odpowiednich SQL `DELETE` polecenia w czasie <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-155">Removing an object from a table tells [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] to generate a corresponding SQL `DELETE` command at the time of <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span> <span data-ttu-id="8ebe1-156">Ta akcja nie usunąć obiekt z pamięci podręcznej lub propagacji do usunięcia powiązanych obiektów.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-156">This action does not remove the object from the cache or propagate the deletion to related objects.</span></span>  
>   
>  <span data-ttu-id="8ebe1-157">Aby odzyskać `id` usuniętego obiektu, użyj nowego <xref:System.Data.Linq.DataContext> wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-157">To reclaim the `id` of a deleted object, use a new <xref:System.Data.Linq.DataContext> instance.</span></span> <span data-ttu-id="8ebe1-158">Oczyszczania powiązane obiekty, można użyć *usuwanie kaskadowe* funkcji bazy danych, w przeciwnym razie ręcznie usunąć powiązanych obiektów.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-158">For cleanup of related objects, you can use the *cascade delete* feature of the database, or else manually delete the related objects.</span></span>  
>   
>  <span data-ttu-id="8ebe1-159">Nie trzeba go usunąć w dowolnej kolejności specjalne powiązane obiekty (w przeciwieństwie do bazy danych).</span><span class="sxs-lookup"><span data-stu-id="8ebe1-159">The related objects do not have to be deleted in any special order (unlike in the database).</span></span>  
  
## <a name="updating-objects"></a><span data-ttu-id="8ebe1-160">Aktualizowanie obiektów</span><span class="sxs-lookup"><span data-stu-id="8ebe1-160">Updating Objects</span></span>  
 <span data-ttu-id="8ebe1-161">Można wykryć `Updates` obserwując powiadomień o zmianach.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-161">You can detect `Updates` by observing notifications of changes.</span></span> <span data-ttu-id="8ebe1-162">Powiadomienia są realizowane za pośrednictwem <xref:System.ComponentModel.INotifyPropertyChanging.PropertyChanging> zdarzenia w metody ustawiające właściwości.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-162">Notifications are provided through the <xref:System.ComponentModel.INotifyPropertyChanging.PropertyChanging> event in property setters.</span></span> <span data-ttu-id="8ebe1-163">Gdy [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] jest powiadamiany o pierwszej zmianie do obiektu, tworzy kopię obiektu i traktuje jako obiekt kandydatem do generowania `Update` instrukcji.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-163">When [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] is notified of the first change to an object, it creates a copy of the object and considers the object a candidate for generating an `Update` statement.</span></span>  
  
 <span data-ttu-id="8ebe1-164">Dla obiektów, które nie implementują <xref:System.ComponentModel.INotifyPropertyChanging>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] przechowuje kopię wartości, które obiekty mają, jeśli zostały one najpierw zmaterializowany.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-164">For objects that do not implement <xref:System.ComponentModel.INotifyPropertyChanging>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] maintains a copy of the values that objects had when they were first materialized.</span></span> <span data-ttu-id="8ebe1-165">Podczas wywoływania <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] porównuje bieżące i oryginalne wartości można zdecydować, czy obiekt został zmieniony.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-165">When you call <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] compares the current and original values to decide whether the object has been changed.</span></span>  
  
 <span data-ttu-id="8ebe1-166">Aktualizacje do relacji odwołanie z podrzędnych do elementu nadrzędnego (to znaczy odwołanie odpowiadający klucz obcy) jest traktowany jako urząd.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-166">For updates to relationships, the reference from the child to the parent (that is, the reference corresponding to the foreign key) is considered the authority.</span></span> <span data-ttu-id="8ebe1-167">Odwołania w kierunku odwrotnym (czyli z nadrzędnych do podrzędnych) jest opcjonalna.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-167">The reference in the reverse direction (that is, from parent to child) is optional.</span></span> <span data-ttu-id="8ebe1-168">Klasy relacji (<xref:System.Data.Linq.EntitySet%601> i <xref:System.Data.Linq.EntityRef%601>) gwarantuje, że odwołania dwukierunkowego są zgodne w przypadku relacji jeden do wielu oraz jeden do jednego.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-168">Relationship classes (<xref:System.Data.Linq.EntitySet%601> and <xref:System.Data.Linq.EntityRef%601>) guarantee that the bidirectional references are consistent for one-to-many and one-to-one relationships.</span></span> <span data-ttu-id="8ebe1-169">Jeśli nie są używane w modelu obiektu <xref:System.Data.Linq.EntitySet%601> lub <xref:System.Data.Linq.EntityRef%601>, i jeśli odwrotnej odwołania, jest obowiązek zachowania ich spójności z odwołaniem w przód po zaktualizowaniu relacji.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-169">If the object model does not use <xref:System.Data.Linq.EntitySet%601> or <xref:System.Data.Linq.EntityRef%601>, and if the reverse reference is present, it is your responsibility to keep it consistent with the forward reference when the relationship is updated.</span></span>  
  
 <span data-ttu-id="8ebe1-170">Jeśli zaktualizujesz zarówno wymaganego odwołania i odpowiedniego klucza obcego, należy się upewnić, że użytkownik wyrazi zgodę.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-170">If you update both the required reference and the corresponding foreign key, you must make sure that they agree.</span></span> <span data-ttu-id="8ebe1-171"><xref:System.InvalidOperationException> Jest zgłaszany wyjątek, jeśli dwa nie są zsynchronizowane w momencie wywołania <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-171">An <xref:System.InvalidOperationException> exception is thrown if the two are not synchronized at the time that you call <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span> <span data-ttu-id="8ebe1-172">Mimo że wartości klucza obcego zmiany są wystarczające dla wpływających na aktualizację wiersza źródłowego, należy zmienić odwołania, który zapewnia łączność obiektu spójności wykres i dwukierunkowe relacje.</span><span class="sxs-lookup"><span data-stu-id="8ebe1-172">Although foreign key value changes are sufficient for affecting an update of the underlying row, you should change the reference to maintain connectivity of the object graph and bidirectional consistency of relationships.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8ebe1-173">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="8ebe1-173">See Also</span></span>  
 [<span data-ttu-id="8ebe1-174">Informacje uzupełniające</span><span class="sxs-lookup"><span data-stu-id="8ebe1-174">Background Information</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/background-information.md)  
 [<span data-ttu-id="8ebe1-175">Operacje wstawiania, aktualizowania i usuwania</span><span class="sxs-lookup"><span data-stu-id="8ebe1-175">Insert, Update, and Delete Operations</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/insert-update-and-delete-operations.md)
