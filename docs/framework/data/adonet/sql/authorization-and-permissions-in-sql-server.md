---
title: Autoryzacja i uprawnienia w programie SQL Server
ms.date: 03/30/2017
ms.assetid: d340405c-91f4-4837-a3cc-a238ee89888a
ms.openlocfilehash: bdf5112e3f0e2cada4885b0b66adf248f0ffe808
ms.sourcegitcommit: ba5c189bf44d44204a3e8838e59ec378a62d82f3
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/12/2018
ms.locfileid: "44699505"
---
# <a name="authorization-and-permissions-in-sql-server"></a><span data-ttu-id="a36e3-102">Autoryzacja i uprawnienia w programie SQL Server</span><span class="sxs-lookup"><span data-stu-id="a36e3-102">Authorization and Permissions in SQL Server</span></span>
<span data-ttu-id="a36e3-103">Podczas tworzenia obiektów bazy danych, należy jawnie udzielić uprawnień, aby udostępnić je użytkownikom.</span><span class="sxs-lookup"><span data-stu-id="a36e3-103">When you create database objects, you must explicitly grant permissions to make them accessible to users.</span></span> <span data-ttu-id="a36e3-104">Każdy obiekt zabezpieczany ma uprawnienia, które mogą być przyznane podmiot zabezpieczeń za pomocą instrukcji uprawnień.</span><span class="sxs-lookup"><span data-stu-id="a36e3-104">Every securable object has permissions that can be granted to a principal using permission statements.</span></span>  
  
## <a name="the-principle-of-least-privilege"></a><span data-ttu-id="a36e3-105">Zasadę najmniejszych uprawnień</span><span class="sxs-lookup"><span data-stu-id="a36e3-105">The Principle of Least Privilege</span></span>  
 <span data-ttu-id="a36e3-106">Projektowanie aplikacji przy użyciu podejścia użytkownika najmniej uprzywilejowane konto (LUA) stanowi ważną część strategii obronienia, szczegółowe przeciwdziałanie zagrożenia bezpieczeństwa.</span><span class="sxs-lookup"><span data-stu-id="a36e3-106">Developing an application using a least-privileged user account (LUA) approach is an important part of a defensive, in-depth strategy for countering security threats.</span></span> <span data-ttu-id="a36e3-107">Podejście LUA temu, postępuj zgodnie z zasadą najniższych uprawnień użytkowników i zawsze Zaloguj się przy użyciu kont z ograniczonymi uprawnieniami.</span><span class="sxs-lookup"><span data-stu-id="a36e3-107">The LUA approach ensures that users follow the principle of least privilege and always log on with limited user accounts.</span></span> <span data-ttu-id="a36e3-108">Zadania administracyjne są rozbite przy użyciu ról stałej i użytkowania `sysadmin` stałej roli serwera jest znacznie ograniczone.</span><span class="sxs-lookup"><span data-stu-id="a36e3-108">Administrative tasks are broken out using fixed server roles, and the use of the `sysadmin` fixed server role is severely restricted.</span></span>  
  
 <span data-ttu-id="a36e3-109">Zawsze postępuj zgodnie z zasadą najniższych uprawnień, podczas nadawania uprawnień do bazy danych użytkowników.</span><span class="sxs-lookup"><span data-stu-id="a36e3-109">Always follow the principle of least privilege when granting permissions to database users.</span></span> <span data-ttu-id="a36e3-110">Przyznaj najniższe uprawnienia niezbędne do użytkownika lub roli do wykonywania danego zadania.</span><span class="sxs-lookup"><span data-stu-id="a36e3-110">Grant the minimum permissions necessary to a user or role to accomplish a given task.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="a36e3-111">Tworzenie i testowanie aplikacji przy użyciu podejścia LUA dodaje stopień trudności z procesu opracowywania.</span><span class="sxs-lookup"><span data-stu-id="a36e3-111">Developing and testing an application using the LUA approach adds a degree of difficulty to the development process.</span></span> <span data-ttu-id="a36e3-112">Jest to łatwiejsze do tworzenia obiektów i napisać kod, gdy są zalogowani jako właściciel bazy danych lub administratorem systemu, niż konto LUA.</span><span class="sxs-lookup"><span data-stu-id="a36e3-112">It is easier to create objects and write code while logged on as a system administrator or database owner than it is using a LUA account.</span></span> <span data-ttu-id="a36e3-113">Jednak tworzenie aplikacji przy użyciu konta o wysokim poziomie uprawnień można zaciemniania wpływu o ograniczonej funkcjonalności, gdy najniższych uprawnieniach użytkownicy próbują uruchomić aplikację, która wymaga podniesionych uprawnień, aby działać poprawnie.</span><span class="sxs-lookup"><span data-stu-id="a36e3-113">However, developing applications using a highly privileged account can obfuscate the impact of reduced functionality when least privileged users attempt to run an application that requires elevated permissions in order to function correctly.</span></span> <span data-ttu-id="a36e3-114">Udzielanie uprawnień nadmiernego użytkownikom, aby ponownie pobrać utraty funkcji można pozostawić aplikację na ataki.</span><span class="sxs-lookup"><span data-stu-id="a36e3-114">Granting excessive permissions to users in order to reacquire lost functionality can leave your application vulnerable to attack.</span></span> <span data-ttu-id="a36e3-115">Projektowanie, tworzenie i testowanie aplikacji przy użyciu konta LUA wymusza wolą podejście do planowania zabezpieczeń, które eliminuje nieprzyjemnych niespodzianek i możliwość przesłania do udzielania podwyższonego poziomu uprawnień jako szybkiej poprawki.</span><span class="sxs-lookup"><span data-stu-id="a36e3-115">Designing, developing and testing your application logged on with a LUA account enforces a disciplined approach to security planning that eliminates unpleasant surprises and the temptation to grant elevated privileges as a quick fix.</span></span> <span data-ttu-id="a36e3-116">Identyfikator logowania programu SQL Server można użyć do testowania, nawet jeśli Twoja aplikacja jest przeznaczona do wdrożenia przy użyciu uwierzytelniania Windows.</span><span class="sxs-lookup"><span data-stu-id="a36e3-116">You can use a SQL Server login for testing even if your application is intended to deploy using Windows authentication.</span></span>  
  
## <a name="role-based-permissions"></a><span data-ttu-id="a36e3-117">Uprawnienia opartej na rolach</span><span class="sxs-lookup"><span data-stu-id="a36e3-117">Role-Based Permissions</span></span>  
 <span data-ttu-id="a36e3-118">Udzielanie uprawnień do ról, a nie do użytkowników upraszcza administrowanie zabezpieczeniami.</span><span class="sxs-lookup"><span data-stu-id="a36e3-118">Granting permissions to roles rather than to users simplifies security administration.</span></span> <span data-ttu-id="a36e3-119">Zestawy uprawnień, które są przypisane do ról są dziedziczone przez wszystkie elementy członkowskie roli.</span><span class="sxs-lookup"><span data-stu-id="a36e3-119">Permission sets that are assigned to roles are inherited by all members of the role.</span></span> <span data-ttu-id="a36e3-120">Łatwiej dodawać i usuwać użytkowników z roli, niż jest to, aby ponownie utworzyć oddzielne uprawnienia ustawia dla poszczególnych użytkowników.</span><span class="sxs-lookup"><span data-stu-id="a36e3-120">It is easier to add or remove users from a role than it is to recreate separate permission sets for individual users.</span></span> <span data-ttu-id="a36e3-121">Role mogą być zagnieżdżone; jednak zbyt wiele poziomów zagnieżdżenia może obniżyć wydajność.</span><span class="sxs-lookup"><span data-stu-id="a36e3-121">Roles can be nested; however, too many levels of nesting can degrade performance.</span></span> <span data-ttu-id="a36e3-122">Możesz również dodać użytkowników do ról stałej bazy danych, aby uprościć przypisywanie uprawnień.</span><span class="sxs-lookup"><span data-stu-id="a36e3-122">You can also add users to fixed database roles to simplify assigning permissions.</span></span>  
  
 <span data-ttu-id="a36e3-123">Można przyznać uprawnienia na poziomie schematu.</span><span class="sxs-lookup"><span data-stu-id="a36e3-123">You can grant permissions at the schema level.</span></span> <span data-ttu-id="a36e3-124">Użytkownicy automatycznie dziedziczą uprawnienia na wszystkich nowych obiektów utworzonych w schemacie; nie musisz udzielić uprawnień w miarę tworzenia nowych obiektów.</span><span class="sxs-lookup"><span data-stu-id="a36e3-124">Users automatically inherit permissions on all new objects created in the schema; you do not need to grant permissions as new objects are created.</span></span>  
  
## <a name="permissions-through-procedural-code"></a><span data-ttu-id="a36e3-125">Uprawnienia za pomocą kod proceduralny</span><span class="sxs-lookup"><span data-stu-id="a36e3-125">Permissions Through Procedural Code</span></span>  
 <span data-ttu-id="a36e3-126">Zawieranie dostęp do danych za pośrednictwem modułów, takie jak procedur przechowywanych i funkcji zdefiniowanych przez użytkownika zapewnia dodatkową warstwę ochrony wokół aplikacji.</span><span class="sxs-lookup"><span data-stu-id="a36e3-126">Encapsulating data access through modules such as stored procedures and user-defined functions provides an additional layer of protection around your application.</span></span> <span data-ttu-id="a36e3-127">Aby uniemożliwić użytkownikom bezpośrednie interakcje z obiektów bazy danych, przyznając uprawnienia tylko do procedur przechowywanych i funkcji podczas odmawianie uprawnień do obiektów podstawowych, takich jak tabele.</span><span class="sxs-lookup"><span data-stu-id="a36e3-127">You can prevent users from directly interacting with database objects by granting permissions only to stored procedures or functions while denying permissions to underlying objects such as tables.</span></span> <span data-ttu-id="a36e3-128">Program SQL Server osiąga to za pomocą łańcucha własności.</span><span class="sxs-lookup"><span data-stu-id="a36e3-128">SQL Server achieves this by ownership chaining.</span></span>  
  
## <a name="permission-statements"></a><span data-ttu-id="a36e3-129">Instrukcje uprawnień</span><span class="sxs-lookup"><span data-stu-id="a36e3-129">Permission Statements</span></span>  
 <span data-ttu-id="a36e3-130">Trzy instrukcje języka Transact-SQL w uprawnienia są opisane w poniższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="a36e3-130">The three Transact-SQL permission statements are described in the following table.</span></span>  
  
|<span data-ttu-id="a36e3-131">Uprawnienia — instrukcja</span><span class="sxs-lookup"><span data-stu-id="a36e3-131">Permission Statement</span></span>|<span data-ttu-id="a36e3-132">Opis</span><span class="sxs-lookup"><span data-stu-id="a36e3-132">Description</span></span>|  
|--------------------------|-----------------|  
|<span data-ttu-id="a36e3-133">PRZYDZIAŁ</span><span class="sxs-lookup"><span data-stu-id="a36e3-133">GRANT</span></span>|<span data-ttu-id="a36e3-134">Udziela uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="a36e3-134">Grants a permission.</span></span>|  
|<span data-ttu-id="a36e3-135">ODWOŁYWANIE</span><span class="sxs-lookup"><span data-stu-id="a36e3-135">REVOKE</span></span>|<span data-ttu-id="a36e3-136">Odwołuje uprawnienia.</span><span class="sxs-lookup"><span data-stu-id="a36e3-136">Revokes a permission.</span></span> <span data-ttu-id="a36e3-137">Jest to domyślny stan nowego obiektu.</span><span class="sxs-lookup"><span data-stu-id="a36e3-137">This is the default state of a new object.</span></span> <span data-ttu-id="a36e3-138">Uprawnienie odwołane dla użytkownika lub rolę nadal może być dziedziczona z innych grup lub ról, którym przypisano podmiot zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="a36e3-138">A permission revoked from a user or role can still be inherited from other groups or roles to which the principal is assigned.</span></span>|  
|<span data-ttu-id="a36e3-139">ODMÓW</span><span class="sxs-lookup"><span data-stu-id="a36e3-139">DENY</span></span>|<span data-ttu-id="a36e3-140">ODMÓW odwołuje uprawnienia, tak aby nie może być dziedziczona.</span><span class="sxs-lookup"><span data-stu-id="a36e3-140">DENY revokes a permission so that it cannot be inherited.</span></span> <span data-ttu-id="a36e3-141">Odmowa ma pierwszeństwo przed wszystkie uprawnienia, z wyjątkiem ODMÓW nie ma zastosowania do obiektów właściciele i członkowie `sysadmin`.</span><span class="sxs-lookup"><span data-stu-id="a36e3-141">DENY takes precedence over all permissions, except DENY does not apply to object owners or members of `sysadmin`.</span></span> <span data-ttu-id="a36e3-142">Odmowa uprawnień do obiektu do `public` roli jest możliwy wszyscy użytkownicy i role z wyjątkiem właścicieli obiektów i `sysadmin` elementów członkowskich.</span><span class="sxs-lookup"><span data-stu-id="a36e3-142">If you DENY permissions on an object to the `public` role it is denied to all users and roles except for object owners and `sysadmin` members.</span></span>|  
  
-   <span data-ttu-id="a36e3-143">Wykonywanie instrukcji GRANT można przypisać uprawnienia do grupy lub roli, które mogą być dziedziczone przez użytkowników bazy danych.</span><span class="sxs-lookup"><span data-stu-id="a36e3-143">The GRANT statement can assign permissions to a group or role that can be inherited by database users.</span></span> <span data-ttu-id="a36e3-144">Jednak instrukcji DENY ma pierwszeństwo przed wszystkie inne instrukcje uprawnień.</span><span class="sxs-lookup"><span data-stu-id="a36e3-144">However, the DENY statement takes precedence over all other permission statements.</span></span> <span data-ttu-id="a36e3-145">W związku z tym, użytkownik, który odmówiono uprawnień nie może dziedziczyć po jego innej roli.</span><span class="sxs-lookup"><span data-stu-id="a36e3-145">Therefore, a user who has been denied a permission cannot inherit it from another role.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a36e3-146">Elementy członkowskie `sysadmin` stałej roli i obiekt właścicieli nie odmówiono uprawnień.</span><span class="sxs-lookup"><span data-stu-id="a36e3-146">Members of the `sysadmin` fixed server role and object owners cannot be denied permissions.</span></span>  
  
## <a name="ownership-chains"></a><span data-ttu-id="a36e3-147">Łańcuchy własności</span><span class="sxs-lookup"><span data-stu-id="a36e3-147">Ownership Chains</span></span>  
 <span data-ttu-id="a36e3-148">Program SQL Server gwarantuje, że tylko jednostek, które zostały udzielone uprawnienia dostępu do obiektów.</span><span class="sxs-lookup"><span data-stu-id="a36e3-148">SQL Server ensures that only principals that have been granted permission can access objects.</span></span> <span data-ttu-id="a36e3-149">Gdy wielu obiektów bazy danych uzyskują dostęp do siebie nawzajem, kolejność jest określana jako łańcuch.</span><span class="sxs-lookup"><span data-stu-id="a36e3-149">When multiple database objects access each other, the sequence is known as a chain.</span></span> <span data-ttu-id="a36e3-150">Gdy program SQL Server jest kierowany łącza w łańcuchu, ocenia uprawnień inaczej niż po jego zostały uzyskiwania dostępu do każdego elementu oddzielnie.</span><span class="sxs-lookup"><span data-stu-id="a36e3-150">When SQL Server is traversing the links in the chain, it evaluates permissions differently than it would if it were accessing each item separately.</span></span> <span data-ttu-id="a36e3-151">Gdy obiekt jest dostępny za pośrednictwem łańcuch, programu SQL Server najpierw porównuje właściciela obiektu do właściciela obiekt wywołujący (poprzedniej konsolidacji w łańcuchu).</span><span class="sxs-lookup"><span data-stu-id="a36e3-151">When an object is accessed through a chain, SQL Server first compares the object's owner to the owner of the calling object (the previous link in the chain).</span></span> <span data-ttu-id="a36e3-152">Jeśli oba obiekty mają tego samego właściciela, uprawnienia do przywoływanego obiektu nie są sprawdzane.</span><span class="sxs-lookup"><span data-stu-id="a36e3-152">If both objects have the same owner, permissions on the referenced object are not checked.</span></span> <span data-ttu-id="a36e3-153">Zawsze, gdy obiekt uzyskuje dostęp do innego obiektu, który ma innego właściciela, łańcucha własności jest uszkodzona i programu SQL Server, należy zaznaczyć kontekstu zabezpieczeń obiektu wywołującego.</span><span class="sxs-lookup"><span data-stu-id="a36e3-153">Whenever an object accesses another object that has a different owner, the ownership chain is broken and SQL Server must check the caller's security context.</span></span>  
  
## <a name="procedural-code-and-ownership-chaining"></a><span data-ttu-id="a36e3-154">Kod proceduralny działań i tworzenie łańcuchów własności</span><span class="sxs-lookup"><span data-stu-id="a36e3-154">Procedural Code and Ownership Chaining</span></span>  
 <span data-ttu-id="a36e3-155">Załóżmy, że użytkownik otrzymuje uprawnienia do wykonywania dotyczące procedury przechowywanej, która wybiera dane z tabeli.</span><span class="sxs-lookup"><span data-stu-id="a36e3-155">Suppose that a user is granted execute permissions on a stored procedure that selects data from a table.</span></span> <span data-ttu-id="a36e3-156">Jeśli procedura składowana i tabeli mają tego samego właściciela, użytkownik nie musi mieć wszystkie uprawnienia w tabeli i może nawet odmówiono uprawnień.</span><span class="sxs-lookup"><span data-stu-id="a36e3-156">If the stored procedure and the table have the same owner, the user doesn't need to be granted any permissions on the table and can even be denied permissions.</span></span> <span data-ttu-id="a36e3-157">Jednak jeśli procedura składowana a tabelą mieć różnych właścicieli, programu SQL Server należy sprawdzić uprawnienia użytkownika w tabeli przed zezwoleniem na dostęp do danych.</span><span class="sxs-lookup"><span data-stu-id="a36e3-157">However, if the stored procedure and the table have different owners, SQL Server must check the user's permissions on the table before allowing access to the data.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a36e3-158">Tworzenie łańcucha własności nie ma zastosowania w przypadku dynamicznych instrukcji SQL.</span><span class="sxs-lookup"><span data-stu-id="a36e3-158">Ownership chaining does not apply in the case of dynamic SQL statements.</span></span> <span data-ttu-id="a36e3-159">Aby wywołać procedurę, która wykonuje instrukcję SQL, obiekt wywołujący musi mieć uprawnienia na tabelach źródłowych, narażając aplikacji do ataku polegającego na iniekcji SQL.</span><span class="sxs-lookup"><span data-stu-id="a36e3-159">To call a procedure that executes an SQL statement, the caller must be granted permissions on the underlying tables, leaving your application vulnerable to SQL Injection attack.</span></span> <span data-ttu-id="a36e3-160">SQL Server udostępnia nowe mechanizmy, takie jak personifikacji i podpisywania modułów za pomocą certyfikatów, które nie wymagają przyznawanie uprawnień do tabel podstawowych.</span><span class="sxs-lookup"><span data-stu-id="a36e3-160">SQL Server provides new mechanisms, such as impersonation and signing modules with certificates, that do not require granting permissions on the underlying tables.</span></span> <span data-ttu-id="a36e3-161">Mogą one także używane przy użyciu procedur składowanych CLR.</span><span class="sxs-lookup"><span data-stu-id="a36e3-161">These can also be used with CLR stored procedures.</span></span>  
  
## <a name="external-resources"></a><span data-ttu-id="a36e3-162">Zasoby zewnętrzne</span><span class="sxs-lookup"><span data-stu-id="a36e3-162">External Resources</span></span>  
 <span data-ttu-id="a36e3-163">Aby uzyskać więcej informacji zobacz następujące zasoby.</span><span class="sxs-lookup"><span data-stu-id="a36e3-163">For more information, see the following resources.</span></span>  
  
|<span data-ttu-id="a36e3-164">Zasób</span><span class="sxs-lookup"><span data-stu-id="a36e3-164">Resource</span></span>|<span data-ttu-id="a36e3-165">Opis</span><span class="sxs-lookup"><span data-stu-id="a36e3-165">Description</span></span>|  
|--------------|-----------------|  
|[<span data-ttu-id="a36e3-166">Uprawnienia</span><span class="sxs-lookup"><span data-stu-id="a36e3-166">Permissions</span></span>](/sql/relational-databases/security/permissions-database-engine)|<span data-ttu-id="a36e3-167">Zawiera tematy, zawierająca opis uprawnienia hierarchii, widoków wykazu i uprawnienia stałe role serwera i bazy danych.</span><span class="sxs-lookup"><span data-stu-id="a36e3-167">Contains topics describing permissions hierarchy, catalog views, and permissions of fixed server and database roles.</span></span>|
  
## <a name="see-also"></a><span data-ttu-id="a36e3-168">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="a36e3-168">See Also</span></span>  
 [<span data-ttu-id="a36e3-169">Zabezpieczanie aplikacji ADO.NET</span><span class="sxs-lookup"><span data-stu-id="a36e3-169">Securing ADO.NET Applications</span></span>](../../../../../docs/framework/data/adonet/securing-ado-net-applications.md)  
 [<span data-ttu-id="a36e3-170">Scenariusze zabezpieczeń aplikacji w programie SQL Server</span><span class="sxs-lookup"><span data-stu-id="a36e3-170">Application Security Scenarios in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/application-security-scenarios-in-sql-server.md)  
 [<span data-ttu-id="a36e3-171">Uwierzytelnianie w programie SQL Server</span><span class="sxs-lookup"><span data-stu-id="a36e3-171">Authentication in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/authentication-in-sql-server.md)  
 [<span data-ttu-id="a36e3-172">Serwer i role bazy danych w programie SQL Server</span><span class="sxs-lookup"><span data-stu-id="a36e3-172">Server and Database Roles in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/server-and-database-roles-in-sql-server.md)  
 [<span data-ttu-id="a36e3-173">Własność i oddzielenie schematu użytkownika w programie SQL Server</span><span class="sxs-lookup"><span data-stu-id="a36e3-173">Ownership and User-Schema Separation in SQL Server</span></span>](../../../../../docs/framework/data/adonet/sql/ownership-and-user-schema-separation-in-sql-server.md)  
 [<span data-ttu-id="a36e3-174">ADO.NET zarządzanego dostawcy i Centrum deweloperów zestawu danych</span><span class="sxs-lookup"><span data-stu-id="a36e3-174">ADO.NET Managed Providers and DataSet Developer Center</span></span>](https://go.microsoft.com/fwlink/?LinkId=217917)
