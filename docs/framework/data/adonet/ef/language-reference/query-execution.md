---
title: Wykonywanie zapytania
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: c0e6cf23-63ac-47dd-bfe9-d5bdca826fac
ms.openlocfilehash: e372744eea3eed7fc3f7ee9c8bbdd711c95b586e
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/12/2020
ms.locfileid: "79149976"
---
# <a name="query-execution"></a><span data-ttu-id="e7b6e-102">Wykonywanie zapytania</span><span class="sxs-lookup"><span data-stu-id="e7b6e-102">Query Execution</span></span>
<span data-ttu-id="e7b6e-103">Po utworzeniu kwerendy LINQ przez użytkownika jest ona konwertowana na drzewo poleceń.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-103">After a LINQ query is created by a user, it is converted to a command tree.</span></span> <span data-ttu-id="e7b6e-104">Drzewo poleceń jest reprezentacją kwerendy, która jest zgodna z entity framework.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-104">A command tree is a representation of a query that is compatible with the Entity Framework.</span></span> <span data-ttu-id="e7b6e-105">Drzewo poleceń jest następnie wykonywane względem źródła danych.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-105">The command tree is then executed against the data source.</span></span> <span data-ttu-id="e7b6e-106">W czasie wykonywania kwerendy wszystkie wyrażenia kwerendy (czyli wszystkie składniki kwerendy) są oceniane, łącznie z wyrażeniami, które są używane w materializacji wyników.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-106">At query execution time, all query expressions (that is, all components of the query) are evaluated, including those expressions that are used in result materialization.</span></span>  
  
 <span data-ttu-id="e7b6e-107">W jakim momencie wykonywane są wyrażenia zapytania mogą się różnić.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-107">At what point query expressions are executed can vary.</span></span> <span data-ttu-id="e7b6e-108">Zapytania LINQ są zawsze wykonywane, gdy zmienna kwerendy jest iterowana, a nie podczas tworzenia zmiennej kwerendy.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-108">LINQ queries are always executed when the query variable is iterated over, not when the query variable is created.</span></span> <span data-ttu-id="e7b6e-109">Nazywa się to *odroczonym wykonaniem*.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-109">This is called *deferred execution*.</span></span> <span data-ttu-id="e7b6e-110">Można również wymusić kwerendę do wykonania natychmiast, co jest przydatne do buforowania wyników kwerendy.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-110">You can also force a query to execute immediately, which is useful for caching query results.</span></span> <span data-ttu-id="e7b6e-111">Jest to opisane w dalszej części tego tematu.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-111">This is described later in this topic.</span></span>  
  
 <span data-ttu-id="e7b6e-112">Podczas wykonywania kwerendy LINQ do jednostek, niektóre wyrażenia w kwerendzie mogą być wykonywane na serwerze, a niektóre części mogą być wykonywane lokalnie na kliencie.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-112">When a LINQ to Entities query is executed, some expressions in the query might be executed on the server and some parts might be executed locally on the client.</span></span> <span data-ttu-id="e7b6e-113">Ocena wyrażenia po stronie klienta odbywa się przed wykonaniem kwerendy na serwerze.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-113">Client-side evaluation of an expression takes place before the query is executed on the server.</span></span> <span data-ttu-id="e7b6e-114">Jeśli wyrażenie jest oceniane na kliencie, wynik tej oceny jest zastępowany wyrażeniem w kwerendzie, a następnie kwerenda jest wykonywana na serwerze.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-114">If an expression is evaluated on the client, the result of that evaluation is substituted for the expression in the query, and the query is then executed on the server.</span></span> <span data-ttu-id="e7b6e-115">Ponieważ kwerendy są wykonywane w źródle danych, konfiguracja źródła danych zastępuje zachowanie określone w kliencie.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-115">Because queries are executed on the data source, the data source configuration overrides the behavior specified in the client.</span></span> <span data-ttu-id="e7b6e-116">Na przykład obsługa wartości null i dokładność numeryczna zależą od ustawień serwera.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-116">For example, null value handling and numerical precision depend on the server settings.</span></span> <span data-ttu-id="e7b6e-117">Wszelkie wyjątki zgłaszane podczas wykonywania kwerendy na serwerze są przekazywane bezpośrednio do klienta.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-117">Any exceptions thrown during query execution on the server are passed directly up to the client.</span></span>  

> [!TIP]
> <span data-ttu-id="e7b6e-118">Aby uzyskać wygodne podsumowanie operatorów zapytań w formacie tabeli, które umożliwia szybkie identyfikowanie zachowania wykonywania operatora, zobacz [Klasyfikacja standardowych operatorów zapytań według sposobu wykonywania (C#)](../../../../../csharp/programming-guide/concepts/linq/classification-of-standard-query-operators-by-manner-of-execution.md).</span><span class="sxs-lookup"><span data-stu-id="e7b6e-118">For a convenient summary of query operators in table format, which lets you quickly identify an operator's execution behavior, see [Classification of Standard Query Operators by Manner of Execution (C#)](../../../../../csharp/programming-guide/concepts/linq/classification-of-standard-query-operators-by-manner-of-execution.md).</span></span>

## <a name="deferred-query-execution"></a><span data-ttu-id="e7b6e-119">Odroczone wykonanie kwerendy</span><span class="sxs-lookup"><span data-stu-id="e7b6e-119">Deferred query execution</span></span>  
 <span data-ttu-id="e7b6e-120">W kwerendzie, która zwraca sekwencję wartości, sama zmienna kwerendy nigdy nie przechowuje wyników kwerendy i przechowuje tylko polecenia kwerendy.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-120">In a query that returns a sequence of values, the query variable itself never holds the query results and only stores the query commands.</span></span> <span data-ttu-id="e7b6e-121">Wykonanie kwerendy jest odroczone, dopóki zmienna kwerendy `foreach` `For Each` nie zostanie iterowana w pętli lub pętli.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-121">Execution of the query is deferred until the query variable is iterated over in a `foreach` or `For Each` loop.</span></span> <span data-ttu-id="e7b6e-122">Jest to znane jako *odroczone wykonanie;* oznacza to, że wykonywanie kwerendy występuje jakiś czas po skonstruowaniu kwerendy.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-122">This is known as *deferred execution*; that is, query execution occurs some time after the query is constructed.</span></span> <span data-ttu-id="e7b6e-123">Oznacza to, że można wykonać kwerendę tak często, jak chcesz.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-123">This means that you can execute a query as frequently as you want to.</span></span> <span data-ttu-id="e7b6e-124">Jest to przydatne, gdy na przykład masz bazę danych, która jest aktualizowana przez inne aplikacje.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-124">This is useful when, for example, you have a database that is being updated by other applications.</span></span> <span data-ttu-id="e7b6e-125">W aplikacji można utworzyć kwerendę, aby pobrać najnowsze informacje i wielokrotnie wykonać kwerendę, zwracając zaktualizowane informacje za każdym razem.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-125">In your application, you can create a query to retrieve the latest information and repeatedly execute the query, returning the updated information every time.</span></span>  
  
 <span data-ttu-id="e7b6e-126">Odroczone wykonanie umożliwia połączenie wielu zapytań lub rozszerzenie kwerendy.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-126">Deferred execution enables multiple queries to be combined or a query to be extended.</span></span> <span data-ttu-id="e7b6e-127">Po rozszerknięciu kwerendy jest modyfikowana w celu uwzględnienia nowych operacji, a ostateczne wykonanie będzie odzwierciedlać zmiany.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-127">When a query is extended, it is modified to include the new operations, and the eventual execution will reflect the changes.</span></span> <span data-ttu-id="e7b6e-128">W poniższym przykładzie pierwsze zapytanie zwraca wszystkie produkty.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-128">In the following example, the first query returns all the products.</span></span> <span data-ttu-id="e7b6e-129">Drugie zapytanie rozszerza pierwszy `Where` przy użyciu do zwrócenia wszystkich produktów o rozmiarze "L":</span><span class="sxs-lookup"><span data-stu-id="e7b6e-129">The second query extends the first by using `Where` to return all the products of size "L":</span></span>  
  
 [!code-csharp[DP L2E Conceptual Examples#Composing1](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Conceptual Examples/CS/Program.cs#composing1)]
 [!code-vb[DP L2E Conceptual Examples#Composing1](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Conceptual Examples/VB/Module1.vb#composing1)]  
  
 <span data-ttu-id="e7b6e-130">Po wykonaniu kwerendy wszystkie kolejne kwerendy będą używać operatorów LINQ w pamięci.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-130">After a query has been executed all successive queries will use the in-memory LINQ operators.</span></span> <span data-ttu-id="e7b6e-131">Iteracja za pośrednictwem zmiennej `foreach` `For Each` kwerendy przy użyciu lub instrukcji lub wywołanie jednego z operatorów konwersji LINQ spowoduje natychmiastowe wykonanie.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-131">Iterating over the query variable by using a `foreach` or `For Each` statement or by calling one of the LINQ conversion operators will cause immediate execution.</span></span> <span data-ttu-id="e7b6e-132">Te operatory konwersji <xref:System.Linq.Enumerable.ToList%2A> <xref:System.Linq.Enumerable.ToArray%2A>są <xref:System.Linq.Enumerable.ToLookup%2A>następujące: , , i <xref:System.Linq.Enumerable.ToDictionary%2A>.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-132">These conversion operators include the following: <xref:System.Linq.Enumerable.ToList%2A>, <xref:System.Linq.Enumerable.ToArray%2A>, <xref:System.Linq.Enumerable.ToLookup%2A>, and <xref:System.Linq.Enumerable.ToDictionary%2A>.</span></span>  
  
## <a name="immediate-query-execution"></a><span data-ttu-id="e7b6e-133">Natychmiastowe wykonanie kwerendy</span><span class="sxs-lookup"><span data-stu-id="e7b6e-133">Immediate Query Execution</span></span>  
 <span data-ttu-id="e7b6e-134">W przeciwieństwie do odroczonego wykonywania zapytań, które produkują sekwencję wartości, kwerendy, które zwracają wartość singleton są wykonywane natychmiast.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-134">In contrast to the deferred execution of queries that produce a sequence of values, queries that return a singleton value are executed immediately.</span></span> <span data-ttu-id="e7b6e-135">Niektóre przykłady zapytań singleton <xref:System.Linq.Enumerable.Count%2A> <xref:System.Linq.Enumerable.First%2A>są <xref:System.Linq.Enumerable.Average%2A> <xref:System.Linq.Enumerable.Max%2A>, , i .</span><span class="sxs-lookup"><span data-stu-id="e7b6e-135">Some examples of singleton queries are <xref:System.Linq.Enumerable.Average%2A>, <xref:System.Linq.Enumerable.Count%2A>, <xref:System.Linq.Enumerable.First%2A>, and <xref:System.Linq.Enumerable.Max%2A>.</span></span> <span data-ttu-id="e7b6e-136">Te wykonać natychmiast, ponieważ kwerenda musi utworzyć sekwencję do obliczania wyniku singleton.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-136">These execute immediately because the query must produce a sequence to calculate the singleton result.</span></span> <span data-ttu-id="e7b6e-137">Można również wymusić natychmiastowe wykonanie.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-137">You can also force immediate execution.</span></span> <span data-ttu-id="e7b6e-138">Jest to przydatne, gdy chcesz buforować wyniki kwerendy.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-138">This is useful when you want to cache the results of a query.</span></span> <span data-ttu-id="e7b6e-139">Aby wymusić natychmiastowe wykonanie kwerendy, która nie tworzy <xref:System.Linq.Enumerable.ToList%2A> wartości singleton, można wywołać metodę, <xref:System.Linq.Enumerable.ToDictionary%2A> metodę lub <xref:System.Linq.Enumerable.ToArray%2A> metodę na kwerendę lub zmienną kwerendy.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-139">To force immediate execution of a query that does not produce a singleton value, you can call the <xref:System.Linq.Enumerable.ToList%2A> method, the <xref:System.Linq.Enumerable.ToDictionary%2A> method, or the <xref:System.Linq.Enumerable.ToArray%2A> method on a query or query variable.</span></span> <span data-ttu-id="e7b6e-140">W poniższym przykładzie <xref:System.Linq.Enumerable.ToArray%2A> użyto metody do natychmiastowej oceny sekwencji w tablicy.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-140">The following example uses the <xref:System.Linq.Enumerable.ToArray%2A> method to immediately evaluate a sequence into an array.</span></span>  
  
 [!code-csharp[DP L2E Examples#ToArray](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Examples/CS/Program.cs#toarray)]
 [!code-vb[DP L2E Examples#ToArray](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Examples/VB/Module1.vb#toarray)]  
  
 <span data-ttu-id="e7b6e-141">Można również wymusić `foreach` wykonanie, `For Each` umieszczając lub pętli natychmiast po <xref:System.Linq.Enumerable.ToList%2A> <xref:System.Linq.Enumerable.ToArray%2A> wyrażeniu kwerendy, ale wywołując lub buforować wszystkie dane w jednym obiekcie kolekcji.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-141">You could also force execution by putting the `foreach` or `For Each` loop immediately after the query expression, but by calling <xref:System.Linq.Enumerable.ToList%2A> or <xref:System.Linq.Enumerable.ToArray%2A> you cache all the data in a single collection object.</span></span>  
  
## <a name="store-execution"></a><span data-ttu-id="e7b6e-142">Wykonanie sklepu</span><span class="sxs-lookup"><span data-stu-id="e7b6e-142">Store Execution</span></span>  
 <span data-ttu-id="e7b6e-143">Ogólnie rzecz biorąc wyrażenia w LINQ do jednostek są oceniane na serwerze i zachowanie wyrażenia nie należy oczekiwać, aby wykonać semantyka wspólnego środowiska wykonawczego języka (CLR), ale te ze źródła danych.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-143">In general, expressions in LINQ to Entities are evaluated on the server, and the behavior of the expression should not be expected to follow common language runtime (CLR) semantics, but those of the data source.</span></span> <span data-ttu-id="e7b6e-144">Istnieją wyjątki od tego, jednak, takich jak gdy wyrażenie jest wykonywane na kliencie.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-144">There are exceptions to this, however, such as when the expression is executed on the client.</span></span> <span data-ttu-id="e7b6e-145">Może to spowodować nieoczekiwane wyniki, na przykład gdy serwer i klient znajdują się w różnych strefach czasowych.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-145">This could cause unexpected results, for example when the server and client are in different time zones.</span></span>  
  
 <span data-ttu-id="e7b6e-146">Niektóre wyrażenia w kwerendzie mogą być wykonywane na kliencie.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-146">Some expressions in the query might be executed on the client.</span></span> <span data-ttu-id="e7b6e-147">Ogólnie rzecz biorąc oczekuje się, że większość wykonywania kwerendy występuje na serwerze.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-147">In general, most query execution is expected to occur on the server.</span></span> <span data-ttu-id="e7b6e-148">Oprócz metod wykonywanych względem elementów kwerendy mapowanych do źródła danych często istnieją wyrażenia w kwerendzie, które mogą być wykonywane lokalnie.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-148">Aside from methods executed against query elements mapped to the data source, there are often expressions in the query that can be executed locally.</span></span> <span data-ttu-id="e7b6e-149">Lokalne wykonanie wyrażenia kwerendy daje wartość, która może być używana w wykonaniu kwerendy lub konstrukcji wynik.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-149">Local execution of a query expression yields a value that can be used in the query execution or result construction.</span></span>  
  
 <span data-ttu-id="e7b6e-150">Niektóre operacje są zawsze wykonywane na kliencie, takie jak powiązanie wartości, wyrażenia podrzędne, zapytania podrzędne z zamknięć i materializacja obiektów w wyniki kwerendy.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-150">Certain operations are always executed on the client, such as binding of values, sub expressions, sub queries from closures, and materialization of objects into query results.</span></span> <span data-ttu-id="e7b6e-151">Efekt netto jest to, że te elementy (na przykład wartości parametrów) nie można zaktualizować podczas wykonywania.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-151">The net effect of this is that these elements (for example, parameter values) cannot be updated during the execution.</span></span> <span data-ttu-id="e7b6e-152">Typy anonimowe mogą być konstruowane w linii w źródle danych, ale nie należy zakładać, aby to zrobić.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-152">Anonymous types can be constructed inline on the data source, but should not be assumed to do so.</span></span> <span data-ttu-id="e7b6e-153">Grupowania wbudowane mogą być konstruowane w źródle danych, jak również, ale nie należy zakładać w każdym wystąpieniu.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-153">Inline groupings can be constructed in the data source, as well, but this should not be assumed in every instance.</span></span> <span data-ttu-id="e7b6e-154">Ogólnie rzecz biorąc, najlepiej nie zakładać, co jest skonstruowane na serwerze.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-154">In general, it is best not to make any assumptions about what is constructed on the server.</span></span>  
  
 <span data-ttu-id="e7b6e-155">W tej sekcji opisano scenariusze, w których kod jest wykonywany lokalnie na kliencie.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-155">This section describes the scenarios in which code is executed locally on the client.</span></span> <span data-ttu-id="e7b6e-156">Aby uzyskać więcej informacji o typach wyrażeń wykonywanych lokalnie, zobacz [Wyrażenia w LINQ do zapytań jednostek](expressions-in-linq-to-entities-queries.md).</span><span class="sxs-lookup"><span data-stu-id="e7b6e-156">For more information about which types of expressions are executed locally, see [Expressions in LINQ to Entities Queries](expressions-in-linq-to-entities-queries.md).</span></span>  
  
### <a name="literals-and-parameters"></a><span data-ttu-id="e7b6e-157">Literały i parametry</span><span class="sxs-lookup"><span data-stu-id="e7b6e-157">Literals and Parameters</span></span>  
 <span data-ttu-id="e7b6e-158">Zmienne lokalne, takie `orderID` jak zmienna w poniższym przykładzie, są oceniane na kliencie.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-158">Local variables, such as the `orderID` variable in the following example, are evaluated on the client.</span></span>  
  
 [!code-csharp[DP L2E Conceptual Examples#LiteralParameter1](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Conceptual Examples/CS/Program.cs#literalparameter1)]
 [!code-vb[DP L2E Conceptual Examples#LiteralParameter1](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Conceptual Examples/VB/Module1.vb#literalparameter1)]  
  
 <span data-ttu-id="e7b6e-159">Parametry metody są również oceniane na kliencie.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-159">Method parameters are also evaluated on the client.</span></span> <span data-ttu-id="e7b6e-160">Parametr `orderID` przekazany do `MethodParameterExample` metody, poniżej, jest przykładem.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-160">The `orderID` parameter passed into the `MethodParameterExample` method, below, is an example.</span></span>  
  
 [!code-csharp[DP L2E Conceptual Examples#MethodParameterExample](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Conceptual Examples/CS/Program.cs#methodparameterexample)]
 [!code-vb[DP L2E Conceptual Examples#MethodParameterExample](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Conceptual Examples/VB/Module1.vb#methodparameterexample)]  
  
### <a name="casting-literals-on-the-client"></a><span data-ttu-id="e7b6e-161">Casting Literały na klienta</span><span class="sxs-lookup"><span data-stu-id="e7b6e-161">Casting Literals on the Client</span></span>  
 <span data-ttu-id="e7b6e-162">Rzutowanie `null` z typu CLR jest wykonywane na kliencie:</span><span class="sxs-lookup"><span data-stu-id="e7b6e-162">Casting from `null` to a CLR type is executed on the client:</span></span>  
  
 [!code-csharp[DP L2E Conceptual Examples#NullCastToString](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Conceptual Examples/CS/Program.cs#nullcasttostring)]
 [!code-vb[DP L2E Conceptual Examples#NullCastToString](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Conceptual Examples/VB/Module1.vb#nullcasttostring)]  
  
 <span data-ttu-id="e7b6e-163">Rzutowanie do typu, takiego <xref:System.Decimal>jak nullable , jest wykonywane na kliencie:</span><span class="sxs-lookup"><span data-stu-id="e7b6e-163">Casting to a type, such as a nullable <xref:System.Decimal>, is executed on the client:</span></span>  
  
 [!code-csharp[DP L2E Conceptual Examples#CastToNullable](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Conceptual Examples/CS/Program.cs#casttonullable)]
 [!code-vb[DP L2E Conceptual Examples#CastToNullable](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Conceptual Examples/VB/Module1.vb#casttonullable)]  
  
### <a name="constructors-for-literals"></a><span data-ttu-id="e7b6e-164">Konstruktory do literałów</span><span class="sxs-lookup"><span data-stu-id="e7b6e-164">Constructors for Literals</span></span>  
 <span data-ttu-id="e7b6e-165">Nowe typy CLR, które mogą być mapowane na typy modeli koncepcyjnych są wykonywane na kliencie:</span><span class="sxs-lookup"><span data-stu-id="e7b6e-165">New CLR types that can be mapped to conceptual model types are executed on the client:</span></span>  
  
 [!code-csharp[DP L2E Conceptual Examples#ConstructorForLiteral](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Conceptual Examples/CS/Program.cs#constructorforliteral)]
 [!code-vb[DP L2E Conceptual Examples#ConstructorForLiteral](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Conceptual Examples/VB/Module1.vb#constructorforliteral)]  
  
 <span data-ttu-id="e7b6e-166">Nowe tablice są również wykonywane na kliencie.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-166">New arrays are also executed on the client.</span></span>  
  
## <a name="store-exceptions"></a><span data-ttu-id="e7b6e-167">Wyjątki sklepu</span><span class="sxs-lookup"><span data-stu-id="e7b6e-167">Store Exceptions</span></span>  
 <span data-ttu-id="e7b6e-168">Wszelkie błędy magazynu, które występują podczas wykonywania kwerendy są przekazywane do klienta i nie są mapowane lub obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-168">Any store errors that are encountered during query execution are passed up to the client, and are not mapped or handled.</span></span>  
  
## <a name="store-configuration"></a><span data-ttu-id="e7b6e-169">Konfiguracja sklepu</span><span class="sxs-lookup"><span data-stu-id="e7b6e-169">Store Configuration</span></span>  
 <span data-ttu-id="e7b6e-170">Gdy kwerenda jest wykonywana w magazynie, konfiguracja magazynu zastępuje wszystkie zachowania klienta, a semantyka magazynu są wyrażone dla wszystkich operacji i wyrażeń.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-170">When the query executes on the store, the store configuration overrides all client behaviors, and store semantics are expressed for all operations and expressions.</span></span> <span data-ttu-id="e7b6e-171">Może to spowodować różnicę w zachowaniu między CLR i wykonywania magazynu w obszarach, takich jak porównania null, kolejność identyfikatorów GUID, <xref:System.DateTime>dokładność i dokładność operacji obejmujących nieprecyzyjne typy danych (takich jak typy zmiennoprzecinkowe lub ) i operacji ciągów.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-171">This can result in a difference in behavior between CLR and store execution in areas such as null comparisons, GUID ordering, precision and accuracy of operations involving non-precise data types (such as floating point types or <xref:System.DateTime>), and string operations.</span></span> <span data-ttu-id="e7b6e-172">Ważne jest, aby mieć to na uwadze podczas badania wyników kwerendy.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-172">It is important to keep this in mind when examining query results.</span></span>  
  
 <span data-ttu-id="e7b6e-173">Na przykład poniżej przedstawiono pewne różnice w zachowaniu między programem CLR i SQL Server:</span><span class="sxs-lookup"><span data-stu-id="e7b6e-173">For example, the following are some differences in behavior between the CLR and SQL Server:</span></span>  
  
- <span data-ttu-id="e7b6e-174">SQL Server zamawia identyfikatory GUID inaczej niż CLR.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-174">SQL Server orders GUIDs differently than the CLR.</span></span>  
  
- <span data-ttu-id="e7b6e-175">Mogą również istnieć różnice w precyzji wyników w kontaktach z typem dziesiętnym na programie SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-175">There can also be differences in result precision when dealing with the Decimal type on SQL Server.</span></span> <span data-ttu-id="e7b6e-176">Wynika to ze stałych wymagań dotyczących precyzji typu dziesiętnego programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-176">This is due to the fixed precision requirements of the SQL Server decimal type.</span></span> <span data-ttu-id="e7b6e-177">Na przykład średnia <xref:System.Decimal> wartości 0.0, 0.0 i 1.0 jest 0.3333333333333333333333333333333333 w pamięci na kliencie, ale 0.333333 w sklepie (na podstawie domyślnej precyzji dla typu dziesiętnego programu SQL Server).</span><span class="sxs-lookup"><span data-stu-id="e7b6e-177">For example, the average of <xref:System.Decimal> values 0.0, 0.0, and 1.0 is 0.3333333333333333333333333333 in memory on the client, but 0.333333 in the store (based on the default precision for SQL Server’s decimal type).</span></span>  
  
- <span data-ttu-id="e7b6e-178">Niektóre operacje porównywania ciągów są również obsługiwane inaczej w programie SQL Server niż w programie CLR.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-178">Some string comparison operations are also handled differently in SQL Server than in the CLR.</span></span> <span data-ttu-id="e7b6e-179">Zachowanie porównania ciągów zależy od ustawień sortowania na serwerze.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-179">String comparison behavior depends on the collation settings on the server.</span></span>  
  
- <span data-ttu-id="e7b6e-180">Wywołania funkcji lub metody, jeśli zawarte w LINQ do jednostki kwerendy, są mapowane do funkcji kanonicznych w entity framework, które są następnie tłumaczone na Transact-SQL i wykonywane w bazie danych programu SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-180">Function or method calls, when included in a LINQ to Entities query, are mapped to canonical functions in the Entity Framework, which are then translated to Transact-SQL and executed on the SQL Server database.</span></span> <span data-ttu-id="e7b6e-181">Istnieją przypadki, gdy zachowanie tych mapowanych funkcji wykazują może różnić się od implementacji w bibliotekach klas podstawowych.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-181">There are cases when the behavior these mapped functions exhibit might differ from the implementation in the base class libraries.</span></span> <span data-ttu-id="e7b6e-182">Na <xref:System.String.Contains%2A>przykład wywołanie <xref:System.String.StartsWith%2A>, <xref:System.String.EndsWith%2A> i metody z pustym `true` ciągiem jako parametr zwróci po `false` wykonaniu w programie CLR, ale zwróci po wykonaniu w programie SQL Server.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-182">For example, calling the <xref:System.String.Contains%2A>, <xref:System.String.StartsWith%2A>, and <xref:System.String.EndsWith%2A> methods with an empty string as a parameter will return `true` when executed in the CLR, but will return `false` when executed in SQL Server.</span></span> <span data-ttu-id="e7b6e-183">Metoda <xref:System.String.EndsWith%2A> może również zwracać różne wyniki, ponieważ SQL Server uważa, że dwa ciągi są równe, jeśli różnią się tylko w końcowych odstępu, podczas gdy CLR uważa, że nie są równe.</span><span class="sxs-lookup"><span data-stu-id="e7b6e-183">The <xref:System.String.EndsWith%2A> method can also return different results because SQL Server considers two strings to be equal if they only differ in trailing white space, whereas the CLR considers them to be not equal.</span></span> <span data-ttu-id="e7b6e-184">Ilustruje to poniższy przykład:</span><span class="sxs-lookup"><span data-stu-id="e7b6e-184">This is illustrated by the following example:</span></span>  
  
 [!code-csharp[DP L2E Conceptual Examples#CanonicalFuncVsCLRBaseType](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Conceptual Examples/CS/Program.cs#canonicalfuncvsclrbasetype)]
 [!code-vb[DP L2E Conceptual Examples#CanonicalFuncVsCLRBaseType](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Conceptual Examples/VB/Module1.vb#canonicalfuncvsclrbasetype)]
