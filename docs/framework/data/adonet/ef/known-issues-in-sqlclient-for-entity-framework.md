---
title: Znane problemy klienta SQL dla programu Entity Framework
ms.date: 03/30/2017
ms.assetid: 48fe4912-4d0f-46b6-be96-3a42c54780f6
ms.openlocfilehash: 18e3ad59af4014086bd475815011b6008bcb5052
ms.sourcegitcommit: 205b9a204742e9c77256d43ac9d94c3f82909808
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/10/2019
ms.locfileid: "70854552"
---
# <a name="known-issues-in-sqlclient-for-entity-framework"></a><span data-ttu-id="8ccd1-102">Znane problemy klienta SQL dla programu Entity Framework</span><span class="sxs-lookup"><span data-stu-id="8ccd1-102">Known Issues in SqlClient for Entity Framework</span></span>
<span data-ttu-id="8ccd1-103">W tej sekcji opisano znane problemy związane z .NET Framework Dostawca danych dla SQL Server (SqlClient).</span><span class="sxs-lookup"><span data-stu-id="8ccd1-103">This section describes known issues related to the .NET Framework Data Provider for SQL Server (SqlClient).</span></span>  
  
## <a name="trailing-spaces-in-string-functions"></a><span data-ttu-id="8ccd1-104">Spacje końcowe w funkcjach ciągów</span><span class="sxs-lookup"><span data-stu-id="8ccd1-104">Trailing Spaces in String Functions</span></span>  
 <span data-ttu-id="8ccd1-105">SQL Server ignoruje końcowe spacje w wartościach ciągu.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-105">SQL Server ignores trailing spaces in string values.</span></span> <span data-ttu-id="8ccd1-106">W związku z tym, przekazanie końcowych spacji w ciągu może prowadzić do nieprzewidzianych wyników, nawet niepowodzeń.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-106">Therefore, passing trailing spaces in the string can lead to unpredictable results, even failures.</span></span>  
  
 <span data-ttu-id="8ccd1-107">Jeśli musisz mieć spacje końcowe w ciągu, rozważ dołączenie znaku odstępu na końcu, tak aby SQL Server nie przycinał ciągu.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-107">If you have to have trailing spaces in your string, you should consider appending a white space character at the end, so that SQL Server does not trim the string.</span></span> <span data-ttu-id="8ccd1-108">Jeśli spacje końcowe nie są wymagane, powinny być obcinane przed przekazaniem potoku zapytania.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-108">If the trailing spaces are not required, they should be trimmed before they are passed down the query pipeline.</span></span>  
  
## <a name="right-function"></a><span data-ttu-id="8ccd1-109">RIGHT — funkcja</span><span class="sxs-lookup"><span data-stu-id="8ccd1-109">RIGHT Function</span></span>  
 <span data-ttu-id="8ccd1-110">Jeśli wartość nie`null` jest przekazana jako pierwszy argument, a wartość 0 jest przekazana jako drugi argument do `RIGHT(nvarchar(max)`, 0`)` lub `RIGHT(varchar(max)` `empty` , 0`)`, `NULL` zostanie zwrócona wartość zamiast ciągu.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-110">If a non-`null` value is passed as a first argument and 0 is passed as a second argument to `RIGHT(nvarchar(max)`, 0`)` or `RIGHT(varchar(max)`, 0`)`, a `NULL` value will be returned instead of an `empty` string.</span></span>  
  
## <a name="cross-and-outer-apply-operators"></a><span data-ttu-id="8ccd1-111">Operatory zastosowania krzyżowe i zewnętrzne</span><span class="sxs-lookup"><span data-stu-id="8ccd1-111">CROSS and OUTER APPLY Operators</span></span>  
 <span data-ttu-id="8ccd1-112">Operatory zastosowania krzyżowe i zewnętrzne zostały wprowadzone w SQL Server 2005.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-112">CROSS and OUTER APPLY operators were introduced in SQL Server 2005.</span></span> <span data-ttu-id="8ccd1-113">W niektórych przypadkach potok zapytania może utworzyć instrukcję języka Transact-SQL, która zawiera operator Apply i/lub OUTER APPLY.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-113">In some cases the query pipeline might produce a Transact-SQL statement that contains CROSS APPLY and/or OUTER APPLY operators.</span></span> <span data-ttu-id="8ccd1-114">Ponieważ niektórzy dostawcy zaplecza, w tym wersje SQL Server wcześniejsze niż SQL Server 2005, nie obsługują tych operatorów, takie zapytania nie mogą być wykonywane w tych dostawcach zaplecza.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-114">Because some backend providers, including versions of SQL Server earlier than SQL Server 2005, do not support these operators, such queries cannot be executed on these backend providers.</span></span>  
  
 <span data-ttu-id="8ccd1-115">Poniżej przedstawiono niektóre typowe scenariusze, które mogą prowadzić do obecności operatora KRZYŻowego zastosowania i/lub zewnętrznego zastosowania operatorów w kwerendzie wyjściowej:</span><span class="sxs-lookup"><span data-stu-id="8ccd1-115">The following are some typical scenarios that might lead to the presence of CROSS APPLY and/or OUTER APPLY operators in the output query:</span></span>  
  
- <span data-ttu-id="8ccd1-116">Skorelowane podzapytanie ze stronicowaniem.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-116">A correlated subquery with paging.</span></span>  
  
- <span data-ttu-id="8ccd1-117">`AnyElement` Za pośrednictwem skorelowanego podzapytania lub kolekcji utworzonej przez nawigację.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-117">An `AnyElement` over a correlated sub-query, or over a collection produced by navigation.</span></span>  
  
- <span data-ttu-id="8ccd1-118">Zapytania LINQ używające metod grupowania, które akceptują selektor elementu.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-118">LINQ queries that use grouping methods that accept an element selector.</span></span>  
  
- <span data-ttu-id="8ccd1-119">Zapytanie, w którym jest jawnie określone zastosowanie krzyżowe lub zewnętrzne</span><span class="sxs-lookup"><span data-stu-id="8ccd1-119">A query in which a CROSS APPLY or an OUTER APPLY is explicitly specified</span></span>  
  
- <span data-ttu-id="8ccd1-120">Zapytanie, które ma konstrukcję DEREF dla konstrukcji REF.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-120">A query that has a DEREF construct over a REF construct.</span></span>  
  
## <a name="skip-operator"></a><span data-ttu-id="8ccd1-121">Operator SKIP</span><span class="sxs-lookup"><span data-stu-id="8ccd1-121">SKIP Operator</span></span>  
 <span data-ttu-id="8ccd1-122">W przypadku korzystania z SQL Server 2000 przy użyciu polecenia Pomiń z KOLEJNOŚCIą według w przypadku kolumn niebędących kolumnami klucza mogą zostać zwrócone nieprawidłowe wyniki.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-122">If you are using SQL Server 2000, using SKIP with ORDER BY on non-key columns might return incorrect results.</span></span> <span data-ttu-id="8ccd1-123">Jeśli kolumna niebędąca kluczem zawiera zduplikowane dane, może zostać pominięta więcej niż określona liczba wierszy.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-123">More than the specified number of rows might be skipped if the non-key column has duplicate data in it.</span></span> <span data-ttu-id="8ccd1-124">Wynika to z tego, jak POMIJAnie jest tłumaczone dla SQL Server 2000.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-124">This is due to how SKIP is translated for SQL Server 2000.</span></span> <span data-ttu-id="8ccd1-125">Na przykład w poniższym zapytaniu można pominąć więcej niż pięć wierszy, jeśli `E.NonKeyColumn` mają zduplikowane wartości:</span><span class="sxs-lookup"><span data-stu-id="8ccd1-125">For example, in the following query, more than five rows might be skipped if `E.NonKeyColumn` has duplicate values:</span></span>  
  
```  
SELECT [E] FROM Container.EntitySet AS [E] ORDER BY [E].[NonKeyColumn] DESC SKIP 5L  
```  
  
## <a name="targeting-the-correct-sql-server-version"></a><span data-ttu-id="8ccd1-126">Kierowanie do poprawnej wersji SQL Server</span><span class="sxs-lookup"><span data-stu-id="8ccd1-126">Targeting the Correct SQL Server Version</span></span>  
 <span data-ttu-id="8ccd1-127">Entity Framework jest celem zapytania Transact-SQL na podstawie wersji SQL Server określonej w `ProviderManifestToken` atrybucie elementu schematu w pliku modelu magazynu (. ssdl).</span><span class="sxs-lookup"><span data-stu-id="8ccd1-127">The Entity Framework targets the Transact-SQL query based on the SQL Server version that is specified in the `ProviderManifestToken` attribute of the Schema element in the storage model (.ssdl) file.</span></span> <span data-ttu-id="8ccd1-128">Ta wersja może różnić się od wersji rzeczywistego SQL Server, z którą nawiązano połączenie.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-128">This version might differ from the version of the actual SQL Server you are connected to.</span></span> <span data-ttu-id="8ccd1-129">Na przykład jeśli używasz SQL Server 2005, ale `ProviderManifestToken` atrybut jest ustawiony na 2008, wygenerowane zapytanie Transact-SQL może nie zostać wykonane na serwerze.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-129">For example, if you are using SQL Server 2005, but your `ProviderManifestToken` attribute is set to 2008, the generated Transact-SQL query might not execute on the server.</span></span> <span data-ttu-id="8ccd1-130">Na przykład zapytanie korzystające z nowych typów dat, które zostały wprowadzone w SQL Server 2008, nie będzie wykonywane we wcześniejszych wersjach SQL Server.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-130">For example, a query that uses the new date time types that were introduced in SQL Server 2008 will not execute on earlier versions of the SQL Server.</span></span> <span data-ttu-id="8ccd1-131">Jeśli używasz SQL Server 2005, ale `ProviderManifestToken` atrybut ma ustawioną wartość 2000, wygenerowane zapytanie Transact-SQL może być mniej zoptymalizowane lub można napotkać wyjątek informujący, że zapytanie nie jest obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-131">If you are using SQL Server 2005, but your `ProviderManifestToken` attribute is set to 2000, the generated Transact-SQL query might be less optimized, or you might get an exception that says that the query is not supported.</span></span> <span data-ttu-id="8ccd1-132">Aby uzyskać więcej informacji, zobacz sekcję operatory zastosowania krzyżowe i zewnętrzne we wcześniejszej części tego tematu.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-132">For more information, see the CROSS and OUTER APPLY Operators section, earlier in this topic.</span></span>  
  
 <span data-ttu-id="8ccd1-133">Niektóre zachowania bazy danych zależą od poziomu zgodności ustawionego na bazę danych.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-133">Certain database behaviors depend on the compatibility level set to the database.</span></span> <span data-ttu-id="8ccd1-134">`ProviderManifestToken` Jeśli atrybut jest ustawiony na 2005, a wersja SQL Server to 2005, ale poziom zgodności bazy danych jest ustawiony na "80" (SQL Server 2000), wygenerowany język Transact-SQL będzie ukierunkowany na SQL Server 2005, ale może nie działać zgodnie z oczekiwaniami z powodu ustawienie poziomu zgodności.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-134">If your `ProviderManifestToken` attribute is set to 2005 and your SQL Server version is 2005, but the compatibility level of a database is set to "80" (SQL Server 2000), the generated Transact-SQL will be targeting SQL Server 2005, but might not execute as expected due to the compatibility level setting.</span></span> <span data-ttu-id="8ccd1-135">Na przykład można utracić informacje o uporządkowaniu, jeśli nazwa kolumny na liście ORDER BY jest zgodna z nazwą kolumny w selektorze.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-135">For example, you might lose ordering information if a column name in the ORDER BY list matches a column name in the selector.</span></span>  
  
## <a name="nested-queries-in-projection"></a><span data-ttu-id="8ccd1-136">Zagnieżdżone zapytania w projekcji</span><span class="sxs-lookup"><span data-stu-id="8ccd1-136">Nested Queries in Projection</span></span>  
 <span data-ttu-id="8ccd1-137">Zagnieżdżone zapytania w klauzuli projekcji mogą zostać przetłumaczone na zapytania o produkty kartezjańskiego na serwerze.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-137">Nested queries in a projection clause might get translated into Cartesian product queries on the server.</span></span> <span data-ttu-id="8ccd1-138">Na niektórych serwerach zaplecza, w tym serwera magazynem, może to spowodować, że tabela TempDB będzie dość duża.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-138">On some back-end servers, including SLQ Server, this can cause the TempDB table to get quite large.</span></span> <span data-ttu-id="8ccd1-139">Może to zmniejszyć wydajność serwera.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-139">This can decrease server performance.</span></span>  
  
 <span data-ttu-id="8ccd1-140">Poniżej znajduje się przykład zagnieżdżonego zapytania w klauzuli projekcji:</span><span class="sxs-lookup"><span data-stu-id="8ccd1-140">The following is an example of  a nested query in a projection clause:</span></span>  
  
```  
SELECT c, (SELECT c, (SELECT c FROM AdventureWorksModel.Vendor AS c  ) As Inner2 FROM AdventureWorksModel.JobCandidate AS c  ) As Inner1 FROM AdventureWorksModel.EmployeeDepartmentHistory AS c  
```  
  
## <a name="server-generated-guid-identity-values"></a><span data-ttu-id="8ccd1-141">Wartości tożsamości identyfikatorów GUID generowanych przez serwer</span><span class="sxs-lookup"><span data-stu-id="8ccd1-141">Server Generated GUID Identity Values</span></span>  
 <span data-ttu-id="8ccd1-142">Entity Framework obsługuje wartości tożsamości typu GUID generowany przez serwer, ale dostawca musi obsługiwać zwracanie wartości tożsamości generowanej przez serwer po wstawieniu wiersza.</span><span class="sxs-lookup"><span data-stu-id="8ccd1-142">The Entity Framework supports server-generated GUID type identity values, but the provider must support returning the server-generated identity value after a row was inserted.</span></span> <span data-ttu-id="8ccd1-143">Począwszy od SQL Server 2005, można zwrócić typ GUID wygenerowany przez serwer w bazie danych SQL Server za pomocą [klauzuli OUTPUT](https://go.microsoft.com/fwlink/?LinkId=169400) .</span><span class="sxs-lookup"><span data-stu-id="8ccd1-143">Starting with SQL Server 2005, you can return the server-generated GUID type in a SQL Server database through the [OUTPUT clause](https://go.microsoft.com/fwlink/?LinkId=169400) .</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8ccd1-144">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="8ccd1-144">See also</span></span>

- [<span data-ttu-id="8ccd1-145">Element SqlClient programu Entity Framework</span><span class="sxs-lookup"><span data-stu-id="8ccd1-145">SqlClient for the Entity Framework</span></span>](sqlclient-for-the-entity-framework.md)
- [<span data-ttu-id="8ccd1-146">Znane problemy i zagadnienia dotyczące w składniku LINQ to Entities</span><span class="sxs-lookup"><span data-stu-id="8ccd1-146">Known Issues and Considerations in LINQ to Entities</span></span>](./language-reference/known-issues-and-considerations-in-linq-to-entities.md)
