---
title: 'Instrukcje: Powiązywanie danych przy użyciu źródła danych projektu (Usługi danych programu WCF)'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data binding, WCF Data Services
- WCF Data Services, data binding
ms.assetid: 2477af0a-676f-44f7-b73d-e66208785509
ms.openlocfilehash: 85d5974f43349d91d56a1ab41b314521a6ee7348
ms.sourcegitcommit: d2e1dfa7ef2d4e9ffae3d431cf6a4ffd9c8d378f
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/07/2019
ms.locfileid: "70780162"
---
# <a name="how-to-bind-data-using-a-project-data-source-wcf-data-services"></a><span data-ttu-id="0d2ab-102">Instrukcje: Powiązywanie danych przy użyciu źródła danych projektu (Usługi danych programu WCF)</span><span class="sxs-lookup"><span data-stu-id="0d2ab-102">How to: Bind Data Using a Project Data Source (WCF Data Services)</span></span>

<span data-ttu-id="0d2ab-103">Możesz tworzyć źródła danych, które są oparte na wygenerowanych obiektach danych w aplikacji klienckiej Usługi danych programu WCF.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-103">You can create data sources that are based on the generated data objects in an WCF Data Services client application.</span></span> <span data-ttu-id="0d2ab-104">Po dodaniu odwołania do usługi danych przy użyciu okna dialogowego **Dodaj odwołanie do usługi** , tworzone jest źródło danych projektu wraz z wygenerowanymi klasami danych klienta.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-104">When you add a reference to a data service by using the **Add Service Reference** dialog, a project data source is created along with the generated client data classes.</span></span> <span data-ttu-id="0d2ab-105">Jedno źródło danych jest tworzone dla każdego zestawu jednostek, który jest udostępniany przez usługę danych.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-105">One data source is created for each entity set that the data service exposes.</span></span> <span data-ttu-id="0d2ab-106">Można tworzyć formularze, które wyświetlają dane z usługi, przeciągając te elementy źródła danych z okna **źródła danych** do projektanta.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-106">You can create forms that display data from the service by dragging these data source items from the **Data Sources** window onto the designer.</span></span> <span data-ttu-id="0d2ab-107">Elementy te stają się kontrolkami, które są powiązane ze źródłem danych.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-107">These items become controls that are bound to the data source.</span></span> <span data-ttu-id="0d2ab-108">Podczas wykonywania to źródło danych jest powiązane z wystąpieniem <xref:System.Data.Services.Client.DataServiceCollection%601> klasy, która jest wypełniana obiektami, które są zwracane przez zapytanie do usługi danych.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-108">During execution, this data source is bound to an instance of the <xref:System.Data.Services.Client.DataServiceCollection%601> class, which is filled with objects that are returned by a query to the data service.</span></span> <span data-ttu-id="0d2ab-109">Aby uzyskać więcej informacji, zobacz [Powiązywanie danych z kontrolkami](binding-data-to-controls-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="0d2ab-109">For more information, see [Binding Data to Controls](binding-data-to-controls-wcf-data-services.md).</span></span>

 <span data-ttu-id="0d2ab-110">Przykłady w tym temacie wykorzystują przykładową usługę danych Northwind i automatycznie wygenerowaną klasę usługi danych klienta.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-110">The examples in this topic use the Northwind sample data service and autogenerated client data service classes.</span></span> <span data-ttu-id="0d2ab-111">Ta usługa i klasy danych klienta są tworzone po zakończeniu [usługi danych programu WCF szybkiego startu](quickstart-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="0d2ab-111">This service and the client data classes are created when you complete the [WCF Data Services quickstart](quickstart-wcf-data-services.md).</span></span>

## <a name="use-a-project-data-source-in-a-wpf-window"></a><span data-ttu-id="0d2ab-112">Używanie źródła danych projektu w oknie WPF</span><span class="sxs-lookup"><span data-stu-id="0d2ab-112">Use a project data source in a WPF window</span></span>

1. <span data-ttu-id="0d2ab-113">W programie Visual Studio, w projekcie WPF, Dodaj odwołanie do usługi danych Northwind.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-113">In Visual Studio, in a WPF project, add a reference to the Northwind data service.</span></span> <span data-ttu-id="0d2ab-114">Aby uzyskać więcej informacji, zobacz [jak: Dodaj odwołanie](how-to-add-a-data-service-reference-wcf-data-services.md)do usługi danych.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-114">For more information, see [How to: Add a Data Service Reference](how-to-add-a-data-service-reference-wcf-data-services.md).</span></span>

2. <span data-ttu-id="0d2ab-115">W oknie **źródła danych** rozwiń `Customers` węzeł w źródle danych projektu **NorthwindEntities** .</span><span class="sxs-lookup"><span data-stu-id="0d2ab-115">In the **Data Sources** window, expand the `Customers` node in the **NorthwindEntities** project data source.</span></span>

3. <span data-ttu-id="0d2ab-116">Kliknij element **CustomerID** , wybierz z listy pole **kombi** i przeciągnij element **IDKlienta** z węzła **Customers** do projektanta.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-116">Click the **CustomerID** item, select **ComboBox** from the list, and drag the **CustomerID** item from the **Customers** node to the designer.</span></span>

     <span data-ttu-id="0d2ab-117">Spowoduje to utworzenie następujących elementów obiektów w pliku XAML dla okna:</span><span class="sxs-lookup"><span data-stu-id="0d2ab-117">This creates the following object elements in the XAML file for the window:</span></span>

    - <span data-ttu-id="0d2ab-118">Element o nazwie `customersViewSource`. <xref:System.Windows.Data.CollectionViewSource></span><span class="sxs-lookup"><span data-stu-id="0d2ab-118">A <xref:System.Windows.Data.CollectionViewSource> element named `customersViewSource`.</span></span> <span data-ttu-id="0d2ab-119">Właściwość elementu najwyższego poziomu <xref:System.Windows.Controls.Grid> jest ustawiona na ten nowy <xref:System.Windows.Data.CollectionViewSource>. <xref:System.Windows.FrameworkElement.DataContext%2A></span><span class="sxs-lookup"><span data-stu-id="0d2ab-119">The <xref:System.Windows.FrameworkElement.DataContext%2A> property of the top-level <xref:System.Windows.Controls.Grid> object element is set to this new <xref:System.Windows.Data.CollectionViewSource>.</span></span>

    - <span data-ttu-id="0d2ab-120">Powiązane <xref:System.Windows.Controls.ComboBox> z danymi nazwy `CustomerID`.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-120">A data-bound <xref:System.Windows.Controls.ComboBox> named `CustomerID`.</span></span>

    - <span data-ttu-id="0d2ab-121">A <xref:System.Windows.Controls.Label>.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-121">A <xref:System.Windows.Controls.Label>.</span></span>

4. <span data-ttu-id="0d2ab-122">Przeciągnij właściwość nawigacji **Orders** do projektanta.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-122">Drag the **Orders** navigation property to the designer.</span></span>

     <span data-ttu-id="0d2ab-123">Spowoduje to utworzenie następujących elementów dodatkowych obiektów w pliku XAML dla okna:</span><span class="sxs-lookup"><span data-stu-id="0d2ab-123">This creates the following additional object elements in the XAML file for the window:</span></span>

    - <span data-ttu-id="0d2ab-124">Drugi <xref:System.Windows.Data.CollectionViewSource> element o nazwie `customersOrdersViewSource`, którego `customerViewSource`źródłem jest.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-124">A second <xref:System.Windows.Data.CollectionViewSource> element named `customersOrdersViewSource`, the source of which is the `customerViewSource`.</span></span>

    - <span data-ttu-id="0d2ab-125">Formant powiązany <xref:System.Windows.Controls.DataGrid> z danymi o nazwie `ordersDataGrid`.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-125">A data-bound <xref:System.Windows.Controls.DataGrid> control named `ordersDataGrid`.</span></span>

5. <span data-ttu-id="0d2ab-126">Obowiązkowe Przeciągnij dodatkowe elementy z węzła **Customers** do projektanta.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-126">(Optional) Drag additional items from the **Customers** node to the designer.</span></span>

6. <span data-ttu-id="0d2ab-127">Otwórz stronę kodową formularza i Dodaj następujące `using` instrukcje (`Imports` w Visual Basic):</span><span class="sxs-lookup"><span data-stu-id="0d2ab-127">Open the code page for the form and add the following `using` statements (`Imports` in Visual Basic):</span></span>

     [!code-csharp[Astoria Northwind Client#CustomersOrdersUsingWpf](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/customerorderswpf2.xaml.cs#customersordersusingwpf)]

7. <span data-ttu-id="0d2ab-128">W klasie częściowej, która definiuje formularz, Dodaj następujący kod, który tworzy <xref:System.Data.Objects.ObjectContext> wystąpienie i `customerID` definiuje stałą.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-128">In the partial class that defines the form, add the following code that creates an <xref:System.Data.Objects.ObjectContext> instance and defines the `customerID` constant.</span></span>

     [!code-csharp[Astoria Northwind Client#CustomersOrdersDefinitionWpf](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/customerorderswpf2.xaml.cs#customersordersdefinitionwpf)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersDefinitionWpf](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/customerorderswpf2.xaml.vb#customersordersdefinitionwpf)]

8. <span data-ttu-id="0d2ab-129">W Projektancie wybierz okno.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-129">In the designer, select the window.</span></span>

    > [!NOTE]
    > <span data-ttu-id="0d2ab-130">Upewnij się, że wybierasz samo okno, a nie zaznaczasz zawartość znajdującą się w oknie.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-130">Make sure that you select the window itself, rather than selecting content that is within the window.</span></span> <span data-ttu-id="0d2ab-131">Jeśli okno jest zaznaczone, pole tekstowe **Nazwa** znajdujące się w górnej części okna **Właściwości** powinno zawierać nazwę okna.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-131">If the window is selected, the **Name** text box near the top of the **Properties** window should contain the name of the window.</span></span>

9. <span data-ttu-id="0d2ab-132">W oknie **Właściwości** wybierz przycisk **zdarzenia** .</span><span class="sxs-lookup"><span data-stu-id="0d2ab-132">In the **Properties** window, select the **Events** button.</span></span>

10. <span data-ttu-id="0d2ab-133">Znajdź **załadowane** zdarzenie, a następnie kliknij dwukrotnie listę rozwijaną obok tego zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-133">Find the **Loaded** event, and then double-click the drop-down list next to this event.</span></span>

     <span data-ttu-id="0d2ab-134">Program Visual Studio otwiera plik związany z kodem dla okna i generuje <xref:System.Windows.FrameworkElement.Loaded> procedurę obsługi zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-134">Visual Studio opens the code-behind file for the window and generates a <xref:System.Windows.FrameworkElement.Loaded> event handler.</span></span>

11. <span data-ttu-id="0d2ab-135">W nowo utworzonym <xref:System.Windows.FrameworkElement.Loaded> programie obsługi zdarzeń skopiuj i wklej poniższy kod.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-135">In the newly created <xref:System.Windows.FrameworkElement.Loaded> event handler, copy and paste the following code.</span></span>

     [!code-csharp[Astoria Northwind Client#CustomersOrdersDataBindingWpf](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/customerorderswpf2.xaml.cs#customersordersdatabindingwpf)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersDataBindingWpf](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/customerorderswpf2.xaml.vb#customersordersdatabindingwpf)]

12. <span data-ttu-id="0d2ab-136">Ten kod <xref:System.Data.Services.Client.DataServiceCollection%601> tworzy wystąpienie `Customers` dla typu na podstawie wykonywania `Customers` zapytania LINQ, które zwraca obiekt <xref:System.Collections.Generic.IEnumerable%601> z pokrewnymi `Orders` obiektami z usługi danych Northwind i wiąże go z `customersViewSource`.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-136">This code creates an instance of <xref:System.Data.Services.Client.DataServiceCollection%601> for the `Customers` type based on the execution of a LINQ query that returns an <xref:System.Collections.Generic.IEnumerable%601> of `Customers` along with related `Orders` objects from the Northwind data service and binds it to the `customersViewSource`.</span></span>

## <a name="use-a-project-data-source-in-a-windows-form"></a><span data-ttu-id="0d2ab-137">Używanie źródła danych projektu w formularzu systemu Windows</span><span class="sxs-lookup"><span data-stu-id="0d2ab-137">Use a project data source in a Windows form</span></span>

1. <span data-ttu-id="0d2ab-138">W oknie **źródła danych** rozwiń węzeł **klienci** w źródle danych projektu **NorthwindEntities** .</span><span class="sxs-lookup"><span data-stu-id="0d2ab-138">In the **Data Sources** window, expand the **Customers** node in the **NorthwindEntities** project data source.</span></span>

2. <span data-ttu-id="0d2ab-139">Kliknij element **CustomerID** , wybierz z listy pole **kombi** i przeciągnij element **IDKlienta** z węzła **Customers** do projektanta.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-139">Click the **CustomerID** item, select **ComboBox** from the list, and drag the **CustomerID** item from the **Customers** node to the designer.</span></span>

     <span data-ttu-id="0d2ab-140">Spowoduje to utworzenie następujących kontrolek w formularzu:</span><span class="sxs-lookup"><span data-stu-id="0d2ab-140">This creates the following controls on the form:</span></span>

    - <span data-ttu-id="0d2ab-141">Wystąpienie <xref:System.Windows.Forms.BindingSource> o nazwie `customersBindingSource`.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-141">An instance of <xref:System.Windows.Forms.BindingSource> named `customersBindingSource`.</span></span>

    - <span data-ttu-id="0d2ab-142">Wystąpienie <xref:System.Windows.Forms.BindingNavigator> o nazwie `customersBindingNavigator`.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-142">An instance of <xref:System.Windows.Forms.BindingNavigator> named `customersBindingNavigator`.</span></span> <span data-ttu-id="0d2ab-143">Tę kontrolkę można usunąć, ponieważ nie będzie to konieczne.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-143">You can delete this control as it will not be needed.</span></span>

    - <span data-ttu-id="0d2ab-144">Powiązane <xref:System.Windows.Forms.ComboBox> z danymi nazwy `CustomerID`.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-144">A data-bound <xref:System.Windows.Forms.ComboBox> named `CustomerID`.</span></span>

    - <span data-ttu-id="0d2ab-145">A <xref:System.Windows.Forms.Label>.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-145">A <xref:System.Windows.Forms.Label>.</span></span>

3. <span data-ttu-id="0d2ab-146">Przeciągnij właściwość nawigacji **Orders** do formularza.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-146">Drag the **Orders** navigation property to the form.</span></span>

4. <span data-ttu-id="0d2ab-147">Spowoduje to utworzenie `ordersBindingSource` <xref:System.Windows.Forms.BindingSource.DataSource%2A> kontrolki z właściwością <xref:System.Windows.Forms.BindingSource.DataMember%2A> zestawu `customersBindingSource` kontrolki i właściwością ustawioną na `Customers`.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-147">This creates the `ordersBindingSource` control with the <xref:System.Windows.Forms.BindingSource.DataSource%2A> property of the control set to the `customersBindingSource` and the <xref:System.Windows.Forms.BindingSource.DataMember%2A> property set to `Customers`.</span></span> <span data-ttu-id="0d2ab-148">Tworzy również kontrolkę `ordersDataGridView` powiązaną z danymi w formularzu wraz z odpowiednio zatytułowaną kontrolką etykieta.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-148">It also creates the `ordersDataGridView` data-bound control on the form, accompanied by an appropriately titled label control.</span></span>

5. <span data-ttu-id="0d2ab-149">Obowiązkowe Przeciągnij dodatkowe elementy z węzła **Customers** do projektanta.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-149">(Optional) Drag additional items from the **Customers** node to the designer.</span></span>

6. <span data-ttu-id="0d2ab-150">Otwórz stronę kodową formularza i Dodaj następujące `using` instrukcje (`Imports` w Visual Basic):</span><span class="sxs-lookup"><span data-stu-id="0d2ab-150">Open the code page for the form and add the following `using` statements (`Imports` in Visual Basic):</span></span>

     [!code-csharp[Astoria Northwind Client#CustomersOrdersUsing](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/customerorders.cs#customersordersusing)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersUsing](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/customerorders.vb#customersordersusing)]

7. <span data-ttu-id="0d2ab-151">W klasie częściowej, która definiuje formularz, Dodaj następujący kod, który tworzy <xref:System.Data.Objects.ObjectContext> wystąpienie i `customerID` definiuje stałą.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-151">In the partial class that defines the form, add the following code that creates an <xref:System.Data.Objects.ObjectContext> instance and defines the `customerID` constant.</span></span>

     [!code-csharp[Astoria Northwind Client#CustomersOrdersDefinition](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/customerorders.cs#customersordersdefinition)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersDefinition](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/customerorders.vb#customersordersdefinition)]

8. <span data-ttu-id="0d2ab-152">W projektancie formularzy kliknij dwukrotnie formularz.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-152">In the form designer, double-click the form.</span></span>

     <span data-ttu-id="0d2ab-153">Spowoduje to otwarcie strony kodowej dla formularza i utworzenie metody, która obsługuje `Load` zdarzenie dla formularza.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-153">This opens the code page for the form and creates the method that handles the `Load` event for the form.</span></span>

9. <span data-ttu-id="0d2ab-154">W programie obsługi zdarzeń skopiuj i wklej poniższy kod. `Load`</span><span class="sxs-lookup"><span data-stu-id="0d2ab-154">In the `Load` event handler, copy and paste the following code.</span></span>

     [!code-csharp[Astoria Northwind Client#CustomersOrdersDataBinding](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/customerorders.cs#customersordersdatabinding)]
     [!code-vb[Astoria Northwind Client#CustomersOrdersDataBinding](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/customerorders.vb#customersordersdatabinding)]

10. <span data-ttu-id="0d2ab-155">Ten kod <xref:System.Data.Services.Client.DataServiceCollection%601> tworzy wystąpienie `Customers` dla typu na podstawie wykonania <xref:System.Data.Services.Client.DataServiceQuery%601> , które zwraca wartość <xref:System.Collections.Generic.IEnumerable%601> `Customers` z z usługi danych Northwind i wiąże ją `customersBindingSource`z.</span><span class="sxs-lookup"><span data-stu-id="0d2ab-155">This code creates an instance of <xref:System.Data.Services.Client.DataServiceCollection%601> for the `Customers` type based on the execution of a <xref:System.Data.Services.Client.DataServiceQuery%601> that returns an <xref:System.Collections.Generic.IEnumerable%601> of `Customers` from the Northwind data service and binds it to the `customersBindingSource`.</span></span>

## <a name="see-also"></a><span data-ttu-id="0d2ab-156">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="0d2ab-156">See also</span></span>

- [<span data-ttu-id="0d2ab-157">Biblioteka klienta usług danych WCF</span><span class="sxs-lookup"><span data-stu-id="0d2ab-157">WCF Data Services Client Library</span></span>](wcf-data-services-client-library.md)
- [<span data-ttu-id="0d2ab-158">Instrukcje: Powiąż dane z Windows Presentation Foundation elementami</span><span class="sxs-lookup"><span data-stu-id="0d2ab-158">How to: Bind Data to Windows Presentation Foundation Elements</span></span>](bind-data-to-wpf-elements-wcf-data-services.md)
