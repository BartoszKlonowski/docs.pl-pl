---
title: Aktualizacja usługi danych (WCF Data Services)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, changing data
- WCF Data Services, client library
ms.assetid: 00d993be-ffed-4dea-baf7-6eea982cdb54
ms.openlocfilehash: 4b351b2a69d2829b67c80839f3257fa8e218b55d
ms.sourcegitcommit: 2701302a99cafbe0d86d53d540eb0fa7e9b46b36
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/28/2019
ms.locfileid: "64660635"
---
# <a name="updating-the-data-service-wcf-data-services"></a><span data-ttu-id="1c8ef-102">Aktualizacja usługi danych (WCF Data Services)</span><span class="sxs-lookup"><span data-stu-id="1c8ef-102">Updating the Data Service (WCF Data Services)</span></span>
<span data-ttu-id="1c8ef-103">Kiedy używasz [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] biblioteki klienckiej z [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] źródła danych, biblioteka tłumaczy wpisy w źródle danych do wystąpień klas usługi danych klienta.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-103">When you use the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library to consume an [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] feed, the library translates the entries in the feed into instances of client data service classes.</span></span> <span data-ttu-id="1c8ef-104">Tych klas usługi danych są śledzone za pomocą <xref:System.Data.Services.Client.DataServiceContext> do której <xref:System.Data.Services.Client.DataServiceQuery%601> należy.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-104">These data service classes are tracked by using the <xref:System.Data.Services.Client.DataServiceContext> to which the <xref:System.Data.Services.Client.DataServiceQuery%601> belongs.</span></span> <span data-ttu-id="1c8ef-105">Klient śledzi zmiany jednostki, które możesz zgłaszać za pomocą metod na <xref:System.Data.Services.Client.DataServiceContext>.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-105">The client tracks changes to entities that you report by using methods on <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="1c8ef-106">Te metody umożliwiają klienta śledzić dodanych i usuniętych jednostek, a także zmiany wprowadzone do wartości właściwości lub relacji między wystąpieniami jednostki.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-106">These methods enable the client to track added and deleted entities and also changes that you make to property values or to relationships between entity instances.</span></span> <span data-ttu-id="1c8ef-107">Zmiany śledzone są wysyłane do usługi danych jako operacje oparte na protokole REST, po wywołaniu <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-107">Those tracked changes are sent back to the data service as REST-based operations when you call the <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> method.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1c8ef-108">Jeśli używasz wystąpienia <xref:System.Data.Services.Client.DataServiceCollection%601> danych można powiązać formanty, zmiany wprowadzone do danych z powiązanej kontrolki są automatycznie zgłaszane <xref:System.Data.Services.Client.DataServiceContext>.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-108">When you use an instance of <xref:System.Data.Services.Client.DataServiceCollection%601> to bind data to controls, changes made to data in the bound control are automatically reported to the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="1c8ef-109">Aby uzyskać więcej informacji, zobacz [powiązanie danych z kontrolkami](../../../../docs/framework/data/wcf/binding-data-to-controls-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c8ef-109">For more information, see [Binding Data to Controls](../../../../docs/framework/data/wcf/binding-data-to-controls-wcf-data-services.md).</span></span>  
  
## <a name="adding-modifying-and-changing-entities"></a><span data-ttu-id="1c8ef-110">Dodawanie, modyfikowanie i zmianę jednostki</span><span class="sxs-lookup"><span data-stu-id="1c8ef-110">Adding, Modifying, and Changing Entities</span></span>  
 <span data-ttu-id="1c8ef-111">Zastosowania **Dodaj odwołanie do usługi** w programie Visual Studio można dodać odwołania do okna dialogowego [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] źródła danych, ma wynikowy klas usługi danych klienta każdego statycznego *Utwórz* metodę przyjmującą jeden parametr dla każdej właściwości niedopuszczającej jednostki.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-111">When you use the **Add Service Reference** dialog in Visual Studio to add a reference to an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feed, the resulting client data service classes each have a static *Create* method that takes one parameter for each non-nullable entity property.</span></span> <span data-ttu-id="1c8ef-112">Ta metoda służy do tworzenia wystąpienia obiektu typu klasy, jak w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="1c8ef-112">You can use this method to create instances of entity type classes, as in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#CreateNewProduct](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#createnewproduct)]
 [!code-vb[Astoria Northwind Client#CreateNewProduct](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#createnewproduct)]  
  
 <span data-ttu-id="1c8ef-113">Aby dodać wystąpienia jednostki, należy wywołać odpowiednie *AddTo* metody <xref:System.Data.Services.Client.DataServiceContext> klasy generowanej przez **Dodaj odwołanie do usługi** okno dialogowe, jak w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="1c8ef-113">To add an entity instance, call the appropriate *AddTo* method on the <xref:System.Data.Services.Client.DataServiceContext> class generated by the **Add Service Reference** dialog box, as in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AddProductSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#addproductspecific)]
 [!code-vb[Astoria Northwind Client#AddProductSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#addproductspecific)]  
  
 <span data-ttu-id="1c8ef-114">Spowoduje to dodanie obiektu do kontekstu i do zestawu jednostek poprawne.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-114">This adds the object to the context and into the correct entity set.</span></span> <span data-ttu-id="1c8ef-115">Można również wywołać <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A>, ale zamiast tego musisz podać nazwę zestawu jednostek.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-115">You can also call <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A>, but you must instead supply the entity set name.</span></span> <span data-ttu-id="1c8ef-116">Jeśli dodano określona jednostka ma jeden lub więcej relacje z innymi obiektami, można użyć <xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A> metody lub użyj jednego z poprzednich metod, a także jawne zdefiniowanie tych łączy.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-116">If the added entity has one or more relationships to other entities, you can either use the <xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A> method or use one of the previous methods and also explicitly define those links.</span></span> <span data-ttu-id="1c8ef-117">Te operacje są omówione w dalszej części tego tematu.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-117">These operations are discussed later in this topic.</span></span>  
  
 <span data-ttu-id="1c8ef-118">Aby zmodyfikować istniejące wystąpienie jednostki, pierwsze zapytanie dla danej jednostki, wprowadź żądane zmiany do jego właściwości, a następnie wywołaj <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> metody <xref:System.Data.Services.Client.DataServiceContext> do wskazania biblioteki klienckiej, która wymaga wysłania aktualizacji dla tego obiektu, jak pokazano w Poniższy przykład:</span><span class="sxs-lookup"><span data-stu-id="1c8ef-118">To modify an existing entity instance, first query for that entity, make the desired changes to its properties, and then call the <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> method on the <xref:System.Data.Services.Client.DataServiceContext> to indicate to the client library that it needs to send an update for that object, as shown in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#ModifyCustomerSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#modifycustomerspecific)]
 [!code-vb[Astoria Northwind Client#ModifyCustomerSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#modifycustomerspecific)]  
  
 <span data-ttu-id="1c8ef-119">Aby usunąć wystąpienie jednostki, wywołaj <xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A> metody <xref:System.Data.Services.Client.DataServiceContext>, jak pokazano w poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="1c8ef-119">To delete an entity instance, call the <xref:System.Data.Services.Client.DataServiceContext.DeleteObject%2A> method on the <xref:System.Data.Services.Client.DataServiceContext>, as shown in the following example:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#DeleteProductSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#deleteproductspecific)]
 [!code-vb[Astoria Northwind Client#DeleteProductSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#deleteproductspecific)]  
  
 <span data-ttu-id="1c8ef-120">Aby uzyskać więcej informacji, zobacz [jak: Dodawanie, modyfikowanie i usuwanie jednostek](../../../../docs/framework/data/wcf/how-to-add-modify-and-delete-entities-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c8ef-120">For more information, see [How to: Add, Modify, and Delete Entities](../../../../docs/framework/data/wcf/how-to-add-modify-and-delete-entities-wcf-data-services.md).</span></span>  
  
## <a name="attaching-entities"></a><span data-ttu-id="1c8ef-121">Dołączanie jednostek</span><span class="sxs-lookup"><span data-stu-id="1c8ef-121">Attaching Entities</span></span>  
 <span data-ttu-id="1c8ef-122">Biblioteka klienta umożliwia zapisanie aktualizacje wprowadzone do jednostki bez wykonywanie zapytania Załaduj jednostkę do <xref:System.Data.Services.Client.DataServiceContext>.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-122">The client library enables you to save updates that you made to an entity without first executing a query to load the entity into the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="1c8ef-123">Użyj <xref:System.Data.Services.Client.DataServiceContext.AttachTo%2A> metodę, aby dołączyć istniejący obiekt do określonego zestawu jednostek w <xref:System.Data.Services.Client.DataServiceContext>.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-123">Use the <xref:System.Data.Services.Client.DataServiceContext.AttachTo%2A> method to attach an existing object to a specific entity set in the <xref:System.Data.Services.Client.DataServiceContext>.</span></span> <span data-ttu-id="1c8ef-124">Następnie można zmodyfikować obiekt i zapisać zmiany do usługi danych.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-124">You can then modify the object and save the changes to the data service.</span></span> <span data-ttu-id="1c8ef-125">W poniższym przykładzie obiekt klienta, który został zmieniony jest dołączony do kontekstu i następnie <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> jest wywoływana, aby oznaczyć przyłączonego obiektu jako <xref:System.Data.Services.Client.EntityStates.Modified> przed <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> nosi nazwę:</span><span class="sxs-lookup"><span data-stu-id="1c8ef-125">In the following example, a customer object that has been changed is attached to the context and then <xref:System.Data.Services.Client.DataServiceContext.UpdateObject%2A> is called to mark the attached object as <xref:System.Data.Services.Client.EntityStates.Modified> before <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> is called:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AttachObjectSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#attachobjectspecific)]
 [!code-vb[Astoria Northwind Client#AttachObjectSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#attachobjectspecific)]  
  
 <span data-ttu-id="1c8ef-126">Podczas podłączania obiektów obowiązują następujące zastrzeżenia:</span><span class="sxs-lookup"><span data-stu-id="1c8ef-126">The following considerations apply when attaching objects:</span></span>  
  
- <span data-ttu-id="1c8ef-127">Obiekt jest dołączony w <xref:System.Data.Services.Client.EntityStates.Unchanged> stanu.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-127">An object is attached in the <xref:System.Data.Services.Client.EntityStates.Unchanged> state.</span></span>  
  
- <span data-ttu-id="1c8ef-128">Gdy obiekt jest dołączony, obiekty, które są powiązane z przyłączonego obiektu nie są również dołączone.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-128">When an object is attached, objects that are related to the attached object are not also attached.</span></span>  
  
- <span data-ttu-id="1c8ef-129">Nie można dołączyć obiektu, jeśli jednostka jest już śledzony przez kontekst.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-129">An object cannot be attached if the entity is already being tracked by the context.</span></span>  
  
- <span data-ttu-id="1c8ef-130"><xref:System.Data.Services.Client.DataServiceContext.AttachTo%28System.String%2CSystem.Object%2CSystem.String%29> Przeciążenia metody, która przyjmuje `etag` parametr jest używany podczas dołączania do obiektu jednostki, przedstawiający otrzymany wraz z wartością tagu eTag.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-130">The <xref:System.Data.Services.Client.DataServiceContext.AttachTo%28System.String%2CSystem.Object%2CSystem.String%29> method overload that takes an `etag` parameter is used when you attach an entity object that was received along with an eTag value.</span></span> <span data-ttu-id="1c8ef-131">Ta wartość elementu eTag jest następnie użytych do sprawdzenia współbieżności po zapisaniu zmian przyłączonego obiektu.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-131">This eTag value is then used to check for concurrency when changes to the attached object are saved.</span></span>  
  
 <span data-ttu-id="1c8ef-132">Aby uzyskać więcej informacji, zobacz [jak: Dołączanie istniejącej jednostki do obiektu DataServiceContext](../../../../docs/framework/data/wcf/attach-an-existing-entity-to-dc-wcf-data.md).</span><span class="sxs-lookup"><span data-stu-id="1c8ef-132">For more information, see [How to: Attach an Existing Entity to the DataServiceContext](../../../../docs/framework/data/wcf/attach-an-existing-entity-to-dc-wcf-data.md).</span></span>  
  
## <a name="creating-and-modifying-relationship-links"></a><span data-ttu-id="1c8ef-133">Tworzenie i modyfikowanie relacji łączy</span><span class="sxs-lookup"><span data-stu-id="1c8ef-133">Creating and Modifying Relationship Links</span></span>  
 <span data-ttu-id="1c8ef-134">Po dodaniu nowej jednostki przy użyciu <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> metody lub odpowiednie *AddTo* metody <xref:System.Data.Services.Client.DataServiceContext> klasy, która **Dodaj odwołanie do usługi** okna dialogowego generuje żadnych relacji między nimi i powiązanych jednostek nie są automatycznie definiowane.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-134">When you add a new entity by using either the <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> method or the appropriate *AddTo* method of the <xref:System.Data.Services.Client.DataServiceContext> class that the **Add Service Reference** dialog generates, any relationships between the new entity and related entities are not automatically defined.</span></span>  
  
 <span data-ttu-id="1c8ef-135">Można tworzyć i zmieniać relacje między wystąpieniami jednostki i biblioteki klienta odzwierciedlenia tych zmian w usłudze data service.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-135">You can create and change relationships between entity instances and have the client library reflect those changes in the data service.</span></span> <span data-ttu-id="1c8ef-136">Relacje między jednostkami są definiowane jako skojarzeń w modelu i <xref:System.Data.Services.Client.DataServiceContext> śledzi każdej relacji jako obiekt łącza w kontekście.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-136">Relationships between entities are defined as associations in the model, and the <xref:System.Data.Services.Client.DataServiceContext> tracks each relationship as a link object in the context.</span></span> [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] <span data-ttu-id="1c8ef-137">udostępnia następujące metody w <xref:System.Data.Services.Client.DataServiceContext> klasy w celu tworzenia, modyfikowania i usuwania tych linków:</span><span class="sxs-lookup"><span data-stu-id="1c8ef-137">provides the following methods on the <xref:System.Data.Services.Client.DataServiceContext> class to create, modify, and delete these links:</span></span>  
  
|<span data-ttu-id="1c8ef-138">Metoda</span><span class="sxs-lookup"><span data-stu-id="1c8ef-138">Method</span></span>|<span data-ttu-id="1c8ef-139">Opis</span><span class="sxs-lookup"><span data-stu-id="1c8ef-139">Description</span></span>|  
|------------|-----------------|  
|<xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A>|<span data-ttu-id="1c8ef-140">Tworzy nowe łącze między dwoma obiektami powiązanej jednostki.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-140">Creates a new link between two related entity objects.</span></span> <span data-ttu-id="1c8ef-141">Wywołanie tej metody jest równoważne z wywoływaniem <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> i <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> Aby utworzyć nowy obiekt i zdefiniować relację do istniejącego obiektu.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-141">Calling this method is equivalent to calling <xref:System.Data.Services.Client.DataServiceContext.AddObject%2A> and <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> to both create the new object and define the relationship to an existing object.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.AddLink%2A>|<span data-ttu-id="1c8ef-142">Tworzy nowe łącze między dwoma obiektami powiązanej jednostki.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-142">Creates a new link between two related entity objects.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.SetLink%2A>|<span data-ttu-id="1c8ef-143">Aktualizuje istniejące łącze między dwoma obiektami powiązanej jednostki.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-143">Updates an existing link between two related entity objects.</span></span> <span data-ttu-id="1c8ef-144"><xref:System.Data.Services.Client.DataServiceContext.SetLink%2A> Umożliwia również usuwać łącza z kardynalnością zero lub jeden do jeden (`0..1:1`) i jeden do jednego (`1:1`).</span><span class="sxs-lookup"><span data-stu-id="1c8ef-144"><xref:System.Data.Services.Client.DataServiceContext.SetLink%2A> is also used to delete links with a cardinality of zero-or-one-to-one (`0..1:1`) and one-to-one (`1:1`).</span></span> <span data-ttu-id="1c8ef-145">Można to zrobić, ustawiając powiązany obiekt `null`.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-145">You can do this by setting the related object to `null`.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.DeleteLink%2A>|<span data-ttu-id="1c8ef-146">Oznacza łącze, które służy do śledzenia kontekstu do usunięcia podczas <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> metoda jest wywoływana.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-146">Marks a link that the context is tracking for deletion when the <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> method is called.</span></span> <span data-ttu-id="1c8ef-147">Metoda ta jest używana, gdy usuniesz powiązanego obiektu lub zmienić relację, najpierw usuwania łącze do istniejącego obiektu, a następnie dodając łącze do nowego obiektu pokrewnego.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-147">Use this method when you delete a related object or change a relationship by first deleting the link to an existing object and then adding a link to the new related object.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.AttachLink%2A>|<span data-ttu-id="1c8ef-148">Powiadamia o kontekście istniejącego łącza między dwa obiekty jednostki.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-148">Notifies the context of an existing link between two entity objects.</span></span> <span data-ttu-id="1c8ef-149">Kontekst założono, że ta relacja już istnieje w usłudze data i nie podejmuje próby utworzenia linku po wywołaniu <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-149">The context assumes that this relationship already exists in the data service and does not try to create the link when you call the <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> method.</span></span> <span data-ttu-id="1c8ef-150">Użyj tej metody, gdy dołączanie obiektów do kontekstu i musisz również dołączyć łącza między tymi dwoma.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-150">Use this method when you attach objects to a context and need to also attach the link between the two.</span></span> <span data-ttu-id="1c8ef-151">Jeśli definiujesz nowe relacje, należy w zamian użyć <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A>.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-151">If you are defining a new relationship, you should instead use <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A>.</span></span>|  
|<xref:System.Data.Services.Client.DataServiceContext.DetachLink%2A>|<span data-ttu-id="1c8ef-152">Zatrzymuje śledzenia określonego linku w kontekście.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-152">Stops tracking the specified link in the context.</span></span> <span data-ttu-id="1c8ef-153">Ta metoda służy do usuwania jeden do wielu (`*:*`) relacji.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-153">This method is used to delete one-to-many (`*:*`) relationships.</span></span> <span data-ttu-id="1c8ef-154">W przypadku relacji powiązania z kardynalnością jednego, zamiast tego należy użyć <xref:System.Data.Services.Client.DataServiceContext.SetLink%2A>.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-154">For relationship links with a cardinality of one, you must instead use <xref:System.Data.Services.Client.DataServiceContext.SetLink%2A>.</span></span>|  
  
 <span data-ttu-id="1c8ef-155">Poniższy przykład pokazuje, jak używać <xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A> metodę, aby dodać nowy `Order_Detail` , jest powiązany z istniejącego `Orders` jednostki.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-155">The following example shows how to use the <xref:System.Data.Services.Client.DataServiceContext.AddRelatedObject%2A> method to add a new `Order_Detail` that is related to an existing `Orders` entity.</span></span> <span data-ttu-id="1c8ef-156">Ponieważ nowe `Order_Details` obiektu jest teraz śledzone przez <xref:System.Data.Services.Client.DataServiceContext>, relacji dodanego `Order_Details` obiektu do istniejących `Products` jednostka została zdefiniowana przez wywołanie metody <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> metody:</span><span class="sxs-lookup"><span data-stu-id="1c8ef-156">Because the new `Order_Details` object is now tracked by the <xref:System.Data.Services.Client.DataServiceContext>, the relationship of the added `Order_Details` object to the existing `Products` entity is defined by calling the <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> method:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#AddOrderDetailToOrderSpecific](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#addorderdetailtoorderspecific)]
 [!code-vb[Astoria Northwind Client#AddOrderDetailToOrderSpecific](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#addorderdetailtoorderspecific)]  
  
 <span data-ttu-id="1c8ef-157">Gdy <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> Metoda określa łącza, które muszą zostać utworzone w usługi danych, aby te łącza, które zostaną uwzględnione w obiektach, które znajdują się w kontekście, należy również ustawić właściwości nawigacji na samych obiektach.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-157">While the <xref:System.Data.Services.Client.DataServiceContext.AddLink%2A> method defines links that must be created in the data service, to have these links reflected in the objects that are in the context, you must also set the navigation properties on the objects themselves.</span></span> <span data-ttu-id="1c8ef-158">W poprzednim przykładzie należy ustawić właściwości nawigacji w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="1c8ef-158">In the previous example, you should set the navigation properties as follows:</span></span>  
  
 [!code-csharp[Astoria Northwind Client#SetNavProps](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_client/cs/source.cs#setnavprops)]
 [!code-vb[Astoria Northwind Client#SetNavProps](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_client/vb/source.vb#setnavprops)]  
  
 <span data-ttu-id="1c8ef-159">Aby uzyskać więcej informacji, zobacz [jak: Definiowanie relacji jednostek](../../../../docs/framework/data/wcf/how-to-define-entity-relationships-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c8ef-159">For more information, see [How to: Define Entity Relationships](../../../../docs/framework/data/wcf/how-to-define-entity-relationships-wcf-data-services.md).</span></span>  
  
## <a name="saving-changes"></a><span data-ttu-id="1c8ef-160">Zapisywanie zmian</span><span class="sxs-lookup"><span data-stu-id="1c8ef-160">Saving Changes</span></span>  
 <span data-ttu-id="1c8ef-161">Zmiany są śledzone w <xref:System.Data.Services.Client.DataServiceContext> wystąpienia, ale nie natychmiast wysyłane do serwera.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-161">Changes are tracked in the <xref:System.Data.Services.Client.DataServiceContext> instance but not sent to the server immediately.</span></span> <span data-ttu-id="1c8ef-162">Po zakończeniu wymagane zmiany dla określonego działania wywołać <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> przesłać wszystkie zmiany do usługi danych.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-162">After you are finished with the required changes for a specified activity, call <xref:System.Data.Services.Client.DataServiceContext.SaveChanges%2A> to submit all the changes to the data service.</span></span> <span data-ttu-id="1c8ef-163">Aby uzyskać więcej informacji, zobacz [zarządzanie kontekstem usługi danych](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c8ef-163">For more information, see [Managing the Data Service Context](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span></span> <span data-ttu-id="1c8ef-164">Można również zapisać zmiany asynchronicznie przy użyciu <xref:System.Data.Services.Client.DataServiceContext.BeginSaveChanges%2A> i <xref:System.Data.Services.Client.DataServiceContext.EndSaveChanges%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="1c8ef-164">You can also save changes asynchronously by using the <xref:System.Data.Services.Client.DataServiceContext.BeginSaveChanges%2A> and <xref:System.Data.Services.Client.DataServiceContext.EndSaveChanges%2A> methods.</span></span> <span data-ttu-id="1c8ef-165">Aby uzyskać więcej informacji, zobacz [operacji asynchronicznych](../../../../docs/framework/data/wcf/asynchronous-operations-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="1c8ef-165">For more information, see [Asynchronous Operations](../../../../docs/framework/data/wcf/asynchronous-operations-wcf-data-services.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1c8ef-166">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="1c8ef-166">See also</span></span>

- [<span data-ttu-id="1c8ef-167">Biblioteka klienta usług danych WCF</span><span class="sxs-lookup"><span data-stu-id="1c8ef-167">WCF Data Services Client Library</span></span>](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md)
- [<span data-ttu-id="1c8ef-168">Wykonywanie zapytań do usługi danych</span><span class="sxs-lookup"><span data-stu-id="1c8ef-168">Querying the Data Service</span></span>](../../../../docs/framework/data/wcf/querying-the-data-service-wcf-data-services.md)
- [<span data-ttu-id="1c8ef-169">Operacje asynchroniczne</span><span class="sxs-lookup"><span data-stu-id="1c8ef-169">Asynchronous Operations</span></span>](../../../../docs/framework/data/wcf/asynchronous-operations-wcf-data-services.md)
- [<span data-ttu-id="1c8ef-170">Operacje przetwarzania wsadowego</span><span class="sxs-lookup"><span data-stu-id="1c8ef-170">Batching Operations</span></span>](../../../../docs/framework/data/wcf/batching-operations-wcf-data-services.md)
- [<span data-ttu-id="1c8ef-171">Materializacja obiektu</span><span class="sxs-lookup"><span data-stu-id="1c8ef-171">Object Materialization</span></span>](../../../../docs/framework/data/wcf/object-materialization-wcf-data-services.md)
- [<span data-ttu-id="1c8ef-172">Zarządzanie kontekstem usługi danych</span><span class="sxs-lookup"><span data-stu-id="1c8ef-172">Managing the Data Service Context</span></span>](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md)
