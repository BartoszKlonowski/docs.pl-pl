---
title: Konfigurowanie usługi danych (WCF Data Services)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, configuring
ms.assetid: 59efd4c8-cc7a-4800-a0a4-d3f8abe6c55c
ms.openlocfilehash: 4b63695992b3af28043a46c62b426ff176505048
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/08/2019
ms.locfileid: "59074329"
---
# <a name="configuring-the-data-service-wcf-data-services"></a>Konfigurowanie usługi danych (WCF Data Services)
Za pomocą [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)], można utworzyć usługi danych, które uwidaczniają [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] źródła danych. Dane w tych źródłach mogą pochodzić z różnych źródeł danych. [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] korzysta z dostawców danych w celu ujawnienia tych danych jako [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] źródła danych. Dostawcy te obejmują [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)] dostawcy, dostawcy odbicia i zestaw danych niestandardowych usług dostawcy interfejsów. Implementacja dostawcy definiuje model danych dla usługi. Aby uzyskać więcej informacji, zobacz [dostawców usług danych](../../../../docs/framework/data/wcf/data-services-providers-wcf-data-services.md).  
  
 W [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)], usługi danych jest klasa, która dziedziczy po elemencie <xref:System.Data.Services.DataService%601> klasy, których typem usługi danych jest kontener jednostek w modelu danych. Ten kontener jednostek ma jedną lub więcej właściwości, które zwracają <xref:System.Linq.IQueryable%601>, które są używane do dostępu do jednostki zestawów w modelu danych.  
  
 Zachowania usługi danych są definiowane przez członków <xref:System.Data.Services.DataServiceConfiguration> klasy i członkowie <xref:System.Data.Services.DataServiceBehavior> klasy, który jest dostępny z <xref:System.Data.Services.DataServiceConfiguration.DataServiceBehavior%2A> właściwość <xref:System.Data.Services.DataServiceConfiguration> klasy. <xref:System.Data.Services.DataServiceConfiguration> Klasy jest dostarczony do `InitializeService` metodę, która jest zaimplementowana przez usługę danych, tak jak w poniższej implementacji usługi danych Northwind:  
  
[!code-csharp[Astoria Northwind Service#DataServiceConfigComplete](../../../../samples/snippets/csharp/VS_Snippets_Misc/Astoria Northwind Service/cs/northwind.svc.cs#dataserviceconfigcomplete)]  
[!code-vb[Astoria Northwind Service#DataServiceConfigComplete](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/Astoria Northwind Service/vb/northwind.svc.vb#dataserviceconfigcomplete)]  
  
## <a name="data-service-configuration-settings"></a>Ustawienia konfiguracji usługi danych  
 <xref:System.Data.Services.DataServiceConfiguration> Klasy można określić następujące zachowania usługi danych:  
  
|Element członkowski|Zachowanie|  
|------------|--------------|  
|<xref:System.Data.Services.DataServiceBehavior.AcceptCountRequests%2A>|Umożliwia wyłączenie żądań liczby, które są przesyłane do usługi danych przy użyciu `$count` segmentu ścieżki i `$inlinecount` opcji zapytania. Aby uzyskać więcej informacji, zobacz [OData: Identyfikator URI konwencje](https://go.microsoft.com/fwlink/?LinkId=185564).|  
|<xref:System.Data.Services.DataServiceBehavior.AcceptProjectionRequests%2A>|Umożliwia wyłączanie obsługi protokołu projekcji danych żądań, które są przesyłane do usługi danych przy użyciu `$select` opcji zapytania. Aby uzyskać więcej informacji, zobacz [OData: Identyfikator URI konwencje](https://go.microsoft.com/fwlink/?LinkId=185564).|  
|<xref:System.Data.Services.DataServiceConfiguration.EnableTypeAccess%2A>|Włącza typ danych będzie widoczna w metadanych dla dostawcy dynamiczne metadane zdefiniowane z użyciem <xref:System.Data.Services.Providers.IDataServiceMetadataProvider> interfejsu.|  
|<xref:System.Data.Services.DataServiceConfiguration.EnableTypeConversion%2A>|Umożliwia określenie, czy środowisko wykonawcze usług danych należy przekonwertować na typ, który jest zawarty w ładunku z typem właściwości rzeczywistego, który jest określony w żądaniu.|  
|<xref:System.Data.Services.DataServiceBehavior.InvokeInterceptorsOnLinkDelete%2A>|Można określić, czy zarejestrowane interceptory zmiany są wywoływane na powiązanych jednostkach, po usunięciu łącza relacji między dwiema jednostkami.|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxBatchCount%2A>|Można ograniczyć liczbę zestawów zmian i wykonywania zapytań względem operacji, które są dozwolone w jednej partii. Aby uzyskać więcej informacji, zobacz [OData: Batch](https://go.microsoft.com/fwlink/?LinkId=185602) i [operacje przetwarzania wsadowego](../../../../docs/framework/data/wcf/batching-operations-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxChangesetCount%2A>|Umożliwia ograniczenie liczby zmian, które mogły zostać uwzględnione w zestawie pojedynczej zmiany. Aby uzyskać więcej informacji, zobacz [jak: Włączanie stronicowania wyników usługi danych](../../../../docs/framework/data/wcf/how-to-enable-paging-of-data-service-results-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxExpandCount%2A>|Umożliwia ograniczenie rozmiaru odpowiedzi przez ograniczenie liczby powiązanych jednostek, które mogły zostać uwzględnione w jednym żądaniu za pomocą `$expand` — operator zapytań. Aby uzyskać więcej informacji, zobacz [OData: Identyfikator URI konwencje](https://go.microsoft.com/fwlink/?LinkId=185564) i [ładowanie odroczonej zawartości](../../../../docs/framework/data/wcf/loading-deferred-content-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxExpandDepth%2A>|Umożliwia ograniczenie rozmiaru odpowiedzi przez ograniczenie liczby wykresu pokrewnych jednostek, które mogą być zawarte w pojedynczym żądaniu za pomocą `$expand` — operator zapytań. Aby uzyskać więcej informacji, zobacz [OData: Identyfikator URI konwencje](https://go.microsoft.com/fwlink/?LinkId=185564) i [ładowanie odroczonej zawartości](../../../../docs/framework/data/wcf/loading-deferred-content-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxObjectCountOnInsert%2A>|Umożliwia ograniczenie liczby jednostek, które ma zostać wstawiony, które mogą być zawarte w pojedyncze żądanie POST.|  
|<xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A>|Określa wersję protokołu Atom, który jest używany przez usługę danych. Gdy wartość <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> jest ustawiona na wartość mniejszą niż maksymalna wartość <xref:System.Data.Services.Common.DataServiceProtocolVersion>, z najnowszymi funkcjami [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] nie jest dostępna dla klientów uzyskujących dostęp do usługi danych. Aby uzyskać więcej informacji, zobacz [przechowywanie wersji usługi danych](../../../../docs/framework/data/wcf/data-service-versioning-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxResultsPerCollection%2A>|Umożliwia ograniczenie rozmiaru odpowiedzi poprzez ograniczenie liczby jednostek w każdym zestawie jednostki, która jest zwracana jako źródła danych.|  
|<xref:System.Data.Services.DataServiceConfiguration.RegisterKnownType%2A>|Dodaje typ danych do listy typów, które są rozpoznawane przez usługę danych.|  
|<xref:System.Data.Services.DataServiceConfiguration.SetEntitySetAccessRule%2A>|Ustawia prawa dostępu do jednostek zestawu zasobów, które są dostępne w usłudze data. Znak gwiazdki (`*`) można podać wartość dla parametru name ustawić dostęp dla wszystkich pozostałych zestawy jednostek do tego samego poziomu. Firma Microsoft zaleca ustawienie zestawy jednostek, aby zapewnić co najmniej uprawnień dostępu do zasobów usługi danych, które są wymagane przez aplikacje klienckie. Aby uzyskać więcej informacji, zobacz [zabezpieczania usług danych WCF](../../../../docs/framework/data/wcf/securing-wcf-data-services.md). Aby zapoznać się z przykładami praw minimalnego dostępu do wymaganych dla danej akcji identyfikatora URI i HTTP, zobacz tabelę w [minimalne wymagania dotyczące dostępu do zasobów](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md#accessRequirements) sekcji.|  
|<xref:System.Data.Services.DataServiceConfiguration.SetEntitySetPageSize%2A>|Ustawia maksymalny rozmiar strony dla jednostki zestawu zasobów. Aby uzyskać więcej informacji, zobacz [jak: Włączanie stronicowania wyników usługi danych](../../../../docs/framework/data/wcf/how-to-enable-paging-of-data-service-results-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.SetServiceOperationAccessRule%2A>|Ustawia prawa dostępu do operacji usługi, które są zdefiniowane na usługę danych. Aby uzyskać więcej informacji, zobacz [operacji usługi](../../../../docs/framework/data/wcf/service-operations-wcf-data-services.md). Znak gwiazdki (`*`) można podać wartość dla parametru name ustawić dostępu dla wszystkich operacji usługi do tego samego poziomu. Zalecane ustawienie dostępu do operacji usługi, aby zapewnić co najmniej uprawnień dostępu do zasobów usługi danych, które są wymagane przez aplikacje klienckie. Aby uzyskać więcej informacji, zobacz [zabezpieczania usług danych WCF](../../../../docs/framework/data/wcf/securing-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.UseVerboseErrors%2A>|Właściwość ta konfiguracja umożliwia łatwiejsze Rozwiązywanie problemów z usługi danych przez zwrócenie informacji w komunikacie odpowiedzi błędu. Ta opcja nie jest przeznaczona do użycia w środowisku produkcyjnym. Aby uzyskać więcej informacji, zobacz [opracowywanie i wdrażanie usług danych WCF](../../../../docs/framework/data/wcf/developing-and-deploying-wcf-data-services.md).|  
  
<a name="accessRequirements"></a>   
## <a name="minimum-resource-access-requirements"></a>Wymagania dotyczące dostępu do zasobów minimalne  
 Poniższe szczegóły tabeli minimalny zestaw jednostek, prawa, które muszą otrzymać można wykonać określonej operacji. Przykłady ścieżka opierają się na usługę danych Northwind, który jest tworzony po zakończeniu [Szybki Start](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md). Ponieważ zarówno <xref:System.Data.Services.EntitySetRights> wyliczenie i <xref:System.Data.Services.ServiceOperationRights> wyliczenia są zdefiniowane przy użyciu <xref:System.FlagsAttribute>, można użyć logicznego operatora OR, aby określić wiele uprawnień zestawu pojedynczej jednostki lub operacji. Aby uzyskać więcej informacji, zobacz [jak: Zapewnianie dostępu do usługi danych](../../../../docs/framework/data/wcf/how-to-enable-access-to-the-data-service-wcf-data-services.md).  
  
|Ścieżka/Akcja|`GET`|`DELETE`|`MERGE`|`POST`|`PUT`|  
|------------------|-----------|--------------|-------------|------------|-----------|  
|`/Customers`|<xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nieobsługiwane|Nieobsługiwane|<xref:System.Data.Services.EntitySetRights.WriteAppend>|Nieobsługiwane|  
|`/Customers('ALFKI')`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.ReadSingle> and <xref:System.Data.Services.EntitySetRights.WriteDelete>|<xref:System.Data.Services.EntitySetRights.ReadSingle> and <xref:System.Data.Services.EntitySetRights.WriteMerge>|n/d|<xref:System.Data.Services.EntitySetRights.ReadSingle> and <xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nieobsługiwane|Nieobsługiwane|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteMerge> lub <xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> - i -<br /><br /> `Orders` `:` and <xref:System.Data.Services.EntitySetRights.WriteAppend>|Nieobsługiwane|  
|`/Customers('ALFKI')/Orders(10643)`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteDelete>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteMerge>|Nieobsługiwane|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Orders(10643)/Customer`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteDelete><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteMerge>;<br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.WriteAppend><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.WriteAppend> i <xref:System.Data.Services.EntitySetRights.ReadSingle>|Nieobsługiwane|  
|`/Customers('ALFKI')/$links/Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nieobsługiwane|Nieobsługiwane|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteMerge> lub <xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|Nieobsługiwane|  
|`/Customers('ALFKI')/$links/Orders(10643)`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteMerge> lub <xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|Nieobsługiwane|Nieobsługiwane|Nieobsługiwane|  
|`/Orders(10643)/$links/Customer`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteMerge> lub <xref:System.Data.Services.EntitySetRights.WriteReplace>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteMerge>|Nieobsługiwane|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle>;<br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers/$count`|<xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nieobsługiwane|Nieobsługiwane|Nieobsługiwane|Nieobsługiwane|  
|`/Customers('ALFKI')/ContactName`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|Nieobsługiwane|<xref:System.Data.Services.EntitySetRights.WriteMerge>|Nieobsługiwane|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/Address/StreetAddress/$value` <sup>1</sup>|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.WriteDelete>|Nieobsługiwane|Nieobsługiwane|Nieobsługiwane|  
|`/Customers('ALFKI')/ContactName/$value`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.ReadSingle> and <xref:System.Data.Services.EntitySetRights.WriteDelete>|<xref:System.Data.Services.EntitySetRights.WriteMerge>|Nieobsługiwane|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/$value` <sup>2</sup>|<xref:System.Data.Services.EntitySetRights.ReadSingle>|Nieobsługiwane|Nieobsługiwane|Nieobsługiwane|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers?$select=Orders/*&$expand=Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nieobsługiwane|Nieobsługiwane|`Customers`: <xref:System.Data.Services.EntitySetRights.WriteAppend>|Nieobsługiwane|  
|`/Customers('ALFKI')?$select=Orders/*&$expand=Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> - i -<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nieobsługiwane|Nieobsługiwane|Nieobsługiwane|Nieobsługiwane|  
  
 <sup>1</sup> w tym przykładzie `Address` reprezentuje właściwość typu złożonego `Customers` jednostki, która ma właściwość o nazwie `StreetAddress`. Model używany przez usługi danych Northwind nie definiuje jawnie tego typu złożonego. Jeśli model danych jest zdefiniowana za pomocą [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)] dostawcy, można użyć [!INCLUDE[adonet_edm](../../../../includes/adonet-edm-md.md)] narzędzia do definiowania typu złożonego. Aby uzyskać więcej informacji, zobacz [jak: Tworzenie i modyfikowanie typów złożonych](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd456820(v=vs.100)).  
  
 <sup>2</sup> ten identyfikator URI jest obsługiwana, gdy właściwość, która zwraca duży obiekt binarny (BLOB) jest zdefiniowany jako zasób nośnika, który należy do jednostki, która jest wpisu łącza nośnika, w tym przypadku jest `Customers`. Aby uzyskać więcej informacji, zobacz [dostawca przesyłania strumieniowego](../../../../docs/framework/data/wcf/streaming-provider-wcf-data-services.md).  
  
<a name="versioning"></a>   
## <a name="versioning-requirements"></a>Wymagania dotyczące przechowywania wersji  
 Następujące zachowania konfiguracji usługi danych wymaga wersji 2 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protokołu lub nowszej wersji:  
  
-   Pomoc techniczna dla liczby żądań.  
  
-   Obsługa opcji zapytania $select projekcji.  
  
 Aby uzyskać więcej informacji, zobacz [przechowywanie wersji usługi danych](../../../../docs/framework/data/wcf/data-service-versioning-wcf-data-services.md).  
  
## <a name="see-also"></a>Zobacz także

- [Definiowanie usług danych WCF](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)
- [Hosting usługi danych](../../../../docs/framework/data/wcf/hosting-the-data-service-wcf-data-services.md)
