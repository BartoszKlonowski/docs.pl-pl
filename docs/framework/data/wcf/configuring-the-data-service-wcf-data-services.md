---
title: Konfigurowanie usługi danych (WCF Data Services)
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF Data Services, configuring
ms.assetid: 59efd4c8-cc7a-4800-a0a4-d3f8abe6c55c
ms.openlocfilehash: 6f73fa43bcb99e53adabe8b49ffee75c65802eca
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/14/2020
ms.locfileid: "79399890"
---
# <a name="configuring-the-data-service-wcf-data-services"></a>Konfigurowanie usługi danych (WCF Data Services)
Za pomocą usług WCF Data Services można tworzyć usługi danych, które ujawniają źródła danych open data protocol (OData). Dane w tych źródłach danych mogą pochodzić z różnych źródeł danych. Usługa WCF Data Services używa dostawców danych do udostępnienia tych danych jako źródła danych OData. Dostawcy ci obejmują dostawcę struktury jednostek, dostawcę odbicia i zestaw interfejsów dostawcy usług danych niestandardowych. Implementacja dostawcy definiuje model danych dla usługi. Aby uzyskać więcej informacji, zobacz [Dostawcy usług danych](data-services-providers-wcf-data-services.md).  
  
 W WCF Data Services usługa danych jest klasą, która dziedziczy z <xref:System.Data.Services.DataService%601> klasy, gdzie typ usługi danych jest kontenerem jednostki modelu danych. Ten kontener jednostki ma jedną lub <xref:System.Linq.IQueryable%601>więcej właściwości, które zwracają , które są używane do uzyskiwania dostępu do zestawów jednostek w modelu danych.  
  
 Zachowania usługi danych są definiowane przez członków <xref:System.Data.Services.DataServiceConfiguration> klasy i przez <xref:System.Data.Services.DataServiceBehavior> członków klasy, który jest <xref:System.Data.Services.DataServiceConfiguration.DataServiceBehavior%2A> dostępny <xref:System.Data.Services.DataServiceConfiguration> z właściwości klasy. Klasa <xref:System.Data.Services.DataServiceConfiguration> jest dostarczana `InitializeService` do metody, która jest implementowana przez usługę danych, jak w następującej implementacji usługi danych Northwind:  
  
[!code-csharp[Astoria Northwind Service#DataServiceConfigComplete](../../../../samples/snippets/csharp/VS_Snippets_Misc/astoria_northwind_service/cs/northwind.svc.cs#dataserviceconfigcomplete)]  
[!code-vb[Astoria Northwind Service#DataServiceConfigComplete](../../../../samples/snippets/visualbasic/VS_Snippets_Misc/astoria_northwind_service/vb/northwind.svc.vb#dataserviceconfigcomplete)]  
  
## <a name="data-service-configuration-settings"></a>Ustawienia konfiguracji usługi danych  
 Klasa <xref:System.Data.Services.DataServiceConfiguration> umożliwia określenie następujących zachowań usługi danych:  
  
|Członek|Zachowanie|  
|------------|--------------|  
|<xref:System.Data.Services.DataServiceBehavior.AcceptCountRequests%2A>|Umożliwia wyłączenie żądań zliczania, które są przesyłane do usługi danych przy użyciu segmentu `$count` ścieżki i opcji `$inlinecount` kwerendy. Aby uzyskać więcej informacji, zobacz [OData: Konwencje URI](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/).|  
|<xref:System.Data.Services.DataServiceBehavior.AcceptProjectionRequests%2A>|Umożliwia wyłączenie obsługi projekcji danych w żądaniach, które są `$select` przesyłane do usługi danych przy użyciu opcji kwerendy. Aby uzyskać więcej informacji, zobacz [OData: Konwencje URI](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/).|  
|<xref:System.Data.Services.DataServiceConfiguration.EnableTypeAccess%2A>|Umożliwia wyświetlanie typu danych w metadanych dla dostawcy metadanych <xref:System.Data.Services.Providers.IDataServiceMetadataProvider> dynamicznych zdefiniowanych przy użyciu interfejsu.|  
|<xref:System.Data.Services.DataServiceConfiguration.EnableTypeConversion%2A>|Umożliwia określenie, czy środowisko uruchomieniowe usługi danych należy przekonwertować typ, który jest zawarty w ładunku do rzeczywistego typu właściwości, który jest określony w żądaniu.|  
|<xref:System.Data.Services.DataServiceBehavior.InvokeInterceptorsOnLinkDelete%2A>|Umożliwia określenie, czy zarejestrowane interceptory zmian są wywoływane na powiązanych jednostkach, gdy łącze relacji między dwiema jednostkami jest usuwane.|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxBatchCount%2A>|Umożliwia ograniczenie liczby zestawów zmian i operacji kwerend, które są dozwolone w pojedynczej partii. Aby uzyskać więcej informacji, zobacz [OData: Operacje wsadowe](https://www.odata.org/documentation/odata-version-2-0/batch-processing/) i [wsadowe](batching-operations-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxChangesetCount%2A>|Umożliwia ograniczenie liczby zmian, które mogą być uwzględnione w jednym zestawie zmian. Aby uzyskać więcej informacji, zobacz [Jak: Włączanie stronicowania wyników usługi danych](how-to-enable-paging-of-data-service-results-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxExpandCount%2A>|Umożliwia ograniczenie rozmiaru odpowiedzi przez ograniczenie liczby powiązanych jednostek, które mogą być uwzględnione w `$expand` jednym żądaniu przy użyciu operatora kwerendy. Aby uzyskać więcej informacji, zobacz [OData: Konwencje URI](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/) i [ładowanie odroczonej zawartości](loading-deferred-content-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxExpandDepth%2A>|Umożliwia ograniczenie rozmiaru odpowiedzi przez ograniczenie głębokości wykresu powiązanych jednostek, które mogą być uwzględnione w `$expand` jednym żądaniu przy użyciu operatora kwerendy. Aby uzyskać więcej informacji, zobacz [OData: Konwencje URI](https://www.odata.org/documentation/odata-version-2-0/uri-conventions/) i [ładowanie odroczonej zawartości](loading-deferred-content-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxObjectCountOnInsert%2A>|Umożliwia ograniczenie liczby jednostek, które mają zostać wstawione, które mogą być zawarte w jednym żądaniu POST.|  
|<xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A>|Definiuje wersję protokołu Atom, który jest używany przez usługę danych. Gdy wartość <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> jest ustawiona na wartość mniejszą niż <xref:System.Data.Services.Common.DataServiceProtocolVersion>maksymalna wartość , najnowsza funkcjonalność WCF Data Services nie jest dostępna dla klientów uzyskujących dostęp do usługi danych. Aby uzyskać więcej informacji, zobacz [Przechowywanie wersji usługi danych](data-service-versioning-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.MaxResultsPerCollection%2A>|Umożliwia ograniczenie rozmiaru odpowiedzi przez ograniczenie liczby jednostek w każdym zestawie jednostek, który jest zwracany jako źródło danych.|  
|<xref:System.Data.Services.DataServiceConfiguration.RegisterKnownType%2A>|Dodaje typ danych do listy typów rozpoznawanych przez usługę danych.|  
|<xref:System.Data.Services.DataServiceConfiguration.SetEntitySetAccessRule%2A>|Ustawia prawa dostępu dla zasobów zestawu jednostek, które są dostępne w usłudze danych. Dla parametru`*`name można podać wartość gwiazdki ( ) dla parametru name, aby ustawić dostęp dla wszystkich pozostałych zestawów jednostek na tym samym poziomie. Zaleca się ustawienie dostępu do zestawów jednostek, aby zapewnić najmniejszy dostęp do zasobów usługi danych, które są wymagane przez aplikacje klienckie. Aby uzyskać więcej informacji, zobacz [zabezpieczanie usług danych WCF](securing-wcf-data-services.md). Przykłady minimalnych praw dostępu wymaganych dla danej akcji URI i HTTP można znaleźć w tabeli w sekcji [Minimalne wymagania dostępu do zasobów.](configuring-the-data-service-wcf-data-services.md#accessRequirements)|  
|<xref:System.Data.Services.DataServiceConfiguration.SetEntitySetPageSize%2A>|Ustawia maksymalny rozmiar strony dla zasobu zestawu encji. Aby uzyskać więcej informacji, zobacz [Jak: Włączanie stronicowania wyników usługi danych](how-to-enable-paging-of-data-service-results-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.SetServiceOperationAccessRule%2A>|Ustawia prawa dostępu dla operacji usługi, które są zdefiniowane w usłudze danych. Aby uzyskać więcej informacji, zobacz [Operacje serwisowe](service-operations-wcf-data-services.md). Dla parametru`*`name można podać wartość gwiazdki ( ) dla parametru name, aby ustawić dostęp dla wszystkich operacji serwisu na tym samym poziomie. Zaleca się ustawienie dostępu do operacji usługi, aby zapewnić najmniejszy dostęp do zasobów usługi danych, które są wymagane przez aplikacje klienckie. Aby uzyskać więcej informacji, zobacz [zabezpieczanie usług danych WCF](securing-wcf-data-services.md).|  
|<xref:System.Data.Services.DataServiceConfiguration.UseVerboseErrors%2A>|Ta właściwość konfiguracji umożliwia łatwiejsze rozwiązywanie problemów z usługą danych, zwracając więcej informacji w komunikacie odpowiedzi na błąd. Ta opcja nie jest przeznaczona do użycia w środowisku produkcyjnym. Aby uzyskać więcej informacji, zobacz [Tworzenie i wdrażanie usług danych WCF](developing-and-deploying-wcf-data-services.md).|  
  
<a name="accessRequirements"></a>
## <a name="minimum-resource-access-requirements"></a>Minimalne wymagania dotyczące dostępu do zasobów  
 W poniższej tabeli przedstawiono minimalne prawa zestawu jednostek, które muszą zostać przyznane w celu wykonania określonej operacji. Przykłady ścieżek są oparte na usłudze danych Northwind, która jest tworzona po zakończeniu [programu Szybki start](quickstart-wcf-data-services.md). Ponieważ zarówno <xref:System.Data.Services.EntitySetRights> wyliczenie, <xref:System.Data.Services.ServiceOperationRights> jak i wyliczenie <xref:System.FlagsAttribute>są definiowane za pomocą operatora , można użyć operatora logicznego OR, aby określić wiele uprawnień dla zestawu lub operacji pojedynczej jednostki. Aby uzyskać więcej informacji, zobacz [Jak: Włączanie dostępu do usługi danych](how-to-enable-access-to-the-data-service-wcf-data-services.md).  
  
|Ścieżka/akcja|`GET`|`DELETE`|`MERGE`|`POST`|`PUT`|  
|------------------|-----------|--------------|-------------|------------|-----------|  
|`/Customers`|<xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nieobsługiwane|Nieobsługiwane|<xref:System.Data.Services.EntitySetRights.WriteAppend>|Nieobsługiwane|  
|`/Customers('ALFKI')`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteDelete>|<xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteMerge>|Nie dotyczy|<xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nieobsługiwane|Nieobsługiwane|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> <xref:System.Data.Services.EntitySetRights.WriteMerge> i lub<xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> -i-<br /><br /> `Orders``:` a)<xref:System.Data.Services.EntitySetRights.WriteAppend>|Nieobsługiwane|  
|`/Customers('ALFKI')/Orders(10643)`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i<xref:System.Data.Services.EntitySetRights.WriteDelete>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i<xref:System.Data.Services.EntitySetRights.WriteMerge>|Nieobsługiwane|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Orders(10643)/Customer`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i<xref:System.Data.Services.EntitySetRights.WriteDelete><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> <xref:System.Data.Services.EntitySetRights.WriteMerge>i ;<br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.WriteAppend><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.WriteAppend> i<xref:System.Data.Services.EntitySetRights.ReadSingle>|Nieobsługiwane|  
|`/Customers('ALFKI')/$links/Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nieobsługiwane|Nieobsługiwane|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> <xref:System.Data.Services.EntitySetRights.WriteMerge> i lub<xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|Nieobsługiwane|  
|`/Customers('ALFKI')/$links/Orders(10643)`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle> <xref:System.Data.Services.EntitySetRights.WriteMerge> i lub<xref:System.Data.Services.EntitySetRights.WriteReplace><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|Nieobsługiwane|Nieobsługiwane|Nieobsługiwane|  
|`/Orders(10643)/$links/Customer`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle>|`Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> <xref:System.Data.Services.EntitySetRights.WriteMerge> i lub<xref:System.Data.Services.EntitySetRights.WriteReplace>|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i<xref:System.Data.Services.EntitySetRights.WriteMerge>|Nieobsługiwane|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle>;<br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadSingle> i<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers/$count`|<xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nieobsługiwane|Nieobsługiwane|Nieobsługiwane|Nieobsługiwane|  
|`/Customers('ALFKI')/ContactName`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|Nieobsługiwane|<xref:System.Data.Services.EntitySetRights.WriteMerge>|Nieobsługiwane|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/Address/StreetAddress/$value`<sup>1.</sup>|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.WriteDelete>|Nieobsługiwane|Nieobsługiwane|Nieobsługiwane|  
|`/Customers('ALFKI')/ContactName/$value`|<xref:System.Data.Services.EntitySetRights.ReadSingle>|<xref:System.Data.Services.EntitySetRights.ReadSingle> i <xref:System.Data.Services.EntitySetRights.WriteDelete>|<xref:System.Data.Services.EntitySetRights.WriteMerge>|Nieobsługiwane|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers('ALFKI')/$value`<sup>2.</sup>|<xref:System.Data.Services.EntitySetRights.ReadSingle>|Nieobsługiwane|Nieobsługiwane|Nieobsługiwane|<xref:System.Data.Services.EntitySetRights.WriteReplace>|  
|`/Customers?$select=Orders/*&$expand=Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nieobsługiwane|Nieobsługiwane|`Customers`: <xref:System.Data.Services.EntitySetRights.WriteAppend>|Nieobsługiwane|  
|`/Customers('ALFKI')?$select=Orders/*&$expand=Orders`|`Customers`: <xref:System.Data.Services.EntitySetRights.ReadSingle><br /><br /> -i-<br /><br /> `Orders`: <xref:System.Data.Services.EntitySetRights.ReadMultiple>|Nieobsługiwane|Nieobsługiwane|Nieobsługiwane|Nieobsługiwane|  
  
 <sup>1</sup> W tym `Address` przykładzie reprezentuje złożoną właściwość `Customers` typu `StreetAddress`jednostki o nazwie . Model używany przez usługi danych Northwind nie jawnie definiuje ten złożony typ. Gdy model danych jest zdefiniowany przy użyciu dostawcy struktury encji, można użyć narzędzia modelu danych jednostki do zdefiniowania takiego typu złożonego. Aby uzyskać więcej informacji, zobacz [Jak: Tworzenie i modyfikowanie typów złożonych](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd456820(v=vs.100)).  
  
 <sup>2</sup> Ten identyfikator URI jest obsługiwany, gdy właściwość zwracana jest binarnym obiektem dużym (BLOB) jest zdefiniowana jako `Customers`zasób nośnika należący do encji, która jest wpisem łącza nośnika, który w tym przypadku jest . Aby uzyskać więcej informacji, zobacz [Dostawca przesyłania strumieniowego](streaming-provider-wcf-data-services.md).  
  
<a name="versioning"></a>
## <a name="versioning-requirements"></a>Wymagania dotyczące przechowywania wersji  
 Następujące zachowania konfiguracji usługi danych wymagają wersji 2 protokołu OData lub nowszych wersji:  
  
- Obsługa żądań zliczania.  
  
- Obsługa opcji kwerendy $select dla projekcji.  
  
 Aby uzyskać więcej informacji, zobacz [Przechowywanie wersji usługi danych](data-service-versioning-wcf-data-services.md).  
  
## <a name="see-also"></a>Zobacz też

- [Definiowanie usług danych WCF](defining-wcf-data-services.md)
- [Hosting usługi danych](hosting-the-data-service-wcf-data-services.md)
