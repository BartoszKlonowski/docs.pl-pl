---
title: Używanie akcji do implementacji zachowania po stronie serwera
ms.date: 03/30/2017
ms.assetid: 11a372db-7168-498b-80d2-9419ff557ba5
ms.openlocfilehash: 7068845054e04a002296e7c157655eef6a98db78
ms.sourcegitcommit: 559259da2738a7b33a46c0130e51d336091c2097
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/22/2019
ms.locfileid: "72774139"
---
# <a name="using-actions-to-implement-server-side-behavior"></a><span data-ttu-id="c5a52-102">Używanie akcji do implementacji zachowania po stronie serwera</span><span class="sxs-lookup"><span data-stu-id="c5a52-102">Using actions to implement server-side behavior</span></span>

<span data-ttu-id="c5a52-103">Akcje OData umożliwiają wdrożenie zachowania, które działa w przypadku zasobu pobranego z usługi OData.</span><span class="sxs-lookup"><span data-stu-id="c5a52-103">OData Actions provide a way to implement a behavior that acts upon a resource retrieved from an OData service.</span></span> <span data-ttu-id="c5a52-104">Na przykład w przypadku filmu cyfrowego należy wziąć pod uwagę wiele rzeczy, które można wykonać za pomocą filmu cyfrowego: wyewidencjonowywanie, wskaźnik/komentarz lub ewidencjonowanie.</span><span class="sxs-lookup"><span data-stu-id="c5a52-104">For example consider a digital movie as a resource, there are many things you may do with a digital movie: check-out, rate/comment, or check-in.</span></span> <span data-ttu-id="c5a52-105">Są to wszystkie przykłady akcji, które mogą być implementowane przez usługę danych programu WCF, która zarządza cyfrowymi filmami.</span><span class="sxs-lookup"><span data-stu-id="c5a52-105">These are all examples of Actions that may be implemented by a WCF Data Service that manages digital movies.</span></span> <span data-ttu-id="c5a52-106">Akcje są opisane w odpowiedzi OData, która zawiera zasób, w którym można wywołać akcję.</span><span class="sxs-lookup"><span data-stu-id="c5a52-106">Actions are described in an OData response that contains a resource on which the Action can be invoked.</span></span> <span data-ttu-id="c5a52-107">Gdy użytkownik zażąda zasobu, który reprezentuje film cyfrowy, odpowiedź zwrócona z usługi danych programu WCF zawiera informacje o akcjach, które są dostępne dla tego zasobu.</span><span class="sxs-lookup"><span data-stu-id="c5a52-107">When a user requests a resource that represents a digital movie the response returned from the WCF Data Service contains information about the Actions that are available for that resource.</span></span> <span data-ttu-id="c5a52-108">Dostępność akcji może zależeć od stanu usługi danych lub zasobu.</span><span class="sxs-lookup"><span data-stu-id="c5a52-108">The availability of an Action can depend on the state of the data service or resource.</span></span> <span data-ttu-id="c5a52-109">Na przykład po wyewidencjonowaniu filmu cyfrowego nie można go wyewidencjonować przez innego użytkownika.</span><span class="sxs-lookup"><span data-stu-id="c5a52-109">For example once a digital movie is checked out it cannot be checked out by another user.</span></span> <span data-ttu-id="c5a52-110">Klienci mogą wywołać akcję po prostu podając adres URL.</span><span class="sxs-lookup"><span data-stu-id="c5a52-110">Clients can invoke an action simply by specifying a URL.</span></span> <span data-ttu-id="c5a52-111">Na przykład `http://MyServer/MovieService.svc/Movies(6)` będzie identyfikować określony film cyfrowy i `http://MyServer/MovieService.svc/Movies(6)/Checkout` wywoła akcję dla określonego filmu.</span><span class="sxs-lookup"><span data-stu-id="c5a52-111">For example, `http://MyServer/MovieService.svc/Movies(6)` would identify a specific digital movie and `http://MyServer/MovieService.svc/Movies(6)/Checkout` would invoke the action on the specific movie.</span></span> <span data-ttu-id="c5a52-112">Akcje umożliwiają udostępnienie modelu usług bez uwidaczniania modelu danych.</span><span class="sxs-lookup"><span data-stu-id="c5a52-112">Actions allow you to expose you service model without exposing your data model.</span></span> <span data-ttu-id="c5a52-113">Kontynuując korzystanie z przykładu usługi filmowej, możesz chcieć zezwolić użytkownikowi na ocenianie filmu, ale nie ujawniać bezpośrednio danych klasyfikacji jako zasobu.</span><span class="sxs-lookup"><span data-stu-id="c5a52-113">Continuing with the movie service example, you may wish to allow a user to rate a movie, but not directly expose the rating data as a resource.</span></span> <span data-ttu-id="c5a52-114">Można zaimplementować akcję rate, aby umożliwić użytkownikowi ocenę filmu, ale nie uzyskanie bezpośredniego dostępu do danych klasyfikacji jako zasobu.</span><span class="sxs-lookup"><span data-stu-id="c5a52-114">You could implement a Rate Action to allow the user to rate a movie but not directly access the rating data as a resource.</span></span>

## <a name="implementing-an-action"></a><span data-ttu-id="c5a52-115">Implementowanie akcji</span><span class="sxs-lookup"><span data-stu-id="c5a52-115">Implementing an action</span></span>
 <span data-ttu-id="c5a52-116">Aby zaimplementować akcję usługi, należy zaimplementować interfejsy <xref:System.IServiceProvider>, [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103))i [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) .</span><span class="sxs-lookup"><span data-stu-id="c5a52-116">To implement a service action you must implement the <xref:System.IServiceProvider>, [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)), and [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) interfaces.</span></span> <span data-ttu-id="c5a52-117"><xref:System.IServiceProvider> pozwala Usługi danych programu WCF na pobieranie implementacji [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)).</span><span class="sxs-lookup"><span data-stu-id="c5a52-117"><xref:System.IServiceProvider> allows WCF Data Services to get your implementation of [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)).</span></span> <span data-ttu-id="c5a52-118">[IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) umożliwia usługi danych programu WCF tworzenie, Znajdowanie, opisywanie i wywoływanie akcji usługi.</span><span class="sxs-lookup"><span data-stu-id="c5a52-118">[IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) allows WCF Data Services to create, find, describe and invoke service actions.</span></span> <span data-ttu-id="c5a52-119">[IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) umożliwia wywołanie kodu, który implementuje zachowanie działania usługi i pobiera wyniki, jeśli istnieją.</span><span class="sxs-lookup"><span data-stu-id="c5a52-119">[IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) allows you to invoke the code that implements the service actions’ behavior and get the results, if any.</span></span> <span data-ttu-id="c5a52-120">Należy pamiętać, że Usługi danych programu WCF są usługi WCF dla wywołań, nowe wystąpienie usługi zostanie utworzone za każdym razem, gdy usługa zostanie wywołana.</span><span class="sxs-lookup"><span data-stu-id="c5a52-120">Keep in mind that WCF Data Services are Per-Call WCF Services, a new instance of the service will be created each time the service is called.</span></span>  <span data-ttu-id="c5a52-121">Upewnij się, że nie ma żadnych niepotrzebnych zadań podczas tworzenia usługi.</span><span class="sxs-lookup"><span data-stu-id="c5a52-121">Make sure no unnecessary work is done when the service is created.</span></span>

### <a name="iserviceprovider"></a><span data-ttu-id="c5a52-122">IServiceProvider</span><span class="sxs-lookup"><span data-stu-id="c5a52-122">IServiceProvider</span></span>
 <span data-ttu-id="c5a52-123"><xref:System.IServiceProvider> zawiera metodę o nazwie <xref:System.IServiceProvider.GetService%2A>.</span><span class="sxs-lookup"><span data-stu-id="c5a52-123"><xref:System.IServiceProvider> contains a method called <xref:System.IServiceProvider.GetService%2A>.</span></span> <span data-ttu-id="c5a52-124">Ta metoda jest wywoływana przez Usługi danych programu WCF w celu pobrania wielu dostawców usług, w tym dostawców usług metadanych i dostawców akcji usługi danych.</span><span class="sxs-lookup"><span data-stu-id="c5a52-124">This method is called by WCF Data Services to retrieve a number of service providers, including metadata service providers and data service action providers.</span></span> <span data-ttu-id="c5a52-125">Po wyświetleniu monitu o dostawcę akcji usługi danych Zwróć implementację programu [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) .</span><span class="sxs-lookup"><span data-stu-id="c5a52-125">When asked for a data service action provider, return your [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) implementation.</span></span>

### <a name="idataserviceactionprovider"></a><span data-ttu-id="c5a52-126">IDataServiceActionProvider</span><span class="sxs-lookup"><span data-stu-id="c5a52-126">IDataServiceActionProvider</span></span>
 <span data-ttu-id="c5a52-127">[IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) zawiera metody, które umożliwiają pobieranie informacji o dostępnych akcjach.</span><span class="sxs-lookup"><span data-stu-id="c5a52-127">[IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) contains methods that allow you to retrieve information about the available actions.</span></span> <span data-ttu-id="c5a52-128">Podczas implementowania [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) są rozszerzane metadane usługi, która jest definiowana przez implementację usługi [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) z akcjami i obsługa wysyłania do tych akcji jako wymaga.</span><span class="sxs-lookup"><span data-stu-id="c5a52-128">When you implement [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) you are augmenting the metadata for your service which is defined by your service’s implementation of [IDataServiceActionProvider](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859915(v=vs.103)) with Actions and handling dispatch to those actions as appropriate.</span></span>

#### <a name="advertiseserviceaction"></a><span data-ttu-id="c5a52-129">AdvertiseServiceAction</span><span class="sxs-lookup"><span data-stu-id="c5a52-129">AdvertiseServiceAction</span></span>
 <span data-ttu-id="c5a52-130">[Metoda AdvertiseServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859971(v=vs.103)) jest wywoływana w celu określenia, jakie akcje są dostępne dla określonego zasobu.</span><span class="sxs-lookup"><span data-stu-id="c5a52-130">The [AdvertiseServiceAction method](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859971(v=vs.103)) is called to determine what actions are available for the specified resource.</span></span> <span data-ttu-id="c5a52-131">Ta metoda jest wywoływana tylko w przypadku akcji, które nie są zawsze dostępne.</span><span class="sxs-lookup"><span data-stu-id="c5a52-131">This method is only called for actions that are not always available.</span></span> <span data-ttu-id="c5a52-132">Służy do sprawdzania, czy akcja powinna zostać uwzględniona w odpowiedzi OData w zależności od stanu żądanego zasobu lub stanu usługi.</span><span class="sxs-lookup"><span data-stu-id="c5a52-132">It is used to check if the action should be included in the OData response based upon the state of the resource being requested or the state of the service.</span></span> <span data-ttu-id="c5a52-133">Jak to sprawdzanie jest wykonywane całkowicie do Ciebie.</span><span class="sxs-lookup"><span data-stu-id="c5a52-133">How this check is accomplished is completely up to you.</span></span> <span data-ttu-id="c5a52-134">Jeśli Obliczanie dostępności jest kosztowne, a bieżący zasób jest w strumieniu, można pominąć sprawdzanie i zaanonsować akcję.</span><span class="sxs-lookup"><span data-stu-id="c5a52-134">If it is an expensive to calculate availability and the current resource is in a feed, it is acceptable to skip the check and advertise the action.</span></span> <span data-ttu-id="c5a52-135">Parametr `inFeed` jest ustawiany na `true`, jeśli bieżący zwracany zasób jest częścią źródła danych.</span><span class="sxs-lookup"><span data-stu-id="c5a52-135">The `inFeed` parameter is set to `true` if the current resource being returned is part of a feed.</span></span>

#### <a name="createinvokable"></a><span data-ttu-id="c5a52-136">CreateInvokable</span><span class="sxs-lookup"><span data-stu-id="c5a52-136">CreateInvokable</span></span>
 <span data-ttu-id="c5a52-137">[CreateInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859940(v=vs.103)) jest wywoływana, aby utworzyć [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) , który zawiera delegata, który hermetyzuje kod implementujący zachowanie akcji.</span><span class="sxs-lookup"><span data-stu-id="c5a52-137">[CreateInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859940(v=vs.103)) is called to create a [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) that contains a delegate that encapsulates the code that implements the action’s behavior.</span></span> <span data-ttu-id="c5a52-138">Spowoduje to utworzenie wystąpienia [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) , ale nie wywołanie akcji.</span><span class="sxs-lookup"><span data-stu-id="c5a52-138">This creates the [IDataServiceInvokable](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859893(v=vs.103)) instance but does not invoke the action.</span></span> <span data-ttu-id="c5a52-139">Akcje usługi danych programu WCF mają efekty uboczne i muszą współpracować z dostawcą aktualizacji w celu zapisania tych zmian na dysku.</span><span class="sxs-lookup"><span data-stu-id="c5a52-139">WCF Data Service Actions have side effects and need to work in conjunction with the Update Provider to save those changes to disk.</span></span> <span data-ttu-id="c5a52-140">Metoda [IDataServiceInvokable. Invoke](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859924(v=vs.103)) jest wywoływana z metody metody SaveChanges () dostawcy aktualizacji.</span><span class="sxs-lookup"><span data-stu-id="c5a52-140">The [IDataServiceInvokable.Invoke](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh859924(v=vs.103)) method is called from the Update Provider’s SaveChanges() method is called.</span></span>

#### <a name="getserviceactions"></a><span data-ttu-id="c5a52-141">GetServiceActions</span><span class="sxs-lookup"><span data-stu-id="c5a52-141">GetServiceActions</span></span>
 <span data-ttu-id="c5a52-142">Ta metoda zwraca kolekcję wystąpień [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) , które reprezentują wszystkie akcje ujawniane przez usługę danych programu WCF.</span><span class="sxs-lookup"><span data-stu-id="c5a52-142">This method returns a collection of [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) instances that represent all of the actions a WCF Data Service exposes.</span></span> <span data-ttu-id="c5a52-143">[Akcja ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) to reprezentacja metadanych akcji i zawiera informacje, takie jak nazwa akcji, jej parametry i typ zwracany.</span><span class="sxs-lookup"><span data-stu-id="c5a52-143">[ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) is the metadata representation of an Action and includes information like the Action name, its parameters, and its return type.</span></span>

#### <a name="getserviceactionsbybindingparametertype"></a><span data-ttu-id="c5a52-144">GetServiceActionsByBindingParameterType</span><span class="sxs-lookup"><span data-stu-id="c5a52-144">GetServiceActionsByBindingParameterType</span></span>
 <span data-ttu-id="c5a52-145">Ta metoda zwraca kolekcję wszystkich wystąpień [akcji](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) , które można powiązać z określonym typem parametru powiązania.</span><span class="sxs-lookup"><span data-stu-id="c5a52-145">This method returns a collection of all [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) instances that can be bound to the specified binding parameter type.</span></span> <span data-ttu-id="c5a52-146">Innymi słowy, wszystkie [Akcje ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103))s, które mogą działać na określonym typie zasobu (nazywany również typem parametru wiązania). Jest on używany, gdy usługa zwraca zasób w celu uwzględnienia informacji o akcjach, które mogą być wywoływane względem tego zasobu.</span><span class="sxs-lookup"><span data-stu-id="c5a52-146">In other words, all [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103))s that can act on the specified resource type (also called binding parameter type).This is used when the service returns a resource in order to include information about Actions that can be invoked against that resource.</span></span> <span data-ttu-id="c5a52-147">Ta metoda powinna zwracać tylko akcje, które można powiązać z dokładnym typem parametru powiązania (brak typów pochodnych).</span><span class="sxs-lookup"><span data-stu-id="c5a52-147">This method should only return actions that can bind to the exact binding parameter type (no derived types).</span></span> <span data-ttu-id="c5a52-148">Ta metoda jest wywoływana raz dla każdego żądania na typ, a wynik jest buforowany przez Usługi danych programu WCF.</span><span class="sxs-lookup"><span data-stu-id="c5a52-148">This method is called once per request per type encountered and the result is cached by WCF Data Services.</span></span>

#### <a name="tryresolveserviceaction"></a><span data-ttu-id="c5a52-149">TryResolveServiceAction</span><span class="sxs-lookup"><span data-stu-id="c5a52-149">TryResolveServiceAction</span></span>
 <span data-ttu-id="c5a52-150">Ta metoda wyszukuje określoną [akcję ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) i zwraca `true`, jeśli zostanie znaleziona [Akcja ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) .</span><span class="sxs-lookup"><span data-stu-id="c5a52-150">This method searches for a specified [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) and returns `true` if the [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) is found.</span></span> <span data-ttu-id="c5a52-151">Jeśli ta wartość zostanie znaleziona, [Akcja ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) zostanie zwrócona w parametrze `out` `serviceAction`.</span><span class="sxs-lookup"><span data-stu-id="c5a52-151">If found, the [ServiceAction](https://docs.microsoft.com/previous-versions/dotnet/wcf-data-services/hh544089(v=vs.103)) is returned in the `serviceAction` `out` parameter.</span></span>

### <a name="idataserviceinvokable"></a><span data-ttu-id="c5a52-152">IDataServiceInvokable</span><span class="sxs-lookup"><span data-stu-id="c5a52-152">IDataServiceInvokable</span></span>
 <span data-ttu-id="c5a52-153">Ten interfejs zapewnia sposób wykonywania akcji usługi danych programu WCF.</span><span class="sxs-lookup"><span data-stu-id="c5a52-153">This interface provides a way to execute a WCF Data Service Action.</span></span> <span data-ttu-id="c5a52-154">Podczas wdrażania IDataServiceInvokable użytkownik jest odpowiedzialny za 3 rzeczy:</span><span class="sxs-lookup"><span data-stu-id="c5a52-154">When implementing IDataServiceInvokable you are responsible for 3 things:</span></span>

1. <span data-ttu-id="c5a52-155">Przechwytywanie i potencjalnie organizowanie parametrów</span><span class="sxs-lookup"><span data-stu-id="c5a52-155">Capturing and potentially marshaling the parameters</span></span>

2. <span data-ttu-id="c5a52-156">Wysyłanie parametrów do kodu, który faktycznie implementuje akcję, gdy wywoływana jest metoda Invoke ()</span><span class="sxs-lookup"><span data-stu-id="c5a52-156">Dispatching the parameters to the code that actually implements the Action when Invoke() is called</span></span>

3. <span data-ttu-id="c5a52-157">Przechowywanie jakichkolwiek wyników z wywołania (), aby można je było pobrać przy użyciu metody GetResult ()</span><span class="sxs-lookup"><span data-stu-id="c5a52-157">Storing any results from Invoke() so they can be retrieved using GetResult()</span></span>

 <span data-ttu-id="c5a52-158">Parametry mogą być przesyłane jako tokeny.</span><span class="sxs-lookup"><span data-stu-id="c5a52-158">The parameters may be passed as tokens.</span></span> <span data-ttu-id="c5a52-159">Wynika to z faktu, że można napisać dostawcę usługi danych, który działa z tokenami reprezentującymi zasoby. Jeśli tak jest, może być konieczne przekonwertowanie (kierowanie) tych tokenów na rzeczywiste zasoby przed wysłaniem ich do rzeczywistej akcji.</span><span class="sxs-lookup"><span data-stu-id="c5a52-159">This is because it is possible to write a Data Service Provider that works with tokens that represent resources, if this is the case you may need to convert (marshal) these tokens into actual resources before dispatching to the actual action.</span></span> <span data-ttu-id="c5a52-160">Po przekierowaniu parametru musi on być w stanie umożliwiającym edycję, aby wszelkie zmiany w zasobie, które wystąpiły po wywołaniu akcji, zostaną zapisane i zapisane na dysku.</span><span class="sxs-lookup"><span data-stu-id="c5a52-160">After the parameter has been marshaled, it must be in an editable state so that any changes to the resource that occur when the action is invoked will be saved and written to disk.</span></span>

 <span data-ttu-id="c5a52-161">Ten interfejs wymaga dwóch metod: Invoke i GetResult.</span><span class="sxs-lookup"><span data-stu-id="c5a52-161">This interface requires two methods: Invoke and GetResult.</span></span> <span data-ttu-id="c5a52-162">Wywołanie wywołuje obiekt delegowany implementujący zachowanie akcji i GetResult zwraca wynik akcji.</span><span class="sxs-lookup"><span data-stu-id="c5a52-162">Invoke invokes the delegate that implements the action’s behavior and GetResult returns the result of the action.</span></span>

## <a name="invoking-a-wcf-data-service-action"></a><span data-ttu-id="c5a52-163">Wywoływanie akcji usługi danych programu WCF</span><span class="sxs-lookup"><span data-stu-id="c5a52-163">Invoking a WCF Data Service Action</span></span>
 <span data-ttu-id="c5a52-164">Akcje są wywoływane za pomocą żądania HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="c5a52-164">Actions are invoked using an HTTP POST request.</span></span> <span data-ttu-id="c5a52-165">Adres URL określa zasób, po którym następuje nazwa akcji.</span><span class="sxs-lookup"><span data-stu-id="c5a52-165">The URL specifies the resource followed by the action name.</span></span> <span data-ttu-id="c5a52-166">Parametry są przesyłane w treści żądania.</span><span class="sxs-lookup"><span data-stu-id="c5a52-166">Parameters are passed in the body of the request.</span></span> <span data-ttu-id="c5a52-167">Na przykład jeśli istnieje usługa o nazwie MovieService, która uwidacznia akcję o nazwie rate.</span><span class="sxs-lookup"><span data-stu-id="c5a52-167">For example if there was a service called MovieService which exposed an action called Rate.</span></span> <span data-ttu-id="c5a52-168">Aby wywołać akcję rate dla określonego filmu, można użyć następującego adresu URL:</span><span class="sxs-lookup"><span data-stu-id="c5a52-168">You could use the following URL to invoke the Rate action on a specific movie:</span></span>

 `http://MovieServer/MovieService.svc/Movies(1)/Rate`

 <span data-ttu-id="c5a52-169">Filmy (1) określają film, który ma być oceniany, i szybkość Określa akcję stawki.</span><span class="sxs-lookup"><span data-stu-id="c5a52-169">Movies(1) specifies the movie you wish to rate and Rate specifies the Rate action.</span></span> <span data-ttu-id="c5a52-170">Rzeczywista wartość klasyfikacji będzie w treści żądania HTTP, jak pokazano w następującym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="c5a52-170">The actual value of the rating will be in the body of the HTTP request as shown in the following example:</span></span>

```http
POST http://MovieServer/MoviesService.svc/Movies(1)/Rate HTTP/1.1
Content-Type: application/json
Content-Length: 20
Host: localhost:15238
{
   "rating": 4
}
```

> [!WARNING]
> <span data-ttu-id="c5a52-171">Powyższy przykładowy kod będzie działał tylko z Usługi danych programu WCF 5,2 i nowszymi, które obsługują oświetlenie JSON.</span><span class="sxs-lookup"><span data-stu-id="c5a52-171">The above sample code will work only with WCF Data Services 5.2 and later which has support for JSON light.</span></span> <span data-ttu-id="c5a52-172">W przypadku korzystania ze starszej wersji Usługi danych programu WCF należy określić pełną zawartość JSON-Type w następujący sposób: `application/json;odata=verbose`.</span><span class="sxs-lookup"><span data-stu-id="c5a52-172">If using an earlier version of WCF Data Services, you must specify the json verbose content-type as follows: `application/json;odata=verbose`.</span></span>

 <span data-ttu-id="c5a52-173">Alternatywnie można wywołać akcję przy użyciu klienta Usługi danych programu WCF, jak pokazano w poniższym fragmencie kodu.</span><span class="sxs-lookup"><span data-stu-id="c5a52-173">Alternatively you can invoke an action using the WCF Data Services Client as shown in the following code snippet.</span></span>

```csharp
MoviesModel context = new MoviesModel (new Uri("http://MyServer/MoviesService.svc/"));
//...
context.Execute(new Uri("http://MyServer/MoviesService.svc/Movies(1)/Rate"), "POST", new BodyOperationParameter("rating",4) );
```

 <span data-ttu-id="c5a52-174">W powyższym fragmencie kodu Klasa `MoviesModel` została wygenerowana przy użyciu programu Visual Studio, aby Dodaj odwołanie do usługi do usługi danych programu WCF.</span><span class="sxs-lookup"><span data-stu-id="c5a52-174">In the code snippet above, the `MoviesModel` class was generated by using Visual Studio to Add Service Reference to a WCF Data Service.</span></span>

## <a name="see-also"></a><span data-ttu-id="c5a52-175">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="c5a52-175">See also</span></span>

- [<span data-ttu-id="c5a52-176">Usługi danych WCF 4.5</span><span class="sxs-lookup"><span data-stu-id="c5a52-176">WCF Data Services 4.5</span></span>](index.md)
- [<span data-ttu-id="c5a52-177">Definiowanie usług danych WCF</span><span class="sxs-lookup"><span data-stu-id="c5a52-177">Defining WCF Data Services</span></span>](defining-wcf-data-services.md)
- [<span data-ttu-id="c5a52-178">Tworzenie i wdrażanie usług danych programu WCF</span><span class="sxs-lookup"><span data-stu-id="c5a52-178">Developing and Deploying WCF Data Services</span></span>](developing-and-deploying-wcf-data-services.md)
- [<span data-ttu-id="c5a52-179">Niestandardowi dostawcy usługi danych</span><span class="sxs-lookup"><span data-stu-id="c5a52-179">Custom Data Service Providers</span></span>](custom-data-service-providers-wcf-data-services.md)
