---
title: "Przechowywanie wersji usługi danych (usługi danych WCF)"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework-oob
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- versioning, WCF Data Services
- versioning [WCF Data Services]
- WCF Data Services, versioning
ms.assetid: e3e899cc-7f25-4f67-958f-063f01f79766
caps.latest.revision: "9"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: 228b8d40b14781496b2c71a715008e8bf9caf86b
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/21/2017
---
# <a name="data-service-versioning-wcf-data-services"></a><span data-ttu-id="6a928-102">Przechowywanie wersji usługi danych (usługi danych WCF)</span><span class="sxs-lookup"><span data-stu-id="6a928-102">Data Service Versioning (WCF Data Services)</span></span>
<span data-ttu-id="6a928-103">[!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] Umożliwia tworzenie usług danych, dzięki czemu klienci mają dostęp do danych jako zasoby przy użyciu identyfikatorów URI, które są oparte na modelu danych.</span><span class="sxs-lookup"><span data-stu-id="6a928-103">The [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] enables you to create data services so that clients can access data as resources using URIs that are based on a data model.</span></span> [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="6a928-104">obsługuje również definicji operacji usługi.</span><span class="sxs-lookup"><span data-stu-id="6a928-104"> also supports the definition of service operations.</span></span> <span data-ttu-id="6a928-105">Po początkowym wdrożeniu i potencjalnie kilka razy w okresie ich istnienia tych usług danych może być konieczne zostanie zmieniony z różnych powodów, takich jak zmieniające się potrzeby biznesowe, wymagania dotyczące technologii informacji, lub w celu rozwiązania innych problemów.</span><span class="sxs-lookup"><span data-stu-id="6a928-105">After initial deployment, and potentially several times during their lifetime, these data services may need to be changed for a variety of reasons, such as changing business needs, information technology requirements, or to address other issues.</span></span> <span data-ttu-id="6a928-106">Po wprowadzeniu zmian w istniejącej usłudze danych, należy rozważyć możliwość definiowania nowej wersji danych usługi i jak najlepiej zminimalizować wpływ na istniejące aplikacje klienckie.</span><span class="sxs-lookup"><span data-stu-id="6a928-106">When you make changes to an existing data service, you must consider whether to define a new version of your data service and how best to minimize the impact on existing client applications.</span></span> <span data-ttu-id="6a928-107">W tym temacie znajdują się wskazówki dotyczące kiedy i jak utworzyć nową wersję usługi danych.</span><span class="sxs-lookup"><span data-stu-id="6a928-107">This topic provides guidance on when and how to create a new version of a data service.</span></span> <span data-ttu-id="6a928-108">Opisano również sposób [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] obsługuje wymiany między klientami a usług danych, które obsługują różne wersje [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protokołu.</span><span class="sxs-lookup"><span data-stu-id="6a928-108">It also describes how [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] handles an exchange between clients and data services that support different versions of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol.</span></span>  
  
## <a name="versioning-a-wcf-data-service"></a><span data-ttu-id="6a928-109">Przechowywanie wersji usługi danych WCF</span><span class="sxs-lookup"><span data-stu-id="6a928-109">Versioning a WCF Data Service</span></span>  
 <span data-ttu-id="6a928-110">Po wdrożeniu usługi danych i używania danych, zmiany w usłudze danych ma może spowodować problemy ze zgodnością z istniejącymi aplikacjami klienta.</span><span class="sxs-lookup"><span data-stu-id="6a928-110">Once a data service is deployed and the data is being consumed, changes to the data service have the potential to cause compatibility issues with existing client applications.</span></span> <span data-ttu-id="6a928-111">Jednak ponieważ ogólną potrzeb usługi często wymaga zmiany, należy rozważyć kiedy i jak utworzyć nową wersję usługi danych z najmniejszy wpływ na kliencie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6a928-111">However, because changes are often required by the overall business needs of the service, you must consider when and how to create a new version of your data service with the least impact on client applications.</span></span>  
  
### <a name="data-model-changes-that-recommend-a-new-data-service-version"></a><span data-ttu-id="6a928-112">Zmiany modelu danych, które zalecane jest nowa wersja usługi danych</span><span class="sxs-lookup"><span data-stu-id="6a928-112">Data Model Changes that Recommend a New Data Service Version</span></span>  
 <span data-ttu-id="6a928-113">Podczas określania, czy publikować nową wersję usługi danych, ważne jest zrozumienie, jak różnego rodzaju zmiany mogą wpłynąć na aplikacje klienckie.</span><span class="sxs-lookup"><span data-stu-id="6a928-113">When considering whether to publish a new version of a data service, it is important to understand how the different kinds of changes may affect client applications.</span></span> <span data-ttu-id="6a928-114">Zmiany w usłudze danych, która może wymagać utworzyć nową wersję usługi danych można podzielić na następujące dwie kategorie:</span><span class="sxs-lookup"><span data-stu-id="6a928-114">Changes to a data service that might require you to create a new version of a data service can be divided into the following two categories:</span></span>  
  
-   <span data-ttu-id="6a928-115">Zmienia się na kontrakt usługi, które obejmują aktualizacje do operacji usługi, zmiany w dostępności zestawów jednostek (źródła danych), zmiany wersji i inne zmiany zachowania usługi.</span><span class="sxs-lookup"><span data-stu-id="6a928-115">Changes to the service contract—which include updates to service operations, changes to the accessibility of entity sets (feeds), version changes, and other changes to service behaviors.</span></span>  
  
-   <span data-ttu-id="6a928-116">Zmienia się na kontrakt danych, które uwzględnienia zmian w modelu danych, źródła danych formatów lub źródła danych dostosowania.</span><span class="sxs-lookup"><span data-stu-id="6a928-116">Changes to the data contract—which include changes to the data model, feed formats, or feed customizations.</span></span>  
  
 <span data-ttu-id="6a928-117">Szczegóły tabeli następujące rodzaje zmian, które należy rozważyć publikowanie nowa wersja usługi danych:</span><span class="sxs-lookup"><span data-stu-id="6a928-117">The following table details for which kinds of changes you should consider publishing a new version of the data service:</span></span>  
  
|<span data-ttu-id="6a928-118">Typ zmiany</span><span class="sxs-lookup"><span data-stu-id="6a928-118">Type of Change</span></span>|<span data-ttu-id="6a928-119">Wymaga nowej wersji</span><span class="sxs-lookup"><span data-stu-id="6a928-119">Requires a new version</span></span>|<span data-ttu-id="6a928-120">Nowa wersja nie jest wymagane</span><span class="sxs-lookup"><span data-stu-id="6a928-120">New version not needed</span></span>|  
|--------------------|----------------------------|----------------------------|  
|<span data-ttu-id="6a928-121">Operacje usługi</span><span class="sxs-lookup"><span data-stu-id="6a928-121">Service operations</span></span>|<span data-ttu-id="6a928-122">-Dodaj nowy parametr</span><span class="sxs-lookup"><span data-stu-id="6a928-122">-   Add new parameter</span></span><br /><span data-ttu-id="6a928-123">— Zmień typ zwracany</span><span class="sxs-lookup"><span data-stu-id="6a928-123">-   Change return type</span></span><br /><span data-ttu-id="6a928-124">-Usuń operacji usługi</span><span class="sxs-lookup"><span data-stu-id="6a928-124">-   Remove service operation</span></span>|<span data-ttu-id="6a928-125">— Usunięcie istniejących parametrów</span><span class="sxs-lookup"><span data-stu-id="6a928-125">-   Delete existing parameter</span></span><br /><span data-ttu-id="6a928-126">-Dodaj nowe operacji usługi</span><span class="sxs-lookup"><span data-stu-id="6a928-126">-   Add new service operation</span></span>|  
|<span data-ttu-id="6a928-127">Zachowania usług</span><span class="sxs-lookup"><span data-stu-id="6a928-127">Service behaviors</span></span>|<span data-ttu-id="6a928-128">— Wyłączanie liczba żądań</span><span class="sxs-lookup"><span data-stu-id="6a928-128">-   Disable count requests</span></span><br /><span data-ttu-id="6a928-129">-Wyłączyć obsługę projekcji</span><span class="sxs-lookup"><span data-stu-id="6a928-129">-   Disable projection support</span></span><br /><span data-ttu-id="6a928-130">-Zwiększ numer wersji usługi danych</span><span class="sxs-lookup"><span data-stu-id="6a928-130">-   Increase the required data service version</span></span>|<span data-ttu-id="6a928-131">-Włącz liczba żądań</span><span class="sxs-lookup"><span data-stu-id="6a928-131">-   Enable count requests</span></span><br /><span data-ttu-id="6a928-132">-Włącz obsługę projekcji</span><span class="sxs-lookup"><span data-stu-id="6a928-132">-   Enable projection support</span></span><br /><span data-ttu-id="6a928-133">-Zmniejsz wersja usługi danych</span><span class="sxs-lookup"><span data-stu-id="6a928-133">-   Decrease the required data service version</span></span>|  
|<span data-ttu-id="6a928-134">Zestaw jednostek uprawnień</span><span class="sxs-lookup"><span data-stu-id="6a928-134">Entity set permissions</span></span>|<span data-ttu-id="6a928-135">-Ograniczyć uprawnienia zestaw jednostek</span><span class="sxs-lookup"><span data-stu-id="6a928-135">-   Restrict entity set permissions</span></span><br /><span data-ttu-id="6a928-136">-Zmień kod odpowiedzi (nowe pierwsza wartość cyfr) <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="6a928-136">-   Change response code (new first digit value) <sup>1</sup></span></span>|<span data-ttu-id="6a928-137">-Zmniejszą jednostki Ustawianie uprawnień</span><span class="sxs-lookup"><span data-stu-id="6a928-137">-   Relax entity set permissions</span></span><br /><span data-ttu-id="6a928-138">-Zmień kod odpowiedzi (tego samego pierwsza wartość cyfra)</span><span class="sxs-lookup"><span data-stu-id="6a928-138">-   Change response code (same first digit value)</span></span>|  
|<span data-ttu-id="6a928-139">Właściwości jednostki</span><span class="sxs-lookup"><span data-stu-id="6a928-139">Entity properties</span></span>|<span data-ttu-id="6a928-140">-Usuń istniejącą właściwość lub relacji</span><span class="sxs-lookup"><span data-stu-id="6a928-140">-   Remove existing property or relationship</span></span><br /><span data-ttu-id="6a928-141">-Dodaj właściwości niedopuszczającej wartości null</span><span class="sxs-lookup"><span data-stu-id="6a928-141">-   Add non-nullable property</span></span><br /><span data-ttu-id="6a928-142">-Zmień istniejącą właściwość</span><span class="sxs-lookup"><span data-stu-id="6a928-142">-   Change existing property</span></span>|<span data-ttu-id="6a928-143">-Dodaj właściwość nullable<sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="6a928-143">-   Add nullable property<sup>2</sup></span></span>|  
|<span data-ttu-id="6a928-144">Zestawy jednostek</span><span class="sxs-lookup"><span data-stu-id="6a928-144">Entity sets</span></span>|<span data-ttu-id="6a928-145">-Usuń zestaw jednostek</span><span class="sxs-lookup"><span data-stu-id="6a928-145">-   Remove entity set</span></span>|<span data-ttu-id="6a928-146">-Dodaj typu pochodnego</span><span class="sxs-lookup"><span data-stu-id="6a928-146">-   Add derived type</span></span><br /><span data-ttu-id="6a928-147">— Zmień typ podstawowy</span><span class="sxs-lookup"><span data-stu-id="6a928-147">-   Change base type</span></span><br /><span data-ttu-id="6a928-148">-Dodaj zestaw jednostek</span><span class="sxs-lookup"><span data-stu-id="6a928-148">-   Add entity set</span></span>|  
|<span data-ttu-id="6a928-149">Dostosowywanie źródła</span><span class="sxs-lookup"><span data-stu-id="6a928-149">Feed customization</span></span>|<span data-ttu-id="6a928-150">-Zmień mapowanie właściwości jednostki</span><span class="sxs-lookup"><span data-stu-id="6a928-150">-   Change entity-property mapping</span></span>||  
  
 <span data-ttu-id="6a928-151"><sup>1</sup> to może zależeć od jak ściśle aplikacji klienckiej opiera się na odbieranie określonego kodu błędu.</span><span class="sxs-lookup"><span data-stu-id="6a928-151"><sup>1</sup> This may depend on how strictly a client application relies on receiving a specific error code.</span></span>  
  
 <span data-ttu-id="6a928-152"><sup>2</sup> można ustawić <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> właściwości `true` aby klienci Ignoruj wszystkie nowe właściwości wysłanych przez usługę danych, które nie są zdefiniowane na kliencie.</span><span class="sxs-lookup"><span data-stu-id="6a928-152"><sup>2</sup> You can set the <xref:System.Data.Services.Client.DataServiceContext.IgnoreMissingProperties%2A> property to `true` to have the client ignore any new properties sent by the data service that are not defined on the client.</span></span> <span data-ttu-id="6a928-153">Podczas operacji wstawiania, nieuwzględnionych przez klienta w żądaniu POST właściwości są ustawione wartości domyślne.</span><span class="sxs-lookup"><span data-stu-id="6a928-153">However, when inserts are made, the properties not included by the client in the POST request are set to their default values.</span></span> <span data-ttu-id="6a928-154">W przypadku aktualizacji istniejących danych we właściwości nieznany do klienta mogą zostać zastąpione wartościami domyślnymi.</span><span class="sxs-lookup"><span data-stu-id="6a928-154">For updates, any existing data in a property unknown to the client might be overwritten with default values.</span></span> <span data-ttu-id="6a928-155">W takim przypadku należy wysłać aktualizacji, jak żądanie scalania, która jest ustawiona domyślnie.</span><span class="sxs-lookup"><span data-stu-id="6a928-155">In this case, you should send the update as a MERGE request, which is the default.</span></span> <span data-ttu-id="6a928-156">Aby uzyskać więcej informacji, zobacz [Zarządzanie kontekstu danych usługi](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="6a928-156">For more information, see [Managing the Data Service Context](../../../../docs/framework/data/wcf/managing-the-data-service-context-wcf-data-services.md).</span></span>  
  
### <a name="how-to-version-a-data-service"></a><span data-ttu-id="6a928-157">Jak wersja usługi danych</span><span class="sxs-lookup"><span data-stu-id="6a928-157">How to Version a Data Service</span></span>  
 <span data-ttu-id="6a928-158">Gdy jest to wymagane, nowa wersja usługi danych jest definiowany przez tworzenie nowego wystąpienia usługi z modelem danych lub kontrakt zaktualizowany.</span><span class="sxs-lookup"><span data-stu-id="6a928-158">When required, a new data service version is defined by creating a new instance of the service with an updated service contract or data model.</span></span> <span data-ttu-id="6a928-159">Nowej usługi jest następnie udostępniany przy użyciu nowego identyfikatora URI punktu końcowego, który odróżnia go od poprzedniej wersji.</span><span class="sxs-lookup"><span data-stu-id="6a928-159">This new service is then exposed by using a new URI endpoint, which differentiates it from the previous version.</span></span> <span data-ttu-id="6a928-160">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="6a928-160">For example:</span></span>  
  
-   <span data-ttu-id="6a928-161">Stara wersja:`http://services.odata.org/Northwind/v1/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="6a928-161">Old version: `http://services.odata.org/Northwind/v1/Northwind.svc/`</span></span>  
  
-   <span data-ttu-id="6a928-162">Nowa wersja:`http://services.odata.org/Northwind/v2/Northwind.svc/`</span><span class="sxs-lookup"><span data-stu-id="6a928-162">New version: `http://services.odata.org/Northwind/v2/Northwind.svc/`</span></span>  
  
 <span data-ttu-id="6a928-163">Podczas uaktualniania usług danych, klienci muszą również zostać zaktualizowany oparte na nowe metadane usługi danych i chcesz użyć nowego katalogu głównego identyfikatora URI.</span><span class="sxs-lookup"><span data-stu-id="6a928-163">When upgrading a data service, clients will need to also be updated based on the new data service metadata and to use the new root URI.</span></span> <span data-ttu-id="6a928-164">Jeśli to możliwe, należy zachować poprzedniej wersji usługi danych do obsługi klientów, które nie zostały jeszcze uaktualnione do nowej wersji.</span><span class="sxs-lookup"><span data-stu-id="6a928-164">When possible, you should maintain the previous version of the data service to support clients that have not yet been upgraded to use the new version.</span></span> <span data-ttu-id="6a928-165">Można usunąć starszej wersji usługi danych, gdy są już potrzebne.</span><span class="sxs-lookup"><span data-stu-id="6a928-165">Older versions of a data service can be removed when they are no longer needed.</span></span> <span data-ttu-id="6a928-166">Warto rozważyć zachowanie punktu końcowego usługi danych identyfikatora URI w pliku konfiguracyjnym zewnętrznych.</span><span class="sxs-lookup"><span data-stu-id="6a928-166">You should consider maintaining the data service endpoint URI in an external configuration file.</span></span>  
  
## <a name="odata-protocol-versions"></a><span data-ttu-id="6a928-167">Wersji protokołu OData</span><span class="sxs-lookup"><span data-stu-id="6a928-167">OData Protocol Versions</span></span>  
 <span data-ttu-id="6a928-168">Jako nowe wersje [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] zostały zwolnione, aplikacje klienckie mogą nie używać tę samą wersję programu [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protokołu, który jest obsługiwany przez usługę danych.</span><span class="sxs-lookup"><span data-stu-id="6a928-168">As new versions of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] are released, client applications may not be using the same version of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol that is supported by the data service.</span></span> <span data-ttu-id="6a928-169">Starszych aplikacji klient może uzyskać dostępu do obsługującego nowsza wersja usługi danych [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6a928-169">An older client application may access a data service that supports a newer version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span></span> <span data-ttu-id="6a928-170">Aplikacja kliencka również używając nowszej wersji [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] biblioteki klienta, która obsługuje nowsza wersja [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] niż Usługa danych, który jest dostępny.</span><span class="sxs-lookup"><span data-stu-id="6a928-170">A client application may also be using a newer version of the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client library, which supports a newer version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] than does the data service that is being accessed.</span></span>  
  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="6a928-171">wykorzystuje pomocy technicznej [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] do obsługi takich scenariuszy kontroli wersji.</span><span class="sxs-lookup"><span data-stu-id="6a928-171"> leverages the support provided by [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] to handle such versioning scenarios.</span></span> <span data-ttu-id="6a928-172">Jest również Obsługa generowania i przy użyciu metadanych modelu danych do tworzenia klas usługi danych klienta, jeśli klient używa innej wersji [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] niż Usługa danych używa.</span><span class="sxs-lookup"><span data-stu-id="6a928-172">There is also support for generating and using data model metadata to create client data service classes when the client uses a different version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] than the data service uses.</span></span> <span data-ttu-id="6a928-173">Aby uzyskać więcej informacji, zobacz [OData: przechowywanie wersji protokołu](http://go.microsoft.com/fwlink/?LinkId=186071).</span><span class="sxs-lookup"><span data-stu-id="6a928-173">For more information, see [OData: Protocol Versioning](http://go.microsoft.com/fwlink/?LinkId=186071).</span></span>  
  
### <a name="version-negotiation"></a><span data-ttu-id="6a928-174">Negocjowanie wersji</span><span class="sxs-lookup"><span data-stu-id="6a928-174">Version Negotiation</span></span>  
 <span data-ttu-id="6a928-175">Usługi danych można skonfigurować w celu zdefiniowania najwyższej wersji [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protokołu, który będzie używany przez usługę, niezależnie od wersji żądanego przez klienta.</span><span class="sxs-lookup"><span data-stu-id="6a928-175">The data service can be configured to define the highest version of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol that will be used by the service, regardless of the version requested by the client.</span></span> <span data-ttu-id="6a928-176">Można to zrobić, określając <xref:System.Data.Services.Common.DataServiceProtocolVersion> wartość <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> właściwość <xref:System.Data.Services.DataServiceBehavior> używane przez usługę danych.</span><span class="sxs-lookup"><span data-stu-id="6a928-176">You can do this by specifying a <xref:System.Data.Services.Common.DataServiceProtocolVersion> value for the <xref:System.Data.Services.DataServiceBehavior.MaxProtocolVersion%2A> property of the <xref:System.Data.Services.DataServiceBehavior> used by the data service.</span></span> <span data-ttu-id="6a928-177">Aby uzyskać więcej informacji, zobacz [Konfigurowanie usługi danych](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="6a928-177">For more information, see [Configuring the Data Service](../../../../docs/framework/data/wcf/configuring-the-data-service-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="6a928-178">Jeśli aplikacja używa [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] bibliotek klienta do dostępu do danych usługi, biblioteki automatycznie ustawioną poprawnych wartości, w zależności od wersji tych nagłówków [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] i funkcje, które są używane w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="6a928-178">When an application uses the [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] client libraries to access a data service, the libraries automatically set these headers to the correct values, depending on the version of [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] and the features that are used in your application.</span></span> <span data-ttu-id="6a928-179">Domyślnie [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] używa Najniższa wersja protokołu, który obsługuje żądanej operacji.</span><span class="sxs-lookup"><span data-stu-id="6a928-179">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] uses the lowest protocol version that supports the requested operation.</span></span>  
  
 <span data-ttu-id="6a928-180">W poniższej tabeli przedstawiono wersje [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] i [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] zawierające [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] obsługę określonych wersji [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protokołu.</span><span class="sxs-lookup"><span data-stu-id="6a928-180">The following table details the versions of [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] and [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] that include [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] support for specific versions of the [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] protocol.</span></span>  
  
|[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="6a928-181">Wersja protokołu</span><span class="sxs-lookup"><span data-stu-id="6a928-181"> Protocol Version</span></span>|<span data-ttu-id="6a928-182">Obsługa wprowadzone w systemie...</span><span class="sxs-lookup"><span data-stu-id="6a928-182">Support introduced in…</span></span>|  
|-----------------------------------------------------------------------------------|----------------------------|  
|<span data-ttu-id="6a928-183">W wersji 1</span><span class="sxs-lookup"><span data-stu-id="6a928-183">Version 1</span></span>|<span data-ttu-id="6a928-184">-   [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)]Z dodatkiem Service Pack 1 (SP1)</span><span class="sxs-lookup"><span data-stu-id="6a928-184">-   [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] Service Pack 1 (SP1)</span></span><br /><span data-ttu-id="6a928-185">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)]w wersji 3</span><span class="sxs-lookup"><span data-stu-id="6a928-185">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 3</span></span>|  
|<span data-ttu-id="6a928-186">W wersji 2</span><span class="sxs-lookup"><span data-stu-id="6a928-186">Version 2</span></span>|-   [!INCLUDE[netfx40_long](../../../../includes/netfx40-long-md.md)]<br /><span data-ttu-id="6a928-187">-Aktualizacja [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] z dodatkiem SP1.</span><span class="sxs-lookup"><span data-stu-id="6a928-187">-   An update to [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)] SP1.</span></span> <span data-ttu-id="6a928-188">Można pobrać i zainstalować aktualizację z [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=158125).</span><span class="sxs-lookup"><span data-stu-id="6a928-188">You can download and install the update from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=158125).</span></span><br /><span data-ttu-id="6a928-189">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)]w wersji 4</span><span class="sxs-lookup"><span data-stu-id="6a928-189">-   [!INCLUDE[silverlight](../../../../includes/silverlight-md.md)] version 4</span></span>|  
|<span data-ttu-id="6a928-190">W wersji 3</span><span class="sxs-lookup"><span data-stu-id="6a928-190">Version 3</span></span>|<span data-ttu-id="6a928-191">— Można pobrać i zainstalować wersję wstępną, która obsługuje [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] w wersji 3 z [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=203885).</span><span class="sxs-lookup"><span data-stu-id="6a928-191">-   You can download and install a pre-release version that supports [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] version 3 from the [Microsoft Download Center](http://go.microsoft.com/fwlink/?LinkId=203885).</span></span>|  
  
### <a name="metadata-versions"></a><span data-ttu-id="6a928-192">Wersje metadanych</span><span class="sxs-lookup"><span data-stu-id="6a928-192">Metadata Versions</span></span>  
 <span data-ttu-id="6a928-193">Domyślnie [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] używa wersji 1.1 CSDL reprezentujące model danych.</span><span class="sxs-lookup"><span data-stu-id="6a928-193">By default, [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] uses version 1.1 of CSDL to represent a data model.</span></span> <span data-ttu-id="6a928-194">Jest to zawsze w przypadku modeli danych, które są oparte na dostawcy odbicia lub dostawcy usług danych niestandardowych.</span><span class="sxs-lookup"><span data-stu-id="6a928-194">This is always the case for data models that are based on either a reflection provider or a custom data service provider.</span></span> <span data-ttu-id="6a928-195">Jednak gdy model danych jest definiowana za pomocą [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)], wersja pliku CSDL zwracane jest taka sama jak wersja używanego przez [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)].</span><span class="sxs-lookup"><span data-stu-id="6a928-195">However, when the data model is defined by using the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)], the version of CSDL returned is the same as the version that is used by the [!INCLUDE[adonet_ef](../../../../includes/adonet-ef-md.md)].</span></span> <span data-ttu-id="6a928-196">Wersja pliku CSDL jest określany przez obszar nazw [elementu schematu](http://msdn.microsoft.com/en-us/396074d8-f99c-4f50-a073-68bce848224f).</span><span class="sxs-lookup"><span data-stu-id="6a928-196">The version of the CSDL is determined by the namespace of the [Schema element](http://msdn.microsoft.com/en-us/396074d8-f99c-4f50-a073-68bce848224f).</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="6a928-197">Specyfikacja [ \[MC CSDL\]: koncepcyjny formatu pliku definicji schematu](http://go.microsoft.com/fwlink/?LinkId=159072).</span><span class="sxs-lookup"><span data-stu-id="6a928-197"> the specification [\[MC-CSDL\]: Conceptual Schema Definition File Format](http://go.microsoft.com/fwlink/?LinkId=159072).</span></span>  
  
 <span data-ttu-id="6a928-198">`DataServices` Zawiera również element metadane zwrócony `DataServiceVersion` atrybut, który ma taką samą wartość jak `DataServiceVersion` nagłówka w komunikacie odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="6a928-198">The `DataServices` element of the returned metadata also contains a `DataServiceVersion` attribute, which is the same value as the `DataServiceVersion` header in the response message.</span></span> <span data-ttu-id="6a928-199">Aplikacje klienckie, takie jak **Dodaj odwołanie do usługi** okno dialogowe w [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)], te informacje służą do generowania klasy usługi danych klienta, które działają poprawnie, wersja [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] który hosta usługi danych.</span><span class="sxs-lookup"><span data-stu-id="6a928-199">Client applications, such as the **Add Service Reference** dialog box in [!INCLUDE[vs_current_short](../../../../includes/vs-current-short-md.md)], use this information to generate client data service classes that work correctly with the version of [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] that host the data service.</span></span> <span data-ttu-id="6a928-200">Aby uzyskać więcej informacji, zobacz [OData: przechowywanie wersji protokołu](http://go.microsoft.com/fwlink/?LinkId=186071).</span><span class="sxs-lookup"><span data-stu-id="6a928-200">For more information, see [OData: Protocol Versioning](http://go.microsoft.com/fwlink/?LinkId=186071).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6a928-201">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="6a928-201">See Also</span></span>  
 [<span data-ttu-id="6a928-202">Dostawców usług danych</span><span class="sxs-lookup"><span data-stu-id="6a928-202">Data Services Providers</span></span>](../../../../docs/framework/data/wcf/data-services-providers-wcf-data-services.md)  
 [<span data-ttu-id="6a928-203">Definiowanie usługi danych WCF</span><span class="sxs-lookup"><span data-stu-id="6a928-203">Defining WCF Data Services</span></span>](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)
