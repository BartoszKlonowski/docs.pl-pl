---
title: Buforowanie w aplikacjach .NET Framework
description: Używanie buforowania w aplikacjach .NET. Przeczytaj informacje o buforowaniu danych, buforowaniu w aplikacjach ASP.NET lub usługach REST WCF oraz rozszerzaniu buforowania w programie .NET.
ms.date: 03/30/2017
helpviewer_keywords:
- ASP.NET caching
- caching [.NET Framework]
- caching [ASP.NET]
ms.assetid: c4b47ee0-4b82-4124-9bce-818088385e34
ms.openlocfilehash: 9b08a07e9b446c2998150a327dccdc8d0481722a
ms.sourcegitcommit: 0fa2b7b658bf137e813a7f4d09589d64c148ebf5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/14/2020
ms.locfileid: "86309771"
---
# <a name="caching-in-net-framework-applications"></a><span data-ttu-id="1ecda-104">Buforowanie w aplikacjach .NET Framework</span><span class="sxs-lookup"><span data-stu-id="1ecda-104">Caching in .NET Framework Applications</span></span>
<span data-ttu-id="1ecda-105">Buforowanie umożliwia przechowywanie danych w pamięci w celu szybkiego dostępu.</span><span class="sxs-lookup"><span data-stu-id="1ecda-105">Caching enables you to store data in memory for rapid access.</span></span> <span data-ttu-id="1ecda-106">Po ponownym uzyskaniu dostępu do danych aplikacje mogą pobrać dane z pamięci podręcznej, zamiast pobierać je z oryginalnego źródła.</span><span class="sxs-lookup"><span data-stu-id="1ecda-106">When the data is accessed again, applications can get the data from the cache instead of retrieving it from the original source.</span></span> <span data-ttu-id="1ecda-107">Może to poprawić wydajność i skalowalność.</span><span class="sxs-lookup"><span data-stu-id="1ecda-107">This can improve performance and scalability.</span></span> <span data-ttu-id="1ecda-108">Ponadto buforowanie sprawia, że dane są dostępne, gdy źródło danych jest tymczasowo niedostępne.</span><span class="sxs-lookup"><span data-stu-id="1ecda-108">In addition, caching makes data available when the data source is temporarily unavailable.</span></span>  
  
 <span data-ttu-id="1ecda-109">.NET Framework udostępnia funkcje buforowania, za pomocą których można poprawić wydajność i skalowalność aplikacji klienta i serwera systemu Windows, w tym ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1ecda-109">The .NET Framework provides caching functionality that you can use to improve the performance and scalability of both Windows client and server applications, including ASP.NET.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="1ecda-110">W .NET Framework 3,5 i starszych wersjach ASP.NET podał implementację pamięci podręcznej w pamięci w <xref:System.Web.Caching> przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="1ecda-110">In the .NET Framework 3.5 and earlier versions, ASP.NET provided an in-memory cache implementation in the <xref:System.Web.Caching> namespace.</span></span> <span data-ttu-id="1ecda-111">W poprzednich wersjach .NET Framework buforowanie było dostępne tylko w <xref:System.Web> przestrzeni nazw i dlatego wymaga zależności od klas ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1ecda-111">In previous versions of the .NET Framework, caching was available only in the <xref:System.Web> namespace and therefore required a dependency on ASP.NET classes.</span></span> <span data-ttu-id="1ecda-112">W .NET Framework 4 <xref:System.Runtime.Caching> przestrzeń nazw zawiera interfejsy API przeznaczone dla aplikacji sieci Web i innych niż aplikacje sieci Web.</span><span class="sxs-lookup"><span data-stu-id="1ecda-112">In the .NET Framework 4, the <xref:System.Runtime.Caching> namespace contains APIs that are designed for both Web and non-Web applications.</span></span>  
  
## <a name="caching-data"></a><span data-ttu-id="1ecda-113">Buforowanie danych</span><span class="sxs-lookup"><span data-stu-id="1ecda-113">Caching Data</span></span>  
 <span data-ttu-id="1ecda-114">Informacje można buforować za pomocą klas w <xref:System.Runtime.Caching> przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="1ecda-114">You can cache information by using classes in the <xref:System.Runtime.Caching> namespace.</span></span> <span data-ttu-id="1ecda-115">Klasy buforowania w tej przestrzeni nazw zapewniają następujące funkcje:</span><span class="sxs-lookup"><span data-stu-id="1ecda-115">The caching classes in this namespace provide the following features:</span></span>  
  
- <span data-ttu-id="1ecda-116">Typy abstrakcyjne, które stanowią podstawę do tworzenia niestandardowych implementacji pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="1ecda-116">Abstract types that provide the foundation for creating custom cache implementations.</span></span>  
  
- <span data-ttu-id="1ecda-117">Konkretna implementacja pamięci podręcznej obiektów w pamięci.</span><span class="sxs-lookup"><span data-stu-id="1ecda-117">A concrete in-memory object cache implementation.</span></span>  
  
 <span data-ttu-id="1ecda-118">Abstrakcyjna klasa podstawowej pamięci podręcznej ( <xref:System.Runtime.Caching.ObjectCache> ) definiuje następujące zadania buforowania:</span><span class="sxs-lookup"><span data-stu-id="1ecda-118">The abstract base caching class (<xref:System.Runtime.Caching.ObjectCache>) defines the following caching tasks:</span></span>  
  
- <span data-ttu-id="1ecda-119">Tworzenie i zarządzanie wpisami pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="1ecda-119">Creating and managing cache entries.</span></span>  
  
- <span data-ttu-id="1ecda-120">Określanie informacji o wygasaniu i wykluczeniu.</span><span class="sxs-lookup"><span data-stu-id="1ecda-120">Specifying expiration and eviction information.</span></span>  
  
- <span data-ttu-id="1ecda-121">Wyzwalanie zdarzeń, które są wywoływane w odpowiedzi na zmiany wpisów w pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="1ecda-121">Triggering events that are raised in response to changes in cache entries.</span></span>  
  
 <span data-ttu-id="1ecda-122"><xref:System.Runtime.Caching.MemoryCache>Klasa jest implementacją pamięci podręcznej obiektów w pamięci <xref:System.Runtime.Caching.ObjectCache> .</span><span class="sxs-lookup"><span data-stu-id="1ecda-122">The <xref:System.Runtime.Caching.MemoryCache> class is an in-memory object cache implementation of the <xref:System.Runtime.Caching.ObjectCache> class.</span></span> <span data-ttu-id="1ecda-123">W <xref:System.Runtime.Caching.MemoryCache> przypadku większości zadań buforowania można użyć klasy.</span><span class="sxs-lookup"><span data-stu-id="1ecda-123">You can use the <xref:System.Runtime.Caching.MemoryCache> class for most caching tasks.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="1ecda-124"><xref:System.Runtime.Caching.MemoryCache>Klasa jest modelowana na obiekcie pamięci podręcznej ASP.NET, który jest zdefiniowany w <xref:System.Web.Caching> przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="1ecda-124">The <xref:System.Runtime.Caching.MemoryCache> class is modeled on the ASP.NET cache object that is defined in the <xref:System.Web.Caching> namespace.</span></span> <span data-ttu-id="1ecda-125">W związku z tym wewnętrzna logika buforowania podobna do logiki podanej we wcześniejszych wersjach ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1ecda-125">Therefore, the internal caching logic similar to the logic that was provided in earlier versions of ASP.NET.</span></span>  
  
 <span data-ttu-id="1ecda-126">Aby zapoznać się z przykładem użycia do buforowania w aplikacji WPF, zobacz [Przewodnik: buforowanie danych aplikacji w aplikacji WPF](../wpf/advanced/walkthrough-caching-application-data-in-a-wpf-application.md).</span><span class="sxs-lookup"><span data-stu-id="1ecda-126">For an example of how to use to caching in a WPF application, see [Walkthrough: Caching Application Data in a WPF Application](../wpf/advanced/walkthrough-caching-application-data-in-a-wpf-application.md).</span></span>  
  
## <a name="caching-in-aspnet-applications"></a><span data-ttu-id="1ecda-127">Buforowanie w aplikacjach ASP.NET</span><span class="sxs-lookup"><span data-stu-id="1ecda-127">Caching in ASP.NET Applications</span></span>  
 <span data-ttu-id="1ecda-128">Klasy buforowania w <xref:System.Runtime.Caching> przestrzeni nazw zapewniają funkcjonalność buforowania danych w ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1ecda-128">The caching classes in the <xref:System.Runtime.Caching> namespace provide functionality for caching data in ASP.NET.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="1ecda-129">Jeśli aplikacja jest przeznaczona dla .NET Framework 3,5 lub starszej, należy użyć klas buforowania, które są zdefiniowane w <xref:System.Web.Caching> przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="1ecda-129">If your application targets the .NET Framework 3.5 or earlier, you must use the caching classes that are defined in the <xref:System.Web.Caching> namespace.</span></span> <span data-ttu-id="1ecda-130">Aby uzyskać więcej informacji, zobacz [Omówienie buforowania ASP.NET](https://docs.microsoft.com/previous-versions/aspnet/ms178597(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="1ecda-130">For more information, see [ASP.NET Caching Overview](https://docs.microsoft.com/previous-versions/aspnet/ms178597(v=vs.100)).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="1ecda-131">Podczas tworzenia nowych aplikacji zaleca się użycie <xref:System.Runtime.Caching.MemoryCache> klasy.</span><span class="sxs-lookup"><span data-stu-id="1ecda-131">When you develop new applications, we recommend that you use the <xref:System.Runtime.Caching.MemoryCache> class.</span></span> <span data-ttu-id="1ecda-132">Interfejs API, który znajduje się w <xref:System.Runtime.Caching> przestrzeni nazw, jest podobny do interfejsu API, który znajduje się w <xref:System.Web.Caching.Cache> przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="1ecda-132">The API that is provided in the <xref:System.Runtime.Caching> namespace is like the API that is provided in the <xref:System.Web.Caching.Cache> namespace.</span></span> <span data-ttu-id="1ecda-133">W związku z tym interfejs API będzie znać użycie buforowania we wcześniejszych wersjach programu ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1ecda-133">Therefore, the API will be familiar if you used caching in earlier versions of ASP.NET.</span></span> <span data-ttu-id="1ecda-134">Aby zapoznać się z przykładem użycia buforowania w aplikacjach ASP.NET, zobacz [Przewodnik: buforowanie danych aplikacji w ASP.NET](https://docs.microsoft.com/previous-versions/ff477235(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="1ecda-134">For an example of how to use caching in ASP.NET applications, see [Walkthrough: Caching Application Data in ASP.NET](https://docs.microsoft.com/previous-versions/ff477235(v=vs.100)).</span></span>  
  
### <a name="output-caching"></a><span data-ttu-id="1ecda-135">Buforowanie danych wyjściowych</span><span class="sxs-lookup"><span data-stu-id="1ecda-135">Output Caching</span></span>  
 <span data-ttu-id="1ecda-136">Aby ręcznie buforować dane aplikacji, można użyć <xref:System.Runtime.Caching.MemoryCache> klasy w ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1ecda-136">To manually cache application data, you can use the <xref:System.Runtime.Caching.MemoryCache> class in ASP.NET.</span></span> <span data-ttu-id="1ecda-137">ASP.NET obsługuje również buforowanie danych wyjściowych, które przechowuje wygenerowane dane wyjściowe stron, kontrolek i odpowiedzi HTTP w pamięci.</span><span class="sxs-lookup"><span data-stu-id="1ecda-137">ASP.NET also supports output caching, which stores the generated output of pages, controls, and HTTP responses in memory.</span></span> <span data-ttu-id="1ecda-138">Buforowanie danych wyjściowych można skonfigurować deklaratywnie na stronie sieci Web ASP.NET lub za pomocą ustawień w pliku Web.config.</span><span class="sxs-lookup"><span data-stu-id="1ecda-138">You can configure output caching declaratively in an ASP.NET Web page or by using settings in the Web.config file.</span></span> <span data-ttu-id="1ecda-139">Aby uzyskać więcej informacji, zobacz [OutputCache element for buforowanie (Schemat ustawień ASP.NET)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms228124(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="1ecda-139">For more information, see [outputCache Element for caching (ASP.NET Settings Schema)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ms228124(v=vs.100)).</span></span>  
  
 <span data-ttu-id="1ecda-140">ASP.NET umożliwia rozszerzoną buforowanie danych wyjściowych przez tworzenie niestandardowych dostawców pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="1ecda-140">ASP.NET lets you extend output caching by creating custom output-cache providers.</span></span> <span data-ttu-id="1ecda-141">Za pomocą dostawców niestandardowych można przechowywać zawartość pamięci podręcznej przy użyciu innych urządzeń magazynujących, takich jak dyski, magazyn w chmurze i rozproszone bufory pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="1ecda-141">By using custom providers, you can store cached content using other storage devices such as disks, cloud storage, and distributed cache engines.</span></span> <span data-ttu-id="1ecda-142">Aby utworzyć niestandardowego dostawcę wyjściowej pamięci podręcznej, należy utworzyć klasę pochodzącą od <xref:System.Web.Caching.OutputCacheProvider> klasy i skonfigurować aplikację tak, aby korzystała z niestandardowego dostawcy wyjściowej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="1ecda-142">To create a custom output cache provider, you create a class that derives from the <xref:System.Web.Caching.OutputCacheProvider> class and configure the application to use the custom output cache provider.</span></span>  
  
## <a name="caching-in-wcf-rest-services"></a><span data-ttu-id="1ecda-143">Buforowanie w usługach REST WCF</span><span class="sxs-lookup"><span data-stu-id="1ecda-143">Caching in WCF REST Services</span></span>  
 <span data-ttu-id="1ecda-144">W przypadku usług WCF REST .NET Framework umożliwia korzystanie z deklaracyjnego buforowania danych wyjściowych, które jest dostępne w ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="1ecda-144">For WCF REST services, the .NET Framework enables you to take advantage of the declarative output caching that is available in ASP.NET.</span></span> <span data-ttu-id="1ecda-145">Dzięki temu można buforować odpowiedzi z operacji usługi REST platformy WCF.</span><span class="sxs-lookup"><span data-stu-id="1ecda-145">This enables you to cache responses from your WCF REST service operations.</span></span> <span data-ttu-id="1ecda-146">Gdy użytkownik wysyła żądanie HTTP GET do usługi, która jest skonfigurowana do buforowania, ASP.NET wysyła ponownie buforowaną odpowiedź, a metoda usługi nie jest wywoływana.</span><span class="sxs-lookup"><span data-stu-id="1ecda-146">When a user sends an HTTP GET request to a service that is configured for caching, ASP.NET sends back the cached response, and the service method is not called.</span></span> <span data-ttu-id="1ecda-147">Po wygaśnięciu pamięci podręcznej, gdy użytkownik wyśle żądanie HTTP GET, wywoływana jest metoda usługi i odpowiedź zostanie ponownie zbuforowana.</span><span class="sxs-lookup"><span data-stu-id="1ecda-147">After the cache expires, the next time that a user sends an HTTP GET request, your service method is called and the response is again cached.</span></span>  
  
 <span data-ttu-id="1ecda-148">.NET Framework również umożliwia wdrożenie warunkowego buforowania HTTP GET.</span><span class="sxs-lookup"><span data-stu-id="1ecda-148">The .NET Framework also enables you to implement conditional HTTP GET caching.</span></span> <span data-ttu-id="1ecda-149">W przypadku scenariuszy REST warunkowe żądanie HTTP GET jest często używane przez usługi do implementowania inteligentnego buforowania HTTP zgodnie z opisem w [specyfikacji protokołu HTTP](https://www.w3.org/Protocols/rfc2616/rfc2616.html).</span><span class="sxs-lookup"><span data-stu-id="1ecda-149">In REST scenarios, a conditional HTTP GET request is often used by services to implement intelligent HTTP caching as described in the [HTTP Specification](https://www.w3.org/Protocols/rfc2616/rfc2616.html).</span></span> <span data-ttu-id="1ecda-150">Aby uzyskać więcej informacji, zobacz [buforowanie obsługi usług HTTP sieci Web w programie WCF](../wcf/feature-details/caching-support-for-wcf-web-http-services.md).</span><span class="sxs-lookup"><span data-stu-id="1ecda-150">For more information, see [Caching Support for WCF Web HTTP Services](../wcf/feature-details/caching-support-for-wcf-web-http-services.md).</span></span>  
  
## <a name="extending-caching-in-the-net-framework"></a><span data-ttu-id="1ecda-151">Rozszerzanie buforowania w .NET Framework</span><span class="sxs-lookup"><span data-stu-id="1ecda-151">Extending Caching in the .NET Framework</span></span>  
 <span data-ttu-id="1ecda-152">Buforowanie w .NET Framework zostało zaprojektowane do rozszerzalności.</span><span class="sxs-lookup"><span data-stu-id="1ecda-152">Caching in the .NET Framework is designed to be extensible.</span></span> <span data-ttu-id="1ecda-153"><xref:System.Runtime.Caching.ObjectCache>Klasa pozwala utworzyć niestandardową implementację pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="1ecda-153">The <xref:System.Runtime.Caching.ObjectCache> class enables you to create a custom cache implementation.</span></span> <span data-ttu-id="1ecda-154">Ta klasa zawiera elementy członkowskie, które są dostępne dla wszystkich zarządzanych aplikacji, w tym Windows Forms, Windows Presentation Foundation (WPF) i Windows Communications Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="1ecda-154">This class provides members that are available to all managed applications, including Windows Forms, Windows Presentation Foundation (WPF), and Windows Communications Foundation (WCF).</span></span> <span data-ttu-id="1ecda-155">Można to zrobić, aby utworzyć klasę pamięci podręcznej, która korzysta z innego mechanizmu magazynu, lub jeśli chcesz uzyskać szczegółową kontrolę nad operacjami pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="1ecda-155">You might do this in order to create a cache class that uses a different storage mechanism, or if you want granular control over cache operations.</span></span>  
  
 <span data-ttu-id="1ecda-156">Aby zwiększyć pamięć podręczną, można wykonać następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="1ecda-156">To extend caching you can do the following:</span></span>  
  
- <span data-ttu-id="1ecda-157">Utwórz klasę niestandardową, która dziedziczy z <xref:System.Runtime.Caching.ObjectCache> klasy, a następnie podaj implementację niestandardowej pamięci podręcznej w klasie pochodnej.</span><span class="sxs-lookup"><span data-stu-id="1ecda-157">Create a custom class that derives from the <xref:System.Runtime.Caching.ObjectCache> class and then provide a custom cache implementation in the derived class.</span></span>  
  
- <span data-ttu-id="1ecda-158">Utwórz klasę, która dziedziczy z <xref:System.Runtime.Caching.MemoryCache> klasy i dostosowuje lub zwiększa klasę pochodną.</span><span class="sxs-lookup"><span data-stu-id="1ecda-158">Create a class that derives from <xref:System.Runtime.Caching.MemoryCache> class and customize or extend the derived class.</span></span> <span data-ttu-id="1ecda-159">Aby zapoznać się z przykładem, zobacz [buforowanie danych aplikacji przy użyciu wielu obiektów pamięci podręcznej w aplikacji ASP.NET](https://docs.microsoft.com/archive/blogs/aspnetue/caching-application-data-by-using-multiple-cache-objects-in-an-asp-net-application).</span><span class="sxs-lookup"><span data-stu-id="1ecda-159">For an example of how to do this, see [Caching Application Data by Using Multiple Cache Objects in an ASP.NET Application](https://docs.microsoft.com/archive/blogs/aspnetue/caching-application-data-by-using-multiple-cache-objects-in-an-asp-net-application).</span></span>  
  
- <span data-ttu-id="1ecda-160">Utwórz klasę pochodzącą od <xref:System.Web.Caching.OutputCacheProvider> klasy i skonfiguruj aplikację tak, aby korzystała z niestandardowego dostawcy wyjściowej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="1ecda-160">Create a class that derives from the <xref:System.Web.Caching.OutputCacheProvider> class and configure the application to use the custom output cache provider.</span></span>  
  
 <span data-ttu-id="1ecda-161">Aby uzyskać więcej informacji, zobacz temat [buforowanie danych wyjściowych w systemie ASP.NET 4 (w programie VS 2010 i .net 4,0 Series)](https://weblogs.asp.net/scottgu/extensible-output-caching-with-asp-net-4-vs-2010-and-net-4-0-series) na blogu Scott Guthrie.</span><span class="sxs-lookup"><span data-stu-id="1ecda-161">For more information, see the entry [Extensible Output Caching with ASP.NET 4 (VS 2010 and .NET 4.0 Series)](https://weblogs.asp.net/scottgu/extensible-output-caching-with-asp-net-4-vs-2010-and-net-4-0-series) on Scott Guthrie's blog.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1ecda-162">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="1ecda-162">See also</span></span>

- <xref:System.Runtime.Caching.ObjectCache>
- <xref:System.Runtime.Caching.MemoryCache>
- [<span data-ttu-id="1ecda-163">Przewodnik: przechowywanie w pamięci podręcznej danych aplikacji w aplikacji WPF</span><span class="sxs-lookup"><span data-stu-id="1ecda-163">Walkthrough: Caching Application Data in a WPF Application</span></span>](../wpf/advanced/walkthrough-caching-application-data-in-a-wpf-application.md)
- <span data-ttu-id="1ecda-164">[Przewodnik: buforowanie danych aplikacji w ASP.NET](https://docs.microsoft.com/previous-versions/ff477235(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="1ecda-164">[Walkthrough: Caching Application Data in ASP.NET](https://docs.microsoft.com/previous-versions/ff477235(v=vs.100))</span></span>
