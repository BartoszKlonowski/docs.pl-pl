---
title: Co nowego w .NET Framework
description: Zobacz, co nowego w różnych wersjach .NET Framework. Zapoznaj się z podsumowaniem najważniejszych nowych funkcji i ulepszeń w każdej wersji.
ms.date: 10/21/2020
dev_langs:
- csharp
- vb
helpviewer_keywords:
- what's new [.NET Framework]
ms.assetid: 1d971dd7-10fc-4692-8dac-30ca308fc0fa
ms.openlocfilehash: 3421afee304125413f4fcade6b20df990e922f58
ms.sourcegitcommit: d8020797a6657d0fbbdff362b80300815f682f94
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/24/2020
ms.locfileid: "95704802"
---
# <a name="whats-new-in-net-framework"></a><span data-ttu-id="8dead-104">Co nowego w .NET Framework</span><span class="sxs-lookup"><span data-stu-id="8dead-104">What's new in .NET Framework</span></span>

[!INCLUDE [net-framework-future](../../../includes/net-framework-future.md)]

<span data-ttu-id="8dead-105">Ten artykuł podsumowuje najważniejsze nowe funkcje i ulepszenia w następujących wersjach .NET Framework:</span><span class="sxs-lookup"><span data-stu-id="8dead-105">This article summarizes key new features and improvements in the following versions of .NET Framework:</span></span>

- [<span data-ttu-id="8dead-106"> .NET Framework 4.8</span><span class="sxs-lookup"><span data-stu-id="8dead-106">.NET Framework 4.8</span></span>](#v48)
- [<span data-ttu-id="8dead-107">.NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="8dead-107">.NET Framework 4.7.2</span></span>](#v472)
- [<span data-ttu-id="8dead-108">.NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="8dead-108">.NET Framework 4.7.1</span></span>](#v471)
- [<span data-ttu-id="8dead-109">.NET Framework 4,7</span><span class="sxs-lookup"><span data-stu-id="8dead-109">.NET Framework 4.7</span></span>](#v47)
- [<span data-ttu-id="8dead-110">.NET Framework 4.6.2</span><span class="sxs-lookup"><span data-stu-id="8dead-110">.NET Framework 4.6.2</span></span>](#v462)
- [<span data-ttu-id="8dead-111">.NET Framework 4.6.1</span><span class="sxs-lookup"><span data-stu-id="8dead-111">.NET Framework 4.6.1</span></span>](#v461)
- [<span data-ttu-id="8dead-112">.NET 2015 i .NET Framework 4,6</span><span class="sxs-lookup"><span data-stu-id="8dead-112">.NET 2015 and .NET Framework 4.6</span></span>](#v46)
- [<span data-ttu-id="8dead-113">.NET Framework 4.5.2</span><span class="sxs-lookup"><span data-stu-id="8dead-113">.NET Framework 4.5.2</span></span>](#v452)
- [<span data-ttu-id="8dead-114">.NET Framework 4.5.1</span><span class="sxs-lookup"><span data-stu-id="8dead-114">.NET Framework 4.5.1</span></span>](#v451)
- [<span data-ttu-id="8dead-115">.NET Framework 4.5</span><span class="sxs-lookup"><span data-stu-id="8dead-115">.NET Framework 4.5</span></span>](#v45)

<span data-ttu-id="8dead-116">Ten artykuł nie zawiera wyczerpujących informacji o każdej nowej funkcji i może ulec zmianie.</span><span class="sxs-lookup"><span data-stu-id="8dead-116">This article does not provide comprehensive information about each new feature and is subject to change.</span></span> <span data-ttu-id="8dead-117">Aby uzyskać ogólne informacje na temat .NET Framework, zobacz [wprowadzenie](../get-started/index.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-117">For general information about .NET Framework, see [Getting Started](../get-started/index.md).</span></span> <span data-ttu-id="8dead-118">W przypadku obsługiwanych platform zobacz [wymagania systemowe](../get-started/system-requirements.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-118">For supported platforms, see [System Requirements](../get-started/system-requirements.md).</span></span> <span data-ttu-id="8dead-119">Aby uzyskać linki do pobrania i instrukcje instalacji, zobacz [Przewodnik instalacji](../install/guide-for-developers.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-119">For download links and installation instructions, see [Installation Guide](../install/guide-for-developers.md).</span></span>

> [!NOTE]
> <span data-ttu-id="8dead-120">Zespół .NET Framework udostępnia również funkcje poza pasmem, korzystając z programu NuGet, aby rozwijać obsługę platformy i wprowadzać nowe funkcje, takie jak Niezmienne kolekcje i typy wektorów z włączonym SIMD.</span><span class="sxs-lookup"><span data-stu-id="8dead-120">The .NET Framework team also releases features out of band, using NuGet, to expand platform support and introduce new functionality, such as immutable collections and SIMD-enabled vector types.</span></span> <span data-ttu-id="8dead-121">Aby uzyskać więcej informacji, zobacz [dodatkowe biblioteki klas i interfejsy API](../additional-apis/index.md) oraz [.NET Framework i wersje poza pasmem](../get-started/the-net-framework-and-out-of-band-releases.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-121">For more information, see [Additional Class Libraries and APIs](../additional-apis/index.md) and [.NET Framework and Out-of-Band Releases](../get-started/the-net-framework-and-out-of-band-releases.md).</span></span>
> <span data-ttu-id="8dead-122">Zapoznaj się z [pełną listą pakietów NuGet](https://www.nuget.org/profiles/dotnetframework) dla .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8dead-122">See a [complete list of NuGet packages](https://www.nuget.org/profiles/dotnetframework) for .NET Framework.</span></span>

<a name="v48"></a>

## <a name="introducing-net-framework-48"></a><span data-ttu-id="8dead-123">Wprowadzenie .NET Framework 4,8</span><span class="sxs-lookup"><span data-stu-id="8dead-123">Introducing .NET Framework 4.8</span></span>

<span data-ttu-id="8dead-124">.NET Framework 4,8 kompiluje w poprzednich wersjach .NET Framework 4. x poprzez dodanie wielu nowych poprawek i kilku nowych funkcji, gdy pozostały bardzo stabilny produkt.</span><span class="sxs-lookup"><span data-stu-id="8dead-124">.NET Framework 4.8 builds on previous versions of .NET Framework 4.x by adding many new fixes and several new features while remaining a very stable product.</span></span>

### <a name="download-and-install-net-framework-48"></a><span data-ttu-id="8dead-125">Pobierz i zainstaluj .NET Framework 4,8</span><span class="sxs-lookup"><span data-stu-id="8dead-125">Download and install .NET Framework 4.8</span></span>

<span data-ttu-id="8dead-126">.NET Framework 4,8 można pobrać z następujących lokalizacji:</span><span class="sxs-lookup"><span data-stu-id="8dead-126">You can download .NET Framework 4.8 from the following locations:</span></span>

- [<span data-ttu-id="8dead-127">Instalator sieci Web .NET Framework 4,8</span><span class="sxs-lookup"><span data-stu-id="8dead-127">.NET Framework 4.8 Web Installer</span></span>](https://dotnet.microsoft.com/download/dotnet-framework/net48)

- [<span data-ttu-id="8dead-128">Instalator offline systemu .NET Framework 4,8</span><span class="sxs-lookup"><span data-stu-id="8dead-128">NET Framework 4.8 Offline Installer</span></span>](https://dotnet.microsoft.com/download/dotnet-framework/net48)

<span data-ttu-id="8dead-129">.NET Framework 4,8 można zainstalować w systemie Windows 10, Windows 8.1, Windows 7 z dodatkiem SP1 i odpowiednich platformach serwera, począwszy od systemu Windows Server 2008 R2 z dodatkiem SP1.</span><span class="sxs-lookup"><span data-stu-id="8dead-129">.NET Framework 4.8 can be installed on Windows 10, Windows 8.1, Windows 7 SP1, and the corresponding server platforms starting with Windows Server 2008 R2 SP1.</span></span> <span data-ttu-id="8dead-130">.NET Framework 4,8 można zainstalować przy użyciu Instalatora sieci Web lub Instalatora w trybie offline.</span><span class="sxs-lookup"><span data-stu-id="8dead-130">You can install .NET Framework 4.8 by using either the web installer or the offline installer.</span></span> <span data-ttu-id="8dead-131">Zalecanym sposobem większości użytkowników jest użycie Instalatora sieci Web.</span><span class="sxs-lookup"><span data-stu-id="8dead-131">The recommended way for most users is to use the web installer.</span></span>

<span data-ttu-id="8dead-132">Aby docelowo .NET Framework 4,8 w programie Visual Studio 2012 lub nowszym, należy zainstalować [pakiet deweloperski .NET Framework 4,8](https://go.microsoft.com/fwlink/?LinkId=2085167).</span><span class="sxs-lookup"><span data-stu-id="8dead-132">You can target .NET Framework 4.8 in Visual Studio 2012 or later by installing the [.NET Framework 4.8 Developer Pack](https://go.microsoft.com/fwlink/?LinkId=2085167).</span></span>

### <a name="whats-new-in-net-framework-48"></a><span data-ttu-id="8dead-133">Co nowego w .NET Framework 4,8</span><span class="sxs-lookup"><span data-stu-id="8dead-133">What's new in .NET Framework 4.8</span></span>

<span data-ttu-id="8dead-134">.NET Framework 4,8 wprowadza nowe funkcje w następujących obszarach:</span><span class="sxs-lookup"><span data-stu-id="8dead-134">.NET Framework 4.8 introduces new features in the following areas:</span></span>

- [<span data-ttu-id="8dead-135">Klas podstawowych</span><span class="sxs-lookup"><span data-stu-id="8dead-135">Base classes</span></span>](#core48)
- [<span data-ttu-id="8dead-136">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="8dead-136">Windows Communication Foundation (WCF)</span></span>](#wcf48)
- [<span data-ttu-id="8dead-137">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="8dead-137">Windows Presentation Foundation (WPF)</span></span>](#wpf48)
- [<span data-ttu-id="8dead-138">Środowisko uruchomieniowe języka wspólnego</span><span class="sxs-lookup"><span data-stu-id="8dead-138">Common language runtime</span></span>](#clr48)

<span data-ttu-id="8dead-139">Ulepszony ułatwienia dostępu, dzięki czemu aplikacja zapewnia odpowiednie środowisko dla użytkowników technologii pomocniczej, w dalszym ciągu jest głównym fokusem .NET Framework 4,8.</span><span class="sxs-lookup"><span data-stu-id="8dead-139">Improved accessibility, which allows an application to provide an appropriate experience for users of Assistive Technology, continues to be a major focus of .NET Framework 4.8.</span></span> <span data-ttu-id="8dead-140">Aby uzyskać informacje na temat ulepszeń ułatwień dostępu w .NET Framework 4,8, zobacz [co nowego w ułatwieniach dostępu w programie .NET Framework](whats-new-in-accessibility.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-140">For information on accessibility improvements in .NET Framework 4.8, see [What's new in accessibility in .NET Framework](whats-new-in-accessibility.md).</span></span>

<a name="core48"></a>

#### <a name="base-classes"></a><span data-ttu-id="8dead-141">Klas podstawowych</span><span class="sxs-lookup"><span data-stu-id="8dead-141">Base classes</span></span>

<span data-ttu-id="8dead-142">**Zredukowany wpływ na Szyfrowanie FIPS**.</span><span class="sxs-lookup"><span data-stu-id="8dead-142">**Reduced FIPS impact on Cryptography**.</span></span> <span data-ttu-id="8dead-143">W poprzednich wersjach .NET Framework zarządzane klasy dostawcy usług kryptograficznych, takie jak <xref:System.Security.Cryptography.SHA256Managed> throw, <xref:System.Security.Cryptography.CryptographicException> gdy systemowe biblioteki kryptograficzne są skonfigurowane w trybie FIPS.</span><span class="sxs-lookup"><span data-stu-id="8dead-143">In previous versions of .NET Framework, managed cryptographic provider classes such as <xref:System.Security.Cryptography.SHA256Managed> throw a <xref:System.Security.Cryptography.CryptographicException> when the system cryptographic libraries are configured in "FIPS mode".</span></span> <span data-ttu-id="8dead-144">Te wyjątki są zgłaszane, ponieważ zarządzane wersje klas dostawcy usług kryptograficznych, w przeciwieństwie do bibliotek kryptograficznych systemu, nie zostały poddane FIPS (Federal Information Processing Standards) 140-2 certyfikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-144">These exceptions are thrown because the managed versions of the cryptographic provider classes, unlike the system cryptographic libraries, have not undergone FIPS (Federal Information Processing Standards) 140-2 certification.</span></span> <span data-ttu-id="8dead-145">Ponieważ kilku deweloperów ma swoje komputery deweloperskie w trybie FIPS, wyjątki są często zgłaszane w systemach produkcyjnych.</span><span class="sxs-lookup"><span data-stu-id="8dead-145">Because few developers have their development machines in FIPS mode, the exceptions are commonly thrown in production systems.</span></span>

<span data-ttu-id="8dead-146">Domyślnie w aplikacjach, które są przeznaczone .NET Framework 4,8, następujące zarządzane klasy kryptograficzne nie zgłaszają już <xref:System.Security.Cryptography.CryptographicException> w tym przypadku:</span><span class="sxs-lookup"><span data-stu-id="8dead-146">By default in applications that target .NET Framework 4.8, the following managed cryptography classes no longer throw a <xref:System.Security.Cryptography.CryptographicException> in this case:</span></span>

- <xref:System.Security.Cryptography.MD5Cng>
- <xref:System.Security.Cryptography.MD5CryptoServiceProvider>
- <xref:System.Security.Cryptography.RC2CryptoServiceProvider>
- <xref:System.Security.Cryptography.RijndaelManaged>
- <xref:System.Security.Cryptography.RIPEMD160Managed>
- <xref:System.Security.Cryptography.SHA256Managed>

<span data-ttu-id="8dead-147">Zamiast tego te klasy przekierowują operacje kryptograficzne do biblioteki kryptografii systemu.</span><span class="sxs-lookup"><span data-stu-id="8dead-147">Instead, these classes redirect cryptographic operations to a system cryptography library.</span></span> <span data-ttu-id="8dead-148">Ta zmiana skutecznie usuwa potencjalne różnice między środowiskami deweloperskimi i środowiskami produkcyjnymi oraz sprawia, że składniki natywne i składniki zarządzane działają w ramach tych samych zasad kryptograficznych.</span><span class="sxs-lookup"><span data-stu-id="8dead-148">This change effectively removes a potentially confusing difference between developer environments and production environments and makes native components and managed components operate under the same cryptographic policy.</span></span> <span data-ttu-id="8dead-149">Aplikacje, które są zależne od tych wyjątków, mogą przywrócić poprzednie zachowanie przez ustawienie przełącznika AppContext `Switch.System.Security.Cryptography.UseLegacyFipsThrow` na `true` .</span><span class="sxs-lookup"><span data-stu-id="8dead-149">Applications that depend on these exceptions can restore the previous behavior by setting the AppContext switch `Switch.System.Security.Cryptography.UseLegacyFipsThrow` to `true`.</span></span> <span data-ttu-id="8dead-150">Aby uzyskać więcej informacji, zobacz [zarządzane klasy kryptografii nie zgłaszają wyjątku kryptografii w trybie FIPS](../migration-guide/retargeting/4.7.2-4.8.md#managed-cryptography-classes-do-not-throw-a-cryptographyexception-in-fips-mode).</span><span class="sxs-lookup"><span data-stu-id="8dead-150">For more information, see [Managed cryptography classes do not throw a CryptographyException in FIPS mode](../migration-guide/retargeting/4.7.2-4.8.md#managed-cryptography-classes-do-not-throw-a-cryptographyexception-in-fips-mode).</span></span>

<span data-ttu-id="8dead-151">**Korzystanie z zaktualizowanej wersji programu ZLib**</span><span class="sxs-lookup"><span data-stu-id="8dead-151">**Use of updated version of ZLib**</span></span>

<span data-ttu-id="8dead-152">Począwszy od .NET Framework 4,5, zestaw clrcompression.dll używa [zlib](https://www.zlib.net), natywnej biblioteki zewnętrznej do kompresji danych, aby zapewnić implementację algorytmu Wklęśnięcie.</span><span class="sxs-lookup"><span data-stu-id="8dead-152">Starting with .NET Framework 4.5, the clrcompression.dll assembly uses [ZLib](https://www.zlib.net), a native external library for data compression, in order to provide an implementation for the deflate algorithm.</span></span> <span data-ttu-id="8dead-153">Wersja .NET Framework 4,8 clrcompression.dll została zaktualizowana w celu używania ZLib w wersji 1.2.11, która obejmuje kilka kluczowych ulepszeń i poprawek.</span><span class="sxs-lookup"><span data-stu-id="8dead-153">The .NET Framework 4.8 version of clrcompression.dll is updated to use ZLib Version 1.2.11, which includes several key improvements and fixes.</span></span>

<a name="wcf48"></a>

#### <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="8dead-154">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="8dead-154">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="8dead-155">**Wprowadzenie do ServiceHealthBehavior**</span><span class="sxs-lookup"><span data-stu-id="8dead-155">**Introduction of ServiceHealthBehavior**</span></span>

<span data-ttu-id="8dead-156">Punkty końcowe kondycji są szeroko używane przez narzędzia aranżacji do zarządzania usługami w oparciu o ich stan kondycji.</span><span class="sxs-lookup"><span data-stu-id="8dead-156">Health endpoints are widely used by orchestration tools to manage services based on their health status.</span></span> <span data-ttu-id="8dead-157">Kontrola kondycji może być również używana przez narzędzia do monitorowania do śledzenia i dostarczania powiadomień dotyczących dostępności i wydajności usługi.</span><span class="sxs-lookup"><span data-stu-id="8dead-157">Health checks can also be used by monitoring tools to track and provide notifications about the availability and performance of a service.</span></span>

<span data-ttu-id="8dead-158">**ServiceHealthBehavior** to zachowanie usługi WCF, które rozszerza <xref:System.ServiceModel.Description.IServiceBehavior> .</span><span class="sxs-lookup"><span data-stu-id="8dead-158">**ServiceHealthBehavior** is a WCF service behavior that extends <xref:System.ServiceModel.Description.IServiceBehavior>.</span></span>  <span data-ttu-id="8dead-159">Po dodaniu do <xref:System.ServiceModel.Description.ServiceDescription.Behaviors?displayProperty=nameWithType> kolekcji zachowanie usługi wykonuje następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="8dead-159">When added to the <xref:System.ServiceModel.Description.ServiceDescription.Behaviors?displayProperty=nameWithType> collection, a service behavior does the following:</span></span>

- <span data-ttu-id="8dead-160">Zwraca stan kondycji usługi z kodami odpowiedzi HTTP.</span><span class="sxs-lookup"><span data-stu-id="8dead-160">Returns service health status with HTTP response codes.</span></span> <span data-ttu-id="8dead-161">W ciągu zapytania można określić kod stanu HTTP dla żądania sondowania kondycji HTTP/GET.</span><span class="sxs-lookup"><span data-stu-id="8dead-161">You can specify in a query string the HTTP status code for a HTTP/GET health probe request.</span></span>

- <span data-ttu-id="8dead-162">Publikuje informacje o kondycji usługi.</span><span class="sxs-lookup"><span data-stu-id="8dead-162">Publishes information about service health.</span></span> <span data-ttu-id="8dead-163">Szczegóły dotyczące usługi, w tym stan usługi, liczniki ograniczenia i pojemność, można wyświetlić za pomocą żądania HTTP/GET z `?health` ciągiem zapytania.</span><span class="sxs-lookup"><span data-stu-id="8dead-163">Service-specific details, including service state, throttle counts, and capacity can be displayed by using an HTTP/GET request with the `?health` query string.</span></span> <span data-ttu-id="8dead-164">Łatwość dostępu do tych informacji jest ważna podczas rozwiązywania problemów z usługą błędna WCF.</span><span class="sxs-lookup"><span data-stu-id="8dead-164">Ease of access to such information is important when troubleshooting a misbehaving WCF service.</span></span>

<span data-ttu-id="8dead-165">Istnieją dwa sposoby uwidocznienia punktu końcowego kondycji i publikowania informacji o kondycji usługi WCF:</span><span class="sxs-lookup"><span data-stu-id="8dead-165">There are two ways to expose the health endpoint and publish WCF service health information:</span></span>

- <span data-ttu-id="8dead-166">Za poorednictwem kodu.</span><span class="sxs-lookup"><span data-stu-id="8dead-166">Through code.</span></span> <span data-ttu-id="8dead-167">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="8dead-167">For example:</span></span>

  ```csharp
  ServiceHost host = new ServiceHost(typeof(Service1),
                     new Uri("http://contoso:81/Service1"));
  ServiceHealthBehavior healthBehavior =
      host.Description.Behaviors.Find<ServiceHealthBehavior>();
  healthBehavior ??= new ServiceHealthBehavior();
  host.Description.Behaviors.Add(healthBehavior);
  ```

  ```vb
  Dim host As New ServiceHost(GetType(Service1),
              New Uri("http://contoso:81/Service1"))
  Dim healthBehavior As ServiceHealthBehavior =
     host.Description.Behaviors.Find(Of ServiceHealthBehavior)()
  If healthBehavior Is Nothing Then
     healthBehavior = New ServiceHealthBehavior()
  End If
  host.Description.Behaviors.Add(healthBehavior)
  ```

- <span data-ttu-id="8dead-168">Przy użyciu pliku konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="8dead-168">By using a configuration file.</span></span> <span data-ttu-id="8dead-169">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="8dead-169">For example:</span></span>

  ```xml
  <behaviors>
    <serviceBehaviors>
      <behavior name="DefaultBehavior">
        <serviceHealth httpsGetEnabled="true"/>
      </behavior>
    </serviceBehaviors>
  </behaviors>
  ```

<span data-ttu-id="8dead-170">Za pomocą parametrów zapytania, takich jak,,,) można zbadać stan kondycji usługi `OnServiceFailure` `OnDispatcherFailure` `OnListenerFailure` `OnThrottlePercentExceeded` , a dla każdego parametru zapytania można określić kod odpowiedzi HTTP.</span><span class="sxs-lookup"><span data-stu-id="8dead-170">A service's health status can be queried by using query parameters such as `OnServiceFailure`, `OnDispatcherFailure`, `OnListenerFailure`, `OnThrottlePercentExceeded`), and an HTTP response code can be specified for each query parameter.</span></span> <span data-ttu-id="8dead-171">Jeśli kod odpowiedzi HTTP zostanie pominięty dla parametru zapytania, domyślnie używany jest kod odpowiedzi HTTP 503.</span><span class="sxs-lookup"><span data-stu-id="8dead-171">If the HTTP response code is omitted for a query parameter, a 503 HTTP response code is used by default.</span></span> <span data-ttu-id="8dead-172">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="8dead-172">For example:</span></span>

- <span data-ttu-id="8dead-173">OnServiceFailure: `https://contoso:81/Service1?health&OnServiceFailure=450`</span><span class="sxs-lookup"><span data-stu-id="8dead-173">OnServiceFailure: `https://contoso:81/Service1?health&OnServiceFailure=450`</span></span>

  <span data-ttu-id="8dead-174">Kod stanu odpowiedzi HTTP 450 jest zwracany, gdy element [ServiceHost. State](xref:System.ServiceModel.Channels.CommunicationObject.State) jest większy niż <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="8dead-174">A 450 HTTP response status code is returned when [ServiceHost.State](xref:System.ServiceModel.Channels.CommunicationObject.State) is greater than <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="8dead-175">Parametry zapytania i przykłady:</span><span class="sxs-lookup"><span data-stu-id="8dead-175">Query parameters and examples:</span></span>

- <span data-ttu-id="8dead-176">OnDispatcherFailure: `https://contoso:81/Service1?health&OnDispatcherFailure=455`</span><span class="sxs-lookup"><span data-stu-id="8dead-176">OnDispatcherFailure: `https://contoso:81/Service1?health&OnDispatcherFailure=455`</span></span>

  <span data-ttu-id="8dead-177">Kod stanu odpowiedzi HTTP 455 jest zwracany, gdy stan dowolnego z dyspozytorów kanałów jest większy niż <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="8dead-177">A 455 HTTP response status code is returned when the state of any of the channel dispatchers is greater than <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span></span>

- <span data-ttu-id="8dead-178">OnListenerFailure: `https://contoso:81/Service1?health&OnListenerFailure=465`</span><span class="sxs-lookup"><span data-stu-id="8dead-178">OnListenerFailure: `https://contoso:81/Service1?health&OnListenerFailure=465`</span></span>

  <span data-ttu-id="8dead-179">Kod stanu odpowiedzi HTTP 465 jest zwracany, gdy stan dowolnego odbiornika kanałów jest większy niż <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="8dead-179">A 465 HTTP response status code is returned when the state of any of the channel listeners is greater than <xref:System.ServiceModel.CommunicationState.Opened?displayProperty=nameWithType>.</span></span>

- <span data-ttu-id="8dead-180">OnThrottlePercentExceeded: `https://contoso:81/Service1?health&OnThrottlePercentExceeded= 70:350,95:500`</span><span class="sxs-lookup"><span data-stu-id="8dead-180">OnThrottlePercentExceeded: `https://contoso:81/Service1?health&OnThrottlePercentExceeded= 70:350,95:500`</span></span>

  <span data-ttu-id="8dead-181">Określa wartość procentową {1 – 100}, która wyzwala odpowiedź i kod odpowiedzi HTTP {200 – 599}.</span><span class="sxs-lookup"><span data-stu-id="8dead-181">Specifies the percentage {1 – 100} that triggers the response and its HTTP response code {200 – 599}.</span></span> <span data-ttu-id="8dead-182">W tym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="8dead-182">In this example:</span></span>

  - <span data-ttu-id="8dead-183">Jeśli wartość procentowa jest większa niż 95, zwracany jest kod odpowiedzi HTTP 500.</span><span class="sxs-lookup"><span data-stu-id="8dead-183">If the percentage is greater than 95, a 500 HTTP response code is returned.</span></span>

  - <span data-ttu-id="8dead-184">Jeśli zostanie zwrócona wartość procentowa lub z przedziału od 70 do 95, 350.</span><span class="sxs-lookup"><span data-stu-id="8dead-184">If the percentage or between 70 and 95, 350 is returned.</span></span>

  - <span data-ttu-id="8dead-185">W przeciwnym razie jest zwracana 200.</span><span class="sxs-lookup"><span data-stu-id="8dead-185">Otherwise, 200 is returned.</span></span>

<span data-ttu-id="8dead-186">Stan kondycji usługi może być wyświetlany w formacie HTML przez określenie ciągu zapytania, takiego jak `https://contoso:81/Service1?health` lub w XML, przez określenie ciągu zapytania, takiego jak `https://contoso:81/Service1?health&Xml` .</span><span class="sxs-lookup"><span data-stu-id="8dead-186">The service health status can be displayed either in HTML by specifying a query string like `https://contoso:81/Service1?health` or in XML by specifying a query string like `https://contoso:81/Service1?health&Xml`.</span></span> <span data-ttu-id="8dead-187">Ciąg zapytania, na przykład `https://contoso:81/Service1?health&NoContent` zwraca pustą stronę HTML.</span><span class="sxs-lookup"><span data-stu-id="8dead-187">A query string like `https://contoso:81/Service1?health&NoContent` returns an empty HTML page.</span></span>

<a name="wpf48"></a>

#### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="8dead-188">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="8dead-188">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="8dead-189">**Ulepszenia o wysokiej rozdzielczości DPI**</span><span class="sxs-lookup"><span data-stu-id="8dead-189">**High DPI enhancements**</span></span>

<span data-ttu-id="8dead-190">W .NET Framework 4,8, WPF dodaje obsługę rozpoznawania rozdzielczości DPI Per-Monitor v2 i Mixed-Mode DPI.</span><span class="sxs-lookup"><span data-stu-id="8dead-190">In .NET Framework 4.8, WPF adds support for Per-Monitor V2 DPI Awareness and Mixed-Mode DPI scaling.</span></span> <span data-ttu-id="8dead-191">Dodatkowe informacje na temat programowania wysokiej rozdzielczości DPI można znaleźć [w temacie Tworzenie aplikacji klasycznych o wysokiej rozdzielczości DPI w systemie Windows](/windows/win32/hidpi/high-dpi-desktop-application-development-on-windows) .</span><span class="sxs-lookup"><span data-stu-id="8dead-191">See [High DPI Desktop Application Development on Windows](/windows/win32/hidpi/high-dpi-desktop-application-development-on-windows) for additional information about high DPI development.</span></span>

<span data-ttu-id="8dead-192">.NET Framework 4,8 usprawnia obsługę hostowanych funkcji HWND i Windows Forms współdziałania w aplikacjach WPF o wysokiej rozdzielczości DPI na platformach, które obsługują skalowanie Mixed-Mode DPI (począwszy od aktualizacji systemu Windows 10 z kwietnia 2018).</span><span class="sxs-lookup"><span data-stu-id="8dead-192">.NET Framework 4.8 improves support for hosted HWNDs and Windows Forms interoperation in High-DPI WPF applications on platforms that support Mixed-Mode DPI scaling (starting with Windows 10 April 2018 Update).</span></span> <span data-ttu-id="8dead-193">Gdy obsługiwane są elementy HWND lub Windows Forms, które są tworzone jako Mixed-Mode skalowanie w systemie Windows przez wywołanie [SetThreadDpiHostingBehavior](/windows/desktop/api/winuser/nf-winuser-setthreaddpihostingbehavior) i [SetThreadDpiAwarenessContext](/windows/desktop/api/winuser/nf-winuser-setthreaddpiawarenesscontext), mogą one być hostowane w aplikacji WPF Per-Monitor v2 i odpowiednio skalowane.</span><span class="sxs-lookup"><span data-stu-id="8dead-193">When hosted HWNDs or Windows Forms controls are created as Mixed-Mode DPI-scaled windows by calling [SetThreadDpiHostingBehavior](/windows/desktop/api/winuser/nf-winuser-setthreaddpihostingbehavior) and [SetThreadDpiAwarenessContext](/windows/desktop/api/winuser/nf-winuser-setthreaddpiawarenesscontext), they can be hosted in a Per-Monitor V2 WPF application and are sized and scaled appropriately.</span></span> <span data-ttu-id="8dead-194">Taka hostowana zawartość nie jest renderowana w natywnej rozdzielczości DPI; Zamiast tego system operacyjny skaluje hostowaną zawartość do odpowiedniego rozmiaru.</span><span class="sxs-lookup"><span data-stu-id="8dead-194">Such hosted content is not rendered at the native DPI; instead, the operating system scales the hosted content to the appropriate size.</span></span> <span data-ttu-id="8dead-195">Obsługa trybu rozpoznawania w trybie DPI Per-Monitor v2 również umożliwia hostowanie formantów WPF (tj. nadrzędnych) w oknie macierzystym w aplikacji o wysokiej rozdzielczości DPI.</span><span class="sxs-lookup"><span data-stu-id="8dead-195">The support for Per-Monitor v2 DPI awareness mode also allows WPF controls to be hosted (i.e., parented) in a native window in a high-DPI application.</span></span>

<span data-ttu-id="8dead-196">Aby włączyć obsługę skalowania w Mixed-Mode o wysokiej rozdzielczości DPI, można ustawić następujące przełączniki [AppContext](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) w pliku konfiguracyjnym aplikacji:</span><span class="sxs-lookup"><span data-stu-id="8dead-196">To enable support for Mixed-Mode High DPI scaling, you can set the following [AppContext](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) switches the application configuration file:</span></span>

```xml
<runtime>
   <AppContextSwitchOverrides value = "Switch.System.Windows.DoNotScaleForDpiChanges=false; Switch.System.Windows.DoNotUsePresentationDpiCapabilityTier2OrGreater=false"/>
</runtime>
```

<a name="clr48"></a>

#### <a name="common-language-runtime"></a><span data-ttu-id="8dead-197">Środowisko uruchomieniowe języka wspólnego</span><span class="sxs-lookup"><span data-stu-id="8dead-197">Common language runtime</span></span>

<span data-ttu-id="8dead-198">Środowisko uruchomieniowe w .NET Framework 4,8 obejmuje następujące zmiany i usprawnienia:</span><span class="sxs-lookup"><span data-stu-id="8dead-198">The runtime in .NET Framework 4.8 includes the following changes and improvements:</span></span>

<span data-ttu-id="8dead-199">**Ulepszenia kompilatora JIT**.</span><span class="sxs-lookup"><span data-stu-id="8dead-199">**Improvements to the JIT compiler**.</span></span> <span data-ttu-id="8dead-200">Kompilator just-in-Time (JIT) w .NET Framework 4,8 jest oparty na kompilatorze JIT w programie .NET Core 2,1.</span><span class="sxs-lookup"><span data-stu-id="8dead-200">The Just-in-time (JIT) compiler in .NET Framework 4.8 is based on the JIT compiler in .NET Core 2.1.</span></span> <span data-ttu-id="8dead-201">Wiele optymalizacji i wszystkie poprawki błędów kompilatora JIT programu .NET Core 2,1 są zawarte w kompilatorze JIT .NET Framework 4,8.</span><span class="sxs-lookup"><span data-stu-id="8dead-201">Many of the optimizations and all of the bug fixes made to the .NET Core 2.1 JIT compiler are included in the .NET Framework 4.8 JIT compiler.</span></span>

<span data-ttu-id="8dead-202">**Ulepszenia programu Ngen**.</span><span class="sxs-lookup"><span data-stu-id="8dead-202">**NGEN improvements**.</span></span> <span data-ttu-id="8dead-203">Środowisko uruchomieniowe poprawiło zarządzanie pamięcią dla obrazów [natywnego generatora obrazów](../tools/ngen-exe-native-image-generator.md) (Ngen), dzięki czemu dane mapowane z obrazów NGen nie są rezydentem pamięci.</span><span class="sxs-lookup"><span data-stu-id="8dead-203">The runtime has improved its memory management for [Native Image Generator](../tools/ngen-exe-native-image-generator.md) (NGEN) images so that data mapped from NGEN images are not memory-resident.</span></span> <span data-ttu-id="8dead-204">Pozwala to zmniejszyć ilość miejsca dostępnego na ataki próbujące wykonać dowolny kod, modyfikując pamięć, która zostanie wykonana.</span><span class="sxs-lookup"><span data-stu-id="8dead-204">This reduces the surface area available to attacks that attempt to execute arbitrary code by modifying memory that will be executed.</span></span>

<span data-ttu-id="8dead-205">**Skanowanie w poszukiwaniu złośliwego oprogramowania dla wszystkich zestawów**.</span><span class="sxs-lookup"><span data-stu-id="8dead-205">**Antimalware scanning for all assemblies**.</span></span> <span data-ttu-id="8dead-206">W poprzednich wersjach .NET Framework środowisko uruchomieniowe skanuje wszystkie zestawy ładowane z dysku przy użyciu programu Windows Defender lub oprogramowania chroniącego przed złośliwym kodem.</span><span class="sxs-lookup"><span data-stu-id="8dead-206">In previous versions of .NET Framework, the runtime scans all assemblies loaded from disk using either Windows Defender or third-party antimalware software.</span></span> <span data-ttu-id="8dead-207">Jednak zestawy załadowane z innych źródeł, na przykład przez <xref:System.Reflection.Assembly.Load(System.Byte[])?displayProperty=nameWithType> metodę, nie są skanowane i mogą potencjalnie zawierać niewykryte złośliwe oprogramowanie.</span><span class="sxs-lookup"><span data-stu-id="8dead-207">However, assemblies loaded from other sources, such as by the <xref:System.Reflection.Assembly.Load(System.Byte[])?displayProperty=nameWithType> method, are not scanned and can potentially contain undetected malware.</span></span> <span data-ttu-id="8dead-208">Począwszy od .NET Framework 4,8 uruchomionego w systemie Windows 10 środowisko uruchomieniowe wyzwala skanowanie przez rozwiązania chroniące przed złośliwym kodem [(AMSI)](/windows/desktop/AMSI/antimalware-scan-interface-portal).</span><span class="sxs-lookup"><span data-stu-id="8dead-208">Starting with .NET Framework 4.8 running on Windows 10, the runtime triggers a scan by antimalware solutions that implement the [Antimalware Scan Interface (AMSI)](/windows/desktop/AMSI/antimalware-scan-interface-portal).</span></span>

<a name="v472"></a>

## <a name="whats-new-in-net-framework-472"></a><span data-ttu-id="8dead-209">Co nowego w .NET Framework 4.7.2</span><span class="sxs-lookup"><span data-stu-id="8dead-209">What's new in .NET Framework 4.7.2</span></span>

<span data-ttu-id="8dead-210">.NET Framework 4.7.2 zawiera nowe funkcje w następujących obszarach:</span><span class="sxs-lookup"><span data-stu-id="8dead-210">.NET Framework 4.7.2 includes new features in the following areas:</span></span>

- [<span data-ttu-id="8dead-211">Klas podstawowych</span><span class="sxs-lookup"><span data-stu-id="8dead-211">Base classes</span></span>](#core-472)
- [<span data-ttu-id="8dead-212">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="8dead-212">ASP.NET</span></span>](#asp-net472)
- [<span data-ttu-id="8dead-213">Sieć</span><span class="sxs-lookup"><span data-stu-id="8dead-213">Networking</span></span>](#net472)
- [<span data-ttu-id="8dead-214">SQL</span><span class="sxs-lookup"><span data-stu-id="8dead-214">SQL</span></span>](#sql472)
- [<span data-ttu-id="8dead-215">WPF</span><span class="sxs-lookup"><span data-stu-id="8dead-215">WPF</span></span>](#wpf472)
- [<span data-ttu-id="8dead-216">ClickOnce</span><span class="sxs-lookup"><span data-stu-id="8dead-216">ClickOnce</span></span>](#clickonce)

<span data-ttu-id="8dead-217">Dalszy nacisk na .NET Framework 4.7.2 jest ulepszony, co pozwala aplikacji zapewnić odpowiednie środowisko dla użytkowników technologii pomocniczej.</span><span class="sxs-lookup"><span data-stu-id="8dead-217">A continuing focus in .NET Framework 4.7.2 is improved accessibility, which allows an application to provide an appropriate experience for users of Assistive Technology.</span></span> <span data-ttu-id="8dead-218">Informacje o ulepszeniach ułatwień dostępu w programie .NET Framework 4.7.2 można znaleźć w temacie [co nowego w ułatwieniach dostępu w programie .NET Framework](whats-new-in-accessibility.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-218">For information on accessibility improvements in .NET Framework 4.7.2, see [What's new in accessibility in .NET Framework](whats-new-in-accessibility.md).</span></span>

<a name="core-472"></a>

#### <a name="base-classes"></a><span data-ttu-id="8dead-219">Klas podstawowych</span><span class="sxs-lookup"><span data-stu-id="8dead-219">Base classes</span></span>

<span data-ttu-id="8dead-220">.NET Framework 4.7.2 oferuje dużą liczbę ulepszeń kryptograficznych, lepszą obsługę dekompresji archiwów ZIP oraz dodatkowe interfejsy API kolekcji.</span><span class="sxs-lookup"><span data-stu-id="8dead-220">.NET Framework 4.7.2 features a large number of cryptographic enhancements, better decompression support for ZIP archives, and additional collection APIs.</span></span>

<span data-ttu-id="8dead-221">**Nowe przeciążenia RSA. Tworzenie i DSA. Create**</span><span class="sxs-lookup"><span data-stu-id="8dead-221">**New overloads of RSA.Create and DSA.Create**</span></span>

<span data-ttu-id="8dead-222"><xref:System.Security.Cryptography.DSA.Create(System.Security.Cryptography.DSAParameters)?displayProperty=nameWithType>Metody i <xref:System.Security.Cryptography.RSA.Create(System.Security.Cryptography.RSAParameters)?displayProperty=nameWithType> umożliwiają podawanie kluczowych parametrów podczas tworzenia wystąpienia nowego <xref:System.Security.Cryptography.DSA> lub <xref:System.Security.Cryptography.RSA> klucza.</span><span class="sxs-lookup"><span data-stu-id="8dead-222">The <xref:System.Security.Cryptography.DSA.Create(System.Security.Cryptography.DSAParameters)?displayProperty=nameWithType> and <xref:System.Security.Cryptography.RSA.Create(System.Security.Cryptography.RSAParameters)?displayProperty=nameWithType> methods let you supply key parameters when instantiating a new <xref:System.Security.Cryptography.DSA> or <xref:System.Security.Cryptography.RSA> key.</span></span> <span data-ttu-id="8dead-223">Umożliwiają one zastępowanie kodu podobne do następujących:</span><span class="sxs-lookup"><span data-stu-id="8dead-223">They allow you to replace code like the following:</span></span>

```csharp
// Before .NET Framework 4.7.2
using (RSA rsa = RSA.Create())
{
   rsa.ImportParameters(rsaParameters);
   // Other code to execute using the RSA instance.
}
```

```vb
' Before .NET Framework 4.7.2
Using rsa = RSA.Create()
   rsa.ImportParameters(rsaParameters)
   ' Other code to execute using the rsa instance.
End Using
```

<span data-ttu-id="8dead-224">z kodem podobnym do tego:</span><span class="sxs-lookup"><span data-stu-id="8dead-224">with code like this:</span></span>

```csharp
// Starting with .NET Framework 4.7.2
using (RSA rsa = RSA.Create(rsaParameters))
{
   // Other code to execute using the rsa instance.
}
```

```vb
' Starting with .NET Framework 4.7.2
Using rsa = RSA.Create(rsaParameters)
   ' Other code to execute using the rsa instance.
End Using
```

<span data-ttu-id="8dead-225"><xref:System.Security.Cryptography.DSA.Create(System.Int32)?displayProperty=nameWithType>Metody i <xref:System.Security.Cryptography.RSA.Create(System.Int32)?displayProperty=nameWithType> pozwalają generować nowe <xref:System.Security.Cryptography.DSA> lub <xref:System.Security.Cryptography.RSA> klucze o określonym rozmiarze klucza.</span><span class="sxs-lookup"><span data-stu-id="8dead-225">The <xref:System.Security.Cryptography.DSA.Create(System.Int32)?displayProperty=nameWithType> and <xref:System.Security.Cryptography.RSA.Create(System.Int32)?displayProperty=nameWithType> methods let you generate new <xref:System.Security.Cryptography.DSA> or <xref:System.Security.Cryptography.RSA> keys with a specific key size.</span></span> <span data-ttu-id="8dead-226">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="8dead-226">For example:</span></span>

```csharp
using (DSA dsa = DSA.Create(2048))
{
   // Other code to execute using the dsa instance.
}
```

```vb
Using dsa = DSA.Create(2048)
   ' Other code to execute using the dsa instance.
End Using
```

<span data-ttu-id="8dead-227">**Konstruktory Rfc2898DeriveBytes akceptują nazwę algorytmu wyznaczania wartości skrótu**</span><span class="sxs-lookup"><span data-stu-id="8dead-227">**Rfc2898DeriveBytes constructors accept a hash algorithm name**</span></span>

<span data-ttu-id="8dead-228"><xref:System.Security.Cryptography.Rfc2898DeriveBytes>Klasa ma trzy nowe konstruktory z <xref:System.Security.Cryptography.HashAlgorithmName> parametrem, który IDENTYFIKUJE Algorytm HMAC, który ma być używany podczas wyprowadzania kluczy.</span><span class="sxs-lookup"><span data-stu-id="8dead-228">The <xref:System.Security.Cryptography.Rfc2898DeriveBytes> class has three new constructors with a <xref:System.Security.Cryptography.HashAlgorithmName> parameter that identifies the HMAC algorithm to use when deriving keys.</span></span> <span data-ttu-id="8dead-229">Zamiast używać algorytmu SHA-1, deweloperzy powinni używać algorytmu HMAC opartego na algorytmie SHA-2, takiego jak SHA-256, jak pokazano w następującym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="8dead-229">Instead of using SHA-1, developers should use a SHA-2-based HMAC like SHA-256, as shown in the following example:</span></span>

```csharp
private static byte[] DeriveKey(string password, out int iterations, out byte[] salt,
                                out HashAlgorithmName algorithm)
{
   iterations = 100000;
   algorithm = HashAlgorithmName.SHA256;

   const int SaltSize = 32;
   const int DerivedValueSize = 32;

   using (Rfc2898DeriveBytes pbkdf2 = new Rfc2898DeriveBytes(password, SaltSize,
                                                             iterations, algorithm))
   {
      salt = pbkdf2.Salt;
      return pbkdf2.GetBytes(DerivedValueSize);
   }
}
```

```vb
Private Shared Function DeriveKey(password As String, ByRef iterations As Integer,
                                  ByRef salt AS Byte(), ByRef algorithm As HashAlgorithmName) As Byte()
   iterations = 100000
   algorithm = HashAlgorithmName.SHA256

   Const SaltSize As Integer = 32
   Const  DerivedValueSize As Integer = 32

   Using pbkdf2 = New Rfc2898DeriveBytes(password, SaltSize, iterations, algorithm)
      salt = pbkdf2.Salt
      Return pbkdf2.GetBytes(DerivedValueSize)
   End Using
End Function
```

<span data-ttu-id="8dead-230">**Obsługa kluczy tymczasowych**</span><span class="sxs-lookup"><span data-stu-id="8dead-230">**Support for ephemeral keys**</span></span>

<span data-ttu-id="8dead-231">Import PFX może opcjonalnie załadować klucze prywatne bezpośrednio z pamięci, pomijając dysk twardy.</span><span class="sxs-lookup"><span data-stu-id="8dead-231">PFX import can optionally load private keys directly from memory, bypassing the hard drive.</span></span> <span data-ttu-id="8dead-232">Gdy nowa <xref:System.Security.Cryptography.X509Certificates.X509KeyStorageFlags.EphemeralKeySet?displayProperty=nameWithType> flaga jest określona w <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> konstruktorze lub jeden z przeciążeń <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.Import%2A?displayProperty=nameWithType> metody, klucze prywatne zostaną załadowane jako klucze tymczasowe.</span><span class="sxs-lookup"><span data-stu-id="8dead-232">When the new <xref:System.Security.Cryptography.X509Certificates.X509KeyStorageFlags.EphemeralKeySet?displayProperty=nameWithType> flag is specified in an <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> constructor or one of the overloads of the <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.Import%2A?displayProperty=nameWithType> method, the private keys will be loaded as ephemeral keys.</span></span> <span data-ttu-id="8dead-233">Zapobiega to widocznym kluczom na dysku.</span><span class="sxs-lookup"><span data-stu-id="8dead-233">This prevents the keys from being visible on the disk.</span></span> <span data-ttu-id="8dead-234">Ale</span><span class="sxs-lookup"><span data-stu-id="8dead-234">However:</span></span>

- <span data-ttu-id="8dead-235">Ponieważ klucze nie są utrwalane na dysku, certyfikaty załadowane z tą flagą nie są dobrym kandydatami do dodania do X509Store.</span><span class="sxs-lookup"><span data-stu-id="8dead-235">Since the keys are not persisted to disk, certificates loaded with this flag are not good candidates to add to an X509Store.</span></span>

- <span data-ttu-id="8dead-236">Klucze ładowane w ten sposób są prawie zawsze ładowane za pośrednictwem systemu Windows CNG.</span><span class="sxs-lookup"><span data-stu-id="8dead-236">Keys loaded in this manner are almost always loaded via Windows CNG.</span></span> <span data-ttu-id="8dead-237">W związku z tym obiekty wywołujące muszą uzyskać dostęp do klucza prywatnego przez wywoływanie metod rozszerzających, takich jak [certyfikat. GetRSAPrivateKey ()](xref:System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPrivateKey%2A).</span><span class="sxs-lookup"><span data-stu-id="8dead-237">Therefore, callers must access the private key by calling extension methods, such as [cert.GetRSAPrivateKey()](xref:System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPrivateKey%2A).</span></span> <span data-ttu-id="8dead-238"><xref:System.Security.Cryptography.X509Certificates.X509Certificate2.PrivateKey?displayProperty=nameWithType>Właściwość nie działa.</span><span class="sxs-lookup"><span data-stu-id="8dead-238">The <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.PrivateKey?displayProperty=nameWithType> property does not function.</span></span>

- <span data-ttu-id="8dead-239">Ponieważ Starsza <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.PrivateKey?displayProperty=nameWithType> Właściwość nie działa z certyfikatami, deweloperzy powinni wykonać rygorystyczne testy przed przełączeniem do kluczy tymczasowych.</span><span class="sxs-lookup"><span data-stu-id="8dead-239">Since the legacy <xref:System.Security.Cryptography.X509Certificates.X509Certificate2.PrivateKey?displayProperty=nameWithType> property does not work with certificates, developers should perform rigorous testing before switching to ephemeral keys.</span></span>

<span data-ttu-id="8dead-240">**Programowe tworzenie certyfikatów podpisywania certyfikatów PKCS # 10 oraz certyfikaty klucza publicznego X. 509**</span><span class="sxs-lookup"><span data-stu-id="8dead-240">**Programmatic creation of PKCS#10 certification signing requests and X.509 public key certificates**</span></span>

<span data-ttu-id="8dead-241">Począwszy od .NET Framework 4.7.2, obciążenia mogą generować żądania podpisania certyfikatu (przedstawiciele klienta), co umożliwia przygotowanie generacji żądań certyfikatów do istniejących narzędzi.</span><span class="sxs-lookup"><span data-stu-id="8dead-241">Starting with .NET Framework 4.7.2, workloads can generate certificate signing requests (CSRs), which allows certificate request generation to be staged into existing tooling.</span></span> <span data-ttu-id="8dead-242">Jest to często przydatne w scenariuszach testowych.</span><span class="sxs-lookup"><span data-stu-id="8dead-242">This is frequently useful in test scenarios.</span></span>

<span data-ttu-id="8dead-243">Aby uzyskać więcej informacji i przykładów kodu, zobacz "programowe tworzenie żądań podpisywania certyfikatów PKCS # 10 oraz certyfikaty klucza publicznego X. 509" w [blogu platformy .NET](https://devblogs.microsoft.com/dotnet/net-framework-4-7-2-developer-pack-early-access-build-3056-is-available/).</span><span class="sxs-lookup"><span data-stu-id="8dead-243">For more information and code examples, see "Programmatic creation of PKCS#10 certification signing requests and X.509 public key certificates" in the [.NET Blog](https://devblogs.microsoft.com/dotnet/net-framework-4-7-2-developer-pack-early-access-build-3056-is-available/).</span></span>

<span data-ttu-id="8dead-244">**Nowi członkowie SignerInfo**</span><span class="sxs-lookup"><span data-stu-id="8dead-244">**New SignerInfo members**</span></span>

<span data-ttu-id="8dead-245">Począwszy od .NET Framework 4.7.2, <xref:System.Security.Cryptography.Pkcs.SignerInfo> Klasa ujawnia więcej informacji o sygnaturze.</span><span class="sxs-lookup"><span data-stu-id="8dead-245">Starting with .NET Framework 4.7.2, the <xref:System.Security.Cryptography.Pkcs.SignerInfo> class exposes more information about the signature.</span></span> <span data-ttu-id="8dead-246">Możesz pobrać wartość <xref:System.Security.Cryptography.Pkcs.SignerInfo.SignatureAlgorithm?displayProperty=fullName> właściwości, aby określić algorytm podpisu używany przez program podpisujący.</span><span class="sxs-lookup"><span data-stu-id="8dead-246">You can retrieve the value of the <xref:System.Security.Cryptography.Pkcs.SignerInfo.SignatureAlgorithm?displayProperty=fullName> property to determine the signature algorithm used by the signer.</span></span> <span data-ttu-id="8dead-247"><xref:System.Security.Cryptography.Pkcs.SignerInfo.GetSignature%2A?displayProperty=nameWithType> można wywołać, aby uzyskać kopię podpisu kryptograficznego dla tej osoby podpisującej.</span><span class="sxs-lookup"><span data-stu-id="8dead-247"><xref:System.Security.Cryptography.Pkcs.SignerInfo.GetSignature%2A?displayProperty=nameWithType> can be called to get a copy of the cryptographic signature for this signer.</span></span>

<span data-ttu-id="8dead-248">**Pozostawienie opakowanego strumienia otwartego po usunięciu CryptoStream**</span><span class="sxs-lookup"><span data-stu-id="8dead-248">**Leaving a wrapped stream open after CryptoStream is disposed**</span></span>

<span data-ttu-id="8dead-249">Począwszy od .NET Framework 4.7.2, <xref:System.Security.Cryptography.CryptoStream> Klasa ma dodatkowy Konstruktor, który pozwala <xref:System.Security.Cryptography.CryptoStream.Dispose%2A> nie zamykać opakowanego strumienia.</span><span class="sxs-lookup"><span data-stu-id="8dead-249">Starting with .NET Framework 4.7.2, the <xref:System.Security.Cryptography.CryptoStream> class has an additional constructor that allows <xref:System.Security.Cryptography.CryptoStream.Dispose%2A> to not close the wrapped stream.</span></span> <span data-ttu-id="8dead-250">Aby pozostawić opakowany strumień otwarty po usunięciu <xref:System.Security.Cryptography.CryptoStream> wystąpienia, wywołaj nowego <xref:System.Security.Cryptography.CryptoStream> konstruktora w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="8dead-250">To leave the wrapped stream open after the <xref:System.Security.Cryptography.CryptoStream> instance is disposed, call the new <xref:System.Security.Cryptography.CryptoStream> constructor as follows:</span></span>

```csharp
var cStream = new CryptoStream(stream, transform, mode, leaveOpen: true);
```

```vb
Dim cStream = New CryptoStream(stream, transform, mode, leaveOpen:=true)
```

<span data-ttu-id="8dead-251">**Dekompresja zmian w DeflateStream**</span><span class="sxs-lookup"><span data-stu-id="8dead-251">**Decompression changes in DeflateStream**</span></span>

<span data-ttu-id="8dead-252">Począwszy od .NET Framework 4.7.2, implementacja operacji dekompresji w <xref:System.IO.Compression.DeflateStream> klasie została zmieniona w taki sposób, aby domyślnie używała natywnych interfejsów API systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="8dead-252">Starting with .NET Framework 4.7.2, the implementation of decompression operations in the <xref:System.IO.Compression.DeflateStream> class has changed to use native Windows APIs by default.</span></span> <span data-ttu-id="8dead-253">Zwykle powoduje to znaczne zwiększenie wydajności.</span><span class="sxs-lookup"><span data-stu-id="8dead-253">Typically, this results in a substantial performance improvement.</span></span>

<span data-ttu-id="8dead-254">Obsługa dekompresji przy użyciu interfejsów API systemu Windows jest włączona domyślnie dla aplikacji, które są przeznaczone .NET Framework 4.7.2.</span><span class="sxs-lookup"><span data-stu-id="8dead-254">Support for decompression by using Windows APIs is enabled by default for applications that target .NET Framework 4.7.2.</span></span> <span data-ttu-id="8dead-255">Aplikacje, które są przeznaczone dla wcześniejszych wersji .NET Framework ale działają w ramach .NET Framework 4.7.2, mogą przystąpić do tego zachowania, dodając następujący [przełącznik AppContext](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) do pliku konfiguracji aplikacji:</span><span class="sxs-lookup"><span data-stu-id="8dead-255">Applications that target earlier versions of .NET Framework but are running under .NET Framework 4.7.2 can opt into this behavior by adding the following [AppContext switch](../configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) to the application configuration file:</span></span>

```xml
<AppContextSwitchOverrides value="Switch.System.IO.Compression.DoNotUseNativeZipLibraryForDecompression=false" />
```

<span data-ttu-id="8dead-256">**Dodatkowe interfejsy API kolekcji**</span><span class="sxs-lookup"><span data-stu-id="8dead-256">**Additional collection APIs**</span></span>

<span data-ttu-id="8dead-257">.NET Framework 4.7.2 dodaje wiele nowych interfejsów API do <xref:System.Collections.Generic.SortedSet%601> <xref:System.Collections.Generic.HashSet%601> typów i.</span><span class="sxs-lookup"><span data-stu-id="8dead-257">.NET Framework 4.7.2 adds a number of new APIs to the <xref:System.Collections.Generic.SortedSet%601> and <xref:System.Collections.Generic.HashSet%601> types.</span></span> <span data-ttu-id="8dead-258">Są one następujące:</span><span class="sxs-lookup"><span data-stu-id="8dead-258">These include:</span></span>

- <span data-ttu-id="8dead-259">`TryGetValue` metody, które zwiększają wzorzec try użyty w innych typach kolekcji do tych dwóch typów.</span><span class="sxs-lookup"><span data-stu-id="8dead-259">`TryGetValue` methods, which extend the try pattern used in other collection types to these two types.</span></span> <span data-ttu-id="8dead-260">Dostępne metody:</span><span class="sxs-lookup"><span data-stu-id="8dead-260">The methods are:</span></span>

  - [<span data-ttu-id="8dead-261">Public bool HashSet — \<T> . TryGetValue (T equalValue, out T actualValue)</span><span class="sxs-lookup"><span data-stu-id="8dead-261">public bool HashSet\<T>.TryGetValue(T equalValue, out T actualValue)</span></span>](xref:System.Collections.Generic.SortedSet%601.TryGetValue%2A)
  - [<span data-ttu-id="8dead-262">Public bool SortedSet \<T> . TryGetValue (T equalValue, out T actualValue)</span><span class="sxs-lookup"><span data-stu-id="8dead-262">public bool SortedSet\<T>.TryGetValue(T equalValue, out T actualValue)</span></span>](xref:System.Collections.Generic.SortedSet%601.TryGetValue%2A)

- <span data-ttu-id="8dead-263">`Enumerable.To*` metody rozszerzające, które konwertują kolekcję na <xref:System.Collections.Generic.HashSet%601> :</span><span class="sxs-lookup"><span data-stu-id="8dead-263">`Enumerable.To*` extension methods, which convert a collection to a <xref:System.Collections.Generic.HashSet%601>:</span></span>

  - [<span data-ttu-id="8dead-264">publiczne statyczne HashSet — \<TSource> ToHashSet \<TSource> (to \<TSource> Źródło IEnumerable)</span><span class="sxs-lookup"><span data-stu-id="8dead-264">public static HashSet\<TSource> ToHashSet\<TSource>(this IEnumerable\<TSource> source)</span></span>](xref:System.Linq.Enumerable.ToHashSet%2A)
  - [<span data-ttu-id="8dead-265">publiczne statyczne HashSet — \<TSource> ToHashSet \<TSource> (Źródło IEnumerable \<TSource> , IEqualityComparer — moduł \<TSource> porównujący)</span><span class="sxs-lookup"><span data-stu-id="8dead-265">public static HashSet\<TSource> ToHashSet\<TSource>(this IEnumerable\<TSource> source, IEqualityComparer\<TSource> comparer)</span></span>](xref:System.Linq.Enumerable.ToHashSet%2A)

- <span data-ttu-id="8dead-266">Nowe <xref:System.Collections.Generic.HashSet%601> konstruktory, które umożliwiają ustawienie pojemności kolekcji, która daje korzyść wydajności, gdy wiesz, jaki jest rozmiar z <xref:System.Collections.Generic.HashSet%601> góry:</span><span class="sxs-lookup"><span data-stu-id="8dead-266">New <xref:System.Collections.Generic.HashSet%601> constructors that let you set the collection's capacity, which yields a performance benefit when you know the size of the <xref:System.Collections.Generic.HashSet%601> in advance:</span></span>

  - <span data-ttu-id="8dead-267">[Public HashSet — (int)](xref:System.Collections.Generic.HashSet%601.%23ctor(System.Int32))</span><span class="sxs-lookup"><span data-stu-id="8dead-267">[public HashSet(int capacity)](xref:System.Collections.Generic.HashSet%601.%23ctor(System.Int32))</span></span>
  - <span data-ttu-id="8dead-268">[Public HashSet — (int, IEqualityComparer \<T> )](xref:System.Collections.Generic.HashSet%601.%23ctor(System.Int32,System.Collections.Generic.IEqualityComparer%7B%600%7D))</span><span class="sxs-lookup"><span data-stu-id="8dead-268">[public HashSet(int capacity, IEqualityComparer\<T> comparer)](xref:System.Collections.Generic.HashSet%601.%23ctor(System.Int32,System.Collections.Generic.IEqualityComparer%7B%600%7D))</span></span>

<span data-ttu-id="8dead-269"><xref:System.Collections.Concurrent.ConcurrentDictionary%602>Klasa zawiera nowe przeciążenia <xref:System.Collections.Concurrent.ConcurrentDictionary%602.AddOrUpdate%2A> metod i, <xref:System.Collections.Concurrent.ConcurrentDictionary%602.GetOrAdd%2A> Aby pobrać wartość ze słownika lub dodać ją, jeśli nie zostanie znaleziona, i dodać wartość do słownika lub zaktualizować ją, jeśli już istnieje.</span><span class="sxs-lookup"><span data-stu-id="8dead-269">The <xref:System.Collections.Concurrent.ConcurrentDictionary%602> class includes new overloads of the <xref:System.Collections.Concurrent.ConcurrentDictionary%602.AddOrUpdate%2A> and <xref:System.Collections.Concurrent.ConcurrentDictionary%602.GetOrAdd%2A> methods to retrieve a value from the dictionary or to add it if it is not found, and to add a value to the dictionary or to update it if it already exists.</span></span>

```csharp
public TValue AddOrUpdate<TArg>(TKey key, Func<TKey, TArg, TValue> addValueFactory, Func<TKey, TValue, TArg, TValue> updateValueFactory, TArg factoryArgument)

public TValue GetOrAdd<TArg>(TKey key, Func<TKey, TArg, TValue> valueFactory, TArg factoryArgument)
```

```vb
Public AddOrUpdate(Of TArg)(key As TKey, addValueFactory As Func(Of TKey, TArg, TValue), updateValueFactory As Func(Of TKey, TValue, TArg, TValue), factoryArgument As TArg) As TValue

Public GetOrAdd(Of TArg)(key As TKey, valueFactory As Func(Of TKey, TArg, TValue), factoryArgument As TArg) As TValue
```

<a name="asp-net472"></a>

#### <a name="aspnet"></a><span data-ttu-id="8dead-270">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="8dead-270">ASP.NET</span></span>

<span data-ttu-id="8dead-271">**Obsługa iniekcji zależności w formularzach sieci Web**</span><span class="sxs-lookup"><span data-stu-id="8dead-271">**Support for dependency injection in Web Forms**</span></span>

<span data-ttu-id="8dead-272">[Iniekcja zależności (di)](/aspnet/core/fundamentals/dependency-injection#overview-of-dependency-injection) oddziela obiekty i ich zależności, tak aby kod obiektu nie był już zmieniany tylko z powodu zmiany zależności.</span><span class="sxs-lookup"><span data-stu-id="8dead-272">[Dependency injection (DI)](/aspnet/core/fundamentals/dependency-injection#overview-of-dependency-injection) decouples objects and their dependencies so that an object's code no longer needs to be changed just because a dependency has changed.</span></span> <span data-ttu-id="8dead-273">Podczas tworzenia aplikacji ASP.NET, które są przeznaczone dla .NET Framework 4.7.2, można:</span><span class="sxs-lookup"><span data-stu-id="8dead-273">When developing ASP.NET applications that target .NET Framework 4.7.2, you can:</span></span>

- <span data-ttu-id="8dead-274">Używaj opartych na metodach, opartych na interfejsach i iniekcji konstruktorów w programach [obsługi i modułach](/previous-versions/aspnet/bb398986(v=vs.100)), [wystąpieniach stron](xref:System.Web.UI.Page)i [kontrolach użytkownika](/previous-versions/aspnet/y6wb1a0e(v=vs.100)) projektów aplikacji sieci Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8dead-274">Use setter-based, interface-based, and constructor-based injection in [handlers and modules](/previous-versions/aspnet/bb398986(v=vs.100)), [Page instances](xref:System.Web.UI.Page), and [user controls](/previous-versions/aspnet/y6wb1a0e(v=vs.100)) of ASP.NET web application projects.</span></span>

- <span data-ttu-id="8dead-275">Używaj opartych na metodzie i iniekcji opartej na interfejsach w programach [obsługi i modułach](/previous-versions/aspnet/bb398986(v=vs.100)), [wystąpieniach stron](xref:System.Web.UI.Page)i [kontrolach użytkowników](/previous-versions/aspnet/y6wb1a0e(v=vs.100)) w projektach witryn sieci Web ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8dead-275">Use setter-based and interface-based injection in [handlers and modules](/previous-versions/aspnet/bb398986(v=vs.100)), [Page instances](xref:System.Web.UI.Page), and [user controls](/previous-versions/aspnet/y6wb1a0e(v=vs.100)) of ASP.NET web site projects.</span></span>

- <span data-ttu-id="8dead-276">Podłącz różne struktury iniekcji zależności.</span><span class="sxs-lookup"><span data-stu-id="8dead-276">Plug in different dependency injection frameworks.</span></span>

<span data-ttu-id="8dead-277">**Obsługa plików cookie tego samego miejsca**</span><span class="sxs-lookup"><span data-stu-id="8dead-277">**Support for same-site cookies**</span></span>

<span data-ttu-id="8dead-278">[SameSite](https://tools.ietf.org/html/draft-west-first-party-cookies-07) zapobiega wysyłaniu plików cookie przez przeglądarkę wraz z żądaniem między lokacjami.</span><span class="sxs-lookup"><span data-stu-id="8dead-278">[SameSite](https://tools.ietf.org/html/draft-west-first-party-cookies-07) prevents a browser from sending a cookie along with a cross-site request.</span></span> <span data-ttu-id="8dead-279">.NET Framework 4.7.2 dodaje <xref:System.Web.HttpCookie.SameSite?displayProperty=nameWithType> Właściwość, której wartość jest <xref:System.Web.SameSiteMode?displayProperty=nameWithType> składową wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="8dead-279">.NET Framework 4.7.2 adds a <xref:System.Web.HttpCookie.SameSite?displayProperty=nameWithType> property whose value is a <xref:System.Web.SameSiteMode?displayProperty=nameWithType> enumeration member.</span></span> <span data-ttu-id="8dead-280">Jeśli wartość to <xref:System.Web.SameSiteMode.Strict?displayProperty=nameWithType> lub <xref:System.Web.SameSiteMode.Lax?displayProperty=nameWithType> , ASP.NET dodaje `SameSite` atrybut do nagłówka Set-cookie.</span><span class="sxs-lookup"><span data-stu-id="8dead-280">If its value is <xref:System.Web.SameSiteMode.Strict?displayProperty=nameWithType> or <xref:System.Web.SameSiteMode.Lax?displayProperty=nameWithType>, ASP.NET adds the `SameSite` attribute to the set-cookie header.</span></span> <span data-ttu-id="8dead-281">Obsługa SameSite dotyczy <xref:System.Web.HttpCookie> obiektów, <xref:System.Web.Security.FormsAuthentication> a także <xref:System.Web.SessionState> plików cookie.</span><span class="sxs-lookup"><span data-stu-id="8dead-281">SameSite support applies to <xref:System.Web.HttpCookie> objects, as well as to <xref:System.Web.Security.FormsAuthentication> and <xref:System.Web.SessionState> cookies.</span></span>

<span data-ttu-id="8dead-282">Można ustawić SameSite dla <xref:System.Web.HttpCookie> obiektu w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="8dead-282">You can set SameSite for an <xref:System.Web.HttpCookie> object as follows:</span></span>

```csharp
var c = new HttpCookie("secureCookie", "same origin");
c.SameSite = SameSiteMode.Lax;
```

```vb
Dim c As New HttpCookie("secureCookie", "same origin")
c.SameSite = SameSiteMode.Lax
```

<span data-ttu-id="8dead-283">Możesz również skonfigurować pliki cookie SameSite na poziomie aplikacji, modyfikując plik web.config:</span><span class="sxs-lookup"><span data-stu-id="8dead-283">You can also configure SameSite cookies at the application level by modifying the web.config file:</span></span>

```xml
<system.web>
   <httpCookies sameSite="Strict" />
</system.web>
```

<span data-ttu-id="8dead-284">Możesz dodać SameSite dla <xref:System.Web.Security.FormsAuthentication> <xref:System.Web.SessionState> plików cookie i zmodyfikować plik Web config:</span><span class="sxs-lookup"><span data-stu-id="8dead-284">You can add SameSite for <xref:System.Web.Security.FormsAuthentication> and <xref:System.Web.SessionState> cookies by modifying the web config file:</span></span>

```xml
<system.web>
   <authentication mode="Forms">
      <forms cookieSameSite="Lax">
         <!-- ...   -->
      </forms>
   </authentication>
   <sessionState cookieSameSite="Lax"></sessionState>
</system.web>
```

<a name="net472"></a>

#### <a name="networking"></a><span data-ttu-id="8dead-285">Networking</span><span class="sxs-lookup"><span data-stu-id="8dead-285">Networking</span></span>

<span data-ttu-id="8dead-286">**Implementacja właściwości HttpClientHandler**</span><span class="sxs-lookup"><span data-stu-id="8dead-286">**Implementation of HttpClientHandler properties**</span></span>

<span data-ttu-id="8dead-287">.NET Framework 4.7.1 dodać osiem właściwości do <xref:System.Net.Http.HttpClientHandler?displayProperty=nameWithType> klasy.</span><span class="sxs-lookup"><span data-stu-id="8dead-287">.NET Framework 4.7.1 added eight properties to the <xref:System.Net.Http.HttpClientHandler?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="8dead-288">Jednak dwie wywołały <xref:System.PlatformNotSupportedException> .</span><span class="sxs-lookup"><span data-stu-id="8dead-288">However, two threw a <xref:System.PlatformNotSupportedException>.</span></span> <span data-ttu-id="8dead-289">.NET Framework 4.7.2 teraz udostępnia implementację tych właściwości.</span><span class="sxs-lookup"><span data-stu-id="8dead-289">.NET Framework 4.7.2 now provides an implementation for these properties.</span></span> <span data-ttu-id="8dead-290">Właściwości są następujące:</span><span class="sxs-lookup"><span data-stu-id="8dead-290">The properties are:</span></span>

- <xref:System.Net.Http.HttpClientHandler.CheckCertificateRevocationList>
- <xref:System.Net.Http.HttpClientHandler.SslProtocols>

<a name="sql472"></a>

#### <a name="sqlclient"></a><span data-ttu-id="8dead-291">SQLClient</span><span class="sxs-lookup"><span data-stu-id="8dead-291">SQLClient</span></span>

<span data-ttu-id="8dead-292">**Obsługa Azure Active Directory uwierzytelniania uniwersalnego i uwierzytelniania wieloskładnikowego**</span><span class="sxs-lookup"><span data-stu-id="8dead-292">**Support for Azure Active Directory Universal Authentication and Multi-Factor authentication**</span></span>

<span data-ttu-id="8dead-293">Rosnące wymagania dotyczące zgodności i zabezpieczeń wymagają, aby wielu klientów korzystało z uwierzytelniania wieloskładnikowego (MFA).</span><span class="sxs-lookup"><span data-stu-id="8dead-293">Growing compliance and security demands require that many customers use multi-factor authentication (MFA).</span></span> <span data-ttu-id="8dead-294">Ponadto obecnie najlepsze rozwiązania uniemożliwiają uwzględnienie haseł użytkowników bezpośrednio w parametrach połączenia.</span><span class="sxs-lookup"><span data-stu-id="8dead-294">In addition, current best practices discourage including user passwords directly in connection strings.</span></span> <span data-ttu-id="8dead-295">Aby można było obsługiwać te zmiany, .NET Framework 4.7.2 rozszerza [Parametry połączenia SqlClient](xref:System.Data.SqlClient.SqlConnection.ConnectionString) przez dodanie nowej wartości "Active Directory Interactive" dla istniejącego słowa kluczowego "Authentication" do obsługi uwierzytelniania MFA i [usługi Azure AD](/azure/sql-database/sql-database-aad-authentication-configure).</span><span class="sxs-lookup"><span data-stu-id="8dead-295">To support these changes, .NET Framework 4.7.2 extends [SQLClient connection strings](xref:System.Data.SqlClient.SqlConnection.ConnectionString) by adding a new value, "Active Directory Interactive", for the existing "Authentication" keyword to support MFA and [Azure AD Authentication](/azure/sql-database/sql-database-aad-authentication-configure).</span></span> <span data-ttu-id="8dead-296">Nowa metoda interaktywna obsługuje natywnych i federacyjnych użytkowników usługi Azure AD, a także użytkowników-Gości usługi Azure AD.</span><span class="sxs-lookup"><span data-stu-id="8dead-296">The new interactive method supports native and federated Azure AD users as well as Azure AD guest users.</span></span> <span data-ttu-id="8dead-297">Gdy ta metoda jest używana, uwierzytelnianie MFA narzucone przez usługę Azure AD jest obsługiwane dla baz danych SQL.</span><span class="sxs-lookup"><span data-stu-id="8dead-297">When this method is used, the MFA authentication imposed by Azure AD is supported for SQL databases.</span></span> <span data-ttu-id="8dead-298">Ponadto proces uwierzytelniania żąda hasła użytkownika w celu przestrzegania najlepszych rozwiązań w zakresie zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="8dead-298">In addition, the authentication process requests a user password to adhere to security best practices.</span></span>

<span data-ttu-id="8dead-299">W poprzednich wersjach .NET Framework łączności SQL obsługiwane są tylko <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryPassword?displayProperty=nameWithType> <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryIntegrated?displayProperty=nameWithType> Opcje i.</span><span class="sxs-lookup"><span data-stu-id="8dead-299">In previous versions of .NET Framework, SQL connectivity supported only the <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryPassword?displayProperty=nameWithType> and <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryIntegrated?displayProperty=nameWithType> options.</span></span> <span data-ttu-id="8dead-300">Oba te elementy są częścią nieinteraktywnego [protokołu ADAL](/azure/active-directory/develop/active-directory-authentication-libraries), który nie obsługuje usługi MFA.</span><span class="sxs-lookup"><span data-stu-id="8dead-300">Both of these are part of the non-interactive [ADAL protocol](/azure/active-directory/develop/active-directory-authentication-libraries), which does not support MFA.</span></span> <span data-ttu-id="8dead-301">Dzięki nowej <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryInteractive?displayProperty=nameWithType> opcji łączność SQL obsługuje uwierzytelnianie MFA, a także istniejące metody uwierzytelniania (hasło i uwierzytelnianie zintegrowane), dzięki czemu użytkownicy mogą interaktywnie wprowadzać hasła użytkowników bez utrwalania haseł w parametrach połączenia.</span><span class="sxs-lookup"><span data-stu-id="8dead-301">With the new <xref:System.Data.SqlClient.SqlAuthenticationMethod.ActiveDirectoryInteractive?displayProperty=nameWithType> option, SQL connectivity supports MFA as well as existing authentication methods (password and integrated authentication), which allows users to enter user passwords interactively without persisting passwords in the connection string.</span></span>

<span data-ttu-id="8dead-302">Aby uzyskać więcej informacji i zapoznać się z przykładem, zobacz "SQL--usługa Azure AD Universal and wieloskładnikowe Authentication Support" w [blogu platformy .NET](https://devblogs.microsoft.com/dotnet/net-framework-4-7-2-developer-pack-early-access-build-3056-is-available/).</span><span class="sxs-lookup"><span data-stu-id="8dead-302">For more information and an example, see "SQL -- Azure AD Universal and Multi-factor Authentication Support" in the [.NET Blog](https://devblogs.microsoft.com/dotnet/net-framework-4-7-2-developer-pack-early-access-build-3056-is-available/).</span></span>

<span data-ttu-id="8dead-303">**Obsługa Always Encrypted wersja 2**</span><span class="sxs-lookup"><span data-stu-id="8dead-303">**Support for Always Encrypted version 2**</span></span>

<span data-ttu-id="8dead-304">Program NET Framework 4.7.2 dodaje obsługę dla Always Encrypted opartych na enklawy.</span><span class="sxs-lookup"><span data-stu-id="8dead-304">NET Framework 4.7.2 adds supports for enclave-based Always Encrypted.</span></span> <span data-ttu-id="8dead-305">Oryginalna wersja Always Encrypted jest technologią szyfrowania po stronie klienta, w której klucze szyfrowania nigdy nie opuszczają klienta.</span><span class="sxs-lookup"><span data-stu-id="8dead-305">The original version of Always Encrypted is a client-side encryption technology in which encryption keys never leave the client.</span></span> <span data-ttu-id="8dead-306">W Always Encrypted opartych na enklawy klient może opcjonalnie wysłać klucze szyfrowania do bezpiecznej enklawy, która jest bezpieczną jednostką obliczeniową, która może być traktowana jako część SQL Server, ale ten kod SQL Server nie może naruszać.</span><span class="sxs-lookup"><span data-stu-id="8dead-306">In enclave-based Always Encrypted, the client can optionally send the encryption keys to a secure enclave, which is a secure computational entity that can be considered part of SQL Server but that SQL Server code cannot tamper with.</span></span> <span data-ttu-id="8dead-307">Aby można było obsługiwać Always Encrypted opartych na enklawy, .NET Framework 4.7.2 dodaje następujące typy i elementy członkowskie do <xref:System.Data.SqlClient> przestrzeni nazw:</span><span class="sxs-lookup"><span data-stu-id="8dead-307">To support enclave-based Always Encrypted, .NET Framework 4.7.2 adds the following types and members to the <xref:System.Data.SqlClient> namespace:</span></span>

- <span data-ttu-id="8dead-308"><xref:System.Data.SqlClient.SqlConnectionStringBuilder.EnclaveAttestationUrl?displayProperty=nameWithType>, który określa identyfikator URI Always Encrypted opartych na enklawy.</span><span class="sxs-lookup"><span data-stu-id="8dead-308"><xref:System.Data.SqlClient.SqlConnectionStringBuilder.EnclaveAttestationUrl?displayProperty=nameWithType>, which specifies the Uri for enclave-based Always Encrypted.</span></span>

- <span data-ttu-id="8dead-309"><xref:System.Data.SqlClient.SqlColumnEncryptionEnclaveProvider>, która jest klasą abstrakcyjną, z której pochodzą wszyscy dostawcy enklawy.</span><span class="sxs-lookup"><span data-stu-id="8dead-309"><xref:System.Data.SqlClient.SqlColumnEncryptionEnclaveProvider>, which is an abstract class from which all enclave providers are derived.</span></span>

- <span data-ttu-id="8dead-310"><xref:System.Data.SqlClient.SqlEnclaveSession>, który hermetyzuje stan danej sesji enklawy.</span><span class="sxs-lookup"><span data-stu-id="8dead-310"><xref:System.Data.SqlClient.SqlEnclaveSession>, which encapsulates the state for a given enclave session.</span></span>

- <span data-ttu-id="8dead-311"><xref:System.Data.SqlClient.SqlEnclaveAttestationParameters>, która zapewnia parametry zaświadczania używane przez SQL Server do uzyskiwania informacji wymaganych do wykonania określonego protokołu zaświadczania.</span><span class="sxs-lookup"><span data-stu-id="8dead-311"><xref:System.Data.SqlClient.SqlEnclaveAttestationParameters>, which provides the attestation parameters used by SQL Server to get information required to execute a particular Attestation Protocol.</span></span>

<span data-ttu-id="8dead-312">Następnie plik konfiguracji aplikacji określa konkretną implementację klasy abstrakcyjnej <xref:System.Data.SqlClient.SqlColumnEncryptionEnclaveProvider?displayProperty=nameWithType> , która udostępnia funkcje dostawcy enklawy.</span><span class="sxs-lookup"><span data-stu-id="8dead-312">The application configuration file then specifies a concrete implementation of the abstract <xref:System.Data.SqlClient.SqlColumnEncryptionEnclaveProvider?displayProperty=nameWithType> class that provides the functionality for the enclave provider.</span></span> <span data-ttu-id="8dead-313">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="8dead-313">For example:</span></span>

```xml
<configuration>
  <configSections>
    <section name="SqlColumnEncryptionEnclaveProviders" type="System.Data.SqlClient.SqlColumnEncryptionEnclaveProviderConfigurationSection,System.Data,Version=4.0.0.0,Culture=neutral,PublicKeyToken=b77a5c561934e089"/>
  </configSections>
  <SqlColumnEncryptionEnclaveProviders>
    <providers>
      <add name="Azure" type="Microsoft.SqlServer.Management.AlwaysEncrypted.AzureEnclaveProvider,MyApp"/>
      <add name="HGS" type="Microsoft.SqlServer.Management.AlwaysEncrypted.HGSEnclaveProvider,MyApp" />
    </providers>
  </SqlColumnEncryptionEnclaveProviders >
</configuration>
```

<span data-ttu-id="8dead-314">Podstawowy przepływ Always Encrypted opartych na enklawy to:</span><span class="sxs-lookup"><span data-stu-id="8dead-314">The basic flow of enclave-based Always Encrypted is:</span></span>

1. <span data-ttu-id="8dead-315">Użytkownik tworzy SQL Server połączenie AlwaysEncrypted, które obsługuje Always Encrypted oparte na enklawy.</span><span class="sxs-lookup"><span data-stu-id="8dead-315">The user creates an AlwaysEncrypted connection to SQL Server that supported enclave-based Always Encrypted.</span></span> <span data-ttu-id="8dead-316">Sterownik kontaktuje się z usługą zaświadczania, aby upewnić się, że nawiązuje połączenie z właściwym enklawy.</span><span class="sxs-lookup"><span data-stu-id="8dead-316">The driver contacts the attestation service to ensure that it is connecting to right enclave.</span></span>

1. <span data-ttu-id="8dead-317">Po zaświadczeniu enklawy sterownik ustanawia bezpieczny kanał z bezpiecznym enklawy hostowanym na SQL Server.</span><span class="sxs-lookup"><span data-stu-id="8dead-317">Once the enclave has been attested, the driver establishes a secure channel with the secure enclave hosted on SQL Server.</span></span>

1. <span data-ttu-id="8dead-318">Sterownik udostępnia klucze szyfrowania autoryzowane przez klienta z bezpiecznym enklawy na czas trwania połączenia SQL.</span><span class="sxs-lookup"><span data-stu-id="8dead-318">The driver shares encryption keys authorized by the client with the secure enclave for the duration of the SQL connection.</span></span>

<a name="wpf472"></a>

#### <a name="windows-presentation-foundation"></a><span data-ttu-id="8dead-319">Windows Presentation Foundation</span><span class="sxs-lookup"><span data-stu-id="8dead-319">Windows Presentation Foundation</span></span>

<span data-ttu-id="8dead-320">**Znajdowanie ResourceDictionaries według źródła**</span><span class="sxs-lookup"><span data-stu-id="8dead-320">**Finding ResourceDictionaries by Source**</span></span>

<span data-ttu-id="8dead-321">Począwszy od .NET Framework 4.7.2, asystent diagnostyczny może zlokalizować, <xref:System.Windows.Xps.Packaging.IXpsFixedPageReader.ResourceDictionaries> który został utworzony na podstawie danego źródłowego identyfikatora URI.</span><span class="sxs-lookup"><span data-stu-id="8dead-321">Starting with .NET Framework 4.7.2, a diagnostic assistant can locate the <xref:System.Windows.Xps.Packaging.IXpsFixedPageReader.ResourceDictionaries> that have been created from a given source Uri.</span></span> <span data-ttu-id="8dead-322">(Ta funkcja jest używana przez asystentów diagnostycznych, a nie przez aplikacje produkcyjne). Asystent diagnostyczny, taki jak funkcja "Edytuj i Kontynuuj" programu Visual Studio, umożliwia użytkownikowi edytowanie ResourceDictionary z zamiarem, że zmiany zostaną zastosowane do uruchomionej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-322">(This feature is for use by diagnostic assistants, not by production applications.) A diagnostic assistant such as Visual Studio's "Edit-and-Continue" facility lets its user edit a ResourceDictionary with the intent that the changes be applied to the running application.</span></span> <span data-ttu-id="8dead-323">Jednym z kroków osiągnięcia tego celu jest znalezienie wszystkich ResourceDictionaries, że uruchomiona aplikacja została utworzona na podstawie edytowanego słownika.</span><span class="sxs-lookup"><span data-stu-id="8dead-323">One step in achieving this is finding all the ResourceDictionaries that the running application has created from the dictionary that's being edited.</span></span> <span data-ttu-id="8dead-324">Na przykład aplikacja może zadeklarować element ResourceDictionary, którego zawartość jest kopiowana z danego źródłowego identyfikatora URI:</span><span class="sxs-lookup"><span data-stu-id="8dead-324">For example, an application can declare a ResourceDictionary whose content is copied from a given source URI:</span></span>

```xml
<ResourceDictionary Source="MyRD.xaml" />
```

<span data-ttu-id="8dead-325">Asystent diagnostyczny, który edytuje pierwotne znaczniki w *MyRD. XAML* , może użyć nowej funkcji do zlokalizowania słownika.</span><span class="sxs-lookup"><span data-stu-id="8dead-325">A diagnostic assistant that edits the original markup in *MyRD.xaml* can use the new feature to locate the dictionary.</span></span> <span data-ttu-id="8dead-326">Funkcja jest implementowana przez nową metodę statyczną <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetResourceDictionariesForSource%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="8dead-326">The feature is implemented by a new static method, <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetResourceDictionariesForSource%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="8dead-327">Asystent diagnostyczny wywołuje nową metodę przy użyciu bezwzględnego identyfikatora URI, który identyfikuje oryginalne znaczniki, jak pokazano w poniższym kodzie:</span><span class="sxs-lookup"><span data-stu-id="8dead-327">The diagnostic assistant calls the new method using an absolute Uri that identifies the original markup, as illustrated by the following code:</span></span>

```csharp
IEnumerable<ResourceDictionary> dictionaries = ResourceDictionaryDiagnostics.GetResourceDictionariesForSource(new Uri("pack://application:,,,/MyApp;component/MyRD.xaml"));
```

```vb
Dim dictionaries As IEnumerable(Of ResourceDictionary) = ResourceDictionaryDiagnostics.GetResourceDictionariesForSource(New Uri("pack://application:,,,/MyApp;component/MyRD.xaml"))
```

<span data-ttu-id="8dead-328">Metoda zwraca puste wartości wyliczalne <xref:System.Windows.Diagnostics.VisualDiagnostics> , chyba że jest włączona, a [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) zmienna środowiskowa jest ustawiona.</span><span class="sxs-lookup"><span data-stu-id="8dead-328">The method returns an empty enumerable unless <xref:System.Windows.Diagnostics.VisualDiagnostics> is enabled and the [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) environment variable is set.</span></span>

<span data-ttu-id="8dead-329">**Znajdowanie właścicieli ResourceDictionary**</span><span class="sxs-lookup"><span data-stu-id="8dead-329">**Finding ResourceDictionary owners**</span></span>

<span data-ttu-id="8dead-330">Począwszy od .NET Framework 4.7.2, asystent diagnostyczny może zlokalizować właścicieli danego elementu <xref:Windows.UI.Xaml.ResourceDictionary> .</span><span class="sxs-lookup"><span data-stu-id="8dead-330">Starting with .NET Framework 4.7.2, a diagnostic assistant can locate the owners of a given <xref:Windows.UI.Xaml.ResourceDictionary>.</span></span> <span data-ttu-id="8dead-331">(Funkcja jest używana przez asystentów diagnostycznych, a nie przez aplikacje produkcyjne). Za każdym razem, gdy zostanie wprowadzona zmiana w programie <xref:Windows.UI.Xaml.ResourceDictionary> , WPF automatycznie odnajdzie wszystkie odwołania [DynamicResource —](/dotnet/desktop/wpf/advanced/dynamicresource-markup-extension) , które mogą mieć wpływ na zmianę.</span><span class="sxs-lookup"><span data-stu-id="8dead-331">(The feature is for use by diagnostic assistants and not by production applications.) Whenever a change is made to a <xref:Windows.UI.Xaml.ResourceDictionary>, WPF automatically finds all [DynamicResource](/dotnet/desktop/wpf/advanced/dynamicresource-markup-extension) references that might be affected by the change.</span></span>

<span data-ttu-id="8dead-332">Asystent diagnostyczny, taki jak obiekt "Edytuj i Kontynuuj" programu Visual Studio, może chcieć przedłużyć ten sposób, aby obsługiwał odwołania [StaticResource](/dotnet/desktop/wpf/advanced/staticresource-markup-extension) .</span><span class="sxs-lookup"><span data-stu-id="8dead-332">A diagnostic assistant such as Visual Studio's "Edit-and-Continue" facility may want to extend this to handle [StaticResource](/dotnet/desktop/wpf/advanced/staticresource-markup-extension) references.</span></span> <span data-ttu-id="8dead-333">Pierwszym krokiem w tym procesie jest znalezienie właścicieli słownika; oznacza to, aby znaleźć wszystkie obiekty, których `Resources` Właściwość odwołuje się do słownika (bezpośrednio lub pośrednio przez <xref:System.Windows.ResourceDictionary.MergedDictionaries?displayProperty=nameWithType> Właściwość).</span><span class="sxs-lookup"><span data-stu-id="8dead-333">The first step in this process is to find the owners of the dictionary; that is, to find all the objects whose `Resources` property refers to the dictionary (either directly, or indirectly via the <xref:System.Windows.ResourceDictionary.MergedDictionaries?displayProperty=nameWithType> property).</span></span> <span data-ttu-id="8dead-334">Trzy nowe metody statyczne zaimplementowane dla <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics?displayProperty=nameWithType> klasy, po jednej dla każdego z typów podstawowych, które mają `Resources` Właściwość, obsługują ten krok:</span><span class="sxs-lookup"><span data-stu-id="8dead-334">Three new static methods implemented on the <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics?displayProperty=nameWithType> class, one for each of the base types that has a `Resources` property, support this step:</span></span>

- [`public static IEnumerable<FrameworkElement> GetFrameworkElementOwners(ResourceDictionary dictionary);`](xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetFrameworkElementOwners%2A)

- [`public static IEnumerable<FrameworkContentElement> GetFrameworkContentElementOwners(ResourceDictionary dictionary);`](xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetFrameworkContentElementOwners%2A)

- [`public static IEnumerable<Application> GetApplicationOwners(ResourceDictionary dictionary);`](xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.GetApplicationOwners%2A)

<span data-ttu-id="8dead-335">Te metody zwracają pustą wartość wyliczalną, chyba że <xref:System.Windows.Diagnostics.VisualDiagnostics> jest włączona, a [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) zmienna środowiskowa jest ustawiona.</span><span class="sxs-lookup"><span data-stu-id="8dead-335">These methods return an empty enumerable unless <xref:System.Windows.Diagnostics.VisualDiagnostics> is enabled and the [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) environment variable is set.</span></span>

<span data-ttu-id="8dead-336">**Znajdowanie odwołań StaticResource**</span><span class="sxs-lookup"><span data-stu-id="8dead-336">**Finding StaticResource references**</span></span>

<span data-ttu-id="8dead-337">Asystent diagnostyczny może teraz odbierać powiadomienie za każdym razem, gdy zostanie rozpoznane odwołanie [StaticResource](/dotnet/desktop/wpf/advanced/staticresource-markup-extension) .</span><span class="sxs-lookup"><span data-stu-id="8dead-337">A diagnostic assistant can now receive a notification whenever a [StaticResource](/dotnet/desktop/wpf/advanced/staticresource-markup-extension) reference is resolved.</span></span> <span data-ttu-id="8dead-338">(Funkcja jest używana przez asystentów diagnostycznych, a nie przez aplikacje produkcyjne). Asystent diagnostyczny, taki jak funkcja "Edytuj i Kontynuuj" programu Visual Studio, może chcieć zaktualizować wszystkie zastosowania zasobu, gdy jego wartość <xref:Windows.UI.Xaml.ResourceDictionary> zmienia się.</span><span class="sxs-lookup"><span data-stu-id="8dead-338">(The feature is for use by diagnostic assistants, not by production applications.) A diagnostic assistant such as Visual Studio's "Edit-and-Continue" facility may want to update all uses of a resource when its value in a <xref:Windows.UI.Xaml.ResourceDictionary> changes.</span></span> <span data-ttu-id="8dead-339">WPF robi to automatycznie w odniesieniu do [DynamicResource —](/dotnet/desktop/wpf/advanced/dynamicresource-markup-extension) , ale celowo nie robi to w odniesieniu do [StaticResource](/dotnet/desktop/wpf/advanced/staticresource-markup-extension) .</span><span class="sxs-lookup"><span data-stu-id="8dead-339">WPF does this automatically for [DynamicResource](/dotnet/desktop/wpf/advanced/dynamicresource-markup-extension) references, but it intentionally does not do so for [StaticResource](/dotnet/desktop/wpf/advanced/staticresource-markup-extension) references.</span></span> <span data-ttu-id="8dead-340">Począwszy od .NET Framework 4.7.2, asystent diagnostyczny może użyć tych powiadomień, aby zlokalizować te zastosowania zasobu statycznego.</span><span class="sxs-lookup"><span data-stu-id="8dead-340">Starting with .NET Framework 4.7.2, the diagnostic assistant can use these notifications to locate those uses of the static resource.</span></span>

<span data-ttu-id="8dead-341">Powiadomienie jest implementowane przez nowe <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.StaticResourceResolved?displayProperty=nameWithType> zdarzenie:</span><span class="sxs-lookup"><span data-stu-id="8dead-341">The notification is implemented by the new <xref:System.Windows.Diagnostics.ResourceDictionaryDiagnostics.StaticResourceResolved?displayProperty=nameWithType> event:</span></span>

```csharp
public static event EventHandler<StaticResourceResolvedEventArgs> StaticResourceResolved;
```

```vb
Public Shared Event StaticResourceResolved As EventHandler(Of StaticResourceResolvedEventArgs)
```

<span data-ttu-id="8dead-342">To zdarzenie jest wywoływane za każdym razem, gdy środowisko uruchomieniowe rozwiązuje odwołanie [StaticResource](/dotnet/desktop/wpf/advanced/staticresource-markup-extension) .</span><span class="sxs-lookup"><span data-stu-id="8dead-342">This event is raised whenever the runtime resolves a [StaticResource](/dotnet/desktop/wpf/advanced/staticresource-markup-extension) reference.</span></span> <span data-ttu-id="8dead-343"><xref:System.Windows.Diagnostics.StaticResourceResolvedEventArgs>Argumenty opisują rozdzielczość i wskazują obiekt i właściwość, które obsługują odwołanie [StaticResource](/dotnet/desktop/wpf/advanced/staticresource-markup-extension) , oraz <xref:Windows.UI.Xaml.ResourceDictionary> klucz używany do rozwiązania:</span><span class="sxs-lookup"><span data-stu-id="8dead-343">The <xref:System.Windows.Diagnostics.StaticResourceResolvedEventArgs> arguments describe the resolution, and indicate the object and property that host the [StaticResource](/dotnet/desktop/wpf/advanced/staticresource-markup-extension) reference and the <xref:Windows.UI.Xaml.ResourceDictionary> and key used for the resolution:</span></span>

```csharp
public class StaticResourceResolvedEventArgs : EventArgs
{
   public Object TargetObject { get; }

   public Object TargetProperty { get; }

   public ResourceDictionary ResourceDictionary { get; }

   public object ResourceKey { get; }
}
```

```vb
Public Class StaticResourceResolvedEventArgs : Inherits EventArgs
   Public ReadOnly Property TargetObject As Object
   Public ReadOnly Property TargetProperty As Object
   Public ReadOnly Property ResourceDictionary As ResourceDictionary
   Public ReadOnly Property ResourceKey As Object
End Class
```

<span data-ttu-id="8dead-344">Zdarzenie nie zostało zgłoszone (a jego `add` akcesor jest ignorowany) <xref:System.Windows.Diagnostics.VisualDiagnostics> , chyba że jest włączona i [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) zmienna środowiskowa jest ustawiona.</span><span class="sxs-lookup"><span data-stu-id="8dead-344">The event is not raised (and its `add` accessor is ignored) unless <xref:System.Windows.Diagnostics.VisualDiagnostics> is enabled and the [`ENABLE_XAML_DIAGNOSTICS_SOURCE_INFO`](xref:System.Windows.Diagnostics.VisualDiagnostics.GetXamlSourceInfo%2A) environment variable is set.</span></span>

#### <a name="clickonce"></a><span data-ttu-id="8dead-345">ClickOnce</span><span class="sxs-lookup"><span data-stu-id="8dead-345">ClickOnce</span></span>

<span data-ttu-id="8dead-346">Aplikacje obsługujące HDPI dla Windows Forms, Windows Presentation Foundation (WPF) i Visual Studio Tools dla pakietu Office (VSTO) można wdrożyć przy użyciu technologii ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="8dead-346">HDPI-aware applications for Windows Forms, Windows Presentation Foundation (WPF), and Visual Studio Tools for Office (VSTO) can all be deployed by using ClickOnce.</span></span> <span data-ttu-id="8dead-347">Jeśli w manifeście aplikacji zostanie znaleziony następujący wpis, wdrożenie zakończy się pomyślnie w .NET Framework 4.7.2:</span><span class="sxs-lookup"><span data-stu-id="8dead-347">If the following entry is found in the application manifest, deployment will succeed under .NET Framework 4.7.2:</span></span>

```xml
<windowsSettings>
   <dpiAware xmlns="http://schemas.microsoft.com/SMI/2005/WindowsSettings">true</dpiAware>
</windowsSettings>
```

<span data-ttu-id="8dead-348">W przypadku aplikacji Windows Forms poprzednie obejście ustawienia rozpoznawania DPI w pliku konfiguracyjnym aplikacji, a nie manifestu aplikacji, nie jest już konieczne do pomyślnego wdrożenia technologii ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="8dead-348">For Windows Forms application, the previous workaround of setting DPI awareness in the application configuration file rather than the application manifest is no longer necessary for ClickOnce deployment to succeed.</span></span>

<a name="v471"></a>

## <a name="whats-new-in-net-framework-471"></a><span data-ttu-id="8dead-349">Co nowego w .NET Framework 4.7.1</span><span class="sxs-lookup"><span data-stu-id="8dead-349">What's new in .NET Framework 4.7.1</span></span>

<span data-ttu-id="8dead-350">.NET Framework 4.7.1 zawiera nowe funkcje w następujących obszarach:</span><span class="sxs-lookup"><span data-stu-id="8dead-350">.NET Framework 4.7.1 includes new features in the following areas:</span></span>

- [<span data-ttu-id="8dead-351">Klas podstawowych</span><span class="sxs-lookup"><span data-stu-id="8dead-351">Base classes</span></span>](#core471)
- [<span data-ttu-id="8dead-352">Środowisko uruchomieniowe języka wspólnego (CLR)</span><span class="sxs-lookup"><span data-stu-id="8dead-352">Common language runtime (CLR)</span></span>](#clr)
- [<span data-ttu-id="8dead-353">Sieć</span><span class="sxs-lookup"><span data-stu-id="8dead-353">Networking</span></span>](#net471)
- [<span data-ttu-id="8dead-354">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="8dead-354">ASP.NET</span></span>](#asp-net471)

<span data-ttu-id="8dead-355">Ponadto najważniejszym fokusem w .NET Framework 4.7.1 jest ulepszony ułatwienia dostępu, dzięki czemu aplikacja może zapewnić odpowiednie środowisko dla użytkowników technologii pomocniczej.</span><span class="sxs-lookup"><span data-stu-id="8dead-355">In addition, a major focus in .NET Framework 4.7.1 is improved accessibility, which allows an application to provide an appropriate experience for users of Assistive Technology.</span></span> <span data-ttu-id="8dead-356">Informacje o ulepszeniach ułatwień dostępu w programie .NET Framework 4.7.1 można znaleźć w temacie [co nowego w ułatwieniach dostępu w programie .NET Framework](whats-new-in-accessibility.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-356">For information on accessibility improvements in .NET Framework 4.7.1, see [What's new in accessibility in .NET Framework](whats-new-in-accessibility.md).</span></span>

<a name="core471"></a>

#### <a name="base-classes"></a><span data-ttu-id="8dead-357">Klas podstawowych</span><span class="sxs-lookup"><span data-stu-id="8dead-357">Base classes</span></span>

<span data-ttu-id="8dead-358">**Obsługa .NET Standard 2,0**</span><span class="sxs-lookup"><span data-stu-id="8dead-358">**Support for .NET Standard 2.0**</span></span>

<span data-ttu-id="8dead-359">[.NET Standard](../../standard/net-standard.md) definiuje zestaw interfejsów API, które muszą być dostępne dla każdej implementacji platformy .NET, która obsługuje tę wersję Standard.</span><span class="sxs-lookup"><span data-stu-id="8dead-359">[.NET Standard](../../standard/net-standard.md) defines a set of APIs that must be available on each .NET implementation that supports that version of the standard.</span></span> <span data-ttu-id="8dead-360">.NET Framework 4.7.1 w pełni obsługuje .NET Standard 2,0 i dodaje [około 200 interfejsów API](https://github.com/dotnet/standard/blob/master/src/netstandard/src/ApiCompatBaseline.net461.txt) , które są zdefiniowane w .NET Standard 2,0 i brakuje ich w .NET Framework 4.6.1, 4.6.2 i 4,7.</span><span class="sxs-lookup"><span data-stu-id="8dead-360">.NET Framework 4.7.1 fully supports .NET Standard 2.0 and adds [about 200 APIs](https://github.com/dotnet/standard/blob/master/src/netstandard/src/ApiCompatBaseline.net461.txt) that are defined in .NET Standard 2.0 and are missing from .NET Framework 4.6.1, 4.6.2, and 4.7.</span></span> <span data-ttu-id="8dead-361">(Należy pamiętać, że te wersje .NET Framework obsługują .NET Standard 2,0 tylko wtedy, gdy w systemie docelowym wdrożono dodatkowe pliki obsługi .NET Standard). Aby uzyskać więcej informacji, zobacz "BCL-.NET Standard 2,0 Support" w blogu [.NET Framework środowiska uruchomieniowego 4.7.1 i kompilatora](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) .</span><span class="sxs-lookup"><span data-stu-id="8dead-361">(Note that these versions of .NET Framework support .NET Standard 2.0 only if additional .NET Standard support files are also deployed on the target system.) For more information, see "BCL - .NET Standard 2.0 Support" in the [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) blog post.</span></span>

<span data-ttu-id="8dead-362">**Obsługa konstruktorów konfiguracji**</span><span class="sxs-lookup"><span data-stu-id="8dead-362">**Support for configuration builders**</span></span>

<span data-ttu-id="8dead-363">Konstruktory konfiguracji pozwalają deweloperom na dynamiczne Wstawianie i kompilowanie ustawień konfiguracji aplikacji w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="8dead-363">Configuration builders allow developers to inject and build configuration settings for applications dynamically at run time.</span></span> <span data-ttu-id="8dead-364">Konstruktory konfiguracji niestandardowej mogą służyć do modyfikowania istniejących danych w sekcji konfiguracyjnej lub do tworzenia sekcji konfiguracyjnej w całości od podstaw.</span><span class="sxs-lookup"><span data-stu-id="8dead-364">Custom configuration builders can be used to modify existing data in a configuration section or to build a configuration section entirely from scratch.</span></span> <span data-ttu-id="8dead-365">Bez konstruktorów konfiguracji, pliki. config są statyczne, a ich ustawienia są definiowane jakiś czas przed uruchomieniem aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-365">Without configuration builders, .config files are static, and their settings are defined some time before an application is launched.</span></span>

<span data-ttu-id="8dead-366">Aby utworzyć niestandardowy Konstruktor konfiguracji, należy uzyskać swój Konstruktor z klasy abstrakcyjnej <xref:System.Configuration.ConfigurationBuilder> i zastąpić go <xref:System.Configuration.ConfigurationBuilder.ProcessConfigurationSection%2A?displayProperty=nameWithType> i <xref:System.Configuration.ConfigurationBuilder.ProcessRawXml%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="8dead-366">To create a custom configuration builder, you derive your builder from the abstract <xref:System.Configuration.ConfigurationBuilder> class and override its <xref:System.Configuration.ConfigurationBuilder.ProcessConfigurationSection%2A?displayProperty=nameWithType> and <xref:System.Configuration.ConfigurationBuilder.ProcessRawXml%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="8dead-367">Możesz również zdefiniować kompilacje w pliku. config.</span><span class="sxs-lookup"><span data-stu-id="8dead-367">You also define your builders in your .config file.</span></span> <span data-ttu-id="8dead-368">Aby uzyskać więcej informacji, zobacz sekcję "konstruktorzy konfiguracji" w blogu [.NET Framework 4.7.1 ASP.NET i Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) post.</span><span class="sxs-lookup"><span data-stu-id="8dead-368">For more information, see the "Configuration Builders" section in the [.NET Framework 4.7.1 ASP.NET and Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) blog post.</span></span>

<span data-ttu-id="8dead-369">**Wykrywanie funkcji w czasie wykonywania**</span><span class="sxs-lookup"><span data-stu-id="8dead-369">**Run-time feature detection**</span></span>

<span data-ttu-id="8dead-370"><xref:System.Runtime.CompilerServices.RuntimeFeature?displayProperty=nameWithType>Klasa udostępnia mechanizm umożliwiający określenie, czy wstępnie zdefiniowana funkcja jest obsługiwana w danej implementacji platformy .NET w czasie kompilacji czy w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="8dead-370">The <xref:System.Runtime.CompilerServices.RuntimeFeature?displayProperty=nameWithType> class provides a mechanism for determine whether a predefined feature is supported on a given .NET implementation at compile time or run time.</span></span> <span data-ttu-id="8dead-371">W czasie kompilacji kompilator może sprawdzić, czy określone pole istnieje, aby określić, czy funkcja jest obsługiwana; Jeśli tak, może to emitować kod, który korzysta z tej funkcji.</span><span class="sxs-lookup"><span data-stu-id="8dead-371">At compile time, a compiler can check whether a specified field exists to determine whether the feature is supported; if so, it can emit code that takes advantage of that feature.</span></span> <span data-ttu-id="8dead-372">W czasie wykonywania aplikacja może wywołać <xref:System.Runtime.CompilerServices.RuntimeFeature.IsSupported%2A?displayProperty=nameWithType> metodę przed emitowaniem kodu w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="8dead-372">At run time, an application can call the <xref:System.Runtime.CompilerServices.RuntimeFeature.IsSupported%2A?displayProperty=nameWithType> method before emitting code at runtime.</span></span> <span data-ttu-id="8dead-373">Aby uzyskać więcej informacji, zobacz [Dodawanie metody pomocnika do opisywania funkcji obsługiwanych przez środowisko uruchomieniowe](https://github.com/dotnet/corefx/issues/17116).</span><span class="sxs-lookup"><span data-stu-id="8dead-373">For more information, see [Add helper method to describe features supported by the runtime](https://github.com/dotnet/corefx/issues/17116).</span></span>

<span data-ttu-id="8dead-374">**Typy krotek wartości można serializować**</span><span class="sxs-lookup"><span data-stu-id="8dead-374">**Value tuple types are serializable**</span></span>

<span data-ttu-id="8dead-375">Począwszy od .NET Framework 4.7.1, <xref:System.ValueTuple?displayProperty=nameWithType> a skojarzone typy ogólne są oznaczone jako możliwe do [serializacji](xref:System.SerializableAttribute), co umożliwia serializacji binarnej.</span><span class="sxs-lookup"><span data-stu-id="8dead-375">Starting with .NET Framework 4.7.1, <xref:System.ValueTuple?displayProperty=nameWithType> and its associated generic types are marked as [Serializable](xref:System.SerializableAttribute), which allows binary serialization.</span></span> <span data-ttu-id="8dead-376">Powinno to ułatwić Migrowanie typów krotek, takich jak <xref:System.Tuple%603> i <xref:System.Tuple%604> , do typów krotek wartości.</span><span class="sxs-lookup"><span data-stu-id="8dead-376">This should make migrating Tuple types, such as <xref:System.Tuple%603> and <xref:System.Tuple%604>, to value tuple types easier.</span></span> <span data-ttu-id="8dead-377">Aby uzyskać więcej informacji, zobacz "kompilator--ValueTuple jest możliwy do serializacji" w blogu [.NET Framework środowiska uruchomieniowego 4.7.1 i funkcje kompilatora](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) .</span><span class="sxs-lookup"><span data-stu-id="8dead-377">For more information, see "Compiler -- ValueTuple is Serializable" in the [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) blog post.</span></span>

<span data-ttu-id="8dead-378">**Obsługa odwołań tylko do odczytu**</span><span class="sxs-lookup"><span data-stu-id="8dead-378">**Support for read-only references**</span></span>

<span data-ttu-id="8dead-379">.NET Framework 4.7.1 dodaje <xref:System.Runtime.CompilerServices.IsReadOnlyAttribute?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="8dead-379">.NET Framework 4.7.1 adds the <xref:System.Runtime.CompilerServices.IsReadOnlyAttribute?displayProperty=nameWithType>.</span></span> <span data-ttu-id="8dead-380">Ten atrybut jest używany przez kompilatory języka do oznaczania elementów członkowskich, które mają zwracane typy lub parametry odwołania tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="8dead-380">This attribute is used by language compilers to mark members that have read-only ref return types or parameters.</span></span> <span data-ttu-id="8dead-381">Aby uzyskać więcej informacji, zobacz "kompilator--support for ReadOnlyReferences" w wpisie .NET Framework w blogu [środowiska uruchomieniowego 4.7.1 i funkcji kompilatora](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) .</span><span class="sxs-lookup"><span data-stu-id="8dead-381">For more information, see "Compiler -- Support for ReadOnlyReferences" in the [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) blog post.</span></span> <span data-ttu-id="8dead-382">Aby uzyskać informacje na temat wartości zwracanych z odwołania, zobacz [odwołania do zwracanych wartości oraz wartości lokalne ref (Przewodnik C#)](../../csharp/programming-guide/classes-and-structs/ref-returns.md) i [ref Return (Visual Basic)](../../visual-basic/programming-guide/language-features/procedures/ref-return-values.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-382">For information on ref return values, see [Ref return values and ref locals (C# Guide)](../../csharp/programming-guide/classes-and-structs/ref-returns.md) and [Ref return values (Visual Basic)](../../visual-basic/programming-guide/language-features/procedures/ref-return-values.md).</span></span>

<a name="clr"></a>

#### <a name="common-language-runtime-clr"></a><span data-ttu-id="8dead-383">Środowisko uruchomieniowe języka wspólnego (CLR)</span><span class="sxs-lookup"><span data-stu-id="8dead-383">Common language runtime (CLR)</span></span>

<span data-ttu-id="8dead-384">**Udoskonalenia wydajności odzyskiwania pamięci**</span><span class="sxs-lookup"><span data-stu-id="8dead-384">**Garbage collection performance improvements**</span></span>

<span data-ttu-id="8dead-385">Zmiany w wyrzucaniu elementów bezużytecznych (GC) w .NET Framework 4.7.1 poprawić ogólną wydajność, szczególnie w przypadku alokacji dużego obiektu sterty (LOH).</span><span class="sxs-lookup"><span data-stu-id="8dead-385">Changes to garbage collection (GC) in .NET Framework 4.7.1 improve overall performance, especially for large object heap (LOH) allocations.</span></span> <span data-ttu-id="8dead-386">W .NET Framework 4.7.1, osobne blokady są używane dla sterty małego obiektu i alokacji LOH, co umożliwia przydzielanie LOH, gdy w tle jest czyszczony raport o kondycji.</span><span class="sxs-lookup"><span data-stu-id="8dead-386">In .NET Framework 4.7.1, separate locks are used for small object heap (SOH) and LOH allocations, which allows LOH allocations to occur when background GC is sweeping the SOH.</span></span> <span data-ttu-id="8dead-387">W związku z tym aplikacje, które tworzą dużą liczbę alokacji LOH, powinny mieć zmniejszenie rywalizacji o blokadę alokacji i lepszą wydajność.</span><span class="sxs-lookup"><span data-stu-id="8dead-387">As a result, applications that make a large number of LOH allocations should see a reduction in allocation lock contention and improved performance.</span></span> <span data-ttu-id="8dead-388">Aby uzyskać więcej informacji, zobacz sekcję "ulepszenia wydajności środowiska uruchomieniowego GC" w blogu [.NET Framework środowiska uruchomieniowego 4.7.1 i funkcji kompilatora](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) .</span><span class="sxs-lookup"><span data-stu-id="8dead-388">For more information, see the "Runtime -- GC Performance Improvements" section in the [.NET Framework 4.7.1 Runtime and Compiler Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-runtime-and-compiler-features/) blog post.</span></span>

<a name="net471"/>

#### <a name="networking"></a><span data-ttu-id="8dead-389">Networking</span><span class="sxs-lookup"><span data-stu-id="8dead-389">Networking</span></span>

<span data-ttu-id="8dead-390">**Obsługa algorytmu SHA-2 dla komunikatu. algorytm**</span><span class="sxs-lookup"><span data-stu-id="8dead-390">**SHA-2 support for Message.HashAlgorithm**</span></span>

<span data-ttu-id="8dead-391">W .NET Framework 4,7 i wcześniejszych wersjach <xref:System.Messaging.Message.HashAlgorithm%2A?displayProperty=nameWithType> Właściwość obsługuje <xref:System.Messaging.HashAlgorithm.Md5?displayProperty=nameWithType> tylko wartości i <xref:System.Messaging.HashAlgorithm.Sha?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="8dead-391">In .NET Framework 4.7 and earlier versions, the <xref:System.Messaging.Message.HashAlgorithm%2A?displayProperty=nameWithType> property supported values of <xref:System.Messaging.HashAlgorithm.Md5?displayProperty=nameWithType> and <xref:System.Messaging.HashAlgorithm.Sha?displayProperty=nameWithType> only.</span></span> <span data-ttu-id="8dead-392">Począwszy od .NET Framework 4.7.1, <xref:System.Messaging.HashAlgorithm.Sha256?displayProperty=nameWithType> ,, <xref:System.Messaging.HashAlgorithm.Sha384?displayProperty=nameWithType> i <xref:System.Messaging.HashAlgorithm.Sha512?displayProperty=nameWithType> są również obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="8dead-392">Starting with .NET Framework 4.7.1, <xref:System.Messaging.HashAlgorithm.Sha256?displayProperty=nameWithType>, <xref:System.Messaging.HashAlgorithm.Sha384?displayProperty=nameWithType>, and <xref:System.Messaging.HashAlgorithm.Sha512?displayProperty=nameWithType> are also supported.</span></span> <span data-ttu-id="8dead-393">Określa, czy ta wartość jest faktycznie używana, zależy od usługi MSMQ, ponieważ <xref:System.Messaging.Message> samo wystąpienie nie wykonuje mieszania, ale po prostu przekazuje wartości do usługi MSMQ.</span><span class="sxs-lookup"><span data-stu-id="8dead-393">Whether this value is actually used depends on MSMQ, since the <xref:System.Messaging.Message> instance itself does no hashing but simply passes on values to MSMQ.</span></span> <span data-ttu-id="8dead-394">Aby uzyskać więcej informacji, zobacz sekcję "Obsługa protokołu SHA-2 dla komunikatu. algorytm" w wpisie w blogu [.NET Framework 4.7.1 ASP.NET i Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) .</span><span class="sxs-lookup"><span data-stu-id="8dead-394">For more information, see the "SHA-2 support for Message.HashAlgorithm" section in the [.NET Framework 4.7.1 ASP.NET and Configuration features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) blog post.</span></span>

<a name="asp-net471"></a>

#### <a name="aspnet"></a><span data-ttu-id="8dead-395">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="8dead-395">ASP.NET</span></span>

<span data-ttu-id="8dead-396">**Kroki wykonywania w aplikacjach ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="8dead-396">**Execution steps in ASP.NET applications**</span></span>

<span data-ttu-id="8dead-397">ASP.NET przetwarza żądania we wstępnie zdefiniowanym potoku zawierającym 23 zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="8dead-397">ASP.NET processes requests in a predefined pipeline that includes 23 events.</span></span> <span data-ttu-id="8dead-398">ASP.NET wykonuje każdy program obsługi zdarzeń jako krok wykonania.</span><span class="sxs-lookup"><span data-stu-id="8dead-398">ASP.NET executes each event handler as an execution step.</span></span> <span data-ttu-id="8dead-399">W wersjach programu ASP.NET do .NET Framework 4,7 ASP.NET nie można przepływać kontekstu wykonywania z powodu przełączenia między wątkami macierzystymi i zarządzanymi.</span><span class="sxs-lookup"><span data-stu-id="8dead-399">In versions of ASP.NET up to .NET Framework 4.7, ASP.NET can't flow the execution context due to switching between native and managed threads.</span></span> <span data-ttu-id="8dead-400">Zamiast tego ASP.NET selektywnie przepływy tylko <xref:System.Web.HttpContext> .</span><span class="sxs-lookup"><span data-stu-id="8dead-400">Instead, ASP.NET selectively flows only the <xref:System.Web.HttpContext>.</span></span> <span data-ttu-id="8dead-401">Począwszy od .NET Framework 4.7.1, <xref:System.Web.HttpApplication.OnExecuteRequestStep(System.Action{System.Web.HttpContextBase,System.Action})?displayProperty=nameWithType> Metoda umożliwia również modułom przywracanie danych otoczenia.</span><span class="sxs-lookup"><span data-stu-id="8dead-401">Starting with .NET Framework 4.7.1, the <xref:System.Web.HttpApplication.OnExecuteRequestStep(System.Action{System.Web.HttpContextBase,System.Action})?displayProperty=nameWithType> method also allows modules to restore ambient data.</span></span> <span data-ttu-id="8dead-402">Ta funkcja jest przeznaczona dla bibliotek objętych śledzeniem, profilem, diagnostyką lub transakcjami, na przykład z myślą o przepływie wykonywania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-402">This feature is targeted at libraries concerned with tracing, profiling, diagnostics, or transactions, for example, that care about the execution flow of the application.</span></span> <span data-ttu-id="8dead-403">Aby uzyskać więcej informacji, zobacz "funkcja kroku wykonywania ASP.NET" w wpisie w blogu [.NET Framework 4.7.1 ASP.NET i Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) .</span><span class="sxs-lookup"><span data-stu-id="8dead-403">For more information, see the "ASP.NET Execution Step Feature" in the [.NET Framework 4.7.1 ASP.NET and Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) blog post.</span></span>

<span data-ttu-id="8dead-404">**Analiza ASP.NET HttpCookie**</span><span class="sxs-lookup"><span data-stu-id="8dead-404">**ASP.NET HttpCookie parsing**</span></span>

<span data-ttu-id="8dead-405">.NET Framework 4.7.1 zawiera nową metodę, <xref:System.Web.HttpCookie.TryParse%2A?displayProperty=nameWithType> która stanowi standardowy sposób tworzenia <xref:System.Web.HttpCookie> obiektu na podstawie ciągu i dokładnego przypisywania wartości cookie, takich jak data wygaśnięcia i ścieżka.</span><span class="sxs-lookup"><span data-stu-id="8dead-405">.NET Framework 4.7.1 includes a new method, <xref:System.Web.HttpCookie.TryParse%2A?displayProperty=nameWithType>, that provides a standardized way to create an <xref:System.Web.HttpCookie> object from a string and accurately assign cookie values such as expiration date and path.</span></span> <span data-ttu-id="8dead-406">Aby uzyskać więcej informacji, zobacz "Analiza ASP.NET HttpCookie" w blogu [.NET Framework 4.7.1 ASP.NET and Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) .</span><span class="sxs-lookup"><span data-stu-id="8dead-406">For more information, see "ASP.NET HttpCookie parsing" in the [.NET Framework 4.7.1 ASP.NET and Configuration Features](https://devblogs.microsoft.com/dotnet/net-framework-4-7-1-asp-net-and-configuration-features/) blog post.</span></span>

<span data-ttu-id="8dead-407">**Opcje wyznaczania wartości skrótu SHA-2 dla poświadczeń uwierzytelniania ASP.NET Forms**</span><span class="sxs-lookup"><span data-stu-id="8dead-407">**SHA-2 hash options for ASP.NET forms authentication credentials**</span></span>

<span data-ttu-id="8dead-408">W .NET Framework 4,7 i wcześniejszych wersjach ASP.NET zezwolenie deweloperom na przechowywanie poświadczeń użytkownika z użyciem skrótów haseł w plikach konfiguracji przy użyciu algorytmu MD5 lub SHA1.</span><span class="sxs-lookup"><span data-stu-id="8dead-408">In .NET Framework 4.7 and earlier versions, ASP.NET allowed developers to store user credentials with hashed passwords in configuration files using either MD5 or SHA1.</span></span> <span data-ttu-id="8dead-409">Począwszy od .NET Framework 4.7.1, ASP.NET obsługuje również nowe bezpieczne opcje skrótu SHA-2, takie jak SHA256, SHA384 i SHA512.</span><span class="sxs-lookup"><span data-stu-id="8dead-409">Starting with .NET Framework 4.7.1, ASP.NET also supports new secure SHA-2 hash options such as SHA256, SHA384, and SHA512.</span></span> <span data-ttu-id="8dead-410">Algorytm SHA1 pozostaje domyślny, a w pliku konfiguracyjnym sieci Web można zdefiniować niedomyślnego algorytmu wyznaczania wartości skrótu.</span><span class="sxs-lookup"><span data-stu-id="8dead-410">SHA1 remains the default, and a non-default hash algorithm can be defined in the web configuration file.</span></span> <span data-ttu-id="8dead-411">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="8dead-411">For example:</span></span>

```xml
<system.web>
    <authentication mode="Forms">
        <forms loginUrl="~/login.aspx">
          <credentials passwordFormat="SHA512">
            <user name="jdoe" password="6D003E98EA1C7F04ABF8FCB375388907B7F3EE06F278DB966BE960E7CBBD103DF30CA6D61F7E7FD981B2E4E3A64D43C836A4BEDCA165C33B163E6BCDC538A664" />
          </credentials>
        </forms>
    </authentication>
</system.web>
```

<a name="v47"></a>

## <a name="whats-new-in-net-framework-47"></a><span data-ttu-id="8dead-412">Co nowego w .NET Framework 4,7</span><span class="sxs-lookup"><span data-stu-id="8dead-412">What's new in .NET Framework 4.7</span></span>

<span data-ttu-id="8dead-413">.NET Framework 4,7 zawiera nowe funkcje w następujących obszarach:</span><span class="sxs-lookup"><span data-stu-id="8dead-413">.NET Framework 4.7 includes new features in the following areas:</span></span>

- [<span data-ttu-id="8dead-414">Klas podstawowych</span><span class="sxs-lookup"><span data-stu-id="8dead-414">Base classes</span></span>](#Core47)
- [<span data-ttu-id="8dead-415">Sieć</span><span class="sxs-lookup"><span data-stu-id="8dead-415">Networking</span></span>](#net47)
- [<span data-ttu-id="8dead-416">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="8dead-416">ASP.NET</span></span>](#ASP-NET47)
- [<span data-ttu-id="8dead-417">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="8dead-417">Windows Communication Foundation (WCF)</span></span>](#wcf47)
- [<span data-ttu-id="8dead-418">Windows Forms</span><span class="sxs-lookup"><span data-stu-id="8dead-418">Windows Forms</span></span>](#wf47)
- [<span data-ttu-id="8dead-419">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="8dead-419">Windows Presentation Foundation (WPF)</span></span>](#WPF47)

<span data-ttu-id="8dead-420">Aby uzyskać listę nowych interfejsów API dodanych do .NET Framework 4,7, zobacz [.NET Framework 4,7 zmiany interfejsu API](https://github.com/Microsoft/dotnet/blob/master/releases/net47/dotnet47-api-changes.md) w serwisie GitHub.</span><span class="sxs-lookup"><span data-stu-id="8dead-420">For a list of new APIs added to .NET Framework 4.7, see [.NET Framework 4.7 API Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net47/dotnet47-api-changes.md) on GitHub.</span></span> <span data-ttu-id="8dead-421">Aby zapoznać się z listą ulepszeń funkcji i poprawek błędów w .NET Framework 4,7, zobacz [.NET Framework 4,7 Lista zmian](https://github.com/Microsoft/dotnet/blob/master/releases/net47/dotnet47-changes.md) w serwisie GitHub.</span><span class="sxs-lookup"><span data-stu-id="8dead-421">For a list of feature improvements and bug fixes in .NET Framework 4.7, see [.NET Framework 4.7 List of Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net47/dotnet47-changes.md) on GitHub.</span></span> <span data-ttu-id="8dead-422">Aby uzyskać więcej informacji, zobacz temat [ogłaszanie .NET Framework 4,7](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-7/) w blogu platformy .NET.</span><span class="sxs-lookup"><span data-stu-id="8dead-422">For more information, see [Announcing .NET Framework 4.7](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-7/) in the .NET blog.</span></span>

<a name="Core47"></a>

#### <a name="base-classes"></a><span data-ttu-id="8dead-423">Klas podstawowych</span><span class="sxs-lookup"><span data-stu-id="8dead-423">Base classes</span></span>

<span data-ttu-id="8dead-424">.NET Framework 4,7 usprawnia serializację przez <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> :</span><span class="sxs-lookup"><span data-stu-id="8dead-424">.NET Framework 4.7 improves serialization by the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer>:</span></span>

<span data-ttu-id="8dead-425">**Rozszerzona funkcjonalność przy użyciu kryptografii eliptyczna eliptycznej (ECC)** _</span><span class="sxs-lookup"><span data-stu-id="8dead-425">**Enhanced functionality with Elliptic Curve Cryptography (ECC)** _</span></span>

<span data-ttu-id="8dead-426">W .NET Framework 4,7 `ImportParameters(ECParameters)` Dodano metody do <xref:System.Security.Cryptography.ECDsa> klas i, <xref:System.Security.Cryptography.ECDiffieHellman> Aby umożliwić obiektowi reprezentowania już ustanowionego klucza.</span><span class="sxs-lookup"><span data-stu-id="8dead-426">In .NET Framework 4.7, `ImportParameters(ECParameters)` methods were added to the <xref:System.Security.Cryptography.ECDsa> and <xref:System.Security.Cryptography.ECDiffieHellman> classes to allow for an object to represent an already-established key.</span></span> <span data-ttu-id="8dead-427">`ExportParameters(Boolean)`Dodano również metodę eksportu klucza przy użyciu jawnych parametrów krzywej.</span><span class="sxs-lookup"><span data-stu-id="8dead-427">An `ExportParameters(Boolean)` method was also added for exporting the key using explicit curve parameters.</span></span>

<span data-ttu-id="8dead-428">.NET Framework 4,7 również dodaje obsługę dodatkowych krzywych (w tym zestawu krzywej Brainpool) i dodał wstępnie zdefiniowane definicje w celu ułatwienia tworzenia przy użyciu nowych <xref:System.Security.Cryptography.ECDsa.Create%2A> i <xref:System.Security.Cryptography.ECDiffieHellman.Create%2A> fabrycznych metod.</span><span class="sxs-lookup"><span data-stu-id="8dead-428">.NET Framework 4.7 also adds support for additional curves (including the Brainpool curve suite), and has added predefined definitions for ease-of-creation through the new <xref:System.Security.Cryptography.ECDsa.Create%2A> and <xref:System.Security.Cryptography.ECDiffieHellman.Create%2A> factory methods.</span></span>

<span data-ttu-id="8dead-429">[Przykład ulepszeń kryptografii .NET Framework 4,7](https://gist.github.com/richlander/5a182899895a87a296c21ada97f7a54e) w serwisie GitHub.</span><span class="sxs-lookup"><span data-stu-id="8dead-429">You can see an [example of .NET Framework 4.7 cryptography improvements](https://gist.github.com/richlander/5a182899895a87a296c21ada97f7a54e) on GitHub.</span></span>

<span data-ttu-id="8dead-430">*Lepsza obsługa znaków kontrolnych przez Klasa DataContractJsonSerializer*\*</span><span class="sxs-lookup"><span data-stu-id="8dead-430">_ *Better support for control characters by the DataContractJsonSerializer*\*</span></span>

<span data-ttu-id="8dead-431">W .NET Framework 4,7 <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> Klasa deserializacji znaki kontrolne zgodne ze standardem ECMAScript 6.</span><span class="sxs-lookup"><span data-stu-id="8dead-431">In .NET Framework 4.7, the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> class serializes control characters in conformity with the ECMAScript 6 standard.</span></span> <span data-ttu-id="8dead-432">To zachowanie jest domyślnie włączone dla aplikacji, które są przeznaczone dla .NET Framework 4,7 i jest funkcją wyboru dla aplikacji, które działają w ramach .NET Framework 4,7, ale celem jest poprzednia wersja .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8dead-432">This behavior is enabled by default for applications that target .NET Framework 4.7, and is an opt-in feature for applications that are running under .NET Framework 4.7 but target a previous version of .NET Framework.</span></span> <span data-ttu-id="8dead-433">Aby uzyskać więcej informacji, zobacz sekcję [zgodność aplikacji](../migration-guide/application-compatibility.md) .</span><span class="sxs-lookup"><span data-stu-id="8dead-433">For more information, see the [Application compatibility](../migration-guide/application-compatibility.md) section.</span></span>

<a name="net47"></a>

#### <a name="networking"></a><span data-ttu-id="8dead-434">Networking</span><span class="sxs-lookup"><span data-stu-id="8dead-434">Networking</span></span>

<span data-ttu-id="8dead-435">.NET Framework 4,7 dodaje następującą funkcję powiązaną z siecią:</span><span class="sxs-lookup"><span data-stu-id="8dead-435">.NET Framework 4.7 adds the following network-related feature:</span></span>

<span data-ttu-id="8dead-436">**Domyślna obsługa systemu operacyjnego dla protokołów TLS** _</span><span class="sxs-lookup"><span data-stu-id="8dead-436">**Default operating system support for TLS protocols** _</span></span>

<span data-ttu-id="8dead-437">Stos protokołu TLS, który jest używany przez <xref:System.Net.Security.SslStream?displayProperty=nameWithType> składniki stosujące i w górę, takie jak http, FTP i SMTP, umożliwia deweloperom korzystanie z domyślnych protokołów protokołu TLS obsługiwanych przez system operacyjny.</span><span class="sxs-lookup"><span data-stu-id="8dead-437">The TLS stack, which is used by <xref:System.Net.Security.SslStream?displayProperty=nameWithType> and up-stack components such as HTTP, FTP, and SMTP, allows developers to use the default TLS protocols supported by the operating system.</span></span> <span data-ttu-id="8dead-438">Deweloperzy nie muszą już wykodować wersji TLS.</span><span class="sxs-lookup"><span data-stu-id="8dead-438">Developers need no longer hard-code a TLS version.</span></span>

<a name="ASP-NET47"></a>

#### <a name="aspnet"></a><span data-ttu-id="8dead-439">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="8dead-439">ASP.NET</span></span>

<span data-ttu-id="8dead-440">W .NET Framework 4,7 ASP.NET zawiera następujące nowe funkcje:</span><span class="sxs-lookup"><span data-stu-id="8dead-440">In .NET Framework 4.7, ASP.NET includes the following new features:</span></span>

<span data-ttu-id="8dead-441">_ *Rozszerzalność pamięci podręcznej obiektów*\*</span><span class="sxs-lookup"><span data-stu-id="8dead-441">_ *Object Cache Extensibility*\*</span></span>

<span data-ttu-id="8dead-442">Począwszy od .NET Framework 4,7, ASP.NET dodaje nowy zestaw interfejsów API, które umożliwiają deweloperom zastąpienie domyślnych implementacji ASP.NET dla pamięci podręcznej obiektów i pamięci.</span><span class="sxs-lookup"><span data-stu-id="8dead-442">Starting with .NET Framework 4.7, ASP.NET adds a new set of APIs that allow developers to replace the default ASP.NET implementations for in-memory object caching and memory monitoring.</span></span> <span data-ttu-id="8dead-443">Deweloperzy mogą teraz zastąpić dowolne z następujących trzech składników, jeśli implementacja ASP.NET nie jest odpowiednia:</span><span class="sxs-lookup"><span data-stu-id="8dead-443">Developers can now replace any of the following three components if the ASP.NET implementation is not adequate:</span></span>

- <span data-ttu-id="8dead-444">**Magazyn pamięci podręcznej obiektów**.</span><span class="sxs-lookup"><span data-stu-id="8dead-444">**Object Cache Store**.</span></span> <span data-ttu-id="8dead-445">Za pomocą nowej sekcji Konfiguracja dostawców pamięci podręcznej deweloperzy mogą podłączyć nowe implementacje pamięci podręcznej obiektów dla aplikacji ASP.NET przy użyciu nowego interfejsu **ICacheStoreProvider** .</span><span class="sxs-lookup"><span data-stu-id="8dead-445">By using the new cache providers configuration section, developers can plug in new implementations of an object cache for an ASP.NET application by using the new **ICacheStoreProvider** interface.</span></span>

- <span data-ttu-id="8dead-446">**Monitorowanie pamięci**.</span><span class="sxs-lookup"><span data-stu-id="8dead-446">**Memory monitoring**.</span></span> <span data-ttu-id="8dead-447">Domyślny monitor pamięci w programie ASP.NET powiadamia aplikacje, gdy działają w pobliżu skonfigurowanego limitu bajtów prywatnych dla tego procesu lub gdy na komputerze jest mało dostępnej fizycznej pamięci RAM.</span><span class="sxs-lookup"><span data-stu-id="8dead-447">The default memory monitor in ASP.NET notifies applications when they are running close to the configured private bytes limit for the process, or when the machine is low on total available physical RAM.</span></span> <span data-ttu-id="8dead-448">Gdy te limity zbliżają się, powiadomienia są wywoływane.</span><span class="sxs-lookup"><span data-stu-id="8dead-448">When these limits are near, notifications are fired.</span></span> <span data-ttu-id="8dead-449">W przypadku niektórych aplikacji powiadomienia są wywoływane zbyt blisko skonfigurowanych limitów, aby umożliwić korzystanie z przydatnych reakcji.</span><span class="sxs-lookup"><span data-stu-id="8dead-449">For some applications, notifications are fired too close to the configured limits to allow for useful reactions.</span></span> <span data-ttu-id="8dead-450">Deweloperzy mogą teraz pisać własne monitory pamięci, aby zamienić wartość domyślną przy użyciu <xref:System.Web.Hosting.ApplicationMonitors.MemoryMonitor%2A?displayProperty=nameWithType> właściwości.</span><span class="sxs-lookup"><span data-stu-id="8dead-450">Developers can now write their own memory monitors to replace the default by using the <xref:System.Web.Hosting.ApplicationMonitors.MemoryMonitor%2A?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="8dead-451">**Reakcje z limitem pamięci**.</span><span class="sxs-lookup"><span data-stu-id="8dead-451">**Memory Limit Reactions**.</span></span> <span data-ttu-id="8dead-452">Domyślnie ASP.NET próbuje przyciąć pamięć podręczną obiektów i okresowo wywoływać, <xref:System.GC.Collect%2A?displayProperty=nameWithType> gdy limit procesu prywatnego bajtów jest bliski.</span><span class="sxs-lookup"><span data-stu-id="8dead-452">By default, ASP.NET attempts to trim the object cache and periodically call <xref:System.GC.Collect%2A?displayProperty=nameWithType> when the private byte process limit is near.</span></span> <span data-ttu-id="8dead-453">W przypadku niektórych aplikacji częstotliwość wywołań <xref:System.GC.Collect%2A?displayProperty=nameWithType> lub ilość pamięci podręcznej, która jest przycinana, jest nieskuteczna.</span><span class="sxs-lookup"><span data-stu-id="8dead-453">For some applications, the frequency of calls to <xref:System.GC.Collect%2A?displayProperty=nameWithType> or the amount of cache that is trimmed are inefficient.</span></span> <span data-ttu-id="8dead-454">Deweloperzy mogą teraz zastąpić lub uzupełnić zachowanie domyślne, subskrybując implementacje **IObserver** do monitora pamięci aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-454">Developers can now replace or supplement the default behavior by subscribing **IObserver** implementations to the application's memory monitor.</span></span>

<a name="wcf47"></a>

#### <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="8dead-455">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="8dead-455">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="8dead-456">Windows Communication Foundation (WCF) dodaje następujące funkcje i zmiany:</span><span class="sxs-lookup"><span data-stu-id="8dead-456">Windows Communication Foundation (WCF) adds the following features and changes:</span></span>

<span data-ttu-id="8dead-457">**Możliwość skonfigurowania domyślnych ustawień zabezpieczeń komunikatów do protokołu TLS 1,1 lub TLS 1,2**</span><span class="sxs-lookup"><span data-stu-id="8dead-457">**Ability to configure the default message security settings to TLS 1.1 or TLS 1.2**</span></span>

<span data-ttu-id="8dead-458">Począwszy od .NET Framework 4,7, usługa WCF umożliwia skonfigurowanie protokołu TLS 1,1 lub TLS 1,2 oprócz protokołu SSL 3,0 i TLS 1,0 jako domyślny protokół zabezpieczeń komunikatów.</span><span class="sxs-lookup"><span data-stu-id="8dead-458">Starting with .NET Framework 4.7, WCF allows you to configure TLS 1.1 or TLS 1.2 in addition to SSL 3.0 and TLS 1.0 as the default message security protocol.</span></span> <span data-ttu-id="8dead-459">Jest to ustawienie zgody. Aby ją włączyć, należy dodać następujący wpis do pliku konfiguracji aplikacji:</span><span class="sxs-lookup"><span data-stu-id="8dead-459">This is an opt-in setting; to enable it, you must add the following entry to your application configuration file:</span></span>

```xml
<runtime>
   <AppContextSwitchOverrides value="Switch.System.ServiceModel.DisableUsingServicePointManagerSecurityProtocols=false;Switch.System.Net.DontEnableSchUseStrongCrypto=false" />
</runtime>
```

<span data-ttu-id="8dead-460">**Zwiększona niezawodność aplikacji WCF i serializacji WCF**</span><span class="sxs-lookup"><span data-stu-id="8dead-460">**Improved reliability of WCF applications and WCF serialization**</span></span>

<span data-ttu-id="8dead-461">Program WCF zawiera szereg zmian w kodzie, które eliminują sytuacje wyścigu, co poprawia wydajność i niezawodność opcji serializacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-461">WCF includes a number of code changes that eliminate race conditions, thereby improving performance and the reliability of serialization options.</span></span> <span data-ttu-id="8dead-462">Są one następujące:</span><span class="sxs-lookup"><span data-stu-id="8dead-462">These include:</span></span>

- <span data-ttu-id="8dead-463">Lepsza obsługa mieszania kodu asynchronicznego i synchronicznego w wywołaniach **SocketConnection. BeginRead** i **SocketConnection. Read**.</span><span class="sxs-lookup"><span data-stu-id="8dead-463">Better support for mixing asynchronous and synchronous code in calls to **SocketConnection.BeginRead** and **SocketConnection.Read**.</span></span>
- <span data-ttu-id="8dead-464">Zwiększona niezawodność podczas przerywania połączenia z **SharedConnectionListener** i **DuplexChannelBinder**.</span><span class="sxs-lookup"><span data-stu-id="8dead-464">Improved reliability when aborting a connection with **SharedConnectionListener** and **DuplexChannelBinder**.</span></span>
- <span data-ttu-id="8dead-465">Ulepszona niezawodność operacji serializacji podczas wywoływania <xref:System.Runtime.Serialization.FormatterServices.GetSerializableMembers%28System.Type%29?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="8dead-465">Improved reliability of serialization operations when calling the <xref:System.Runtime.Serialization.FormatterServices.GetSerializableMembers%28System.Type%29?displayProperty=nameWithType> method.</span></span>
- <span data-ttu-id="8dead-466">Zwiększona niezawodność podczas usuwania oczekiwania przez wywołanie metody **ChannelSynchronizer. RemoveWaiter** .</span><span class="sxs-lookup"><span data-stu-id="8dead-466">Improved reliability when removing a waiter by calling the **ChannelSynchronizer.RemoveWaiter** method.</span></span>

<a name="wf47"></a>

#### <a name="windows-forms"></a><span data-ttu-id="8dead-467">Windows Forms</span><span class="sxs-lookup"><span data-stu-id="8dead-467">Windows Forms</span></span>

<span data-ttu-id="8dead-468">W .NET Framework 4,7 Windows Forms Ulepszona obsługa monitorów o wysokiej rozdzielczości DPI.</span><span class="sxs-lookup"><span data-stu-id="8dead-468">In .NET Framework 4.7, Windows Forms improves support for high DPI monitors.</span></span>

<span data-ttu-id="8dead-469">**Obsługa wysokiej rozdzielczości DPI**</span><span class="sxs-lookup"><span data-stu-id="8dead-469">**High DPI support**</span></span>

<span data-ttu-id="8dead-470">Począwszy od aplikacji przeznaczonych dla .NET Framework 4,7, .NET Framework funkcje o wysokiej rozdzielczości DPI i dynamicznej rozdzielczości DPI dla aplikacji Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="8dead-470">Starting with applications that target .NET Framework 4.7, .NET Framework features high DPI and dynamic DPI support for Windows Forms applications.</span></span> <span data-ttu-id="8dead-471">Obsługa wysokiej rozdzielczości DPI usprawnia układ i wygląd formularzy i kontrolek na monitorach o wysokiej rozdzielczości DPI.</span><span class="sxs-lookup"><span data-stu-id="8dead-471">High DPI support improves the layout and appearance of forms and controls on high DPI monitors.</span></span> <span data-ttu-id="8dead-472">Dynamiczne DPI zmienia układ i wygląd formularzy i kontrolek, gdy użytkownik zmienia wartość DPI lub współczynnik skali wyświetlania uruchomionej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-472">Dynamic DPI changes the layout and appearance of forms and controls when the user changes the DPI or display scale factor of a running application.</span></span>

<span data-ttu-id="8dead-473">Obsługa wysokiej rozdzielczości DPI to funkcja, która została skonfigurowana przez zdefiniowanie [\<System.Windows.Forms.ConfigurationSection>](../configure-apps/file-schema/winforms/index.md) sekcji w pliku konfiguracyjnym aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-473">High DPI support is an opt-in feature that you configure by defining a [\<System.Windows.Forms.ConfigurationSection>](../configure-apps/file-schema/winforms/index.md) section in your application configuration file.</span></span> <span data-ttu-id="8dead-474">Aby uzyskać więcej informacji na temat dodawania obsługi wysokiej rozdzielczości DPI i dynamicznej rozdzielczości DPI do aplikacji Windows Forms, zobacz [Obsługa wysokiej rozdzielczości DPI w Windows Forms](/dotnet/desktop/winforms/high-dpi-support-in-windows-forms).</span><span class="sxs-lookup"><span data-stu-id="8dead-474">For more information on adding high DPI support and dynamic DPI support to your Windows Forms application, see [High DPI Support in Windows Forms](/dotnet/desktop/winforms/high-dpi-support-in-windows-forms).</span></span>

<a name="WPF47"></a>

#### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="8dead-475">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="8dead-475">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="8dead-476">W .NET Framework 4,7, WPF obejmuje następujące udoskonalenia:</span><span class="sxs-lookup"><span data-stu-id="8dead-476">In .NET Framework 4.7, WPF includes the following enhancements:</span></span>

<span data-ttu-id="8dead-477">**Obsługa stosu dotykowego/pióra opartego na komunikatach WM_POINTER systemu Windows**</span><span class="sxs-lookup"><span data-stu-id="8dead-477">**Support for a touch/stylus stack based on Windows WM_POINTER messages**</span></span>

<span data-ttu-id="8dead-478">Masz teraz możliwość używania stosu dotykowego/pióra na podstawie [komunikatów WM_POINTER](/previous-versions/windows/desktop/InputMsg/messages) zamiast platformy Windows Ink Services (roaming).</span><span class="sxs-lookup"><span data-stu-id="8dead-478">You now have the option of using a touch/stylus stack based on [WM_POINTER messages](/previous-versions/windows/desktop/InputMsg/messages) instead of the Windows Ink Services Platform (WISP).</span></span> <span data-ttu-id="8dead-479">Jest to funkcja opcjonalna w .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8dead-479">This is an opt-in feature in .NET Framework.</span></span> <span data-ttu-id="8dead-480">Aby uzyskać więcej informacji, zobacz sekcję [zgodność aplikacji](../migration-guide/application-compatibility.md) .</span><span class="sxs-lookup"><span data-stu-id="8dead-480">For more information, see the [Application compatibility](../migration-guide/application-compatibility.md) section.</span></span>

<span data-ttu-id="8dead-481">**Nowa Implementacja interfejsów API drukowania WPF**</span><span class="sxs-lookup"><span data-stu-id="8dead-481">**New implementation for WPF printing APIs**</span></span>

<span data-ttu-id="8dead-482">Interfejsy API drukowania WPF w <xref:System.Printing.PrintQueue?displayProperty=nameWithType> klasie wywołują [interfejs API pakietu dokumentów](/windows/desktop/printdocs/tailored-app-printing-api) systemu Windows zamiast przestarzałego [interfejsu API drukowania XPS](/windows/desktop/printdocs/xps-printing).</span><span class="sxs-lookup"><span data-stu-id="8dead-482">WPF's printing APIs in the <xref:System.Printing.PrintQueue?displayProperty=nameWithType> class call the Windows [Print Document Package API](/windows/desktop/printdocs/tailored-app-printing-api) instead of the deprecated [XPS Print API](/windows/desktop/printdocs/xps-printing).</span></span> <span data-ttu-id="8dead-483">Aby uzyskać wpływ tej zmiany na zgodność aplikacji, zobacz sekcję [zgodność aplikacji](../migration-guide/application-compatibility.md) .</span><span class="sxs-lookup"><span data-stu-id="8dead-483">For the impact of this change on application compatibility, see the [Application compatibility](../migration-guide/application-compatibility.md) section.</span></span>

<a name="v462"></a>

## <a name="whats-new-in-net-framework-462"></a><span data-ttu-id="8dead-484">Co nowego w .NET Framework 4.6.2</span><span class="sxs-lookup"><span data-stu-id="8dead-484">What's new in .NET Framework 4.6.2</span></span>

<span data-ttu-id="8dead-485">.NET Framework 4.6.2 zawiera nowe funkcje w następujących obszarach:</span><span class="sxs-lookup"><span data-stu-id="8dead-485">.NET Framework 4.6.2 includes new features in the following areas:</span></span>

- [<span data-ttu-id="8dead-486">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="8dead-486">ASP.NET</span></span>](#ASPNET462)

- [<span data-ttu-id="8dead-487">Kategorie znaków</span><span class="sxs-lookup"><span data-stu-id="8dead-487">Character categories</span></span>](#Strings)

- [<span data-ttu-id="8dead-488">Kryptografia</span><span class="sxs-lookup"><span data-stu-id="8dead-488">Cryptography</span></span>](#Crypto462)

- [<span data-ttu-id="8dead-489">SqlClient</span><span class="sxs-lookup"><span data-stu-id="8dead-489">SqlClient</span></span>](#SQLClient)

- [<span data-ttu-id="8dead-490">Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="8dead-490">Windows Communication Foundation</span></span>](#WCF)

- [<span data-ttu-id="8dead-491">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="8dead-491">Windows Presentation Foundation (WPF)</span></span>](#WPF462)

- [<span data-ttu-id="8dead-492">Program Windows Workflow Foundation (WF)</span><span class="sxs-lookup"><span data-stu-id="8dead-492">Windows Workflow Foundation (WF)</span></span>](#WF462)

- [<span data-ttu-id="8dead-493">ClickOnce</span><span class="sxs-lookup"><span data-stu-id="8dead-493">ClickOnce</span></span>](#clickonce-1)

- [<span data-ttu-id="8dead-494">Konwertowanie aplikacji Windows Forms i WPF na aplikacje platformy UWP</span><span class="sxs-lookup"><span data-stu-id="8dead-494">Converting Windows Forms and WPF apps to UWP apps</span></span>](#UWPConvert)

- [<span data-ttu-id="8dead-495">Ulepszenia debugowania</span><span class="sxs-lookup"><span data-stu-id="8dead-495">Debugging improvements</span></span>](#Debug462)

<span data-ttu-id="8dead-496">Aby uzyskać listę nowych interfejsów API dodanych do .NET Framework 4.6.2, zobacz [.NET Framework zmiany interfejsu API 4.6.2](https://github.com/Microsoft/dotnet/blob/master/releases/net462/dotnet462-api-changes.md) w serwisie GitHub.</span><span class="sxs-lookup"><span data-stu-id="8dead-496">For a list of new APIs added to .NET Framework 4.6.2, see [.NET Framework 4.6.2 API Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net462/dotnet462-api-changes.md) on GitHub.</span></span> <span data-ttu-id="8dead-497">Aby zapoznać się z listą ulepszeń funkcji i poprawek błędów w .NET Framework 4.6.2, zobacz [.NET Framework 4.6.2 list zmian](https://github.com/Microsoft/dotnet/blob/master/releases/net462/dotnet462-changes.md) w witrynie GitHub.</span><span class="sxs-lookup"><span data-stu-id="8dead-497">For a list of feature improvements and bug fixes in .NET Framework 4.6.2, see [.NET Framework 4.6.2 List of Changes](https://github.com/Microsoft/dotnet/blob/master/releases/net462/dotnet462-changes.md) on GitHub.</span></span> <span data-ttu-id="8dead-498">Aby uzyskać więcej informacji, zobacz temat [ogłaszanie .NET Framework 4.6.2](https://devblogs.microsoft.com/dotnet/announcing-net-framework-4-6-2/) w blogu platformy .NET.</span><span class="sxs-lookup"><span data-stu-id="8dead-498">For more information, see [Announcing .NET Framework 4.6.2](https://devblogs.microsoft.com/dotnet/announcing-net-framework-4-6-2/) in the .NET blog.</span></span>

<a name="ASPNET462"></a>

### <a name="aspnet"></a><span data-ttu-id="8dead-499">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="8dead-499">ASP.NET</span></span>

<span data-ttu-id="8dead-500">W .NET Framework 4.6.2 ASP.NET obejmuje następujące udoskonalenia:</span><span class="sxs-lookup"><span data-stu-id="8dead-500">In  .NET Framework 4.6.2, ASP.NET includes the following enhancements:</span></span>

<span data-ttu-id="8dead-501">**Ulepszona obsługa zlokalizowanych komunikatów o błędach w modułach sprawdzania poprawności adnotacji danych**</span><span class="sxs-lookup"><span data-stu-id="8dead-501">**Improved support for localized error messages in data annotation validators**</span></span>

<span data-ttu-id="8dead-502">Moduły sprawdzania poprawności adnotacji danych umożliwiają wykonanie walidacji przez dodanie jednego lub większej liczby atrybutów do właściwości klasy.</span><span class="sxs-lookup"><span data-stu-id="8dead-502">Data annotation validators enable you to perform validation by adding one or more attributes to a class property.</span></span> <span data-ttu-id="8dead-503"><xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType>Element atrybutu definiuje tekst komunikatu o błędzie, jeśli Walidacja nie powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="8dead-503">The attribute's <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> element defines the text of the error message if validation fails.</span></span> <span data-ttu-id="8dead-504">Począwszy od .NET Framework 4.6.2, ASP.NET ułatwia lokalizowanie komunikatów o błędach.</span><span class="sxs-lookup"><span data-stu-id="8dead-504">Starting with .NET Framework 4.6.2, ASP.NET makes it easy to localize error messages.</span></span> <span data-ttu-id="8dead-505">Komunikaty o błędach będą lokalizowane, jeśli:</span><span class="sxs-lookup"><span data-stu-id="8dead-505">Error messages will be localized if:</span></span>

1. <span data-ttu-id="8dead-506"><xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType>Podano w atrybucie walidacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-506">The <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> is provided in the validation attribute.</span></span>

2. <span data-ttu-id="8dead-507">Plik zasobów jest przechowywany w folderze App_LocalResources.</span><span class="sxs-lookup"><span data-stu-id="8dead-507">The resource file is stored in the App_LocalResources folder.</span></span>

3. <span data-ttu-id="8dead-508">Nazwa zlokalizowanego pliku zasobów ma `DataAnnotation.Localization.{` *nazwę* formularza `}.resx` , gdzie *name* jest nazwą kultury w formacie *languageCode* `-` *Country/regionCode* lub *languageCode*.</span><span class="sxs-lookup"><span data-stu-id="8dead-508">The name of the localized resources file has the form `DataAnnotation.Localization.{`*name*`}.resx`, where *name* is a culture name in the format *languageCode*`-`*country/regionCode* or *languageCode*.</span></span>

4. <span data-ttu-id="8dead-509">Nazwa klucza zasobu jest ciągiem przypisanym do <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> atrybutu, a jego wartość jest zlokalizowanym komunikatem o błędzie.</span><span class="sxs-lookup"><span data-stu-id="8dead-509">The key name of the resource is the string assigned to the <xref:System.ComponentModel.DataAnnotations.ValidationAttribute.ErrorMessage%2A?displayProperty=nameWithType> attribute,  and its value is the localized error message.</span></span>

<span data-ttu-id="8dead-510">Na przykład następujący atrybut adnotacji danych definiuje domyślną wartość domyślnej kultury dla nieprawidłowej klasyfikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-510">For example, the following data annotation attribute defines the default culture's error message for an invalid rating.</span></span>

```csharp
public class RatingInfo
{
   [Required(ErrorMessage = "The rating must be between 1 and 10.")]
   [Display(Name = "Your Rating")]
   public int Rating { get; set; }
}
```

```vb
Public Class RatingInfo
   <Required(ErrorMessage = "The rating must be between 1 and 10.")>
   <Display(Name = "Your Rating")>
   Public Property Rating As Integer = 1
End Class
```

<span data-ttu-id="8dead-511">Następnie można utworzyć plik zasobów, DataAnnotation. lokalizacja. fr. resx, którego kluczem jest ciąg komunikatu o błędzie i którego wartość jest zlokalizowanym komunikatem o błędzie.</span><span class="sxs-lookup"><span data-stu-id="8dead-511">You can then create a resource file, DataAnnotation.Localization.fr.resx, whose key is the error message string and whose value is the localized error message.</span></span> <span data-ttu-id="8dead-512">Plik musi znajdować się w `App.LocalResources` folderze.</span><span class="sxs-lookup"><span data-stu-id="8dead-512">The file must be found in the `App.LocalResources` folder.</span></span> <span data-ttu-id="8dead-513">Na przykład poniżej znajduje się klucz i jego wartość w zlokalizowanym komunikacie o błędzie języka francuskiego (fr):</span><span class="sxs-lookup"><span data-stu-id="8dead-513">For example, the following is the key and its value in a localized French (fr) language error message:</span></span>

| <span data-ttu-id="8dead-514">Nazwa</span><span class="sxs-lookup"><span data-stu-id="8dead-514">Name</span></span>                                 | <span data-ttu-id="8dead-515">Wartość</span><span class="sxs-lookup"><span data-stu-id="8dead-515">Value</span></span>                                     |
| ------------------------------------ | ----------------------------------------- |
| <span data-ttu-id="8dead-516">Klasyfikacja musi zawierać się w przedziale od 1 do 10.</span><span class="sxs-lookup"><span data-stu-id="8dead-516">The rating must be between 1 and 10.</span></span> | <span data-ttu-id="8dead-517">La uwagi doit être obejmuje Entre 1 et 10.</span><span class="sxs-lookup"><span data-stu-id="8dead-517">La note doit être comprise entre 1 et 10.</span></span> |

 <span data-ttu-id="8dead-518">Ponadto lokalizacja adnotacji danych jest rozszerzalna.</span><span class="sxs-lookup"><span data-stu-id="8dead-518">In addition, data annotation localization is extensible.</span></span> <span data-ttu-id="8dead-519">Deweloperzy mogą podłączyć własnego dostawcę lokalizatora ciągów, implementując <xref:System.Web.Globalization.IStringLocalizerProvider> interfejs do przechowywania ciągu lokalizacji w innym miejscu niż w pliku zasobów.</span><span class="sxs-lookup"><span data-stu-id="8dead-519">Developers can plug in their own string localizer provider by implementing the <xref:System.Web.Globalization.IStringLocalizerProvider> interface to store localization string somewhere other than in a resource file.</span></span>

 <span data-ttu-id="8dead-520">**Obsługa asynchroniczna z dostawcami magazynu stanów sesji**</span><span class="sxs-lookup"><span data-stu-id="8dead-520">**Async support with session-state store providers**</span></span>

 <span data-ttu-id="8dead-521">ASP.NET teraz zezwala na używanie metod zwracających zadania z dostawcami magazynu stanów sesji, co umożliwia aplikacjom ASP.NET uzyskanie korzyści z skalowalności asynchronicznej.</span><span class="sxs-lookup"><span data-stu-id="8dead-521">ASP.NET now allows task-returning methods to be used with session-state store providers, thereby allowing ASP.NET apps to get the scalability benefits of async.</span></span> <span data-ttu-id="8dead-522">Aby obsługiwał operacje asynchroniczne z dostawcami magazynu stanów sesji, ASP.NET obejmuje nowy interfejs, <xref:System.Web.SessionState.ISessionStateModule?displayProperty=nameWithType> który dziedziczy z <xref:System.Web.IHttpModule> i umożliwia deweloperom wdrażanie własnych modułów stanu sesji i dostawców magazynu sesji asynchronicznych.</span><span class="sxs-lookup"><span data-stu-id="8dead-522">To supports asynchronous operations with session state store providers, ASP.NET includes  a new interface, <xref:System.Web.SessionState.ISessionStateModule?displayProperty=nameWithType>, which inherits from <xref:System.Web.IHttpModule> and allows developers to implement their own session-state module and async session store providers.</span></span> <span data-ttu-id="8dead-523">Interfejs jest zdefiniowany w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="8dead-523">The interface is defined as follows:</span></span>

```csharp
public interface ISessionStateModule : IHttpModule {
    void ReleaseSessionState(HttpContext context);
    Task ReleaseSessionStateAsync(HttpContext context);
}
```

```vb
Public Interface ISessionStateModule : Inherits IHttpModule
   Sub ReleaseSessionState(context As HttpContext)
   Function ReleaseSessionStateAsync(context As HttpContext) As Task
End Interface
```

 <span data-ttu-id="8dead-524">Ponadto <xref:System.Web.SessionState.SessionStateUtility> Klasa obejmuje dwie nowe metody, <xref:System.Web.SessionState.SessionStateUtility.IsSessionStateReadOnly%2A> <xref:System.Web.SessionState.SessionStateUtility.IsSessionStateRequired%2A> które mogą służyć do obsługi operacji asynchronicznych.</span><span class="sxs-lookup"><span data-stu-id="8dead-524">In addition, the <xref:System.Web.SessionState.SessionStateUtility> class includes two new methods, <xref:System.Web.SessionState.SessionStateUtility.IsSessionStateReadOnly%2A> and <xref:System.Web.SessionState.SessionStateUtility.IsSessionStateRequired%2A>, that can be used to support asynchronous operations.</span></span>

 <span data-ttu-id="8dead-525">**Obsługa asynchronicznych dostawców pamięci podręcznej**</span><span class="sxs-lookup"><span data-stu-id="8dead-525">**Async support for output-cache providers**</span></span>

 <span data-ttu-id="8dead-526">Począwszy od .NET Framework 4.6.2, metody zwracające zadania mogą być używane z dostawcami pamięci podręcznej danych wyjściowych w celu zapewnienia skalowalności możliwości asynchronicznych.</span><span class="sxs-lookup"><span data-stu-id="8dead-526">Starting with .NET Framework 4.6.2, task-returning methods can be used with output-cache providers to provide the scalability benefits of async.</span></span>  <span data-ttu-id="8dead-527">Dostawcy implementujący te metody redukują blokowanie wątków na serwerze sieci Web i zwiększają skalowalność usługi ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8dead-527">Providers that implement these methods reduce thread-blocking on a web server and improve the scalability of an ASP.NET service.</span></span>

 <span data-ttu-id="8dead-528">Dodano następujące interfejsy API obsługujące asynchroniczne dostawcy pamięci podręcznej danych wyjściowych:</span><span class="sxs-lookup"><span data-stu-id="8dead-528">The following APIs have been added to support asynchronous output-cache providers:</span></span>

- <span data-ttu-id="8dead-529"><xref:System.Web.Caching.OutputCacheProviderAsync?displayProperty=nameWithType>Klasa, która dziedziczy po <xref:System.Web.Caching.OutputCacheProvider?displayProperty=nameWithType> i umożliwia deweloperom wdrożenie asynchronicznego dostawcy pamięci podręcznej wyjściowej.</span><span class="sxs-lookup"><span data-stu-id="8dead-529">The <xref:System.Web.Caching.OutputCacheProviderAsync?displayProperty=nameWithType> class, which inherits from <xref:System.Web.Caching.OutputCacheProvider?displayProperty=nameWithType> and allows developers to implement an asynchronous output-cache provider.</span></span>

- <span data-ttu-id="8dead-530"><xref:System.Web.Caching.OutputCacheUtility>Klasa, która zapewnia metody pomocnika do konfigurowania wyjściowej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="8dead-530">The <xref:System.Web.Caching.OutputCacheUtility> class, which provides helper methods for configuring the output cache.</span></span>

- <span data-ttu-id="8dead-531">18 nowych metod w <xref:System.Web.HttpCachePolicy?displayProperty=nameWithType> klasie.</span><span class="sxs-lookup"><span data-stu-id="8dead-531">18 new methods in the <xref:System.Web.HttpCachePolicy?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="8dead-532">Należą do nich,,,,,,,,,,,,, <xref:System.Web.HttpCachePolicy.GetCacheability%2A> <xref:System.Web.HttpCachePolicy.GetCacheExtensions%2A> <xref:System.Web.HttpCachePolicy.GetETag%2A> <xref:System.Web.HttpCachePolicy.GetETagFromFileDependencies%2A> <xref:System.Web.HttpCachePolicy.GetMaxAge%2A> <xref:System.Web.HttpCachePolicy.GetMaxAge%2A> <xref:System.Web.HttpCachePolicy.GetNoStore%2A> <xref:System.Web.HttpCachePolicy.GetNoTransforms%2A> <xref:System.Web.HttpCachePolicy.GetOmitVaryStar%2A> <xref:System.Web.HttpCachePolicy.GetProxyMaxAge%2A> <xref:System.Web.HttpCachePolicy.GetRevalidation%2A> <xref:System.Web.HttpCachePolicy.GetUtcLastModified%2A> <xref:System.Web.HttpCachePolicy.GetVaryByCustom%2A> <xref:System.Web.HttpCachePolicy.HasSlidingExpiration%2A> , i <xref:System.Web.HttpCachePolicy.IsValidUntilExpires%2A> .</span><span class="sxs-lookup"><span data-stu-id="8dead-532">These include <xref:System.Web.HttpCachePolicy.GetCacheability%2A>, <xref:System.Web.HttpCachePolicy.GetCacheExtensions%2A>, <xref:System.Web.HttpCachePolicy.GetETag%2A>, <xref:System.Web.HttpCachePolicy.GetETagFromFileDependencies%2A>, <xref:System.Web.HttpCachePolicy.GetMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetNoStore%2A>, <xref:System.Web.HttpCachePolicy.GetNoTransforms%2A>, <xref:System.Web.HttpCachePolicy.GetOmitVaryStar%2A>, <xref:System.Web.HttpCachePolicy.GetProxyMaxAge%2A>, <xref:System.Web.HttpCachePolicy.GetRevalidation%2A>, <xref:System.Web.HttpCachePolicy.GetUtcLastModified%2A>, <xref:System.Web.HttpCachePolicy.GetVaryByCustom%2A>, <xref:System.Web.HttpCachePolicy.HasSlidingExpiration%2A>, and <xref:System.Web.HttpCachePolicy.IsValidUntilExpires%2A>.</span></span>

- <span data-ttu-id="8dead-533">2 nowe metody w <xref:System.Web.HttpCacheVaryByContentEncodings?displayProperty=nameWithType> klasie:  <xref:System.Web.HttpCacheVaryByContentEncodings.GetContentEncodings%2A> i <xref:System.Web.HttpCacheVaryByContentEncodings.SetContentEncodings%2A> .</span><span class="sxs-lookup"><span data-stu-id="8dead-533">2 new methods in the <xref:System.Web.HttpCacheVaryByContentEncodings?displayProperty=nameWithType> class:  <xref:System.Web.HttpCacheVaryByContentEncodings.GetContentEncodings%2A> and <xref:System.Web.HttpCacheVaryByContentEncodings.SetContentEncodings%2A>.</span></span>

- <span data-ttu-id="8dead-534">2 nowe metody w <xref:System.Web.HttpCacheVaryByHeaders?displayProperty=nameWithType> klasie: <xref:System.Web.HttpCacheVaryByHeaders.GetHeaders%2A> i <xref:System.Web.HttpCacheVaryByHeaders.SetHeaders%2A> .</span><span class="sxs-lookup"><span data-stu-id="8dead-534">2 new methods in the <xref:System.Web.HttpCacheVaryByHeaders?displayProperty=nameWithType> class: <xref:System.Web.HttpCacheVaryByHeaders.GetHeaders%2A> and <xref:System.Web.HttpCacheVaryByHeaders.SetHeaders%2A>.</span></span>

- <span data-ttu-id="8dead-535">2 nowe metody w <xref:System.Web.HttpCacheVaryByParams?displayProperty=nameWithType> klasie: <xref:System.Web.HttpCacheVaryByParams.GetParams%2A> i <xref:System.Web.HttpCacheVaryByParams.SetParams%2A> .</span><span class="sxs-lookup"><span data-stu-id="8dead-535">2 new methods in the <xref:System.Web.HttpCacheVaryByParams?displayProperty=nameWithType> class: <xref:System.Web.HttpCacheVaryByParams.GetParams%2A> and <xref:System.Web.HttpCacheVaryByParams.SetParams%2A>.</span></span>

- <span data-ttu-id="8dead-536">W <xref:System.Web.Caching.AggregateCacheDependency?displayProperty=nameWithType> klasie <xref:System.Web.Caching.AggregateCacheDependency.GetFileDependencies%2A> Metoda.</span><span class="sxs-lookup"><span data-stu-id="8dead-536">In the <xref:System.Web.Caching.AggregateCacheDependency?displayProperty=nameWithType> class, the <xref:System.Web.Caching.AggregateCacheDependency.GetFileDependencies%2A> method.</span></span>

- <span data-ttu-id="8dead-537">W <xref:System.Web.Caching.CacheDependency> <xref:System.Web.Caching.CacheDependency.GetFileDependencies%2A> metodzie.</span><span class="sxs-lookup"><span data-stu-id="8dead-537">In the <xref:System.Web.Caching.CacheDependency>, the <xref:System.Web.Caching.CacheDependency.GetFileDependencies%2A> method.</span></span>

<a name="Strings"></a>

### <a name="character-categories"></a><span data-ttu-id="8dead-538">Kategorie znaków</span><span class="sxs-lookup"><span data-stu-id="8dead-538">Character categories</span></span>

<span data-ttu-id="8dead-539">Znaki w .NET Framework 4.6.2 są klasyfikowane na podstawie [standardu Unicode w wersji 8.0.0](https://www.unicode.org/versions/Unicode8.0.0/).</span><span class="sxs-lookup"><span data-stu-id="8dead-539">Characters in .NET Framework 4.6.2 are classified based on the [Unicode Standard, Version 8.0.0](https://www.unicode.org/versions/Unicode8.0.0/).</span></span> <span data-ttu-id="8dead-540">W .NET Framework 4,6 i .NET Framework 4.6.1, znaki zostały sklasyfikowane w oparciu o kategorie znaków Unicode 6,3.</span><span class="sxs-lookup"><span data-stu-id="8dead-540">In .NET Framework 4.6 and .NET Framework 4.6.1, characters were classified based on Unicode 6.3 character categories.</span></span>

<span data-ttu-id="8dead-541">Obsługa standardu Unicode 8,0 jest ograniczona do klasyfikacji znaków przez <xref:System.Globalization.CharUnicodeInfo> klasę oraz do typów i metod, które są od niego zależne.</span><span class="sxs-lookup"><span data-stu-id="8dead-541">Support for Unicode 8.0 is limited to the classification of characters by the <xref:System.Globalization.CharUnicodeInfo> class and to types and methods that rely on it.</span></span> <span data-ttu-id="8dead-542">Obejmują one <xref:System.Globalization.StringInfo> klasę, przeciążoną <xref:System.Char.GetUnicodeCategory%2A?displayProperty=nameWithType> metodę i [klasy znaków](../../standard/base-types/character-classes-in-regular-expressions.md) rozpoznawane przez aparat wyrażeń regularnych .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8dead-542">These include the <xref:System.Globalization.StringInfo> class, the overloaded <xref:System.Char.GetUnicodeCategory%2A?displayProperty=nameWithType> method, and the [character classes](../../standard/base-types/character-classes-in-regular-expressions.md) recognized by the .NET Framework regular expression engine.</span></span>  <span data-ttu-id="8dead-543">Ta zmiana nie ma wpływ na porównanie znaków i ciągów, a także w systemach Windows 7 — w przypadku danych znakowych udostępnianych przez .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8dead-543">Character and string comparison and sorting is unaffected by this change and continues to rely on the underlying operating system or, on Windows 7 systems, on character data provided by .NET Framework.</span></span>

<span data-ttu-id="8dead-544">Zmiany w kategoriach znakowych z Unicode 6,0 na Unicode 7,0 można znaleźć [w standardzie Unicode w wersji 7.0.0](https://www.unicode.org/versions/Unicode7.0.0/) w witrynie internetowej konsorcjum Unicode Consortium.</span><span class="sxs-lookup"><span data-stu-id="8dead-544">For changes in character categories from Unicode 6.0 to Unicode 7.0, see [The Unicode Standard, Version 7.0.0](https://www.unicode.org/versions/Unicode7.0.0/) at The Unicode Consortium website.</span></span> <span data-ttu-id="8dead-545">Aby uzyskać zmiany z Unicode 7,0 na Unicode 8,0, zobacz [standard Unicode w wersji 8.0.0](https://www.unicode.org/versions/Unicode8.0.0/) w witrynie sieci Web programu Unicode Consortium.</span><span class="sxs-lookup"><span data-stu-id="8dead-545">For changes from Unicode 7.0 to Unicode 8.0, see [The Unicode Standard, Version 8.0.0](https://www.unicode.org/versions/Unicode8.0.0/) at The Unicode Consortium website.</span></span>

<a name="Crypto462"></a>

### <a name="cryptography"></a><span data-ttu-id="8dead-546">Kryptografia</span><span class="sxs-lookup"><span data-stu-id="8dead-546">Cryptography</span></span>

<span data-ttu-id="8dead-547">**Obsługa certyfikatów x509 zawierających FIPS 186-3 DSA**</span><span class="sxs-lookup"><span data-stu-id="8dead-547">**Support for X509 certificates containing FIPS 186-3 DSA**</span></span>

<span data-ttu-id="8dead-548">.NET Framework 4.6.2 dodaje obsługę dla certyfikatów x509 (algorytm podpisu cyfrowego), których klucze przekraczają limit FIPS 186-2 1024-bitowy.</span><span class="sxs-lookup"><span data-stu-id="8dead-548">.NET Framework 4.6.2 adds support for DSA (Digital Signature Algorithm) X509 certificates whose keys exceed the FIPS 186-2 1024-bit limit.</span></span>

<span data-ttu-id="8dead-549">Oprócz obsługi większych rozmiarów standardu FIPS 186-3 .NET Framework 4.6.2 umożliwia obliczanie sygnatur przy użyciu rodziny SHA-2 algorytmów wyznaczania wartości skrótu (SHA256, SHA384 i SHA512).</span><span class="sxs-lookup"><span data-stu-id="8dead-549">In addition to supporting the larger key sizes of FIPS 186-3, .NET Framework 4.6.2 allows computing signatures with the SHA-2 family of hash algorithms (SHA256, SHA384, and SHA512).</span></span> <span data-ttu-id="8dead-550">Obsługa standardu FIPS 186-3 jest udostępniana przez nową <xref:System.Security.Cryptography.DSACng?displayProperty=nameWithType> klasę.</span><span class="sxs-lookup"><span data-stu-id="8dead-550">FIPS 186-3 support is provided by the new <xref:System.Security.Cryptography.DSACng?displayProperty=nameWithType> class.</span></span>

<span data-ttu-id="8dead-551">W przypadku niedawnej zmiany <xref:System.Security.Cryptography.RSA> klasy w .NET Framework 4,6 i <xref:System.Security.Cryptography.ECDsa> klasie w .NET Framework 4.6.1, <xref:System.Security.Cryptography.DSA> abstrakcyjna klasa bazowa w .NET Framework 4.6.2 ma dodatkowe metody umożliwiające wywołujących używanie tej funkcji bez rzutowania.</span><span class="sxs-lookup"><span data-stu-id="8dead-551">In keeping with recent changes to the <xref:System.Security.Cryptography.RSA> class in .NET Framework 4.6 and the <xref:System.Security.Cryptography.ECDsa> class in .NET Framework 4.6.1, the <xref:System.Security.Cryptography.DSA> abstract base class in .NET Framework 4.6.2 has additional methods to allow callers to use this functionality without casting.</span></span> <span data-ttu-id="8dead-552">Możesz wywołać <xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPrivateKey%2A?displayProperty=nameWithType> metodę rozszerzenia, aby podpisać dane, jak pokazano w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="8dead-552">You can call the <xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPrivateKey%2A?displayProperty=nameWithType> extension method to sign data, as the following example shows.</span></span>

```csharp
public static byte[] SignDataDsaSha384(byte[] data, X509Certificate2 cert)
{
    using (DSA dsa = cert.GetDSAPrivateKey())
    {
        return dsa.SignData(data, HashAlgorithmName.SHA384);
    }
}
```

```vb
Public Shared Function SignDataDsaSha384(data As Byte(), cert As X509Certificate2) As Byte()
    Using DSA As DSA = cert.GetDSAPrivateKey()
        Return DSA.SignData(data, HashAlgorithmName.SHA384)
    End Using
End Function
```

<span data-ttu-id="8dead-553">Można też wywołać <xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPublicKey%2A?displayProperty=nameWithType> metodę rozszerzenia, aby zweryfikować podpisane dane, jak pokazano w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="8dead-553">And you can call the <xref:System.Security.Cryptography.X509Certificates.DSACertificateExtensions.GetDSAPublicKey%2A?displayProperty=nameWithType> extension method to verify signed data, as the following example shows.</span></span>

```csharp
public static bool VerifyDataDsaSha384(byte[] data, byte[] signature, X509Certificate2 cert)
{
    using (DSA dsa = cert.GetDSAPublicKey())
    {
        return dsa.VerifyData(data, signature, HashAlgorithmName.SHA384);
    }
}
```

```vb
 Public Shared Function VerifyDataDsaSha384(data As Byte(), signature As Byte(), cert As X509Certificate2) As Boolean
    Using dsa As DSA = cert.GetDSAPublicKey()
        Return dsa.VerifyData(data, signature, HashAlgorithmName.SHA384)
    End Using
End Function
```

<span data-ttu-id="8dead-554">**Zwiększono przejrzystość danych wejściowych procedur wyprowadzania klucza ECDiffieHellman**</span><span class="sxs-lookup"><span data-stu-id="8dead-554">**Increased clarity for inputs to ECDiffieHellman key derivation routines**</span></span>

<span data-ttu-id="8dead-555">.NET Framework 3,5 dodano obsługę krzywej eliptyczna Diffie-Hellman kluczowej umowy z trzema różnymi procedurami funkcji wyprowadzania klucza (KDF).</span><span class="sxs-lookup"><span data-stu-id="8dead-555">.NET Framework 3.5 added support for Elliptic Curve Diffie-Hellman Key Agreement with three different Key Derivation Function (KDF) routines.</span></span> <span data-ttu-id="8dead-556">Dane wejściowe procedur i same procedury, zostały skonfigurowane za pośrednictwem właściwości <xref:System.Security.Cryptography.ECDiffieHellmanCng> obiektu.</span><span class="sxs-lookup"><span data-stu-id="8dead-556">The inputs to the routines, and the routines themselves, were configured via properties on the <xref:System.Security.Cryptography.ECDiffieHellmanCng> object.</span></span> <span data-ttu-id="8dead-557">Jednak ponieważ nie każda procedura odczytuje każdą właściwość wejściową, istniało bardzo dużo miejsca do mylenia w przeszłości deweloperów.</span><span class="sxs-lookup"><span data-stu-id="8dead-557">But since not every routine read every input property, there was ample room for confusion on the past of the developer.</span></span>

<span data-ttu-id="8dead-558">Aby rozwiązać ten wpływ na .NET Framework 4.6.2, do klasy bazowej dodano następujące trzy metody,  <xref:System.Security.Cryptography.ECDiffieHellman> Aby dokładniej przedstawić te procedury KDF i ich dane wejściowe:</span><span class="sxs-lookup"><span data-stu-id="8dead-558">To address this in .NET Framework 4.6.2, the following three methods have been added to the  <xref:System.Security.Cryptography.ECDiffieHellman> base class to more clearly represent these KDF routines and their inputs:</span></span>

|<span data-ttu-id="8dead-559">ECDiffieHellman, Metoda</span><span class="sxs-lookup"><span data-stu-id="8dead-559">ECDiffieHellman method</span></span>|<span data-ttu-id="8dead-560">Opis</span><span class="sxs-lookup"><span data-stu-id="8dead-560">Description</span></span>|
|----------------------------|-----------------|
|<xref:System.Security.Cryptography.ECDiffieHellman.DeriveKeyFromHash%28System.Security.Cryptography.ECDiffieHellmanPublicKey%2CSystem.Security.Cryptography.HashAlgorithmName%2CSystem.Byte%5B%5D%2CSystem.Byte%5B%5D%29>|<span data-ttu-id="8dead-561">Dziedziczy materiał klucza przy użyciu formuły</span><span class="sxs-lookup"><span data-stu-id="8dead-561">Derives key material using the formula</span></span><br /><br /> <span data-ttu-id="8dead-562">HASH (secretPrepend &#124;&#124; *x* &#124;&#124; secretAppend)</span><span class="sxs-lookup"><span data-stu-id="8dead-562">HASH(secretPrepend &#124;&#124; *x* &#124;&#124; secretAppend)</span></span><br /><br /> <span data-ttu-id="8dead-563">HASH (secretPrepend OrElse *x* OrElse secretAppend)</span><span class="sxs-lookup"><span data-stu-id="8dead-563">HASH(secretPrepend OrElse *x* OrElse secretAppend)</span></span><br /><br /> <span data-ttu-id="8dead-564">gdzie *x* jest obliczanym wynikiem algorytmu Diffie-Hellman we.</span><span class="sxs-lookup"><span data-stu-id="8dead-564">where *x* is the computed result of the EC Diffie-Hellman algorithm.</span></span>|
|<xref:System.Security.Cryptography.ECDiffieHellman.DeriveKeyFromHmac%28System.Security.Cryptography.ECDiffieHellmanPublicKey%2CSystem.Security.Cryptography.HashAlgorithmName%2CSystem.Byte%5B%5D%2CSystem.Byte%5B%5D%2CSystem.Byte%5B%5D%29>|<span data-ttu-id="8dead-565">Dziedziczy materiał klucza przy użyciu formuły</span><span class="sxs-lookup"><span data-stu-id="8dead-565">Derives key material using the formula</span></span><br /><br /> <span data-ttu-id="8dead-566">HMAC (hmacKey, secretPrepend &#124;&#124; *x* &#124;&#124; secretAppend)</span><span class="sxs-lookup"><span data-stu-id="8dead-566">HMAC(hmacKey, secretPrepend &#124;&#124; *x* &#124;&#124; secretAppend)</span></span><br /><br /> <span data-ttu-id="8dead-567">HMAC (hmacKey, secretPrepend OrElse *x* OrElse secretAppend)</span><span class="sxs-lookup"><span data-stu-id="8dead-567">HMAC(hmacKey, secretPrepend OrElse *x* OrElse secretAppend)</span></span><br /><br /> <span data-ttu-id="8dead-568">gdzie *x* jest obliczanym wynikiem algorytmu Diffie-Hellman we.</span><span class="sxs-lookup"><span data-stu-id="8dead-568">where *x* is the computed result of the EC Diffie-Hellman algorithm.</span></span>|
|<xref:System.Security.Cryptography.ECDiffieHellman.DeriveKeyTls%28System.Security.Cryptography.ECDiffieHellmanPublicKey%2CSystem.Byte%5B%5D%2CSystem.Byte%5B%5D%29>|<span data-ttu-id="8dead-569">Jest to kluczowy materiał przy użyciu algorytmu wyznaczania wartościowo-Random protokołu TLS (PRF).</span><span class="sxs-lookup"><span data-stu-id="8dead-569">Derives key material using the TLS pseudo-random function (PRF) derivation algorithm.</span></span>|

<span data-ttu-id="8dead-570">**Obsługa szyfrowania symetrycznego klucza**</span><span class="sxs-lookup"><span data-stu-id="8dead-570">**Support for persisted-key symmetric encryption**</span></span>

<span data-ttu-id="8dead-571">Biblioteka kryptografii systemu Windows (CNG) dodaliśmy obsługę przechowywania utrwalonych kluczy symetrycznych i używania kluczy symetrycznych przechowywanych sprzętowo, a .NET Framework 4.6.2, że deweloperzy mogą korzystać z tej funkcji.</span><span class="sxs-lookup"><span data-stu-id="8dead-571">The Windows cryptography library (CNG) added support for storing persisted symmetric keys and using hardware-stored symmetric keys, and .NET Framework 4.6.2 made it possible for developers to make use of this feature.</span></span>  <span data-ttu-id="8dead-572">Ponieważ pojęcie nazw kluczy i dostawców kluczy jest specyficzne dla implementacji, użycie tej funkcji wymaga użycia konstruktora konkretnych typów implementacji zamiast preferowanego podejścia do fabryki (na przykład wywoływanie `Aes.Create` ).</span><span class="sxs-lookup"><span data-stu-id="8dead-572">Since the notion of key names and key providers is implementation-specific, using this feature requires utilizing the constructor of the concrete implementation types instead of the preferred factory approach (such as calling `Aes.Create`).</span></span>

<span data-ttu-id="8dead-573">Obsługa szyfrowania symetrycznego klucza istnieje dla algorytmów AES ( <xref:System.Security.Cryptography.AesCng> ) i 3DES ( <xref:System.Security.Cryptography.TripleDESCng> ).</span><span class="sxs-lookup"><span data-stu-id="8dead-573">Persisted-key symmetric encryption support exists for the AES (<xref:System.Security.Cryptography.AesCng>) and 3DES (<xref:System.Security.Cryptography.TripleDESCng>) algorithms.</span></span> <span data-ttu-id="8dead-574">Na przykład:</span><span class="sxs-lookup"><span data-stu-id="8dead-574">For example:</span></span>

```csharp
public static byte[] EncryptDataWithPersistedKey(byte[] data, byte[] iv)
{
    using (Aes aes = new AesCng("AesDemoKey", CngProvider.MicrosoftSoftwareKeyStorageProvider))
    {
        aes.IV = iv;

        // Using the zero-argument overload is required to make use of the persisted key
        using (ICryptoTransform encryptor = aes.CreateEncryptor())
        {
            if (!encryptor.CanTransformMultipleBlocks)
            {
                throw new InvalidOperationException("This is a sample, this case wasn't handled...");
            }

            return encryptor.TransformFinalBlock(data, 0, data.Length);
        }
    }
}
```

```vb
Public Shared Function EncryptDataWithPersistedKey(data As Byte(), iv As Byte()) As Byte()
    Using Aes As Aes = New AesCng("AesDemoKey", CngProvider.MicrosoftSoftwareKeyStorageProvider)
        Aes.IV = iv

        ' Using the zero-argument overload Is required to make use of the persisted key
        Using encryptor As ICryptoTransform = Aes.CreateEncryptor()
            If Not encryptor.CanTransformMultipleBlocks Then
                Throw New InvalidOperationException("This is a sample, this case wasn't handled...")
            End If
            Return encryptor.TransformFinalBlock(data, 0, data.Length)
        End Using
    End Using
End Function
```

<span data-ttu-id="8dead-575">**SignedXml obsługa tworzenia skrótów SHA-2**</span><span class="sxs-lookup"><span data-stu-id="8dead-575">**SignedXml support for SHA-2 hashing**</span></span>

<span data-ttu-id="8dead-576">.NET Framework 4.6.2 dodaje do klasy obsługę <xref:System.Security.Cryptography.Xml.SignedXml> kluczy RSA-SHA256, RSA-SHA384 i RSA-SHA512 PKCS # 1 oraz SHA256, SHA384 i SHA512 algorytmów Digest Reference.</span><span class="sxs-lookup"><span data-stu-id="8dead-576">.NET Framework 4.6.2 adds support to  the <xref:System.Security.Cryptography.Xml.SignedXml> class for RSA-SHA256, RSA-SHA384, and RSA-SHA512 PKCS#1 signature methods, and SHA256, SHA384, and SHA512 reference digest algorithms.</span></span>

<span data-ttu-id="8dead-577">Wszystkie stałe identyfikatorów URI są uwidocznione na <xref:System.Security.Cryptography.Xml.SignedXml> :</span><span class="sxs-lookup"><span data-stu-id="8dead-577">The URI constants are all exposed on <xref:System.Security.Cryptography.Xml.SignedXml>:</span></span>

|<span data-ttu-id="8dead-578">Pole SignedXml</span><span class="sxs-lookup"><span data-stu-id="8dead-578">SignedXml field</span></span>|<span data-ttu-id="8dead-579">Stała</span><span class="sxs-lookup"><span data-stu-id="8dead-579">Constant</span></span>|
|---------------------|--------------|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigSHA256Url>|<span data-ttu-id="8dead-580">"http://www.w3.org/2001/04/xmlenc#sha256"</span><span class="sxs-lookup"><span data-stu-id="8dead-580">"http://www.w3.org/2001/04/xmlenc#sha256"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigRSASHA256Url>|<span data-ttu-id="8dead-581">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"</span><span class="sxs-lookup"><span data-stu-id="8dead-581">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigSHA384Url>|<span data-ttu-id="8dead-582">"http://www.w3.org/2001/04/xmldsig-more#sha384"</span><span class="sxs-lookup"><span data-stu-id="8dead-582">"http://www.w3.org/2001/04/xmldsig-more#sha384"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigRSASHA384Url>|<span data-ttu-id="8dead-583">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha384"</span><span class="sxs-lookup"><span data-stu-id="8dead-583">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha384"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigSHA512Url>|<span data-ttu-id="8dead-584">"http://www.w3.org/2001/04/xmlenc#sha512"</span><span class="sxs-lookup"><span data-stu-id="8dead-584">"http://www.w3.org/2001/04/xmlenc#sha512"</span></span>|
|<xref:System.Security.Cryptography.Xml.SignedXml.XmlDsigRSASHA512Url>|<span data-ttu-id="8dead-585">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"</span><span class="sxs-lookup"><span data-stu-id="8dead-585">"http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"</span></span>|

 <span data-ttu-id="8dead-586">Wszystkie programy, w których zarejestrowano <xref:System.Security.Cryptography.SignatureDescription> procedurę obsługi niestandardowej <xref:System.Security.Cryptography.CryptoConfig> do dodawania obsługi tych algorytmów, będą nadal działać tak samo jak w przeszłości, ale ponieważ teraz istnieją wartości domyślne platformy, <xref:System.Security.Cryptography.CryptoConfig> rejestracja nie jest już potrzebna.</span><span class="sxs-lookup"><span data-stu-id="8dead-586">Any programs that have registered a custom <xref:System.Security.Cryptography.SignatureDescription> handler into <xref:System.Security.Cryptography.CryptoConfig> to add support for these algorithms will continue to function as they did in the past, but since there are now platform defaults, the <xref:System.Security.Cryptography.CryptoConfig> registration is no longer necessary.</span></span>

<a name="SQLClient"></a>

### <a name="sqlclient"></a><span data-ttu-id="8dead-587">SqlClient</span><span class="sxs-lookup"><span data-stu-id="8dead-587">SqlClient</span></span>

<span data-ttu-id="8dead-588">.NET Framework Dostawca danych dla SQL Server ( <xref:System.Data.SqlClient?displayProperty=nameWithType> ) zawiera następujące nowe funkcje w programie .NET Framework 4.6.2:</span><span class="sxs-lookup"><span data-stu-id="8dead-588">.NET Framework Data Provider for SQL Server (<xref:System.Data.SqlClient?displayProperty=nameWithType>) includes the following new features in .NET Framework 4.6.2:</span></span>

<span data-ttu-id="8dead-589">**Buforowanie i limity czasu połączeń z bazami danych Azure SQL**</span><span class="sxs-lookup"><span data-stu-id="8dead-589">**Connection pooling and timeouts with Azure SQL databases**</span></span>

<span data-ttu-id="8dead-590">Po włączeniu puli połączeń i przekroczeniu limitu czasu lub innego błędu logowania, wyjątek jest buforowany i zostanie zgłoszony wyjątek buforowany dla każdej kolejnej próby połączenia przez następne 5 sekund do 1 minuty.</span><span class="sxs-lookup"><span data-stu-id="8dead-590">When connection pooling is enabled and a timeout or other login error occurs, an exception is cached, and the cached exception is thrown on any subsequent connection attempt for the next 5 seconds to 1 minute.</span></span> <span data-ttu-id="8dead-591">Aby uzyskać więcej informacji, zobacz [SQL Servering pooling (ADO.NET)](../data/adonet/sql-server-connection-pooling.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-591">For more information, see [SQL Server Connection Pooling (ADO.NET)](../data/adonet/sql-server-connection-pooling.md).</span></span>

<span data-ttu-id="8dead-592">To zachowanie nie jest pożądane podczas łączenia się z bazami danych Azure SQL, ponieważ próby połączenia mogą zakończyć się niepowodzeniem z błędami przejściowymi, które są zwykle przywracane szybko.</span><span class="sxs-lookup"><span data-stu-id="8dead-592">This behavior is not desirable when connecting to Azure SQL Databases, since connection attempts can fail with transient errors that are typically recovered quickly.</span></span> <span data-ttu-id="8dead-593">Aby lepiej zoptymalizować środowisko ponownej próby połączenia, zachowanie w okresie blokowania puli połączeń zostanie usunięte w przypadku niepowodzenia połączeń z bazami danych SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="8dead-593">To better optimize the connection retry experience, the connection pool blocking period behavior is removed when connections to Azure SQL Databases fail.</span></span>

<span data-ttu-id="8dead-594">Dodanie nowego `PoolBlockingPeriod` słowa kluczowego umożliwia wybranie okresu blokowania najlepiej dopasowanego do Twojej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-594">The addition of the new `PoolBlockingPeriod` keyword lets you select the blocking period best suited for your app.</span></span> <span data-ttu-id="8dead-595">Wartości są następujące:</span><span class="sxs-lookup"><span data-stu-id="8dead-595">Values include:</span></span>

<xref:System.Data.SqlClient.PoolBlockingPeriod.Auto>

<span data-ttu-id="8dead-596">Okres blokowania puli połączeń dla aplikacji, która łączy się z Azure SQL Database, jest wyłączony, a okres blokowania puli połączeń dla aplikacji łączącej się z jakimkolwiek innym wystąpieniem SQL Server jest włączony.</span><span class="sxs-lookup"><span data-stu-id="8dead-596">The connection pool blocking period for an application that connects to an Azure SQL Database is disabled, and the connection pool blocking period for an application that connects to any other SQL Server instance is enabled.</span></span> <span data-ttu-id="8dead-597">Jest to wartość domyślna.</span><span class="sxs-lookup"><span data-stu-id="8dead-597">This is the default value.</span></span> <span data-ttu-id="8dead-598">Jeśli nazwa punktu końcowego serwera zostanie zakończona z dowolnego z poniższych, są one uznawane za bazy danych SQL Azure:</span><span class="sxs-lookup"><span data-stu-id="8dead-598">If the Server endpoint name ends with any of the following, they are considered Azure SQL Databases:</span></span>

- <span data-ttu-id="8dead-599">. database.windows.net</span><span class="sxs-lookup"><span data-stu-id="8dead-599">.database.windows.net</span></span>

- <span data-ttu-id="8dead-600">. database.chinacloudapi.cn</span><span class="sxs-lookup"><span data-stu-id="8dead-600">.database.chinacloudapi.cn</span></span>

- <span data-ttu-id="8dead-601">. database.usgovcloudapi.net</span><span class="sxs-lookup"><span data-stu-id="8dead-601">.database.usgovcloudapi.net</span></span>

- <span data-ttu-id="8dead-602">. database.cloudapi.de</span><span class="sxs-lookup"><span data-stu-id="8dead-602">.database.cloudapi.de</span></span>

<xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock>

<span data-ttu-id="8dead-603">Okres blokowania puli połączeń jest zawsze włączony.</span><span class="sxs-lookup"><span data-stu-id="8dead-603">The connection pool blocking period is always enabled.</span></span>

<xref:System.Data.SqlClient.PoolBlockingPeriod.NeverBlock>

<span data-ttu-id="8dead-604">Okres blokowania puli połączeń jest zawsze wyłączony.</span><span class="sxs-lookup"><span data-stu-id="8dead-604">The connection pool blocking period is always disabled.</span></span>

<span data-ttu-id="8dead-605">**Ulepszenia dla Always Encrypted**</span><span class="sxs-lookup"><span data-stu-id="8dead-605">**Enhancements for Always Encrypted**</span></span>

<span data-ttu-id="8dead-606">Klient SQL wprowadza dwa ulepszenia dla Always Encrypted:</span><span class="sxs-lookup"><span data-stu-id="8dead-606">SQLClient introduces two enhancements for Always Encrypted:</span></span>

- <span data-ttu-id="8dead-607">Aby poprawić wydajność zapytań parametrycznych względem kolumn zaszyfrowanych baz danych, metadane szyfrowania dla parametrów zapytania są teraz buforowane.</span><span class="sxs-lookup"><span data-stu-id="8dead-607">To improve performance of parameterized queries against encrypted database columns, encryption metadata for query parameters is now cached.</span></span> <span data-ttu-id="8dead-608"><xref:System.Data.SqlClient.SqlConnection.ColumnEncryptionQueryMetadataCacheEnabled%2A?displayProperty=nameWithType>Właściwość ustawiona na `true` (która jest wartością domyślną), jeśli to samo zapytanie jest wywoływane wiele razy, Klient pobiera metadane parametrów z serwera tylko raz.</span><span class="sxs-lookup"><span data-stu-id="8dead-608">With the <xref:System.Data.SqlClient.SqlConnection.ColumnEncryptionQueryMetadataCacheEnabled%2A?displayProperty=nameWithType> property set to `true` (which is the default value), if the same query is called multiple times, the client retrieves parameter metadata from the server only once.</span></span>

- <span data-ttu-id="8dead-609">Wpisy kluczy szyfrowania kolumn w pamięci podręcznej kluczy są teraz wykluczone po konfigurowalnym przedziale czasu, ustawiane za pomocą <xref:System.Data.SqlClient.SqlConnection.ColumnEncryptionKeyCacheTtl%2A?displayProperty=nameWithType> właściwości.</span><span class="sxs-lookup"><span data-stu-id="8dead-609">Column encryption key entries in the key cache are now evicted after a configurable time interval, set using the <xref:System.Data.SqlClient.SqlConnection.ColumnEncryptionKeyCacheTtl%2A?displayProperty=nameWithType> property.</span></span>

<a name="WCF"></a>

### <a name="windows-communication-foundation"></a><span data-ttu-id="8dead-610">Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="8dead-610">Windows Communication Foundation</span></span>

<span data-ttu-id="8dead-611">W .NET Framework 4.6.2 Windows Communication Foundation została ulepszona w następujących obszarach:</span><span class="sxs-lookup"><span data-stu-id="8dead-611">In .NET Framework 4.6.2, Windows Communication Foundation has been enhanced in the following areas:</span></span>

<span data-ttu-id="8dead-612">**Obsługa zabezpieczeń transportu WCF dla certyfikatów przechowywanych przy użyciu CNG**</span><span class="sxs-lookup"><span data-stu-id="8dead-612">**WCF transport security support for certificates stored using CNG**</span></span>

<span data-ttu-id="8dead-613">Zabezpieczenia transportu WCF obsługują certyfikaty przechowywane przy użyciu biblioteki kryptografii systemu Windows (CNG).</span><span class="sxs-lookup"><span data-stu-id="8dead-613">WCF transport security supports certificates stored using the Windows cryptography library (CNG).</span></span> <span data-ttu-id="8dead-614">W .NET Framework 4.6.2 ta obsługa jest ograniczona do używania certyfikatów z kluczem publicznym, który ma wykładnik nie więcej niż 32 bitów.</span><span class="sxs-lookup"><span data-stu-id="8dead-614">In .NET Framework 4.6.2, this support is limited to using certificates with a public key that has an exponent no more than 32 bits in length.</span></span> <span data-ttu-id="8dead-615">Gdy aplikacja jest przeznaczona .NET Framework 4.6.2, ta funkcja jest domyślnie włączona.</span><span class="sxs-lookup"><span data-stu-id="8dead-615">When an application targets .NET Framework 4.6.2, this feature is on by default.</span></span>

<span data-ttu-id="8dead-616">W przypadku aplikacji przeznaczonych do .NET Framework 4.6.1 i starszych, ale działających na .NET Framework 4.6.2 można włączyć tę funkcję, dodając następujący wiersz do [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) sekcji pliku app.config lub web.config.</span><span class="sxs-lookup"><span data-stu-id="8dead-616">For applications that target .NET Framework 4.6.1 and earlier but are running on .NET Framework 4.6.2, this feature can be enabled by adding the following line to the [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) section of the app.config or web.config file.</span></span>

```xml
<AppContextSwitchOverrides
    value="Switch.System.ServiceModel.DisableCngCertificates=false"
/>
```

<span data-ttu-id="8dead-617">Można to również zrobić programowo przy użyciu kodu, takiego jak następujące:</span><span class="sxs-lookup"><span data-stu-id="8dead-617">This can also be done programmatically with code like the following:</span></span>

```csharp
private const string DisableCngCertificates = @"Switch.System.ServiceModel.DisableCngCertificates";
AppContext.SetSwitch(disableCngCertificates, false);
```

```vb
Const DisableCngCertificates As String = "Switch.System.ServiceModel.DisableCngCertificates"
AppContext.SetSwitch(disableCngCertificates, False)
```

<span data-ttu-id="8dead-618">**Lepsza obsługa wielu reguł korekty czasu letniego przez klasę Klasa DataContractJsonSerializer**</span><span class="sxs-lookup"><span data-stu-id="8dead-618">**Better support for multiple daylight saving time adjustment rules by the DataContractJsonSerializer class**</span></span>

<span data-ttu-id="8dead-619">Klienci mogą używać ustawienia konfiguracji aplikacji, aby określić, czy <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> Klasa obsługuje wiele reguł korekty dla jednej strefy czasowej.</span><span class="sxs-lookup"><span data-stu-id="8dead-619">Customers can use an application configuration setting to determine whether the <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> class supports multiple adjustment rules for a single time zone.</span></span> <span data-ttu-id="8dead-620">Jest to funkcja opcjonalna.</span><span class="sxs-lookup"><span data-stu-id="8dead-620">This is an opt-in feature.</span></span> <span data-ttu-id="8dead-621">Aby ją włączyć, Dodaj następujące ustawienie do pliku app.config:</span><span class="sxs-lookup"><span data-stu-id="8dead-621">To enable it, add the following setting to your app.config file:</span></span>

```xml
<runtime>
     <AppContextSwitchOverrides value="Switch.System.Runtime.Serialization.DoNotUseTimeZoneInfo=false" />
</runtime>
```

<span data-ttu-id="8dead-622">Gdy ta funkcja jest włączona, <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> obiekt używa <xref:System.TimeZoneInfo> typu zamiast <xref:System.TimeZone> typu do deserializacji danych daty i godziny.</span><span class="sxs-lookup"><span data-stu-id="8dead-622">When this feature is enabled, a <xref:System.Runtime.Serialization.Json.DataContractJsonSerializer> object uses the <xref:System.TimeZoneInfo> type instead of the <xref:System.TimeZone> type to deserialize date and time data.</span></span> <span data-ttu-id="8dead-623"><xref:System.TimeZoneInfo> Program obsługuje wiele reguł dostosowawczych, co umożliwia współpracę z danymi strefy czasowej historycznej.   nie   <xref:System.TimeZone> .</span><span class="sxs-lookup"><span data-stu-id="8dead-623"><xref:System.TimeZoneInfo> supports multiple adjustment rules, which makes it possible to work with historic time zone data;   <xref:System.TimeZone> does not.</span></span>

<span data-ttu-id="8dead-624">Aby uzyskać więcej informacji na temat <xref:System.TimeZoneInfo> struktury i dostosowań strefy czasowej, zobacz [Omówienie strefy czasowej](../../standard/datetime/time-zone-overview.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-624">For more information on the <xref:System.TimeZoneInfo> structure and time zone adjustments, see [Time Zone Overview](../../standard/datetime/time-zone-overview.md).</span></span>

<span data-ttu-id="8dead-625">**NetNamedPipeBinding najlepsze dopasowanie**</span><span class="sxs-lookup"><span data-stu-id="8dead-625">**NetNamedPipeBinding best match**</span></span>

<span data-ttu-id="8dead-626">Funkcja WCF ma nowe ustawienie aplikacji, które można ustawić w aplikacjach klienckich, aby upewnić się, że zawsze łączą się z usługą nasłuchiwanie na identyfikatorze URI, który najlepiej pasuje do tego, który z nich żąda.</span><span class="sxs-lookup"><span data-stu-id="8dead-626">WCF has a new app setting that can be set on client applications to ensure they always connect to the service listening on the URI that best matches the one that they request.</span></span> <span data-ttu-id="8dead-627">Gdy to ustawienie aplikacji ma ustawioną wartość `false` (domyślnie), klienci korzystający z programu <xref:System.ServiceModel.NetNamedPipeBinding> w celu nawiązania połączenia z usługą nasłuchuje na identyfikatorze URI, który jest podciągiem żądanego identyfikatora URI.</span><span class="sxs-lookup"><span data-stu-id="8dead-627">With this app setting set to `false` (the default), it is possible for clients using <xref:System.ServiceModel.NetNamedPipeBinding> to attempt to connect to a service listening on a URI that is a substring of the requested URI.</span></span>

<span data-ttu-id="8dead-628">Na przykład klient próbuje nawiązać połączenie z usługą nasłuchującą pod adresem `net.pipe://localhost/Service1` , ale inna usługa na tym komputerze z uprawnieniami administratora nasłuchuje pod adresem `net.pipe://localhost` .</span><span class="sxs-lookup"><span data-stu-id="8dead-628">For example, a client tries to connect to a service listening at `net.pipe://localhost/Service1`, but a different service on that machine running with administrator privilege is listening at `net.pipe://localhost`.</span></span> <span data-ttu-id="8dead-629">Gdy to ustawienie aplikacji ma ustawioną wartość `false` , klient podejmie próbę nawiązania połączenia z niewłaściwą usługą.</span><span class="sxs-lookup"><span data-stu-id="8dead-629">With this app setting set to `false`, the client would attempt to connect to the wrong service.</span></span> <span data-ttu-id="8dead-630">Po ustawieniu ustawienia aplikacji na `true` , klient zawsze będzie łączył się z najlepszą zgodną usługą.</span><span class="sxs-lookup"><span data-stu-id="8dead-630">After setting the app setting to `true`, the client will always connect to the best matching service.</span></span>

> [!NOTE]
> <span data-ttu-id="8dead-631">Klienci korzystający z <xref:System.ServiceModel.NetNamedPipeBinding> usługi Find Services w oparciu o adres podstawowy usługi (jeśli istnieje), a nie pełny adres punktu końcowego.</span><span class="sxs-lookup"><span data-stu-id="8dead-631">Clients using <xref:System.ServiceModel.NetNamedPipeBinding> find services based on the service's base address (if it exists) rather than the full endpoint address.</span></span> <span data-ttu-id="8dead-632">Aby zapewnić, że to ustawienie zawsze działa, usługa powinna używać unikatowego adresu podstawowego.</span><span class="sxs-lookup"><span data-stu-id="8dead-632">To ensure this setting always works the service should use a unique base address.</span></span>

<span data-ttu-id="8dead-633">Aby włączyć tę zmianę, Dodaj następujące ustawienie aplikacji do pliku App.config lub Web.config aplikacji klienckiej:</span><span class="sxs-lookup"><span data-stu-id="8dead-633">To enable this change, add the following app setting to your client application's App.config or Web.config file:</span></span>

```xml
<configuration>
    <appSettings>
        <add key="wcf:useBestMatchNamedPipeUri" value="true" />
    </appSettings>
</configuration>
```

<span data-ttu-id="8dead-634">**SSL 3,0 nie jest protokołem domyślnym**</span><span class="sxs-lookup"><span data-stu-id="8dead-634">**SSL 3.0 is not a default protocol**</span></span>

<span data-ttu-id="8dead-635">W przypadku korzystania z NetTcp z zabezpieczeniami transportu i typem poświadczeń certyfikatu protokół SSL 3,0 nie jest już domyślnym protokołem używanym do negocjowania bezpiecznego połączenia.</span><span class="sxs-lookup"><span data-stu-id="8dead-635">When using NetTcp with transport security and a credential type of certificate, SSL 3.0 is no longer a default protocol used for negotiating a secure connection.</span></span> <span data-ttu-id="8dead-636">W większości przypadków nie ma to wpływu na istniejące aplikacje, ponieważ protokół TLS 1,0 jest uwzględniony na liście protokołów dla NetTcp.</span><span class="sxs-lookup"><span data-stu-id="8dead-636">In most cases, there should be no impact to existing apps, because TLS 1.0 is included in the protocol list for NetTcp.</span></span> <span data-ttu-id="8dead-637">Wszyscy istniejący klienci powinni mieć możliwość negocjowania połączenia przy użyciu co najmniej protokołu TLS 1,0.</span><span class="sxs-lookup"><span data-stu-id="8dead-637">All existing clients should be able to negotiate a connection using at least TLS 1.0.</span></span> <span data-ttu-id="8dead-638">Jeśli Ssl3 jest wymagany, użyj jednego z poniższych mechanizmów konfiguracji, aby dodać go do listy protokołów negocjowanych.</span><span class="sxs-lookup"><span data-stu-id="8dead-638">If Ssl3 is required, use one of the following configuration mechanisms to add it to the list of negotiated protocols.</span></span>

- <span data-ttu-id="8dead-639"><xref:System.ServiceModel.Channels.SslStreamSecurityBindingElement.SslProtocols%2A?displayProperty=nameWithType>Właściwość</span><span class="sxs-lookup"><span data-stu-id="8dead-639">The <xref:System.ServiceModel.Channels.SslStreamSecurityBindingElement.SslProtocols%2A?displayProperty=nameWithType> property</span></span>

- <span data-ttu-id="8dead-640"><xref:System.ServiceModel.TcpTransportSecurity.SslProtocols%2A?displayProperty=nameWithType>Właściwość</span><span class="sxs-lookup"><span data-stu-id="8dead-640">The <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols%2A?displayProperty=nameWithType> property</span></span>

- <span data-ttu-id="8dead-641">[\<transport>](../configure-apps/file-schema/wcf/transport-of-nettcpbinding.md)Sekcja [\<netTcpBinding>](../configure-apps/file-schema/wcf/nettcpbinding.md) sekcji</span><span class="sxs-lookup"><span data-stu-id="8dead-641">The [\<transport>](../configure-apps/file-schema/wcf/transport-of-nettcpbinding.md) section of the [\<netTcpBinding>](../configure-apps/file-schema/wcf/nettcpbinding.md) section</span></span>

- <span data-ttu-id="8dead-642">[\<sslStreamSecurity>](../configure-apps/file-schema/wcf/sslstreamsecurity.md)Sekcja [\<customBinding>](../configure-apps/file-schema/wcf/custombinding.md) sekcji</span><span class="sxs-lookup"><span data-stu-id="8dead-642">The [\<sslStreamSecurity>](../configure-apps/file-schema/wcf/sslstreamsecurity.md) section of the [\<customBinding>](../configure-apps/file-schema/wcf/custombinding.md) section</span></span>

<a name="WPF462"></a>

### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="8dead-643">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="8dead-643">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="8dead-644">W .NET Framework 4.6.2 Windows Presentation Foundation została ulepszona w następujących obszarach:</span><span class="sxs-lookup"><span data-stu-id="8dead-644">In .NET Framework 4.6.2, Windows Presentation Foundation has been enhanced in the following areas:</span></span>

<span data-ttu-id="8dead-645">**Sortowanie grup**</span><span class="sxs-lookup"><span data-stu-id="8dead-645">**Group sorting**</span></span>

<span data-ttu-id="8dead-646">Aplikacja, która używa <xref:System.Windows.Data.CollectionView> obiektu do grupowania danych, może teraz jawnie zadeklarować sposób sortowania grup.</span><span class="sxs-lookup"><span data-stu-id="8dead-646">An application that uses a <xref:System.Windows.Data.CollectionView> object to group data can now explicitly declare how to  sort the groups.</span></span> <span data-ttu-id="8dead-647">Jawne sortowanie dotyczy problemu nieintuicyjnej kolejności, która występuje, gdy aplikacja dynamicznie dodaje lub usuwa grupy, lub gdy zmienia wartość właściwości elementu w grupowaniu.</span><span class="sxs-lookup"><span data-stu-id="8dead-647">Explicit sorting addresses the problem of non-intuitive ordering that occurs when an app dynamically adds or removes groups, or when it changes the value of item properties involved in grouping.</span></span> <span data-ttu-id="8dead-648">Może również zwiększyć wydajność procesu tworzenia grupy przez przeniesienie porównań właściwości grupowania z sortowania pełnej kolekcji do sortowania grup.</span><span class="sxs-lookup"><span data-stu-id="8dead-648">It can also improve the performance of the group creation process by moving comparisons of the grouping properties from the sort of the full collection to the sort of the groups.</span></span>

<span data-ttu-id="8dead-649">Aby można było obsłużyć sortowanie grup, nowe <xref:System.ComponentModel.GroupDescription.SortDescriptions%2A?displayProperty=nameWithType> i <xref:System.ComponentModel.GroupDescription.CustomSort%2A?displayProperty=nameWithType> Właściwości opisują sposób sortowania kolekcji grup utworzonych przez <xref:System.ComponentModel.GroupDescription> obiekt.</span><span class="sxs-lookup"><span data-stu-id="8dead-649">To support group sorting, the new <xref:System.ComponentModel.GroupDescription.SortDescriptions%2A?displayProperty=nameWithType> and <xref:System.ComponentModel.GroupDescription.CustomSort%2A?displayProperty=nameWithType> properties describe how to sort the collection of groups produced by the <xref:System.ComponentModel.GroupDescription> object.</span></span> <span data-ttu-id="8dead-650">Jest to analogiczne do sposobu sortowania elementów danych o identycznych nazwach <xref:System.Windows.Data.ListCollectionView> .</span><span class="sxs-lookup"><span data-stu-id="8dead-650">This is analogous to the way the identically named <xref:System.Windows.Data.ListCollectionView> properties describe how to sort the data items.</span></span>

<span data-ttu-id="8dead-651">Dwie nowe statyczne właściwości <xref:System.Windows.Data.PropertyGroupDescription> klasy  <xref:System.Windows.Data.PropertyGroupDescription.CompareNameAscending%2A> i <xref:System.Windows.Data.PropertyGroupDescription.CompareNameDescending%2A> , mogą być używane w przypadku najczęstszych przypadków.</span><span class="sxs-lookup"><span data-stu-id="8dead-651">Two new static properties of the <xref:System.Windows.Data.PropertyGroupDescription> class,  <xref:System.Windows.Data.PropertyGroupDescription.CompareNameAscending%2A> and <xref:System.Windows.Data.PropertyGroupDescription.CompareNameDescending%2A>, can be used for the most common cases.</span></span>

<span data-ttu-id="8dead-652">Na przykład poniższe dane grup XAML są uporządkowane według wieku, sortowania grupy wiekowe w kolejności rosnącej oraz grupowania elementów w każdej grupie wiekowej według nazwiska.</span><span class="sxs-lookup"><span data-stu-id="8dead-652">For example, the following XAML groups data by age, sort the age groups in ascending order, and group the items within each age group by last name.</span></span>

```xaml
<GroupDescriptions>
     <PropertyGroupDescription
         PropertyName="Age"
         CustomSort=
              "{x:Static PropertyGroupDescription.CompareNamesAscending}"/>
     </PropertyGroupDescription>
</GroupDescriptions>

<SortDescriptions>
     <SortDescription PropertyName="LastName"/>
</SortDescriptions>
```

<span data-ttu-id="8dead-653">**Obsługa klawiatury dotykowej**</span><span class="sxs-lookup"><span data-stu-id="8dead-653">**Touch keyboard support**</span></span>

<span data-ttu-id="8dead-654">Obsługa klawiatury dotykowej umożliwia śledzenie fokusu w aplikacjach WPF przez automatyczne wywoływanie i odrzucanie klawiatury dotykowej w systemie Windows 10, gdy dane wejściowe dotyku są odbierane przez kontrolkę, która może przyjmować tekst.</span><span class="sxs-lookup"><span data-stu-id="8dead-654">Touch keyboard support enables focus tracking in WPF applications by automatically invoking and dismissing the touch Keyboard in Windows 10 when the touch input is received by a control that can take textual input.</span></span>

<span data-ttu-id="8dead-655">W poprzednich wersjach .NET Framework aplikacje WPF nie mogą zrezygnować z śledzenia fokusu bez wyłączania obsługi gestu pióra WPF/dotknięcia.</span><span class="sxs-lookup"><span data-stu-id="8dead-655">In previous versions of .NET Framework, WPF applications can't opt into the focus tracking without disabling WPF pen/touch gesture support.</span></span> <span data-ttu-id="8dead-656">W efekcie aplikacje WPF muszą wybierać między pełną obsługą technologii WPF touch lub korzystać z promocji myszy systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="8dead-656">As a result, WPF applications must choose between full WPF touch support or rely on Windows mouse promotion.</span></span>

<span data-ttu-id="8dead-657">**DPI na monitor**</span><span class="sxs-lookup"><span data-stu-id="8dead-657">**Per-monitor DPI**</span></span>

<span data-ttu-id="8dead-658">Aby obsłużyć najnowsze rozprzestrzenianie środowisk o wysokiej rozdzielczości DPI i hybrydowych DPI dla aplikacji WPF, WPF w .NET Framework 4.6.2 umożliwia świadomość poszczególnych monitorów.</span><span class="sxs-lookup"><span data-stu-id="8dead-658">To support the recent proliferation of high-DPI and hybrid-DPI environments for WPF apps, WPF in .NET Framework 4.6.2 enables per-monitor awareness.</span></span> <span data-ttu-id="8dead-659">Zapoznaj się z [przykładami i przewodnikiem dewelopera](https://github.com/Microsoft/WPF-Samples/tree/master/PerMonitorDPI) w witrynie GitHub, aby uzyskać więcej informacji na temat sposobu włączania aplikacji platformy WPF do monitorowania według rozdzielczości DPI.</span><span class="sxs-lookup"><span data-stu-id="8dead-659">See the [samples and developer guide](https://github.com/Microsoft/WPF-Samples/tree/master/PerMonitorDPI) on GitHub for more information about how to enable your WPF app to become per-monitor DPI aware.</span></span>

<span data-ttu-id="8dead-660">W poprzednich wersjach .NET Framework aplikacje WPF są oparte na systemie DPI.</span><span class="sxs-lookup"><span data-stu-id="8dead-660">In previous versions of .NET Framework, WPF apps are system-DPI aware.</span></span> <span data-ttu-id="8dead-661">Innymi słowy, interfejs użytkownika aplikacji jest skalowany w odpowiednim systemie operacyjnym, w zależności od wartości DPI monitora, na którym jest renderowana aplikacja.</span><span class="sxs-lookup"><span data-stu-id="8dead-661">In other words, the application's UI is scaled by the OS as appropriate, depending on the DPI of the monitor on which the app is rendered.</span></span>

<span data-ttu-id="8dead-662">W przypadku aplikacji uruchamianych w ramach .NET Framework 4.6.2 można wyłączyć zmiany DPI dla poszczególnych monitorów w aplikacjach WPF przez dodanie instrukcji konfiguracji do [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) sekcji pliku konfiguracyjnego aplikacji w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="8dead-662">For apps running under .NET Framework 4.6.2, you can disable per-monitor DPI changes in WPF apps by adding a configuration statement to the [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) section of your application configuration file, as follows:</span></span>

```xml
<runtime>
   <AppContextSwitchOverrides value="Switch.System.Windows.DoNotScaleForDpiChanges=false"/>
</runtime>
```

<a name="WF462"></a>

### <a name="windows-workflow-foundation-wf"></a><span data-ttu-id="8dead-663">Program Windows Workflow Foundation (WF)</span><span class="sxs-lookup"><span data-stu-id="8dead-663">Windows Workflow Foundation (WF)</span></span>

<span data-ttu-id="8dead-664">W .NET Framework 4.6.2 Windows Workflow Foundation został ulepszony w następującym obszarze:</span><span class="sxs-lookup"><span data-stu-id="8dead-664">In .NET Framework 4.6.2, Windows Workflow Foundation has been enhanced in the following area:</span></span>

<span data-ttu-id="8dead-665">**Obsługa wyrażeń języka C# i technologii IntelliSense w nieobsługiwanym projektancie WF**</span><span class="sxs-lookup"><span data-stu-id="8dead-665">**Support for C# expressions and IntelliSense in the Rehosted WF Designer**</span></span>

<span data-ttu-id="8dead-666">Począwszy od .NET Framework 4,5, WF obsługuje wyrażenia języka C# zarówno w projektancie programu Visual Studio, jak i w przepływach pracy w kodzie.</span><span class="sxs-lookup"><span data-stu-id="8dead-666">Starting with .NET Framework 4.5, WF supports C# expressions in both the Visual Studio Designer and in code workflows.</span></span> <span data-ttu-id="8dead-667">Projektant przepływu pracy przeszukana jest kluczową cechą WF, która umożliwia Projektant przepływu pracy się w aplikacji poza programem Visual Studio (na przykład w WPF).</span><span class="sxs-lookup"><span data-stu-id="8dead-667">The Rehosted Workflow Designer is a key feature of WF that allows for the Workflow Designer to be in an application outside Visual Studio (for example, in WPF).</span></span>  <span data-ttu-id="8dead-668">Windows Workflow Foundation zapewnia możliwość obsługi wyrażeń języka C# i IntelliSense w przemieszczonych Projektant przepływu pracyach.</span><span class="sxs-lookup"><span data-stu-id="8dead-668">Windows Workflow Foundation provides the ability to support C# expressions and IntelliSense in the Rehosted Workflow Designer.</span></span> <span data-ttu-id="8dead-669">Aby uzyskać więcej informacji, zapoznaj się z [blogiem Windows Workflow Foundation](/archive/blogs/workflowteam/building-c-expressions-support-and-intellisense-in-the-rehosted-workflow-designer).</span><span class="sxs-lookup"><span data-stu-id="8dead-669">For more information, see the [Windows Workflow Foundation blog](/archive/blogs/workflowteam/building-c-expressions-support-and-intellisense-in-the-rehosted-workflow-designer).</span></span>

<span data-ttu-id="8dead-670">`Availability of IntelliSense when a customer rebuilds a workflow project from Visual Studio` W wersjach .NET Framework wcześniejszych niż 4.6.2 Funkcja IntelliSense projektanta WF jest uszkodzona, gdy klient odbudowuje projekt przepływu pracy z programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="8dead-670">`Availability of IntelliSense when a customer rebuilds a workflow project from Visual Studio` In versions of the .NET Framework prior to 4.6.2, WF Designer IntelliSense is broken when a customer rebuilds a workflow project from Visual Studio.</span></span> <span data-ttu-id="8dead-671">Gdy kompilacja projektu zakończy się pomyślnie, typy przepływu pracy nie są dostępne w projektancie, a w oknie **Lista błędów** są wyświetlane ostrzeżenia z funkcji IntelliSense dotyczące brakujących typów przepływów pracy.</span><span class="sxs-lookup"><span data-stu-id="8dead-671">While the project build is successful, the workflow types are not found on the designer, and warnings from IntelliSense for the missing workflow types appear in the **Error List** window.</span></span> <span data-ttu-id="8dead-672">.NET Framework 4.6.2 rozwiązuje ten problem i udostępnia funkcję IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="8dead-672">.NET Framework 4.6.2 addresses this issue and makes IntelliSense available.</span></span>

<span data-ttu-id="8dead-673">**Aplikacje w wersji 1 z funkcją śledzenia przepływu pracy na teraz działaniu w trybie FIPS**</span><span class="sxs-lookup"><span data-stu-id="8dead-673">**Workflow V1 applications with Workflow Tracking on now run under FIPS-mode**</span></span>

<span data-ttu-id="8dead-674">Maszyny z włączonym trybem zgodności ze standardem FIPS mogą teraz pomyślnie uruchomić aplikację w stylu w wersji 1 z funkcją śledzenia przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="8dead-674">Machines with FIPS Compliance Mode enabled can now successfully run a workflow Version 1-style application with Workflow tracking on.</span></span> <span data-ttu-id="8dead-675">Aby włączyć ten scenariusz, należy wprowadzić następujące zmiany w pliku app.config:</span><span class="sxs-lookup"><span data-stu-id="8dead-675">To enable this scenario, you must make the following change to your app.config file:</span></span>

```xml
<add key="microsoft:WorkflowRuntime:FIPSRequired" value="true" />
```

<span data-ttu-id="8dead-676">Jeśli ten scenariusz nie jest włączony, uruchomienie aplikacji w dalszym ciągu generuje wyjątek z komunikatem "Ta implementacja nie jest częścią zgodnych algorytmów kryptograficznych FIPS platformy Windows."</span><span class="sxs-lookup"><span data-stu-id="8dead-676">If this scenario is not enabled, running the application continues to generate an exception with the message, "This implementation is not part of the Windows Platform FIPS validated cryptographic algorithms."</span></span>

<span data-ttu-id="8dead-677">**Udoskonalenia przepływu pracy podczas korzystania z aktualizacji dynamicznej w programie Visual Studio Projektant przepływu pracy**</span><span class="sxs-lookup"><span data-stu-id="8dead-677">**Workflow Improvements when using Dynamic Update with Visual Studio Workflow Designer**</span></span>

<span data-ttu-id="8dead-678">Projektant działań Projektant przepływu pracy, schemat blokowy i inne działania związane z przepływem pracy pomyślnie załadowały i wyświetlą przepływy pracy, które zostały zapisane po wywołaniu <xref:System.Activities.DynamicUpdate.DynamicUpdateServices.PrepareForUpdate%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="8dead-678">The Workflow Designer, FlowChart Activity Designer, and other Workflow Activity Designers now successfully load and display workflows that have been saved after calling  the <xref:System.Activities.DynamicUpdate.DynamicUpdateServices.PrepareForUpdate%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="8dead-679">W wersjach .NET Framework przed .NET Framework 4.6.2, ładowanie pliku XAML w programie Visual Studio dla przepływu pracy, który został zapisany po wywołaniu, <xref:System.Activities.DynamicUpdate.DynamicUpdateServices.PrepareForUpdate%2A?displayProperty=nameWithType> może spowodować następujące problemy:</span><span class="sxs-lookup"><span data-stu-id="8dead-679">In versions of the .NET Framework before .NET Framework 4.6.2, loading a XAML file in Visual Studio for a workflow that has been saved after calling <xref:System.Activities.DynamicUpdate.DynamicUpdateServices.PrepareForUpdate%2A?displayProperty=nameWithType> can result in the following issues:</span></span>

- <span data-ttu-id="8dead-680">Projektant przepływu pracy nie może poprawnie załadować pliku XAML (gdy <xref:System.Activities.Presentation.ViewState.ViewStateData.Id%2A?displayProperty=nameWithType> znajduje się na końcu wiersza).</span><span class="sxs-lookup"><span data-stu-id="8dead-680">The Workflow Designer can't load the XAML file correctly (when the <xref:System.Activities.Presentation.ViewState.ViewStateData.Id%2A?displayProperty=nameWithType> is at the end of the line).</span></span>

- <span data-ttu-id="8dead-681">Projektant działań Flowchart lub inny przepływ pracy może wyświetlać wszystkie obiekty w ich domyślnych lokalizacjach, w przeciwieństwie do wartości właściwości dołączony.</span><span class="sxs-lookup"><span data-stu-id="8dead-681">Flowchart Activity Designer or other Workflow Activity Designers may display all objects in their default locations as opposed to attached property values.</span></span>

<a name="clickonce-1"></a>

### <a name="clickonce"></a><span data-ttu-id="8dead-682">ClickOnce</span><span class="sxs-lookup"><span data-stu-id="8dead-682">ClickOnce</span></span>

<span data-ttu-id="8dead-683">Program ClickOnce został zaktualizowany do obsługi protokołów TLS 1,1 i TLS 1,2 oprócz protokołu 1,0, który jest już obsługiwany.</span><span class="sxs-lookup"><span data-stu-id="8dead-683">ClickOnce has been updated to support TLS 1.1 and TLS 1.2 in addition to the 1.0 protocol, which it already supports.</span></span> <span data-ttu-id="8dead-684">Technologia ClickOnce automatycznie wykrywa wymagany protokół; Aby włączyć obsługę protokołu TLS 1,1 i 1,2, nie są wymagane żadne dodatkowe kroki w aplikacji ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="8dead-684">ClickOnce automatically detects which protocol is required; no extra steps within the ClickOnce application are required to enable TLS 1.1 and 1.2 support.</span></span>

<a name="UWPConvert"></a>

### <a name="converting-windows-forms-and-wpf-apps-to--uwp-apps"></a><span data-ttu-id="8dead-685">Konwertowanie aplikacji Windows Forms i WPF na aplikacje platformy UWP</span><span class="sxs-lookup"><span data-stu-id="8dead-685">Converting Windows Forms and WPF apps to  UWP apps</span></span>

<span data-ttu-id="8dead-686">System Windows oferuje teraz możliwości przenoszenia istniejących aplikacji klasycznych systemu Windows, w tym aplikacji WPF i Windows Forms, do platforma uniwersalna systemu Windows (platformy UWP).</span><span class="sxs-lookup"><span data-stu-id="8dead-686">Windows now offers capabilities to bring existing Windows desktop apps, including WPF and Windows Forms apps, to the Universal Windows Platform (UWP).</span></span> <span data-ttu-id="8dead-687">Ta technologia działa jako most, dzięki czemu można stopniowo migrować istniejącą bazę kodu do platformy UWP, dzięki czemu aplikacja jest przenoszona na wszystkie urządzenia z systemem Windows 10.</span><span class="sxs-lookup"><span data-stu-id="8dead-687">This technology acts as a bridge by enabling you to gradually migrate your existing code base to UWP, thereby bringing your app to all Windows 10 devices.</span></span>

<span data-ttu-id="8dead-688">Skonwertowane aplikacje klasyczne uzyskują tożsamość aplikacji podobną do tożsamości aplikacji platformy UWP, dzięki czemu interfejsy API platformy UWP dostępne do włączania funkcji, takich jak kafelki dynamiczne i powiadomienia.</span><span class="sxs-lookup"><span data-stu-id="8dead-688">Converted desktop apps gain an app identity similar to the app identity of UWP apps, which makes UWP APIs accessible to enable features such as Live Tiles and notifications.</span></span> <span data-ttu-id="8dead-689">Aplikacja będzie nadal działać tak jak wcześniej i działała jako aplikacja pełnego zaufania.</span><span class="sxs-lookup"><span data-stu-id="8dead-689">The app continues to behave as before and runs as a full trust app.</span></span> <span data-ttu-id="8dead-690">Po przekonwertowaniu aplikacji proces kontenera aplikacji można dodać do istniejącego procesu pełnego zaufania, aby dodać do niego interfejs użytkownika adaptacyjnego.</span><span class="sxs-lookup"><span data-stu-id="8dead-690">Once the app is converted, an app container process can be added to the existing full trust process to add an adaptive user interface.</span></span> <span data-ttu-id="8dead-691">Po przeniesieniu wszystkich funkcji do procesu kontenera aplikacji można usunąć pełny proces zaufania i udostępnić nową aplikację platformy UWP wszystkim urządzeniom z systemem Windows 10.</span><span class="sxs-lookup"><span data-stu-id="8dead-691">When all functionality is moved to the app container process, the full trust process can be removed and the new UWP app can be made available to all Windows 10 devices.</span></span>

<a name="Debug462"></a>

### <a name="debugging-improvements"></a><span data-ttu-id="8dead-692">Ulepszenia debugowania</span><span class="sxs-lookup"><span data-stu-id="8dead-692">Debugging improvements</span></span>

<span data-ttu-id="8dead-693">*Niezarządzany interfejs API debugowania* został ulepszony w .NET Framework 4.6.2, aby wykonać dodatkową analizę, gdy <xref:System.NullReferenceException> zostanie zgłoszony, aby można było określić, która zmienna w jednym wierszu kodu źródłowego to `null` .</span><span class="sxs-lookup"><span data-stu-id="8dead-693">The *unmanaged debugging API* has been enhanced in .NET Framework 4.6.2 to perform additional analysis when a <xref:System.NullReferenceException> is thrown so that it is possible to determine which variable in a single line of source code is `null`.</span></span>   <span data-ttu-id="8dead-694">Aby obsłużyć ten scenariusz, dodano następujące interfejsy API do niezarządzanego interfejsu API debugowania.</span><span class="sxs-lookup"><span data-stu-id="8dead-694">To support this scenario, the following APIs have been added to the unmanaged debugging API.</span></span>

- <span data-ttu-id="8dead-695">Interfejsy [ICorDebugCode4](../unmanaged-api/debugging/icordebugcode4-interface.md), [ICorDebugVariableHome](../unmanaged-api/debugging/icordebugvariablehome-interface.md)i [ICorDebugVariableHomeEnum](../unmanaged-api/debugging/icordebugvariablehomeenum-interface.md) , które uwidaczniają natywne domy zmiennych zarządzanych.</span><span class="sxs-lookup"><span data-stu-id="8dead-695">The [ICorDebugCode4](../unmanaged-api/debugging/icordebugcode4-interface.md), [ICorDebugVariableHome](../unmanaged-api/debugging/icordebugvariablehome-interface.md), and [ICorDebugVariableHomeEnum](../unmanaged-api/debugging/icordebugvariablehomeenum-interface.md) interfaces, which expose the native homes of managed variables.</span></span> <span data-ttu-id="8dead-696">Dzięki temu debugery mogą wykonywać pewne analizy przepływu kodu, gdy  <xref:System.NullReferenceException> wystąpi, i aby przejść do tyłu, aby określić zmienną zarządzaną, która odnosi się do lokalizacji natywnej `null` .</span><span class="sxs-lookup"><span data-stu-id="8dead-696">This enables debuggers to do some code flow analysis when a  <xref:System.NullReferenceException> occurs and to work backwards to determine the managed variable that corresponds to the native location that was `null`.</span></span>

- <span data-ttu-id="8dead-697">Metoda [ICorDebugType2:: GetTypeId](../unmanaged-api/debugging/icordebugtype2-gettypeid-method.md) zapewnia mapowanie dla ICorDebugType do [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md), co umożliwia debugerowi uzyskanie [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md) bez wystąpienia ICorDebugType.</span><span class="sxs-lookup"><span data-stu-id="8dead-697">The [ICorDebugType2::GetTypeID](../unmanaged-api/debugging/icordebugtype2-gettypeid-method.md) method provides a mapping for ICorDebugType to [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md), which allows the debugger to obtain a [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md) without an instance of the ICorDebugType.</span></span> <span data-ttu-id="8dead-698">Istniejące interfejsy API w [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md) mogą być następnie używane do określenia układu klasy typu.</span><span class="sxs-lookup"><span data-stu-id="8dead-698">Existing APIs on [COR_TYPEID](../unmanaged-api/debugging/cor-typeid-structure.md) can then be used to determine the class layout of the type.</span></span>

<a name="v461"></a>

## <a name="whats-new-in-net-framework-461"></a><span data-ttu-id="8dead-699">Co nowego w .NET Framework 4.6.1</span><span class="sxs-lookup"><span data-stu-id="8dead-699">What's new in .NET Framework 4.6.1</span></span>

<span data-ttu-id="8dead-700">.NET Framework 4.6.1 zawiera nowe funkcje w następujących obszarach:</span><span class="sxs-lookup"><span data-stu-id="8dead-700">.NET Framework 4.6.1 includes new features in the following areas:</span></span>

- [<span data-ttu-id="8dead-701">Kryptografia</span><span class="sxs-lookup"><span data-stu-id="8dead-701">Cryptography</span></span>](#Crypto)

- [<span data-ttu-id="8dead-702">ADO.NET</span><span class="sxs-lookup"><span data-stu-id="8dead-702">ADO.NET</span></span>](#ADO.NET461)

- [<span data-ttu-id="8dead-703">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="8dead-703">Windows Presentation Foundation (WPF)</span></span>](#WPF461)

- [<span data-ttu-id="8dead-704">Windows Workflow Foundation</span><span class="sxs-lookup"><span data-stu-id="8dead-704">Windows Workflow Foundation</span></span>](#WWF461)

- [<span data-ttu-id="8dead-705">Profilowanie</span><span class="sxs-lookup"><span data-stu-id="8dead-705">Profiling</span></span>](#Profile461)

- [<span data-ttu-id="8dead-706">NGen</span><span class="sxs-lookup"><span data-stu-id="8dead-706">NGen</span></span>](#NGEN461)

<span data-ttu-id="8dead-707">Więcej informacji o .NET Framework 4.6.1 można znaleźć w następujących tematach:</span><span class="sxs-lookup"><span data-stu-id="8dead-707">For more information on .NET Framework 4.6.1, see the following topics:</span></span>

- [<span data-ttu-id="8dead-708">.NET Framework 4.6.1 listę zmian</span><span class="sxs-lookup"><span data-stu-id="8dead-708">.NET Framework 4.6.1 list of changes</span></span>](https://github.com/Microsoft/dotnet/blob/master/releases/net461/dotnet461-changes.md)

- [<span data-ttu-id="8dead-709">Zgodność aplikacji w 4.6.1</span><span class="sxs-lookup"><span data-stu-id="8dead-709">Application Compatibility in 4.6.1</span></span>](../migration-guide/application-compatibility.md)

- <span data-ttu-id="8dead-710">Różnice [interfejsu API .NET Framework](https://github.com/Microsoft/dotnet/blob/master/releases/net461/dotnet461-api-changes.md) (w serwisie GitHub)</span><span class="sxs-lookup"><span data-stu-id="8dead-710">[.NET Framework API diff](https://github.com/Microsoft/dotnet/blob/master/releases/net461/dotnet461-api-changes.md) (on GitHub)</span></span>

<a name="Crypto"></a>

### <a name="cryptography-support-for-x509-certificates-containing-ecdsa"></a><span data-ttu-id="8dead-711">Kryptografia: obsługa certyfikatów x509 zawierających ECDSA</span><span class="sxs-lookup"><span data-stu-id="8dead-711">Cryptography: Support for X509 certificates containing ECDSA</span></span>

<span data-ttu-id="8dead-712">.NET Framework 4,6 dodano obsługę RSACng dla certyfikatów x509.</span><span class="sxs-lookup"><span data-stu-id="8dead-712">.NET Framework 4.6 added RSACng support for X509 certificates.</span></span> <span data-ttu-id="8dead-713">.NET Framework 4.6.1 dodaje obsługę dla certyfikatów x509 ECDSA (algorytm podpisywania cyfrowego z krzywej eliptyczna).</span><span class="sxs-lookup"><span data-stu-id="8dead-713">.NET Framework 4.6.1 adds support for ECDSA (Elliptic Curve Digital Signature Algorithm) X509 certificates.</span></span>

<span data-ttu-id="8dead-714">ECDSA zapewnia lepszą wydajność i stanowi bardziej bezpieczny algorytm kryptograficzny niż RSA, zapewniając doskonałe rozwiązanie w zakresie wydajności i skalowalności Transport Layer Security (TLS).</span><span class="sxs-lookup"><span data-stu-id="8dead-714">ECDSA offers better performance and is a more secure cryptography algorithm than RSA, providing an excellent choice where Transport Layer Security (TLS) performance and scalability is a concern.</span></span> <span data-ttu-id="8dead-715">Implementacja .NET Framework zawija wywołania do istniejących funkcji systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="8dead-715">The .NET Framework implementation wraps calls into existing Windows functionality.</span></span>

<span data-ttu-id="8dead-716">Poniższy przykładowy kod pokazuje, jak łatwo jest wygenerować sygnaturę strumienia bajtów przy użyciu nowej obsługi certyfikatów x509 ECDSA zawartych w .NET Framework 4.6.1.</span><span class="sxs-lookup"><span data-stu-id="8dead-716">The following example code shows how easy it is to generate a signature for a byte stream by using the new  support for ECDSA  X509 certificates included in .NET Framework 4.6.1.</span></span>

[!code-csharp[whatsnew.461.crypto#1](~/samples/snippets/csharp/VS_Snippets_CLR/whatsnew.461.crypto/cs/Code46.cs#1)]
[!code-vb[whatsnew.461.crypto#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/whatsnew.461.crypto/vb/Code461.vb#1)]

<span data-ttu-id="8dead-717">Oferuje to wyróżniony kontrast w kodzie wymaganym do wygenerowania podpisu w .NET Framework 4,6.</span><span class="sxs-lookup"><span data-stu-id="8dead-717">This offers a marked contrast to the code needed to generate a signature in .NET Framework 4.6.</span></span>

[!code-csharp[whatsnew.461.crypto#2](~/samples/snippets/csharp/VS_Snippets_CLR/whatsnew.461.crypto/cs/Code46.cs#2)]
[!code-vb[whatsnew.461.crypto#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/whatsnew.461.crypto/vb/Code46.vb#2)]

<a name="ADO.NET461"></a>

### <a name="adonet"></a><span data-ttu-id="8dead-718">ADO.NET</span><span class="sxs-lookup"><span data-stu-id="8dead-718">ADO.NET</span></span>

<span data-ttu-id="8dead-719">Do ADO.NET zostały dodane następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="8dead-719">The following have been added to ADO.NET:</span></span>

<span data-ttu-id="8dead-720">**Obsługa Always Encrypted kluczy chronionych sprzętem**</span><span class="sxs-lookup"><span data-stu-id="8dead-720">**Always Encrypted support for hardware protected keys**</span></span>

<span data-ttu-id="8dead-721">ADO.NET obsługuje teraz przechowywanie kluczy głównych kolumn Always Encrypted w sprzętowych modułach zabezpieczeń (sprzętowych modułów zabezpieczeń).</span><span class="sxs-lookup"><span data-stu-id="8dead-721">ADO.NET now supports storing Always Encrypted column master keys natively in Hardware Security Modules (HSMs).</span></span> <span data-ttu-id="8dead-722">Dzięki temu klientom można korzystać z kluczy asymetrycznych przechowywanych w sprzętowych modułów zabezpieczeń bez konieczności pisania dostawców magazynu kluczy niestandardowych i rejestrowania ich w aplikacjach.</span><span class="sxs-lookup"><span data-stu-id="8dead-722">With this support, customers can leverage asymmetric keys stored in HSMs without having to write custom column master key store providers and registering them in applications.</span></span>

<span data-ttu-id="8dead-723">Klienci muszą zainstalować dostawcę usług kryptograficznych dostarczonych przez dostawcę modułu HSM lub dostawców magazynu kluczy CNG na serwerach aplikacji lub komputerach klienckich w celu uzyskania dostępu do danych Always Encrypted chronionych przy użyciu kluczy głównych kolumn przechowywanych w module HSM.</span><span class="sxs-lookup"><span data-stu-id="8dead-723">Customers need to install the HSM vendor-provided CSP provider or CNG key store providers on the app servers or client computers in order to access Always Encrypted data protected with column master keys stored in a HSM.</span></span>

<span data-ttu-id="8dead-724">**Ulepszone <xref:System.Data.SqlClient.SqlConnectionStringBuilder.MultiSubnetFailover%2A> zachowanie połączenia dla funkcji AlwaysOn**</span><span class="sxs-lookup"><span data-stu-id="8dead-724">**Improved <xref:System.Data.SqlClient.SqlConnectionStringBuilder.MultiSubnetFailover%2A> connection behavior for AlwaysOn**</span></span>

<span data-ttu-id="8dead-725">Klient SqlClient teraz automatycznie zapewnia szybsze połączenia z grupą dostępności AlwaysOn (AG).</span><span class="sxs-lookup"><span data-stu-id="8dead-725">SqlClient now automatically provides faster connections to an AlwaysOn Availability Group (AG).</span></span> <span data-ttu-id="8dead-726">W sposób niewidoczny dla użytkownika wykryje, czy aplikacja nawiązuje połączenie z grupą dostępności AlwaysOn (AG) w innej podsieci, i szybko odnajduje bieżący aktywny serwer i zapewnia połączenie z serwerem.</span><span class="sxs-lookup"><span data-stu-id="8dead-726">It transparently detects whether your application is connecting to an AlwaysOn availability group (AG) on a different subnet and quickly discovers the current active server and provides a connection to the server.</span></span> <span data-ttu-id="8dead-727">Przed tą wersją aplikacja wymagała ustawienia parametrów połączenia do uwzględnienia `"MultisubnetFailover=true"` , aby wskazać, że nastąpiło połączenie z grupą dostępności AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="8dead-727">Prior to this release, an application had to set the connection string to include `"MultisubnetFailover=true"` to indicate that it was connecting to an AlwaysOn Availability Group.</span></span> <span data-ttu-id="8dead-728">Bez ustawienia słowa kluczowego połączenia do `true` , aplikacja może napotkać limit czasu podczas nawiązywania połączenia z grupą dostępności AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="8dead-728">Without setting the connection keyword to `true`, an application might experience a timeout while connecting to an AlwaysOn Availability Group.</span></span> <span data-ttu-id="8dead-729">W tej wersji aplikacja nie musi już *być ustawiona* na wartość <xref:System.Data.SqlClient.SqlConnectionStringBuilder.MultiSubnetFailover%2A> `true` .</span><span class="sxs-lookup"><span data-stu-id="8dead-729">With this release, an application does *not* need to set <xref:System.Data.SqlClient.SqlConnectionStringBuilder.MultiSubnetFailover%2A> to `true` anymore.</span></span> <span data-ttu-id="8dead-730">Aby uzyskać więcej informacji na temat obsługi klienta z zawsze włączonymi grupami dostępności, zobacz temat [Obsługa klienta w przypadku wysokiej dostępności i odzyskiwania po awarii](../data/adonet/sql/sqlclient-support-for-high-availability-disaster-recovery.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-730">For more information about SqlClient support for Always On Availability Groups, see [SqlClient Support for High Availability, Disaster Recovery](../data/adonet/sql/sqlclient-support-for-high-availability-disaster-recovery.md).</span></span>

<a name="WPF461"></a>

### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="8dead-731">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="8dead-731">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="8dead-732">Windows Presentation Foundation obejmuje wiele udoskonaleń i zmian.</span><span class="sxs-lookup"><span data-stu-id="8dead-732">Windows Presentation Foundation includes a number of improvements and changes.</span></span>

<span data-ttu-id="8dead-733">**Zwiększona wydajność**</span><span class="sxs-lookup"><span data-stu-id="8dead-733">**Improved performance**</span></span>

<span data-ttu-id="8dead-734">Opóźnienie w przypadku uruchamiania zdarzeń Touch zostało rozwiązane w .NET Framework 4.6.1.</span><span class="sxs-lookup"><span data-stu-id="8dead-734">The delay in firing touch events has been fixed in .NET Framework 4.6.1.</span></span> <span data-ttu-id="8dead-735">Ponadto wpisywanie <xref:System.Windows.Controls.RichTextBox> kontrolki nie powoduje już powiązania wątku renderowania podczas szybkiego wprowadzania danych.</span><span class="sxs-lookup"><span data-stu-id="8dead-735">In addition, typing in a <xref:System.Windows.Controls.RichTextBox> control no longer ties up the render thread during fast input.</span></span>

<span data-ttu-id="8dead-736">**Ulepszenia sprawdzania pisowni**</span><span class="sxs-lookup"><span data-stu-id="8dead-736">**Spell checking improvements**</span></span>

<span data-ttu-id="8dead-737">Moduł sprawdzania pisowni w programie WPF został zaktualizowany w Windows 8.1 i nowszych wersjach, aby można było korzystać z obsługi systemu operacyjnego w przypadku dodatkowych języków sprawdzania pisowni.</span><span class="sxs-lookup"><span data-stu-id="8dead-737">The spell checker in WPF has been updated on Windows 8.1 and later versions to leverage operating system support for spell-checking additional languages.</span></span>  <span data-ttu-id="8dead-738">Nie wprowadzono zmian w wersjach systemu Windows starszych niż Windows 8.1.</span><span class="sxs-lookup"><span data-stu-id="8dead-738">There is no change in functionality on Windows versions prior to Windows 8.1.</span></span>

<span data-ttu-id="8dead-739">Tak jak w poprzednich wersjach .NET Framework, język dla <xref:System.Windows.Controls.TextBox> bloku ora kontroli <xref:System.Windows.Controls.RichTextBox> jest wykrywany przez wyszukiwanie informacji w następującej kolejności:</span><span class="sxs-lookup"><span data-stu-id="8dead-739">As in previous versions of .NET Framework, the language for a <xref:System.Windows.Controls.TextBox> control ora <xref:System.Windows.Controls.RichTextBox> block is detected by looking for information in the following order:</span></span>

- <span data-ttu-id="8dead-740">`xml:lang`, jeśli jest obecny.</span><span class="sxs-lookup"><span data-stu-id="8dead-740">`xml:lang`, if it is present.</span></span>

- <span data-ttu-id="8dead-741">Bieżący język wejściowy.</span><span class="sxs-lookup"><span data-stu-id="8dead-741">Current input language.</span></span>

- <span data-ttu-id="8dead-742">Bieżąca kultura wątku.</span><span class="sxs-lookup"><span data-stu-id="8dead-742">Current thread culture.</span></span>

<span data-ttu-id="8dead-743">Aby uzyskać więcej informacji na temat obsługi języków w programie WPF, zobacz [wpis w blogu WPF w witrynie .NET Framework 4.6.1](https://devblogs.microsoft.com/wpf/wpf-in-net-4-6-1/).</span><span class="sxs-lookup"><span data-stu-id="8dead-743">For more information on language support in WPF, see the [WPF blog post on .NET Framework 4.6.1 features](https://devblogs.microsoft.com/wpf/wpf-in-net-4-6-1/).</span></span>

<span data-ttu-id="8dead-744">**Dodatkowa obsługa słowników niestandardowych dla poszczególnych użytkowników**</span><span class="sxs-lookup"><span data-stu-id="8dead-744">**Additional support for per-user custom dictionaries**</span></span>

<span data-ttu-id="8dead-745">W .NET Framework 4.6.1, WPF rozpoznaje niestandardowe słowniki, które są rejestrowane globalnie.</span><span class="sxs-lookup"><span data-stu-id="8dead-745">In .NET Framework 4.6.1, WPF recognizes custom dictionaries that are registered globally.</span></span> <span data-ttu-id="8dead-746">Ta funkcja jest dostępna oprócz możliwości zarejestrowania ich na kontrolę.</span><span class="sxs-lookup"><span data-stu-id="8dead-746">This capability is available in addition to the ability to register them per-control.</span></span>

<span data-ttu-id="8dead-747">We wcześniejszych wersjach programu WPF Słowniki niestandardowe nie rozpoznają wykluczonych słów i list Autokorekty.</span><span class="sxs-lookup"><span data-stu-id="8dead-747">In previous versions of WPF, custom dictionaries did not recognize Excluded Words and AutoCorrect lists.</span></span> <span data-ttu-id="8dead-748">Są one obsługiwane w systemach Windows 8.1 i Windows 10 za pomocą plików, które można umieścić w `%AppData%\Microsoft\Spelling\<language tag>` katalogu.</span><span class="sxs-lookup"><span data-stu-id="8dead-748">They are supported on Windows 8.1 and Windows 10 through the use of files that can be placed under the `%AppData%\Microsoft\Spelling\<language tag>` directory.</span></span>  <span data-ttu-id="8dead-749">Do tych plików mają zastosowanie następujące reguły:</span><span class="sxs-lookup"><span data-stu-id="8dead-749">The following rules apply to these files:</span></span>

- <span data-ttu-id="8dead-750">Pliki powinny mieć rozszerzenia. dic (dla dodanych wyrazów),. wyłączne (dla wykluczonych słów) lub ACL (na potrzeby funkcji Autokorekta).</span><span class="sxs-lookup"><span data-stu-id="8dead-750">The files should have extensions of .dic (for added words), .exc (for excluded words), or .acl (for AutoCorrect).</span></span>

- <span data-ttu-id="8dead-751">Pliki powinny zawierać tekst w formacie UTF-16, zaczynający się od znaku kolejności bajtów (BOM).</span><span class="sxs-lookup"><span data-stu-id="8dead-751">The files should be UTF-16 LE plaintext that starts with the Byte Order Mark (BOM).</span></span>

- <span data-ttu-id="8dead-752">Każdy wiersz powinien zawierać słowo (na dodanych i wykluczonych listach wyrazów) lub parę Autokorekta z wyrazami rozdzielonymi pionowym paskiem ("&#124;") (na liście Autokorekty wyrazu).</span><span class="sxs-lookup"><span data-stu-id="8dead-752">Each line should consist of a word (in the added and excluded word lists), or an autocorrect pair with the words separated by a vertical bar ("&#124;") (in the AutoCorrect word list).</span></span>

- <span data-ttu-id="8dead-753">Te pliki są uznawane za tylko do odczytu i nie są modyfikowane przez system.</span><span class="sxs-lookup"><span data-stu-id="8dead-753">These files are considered read-only and are not modified by the system.</span></span>

> [!NOTE]
> <span data-ttu-id="8dead-754">Te nowe formaty plików nie są bezpośrednio obsługiwane przez interfejsy API sprawdzania pisowni WPF, a Słowniki niestandardowe dostarczane do WPF w aplikacjach powinny nadal używać plików. lex.</span><span class="sxs-lookup"><span data-stu-id="8dead-754">These new file-formats are not directly supported by the WPF spell checking APIs, and the custom dictionaries supplied to WPF in applications should continue to use .lex files.</span></span>

<span data-ttu-id="8dead-755">**Samples**</span><span class="sxs-lookup"><span data-stu-id="8dead-755">**Samples**</span></span>

<span data-ttu-id="8dead-756">Istnieje kilka przykładów WPF w repozytorium GitHub [Microsoft/WPF-Samples](https://github.com/Microsoft/WPF-Samples) .</span><span class="sxs-lookup"><span data-stu-id="8dead-756">There are a number of WPF samples on the [Microsoft/WPF-Samples](https://github.com/Microsoft/WPF-Samples) GitHub repository.</span></span> <span data-ttu-id="8dead-757">Pomóż nam ulepszyć nasze przykłady, wysyłając do nas żądanie ściągnięcia lub otwierając [problem usługi GitHub](https://github.com/Microsoft/WPF-Samples/issues).</span><span class="sxs-lookup"><span data-stu-id="8dead-757">Help us improve our samples by sending us a pull-request or opening a [GitHub issue](https://github.com/Microsoft/WPF-Samples/issues).</span></span>

<span data-ttu-id="8dead-758">**Rozszerzenia DirectX**</span><span class="sxs-lookup"><span data-stu-id="8dead-758">**DirectX extensions**</span></span>

<span data-ttu-id="8dead-759">WPF zawiera [pakiet NuGet](https://www.nuget.org/packages/Microsoft.Wpf.Interop.DirectX-x86/) , który udostępnia nowe implementacje programu <xref:System.Windows.Interop.D3DImage> , które ułatwiają współdziałanie z zawartością DX10 i DX11.</span><span class="sxs-lookup"><span data-stu-id="8dead-759">WPF includes a [NuGet package](https://www.nuget.org/packages/Microsoft.Wpf.Interop.DirectX-x86/) that provides new implementations of <xref:System.Windows.Interop.D3DImage> that make it easy for you to interoperate with DX10 and Dx11 content.</span></span> <span data-ttu-id="8dead-760">Kod dla tego pakietu został otwarty jako źródło i jest dostępny [w serwisie GitHub](https://github.com/Microsoft/WPFDXInterop).</span><span class="sxs-lookup"><span data-stu-id="8dead-760">The code for this package has been open sourced and is available [on GitHub](https://github.com/Microsoft/WPFDXInterop).</span></span>

<a name="WWF461"></a>

### <a name="windows-workflow-foundation-transactions"></a><span data-ttu-id="8dead-761">Windows Workflow Foundation: transakcje</span><span class="sxs-lookup"><span data-stu-id="8dead-761">Windows Workflow Foundation: Transactions</span></span>

<span data-ttu-id="8dead-762"><xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A?displayProperty=nameWithType>Metoda może teraz korzystać z programu Distributed Transaction Manager innego niż MSDTC, aby podwyższyć poziom transakcji.</span><span class="sxs-lookup"><span data-stu-id="8dead-762">The <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A?displayProperty=nameWithType> method can now use a distributed transaction manager other than MSDTC to promote the transaction.</span></span> <span data-ttu-id="8dead-763">W tym celu należy określić identyfikator GUID transakcji dla nowego <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%28System.Transactions.IPromotableSinglePhaseNotification%2CSystem.Guid%29?displayProperty=nameWithType> przeciążenia.</span><span class="sxs-lookup"><span data-stu-id="8dead-763">You do this by specifying a GUID transaction promoter identifier to the  new <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%28System.Transactions.IPromotableSinglePhaseNotification%2CSystem.Guid%29?displayProperty=nameWithType> overload .</span></span> <span data-ttu-id="8dead-764">W przypadku pomyślnego wykonania tej operacji istnieją ograniczenia dotyczące możliwości transakcji.</span><span class="sxs-lookup"><span data-stu-id="8dead-764">If this operation is successful, there are limitations placed on the capabilities of the transaction.</span></span> <span data-ttu-id="8dead-765">Po zapisaniu podwyższania poziomu usługi MSDTC następujące metody zgłaszają, <xref:System.Transactions.TransactionPromotionException> ponieważ te metody wymagają podwyższania poziomu do usługi MSDTC:</span><span class="sxs-lookup"><span data-stu-id="8dead-765">Once a non-MSDTC transaction promoter is enlisted, the following methods throw a <xref:System.Transactions.TransactionPromotionException> because these methods require promotion to MSDTC:</span></span>

- <xref:System.Transactions.Transaction.EnlistDurable%2A?displayProperty=nameWithType>

- <xref:System.Transactions.TransactionInterop.GetDtcTransaction%2A?displayProperty=nameWithType>

- <xref:System.Transactions.TransactionInterop.GetExportCookie%2A?displayProperty=nameWithType>

- <xref:System.Transactions.TransactionInterop.GetTransmitterPropagationToken%2A?displayProperty=nameWithType>

<span data-ttu-id="8dead-766">Po zapisaniu podwyższania poziomu usługi MSDTC należy go używać na potrzeby przyszłych trwałych rejestracji przy użyciu protokołów, które definiuje.</span><span class="sxs-lookup"><span data-stu-id="8dead-766">Once a non-MSDTC transaction promoter is enlisted, it must be used for future durable enlistments by using protocols that it defines.</span></span> <span data-ttu-id="8dead-767"><xref:System.Guid>Promotor transakcji można uzyskać przy użyciu <xref:System.Transactions.Transaction.PromoterType%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="8dead-767">The <xref:System.Guid> of the transaction promoter can be obtained by using the <xref:System.Transactions.Transaction.PromoterType%2A> property.</span></span> <span data-ttu-id="8dead-768">Gdy transakcja promuje, podwyższanie poziomu transakcji zapewnia <xref:System.Byte> tablicę, która reprezentuje podwyższony token.</span><span class="sxs-lookup"><span data-stu-id="8dead-768">When the transaction promotes, the transaction promoter provides a <xref:System.Byte> array that represents the promoted token.</span></span> <span data-ttu-id="8dead-769">Aplikacja może uzyskać podwyższony token dla transakcji, która nie jest podwyższana dla usługi MSDTC, za pomocą <xref:System.Transactions.Transaction.GetPromotedToken%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="8dead-769">An application can obtain the promoted token for a non-MSDTC promoted transaction with the <xref:System.Transactions.Transaction.GetPromotedToken%2A> method.</span></span>

<span data-ttu-id="8dead-770">Użytkownicy nowego <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%28System.Transactions.IPromotableSinglePhaseNotification%2CSystem.Guid%29?displayProperty=nameWithType> przeciążenia muszą wykonać określoną sekwencję wywołań, aby operacja podwyższania została zakończona pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="8dead-770">Users of the new <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%28System.Transactions.IPromotableSinglePhaseNotification%2CSystem.Guid%29?displayProperty=nameWithType> overload must follow a specific call sequence in order for the promotion operation to complete successfully.</span></span> <span data-ttu-id="8dead-771">Te reguły są udokumentowane w dokumentacji metody.</span><span class="sxs-lookup"><span data-stu-id="8dead-771">These rules are documented in the method's documentation.</span></span>

<a name="Profile461"></a>

### <a name="profiling"></a><span data-ttu-id="8dead-772">Profilowanie</span><span class="sxs-lookup"><span data-stu-id="8dead-772">Profiling</span></span>

<span data-ttu-id="8dead-773">Niezarządzany interfejs API profilowania został ulepszony w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="8dead-773">The unmanaged profiling API has been enhanced as follows:</span></span>

- <span data-ttu-id="8dead-774">Lepsza obsługa dostępu do plików PDB w interfejsie [ICorProfilerInfo7](../unmanaged-api/profiling/icorprofilerinfo7-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="8dead-774">Better support for accessing PDBs in the [ICorProfilerInfo7](../unmanaged-api/profiling/icorprofilerinfo7-interface.md) interface.</span></span>

  <span data-ttu-id="8dead-775">W ASP.NET Core staje się znacznie bardziej powszechny dla zestawów do skompilowania w pamięci przez Roslyn.</span><span class="sxs-lookup"><span data-stu-id="8dead-775">In ASP.NET Core, it is becoming much more common for assemblies to be compiled in-memory by Roslyn.</span></span> <span data-ttu-id="8dead-776">W przypadku deweloperów tworzących narzędzia profilowania oznacza to, że nie można już wyplików PDB, że na dysku mogły być serializowane historyczne.</span><span class="sxs-lookup"><span data-stu-id="8dead-776">For developers making profiling tools, this means that PDBs that historically were serialized on disk may no longer be present.</span></span> <span data-ttu-id="8dead-777">Narzędzia profilera często używają plików PDB do mapowania kodu z powrotem do wierszy źródłowych dla zadań, takich jak pokrycie kodu lub analiza wydajności linia po wierszu.</span><span class="sxs-lookup"><span data-stu-id="8dead-777">Profiler tools often use PDBs to map code back to source lines for tasks such as code coverage or line-by-line performance analysis.</span></span> <span data-ttu-id="8dead-778">Interfejs [ICorProfilerInfo7](../unmanaged-api/profiling/icorprofilerinfo7-interface.md) zawiera teraz dwie nowe metody, [ICorProfilerInfo7:: GetInMemorySymbolsLength](../unmanaged-api/profiling/icorprofilerinfo7-getinmemorysymbolslength-method.md) i [ICorProfilerInfo7:: ReadInMemorySymbols](../unmanaged-api/profiling/icorprofilerinfo7-readinmemorysymbols.md), aby udostępnić te narzędzia profilera z dostępem do danych PDB znajdujących się w pamięci za pomocą nowych interfejsów API, profiler może uzyskać zawartość pliku PDB w pamięci jako tablicę bajtową, a następnie przetworzyć je lub serializować na dysku.</span><span class="sxs-lookup"><span data-stu-id="8dead-778">The [ICorProfilerInfo7](../unmanaged-api/profiling/icorprofilerinfo7-interface.md) interface now includes two new methods, [ICorProfilerInfo7::GetInMemorySymbolsLength](../unmanaged-api/profiling/icorprofilerinfo7-getinmemorysymbolslength-method.md) and [ICorProfilerInfo7::ReadInMemorySymbols](../unmanaged-api/profiling/icorprofilerinfo7-readinmemorysymbols.md), to provide these profiler tools with access to the in-memory PDB data, By using the new APIs, a profiler can obtain the contents of an in-memory PDB as a byte array and then process it or serialize it to disk.</span></span>

- <span data-ttu-id="8dead-779">Lepsza Instrumentacja przy użyciu interfejsu ICorProfiler.</span><span class="sxs-lookup"><span data-stu-id="8dead-779">Better instrumentation with the ICorProfiler interface.</span></span>

  <span data-ttu-id="8dead-780">Program profilowający korzystający z `ICorProfiler` funkcji API ReJIT dla Instrumentacji dynamicznej może teraz modyfikować niektóre metadane.</span><span class="sxs-lookup"><span data-stu-id="8dead-780">Profilers that are using the `ICorProfiler` APIs ReJit functionality for dynamic instrumentation can now modify some metadata.</span></span> <span data-ttu-id="8dead-781">Wcześniej takie narzędzia mogły w dowolnej chwili instrumentować IL, ale metadane można modyfikować tylko w czasie ładowania modułu.</span><span class="sxs-lookup"><span data-stu-id="8dead-781">Previously such tools could instrument IL at any time, but metadata could only be modified at module load time.</span></span> <span data-ttu-id="8dead-782">Ponieważ IL odwołuje się do metadanych, ogranicza to typy instrumentacji, które mogą zostać wykonane.</span><span class="sxs-lookup"><span data-stu-id="8dead-782">Because IL refers to metadata, this limited the kinds of instrumentation that could be done.</span></span> <span data-ttu-id="8dead-783">Niektóre z tych limitów zostały zniesione przez dodanie metody [ICorProfilerInfo7:: ApplyMetaData](../unmanaged-api/profiling/icorprofilerinfo7-applymetadata-method.md) w celu obsługi podzbioru zmian metadanych po załadowaniu modułu, w szczególności przez dodanie nowych rekordów, `AssemblyRef` ,,, `TypeRef` `TypeSpec` `MemberRef` `MemberSpec` i `UserString` .</span><span class="sxs-lookup"><span data-stu-id="8dead-783">We have lifted some of those limits by adding the [ICorProfilerInfo7::ApplyMetaData](../unmanaged-api/profiling/icorprofilerinfo7-applymetadata-method.md) method to support a subset of metadata edits after the module loads, in particular by adding new `AssemblyRef`, `TypeRef`, `TypeSpec`, `MemberRef`, `MemberSpec`, and `UserString` records.</span></span> <span data-ttu-id="8dead-784">Ta zmiana zapewnia znacznie szerszy zakres Instrumentacji na bieżąco.</span><span class="sxs-lookup"><span data-stu-id="8dead-784">This change makes a much broader range of on-the-fly instrumentation possible.</span></span>

<a name="NGEN461"></a>

### <a name="native-image-generator-ngen-pdbs"></a><span data-ttu-id="8dead-785">Generator obrazu natywnego (NGEN) plików PDB</span><span class="sxs-lookup"><span data-stu-id="8dead-785">Native Image Generator (NGEN) PDBs</span></span>

<span data-ttu-id="8dead-786">Śledzenie zdarzeń między maszynami umożliwia klientom profilowanie programu na maszynie A i przeglądanie danych profilowania przy użyciu mapowania linii źródłowej na komputerze B. używając poprzednich wersji .NET Framework, użytkownik skopiuje wszystkie moduły i obrazy natywne z profilowanej maszyny do maszyny analizy zawierającej plik PDB IL, aby utworzyć mapowanie źródła do kodu natywnego.</span><span class="sxs-lookup"><span data-stu-id="8dead-786">Cross-machine event tracing allows customers to profile a program on Machine A and look at the profiling data with source line mapping on Machine B. Using previous versions of .NET Framework, the user would copy all the modules and native images from the profiled machine to the analysis machine that contains the IL PDB to create the source-to-native mapping.</span></span> <span data-ttu-id="8dead-787">Chociaż ten proces może działać prawidłowo, gdy pliki są stosunkowo małe, na przykład w przypadku aplikacji na telefon, pliki mogą być bardzo duże w systemach komputerowych i wymagają znaczącego czasu na skopiowanie.</span><span class="sxs-lookup"><span data-stu-id="8dead-787">While this process may work well when the files are relatively small, such as for phone applications, the files can be very large on desktop systems and require significant time to copy.</span></span>

<span data-ttu-id="8dead-788">Za pomocą narzędzia NGen plików PDB można utworzyć plik PDB zawierający mapowanie IL-to-native bez zależności w pliku PDB IL.</span><span class="sxs-lookup"><span data-stu-id="8dead-788">With Ngen PDBs, NGen can create a PDB that contains the IL-to-native mapping without a dependency on the IL PDB.</span></span> <span data-ttu-id="8dead-789">W naszym scenariuszu śledzenia zdarzeń między maszynami konieczne jest skopiowanie pliku PDB obrazu natywnego, który jest generowany przez maszynę A na maszynę B i użycie [interfejsów API dostępu do interfejsu debugowania](/visualstudio/debugger/debug-interface-access/debug-interface-access-sdk-reference) w celu odczytania mapowania Source-to-Il w pliku PDB języka IL oraz mapowania Il-to-native obrazu macierzystego.</span><span class="sxs-lookup"><span data-stu-id="8dead-789">In our cross-machine event tracing scenario, all that is needed is to copy the native image PDB that is generated by Machine A to Machine B and to use [Debug Interface Access APIs](/visualstudio/debugger/debug-interface-access/debug-interface-access-sdk-reference) to read the IL PDB's source-to-IL mapping and the native image PDB's IL-to-native mapping.</span></span> <span data-ttu-id="8dead-790">Połączenie obu mapowań zapewnia mapowanie między źródłami.</span><span class="sxs-lookup"><span data-stu-id="8dead-790">Combining both mappings provides a source-to-native mapping.</span></span> <span data-ttu-id="8dead-791">Ponieważ plik PDB obrazu natywnego jest znacznie mniejszy niż wszystkie moduły i obrazy natywne, proces kopiowania z maszyny A na maszynę B jest znacznie szybszy.</span><span class="sxs-lookup"><span data-stu-id="8dead-791">Since the native image PDB is much smaller than all the modules and native images, the process of copying from Machine A to Machine B is much faster.</span></span>

<a name="v46"></a>

## <a name="whats-new-in-net-2015"></a><span data-ttu-id="8dead-792">Co nowego w programie .NET 2015</span><span class="sxs-lookup"><span data-stu-id="8dead-792">What's new in .NET 2015</span></span>

<span data-ttu-id="8dead-793">W programie .NET 2015 wprowadzono .NET Framework 4,6 i .NET Core.</span><span class="sxs-lookup"><span data-stu-id="8dead-793">.NET 2015 introduces .NET Framework 4.6 and .NET Core.</span></span> <span data-ttu-id="8dead-794">Niektóre nowe funkcje mają zastosowanie do obu i innych funkcji, które są specyficzne dla .NET Framework 4,6 lub .NET Core.</span><span class="sxs-lookup"><span data-stu-id="8dead-794">Some new features apply to both, and other features are specific to .NET Framework 4.6 or .NET Core.</span></span>

- <span data-ttu-id="8dead-795">**ASP.NET Core**</span><span class="sxs-lookup"><span data-stu-id="8dead-795">**ASP.NET Core**</span></span>

  <span data-ttu-id="8dead-796">Platforma .NET 2015 zawiera ASP.NET Core, która jest implementacją środowiska .NET Lean do kompilowania nowoczesnych aplikacji opartych na chmurze.</span><span class="sxs-lookup"><span data-stu-id="8dead-796">.NET 2015 includes ASP.NET Core, which is a lean .NET implementation for building modern cloud-based apps.</span></span> <span data-ttu-id="8dead-797">ASP.NET Core jest modułowy, dzięki czemu można uwzględnić tylko te funkcje, które są potrzebne w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-797">ASP.NET Core is modular so you can include only those features that are needed in your application.</span></span> <span data-ttu-id="8dead-798">Mogą być hostowane w usługach IIS lub samodzielny w procesie niestandardowym i można uruchamiać aplikacje z różnymi wersjami .NET Framework na tym samym serwerze.</span><span class="sxs-lookup"><span data-stu-id="8dead-798">It can be hosted on IIS or self-hosted in a custom process, and you can run apps with different versions of the .NET Framework on the same server.</span></span> <span data-ttu-id="8dead-799">Obejmuje nowy system konfiguracji środowiska, który jest przeznaczony do wdrożenia w chmurze.</span><span class="sxs-lookup"><span data-stu-id="8dead-799">It includes a new environment configuration system that is designed for cloud deployment.</span></span>

  <span data-ttu-id="8dead-800">MVC, Web API i Web Pages są ujednolicone w pojedynczą strukturę o nazwie MVC 6.</span><span class="sxs-lookup"><span data-stu-id="8dead-800">MVC, Web API, and Web Pages are unified into a single framework called MVC 6.</span></span> <span data-ttu-id="8dead-801">Tworzysz ASP.NET Core aplikacje za poorednictwem narzędzi w programie Visual Studio 2015 lub nowszym.</span><span class="sxs-lookup"><span data-stu-id="8dead-801">You build ASP.NET Core apps through tools in Visual Studio 2015 or later.</span></span> <span data-ttu-id="8dead-802">Twoje istniejące aplikacje będą działały na nowym .NET Framework; Jednak w przypadku kompilowania aplikacji używającej MVC 6 lub sygnalizującego 3 należy użyć systemu projektu w programie Visual Studio 2015 lub nowszym.</span><span class="sxs-lookup"><span data-stu-id="8dead-802">Your existing applications will work on the new .NET Framework; however to build an app that uses MVC 6 or SignalR 3, you must use the project system in Visual Studio 2015 or later.</span></span>

  <span data-ttu-id="8dead-803">Aby uzyskać więcej informacji, zobacz [ASP.NET Core](/aspnet/core/).</span><span class="sxs-lookup"><span data-stu-id="8dead-803">For information, see [ASP.NET Core](/aspnet/core/).</span></span>

- <span data-ttu-id="8dead-804">**Aktualizacje ASP.NET**</span><span class="sxs-lookup"><span data-stu-id="8dead-804">**ASP.NET Updates**</span></span>

  - <span data-ttu-id="8dead-805">**Interfejs API oparty na zadaniach dla opróżniania odpowiedzi asynchronicznej**</span><span class="sxs-lookup"><span data-stu-id="8dead-805">**Task-based API for Asynchronous Response Flushing**</span></span>

    <span data-ttu-id="8dead-806">ASP.NET teraz udostępnia prosty interfejs API oparty na zadaniach do opróżniania odpowiedzi asynchronicznych, <xref:System.Web.HttpResponse.FlushAsync%2A?displayProperty=nameWithType> który umożliwia asynchroniczne opróżnianie odpowiedzi przy użyciu `async/await` obsługi języka.</span><span class="sxs-lookup"><span data-stu-id="8dead-806">ASP.NET now provides a simple task-based API for asynchronous response flushing, <xref:System.Web.HttpResponse.FlushAsync%2A?displayProperty=nameWithType>, that allows responses to be flushed asynchronously by using your language's `async/await` support.</span></span>

  - <span data-ttu-id="8dead-807">**Powiązanie modelu obsługuje metody zwracające zadania**</span><span class="sxs-lookup"><span data-stu-id="8dead-807">**Model binding supports task-returning methods**</span></span>

    <span data-ttu-id="8dead-808">W .NET Framework 4,5 ASP.NET dodano funkcję powiązania modelu, która umożliwiła rozszerzalne podejście ukierunkowane na CRUD operacji na danych na stronach formularzy sieci Web i w kontrolkach użytkownika.</span><span class="sxs-lookup"><span data-stu-id="8dead-808">In .NET Framework 4.5, ASP.NET added the Model Binding feature that enabled an extensible, code-focused approach to CRUD-based data operations in Web Forms pages and user controls.</span></span> <span data-ttu-id="8dead-809">System powiązań modelu obsługuje teraz <xref:System.Threading.Tasks.Task> zwracające metody powiązań modelu.</span><span class="sxs-lookup"><span data-stu-id="8dead-809">The Model Binding system now supports <xref:System.Threading.Tasks.Task>-returning model binding methods.</span></span> <span data-ttu-id="8dead-810">Ta funkcja umożliwia deweloperom formularzy sieci Web uzyskanie korzyści z skalowalności asynchronicznej przy użyciu systemu powiązań danych w przypadku używania nowszych wersji programu ORMs, w tym Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="8dead-810">This feature allows Web Forms developers to get the scalability benefits of async with the ease of the data-binding system when using newer versions of ORMs, including the Entity Framework.</span></span>

    <span data-ttu-id="8dead-811">Powiązanie modelu asynchronicznego jest kontrolowane przez `aspnet:EnableAsyncModelBinding` ustawienie konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="8dead-811">Async model binding is controlled by the `aspnet:EnableAsyncModelBinding` configuration setting.</span></span>

    ```xml
    <appSettings>
        <add key=" aspnet:EnableAsyncModelBinding" value="true|false" />
    </appSettings>
    ```

    <span data-ttu-id="8dead-812">W przypadku aplikacji docelowych .NET Framework 4,6 wartość domyślna to `true` .</span><span class="sxs-lookup"><span data-stu-id="8dead-812">On apps the target .NET Framework 4.6, it defaults to `true`.</span></span> <span data-ttu-id="8dead-813">W przypadku aplikacji uruchomionych na .NET Framework 4,6, które są przeznaczone dla starszej wersji .NET Framework, jest to `false` domyślnie.</span><span class="sxs-lookup"><span data-stu-id="8dead-813">On apps running on .NET Framework 4.6 that target an earlier version of .NET Framework, it is `false` by default.</span></span> <span data-ttu-id="8dead-814">Można ją włączyć, ustawiając ustawienie konfiguracja na `true` .</span><span class="sxs-lookup"><span data-stu-id="8dead-814">It can be enabled by setting the configuration setting to `true`.</span></span>

  - <span data-ttu-id="8dead-815">**Obsługa protokołu HTTP/2 (system Windows 10)**</span><span class="sxs-lookup"><span data-stu-id="8dead-815">**HTTP/2 Support (Windows 10)**</span></span>

    <span data-ttu-id="8dead-816">[Http/2](https://www.wikipedia.org/wiki/HTTP/2) to nowa wersja protokołu HTTP, która zapewnia znacznie lepsze wykorzystanie połączenia (mniejszą liczbę operacji rundy między klientem a serwerem), co powoduje załadowanie strony sieci Web o mniejszej opóźnieniu dla użytkowników.</span><span class="sxs-lookup"><span data-stu-id="8dead-816">[HTTP/2](https://www.wikipedia.org/wiki/HTTP/2) is a new version of the HTTP protocol that provides much better connection utilization (fewer round-trips between client and server), resulting in lower latency web page loading for users.</span></span>  <span data-ttu-id="8dead-817">Strony sieci Web (w przeciwieństwie do usług) korzystają z protokołu HTTP/2, ponieważ protokół optymalizuje dla wielu artefaktów, które są żądane w ramach jednego środowiska.</span><span class="sxs-lookup"><span data-stu-id="8dead-817">Web pages (as opposed to services) benefit the most from HTTP/2, since the protocol optimizes for multiple artifacts being requested as part of a single experience.</span></span> <span data-ttu-id="8dead-818">Obsługa protokołu HTTP/2 została dodana do ASP.NET w .NET Framework 4,6.</span><span class="sxs-lookup"><span data-stu-id="8dead-818">HTTP/2 support has been added to ASP.NET in .NET Framework 4.6.</span></span> <span data-ttu-id="8dead-819">Ponieważ funkcjonalność sieci istnieje w wielu warstwach, w systemie Windows w usługach IIS i w programie ASP.NET są wymagane nowe funkcje, które umożliwiają włączenie protokołu HTTP/2.</span><span class="sxs-lookup"><span data-stu-id="8dead-819">Because networking functionality exists at multiple layers, new features were required in Windows, in IIS, and in ASP.NET to enable HTTP/2.</span></span> <span data-ttu-id="8dead-820">Aby używać protokołu HTTP/2 z usługą ASP.NET, musi być uruchomiony system Windows 10.</span><span class="sxs-lookup"><span data-stu-id="8dead-820">You must be running on Windows 10 to use HTTP/2 with ASP.NET.</span></span>

    <span data-ttu-id="8dead-821">Protokół HTTP/2 jest również obsługiwany i domyślnie włączony w przypadku aplikacji z systemem Windows 10 platforma uniwersalna systemu Windows (platformy UWP), które używają <xref:System.Net.Http.HttpClient?displayProperty=nameWithType> interfejsu API.</span><span class="sxs-lookup"><span data-stu-id="8dead-821">HTTP/2 is also supported and on by default for Windows 10 Universal Windows Platform (UWP) apps that use the <xref:System.Net.Http.HttpClient?displayProperty=nameWithType> API.</span></span>

    <span data-ttu-id="8dead-822">Aby zapewnić możliwość korzystania z funkcji [PUSH_PROMISE](https://httpwg.github.io/http2-spec/#PUSH_PROMISE) w aplikacjach ASP.NET, Nowa metoda z dwoma przeciążeń <xref:System.Web.HttpResponse.PushPromise%28System.String%29> i <xref:System.Web.HttpResponse.PushPromise%28System.String%2CSystem.String%2CSystem.Collections.Specialized.NameValueCollection%29> została dodana do <xref:System.Web.HttpResponse> klasy.</span><span class="sxs-lookup"><span data-stu-id="8dead-822">In order to provide a way to use the [PUSH_PROMISE](https://httpwg.github.io/http2-spec/#PUSH_PROMISE) feature in ASP.NET applications, a new method with two overloads, <xref:System.Web.HttpResponse.PushPromise%28System.String%29> and <xref:System.Web.HttpResponse.PushPromise%28System.String%2CSystem.String%2CSystem.Collections.Specialized.NameValueCollection%29>, has been added to the <xref:System.Web.HttpResponse> class.</span></span>

    > [!NOTE]
    > <span data-ttu-id="8dead-823">Mimo że ASP.NET Core obsługuje protokół HTTP/2, obsługa funkcji WYPYCHANia PROMISe nie została jeszcze dodana.</span><span class="sxs-lookup"><span data-stu-id="8dead-823">While ASP.NET Core supports HTTP/2, support for the PUSH PROMISE feature has not yet been added.</span></span>

    <span data-ttu-id="8dead-824">Przeglądarka i serwer sieci Web (usługi IIS w systemie Windows) wykonują wszystkie prace.</span><span class="sxs-lookup"><span data-stu-id="8dead-824">The browser and the web server (IIS on Windows) do all the work.</span></span> <span data-ttu-id="8dead-825">Nie trzeba wykonywać żadnych dużych ponoszenia zawartości dla użytkowników.</span><span class="sxs-lookup"><span data-stu-id="8dead-825">You don't have to do any heavy-lifting for your users.</span></span>

    <span data-ttu-id="8dead-826">Większość [głównych przeglądarek obsługuje protokół HTTP/2](https://www.wikipedia.org/wiki/HTTP/2), dlatego prawdopodobnie użytkownicy będą korzystać z obsługi protokołu HTTP/2, jeśli serwer ten obsługuje.</span><span class="sxs-lookup"><span data-stu-id="8dead-826">Most of the [major browsers support HTTP/2](https://www.wikipedia.org/wiki/HTTP/2), so it's likely that your users will benefit from HTTP/2 support if your server supports it.</span></span>

  - <span data-ttu-id="8dead-827">**Obsługa protokołu powiązania tokenu**</span><span class="sxs-lookup"><span data-stu-id="8dead-827">**Support for the Token Binding Protocol**</span></span>

    <span data-ttu-id="8dead-828">Firma Microsoft i Google współpracują nad nowym podejściem do uwierzytelniania, nazywanym [protokołem powiązania tokenu](https://github.com/TokenBinding/Internet-Drafts).</span><span class="sxs-lookup"><span data-stu-id="8dead-828">Microsoft and Google have been collaborating on a new approach to authentication, called the [Token Binding Protocol](https://github.com/TokenBinding/Internet-Drafts).</span></span> <span data-ttu-id="8dead-829">Założeniem jest to, że tokeny uwierzytelniania (w pamięci podręcznej przeglądarki) mogą być skradzione i używane przez przestępców w celu uzyskania dostępu do bezpiecznych zasobów (np. konta bankowego) bez konieczności podawania hasła lub wszelkich innych uprzywilejowanych informacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-829">The premise is that authentication tokens (in your browser cache) can be stolen and used by criminals to access otherwise secure resources (for example, your bank account) without requiring your password or any other privileged knowledge.</span></span> <span data-ttu-id="8dead-830">Nowy protokół ma na celu ograniczenie tego problemu.</span><span class="sxs-lookup"><span data-stu-id="8dead-830">The new protocol aims to mitigate this problem.</span></span>

    <span data-ttu-id="8dead-831">Protokół powiązania tokenu zostanie wdrożony w systemie Windows 10 jako funkcja przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="8dead-831">The Token Binding Protocol will be implemented in Windows 10 as a browser feature.</span></span> <span data-ttu-id="8dead-832">Aplikacje ASP.NET będą uczestniczyć w protokole, dzięki czemu tokeny uwierzytelniania są weryfikowane jako wiarygodne.</span><span class="sxs-lookup"><span data-stu-id="8dead-832">ASP.NET apps will participate in the protocol, so that authentication tokens are validated to be legitimate.</span></span> <span data-ttu-id="8dead-833">Klient i implementacje serwera określają kompleksową ochronę określoną przez protokół.</span><span class="sxs-lookup"><span data-stu-id="8dead-833">The client and the server implementations establish the end-to-end protection specified by the protocol.</span></span>

  - <span data-ttu-id="8dead-834">**Losowe algorytmy wyznaczania wartości ciągów**</span><span class="sxs-lookup"><span data-stu-id="8dead-834">**Randomized string hash algorithms**</span></span>

    <span data-ttu-id="8dead-835">.NET Framework 4,5 wprowadził [losowy algorytm wyznaczania wartości skrótu](../configure-apps/file-schema/runtime/userandomizedstringhashalgorithm-element.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-835">.NET Framework 4.5 introduced a [randomized string hash algorithm](../configure-apps/file-schema/runtime/userandomizedstringhashalgorithm-element.md).</span></span> <span data-ttu-id="8dead-836">Nie jest to jednak obsługiwane przez ASP.NET z powodu niektórych funkcji ASP.NET zależnych od stabilnego kodu skrótu.</span><span class="sxs-lookup"><span data-stu-id="8dead-836">However, it was not supported by ASP.NET because of some ASP.NET features depended on a stable hash code.</span></span> <span data-ttu-id="8dead-837">W .NET Framework 4,6 są teraz obsługiwane losowe algorytmy wyznaczania wartości ciągów.</span><span class="sxs-lookup"><span data-stu-id="8dead-837">In .NET Framework 4.6, randomized string hash algorithms are now supported.</span></span> <span data-ttu-id="8dead-838">Aby włączyć tę funkcję, użyj `aspnet:UseRandomizedStringHashAlgorithm` Ustawienia konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="8dead-838">To enable this feature, use the `aspnet:UseRandomizedStringHashAlgorithm` config setting.</span></span>

    ```xml
    <appSettings>
        <add key="aspnet:UseRandomizedStringHashAlgorithm" value="true|false" />
    </appSettings>
    ```

- <span data-ttu-id="8dead-839">**ADO.NET**</span><span class="sxs-lookup"><span data-stu-id="8dead-839">**ADO.NET**</span></span>

  <span data-ttu-id="8dead-840">Obiekt ADO .NET obsługuje teraz funkcję Always Encrypted dostępną w SQL Server 2016 Community Technology Preview 2 (CTP2).</span><span class="sxs-lookup"><span data-stu-id="8dead-840">ADO .NET now supports the Always Encrypted feature available in SQL Server 2016 Community Technology Preview 2 (CTP2).</span></span> <span data-ttu-id="8dead-841">Za pomocą Always Encrypted SQL Server mogą wykonywać operacje na zaszyfrowanych danych, a wszystkie klucze szyfrowania znajdują się w aplikacji wewnątrz zaufanego środowiska klienta, a nie na serwerze.</span><span class="sxs-lookup"><span data-stu-id="8dead-841">With Always Encrypted, SQL Server can perform operations on encrypted data, and best of all the encryption key resides with the application inside the customer's trusted environment and not on the server.</span></span> <span data-ttu-id="8dead-842">Always Encrypted zabezpiecza dane klientów, dzięki czemu przetwarzający nie mają dostępu do danych w postaci zwykłego tekstu.</span><span class="sxs-lookup"><span data-stu-id="8dead-842">Always Encrypted secures customer data so DBAs do not have access to plain text data.</span></span> <span data-ttu-id="8dead-843">Szyfrowanie i odszyfrowywanie danych odbywa się w sposób przezroczysty na poziomie sterownika, minimalizując zmiany, które należy wprowadzić w istniejących aplikacjach.</span><span class="sxs-lookup"><span data-stu-id="8dead-843">Encryption and decryption of data happens transparently at the driver level, minimizing changes that have to be made to existing applications.</span></span> <span data-ttu-id="8dead-844">Aby uzyskać szczegółowe informacje, zobacz [Always Encrypted (aparat bazy danych)](/sql/relational-databases/security/encryption/always-encrypted-database-engine) i [Always Encrypted (Programowanie klienta)](/sql/relational-databases/security/encryption/always-encrypted-client-development).</span><span class="sxs-lookup"><span data-stu-id="8dead-844">For details, see [Always Encrypted (Database Engine)](/sql/relational-databases/security/encryption/always-encrypted-database-engine) and [Always Encrypted (client development)](/sql/relational-databases/security/encryption/always-encrypted-client-development).</span></span>

- <span data-ttu-id="8dead-845">**64-bitowy kompilator JIT dla kodu zarządzanego**</span><span class="sxs-lookup"><span data-stu-id="8dead-845">**64-bit JIT Compiler for managed code**</span></span>

  <span data-ttu-id="8dead-846">.NET Framework 4,6 zawiera nową wersję 64-bitowego kompilatora JIT (pierwotnie kod o nazwie RyuJIT).</span><span class="sxs-lookup"><span data-stu-id="8dead-846">.NET Framework 4.6 features a new version of the 64-bit JIT compiler (originally code-named RyuJIT).</span></span> <span data-ttu-id="8dead-847">Nowy kompilator 64-bitowy zapewnia znaczące ulepszenia wydajności w porównaniu do starszego, 64-bitowego kompilatora JIT.</span><span class="sxs-lookup"><span data-stu-id="8dead-847">The new 64-bit compiler provides significant performance improvements over the older 64-bit JIT compiler.</span></span> <span data-ttu-id="8dead-848">Nowy kompilator 64-bitowy jest włączony dla procesów 64-bitowych uruchomionych w oparciu o .NET Framework 4,6.</span><span class="sxs-lookup"><span data-stu-id="8dead-848">The new 64-bit compiler is enabled for 64-bit processes running on top of .NET Framework 4.6.</span></span> <span data-ttu-id="8dead-849">Aplikacja będzie działać w procesie 64-bitowym, jeśli zostanie skompilowana jako 64-bit lub AnyCPU i uruchomiona w 64-bitowym systemie operacyjnym.</span><span class="sxs-lookup"><span data-stu-id="8dead-849">Your app will run in a 64-bit process if it is compiled as 64-bit or AnyCPU and is running on a 64-bit operating system.</span></span> <span data-ttu-id="8dead-850">Należy zachować ostrożność, aby przechodzenie do nowego kompilatora było możliwie przejrzyste. zmiany w zachowaniu są możliwe.</span><span class="sxs-lookup"><span data-stu-id="8dead-850">While care has been taken to make the transition to the new compiler as transparent as possible, changes in behavior are possible.</span></span>

  <span data-ttu-id="8dead-851">Nowy kompilator 64-bitowy JIT zawiera również funkcje SIMD przyspieszania sprzętowego w połączeniu z typami z obsługą SIMD w <xref:System.Numerics> przestrzeni nazw, co może przynieść dobre ulepszenia wydajności.</span><span class="sxs-lookup"><span data-stu-id="8dead-851">The new 64-bit JIT compiler also includes hardware SIMD acceleration features when coupled with SIMD-enabled types in the <xref:System.Numerics> namespace, which can yield good performance improvements.</span></span>

- <span data-ttu-id="8dead-852">**Udoskonalenia modułu ładującego zestawy**</span><span class="sxs-lookup"><span data-stu-id="8dead-852">**Assembly loader improvements**</span></span>

  <span data-ttu-id="8dead-853">Program ładujący zestawy zużywa teraz pamięć bardziej wydajnie, zwalniając zestawy IL po załadowaniu odpowiedniego obrazu NGEN.</span><span class="sxs-lookup"><span data-stu-id="8dead-853">The assembly loader now uses memory more efficiently by unloading IL assemblies after a corresponding NGEN image is loaded.</span></span> <span data-ttu-id="8dead-854">Ta zmiana zmniejsza ilość pamięci wirtualnej, co jest szczególnie przydatne w przypadku dużych aplikacji 32-bitowych (takich jak Visual Studio), a także umożliwia zapisanie pamięci fizycznej.</span><span class="sxs-lookup"><span data-stu-id="8dead-854">This change decreases virtual memory, which is particularly beneficial for large 32-bit apps (such as Visual Studio), and also saves physical memory.</span></span>

- <span data-ttu-id="8dead-855">**Zmiany w bibliotece klas podstawowych**</span><span class="sxs-lookup"><span data-stu-id="8dead-855">**Base class library changes**</span></span>

  <span data-ttu-id="8dead-856">Dodano wiele nowych interfejsów API do .NET Framework 4,6, aby umożliwić korzystanie z kluczowych scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="8dead-856">Many new APIs have been added around to .NET Framework 4.6 to enable key scenarios.</span></span> <span data-ttu-id="8dead-857">Należą do nich następujące zmiany i Dodatki:</span><span class="sxs-lookup"><span data-stu-id="8dead-857">These include the following changes and additions:</span></span>

  - <span data-ttu-id="8dead-858">**\<T>Implementacje IReadOnlyCollection**</span><span class="sxs-lookup"><span data-stu-id="8dead-858">**IReadOnlyCollection\<T> implementations**</span></span>

    <span data-ttu-id="8dead-859">W przypadku dodatkowych kolekcji zaimplementowane <xref:System.Collections.Generic.IReadOnlyCollection%601> są takie jak <xref:System.Collections.Generic.Queue%601> i <xref:System.Collections.Generic.Stack%601> .</span><span class="sxs-lookup"><span data-stu-id="8dead-859">Additional collections implement <xref:System.Collections.Generic.IReadOnlyCollection%601> such as <xref:System.Collections.Generic.Queue%601> and <xref:System.Collections.Generic.Stack%601>.</span></span>

  - <span data-ttu-id="8dead-860">**CultureInfo. CurrentCulture i CultureInfo. CurrentUICulture**</span><span class="sxs-lookup"><span data-stu-id="8dead-860">**CultureInfo.CurrentCulture and CultureInfo.CurrentUICulture**</span></span>

    <span data-ttu-id="8dead-861"><xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType>Właściwości i <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> są teraz do odczytu i zapisu, a nie tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="8dead-861">The <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> and <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> properties are now read-write rather than read-only.</span></span> <span data-ttu-id="8dead-862">W przypadku przypisywania nowego <xref:System.Globalization.CultureInfo> obiektu do tych właściwości, bieżąca kultura wątku zdefiniowana przez `Thread.CurrentThread.CurrentCulture` Właściwość i kulturę wątku interfejsu użytkownika, która jest definiowana przez `Thread.CurrentThread.CurrentUICulture` właściwości, również zmienia się.</span><span class="sxs-lookup"><span data-stu-id="8dead-862">If you assign a new <xref:System.Globalization.CultureInfo> object to these properties, the current thread culture defined by the `Thread.CurrentThread.CurrentCulture` property and the current UI thread culture defined by the `Thread.CurrentThread.CurrentUICulture` properties also change.</span></span>

  - <span data-ttu-id="8dead-863">**Udoskonalenia do wyrzucania elementów bezużytecznych (GC)**</span><span class="sxs-lookup"><span data-stu-id="8dead-863">**Enhancements to garbage collection (GC)**</span></span>

    <span data-ttu-id="8dead-864"><xref:System.GC>Klasa zawiera teraz <xref:System.GC.TryStartNoGCRegion%2A> i <xref:System.GC.EndNoGCRegion%2A> metody, które umożliwiają niezezwalanie na wyrzucanie elementów bezużytecznych podczas wykonywania ścieżki krytycznej.</span><span class="sxs-lookup"><span data-stu-id="8dead-864">The <xref:System.GC> class now includes <xref:System.GC.TryStartNoGCRegion%2A> and <xref:System.GC.EndNoGCRegion%2A> methods that allow you to disallow garbage collection during the execution of a critical path.</span></span>

    <span data-ttu-id="8dead-865">Nowe Przeciążenie <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%2CSystem.Boolean%29?displayProperty=nameWithType> metody pozwala kontrolować, czy zarówno sterta małego obiektu, jak i sterta dużego obiektu są wycierane i kompaktowe.</span><span class="sxs-lookup"><span data-stu-id="8dead-865">A new overload of the <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%2CSystem.Boolean%29?displayProperty=nameWithType> method allows you to control whether both the small object heap and the large object heap are swept and compacted or swept only.</span></span>

  - <span data-ttu-id="8dead-866">**Typy obsługujące technikę SIMD**</span><span class="sxs-lookup"><span data-stu-id="8dead-866">**SIMD-enabled types**</span></span>

    <span data-ttu-id="8dead-867"><xref:System.Numerics>Przestrzeń nazw zawiera teraz wiele typów z obsługą SIMD, takich jak,,,,, <xref:System.Numerics.Matrix3x2> <xref:System.Numerics.Matrix4x4> <xref:System.Numerics.Plane> <xref:System.Numerics.Quaternion> <xref:System.Numerics.Vector2> <xref:System.Numerics.Vector3> i <xref:System.Numerics.Vector4> .</span><span class="sxs-lookup"><span data-stu-id="8dead-867">The <xref:System.Numerics> namespace now includes a number of SIMD-enabled types, such as <xref:System.Numerics.Matrix3x2>, <xref:System.Numerics.Matrix4x4>, <xref:System.Numerics.Plane>, <xref:System.Numerics.Quaternion>, <xref:System.Numerics.Vector2>, <xref:System.Numerics.Vector3>, and <xref:System.Numerics.Vector4>.</span></span>

    <span data-ttu-id="8dead-868">Ponieważ nowy kompilator 64-bitowy JIT obejmuje również funkcje sprzętowego przyspieszania SIMD, istnieją szczególnie znaczące ulepszenia wydajności w przypadku używania typów z obsługą SIMD z nowym, 64-bitowym kompilatorem JIT.</span><span class="sxs-lookup"><span data-stu-id="8dead-868">Because the new 64-bit JIT compiler also includes hardware SIMD acceleration features, there are especially significant performance improvements when using the SIMD-enabled types with the new 64-bit JIT compiler.</span></span>

  - <span data-ttu-id="8dead-869">**Aktualizacje kryptografii**</span><span class="sxs-lookup"><span data-stu-id="8dead-869">**Cryptography updates**</span></span>

    <span data-ttu-id="8dead-870"><xref:System.Security.Cryptography?displayProperty=nameWithType>Interfejs API jest aktualizowany do obsługi [interfejsów API kryptografii CNG systemu Windows](/windows/desktop/SecCNG/cng-reference).</span><span class="sxs-lookup"><span data-stu-id="8dead-870">The <xref:System.Security.Cryptography?displayProperty=nameWithType> API is being updated to support the [Windows CNG cryptography APIs](/windows/desktop/SecCNG/cng-reference).</span></span> <span data-ttu-id="8dead-871">Poprzednie wersje .NET Framework były używane całkowicie we [wcześniejszej wersji interfejsów API kryptografii systemu Windows](/windows/desktop/SecCrypto/cryptography-portal) jako podstawy <xref:System.Security.Cryptography?displayProperty=nameWithType> implementacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-871">Previous versions of the .NET Framework have relied entirely on an [earlier version of the Windows Cryptography APIs](/windows/desktop/SecCrypto/cryptography-portal) as the basis for the <xref:System.Security.Cryptography?displayProperty=nameWithType> implementation.</span></span> <span data-ttu-id="8dead-872">Mamy żądania obsługi interfejsu API CNG, ponieważ obsługuje on [nowoczesne algorytmy kryptografii](/windows/desktop/SecCNG/cng-features#suite-b-support), które są ważne w przypadku niektórych kategorii aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-872">We have had requests to support the CNG API, since it supports [modern cryptography algorithms](/windows/desktop/SecCNG/cng-features#suite-b-support), which are important for certain categories of apps.</span></span>

    <span data-ttu-id="8dead-873">.NET Framework 4,6 zawiera następujące nowe ulepszenia do obsługi interfejsów API kryptografii CNG systemu Windows:</span><span class="sxs-lookup"><span data-stu-id="8dead-873">.NET Framework 4.6 includes the following new enhancements to support the Windows CNG cryptography APIs:</span></span>

    - <span data-ttu-id="8dead-874">Zestaw metod rozszerzających certyfikaty x509 `System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPublicKey(System.Security.Cryptography.X509Certificates.X509Certificate2)` i `System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPrivateKey(System.Security.Cryptography.X509Certificates.X509Certificate2)` , które zwracają implementację opartą na protokole CNG, a nie implementację w trybie CAPI, gdy jest to możliwe.</span><span class="sxs-lookup"><span data-stu-id="8dead-874">A set of extension methods for X509 Certificates, `System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPublicKey(System.Security.Cryptography.X509Certificates.X509Certificate2)` and `System.Security.Cryptography.X509Certificates.RSACertificateExtensions.GetRSAPrivateKey(System.Security.Cryptography.X509Certificates.X509Certificate2)`, that return a CNG-based implementation rather than a CAPI-based implementation when possible.</span></span> <span data-ttu-id="8dead-875">(Niektóre karty inteligentne itp.) nadal wymagają użycia programu CAPI, a interfejsy API obsługują rezerwę.</span><span class="sxs-lookup"><span data-stu-id="8dead-875">(Some smartcards, etc., still require CAPI, and the APIs handle the fallback).</span></span>

    - <span data-ttu-id="8dead-876"><xref:System.Security.Cryptography.RSACng?displayProperty=nameWithType>Klasa, która zapewnia implementację algorytmu RSA w implementacji CNG.</span><span class="sxs-lookup"><span data-stu-id="8dead-876">The <xref:System.Security.Cryptography.RSACng?displayProperty=nameWithType> class, which provides a CNG implementation of the RSA algorithm.</span></span>

    - <span data-ttu-id="8dead-877">Udoskonalenia interfejsu API RSA, dzięki czemu typowe akcje nie wymagają już rzutowania.</span><span class="sxs-lookup"><span data-stu-id="8dead-877">Enhancements to the RSA API so that common actions no longer require casting.</span></span> <span data-ttu-id="8dead-878">Na przykład szyfrowanie danych przy użyciu <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> obiektu wymaga kodu, takiego jak następujące w poprzednich wersjach .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8dead-878">For example, encrypting data using an <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> object requires code like the following in previous versions of .NET Framework.</span></span>

      [!code-csharp[WhatsNew.Casting#1](~/samples/snippets/csharp/VS_Snippets_CLR/whatsnew.casting/cs/program.cs#1)]
      [!code-vb[WhatsNew.Casting#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/whatsnew.casting/vb/module1.vb#1)]

      <span data-ttu-id="8dead-879">Kod korzystający z nowych interfejsów API kryptografii w .NET Framework 4,6 może zostać zapisany w następujący sposób, aby uniknąć rzutowania.</span><span class="sxs-lookup"><span data-stu-id="8dead-879">Code that uses the new cryptography APIs in .NET Framework 4.6 can be rewritten as follows to avoid the cast.</span></span>

      [!code-csharp[WhatsNew.Casting#2](~/samples/snippets/csharp/VS_Snippets_CLR/whatsnew.casting/cs/program.cs#2)]
      [!code-vb[WhatsNew.Casting#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/whatsnew.casting/vb/module1.vb#2)]

  - <span data-ttu-id="8dead-880">**Obsługa konwersji dat i godzin do lub z czasu systemu UNIX**</span><span class="sxs-lookup"><span data-stu-id="8dead-880">**Support for converting dates and times to or from Unix time**</span></span>

    <span data-ttu-id="8dead-881">Do struktury dodano następujące nowe metody <xref:System.DateTimeOffset> obsługi konwersji wartości daty i godziny do lub z czasu systemu UNIX:</span><span class="sxs-lookup"><span data-stu-id="8dead-881">The following new methods have been added to the <xref:System.DateTimeOffset> structure to support converting date and time values to or from Unix time:</span></span>

    - <xref:System.DateTimeOffset.FromUnixTimeSeconds%2A?displayProperty=nameWithType>

    - <xref:System.DateTimeOffset.FromUnixTimeMilliseconds%2A?displayProperty=nameWithType>

    - <xref:System.DateTimeOffset.ToUnixTimeSeconds%2A?displayProperty=nameWithType>

    - <xref:System.DateTimeOffset.ToUnixTimeMilliseconds%2A?displayProperty=nameWithType>

  - <span data-ttu-id="8dead-882">**Przełączniki zgodności**</span><span class="sxs-lookup"><span data-stu-id="8dead-882">**Compatibility switches**</span></span>

    <span data-ttu-id="8dead-883"><xref:System.AppContext>Klasa dodaje nową funkcję zgodności, która umożliwia autorom biblioteki zapewnienie jednolitego mechanizmu rezygnacji dla nowych funkcji dla swoich użytkowników.</span><span class="sxs-lookup"><span data-stu-id="8dead-883">The <xref:System.AppContext> class adds a new compatibility feature that enables library writers to provide a uniform opt-out mechanism for new functionality for their users.</span></span> <span data-ttu-id="8dead-884">Ustanawia luźno powiązane kontrakt między składnikami w celu przekazywania żądania rezygnacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-884">It establishes a loosely coupled contract between components in order to communicate an opt-out request.</span></span> <span data-ttu-id="8dead-885">Ta funkcja jest zwykle ważna w przypadku zmiany istniejącej funkcji.</span><span class="sxs-lookup"><span data-stu-id="8dead-885">This capability is typically important when a change is made to existing functionality.</span></span> <span data-ttu-id="8dead-886">Z drugiej strony istnieje już niejawny wybór dla nowych funkcji.</span><span class="sxs-lookup"><span data-stu-id="8dead-886">Conversely, there is already an implicit opt-in for new functionality.</span></span>

    <span data-ttu-id="8dead-887">W programie <xref:System.AppContext> biblioteki definiują i uwidaczniają przełączniki zgodności, podczas gdy kod, który zależy od nich, mogą ustawiać te przełączniki na wpływ na zachowanie biblioteki.</span><span class="sxs-lookup"><span data-stu-id="8dead-887">With <xref:System.AppContext>, libraries define and expose compatibility switches, while code that depends on them can set those switches to affect the library behavior.</span></span> <span data-ttu-id="8dead-888">Domyślnie biblioteki udostępniają nowe funkcje i zmieniają je (to oznacza, że zapewniają poprzednie funkcje), jeśli przełącznik jest ustawiony.</span><span class="sxs-lookup"><span data-stu-id="8dead-888">By default, libraries provide the new functionality, and they only alter it (that is, they provide the previous functionality) if the switch is set.</span></span>

    <span data-ttu-id="8dead-889">Aplikacja (lub biblioteka) może zadeklarować wartość przełącznika (zawsze <xref:System.Boolean> wartość), który definiuje Biblioteka zależna.</span><span class="sxs-lookup"><span data-stu-id="8dead-889">An application (or a library) can declare the value of a switch (which is always a <xref:System.Boolean> value) that a dependent library defines.</span></span> <span data-ttu-id="8dead-890">Przełącznik jest zawsze niejawnie `false` .</span><span class="sxs-lookup"><span data-stu-id="8dead-890">The switch is always implicitly `false`.</span></span> <span data-ttu-id="8dead-891">Ustawienie przełącznika w taki sposób, aby włączyć `true` go.</span><span class="sxs-lookup"><span data-stu-id="8dead-891">Setting the switch to `true` enables it.</span></span> <span data-ttu-id="8dead-892">Jawne ustawienie przełącznika `false` zapewnia nowe zachowanie.</span><span class="sxs-lookup"><span data-stu-id="8dead-892">Explicitly setting the switch to `false` provides the new behavior.</span></span>

    ```csharp
    AppContext.SetSwitch("Switch.AmazingLib.ThrowOnException", true);
    ```

    ```vb
    AppContext.SetSwitch("Switch.AmazingLib.ThrowOnException", True)
    ```

    <span data-ttu-id="8dead-893">Biblioteka musi sprawdzić, czy konsument zadeklaruje wartość przełącznika, a następnie odpowiednio wykonać odpowiednie działania.</span><span class="sxs-lookup"><span data-stu-id="8dead-893">The library must check if a consumer has declared the value of the switch and then appropriately act on it.</span></span>

    ```csharp
    if (!AppContext.TryGetSwitch("Switch.AmazingLib.ThrowOnException", out shouldThrow))
    {
        // This is the case where the switch value was not set by the application.
        // The library can choose to get the value of shouldThrow by other means.
        // If no overrides nor default values are specified, the value should be 'false'.
        // A false value implies the latest behavior.
    }

    // The library can use the value of shouldThrow to throw exceptions or not.
    if (shouldThrow)
    {
        // old code
    }
    else
    {
        // new code
    }
    ```

    ```vb
    If Not AppContext.TryGetSwitch("Switch.AmazingLib.ThrowOnException", shouldThrow) Then
        ' This is the case where the switch value was not set by the application.
        ' The library can choose to get the value of shouldThrow by other means.
        ' If no overrides nor default values are specified, the value should be 'false'.
        ' A false value implies the latest behavior.
    End If

    ' The library can use the value of shouldThrow to throw exceptions or not.
    If shouldThrow Then
        ' old code
    Else
        ' new code
    End If
    ```

    <span data-ttu-id="8dead-894">Korzystne jest użycie spójnego formatu dla przełączników, ponieważ są one formalnym kontraktem udostępnianym przez bibliotekę.</span><span class="sxs-lookup"><span data-stu-id="8dead-894">It's beneficial to use a consistent format for switches, since they are a formal contract exposed by a library.</span></span> <span data-ttu-id="8dead-895">Poniżej przedstawiono dwa oczywiste formaty.</span><span class="sxs-lookup"><span data-stu-id="8dead-895">The following are two obvious formats.</span></span>

    - <span data-ttu-id="8dead-896">*Przełącznik*. *przestrzeń nazw*. *przełącznikname*</span><span class="sxs-lookup"><span data-stu-id="8dead-896">*Switch*.*namespace*.*switchname*</span></span>

    - <span data-ttu-id="8dead-897">*Przełącznik*. *Biblioteka*. *przełącznikname*</span><span class="sxs-lookup"><span data-stu-id="8dead-897">*Switch*.*library*.*switchname*</span></span>

  - <span data-ttu-id="8dead-898">**Zmiany wzorca asynchronicznego opartego na zadaniach (TAP)**</span><span class="sxs-lookup"><span data-stu-id="8dead-898">**Changes to the task-based asynchronous pattern (TAP)**</span></span>

    <span data-ttu-id="8dead-899">W przypadku aplikacji, które są przeznaczone dla .NET Framework 4,6 <xref:System.Threading.Tasks.Task> i <xref:System.Threading.Tasks.Task%601> obiekty dziedziczą kulturę i kultury interfejsu użytkownika wywołującego wątku.</span><span class="sxs-lookup"><span data-stu-id="8dead-899">For apps that target .NET Framework 4.6, <xref:System.Threading.Tasks.Task> and <xref:System.Threading.Tasks.Task%601> objects inherit the culture and UI culture of the calling thread.</span></span> <span data-ttu-id="8dead-900">Nie dotyczy to zachowania aplikacji przeznaczonych dla wcześniejszych wersji .NET Framework lub nie przeznaczonych dla określonej wersji .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8dead-900">The behavior of apps that target previous versions of .NET Framework, or that do not target a specific version of .NET Framework, is unaffected.</span></span> <span data-ttu-id="8dead-901">Aby uzyskać więcej informacji, zapoznaj się z sekcją "kultury i operacje asynchroniczne oparte na zadaniach" w temacie dotyczącym <xref:System.Globalization.CultureInfo> klas.</span><span class="sxs-lookup"><span data-stu-id="8dead-901">For more information, see the "Culture and task-based asynchronous operations" section of the <xref:System.Globalization.CultureInfo> class topic.</span></span>

    <span data-ttu-id="8dead-902"><xref:System.Threading.AsyncLocal%601?displayProperty=nameWithType>Klasa pozwala reprezentować dane otoczenia, które są lokalne dla danego przepływu kontroli asynchronicznej, takie jak `async` Metoda.</span><span class="sxs-lookup"><span data-stu-id="8dead-902">The <xref:System.Threading.AsyncLocal%601?displayProperty=nameWithType> class allows you to represent ambient data that is local to a given asynchronous control flow, such as an `async` method.</span></span> <span data-ttu-id="8dead-903">Może służyć do utrwalania danych w wątkach.</span><span class="sxs-lookup"><span data-stu-id="8dead-903">It can be used to persist data across threads.</span></span> <span data-ttu-id="8dead-904">Można również zdefiniować metodę wywołania zwrotnego, która jest przekazywana za każdym razem, gdy dane otoczenia ulegną zmianie <xref:System.Threading.AsyncLocal%601.Value%2A?displayProperty=nameWithType> , ponieważ właściwość została jawnie zmieniona lub wątek napotkał przejście kontekstu.</span><span class="sxs-lookup"><span data-stu-id="8dead-904">You can also define a callback method that is notified whenever the ambient data changes either because the <xref:System.Threading.AsyncLocal%601.Value%2A?displayProperty=nameWithType> property was explicitly changed, or because the thread encountered a context transition.</span></span>

    <span data-ttu-id="8dead-905">Trzy wygodne metody, <xref:System.Threading.Tasks.Task.CompletedTask%2A?displayProperty=nameWithType> , <xref:System.Threading.Tasks.Task.FromCanceled%2A?displayProperty=nameWithType> , i <xref:System.Threading.Tasks.Task.FromException%2A?displayProperty=nameWithType> , zostały dodane do wzorca asynchronicznego opartego na zadaniach (TAP) w celu zwrócenia ukończonych zadań w określonym stanie.</span><span class="sxs-lookup"><span data-stu-id="8dead-905">Three convenience methods, <xref:System.Threading.Tasks.Task.CompletedTask%2A?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Task.FromCanceled%2A?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Task.FromException%2A?displayProperty=nameWithType>, have been added to the task-based asynchronous pattern (TAP) to return completed tasks in a particular state.</span></span>

    <span data-ttu-id="8dead-906"><xref:System.IO.Pipes.NamedPipeClientStream>Klasa obsługuje teraz asynchroniczną komunikację z nowym <xref:System.IO.Pipes.NamedPipeClientStream.ConnectAsync%2A> .</span><span class="sxs-lookup"><span data-stu-id="8dead-906">The <xref:System.IO.Pipes.NamedPipeClientStream> class now supports asynchronous communication with its new <xref:System.IO.Pipes.NamedPipeClientStream.ConnectAsync%2A>.</span></span> <span data-ttu-id="8dead-907">Method.</span><span class="sxs-lookup"><span data-stu-id="8dead-907">method.</span></span>

  - <span data-ttu-id="8dead-908">**Zdarzenie EventSource obsługuje teraz zapisywanie w dzienniku zdarzeń**</span><span class="sxs-lookup"><span data-stu-id="8dead-908">**EventSource now supports writing to the Event log**</span></span>

    <span data-ttu-id="8dead-909">Teraz można użyć <xref:System.Diagnostics.Tracing.EventSource> klasy do rejestrowania administracyjnych lub komunikatów operacyjnych w dzienniku zdarzeń, oprócz wszelkich istniejących sesji ETW utworzonych na komputerze.</span><span class="sxs-lookup"><span data-stu-id="8dead-909">You now can use the <xref:System.Diagnostics.Tracing.EventSource> class to log administrative or operational messages to the event log, in addition to any existing ETW sessions created on the machine.</span></span> <span data-ttu-id="8dead-910">W przeszłości należało użyć pakietu NuGet Microsoft. Diagnostics. Tracing. EventSource dla tej funkcji.</span><span class="sxs-lookup"><span data-stu-id="8dead-910">In the past, you had to use the Microsoft.Diagnostics.Tracing.EventSource NuGet package for this functionality.</span></span> <span data-ttu-id="8dead-911">Ta funkcja jest teraz wbudowana .NET Framework 4,6.</span><span class="sxs-lookup"><span data-stu-id="8dead-911">This functionality is now built-into .NET Framework 4.6.</span></span>

    <span data-ttu-id="8dead-912">Pakiet NuGet i .NET Framework 4,6 zostały zaktualizowane przy użyciu następujących funkcji:</span><span class="sxs-lookup"><span data-stu-id="8dead-912">Both the NuGet package and .NET Framework 4.6 have been updated with the following features:</span></span>

    - <span data-ttu-id="8dead-913">**Zdarzenia dynamiczne**</span><span class="sxs-lookup"><span data-stu-id="8dead-913">**Dynamic events**</span></span>

      <span data-ttu-id="8dead-914">Umożliwia zdefiniowanie zdarzeń "na bieżąco" bez tworzenia metod zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="8dead-914">Allows events defined "on the fly" without creating event methods.</span></span>

    - <span data-ttu-id="8dead-915">**Rozbudowane ładunki**</span><span class="sxs-lookup"><span data-stu-id="8dead-915">**Rich payloads**</span></span>

      <span data-ttu-id="8dead-916">Umożliwia użycie specjalnie przypisanych klas i tablic, a także typów pierwotnych, które mają być przesyłane jako ładunek</span><span class="sxs-lookup"><span data-stu-id="8dead-916">Allows specially attributed classes and arrays as well as primitive types to be passed as a payload</span></span>

    - <span data-ttu-id="8dead-917">**Śledzenie działań**</span><span class="sxs-lookup"><span data-stu-id="8dead-917">**Activity tracking**</span></span>

      <span data-ttu-id="8dead-918">Powoduje, że zdarzenia uruchamiania i zatrzymywania do tagów zdarzeń między nimi mają identyfikator reprezentujący wszystkie aktualnie aktywne aktywności.</span><span class="sxs-lookup"><span data-stu-id="8dead-918">Causes Start and Stop events to tag events between them with an ID that represents all currently active activities.</span></span>

    <span data-ttu-id="8dead-919">Do obsługi tych funkcji przeciążona <xref:System.Diagnostics.Tracing.EventSource.Write%2A> Metoda została dodana do <xref:System.Diagnostics.Tracing.EventSource> klasy.</span><span class="sxs-lookup"><span data-stu-id="8dead-919">To support these features, the overloaded <xref:System.Diagnostics.Tracing.EventSource.Write%2A> method has been added to the <xref:System.Diagnostics.Tracing.EventSource> class.</span></span>

- <span data-ttu-id="8dead-920">**Windows Presentation Foundation (WPF)**</span><span class="sxs-lookup"><span data-stu-id="8dead-920">**Windows Presentation Foundation (WPF)**</span></span>

  - <span data-ttu-id="8dead-921">**Udoskonalenia HDPI**</span><span class="sxs-lookup"><span data-stu-id="8dead-921">**HDPI improvements**</span></span>

    <span data-ttu-id="8dead-922">Obsługa HDPI w programie WPF jest teraz lepsza w .NET Framework 4,6.</span><span class="sxs-lookup"><span data-stu-id="8dead-922">HDPI support in WPF is now better in .NET Framework 4.6.</span></span> <span data-ttu-id="8dead-923">Wprowadzono zmiany układu zaokrąglania, aby zmniejszyć liczbę wystąpień wycinków w kontrolkach z obramowaniem.</span><span class="sxs-lookup"><span data-stu-id="8dead-923">Changes have been made to layout rounding to reduce instances of clipping in controls with borders.</span></span> <span data-ttu-id="8dead-924">Domyślnie ta funkcja jest włączona tylko wtedy, gdy <xref:System.Runtime.Versioning.TargetFrameworkAttribute> ustawiono wartość .NET Framework 4,6.</span><span class="sxs-lookup"><span data-stu-id="8dead-924">By default, this feature is enabled only if your <xref:System.Runtime.Versioning.TargetFrameworkAttribute> is set to .NET Framework 4.6.</span></span>  <span data-ttu-id="8dead-925">Aplikacje, które są przeznaczone dla wcześniejszych wersji platformy, ale działają na .NET Framework 4,6, mogą zrezygnować z nowego zachowania, dodając następujący wiersz do [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) sekcji pliku app.config:</span><span class="sxs-lookup"><span data-stu-id="8dead-925">Applications that target earlier versions of the framework but are running on .NET Framework 4.6 can opt in to the new behavior by adding the following line to the [\<runtime>](../configure-apps/file-schema/runtime/runtime-element.md) section of the app.config file:</span></span>

    ```xml
    <AppContextSwitchOverrides
    value="Switch.MS.Internal.DoNotApplyLayoutRoundingToMarginsAndBorderThickness=false"
    />
    ```

    <span data-ttu-id="8dead-926">Środowiska WPF systemu Windows na rozgałęzieniu wielu monitorów z różnymi ustawieniami DPI (Konfiguracja z wieloma DPI) są teraz całkowicie renderowane bez czarnego regionu.</span><span class="sxs-lookup"><span data-stu-id="8dead-926">WPF windows straddling multiple monitors with different DPI settings (Multi-DPI setup) are now completely rendered without blacked-out regions.</span></span> <span data-ttu-id="8dead-927">Możesz zrezygnować z tego zachowania, dodając następujący wiersz do `<appSettings>` sekcji pliku app.config, aby wyłączyć to nowe zachowanie:</span><span class="sxs-lookup"><span data-stu-id="8dead-927">You can opt out of this behavior by adding the following line to the `<appSettings>` section of the app.config file to disable this new behavior:</span></span>

    ```xml
    <add key="EnableMultiMonitorDisplayClipping" value="true"/>
    ```

    <span data-ttu-id="8dead-928">Dodano obsługę automatycznego ładowania prawego kursora na podstawie ustawienia DPI  <xref:System.Windows.Input.Cursor?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="8dead-928">Support for automatically loading the right cursor based on DPI setting has been added to  <xref:System.Windows.Input.Cursor?displayProperty=nameWithType>.</span></span>

  - <span data-ttu-id="8dead-929">**Lepsza obsługa dotyku**</span><span class="sxs-lookup"><span data-stu-id="8dead-929">**Touch is better**</span></span>

    <span data-ttu-id="8dead-930">Raporty klienta dotyczące [połączenia](https://connect.microsoft.com/VisualStudio/feedback/details/903760/) , które są przeznaczone do nieprzewidywalnego zachowania, zostały rozwiązane w .NET Framework 4,6.</span><span class="sxs-lookup"><span data-stu-id="8dead-930">Customer reports on [Connect](https://connect.microsoft.com/VisualStudio/feedback/details/903760/) that touch produces unpredictable behavior have been addressed in .NET Framework 4.6.</span></span> <span data-ttu-id="8dead-931">Próg podwójnego nacisku dla aplikacji ze sklepu Windows i aplikacji WPF jest teraz taki sam jak w Windows 8.1 i nowszych.</span><span class="sxs-lookup"><span data-stu-id="8dead-931">The double tap threshold for Windows Store applications and WPF applications is now the same in Windows 8.1 and above.</span></span>

  - <span data-ttu-id="8dead-932">**Obsługa okna przezroczystego elementu podrzędnego**</span><span class="sxs-lookup"><span data-stu-id="8dead-932">**Transparent child window support**</span></span>

    <span data-ttu-id="8dead-933">WPF w .NET Framework 4,6 obsługuje przezroczyste okna podrzędne w Windows 8.1 i nowszych.</span><span class="sxs-lookup"><span data-stu-id="8dead-933">WPF in .NET Framework 4.6 supports transparent child windows in Windows 8.1 and above.</span></span> <span data-ttu-id="8dead-934">Dzięki temu można tworzyć nieprostokątne i przezroczyste okna podrzędne w oknach najwyższego poziomu.</span><span class="sxs-lookup"><span data-stu-id="8dead-934">This allows you to create non-rectangular and transparent child windows in your top-level windows.</span></span> <span data-ttu-id="8dead-935">Tę funkcję można włączyć przez ustawienie <xref:System.Windows.Interop.HwndSourceParameters.UsesPerPixelTransparency%2A?displayProperty=nameWithType> właściwości na `true` .</span><span class="sxs-lookup"><span data-stu-id="8dead-935">You can enable this feature by setting the <xref:System.Windows.Interop.HwndSourceParameters.UsesPerPixelTransparency%2A?displayProperty=nameWithType> property to `true`.</span></span>

- <span data-ttu-id="8dead-936">**Windows Communication Foundation (WCF)**</span><span class="sxs-lookup"><span data-stu-id="8dead-936">**Windows Communication Foundation (WCF)**</span></span>

  - <span data-ttu-id="8dead-937">**Obsługa protokołu SSL**</span><span class="sxs-lookup"><span data-stu-id="8dead-937">**SSL support**</span></span>

    <span data-ttu-id="8dead-938">Usługa WCF obsługuje teraz protokół SSL w wersji 1,1 i TLS 1,2, oprócz protokołu SSL 3,0 i TLS 1,0, podczas korzystania z usługi NetTcp z zabezpieczeniami transportu i uwierzytelnianiem klientów.</span><span class="sxs-lookup"><span data-stu-id="8dead-938">WCF now supports SSL version TLS 1.1 and TLS 1.2, in addition to SSL 3.0 and TLS 1.0, when using NetTcp with transport security and client authentication.</span></span> <span data-ttu-id="8dead-939">Teraz można wybrać protokół, który ma być używany, lub aby wyłączyć stare, bezpieczne protokoły.</span><span class="sxs-lookup"><span data-stu-id="8dead-939">It is now possible to select which protocol to use, or to disable old lesser secure protocols.</span></span> <span data-ttu-id="8dead-940">Można to zrobić, ustawiając <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols%2A> Właściwość lub dodając następujący element do pliku konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="8dead-940">This can be done either by setting the <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols%2A> property or by adding the following to a configuration file.</span></span>

    ```xml
    <netTcpBinding>
        <binding>
          <security mode= "None|Transport|Message|TransportWithMessageCredential" >
              <transport clientCredentialType="None|Windows|Certificate"
                        protectionLevel="None|Sign|EncryptAndSign"
                        sslProtocols="Ssl3|Tls1|Tls11|Tls12">
                </transport>
          </security>
        </binding>
    </netTcpBinding>
    ```

  - <span data-ttu-id="8dead-941">**Wysyłanie komunikatów przy użyciu różnych połączeń HTTP**</span><span class="sxs-lookup"><span data-stu-id="8dead-941">**Sending messages using different HTTP connections**</span></span>

    <span data-ttu-id="8dead-942">Usługa WCF umożliwia teraz użytkownikom zapewnienie, że niektóre komunikaty są wysyłane przy użyciu różnych podstawowych połączeń HTTP.</span><span class="sxs-lookup"><span data-stu-id="8dead-942">WCF now allows users to ensure certain messages are sent using different underlying HTTP connections.</span></span> <span data-ttu-id="8dead-943">Istnieją dwa sposoby wykonania tej czynności:</span><span class="sxs-lookup"><span data-stu-id="8dead-943">There are two ways to do this:</span></span>

    - <span data-ttu-id="8dead-944">**Używanie prefiksu nazwy grupy połączeń**</span><span class="sxs-lookup"><span data-stu-id="8dead-944">**Using a connection group name prefix**</span></span>

      <span data-ttu-id="8dead-945">Użytkownicy mogą określić ciąg, który będzie używany przez program WCF jako prefiks nazwy grupy połączeń.</span><span class="sxs-lookup"><span data-stu-id="8dead-945">Users can specify a string that WCF will use as a prefix for the connection group name.</span></span> <span data-ttu-id="8dead-946">Dwa komunikaty z różnymi prefiksami są wysyłane przy użyciu różnych podstawowych połączeń HTTP.</span><span class="sxs-lookup"><span data-stu-id="8dead-946">Two messages with different prefixes are sent using different underlying HTTP connections.</span></span> <span data-ttu-id="8dead-947">Prefiks ustawia się przez dodanie pary klucz/wartość do <xref:System.ServiceModel.Channels.Message.Properties%2A?displayProperty=nameWithType> Właściwości komunikatu.</span><span class="sxs-lookup"><span data-stu-id="8dead-947">You set the prefix by adding a key/value pair to the message's <xref:System.ServiceModel.Channels.Message.Properties%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="8dead-948">Klucz ma wartość "HttpTransportConnectionGroupNamePrefix"; wartość jest pożądanym prefiksem.</span><span class="sxs-lookup"><span data-stu-id="8dead-948">The key is "HttpTransportConnectionGroupNamePrefix"; the value is the desired prefix.</span></span>

    - <span data-ttu-id="8dead-949">**Korzystanie z różnych fabryk kanałów**</span><span class="sxs-lookup"><span data-stu-id="8dead-949">**Using different channel factories**</span></span>

      <span data-ttu-id="8dead-950">Użytkownicy mogą również włączyć funkcję, która zapewnia, że komunikaty wysyłane przy użyciu kanałów utworzonych przez różne fabryki kanałów będą używać różnych podstawowych połączeń HTTP.</span><span class="sxs-lookup"><span data-stu-id="8dead-950">Users can also enable a feature that ensures that messages sent using channels created by different channel factories will use different underlying HTTP connections.</span></span> <span data-ttu-id="8dead-951">Aby włączyć tę funkcję, użytkownicy muszą ustawić następujące elementy `appSetting` `true` :</span><span class="sxs-lookup"><span data-stu-id="8dead-951">To enable this feature, users must set the following `appSetting` to `true`:</span></span>

      ```xml
      <appSettings>
          <add key="wcf:httpTransportBinding:useUniqueConnectionPoolPerFactory" value="true" />
      </appSettings>
      ```

- <span data-ttu-id="8dead-952">**Windows Workflow Foundation (WWF)**</span><span class="sxs-lookup"><span data-stu-id="8dead-952">**Windows Workflow Foundation (WWF)**</span></span>

  <span data-ttu-id="8dead-953">Teraz możesz określić liczbę sekund, przez jaką usługa przepływu pracy będzie przekroczyć żądanie operacji poza kolejnością, gdy istnieje oczekująca zakładka "bez protokołu" przed upływem limitu czasu żądania.</span><span class="sxs-lookup"><span data-stu-id="8dead-953">You can now specify the number of seconds a workflow service will hold on to an out-of-order operation request when there is an outstanding "non-protocol" bookmark before timing out the request.</span></span> <span data-ttu-id="8dead-954">Zakładka "non-Protocol" jest zakładką, która nie jest powiązana z oczekującymi działaniami Receive.</span><span class="sxs-lookup"><span data-stu-id="8dead-954">A "non-protocol" bookmark is a bookmark that is not related to outstanding Receive activities.</span></span> <span data-ttu-id="8dead-955">Niektóre działania tworzą zakładki nieobsługujące protokołów w ramach ich implementacji, dlatego może nie być oczywiste, że istnieje zakładka niebędąca protokołem.</span><span class="sxs-lookup"><span data-stu-id="8dead-955">Some activities create non-protocol bookmarks within their implementation, so it may not be obvious that a non-protocol bookmark exists.</span></span> <span data-ttu-id="8dead-956">Obejmują one stan i wybór.</span><span class="sxs-lookup"><span data-stu-id="8dead-956">These include State and Pick.</span></span> <span data-ttu-id="8dead-957">Dlatego jeśli masz zaimplementowaną usługę przepływu pracy z maszyną stanu lub z działaniami pobrania, najprawdopodobniej zaistnieją zakładki niebędące protokołami.</span><span class="sxs-lookup"><span data-stu-id="8dead-957">So if you have a workflow service implemented with a state machine or containing a Pick activity, you will most likely have non-protocol bookmarks.</span></span> <span data-ttu-id="8dead-958">Interwał można określić, dodając wiersz podobny do `appSettings` sekcji pliku app.config:</span><span class="sxs-lookup"><span data-stu-id="8dead-958">You specify the interval by adding a line like the following to the `appSettings` section of your app.config file:</span></span>

  ```xml
  <add key="microsoft:WorkflowServices:FilterResumeTimeoutInSeconds" value="60"/>
  ```

  <span data-ttu-id="8dead-959">Wartość domyślna to 60 sekund.</span><span class="sxs-lookup"><span data-stu-id="8dead-959">The default value is 60 seconds.</span></span> <span data-ttu-id="8dead-960">Jeśli wartość jest równa `value` 0, żądania poza kolejnością są natychmiast odrzucane z powodu błędu z tekstem, który wygląda następująco:</span><span class="sxs-lookup"><span data-stu-id="8dead-960">If `value` is set to 0, out-of-order requests are immediately rejected with a fault with text that looks like this:</span></span>

  ```console
  Operation 'Request3|{http://tempuri.org/}IService' on service instance with identifier '2b0667b6-09c8-4093-9d02-f6c67d534292' cannot be performed at this time. Please ensure that the operations are performed in the correct order and that the binding in use provides ordered delivery guarantees.
  ```

  <span data-ttu-id="8dead-961">Jest to ten sam komunikat, który jest wyświetlany po odebraniu komunikatu o operacji poza kolejnością i braku zakładek innych niż protokoły.</span><span class="sxs-lookup"><span data-stu-id="8dead-961">This is the same message that you receive if an out-of-order operation message is received and there are no non-protocol bookmarks.</span></span>

  <span data-ttu-id="8dead-962">Jeśli wartość `FilterResumeTimeoutInSeconds` elementu jest różna od zera, istnieją zakładki bez protokołu, a interwał limitu czasu wygaśnie, operacja kończy się niepowodzeniem z komunikatem o limicie czasu.</span><span class="sxs-lookup"><span data-stu-id="8dead-962">If the value of the `FilterResumeTimeoutInSeconds` element is non-zero, there are non-protocol bookmarks, and the timeout interval expires, the operation fails with a timeout message.</span></span>

- <span data-ttu-id="8dead-963">**Transakcje**</span><span class="sxs-lookup"><span data-stu-id="8dead-963">**Transactions**</span></span>

  <span data-ttu-id="8dead-964">Teraz można uwzględnić identyfikator transakcji rozproszonej dla transakcji, która spowodowała zgłoszenie wyjątku pochodzącego od <xref:System.Transactions.TransactionException> .</span><span class="sxs-lookup"><span data-stu-id="8dead-964">You can now include the distributed transaction identifier for the transaction that has caused an exception derived from <xref:System.Transactions.TransactionException> to be thrown.</span></span> <span data-ttu-id="8dead-965">W tym celu należy dodać następujący klucz do `appSettings` sekcji pliku app.config:</span><span class="sxs-lookup"><span data-stu-id="8dead-965">You do this by adding the following key to the `appSettings` section of your app.config file:</span></span>

  ```xml
  <add key="Transactions:IncludeDistributedTransactionIdInExceptionMessage" value="true"/>
  ```

  <span data-ttu-id="8dead-966">Wartość domyślna to `false`.</span><span class="sxs-lookup"><span data-stu-id="8dead-966">The default value is `false`.</span></span>

- <span data-ttu-id="8dead-967">**Sieć**</span><span class="sxs-lookup"><span data-stu-id="8dead-967">**Networking**</span></span>

  - <span data-ttu-id="8dead-968">**Ponowne użycie gniazda**</span><span class="sxs-lookup"><span data-stu-id="8dead-968">**Socket reuse**</span></span>

    <span data-ttu-id="8dead-969">System Windows 10 zawiera nowy algorytm sieci o wysokiej skalowalności, który umożliwia lepsze wykorzystanie zasobów komputera przez ponowne użycie portów lokalnych dla wychodzących połączeń TCP.</span><span class="sxs-lookup"><span data-stu-id="8dead-969">Windows 10 includes a new high-scalability networking algorithm that makes better use of machine resources by reusing local ports for outbound TCP connections.</span></span> <span data-ttu-id="8dead-970">.NET Framework 4,6 obsługuje nowy algorytm, umożliwiając aplikacjom .NET korzystanie z nowych zachowań.</span><span class="sxs-lookup"><span data-stu-id="8dead-970">.NET Framework 4.6 supports the new algorithm, enabling .NET apps to take advantage of the new behavior.</span></span> <span data-ttu-id="8dead-971">W poprzednich wersjach systemu Windows istnieje sztuczny limit połączeń współbieżnych (zazwyczaj 16 384, domyślny rozmiar dynamicznego zakresu portów), który może ograniczyć skalowalność usługi, powodując wyczerpanie portów podczas ładowania.</span><span class="sxs-lookup"><span data-stu-id="8dead-971">In previous versions of Windows, there was an artificial concurrent connection limit (typically 16,384, the default size of the dynamic port range), which could limit the scalability of a service by causing port exhaustion when under load.</span></span>

    <span data-ttu-id="8dead-972">W .NET Framework 4,6 dodano dwa interfejsy API umożliwiające ponowne użycie portów, co skutecznie usuwa limit 64 KB dla połączeń współbieżnych:</span><span class="sxs-lookup"><span data-stu-id="8dead-972">In .NET Framework 4.6, two APIs have been added to enable port reuse, which effectively removes the 64 KB limit on concurrent connections:</span></span>

    - <span data-ttu-id="8dead-973"><xref:System.Net.Sockets.SocketOptionName?displayProperty=nameWithType>Wartość wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="8dead-973">The <xref:System.Net.Sockets.SocketOptionName?displayProperty=nameWithType> enumeration value.</span></span>

    - <span data-ttu-id="8dead-974"><xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType>Właściwość.</span><span class="sxs-lookup"><span data-stu-id="8dead-974">The <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> property.</span></span>

    <span data-ttu-id="8dead-975">Domyślnie <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> Właściwość jest określana, `false` chyba że `HWRPortReuseOnSocketBind` wartość `HKLM\SOFTWARE\Microsoft\.NETFramework\v4.0.30319` klucza rejestru jest ustawiona na 0x1.</span><span class="sxs-lookup"><span data-stu-id="8dead-975">By default, the <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> property is `false` unless the `HWRPortReuseOnSocketBind` value of the `HKLM\SOFTWARE\Microsoft\.NETFramework\v4.0.30319` registry key is set to 0x1.</span></span> <span data-ttu-id="8dead-976">Aby włączyć ponowne używanie portów lokalnych dla połączeń HTTP, należy ustawić <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> Właściwość na `true` .</span><span class="sxs-lookup"><span data-stu-id="8dead-976">To enable local port reuse on HTTP connections, set the <xref:System.Net.ServicePointManager.ReusePort%2A?displayProperty=nameWithType> property to `true`.</span></span> <span data-ttu-id="8dead-977">Powoduje to, że wszystkie wychodzące połączenia gniazda TCP z <xref:System.Net.Http.HttpClient> i <xref:System.Net.HttpWebRequest> do korzystania z nowej opcji Windows 10 Socket [SO_REUSE_UNICASTPORT](/windows/desktop/WinSock/sol-socket-socket-options), która umożliwia ponowne użycie portów lokalnych.</span><span class="sxs-lookup"><span data-stu-id="8dead-977">This causes all outgoing TCP socket connections from <xref:System.Net.Http.HttpClient> and <xref:System.Net.HttpWebRequest> to use a new Windows 10 socket option, [SO_REUSE_UNICASTPORT](/windows/desktop/WinSock/sol-socket-socket-options), that enables local port reuse.</span></span>

    <span data-ttu-id="8dead-978">Deweloperzy piszący aplikację tylko do gniazd mogą określić <xref:System.Net.Sockets.SocketOptionName?displayProperty=nameWithType> opcję podczas wywoływania metody, takiej jak, <xref:System.Net.Sockets.Socket.SetSocketOption%2A?displayProperty=nameWithType> Aby gniazda wychodzące ponownie używały portów lokalnych podczas wiązania.</span><span class="sxs-lookup"><span data-stu-id="8dead-978">Developers writing a sockets-only application can specify the <xref:System.Net.Sockets.SocketOptionName?displayProperty=nameWithType> option when calling a method such as <xref:System.Net.Sockets.Socket.SetSocketOption%2A?displayProperty=nameWithType> so that outbound sockets reuse local ports during binding.</span></span>

  - <span data-ttu-id="8dead-979">**Obsługa międzynarodowych nazw domen i formacie Punycode**</span><span class="sxs-lookup"><span data-stu-id="8dead-979">**Support for international domain names and PunyCode**</span></span>

    <span data-ttu-id="8dead-980">Do klasy dodano nową właściwość, <xref:System.Uri.IdnHost%2A> <xref:System.Uri> która zapewnia lepszą obsługę międzynarodowych nazw domen i formacie Punycode.</span><span class="sxs-lookup"><span data-stu-id="8dead-980">A new property, <xref:System.Uri.IdnHost%2A>, has been added to the <xref:System.Uri> class to better support international domain names and PunyCode.</span></span>

- <span data-ttu-id="8dead-981">**Zmienianie rozmiarów w kontrolkach Windows Forms.**</span><span class="sxs-lookup"><span data-stu-id="8dead-981">**Resizing in Windows Forms controls.**</span></span>

  <span data-ttu-id="8dead-982">Ta funkcja została rozwinięta w .NET Framework 4,6, aby uwzględnić <xref:System.Windows.Forms.DomainUpDown> <xref:System.Windows.Forms.NumericUpDown> typy, <xref:System.Windows.Forms.DataGridViewComboBoxColumn> , <xref:System.Windows.Forms.DataGridViewColumn> i <xref:System.Windows.Forms.ToolStripSplitButton> i prostokąt określony przez <xref:System.Drawing.Design.PaintValueEventArgs.Bounds%2A> Właściwość używaną podczas rysowania <xref:System.Drawing.Design.UITypeEditor> .</span><span class="sxs-lookup"><span data-stu-id="8dead-982">This feature has been expanded in .NET Framework 4.6 to include the <xref:System.Windows.Forms.DomainUpDown>, <xref:System.Windows.Forms.NumericUpDown>, <xref:System.Windows.Forms.DataGridViewComboBoxColumn>, <xref:System.Windows.Forms.DataGridViewColumn> and <xref:System.Windows.Forms.ToolStripSplitButton> types and the rectangle specified by the <xref:System.Drawing.Design.PaintValueEventArgs.Bounds%2A> property used when drawing a <xref:System.Drawing.Design.UITypeEditor>.</span></span>

  <span data-ttu-id="8dead-983">Jest to funkcja opcjonalna.</span><span class="sxs-lookup"><span data-stu-id="8dead-983">This is an opt-in feature.</span></span> <span data-ttu-id="8dead-984">Aby je włączyć, ustaw `EnableWindowsFormsHighDpiAutoResizing` element na `true` w pliku konfiguracji aplikacji (app.config):</span><span class="sxs-lookup"><span data-stu-id="8dead-984">To enable it, set the `EnableWindowsFormsHighDpiAutoResizing` element to `true` in the application configuration (app.config) file:</span></span>

  ```xml
  <appSettings>
      <add key="EnableWindowsFormsHighDpiAutoResizing" value="true" />
  </appSettings>
  ```

- <span data-ttu-id="8dead-985">**Obsługa kodowania stron kodowych**</span><span class="sxs-lookup"><span data-stu-id="8dead-985">**Support for code page encodings**</span></span>

  <span data-ttu-id="8dead-986">Program .NET Core obsługuje przede wszystkim kodowania Unicode i domyślnie udostępnia ograniczoną obsługę kodowania stron kodowych.</span><span class="sxs-lookup"><span data-stu-id="8dead-986">.NET Core primarily supports the Unicode encodings and by default provides limited support for code page encodings.</span></span> <span data-ttu-id="8dead-987">Można dodać obsługę kodowania stron kodowych dostępnych w .NET Framework ale nieobsługiwane w programie .NET Core przez zarejestrowanie kodowania stron kodowych za pomocą <xref:System.Text.Encoding.RegisterProvider%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="8dead-987">You can add support for code page encodings available in .NET Framework but unsupported in .NET Core by registering code page encodings with the <xref:System.Text.Encoding.RegisterProvider%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="8dead-988">Aby uzyskać więcej informacji, zobacz <xref:System.Text.CodePagesEncodingProvider?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="8dead-988">For more information, see <xref:System.Text.CodePagesEncodingProvider?displayProperty=nameWithType>.</span></span>

- <span data-ttu-id="8dead-989">**.NET Native**</span><span class="sxs-lookup"><span data-stu-id="8dead-989">**.NET Native**</span></span>

  <span data-ttu-id="8dead-990">Aplikacje systemu Windows dla systemu Windows 10 przeznaczone dla platformy .NET Core i zapisywane w języku C# lub Visual Basic mogą korzystać z nowej technologii, która kompiluje aplikacje do kodu natywnego, a nie IL.</span><span class="sxs-lookup"><span data-stu-id="8dead-990">Windows apps for Windows 10 that target .NET Core and are written in C# or Visual Basic can take advantage of a new technology that compiles apps to native code rather than IL.</span></span> <span data-ttu-id="8dead-991">Generują aplikacje charakteryzujące się krótszym czasem uruchamiania i wykonywania.</span><span class="sxs-lookup"><span data-stu-id="8dead-991">They produce apps characterized by faster startup and execution times.</span></span> <span data-ttu-id="8dead-992">Aby uzyskać więcej informacji, zobacz [Kompilowanie aplikacji za pomocą .NET Native](../net-native/index.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-992">For more information, see [Compiling Apps with .NET Native](../net-native/index.md).</span></span> <span data-ttu-id="8dead-993">Aby zapoznać się z omówieniem .NET Native, który bada, w jaki sposób różni się od kompilacji JIT i NGEN oraz czego dotyczy Twój kod, zapoznaj się z tematem [.NET Native i kompilacją](../net-native/net-native-and-compilation.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-993">For an overview of .NET Native that examines how it differs from both JIT compilation and NGEN and what that means for your code, see [.NET Native and Compilation](../net-native/net-native-and-compilation.md).</span></span>

  <span data-ttu-id="8dead-994">Aplikacje są domyślnie kompilowane do kodu natywnego podczas kompilowania ich przy użyciu programu Visual Studio 2015 lub nowszego.</span><span class="sxs-lookup"><span data-stu-id="8dead-994">Your apps are compiled to native code by default when you compile them with Visual Studio 2015 or later.</span></span> <span data-ttu-id="8dead-995">Aby uzyskać więcej informacji, zobacz [wprowadzenie z .NET Native](../net-native/getting-started-with-net-native.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-995">For more information, see [Getting Started with .NET Native](../net-native/getting-started-with-net-native.md).</span></span>

  <span data-ttu-id="8dead-996">Aby można było obsługiwać debugowanie .NET Native aplikacje, do niezarządzanego interfejsu API debugowania dodano wiele nowych interfejsów i wyliczeń.</span><span class="sxs-lookup"><span data-stu-id="8dead-996">To support debugging .NET Native apps, a number of new interfaces and enumerations have been added to the unmanaged debugging API.</span></span> <span data-ttu-id="8dead-997">Aby uzyskać więcej informacji, zobacz temat [debugowanie (niezarządzany wykaz interfejsów API)](../unmanaged-api/debugging/index.md) .</span><span class="sxs-lookup"><span data-stu-id="8dead-997">For more information, see the [Debugging (Unmanaged API Reference)](../unmanaged-api/debugging/index.md) topic.</span></span>

- <span data-ttu-id="8dead-998">**Pakiety .NET Framework Open Source**</span><span class="sxs-lookup"><span data-stu-id="8dead-998">**Open-source .NET Framework packages**</span></span>

  <span data-ttu-id="8dead-999">Pakiety .NET Core, takie jak Niezmienne kolekcje, [interfejsy API SIMD](https://www.nuget.org/packages/Microsoft.Bcl.Simd)i interfejsy API sieci, takie jak te, które znajdują się w <xref:System.Net.Http> przestrzeni nazw, są teraz dostępne jako pakiety typu open source w witrynie [GitHub](https://github.com/).</span><span class="sxs-lookup"><span data-stu-id="8dead-999">.NET Core packages such as the immutable collections, [SIMD APIs](https://www.nuget.org/packages/Microsoft.Bcl.Simd), and networking APIs such as those found in the <xref:System.Net.Http> namespace are now available as open-source packages on [GitHub](https://github.com/).</span></span> <span data-ttu-id="8dead-1000">Aby uzyskać dostęp do kodu, zobacz [.NET w witrynie GitHub](https://github.com/dotnet/runtime).</span><span class="sxs-lookup"><span data-stu-id="8dead-1000">To access the code, see [.NET on GitHub](https://github.com/dotnet/runtime).</span></span> <span data-ttu-id="8dead-1001">Aby uzyskać więcej informacji i dowiedzieć się, jak współtworzyć te pakiety, zobacz [wprowadzenie do platformy .NET](../../core/introduction.md), [Strona główna platformy .NET w witrynie GitHub](https://github.com/dotnet/home).</span><span class="sxs-lookup"><span data-stu-id="8dead-1001">For more information and how to contribute to these packages, see [Introduction to .NET](../../core/introduction.md), [.NET Home Page on GitHub](https://github.com/dotnet/home).</span></span>

<a name="v452"></a>

## <a name="whats-new-in-net-framework-452"></a><span data-ttu-id="8dead-1002">Co nowego w .NET Framework 4.5.2</span><span class="sxs-lookup"><span data-stu-id="8dead-1002">What's new in .NET Framework 4.5.2</span></span>

- <span data-ttu-id="8dead-1003">**Nowe interfejsy API dla aplikacji ASP.NET.**</span><span class="sxs-lookup"><span data-stu-id="8dead-1003">**New APIs for ASP.NET apps.**</span></span> <span data-ttu-id="8dead-1004">Nowe <xref:System.Web.HttpResponse.AddOnSendingHeaders%2A?displayProperty=nameWithType> i <xref:System.Web.HttpResponseBase.AddOnSendingHeaders%2A?displayProperty=nameWithType> metody umożliwiają sprawdzanie i modyfikowanie nagłówków odpowiedzi oraz kodu stanu, gdy odpowiedź jest opróżniana do aplikacji klienckiej.</span><span class="sxs-lookup"><span data-stu-id="8dead-1004">The new <xref:System.Web.HttpResponse.AddOnSendingHeaders%2A?displayProperty=nameWithType> and <xref:System.Web.HttpResponseBase.AddOnSendingHeaders%2A?displayProperty=nameWithType> methods let you inspect and modify response headers and status code as the response is being flushed to the client app.</span></span> <span data-ttu-id="8dead-1005">Rozważ użycie tych metod zamiast <xref:System.Web.HttpApplication.PreSendRequestHeaders> <xref:System.Web.HttpApplication.PreSendRequestContent> zdarzeń i; są one bardziej wydajne i niezawodne.</span><span class="sxs-lookup"><span data-stu-id="8dead-1005">Consider using these methods instead of the <xref:System.Web.HttpApplication.PreSendRequestHeaders> and <xref:System.Web.HttpApplication.PreSendRequestContent> events; they are more efficient and reliable.</span></span>

  <span data-ttu-id="8dead-1006"><xref:System.Web.Hosting.HostingEnvironment.QueueBackgroundWorkItem%2A?displayProperty=nameWithType>Metoda umożliwia zaplanowanie niewielkich elementów roboczych w tle.</span><span class="sxs-lookup"><span data-stu-id="8dead-1006">The <xref:System.Web.Hosting.HostingEnvironment.QueueBackgroundWorkItem%2A?displayProperty=nameWithType> method lets you schedule small background work items.</span></span> <span data-ttu-id="8dead-1007">ASP.NET śledzi te elementy i uniemożliwia nieoczekiwane zakończenie procesu roboczego przez usługi IIS do momentu zakończenia wszystkich elementów roboczych w tle.</span><span class="sxs-lookup"><span data-stu-id="8dead-1007">ASP.NET tracks these items and prevents IIS from abruptly terminating the worker process until all background work items have completed.</span></span> <span data-ttu-id="8dead-1008">Tej metody nie można wywołać poza domenę aplikacji zarządzanej przez ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8dead-1008">This method can't be called outside an ASP.NET managed app domain.</span></span>

  <span data-ttu-id="8dead-1009">Nowe <xref:System.Web.HttpResponse.HeadersWritten?displayProperty=nameWithType> i <xref:System.Web.HttpResponseBase.HeadersWritten?displayProperty=nameWithType> właściwości zwracają wartości logiczne, które wskazują, czy nagłówki odpowiedzi zostały zapisaniu.</span><span class="sxs-lookup"><span data-stu-id="8dead-1009">The new <xref:System.Web.HttpResponse.HeadersWritten?displayProperty=nameWithType> and <xref:System.Web.HttpResponseBase.HeadersWritten?displayProperty=nameWithType> properties return Boolean values that indicate whether the response headers have been written.</span></span> <span data-ttu-id="8dead-1010">Możesz użyć tych właściwości, aby upewnić się, że wywołania interfejsów API, takie jak <xref:System.Web.HttpResponse.StatusCode%2A?displayProperty=nameWithType> (które generują wyjątki, jeśli nagłówki zostały zapisaniu) powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="8dead-1010">You can use these properties to make sure that calls to APIs such as <xref:System.Web.HttpResponse.StatusCode%2A?displayProperty=nameWithType> (which throw exceptions if the headers have been written) will succeed.</span></span>

- <span data-ttu-id="8dead-1011">**Zmienianie rozmiarów w kontrolkach Windows Forms.**</span><span class="sxs-lookup"><span data-stu-id="8dead-1011">**Resizing in Windows Forms controls.**</span></span> <span data-ttu-id="8dead-1012">Ta funkcja została rozszerzona.</span><span class="sxs-lookup"><span data-stu-id="8dead-1012">This feature has been expanded.</span></span> <span data-ttu-id="8dead-1013">Teraz można użyć ustawienia DPI systemu, aby zmienić rozmiar składników następujących dodatkowych kontrolek (na przykład strzałkę rozwijaną w polach kombi):</span><span class="sxs-lookup"><span data-stu-id="8dead-1013">You can now use the system DPI setting to resize components of the following additional controls (for example, the drop-down arrow in combo boxes):</span></span>

  - <xref:System.Windows.Forms.ComboBox>
  - <xref:System.Windows.Forms.ToolStripComboBox>
  - <xref:System.Windows.Forms.ToolStripMenuItem>
  - <xref:System.Windows.Forms.Cursor>
  - <xref:System.Windows.Forms.DataGridView>
  - <xref:System.Windows.Forms.DataGridViewComboBoxColumn>

  <span data-ttu-id="8dead-1014">Jest to funkcja opcjonalna.</span><span class="sxs-lookup"><span data-stu-id="8dead-1014">This is an opt-in feature.</span></span> <span data-ttu-id="8dead-1015">Aby je włączyć, ustaw `EnableWindowsFormsHighDpiAutoResizing` element na `true` w pliku konfiguracji aplikacji (app.config):</span><span class="sxs-lookup"><span data-stu-id="8dead-1015">To enable it, set the `EnableWindowsFormsHighDpiAutoResizing` element to `true` in the application configuration (app.config) file:</span></span>

  ```xml
  <appSettings>
      <add key="EnableWindowsFormsHighDpiAutoResizing" value="true" />
  </appSettings>
  ```

- <span data-ttu-id="8dead-1016">**Nowa funkcja przepływu pracy.**</span><span class="sxs-lookup"><span data-stu-id="8dead-1016">**New workflow feature.**</span></span> <span data-ttu-id="8dead-1017">Menedżer zasobów korzystający z <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> metody (i w związku z tym implementującej <xref:System.Transactions.IPromotableSinglePhaseNotification> interfejs) może użyć nowej <xref:System.Transactions.Transaction.PromoteAndEnlistDurable%2A?displayProperty=nameWithType> metody do żądania następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="8dead-1017">A resource manager that's using the <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> method (and therefore implementing the <xref:System.Transactions.IPromotableSinglePhaseNotification> interface) can use the new <xref:System.Transactions.Transaction.PromoteAndEnlistDurable%2A?displayProperty=nameWithType> method to request the following:</span></span>

  - <span data-ttu-id="8dead-1018">Podnieś poziom transakcji do transakcji usługi Microsoft Distributed Transaction Coordinator (MSDTC).</span><span class="sxs-lookup"><span data-stu-id="8dead-1018">Promote the transaction to a Microsoft Distributed Transaction Coordinator (MSDTC) transaction.</span></span>

  - <span data-ttu-id="8dead-1019">Zamień <xref:System.Transactions.IPromotableSinglePhaseNotification> na element <xref:System.Transactions.ISinglePhaseNotification> , który jest trwałą rejestracją, która obsługuje zatwierdzenia pojedynczej fazy.</span><span class="sxs-lookup"><span data-stu-id="8dead-1019">Replace <xref:System.Transactions.IPromotableSinglePhaseNotification> with an <xref:System.Transactions.ISinglePhaseNotification>, which is a durable enlistment that supports single phase commits.</span></span>

  <span data-ttu-id="8dead-1020">Można to zrobić w ramach tej samej domeny aplikacji i nie jest wymagany żaden dodatkowy kod niezarządzany do współpracy z usługą MSDTC w celu przeprowadzenia promocji.</span><span class="sxs-lookup"><span data-stu-id="8dead-1020">This can be done within the same app domain, and doesn't require any extra unmanaged code to interact with MSDTC to perform the promotion.</span></span> <span data-ttu-id="8dead-1021">Nową metodę można wywołać tylko wtedy, gdy istnieje zaległe wywołanie z <xref:System.Transactions?displayProperty=nameWithType> <xref:System.Transactions.IPromotableSinglePhaseNotification> `Promote` metody, która jest implementowana przez rejestrację promocji.</span><span class="sxs-lookup"><span data-stu-id="8dead-1021">The new method can be called only when there's an outstanding call from <xref:System.Transactions?displayProperty=nameWithType> to the <xref:System.Transactions.IPromotableSinglePhaseNotification>`Promote` method that's implemented by the promotable enlistment.</span></span>

- <span data-ttu-id="8dead-1022">**Udoskonalenia profilowania.**</span><span class="sxs-lookup"><span data-stu-id="8dead-1022">**Profiling improvements.**</span></span> <span data-ttu-id="8dead-1023">Następujące nowe niezarządzane interfejsy API profilowania zapewniają bardziej niezawodne profilowanie:</span><span class="sxs-lookup"><span data-stu-id="8dead-1023">The following new unmanaged profiling APIs provide more robust profiling:</span></span>

  - [<span data-ttu-id="8dead-1024">Struktura COR_PRF_ASSEMBLY_REFERENCE_INFO</span><span class="sxs-lookup"><span data-stu-id="8dead-1024">COR_PRF_ASSEMBLY_REFERENCE_INFO Structure</span></span>](../unmanaged-api/profiling/cor-prf-assembly-reference-info-structure.md)
  - [<span data-ttu-id="8dead-1025">Wyliczenie COR_PRF_HIGH_MONITOR</span><span class="sxs-lookup"><span data-stu-id="8dead-1025">COR_PRF_HIGH_MONITOR Enumeration</span></span>](../unmanaged-api/profiling/cor-prf-high-monitor-enumeration.md)
  - [<span data-ttu-id="8dead-1026">GetAssemblyReferences, metoda</span><span class="sxs-lookup"><span data-stu-id="8dead-1026">GetAssemblyReferences Method</span></span>](../unmanaged-api/profiling/icorprofilercallback6-getassemblyreferences-method.md)
  - [<span data-ttu-id="8dead-1027">GetEventMask2, metoda</span><span class="sxs-lookup"><span data-stu-id="8dead-1027">GetEventMask2 Method</span></span>](../unmanaged-api/profiling/icorprofilerinfo5-geteventmask2-method.md)
  - [<span data-ttu-id="8dead-1028">SetEventMask2, metoda</span><span class="sxs-lookup"><span data-stu-id="8dead-1028">SetEventMask2 Method</span></span>](../unmanaged-api/profiling/icorprofilerinfo5-seteventmask2-method.md)
  - [<span data-ttu-id="8dead-1029">AddAssemblyReference, metoda</span><span class="sxs-lookup"><span data-stu-id="8dead-1029">AddAssemblyReference Method</span></span>](../unmanaged-api/profiling/icorprofilerassemblyreferenceprovider-addassemblyreference-method.md)

  <span data-ttu-id="8dead-1030">Poprzednie `ICorProfiler` implementacje obsługują ładowanie zestawów zależnych z opóźnieniem.</span><span class="sxs-lookup"><span data-stu-id="8dead-1030">Previous `ICorProfiler` implementations supported lazy loading of dependent assemblies.</span></span> <span data-ttu-id="8dead-1031">Nowe interfejsy API profilowania wymagają zestawów zależnych, które są wstrzykiwane przez profiler, aby można je było załadować natychmiast, zamiast ładować po całkowitym zainicjowaniu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-1031">The new profiling APIs require dependent assemblies that are injected by the profiler to be loadable immediately, instead of being loaded after the app is fully initialized.</span></span> <span data-ttu-id="8dead-1032">Ta zmiana nie ma wpływu na użytkowników istniejących `ICorProfiler` interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="8dead-1032">This change doesn't affect users of the existing `ICorProfiler` APIs.</span></span>

- <span data-ttu-id="8dead-1033">**Ulepszenia debugowania.**</span><span class="sxs-lookup"><span data-stu-id="8dead-1033">**Debugging improvements.**</span></span> <span data-ttu-id="8dead-1034">Poniższe nowe niezarządzane interfejsy API debugowania zapewniają lepszą integrację z profilerem.</span><span class="sxs-lookup"><span data-stu-id="8dead-1034">The following new unmanaged debugging APIs provide better integration with a profiler.</span></span> <span data-ttu-id="8dead-1035">Teraz możesz uzyskiwać dostęp do metadanych wstawianych przez profiler, a także zmiennych lokalnych i kodu wytworzonych przez ReJIT kompilatora w przypadku debugowania zrzutów.</span><span class="sxs-lookup"><span data-stu-id="8dead-1035">You can now access metadata inserted by the profiler as well as local variables and code produced by compiler ReJIT requests when dump debugging.</span></span>

  - [<span data-ttu-id="8dead-1036">SetWriteableMetadataUpdateMode, metoda</span><span class="sxs-lookup"><span data-stu-id="8dead-1036">SetWriteableMetadataUpdateMode Method</span></span>](../unmanaged-api/debugging/icordebugprocess7-setwriteablemetadataupdatemode-method.md)
  - [<span data-ttu-id="8dead-1037">EnumerateLocalVariablesEx, metoda</span><span class="sxs-lookup"><span data-stu-id="8dead-1037">EnumerateLocalVariablesEx Method</span></span>](../unmanaged-api/debugging/icordebugilframe4-enumeratelocalvariablesex-method.md)
  - [<span data-ttu-id="8dead-1038">GetLocalVariableEx, metoda</span><span class="sxs-lookup"><span data-stu-id="8dead-1038">GetLocalVariableEx Method</span></span>](../unmanaged-api/debugging/icordebugilframe4-getlocalvariableex-method.md)
  - [<span data-ttu-id="8dead-1039">GetCodeEx, metoda</span><span class="sxs-lookup"><span data-stu-id="8dead-1039">GetCodeEx Method</span></span>](../unmanaged-api/debugging/icordebugilframe4-getcodeex-method.md)
  - [<span data-ttu-id="8dead-1040">GetActiveReJitRequestILCode, metoda</span><span class="sxs-lookup"><span data-stu-id="8dead-1040">GetActiveReJitRequestILCode Method</span></span>](../unmanaged-api/debugging/icordebugfunction3-getactiverejitrequestilcode-method.md)
  - [<span data-ttu-id="8dead-1041">GetInstrumentedILMap, metoda</span><span class="sxs-lookup"><span data-stu-id="8dead-1041">GetInstrumentedILMap Method</span></span>](../unmanaged-api/debugging/icordebugilcode2-getinstrumentedilmap-method.md)

- <span data-ttu-id="8dead-1042">**Zmiany śledzenia zdarzeń.**</span><span class="sxs-lookup"><span data-stu-id="8dead-1042">**Event tracing changes.**</span></span> <span data-ttu-id="8dead-1043">.NET Framework 4.5.2 pozwala na pozaprocesowe śledzenie aktywności na podstawie śledzenia zdarzeń systemu Windows (ETW) dla większego obszaru powierzchni.</span><span class="sxs-lookup"><span data-stu-id="8dead-1043">.NET Framework 4.5.2 enables out-of-process, Event Tracing for Windows (ETW)-based activity tracing for a larger surface area.</span></span> <span data-ttu-id="8dead-1044">Dzięki temu dostawcy zaawansowanego zarządzania energią (APM) mogą zapewnić uproszczone narzędzia, które dokładnie śledzą koszty poszczególnych żądań i działań obejmujących wiele wątków.</span><span class="sxs-lookup"><span data-stu-id="8dead-1044">This enables Advanced Power Management (APM) vendors to provide lightweight tools that accurately track the costs of individual requests and activities that cross threads.</span></span>  <span data-ttu-id="8dead-1045">Te zdarzenia są wywoływane tylko wtedy, gdy są włączone przez kontrolery ETW; w związku z tym zmiany nie mają wpływu na wcześniej zapisany kod ETW lub kod, który jest uruchamiany z funkcją ETW wyłączona.</span><span class="sxs-lookup"><span data-stu-id="8dead-1045">These events are raised only when ETW controllers enable them; therefore, the changes don't affect previously written ETW code or code that runs with ETW disabled.</span></span>

- <span data-ttu-id="8dead-1046">**Podwyższanie poziomu transakcji i konwertowanie jej na trwałe rejestracje**</span><span class="sxs-lookup"><span data-stu-id="8dead-1046">**Promoting a transaction and converting it to a durable enlistment**</span></span>

  <span data-ttu-id="8dead-1047"><xref:System.Transactions.Transaction.PromoteAndEnlistDurable%2A?displayProperty=nameWithType> jest nowym interfejsem API dodanym do .NET Framework 4.5.2 i 4,6:</span><span class="sxs-lookup"><span data-stu-id="8dead-1047"><xref:System.Transactions.Transaction.PromoteAndEnlistDurable%2A?displayProperty=nameWithType> is a new API added to .NET Framework 4.5.2 and 4.6:</span></span>

  ```csharp
  [System.Security.Permissions.PermissionSetAttribute(System.Security.Permissions.SecurityAction.LinkDemand, Name = "FullTrust")]
  public Enlistment PromoteAndEnlistDurable(Guid resourceManagerIdentifier,
                                            IPromotableSinglePhaseNotification promotableNotification,
                                            ISinglePhaseNotification enlistmentNotification,
                                            EnlistmentOptions enlistmentOptions)
  ```

  ```vb
  <System.Security.Permissions.PermissionSetAttribute(System.Security.Permissions.SecurityAction.LinkDemand, Name:="FullTrust")>
  public Function PromoteAndEnlistDurable(resourceManagerIdentifier As Guid,
                                          promotableNotification As IPromotableSinglePhaseNotification,
                                          enlistmentNotification As ISinglePhaseNotification,
                                          enlistmentOptions As EnlistmentOptions) As Enlistment
  ```

  <span data-ttu-id="8dead-1048">Metoda może być używana przez rejestrację, która została wcześniej utworzona przez <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A?displayProperty=nameWithType> w odpowiedzi na <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=nameWithType> metodę.</span><span class="sxs-lookup"><span data-stu-id="8dead-1048">The method may be used by an enlistment that was previously created by <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A?displayProperty=nameWithType> in response to the <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="8dead-1049">Prosi o `System.Transactions` podwyższenie poziomu transakcji do transakcji MSDTC i "Konwertuj" rejestrację promocji na trwałą rejestrację.</span><span class="sxs-lookup"><span data-stu-id="8dead-1049">It asks `System.Transactions` to promote the transaction to an MSDTC transaction and to "convert" the promotable enlistment to a durable enlistment.</span></span> <span data-ttu-id="8dead-1050">Po pomyślnym zakończeniu tej metody <xref:System.Transactions.IPromotableSinglePhaseNotification> interfejs nie będzie już przywoływany przez `System.Transactions` program, a wszystkie przyszłe powiadomienia będą docierać do podanego <xref:System.Transactions.ISinglePhaseNotification> interfejsu.</span><span class="sxs-lookup"><span data-stu-id="8dead-1050">After this method completes successfully, the <xref:System.Transactions.IPromotableSinglePhaseNotification> interface will no longer be referenced by `System.Transactions`, and any future notifications will arrive on the provided <xref:System.Transactions.ISinglePhaseNotification> interface.</span></span> <span data-ttu-id="8dead-1051">Dana Rejestracja musi pełnić rolę trwałej rejestracji, obsługującej rejestrowanie i odzyskiwanie transakcji.</span><span class="sxs-lookup"><span data-stu-id="8dead-1051">The enlistment in question must act as a durable enlistment, supporting transaction logging and recovery.</span></span> <span data-ttu-id="8dead-1052">Aby <xref:System.Transactions.Transaction.EnlistDurable%2A?displayProperty=nameWithType> uzyskać szczegółowe informacje, zobacz.</span><span class="sxs-lookup"><span data-stu-id="8dead-1052">Refer to <xref:System.Transactions.Transaction.EnlistDurable%2A?displayProperty=nameWithType> for details.</span></span> <span data-ttu-id="8dead-1053">Ponadto Rejestracja musi obsługiwać <xref:System.Transactions.ISinglePhaseNotification> .</span><span class="sxs-lookup"><span data-stu-id="8dead-1053">In addition, the enlistment must support <xref:System.Transactions.ISinglePhaseNotification>.</span></span>  <span data-ttu-id="8dead-1054">Tę metodę można wywołać *tylko* podczas przetwarzania <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=nameWithType> wywołania.</span><span class="sxs-lookup"><span data-stu-id="8dead-1054">This method can *only* be called while processing an <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=nameWithType> call.</span></span> <span data-ttu-id="8dead-1055">Jeśli tak nie jest, <xref:System.Transactions.TransactionException> zgłaszany jest wyjątek.</span><span class="sxs-lookup"><span data-stu-id="8dead-1055">If that is not the case, a <xref:System.Transactions.TransactionException> exception is thrown.</span></span>

<a name="v451"></a>

## <a name="whats-new-in-net-framework-451"></a><span data-ttu-id="8dead-1056">Co nowego w .NET Framework 4.5.1</span><span class="sxs-lookup"><span data-stu-id="8dead-1056">What's new in .NET Framework 4.5.1</span></span>

<span data-ttu-id="8dead-1057">**Aktualizacje 2014 kwietnia**:</span><span class="sxs-lookup"><span data-stu-id="8dead-1057">**April 2014 updates**:</span></span>

- <span data-ttu-id="8dead-1058">[Aktualizacja Visual Studio 2013 Update 2](https://go.microsoft.com/fwlink/p/?LinkId=393658) obejmuje aktualizacje szablonów bibliotek klas przenośnych do obsługi następujących scenariuszy:</span><span class="sxs-lookup"><span data-stu-id="8dead-1058">[Visual Studio 2013 Update 2](https://go.microsoft.com/fwlink/p/?LinkId=393658) includes updates to the Portable Class Library templates to support these scenarios:</span></span>

  - <span data-ttu-id="8dead-1059">W bibliotekach przenośnych można używać środowisko wykonawcze systemu Windows interfejsów API przeznaczonych dla Windows 8.1, Windows Phone 8,1 i Windows Phone Silverlight 8,1.</span><span class="sxs-lookup"><span data-stu-id="8dead-1059">You can use Windows Runtime APIs in portable libraries that target Windows 8.1, Windows Phone 8.1, and Windows Phone Silverlight 8.1.</span></span>

  - <span data-ttu-id="8dead-1060">W przenośnych bibliotekach można uwzględnić kod XAML (typy Windows. UI. XAML), gdy jest przeznaczony Windows 8.1 lub Windows Phone 8,1.</span><span class="sxs-lookup"><span data-stu-id="8dead-1060">You can include XAML (Windows.UI.XAML types) in portable libraries when you target Windows 8.1 or Windows Phone 8.1.</span></span> <span data-ttu-id="8dead-1061">Obsługiwane są następujące szablony XAML: pusta strona, słownik zasobów, formant z szablonem i kontrola użytkownika.</span><span class="sxs-lookup"><span data-stu-id="8dead-1061">The following XAML templates are supported:  Blank Page, Resource Dictionary, Templated Control, and User Control.</span></span>

  - <span data-ttu-id="8dead-1062">Można utworzyć przenośny składnik środowisko wykonawcze systemu Windows (plik. winmd) do użycia w aplikacjach ze sklepu przeznaczonym dla Windows 8.1 i Windows Phone 8,1.</span><span class="sxs-lookup"><span data-stu-id="8dead-1062">You can create a portable Windows Runtime component (.winmd file) for use in Store apps that target Windows 8.1 and Windows Phone 8.1.</span></span>

  - <span data-ttu-id="8dead-1063">Można przekierować magazyn Windows lub Windows Phone bibliotekę klas magazynu, jak Biblioteka klas przenośnych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1063">You can retarget a Windows Store or Windows Phone Store class library like a Portable Class Library.</span></span>

  <span data-ttu-id="8dead-1064">Aby uzyskać więcej informacji o tych zmianach, zobacz [Przenośna biblioteka klas](../cross-platform/portable-class-library.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-1064">For more information about these changes, see [Portable Class Library](../cross-platform/portable-class-library.md).</span></span>

- <span data-ttu-id="8dead-1065">Zestaw zawartości .NET Framework zawiera teraz dokumentację .NET Native, która jest technologią prekompilacji do kompilowania i wdrażania aplikacji systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="8dead-1065">The .NET Framework content set now includes documentation for .NET Native, which is a precompilation technology for building and deploying Windows apps.</span></span> <span data-ttu-id="8dead-1066">.NET Native kompiluje aplikacje bezpośrednio do kodu natywnego, a nie do języka pośredniego (IL), aby uzyskać lepszą wydajność.</span><span class="sxs-lookup"><span data-stu-id="8dead-1066">.NET Native compiles your apps directly to native code, rather than to intermediate language (IL), for better performance.</span></span> <span data-ttu-id="8dead-1067">Aby uzyskać szczegółowe informacje, zobacz [Kompilowanie aplikacji za pomocą .NET Native](../net-native/index.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-1067">For details, see [Compiling Apps with .NET Native](../net-native/index.md).</span></span>

- <span data-ttu-id="8dead-1068">[Źródło referencyjne .NET Framework](https://referencesource.microsoft.com/) udostępnia nowe środowisko przeglądania i udoskonalone funkcje.</span><span class="sxs-lookup"><span data-stu-id="8dead-1068">The [.NET Framework Reference Source](https://referencesource.microsoft.com/) provides a new browsing experience and enhanced functionality.</span></span> <span data-ttu-id="8dead-1069">Możesz teraz przeglądać kod źródłowy .NET Framework online, [pobrać odwołanie](https://referencesource.microsoft.com/download.html) do wyświetlania w trybie offline i przejść przez źródła (w tym poprawki i aktualizacje) podczas debugowania.</span><span class="sxs-lookup"><span data-stu-id="8dead-1069">You can now browse through the .NET Framework source code online, [download the reference](https://referencesource.microsoft.com/download.html) for offline viewing, and step through the sources (including patches and updates) during debugging.</span></span> <span data-ttu-id="8dead-1070">Aby uzyskać więcej informacji, zobacz wpis w blogu [nowe wyszukiwanie źródła odwołania dla platformy .NET](https://devblogs.microsoft.com/dotnet/a-new-look-for-net-reference-source/).</span><span class="sxs-lookup"><span data-stu-id="8dead-1070">For more information, see the blog entry [A new look for .NET Reference Source](https://devblogs.microsoft.com/dotnet/a-new-look-for-net-reference-source/).</span></span>

<span data-ttu-id="8dead-1071">Nowe funkcje i ulepszenia w klasach bazowych w .NET Framework 4.5.1 obejmują:</span><span class="sxs-lookup"><span data-stu-id="8dead-1071">New features and enhancements in the base classes in .NET Framework 4.5.1 include:</span></span>

- <span data-ttu-id="8dead-1072">Automatyczne przekierowywanie powiązań dla zestawów.</span><span class="sxs-lookup"><span data-stu-id="8dead-1072">Automatic binding redirection for assemblies.</span></span> <span data-ttu-id="8dead-1073">Rozpoczynając od Visual Studio 2013, podczas kompilowania aplikacji przeznaczonej dla .NET Framework 4.5.1 można dodać przekierowania powiązań do pliku konfiguracyjnego aplikacji, jeśli aplikacja lub jej składniki odwołują się do wielu wersji tego samego zestawu.</span><span class="sxs-lookup"><span data-stu-id="8dead-1073">Starting with Visual Studio 2013, when you compile an app that targets .NET Framework 4.5.1, binding redirects may be added to the app configuration file if your app or its components reference multiple versions of the same assembly.</span></span> <span data-ttu-id="8dead-1074">Tę funkcję można również włączyć dla projektów przeznaczonych dla starszych wersji .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8dead-1074">You can also enable this feature for projects that target older versions of .NET Framework.</span></span> <span data-ttu-id="8dead-1075">Aby uzyskać więcej informacji, zobacz [jak: Włączanie i wyłączanie automatycznego przekierowywania powiązań](../configure-apps/how-to-enable-and-disable-automatic-binding-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-1075">For more information, see [How to: Enable and Disable Automatic Binding Redirection](../configure-apps/how-to-enable-and-disable-automatic-binding-redirection.md).</span></span>

- <span data-ttu-id="8dead-1076">Możliwość zbierania informacji diagnostycznych, aby pomóc deweloperom w ulepszaniu wydajności serwerów i aplikacji w chmurze.</span><span class="sxs-lookup"><span data-stu-id="8dead-1076">Ability to collect diagnostics information to help developers improve the performance of server and cloud applications.</span></span> <span data-ttu-id="8dead-1077">Aby uzyskać więcej informacji, zobacz <xref:System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityId%2A> <xref:System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore%2A> metody i w <xref:System.Diagnostics.Tracing.EventSource> klasie.</span><span class="sxs-lookup"><span data-stu-id="8dead-1077">For more information, see the <xref:System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityId%2A> and <xref:System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore%2A> methods in the <xref:System.Diagnostics.Tracing.EventSource> class.</span></span>

- <span data-ttu-id="8dead-1078">Możliwość jawnego kompaktowania sterty dużego obiektu (LOH) podczas wyrzucania elementów bezużytecznych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1078">Ability to explicitly compact the large object heap (LOH) during garbage collection.</span></span> <span data-ttu-id="8dead-1079">Aby uzyskać więcej informacji, zobacz <xref:System.Runtime.GCSettings.LargeObjectHeapCompactionMode%2A?displayProperty=nameWithType> Właściwość.</span><span class="sxs-lookup"><span data-stu-id="8dead-1079">For more information, see the <xref:System.Runtime.GCSettings.LargeObjectHeapCompactionMode%2A?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="8dead-1080">Dodatkowe ulepszenia wydajności, takie jak zawieszenie aplikacji ASP.NET, wielordzeniowe udoskonalenia JIT i szybsze uruchamianie aplikacji po aktualizacji .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8dead-1080">Additional performance improvements such as ASP.NET app suspension, multi-core JIT improvements, and faster app startup after a .NET Framework update.</span></span> <span data-ttu-id="8dead-1081">Aby uzyskać szczegółowe informacje, zapoznaj się z wpisem w blogu [.NET Framework 4.5.1](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/) i [zawieszania aplikacji ASP.NET](https://devblogs.microsoft.com/dotnet/asp-net-app-suspend-responsive-shared-net-web-hosting/) .</span><span class="sxs-lookup"><span data-stu-id="8dead-1081">For details, see the [.NET Framework 4.5.1 announcement](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/) and the [ASP.NET app suspend](https://devblogs.microsoft.com/dotnet/asp-net-app-suspend-responsive-shared-net-web-hosting/) blog post.</span></span>

<span data-ttu-id="8dead-1082">Ulepszenia Windows Forms obejmują:</span><span class="sxs-lookup"><span data-stu-id="8dead-1082">Improvements to Windows Forms include:</span></span>

- <span data-ttu-id="8dead-1083">Zmienianie rozmiarów w kontrolkach Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="8dead-1083">Resizing in Windows Forms controls.</span></span> <span data-ttu-id="8dead-1084">Ustawienia DPI systemu można użyć do zmiany rozmiaru składników formantów (na przykład ikon, które pojawiają się w siatce właściwości) przez zajęcie wpisu w pliku konfiguracyjnym aplikacji (app.config) dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-1084">You can use the system DPI setting to resize components of controls (for example, the icons that appear in a property grid) by opting in with an entry in the application configuration file (app.config) for your app.</span></span> <span data-ttu-id="8dead-1085">Ta funkcja jest obecnie obsługiwana w następujących formantach Windows Forms:</span><span class="sxs-lookup"><span data-stu-id="8dead-1085">This feature is currently supported in the following Windows Forms controls:</span></span>

  - <xref:System.Windows.Forms.PropertyGrid>
  - <xref:System.Windows.Forms.TreeView>
  - <span data-ttu-id="8dead-1086">Niektóre aspekty <xref:System.Windows.Forms.DataGridView> (zobacz [nowe funkcje w 4.5.2 w](#v452) przypadku dodatkowych formantów)</span><span class="sxs-lookup"><span data-stu-id="8dead-1086">Some aspects of the <xref:System.Windows.Forms.DataGridView> (see [new features in 4.5.2](#v452) for additional controls supported)</span></span>

  <span data-ttu-id="8dead-1087">Aby włączyć tę funkcję, Dodaj nowy \<appSettings> element do pliku konfiguracji (app.config) i ustaw dla niego `EnableWindowsFormsHighDpiAutoResizing` element `true` :</span><span class="sxs-lookup"><span data-stu-id="8dead-1087">To enable this feature, add a new \<appSettings> element to the configuration file (app.config) and set the `EnableWindowsFormsHighDpiAutoResizing` element to `true`:</span></span>

  ```xml
  <appSettings>
      <add key="EnableWindowsFormsHighDpiAutoResizing" value="true" />
  </appSettings>
  ```

<span data-ttu-id="8dead-1088">Ulepszenia podczas debugowania aplikacji .NET Framework w Visual Studio 2013 obejmują:</span><span class="sxs-lookup"><span data-stu-id="8dead-1088">Improvements when debugging your .NET Framework apps in Visual Studio 2013 include:</span></span>

- <span data-ttu-id="8dead-1089">Zwraca wartości w debugerze programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="8dead-1089">Return values in the Visual Studio debugger.</span></span> <span data-ttu-id="8dead-1090">Gdy debugujesz zarządzaną aplikację w Visual Studio 2013, w oknie samochody są wyświetlane typy zwracane i wartości dla metod.</span><span class="sxs-lookup"><span data-stu-id="8dead-1090">When you debug a managed app in Visual Studio 2013, the Autos window displays return types and values for methods.</span></span> <span data-ttu-id="8dead-1091">Te informacje są dostępne dla aplikacji klasycznych, sklepu Windows i Windows Phone.</span><span class="sxs-lookup"><span data-stu-id="8dead-1091">This information is available for desktop, Windows Store, and Windows Phone apps.</span></span> <span data-ttu-id="8dead-1092">Aby uzyskać więcej informacji, zobacz [badanie wartości zwracanych wywołań metod](/previous-versions/visualstudio/visual-studio-2013/dn323257(v=vs.120)).</span><span class="sxs-lookup"><span data-stu-id="8dead-1092">For more information, see [Examine return values of method calls](/previous-versions/visualstudio/visual-studio-2013/dn323257(v=vs.120)).</span></span>

- <span data-ttu-id="8dead-1093">Edytuj i Kontynuuj dla aplikacji 64-bitowych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1093">Edit and Continue for 64-bit apps.</span></span> <span data-ttu-id="8dead-1094">Visual Studio 2013 obsługuje funkcję Edytuj i Kontynuuj dla 64-bitowych aplikacji zarządzanych dla komputerów stacjonarnych, sklepu Windows i Windows Phone.</span><span class="sxs-lookup"><span data-stu-id="8dead-1094">Visual Studio 2013 supports the Edit and Continue feature for 64-bit managed apps for desktop, Windows Store, and Windows Phone.</span></span> <span data-ttu-id="8dead-1095">Istniejące ograniczenia nadal obowiązują dla aplikacji 32-bitowych i 64-bitowych (zobacz ostatnią sekcję [obsługiwane zmiany kodu (C#)](/visualstudio/debugger/supported-code-changes-csharp) ).</span><span class="sxs-lookup"><span data-stu-id="8dead-1095">The existing limitations remain in effect for both 32-bit and 64-bit apps (see the last section of the [Supported Code Changes (C#)](/visualstudio/debugger/supported-code-changes-csharp) article).</span></span>

- <span data-ttu-id="8dead-1096">Debugowanie z obsługą asynchroniczną.</span><span class="sxs-lookup"><span data-stu-id="8dead-1096">Async-aware debugging.</span></span> <span data-ttu-id="8dead-1097">Aby ułatwić debugowanie asynchronicznych aplikacji w Visual Studio 2013, stos wywołań ukrywa kod infrastruktury zapewniany przez kompilatory do obsługi asynchronicznego programowania, a także łańcuchuje w logicznych klatkach nadrzędnych, aby można było dokładniej wykonać wykonywanie programu logicznego.</span><span class="sxs-lookup"><span data-stu-id="8dead-1097">To make it easier to debug asynchronous apps in Visual Studio 2013, the call stack hides the infrastructure code provided by compilers to support asynchronous programming, and also chains in logical parent frames so you can follow logical program execution more clearly.</span></span> <span data-ttu-id="8dead-1098">Okno zadań zastępuje okno zadania równoległe i wyświetla zadania, które odnoszą się do określonego punktu przerwania, a także wyświetla wszystkie inne zadania, które są aktualnie aktywne lub zaplanowane w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-1098">A Tasks window replaces the Parallel Tasks window and displays tasks that relate to a particular breakpoint, and also displays any other tasks that are currently active or scheduled in the app.</span></span> <span data-ttu-id="8dead-1099">Informacje o tej funkcji można znaleźć w sekcji "debugowanie z obsługą asynchroniczną" [anonsu .NET Framework 4.5.1](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/).</span><span class="sxs-lookup"><span data-stu-id="8dead-1099">You can read about this feature in the "Async-aware debugging" section of the [.NET Framework 4.5.1 announcement](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/).</span></span>

- <span data-ttu-id="8dead-1100">Lepsza obsługa wyjątków dla składników środowisko wykonawcze systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="8dead-1100">Better exception support for Windows Runtime components.</span></span> <span data-ttu-id="8dead-1101">W Windows 8.1 wyjątki, które powstają w aplikacjach ze sklepu Windows, zachowują informacje o błędzie, który spowodował wyjątek, nawet między granicami języka.</span><span class="sxs-lookup"><span data-stu-id="8dead-1101">In Windows 8.1, exceptions that arise from Windows Store apps preserve information about the error that caused the exception, even across language boundaries.</span></span> <span data-ttu-id="8dead-1102">Informacje o tej funkcji można znaleźć w sekcji "Programowanie aplikacji ze sklepu Windows" w [ogłoszeniu .NET Framework 4.5.1](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/).</span><span class="sxs-lookup"><span data-stu-id="8dead-1102">You can read about this feature in the "Windows Store app development" section of the [.NET Framework 4.5.1 announcement](https://devblogs.microsoft.com/dotnet/announcing-the-net-framework-4-5-1-preview/).</span></span>

<span data-ttu-id="8dead-1103">Począwszy od Visual Studio 2013, można użyć [narzędzia optymalizacji zarządzanego profilu (Mpgo.exe)](../tools/mpgo-exe-managed-profile-guided-optimization-tool.md) do optymalizowania aplikacji do sklepu Windows 8. x, a także aplikacji klasycznych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1103">Starting with Visual Studio 2013, you can use the [Managed Profile Guided Optimization Tool (Mpgo.exe)](../tools/mpgo-exe-managed-profile-guided-optimization-tool.md) to optimize Windows 8.x Store apps as well as desktop apps.</span></span>

<span data-ttu-id="8dead-1104">Nowe funkcje w programie ASP.NET 4.5.1 można znaleźć w temacie [ASP.NET and Web Tools for Visual Studio 2013 informacji o wersji](/aspnet/visual-studio/overview/2013/release-notes).</span><span class="sxs-lookup"><span data-stu-id="8dead-1104">For new features in ASP.NET 4.5.1, see [ASP.NET and Web Tools for Visual Studio 2013 Release Notes](/aspnet/visual-studio/overview/2013/release-notes).</span></span>

<a name="v45"></a>

## <a name="whats-new-in-net-framework-45"></a><span data-ttu-id="8dead-1105">Co nowego w .NET Framework 4,5</span><span class="sxs-lookup"><span data-stu-id="8dead-1105">What's new in .NET Framework 4.5</span></span>

### <a name="base-classes"></a><span data-ttu-id="8dead-1106">Klas podstawowych</span><span class="sxs-lookup"><span data-stu-id="8dead-1106">Base classes</span></span>

- <span data-ttu-id="8dead-1107">Możliwość zmniejszenia liczby ponownych uruchomień systemu przez wykrywanie i zamykanie aplikacji .NET Framework 4 podczas wdrażania.</span><span class="sxs-lookup"><span data-stu-id="8dead-1107">Ability to reduce system restarts by detecting and closing .NET Framework 4 applications during deployment.</span></span> <span data-ttu-id="8dead-1108">Zobacz [zmniejszanie liczby ponownych uruchomień systemu podczas instalacji .NET Framework 4,5](../deployment/reducing-system-restarts.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-1108">See [Reducing System Restarts During .NET Framework 4.5 Installations](../deployment/reducing-system-restarts.md).</span></span>

- <span data-ttu-id="8dead-1109">Obsługa tablic o rozmiarze większym niż 2 gigabajty (GB) na platformach 64-bitowych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1109">Support for arrays that are larger than 2 gigabytes (GB) on 64-bit platforms.</span></span> <span data-ttu-id="8dead-1110">Tę funkcję można włączyć w pliku konfiguracji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-1110">This feature can be enabled in the application configuration file.</span></span> <span data-ttu-id="8dead-1111">Zobacz [ \<gcAllowVeryLargeObjects> element](../configure-apps/file-schema/runtime/gcallowverylargeobjects-element.md), który zawiera również inne ograniczenia dotyczące rozmiaru obiektu i rozmiaru tablicy.</span><span class="sxs-lookup"><span data-stu-id="8dead-1111">See the [\<gcAllowVeryLargeObjects> element](../configure-apps/file-schema/runtime/gcallowverylargeobjects-element.md), which also lists other restrictions on object size and array size.</span></span>

- <span data-ttu-id="8dead-1112">Lepsza wydajność dzięki wyrzucaniu elementów bezużytecznych w tle dla serwerów.</span><span class="sxs-lookup"><span data-stu-id="8dead-1112">Better performance through background garbage collection for servers.</span></span> <span data-ttu-id="8dead-1113">W przypadku używania wyrzucania elementów bezużytecznych serwera w .NET Framework 4,5, wyrzucanie elementów bezużytecznych w tle jest automatycznie włączone</span><span class="sxs-lookup"><span data-stu-id="8dead-1113">When you use server garbage collection in .NET Framework 4.5, background garbage collection is automatically enabled.</span></span> <span data-ttu-id="8dead-1114">Zobacz sekcję odzyskiwanie pamięci w tle w temacie Podstawowe informacje dotyczące [wyrzucania elementów bezużytecznych](../../standard/garbage-collection/fundamentals.md) .</span><span class="sxs-lookup"><span data-stu-id="8dead-1114">See the Background Server Garbage Collection section of the [Fundamentals of Garbage Collection](../../standard/garbage-collection/fundamentals.md) topic.</span></span>

- <span data-ttu-id="8dead-1115">Kompilacja just-in-Time (JIT) w tle, która jest opcjonalnie dostępna na wielordzeniowych procesorach, aby zwiększyć wydajność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-1115">Background just-in-time (JIT) compilation, which is optionally available on multi-core processors to improve application performance.</span></span> <span data-ttu-id="8dead-1116">Zobacz: <xref:System.Runtime.ProfileOptimization>.</span><span class="sxs-lookup"><span data-stu-id="8dead-1116">See <xref:System.Runtime.ProfileOptimization>.</span></span>

- <span data-ttu-id="8dead-1117">Możliwość ograniczenia czasu, przez który aparat wyrażeń regularnych podejmie próbę rozpoznania wyrażenia regularnego przed przekroczeniem limitu czasu. Zobacz <xref:System.Text.RegularExpressions.Regex.MatchTimeout%2A?displayProperty=nameWithType> Właściwość.</span><span class="sxs-lookup"><span data-stu-id="8dead-1117">Ability to limit how long the regular expression engine will attempt to resolve a regular expression before it times out. See the <xref:System.Text.RegularExpressions.Regex.MatchTimeout%2A?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="8dead-1118">Możliwość zdefiniowania domyślnej kultury dla domeny aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-1118">Ability to define the default culture for an application domain.</span></span> <span data-ttu-id="8dead-1119">Zapoznaj się z <xref:System.Globalization.CultureInfo> klasą.</span><span class="sxs-lookup"><span data-stu-id="8dead-1119">See the <xref:System.Globalization.CultureInfo> class.</span></span>

- <span data-ttu-id="8dead-1120">Obsługa kodowania Unicode (UTF-16) w konsoli.</span><span class="sxs-lookup"><span data-stu-id="8dead-1120">Console support for Unicode (UTF-16) encoding.</span></span> <span data-ttu-id="8dead-1121">Zapoznaj się z <xref:System.Console> klasą.</span><span class="sxs-lookup"><span data-stu-id="8dead-1121">See the <xref:System.Console> class.</span></span>

- <span data-ttu-id="8dead-1122">Obsługa wersji uporządkowania ciągów i danych porównawczych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1122">Support for versioning of cultural string ordering and comparison data.</span></span> <span data-ttu-id="8dead-1123">Zapoznaj się z <xref:System.Globalization.SortVersion> klasą.</span><span class="sxs-lookup"><span data-stu-id="8dead-1123">See the <xref:System.Globalization.SortVersion> class.</span></span>

- <span data-ttu-id="8dead-1124">Lepsza wydajność podczas pobierania zasobów.</span><span class="sxs-lookup"><span data-stu-id="8dead-1124">Better performance when retrieving resources.</span></span> <span data-ttu-id="8dead-1125">Zobacz [pakowanie i wdrażanie zasobów](../resources/packaging-and-deploying-resources-in-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-1125">See [Packaging and Deploying Resources](../resources/packaging-and-deploying-resources-in-desktop-apps.md).</span></span>

- <span data-ttu-id="8dead-1126">Udoskonalenia kompresji ZIP w celu zmniejszenia rozmiaru skompresowanego pliku.</span><span class="sxs-lookup"><span data-stu-id="8dead-1126">Zip compression improvements to reduce the size of a compressed file.</span></span> <span data-ttu-id="8dead-1127">Zobacz <xref:System.IO.Compression?displayProperty=nameWithType> obszar nazw.</span><span class="sxs-lookup"><span data-stu-id="8dead-1127">See the <xref:System.IO.Compression?displayProperty=nameWithType> namespace.</span></span>

- <span data-ttu-id="8dead-1128">Możliwość dostosowania kontekstu odbicia w celu przesłania domyślnego zachowania odbicia za pomocą <xref:System.Reflection.Context.CustomReflectionContext> klasy.</span><span class="sxs-lookup"><span data-stu-id="8dead-1128">Ability to customize a reflection context to override default reflection behavior through the <xref:System.Reflection.Context.CustomReflectionContext> class.</span></span>

- <span data-ttu-id="8dead-1129">Obsługa wersji 2008 międzynarodowych nazw domen w programie Applications (IDNA) standard, gdy <xref:System.Globalization.IdnMapping?displayProperty=nameWithType> Klasa jest używana w systemie Windows 8.</span><span class="sxs-lookup"><span data-stu-id="8dead-1129">Support for the 2008 version of the Internationalized Domain Names in Applications (IDNA) standard when the <xref:System.Globalization.IdnMapping?displayProperty=nameWithType> class is used  on Windows 8.</span></span>

- <span data-ttu-id="8dead-1130">Delegowanie porównania ciągów do systemu operacyjnego, który implementuje standard Unicode 6,0, gdy .NET Framework jest używany w systemie Windows 8.</span><span class="sxs-lookup"><span data-stu-id="8dead-1130">Delegation of string comparison to the operating system, which implements Unicode 6.0, when the .NET Framework is used on Windows 8.</span></span> <span data-ttu-id="8dead-1131">W przypadku uruchamiania na innych platformach .NET Framework obejmuje własne dane porównania ciągów, które implementują standard Unicode 5. x.</span><span class="sxs-lookup"><span data-stu-id="8dead-1131">When running on other platforms, the .NET Framework includes its own string comparison data, which implements Unicode 5.x.</span></span> <span data-ttu-id="8dead-1132">Zapoznaj się z <xref:System.String> klasą i sekcjami uwagi <xref:System.Globalization.SortVersion> klasy.</span><span class="sxs-lookup"><span data-stu-id="8dead-1132">See the <xref:System.String> class and the Remarks section of the <xref:System.Globalization.SortVersion> class.</span></span>

- <span data-ttu-id="8dead-1133">Możliwość obliczania kodów skrótów dla ciągów na podstawie poszczególnych domen aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-1133">Ability to compute the hash codes for strings on a per application domain basis.</span></span> <span data-ttu-id="8dead-1134">Zobacz [ \<UseRandomizedStringHashAlgorithm> element](../configure-apps/file-schema/runtime/userandomizedstringhashalgorithm-element.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-1134">See [\<UseRandomizedStringHashAlgorithm> Element](../configure-apps/file-schema/runtime/userandomizedstringhashalgorithm-element.md).</span></span>

- <span data-ttu-id="8dead-1135">Obsługa odbicia typu jest dzielona między <xref:System.Type> <xref:System.Reflection.TypeInfo> klasy i.</span><span class="sxs-lookup"><span data-stu-id="8dead-1135">Type reflection support split between <xref:System.Type> and <xref:System.Reflection.TypeInfo> classes.</span></span> <span data-ttu-id="8dead-1136">Zobacz [odbicie w .NET Framework dla aplikacji ze sklepu Windows](../reflection-and-codedom/reflection-for-windows-store-apps.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-1136">See [Reflection in the .NET Framework for Windows Store Apps](../reflection-and-codedom/reflection-for-windows-store-apps.md).</span></span>

### <a name="managed-extensibility-framework-mef"></a><span data-ttu-id="8dead-1137">Managed Extensibility Framework (MEF)</span><span class="sxs-lookup"><span data-stu-id="8dead-1137">Managed Extensibility Framework (MEF)</span></span>

<span data-ttu-id="8dead-1138">W .NET Framework 4,5 Managed Extensibility Framework (MEF) udostępnia następujące nowe funkcje:</span><span class="sxs-lookup"><span data-stu-id="8dead-1138">In .NET Framework 4.5, the Managed Extensibility Framework (MEF) provides the following new features:</span></span>

- <span data-ttu-id="8dead-1139">Obsługa typów ogólnych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1139">Support for generic types.</span></span>

- <span data-ttu-id="8dead-1140">Model programowania oparty na Konwencji, który umożliwia tworzenie części na podstawie konwencji nazewnictwa, a nie atrybutów.</span><span class="sxs-lookup"><span data-stu-id="8dead-1140">Convention-based programming model that enables you to create parts based on naming conventions rather than attributes.</span></span>

- <span data-ttu-id="8dead-1141">Wiele zakresów.</span><span class="sxs-lookup"><span data-stu-id="8dead-1141">Multiple scopes.</span></span>

- <span data-ttu-id="8dead-1142">Podzbiór MEF, którego można używać podczas tworzenia aplikacji do sklepu Windows 8. x.</span><span class="sxs-lookup"><span data-stu-id="8dead-1142">A subset of MEF that you can use when you create Windows 8.x Store apps.</span></span> <span data-ttu-id="8dead-1143">Ten podzestaw jest dostępny jako [pakiet do pobrania](https://www.nuget.org/packages/Microsoft.Composition) z galerii NuGet.</span><span class="sxs-lookup"><span data-stu-id="8dead-1143">This subset is available as a [downloadable package](https://www.nuget.org/packages/Microsoft.Composition) from the NuGet Gallery.</span></span> <span data-ttu-id="8dead-1144">Aby zainstalować pakiet, Otwórz projekt w programie Visual Studio, wybierz polecenie **Zarządzaj pakietami NuGet** z menu **projekt** i Wyszukaj w trybie online `Microsoft.Composition` pakiet.</span><span class="sxs-lookup"><span data-stu-id="8dead-1144">To install the package, open your project in Visual Studio, choose **Manage NuGet Packages** from the **Project** menu, and search online for the `Microsoft.Composition` package.</span></span>

<span data-ttu-id="8dead-1145">Aby uzyskać więcej informacji, zobacz [Managed Extensibility Framework (MEF)](../mef/index.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-1145">For more information, see [Managed Extensibility Framework (MEF)](../mef/index.md).</span></span>

### <a name="asynchronous-file-operations"></a><span data-ttu-id="8dead-1146">Asynchroniczne operacje na plikach</span><span class="sxs-lookup"><span data-stu-id="8dead-1146">Asynchronous file operations</span></span>

<span data-ttu-id="8dead-1147">W .NET Framework 4,5 nowe funkcje asynchroniczne zostały dodane do języków C# i Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="8dead-1147">In .NET Framework 4.5, new asynchronous features were added to the C# and Visual Basic languages.</span></span> <span data-ttu-id="8dead-1148">Te funkcje dodają model oparty na zadaniach służący do wykonywania operacji asynchronicznych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1148">These features add a task-based model for performing asynchronous operations.</span></span> <span data-ttu-id="8dead-1149">Aby użyć tego nowego modelu, należy użyć metod asynchronicznych w klasach we/wy.</span><span class="sxs-lookup"><span data-stu-id="8dead-1149">To use this new model, use the asynchronous methods in the I/O classes.</span></span> <span data-ttu-id="8dead-1150">Zobacz [asynchroniczne operacje we/wy pliku](../../standard/io/asynchronous-file-i-o.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-1150">See [Asynchronous File I/O](../../standard/io/asynchronous-file-i-o.md).</span></span>

<a name="tools"></a>

### <a name="tools"></a><span data-ttu-id="8dead-1151">Narzędzia</span><span class="sxs-lookup"><span data-stu-id="8dead-1151">Tools</span></span>

<span data-ttu-id="8dead-1152">W .NET Framework 4,5, Generator plików zasobów (Resgen.exe) umożliwia utworzenie pliku. resw do użycia w aplikacji do sklepu Windows 8. x z pliku Resources osadzonego w zestawie .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8dead-1152">In .NET Framework 4.5, Resource File Generator (Resgen.exe) enables you to create a .resw file for use in Windows 8.x Store apps from a .resources file embedded in a .NET Framework assembly.</span></span> <span data-ttu-id="8dead-1153">Aby uzyskać więcej informacji, zobacz [Resgen.exe (Generator plików zasobów)](../tools/resgen-exe-resource-file-generator.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-1153">For more information, see [Resgen.exe (Resource File Generator)](../tools/resgen-exe-resource-file-generator.md).</span></span>

<span data-ttu-id="8dead-1154">Optymalizacja z przewodnikiem zarządzanym profilem (Mpgo.exe) umożliwia skrócenie czasu uruchamiania aplikacji, wykorzystanie pamięci (rozmiar zestawu roboczego) i przepływność przez optymalizację zestawów obrazów natywnych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1154">Managed Profile Guided Optimization (Mpgo.exe) enables you to improve application startup time, memory utilization (working set size), and throughput by optimizing native image assemblies.</span></span> <span data-ttu-id="8dead-1155">Narzędzie wiersza polecenia generuje dane profilowe dla zestawów aplikacji obrazu natywnego.</span><span class="sxs-lookup"><span data-stu-id="8dead-1155">The command-line tool generates profile data for native image application assemblies.</span></span> <span data-ttu-id="8dead-1156">Zobacz [Mpgo.exe (Narzędzie optymalizacji zarządzanego profilu)](../tools/mpgo-exe-managed-profile-guided-optimization-tool.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-1156">See [Mpgo.exe (Managed Profile Guided Optimization Tool)](../tools/mpgo-exe-managed-profile-guided-optimization-tool.md).</span></span> <span data-ttu-id="8dead-1157">Począwszy od Visual Studio 2013 można używać Mpgo.exe do optymalizowania aplikacji do sklepu Windows 8. x, a także aplikacji klasycznych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1157">Starting with Visual Studio 2013, you can use Mpgo.exe to optimize Windows 8.x Store apps as well as desktop apps.</span></span>

<a name="parallel"></a>

### <a name="parallel-computing"></a><span data-ttu-id="8dead-1158">Przetwarzanie równoległe</span><span class="sxs-lookup"><span data-stu-id="8dead-1158">Parallel computing</span></span>

<span data-ttu-id="8dead-1159">.NET Framework 4,5 oferuje kilka nowych funkcji i ulepszeń obliczeń równoległych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1159">.NET Framework 4.5 provides several new features and improvements for parallel computing.</span></span> <span data-ttu-id="8dead-1160">Obejmują one ulepszoną wydajność, zwiększoną kontrolę, ulepszoną obsługę programowania asynchronicznego, nową bibliotekę przepływu danych oraz ulepszoną obsługę debugowania równoległego i wydajności.</span><span class="sxs-lookup"><span data-stu-id="8dead-1160">These include improved performance, increased control, improved support for asynchronous programming, a new dataflow library, and improved support for parallel debugging and performance analysis.</span></span> <span data-ttu-id="8dead-1161">Zapoznaj się z wpisem [co nowego w zakresie równoległości w .NET Framework 4,5](https://devblogs.microsoft.com/pfxteam/whats-new-for-parallelism-in-net-4-5/) w blogu programowanie równoległe przy użyciu platformy .NET.</span><span class="sxs-lookup"><span data-stu-id="8dead-1161">See the entry [What's New for Parallelism in .NET Framework 4.5](https://devblogs.microsoft.com/pfxteam/whats-new-for-parallelism-in-net-4-5/) in the Parallel Programming with .NET blog.</span></span>

<a name="web"></a>

### <a name="web"></a><span data-ttu-id="8dead-1162">Sieć Web</span><span class="sxs-lookup"><span data-stu-id="8dead-1162">Web</span></span>

<span data-ttu-id="8dead-1163">ASP.NET 4,5 i 4.5.1 Dodawanie powiązania modelu dla formularzy sieci Web, obsługi protokołu WebSocket, obsługi asynchronicznych, ulepszeń wydajności i wielu innych funkcji.</span><span class="sxs-lookup"><span data-stu-id="8dead-1163">ASP.NET 4.5 and 4.5.1 add model binding for Web Forms, WebSocket support, asynchronous handlers, performance enhancements, and many other features.</span></span> <span data-ttu-id="8dead-1164">Więcej informacji można znaleźć w następujących zasobach:</span><span class="sxs-lookup"><span data-stu-id="8dead-1164">For more information, see the following resources:</span></span>

- <span data-ttu-id="8dead-1165">[ASP.NET 4,5 i Visual Studio 2012](/previous-versions/aspnet/hh420390(v=vs.110))</span><span class="sxs-lookup"><span data-stu-id="8dead-1165">[ASP.NET 4.5 and Visual Studio 2012](/previous-versions/aspnet/hh420390(v=vs.110))</span></span>

- [<span data-ttu-id="8dead-1166">Rozszerzenie ASP.NET and Web Tools dla programu Visual Studio 2013 — informacje o wersji</span><span class="sxs-lookup"><span data-stu-id="8dead-1166">ASP.NET and Web Tools for Visual Studio 2013 Release Notes</span></span>](/aspnet/visual-studio/overview/2013/release-notes)

### <a name="networking"></a><span data-ttu-id="8dead-1167">Sieci <a name="networking"></a></span><span class="sxs-lookup"><span data-stu-id="8dead-1167">Networking <a name="networking"></a></span></span>

<span data-ttu-id="8dead-1168">.NET Framework 4,5 udostępnia nowy interfejs programowania dla aplikacji HTTP.</span><span class="sxs-lookup"><span data-stu-id="8dead-1168">.NET Framework 4.5 provides a new programming interface for HTTP applications.</span></span> <span data-ttu-id="8dead-1169">Aby uzyskać więcej informacji, zobacz nowe <xref:System.Net.Http?displayProperty=nameWithType> i <xref:System.Net.Http.Headers?displayProperty=nameWithType> przestrzenie nazw.</span><span class="sxs-lookup"><span data-stu-id="8dead-1169">For more information, see the new <xref:System.Net.Http?displayProperty=nameWithType> and <xref:System.Net.Http.Headers?displayProperty=nameWithType> namespaces.</span></span>

<span data-ttu-id="8dead-1170">Pomoc techniczna jest również dostępna dla nowego interfejsu programowania do akceptowania i korzystania z połączenia WebSocket przy użyciu istniejących <xref:System.Net.HttpListener> i powiązanych klas.</span><span class="sxs-lookup"><span data-stu-id="8dead-1170">Support is also included for a new programming interface for accepting and interacting with a WebSocket connection by using the existing <xref:System.Net.HttpListener> and related classes.</span></span> <span data-ttu-id="8dead-1171">Aby uzyskać więcej informacji, zobacz nową <xref:System.Net.WebSockets> przestrzeń nazw i <xref:System.Net.HttpListener> klasy.</span><span class="sxs-lookup"><span data-stu-id="8dead-1171">For more information, see the new <xref:System.Net.WebSockets> namespace and the <xref:System.Net.HttpListener> class.</span></span>

<span data-ttu-id="8dead-1172">Ponadto .NET Framework 4,5 obejmuje następujące udoskonalenia sieci:</span><span class="sxs-lookup"><span data-stu-id="8dead-1172">In addition, .NET Framework 4.5 includes the following networking improvements:</span></span>

- <span data-ttu-id="8dead-1173">Obsługa identyfikatorów URI zgodnych ze standardem RFC.</span><span class="sxs-lookup"><span data-stu-id="8dead-1173">RFC-compliant URI support.</span></span> <span data-ttu-id="8dead-1174">Aby uzyskać więcej informacji, zobacz <xref:System.Uri> i powiązane klasy.</span><span class="sxs-lookup"><span data-stu-id="8dead-1174">For more information, see <xref:System.Uri> and related classes.</span></span>

- <span data-ttu-id="8dead-1175">Obsługa analizy międzynarodowej nazwy domeny (IDN).</span><span class="sxs-lookup"><span data-stu-id="8dead-1175">Support for Internationalized Domain Name (IDN) parsing.</span></span> <span data-ttu-id="8dead-1176">Aby uzyskać więcej informacji, zobacz <xref:System.Uri> i powiązane klasy.</span><span class="sxs-lookup"><span data-stu-id="8dead-1176">For more information, see <xref:System.Uri> and related classes.</span></span>

- <span data-ttu-id="8dead-1177">Obsługa funkcji wielojęzycznych dla adresów E-mail (EAI).</span><span class="sxs-lookup"><span data-stu-id="8dead-1177">Support for Email Address Internationalization (EAI).</span></span> <span data-ttu-id="8dead-1178">Aby uzyskać więcej informacji, zobacz <xref:System.Net.Mail> przestrzeń nazw.</span><span class="sxs-lookup"><span data-stu-id="8dead-1178">For more information, see the <xref:System.Net.Mail> namespace.</span></span>

- <span data-ttu-id="8dead-1179">Ulepszona obsługa protokołu IPv6.</span><span class="sxs-lookup"><span data-stu-id="8dead-1179">Improved IPv6 support.</span></span> <span data-ttu-id="8dead-1180">Aby uzyskać więcej informacji, zobacz <xref:System.Net.NetworkInformation> przestrzeń nazw.</span><span class="sxs-lookup"><span data-stu-id="8dead-1180">For more information, see the <xref:System.Net.NetworkInformation> namespace.</span></span>

- <span data-ttu-id="8dead-1181">Obsługa gniazd Dual-Mode.</span><span class="sxs-lookup"><span data-stu-id="8dead-1181">Dual-mode socket support.</span></span> <span data-ttu-id="8dead-1182">Aby uzyskać więcej informacji, zobacz <xref:System.Net.Sockets.Socket> <xref:System.Net.Sockets.TcpListener> klasy i.</span><span class="sxs-lookup"><span data-stu-id="8dead-1182">For more information, see the <xref:System.Net.Sockets.Socket> and <xref:System.Net.Sockets.TcpListener> classes.</span></span>

<a name="client"></a>

### <a name="windows-presentation-foundation-wpf"></a><span data-ttu-id="8dead-1183">Windows Presentation Foundation (WPF)</span><span class="sxs-lookup"><span data-stu-id="8dead-1183">Windows Presentation Foundation (WPF)</span></span>

<span data-ttu-id="8dead-1184">W .NET Framework 4,5 Windows Presentation Foundation (WPF) zawiera zmiany i usprawnienia w następujących obszarach:</span><span class="sxs-lookup"><span data-stu-id="8dead-1184">In .NET Framework 4.5, Windows Presentation Foundation (WPF) contains changes and improvements in the following areas:</span></span>

- <span data-ttu-id="8dead-1185">Nowa <xref:System.Windows.Controls.Ribbon.Ribbon> kontrolka, która umożliwia implementację interfejsu użytkownika wstążki, który obsługuje pasek narzędzi Szybki dostęp, menu aplikacji i karty.</span><span class="sxs-lookup"><span data-stu-id="8dead-1185">The new <xref:System.Windows.Controls.Ribbon.Ribbon> control, which enables you to implement a ribbon user interface that hosts a Quick Access Toolbar, Application Menu, and tabs.</span></span>

- <span data-ttu-id="8dead-1186">Nowy <xref:System.ComponentModel.INotifyDataErrorInfo> interfejs obsługujący synchroniczną i asynchroniczną weryfikację danych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1186">The new <xref:System.ComponentModel.INotifyDataErrorInfo> interface, which supports synchronous and asynchronous data validation.</span></span>

- <span data-ttu-id="8dead-1187">Nowe funkcje dla <xref:System.Windows.Controls.VirtualizingPanel> klas i <xref:System.Windows.Threading.Dispatcher> .</span><span class="sxs-lookup"><span data-stu-id="8dead-1187">New features for the <xref:System.Windows.Controls.VirtualizingPanel> and <xref:System.Windows.Threading.Dispatcher> classes.</span></span>

- <span data-ttu-id="8dead-1188">Zwiększona wydajność podczas wyświetlania dużych zestawów pogrupowanych danych i uzyskiwania dostępu do kolekcji w wątkach innych niż interfejs użytkownika.</span><span class="sxs-lookup"><span data-stu-id="8dead-1188">Improved performance when displaying large sets of grouped data, and by accessing collections on non-UI threads.</span></span>

- <span data-ttu-id="8dead-1189">Powiązanie danych z właściwościami statycznymi, powiązanie danych z typami niestandardowymi, które implementują <xref:System.Reflection.ICustomTypeProvider> interfejs i pobierają informacje o powiązaniu danych z wyrażenia powiązania.</span><span class="sxs-lookup"><span data-stu-id="8dead-1189">Data binding to static properties, data binding to custom types that implement the <xref:System.Reflection.ICustomTypeProvider> interface, and retrieval of data binding information from a binding expression.</span></span>

- <span data-ttu-id="8dead-1190">Zmiana położenia danych jako zmiany wartości (kształtowanie na żywo).</span><span class="sxs-lookup"><span data-stu-id="8dead-1190">Repositioning of data as the values change (live shaping).</span></span>

- <span data-ttu-id="8dead-1191">Możliwość sprawdzenia, czy kontekst danych kontenera elementów jest odłączony.</span><span class="sxs-lookup"><span data-stu-id="8dead-1191">Ability to check whether the data context for an item container is disconnected.</span></span>

- <span data-ttu-id="8dead-1192">Możliwość ustawienia czasu, który powinien upłynąć między zmianami właściwości i aktualizacjami źródła danych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1192">Ability to set the amount of time that should elapse between property changes and data source updates.</span></span>

- <span data-ttu-id="8dead-1193">Ulepszona obsługa implementowania słabych wzorców zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="8dead-1193">Improved support for implementing weak event patterns.</span></span> <span data-ttu-id="8dead-1194">Ponadto zdarzenia mogą teraz akceptować rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="8dead-1194">Also, events can now accept markup extensions.</span></span>

<a name="windows_communication_foundation"></a>

### <a name="windows-communication-foundation-wcf"></a><span data-ttu-id="8dead-1195">Windows Communication Foundation (WCF)</span><span class="sxs-lookup"><span data-stu-id="8dead-1195">Windows Communication Foundation (WCF)</span></span>

<span data-ttu-id="8dead-1196">W .NET Framework 4,5 dodano następujące funkcje, które ułatwiają zapisywanie i konserwowanie aplikacji Windows Communication Foundation (WCF):</span><span class="sxs-lookup"><span data-stu-id="8dead-1196">In .NET Framework 4.5, the following features have been added to make it simpler to write and maintain Windows Communication Foundation (WCF) applications:</span></span>

- <span data-ttu-id="8dead-1197">Uproszczenie wygenerowanych plików konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="8dead-1197">Simplification of generated configuration files.</span></span>

- <span data-ttu-id="8dead-1198">Obsługa pierwszego rozwoju kontraktu.</span><span class="sxs-lookup"><span data-stu-id="8dead-1198">Support for contract-first development.</span></span>

- <span data-ttu-id="8dead-1199">Możliwość łatwiejszego konfigurowania trybu zgodności ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="8dead-1199">Ability to configure ASP.NET compatibility mode more easily.</span></span>

- <span data-ttu-id="8dead-1200">Zmiany wartości właściwości domyślnych transportu w celu zmniejszenia prawdopodobieństwa, że będzie konieczne ich ustawienie.</span><span class="sxs-lookup"><span data-stu-id="8dead-1200">Changes in default transport property values to reduce the likelihood that you will have to set them.</span></span>

- <span data-ttu-id="8dead-1201">Aktualizuje klasę, <xref:System.Xml.XmlDictionaryReaderQuotas> Aby zmniejszyć prawdopodobieństwo, że konieczne będzie ręczne skonfigurowanie przydziałów dla czytników SŁOWNIKA XML.</span><span class="sxs-lookup"><span data-stu-id="8dead-1201">Updates to the <xref:System.Xml.XmlDictionaryReaderQuotas> class to reduce the likelihood that you will have to manually configure quotas for XML dictionary readers.</span></span>

- <span data-ttu-id="8dead-1202">Sprawdzanie poprawności plików konfiguracji WCF przez program Visual Studio w ramach procesu kompilacji, dzięki czemu można wykryć błędy konfiguracji przed uruchomieniem aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8dead-1202">Validation of WCF configuration files by Visual Studio as part of the build process, so you can detect configuration errors before you run your application.</span></span>

- <span data-ttu-id="8dead-1203">Nowe asynchroniczne obsłudze przesyłania strumieniowego.</span><span class="sxs-lookup"><span data-stu-id="8dead-1203">New asynchronous streaming support.</span></span>

- <span data-ttu-id="8dead-1204">Nowe mapowanie protokołu HTTPS, aby ułatwić udostępnianie punktu końcowego za pośrednictwem protokołu HTTPS za pomocą Internet Information Services (IIS).</span><span class="sxs-lookup"><span data-stu-id="8dead-1204">New HTTPS protocol mapping to make it easier to expose an endpoint over HTTPS with Internet Information Services (IIS).</span></span>

- <span data-ttu-id="8dead-1205">Możliwość generowania metadanych w jednym dokumencie WSDL przez dołączenie `?singleWSDL` do adresu URL usługi.</span><span class="sxs-lookup"><span data-stu-id="8dead-1205">Ability to generate metadata in a single WSDL document by appending `?singleWSDL` to the service URL.</span></span>

- <span data-ttu-id="8dead-1206">Obsługa obiektów WebSockets w celu umożliwienia prawdziwej komunikacji dwukierunkowej za pośrednictwem portów 80 i 443 z charakterystykami wydajności podobnymi do transportu TCP.</span><span class="sxs-lookup"><span data-stu-id="8dead-1206">Websockets support to enable true bidirectional communication over ports 80 and 443 with performance characteristics similar to the TCP transport.</span></span>

- <span data-ttu-id="8dead-1207">Obsługa konfigurowania usług w kodzie.</span><span class="sxs-lookup"><span data-stu-id="8dead-1207">Support for configuring services in code.</span></span>

- <span data-ttu-id="8dead-1208">Etykietki narzędzi edytora XML.</span><span class="sxs-lookup"><span data-stu-id="8dead-1208">XML Editor tooltips.</span></span>

- <span data-ttu-id="8dead-1209"><xref:System.ServiceModel.ChannelFactory> Obsługa buforowania.</span><span class="sxs-lookup"><span data-stu-id="8dead-1209"><xref:System.ServiceModel.ChannelFactory> caching support.</span></span>

- <span data-ttu-id="8dead-1210">Obsługa kompresji koderów binarnych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1210">Binary encoder compression support.</span></span>

- <span data-ttu-id="8dead-1211">Obsługa transportu UDP, który umożliwia deweloperom pisanie usług korzystających z komunikatów "Fire i zapomnij".</span><span class="sxs-lookup"><span data-stu-id="8dead-1211">Support for a UDP transport that enables developers to write services that use "fire and forget" messaging.</span></span> <span data-ttu-id="8dead-1212">Klient wysyła komunikat do usługi i oczekuje braku odpowiedzi z usługi.</span><span class="sxs-lookup"><span data-stu-id="8dead-1212">A client sends a message to a service and expects no response from the service.</span></span>

- <span data-ttu-id="8dead-1213">Możliwość obsługi wielu trybów uwierzytelniania w jednym punkcie końcowym WCF podczas korzystania z transportu HTTP i zabezpieczeń transportu.</span><span class="sxs-lookup"><span data-stu-id="8dead-1213">Ability to support multiple authentication modes on a single WCF endpoint when using the HTTP transport and transport security.</span></span>

- <span data-ttu-id="8dead-1214">Obsługa usług WCF korzystających z międzynarodowych nazw domen (IDN).</span><span class="sxs-lookup"><span data-stu-id="8dead-1214">Support for WCF services that use internationalized domain names (IDNs).</span></span>

<span data-ttu-id="8dead-1215">Aby uzyskać więcej informacji, zobacz [co nowego w Windows Communication Foundation](../wcf/whats-new.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-1215">For more information, see [What's New in Windows Communication Foundation](../wcf/whats-new.md).</span></span>

<a name="windows_workflow_foundation"></a>

### <a name="windows-workflow-foundation-wf"></a><span data-ttu-id="8dead-1216">Program Windows Workflow Foundation (WF)</span><span class="sxs-lookup"><span data-stu-id="8dead-1216">Windows Workflow Foundation (WF)</span></span>

<span data-ttu-id="8dead-1217">W .NET Framework 4,5 dodano kilka nowych funkcji do Windows Workflow Foundation (WF), w tym:</span><span class="sxs-lookup"><span data-stu-id="8dead-1217">In .NET Framework 4.5, several new features were added to Windows Workflow Foundation (WF), including:</span></span>

- <span data-ttu-id="8dead-1218">Przepływy pracy automatu Stanów, które zostały po raz pierwszy wprowadzone w ramach .NET Framework 4.0.1 ([aktualizacja .NET Framework 4 platformy 1](/archive/blogs/endpoint/microsoft-net-framework-4-platform-update-1)).</span><span class="sxs-lookup"><span data-stu-id="8dead-1218">State machine workflows, which were first introduced as part of .NET Framework 4.0.1 ([.NET Framework 4 Platform Update 1](/archive/blogs/endpoint/microsoft-net-framework-4-platform-update-1)).</span></span> <span data-ttu-id="8dead-1219">Ta aktualizacja zawiera kilka nowych klas i działań, które umożliwiają deweloperom tworzenie przepływów pracy automatu Stanów.</span><span class="sxs-lookup"><span data-stu-id="8dead-1219">This update included several new classes and activities that enabled developers to create state machine workflows.</span></span> <span data-ttu-id="8dead-1220">Te klasy i działania zostały zaktualizowane dla .NET Framework 4,5, aby uwzględnić:</span><span class="sxs-lookup"><span data-stu-id="8dead-1220">These classes and activities were updated for .NET Framework 4.5 to include:</span></span>

  - <span data-ttu-id="8dead-1221">Możliwość ustawiania punktów przerwania w Stanach.</span><span class="sxs-lookup"><span data-stu-id="8dead-1221">The ability to set breakpoints on states.</span></span>

  - <span data-ttu-id="8dead-1222">Możliwość kopiowania i wklejania przejść w Projektancie przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="8dead-1222">The ability to copy and paste transitions in the workflow designer.</span></span>

  - <span data-ttu-id="8dead-1223">Obsługa tworzenia przejść między udostępnionymi wyzwalaczami przez projektanta.</span><span class="sxs-lookup"><span data-stu-id="8dead-1223">Designer support for shared trigger transition creation.</span></span>

  - <span data-ttu-id="8dead-1224">Działania tworzenia przepływów pracy automatu Stanów, w tym: <xref:System.Activities.Statements.StateMachine> , <xref:System.Activities.Statements.State> , i <xref:System.Activities.Statements.Transition> .</span><span class="sxs-lookup"><span data-stu-id="8dead-1224">Activities for creating state machine workflows, including: <xref:System.Activities.Statements.StateMachine>, <xref:System.Activities.Statements.State>, and <xref:System.Activities.Statements.Transition>.</span></span>

- <span data-ttu-id="8dead-1225">Ulepszone Projektant przepływu pracy funkcje, takie jak następujące:</span><span class="sxs-lookup"><span data-stu-id="8dead-1225">Enhanced Workflow Designer features such as the following:</span></span>

  - <span data-ttu-id="8dead-1226">Ulepszone możliwości wyszukiwania przepływu pracy w programie Visual Studio, w tym **szybkie znajdowanie** i **Znajdowanie plików**.</span><span class="sxs-lookup"><span data-stu-id="8dead-1226">Enhanced workflow search capabilities in Visual Studio, including **Quick Find** and **Find in Files**.</span></span>

  - <span data-ttu-id="8dead-1227">Możliwość automatycznego tworzenia działania sekwencji po dodaniu drugiego działania podrzędnego do działania kontenera oraz w celu uwzględnienia obu działań w działaniu sekwencji.</span><span class="sxs-lookup"><span data-stu-id="8dead-1227">Ability to automatically create a Sequence activity when a second child activity is added to a container activity, and to include both activities in the Sequence activity.</span></span>

  - <span data-ttu-id="8dead-1228">Obsługa panoramowania, która umożliwia zmianę widocznej części przepływu pracy bez używania pasków przewijania.</span><span class="sxs-lookup"><span data-stu-id="8dead-1228">Panning support, which enables the visible portion of a workflow to be changed without using the scroll bars.</span></span>

  - <span data-ttu-id="8dead-1229">Nowy widok **konspektu dokumentu** , który pokazuje składniki przepływu pracy w widoku konspektu w stylu drzewa i umożliwia wybranie składnika w widoku **konspektu dokumentu** .</span><span class="sxs-lookup"><span data-stu-id="8dead-1229">A new **Document Outline** view that shows the components of a workflow in a tree-style outline view and lets you select a component in the **Document Outline** view.</span></span>

  - <span data-ttu-id="8dead-1230">Możliwość dodawania adnotacji do działań.</span><span class="sxs-lookup"><span data-stu-id="8dead-1230">Ability to add annotations to activities.</span></span>

  - <span data-ttu-id="8dead-1231">Możliwość definiowania delegatów działań i korzystania z nich przy użyciu projektanta przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="8dead-1231">Ability to define and consume activity delegates by using the workflow designer.</span></span>

  - <span data-ttu-id="8dead-1232">Funkcja AutoConnect i funkcja autoinsert dla działań i przejść w przepływie pracy automatu stanów i schematu blokowego.</span><span class="sxs-lookup"><span data-stu-id="8dead-1232">Auto-connect and auto-insert for activities and transitions in state machine and flowchart workflows.</span></span>

- <span data-ttu-id="8dead-1233">Przechowywanie informacji o stanie widoku dla przepływu pracy w pojedynczym elemencie w pliku XAML, dzięki czemu można łatwo lokalizować i edytować informacje o stanie widoku.</span><span class="sxs-lookup"><span data-stu-id="8dead-1233">Storage of the view state information for a workflow in a single element in the XAML file, so you can easily locate and edit the view state information.</span></span>

- <span data-ttu-id="8dead-1234">Działanie kontenera NoPersistScope zapobiegające utrwalaniu działań podrzędnych.</span><span class="sxs-lookup"><span data-stu-id="8dead-1234">A NoPersistScope container activity to prevent child activities from persisting.</span></span>

- <span data-ttu-id="8dead-1235">Obsługa wyrażeń języka C#:</span><span class="sxs-lookup"><span data-stu-id="8dead-1235">Support for C# expressions:</span></span>

  - <span data-ttu-id="8dead-1236">Projekty przepływu pracy używające Visual Basic będą używać wyrażeń Visual Basic, a projekty przepływu pracy w języku C# będą używać wyrażeń języka C#.</span><span class="sxs-lookup"><span data-stu-id="8dead-1236">Workflow projects that use Visual Basic will use Visual Basic expressions, and C# workflow projects will use C# expressions.</span></span>

  - <span data-ttu-id="8dead-1237">Projekty przepływu pracy w języku c#, które zostały utworzone w programie Visual Studio 2010 i które mają wyrażenia Visual Basic są zgodne z projektami przepływu pracy w języku C#, które używają wyrażeń języka C#.</span><span class="sxs-lookup"><span data-stu-id="8dead-1237">C# workflow projects that were created in Visual Studio 2010 and that have Visual Basic expressions are compatible with C# workflow projects that use C# expressions.</span></span>

- <span data-ttu-id="8dead-1238">Udoskonalenia wersji:</span><span class="sxs-lookup"><span data-stu-id="8dead-1238">Versioning enhancements:</span></span>

  - <span data-ttu-id="8dead-1239">Nowa  <xref:System.Activities.WorkflowIdentity> Klasa, która zapewnia mapowanie między utrwalonym wystąpieniem przepływu pracy i jego definicją przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="8dead-1239">The new  <xref:System.Activities.WorkflowIdentity> class, which provides a mapping between a persisted workflow instance and its workflow definition.</span></span>

  - <span data-ttu-id="8dead-1240">Wykonywanie równoczesne wielu wersji przepływu pracy na tym samym hoście, włącznie z <xref:System.ServiceModel.Activities.WorkflowServiceHost> .</span><span class="sxs-lookup"><span data-stu-id="8dead-1240">Side-by-side execution of multiple workflow versions in the same host, including <xref:System.ServiceModel.Activities.WorkflowServiceHost>.</span></span>

  - <span data-ttu-id="8dead-1241">W obszarze aktualizacja dynamiczna można modyfikować definicję utrwalonego wystąpienia przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="8dead-1241">In Dynamic Update, the ability to modify the definition of a persisted workflow instance.</span></span>

- <span data-ttu-id="8dead-1242">Opracowywanie usługi przepływu pracy w pierwszej kolejności, która zapewnia obsługę automatycznego generowania działań w celu dopasowania do istniejącego kontraktu usługi.</span><span class="sxs-lookup"><span data-stu-id="8dead-1242">Contract-first workflow service development, which provides support for automatically generating activities to match an existing service contract.</span></span>

<span data-ttu-id="8dead-1243">Aby uzyskać więcej informacji, zobacz [co nowego w Windows Workflow Foundation](../windows-workflow-foundation/whats-new-in-wf-in-dotnet.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-1243">For more information, see [What's New in Windows Workflow Foundation](../windows-workflow-foundation/whats-new-in-wf-in-dotnet.md).</span></span>

<a name="tailored"></a>

### <a name="net-for-windows-8x-store-apps"></a><span data-ttu-id="8dead-1244">Platforma .NET dla aplikacji do Sklepu Windows 8.x</span><span class="sxs-lookup"><span data-stu-id="8dead-1244">.NET for Windows 8.x Store apps</span></span>

<span data-ttu-id="8dead-1245">Aplikacje ze sklepu Windows 8. x są przeznaczone do określonych współczynników i wykorzystują możliwości systemu operacyjnego Windows.</span><span class="sxs-lookup"><span data-stu-id="8dead-1245">Windows 8.x Store apps are designed for specific form factors and leverage the power of the Windows operating system.</span></span> <span data-ttu-id="8dead-1246">Podzestaw .NET Framework 4,5 lub 4.5.1 jest dostępny do kompilowania aplikacji ze sklepu Windows 8. x dla systemu Windows przy użyciu języka C# lub Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="8dead-1246">A subset of .NET Framework 4.5 or 4.5.1 is available for building Windows 8.x Store apps for Windows by using C# or Visual Basic.</span></span> <span data-ttu-id="8dead-1247">Ten podzestaw nosi nazwę .NET dla aplikacji ze sklepu Windows 8. x i został omówiony w [przeglądzie](/previous-versions/windows/apps/br230302(v=vs.140)).</span><span class="sxs-lookup"><span data-stu-id="8dead-1247">This subset is called .NET for Windows 8.x Store apps and is discussed in an [overview](/previous-versions/windows/apps/br230302(v=vs.140)).</span></span>

### <a name="portable-class-libraries"></a><span data-ttu-id="8dead-1248">Przenośne biblioteki klas <a name="portable"></a></span><span class="sxs-lookup"><span data-stu-id="8dead-1248">Portable Class Libraries <a name="portable"></a></span></span>

<span data-ttu-id="8dead-1249">Przenośna biblioteka klas w programie Visual Studio 2012 (i nowszych wersjach) umożliwia pisanie i kompilowanie zestawów zarządzanych, które działają na wielu platformach .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="8dead-1249">The Portable Class Library project in Visual Studio 2012 (and later versions) enables you to write and build managed assemblies that work on multiple .NET Framework platforms.</span></span> <span data-ttu-id="8dead-1250">Korzystając z projektu biblioteki klas przenośnych, należy wybrać platformy (takie jak Windows Phone i .NET dla systemu Windows 8. x aplikacji do sklepu).</span><span class="sxs-lookup"><span data-stu-id="8dead-1250">Using a Portable Class Library project, you choose the platforms (such as Windows Phone and .NET for Windows 8.x Store apps) to target.</span></span> <span data-ttu-id="8dead-1251">Dostępne typy i elementy członkowskie w projekcie są automatycznie ograniczone do wspólnych typów i elementów członkowskich na tych platformach.</span><span class="sxs-lookup"><span data-stu-id="8dead-1251">The available types and members in your project are automatically restricted to the common types and members across these platforms.</span></span> <span data-ttu-id="8dead-1252">Aby uzyskać więcej informacji, zobacz [Przenośna biblioteka klas](../cross-platform/portable-class-library.md).</span><span class="sxs-lookup"><span data-stu-id="8dead-1252">For more information, see [Portable Class Library](../cross-platform/portable-class-library.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="8dead-1253">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="8dead-1253">See also</span></span>

- [<span data-ttu-id="8dead-1254">Program .NET Framework i wydania poza harmonogramem (OOB)</span><span class="sxs-lookup"><span data-stu-id="8dead-1254">The .NET Framework and Out-of-Band Releases</span></span>](../get-started/the-net-framework-and-out-of-band-releases.md)
- [<span data-ttu-id="8dead-1255">Co nowego w ułatwieniach dostępu w .NET Framework</span><span class="sxs-lookup"><span data-stu-id="8dead-1255">What's new in accessibility in .NET Framework</span></span>](whats-new-in-accessibility.md)
- [<span data-ttu-id="8dead-1256">Co nowego w programie Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="8dead-1256">What's New in Visual Studio 2019</span></span>](/visualstudio/ide/whats-new-visual-studio-2019)
- [<span data-ttu-id="8dead-1257">ASP.NET</span><span class="sxs-lookup"><span data-stu-id="8dead-1257">ASP.NET</span></span>](/aspnet)
- [<span data-ttu-id="8dead-1258">Co nowego w języku C++ w programie Visual Studio</span><span class="sxs-lookup"><span data-stu-id="8dead-1258">What's New for C++ in Visual Studio</span></span>](/cpp/what-s-new-for-visual-cpp-in-visual-studio)
- [<span data-ttu-id="8dead-1259">Pobierz zestaw .NET SDK</span><span class="sxs-lookup"><span data-stu-id="8dead-1259">Download the .NET SDK</span></span>](https://dotnet.microsoft.com/download)
