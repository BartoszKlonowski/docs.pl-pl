---
title: Profilowanie środowiska uruchomieniowego
ms.date: 03/30/2017
helpviewer_keywords:
- performance counters
- common language runtime, profiling
- Perfmon.exe
- System Monitor
- profiling
- runtime, profiling
- profiling applications
- Performance Console
ms.assetid: ccd68284-f3a8-47b8-bc3f-92e5fe3a1640
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 7f02cbac83bd1e849c30f6c732395335464e6e4e
ms.sourcegitcommit: c7a7e1468bf0fa7f7065de951d60dfc8d5ba89f5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/14/2019
ms.locfileid: "65582813"
---
# <a name="runtime-profiling"></a><span data-ttu-id="c9332-102">Profilowanie środowiska uruchomieniowego</span><span class="sxs-lookup"><span data-stu-id="c9332-102">Runtime Profiling</span></span>
<span data-ttu-id="c9332-103">Profilowanie jest metoda zbierania danych wydajności w każdym scenariuszu rozwoju lub wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="c9332-103">Profiling is a method of gathering performance data in any development or deployment scenario.</span></span> <span data-ttu-id="c9332-104">Ta sekcja dotyczy dla deweloperów i administratorów, którzy chcą zebrać informacje dotyczące wydajności aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c9332-104">This section is for developers and system administrators who want to gather information about application performance.</span></span>  
  
## <a name="tracking-performance-using-the-performance-monitor-perfmonexe"></a><span data-ttu-id="c9332-105">Śledzenie wydajności przy użyciu Monitora wydajności (Perfmon.exe)</span><span class="sxs-lookup"><span data-stu-id="c9332-105">Tracking Performance Using the Performance Monitor (Perfmon.exe)</span></span>  
 <span data-ttu-id="c9332-106">Monitor wydajności jest najprostszym narzędzie służące do profilu aplikacji środowiska .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c9332-106">The Performance Monitor is the easiest tool to use to profile your .NET Framework application.</span></span> <span data-ttu-id="c9332-107">Monitor wydajności graficznie reprezentuje dane liczników wydajności .NET Framework, które są instalowane z środowiska uruchomieniowego języka wspólnego i [!INCLUDE[winsdklong](../../../includes/winsdklong-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c9332-107">The Performance Monitor graphically represents data found in the .NET Framework performance counters that are installed with the common language runtime and the [!INCLUDE[winsdklong](../../../includes/winsdklong-md.md)].</span></span> <span data-ttu-id="c9332-108">Te liczniki można monitorować wszystko — od zarządzania pamięcią just-in-time (JIT) kompilatora wydajności.</span><span class="sxs-lookup"><span data-stu-id="c9332-108">These counters can be used to monitor everything from memory management to just-in-time (JIT) compiler performance.</span></span> <span data-ttu-id="c9332-109">Ich poinformować użytkownika o zasoby używane przez aplikację, czyli pośrednich miary wydajności Twojej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c9332-109">They tell you about the resources your application uses, which is an indirect measure of your application's performance.</span></span> <span data-ttu-id="c9332-110">Zrozumienie sposobu działania aplikacji wewnętrznie, korzystać z tych liczników.</span><span class="sxs-lookup"><span data-stu-id="c9332-110">Use these counters to understand how your application works internally.</span></span>  
  
#### <a name="to-run-perfmonexe-on-windows-vista-and-later-versions"></a><span data-ttu-id="c9332-111">Aby uruchomić Perfmon.exe w systemach Windows Vista i nowsze wersje</span><span class="sxs-lookup"><span data-stu-id="c9332-111">To run Perfmon.exe on Windows Vista and later versions</span></span>  
  
1. <span data-ttu-id="c9332-112">W wierszu polecenia wpisz **monitora wydajności**.</span><span class="sxs-lookup"><span data-stu-id="c9332-112">At the command prompt, type **perfmon**.</span></span> <span data-ttu-id="c9332-113">**Monitora wydajności** pojawi się konsola.</span><span class="sxs-lookup"><span data-stu-id="c9332-113">The **Performance Monitor** console appears.</span></span>  
  
2. <span data-ttu-id="c9332-114">W **narzędzia do monitorowania** folderu, kliknij przycisk **monitora wydajności**.</span><span class="sxs-lookup"><span data-stu-id="c9332-114">In the **Monitoring Tools** folder, click **Performance Monitor**.</span></span>  
  
3. <span data-ttu-id="c9332-115">Na pasku narzędzi Monitora wydajności kliknij **Dodaj** ikonę (znak plus), jeśli jest obecna.</span><span class="sxs-lookup"><span data-stu-id="c9332-115">In the Performance Monitor toolbar, click the **Add** icon (the plus sign), if it is present.</span></span> <span data-ttu-id="c9332-116">Jeśli nie jest obecny, kliknij prawym przyciskiem myszy w oknie monitora i wybierz **Dodaj liczniki** opcji.</span><span class="sxs-lookup"><span data-stu-id="c9332-116">If it is not present, right-click in the monitor window and select the **Add Counters** option.</span></span>  
  
     <span data-ttu-id="c9332-117">Spowoduje to otwarcie **Dodaj liczniki** okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="c9332-117">This opens the **Add Counters** dialog box.</span></span> <span data-ttu-id="c9332-118">**Dostępne liczniki** polu listy są wyświetlane obiekty dostępne wydajności.</span><span class="sxs-lookup"><span data-stu-id="c9332-118">The **Available counters** list box displays the available performance objects.</span></span> <span data-ttu-id="c9332-119">Istnieje kilka wstępnie zdefiniowanych obiektów dla aplikacji programu .NET Framework, w tym w zakresie zarządzania pamięcią (**pamięć .NET CLR**), interoperacyjności (**.NET CLR Interop**), obsługa wyjątków (**Wyjątki .NET CLR**), a wielowątkowości (**.NET CLR LocksAndThreads**).</span><span class="sxs-lookup"><span data-stu-id="c9332-119">There are a number of predefined objects for .NET Framework applications, including those for memory management (**.NET CLR Memory**), interoperability (**.NET CLR Interop**), exception handling (**.NET CLR Exceptions**), and multithreading (**.NET CLR LocksAndThreads**).</span></span> <span data-ttu-id="c9332-120">Każdy obiekt wydajności zawiera wiele liczników wydajności poszczególnych.</span><span class="sxs-lookup"><span data-stu-id="c9332-120">Each performance object includes a number of individual performance counters.</span></span> <span data-ttu-id="c9332-121">Aby uzyskać listę dostępnych w Monitorze wydajności liczników wydajności, zobacz [liczniki wydajności](../../../docs/framework/debug-trace-profile/performance-counters.md).</span><span class="sxs-lookup"><span data-stu-id="c9332-121">For a list of the performance counters available in Performance Monitor, see [Performance Counters](../../../docs/framework/debug-trace-profile/performance-counters.md).</span></span>  
  
4. <span data-ttu-id="c9332-122">Zaznacz pole wyboru obok nazwy obiekt wydajności, aby wyświetlić listę liczników wydajności poszczególnych, które obsługuje.</span><span class="sxs-lookup"><span data-stu-id="c9332-122">Select the check box next to a performance object's name to view the list of individual performance counters that it supports.</span></span>  
  
5. <span data-ttu-id="c9332-123">Kliknij licznik wydajności, który chcesz wyświetlić.</span><span class="sxs-lookup"><span data-stu-id="c9332-123">Click the performance counter you want to view.</span></span>  
  
6. <span data-ttu-id="c9332-124">W **wystąpienia wybranego obiektu** pola listy, kliknij przycisk  **\<wszystkie wystąpienia >** umożliwia określenie, że monitorowanie licznika wydajności dla środowiska uruchomieniowego języka wspólnego globalnie (to znaczy na Podstawa całego systemu).</span><span class="sxs-lookup"><span data-stu-id="c9332-124">In the **Instances of selected object** list box, click **\<All instances>** to specify that you want to monitor the performance counter for the common language runtime globally (that is, on a system-wide basis).</span></span>  
  
     <span data-ttu-id="c9332-125">—lub—</span><span class="sxs-lookup"><span data-stu-id="c9332-125">-or-</span></span>  
  
     <span data-ttu-id="c9332-126">W **wystąpienia wybranego obiektu** pola listy, kliknij nazwę aplikacji w taki sposób, aby monitorować licznik wydajności dla tej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c9332-126">In the **Instances of selected object** list box, click an application name to monitor the performance counter for that application.</span></span>  
  
     <span data-ttu-id="c9332-127">W celu rozróżnienia wielu wersji środowiska uruchomieniowego lub odróżnić wiele aplikacji o takiej samej nazwie, należy zmodyfikować klucz rejestru.</span><span class="sxs-lookup"><span data-stu-id="c9332-127">To differentiate multiple versions of the runtime, or to disambiguate multiple applications with the same name, you must also modify a registry key.</span></span> <span data-ttu-id="c9332-128">Aby uzyskać więcej informacji, zobacz [liczniki wydajności i wewnątrzprocesowe Side-By-Side aplikacje](../../../docs/framework/debug-trace-profile/performance-counters-and-in-process-side-by-side-applications.md).</span><span class="sxs-lookup"><span data-stu-id="c9332-128">For more information, see [Performance Counters and In-Process Side-By-Side Applications](../../../docs/framework/debug-trace-profile/performance-counters-and-in-process-side-by-side-applications.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c9332-129">Nowe liczniki wydajności są instalowane, gdy uruchomiona jest Konsola wydajności, Zatrzymaj i ponownie uruchomić konsolę programu wydajności w taki sposób, aby uwidocznić nowe liczniki.</span><span class="sxs-lookup"><span data-stu-id="c9332-129">When new performance counters are installed while the Performance console is running, stop and restart the Performance console to make the new counters visible.</span></span>  
  
 <span data-ttu-id="c9332-130">Jeśli chcesz przeprowadzić profilowanie zestawu, który istnieje w strefie lub w udziale zdalnym, upewnij się, że zdalnego zestawu ma pełnego zaufania, na komputerze z uruchomionym liczników wydajności.</span><span class="sxs-lookup"><span data-stu-id="c9332-130">If you want to profile an assembly that exists in a zone or on a remote share, make sure that the remote assembly has full trust on the computer that runs the performance counters.</span></span> <span data-ttu-id="c9332-131">Jeśli zestaw nie ma wystarczających zaufania, liczniki wydajności nie będzie działać.</span><span class="sxs-lookup"><span data-stu-id="c9332-131">If the assembly does not have sufficient trust, the performance counters will not work.</span></span> <span data-ttu-id="c9332-132">Aby dowiedzieć się, jak udzielanie zaufania do różnych stref, zobacz [Caspol.exe (narzędzie zasad zabezpieczeń dostępu kodu)](../../../docs/framework/tools/caspol-exe-code-access-security-policy-tool.md).</span><span class="sxs-lookup"><span data-stu-id="c9332-132">For information about granting trust to different zones, see [Caspol.exe (Code Access Security Policy Tool)](../../../docs/framework/tools/caspol-exe-code-access-security-policy-tool.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c9332-133">W systemach, na którym [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)] jest zainstalowany, Monitor wydajności mogą nie wyświetlać dane liczników wydajności w pewnych kategoriach, takich jak **.NET CLR Data** i **.NET CLR sieci**, dla aplikacje, które zostały opracowane przy użyciu [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c9332-133">On systems on which the [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)] is installed, the Performance Monitor may not display data for performance counters in some categories, such as **.NET CLR Data** and **.NET CLR Networking**, for applications that were developed using the [!INCLUDE[net_v11_short](../../../includes/net-v11-short-md.md)].</span></span> <span data-ttu-id="c9332-134">Jeśli jest to możliwe, można skonfigurować Monitor wydajności, aby wyświetlić te dane, dodając [ \<forceperformancecounteruniquesharedmemoryreads — >](../../../docs/framework/configure-apps/file-schema/runtime/forceperformancecounteruniquesharedmemoryreads-element.md) elementu do pliku konfiguracji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c9332-134">If this is the case, you can configure Performance Monitor to display this data by adding the [\<forcePerformanceCounterUniqueSharedMemoryReads>](../../../docs/framework/configure-apps/file-schema/runtime/forceperformancecounteruniquesharedmemoryreads-element.md) element to the application's configuration file.</span></span>  
  
## <a name="reading-and-creating-performance-counters-programmatically"></a><span data-ttu-id="c9332-135">Odczytywanie i programowe tworzenie liczników wydajności</span><span class="sxs-lookup"><span data-stu-id="c9332-135">Reading and Creating Performance Counters Programmatically</span></span>  
 <span data-ttu-id="c9332-136">.NET Framework zawiera klasy, których można użyć do programowego dostępu do tych samych informacji wydajności, który jest dostępny w konsoli Wydajność.</span><span class="sxs-lookup"><span data-stu-id="c9332-136">The .NET Framework provides classes you can use to programmatically access the same performance information that is available in the Performance console.</span></span> <span data-ttu-id="c9332-137">Te klasy można również użyć do tworzenia niestandardowych liczników wydajności.</span><span class="sxs-lookup"><span data-stu-id="c9332-137">You can also use these classes to create custom performance counters.</span></span> <span data-ttu-id="c9332-138">W poniższej tabeli opisano niektóre z klas, które znajdują się w programie .NET Framework do monitorowania wydajności.</span><span class="sxs-lookup"><span data-stu-id="c9332-138">The following table describes some of the performance monitoring classes that are provided in the .NET Framework.</span></span>  
  
|<span data-ttu-id="c9332-139">Class</span><span class="sxs-lookup"><span data-stu-id="c9332-139">Class</span></span>|<span data-ttu-id="c9332-140">Opis</span><span class="sxs-lookup"><span data-stu-id="c9332-140">Description</span></span>|  
|-----------|-----------------|  
|<xref:System.Diagnostics.PerformanceCounter?displayProperty=nameWithType>|<span data-ttu-id="c9332-141">Reprezentuje składnik licznika wydajności systemu Windows NT.</span><span class="sxs-lookup"><span data-stu-id="c9332-141">Represents a Windows NT performance counter component.</span></span> <span data-ttu-id="c9332-142">Klasa używana do odczytu istniejące liczniki wstępnie zdefiniowaną lub niestandardową i publikowania danych wydajności (Zapisz), aby liczników niestandardowych.</span><span class="sxs-lookup"><span data-stu-id="c9332-142">Use this class to read existing predefined or custom counters and publish (write) performance data to custom counters.</span></span>|  
|<xref:System.Diagnostics.PerformanceCounterCategory?displayProperty=nameWithType>|<span data-ttu-id="c9332-143">Zapewnia kilka metod do interakcji z liczników i kategorie liczników na komputerze.</span><span class="sxs-lookup"><span data-stu-id="c9332-143">Provides several methods for interacting with counters and categories of counters on the computer.</span></span>|  
|<xref:System.Diagnostics.PerformanceCounterInstaller?displayProperty=nameWithType>|<span data-ttu-id="c9332-144">Określa Instalator dla `PerformanceCounter` składnika.</span><span class="sxs-lookup"><span data-stu-id="c9332-144">Specifies an installer for the `PerformanceCounter` component.</span></span>|  
|<xref:System.Diagnostics.PerformanceCounterType?displayProperty=nameWithType>|<span data-ttu-id="c9332-145">Określa formułę, aby obliczyć `NextValue` metodę `PerformanceCounter`.</span><span class="sxs-lookup"><span data-stu-id="c9332-145">Specifies the formula to calculate the `NextValue` method for a `PerformanceCounter`.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="c9332-146">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="c9332-146">See also</span></span>

- [<span data-ttu-id="c9332-147">Liczniki wydajności</span><span class="sxs-lookup"><span data-stu-id="c9332-147">Performance Counters</span></span>](../../../docs/framework/debug-trace-profile/performance-counters.md)
