---
title: Architektura .NET Native i kompilacja
ms.date: 03/30/2017
ms.assetid: e38ae4f3-3e3d-42c3-a4b8-db1aa9d84f85
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 046b71a8f1d948a785a15cfc148b93292bf673f7
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/04/2018
ms.locfileid: "33395531"
---
# <a name="net-native-and-compilation"></a><span data-ttu-id="f2c95-102">Architektura .NET Native i kompilacja</span><span class="sxs-lookup"><span data-stu-id="f2c95-102">.NET Native and Compilation</span></span>
<span data-ttu-id="f2c95-103">Aplikacje Windows 8.1 i aplikacje dla komputerów z systemem Windows przeznaczonych dla platformy.NET Framework są zapisywane w określonym języku programowania i skompilowany w języku pośrednim (IL).</span><span class="sxs-lookup"><span data-stu-id="f2c95-103">Windows 8.1 applications and Windows Desktop applications that target the.NET Framework are written in a particular programming language and compiled into intermediate language (IL).</span></span> <span data-ttu-id="f2c95-104">W czasie wykonywania kompilatora just in time (JIT) jest odpowiedzialny za kompilowanie IL do kodu natywnego dla komputera lokalnego, po prostu, przed wykonaniem metody po raz pierwszy.</span><span class="sxs-lookup"><span data-stu-id="f2c95-104">At runtime, a just-in-time (JIT) compiler is responsible for compiling the IL into native code for the local machine just before a method is executed for the first time.</span></span> <span data-ttu-id="f2c95-105">Z kolei łańcucha narzędzi dla platformy .NET Native konwertuje kodu źródłowego do kodu macierzystego w czasie kompilacji.</span><span class="sxs-lookup"><span data-stu-id="f2c95-105">In contrast, the .NET Native tool chain converts source code to native code at compile time.</span></span> <span data-ttu-id="f2c95-106">W tym temacie porównuje platformy .NET Native z innymi technologiami kompilacji dostępne dla aplikacji .NET Framework, a także omówienie praktyczne jak platforma .NET Native tworzy kodu natywnego, które mogą ułatwić zrozumienie, dlaczego wyjątków, które występują w kodzie skompilowanym z .NET Macierzysty nie występują w kodzie kompilacji JIT.</span><span class="sxs-lookup"><span data-stu-id="f2c95-106">This topic compares .NET Native with other compilation technologies available for .NET Framework apps, and also provides a practical overview of how .NET Native produces native code that can help you understand why exceptions that occur in code compiled with .NET Native do not occur in JIT-compiled code.</span></span>  
  
## <a name="net-native-generating-native-binaries"></a><span data-ttu-id="f2c95-107">Architektura .NET native: Generowanie natywne pliki binarne</span><span class="sxs-lookup"><span data-stu-id="f2c95-107">.NET Native: Generating native binaries</span></span>  
 <span data-ttu-id="f2c95-108">Aplikacja, że obiektów docelowych programu .NET Framework i który nie jest skompilowana przy użyciu platformy .NET Native łańcucha narzędzi składa się z zestawu aplikacji, w którym znajdują się następujące:</span><span class="sxs-lookup"><span data-stu-id="f2c95-108">An application that targets the .NET Framework and that is not compiled by using the .NET Native tool chain consists of your application assembly, which includes the following:</span></span>  
  
-   <span data-ttu-id="f2c95-109">[Metadane](../../../docs/standard/metadata-and-self-describing-components.md) , który opisuje zestaw, zależnościami, zawiera typy i ich elementy członkowskie.</span><span class="sxs-lookup"><span data-stu-id="f2c95-109">[Metadata](../../../docs/standard/metadata-and-self-describing-components.md) that describes the assembly, its dependencies, the types it contains, and their members.</span></span> <span data-ttu-id="f2c95-110">Metadane są używane dla dostępu późnym wiązaniem i odbicie, a w niektórych przypadkach przez narzędzia kompilatora i kompilacji.</span><span class="sxs-lookup"><span data-stu-id="f2c95-110">The metadata is used for reflection and late-bound access, and in some cases by compiler and build tools as well.</span></span>  
  
-   <span data-ttu-id="f2c95-111">W kodzie.</span><span class="sxs-lookup"><span data-stu-id="f2c95-111">Implementation code.</span></span> <span data-ttu-id="f2c95-112">Ten krok składa się z opcodes języku pośrednim (IL).</span><span class="sxs-lookup"><span data-stu-id="f2c95-112">This consists of intermediate language (IL) opcodes.</span></span> <span data-ttu-id="f2c95-113">W czasie wykonywania przy użyciu kompilatora just in time (JIT) tłumaczy go do kodu macierzystego dla platformy docelowej.</span><span class="sxs-lookup"><span data-stu-id="f2c95-113">At runtime, the just-in-time (JIT) compiler translates it into native code for the target platform.</span></span>  
  
 <span data-ttu-id="f2c95-114">Oprócz używanego zestawu aplikacji głównej aplikacji wymaga następujące obecne:</span><span class="sxs-lookup"><span data-stu-id="f2c95-114">In addition to your main application assembly, an app requires that the following be present:</span></span>  
  
-   <span data-ttu-id="f2c95-115">Biblioteki klas dodatkowych lub zestawy innych firm, które są wymagane przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="f2c95-115">Any additional class libraries or third-party assemblies that are required by your app.</span></span> <span data-ttu-id="f2c95-116">Te zestawy podobnie obejmować metadane opisujące zestaw, jego typów i ich elementy członkowskie, a także IL, który implementuje wszystkie elementy członkowskie typu.</span><span class="sxs-lookup"><span data-stu-id="f2c95-116">These assemblies similarly include metadata that describes the assembly, its types, and their members, as well as the IL that implements all type members.</span></span>  
  
-   <span data-ttu-id="f2c95-117">Bibliotece klas programu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f2c95-117">The .NET Framework Class Library.</span></span> <span data-ttu-id="f2c95-118">Jest to zbiór zestawów, który jest zainstalowany w systemie lokalnym z instalacji programu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f2c95-118">This is a collection of assemblies that is installed on the local system with the .NET Framework installation.</span></span> <span data-ttu-id="f2c95-119">Zestawy zawarte w bibliotece klas programu .NET Framework obejmują kompletnego zestawu metadanych i wykonania kodu.</span><span class="sxs-lookup"><span data-stu-id="f2c95-119">The assemblies included in the .NET Framework Class Library include a complete set of metadata and implementation code.</span></span>  
  
-   <span data-ttu-id="f2c95-120">Środowisko uruchomieniowe języka wspólnego.</span><span class="sxs-lookup"><span data-stu-id="f2c95-120">The common language runtime.</span></span> <span data-ttu-id="f2c95-121">To jest kolekcja bibliotek dołączanych dynamicznie, wykonujących usług ładowania zestawu, pamięci zarządzania oraz wyrzucania elementów bezużytecznych, obsługa wyjątków, w czasie kompilacji, usług zdalnych i interop.</span><span class="sxs-lookup"><span data-stu-id="f2c95-121">This is a collection of dynamic link libraries that perform such services as assembly loading, memory management and garbage collection, exception handling, just-in-time compilation, remoting, and interop.</span></span> <span data-ttu-id="f2c95-122">Jak biblioteka klas środowiska uruchomieniowego jest zainstalowany w systemie lokalnym w ramach instalacji programu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f2c95-122">Like the class library, the runtime is installed on the local system as part of the .NET Framework installation.</span></span>  
  
 <span data-ttu-id="f2c95-123">Należy pamiętać, że całe środowisko uruchomieniowe języka wspólnego, tak jak metadanych i IL dla wszystkich typów w zestawy specyficzne dla aplikacji, zestawy innych firm i zestawy system musi występować dla aplikacji zostać pomyślnie uruchomiony.</span><span class="sxs-lookup"><span data-stu-id="f2c95-123">Note that the entire common language runtime, as well as metadata and IL for all types in application-specific assemblies, third-party assemblies, and system assemblies must be present for the app to execute successfully.</span></span>  
  
## <a name="net-native-and-just-in-time-compilation"></a><span data-ttu-id="f2c95-124">Platforma .NET native i w czasie kompilacji</span><span class="sxs-lookup"><span data-stu-id="f2c95-124">.NET Native and just-in-time compilation</span></span>  
 <span data-ttu-id="f2c95-125">Dane wejściowe dla platformy .NET Native łańcucha narzędzi jest konstruowany przez języka C# lub Visual Basic kompilatora aplikacji ze Sklepu Windows.</span><span class="sxs-lookup"><span data-stu-id="f2c95-125">The input for the .NET Native tool chain is the Windows store app built by the C# or Visual Basic compiler.</span></span> <span data-ttu-id="f2c95-126">Innymi słowy łańcucha narzędzi dla platformy .NET Native rozpoczyna się od wykonywania kompilatora języka zakończył kompilacji aplikacji ze Sklepu Windows.</span><span class="sxs-lookup"><span data-stu-id="f2c95-126">In other words, the .NET Native tool chain begins execution when the language compiler has finished compilation of a Windows Store app.</span></span>  
  
> [!TIP]
>  <span data-ttu-id="f2c95-127">Ponieważ w danych wejściowych platformy .NET Native IL i zapisane do zarządzanych zestawów metadane, należy nadal wykonać generowania kodu niestandardowego lub innych niestandardowych operacji za pomocą zdarzenia prekompilacyjnego lub mające miejsce po kompilacji lub przez zmodyfikowanie pliku projektu MSBuild.</span><span class="sxs-lookup"><span data-stu-id="f2c95-127">Because the input to .NET Native is the IL and metadata written to managed assemblies, you can still perform custom code generation or other custom operations by using pre-build or post-build events or by modifying the MSBuild project file.</span></span>  
>   
>  <span data-ttu-id="f2c95-128">Kategorie narzędzia, które zmodyfikować IL i tym samym zapobiec łańcucha narzędzi dla platformy .NET analizowanie IL aplikacji nie są obsługiwane.</span><span class="sxs-lookup"><span data-stu-id="f2c95-128">However, categories of tools that modify IL and thereby prevent the .NET tool chain from analyzing an app's IL are not supported.</span></span> <span data-ttu-id="f2c95-129">Obfuscators są najbardziej znacząca narzędzia tego typu.</span><span class="sxs-lookup"><span data-stu-id="f2c95-129">Obfuscators are the most notable tools of this type.</span></span>  
  
 <span data-ttu-id="f2c95-130">W trakcie konwersji aplikację z IL do kodu macierzystego, łańcucha narzędzi dla platformy .NET Native wykonuje operacje, takie jak następujące:</span><span class="sxs-lookup"><span data-stu-id="f2c95-130">In the course of converting an app from IL to native code, the .NET Native tool chain performs operations like the following:</span></span>  
  
-   <span data-ttu-id="f2c95-131">Dla niektórych ścieżki kodu, zastępuje ona kod korzystający metadanych z kodem natywnym statyczne i odbicia.</span><span class="sxs-lookup"><span data-stu-id="f2c95-131">For certain code paths, it replaces code that relies on reflection and metadata with static native code.</span></span> <span data-ttu-id="f2c95-132">Na przykład, jeśli typ wartości nie przesłania <xref:System.ValueType.Equals%2A?displayProperty=nameWithType> metoda, testowanie domyślne równości używa odbicia pobrać <xref:System.Reflection.FieldInfo> obiekty reprezentujące pola typu wartości, następnie porównuje dwa wystąpienia wartości pól.</span><span class="sxs-lookup"><span data-stu-id="f2c95-132">For example, if a value type does not override the <xref:System.ValueType.Equals%2A?displayProperty=nameWithType> method, the default test for equality uses reflection to retrieve <xref:System.Reflection.FieldInfo> objects that represent the value type's fields, then compares the field values of two instances.</span></span> <span data-ttu-id="f2c95-133">W przypadku kompilowania kodu do kodu natywnego, łańcucha narzędzi dla platformy .NET Native zastępuje odbicia kodu i metadanych statycznych porównanie wartości pól.</span><span class="sxs-lookup"><span data-stu-id="f2c95-133">When compiling to native code, the .NET Native tool chain replaces the reflection code and metadata with a static comparison of the field values.</span></span>  
  
-   <span data-ttu-id="f2c95-134">Jeśli to możliwe, podejmie próbę usunięcia wszystkich metadanych.</span><span class="sxs-lookup"><span data-stu-id="f2c95-134">Where possible, it attempts to eliminate all metadata.</span></span>  
  
-   <span data-ttu-id="f2c95-135">Zawiera zestawy ostatecznej aplikacji tylko kod implementacji faktycznie jest wywoływany przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="f2c95-135">It includes in the final app assemblies only the implementation code that is actually invoked by the app.</span></span> <span data-ttu-id="f2c95-136">Dotyczy to szczególnie kodu w bibliotekach innych firm oraz w bibliotece klas programu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f2c95-136">This particularly affects code in third-party libraries and in the .NET Framework Class Library.</span></span> <span data-ttu-id="f2c95-137">W związku z tym nie jest już zależy aplikacja bibliotek innych firm lub pełne Framework bibliotece klas programu .NET; Zamiast tego kodu innych firm oraz bibliotek klas .NET Framework jest teraz lokalnego do aplikacji.</span><span class="sxs-lookup"><span data-stu-id="f2c95-137">As a result, an application no longer depends on either third-party libraries or the full .NET Framework Class Library; instead, code in third-party and .NET Framework class libraries is now local to the app.</span></span>  
  
-   <span data-ttu-id="f2c95-138">Zastępuje ona pełnego CLR refactored środowisko uruchomieniowe, które zawiera moduł garbage collector.</span><span class="sxs-lookup"><span data-stu-id="f2c95-138">It replaces the full CLR with a refactored runtime that primarily contains the garbage collector.</span></span> <span data-ttu-id="f2c95-139">Refactored środowiska uruchomieniowego znajduje się w bibliotece o nazwie mrt100_app.dll jest lokalny dla aplikacji, która jest tylko kilku kilobajtów kilkuset rozmiar.</span><span class="sxs-lookup"><span data-stu-id="f2c95-139">The refactored runtime is found in a library named mrt100_app.dll that is local to the app and is only a few hundred kilobytes in size.</span></span> <span data-ttu-id="f2c95-140">Jest to możliwe, ponieważ statycznego łączenia eliminuje potrzebę stosowania wiele usługi świadczone przez środowisko uruchomieniowe języka wspólnego.</span><span class="sxs-lookup"><span data-stu-id="f2c95-140">This is possible because static linking eliminates the need for many of the services performed by the common language runtime.</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="f2c95-141">Platforma .NET native używa tego samego modułu zbierającego elementy bezużyteczne jako standardowe środowiska CLR.</span><span class="sxs-lookup"><span data-stu-id="f2c95-141">.NET Native uses the same garbage collector as the standard common language runtime.</span></span> <span data-ttu-id="f2c95-142">W moduł zbierający elementy bezużyteczne .NET Native odzyskiwanie pamięci w tle jest włączona domyślnie.</span><span class="sxs-lookup"><span data-stu-id="f2c95-142">In the .NET Native garbage collector, background garbage collection is enabled by default.</span></span> <span data-ttu-id="f2c95-143">Aby uzyskać więcej informacji o pamięci, zobacz [podstawowe informacje dotyczące wyrzucania elementów bezużytecznych](../../../docs/standard/garbage-collection/fundamentals.md).</span><span class="sxs-lookup"><span data-stu-id="f2c95-143">For more information about garbage collection, see [Fundamentals of Garbage Collection](../../../docs/standard/garbage-collection/fundamentals.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="f2c95-144">Platforma .NET native kompiluje całej aplikacji do natywnej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="f2c95-144">.NET Native compiles an entire application to a native application.</span></span> <span data-ttu-id="f2c95-145">Nie zezwalaj można skompilować jednego zestawu, który zawiera biblioteki klas do kodu natywnego, dzięki czemu można go wywołać niezależnie z kodu zarządzanego.</span><span class="sxs-lookup"><span data-stu-id="f2c95-145">It does not allow you to compile a single assembly that contains a class library to native code so that it can be called independently from managed code.</span></span>  
  
 <span data-ttu-id="f2c95-146">Wynikowa aplikację, która jest generowany przez platformę .NET Native łańcucha narzędzi są zapisywane w katalogu o nazwie ilc.out w katalogu debugowanie czy wydanie w katalogu projektu.</span><span class="sxs-lookup"><span data-stu-id="f2c95-146">The resulting app that is produced by the .NET Native tool chain is written to a directory named ilc.out in the Debug or Release directory of your project directory.</span></span> <span data-ttu-id="f2c95-147">Składa się z następujących plików:</span><span class="sxs-lookup"><span data-stu-id="f2c95-147">It consists of the following files:</span></span>  
  
-   <span data-ttu-id="f2c95-148">*\<Nazwa aplikacji >*.exe, plik wykonywalny skrótowa, która po prostu transfer kontroli do specjalnego `Main` eksportu w  *\<nazwa_aplikacji >* dll.</span><span class="sxs-lookup"><span data-stu-id="f2c95-148">*\<appName>*.exe, a stub executable that simply transfers control to a special `Main` export in *\<appName>*.dll.</span></span>  
  
-   <span data-ttu-id="f2c95-149">*\<Nazwa aplikacji >* dll, Windows dynamic link biblioteki, który zawiera kod aplikacji, a także kodu w bibliotece klas programu .NET Framework i biblioteki żadnych innych firm, które zależy od.</span><span class="sxs-lookup"><span data-stu-id="f2c95-149">*\<appName>*.dll, a Windows dynamic link library that contains all your application code, as well as code from the .NET Framework Class Library and any third-party libraries that you have a dependency on.</span></span>  <span data-ttu-id="f2c95-150">Zawiera także kod pomocy technicznej, takich jak kod niezbędne do współpracy z systemem Windows oraz do serializacji obiektów w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="f2c95-150">It also contains support code, such as the code necessary to interoperate with Windows and to serialize objects in your app.</span></span>  
  
-   <span data-ttu-id="f2c95-151">mrt100_app.dll, refactored środowisko uruchomieniowe, które zapewnia usługi czasu wykonywania, takie jak wyrzucanie elementów bezużytecznych.</span><span class="sxs-lookup"><span data-stu-id="f2c95-151">mrt100_app.dll, a refactored runtime that provides runtime services such as garbage collection.</span></span>  
  
 <span data-ttu-id="f2c95-152">Wszystkie zależności są przechwytywane przez manifest APPX aplikacji.</span><span class="sxs-lookup"><span data-stu-id="f2c95-152">All dependencies are captured by the app's APPX manifest.</span></span>  <span data-ttu-id="f2c95-153">Oprócz aplikacji exe, dll i mrt100_app.dll, które są połączone bezpośrednio w pakiecie appx obejmuje dwa więcej plików:</span><span class="sxs-lookup"><span data-stu-id="f2c95-153">In addition to the application exe, dll, and mrt100_app.dll, which are bundled directly in the appx package, this includes two more files:</span></span>  
  
-   <span data-ttu-id="f2c95-154">msvcr140_app.dll, biblioteki czasu wykonywania (CRT) C, używany przez mrt100_app.dll.</span><span class="sxs-lookup"><span data-stu-id="f2c95-154">msvcr140_app.dll, the C run-time (CRT) library used by mrt100_app.dll.</span></span> <span data-ttu-id="f2c95-155">Polecenie jest zawarte przez odwołanie framework w pakiecie.</span><span class="sxs-lookup"><span data-stu-id="f2c95-155">It is included by a framework reference in the package.</span></span>  
  
-   <span data-ttu-id="f2c95-156">mrt100.dll.</span><span class="sxs-lookup"><span data-stu-id="f2c95-156">mrt100.dll.</span></span> <span data-ttu-id="f2c95-157">Ta biblioteka zawiera funkcje, które może poprawić wydajność mrt100_app.dll, mimo że jego braku nie uniemożliwia działania mrt100_app.dll.</span><span class="sxs-lookup"><span data-stu-id="f2c95-157">This library includes functions that can improve the performance of mrt100_app.dll, although its absence does not prevent mrt100_app.dll from functioning.</span></span> <span data-ttu-id="f2c95-158">Jest on załadowany w folderze System32 na komputerze lokalnym, jeśli jest obecny.</span><span class="sxs-lookup"><span data-stu-id="f2c95-158">It is loaded from the system32 directory on the local machine, if it is present.</span></span>  
  
 <span data-ttu-id="f2c95-159">Ponieważ łańcucha narzędzi dla platformy .NET Native łączy wykonania kodu w aplikacji tylko wtedy, gdy wiadomo, że aplikacja faktycznie wywołuje ten kod, metadane lub kod implementacji wymagane w następujących scenariuszach może być dołączone do aplikacji:</span><span class="sxs-lookup"><span data-stu-id="f2c95-159">Because the .NET Native tool chain links implementation code into your app only if it knows that your app actually invokes that code, either the metadata or the implementation code required in the following scenarios may not be included with your app:</span></span>  
  
-   <span data-ttu-id="f2c95-160">Odbicia.</span><span class="sxs-lookup"><span data-stu-id="f2c95-160">Reflection.</span></span>  
  
-   <span data-ttu-id="f2c95-161">Wywołania z późnym wiązaniem lub dynamicznego.</span><span class="sxs-lookup"><span data-stu-id="f2c95-161">Dynamic or late-bound invocation.</span></span>  
  
-   <span data-ttu-id="f2c95-162">Serializacji i deserializacji.</span><span class="sxs-lookup"><span data-stu-id="f2c95-162">Serialization and deserialization.</span></span>  
  
-   <span data-ttu-id="f2c95-163">COM interop.</span><span class="sxs-lookup"><span data-stu-id="f2c95-163">COM interop.</span></span>  
  
 <span data-ttu-id="f2c95-164">Jeśli konieczne kod metadanych lub implementacji jest nieobecny w czasie wykonywania, środowisko uruchomieniowe platformy .NET Native zgłasza wyjątek.</span><span class="sxs-lookup"><span data-stu-id="f2c95-164">If the necessary metadata or implementation code is absent at runtime, the .NET Native runtime throws an exception.</span></span> <span data-ttu-id="f2c95-165">Można zapobiec te wyjątki i upewnij się, że platforma .NET Native łańcucha narzędzi zawiera wymagane metadane i wykonania kodu, przy użyciu [pliku dyrektyw środowiska uruchomieniowego](../../../docs/framework/net-native/runtime-directives-rd-xml-configuration-file-reference.md), plik XML, który wyznacza elementów programu których metadanych lub kod implementacji musi być dostępny w czasie wykonywania i przypisuje zasad wykonywania.</span><span class="sxs-lookup"><span data-stu-id="f2c95-165">You can prevent these exceptions, and ensure that the .NET Native tool chain includes the required metadata and implementation code, by using a [runtime directives file](../../../docs/framework/net-native/runtime-directives-rd-xml-configuration-file-reference.md), an XML file that designates the program elements whose metadata or implementation code must be available at runtime and assigns a runtime policy to them.</span></span> <span data-ttu-id="f2c95-166">Poniżej przedstawiono domyślnego pliku dyrektyw środowiska uruchomieniowego, który zostanie dodany do projektu Sklepu Windows, który ma być kompilowana przez platformę .NET Native łańcucha narzędzi:</span><span class="sxs-lookup"><span data-stu-id="f2c95-166">The following is the default runtime directives file that is added to a Windows Store project that is compiled by the .NET Native tool chain:</span></span>  
  
```xml  
<Directives xmlns="http://schemas.microsoft.com/netfx/2013/01/metadata">  
  <Application>  
    <Assembly Name="*Application*" Dynamic="Required All" />  
  </Application>  
</Directives>  
```  
  
 <span data-ttu-id="f2c95-167">Dzięki temu wszystkie typy, a także wszystkich ich elementów członkowskich, do wszystkich zestawów w pakiet aplikacji dla odbicia i dynamiczne wywołanie.</span><span class="sxs-lookup"><span data-stu-id="f2c95-167">This enables all the types, as well as all their members, in all the assemblies in your app package for reflection and dynamic invocation.</span></span> <span data-ttu-id="f2c95-168">Jednak nie umożliwia dynamiczne aktywacji typów w zestawach Biblioteka klas programu .NET Framework lub odbicia.</span><span class="sxs-lookup"><span data-stu-id="f2c95-168">However, it does not enable reflection or dynamic activation of types in .NET Framework Class Library assemblies.</span></span> <span data-ttu-id="f2c95-169">W wielu przypadkach jest to odpowiednie.</span><span class="sxs-lookup"><span data-stu-id="f2c95-169">In many cases, this is adequate.</span></span>  
  
## <a name="net-native-and-ngen"></a><span data-ttu-id="f2c95-170">Architektura .NET native i NGEN</span><span class="sxs-lookup"><span data-stu-id="f2c95-170">.NET Native and NGEN</span></span>  
 <span data-ttu-id="f2c95-171">[(Generator obrazu natywnego](../../../docs/framework/tools/ngen-exe-native-image-generator.md) (NGEN) kompiluje zestawów do kodu macierzystego i instaluje je w pamięci podręcznej obrazów natywnych na komputerze lokalnym.</span><span class="sxs-lookup"><span data-stu-id="f2c95-171">The [(Native Image Generator](../../../docs/framework/tools/ngen-exe-native-image-generator.md) (NGEN) compiles assemblies to native code and installs them in the native image cache on the local computer.</span></span> <span data-ttu-id="f2c95-172">Jednak mimo że NGEN, takich jak platforma .NET Native tworzy kodu natywnego, różni się od platformy .NET Native w pewnym sensie znaczących:</span><span class="sxs-lookup"><span data-stu-id="f2c95-172">However, although NGEN, like .NET Native, produces native code, it differs from .NET Native in some significant ways:</span></span>  
  
-   <span data-ttu-id="f2c95-173">Jeśli obrazu macierzystego są dostępne dla konkretnej metody, NGEN powraca do JITing kodu.</span><span class="sxs-lookup"><span data-stu-id="f2c95-173">If no native image is available for a particular method, NGEN falls back to JITing code.</span></span> <span data-ttu-id="f2c95-174">Oznacza to, obrazów macierzystych muszą nadal zawierać metadane i IL w przypadku, gdy NGEN musi wrócić do kompilacji JIT.</span><span class="sxs-lookup"><span data-stu-id="f2c95-174">This means that native images must continue to include metadata and IL in the event that NGEN needs to fall back to JIT compilation.</span></span> <span data-ttu-id="f2c95-175">Z kolei platformy .NET Native tworzy tylko obrazów macierzystych i nie wrócił do kompilacji JIT.</span><span class="sxs-lookup"><span data-stu-id="f2c95-175">In contrast, .NET Native produces only native images and does not fall back to JIT compilation.</span></span> <span data-ttu-id="f2c95-176">W związku z tym tylko metadane wymagane dla niektórych odbicia, serializacji i scenariusze międzyoperacyjne muszą zostać zachowane.</span><span class="sxs-lookup"><span data-stu-id="f2c95-176">As a result, only metadata required for some reflection, serialization, and interop scenarios must be preserved.</span></span>  
  
-   <span data-ttu-id="f2c95-177">NGEN nadal korzysta pełnego środowiska CLR dla usług, takich jak zestaw ładowania remoting, interop, zarządzania pamięcią, wyrzucanie elementów bezużytecznych i w razie potrzeby kompilacji JIT.</span><span class="sxs-lookup"><span data-stu-id="f2c95-177">NGEN continues to rely on the full common language runtime for services such as assembly loading, remoting, interop, memory management, garbage collection, and, if necessary, JIT compilation.</span></span> <span data-ttu-id="f2c95-178">W .NET Native wiele z tych usług są albo niepotrzebnych (kompilacja JIT) lub są rozwiązane w czasie kompilacji i włączyć w zestawie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="f2c95-178">In .NET Native, many of these services are either unnecessary (JIT compilation) or are resolved at build-time and incorporated in the app assembly.</span></span> <span data-ttu-id="f2c95-179">Pozostałych usług, których najważniejszy jest wyrzucanie elementów bezużytecznych, znajdują się w środowisku uruchomieniowym znacznie mniejszy, refaktoryzowane o nazwie mrt100_app.dll.</span><span class="sxs-lookup"><span data-stu-id="f2c95-179">The remaining services, the most important of which is garbage collection, are included in a much smaller, refactored runtime named mrt100_app.dll.</span></span>  
  
-   <span data-ttu-id="f2c95-180">Zwykle obrazów NGEN za słabe.</span><span class="sxs-lookup"><span data-stu-id="f2c95-180">NGEN images tend to be fragile.</span></span> <span data-ttu-id="f2c95-181">Na przykład poprawki lub zmiana zależność zwykle wymaga zestawy, które go używają także ponowna błąd.</span><span class="sxs-lookup"><span data-stu-id="f2c95-181">For example, a patch or change to a dependency typically requires that the assemblies that use it also be re-NGENed.</span></span> <span data-ttu-id="f2c95-182">Jest to szczególnie istotne, system zestawów w bibliotece klas programu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="f2c95-182">This is particularly true of system assemblies in the .NET Framework Class Library.</span></span> <span data-ttu-id="f2c95-183">Z kolei platformy .NET Native umożliwia aplikacjom ma być obsługiwana niezależnie od siebie.</span><span class="sxs-lookup"><span data-stu-id="f2c95-183">In contrast, .NET Native allows applications to be served independently of one another.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f2c95-184">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="f2c95-184">See Also</span></span>  
 [<span data-ttu-id="f2c95-185">Składniki samoopisujące się i metadane</span><span class="sxs-lookup"><span data-stu-id="f2c95-185">Metadata and Self-Describing Components</span></span>](../../../docs/standard/metadata-and-self-describing-components.md)  
 [<span data-ttu-id="f2c95-186">Wewnątrz architektura .NET Native (klip wideo Channel 9)</span><span class="sxs-lookup"><span data-stu-id="f2c95-186">Inside .NET Native (Channel 9 Video)</span></span>](http://channel9.msdn.com/Shows/Going+Deep/Inside-NET-Native)  
 [<span data-ttu-id="f2c95-187">Odbicie i architektura .NET Native</span><span class="sxs-lookup"><span data-stu-id="f2c95-187">Reflection and .NET Native</span></span>](../../../docs/framework/net-native/reflection-and-net-native.md)  
 [<span data-ttu-id="f2c95-188">Ogólne wskazówki dotyczące rozwiązywania problemów z architekturą .NET Native</span><span class="sxs-lookup"><span data-stu-id="f2c95-188">.NET Native General Troubleshooting</span></span>](../../../docs/framework/net-native/net-native-general-troubleshooting.md)
