---
title: Tworzenie zestawów satelickich dla aplikacji klasycznych
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- deploying applications [.NET Framework], resources
- resource files, deploying
- hub-and-spoke resource deployment model
- resource files, packaging
- application resources, packaging
- public keys, obtaining
- satellite assemblies
- assemblies [.NET Framework], signing
- application resources, deploying
- Al.exe
- GAC (global assembly cache), satellite assemblies
- Assembly Linker
- directory locations for satellite assemblies
- global assembly cache, satellite assemblies
- packaging application resources
- compiling satellite assemblies
- re-signing assemblies
ms.assetid: 8d5c6044-2919-41d2-8321-274706b295ac
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: ff0e51ad0d0e12c944c996a4262541fb980efe05
ms.sourcegitcommit: 5b6d778ebb269ee6684fb57ad69a8c28b06235b9
ms.translationtype: HT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/08/2019
ms.locfileid: "59138011"
---
# <a name="creating-satellite-assemblies-for-desktop-apps"></a><span data-ttu-id="dcd88-102">Tworzenie zestawów satelickich dla aplikacji klasycznych</span><span class="sxs-lookup"><span data-stu-id="dcd88-102">Creating Satellite Assemblies for Desktop Apps</span></span>
<span data-ttu-id="dcd88-103">Pliki zasobów odgrywają kluczową rolę w zlokalizowanych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dcd88-103">Resource files play a central role in localized applications.</span></span> <span data-ttu-id="dcd88-104">Umożliwiają one aplikację, aby wyświetlić ciągi, obrazy i inne dane w przez użytkownika języka i kultury, a także do dostarczania danych alternatywnego, jeśli nie są dostępne zasoby dotyczące języka przez użytkownika lub kultury.</span><span class="sxs-lookup"><span data-stu-id="dcd88-104">They enable an application to display strings, images, and other data in the user's own language and culture, and to provide alternate data if resources for the user's own language or culture are unavailable.</span></span> <span data-ttu-id="dcd88-105">.NET Framework wykorzystuje model Gwiazda — w celu zlokalizowania i pobrania zlokalizowanych zasobów.</span><span class="sxs-lookup"><span data-stu-id="dcd88-105">The .NET Framework uses a hub-and-spoke model to locate and retrieve localized resources.</span></span> <span data-ttu-id="dcd88-106">Piasta to główny zestaw, który zawiera niemożliwe do zlokalizowania kodu wykonywalnego i zasoby dla jednej kultury, które jest wywoływane zero lub kultury domyślnej.</span><span class="sxs-lookup"><span data-stu-id="dcd88-106">The hub is the main assembly that contains the non-localizable executable code and the resources for a single culture, which is called the neutral or default culture.</span></span> <span data-ttu-id="dcd88-107">Domyślną kulturę używaną jest rezerwowego kulturą aplikacji; jest używany, gdy nie zlokalizowane zasoby są dostępne.</span><span class="sxs-lookup"><span data-stu-id="dcd88-107">The default culture is the fallback culture for the application; it is used when no localized resources are available.</span></span> <span data-ttu-id="dcd88-108">Możesz użyć <xref:System.Resources.NeutralResourcesLanguageAttribute> atrybutu, aby wyznaczyć kultury aplikacji domyślnej kultury.</span><span class="sxs-lookup"><span data-stu-id="dcd88-108">You use the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to designate the culture of the application's default culture.</span></span> <span data-ttu-id="dcd88-109">Każdej szprysze nawiązuje połączenie z zestawem satelickim, który zawiera zasoby dla pojedynczej zlokalizowanej kultury, ale nie zawiera żadnego kodu.</span><span class="sxs-lookup"><span data-stu-id="dcd88-109">Each spoke connects to a satellite assembly that contains the resources for a single localized culture but does not contain any code.</span></span> <span data-ttu-id="dcd88-110">Ponieważ zestawy satelickie nie są częścią zestawu głównego, można łatwo zaktualizować lub zastąpić zasoby, które odpowiadają określonej kultury bez zastępowania głównym zestawie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dcd88-110">Because the satellite assemblies are not part of the main assembly, you can easily update or replace resources that correspond to a specific culture without replacing the main assembly for the application.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="dcd88-111">Zasoby aplikacji domyślnej kultury, również mogą być przechowywane w zestawie satelickim.</span><span class="sxs-lookup"><span data-stu-id="dcd88-111">The resources of an application's default culture can also be stored in a satellite assembly.</span></span> <span data-ttu-id="dcd88-112">Aby to zrobić, należy przypisać <xref:System.Resources.NeutralResourcesLanguageAttribute> wartość atrybutu <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="dcd88-112">To do this, you assign the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute a value of <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty=nameWithType>.</span></span>  
  
## <a name="satellite-assembly-name-and-location"></a><span data-ttu-id="dcd88-113">Nazwa zestawu satelickiego i lokalizacji</span><span class="sxs-lookup"><span data-stu-id="dcd88-113">Satellite Assembly Name and Location</span></span>  
 <span data-ttu-id="dcd88-114">Wymaga model — Gwiazda umieść zasoby w określonych lokalizacjach, dzięki czemu mogą być łatwo znajduje się i używane.</span><span class="sxs-lookup"><span data-stu-id="dcd88-114">The hub-and-spoke model requires that you place resources in specific locations so that they can be easily located and used.</span></span> <span data-ttu-id="dcd88-115">Jeśli to zrobisz nie kompilacji i nazwy zasobów, zgodnie z oczekiwaniami lub nie należy umieszczać je w odpowiednich lokalizacjach, środowisko uruchomieniowe języka wspólnego nie będzie można je znaleźć i zamiast tego użyj zasobów kultury domyślnej.</span><span class="sxs-lookup"><span data-stu-id="dcd88-115">If you do not compile and name resources as expected, or if you do not place them in the correct locations, the common language runtime will not be able to locate them and will use the resources of the default culture instead.</span></span> <span data-ttu-id="dcd88-116">Menedżer zasobów .NET Framework, reprezentowane przez <xref:System.Resources.ResourceManager> obiektów, zostanie użyta automatycznie uzyskiwać dostęp do zlokalizowanych zasobów.</span><span class="sxs-lookup"><span data-stu-id="dcd88-116">The .NET Framework Resource Manager, represented by a <xref:System.Resources.ResourceManager> object, is used to automatically access localized resources.</span></span> <span data-ttu-id="dcd88-117">Resource Manager wymaga następujących elementów:</span><span class="sxs-lookup"><span data-stu-id="dcd88-117">The Resource Manager requires the following:</span></span>  
  
-   <span data-ttu-id="dcd88-118">Pojedynczy satelicki musi zawierać wszystkie zasoby dla określonej kultury.</span><span class="sxs-lookup"><span data-stu-id="dcd88-118">A single satellite assembly must include all the resources for a particular culture.</span></span> <span data-ttu-id="dcd88-119">Innymi słowy należy skompilować wiele plików txt lub resx w jednym binarnego pliku Resources.</span><span class="sxs-lookup"><span data-stu-id="dcd88-119">In other words, you should compile multiple .txt or .resx files into a single binary .resources file.</span></span>  
  
-   <span data-ttu-id="dcd88-120">Musi istnieć oddzielnym podkatalogu w katalogu aplikacji dla każdej zlokalizowanej kultury, przechowujący zasoby w tej kulturze.</span><span class="sxs-lookup"><span data-stu-id="dcd88-120">There must be a separate subdirectory in the application directory for each localized culture that stores that culture's resources.</span></span> <span data-ttu-id="dcd88-121">Nazwę podkatalogu musi być taka sama jak nazwa kultury.</span><span class="sxs-lookup"><span data-stu-id="dcd88-121">The subdirectory name must be the same as the culture name.</span></span> <span data-ttu-id="dcd88-122">Alternatywnie można przechowywać swoje zestawy satelickie w globalnej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="dcd88-122">Alternately, you can store your satellite assemblies in the global assembly cache.</span></span> <span data-ttu-id="dcd88-123">W takim przypadku składnik informacji kultury silna nazwa zestawu musi wskazywać jego kultury.</span><span class="sxs-lookup"><span data-stu-id="dcd88-123">In this case, the culture information component of the assembly's strong name must indicate its culture.</span></span> <span data-ttu-id="dcd88-124">(Zobacz [instalowanie zestawów satelickich w globalnej pamięci podręcznej zestawów](#SN) w dalszej części tego tematu.)</span><span class="sxs-lookup"><span data-stu-id="dcd88-124">(See the [Installing Satellite Assemblies in the Global Assembly Cache](#SN) section later in this topic.)</span></span>  
  
    > [!NOTE]
    >  <span data-ttu-id="dcd88-125">Jeśli aplikacja zawiera zasoby podhodowli, umieść każdy przeszczepiania w oddzielnym podkatalogu w katalogu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dcd88-125">If your application includes resources for subcultures, place each subculture in a separate subdirectory under the application directory.</span></span> <span data-ttu-id="dcd88-126">Nie należy umieszczać podhodowli podkatalogów w katalogu ich główne kultury.</span><span class="sxs-lookup"><span data-stu-id="dcd88-126">Do not place subcultures in subdirectories under their main culture's directory.</span></span>  
  
-   <span data-ttu-id="dcd88-127">Zestawu satelickiego musi mieć taką samą nazwę jak aplikacja, a musi używać rozszerzenia nazwy pliku ". resources.dll".</span><span class="sxs-lookup"><span data-stu-id="dcd88-127">The satellite assembly must have the same name as the application, and must use the file name extension ".resources.dll".</span></span> <span data-ttu-id="dcd88-128">Na przykład jeśli aplikacja nosi nazwę Example.exe, nazwę każdego zestawu satelickiego powinna być Example.resources.dll.</span><span class="sxs-lookup"><span data-stu-id="dcd88-128">For example, if an application is named Example.exe, the name of each satellite assembly should be Example.resources.dll.</span></span> <span data-ttu-id="dcd88-129">Należy pamiętać, że nazwa zestawu satelickiego nie wskazuje kulturę plików zasobów.</span><span class="sxs-lookup"><span data-stu-id="dcd88-129">Note that the satellite assembly name does not indicate the culture of its resource files.</span></span> <span data-ttu-id="dcd88-130">Jednak zestawu satelickiego pojawia się w katalogu, który określa kulturę.</span><span class="sxs-lookup"><span data-stu-id="dcd88-130">However, the satellite assembly appears in a directory that does specify the culture.</span></span>  
  
-   <span data-ttu-id="dcd88-131">Informacje na temat kultury zestawu satelickiego muszą być zawarte w metadanych zestawu.</span><span class="sxs-lookup"><span data-stu-id="dcd88-131">Information about the culture of the satellite assembly must be included in the assembly's metadata.</span></span> <span data-ttu-id="dcd88-132">Aby przechować nazwę kultury w metadanych zestawu satelickiego, należy określić `/culture` opcji, gdy używasz [Assembly Linker](../../../docs/framework/tools/al-exe-assembly-linker.md) Osadzanie zasobów w zestawie satelickim.</span><span class="sxs-lookup"><span data-stu-id="dcd88-132">To store the culture name in the satellite assembly's metadata, you specify the `/culture` option when you use [Assembly Linker](../../../docs/framework/tools/al-exe-assembly-linker.md) to embed resources in the satellite assembly.</span></span>  
  
 <span data-ttu-id="dcd88-133">Na poniższej ilustracji przedstawiono przykład struktury i lokalizacji wymaganiami katalogu dla aplikacji, które nie jest instalowany w [globalnej pamięci podręcznej](../../../docs/framework/app-domains/gac.md).</span><span class="sxs-lookup"><span data-stu-id="dcd88-133">The following illustration shows a sample directory structure and location requirements for applications that you are not installing in the [global assembly cache](../../../docs/framework/app-domains/gac.md).</span></span> <span data-ttu-id="dcd88-134">Elementy z rozszerzeniami txt i Resources nie będą dostarczane wraz z ostatnim aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dcd88-134">The items with .txt and .resources extensions will not ship with the final application.</span></span> <span data-ttu-id="dcd88-135">Są to pliki zasobów pośredniego, używany do tworzenia zestawów zasobów satelickich końcowego.</span><span class="sxs-lookup"><span data-stu-id="dcd88-135">These are the intermediate resource files used to create the final satellite resource assemblies.</span></span> <span data-ttu-id="dcd88-136">W tym przykładzie można zastąpić pliki resx na pliki txt.</span><span class="sxs-lookup"><span data-stu-id="dcd88-136">In this example, you could substitute .resx files for the .txt files.</span></span> <span data-ttu-id="dcd88-137">Aby uzyskać więcej informacji, zobacz [Packaging and Deploying Resources](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="dcd88-137">For more information, see [Packaging and Deploying Resources](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span></span>  
  
 <span data-ttu-id="dcd88-138">![Zestawy satelickie](../../../docs/framework/resources/media/satelliteassemblydir.gif "satelliteassemblydir")</span><span class="sxs-lookup"><span data-stu-id="dcd88-138">![Satellite assemblies](../../../docs/framework/resources/media/satelliteassemblydir.gif "satelliteassemblydir")</span></span>  
<span data-ttu-id="dcd88-139">Katalog zestawu satelickiego</span><span class="sxs-lookup"><span data-stu-id="dcd88-139">Satellite assembly directory</span></span>  
  
## <a name="compiling-satellite-assemblies"></a><span data-ttu-id="dcd88-140">Kompilowanie zestawów satelickich</span><span class="sxs-lookup"><span data-stu-id="dcd88-140">Compiling Satellite Assemblies</span></span>  
 <span data-ttu-id="dcd88-141">Możesz użyć [Resource File Generator (Resgen.exe)](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) do kompilowania plików tekstowych lub pliki XML (resx), które zawierają zasoby do binarnych plików Resources.</span><span class="sxs-lookup"><span data-stu-id="dcd88-141">You use [Resource File Generator (Resgen.exe)](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) to compile text files or XML (.resx) files that contain resources to binary .resources files.</span></span> <span data-ttu-id="dcd88-142">Następnie użyj [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md) do kompilowania plików Resources do zestawów satelickich.</span><span class="sxs-lookup"><span data-stu-id="dcd88-142">You then use [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md) to compile .resources files into satellite assemblies.</span></span> <span data-ttu-id="dcd88-143">Al.exe tworzy zestaw z plików Resources, które określisz.</span><span class="sxs-lookup"><span data-stu-id="dcd88-143">Al.exe creates an assembly from the .resources files that you specify.</span></span> <span data-ttu-id="dcd88-144">Zestawy satelickie może zawierać tylko zasoby; nie mogą zawierać dowolny kod wykonywalny.</span><span class="sxs-lookup"><span data-stu-id="dcd88-144">Satellite assemblies can contain only resources; they cannot contain any executable code.</span></span>  
  
 <span data-ttu-id="dcd88-145">Następujące polecenie Al.exe tworzy zestaw satelicki dla aplikacji `Example` z strings.de.resources pliku zasobów w Niemczech.</span><span class="sxs-lookup"><span data-stu-id="dcd88-145">The following Al.exe command creates a satellite assembly for the application `Example` from the German resources file strings.de.resources.</span></span>  
  
```console
al -target:lib -embed:strings.de.resources -culture:de -out:Example.resources.dll  
```  
  
 <span data-ttu-id="dcd88-146">Następujące polecenie Al.exe tworzy również zestaw satelicki dla aplikacji `Example` z strings.de.resources pliku.</span><span class="sxs-lookup"><span data-stu-id="dcd88-146">The following Al.exe command also creates a satellite assembly for the application `Example` from the file strings.de.resources.</span></span> <span data-ttu-id="dcd88-147">**Template** opcja powoduje, że zestawu satelickiego można odziedziczyć wszystkie metadane zestawu, z wyjątkiem jego informacje o ustawieniach kulturowych z nadrzędnego zestawu (Example.dll).</span><span class="sxs-lookup"><span data-stu-id="dcd88-147">The **/template** option causes the satellite assembly to inherit all assembly metadata except for its culture information from the parent assembly (Example.dll).</span></span>  
  
```console
al -target:lib -embed:strings.de.resources -culture:de -out:Example.resources.dll -template:Example.dll  
```  
  
 <span data-ttu-id="dcd88-148">W poniższej tabeli opisano opcje Al.exe używane w tych poleceniach bardziej szczegółowo.</span><span class="sxs-lookup"><span data-stu-id="dcd88-148">The following table describes the Al.exe options used in these commands in more detail.</span></span>  
  
|<span data-ttu-id="dcd88-149">Opcja</span><span class="sxs-lookup"><span data-stu-id="dcd88-149">Option</span></span>|<span data-ttu-id="dcd88-150">Opis</span><span class="sxs-lookup"><span data-stu-id="dcd88-150">Description</span></span>|  
|------------|-----------------|  
|<span data-ttu-id="dcd88-151">**-target:** lib</span><span class="sxs-lookup"><span data-stu-id="dcd88-151">**-target:** lib</span></span>|<span data-ttu-id="dcd88-152">Określa, że Twojego zestawu satelickiego jest kompilowany do pliku biblioteki (.dll).</span><span class="sxs-lookup"><span data-stu-id="dcd88-152">Specifies that your satellite assembly is compiled to a library (.dll) file.</span></span> <span data-ttu-id="dcd88-153">Ponieważ nie zawiera kodu wykonywalnego typowe dla zestawu satelickiego, a nie jest głównym zestawem aplikacji, należy zapisać zestawów satelickich bibliotek DLL.</span><span class="sxs-lookup"><span data-stu-id="dcd88-153">Because a satellite assembly does not contain executable code and is not an application's main assembly, you must save satellite assemblies as DLLs.</span></span>|  
|<span data-ttu-id="dcd88-154">**-embed:** strings.de.resources</span><span class="sxs-lookup"><span data-stu-id="dcd88-154">**-embed:** strings.de.resources</span></span>|<span data-ttu-id="dcd88-155">Określa nazwę pliku zasobów do osadzania, gdy Al.exe kompiluje zestaw.</span><span class="sxs-lookup"><span data-stu-id="dcd88-155">Specifies the name of the resource file to embed when Al.exe compiles the assembly.</span></span> <span data-ttu-id="dcd88-156">Możesz osadzić wiele plików Resources w zestawie satelickim, ale jeśli korzystasz z modelu Gwiazda, należy skompilować jeden zestaw satelicki dla poszczególnych kultur.</span><span class="sxs-lookup"><span data-stu-id="dcd88-156">You can embed multiple .resources files in a satellite assembly, but if you are following the hub-and-spoke model, you must compile one satellite assembly for each culture.</span></span> <span data-ttu-id="dcd88-157">Można jednak utworzyć oddzielnych plików Resources ciągi i obiekty.</span><span class="sxs-lookup"><span data-stu-id="dcd88-157">However, you can create separate .resources files for strings and objects.</span></span>|  
|<span data-ttu-id="dcd88-158">**-kultury:** de</span><span class="sxs-lookup"><span data-stu-id="dcd88-158">**-culture:** de</span></span>|<span data-ttu-id="dcd88-159">Określa kulturę zasobów do kompilacji.</span><span class="sxs-lookup"><span data-stu-id="dcd88-159">Specifies the culture of the resource to compile.</span></span> <span data-ttu-id="dcd88-160">Środowisko uruchomieniowe języka wspólnego używa tych informacji podczas wyszukiwania zasobów dla określonej kultury.</span><span class="sxs-lookup"><span data-stu-id="dcd88-160">The common language runtime uses this information when it searches for the resources for a specified culture.</span></span> <span data-ttu-id="dcd88-161">Jeżeli pominięto tę opcję, Al.exe będzie nadal kompilować zasobu, ale środowisko wykonawcze nie będzie można znaleźć go, gdy użytkownik zażąda.</span><span class="sxs-lookup"><span data-stu-id="dcd88-161">If you omit this option, Al.exe will still compile the resource, but the runtime will not be able to find it when a user requests it.</span></span>|  
|<span data-ttu-id="dcd88-162">**-out:** Example.resources.dll</span><span class="sxs-lookup"><span data-stu-id="dcd88-162">**-out:** Example.resources.dll</span></span>|<span data-ttu-id="dcd88-163">Określa nazwę pliku wyjściowego.</span><span class="sxs-lookup"><span data-stu-id="dcd88-163">Specifies the name of the output file.</span></span> <span data-ttu-id="dcd88-164">Nazwa musi być zgodna standard nazewnictwa *baseName*.resources. *rozszerzenie*, gdzie *baseName* jest nazwą zestawu głównego i *rozszerzenia* jest prawidłowe rozszerzenie (na przykład .dll).</span><span class="sxs-lookup"><span data-stu-id="dcd88-164">The name must follow the naming standard *baseName*.resources.*extension*, where *baseName* is the name of the main assembly and *extension* is a valid file name extension (such as .dll).</span></span> <span data-ttu-id="dcd88-165">Należy pamiętać, że środowisko uruchomieniowe nie jest możliwe ustalenie kultury zestawu satelickiego na podstawie jego nazwy pliku wyjściowego; należy użyć **/kulturze** opcję, aby je określić.</span><span class="sxs-lookup"><span data-stu-id="dcd88-165">Note that the runtime is not able to determine the culture of a satellite assembly based on its output file name; you must use the **/culture** option to specify it.</span></span>|  
|<span data-ttu-id="dcd88-166">**-szablon:** Example.dll</span><span class="sxs-lookup"><span data-stu-id="dcd88-166">**-template:** Example.dll</span></span>|<span data-ttu-id="dcd88-167">Określa zestaw, z którego zestawu satelickiego będzie dziedziczyć wszystkie metadane zestawu, z wyjątkiem pola kultury.</span><span class="sxs-lookup"><span data-stu-id="dcd88-167">Specifies an assembly from which the satellite assembly will inherit all assembly metadata except the culture field.</span></span> <span data-ttu-id="dcd88-168">Ta opcja dotyczy zestawów satelickich, tylko wtedy, gdy należy określić zestaw, który ma [silnej nazwy](../../../docs/framework/app-domains/strong-named-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="dcd88-168">This option affects satellite assemblies only if you specify an assembly that has a [strong name](../../../docs/framework/app-domains/strong-named-assemblies.md).</span></span>|  
  
 <span data-ttu-id="dcd88-169">Aby uzyskać pełną listę i opcje Al.exe, zobacz [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="dcd88-169">For a complete list of options available with Al.exe, see [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md).</span></span>  
  
## <a name="satellite-assemblies-an-example"></a><span data-ttu-id="dcd88-170">Zestawy satelitarne: Przykład</span><span class="sxs-lookup"><span data-stu-id="dcd88-170">Satellite Assemblies: An Example</span></span>  
 <span data-ttu-id="dcd88-171">Poniżej przedstawiono prosty przykład "Hello world", która wyświetla okno komunikatu, zawierającą zlokalizowane powitanie.</span><span class="sxs-lookup"><span data-stu-id="dcd88-171">The following is a simple "Hello world" example that displays a message box containing a localized greeting.</span></span> <span data-ttu-id="dcd88-172">Przykład zawiera zasoby dla języka angielskiego (Stany Zjednoczone), francuski (Francja) i kultur rosyjski (Rosja), a jego rezerwowego kultury jest język angielski.</span><span class="sxs-lookup"><span data-stu-id="dcd88-172">The example includes resources for the English (United States), French (France), and Russian (Russia) cultures, and its fallback culture is English.</span></span> <span data-ttu-id="dcd88-173">Aby utworzyć przykładu, wykonaj następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="dcd88-173">To create the example, do the following:</span></span>  
  
1.  <span data-ttu-id="dcd88-174">Utwórz plik zasobów o nazwie Greeting.resx lub Greeting.txt, aby zawierała zasobów dla kultury domyślnej.</span><span class="sxs-lookup"><span data-stu-id="dcd88-174">Create a resource file named Greeting.resx or Greeting.txt to contain the resource for the default culture.</span></span> <span data-ttu-id="dcd88-175">Pojedynczy ciąg o nazwie Store `HelloString` którego wartością jest "Hello world!"</span><span class="sxs-lookup"><span data-stu-id="dcd88-175">Store a single string named `HelloString` whose value is "Hello world!"</span></span> <span data-ttu-id="dcd88-176">w tym pliku.</span><span class="sxs-lookup"><span data-stu-id="dcd88-176">in this file.</span></span>  
  
2.  <span data-ttu-id="dcd88-177">Do wskazywania aplikacji domyślnej kultury angielski (en), Dodaj następujący kod <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> atrybutu do pliku AssemblyInfo aplikacji lub do pliku kodu źródłowego głównego, który zostanie skompilowany w głównym zestawie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dcd88-177">To indicate that English (en) is the application's default culture, add the following <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> attribute to the application's AssemblyInfo file or to the main source code file that will be compiled into the application's main assembly.</span></span>  
  
     [!code-csharp[Conceptual.Resources.Locating#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.locating/cs/assemblyinfo.cs#2)]
     [!code-vb[Conceptual.Resources.Locating#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.locating/vb/assemblyinfo.vb#2)]  
  
3.  <span data-ttu-id="dcd88-178">Dodanie obsługi dodatkowych kultur (en US, fr-FR i ru-RU) do aplikacji w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="dcd88-178">Add support for additional cultures (en-US, fr-FR, and ru-RU) to the application as follows:</span></span>  
  
    -   <span data-ttu-id="dcd88-179">Do obsługi en US lub kultury angielski (Stany Zjednoczone), Utwórz plik zasobów o nazwie Greeting.en US.resx lub Greeting.en US.txt, a w niej przechowywane jako jeden ciąg znaków o nazwie `HelloString` którego wartością jest "Witaj świecie!"</span><span class="sxs-lookup"><span data-stu-id="dcd88-179">To support the en-US or English (United States) culture, create a resource file named Greeting.en-US.resx or Greeting.en-US.txt, and store in it a single string named `HelloString` whose value is "Hi world!"</span></span>  
  
    -   <span data-ttu-id="dcd88-180">Na potrzeby obsługi, fr-FR lub kultury francuski (Francja), Utwórz plik zasobów o nazwie Greeting.fr-FR.resx lub Greeting.fr FR.txt, a w niej przechowywane jako jeden ciąg znaków o nazwie `HelloString` którego wartością jest "Salut w całości le monde!"</span><span class="sxs-lookup"><span data-stu-id="dcd88-180">To support the fr-FR or French (France) culture, create a resource file named Greeting.fr-FR.resx or Greeting.fr-FR.txt, and store in it a single string named `HelloString` whose value is "Salut tout le monde!"</span></span>  
  
    -   <span data-ttu-id="dcd88-181">Na potrzeby obsługi, ru-RU lub kultury rosyjski (Rosja), Utwórz plik zasobów o nazwie Greeting.ru RU.resx lub Greeting.ru RU.txt, a w niej przechowywane jako jeden ciąg znaków o nazwie `HelloString` którego wartością jest "Всем привет!"</span><span class="sxs-lookup"><span data-stu-id="dcd88-181">To support the ru-RU or Russian (Russia) culture, create a resource file named Greeting.ru-RU.resx or Greeting.ru-RU.txt, and store in it a single string named `HelloString` whose value is "Всем привет!"</span></span>  
  
4.  <span data-ttu-id="dcd88-182">Użyj [Resgen.exe](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) skompilować każdego tekstowym lub XML pliku zasobu do binarnego pliku Resources.</span><span class="sxs-lookup"><span data-stu-id="dcd88-182">Use [Resgen.exe](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) to compile each text or XML resource file to a binary .resources file.</span></span> <span data-ttu-id="dcd88-183">Dane wyjściowe to zbiór plików, które mają taką samą nazwę pliku głównego, jak pliki resx lub .txt, ale z rozszerzeniem Resources.</span><span class="sxs-lookup"><span data-stu-id="dcd88-183">The output is a set of files that have the same root file name as the .resx or .txt files, but a .resources extension.</span></span> <span data-ttu-id="dcd88-184">Po utworzeniu przykładu z programu Visual Studio, proces kompilacji odbywa się automatycznie.</span><span class="sxs-lookup"><span data-stu-id="dcd88-184">If you create the example with Visual Studio, the compilation process is handled automatically.</span></span> <span data-ttu-id="dcd88-185">Jeśli nie używasz programu Visual Studio, uruchom następujące polecenia do kompilowania plików resx na pliki Resources:</span><span class="sxs-lookup"><span data-stu-id="dcd88-185">If you aren't using Visual Studio, run the following commands to compile the .resx files into .resources files:</span></span>  
  
    ```console
    resgen Greeting.resx  
    resgen Greeting.en-us.resx  
    resgen Greeting.fr-FR.resx  
    resgen Greeting.ru-RU.resx  
    ```  
  
     <span data-ttu-id="dcd88-186">Jeśli zasoby w plikach tekstowych zamiast plików XML, Zamień .txt rozszerzeniem resx.</span><span class="sxs-lookup"><span data-stu-id="dcd88-186">If your resources are in text files instead of XML files, replace the .resx extension with .txt.</span></span>  
  
5.  <span data-ttu-id="dcd88-187">Skompiluj następujący kod źródłowy, wraz z zasobów dla kultury domyślnej do zestawu głównej aplikacji:</span><span class="sxs-lookup"><span data-stu-id="dcd88-187">Compile the following source code along with the resources for the default culture into the application's main assembly:</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="dcd88-188">Korzystając z wiersza polecenia, a nie programu Visual Studio do tworzenia przykładu, należy zmodyfikować wywołanie <xref:System.Resources.ResourceManager> konstruktora klasy do następującego:</span><span class="sxs-lookup"><span data-stu-id="dcd88-188">If you are using the command line rather than Visual Studio to create the example, you should modify the call to the <xref:System.Resources.ResourceManager> class constructor to the following:</span></span> `ResourceManager rm = new ResourceManager("Greetings", typeof(Example).Assembly);`  
  
     [!code-csharp[Conceptual.Resources.Locating#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.locating/cs/program.cs#1)]
     [!code-vb[Conceptual.Resources.Locating#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.locating/vb/module1.vb#1)]  
  
     <span data-ttu-id="dcd88-189">Jeśli aplikacja nosi nazwę przykładu i kompilujesz z wiersza polecenia, polecenie dla C# kompilator jest:</span><span class="sxs-lookup"><span data-stu-id="dcd88-189">If the application is named Example and you are compiling from the command line, the command for the C# compiler is:</span></span>  
  
    ```console  
    csc Example.cs -res:Greeting.resources  
    ```  
  
     <span data-ttu-id="dcd88-190">Odpowiednie polecenie kompilator języka Visual Basic to:</span><span class="sxs-lookup"><span data-stu-id="dcd88-190">The corresponding Visual Basic compiler command is:</span></span>  
  
    ```console  
    vbc Example.vb -res:Greeting.resources  
    ```  
  
6.  <span data-ttu-id="dcd88-191">Tworzenie podkatalogu w katalogu głównym aplikacji, dla każdej zlokalizowanej kultury, obsługiwanych przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="dcd88-191">Create a subdirectory in the main application directory for each localized culture supported by the application.</span></span> <span data-ttu-id="dcd88-192">Należy utworzyć en US, fr-FR i podkatalogu ru-RU.</span><span class="sxs-lookup"><span data-stu-id="dcd88-192">You should create an en-US, an fr-FR, and an ru-RU subdirectory.</span></span> <span data-ttu-id="dcd88-193">Program Visual Studio automatycznie tworzy te podkatalogi jako część procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="dcd88-193">Visual Studio creates these subdirectories automatically as part of the compilation process.</span></span>  
  
7.  <span data-ttu-id="dcd88-194">Osadzanie plików poszczególnych Resources specyficzne dla kultury w zestawy satelickie i zapisują je do odpowiedniego katalogu.</span><span class="sxs-lookup"><span data-stu-id="dcd88-194">Embed the individual culture-specific .resources files into satellite assemblies and save them to the appropriate directory.</span></span> <span data-ttu-id="dcd88-195">To polecenie, aby to zrobić dla każdego pliku Resources:</span><span class="sxs-lookup"><span data-stu-id="dcd88-195">The command to do this for each .resources file is:</span></span>  
  
    ```console
    al -target:lib -embed:Greeting.culture.resources -culture:culture -out:culture\Example.resources.dll  
    ```  
  
     <span data-ttu-id="dcd88-196">gdzie *kultury* jest nazwą kultury, którego zasoby, które zawiera zestawu satelickiego.</span><span class="sxs-lookup"><span data-stu-id="dcd88-196">where *culture* is the name of the culture whose resources the satellite assembly contains.</span></span> <span data-ttu-id="dcd88-197">Visual Studio, które automatycznie obsługuje ten proces.</span><span class="sxs-lookup"><span data-stu-id="dcd88-197">Visual Studio handles this process automatically.</span></span>  
  
 <span data-ttu-id="dcd88-198">Następnie można uruchomić przykład.</span><span class="sxs-lookup"><span data-stu-id="dcd88-198">You can then run the example.</span></span> <span data-ttu-id="dcd88-199">Losowo wprowadzi jednym z obsługiwanych kulturami bieżącej kultury i wyświetlić pozdrowienia zlokalizowane.</span><span class="sxs-lookup"><span data-stu-id="dcd88-199">It will randomly make one of the supported cultures the current culture and display a localized greeting.</span></span>  
  
<a name="SN"></a>   
## <a name="installing-satellite-assemblies-in-the-global-assembly-cache"></a><span data-ttu-id="dcd88-200">Instalowanie zestawów satelickich w globalnej pamięci podręcznej</span><span class="sxs-lookup"><span data-stu-id="dcd88-200">Installing Satellite Assemblies in the Global Assembly Cache</span></span>  
 <span data-ttu-id="dcd88-201">Zamiast instalować zestawów w podkatalogu lokalnej aplikacji, można zainstalować je w globalnej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="dcd88-201">Instead of installing assemblies in a local application subdirectory, you can install them in the global assembly cache.</span></span> <span data-ttu-id="dcd88-202">Jest to szczególnie przydatne, jeśli masz bibliotek klas i zestawów zasobów biblioteki klasy, które są używane przez wiele aplikacji.</span><span class="sxs-lookup"><span data-stu-id="dcd88-202">This is particularly useful if you have class libraries and class library resource assemblies that are used by multiple applications.</span></span>  
  
 <span data-ttu-id="dcd88-203">Instalowanie zestawów w globalnej pamięci podręcznej wymaga, że mają one silne nazwy.</span><span class="sxs-lookup"><span data-stu-id="dcd88-203">Installing assemblies in the global assembly cache requires that they have strong names.</span></span> <span data-ttu-id="dcd88-204">Zestawy o silnych nazwach są podpisane za pomocą prawidłowej pary kluczy publiczny/prywatny.</span><span class="sxs-lookup"><span data-stu-id="dcd88-204">Strong-named assemblies are signed with a valid public/private key pair.</span></span> <span data-ttu-id="dcd88-205">Zawierają one informacje o wersji, która używa środowiska uruchomieniowego, aby określić które zestawu na potrzeby spełnienia żądania powiązania.</span><span class="sxs-lookup"><span data-stu-id="dcd88-205">They contain version information that the runtime uses to determine which assembly to use to satisfy a binding request.</span></span> <span data-ttu-id="dcd88-206">Aby uzyskać więcej informacji na temat silne nazwy i wersji, zobacz [przechowywanie wersji zestawu](../../../docs/framework/app-domains/assembly-versioning.md).</span><span class="sxs-lookup"><span data-stu-id="dcd88-206">For more information about strong names and versioning, see [Assembly Versioning](../../../docs/framework/app-domains/assembly-versioning.md).</span></span> <span data-ttu-id="dcd88-207">Aby uzyskać więcej informacji o silnych nazwach, zobacz [zestawy Strong-Named](../../../docs/framework/app-domains/strong-named-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="dcd88-207">For more information about strong names, see [Strong-Named Assemblies](../../../docs/framework/app-domains/strong-named-assemblies.md).</span></span>  
  
 <span data-ttu-id="dcd88-208">Opracowując aplikację, jest mało prawdopodobne, że masz dostęp do końcowego pary kluczy publiczny/prywatny.</span><span class="sxs-lookup"><span data-stu-id="dcd88-208">When you are developing an application, it is unlikely that you will have access to the final public/private key pair.</span></span> <span data-ttu-id="dcd88-209">Aby można było zainstalować zestawu satelickiego w globalnej pamięci podręcznej i upewnij się, że działa zgodnie z oczekiwaniami, można użyć technikę o nazwie opóźnionego podpisywania.</span><span class="sxs-lookup"><span data-stu-id="dcd88-209">In order to install a satellite assembly in the global assembly cache and ensure that it works as expected, you can use a technique called delayed signing.</span></span> <span data-ttu-id="dcd88-210">Gdy opóźnienie Podpisz zestaw w czasie kompilacji możesz zarezerwować miejsce w pliku podpisu silnej nazwy.</span><span class="sxs-lookup"><span data-stu-id="dcd88-210">When you delay sign an assembly, at build time you reserve space in the file for the strong name signature.</span></span> <span data-ttu-id="dcd88-211">Rzeczywiste podpisywania jest opóźnione dopiero po pewnym czasie, gdy ostateczny pary kluczy publiczny/prywatny jest dostępna.</span><span class="sxs-lookup"><span data-stu-id="dcd88-211">The actual signing is delayed until later, when the final public/private key pair is available.</span></span> <span data-ttu-id="dcd88-212">Aby uzyskać więcej informacji na temat opóźnionego podpisywania, zobacz [opóźnienie podpisywania zestawu](../../../docs/framework/app-domains/delay-sign-assembly.md).</span><span class="sxs-lookup"><span data-stu-id="dcd88-212">For more information about delayed signing, see [Delay Signing an Assembly](../../../docs/framework/app-domains/delay-sign-assembly.md).</span></span>  
  
### <a name="obtaining-the-public-key"></a><span data-ttu-id="dcd88-213">Uzyskiwanie klucza publicznego</span><span class="sxs-lookup"><span data-stu-id="dcd88-213">Obtaining the Public Key</span></span>  
 <span data-ttu-id="dcd88-214">Aby opóźnić Podpisz zestaw, musi mieć dostęp do klucza publicznego.</span><span class="sxs-lookup"><span data-stu-id="dcd88-214">To delay sign an assembly, you must have access to the public key.</span></span> <span data-ttu-id="dcd88-215">Można uzyskać klucz publiczny rzeczywiste z organizacji w Twojej firmie, czy ostatecznej podpisywanie, lub Utwórz klucz publiczny za pomocą [narzędzie silnych nazw (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md).</span><span class="sxs-lookup"><span data-stu-id="dcd88-215">You can either obtain the real public key from the organization in your company that will do the eventual signing, or create a public key by using the [Strong Name Tool (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md).</span></span>  
  
 <span data-ttu-id="dcd88-216">Następujące polecenie Sn.exe tworzy parę kluczy publiczny/prywatny testu.</span><span class="sxs-lookup"><span data-stu-id="dcd88-216">The following Sn.exe command creates a test public/private key pair.</span></span> <span data-ttu-id="dcd88-217">**– K** opcja określa, że Sn.exe, należy utworzyć nową parę kluczy i zapisz go w pliku o nazwie TestKeyPair.snk.</span><span class="sxs-lookup"><span data-stu-id="dcd88-217">The **–k** option specifies that Sn.exe should create a new key pair and save it in a file named TestKeyPair.snk.</span></span>  
  
```console
sn –k TestKeyPair.snk   
```  
  
 <span data-ttu-id="dcd88-218">Można wyodrębnić klucza publicznego z pliku, który zawiera parę kluczy testu.</span><span class="sxs-lookup"><span data-stu-id="dcd88-218">You can extract the public key from the file that contains the test key pair.</span></span> <span data-ttu-id="dcd88-219">Poniższe polecenie wyodrębnia klucz publiczny z TestKeyPair.snk i zapisuje je w PublicKey.snk:</span><span class="sxs-lookup"><span data-stu-id="dcd88-219">The following command extracts the public key from TestKeyPair.snk and saves it in PublicKey.snk:</span></span>  
  
```console
sn –p TestKeyPair.snk PublicKey.snk  
```  
  
### <a name="delay-signing-an-assembly"></a><span data-ttu-id="dcd88-220">Opóźnione podpisywanie zestawu</span><span class="sxs-lookup"><span data-stu-id="dcd88-220">Delay Signing an Assembly</span></span>  
 <span data-ttu-id="dcd88-221">Po Uzyskaj lub Utwórz klucz publiczny, należy użyć [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md) do kompilowania zestawu i określ opóźnionego podpisywania.</span><span class="sxs-lookup"><span data-stu-id="dcd88-221">After you obtain or create the public key, you use the [Assembly Linker (Al.exe)](../../../docs/framework/tools/al-exe-assembly-linker.md) to compile the assembly and specify delayed signing.</span></span>  
  
 <span data-ttu-id="dcd88-222">Poniższe polecenie Al.exe tworzy zestaw o silnej nazwie satelicki dla aplikacji StringLibrary z pliku strings.ja.resources:</span><span class="sxs-lookup"><span data-stu-id="dcd88-222">The following Al.exe command creates a strong-named satellite assembly for the application StringLibrary from the strings.ja.resources file:</span></span>  
  
```console 
al -target:lib -embed:strings.ja.resources -culture:ja -out:StringLibrary.resources.dll -delay+ -keyfile:PublicKey.snk  
```  
  
 <span data-ttu-id="dcd88-223">**-Delay +** opcja określa, że konsolidator zestawów, należy opóźnić podpisanie zestawu.</span><span class="sxs-lookup"><span data-stu-id="dcd88-223">The **-delay+** option specifies that the Assembly Linker should delay sign the assembly.</span></span> <span data-ttu-id="dcd88-224">**- Keyfile** opcja określa nazwę pliku klucza, który zawiera klucz publiczny, który umożliwia opóźnienie podpisywania zestawu.</span><span class="sxs-lookup"><span data-stu-id="dcd88-224">The **-keyfile** option specifies the name of the key file that contains the public key to use to delay sign the assembly.</span></span>  
  
### <a name="re-signing-an-assembly"></a><span data-ttu-id="dcd88-225">Ponowne podpisywanie zestawu</span><span class="sxs-lookup"><span data-stu-id="dcd88-225">Re-signing an Assembly</span></span>  
 <span data-ttu-id="dcd88-226">Przed wdrożeniem aplikacji musisz ją ponownie podpisać opóźnienie podpisanego zestawu satelickiego parą kluczy liczby rzeczywistej.</span><span class="sxs-lookup"><span data-stu-id="dcd88-226">Before you deploy your application, you must re-sign the delay signed satellite assembly with the real key pair.</span></span> <span data-ttu-id="dcd88-227">Można to zrobić przy użyciu Sn.exe.</span><span class="sxs-lookup"><span data-stu-id="dcd88-227">You can do this by using Sn.exe.</span></span>  
  
 <span data-ttu-id="dcd88-228">Poniższe polecenie Sn.exe podpisuje StringLibrary.resources.dll parą kluczy przechowywanych w pliku RealKeyPair.snk.</span><span class="sxs-lookup"><span data-stu-id="dcd88-228">The following Sn.exe command signs StringLibrary.resources.dll with the key pair stored in the file RealKeyPair.snk.</span></span> <span data-ttu-id="dcd88-229">**– R** opcja określa, że wcześniej podpisane lub opóźnienia, podpisać zestaw jest ponownie podpisana.</span><span class="sxs-lookup"><span data-stu-id="dcd88-229">The **–R** option specifies that a previously signed or delay signed assembly is to be re-signed.</span></span>  
  
```console
sn –R StringLibrary.resources.dll RealKeyPair.snk   
```  
  
### <a name="installing-a-satellite-assembly-in-the-global-assembly-cache"></a><span data-ttu-id="dcd88-230">Instalowanie zestawu satelickiego w globalnej pamięci podręcznej</span><span class="sxs-lookup"><span data-stu-id="dcd88-230">Installing a Satellite Assembly in the Global Assembly Cache</span></span>  
 <span data-ttu-id="dcd88-231">Gdy środowisko uruchomieniowe wyszukuje zasobów w proces bazowy zasobu, szuka w [globalnej pamięci podręcznej](../../../docs/framework/app-domains/gac.md) pierwszy.</span><span class="sxs-lookup"><span data-stu-id="dcd88-231">When the runtime searches for resources in the resource fallback process, it looks in the [global assembly cache](../../../docs/framework/app-domains/gac.md) first.</span></span> <span data-ttu-id="dcd88-232">(Aby uzyskać więcej informacji, zobacz sekcję "Zasobów rezerwowych procesu" [Packaging and Deploying Resources](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md) tematu.) Jak najszybciej zestawu satelickiego jest podpisany silną nazwą, jego można zainstalować w globalnej pamięci podręcznej przy użyciu [Global Assembly Cache Tool (Gacutil.exe)](../../../docs/framework/tools/gacutil-exe-gac-tool.md).</span><span class="sxs-lookup"><span data-stu-id="dcd88-232">(For more information, see the "Resource Fallback Process" section of the [Packaging and Deploying Resources](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md) topic.) As soon as a satellite assembly is signed with a strong name, it can be installed in the global assembly cache by using the [Global Assembly Cache Tool (Gacutil.exe)](../../../docs/framework/tools/gacutil-exe-gac-tool.md).</span></span>  
  
 <span data-ttu-id="dcd88-233">Poniższe polecenie Gacutil.exe instaluje StringLibrary.resources.dll w globalnej pamięci podręcznej:</span><span class="sxs-lookup"><span data-stu-id="dcd88-233">The following Gacutil.exe command installs StringLibrary.resources.dll in the global assembly cache:</span></span>  
  
```console
gacutil -i:StringLibrary.resources.dll  
```  
  
 <span data-ttu-id="dcd88-234">**/I** opcja określa, że Gacutil.exe należy zainstalować określony zestaw w globalnej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="dcd88-234">The **/i** option specifies that Gacutil.exe should install the specified assembly into the global assembly cache.</span></span> <span data-ttu-id="dcd88-235">Po satelity zestaw jest zainstalowany w pamięci podręcznej, zasoby, które zawiera stają się dostępne dla wszystkich aplikacji, które są przeznaczone do użycia zestawu satelickiego.</span><span class="sxs-lookup"><span data-stu-id="dcd88-235">After the satellite assembly is installed in the cache, the resources it contains become available to all applications that are designed to use the satellite assembly.</span></span>  
  
### <a name="resources-in-the-global-assembly-cache-an-example"></a><span data-ttu-id="dcd88-236">Zasoby w globalnej pamięci podręcznej: Przykład</span><span class="sxs-lookup"><span data-stu-id="dcd88-236">Resources in the Global Assembly Cache: An Example</span></span>  
 <span data-ttu-id="dcd88-237">W poniższym przykładzie użyto metody w bibliotece klas .NET Framework, aby wyodrębnić i zwraca zlokalizowany pozdrowienia z pliku zasobów.</span><span class="sxs-lookup"><span data-stu-id="dcd88-237">The following example uses a method in a .NET Framework class library to extract and return a localized greeting from a resource file.</span></span> <span data-ttu-id="dcd88-238">Biblioteki i jej zasoby są zarejestrowane w globalnej pamięci podręcznej.</span><span class="sxs-lookup"><span data-stu-id="dcd88-238">The library and its resources are registered in the global assembly cache.</span></span> <span data-ttu-id="dcd88-239">Przykład zawiera zasoby dla języka angielskiego (Stany Zjednoczone), francuski (Francja), rosyjski (Rosja) i angielskim kultur.</span><span class="sxs-lookup"><span data-stu-id="dcd88-239">The example includes resources for the English (United States), French (France), Russian (Russia), and English cultures.</span></span> <span data-ttu-id="dcd88-240">Język angielski jest domyślną kulturą; jego zasobów są przechowywane w głównym zestawie.</span><span class="sxs-lookup"><span data-stu-id="dcd88-240">English is the default culture; its resources are stored in the main assembly.</span></span> <span data-ttu-id="dcd88-241">Przykład opóźnienie początkowo objawy biblioteki i jej zestawy satelickie z kluczem publicznym, następnie podpisuje ponownie je parą kluczy publiczny/prywatny.</span><span class="sxs-lookup"><span data-stu-id="dcd88-241">The example initially delay signs the library and its satellite assemblies with a public key, then re-signs them with a public/private key pair.</span></span> <span data-ttu-id="dcd88-242">Aby utworzyć przykładu, wykonaj następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="dcd88-242">To create the example, do the following:</span></span>  
  
1.  <span data-ttu-id="dcd88-243">Jeśli nie używasz programu Visual Studio, należy użyć następującego [narzędzie silnych nazw (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) polecenie, aby utworzyć parę kluczy publiczny/prywatny, o nazwie ResKey.snk:</span><span class="sxs-lookup"><span data-stu-id="dcd88-243">If you are not using Visual Studio, use the following [Strong Name Tool (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) command to create a public/private key pair named ResKey.snk:</span></span>  
  
    ```console
    sn –k ResKey.snk  
    ```  
  
     <span data-ttu-id="dcd88-244">Jeśli używasz programu Visual Studio, użyj **podpisywanie** projektu na karcie **właściwości** okno dialogowe, aby wygenerować plik klucza.</span><span class="sxs-lookup"><span data-stu-id="dcd88-244">If you are using Visual Studio, use the **Signing** tab of the project **Properties** dialog box to generate the key file.</span></span>  
  
2.  <span data-ttu-id="dcd88-245">Należy użyć następującego [narzędzie silnych nazw (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) polecenie, aby utworzyć plik klucza publicznego o nazwie PublicKey.snk:</span><span class="sxs-lookup"><span data-stu-id="dcd88-245">Use the following [Strong Name Tool (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) command to create a public key file named PublicKey.snk:</span></span>  
  
    ```console
    sn –p ResKey.snk PublicKey.snk  
    ```  
  
3.  <span data-ttu-id="dcd88-246">Utwórz plik zasobów o nazwie Strings.resx zawierać zasobów dla kultury domyślnej.</span><span class="sxs-lookup"><span data-stu-id="dcd88-246">Create a resource file named Strings.resx to contain the resource for the default culture.</span></span> <span data-ttu-id="dcd88-247">Pojedynczy ciąg o nazwie Store `Greeting` którego wartością jest "Jak czy ich czy?"</span><span class="sxs-lookup"><span data-stu-id="dcd88-247">Store a single string named `Greeting` whose value is "How do you do?"</span></span> <span data-ttu-id="dcd88-248">w tym pliku.</span><span class="sxs-lookup"><span data-stu-id="dcd88-248">in that file.</span></span>  
  
4.  <span data-ttu-id="dcd88-249">Do wskazywania aplikacji domyślnej kultury "en", Dodaj następujący kod <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> atrybutu do pliku AssemblyInfo aplikacji lub do pliku kodu źródłowego głównego, który zostanie skompilowany w głównym zestawie aplikacji:</span><span class="sxs-lookup"><span data-stu-id="dcd88-249">To indicate that "en" is the application's default culture, add the following <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> attribute to the application's AssemblyInfo file or to the main source code file that will be compiled into the application's main assembly:</span></span>  
  
     [!code-csharp[Conceptual.Resources.Satellites#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/stringlibrary.cs#2)]
     [!code-vb[Conceptual.Resources.Satellites#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/stringlibrary.vb#2)]  
  
5.  <span data-ttu-id="dcd88-250">Dodanie obsługi dodatkowych kultur (kultury en US, fr-FR i ru-RU) do aplikacji w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="dcd88-250">Add support for additional cultures (the en-US, fr-FR, and ru-RU cultures) to the application as follows:</span></span>  
  
    -   <span data-ttu-id="dcd88-251">Aby obsługiwać "en US" lub kultury angielski (Stany Zjednoczone), Utwórz plik zasobów o nazwie Strings.en US.resx lub Strings.en US.txt, a w niej przechowywane jako jeden ciąg znaków o nazwie `Greeting` którego wartością jest "Hello!".</span><span class="sxs-lookup"><span data-stu-id="dcd88-251">To support the "en-US" or English (United States) culture, create a resource file named Strings.en-US.resx or Strings.en-US.txt, and store in it a single string named `Greeting` whose value is "Hello!".</span></span>  
  
    -   <span data-ttu-id="dcd88-252">Aby obsługiwać "fr-FR" lub kultury francuski (Francja), Utwórz plik zasobów o nazwie Strings.fr-FR.resx lub Strings.fr FR.txt i przechowywanych w niej pojedynczego ciągu o nazwie `Greeting` którego wartością jest "Bon jour!"</span><span class="sxs-lookup"><span data-stu-id="dcd88-252">To support the "fr-FR" or French (France) culture, create a resource file named Strings.fr-FR.resx or Strings.fr-FR.txt and store in it a single string named `Greeting` whose value is "Bon jour!"</span></span>  
  
    -   <span data-ttu-id="dcd88-253">Aby obsługiwać "ru-RU" lub kultury rosyjski (Rosja), Utwórz plik zasobów o nazwie Strings.ru RU.resx lub Strings.ru RU.txt i przechowywanych w niej pojedynczego ciągu o nazwie `Greeting` którego wartością jest "Привет!"</span><span class="sxs-lookup"><span data-stu-id="dcd88-253">To support the "ru-RU" or Russian (Russia) culture, create a resource file named Strings.ru-RU.resx or Strings.ru-RU.txt and store in it a single string named `Greeting` whose value is "Привет!"</span></span>  
  
6.  <span data-ttu-id="dcd88-254">Użyj [Resgen.exe](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) skompilować każdego tekstowym lub XML pliku zasobu do binarnego pliku Resources.</span><span class="sxs-lookup"><span data-stu-id="dcd88-254">Use [Resgen.exe](../../../docs/framework/tools/resgen-exe-resource-file-generator.md) to compile each text or XML resource file to a binary .resources file.</span></span> <span data-ttu-id="dcd88-255">Dane wyjściowe to zbiór plików, które mają taką samą nazwę pliku głównego, jak pliki resx lub .txt, ale z rozszerzeniem Resources.</span><span class="sxs-lookup"><span data-stu-id="dcd88-255">The output is a set of files that have the same root file name as the .resx or .txt files, but a .resources extension.</span></span> <span data-ttu-id="dcd88-256">Po utworzeniu przykładu z programu Visual Studio, proces kompilacji odbywa się automatycznie.</span><span class="sxs-lookup"><span data-stu-id="dcd88-256">If you create the example with Visual Studio, the compilation process is handled automatically.</span></span> <span data-ttu-id="dcd88-257">Jeśli nie używasz programu Visual Studio, uruchom następujące polecenie do kompilowania plików resx na pliki Resources:</span><span class="sxs-lookup"><span data-stu-id="dcd88-257">If you aren't using Visual Studio, run the following command to compile the .resx files into .resources files:</span></span>  
  
    ```console
    resgen filename  
    ```  
  
     <span data-ttu-id="dcd88-258">gdzie *filename* jest opcjonalna ścieżka, nazwa pliku i rozszerzenie pliku tekstowych lub resx.</span><span class="sxs-lookup"><span data-stu-id="dcd88-258">where *filename* is the optional path, file name, and extension of the .resx or text file.</span></span>  
  
7.  <span data-ttu-id="dcd88-259">Kompiluj następujący kod źródłowy dla StringLibrary.vb lub StringLibrary.cs wraz z zasobów dla kultury domyślnej do opóźnienia podpisanego zestawu biblioteki o nazwie StringLibrary.dll:</span><span class="sxs-lookup"><span data-stu-id="dcd88-259">Compile the following source code for StringLibrary.vb or StringLibrary.cs along with the resources for the default culture into a delay signed library assembly named StringLibrary.dll:</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="dcd88-260">Korzystając z wiersza polecenia, a nie programu Visual Studio do tworzenia przykładu, należy zmodyfikować wywołanie <xref:System.Resources.ResourceManager> Konstruktor `ResourceManager rm = new ResourceManager("Strings",` `typeof(Example).Assembly);`.</span><span class="sxs-lookup"><span data-stu-id="dcd88-260">If you are using the command line rather than Visual Studio to create the example, you should modify the call to the <xref:System.Resources.ResourceManager> class constructor to `ResourceManager rm = new ResourceManager("Strings",` `typeof(Example).Assembly);`.</span></span>  
  
     [!code-csharp[Conceptual.Resources.Satellites#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/stringlibrary.cs#1)]
     [!code-vb[Conceptual.Resources.Satellites#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/stringlibrary.vb#1)]  
  
     <span data-ttu-id="dcd88-261">Polecenie dla C# kompilator jest:</span><span class="sxs-lookup"><span data-stu-id="dcd88-261">The command for the C# compiler is:</span></span>  
  
    ```console
    csc -t:library -resource:Strings.resources -delaysign+ -keyfile:publickey.snk StringLibrary.cs  
    ```  
  
     <span data-ttu-id="dcd88-262">Odpowiednie polecenie kompilator języka Visual Basic to:</span><span class="sxs-lookup"><span data-stu-id="dcd88-262">The corresponding Visual Basic compiler command is:</span></span>  
  
    ```console  
    vbc -t:library -resource:Strings.resources -delaysign+ -keyfile:publickey.snk StringLibrary.vb  
    ```  
  
8.  <span data-ttu-id="dcd88-263">Tworzenie podkatalogu w katalogu głównym aplikacji, dla każdej zlokalizowanej kultury, obsługiwanych przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="dcd88-263">Create a subdirectory in the main application directory for each localized culture supported by the application.</span></span> <span data-ttu-id="dcd88-264">Należy utworzyć en US, fr-FR i podkatalogu ru-RU.</span><span class="sxs-lookup"><span data-stu-id="dcd88-264">You should create an en-US, an fr-FR, and an ru-RU subdirectory.</span></span> <span data-ttu-id="dcd88-265">Program Visual Studio automatycznie tworzy te podkatalogi jako część procesu kompilacji.</span><span class="sxs-lookup"><span data-stu-id="dcd88-265">Visual Studio creates these subdirectories automatically as part of the compilation process.</span></span> <span data-ttu-id="dcd88-266">Ponieważ wszystkie zestawy satelickie mają taką samą nazwę, podkatalogi są używane do przechowywania poszczególnych specyficzne dla kultury zestawy satelickie, dopóki nie są podpisane parą kluczy publiczny/prywatny.</span><span class="sxs-lookup"><span data-stu-id="dcd88-266">Because all satellite assemblies have the same file name, the subdirectories are used to store individual culture-specific satellite assemblies until they are signed with a public/private key pair.</span></span>  
  
9. <span data-ttu-id="dcd88-267">Osadzanie poszczególnych plików Resources specyficzne dla kultury do podpisany z opóźnieniem zestawy satelickie i zapisują je do odpowiedniego katalogu.</span><span class="sxs-lookup"><span data-stu-id="dcd88-267">Embed the individual culture-specific .resources files into delay signed satellite assemblies and save them to the appropriate directory.</span></span> <span data-ttu-id="dcd88-268">To polecenie, aby to zrobić dla każdego pliku Resources:</span><span class="sxs-lookup"><span data-stu-id="dcd88-268">The command to do this for each .resources file is:</span></span>  
  
    ```console
    al -target:lib -embed:Strings.culture.resources -culture:culture -out:culture\StringLibrary.resources.dll -delay+ -keyfile:publickey.snk  
    ```  
  
     <span data-ttu-id="dcd88-269">gdzie *kultury* jest nazwa kultury.</span><span class="sxs-lookup"><span data-stu-id="dcd88-269">where *culture* is the name of a culture.</span></span> <span data-ttu-id="dcd88-270">W tym przykładzie nazwy kultury są en US, fr-FR i ru-RU.</span><span class="sxs-lookup"><span data-stu-id="dcd88-270">In this example, the culture names are en-US, fr-FR, and ru-RU.</span></span>  
  
10. <span data-ttu-id="dcd88-271">Ponowne podpisywanie StringLibrary.dll przy użyciu [narzędzie silnych nazw (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) w następujący sposób:</span><span class="sxs-lookup"><span data-stu-id="dcd88-271">Re-sign StringLibrary.dll by using the [Strong Name Tool (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) as follows:</span></span>  
  
    ```console
    sn –R StringLibrary.dll RealKeyPair.snk  
    ```  
  
11. <span data-ttu-id="dcd88-272">Ponowne podpisywanie zestawów satelickich indywidualnych.</span><span class="sxs-lookup"><span data-stu-id="dcd88-272">Re-sign the individual satellite assemblies.</span></span> <span data-ttu-id="dcd88-273">Aby to zrobić, należy użyć [narzędzie silnych nazw (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) w następujący sposób dla każdego zestawu satelickiego:</span><span class="sxs-lookup"><span data-stu-id="dcd88-273">To do this, use the [Strong Name Tool (Sn.exe)](../../../docs/framework/tools/sn-exe-strong-name-tool.md) as follows for each satellite assembly:</span></span>  
  
    ```console
    sn –R StringLibrary.resources.dll RealKeyPair.snk  
    ```  
  
12. <span data-ttu-id="dcd88-274">Zarejestruj StringLibrary.dll, a każdy z jego zestawów satelickich w globalnej pamięci podręcznej przy użyciu następującego polecenia:</span><span class="sxs-lookup"><span data-stu-id="dcd88-274">Register StringLibrary.dll and each of its satellite assemblies in the global assembly cache by using the following command:</span></span>  
  
    ```console
    gacutil -i filename  
    ```  
  
     <span data-ttu-id="dcd88-275">gdzie *filename* to nazwa pliku do zarejestrowania.</span><span class="sxs-lookup"><span data-stu-id="dcd88-275">where *filename* is the name of the file to register.</span></span>  
  
13. <span data-ttu-id="dcd88-276">Jeśli używasz programu Visual Studio Utwórz nowy **aplikacji konsoli** projektu o nazwie `Example`, Dodaj do niej odwołanie do StringLibrary.dll i następujący kod źródłowy i kompilacji.</span><span class="sxs-lookup"><span data-stu-id="dcd88-276">If you are using Visual Studio, create a new **Console Application** project named `Example`, add a reference to StringLibrary.dll and the following source code to it, and compile.</span></span>  
  
     [!code-csharp[Conceptual.Resources.Satellites#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/example.cs#3)]
     [!code-vb[Conceptual.Resources.Satellites#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/example.vb#3)]  
  
     <span data-ttu-id="dcd88-277">Aby skompilować z wiersza polecenia, użyj następującego polecenia do C# kompilatora:</span><span class="sxs-lookup"><span data-stu-id="dcd88-277">To compile from the command line, use the following command for the C# compiler:</span></span>  
  
    ```console
    csc Example.cs -r:StringLibrary.dll   
    ```  
  
     <span data-ttu-id="dcd88-278">Wiersz polecenia dla kompilatora języka Visual Basic jest:</span><span class="sxs-lookup"><span data-stu-id="dcd88-278">The command line for the Visual Basic compiler is:</span></span>  
  
    ```console
    vbc Example.vb -r:StringLibrary.dll   
    ```  
  
14. <span data-ttu-id="dcd88-279">Uruchom Example.exe.</span><span class="sxs-lookup"><span data-stu-id="dcd88-279">Run Example.exe.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="dcd88-280">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="dcd88-280">See also</span></span>

- [<span data-ttu-id="dcd88-281">Opakowanie i wdrażanie zasobów</span><span class="sxs-lookup"><span data-stu-id="dcd88-281">Packaging and Deploying Resources</span></span>](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md)
- [<span data-ttu-id="dcd88-282">Opóźnione podpisywanie zestawu</span><span class="sxs-lookup"><span data-stu-id="dcd88-282">Delay Signing an Assembly</span></span>](../../../docs/framework/app-domains/delay-sign-assembly.md)
- [<span data-ttu-id="dcd88-283">Al.exe (Konsolidator zestawów)</span><span class="sxs-lookup"><span data-stu-id="dcd88-283">Al.exe (Assembly Linker)</span></span>](../../../docs/framework/tools/al-exe-assembly-linker.md)
- [<span data-ttu-id="dcd88-284">Sn.exe (Narzędzie silnych nazw)</span><span class="sxs-lookup"><span data-stu-id="dcd88-284">Sn.exe (Strong Name Tool)</span></span>](../../../docs/framework/tools/sn-exe-strong-name-tool.md)
- [<span data-ttu-id="dcd88-285">Gacutil.exe (Narzędzie Global Assembly Cache)</span><span class="sxs-lookup"><span data-stu-id="dcd88-285">Gacutil.exe (Global Assembly Cache Tool)</span></span>](../../../docs/framework/tools/gacutil-exe-gac-tool.md)
- [<span data-ttu-id="dcd88-286">Zasoby w aplikacjach klasycznych</span><span class="sxs-lookup"><span data-stu-id="dcd88-286">Resources in Desktop Apps</span></span>](../../../docs/framework/resources/index.md)
