---
title: Rozszerzenia znaczników dla przeglądu XAML
ms.date: 03/30/2017
helpviewer_keywords:
- markup extensions [XAML Services], custom
- XAML [XAML Services], markup extensions
ms.assetid: 261b2b11-2dc0-462f-8c66-55b8c9c6e436
ms.openlocfilehash: 0d1d3530bfd8bc85d6ae2d6741cbe6d48b381f69
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/23/2019
ms.locfileid: "54570021"
---
# <a name="markup-extensions-for-xaml-overview"></a><span data-ttu-id="e6991-102">Rozszerzenia znaczników dla przeglądu XAML</span><span class="sxs-lookup"><span data-stu-id="e6991-102">Markup Extensions for XAML Overview</span></span>
<span data-ttu-id="e6991-103">Rozszerzenia znaczników są to technika XAML do uzyskania wartość, która nie jest podstawowy ani określonego typu XAML.</span><span class="sxs-lookup"><span data-stu-id="e6991-103">Markup extensions are a XAML technique for obtaining a value that is neither a primitive nor a specific XAML type.</span></span> <span data-ttu-id="e6991-104">Użycie atrybutu rozszerzenia znaczników użytku sekwencję znaków znanych otwierającym nawiasie klamrowym `{` zakres rozszerzenia znaczników i zamykający nawias klamrowy `}` aby wyjść.</span><span class="sxs-lookup"><span data-stu-id="e6991-104">For attribute usage, markup extensions use the known character sequence of an opening curly brace `{` to enter the markup extension scope, and a closing curly brace `}` to exit.</span></span> <span data-ttu-id="e6991-105">Korzystając z usług programu .NET Framework XAML, możesz korzystać z niektórych wstępnie zdefiniowanych rozszerzeń znaczników języka XAML z zestawu System.Xaml.</span><span class="sxs-lookup"><span data-stu-id="e6991-105">When using .NET Framework XAML Services, you can use some of the predefined XAML language markup extensions from the System.Xaml assembly.</span></span> <span data-ttu-id="e6991-106">Możesz również podklasy z <xref:System.Windows.Markup.MarkupExtension> klasy zdefiniowane w System.Xaml i zdefiniować własne rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="e6991-106">You can also subclass from the <xref:System.Windows.Markup.MarkupExtension> class, defined in System.Xaml, and define your own markup extensions.</span></span> <span data-ttu-id="e6991-107">Lub możesz użyć rozszerzenia znaczników zdefiniowana przez strukturę określonego, jeśli są już odwołanie do tej struktury.</span><span class="sxs-lookup"><span data-stu-id="e6991-107">Or you can use markup extensions defined by a particular framework if you are already referencing that framework .</span></span>  
  
 <span data-ttu-id="e6991-108">Podczas uzyskiwania dostępu do użycia rozszerzenia znaczników modułu zapisywania obiektu XAML może zapewnić usług do niestandardowego <xref:System.Windows.Markup.MarkupExtension> klasa za pośrednictwem połączenia usługi do punktu w <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A?displayProperty=nameWithType> zastąpienia.</span><span class="sxs-lookup"><span data-stu-id="e6991-108">When a markup extension usage is accessed, the XAML object writer can provide services to a custom <xref:System.Windows.Markup.MarkupExtension> class through a service connection point in the <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A?displayProperty=nameWithType> override.</span></span> <span data-ttu-id="e6991-109">Usługi można uzyskać kontekst dotyczący użycia, konkretne funkcje modułu zapisywania obiektu, kontekst schematu XAML i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="e6991-109">The services can be used to obtain context about the usage, specific capabilities of the object writer, XAML schema context, and so on.</span></span>  
  
<a name="XAML_Defined_Markup_Extensions"></a>   
## <a name="xaml-defined-markup-extensions"></a><span data-ttu-id="e6991-110">Rozszerzenia znaczników zdefiniowane w XAML</span><span class="sxs-lookup"><span data-stu-id="e6991-110">XAML-Defined Markup Extensions</span></span>  
 <span data-ttu-id="e6991-111">Kilka rozszerzenia znaczników są implementowane przez .NET Framework XAML Services pod względem obsługi języka XAML.</span><span class="sxs-lookup"><span data-stu-id="e6991-111">Several markup extensions are implemented by .NET Framework XAML Services for XAML language support.</span></span> <span data-ttu-id="e6991-112">Te rozszerzenia znaczników odnoszą się do części specyfikacji XAML jako język.</span><span class="sxs-lookup"><span data-stu-id="e6991-112">These markup extensions correspond to parts of the specification of XAML as a language.</span></span> <span data-ttu-id="e6991-113">Są to zazwyczaj można go rozpoznać po `x:` prefiks w składni, jak pokazano w typowych użycia.</span><span class="sxs-lookup"><span data-stu-id="e6991-113">These are typically identifiable by the `x:` prefix in the syntax as seen in common usage.</span></span> <span data-ttu-id="e6991-114">Implementacje usług programu .NET Framework XAML dla tych elementów języka XAML, wszystkie dziedziczyć <xref:System.Windows.Markup.MarkupExtension> klasy bazowej.</span><span class="sxs-lookup"><span data-stu-id="e6991-114">The .NET Framework XAML Services implementations for these XAML language elements all derive from the  <xref:System.Windows.Markup.MarkupExtension> base class .</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e6991-115">`x:` Prefiks jest używany dla typowych mapowania przestrzeni nazw XAML przestrzeni nazw języka XAML, w elemencie głównym produkcji XAML.</span><span class="sxs-lookup"><span data-stu-id="e6991-115">The `x:` prefix is used for the typical XAML namespace mapping of the XAML language namespace, in the root element of a XAML production.</span></span> <span data-ttu-id="e6991-116">Na przykład szablonów projektów i stron programu Visual Studio dla różnych platform określonych zainicjować pliku XAML, za pomocą tego `x:` mapowania.</span><span class="sxs-lookup"><span data-stu-id="e6991-116">For example, the Visual Studio project and page templates for various specific frameworks initiate a XAML file using this `x:` mapping.</span></span> <span data-ttu-id="e6991-117">Możesz wybrać inny token własne mapowania przestrzeni nazw XAML, ale ta dokumentacja przyjmie domyślną `x:` mapowanie jako sposób identyfikacji tych jednostek, które są zdefiniowane częścią przestrzeni nazw XAML języka XAML, w przeciwieństwie do przestrzeń nazw XAML domyślną określonym środowiskiem lub innych dowolnego przestrzeniach nazw środowiska CLR i XML.</span><span class="sxs-lookup"><span data-stu-id="e6991-117">You could choose a different prefix token in your own XAML namespace mapping, but this documentation will assume the default `x:` mapping as a means of identifying those entities that are a defined part of the XAML language XAML namespace, as opposed to a specific framework's default XAML namespace or other arbitrary CLR or XML namespaces.</span></span>  
  
### <a name="xtype"></a><span data-ttu-id="e6991-118">x: Type</span><span class="sxs-lookup"><span data-stu-id="e6991-118">x:Type</span></span>  
 <span data-ttu-id="e6991-119">`x:Type` dostarcza <xref:System.Type> obiektu dla typu nazwanego.</span><span class="sxs-lookup"><span data-stu-id="e6991-119">`x:Type` supplies the <xref:System.Type> object for the named type.</span></span> <span data-ttu-id="e6991-120">Ta funkcja jest używana najczęściej w mechanizmów opóźnienia, które należy użyć podstawowy typ środowiska CLR i wpisać pochodnym jako moniker grupowania lub identyfikator.</span><span class="sxs-lookup"><span data-stu-id="e6991-120">This functionality is used most frequently in deferral mechanisms that use underlying CLR type and type derivation as a grouping moniker or identifier.</span></span> <span data-ttu-id="e6991-121">WPF style i szablony i ich użycie funkcji `TargetType` właściwości, znajdują się konkretnemu przykładowi.</span><span class="sxs-lookup"><span data-stu-id="e6991-121">WPF styles and templates, and their usage of `TargetType` properties, are a specific example.</span></span> <span data-ttu-id="e6991-122">Aby uzyskać więcej informacji, zobacz [x: Type Markup Extension](../../../docs/framework/xaml-services/x-type-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="e6991-122">For more information, see [x:Type Markup Extension](../../../docs/framework/xaml-services/x-type-markup-extension.md).</span></span>  
  
### <a name="xstatic"></a><span data-ttu-id="e6991-123">x: Static</span><span class="sxs-lookup"><span data-stu-id="e6991-123">x:Static</span></span>  
 <span data-ttu-id="e6991-124">`x:Static` Tworzy statyczny wartości z jednostki kodu typ wartości, które nie są bezpośrednio typ wartości właściwości, ale mogą być obliczane do tego typu.</span><span class="sxs-lookup"><span data-stu-id="e6991-124">`x:Static` produces static values from value-type code entities that are not directly the type of a property's value, but can be evaluated to that type.</span></span> <span data-ttu-id="e6991-125">Jest to przydatne do określenia wartości, które już istnieją jako stałe dobrze znane w definicji typu.</span><span class="sxs-lookup"><span data-stu-id="e6991-125">This is useful for specifying values that already exist as well-known constants in a type definition.</span></span> <span data-ttu-id="e6991-126">Aby uzyskać więcej informacji, zobacz [x: Static — rozszerzenie znaczników](../../../docs/framework/xaml-services/x-static-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="e6991-126">For more information, see [x:Static Markup Extension](../../../docs/framework/xaml-services/x-static-markup-extension.md).</span></span>  
  
### <a name="xnull"></a><span data-ttu-id="e6991-127">x:Null</span><span class="sxs-lookup"><span data-stu-id="e6991-127">x:Null</span></span>  
 <span data-ttu-id="e6991-128">`x:Null` Określa `null` jako wartość dla elementu członkowskiego XAML.</span><span class="sxs-lookup"><span data-stu-id="e6991-128">`x:Null` specifies `null` as a value for a XAML member.</span></span> <span data-ttu-id="e6991-129">W zależności od projektu określonych typów lub większych pojęcia framework `null` nie zawsze jest wartość domyślną dla właściwości lub sugerowanej wartości atrybutu pusty ciąg.</span><span class="sxs-lookup"><span data-stu-id="e6991-129">Depending on the design of specific types or on larger framework concepts, `null` is not always a default value for a property, or the implied value of an empty string attribute.</span></span> <span data-ttu-id="e6991-130">Aby uzyskać więcej informacji, zobacz [x: Null — rozszerzenie znaczników](../../../docs/framework/xaml-services/x-null-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="e6991-130">For more information, see [x:Null Markup Extension](../../../docs/framework/xaml-services/x-null-markup-extension.md).</span></span>  
  
### <a name="xarray"></a><span data-ttu-id="e6991-131">x: Array</span><span class="sxs-lookup"><span data-stu-id="e6991-131">x:Array</span></span>  
 <span data-ttu-id="e6991-132">`x:Array` obsługuje tworzenie ogólne tablic przy użyciu składni XAML w przypadkach, w których obsługę kolekcji, która jest świadczona przez elementy bazy i modeli kontroli celowo nie jest używany.</span><span class="sxs-lookup"><span data-stu-id="e6991-132">`x:Array` supports creation of general arrays in XAML syntax in cases where the collection support that is provided by base elements and control models is deliberately not used.</span></span> <span data-ttu-id="e6991-133">Aby uzyskać więcej informacji, zobacz [x: Array — rozszerzenie znaczników](../../../docs/framework/xaml-services/x-array-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="e6991-133">For more information, see [x:Array Markup Extension](../../../docs/framework/xaml-services/x-array-markup-extension.md).</span></span> <span data-ttu-id="e6991-134">W XAML 2009 ściślej mówiąc, tablice są dostępne jako elementów podstawowych języka zamiast jako rozszerzenie.</span><span class="sxs-lookup"><span data-stu-id="e6991-134">In XAML 2009 specifically, arrays are accessed as language primitives instead of as an extension.</span></span> <span data-ttu-id="e6991-135">Aby uzyskać więcej informacji, zobacz [XAML 2009 — funkcje językowe](../../../docs/framework/xaml-services/xaml-2009-language-features.md).</span><span class="sxs-lookup"><span data-stu-id="e6991-135">For more information, see [XAML 2009 Language Features](../../../docs/framework/xaml-services/xaml-2009-language-features.md).</span></span>  
  
### <a name="xreference"></a><span data-ttu-id="e6991-136">x: Reference</span><span class="sxs-lookup"><span data-stu-id="e6991-136">x:Reference</span></span>  
 <span data-ttu-id="e6991-137">`x:Reference` jest częścią XAML 2009, rozszerzenie oryginalnego zestawu języka (2006).</span><span class="sxs-lookup"><span data-stu-id="e6991-137">`x:Reference` is part of XAML 2009, an extension of the original (2006) language set.</span></span> <span data-ttu-id="e6991-138">`x:Reference` reprezentuje odwołanie do innego istniejącego obiektu wykresu obiektu.</span><span class="sxs-lookup"><span data-stu-id="e6991-138">`x:Reference` represents a reference to another existing object in an object graph.</span></span> <span data-ttu-id="e6991-139">Ten obiekt jest identyfikowany przez jego `x:Name`.</span><span class="sxs-lookup"><span data-stu-id="e6991-139">That object is identified by its `x:Name`.</span></span> <span data-ttu-id="e6991-140">Aby uzyskać więcej informacji, zobacz [x: Reference — rozszerzenie znaczników](../../../docs/framework/xaml-services/x-reference-markup-extension.md).</span><span class="sxs-lookup"><span data-stu-id="e6991-140">For more information, see [x:Reference Markup Extension](../../../docs/framework/xaml-services/x-reference-markup-extension.md).</span></span>  
  
### <a name="other-x-constructs"></a><span data-ttu-id="e6991-141">Inne x: Konstrukcje</span><span class="sxs-lookup"><span data-stu-id="e6991-141">Other x: Constructs</span></span>  
 <span data-ttu-id="e6991-142">Inne `x:` istnieją konstrukcji do obsługi funkcji języka XAML, ale nie są one implementowane jako rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="e6991-142">Other `x:` constructs to support XAML language features exist, but these are not implemented as markup extensions.</span></span> <span data-ttu-id="e6991-143">Aby uzyskać więcej informacji, zobacz [Namespace XAML (x:) Funkcje języka](../../../docs/framework/xaml-services/xaml-namespace-x-language-features.md).</span><span class="sxs-lookup"><span data-stu-id="e6991-143">For more information, see [XAML Namespace (x:) Language Features](../../../docs/framework/xaml-services/xaml-namespace-x-language-features.md).</span></span>  
  
<a name="the_markupextension_base_class"></a>   
## <a name="the-markupextension-base-class"></a><span data-ttu-id="e6991-144">Klasa bazowa MarkupExtension</span><span class="sxs-lookup"><span data-stu-id="e6991-144">The MarkupExtension Base Class</span></span>  
 <span data-ttu-id="e6991-145">Aby zdefiniować rozszerzenie niestandardowych znaczników, które mogą prowadzić interakcję z domyślnej implementacji XAML czytników i składników zapisywania XAML System.Xaml, możesz dziedziczyć klasy abstrakcyjnej <xref:System.Windows.Markup.MarkupExtension> klasy.</span><span class="sxs-lookup"><span data-stu-id="e6991-145">To define a custom markup extension that can interact with the default implementations of XAML readers and XAML writers in System.Xaml, you derive a class from the abstract <xref:System.Windows.Markup.MarkupExtension> class.</span></span> <span data-ttu-id="e6991-146">Czy klasa ma jednej metody do przesłonięcia, czyli <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="e6991-146">That class has one method to override, which is <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>.</span></span> <span data-ttu-id="e6991-147">Może trzeba będzie również zdefiniować dodatkowe konstruktorów do obsługi argumenty do użycia rozszerzenia znaczników i pasującą do ustawienia właściwości.</span><span class="sxs-lookup"><span data-stu-id="e6991-147">You might also need to define additional constructors to support arguments to the markup extension usage, and matching settable properties.</span></span>  
  
 <span data-ttu-id="e6991-148">Za pomocą <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, rozszerzenie znaczników niestandardowych ma dostęp do kontekstu usługi, który zgłasza, środowisko, w której rozszerzenie znaczników faktycznie jest wywoływany przez procesor XAML.</span><span class="sxs-lookup"><span data-stu-id="e6991-148">Through <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, a custom markup extension has access to a service context that reports the environment where the markup extension is actually invoked by a XAML processor.</span></span> <span data-ttu-id="e6991-149">W ścieżce obciążenia zazwyczaj jest to <xref:System.Xaml.XamlObjectWriter>.</span><span class="sxs-lookup"><span data-stu-id="e6991-149">In the load path this is typically a <xref:System.Xaml.XamlObjectWriter>.</span></span> <span data-ttu-id="e6991-150">W polu Zapisz ścieżkę zazwyczaj jest to <xref:System.Xaml.XamlXmlWriter>.</span><span class="sxs-lookup"><span data-stu-id="e6991-150">In the save path this is typically a <xref:System.Xaml.XamlXmlWriter>.</span></span> <span data-ttu-id="e6991-151">Każdy raport kontekst usługi jako wewnętrzny XAML usługi dostawcy kontekstu klasy, która implementuje wzorzec dostawcy usług.</span><span class="sxs-lookup"><span data-stu-id="e6991-151">Each report the service context as an internal XAML service provider context class that implements a service provider pattern.</span></span> <span data-ttu-id="e6991-152">Aby uzyskać więcej informacji na temat dostępnych usług i ich znaczenie, zobacz [typy konwerterów i rozszerzenia znaczników dla XAML](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="e6991-152">For more information about the available services and what they represent, see [Type Converters and Markup Extensions for XAML](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md).</span></span>  
  
 <span data-ttu-id="e6991-153">Klasy rozszerzenia znaczników, należy użyć poziom dostępu publicznego; Procesory XAML musi zawsze można utworzyć wystąpienia klasy pomocy technicznej rozszerzenie znaczników, aby można było używać swoich usług.</span><span class="sxs-lookup"><span data-stu-id="e6991-153">Your markup extension class must use a public access level; XAML processors must always be able to instantiate the markup extension's support class in order to use its services.</span></span>  
  
<a name="naming_the_support_type"></a>   
## <a name="defining-the-support-type-for-a-custom-markup-extension"></a><span data-ttu-id="e6991-154">Definiowanie typ pomocy technicznej dla rozszerzenia znaczników niestandardowe</span><span class="sxs-lookup"><span data-stu-id="e6991-154">Defining the Support Type for a Custom Markup Extension</span></span>  
 <span data-ttu-id="e6991-155">Korzystając z usług programu .NET Framework XAML lub struktur, które są kompilowane na .NET Framework XAML Services, dostępne są dwie opcje dotyczące nazw typu Obsługa rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="e6991-155">When you use .NET Framework XAML Services or frameworks that build on .NET Framework XAML Services, you have two choices for how to name the markup extension support type.</span></span> <span data-ttu-id="e6991-156">Nazwa typu jest istotne jak składników zapisywania obiektu XAML próbują uzyskać dostęp i wywołania typ pomocy technicznej rozszerzenia znaczników, gdy napotkają użycie rozszerzenia znaczników w XAML.</span><span class="sxs-lookup"><span data-stu-id="e6991-156">The type name is relevant to how XAML object writers attempt to access and invoke a markup extension support type when they encounter a markup extension usage in XAML.</span></span> <span data-ttu-id="e6991-157">Użyj jednej z następujących strategii nazewnictwa:</span><span class="sxs-lookup"><span data-stu-id="e6991-157">Use one of the following naming strategies:</span></span>  
  
-   <span data-ttu-id="e6991-158">Nazwa, nazwa typu, który ma być dokładnie dopasowany do tokenu użycia znaczników XAML.</span><span class="sxs-lookup"><span data-stu-id="e6991-158">Name the type name to be an exact match to the XAML markup usage token.</span></span> <span data-ttu-id="e6991-159">Na przykład w celu obsługi `{Collate ...}` użycie rozszerzenia, nazwa typu obsługi `Collate`.</span><span class="sxs-lookup"><span data-stu-id="e6991-159">For example, to support a `{Collate ...}` extension usage, name the support type `Collate`.</span></span>  
  
-   <span data-ttu-id="e6991-160">Nazwa typu, który ma być token ciągu użycia oraz sufiks nazwy `Extension`.</span><span class="sxs-lookup"><span data-stu-id="e6991-160">Name the type name to be the usage string token plus the suffix `Extension`.</span></span> <span data-ttu-id="e6991-161">Na przykład w celu obsługi `{Collate ...}` użycie rozszerzenia, nazwa typu obsługi `CollateExtension`.</span><span class="sxs-lookup"><span data-stu-id="e6991-161">For example, to support a `{Collate ...}` extension usage, name the support type `CollateExtension`.</span></span>  
  
 <span data-ttu-id="e6991-162">Kolejność wyszukiwania to wyszukiwanie `Extension`— klasa sufiksami nazwę najpierw, a następnie poszukaj nazwy klasy bez `Extension` sufiks.</span><span class="sxs-lookup"><span data-stu-id="e6991-162">The order of lookup is to look for the `Extension`-suffixed class name first and then look for the class name without the `Extension` suffix.</span></span>  
  
 <span data-ttu-id="e6991-163">Z punktu widzenia użycia znaczników w tym `Extension` sufiks jako część użycia jest nieprawidłowy.</span><span class="sxs-lookup"><span data-stu-id="e6991-163">From the markup usage perspective, including the `Extension` suffix as part of the usage is valid.</span></span> <span data-ttu-id="e6991-164">Jednak to zachowuje się tak, jakby `Extension` jest naprawdę częścią nazwy klasy i moduły zapisujące obiektu XAML może zakończyć się niepowodzeniem rozpoznać Klasa pomocy technicznej rozszerzenia struktury znaczników w ten sposób użycia, jeśli nie ma klasy pomocy technicznej `Extension` sufiks.</span><span class="sxs-lookup"><span data-stu-id="e6991-164">However, this behaves as if `Extension` is truly part of the class name, and XAML object writers would fail to resolve a markup extension support class for that usage if the support class did not have the `Extension` suffix.</span></span>  
  
### <a name="the-default-constructor"></a><span data-ttu-id="e6991-165">Domyślny konstruktor</span><span class="sxs-lookup"><span data-stu-id="e6991-165">The Default Constructor</span></span>  
 <span data-ttu-id="e6991-166">Wszystkie rozszerzenia znaczników obsługi typów, powinny ujawniać publicznego konstruktora domyślnego.</span><span class="sxs-lookup"><span data-stu-id="e6991-166">For all markup extension support types, you should expose a public default constructor.</span></span> <span data-ttu-id="e6991-167">Domyślny konstruktor jest wymagana dla każdy przypadek, w którym obiekt Edytor XAML tworzy rozszerzenie znaczników, od użycie elementu obiektu.</span><span class="sxs-lookup"><span data-stu-id="e6991-167">A default constructor is required for any case where a XAML object writer instantiates the markup extension from an object element usage.</span></span> <span data-ttu-id="e6991-168">Obsługa użycie elementu obiektu jest uczciwe oczekiwania dla rozszerzenia znaczników, szczególnie w przypadku serializacji.</span><span class="sxs-lookup"><span data-stu-id="e6991-168">Supporting object element usage is a fair expectation for a markup extension, particularly for serialization.</span></span> <span data-ttu-id="e6991-169">Jednak można zaimplementować jako rozszerzenie znacznika bez publicznego konstruktora, jeśli zamierzasz obsługiwać użycia atrybutu rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="e6991-169">However, you can implement a markup extension without a public constructor if you only intend to support attribute usages of the markup extension.</span></span>  
  
 <span data-ttu-id="e6991-170">Jeśli użycie rozszerzenia znaczników nie ma argumentów, domyślny konstruktor jest wymagany do obsługi użycia.</span><span class="sxs-lookup"><span data-stu-id="e6991-170">If your markup extension usage has no arguments, the default constructor is required to support usage.</span></span>  
  
<a name="constructor_patterns_and_positional_arguments_for_a_custom_markup_extension"></a>   
## <a name="constructor-patterns-and-positional-arguments-for-a-custom-markup-extension"></a><span data-ttu-id="e6991-171">Wzorce konstruktora i argumentów pozycyjnych rozszerzenia znaczników niestandardowe</span><span class="sxs-lookup"><span data-stu-id="e6991-171">Constructor Patterns and Positional Arguments for a Custom Markup Extension</span></span>  
 <span data-ttu-id="e6991-172">Rozszerzenia znaczników przy użyciu argumentu zamierzone użycie konstruktorów publicznych musi odpowiadać trybów zamierzonego użycia.</span><span class="sxs-lookup"><span data-stu-id="e6991-172">For a markup extension with intended argument usage, the public constructors must correspond to the modes of the intended usage.</span></span> <span data-ttu-id="e6991-173">Innymi słowy rozszerzenia znaczników jest przeznaczony do wymagają jeden argument pozycyjny jako prawidłowe użycie, powinien obsługiwać jeden parametr wejściowy, która przyjmuje argument pozycyjny konstruktorem publicznym.</span><span class="sxs-lookup"><span data-stu-id="e6991-173">In other words, if your markup extension is designed to require one positional argument as a valid usage, you should support a public constructor with one input parameter that takes the positional argument.</span></span>  
  
 <span data-ttu-id="e6991-174">Na przykład, załóżmy, że `Collate` — rozszerzenie znaczników jest przeznaczony do obsługi trybu tylko w przypadku jeden argument pozycyjny, który reprezentuje jej tryb, określony jako `CollationMode` stała wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="e6991-174">For example, suppose the `Collate` markup extension is intended to support only a mode where there is one positional argument that represents its mode, specified as a `CollationMode` enumeration constant.</span></span> <span data-ttu-id="e6991-175">W tym przypadku powinna być konstruktora o następującej postaci:</span><span class="sxs-lookup"><span data-stu-id="e6991-175">In this case, there should be a constructor with the following form:</span></span>  
  
```  
public Collate(CollationMode collationMode) {...}  
```  
  
 <span data-ttu-id="e6991-176">Na poziomie podstawowym Argumenty przekazane do rozszerzenia znaczników są ciągu, ponieważ są przekazywane z wartości atrybutów znaczników.</span><span class="sxs-lookup"><span data-stu-id="e6991-176">At a basic level, the arguments passed to a markup extension are a string because they are being forwarded from the markup's attribute values.</span></span> <span data-ttu-id="e6991-177">Można wszystkie Twoimi ciągami argumentów i pracować z danymi wejściowymi na tym samym poziomie.</span><span class="sxs-lookup"><span data-stu-id="e6991-177">You can make all of your arguments strings and work with input at that level.</span></span> <span data-ttu-id="e6991-178">Jednak masz dostęp do niektórych przetwarzania, które występuje, zanim argumenty rozszerzenia znaczników są przekazywane do klasy pomocy technicznej.</span><span class="sxs-lookup"><span data-stu-id="e6991-178">However, you do have access to certain processing that occurs before the markup extension arguments are passed to the support class.</span></span>  
  
 <span data-ttu-id="e6991-179">Przetwarzania działa pod względem koncepcyjnym tak, jakby rozszerzenie znaczników jest obiektem, ma zostać utworzony, a następnie jego wartości składowych są ustawione.</span><span class="sxs-lookup"><span data-stu-id="e6991-179">The processing works conceptually as if the markup extension is an object to be created, and then its member values are set.</span></span> <span data-ttu-id="e6991-180">Każda określona właściwość można ustawić jest oceniany, podobnie jak określony element członkowski może zostać ustawiona na utworzony obiekt gdy XAML jest analizowany.</span><span class="sxs-lookup"><span data-stu-id="e6991-180">Each specified property to set is evaluated similar to how a specified member can be set on a created object when XAML is parsed.</span></span> <span data-ttu-id="e6991-181">Istnieją dwie ważne różnice:</span><span class="sxs-lookup"><span data-stu-id="e6991-181">There are two important differences:</span></span>  
  
-   <span data-ttu-id="e6991-182">Jak wspomniano wcześniej, typ pomocy technicznej rozszerzenia znaczników nie musi mieć domyślnego konstruktora, aby można było, można utworzyć wystąpienia w XAML.</span><span class="sxs-lookup"><span data-stu-id="e6991-182">As noted previously, a markup extension support type does not need to have a default constructor in order to be instantiated in XAML.</span></span> <span data-ttu-id="e6991-183">Konstrukcja obiektu jest odroczone do czasu jego możliwe argumenty w składni tekstu jest stokenizowana i jego ocenie jako argumenty pozycyjne i nazwane, a odpowiedni konstruktor jest wywoływany w tym czasie.</span><span class="sxs-lookup"><span data-stu-id="e6991-183">Its object construction is deferred until its possible arguments in the text syntax are tokenized and evaluated as either positional or named arguments, and the appropriate constructor is called at that time.</span></span>  
  
-   <span data-ttu-id="e6991-184">Może być zagnieżdżona użycia rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="e6991-184">Markup extensions usages can be nested.</span></span> <span data-ttu-id="e6991-185">Rozszerzenie znaczników najbardziej jest stosowana jako pierwsza.</span><span class="sxs-lookup"><span data-stu-id="e6991-185">The innermost markup extension is evaluated first.</span></span> <span data-ttu-id="e6991-186">W związku z tym można założyć tych danych użycia i Zadeklaruj jeden z parametrów konstrukcji, jako typ, który wymaga konwertera wartości (na przykład rozszerzenie znaczników), aby utworzyć.</span><span class="sxs-lookup"><span data-stu-id="e6991-186">Therefore, you can assume such a usage and declare one of the construction parameters to be a type that requires a value converter (such as a markup extension) to produce.</span></span>  
  
 <span data-ttu-id="e6991-187">Poleganie na takie przetwarzanie został wyświetlony w poprzednim przykładzie.</span><span class="sxs-lookup"><span data-stu-id="e6991-187">A reliance on such processing was shown in the previous example.</span></span> <span data-ttu-id="e6991-188">Moduł zapisywania obiektów platformy .NET Framework XAML Services XAML przetwarzania nazwy stałe wyliczeń do wartości wyliczenia na poziomie natywnych.</span><span class="sxs-lookup"><span data-stu-id="e6991-188">The .NET Framework XAML Services XAML object writer processes enumeration constant names into enumerated values at a native level.</span></span>  
  
 <span data-ttu-id="e6991-189">Przetwarzanie składni tekstu parametr pozycyjne rozszerzenia znaczników również polegać na konwerter typu, który jest skojarzony z typem, który znajduje się w argumencie konstrukcji.</span><span class="sxs-lookup"><span data-stu-id="e6991-189">Processing text syntax of a markup extension positional parameter can also rely on a type converter that is associated with the type that is in the construction argument.</span></span>  
  
 <span data-ttu-id="e6991-190">Argumenty są nazywane argumenty pozycyjne, ponieważ kolejność wystąpił tokenów w użycie odnosi się do pozycyjne kolejność parametr konstruktora, do którego są przypisane.</span><span class="sxs-lookup"><span data-stu-id="e6991-190">The arguments are called positional arguments because the order in which the tokens in the usage is encountered corresponds to the positional order of the constructor parameter to which they are assigned.</span></span> <span data-ttu-id="e6991-191">Na przykład rozważmy następujący podpis konstruktora:</span><span class="sxs-lookup"><span data-stu-id="e6991-191">For example, consider the following constructor signature:</span></span>  
  
```  
public Collate(CollationMode collationMode, object collateThis) {...}  
```  
  
 <span data-ttu-id="e6991-192">Procesor XAML oczekuje dwóch argumentów pozycyjnych dla tego rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="e6991-192">A XAML processor expects two positional arguments for this markup extension.</span></span> <span data-ttu-id="e6991-193">Jeśli podczas użycia `{Collate AlphaUp,{x:Reference circularFile}}`, `AlphaUp` token jest wysyłany do pierwszego parametru i jego ocenie jako `CollationMode` wyliczeń o nazwie — stała.</span><span class="sxs-lookup"><span data-stu-id="e6991-193">If there was a usage `{Collate AlphaUp,{x:Reference circularFile}}`, the `AlphaUp` token is sent to the first parameter and evaluated as a `CollationMode` enumeration named constant.</span></span> <span data-ttu-id="e6991-194">Wynik wewnętrzny `x:Reference` jest wysyłane do drugiego parametru oraz ocenione jako obiekt.</span><span class="sxs-lookup"><span data-stu-id="e6991-194">The result of the inner `x:Reference` is sent to the second parameter and evaluated as an object.</span></span>  
  
 <span data-ttu-id="e6991-195">XAML określonej reguły składni rozszerzenia znaczników i przetwarzanie, przecinek jest ogranicznik między argumentami, czy te argumenty są argumenty pozycyjne i nazwane argumenty.</span><span class="sxs-lookup"><span data-stu-id="e6991-195">In the XAML specified rules for markup extension syntax and processing, the comma is the delimiter between arguments, whether those arguments are positional arguments or named arguments.</span></span>  
  
### <a name="duplicate-arity-of-positional-arguments"></a><span data-ttu-id="e6991-196">Duplikuj Specifikaci argumenty pozycyjne</span><span class="sxs-lookup"><span data-stu-id="e6991-196">Duplicate Arity of Positional Arguments</span></span>  
 <span data-ttu-id="e6991-197">Jeśli Edytor XAML obiektu napotka to użycia rozszerzenia znaczników przy użyciu argumentów pozycyjnych, wiąże się z wielu argumentów konstruktora, które przyjmują tę liczbę argumentów (zduplikowane liczby argumentów), niekoniecznie jest błąd.</span><span class="sxs-lookup"><span data-stu-id="e6991-197">If a XAML object writer encounters a markup extension usage with positional arguments, and there are multiple constructor arguments that take that number of arguments (a duplicate arity), that is not necessarily an error.</span></span> <span data-ttu-id="e6991-198">Zachowanie zależy od można dostosować ustawienia kontekst schematu XAML, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A>.</span><span class="sxs-lookup"><span data-stu-id="e6991-198">The behavior depends on a customizable XAML schema context setting, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A>.</span></span> <span data-ttu-id="e6991-199">Jeśli <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> jest `true`, Edytor XAML obiekt nie należy zgłosić wyjątek tylko ze względów zduplikowane liczby argumentów.</span><span class="sxs-lookup"><span data-stu-id="e6991-199">If <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> is `true`, a XAML object writer should not throw an exception only for reasons of duplicate arity.</span></span> <span data-ttu-id="e6991-200">Zachowanie poza ten punkt nie jest ściśle zdefiniowana.</span><span class="sxs-lookup"><span data-stu-id="e6991-200">Behavior beyond that point is not strictly defined.</span></span> <span data-ttu-id="e6991-201">Podstawowy projekt zakłada się, że kontekst schematu zawiera informacje o typie dostępnych dla określonych parametrów i można próba ma jawnych rzutowań, które odpowiadają zduplikowane kandydatów, aby zobaczyć, które podpisu może być najlepsze dopasowanie.</span><span class="sxs-lookup"><span data-stu-id="e6991-201">The basic design assumption is that the schema context has type information available for the specific parameters and can attempt explicit casts that match the duplicate candidates to see which signature might be the best match.</span></span> <span data-ttu-id="e6991-202">Wyjątek nadal może zostać wygenerowany, jeśli podpisy nie można przekazać testy, które narzuca tego kontekstu określonego schematu, działającego na Edytor XAML obiektu.</span><span class="sxs-lookup"><span data-stu-id="e6991-202">An exception might still be thrown if no signatures can pass the tests that are imposed by that particular schema context that is running on a XAML object writer.</span></span>  
  
 <span data-ttu-id="e6991-203">Domyślnie <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> jest `false` podstawie CLR <xref:System.Xaml.XamlSchemaContext> dla usług programu .NET Framework XAML.</span><span class="sxs-lookup"><span data-stu-id="e6991-203">By default, <xref:System.Xaml.XamlSchemaContextSettings.SupportMarkupExtensionsWithDuplicateArity%2A> is `false` in the CLR-based <xref:System.Xaml.XamlSchemaContext> for .NET Framework XAML Services.</span></span> <span data-ttu-id="e6991-204">W efekcie domyślnie <xref:System.Xaml.XamlObjectWriter> zgłasza wyjątki, jeśli wykryje nieważną użycie rozszerzenia znaczników w przypadku, gdy ma zduplikowane liczby argumentów w konstruktorach zapasowego typu.</span><span class="sxs-lookup"><span data-stu-id="e6991-204">Thus, the default <xref:System.Xaml.XamlObjectWriter> throws exceptions if it encounters a markup extension usage where there is duplicate arity in the backing type's constructors.</span></span>  
  
<a name="named_arguments_for_a_custom_markup_extension"></a>   
## <a name="named-arguments-for-a-custom-markup-extension"></a><span data-ttu-id="e6991-205">Argumenty nazwane rozszerzenia znaczników niestandardowe</span><span class="sxs-lookup"><span data-stu-id="e6991-205">Named Arguments for a Custom Markup Extension</span></span>  
 <span data-ttu-id="e6991-206">Rozszerzenia znaczników określony przez XAML umożliwia również formularzem argumentów nazwanych do użycia.</span><span class="sxs-lookup"><span data-stu-id="e6991-206">Markup extensions as specified by XAML can also use a named arguments form for usage.</span></span> <span data-ttu-id="e6991-207">Na pierwszy poziom tokenizacji składni tekstu jest podzielony na argumenty.</span><span class="sxs-lookup"><span data-stu-id="e6991-207">At the first level of tokenization, the text syntax is divided into arguments.</span></span> <span data-ttu-id="e6991-208">Obecność znak równości (=) w ramach wszystkich argumentów identyfikuje argument jako argumentu nazwanego.</span><span class="sxs-lookup"><span data-stu-id="e6991-208">The presence of an equals sign (=) within any argument identifies an argument as a named argument.</span></span> <span data-ttu-id="e6991-209">Takie argument jest również podzielić na tokeny w pary nazwa/wartość.</span><span class="sxs-lookup"><span data-stu-id="e6991-209">Such an argument is also tokenized into a name/value pair.</span></span> <span data-ttu-id="e6991-210">Nazwa nazwy w takim przypadku można ustawić właściwość publiczną rozszerzenie znaczników typ pomocy technicznej.</span><span class="sxs-lookup"><span data-stu-id="e6991-210">The name in this case names a public settable property of the markup extension's support type.</span></span> <span data-ttu-id="e6991-211">Jeśli zamierzasz obsługiwać użycie argumentu nazwanego, należy podać te właściwości można ustawić publiczne.</span><span class="sxs-lookup"><span data-stu-id="e6991-211">If you intend to support named argument usage, you should provide these public settable properties.</span></span> <span data-ttu-id="e6991-212">Właściwości mogą być dziedziczone właściwości, tak długo, jak są one nadal publicznych.</span><span class="sxs-lookup"><span data-stu-id="e6991-212">The properties can be inherited properties as long as they remain public.</span></span>  
  
<a name="accessing_service_provider_context_from_a_markup_extension_implementation"></a>   
## <a name="accessing-service-provider-context-from-a-markup-extension-implementation"></a><span data-ttu-id="e6991-213">Uzyskiwanie dostępu do kontekstu dostawcy usług z implementacji rozszerzenie znaczników</span><span class="sxs-lookup"><span data-stu-id="e6991-213">Accessing Service Provider Context from a Markup Extension Implementation</span></span>  
 <span data-ttu-id="e6991-214">Dostępność usług są identyczne dla dowolnego konwertera wartości.</span><span class="sxs-lookup"><span data-stu-id="e6991-214">The services available are the same for any value converter.</span></span> <span data-ttu-id="e6991-215">Różnica polega na w sposób każdego konwertera wartości odbiera kontekst usługi.</span><span class="sxs-lookup"><span data-stu-id="e6991-215">The difference is in how each value converter receives the service context.</span></span> <span data-ttu-id="e6991-216">Dostęp do usług i usługi dostępne są udokumentowane w temacie [typy konwerterów i rozszerzenia znaczników dla XAML](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="e6991-216">Accessing services and the services available are documented in the topic [Type Converters and Markup Extensions for XAML](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md).</span></span>  
  
<a name="property_element_usage_of_a_markup_extension"></a>   
## <a name="property-element-usage-of-a-markup-extension"></a><span data-ttu-id="e6991-217">Użycie elementu właściwości rozszerzenia znaczników</span><span class="sxs-lookup"><span data-stu-id="e6991-217">Property Element Usage of a Markup Extension</span></span>  
 <span data-ttu-id="e6991-218">Scenariusze użycia rozszerzenia znaczników często są projektowane na podstawie przy użyciu rozszerzenia znaczników w użycie atrybutu.</span><span class="sxs-lookup"><span data-stu-id="e6991-218">The scenarios for markup extension usages are often designed around using the markup extension in attribute usage.</span></span> <span data-ttu-id="e6991-219">Jednak użytkownik może również potencjalnie w celu zdefiniowania zapasowy klasy do obsługi użycie elementu właściwości.</span><span class="sxs-lookup"><span data-stu-id="e6991-219">However, it is also potentially possible to define the backing class to support property element usage.</span></span>  
  
 <span data-ttu-id="e6991-220">Aby umożliwić użycie elementu właściwości rozszerzenia znaczników, zdefiniuj publicznego konstruktora domyślnego.</span><span class="sxs-lookup"><span data-stu-id="e6991-220">To support property element usage of your markup extension, define a public default constructor.</span></span> <span data-ttu-id="e6991-221">Powinna to być konstruktora wystąpień nie Konstruktor statyczny.</span><span class="sxs-lookup"><span data-stu-id="e6991-221">This should be an instance constructor not a static constructor.</span></span> <span data-ttu-id="e6991-222">Jest to wymagane, ponieważ procesor XAML ogólnie musi wywołać konstruktora domyślnego w dowolnym elemencie obiektu, który przetwarza z kodu znaczników, a w tym klasy rozszerzenia znaczników jako elementy obiektu.</span><span class="sxs-lookup"><span data-stu-id="e6991-222">This is required because a XAML processor must generally invoke the default constructor on any object element it processes from markup, and this includes markup extension classes as object elements.</span></span> <span data-ttu-id="e6991-223">W przypadku zaawansowanych scenariuszy można zdefiniować konstrukcji innych niż domyślne ścieżki dla klasy.</span><span class="sxs-lookup"><span data-stu-id="e6991-223">For advanced scenarios, you can define non-default construction paths for classes.</span></span> <span data-ttu-id="e6991-224">(Aby uzyskać więcej informacji, zobacz [x: FactoryMethod — dyrektywa](../../../docs/framework/xaml-services/x-factorymethod-directive.md).) Jednak nie należy używać tych wzorców w celach rozszerzenia znaczników, ponieważ dzięki temu odnajdywania z wzorcem użycia dużo bardziej skomplikowane, zarówno dla projektantów, jak i dla użytkowników pierwotne znaczników.</span><span class="sxs-lookup"><span data-stu-id="e6991-224">(For more information, see [x:FactoryMethod Directive](../../../docs/framework/xaml-services/x-factorymethod-directive.md).) However, you should not use these patterns for markup extension purposes because this makes discovery of the usage pattern much more difficult, both for designers and for users of raw markup.</span></span>  
  
<a name="attributing_for_a_custom_markup_extension"></a>   
## <a name="attributing-for-a-custom-markup-extension"></a><span data-ttu-id="e6991-225">Przypisywanie rozszerzenia znaczników niestandardowe</span><span class="sxs-lookup"><span data-stu-id="e6991-225">Attributing for a Custom Markup Extension</span></span>  
 <span data-ttu-id="e6991-226">Aby zapewnić obsługę zarówno w środowiska projektowe, jak i w niektórych scenariuszach zapisywania obiektu XAML, typ pomocy technicznej rozszerzenia znaczników powinien atrybutem kilka atrybutów CLR.</span><span class="sxs-lookup"><span data-stu-id="e6991-226">To support both design environments and certain XAML object writer scenarios, you should attribute a markup extension support type with several CLR attributes.</span></span> <span data-ttu-id="e6991-227">Te atrybuty raport użycia rozszerzenia znaczników zamierzone.</span><span class="sxs-lookup"><span data-stu-id="e6991-227">These attributes report the intended markup extension usage.</span></span>  
  
 <span data-ttu-id="e6991-228"><xref:System.Windows.Markup.MarkupExtensionReturnTypeAttribute> Raporty <xref:System.Type> informacje dla obiektu typu <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> zwraca.</span><span class="sxs-lookup"><span data-stu-id="e6991-228"><xref:System.Windows.Markup.MarkupExtensionReturnTypeAttribute> reports the <xref:System.Type> information for the object type that <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> returns.</span></span> <span data-ttu-id="e6991-229">Podpisem czystego <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> zwraca <xref:System.Object>.</span><span class="sxs-lookup"><span data-stu-id="e6991-229">By its pure signature, <xref:System.Windows.Markup.ArrayExtension.ProvideValue%2A> returns <xref:System.Object>.</span></span> <span data-ttu-id="e6991-230">Ale różnych użytkowników może być bardziej precyzyjne informacje o typie zwracanym.</span><span class="sxs-lookup"><span data-stu-id="e6991-230">But various consumers might want more precise return type information.</span></span> <span data-ttu-id="e6991-231">Możliwości obejmują:</span><span class="sxs-lookup"><span data-stu-id="e6991-231">This includes:</span></span>  
  
-   <span data-ttu-id="e6991-232">Projektanci i środowiskami IDE, który może mieć możliwość zapewnienia obsługujących typu Obsługa użycia rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="e6991-232">Designers and IDEs, who might be able to provide type-aware support for markup extension usages.</span></span>  
  
-   <span data-ttu-id="e6991-233">Zaawansowane implementacje `SetMarkupExtension` programów obsługi na klas docelowych, które może polegać na podstawie odbicia w celu określenia typu zwracanego rozszerzenia znaczników zamiast rozgałęzianie na określone znane <xref:System.Windows.Markup.MarkupExtension> implementacje według nazwy.</span><span class="sxs-lookup"><span data-stu-id="e6991-233">Advanced implementations of `SetMarkupExtension` handlers on target classes, which might rely on reflection to determine a markup extension's return type instead of branching on specific known <xref:System.Windows.Markup.MarkupExtension> implementations by name.</span></span>  
  
<a name="serialization_of_markup_extension_usages"></a>   
## <a name="serialization-of-markup-extension-usages"></a><span data-ttu-id="e6991-234">Serializacja użycia rozszerzenia znaczników</span><span class="sxs-lookup"><span data-stu-id="e6991-234">Serialization of Markup Extension Usages</span></span>  
 <span data-ttu-id="e6991-235">Podczas zapisywania obiektu XAML przetwarza użycie rozszerzenia znaczników i wywołania <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, kontekst dla jej wcześniej użycie rozszerzenia znaczników będzie się powtarzać, strumień węzłów XAML, ale nie na grafie obiektu.</span><span class="sxs-lookup"><span data-stu-id="e6991-235">When a XAML object writer processes a markup extension usage and calls <xref:System.Windows.Markup.MarkupExtension.ProvideValue%2A>, the context for it previously being a markup extension usage persists in the XAML node stream but not in the object graph.</span></span> <span data-ttu-id="e6991-236">Na wykresie obiektu tylko wartość są zachowywane.</span><span class="sxs-lookup"><span data-stu-id="e6991-236">In the object graph, only the value is preserved.</span></span> <span data-ttu-id="e6991-237">Jeśli masz scenariusze dotyczące projektów lub inne przyczyny utrwalania oryginalnego użycie rozszerzenia znaczników w Zserializowany danych wyjściowych, należy zaprojektować własną infrastrukturę do śledzenia użycia rozszerzenia znaczników ze strumienia węzłów XAML ścieżki obciążenia.</span><span class="sxs-lookup"><span data-stu-id="e6991-237">If you have design scenarios or other reasons for persisting the original markup extension usage into the serialized output, you must design your own infrastructure for tracking the markup extension usages from the load path XAML node stream.</span></span> <span data-ttu-id="e6991-238">Możesz zaimplementować zachowanie, aby ponownie utworzyć elementy strumień węzłów ze ścieżki obciążenia i odtwarzać je autorom XAML do serializacji w Zapisz ścieżkę, zastępując wartości w odpowiedniej pozycji w strumieniu węzła.</span><span class="sxs-lookup"><span data-stu-id="e6991-238">You can implement behavior to recreate the elements of the node stream from the load path and play them back to XAML writers for serialization in the save path, substituting for the value in the appropriate position of the node stream.</span></span>  
  
<a name="markup_extensions_in_the_xaml_node_stream"></a>   
## <a name="markup-extensions-in-the-xaml-node-stream"></a><span data-ttu-id="e6991-239">Rozszerzenia znaczników w XAML Stream węzła</span><span class="sxs-lookup"><span data-stu-id="e6991-239">Markup Extensions in the XAML Node Stream</span></span>  
 <span data-ttu-id="e6991-240">Jeśli pracujesz z strumień węzłów XAML w ścieżce obciążenia, użycie rozszerzenia znaczników pojawia się w strumień węzłów jako obiekt.</span><span class="sxs-lookup"><span data-stu-id="e6991-240">If you are working with a XAML node stream on the load path, a markup extension usage appears in the node stream as an object.</span></span>  
  
 <span data-ttu-id="e6991-241">Użycie rozszerzenia znaczników używa argumenty pozycyjne, jest przedstawiana jako obiekt start z wartością inicjowania.</span><span class="sxs-lookup"><span data-stu-id="e6991-241">If the markup extension usage uses positional arguments, it is represented as a start object with an initialization value.</span></span> <span data-ttu-id="e6991-242">Jako reprezentację nierównej tekstu strumień węzłów jest podobny do następującego:</span><span class="sxs-lookup"><span data-stu-id="e6991-242">As a rough text representation, the node stream resembles the following:</span></span>  
  
 <span data-ttu-id="e6991-243">`StartObject` (<xref:System.Xaml.XamlType> jest rozszerzenie znaczników definicji typu, nie typem zwracanym)</span><span class="sxs-lookup"><span data-stu-id="e6991-243">`StartObject` (<xref:System.Xaml.XamlType> is the markup extension's definition type, not its return type)</span></span>  
  
 <span data-ttu-id="e6991-244">`StartMember` (nazwa <xref:System.Xaml.XamlMember> jest `_InitializationText`)</span><span class="sxs-lookup"><span data-stu-id="e6991-244">`StartMember` (name of the <xref:System.Xaml.XamlMember> is `_InitializationText`)</span></span>  
  
 <span data-ttu-id="e6991-245">`Value` (wartość jest argumenty pozycyjne jako ciąg, w tym pośredniczące ograniczniki)</span><span class="sxs-lookup"><span data-stu-id="e6991-245">`Value` (value is the positional arguments as a string including the intervening delimiters)</span></span>  
  
 `EndMember`  
  
 `EndObject`  
  
 <span data-ttu-id="e6991-246">Użycie rozszerzenia znaczników z argumentami nazwanego jest reprezentowany jako obiekt z elementami członkowskimi odpowiednich nazw, każdy zestaw z wartości ciągów tekstowych.</span><span class="sxs-lookup"><span data-stu-id="e6991-246">A markup extension usage with named arguments is represented as an object with members of the relevant names, each set with text string values.</span></span>  
  
 <span data-ttu-id="e6991-247">Faktycznie wywoływania `ProvideValue` implementacji rozszerzenie znaczników wymaga kontekst schematu XAML, ponieważ wymaga mapowanie typu i utworzyć wystąpienie typu obsługi rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="e6991-247">Actually invoking the `ProvideValue` implementation of a markup extension requires the XAML schema context because that requires type-mapping and creating a markup extension support type instance.</span></span> <span data-ttu-id="e6991-248">To jest jednym z powodów dlaczego użycia rozszerzenia znaczników są zachowywane w ten sposób w strumieniach węzła usług programu .NET Framework XAML domyślne — czytnika części ścieżki obciążenia, który jest często nie ma potrzeby kontekst schematu XAML dostępne.</span><span class="sxs-lookup"><span data-stu-id="e6991-248">This is one reason why markup extension usages are preserved this way in the default .NET Framework XAML Services node streams -  the reader part of a load path often does not have the necessary XAML schema context available.</span></span>  
  
 <span data-ttu-id="e6991-249">Jeśli pracujesz z strumień węzłów XAML Zapisz ścieżkę, zazwyczaj żadne działania w reprezentację wykresu obiektu, który może wcześniej poinformować, obiekt do zserializowania pierwotnie został dostarczony przez użycie rozszerzenia znaczników i `ProvideValue` wynik.</span><span class="sxs-lookup"><span data-stu-id="e6991-249">If you are working with a XAML node stream on the save path, there generally is nothing present in an object graph representation that can inform you that the object to serialize was originally provided by a markup extension usage and a `ProvideValue` result.</span></span> <span data-ttu-id="e6991-250">Scenariusze, które musisz zachować użycia rozszerzenia znaczników dla Pełna zgodnooć wersji, a także Przechwytywanie inne zmiany na grafie obiektu musi należy opracować własne techniki zachowaniu wiedzy o użycie rozszerzenia znaczników, od oryginału wejściowe XAML.</span><span class="sxs-lookup"><span data-stu-id="e6991-250">Scenarios that need to persist markup extension usages for round-tripping while also capturing other changes in the object graph must devise their own techniques for preserving the knowledge of a markup extension usage from the original XAML input.</span></span> <span data-ttu-id="e6991-251">Na przykład, aby przywrócić użycia rozszerzenia znaczników, konieczne może być pracę w usłudze stream węzła w Zapisz ścieżkę, aby można było przywrócić użycia rozszerzenia znaczników lub wykonać pewien rodzaj scalania między oryginalnego XAML i XAML zwrotnego —.</span><span class="sxs-lookup"><span data-stu-id="e6991-251">For example, to restore the markup extension usages, you may need to work with the node stream on the save path in order to restore markup extension usages, or perform some type of merge between the original XAML and the round-tripped XAML.</span></span> <span data-ttu-id="e6991-252">Niektórych platform Implementowanie XAML, takich jak WPF użyć typów pośrednich (wyrażenia) do reprezentowania przypadki, w którym użycia rozszerzenia znaczników podane wartości.</span><span class="sxs-lookup"><span data-stu-id="e6991-252">Some XAML-implementing frameworks such as WPF use intermediate types (expressions) to help represent cases where markup extension usages provided the values.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e6991-253">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="e6991-253">See also</span></span>
- <xref:System.Windows.Markup.MarkupExtension>
- [<span data-ttu-id="e6991-254">Typy konwerterów i rozszerzenia znaczników dla XAML</span><span class="sxs-lookup"><span data-stu-id="e6991-254">Type Converters and Markup Extensions for XAML</span></span>](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md)
- [<span data-ttu-id="e6991-255">Rozszerzenia znaczników i WPF XAML</span><span class="sxs-lookup"><span data-stu-id="e6991-255">Markup Extensions and WPF XAML</span></span>](../../../docs/framework/wpf/advanced/markup-extensions-and-wpf-xaml.md)
