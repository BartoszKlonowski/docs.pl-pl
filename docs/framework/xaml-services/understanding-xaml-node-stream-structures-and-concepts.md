---
title: Zapoznanie się ze strukturami i koncepcjami strumienia węzłów XAML
ms.date: 03/30/2017
helpviewer_keywords:
- XAML node streams [XAML Services]
- nodes [XAML Services], XAML node stream
- XAML [XAML Services], XAML node streams
ms.assetid: 7c11abec-1075-474c-9d9b-778e5dab21c3
ms.openlocfilehash: babf98b7dd30cd60e72e310ae8ba8c9a42d9125f
ms.sourcegitcommit: bce0586f0cccaae6d6cbd625d5a7b824d1d3de4b
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/02/2019
ms.locfileid: "58824432"
---
# <a name="understanding-xaml-node-stream-structures-and-concepts"></a><span data-ttu-id="cb9b6-102">Zapoznanie się ze strukturami i koncepcjami strumienia węzłów XAML</span><span class="sxs-lookup"><span data-stu-id="cb9b6-102">Understanding XAML Node Stream Structures and Concepts</span></span>

<span data-ttu-id="cb9b6-103">XAML czytników i składników zapisywania XAML, zaimplementowanego w .NET Framework XAML Services są oparte na projekt koncepcji strumienia węzłów XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-103">XAML readers and XAML writers as implemented in .NET Framework XAML Services are based on the design concept of a XAML node stream.</span></span> <span data-ttu-id="cb9b6-104">Strumień węzłów XAML jest conceptualization zestaw węzłów XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-104">The XAML node stream is a conceptualization of a set of XAML nodes.</span></span> <span data-ttu-id="cb9b6-105">W tym conceptualization procesora XAML przeprowadzi struktury relacje węzłem w XAML, jeden na raz.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-105">In this conceptualization, a XAML processor walks through the structure of the node relationships in the XAML one at a time.</span></span> <span data-ttu-id="cb9b6-106">W dowolnym momencie tylko jeden rekord bieżący lub bieżącą pozycję w otwarty strumień węzłów XAML i występuje wiele aspektów interfejsu API zgłaszać tylko informacji dostępnych w tej pozycji.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-106">At any time, only one current record or current position exists in an open XAML node stream, and many aspects of the API report only the information available from that position.</span></span> <span data-ttu-id="cb9b6-107">Bieżącego węzła w strumień węzłów XAML można opisać jako obiekt, elementu członkowskiego lub wartość.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-107">The current node in a XAML node stream can be described as being an object, a member, or a value.</span></span> <span data-ttu-id="cb9b6-108">Traktując XAML jako strumień węzłów XAML, czytniki XAML można komunikować się ze składnikami zapisywania XAML i włączyć program, który będzie wyświetlać, wchodzić w interakcje z lub zmienić zawartość strumienia węzłów XAML podczas ścieżki ładowania lub zapisywania operacji ścieżki, która obejmuje XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-108">By treating XAML as a XAML node stream, XAML readers can communicate with XAML writers and enable a program to view, interact with, or alter the contents of a XAML node stream during either a load path or a save path operation that involves XAML.</span></span> <span data-ttu-id="cb9b6-109">Projekt interfejsu API czytników i składników zapisywania XAML i koncepcji strumienia węzłów XAML przypominają poprzedniego czytnika powiązane i projekty składnika zapisywania i pojęcia, takie jak [!INCLUDE[TLA#tla_xmldom](../../../includes/tlasharptla-xmldom-md.md)] i <xref:System.Xml.XmlReader> i <xref:System.Xml.XmlWriter> klasy.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-109">XAML reader and writer API design and the XAML node stream concept are similar to previous related reader and writer designs and concepts, such as the [!INCLUDE[TLA#tla_xmldom](../../../includes/tlasharptla-xmldom-md.md)] and the <xref:System.Xml.XmlReader> and <xref:System.Xml.XmlWriter> classes.</span></span> <span data-ttu-id="cb9b6-110">Ten temat zawiera omówienie koncepcji strumienia węzłów XAML, a w tym artykule opisano, jak można napisać procedury, które współdziałają z reprezentacji XAML na poziomie węzłów XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-110">This topic discusses XAML node stream concepts and describes how you can write routines that interact with XAML representations at the XAML node level.</span></span>

<a name="loading_into_a_xaml_reader"></a>

## <a name="loading-xaml-into-a-xaml-reader"></a><span data-ttu-id="cb9b6-111">Ładowanie XAML do czytnika XAML</span><span class="sxs-lookup"><span data-stu-id="cb9b6-111">Loading XAML into a XAML Reader</span></span>

<span data-ttu-id="cb9b6-112">Podstawa <xref:System.Xaml.XamlReader> klasy nie deklaruje technika określonego czytnika XAML podczas ładowania początkowego XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-112">The base <xref:System.Xaml.XamlReader> class does not declare a particular technique for loading the initial XAML into a XAML reader.</span></span> <span data-ttu-id="cb9b6-113">Zamiast tego klasę pochodną deklaruje i implementuje technika ładowania, w tym właściwości ogólnych i ograniczeń jego źródło danych wejściowych dla XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-113">Instead, a derived class declares and implements the loading technique, including the general characteristics and constraints of its input source for XAML.</span></span> <span data-ttu-id="cb9b6-114">Na przykład <xref:System.Xaml.XamlObjectReader> odczytuje wykresu obiektu, począwszy od źródła danych wejściowych jednego obiektu, który reprezentuje katalog główny lub podstawowy.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-114">For example, a <xref:System.Xaml.XamlObjectReader> reads an object graph, starting from the input source of a single object that represents the root or base.</span></span> <span data-ttu-id="cb9b6-115"><xref:System.Xaml.XamlObjectReader> Następnie tworzy strumień węzłów XAML, z wykresu obiektu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-115">The <xref:System.Xaml.XamlObjectReader> then produces a XAML node stream from the object graph.</span></span>

<span data-ttu-id="cb9b6-116">Najbardziej znaczącym zdefiniowanych przez .NET Framework XAML Services <xref:System.Xaml.XamlReader> jest podklasą <xref:System.Xaml.XamlXmlReader>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-116">The most prominent .NET Framework XAML Services–defined <xref:System.Xaml.XamlReader> subclass is <xref:System.Xaml.XamlXmlReader>.</span></span> <span data-ttu-id="cb9b6-117"><xref:System.Xaml.XamlXmlReader> ładuje początkowej XAML, albo ładując plik tekstowy bezpośrednio za pomocą ścieżki pliku lub strumienia lub pośrednio za pośrednictwem klasy pokrewne czytnika takich jak <xref:System.IO.TextReader>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-117"><xref:System.Xaml.XamlXmlReader> loads the initial XAML, either by loading a text file directly through a stream or file path, or indirectly through a related reader class such as <xref:System.IO.TextReader>.</span></span> <span data-ttu-id="cb9b6-118"><xref:System.Xaml.XamlReader> Mogą być uważane za zawierające całego źródła danych wejściowych XAML po załadowaniu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-118">The <xref:System.Xaml.XamlReader> can be thought of as containing the entirety of the XAML input source after it has loaded.</span></span> <span data-ttu-id="cb9b6-119">Jednak <xref:System.Xaml.XamlReader> podstawowego interfejsu API jest zaprojektowana tak, że czytnik prowadzi interakcję z jednego węzła XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-119">However, the <xref:System.Xaml.XamlReader> base API is designed so that the reader is interacting with a single node of the XAML.</span></span> <span data-ttu-id="cb9b6-120">Po raz pierwszy załadowano pierwszy jeden węzeł, występujących jest katalogiem głównym XAML i jego obiekt rozpoczęcia.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-120">When first loaded, the first single node you encounter is the root of the XAML, and its start object.</span></span>

### <a name="the-xaml-node-stream-concept"></a><span data-ttu-id="cb9b6-121">Koncepcja Stream węzłów XAML</span><span class="sxs-lookup"><span data-stu-id="cb9b6-121">The XAML Node Stream Concept</span></span>

<span data-ttu-id="cb9b6-122">Jeśli znasz zazwyczaj bardziej modelu DOM, drzewa metaphor lub oparte na zapytaniach podejście do uzyskiwania dostępu do technologii opartych na języku XML, pomocny sposób wyobrażenie strumień węzłów XAML jest następujący.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-122">If you are generally more familiar with a DOM, tree metaphor, or query-based approach towards accessing XML-based technologies, a helpful way to conceptualize a XAML node stream is as follows.</span></span> <span data-ttu-id="cb9b6-123">Wyobraź sobie, że załadować XAML jest modelu DOM lub drzewa, w którym rozwinięte aż każdego możliwego węzła, a następnie prezentowany liniowo.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-123">Imagine that the loaded XAML is a DOM or a tree where every possible node is expanded all the way, and then presented linearly.</span></span> <span data-ttu-id="cb9b6-124">Jak możesz przechodzić przez węzły, użytkownik może być przechodzenie "in" lub "out" poziomów, które są istotne dla modelu DOM, ale strumień węzłów XAML nie jawnie śledzić ponieważ te pojęcia poziomu nie mają znaczenia dla strumień węzłów.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-124">As you advance through the nodes, you might be traversing "in" or "out" of levels that would be relevant to a DOM, but the XAML node stream does not explicitly keep track because these level concepts are not relevant to a node stream.</span></span> <span data-ttu-id="cb9b6-125">Strumień węzłów ma pozycji "bieżący", ale jeśli nie zostały zapisane innych części strumienia samodzielnie jako odniesienia, każdy aspekt strumień węzłów innych niż bieżąca pozycja węzła z widoku.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-125">The node stream has a "current" position, but unless you have stored other parts of the stream yourself as references, every aspect of the node stream other than the current node position is out of view.</span></span>

<span data-ttu-id="cb9b6-126">Koncepcji strumienia węzłów XAML ma tę zaletę istotne, że jeśli przejdziesz przez strumień całej węzłów zapewni przetworzyły całą reprezentację XAML; nie trzeba martwić się, że zapytanie, operacja modelu DOM lub innych nieliniowych podejście do przetwarzania informacji brak część pełną reprezentację XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-126">The XAML node stream concept has the notable advantage that if you go through the entire node stream, you are assured that you have processed the entire XAML representation; you do not need to worry that a query, a DOM operation, or some other nonlinear approach to processing information has missed some part of the complete XAML representation.</span></span> <span data-ttu-id="cb9b6-127">Z tego powodu reprezentacji strumienia węzłów XAML doskonale zarówno do łączenia z XAML czytników i składników zapisywania XAML i zapewniające systemu gdzie można wstawiać swoim własnym procesie, która działa między etapami odczytu i zapisu operacji przetwarzania XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-127">For this reason, the XAML node stream representation is ideal both for connecting XAML readers and XAML writers, and for providing a system where you can insert your own process that acts between the read and write phases of a XAML processing operation.</span></span> <span data-ttu-id="cb9b6-128">W wielu przypadkach kolejność węzłów na strumień węzłów XAML jest celowo zoptymalizowane pod kątem lub zmieniana przez czytniki zawartości XAML, a jak kolejność może pojawić się w tekście źródłowym, binary lub wykres obiektu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-128">In many cases, the ordering of nodes in the XAML node stream is deliberately optimized or reordered by XAML readers versus how the order might appear in the source text, binary, or object graph.</span></span> <span data-ttu-id="cb9b6-129">To zachowanie jest przeznaczona do wymuszania architektury przetwarzania XAML, zgodnie z którą XAML moduły zapisujące są nigdy nie w sytuacji, w której mają Wróć "" w usłudze stream węzła.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-129">This behavior is intended to enforce a XAML processing architecture whereby XAML writers are never in a position where they have to go "back" in the node stream.</span></span> <span data-ttu-id="cb9b6-130">W idealnym przypadku XAML wszystkie operacje zapisu powinny być możliwość działania oparte na kontekście schematu oraz bieżącą pozycję w strumieniu węzła.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-130">Ideally, all XAML write operations should be able to act based on schema context plus the current position of the node stream.</span></span>

<a name="a_basic_reading_node_loop"></a>

## <a name="a-basic-reading-node-loop"></a><span data-ttu-id="cb9b6-131">Pętla węzła podstawowych odczytu</span><span class="sxs-lookup"><span data-stu-id="cb9b6-131">A Basic Reading Node Loop</span></span>

<span data-ttu-id="cb9b6-132">Podstawowy odczytywania węzła pętli badanie strumień węzłów XAML składa się z następujące pojęcia.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-132">A basic reading node loop for examining a XAML node stream consists of the following concepts.</span></span> <span data-ttu-id="cb9b6-133">Na potrzeby węzła pętli zgodnie z opisem w tym temacie przyjęto założenie, odczytujesz XAML oparte na tekście, czytelny dla człowieka plików przy użyciu <xref:System.Xaml.XamlXmlReader>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-133">For purposes of node loops as discussed in this topic, assume that you are reading a text-based, human-readable XAML file using <xref:System.Xaml.XamlXmlReader>.</span></span> <span data-ttu-id="cb9b6-134">Łącza w tej sekcji dotyczą konkretnego pętli węzłów XAML implementowane przez interfejs API <xref:System.Xaml.XamlXmlReader>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-134">The links in this section refer to the particular XAML node loop API implemented by <xref:System.Xaml.XamlXmlReader>.</span></span>

- <span data-ttu-id="cb9b6-135">Upewnij się, że firma nie jest na końcu strumienia węzłów XAML (Sprawdź <xref:System.Xaml.XamlXmlReader.IsEof%2A>, lub użyj <xref:System.Xaml.XamlXmlReader.Read%2A> zwracają wartość).</span><span class="sxs-lookup"><span data-stu-id="cb9b6-135">Make sure that you are not at the end of the XAML node stream (check <xref:System.Xaml.XamlXmlReader.IsEof%2A>, or use the <xref:System.Xaml.XamlXmlReader.Read%2A> return value).</span></span> <span data-ttu-id="cb9b6-136">Jeśli na końcu strumienia, jest nie bieżącego węzła i powinno powodować wyjście.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-136">If you are at the end of the stream, there is no current node and you should exit.</span></span>

- <span data-ttu-id="cb9b6-137">Sprawdź, jakiego typu węzła strumień węzłów XAML aktualnie ujawnia przez wywołanie metody <xref:System.Xaml.XamlXmlReader.NodeType%2A>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-137">Check what type of node the XAML node stream currently exposes by calling <xref:System.Xaml.XamlXmlReader.NodeType%2A>.</span></span>

- <span data-ttu-id="cb9b6-138">W przypadku skojarzone Edytor obiektu XAML, który jest podłączony bezpośrednio ogólnie wywołujesz <xref:System.Xaml.XamlWriter.WriteNode%2A> w tym momencie.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-138">If you have an associated XAML object writer that is connected directly, you generally call <xref:System.Xaml.XamlWriter.WriteNode%2A> at this point.</span></span>

- <span data-ttu-id="cb9b6-139">Na podstawie którego <xref:System.Xaml.XamlNodeType> zostanie zgłoszony jako bieżącego węzła lub bieżącego rekordu wywołać jedną z następujących czynności, aby uzyskać informacje na temat zawartość węzła:</span><span class="sxs-lookup"><span data-stu-id="cb9b6-139">Based on which <xref:System.Xaml.XamlNodeType> is reported as the current node or current record, call one of the following to obtain information about the node contents:</span></span>

    - <span data-ttu-id="cb9b6-140">Dla <xref:System.Xaml.XamlXmlReader.NodeType%2A> z <xref:System.Xaml.XamlNodeType.StartMember> lub <xref:System.Xaml.XamlNodeType.EndMember>, wywołaj <xref:System.Xaml.XamlXmlReader.Member%2A> uzyskać <xref:System.Xaml.XamlMember> informacji na temat członka.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-140">For a <xref:System.Xaml.XamlXmlReader.NodeType%2A> of <xref:System.Xaml.XamlNodeType.StartMember> or <xref:System.Xaml.XamlNodeType.EndMember>, call <xref:System.Xaml.XamlXmlReader.Member%2A> to obtain <xref:System.Xaml.XamlMember> information about a member.</span></span> <span data-ttu-id="cb9b6-141">Należy zauważyć, że składowa może być <xref:System.Xaml.XamlDirective>, a zatem niekoniecznie jest konwencjonalne członkowski zdefiniowany typ poprzedniego obiektu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-141">Note that the member might be a <xref:System.Xaml.XamlDirective>, and thus might not necessarily be a conventional type-defined member of the preceding object.</span></span> <span data-ttu-id="cb9b6-142">Na przykład `x:Name` zastosowane do obiektu, który pojawia się jako członek XAML gdzie <xref:System.Xaml.XamlMember.IsDirective%2A> ma wartość true i <xref:System.Xaml.XamlMember.Name%2A> elementu członkowskiego jest `Name`, z innymi właściwościami, co oznacza, że ta dyrektywa w przestrzeni nazw XAML języka XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-142">For example, `x:Name` applied to an object appears as a XAML member where <xref:System.Xaml.XamlMember.IsDirective%2A> is true and the <xref:System.Xaml.XamlMember.Name%2A> of the member is `Name`, with other properties indicating that this directive is under the XAML language XAML namespace.</span></span>

    - <span data-ttu-id="cb9b6-143">Dla <xref:System.Xaml.XamlXmlReader.NodeType%2A> z <xref:System.Xaml.XamlNodeType.StartObject> lub <xref:System.Xaml.XamlNodeType.EndObject>, wywołaj <xref:System.Xaml.XamlXmlReader.Type%2A> uzyskać <xref:System.Xaml.XamlType> informacje dotyczące obiektu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-143">For a <xref:System.Xaml.XamlXmlReader.NodeType%2A> of <xref:System.Xaml.XamlNodeType.StartObject> or <xref:System.Xaml.XamlNodeType.EndObject>, call <xref:System.Xaml.XamlXmlReader.Type%2A> to obtain <xref:System.Xaml.XamlType> information about an object.</span></span>

    - <span data-ttu-id="cb9b6-144">Aby uzyskać <xref:System.Xaml.XamlXmlReader.NodeType%2A> z <xref:System.Xaml.XamlNodeType.Value>, wywołaj <xref:System.Xaml.XamlXmlReader.Value%2A>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-144">For a <xref:System.Xaml.XamlXmlReader.NodeType%2A> of <xref:System.Xaml.XamlNodeType.Value>, call <xref:System.Xaml.XamlXmlReader.Value%2A>.</span></span> <span data-ttu-id="cb9b6-145">Węzeł to wartość tylko wtedy, gdy jest Najprostszym wyrażeniem wartość dla elementu członkowskiego lub tekst inicjowania obiektu (jednak należy pamiętać o zachowanie konwersji typu zgodnie z opisem w następnej sekcji tego tematu).</span><span class="sxs-lookup"><span data-stu-id="cb9b6-145">A node is a value only if it is the simplest expression of a value for a member, or the initialization text for an object (however, you should be aware of type conversion behavior as documented in an upcoming section of this topic).</span></span>

    - <span data-ttu-id="cb9b6-146">Dla <xref:System.Xaml.XamlXmlReader.NodeType%2A> z <xref:System.Xaml.XamlNodeType.NamespaceDeclaration>, wywołaj <xref:System.Xaml.XamlXmlReader.Namespace%2A> można uzyskać informacji dotyczących przestrzeni nazw węzła obszaru nazw.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-146">For a <xref:System.Xaml.XamlXmlReader.NodeType%2A> of <xref:System.Xaml.XamlNodeType.NamespaceDeclaration>, call <xref:System.Xaml.XamlXmlReader.Namespace%2A> to obtain namespace information for a namespace node.</span></span>

- <span data-ttu-id="cb9b6-147">Wywołaj <xref:System.Xaml.XamlXmlReader.Read%2A> Przejdź czytnika XAML do następnego węzła w strumień węzłów XAML i powtórz kroki ponownie.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-147">Call <xref:System.Xaml.XamlXmlReader.Read%2A> to advance the XAML reader to the next node in the XAML node stream, and repeat the steps again.</span></span>

<span data-ttu-id="cb9b6-148">Strumień węzłów XAML, które są dostarczane przez czytniki zawartości XAML Services programu .NET Framework XAML zawsze zapewnia pełne, szczegółowe przechodzenia przez wszystkie węzły możliwych.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-148">The XAML node stream provided by .NET Framework XAML Services XAML readers always provides a full, deep traversal of all possible nodes.</span></span> <span data-ttu-id="cb9b6-149">Techniki typowe sterowanie przepływem dla pętli węzłów XAML to m.in. definiowania jednostka w obrębie `while (reader.Read())`i przełączania na <xref:System.Xaml.XamlXmlReader.NodeType%2A> w każdym węźle punktu w pętli węzła.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-149">Typical flow-control techniques for a XAML node loop include defining a body within `while (reader.Read())`, and switching on <xref:System.Xaml.XamlXmlReader.NodeType%2A> at each node point in the node loop.</span></span>

<span data-ttu-id="cb9b6-150">Jeśli strumień węzłów znajduje się na końcu pliku, bieżącego węzła ma wartość null.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-150">If the node stream is at end of file, the current node is null.</span></span>

<span data-ttu-id="cb9b6-151">Najprostsza pętli, która używa czytników i składników zapisywania przypomina poniższy przykład.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-151">The simplest loop that uses a reader and writer resembles the following example.</span></span>

```csharp
XamlXmlReader xxr = new XamlXmlReader(new StringReader(xamlStringToLoad));
//where xamlStringToLoad is a string of well formed XAML
XamlObjectWriter xow = new XamlObjectWriter(xxr.SchemaContext);
while (xxr.Read()) {
  xow.WriteNode(xxr);
}
```

<span data-ttu-id="cb9b6-152">Ten prosty przykład pętli węzłów XAML ścieżki obciążenia przezroczyste łączy, XAML, zapisywania i odczytywania XAML, czynności inny niż w przypadku korzystania <xref:System.Xaml.XamlServices.Parse%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-152">This basic example of a load path XAML node loop transparently connects the XAML reader and XAML writer, doing nothing different than if you had used <xref:System.Xaml.XamlServices.Parse%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="cb9b6-153">Ale to podstawowa struktura jest rozszerzany do zastosowania do odczytu lub zapisu scenariusza.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-153">But this basic structure is then expanded to apply to your reading or writing scenario.</span></span> <span data-ttu-id="cb9b6-154">Oto kilka możliwych scenariuszy:</span><span class="sxs-lookup"><span data-stu-id="cb9b6-154">Some possible scenarios are as follows:</span></span>

- <span data-ttu-id="cb9b6-155">Przełącz <xref:System.Xaml.XamlXmlReader.NodeType%2A>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-155">Switch on <xref:System.Xaml.XamlXmlReader.NodeType%2A>.</span></span> <span data-ttu-id="cb9b6-156">Wykonaj różne akcje, w zależności od tego, który węzeł typu jest odczytu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-156">Perform different actions depending on which node type is being read.</span></span>

- <span data-ttu-id="cb9b6-157">Nie wywołuj <xref:System.Xaml.XamlWriter.WriteNode%2A> we wszystkich przypadkach.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-157">Do not call <xref:System.Xaml.XamlWriter.WriteNode%2A> in all cases.</span></span> <span data-ttu-id="cb9b6-158">Wywoływać tylko <xref:System.Xaml.XamlWriter.WriteNode%2A> w niektórych <xref:System.Xaml.XamlXmlReader.NodeType%2A> przypadków.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-158">Only call <xref:System.Xaml.XamlWriter.WriteNode%2A> in some <xref:System.Xaml.XamlXmlReader.NodeType%2A> cases.</span></span>

- <span data-ttu-id="cb9b6-159">W ramach logiki dla typu określonego węzła analizować szczegółowe informacje na temat tego węzła i wykonywania względem nich działań.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-159">Within the logic for a particular node type, analyze the specifics of that node and act on them.</span></span> <span data-ttu-id="cb9b6-160">Na przykład można napisać tylko obiekty, które pochodzą z określonej przestrzeni nazw XAML i następnie upuść lub Odrocz wszystkie obiekty spoza tej przestrzeni nazw XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-160">For example, you could write only objects that come from a particular XAML namespace, and then drop or defer any objects not from that XAML namespace.</span></span> <span data-ttu-id="cb9b6-161">Lub można porzucić lub w przeciwnym razie ponownie przetworzyć żadnych dyrektyw XAML, które nie obsługuje systemu XAML w ramach przetwarzania elementów członkowskich.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-161">Or you could drop or otherwise reprocess any XAML directives that your XAML system does not support as part of your member processing.</span></span>

- <span data-ttu-id="cb9b6-162">Definiowanie niestandardowego <xref:System.Xaml.XamlObjectWriter> , zastępuje `Write*` metod, prawdopodobnie wykonanie mapowania typów, które pomija kontekst schematu XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-162">Define a custom <xref:System.Xaml.XamlObjectWriter> that overrides `Write*` methods, possibly performing type mapping that bypasses XAML schema context.</span></span>

- <span data-ttu-id="cb9b6-163">Konstruowania <xref:System.Xaml.XamlXmlReader> używać inny niż domyślny kontekst schematu XAML, aby dostosowane różnice w zachowaniu XAML są używane zarówno przez czytników i składników zapisywania.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-163">Construct the <xref:System.Xaml.XamlXmlReader> to use a nondefault XAML schema context, so that customized differences in XAML behavior are used both by the reader and the writer.</span></span>

### <a name="accessing-xaml-beyond-the-node-loop-concept"></a><span data-ttu-id="cb9b6-164">Uzyskiwanie dostępu do XAML poza węzeł koncepcji pętli</span><span class="sxs-lookup"><span data-stu-id="cb9b6-164">Accessing XAML Beyond the Node Loop Concept</span></span>

<span data-ttu-id="cb9b6-165">Istnieją inne sposoby pracy z reprezentacji XAML w innym niż jako pętli węzłów XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-165">There are potentially other ways to work with a XAML representation other than as a XAML node loop.</span></span> <span data-ttu-id="cb9b6-166">Na przykład może istnieć czytnika XAML, który może odczytywać indeksowanych węzła lub w szczególności uzyskuje dostęp do węzłów bezpośrednio przez `x:Name`, `x:Uid`, lub za pośrednictwem innych identyfikatorów.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-166">For example, there could exist a XAML reader that can read an indexed node, or in particular accesses nodes directly by `x:Name`, by `x:Uid`, or through other identifiers.</span></span> <span data-ttu-id="cb9b6-167">.NET framework XAML Services nie zapewnia pełnej implementacji, ale zapewnia sugerowany wzorzec za pośrednictwem typów usług i pomocy technicznej.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-167">.NET Framework XAML Services does not provide a full implementation, but provides a suggested pattern through services and support types.</span></span> <span data-ttu-id="cb9b6-168">Aby uzyskać więcej informacji, zobacz <xref:System.Xaml.IXamlIndexingReader> i <xref:System.Xaml.XamlNodeList>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-168">For more information, see <xref:System.Xaml.IXamlIndexingReader> and <xref:System.Xaml.XamlNodeList>.</span></span>

> [!TIP]
> <span data-ttu-id="cb9b6-169">Firma Microsoft tworzy również wersji poza pasmem, znane jako XAML zestawu narzędzi usług Microsoft.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-169">Microsoft also produces an out-of-band release known as the Microsoft XAML Toolkit.</span></span> <span data-ttu-id="cb9b6-170">W tej wersji out-of-band nadal trwa jego etapów wersji wstępnej.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-170">This out-of-band release is still in its pre-release stages.</span></span> <span data-ttu-id="cb9b6-171">Jednak jeśli jesteś gotowy do pracy ze składnikami wersji wstępnej, XAML zestawu narzędzi usług Microsoft zapewnia kilka interesujących zasobów XAML narzędzia i analizę statyczną XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-171">However, if you are willing to work with pre-release components, the Microsoft XAML Toolkit provides some interesting resources for XAML tooling and static analysis of XAML.</span></span> <span data-ttu-id="cb9b6-172">XAML zestawu narzędzi usług Microsoft obejmuje interfejs API modelu DOM XAML, Obsługa analizy programu FxCop i kontekst schematu XAML dla programu Silverlight.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-172">The Microsoft XAML Toolkit includes a XAML DOM API, support for FxCop analysis, and a XAML schema context for Silverlight.</span></span> <span data-ttu-id="cb9b6-173">Aby uzyskać więcej informacji, zobacz [zestaw narzędzi usług Microsoft XAML](https://code.msdn.microsoft.com/XAML).</span><span class="sxs-lookup"><span data-stu-id="cb9b6-173">For more information, see [Microsoft XAML Toolkit](https://code.msdn.microsoft.com/XAML).</span></span>

<a name="working_with_the_current_node"></a>

## <a name="working-with-the-current-node"></a><span data-ttu-id="cb9b6-174">Praca z bieżącego węzła</span><span class="sxs-lookup"><span data-stu-id="cb9b6-174">Working with the Current Node</span></span>

<span data-ttu-id="cb9b6-175">Większość scenariuszy korzystających z pętli węzłów XAML nie tylko odczytać węzłów.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-175">Most scenarios that use a XAML node loop do not only read the nodes.</span></span> <span data-ttu-id="cb9b6-176">Większość scenariuszy przetwarzania bieżące węzły i przekazać każdy węzeł, jeden w danym momencie implementacji <xref:System.Xaml.XamlWriter>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-176">Most scenarios process current nodes and pass each node one at a time to an implementation of <xref:System.Xaml.XamlWriter>.</span></span>

<span data-ttu-id="cb9b6-177">W tym scenariuszu ścieżki typowego obciążenia <xref:System.Xaml.XamlXmlReader> tworzy strumień węzłów XAML; węzłów XAML są przetwarzane zgodnie z usługi Logic Apps i kontekst schematu XAML i węzły są przekazywane do <xref:System.Xaml.XamlObjectWriter>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-177">In the typical load path scenario, a <xref:System.Xaml.XamlXmlReader> produces a XAML node stream; the XAML nodes are processed according to your logic and XAML schema context; and the nodes are passed to a <xref:System.Xaml.XamlObjectWriter>.</span></span> <span data-ttu-id="cb9b6-178">Następnie możesz zintegrować wynikowy wykres obiektu, do aplikacji lub framework.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-178">You then integrate the resulting object graph into your application or framework.</span></span>

<span data-ttu-id="cb9b6-179">W typowej Zapisz ścieżkę scenariuszu <xref:System.Xaml.XamlObjectReader> odczytuje wykresu obiektu, poszczególnych węzłów XAML są przetwarzane i <xref:System.Xaml.XamlXmlWriter> wyświetla wynik Zserializowany jako plik tekstowy XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-179">In a typical save path scenario, a <xref:System.Xaml.XamlObjectReader> reads the object graph, individual XAML nodes are processed, and a <xref:System.Xaml.XamlXmlWriter> outputs the serialized result as a XAML text file.</span></span> <span data-ttu-id="cb9b6-180">Klucz jest, że zarówno w ścieżkach, jak i w scenariuszach operuje dokładnie jeden węzeł XAML w danym momencie i węzłów XAML są dostępne do traktowania w sposób Zestandaryzowany, który jest definiowany przez system typów XAML i środowiska.NET Framework XAML usług API.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-180">The key is that both paths and scenarios involve working with exactly one XAML node at a time, and the XAML nodes are available for treatment in a standardized way that is defined by the XAML type system and the.NET Framework XAML Services APIs.</span></span>

### <a name="frames-and-scope"></a><span data-ttu-id="cb9b6-181">Ramki i zakresu</span><span class="sxs-lookup"><span data-stu-id="cb9b6-181">Frames and Scope</span></span>

<span data-ttu-id="cb9b6-182">Pętla węzłów XAML przeprowadzi strumień węzłów XAML w sposób liniowy.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-182">A XAML node loop walks through a XAML node stream in a linear way.</span></span> <span data-ttu-id="cb9b6-183">Strumień węzłów przechodzi do obiektów, do elementów członkowskich, które zawierają inne obiekty i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-183">The node stream traverses into objects, into members that contain other objects, and so on.</span></span> <span data-ttu-id="cb9b6-184">Często jest to przydatne do śledzenia zakresu, w ramach strumienia węzłów XAML implementując koncepcja ramki i stosu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-184">It is often useful to keep track of scope within the XAML node stream by implementing a frame and stack concept.</span></span> <span data-ttu-id="cb9b6-185">Jest to szczególnie istotne, jeśli są aktywnie Dostosowywanie strumień węzłów, są w nim.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-185">This is particularly true if you are actively adjusting the node stream while you are in it.</span></span> <span data-ttu-id="cb9b6-186">Ramki i stosu obsługi, można zaimplementować jako część logiki pętli węzła może liczyć `StartObject` (lub `GetObject`) i `EndObject` zakresów jako malejąca w strukturze węzłów XAML, jeśli struktura jest traktowane z punktu widzenia DOM w LICZBIE.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-186">The frame and stack support that you implement as part of your node loop logic could count `StartObject` (or `GetObject`) and `EndObject` scopes as you descend into a XAML node structure if the structure is thought of from a DOM perspective.</span></span>

<a name="traversing_and_entering_object_nodes"></a>

## <a name="traversing-and-entering-object-nodes"></a><span data-ttu-id="cb9b6-187">Przechodzenie przez i wprowadzając węzłów obiektowych</span><span class="sxs-lookup"><span data-stu-id="cb9b6-187">Traversing and Entering Object Nodes</span></span>

<span data-ttu-id="cb9b6-188">Pierwszego węzła w strumieniu węzła, gdy zostanie otwarta przez czytnik XAML jest węzeł obiektu rozpoczęcia obiektu głównego.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-188">The first node in a node stream when it is opened by a XAML reader is the start-object node of the root object.</span></span> <span data-ttu-id="cb9b6-189">Zgodnie z definicją ten obiekt jest zawsze pojedynczy obiekt węzła i zawiera nie elementów równorzędnych.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-189">By definition, this object is always a single object node and has no peers.</span></span> <span data-ttu-id="cb9b6-190">W przykładzie XAML żadnych rzeczywistych głównego obiektu jest zdefiniowana ma jedną lub więcej właściwości, które zawierają więcej obiektów, a te właściwości mają węzłach Członkowskich.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-190">In any real-world XAML example, the root object is defined to have one or more properties that hold more objects, and these properties have member nodes.</span></span> <span data-ttu-id="cb9b6-191">Węzłach Członkowskich mają co najmniej jeden węzeł obiektu lub też może przerwać w węźle wartości na zamiast tego.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-191">The member nodes then have one or more object nodes, or might also terminate in a value node instead.</span></span> <span data-ttu-id="cb9b6-192">Obiekt główny zwykle definiuje zakresy nazw XAML, który składniowo przypisanych jako atrybutów w znaczniku XAML tekstu, ale zamapować na `Namescope` typ węzła w reprezentacji strumienia węzłów XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-192">The root object typically defines XAML namescopes, which are syntactically assigned as attributes in the XAML text markup but map to a `Namescope` node type in the XAML node stream representation.</span></span>

<span data-ttu-id="cb9b6-193">Rozważmy następujący przykład XAML (jest to dowolnego XAML, nie są obsługiwane przez istniejące typy w programie .NET Framework).</span><span class="sxs-lookup"><span data-stu-id="cb9b6-193">Consider the following XAML example (this is arbitrary XAML, not backed by existing types in the .NET Framework).</span></span> <span data-ttu-id="cb9b6-194">Przyjęto założenie, że w tym modelu obiektu `FavorCollection` jest `List<T>` z `Favor`, `Balloon` i `NoiseMaker` są można przypisać do `Favor`, `Balloon.Color` właściwość jest wspierana przez `Color` obiektu, podobnie jak definiuje się WPF kolory jako nazw kolorów znane, i `Color` obsługuje konwertera typów dla składni atrybutów.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-194">Assume that in this object model, `FavorCollection` is `List<T>` of `Favor`, `Balloon` and `NoiseMaker` are assignable to `Favor`, the `Balloon.Color` property is backed by a `Color` object similar to how WPF defines colors as known color names, and `Color` supports a type converter for attribute syntax.</span></span>

|<span data-ttu-id="cb9b6-195">Kod znaczników w XAML</span><span class="sxs-lookup"><span data-stu-id="cb9b6-195">XAML markup</span></span>|<span data-ttu-id="cb9b6-196">Wynikowy strumień węzłów XAML</span><span class="sxs-lookup"><span data-stu-id="cb9b6-196">Resulting XAML node stream</span></span>|
|-----------------|--------------------------------|
|`<Party`|<span data-ttu-id="cb9b6-197">`Namespace` węzeł `Party`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-197">`Namespace` node for `Party`</span></span>|
|`xmlns="PartyXamlNamespace">`|<span data-ttu-id="cb9b6-198">`StartObject` węzeł `Party`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-198">`StartObject` node for `Party`</span></span>|
|`<Party.Favors>`|<span data-ttu-id="cb9b6-199">`StartMember` węzeł `Party.Favors`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-199">`StartMember` node for `Party.Favors`</span></span>|
||<span data-ttu-id="cb9b6-200">`StartObject` węzeł niejawne `FavorCollection`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-200">`StartObject` node for implicit `FavorCollection`</span></span>|
||<span data-ttu-id="cb9b6-201">`StartMember` węzeł niejawne `FavorCollection` elementów właściwości.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-201">`StartMember` node for implicit `FavorCollection` items property.</span></span>|
|`<Balloon`|<span data-ttu-id="cb9b6-202">`StartObject` węzeł `Balloon`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-202">`StartObject` node for `Balloon`</span></span>|
|`Color="Red"`|<span data-ttu-id="cb9b6-203">`StartMember` węzeł `Color`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-203">`StartMember` node for `Color`</span></span><br /><br /> <span data-ttu-id="cb9b6-204">`Value` węzeł ciągu wartości atrybutu `"Red"`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-204">`Value` node for the attribute value string `"Red"`</span></span><br /><br /> <span data-ttu-id="cb9b6-205">`EndMember` Aby uzyskać `Color`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-205">`EndMember` for `Color`</span></span>|
|`HasHelium="True"`|<span data-ttu-id="cb9b6-206">`StartMember` węzeł `HasHelium`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-206">`StartMember` node for `HasHelium`</span></span><br /><br /> <span data-ttu-id="cb9b6-207">`Value` węzeł ciągu wartości atrybutu `"True"`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-207">`Value` node for the attribute value string `"True"`</span></span><br /><br /> <span data-ttu-id="cb9b6-208">`EndMember` Aby uzyskać `HasHelium`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-208">`EndMember` for `HasHelium`</span></span>|
|`>`|<span data-ttu-id="cb9b6-209">`EndObject` Aby uzyskać `Balloon`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-209">`EndObject` for `Balloon`</span></span>|
|`<NoiseMaker>Loudest</NoiseMaker>`|<span data-ttu-id="cb9b6-210">`StartObject` węzeł `NoiseMaker`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-210">`StartObject` node for `NoiseMaker`</span></span><br /><br /> <span data-ttu-id="cb9b6-211">`StartMember` węzeł `_Initialization`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-211">`StartMember` node for `_Initialization`</span></span><br /><br /> <span data-ttu-id="cb9b6-212">`Value` węzeł wartość ciągu inicjującego `"Loudest"`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-212">`Value` node for the initialization value string `"Loudest"`</span></span><br /><br /> <span data-ttu-id="cb9b6-213">`EndMember` węzeł `_Initialization`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-213">`EndMember` node for `_Initialization`</span></span><br /><br /> <span data-ttu-id="cb9b6-214">`EndObject` Aby uzyskać `NoiseMaker`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-214">`EndObject` for `NoiseMaker`</span></span>|
||<span data-ttu-id="cb9b6-215">`EndMember` węzeł niejawne `FavorCollection` elementów właściwości.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-215">`EndMember` node for implicit `FavorCollection` items property.</span></span>|
||<span data-ttu-id="cb9b6-216">`EndObject` węzeł niejawne `FavorCollection`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-216">`EndObject` node for implicit `FavorCollection`</span></span>|
|`</Party.Favors>`|<span data-ttu-id="cb9b6-217">`EndMember` Aby uzyskać `Favors`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-217">`EndMember` for `Favors`</span></span>|
|`</Party>`|<span data-ttu-id="cb9b6-218">`EndObject` Aby uzyskać `Party`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-218">`EndObject` for `Party`</span></span>|

<span data-ttu-id="cb9b6-219">W strumień węzłów XAML możesz polegać na następujące zachowanie:</span><span class="sxs-lookup"><span data-stu-id="cb9b6-219">In the XAML node stream, you can rely on the following behavior:</span></span>

- <span data-ttu-id="cb9b6-220">Jeśli `Namespace` węzeł istnieje, jest ona dodawana do strumienia bezpośrednio przed `StartObject` zadeklarowany, przestrzeń nazw XAML z `xmlns`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-220">If a `Namespace` node exists, it is added to the stream immediately before the `StartObject` that declared the XAML namespace with `xmlns`.</span></span> <span data-ttu-id="cb9b6-221">Spójrz na poprzedniej tabeli za pomocą strumienia węzłów XAML i przykład ponownie.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-221">Look at the previous table with the XAML and example node stream again.</span></span> <span data-ttu-id="cb9b6-222">Zwróć uwagę sposób, w jaki `StartObject` i `Namespace` węzły wydają się być przekształcony w zależności od ich pozycji deklaracji w znacznikach tekstu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-222">Notice how the `StartObject` and `Namespace` nodes seem to be transposed versus their declaration positions in text markup.</span></span> <span data-ttu-id="cb9b6-223">To jest reprezentatywna zachowania, gdzie węzły przestrzeni nazw zawsze są wyświetlane przed węzłem odnoszą się do w strumieniu węzła.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-223">This is representative of the behavior where the namespace nodes always appear ahead of the node they apply to in the node stream.</span></span> <span data-ttu-id="cb9b6-224">Celem ten projekt jest, że informacje o przestrzeni nazw jest niezbędny do składników zapisywania obiektu i musi być znane, zanim obiekt składnika zapisywania próby wykonania typu mapowanie lub w inny sposób przetwarzania obiektu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-224">The purpose of this design is that the namespace information is vital to object writers and must be known before the object writer attempts to perform type mapping or otherwise process the object.</span></span> <span data-ttu-id="cb9b6-225">Wprowadzenie do informacji dotyczących przestrzeni nazw XAML przed jego zakres aplikacji w strumieniu upraszcza zawsze przetwarzać strumień węzłów w ich kolejność prezentowanych.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-225">Placing the XAML namespace information ahead of its application scope in the stream makes it simpler to always process the node stream in its presented order.</span></span>

- <span data-ttu-id="cb9b6-226">Ze względu na powyższe rozpatrywaniu ma jeden lub więcej `Namespace` węzły, które można odczytać najpierw w większości przypadków znacznikach rzeczywistych podczas przechodzenia między węzłami od samego początku nie `StartObject` katalogu głównego.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-226">Because of the above consideration, it is one or more `Namespace` nodes that you read first in most real-world markup cases when traversing nodes from the start, not the `StartObject` of the root.</span></span>

- <span data-ttu-id="cb9b6-227">A `StartObject` węzła może następować `StartMember`, `Value`, natychmiastowych `EndObject`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-227">A `StartObject` node can be followed by `StartMember`, `Value`, or an immediate `EndObject`.</span></span> <span data-ttu-id="cb9b6-228">Nigdy nie następuje natychmiast innego `StartObject`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-228">It is never followed immediately by another `StartObject`.</span></span>

- <span data-ttu-id="cb9b6-229">A `StartMember` może następować `StartObject`, `Value`, natychmiastowych `EndMember`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-229">A `StartMember` can be followed by a `StartObject`, `Value`, or an immediate `EndMember`.</span></span> <span data-ttu-id="cb9b6-230">Może występować przez `GetObject`, dla elementów członkowskich, gdzie wartość powinien pochodzić z istniejącej wartości obiektu nadrzędnego, zamiast `StartObject` , jakbyś tworzył nową wartość.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-230">It can be followed by `GetObject`, for members where the value is supposed to come from an existing value of the parent object rather than a `StartObject` that would instantiate a new value.</span></span> <span data-ttu-id="cb9b6-231">Może również występować przez `Namespace` węzła, który ma zastosowanie do przyszłych `StartObject`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-231">It can also be followed by a `Namespace` node, which applies to an upcoming `StartObject`.</span></span> <span data-ttu-id="cb9b6-232">Nigdy nie następuje natychmiast innego `StartMember`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-232">It is never followed immediately by another `StartMember`.</span></span>

- <span data-ttu-id="cb9b6-233">A `Value` węzeł reprezentuje sama wartość; nie ma żadnych "wartość końcowa panelu".</span><span class="sxs-lookup"><span data-stu-id="cb9b6-233">A `Value` node represents the value itself; there is no "EndValue".</span></span> <span data-ttu-id="cb9b6-234">Może być stosowana tylko przez `EndMember`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-234">It can be followed only by an `EndMember`.</span></span>

    - <span data-ttu-id="cb9b6-235">XAML tekst inicjowanie obiektu może być używany przez konstrukcja nie powoduje w strukturze wartość obiektu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-235">XAML initialization text of the object as might be used by construction does not result in an Object-Value structure.</span></span> <span data-ttu-id="cb9b6-236">Zamiast tego węzła dedykowanych składowej dla elementu członkowskiego o nazwie `_Initialization` zostanie utworzony.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-236">Instead, a dedicated member node for a member named `_Initialization` is created.</span></span> <span data-ttu-id="cb9b6-237">a ten węzeł elementu członkowskiego zawiera wartość ciągu inicjującego.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-237">and that member node contains the initialization value string.</span></span> <span data-ttu-id="cb9b6-238">Jeśli istnieje, `_Initialization` zawsze jest to pierwszy `StartMember`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-238">If it exists, `_Initialization` is always the first `StartMember`.</span></span> <span data-ttu-id="cb9b6-239">`_Initialization` może być kwalifikowana w niektórych reprezentacje usług XAML z namescope XAML języka XAML, które informuje, że `_Initialization` nie jest zdefiniowany właściwością przy tworzeniu kopii typów.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-239">`_Initialization` may be qualified in some XAML services representations with the XAML language XAML namescope, to clarify that `_Initialization` is not a defined property in backing types.</span></span>

    - <span data-ttu-id="cb9b6-240">Kombinacja wartość elementu członkowskiego reprezentuje ustawienia wartości atrybutów.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-240">A Member-Value combination represents an attribute setting of the value.</span></span> <span data-ttu-id="cb9b6-241">Po pewnym czasie prawdopodobnie istnieje konwerter wartości związane z przetwarzaniem tę wartość, a wartość to zwykły ciąg znaków.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-241">There might eventually be a value converter involved in processing this value, and the value is a plain string.</span></span> <span data-ttu-id="cb9b6-242">Jednakże, nie jest oceniany, dopóki zapisywania obiektu XAML przetwarza strumień tego węzła.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-242">However, that is not evaluated until a XAML object writer processes this node stream.</span></span> <span data-ttu-id="cb9b6-243">Moduł zapisywania obiektów XAML ma niezbędne kontekst schematu XAML, mapowania systemu typów i innych pomocy technicznej potrzebnych do konwersji wartości.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-243">The XAML object writer possesses the necessary XAML schema context, type system mapping, and other support needed for value conversions.</span></span>

- <span data-ttu-id="cb9b6-244">`EndMember` Węzła może następować `StartMember` węzła dla kolejnych elementów członkowskich lub przez `EndObject` węzła właściciela elementu członkowskiego.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-244">An `EndMember` node can be followed by a `StartMember` node for a subsequent member, or by an `EndObject` node for the member owner.</span></span>

- <span data-ttu-id="cb9b6-245">`EndObject` Węzła może następować `EndMember` węzła.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-245">An `EndObject` node can be followed by an `EndMember` node.</span></span> <span data-ttu-id="cb9b6-246">Może również występować przez `StartObject` węzła w przypadkach, w których obiekty są elementami równorzędnymi, w kolekcji elementów.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-246">It can also be followed by a `StartObject` node for cases where the objects are peers in a collection's items.</span></span> <span data-ttu-id="cb9b6-247">Lub może być stosowana przez `Namespace` węzła, który ma zastosowanie do przyszłych `StartObject`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-247">Or it can be followed by a `Namespace` node, which applies to an upcoming `StartObject`.</span></span>

    - <span data-ttu-id="cb9b6-248">Przypadku unikatowy zamykać strumień cały węzeł `EndObject` z katalogu głównego nie następuje niczego; czytnik jest teraz końca pliku i <xref:System.Xaml.XamlReader.Read%2A> zwraca `false`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-248">For the unique case of closing the entire node stream, the `EndObject` of the root is not followed by anything; the reader is now end-of-file, and <xref:System.Xaml.XamlReader.Read%2A> returns `false`.</span></span>

<a name="value_converters_and_the_xaml_node_stream"></a>

## <a name="value-converters-and-the-xaml-node-stream"></a><span data-ttu-id="cb9b6-249">Konwertery wartości i Stream węzłów XAML</span><span class="sxs-lookup"><span data-stu-id="cb9b6-249">Value Converters and the XAML Node Stream</span></span>

<span data-ttu-id="cb9b6-250">Konwerter wartości jest ogólnym terminem dla rozszerzenia znaczników, konwertera typów (w tym serializatory wartość) lub inny dedykowany klasy, która jest zgłaszana jako konwertera wartości w systemie typu XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-250">A value converter is a general term for a markup extension, a type converter (including value serializers) or another dedicated class that is reported as a value converter through the XAML type system.</span></span> <span data-ttu-id="cb9b6-251">W strumieniu węzłów XAML użycia konwertera typu i użycie rozszerzenia znaczników mają bardzo różne reprezentacje.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-251">In the XAML node stream, a type converter usage and a markup extension usage have very different representations.</span></span>

### <a name="type-converters-in-the-xaml-node-stream"></a><span data-ttu-id="cb9b6-252">Typy konwerterów w Stream węzłów XAML</span><span class="sxs-lookup"><span data-stu-id="cb9b6-252">Type Converters in the XAML Node Stream</span></span>

<span data-ttu-id="cb9b6-253">Atrybut ustawiony na tym, że ostatecznie wyniki użycia konwertera typu jest zgłaszana w strumień węzłów XAML jako wartość elementu członkowskiego.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-253">An attribute set that eventually results in a type converter usage is reported in the XAML node stream as a value of a member.</span></span> <span data-ttu-id="cb9b6-254">Strumień węzłów XAML nie próbuje utworzyć obiekt typu konwertera wystąpienia i przekaż wartość do niego.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-254">The XAML node stream does not attempt to produce a type converter instance object and pass the value to it.</span></span> <span data-ttu-id="cb9b6-255">Przy użyciu konwertera typów konwersji implementacji wymaga wywołania kontekst schematu XAML i używać go do mapowania typów.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-255">Using a type converter's conversion implementation requires invoking the XAML schema context and using it for type-mapping.</span></span> <span data-ttu-id="cb9b6-256">Nawet określanie, której typ klasy konwertera powinien być używany do przetwarzania wartość pośredni wymaga kontekst schematu XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-256">Even determining which type converter class should be used to process the value requires the XAML schema context indirectly.</span></span> <span data-ttu-id="cb9b6-257">Gdy używany jest domyślny kontekst schematu XAML, te informacje są dostępne w systemie typu XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-257">When you use the default XAML schema context, that information is available from the XAML type system.</span></span> <span data-ttu-id="cb9b6-258">Jeśli potrzebujesz informacji o klasie konwertera typu na poziomie strumienia węzłów XAML przed połączenie Edytor XAML, możesz uzyskać je od <xref:System.Xaml.XamlMember> informacji jest zestaw elementów członkowskich.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-258">If you need the type converter class information at the XAML node stream level before connection to a XAML writer, you can obtain it from the <xref:System.Xaml.XamlMember> information of the member being set.</span></span> <span data-ttu-id="cb9b6-259">Ale w przeciwnym razie dane wejściowe konwertera typu powinny zostać zachowane w strumień węzłów XAML jako zwykły wartość aż do końca operacji wymagających system mapowanie typu i kontekst schematu XAML są wykonywane, na przykład tworzenia obiektu przez XAML obiekt składnika zapisywania.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-259">But otherwise, type converter input should be preserved in the XAML node stream as a plain value until the remainder of operations that require the type mapping system and XAML schema context are performed, for example the object creation by a XAML object writer.</span></span>

<span data-ttu-id="cb9b6-260">Na przykład należy wziąć pod uwagę następujące konspektu definicji klasy i użycie XAML dla niego:</span><span class="sxs-lookup"><span data-stu-id="cb9b6-260">For example, consider the following class definition outline and XAML usage for it:</span></span>

```csharp
public class BoardSizeConverter : TypeConverter {
  //converts from string to an int[2] by splitting on an "x" char
}
public class GameBoard {
  [TypeConverter(typeof(BoardSizeConverter))]
  public int[] BoardSize; //2x2 array, initialization not shown
}
```

```xaml
<GameBoard BoardSize="8x8"/>
```

<span data-ttu-id="cb9b6-261">Tekstowa reprezentacja strumień węzłów XAML dla tego użycia może być wyrażona jako następujące:</span><span class="sxs-lookup"><span data-stu-id="cb9b6-261">A text representation of the XAML node stream for this usage could be expressed as the following:</span></span>

<span data-ttu-id="cb9b6-262">`StartObject` za pomocą <xref:System.Xaml.XamlType> reprezentujący `GameBoard`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-262">`StartObject` with <xref:System.Xaml.XamlType> representing `GameBoard`</span></span>

<span data-ttu-id="cb9b6-263">`StartMember` za pomocą <xref:System.Xaml.XamlMember> reprezentujący `BoardSize`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-263">`StartMember` with <xref:System.Xaml.XamlMember> representing `BoardSize`</span></span>

<span data-ttu-id="cb9b6-264">`Value` węzeł, z ciągu tekstowego "`8x8`"</span><span class="sxs-lookup"><span data-stu-id="cb9b6-264">`Value` node, with text string "`8x8`"</span></span>

<span data-ttu-id="cb9b6-265">`EndMember` Dopasowania `BoardSize`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-265">`EndMember` matches `BoardSize`</span></span>

<span data-ttu-id="cb9b6-266">`EndObject` Dopasowania `GameBoard`</span><span class="sxs-lookup"><span data-stu-id="cb9b6-266">`EndObject` matches `GameBoard`</span></span>

<span data-ttu-id="cb9b6-267">Zauważ, że istnieje żadne wystąpienie konwertera typu w strumieniu tego węzła.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-267">Notice that there is no type converter instance in this node stream.</span></span> <span data-ttu-id="cb9b6-268">Ale możesz uzyskać informacje o typie konwerter przez wywołanie metody <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> na <xref:System.Xaml.XamlMember> dla `BoardSize`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-268">But you can get type converter information by calling <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> on the <xref:System.Xaml.XamlMember> for `BoardSize`.</span></span> <span data-ttu-id="cb9b6-269">Jeśli masz prawidłowy kontekst schematu XAML, można także wywoływać metody konwerter, uzyskując wystąpienie z <xref:System.Xaml.Schema.XamlValueConverter%601.ConverterInstance%2A>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-269">If you have a valid XAML schema context, you can also invoke the converter methods by obtaining an instance from <xref:System.Xaml.Schema.XamlValueConverter%601.ConverterInstance%2A>.</span></span>

### <a name="markup-extensions-in-the-xaml-node-stream"></a><span data-ttu-id="cb9b6-270">Rozszerzenia znaczników w XAML Stream węzła</span><span class="sxs-lookup"><span data-stu-id="cb9b6-270">Markup Extensions in the XAML Node Stream</span></span>

<span data-ttu-id="cb9b6-271">Użycie rozszerzenia znaczników jest zgłaszany w strumień węzłów XAML jako węzeł obiektu elementu członkowskiego, w którym obiekt reprezentuje wystąpienie rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-271">A markup extension usage is reported in the XAML node stream as an object node within a member, where the object represents a markup extension instance.</span></span> <span data-ttu-id="cb9b6-272">Związku z tym to użycia rozszerzenia znaczników jest przedstawiony bardziej jawny sposób w reprezentacji strumienia węzłów niż użycia konwertera typu to a niesie ze sobą więcej informacji.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-272">Thus a markup extension usage is presented more explicitly in the node stream representation than a type converter usage is, and carries more information.</span></span> <span data-ttu-id="cb9b6-273"><xref:System.Xaml.XamlMember> informacji może nie mieć informację, możesz niczego o rozszerzenie znaczników ponieważ użycie jest sytuacyjnej i różni się w każdym przypadku znaczników możliwe; nie jest dedykowany i niejawne dla typu lub elementu członkowskiego jak w przypadku konwerterów typów.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-273"><xref:System.Xaml.XamlMember> information could not have told you anything about the markup extension, because the usage is situational and varies in each possible markup case; it is not dedicated and implicit per type or member as is the case with type converters.</span></span>

<span data-ttu-id="cb9b6-274">Reprezentacja strumienia węzła Rozszerzenia znaczników jako węzły obiektów jest przypadek, nawet wtedy, gdy użycie rozszerzenia znaczników została wprowadzona w formie atrybutu w znaczniku tekst XAML (co ma często miejsce).</span><span class="sxs-lookup"><span data-stu-id="cb9b6-274">The node stream representation of markup extensions as object nodes is the case even if the markup extension usage was made in attribute form in the XAML text markup (which is often the case).</span></span> <span data-ttu-id="cb9b6-275">Użycia rozszerzenia znaczników, używane w formularzu elementów obiektu jawne, są traktowane tak samo.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-275">Markup extension usages that used an explicit object element form are treated the same way.</span></span>

<span data-ttu-id="cb9b6-276">W węźle obiektu rozszerzenia znaczników może być członkami tego rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-276">Within a markup extension object node, there may be members of that markup extension.</span></span> <span data-ttu-id="cb9b6-277">Reprezentacja strumienia węzłów XAML zachowuje użycie tego rozszerzenia znaczników, czy użycie parametr pozycyjne czy użycia za pomocą jawnego nazwanych parametrów.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-277">The XAML node stream representation preserves the usage of that markup extension, whether that be a positional parameter usage or a usage with explicit named parameters.</span></span>

<span data-ttu-id="cb9b6-278">Użycie parametr pozycyjne strumień węzłów XAML zawiera właściwość zdefiniowanym przez język XAML `_PositionalParameters` zawierające rekordy użycia.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-278">For a positional parameter usage, the XAML node stream contains a XAML language-defined property `_PositionalParameters` that records the usage.</span></span> <span data-ttu-id="cb9b6-279">Ta właściwość jest ogólny <xref:System.Collections.Generic.List%601> z <xref:System.Object> ograniczenia.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-279">This property is a generic <xref:System.Collections.Generic.List%601> with <xref:System.Object> constraint.</span></span> <span data-ttu-id="cb9b6-280">Ograniczenie jest obiekt i nie ciągu, ponieważ wielkiego użycia parametr pozycyjne może zawierać użycia rozszerzenia znaczników zagnieżdżony w nim.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-280">The constraint is object and not string because conceivably a positional parameter usage could contain nested markup extension usages within it.</span></span> <span data-ttu-id="cb9b6-281">Dostęp do parametry pozycyjne z użycia, możesz iteracji przez listę i użyj indeksatorów dla poszczególnych wartości.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-281">To access the positional parameters from the usage, you could iterate through the list and use the indexers for individual list values.</span></span>

<span data-ttu-id="cb9b6-282">Użycie nazwany parametr każdy nazwany parametr jest reprezentowany jako węzeł element członkowski o takiej nazwie w strumieniu węzła.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-282">For a named parameter usage, each named parameter is represented as a member node of that name in the node stream.</span></span> <span data-ttu-id="cb9b6-283">Wartości elementów członkowskich niekoniecznie ciągów, ponieważ może to być to użycia rozszerzenia znaczników zagnieżdżonych.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-283">The member values are not necessarily strings, because there could be a nested markup extension usage.</span></span>

<span data-ttu-id="cb9b6-284">`ProvideValue` z kodu znaczników rozszerzenie nie jest jeszcze wywoływany.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-284">`ProvideValue` from the markup extension is not yet invoked.</span></span> <span data-ttu-id="cb9b6-285">Jednak jest wywoływana, jeśli łączysz się XAML odczytywania i zapisywania XAML, aby `WriteEndObject` jest wywoływana w węźle rozszerzenia znaczników podczas badania w usłudze stream węzła.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-285">However, it is invoked if you connect a XAML reader and XAML writer so that `WriteEndObject` is invoked on the markup extension node when you examine it in the node stream.</span></span> <span data-ttu-id="cb9b6-286">Z tego powodu konieczne są zazwyczaj ten sam kontekst schematu XAML dostępne zostałyby użyte w celu utworzenia wykresu obiektu na ścieżce obciążenia.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-286">For this reason, you generally need the same XAML schema context available as would be used in order to form the object graph on the load path.</span></span> <span data-ttu-id="cb9b6-287">W przeciwnym razie `ProvideValue` z marżę rozszerzenia mogą zgłosić wyjątek, ponieważ nie ma oczekiwanego dostępne usługi.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-287">Otherwise, `ProvideValue` from any markup extension can throw exceptions here, because it does not have expected services available.</span></span>

<a name="xaml_and_xml_languagedefined_members_in_the_xaml_node_stream"></a>

## <a name="xaml-and-xml-language-defined-members-in-the-xaml-node-stream"></a><span data-ttu-id="cb9b6-288">XAML i XML zdefiniowanym przez język elementów członkowskich w Stream węzłów XAML</span><span class="sxs-lookup"><span data-stu-id="cb9b6-288">XAML and XML Language-Defined Members in the XAML Node Stream</span></span>

<span data-ttu-id="cb9b6-289">Niektóre elementy członkowskie są wprowadzane do strumienia węzłów XAML z powodu interpretacje i konwencje czytnik XAML zamiast za pomocą jawnego <xref:System.Xaml.XamlMember> wyszukiwania lub konstrukcji.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-289">Certain members are introduced to a XAML node stream because of interpretations and conventions of a XAML reader, instead of through an explicit <xref:System.Xaml.XamlMember> lookup or construction.</span></span> <span data-ttu-id="cb9b6-290">Często te elementy członkowskie są dyrektywami XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-290">Often, these members are XAML directives.</span></span> <span data-ttu-id="cb9b6-291">W niektórych przypadkach jest act, odczytywania, XAML, która wprowadza dyrektywy do strumienia węzłów XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-291">In some cases, it is the act of reading the XAML that introduces the directive into the XAML node stream.</span></span> <span data-ttu-id="cb9b6-292">Innymi słowy oryginalnym wprowadź tekst XAML nie określone jawnie member, dyrektywa, ale czytnik XAML wstawia dyrektywy, aby spełnić wymagania strukturalne XAML Konwencji i przekazuje informacje w strumień węzłów XAML, zanim te informacje zostaną utracone.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-292">In other words, the original input XAML text did not explicitly specify the member directive, but the XAML reader inserts the directive in order to satisfy a structural XAML convention and report information in the XAML node stream before that information is lost.</span></span>

<span data-ttu-id="cb9b6-293">Poniższe listy informacje o wszystkich przypadkach, gdzie czytnik XAML jest oczekiwana wprowadzenie dyrektywy węzeł składowej XAML i sposób identyfikacji tego węzła elementu członkowskiego we wdrożeniach usług programu .NET Framework XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-293">The following list notes all cases where a XAML reader is expected to introduce a directive XAML member node, and how that member node is identified in the .NET Framework XAML Services implementations.</span></span>

- <span data-ttu-id="cb9b6-294">**Tekst inicjowania węzeł obiektu:** Nazwa tego węzła elementu członkowskiego jest `_Initialization`reprezentuje dyrektywa XAML i jest on zdefiniowany w przestrzeni nazw XAML dla języka XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-294">**Initialization text for an object node:** The name of this member node is `_Initialization`, it represents a XAML directive, and it is defined in the XAML language XAML namespace.</span></span> <span data-ttu-id="cb9b6-295">Możesz też uzyskać statyczne jednostki z <xref:System.Xaml.XamlLanguage.Initialization%2A>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-295">You can get a static entity for it from <xref:System.Xaml.XamlLanguage.Initialization%2A>.</span></span>

- <span data-ttu-id="cb9b6-296">**Parametry pozycyjne rozszerzenia znaczników:** Nazwa tego węzła elementu członkowskiego jest `_PositionalParameters`, i jest on zdefiniowany w przestrzeni nazw XAML dla języka XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-296">**Positional parameters for a markup extension:** The name of this member node is `_PositionalParameters`, and it is defined in the XAML language XAML namespace.</span></span> <span data-ttu-id="cb9b6-297">Zawsze zawiera listy ogólnej obiektów, z których każdy jest parametr pozycyjne wstępnie rozdzielone dzielenie na `,` znak ogranicznika, ponieważ podana w danych wejściowych XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-297">It always contains a generic list of objects, each of which is a positional parameter pre-separated by splitting on the `,` delimiter character as supplied in the input XAML.</span></span> <span data-ttu-id="cb9b6-298">Możesz też uzyskać statyczne jednostki dyrektywy parametry pozycyjne z <xref:System.Xaml.XamlLanguage.PositionalParameters%2A>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-298">You can get a static entity for the positional parameters directive from <xref:System.Xaml.XamlLanguage.PositionalParameters%2A>.</span></span>

- <span data-ttu-id="cb9b6-299">**Nieznany zawartość:** Nazwa tego węzła elementu członkowskiego jest `_UnknownContent`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-299">**Unknown content:** The name of this member node is `_UnknownContent`.</span></span> <span data-ttu-id="cb9b6-300">Ściśle rzecz ujmując, jest <xref:System.Xaml.XamlDirective>, i jest on zdefiniowany w przestrzeni nazw XAML dla języka XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-300">Strictly speaking, it is a <xref:System.Xaml.XamlDirective>, and it is defined in the XAML language XAML namespace.</span></span> <span data-ttu-id="cb9b6-301">Ta dyrektywa służy jako wskaźnikowych w przypadkach, gdy XAML object element zawiera zawartość w źródle, XAML, ale żadnej zawartości właściwości można określić w ramach aktualnie dostępne kontekst schematu XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-301">This directive is used as a sentinel for cases where a XAML object element contains content in the source XAML but no content property can be determined under the currently available XAML schema context.</span></span> <span data-ttu-id="cb9b6-302">Można wykryć tego przypadku w strumień węzłów XAML przez sprawdzenie, czy elementy członkowskie o nazwie `_UnknownContent`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-302">You can detect this case in a XAML node stream by checking for members named `_UnknownContent`.</span></span> <span data-ttu-id="cb9b6-303">Jeśli żadna inna akcja nie zostaną podjęte w postaci strumienia węzłów XAML ścieżki obciążenia o domyślnie <xref:System.Xaml.XamlObjectWriter> zgłoszenie próba `WriteEndObject` po napotkaniu `_UnknownContent` Członkowskie dowolnego obiektu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-303">If no other action is taken in a load path XAML node stream, the default <xref:System.Xaml.XamlObjectWriter> throws on attempted `WriteEndObject` when it encounters the `_UnknownContent` member on any object.</span></span> <span data-ttu-id="cb9b6-304">Wartość domyślna <xref:System.Xaml.XamlXmlWriter> nie generuje i traktuje elementu członkowskiego jako niejawne.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-304">The default <xref:System.Xaml.XamlXmlWriter> does not throw, and treats the member as implicit.</span></span> <span data-ttu-id="cb9b6-305">Możesz uzyskać statyczne jednostki dla `_UnknownContent` z <xref:System.Xaml.XamlLanguage.UnknownContent%2A>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-305">You can get a static entity for `_UnknownContent` from <xref:System.Xaml.XamlLanguage.UnknownContent%2A>.</span></span>

- <span data-ttu-id="cb9b6-306">**Właściwość kolekcji kolekcji:** Mimo że zapasowy typ CLR klasy kolekcji, która jest zwykle używany dla XAML ma dedykowany nazwane właściwości, który zawiera elementy kolekcji, tej właściwości jest nieznany w systemie typu XAML przed wykonaniem kopii rozpoznawanie typu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-306">**Collection property of a collection:** Although the backing CLR type of a collection class that is used for XAML usually has a dedicated named property that holds the collection items, that property is not known to a XAML type system prior to backing type resolution.</span></span> <span data-ttu-id="cb9b6-307">Zamiast tego strumienia węzłów XAML wprowadzono `Items` symbol zastępczy jest członkiem kolekcji typu XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-307">Instead, the XAML node stream introduces an `Items` placeholder as a member of the collection XAML type.</span></span> <span data-ttu-id="cb9b6-308">W implementacji .NET Framework XAML Services nazwę tej dyrektywy / element członkowski w strumieniu węzła jest `_Items`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-308">In the .NET Framework XAML Services implementation the name of this directive / member in the node stream is `_Items`.</span></span> <span data-ttu-id="cb9b6-309">Stała tym dyrektywy można uzyskać z <xref:System.Xaml.XamlLanguage.Items%2A>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-309">A constant for this directive can be obtained from <xref:System.Xaml.XamlLanguage.Items%2A>.</span></span>

    <span data-ttu-id="cb9b6-310">Należy pamiętać, że strumień węzłów XAML może zawierać elementy slajdu elementy, które okazały się nie można przeanalizować na podstawie zapasowego typu rozwiązania i kontekst schematu XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-310">Note that a XAML node stream might contain an Items property with items that turn out to not be parsable based on the backing type resolution and XAML schema context.</span></span> <span data-ttu-id="cb9b6-311">Na przykład</span><span class="sxs-lookup"><span data-stu-id="cb9b6-311">For example,</span></span>

- <span data-ttu-id="cb9b6-312">**Elementy członkowskie zdefiniowane XML:** Definicja XML `xml:base`, `xml:lang` i `xml:space` elementy członkowskie są zgłaszane jako XAML dyrektywy o nazwie `base`, `lang`, i `space` we wdrożeniach usług programu .NET Framework XAML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-312">**XML-defined members:** The XML-defined `xml:base`, `xml:lang` and `xml:space` members are reported as XAML directives named `base`, `lang`, and `space` in the .NET Framework XAML Services implementations.</span></span> <span data-ttu-id="cb9b6-313">Przestrzeń nazw dla tych jest przestrzeń nazw XML `http://www.w3.org/XML/1998/namespace`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-313">The namespace for these is the XML namespace `http://www.w3.org/XML/1998/namespace`.</span></span> <span data-ttu-id="cb9b6-314">Stałe dla każdego z nich można uzyskać z <xref:System.Xaml.XamlLanguage>.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-314">Constants for each of these can be obtained from <xref:System.Xaml.XamlLanguage>.</span></span>

## <a name="node-order"></a><span data-ttu-id="cb9b6-315">Kolejność węzłów</span><span class="sxs-lookup"><span data-stu-id="cb9b6-315">Node Order</span></span>

<span data-ttu-id="cb9b6-316">W niektórych przypadkach <xref:System.Xaml.XamlXmlReader> zmienia kolejność węzłów XAML w strumień węzłów XAML, a kolejność węzłów wyświetlane w znaczniku, lub jeśli przetwarzane jako XML.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-316">In some cases, <xref:System.Xaml.XamlXmlReader> changes the order of XAML nodes in the XAML node stream, versus the order the nodes appear if viewed in the markup or if processed as XML.</span></span> <span data-ttu-id="cb9b6-317">W ten sposób można kolejność węzłów tak, aby <xref:System.Xaml.XamlObjectWriter> może przetwarzać strumień węzłów w sposób tylko do przodu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-317">This is done in order to order the nodes such that a <xref:System.Xaml.XamlObjectWriter> can process the node stream in a forward-only manner.</span></span>  <span data-ttu-id="cb9b6-318">W programie .NET Framework XAML Services czytnika XAML zmienia kolejność węzłów, a nie pozostawiając tego zadania w składniku zapisywania XAML, jak zoptymalizować wydajność XAML obiekt składnika zapisywania konsumentów strumień węzłów.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-318">In .NET Framework XAML Services, the XAML reader reorders nodes rather than leaving this task to the XAML writer, as a performance optimization for XAML object writer consumers of the node stream.</span></span>

<span data-ttu-id="cb9b6-319">Niektóre dyrektywy są przeznaczone specjalnie w celu zapewnienia dodatkowe informacje dotyczące tworzenia obiektu z elementu obiektu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-319">Certain directives are intended specifically to provide more information for the creation of an object from an object element.</span></span> <span data-ttu-id="cb9b6-320">Te dyrektywy są: `Initialization`, `PositionalParameters`, `TypeArguments`, `FactoryMethod`, `Arguments`.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-320">These directives are: `Initialization`, `PositionalParameters`, `TypeArguments`, `FactoryMethod`, `Arguments`.</span></span> <span data-ttu-id="cb9b6-321">Czytelnicy XAML Services programu .NET Framework XAML próbować umieścić te dyrektywy jako pierwsze elementy członkowskie w strumieniu węzła następującego obiektu `StartObject`, przyczyn, które są opisane w następnej sekcji.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-321">The .NET Framework XAML Services XAML readers attempt to place these directives as the first members in the node stream following an object's `StartObject`, for reasons that are explained in the next section.</span></span>

### <a name="xamlobjectwriter-behavior-and-node-order"></a><span data-ttu-id="cb9b6-322">Zachowanie XamlObjectWriter i kolejność węzłów</span><span class="sxs-lookup"><span data-stu-id="cb9b6-322">XamlObjectWriter Behavior and Node Order</span></span>

<span data-ttu-id="cb9b6-323">`StartObject` Aby <xref:System.Xaml.XamlObjectWriter> niekoniecznie jest sygnał do modułu zapisywania obiektu XAML bezpośrednio utworzyć wystąpienie obiektu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-323">`StartObject` to a <xref:System.Xaml.XamlObjectWriter> is not necessarily a signal to the XAML object writer to immediately construct the object instance.</span></span> <span data-ttu-id="cb9b6-324">XAML udostępnia kilka funkcji języka, które umożliwiają programowi na można zainicjować obiektu przy użyciu dodatkowych danych wejściowych i nie zależą od całkowicie wywoływania konstruktora domyślnego, aby wygenerować początkowego obiektu, a dopiero potem Ustawianie właściwości.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-324">XAML includes several language features that make it possible to initialize an object with additional input, and to not rely entirely on invoking a default constructor to produce the initial object, and only then setting properties.</span></span> <span data-ttu-id="cb9b6-325">Te funkcje obejmują: <xref:System.Windows.Markup.XamlDeferLoadAttribute>; inicjowania tekstu. [x: typearguments —](x-typearguments-directive.md); pozycyjnych parametrów rozszerzenia znaczników; metodach fabryki i skojarzone [x: Arguments](x-arguments-directive.md) węzłów (XAML 2009).</span><span class="sxs-lookup"><span data-stu-id="cb9b6-325">These features include: <xref:System.Windows.Markup.XamlDeferLoadAttribute>; initialization text; [x:TypeArguments](x-typearguments-directive.md); positional parameters of a markup extension; factory methods and associated [x:Arguments](x-arguments-directive.md) nodes (XAML 2009).</span></span> <span data-ttu-id="cb9b6-326">Każda z tych przypadków opóźnienie konstruowania rzeczywistego obiektu, a ponieważ strumień węzłów kolejność została zmieniona, modułu zapisywania obiektu XAML może polegać na zachowanie faktycznie konstruowanie wystąpienie, zawsze wtedy, gdy członek start zostanie osiągnięty, który nie jest specjalnie konstrukcji dyrektywa dla tego typu obiektu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-326">Each of these cases delay the actual object construction, and because the node stream is reordered, the XAML object writer can rely on a behavior of actually constructing the instance whenever a start member is encountered that is not specifically a construction directive for that object type.</span></span>

### <a name="getobject"></a><span data-ttu-id="cb9b6-327">GetObject</span><span class="sxs-lookup"><span data-stu-id="cb9b6-327">GetObject</span></span>

<span data-ttu-id="cb9b6-328">`GetObject` reprezentuje węzeł XAML, gdzie zamiast tworzenia nowego obiektu, Edytor XAML obiekt powinien zamiast tego uzyskać wartość zawierającą je właściwość obiektu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-328">`GetObject` represents a XAML node where rather than constructing a new object, a XAML object writer should instead get the value of the object's containing property.</span></span> <span data-ttu-id="cb9b6-329">Typowy przypadek gdzie `GetObject` napotkaniu węzeł w węźle XAML strumień jest dla obiektu kolekcji lub obiekt słownika podczas zawierającą je właściwość jest celowo tylko do odczytu w zapasowy typ obiektu modelu.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-329">A typical  case where a `GetObject` node is encountered in a XAML node stream is for a collection object or a dictionary object, when the containing property is deliberately read-only in the backing type's object model.</span></span> <span data-ttu-id="cb9b6-330">W tym scenariuszu, kolekcji lub słownika często jest tworzony i inicjowany (zazwyczaj jest to puste) elementowi logiki inicjowania typu, będącego właścicielem.</span><span class="sxs-lookup"><span data-stu-id="cb9b6-330">In this scenario, the collection or dictionary often is created and initialized (usually empty) by the initialization logic of an owning type.</span></span>

## <a name="see-also"></a><span data-ttu-id="cb9b6-331">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="cb9b6-331">See also</span></span>

- <xref:System.Xaml.XamlObjectReader>
- [<span data-ttu-id="cb9b6-332">Usługi XAML</span><span class="sxs-lookup"><span data-stu-id="cb9b6-332">XAML Services</span></span>](index.md)
- [<span data-ttu-id="cb9b6-333">Przestrzeń nazw XAML</span><span class="sxs-lookup"><span data-stu-id="cb9b6-333">XAML Namespaces</span></span>](xaml-namespaces-for-net-framework-xaml-services.md)
