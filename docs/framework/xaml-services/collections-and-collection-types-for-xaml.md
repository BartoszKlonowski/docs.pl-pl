---
title: Kolekcje i typy kolekcji dla XAML
ms.date: 03/30/2017
ms.assetid: 58f8e7c6-9a41-4f25-8551-c042f1315baa
ms.openlocfilehash: 4123b64545f7c47a96c4cae496046a89b7e576b0
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/23/2019
ms.locfileid: "61954183"
---
# <a name="collections-and-collection-types-for-xaml"></a><span data-ttu-id="72f1d-102">Kolekcje i typy kolekcji dla XAML</span><span class="sxs-lookup"><span data-stu-id="72f1d-102">Collections and Collection Types for XAML</span></span>

<span data-ttu-id="72f1d-103">W tym temacie opisano sposób definiowania właściwości typów, które są przeznaczone do obsługi kolekcji oraz zapewnić obsługę składnia XAML podczas tworzenia wystąpienia elementów kolekcji jako elementy podrzędne elementu obiektu nadrzędnego lub element właściwości.</span><span class="sxs-lookup"><span data-stu-id="72f1d-103">This topic describes how to define properties of types that are intended to support a collection, and to support the XAML syntax for instantiating collection items as element children of a parent object element or property element.</span></span>

## <a name="xaml-collection-concepts"></a><span data-ttu-id="72f1d-104">Pojęcia dotyczące kolekcji XAML</span><span class="sxs-lookup"><span data-stu-id="72f1d-104">XAML Collection Concepts</span></span>

<span data-ttu-id="72f1d-105">Model żadnych relacji w XAML, gdzie wiele elementów podrzędnych w zakresie elementu obiektu XAML lub element właściwości XAML musi zostać wdrożony jako kolekcję.</span><span class="sxs-lookup"><span data-stu-id="72f1d-105">Conceptually, any relationship in XAML where there are multiple child items within the scope of a XAML object element or XAML property element must be implemented as a collection.</span></span> <span data-ttu-id="72f1d-106">Tej kolekcji musi być skojarzona z właściwością XAML określonego typu XAML, który jest elementem nadrzędnym w tej relacji.</span><span class="sxs-lookup"><span data-stu-id="72f1d-106">That collection must be associated with a particular XAML property of the XAML type that is the parent in that relationship.</span></span> <span data-ttu-id="72f1d-107">Właściwość musi być kolekcją, ponieważ procesor XAML oczekuje, że można przypisać każdego elementu w znacznikach do nowo dodanego elementu właściwości kolekcji zapasowy.</span><span class="sxs-lookup"><span data-stu-id="72f1d-107">The property must be a collection because a XAML processor expects to assign each item in markup to be a newly added item of the backing collection property.</span></span>

<span data-ttu-id="72f1d-108">Na poziomie języka XAML dokładne wymagania dotyczące obsługi kolekcji nie są w pełni zdefiniowane.</span><span class="sxs-lookup"><span data-stu-id="72f1d-108">At the XAML language level, the exact requirements of collection support are not fully defined.</span></span> <span data-ttu-id="72f1d-109">Koncepcja, że kolekcja może być albo listy lub słownika (ale nie obu) jest zdefiniowana na poziomie języka XAML, ale typy zapasowy reprezentują obu list lub słowników nie jest zdefiniowany w języku XAML.</span><span class="sxs-lookup"><span data-stu-id="72f1d-109">The concept that a collection can be either a list or a dictionary(but not both) is defined at the XAML language level, but which backing types represent either lists or dictionaries is not defined by the XAML language.</span></span>

<span data-ttu-id="72f1d-110">W programie .NET Framework XAML Services koncepcji obsługi kolekcji XAML wyraźniej zdefiniowano pod względem kopii typy w .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="72f1d-110">In .NET Framework XAML Services, the concept of XAML collection support is more clearly defined in terms of .NET Framework backing types.</span></span> <span data-ttu-id="72f1d-111">W szczególności XAML Obsługa kolekcji opiera się na kilka pojęć programu .NET Framework i interfejsów API, które są używane w przypadku list i słowników w ogólne programowaniu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="72f1d-111">Specifically, the XAML support for collections is based on several .NET Framework concepts and APIs that are used for lists and dictionaries in general .NET Framework programming.</span></span>

1. <span data-ttu-id="72f1d-112"><xref:System.Collections.IList> Interfejs wskazuje kolekcję listy.</span><span class="sxs-lookup"><span data-stu-id="72f1d-112">The <xref:System.Collections.IList> interface indicates a list collection.</span></span>

2. <span data-ttu-id="72f1d-113"><xref:System.Collections.IDictionary> Interfejs wskazuje kolekcję słownika.</span><span class="sxs-lookup"><span data-stu-id="72f1d-113">The <xref:System.Collections.IDictionary> interface indicates a dictionary collection.</span></span>

3. <span data-ttu-id="72f1d-114"><xref:System.Array> reprezentuje tablicę, a tablica obsługuje <xref:System.Collections.IList> metody.</span><span class="sxs-lookup"><span data-stu-id="72f1d-114"><xref:System.Array> represents an array, and an array supports <xref:System.Collections.IList> methods.</span></span>

<span data-ttu-id="72f1d-115">W każdym z tych koncepcji zbierania procesora XAML Services programu .NET Framework XAML oczekuje, że wywołanie `Add` metody na określonym wystąpieniu typu właściwości kolekcji.</span><span class="sxs-lookup"><span data-stu-id="72f1d-115">In each of these collection concepts, a .NET Framework XAML Services XAML processor expects to call the `Add` method on a specific instance of the collection property's type.</span></span> <span data-ttu-id="72f1d-116">Lub, w przypadku serializacji procesora XAML tworzy osobne wystąpienia typu XAML dla każdego elementu, na liście, słownika lub tablicy, w oparciu o określonych koncepcji "Items" w każdej kolekcji.</span><span class="sxs-lookup"><span data-stu-id="72f1d-116">Or, in a serialization scenario, a XAML processor produces discrete XAML-type instances for each item found in the list, dictionary or array based on each collection's specific concept of "Items".</span></span> <span data-ttu-id="72f1d-117">Są to: <xref:System.Collections.IList.Item%2A>; <xref:System.Collections.IDictionary.Item%2A>; jawne <xref:System.Array.System%23Collections%23IList%23Item%2A> dla <xref:System.Array>.</span><span class="sxs-lookup"><span data-stu-id="72f1d-117">These are : <xref:System.Collections.IList.Item%2A>; <xref:System.Collections.IDictionary.Item%2A>; the explicit <xref:System.Array.System%23Collections%23IList%23Item%2A> for <xref:System.Array>.</span></span>

## <a name="generic-collections"></a><span data-ttu-id="72f1d-118">Kolekcje ogólne</span><span class="sxs-lookup"><span data-stu-id="72f1d-118">Generic Collections</span></span>

<span data-ttu-id="72f1d-119">Kolekcje ogólne mogą być przydatne w przypadku ogólnych .NET Framework programowania i może również służyć do właściwości kolekcji XAML.</span><span class="sxs-lookup"><span data-stu-id="72f1d-119">Generic collections can be useful for general .NET Framework programming, and can also be used for XAML collection properties.</span></span> <span data-ttu-id="72f1d-120">Jednak interfejsów ogólnych <xref:System.Collections.Generic.IList%601> i <xref:System.Collections.Generic.IDictionary%602> nie są identyfikowane przez procesory XAML Services programu .NET Framework XAML za równoważne niepodstawowy <xref:System.Collections.IList> lub <xref:System.Collections.IDictionary>.</span><span class="sxs-lookup"><span data-stu-id="72f1d-120">However, the generic interfaces <xref:System.Collections.Generic.IList%601> and <xref:System.Collections.Generic.IDictionary%602> are not identified by .NET Framework XAML Services XAML processors as being equivalent to the non-generic <xref:System.Collections.IList> or <xref:System.Collections.IDictionary>.</span></span> <span data-ttu-id="72f1d-121">Zamiast implementacji interfejsów, dla typów właściwości kolekcji ogólnej zaleca się pochodzi od klasy <xref:System.Collections.Generic.List%601> lub <xref:System.Collections.Generic.Dictionary%602>.</span><span class="sxs-lookup"><span data-stu-id="72f1d-121">Rather than implementing the interfaces, a recommended approach for generic collection property types is to derive from the classes <xref:System.Collections.Generic.List%601> or <xref:System.Collections.Generic.Dictionary%602>.</span></span> <span data-ttu-id="72f1d-122">W ramach tych zajęć implementować interfejsy nieogólnego i dlatego zawierać oczekiwanej pomocy technicznej dla kolekcji XAML w podstawowej implementacji.</span><span class="sxs-lookup"><span data-stu-id="72f1d-122">These classes implement the non-generic interfaces and thus include the expected support for XAML collections in the base implementation.</span></span>

## <a name="read-only-collections-and-initialization-logic"></a><span data-ttu-id="72f1d-123">Kolekcji tylko do odczytu i logiki inicjowania</span><span class="sxs-lookup"><span data-stu-id="72f1d-123">Read-Only Collections and Initialization Logic</span></span>

<span data-ttu-id="72f1d-124">W programie .NET Framework programowania jest typowy wzorzec projektowania nawiązać dowolnej właściwości, która przechowuje wartość kolekcji jako kolekcji tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="72f1d-124">In .NET Framework programming, it is a common design pattern to make any property that holds a value of a collection as a read-only collection.</span></span> <span data-ttu-id="72f1d-125">Ten wzorzec pozwala na wystąpienie, które jest właścicielem właściwość kolekcji lepszej kontroli, co się dzieje z kolekcji...</span><span class="sxs-lookup"><span data-stu-id="72f1d-125">This pattern permits the instance that owns the collection property to better control what happens to the collection..</span></span> <span data-ttu-id="72f1d-126">W szczególności wzorzec uniemożliwia przypadkowe zastąpienie całej kolekcji istniejące, ustawiając właściwość.</span><span class="sxs-lookup"><span data-stu-id="72f1d-126">Specifically, the pattern prevents accidental replacement of the entire pre-existing collection by setting the property.</span></span> <span data-ttu-id="72f1d-127">W tym wzorcu dostępu do kolekcji przez obiekty wywołujące zamiast tego należy ustanowić przez wywołanie metody lub właściwości, obsługiwana przez typ kolekcji i/lub interfejsy odpowiednich kolekcji, takich jak <xref:System.Collections.IList>.</span><span class="sxs-lookup"><span data-stu-id="72f1d-127">In this pattern, any access to the collection by callers should instead be made by calling methods or properties as supported by the collection type and/or the relevant collection interfaces such as <xref:System.Collections.IList>.</span></span>

<span data-ttu-id="72f1d-128">Za pomocą tego wzorca oznacza, że każdej klasy, która udostępnia właściwości kolekcji tylko do odczytu najpierw należy zainicjować tę właściwość, aby pomieścić pustą kolekcję.</span><span class="sxs-lookup"><span data-stu-id="72f1d-128">Using this pattern implies that any class that exposes a read-only collection property must first initialize that property to hold an empty collection.</span></span> <span data-ttu-id="72f1d-129">Zazwyczaj Inicjalizacja jest wykonywana w ramach zachowanie konstrukcja w klasie.</span><span class="sxs-lookup"><span data-stu-id="72f1d-129">Typically the initialization is performed as part of the construction behavior for the class.</span></span> <span data-ttu-id="72f1d-130">To przydatne w przypadku XAML, ważne jest czy takie logiki zawsze odwołuje się konstruktora domyślnego, ponieważ XAML ogólnie wywołuje konstruktor domyślny, przed rozpoczęciem przetwarzania właściwości (właściwości kolekcji lub w inny sposób).</span><span class="sxs-lookup"><span data-stu-id="72f1d-130">To be useful for XAML, it is important that such logic is always referenced by the default constructor, because XAML generally calls the default constructor prior to processing the properties (collection properties or otherwise).</span></span>

## <a name="xaml-type-system-support-and-collections"></a><span data-ttu-id="72f1d-131">Obsługa systemie typu XAML i kolekcji</span><span class="sxs-lookup"><span data-stu-id="72f1d-131">XAML Type System Support and Collections</span></span>

<span data-ttu-id="72f1d-132">Poza podstawowa mechanika analiza kodu XAML i wypełnianie lub właściwości kolekcji serializacji systemie typu XAML zaimplementowanego w .NET Framework XAML Services udostępnia kilka funkcji projektowania, które odnoszą się do kolekcji w programie XAML.</span><span class="sxs-lookup"><span data-stu-id="72f1d-132">Beyond the basic mechanics of parsing XAML and populating or serializing collection properties, the XAML type system as implemented in .NET Framework XAML Services includes several design features that pertain to collections in XAML.</span></span>

1. <span data-ttu-id="72f1d-133"><xref:System.Xaml.XamlType.IsCollection%2A> Zwraca wartość true, jeśli typ XAML jest wspierany przez typ, który zapewnia obsługę kolekcji XAML.</span><span class="sxs-lookup"><span data-stu-id="72f1d-133"><xref:System.Xaml.XamlType.IsCollection%2A> returns true if the XAML type is backed by a type that provides XAML collection support.</span></span>

2. <span data-ttu-id="72f1d-134"><xref:System.Xaml.XamlType.IsDictionary%2A> i <xref:System.Xaml.XamlType.IsArray%2A> dalsze można zidentyfikować tryb kolekcji, w którym typ XAML obsługuje.</span><span class="sxs-lookup"><span data-stu-id="72f1d-134"><xref:System.Xaml.XamlType.IsDictionary%2A> and <xref:System.Xaml.XamlType.IsArray%2A> can further identify which collection mode the XAML type supports.</span></span> <span data-ttu-id="72f1d-135">W przypadku niestandardowych XAML system typów procesorów, które są oparte na usług programu .NET Framework XAML i XAML, ale nie jest oparty na istniejących <xref:System.Xaml.XamlWriter> implementacje, wiedząc, używany jest tryb kolekcji, które mogą być niezbędne, aby dowiedzieć się, jakiej metody do wywołania dla Przetwarzanie kolekcji.</span><span class="sxs-lookup"><span data-stu-id="72f1d-135">For custom XAML processors that are based on .NET Framework XAML Services and the XAML type system but not based on existing <xref:System.Xaml.XamlWriter> implementations, knowing which collection mode is used might be necessary in order to know which method to invoke for collection processing.</span></span>

3. <span data-ttu-id="72f1d-136">Każdy z poprzednimi wartościami właściwości potencjalnie wpływało zastąpień <xref:System.Xaml.XamlType.LookupCollectionKind%2A> typu XAML.</span><span class="sxs-lookup"><span data-stu-id="72f1d-136">Each of the previous property values are potentially influenced by overrides of <xref:System.Xaml.XamlType.LookupCollectionKind%2A> on a XAML type.</span></span>
