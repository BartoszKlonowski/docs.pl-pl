---
title: "Typy konwerterów dla XAML — Omówienie"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- XAML [XAML Services], type converters
- XAML [XAML Services], TypeConverter
- type conversion for XAML [XAML Services]
ms.assetid: 51a65860-efcb-4fe0-95a0-1c679cde66b7
caps.latest.revision: "14"
author: wadepickett
ms.author: wpickett
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: b59b88c38b6fa7f810bb3a12de09a962eb5679c2
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/22/2017
---
# <a name="type-converters-for-xaml-overview"></a><span data-ttu-id="e5798-102">Typy konwerterów dla XAML — Omówienie</span><span class="sxs-lookup"><span data-stu-id="e5798-102">Type Converters for XAML Overview</span></span>
<span data-ttu-id="e5798-103">Logika dostaw konwertery typu dla edytora obiektu, który konwertuje z ciągu w kodzie XAML, w szczególności obiektów na wykresie obiektu.</span><span class="sxs-lookup"><span data-stu-id="e5798-103">Type converters supply logic for an object writer that converts from a string in XAML markup into particular objects in an object graph.</span></span> <span data-ttu-id="e5798-104">W programie .NET Framework XAML Services konwertera typu musi być klasą pochodzącą z <xref:System.ComponentModel.TypeConverter>.</span><span class="sxs-lookup"><span data-stu-id="e5798-104">In .NET Framework XAML Services, the type converter must be a class that derives from <xref:System.ComponentModel.TypeConverter>.</span></span> <span data-ttu-id="e5798-105">Niektóre konwertery również obsługują XAML ścieżkę zapisu i może służyć do szeregowania obiektu do postaci ciągu w znaczniku serializacji.</span><span class="sxs-lookup"><span data-stu-id="e5798-105">Some converters also support the XAML save path and can be used to serialize an object into a string form in serialization markup.</span></span> <span data-ttu-id="e5798-106">W tym temacie opisano, jak i kiedy są wywoływane konwertery typu w XAML i zapewnia implementacji porady zastępuje metodę z <xref:System.ComponentModel.TypeConverter>.</span><span class="sxs-lookup"><span data-stu-id="e5798-106">This topic describes how and when type converters in XAML are invoked, and provides implementation advice for the method overrides of <xref:System.ComponentModel.TypeConverter>.</span></span>  
  
<a name="type_conversion_concepts"></a>   
## <a name="type-conversion-concepts"></a><span data-ttu-id="e5798-107">Pojęcia dotyczące konwersji typu</span><span class="sxs-lookup"><span data-stu-id="e5798-107">Type Conversion Concepts</span></span>  
 <span data-ttu-id="e5798-108">W poniższych sekcjach opisano podstawowe pojęcia o używaniu ciągi XAML, i sposobie używania przez autorów obiektu w usługach programu .NET Framework XAML konwertery typu przetwarzania niektórych wartości ciągu, które występują w źródle XAML.</span><span class="sxs-lookup"><span data-stu-id="e5798-108">The following sections explain basic concepts about how XAML uses strings, and how object writers in .NET Framework XAML Services use type converters to process some of the string values that are encountered in a XAML source.</span></span>  
  
### <a name="xaml-and-string-values"></a><span data-ttu-id="e5798-109">XAML i wartości ciągu</span><span class="sxs-lookup"><span data-stu-id="e5798-109">XAML and String Values</span></span>  
 <span data-ttu-id="e5798-110">Po ustawieniu wartości atrybutu w pliku XAML początkowej typ wartości jest ciąg w sposób ogólny, a wartość atrybutu ciągu w tym sensie XML.</span><span class="sxs-lookup"><span data-stu-id="e5798-110">When you set an attribute value in a XAML file, the initial type of that value is a string in a general sense, and a string attribute value in an XML sense.</span></span> <span data-ttu-id="e5798-111">Nawet w przypadku innych podstawowych, takich jak <xref:System.Double> są początkowo ciągi procesor XAML.</span><span class="sxs-lookup"><span data-stu-id="e5798-111">Even other primitives such as <xref:System.Double> are initially strings to a XAML processor.</span></span>  
  
 <span data-ttu-id="e5798-112">W większości przypadków procesora XAML musi informacje, które można przetworzyć wartości atrybutu.</span><span class="sxs-lookup"><span data-stu-id="e5798-112">In most cases, a XAML processor needs two pieces of information to process an attribute value.</span></span> <span data-ttu-id="e5798-113">Pierwszy element danych jest typ wartości właściwości, która jest ustawiona.</span><span class="sxs-lookup"><span data-stu-id="e5798-113">The first piece of information is the value type of the property that is being set.</span></span> <span data-ttu-id="e5798-114">Dowolny ciąg, który definiuje wartość atrybutu i przetworzony w języku XAML ostatecznie muszą być konwertowane lub został rozpoznany jako wartość tego typu.</span><span class="sxs-lookup"><span data-stu-id="e5798-114">Any string that defines an attribute value and that is processed in XAML must ultimately be converted or resolved to a value of that type.</span></span> <span data-ttu-id="e5798-115">Jeśli wartość jest typu pierwotnego, który jest rozpoznawany przez parser XAML (na przykład wartość liczbowa), próbą bezpośredniego Konwersja ciągu.</span><span class="sxs-lookup"><span data-stu-id="e5798-115">If the value is a primitive that is understood by the XAML parser (such as a numeric value), a direct conversion of the string is attempted.</span></span> <span data-ttu-id="e5798-116">Jeśli wartość atrybutu odwołuje się do wyliczenia, podany ciąg jest sprawdzany pod kątem dopasowania nazwy do nazwanej stałej w tym wyliczeniu.</span><span class="sxs-lookup"><span data-stu-id="e5798-116">If the value for the attribute references an enumeration, the supplied string is checked for a name match to a named constant in that enumeration.</span></span> <span data-ttu-id="e5798-117">Jeśli wartość jest typu pierwotnego zrozumiał analizator ani stałej nazwy z wyliczenia, odpowiedni typ musi mieć możliwość zapewnienia wartości lub odwołania, który bazuje na skonwertowany ciąg.</span><span class="sxs-lookup"><span data-stu-id="e5798-117">If the value is neither a parser-understood primitive nor a constant name from an enumeration, the applicable type must be able to provide a value or reference that is based on a converted string.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e5798-118">Dyrektywy języka XAML nie należy używać konwertery typu.</span><span class="sxs-lookup"><span data-stu-id="e5798-118">XAML language directives do not use type converters.</span></span>  
  
### <a name="type-converters-and-markup-extensions"></a><span data-ttu-id="e5798-119">Typy konwerterów i rozszerzeń znaczników</span><span class="sxs-lookup"><span data-stu-id="e5798-119">Type Converters and Markup Extensions</span></span>  
 <span data-ttu-id="e5798-120">Użycia rozszerzenia znacznika musi być obsługiwane przez procesor XAML przed sprawdza typ właściwości oraz inne kwestie.</span><span class="sxs-lookup"><span data-stu-id="e5798-120">Markup extension usages must be handled by a XAML processor before it checks for property type and other considerations.</span></span> <span data-ttu-id="e5798-121">Na przykład jeśli właściwość jest ustawiona jako atrybut ma zwykle konwersji typu, ale w przypadku ustawiono przez użycie rozszerzenia znaczników, następnie zachowania rozszerzeń znaczników przetwarza najpierw.</span><span class="sxs-lookup"><span data-stu-id="e5798-121">For example, if a property being set as an attribute normally has a type conversion, but in a particular case is set by a markup extension usage, then the markup extension behavior processes first.</span></span> <span data-ttu-id="e5798-122">Jeden typowych sytuacji, gdy jest konieczne rozszerzenie znaczników jest odwołanie do obiektu, który już istnieje.</span><span class="sxs-lookup"><span data-stu-id="e5798-122">One common situation where a markup extension is necessary is to make a reference to an object that already exists.</span></span> <span data-ttu-id="e5798-123">W tym scenariuszu konwertera typów bezstanowych można generować tylko nowe wystąpienie nie może być pożądane.</span><span class="sxs-lookup"><span data-stu-id="e5798-123">For this scenario, a stateless type converter can only generate a new instance, which might not be desirable.</span></span> <span data-ttu-id="e5798-124">Aby uzyskać więcej informacji na temat rozszerzeń znaczników, zobacz [rozszerzenia znaczników dla przeglądu XAML](../../../docs/framework/xaml-services/markup-extensions-for-xaml-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e5798-124">For more information about markup extensions, see [Markup Extensions for XAML Overview](../../../docs/framework/xaml-services/markup-extensions-for-xaml-overview.md).</span></span>  
  
### <a name="native-type-converters"></a><span data-ttu-id="e5798-125">Konwertery typu macierzystego</span><span class="sxs-lookup"><span data-stu-id="e5798-125">Native Type Converters</span></span>  
 <span data-ttu-id="e5798-126">W implementacji usługi WPF i języka XAML .NET istnieją pewne typy CLR, które mają Obsługa konwersji typu macierzystego, jednak te typy CLR są nie tradycyjnie traktować jako typów podstawowych.</span><span class="sxs-lookup"><span data-stu-id="e5798-126">In the WPF and .NET XAML services implementations, there are certain CLR types that have native type conversion handling, however, those CLR types are not conventionally thought of as primitives.</span></span> <span data-ttu-id="e5798-127">Przykładem takiego typu <xref:System.DateTime>.</span><span class="sxs-lookup"><span data-stu-id="e5798-127">An example of such a type is <xref:System.DateTime>.</span></span> <span data-ttu-id="e5798-128">Jest jednym z powodów dla tego działania architektury .NET Framework: typ <xref:System.DateTime> jest zdefiniowany w mscorlib, najbardziej podstawowa Biblioteka programu .NET.</span><span class="sxs-lookup"><span data-stu-id="e5798-128">One reason for this is how the .NET Framework architecture works: the type <xref:System.DateTime> is defined in mscorlib, the most basic library in .NET.</span></span> <span data-ttu-id="e5798-129"><xref:System.DateTime>nie może mieć atrybut atrybut, który pochodzi z innego zestawu, który wprowadzono zależność (<xref:System.ComponentModel.TypeConverterAttribute> z systemu); w związku z tym mechanizm odnajdywania konwertera typu zwykle poprzez przypisywanie nie może być obsługiwana.</span><span class="sxs-lookup"><span data-stu-id="e5798-129"><xref:System.DateTime> is not permitted to be attributed with an attribute that comes from another assembly that introduces a dependency (<xref:System.ComponentModel.TypeConverterAttribute> is from System); therefore, the usual type converter discovery mechanism by attributing cannot be supported.</span></span> <span data-ttu-id="e5798-130">Zamiast tego analizatora XAML zawiera listę typów natywnych przetworzenia i przetwarza te typy podobny do sposobu przetwarzania podstawowych wartość true.</span><span class="sxs-lookup"><span data-stu-id="e5798-130">Instead, the XAML parser has a list of types that need native processing, and it processes these types similar to how the true primitives are processed.</span></span> <span data-ttu-id="e5798-131">W przypadku liczby <xref:System.DateTime>, to przetwarzanie obejmuje wywołania <xref:System.DateTime.Parse%2A>.</span><span class="sxs-lookup"><span data-stu-id="e5798-131">In the case of <xref:System.DateTime>, this processing involves a call to <xref:System.DateTime.Parse%2A>.</span></span>  
  
<a name="Implementing_a_Type_Converter"></a>   
## <a name="implementing-a-type-converter"></a><span data-ttu-id="e5798-132">Implementowanie konwertera typów</span><span class="sxs-lookup"><span data-stu-id="e5798-132">Implementing a Type Converter</span></span>  
 <span data-ttu-id="e5798-133">W poniższych sekcjach omówiono interfejsu API z <xref:System.ComponentModel.TypeConverter> klasy.</span><span class="sxs-lookup"><span data-stu-id="e5798-133">The following sections discuss the API of the <xref:System.ComponentModel.TypeConverter> class.</span></span>  
  
### <a name="typeconverter"></a><span data-ttu-id="e5798-134">TypeConverter</span><span class="sxs-lookup"><span data-stu-id="e5798-134">TypeConverter</span></span>  
 <span data-ttu-id="e5798-135">W obszarze usług .NET Framework XAML, wszystkie typy konwerterów, które są używane do celów XAML są klasy, które pochodzi od klasy podstawowej <xref:System.ComponentModel.TypeConverter>.</span><span class="sxs-lookup"><span data-stu-id="e5798-135">Under .NET Framework XAML Services, all type converters that are used for XAML purposes are classes that derive from the base class <xref:System.ComponentModel.TypeConverter>.</span></span> <span data-ttu-id="e5798-136"><xref:System.ComponentModel.TypeConverter> Klasy istniał w wersji programu .NET Framework, przed wprowadzeniem XAML; jedną z oryginalnym <xref:System.ComponentModel.TypeConverter> scenariusze było zapewnienie Konwersja ciągu dla właściwości edytory w wizualnych projektantów.</span><span class="sxs-lookup"><span data-stu-id="e5798-136">The <xref:System.ComponentModel.TypeConverter> class existed in versions of the .NET Framework before XAML existed; one of the original <xref:System.ComponentModel.TypeConverter> scenarios was to provide string conversion for property editors in visual designers.</span></span>  
  
 <span data-ttu-id="e5798-137">Dla języka XAML, rola <xref:System.ComponentModel.TypeConverter> jest rozwinięta.</span><span class="sxs-lookup"><span data-stu-id="e5798-137">For XAML, the role of <xref:System.ComponentModel.TypeConverter> is expanded.</span></span> <span data-ttu-id="e5798-138">Do celów XAML <xref:System.ComponentModel.TypeConverter> jest klasą bazową dla zapewnienie wsparcia dla niektórych do ciągu i konwersje z ciągu.</span><span class="sxs-lookup"><span data-stu-id="e5798-138">For XAML purposes, <xref:System.ComponentModel.TypeConverter> is the base class for providing support for certain to-string and from-string conversions.</span></span> <span data-ttu-id="e5798-139">Z ciągu umożliwia analizowanie wartość ciągu atrybutu z XAML.</span><span class="sxs-lookup"><span data-stu-id="e5798-139">From-string enables parsing a string attribute value from XAML.</span></span> <span data-ttu-id="e5798-140">Do ciągu może umożliwić przetwarzania wartość czasu wykonywania właściwości określonego obiektu do atrybutu w języku XAML do serializacji.</span><span class="sxs-lookup"><span data-stu-id="e5798-140">To-string might enable processing a run-time value of a particular object property back into an attribute in XAML for serialization.</span></span>  
  
 <span data-ttu-id="e5798-141"><xref:System.ComponentModel.TypeConverter>definiuje cztery elementy członkowskie, które mają zastosowanie do konwersji na ciągi znaków i z ciągu w celu przetwarzania XAML:</span><span class="sxs-lookup"><span data-stu-id="e5798-141"><xref:System.ComponentModel.TypeConverter> defines four members that are relevant for converting to-string and from-string for XAML processing purposes:</span></span>  
  
-   <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>  
  
-   <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A>  
  
-   <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>  
  
-   <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>  
  
 <span data-ttu-id="e5798-142">Z tych elementów członkowskich jest metoda najważniejszych <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>, który konwertuje ciągu wejściowego z typem obiektu wymagane.</span><span class="sxs-lookup"><span data-stu-id="e5798-142">Of these members, the most important method is <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A>, which converts the input string to the required object type.</span></span> <span data-ttu-id="e5798-143"><xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> Metody można stosować do przekonwertowania na typ przeznaczenia konwerter większej liczby typów.</span><span class="sxs-lookup"><span data-stu-id="e5798-143">The <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> method can be implemented to convert a wider range of types into the intended destination type of the converter.</span></span> <span data-ttu-id="e5798-144">W związku z tym może służyć do celów, które wykraczają poza XAML, takich jak obsługa konwersje czasu wykonywania.</span><span class="sxs-lookup"><span data-stu-id="e5798-144">Therefore, it can serve purposes that extend beyond XAML, such as supporting run-time conversions.</span></span> <span data-ttu-id="e5798-145">Jednak do użytku w języku XAML, ścieżka kodu, który może przetwarzać <xref:System.String> dane wejściowe są ważne.</span><span class="sxs-lookup"><span data-stu-id="e5798-145">However, for XAML use, only the code path that can process a <xref:System.String> input is important.</span></span>  
  
 <span data-ttu-id="e5798-146">Drugim najważniejszym metoda jest <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span><span class="sxs-lookup"><span data-stu-id="e5798-146">The second most important method is <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span></span> <span data-ttu-id="e5798-147">Jeśli aplikacja została przekonwertowana na reprezentację za pomocą znacznika (na przykład, jeśli plik jest zapisywany w języku XAML jako plik), <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> uczestniczy w scenariuszu większych XAML produktu zapisywania tekstu reprezentacji znacznika.</span><span class="sxs-lookup"><span data-stu-id="e5798-147">If an application is converted to a markup representation (for example, if it is saved to XAML as a file), <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> is involved in the larger scenario of a XAML text writers produce a markup representation.</span></span> <span data-ttu-id="e5798-148">W takim przypadku ścieżka ważne kodu XAML jest gdy obiekt wywołujący `destinationType` z <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="e5798-148">In this case, the important code path for XAML is when the caller passes a `destinationType` of <xref:System.String>.</span></span>  
  
 <span data-ttu-id="e5798-149"><xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>i <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> metod obsługi, które są używane, gdy usługa wysyła zapytanie do możliwości <xref:System.ComponentModel.TypeConverter> implementacji.</span><span class="sxs-lookup"><span data-stu-id="e5798-149"><xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> and <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> are support methods that are used when a service queries the capabilities of the <xref:System.ComponentModel.TypeConverter> implementation.</span></span> <span data-ttu-id="e5798-150">Musisz zaimplementować tych metod, aby zwrócić `true` dla określonego typu przypadków, które obsługują metody konwersji w równoważnych z konwertera.</span><span class="sxs-lookup"><span data-stu-id="e5798-150">You must implement these methods to return `true` for type-specific cases that the equivalent conversion methods of your converter support.</span></span> <span data-ttu-id="e5798-151">Do celów XAML, zwykle oznacza to <xref:System.String> typu.</span><span class="sxs-lookup"><span data-stu-id="e5798-151">For XAML purposes, this generally means the <xref:System.String> type.</span></span>  
  
### <a name="culture-information-and-type-converters-for-xaml"></a><span data-ttu-id="e5798-152">Informacje o ustawieniach kulturowych i typy konwerterów dla XAML</span><span class="sxs-lookup"><span data-stu-id="e5798-152">Culture Information and Type Converters for XAML</span></span>  
 <span data-ttu-id="e5798-153">Każdy <xref:System.ComponentModel.TypeConverter> implementacja może jednoznacznie interpretować, co to jest prawidłowy ciąg dla konwersji i można również użyć lub zignorować opisu typu, który jest przekazywany jako parametry.</span><span class="sxs-lookup"><span data-stu-id="e5798-153">Each <xref:System.ComponentModel.TypeConverter> implementation can uniquely interpret what is a valid string for a conversion, and it can also use or ignore the type description that is passed as parameters.</span></span> <span data-ttu-id="e5798-154">Ważną kwestią kultury i języka XAML konwersja typu jest następująca: przy użyciu Lokalizowalny ciągi jako wartości atrybutu jest obsługiwana przez XAML, ale nie można użyć te Lokalizowalny ciągi jako dane wejściowe konwertera typu wymagania określoną kulturę.</span><span class="sxs-lookup"><span data-stu-id="e5798-154">An important consideration for culture and XAML type conversion is the following: although using localizable strings as attribute values is supported by XAML, you cannot use these localizable strings as type converter input with specific culture requirements.</span></span> <span data-ttu-id="e5798-155">Jest to ograniczenie, ponieważ typy konwerterów dla XAML wartości atrybutów wymagają zachowanie przetwarzania XAML musi stałym języka, które używa `en-US` kultury.</span><span class="sxs-lookup"><span data-stu-id="e5798-155">This limitation is because type converters for XAML attribute values involve a necessarily fixed-language XAML-processing behavior that uses `en-US` culture.</span></span> <span data-ttu-id="e5798-156">Aby uzyskać więcej informacji na temat projektowania powody to ograniczenie, zobacz specyfikację języka XAML ([\[MS XAML\]](http://go.microsoft.com/fwlink/?LinkId=114525)) lub [WPF globalizacja i lokalizacja omówienie](../../../docs/framework/wpf/advanced/wpf-globalization-and-localization-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e5798-156">For more information about the design reasons for this restriction, see the XAML language specification ([\[MS-XAML\]](http://go.microsoft.com/fwlink/?LinkId=114525)) or [WPF Globalization and Localization Overview](../../../docs/framework/wpf/advanced/wpf-globalization-and-localization-overview.md).</span></span>  
  
 <span data-ttu-id="e5798-157">Na przykład gdy kultura może być problemem, niektóre kultur użyć przecinka zamiast okres jako separator dziesiętny liczb w postaci ciągu.</span><span class="sxs-lookup"><span data-stu-id="e5798-157">As an example where culture can be an issue, some cultures use a comma instead of a period as the decimal point delimiter for numbers in string form.</span></span> <span data-ttu-id="e5798-158">To powoduje konflikt z zachowanie, że wiele istniejących konwertery typu, który jest zastosowanie spacji, jak ogranicznik.</span><span class="sxs-lookup"><span data-stu-id="e5798-158">This use collides with the behavior that many existing type converters have, which is to use a comma as a delimiter.</span></span> <span data-ttu-id="e5798-159">Przekazywanie kultury za pośrednictwem `xml:lang` w otaczającego XAML nie rozwiązuje problemu.</span><span class="sxs-lookup"><span data-stu-id="e5798-159">Passing a culture through `xml:lang` in the surrounding XAML does not solve the issue.</span></span>  
  
### <a name="implementing-convertfrom"></a><span data-ttu-id="e5798-160">Implementowanie ConvertFrom</span><span class="sxs-lookup"><span data-stu-id="e5798-160">Implementing ConvertFrom</span></span>  
 <span data-ttu-id="e5798-161">Może być używany jako <xref:System.ComponentModel.TypeConverter> implementacja obsługuje XAML, <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> metody dla tego konwertera, musisz zaakceptować ciąg jako `value` parametru.</span><span class="sxs-lookup"><span data-stu-id="e5798-161">To be usable as a <xref:System.ComponentModel.TypeConverter> implementation that supports XAML, the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> method for that converter must accept a string as the `value` parameter.</span></span> <span data-ttu-id="e5798-162">Jeśli ciąg jest w nieprawidłowym formacie i może zostać skonwertowana za <xref:System.ComponentModel.TypeConverter> implementacji zwrócony obiekt musi obsługiwać Rzutowanie na typ oczekiwany przez właściwość.</span><span class="sxs-lookup"><span data-stu-id="e5798-162">If the string is in a valid format and can be converted by the <xref:System.ComponentModel.TypeConverter> implementation, the returned object must support a cast to the type that is expected by the property.</span></span> <span data-ttu-id="e5798-163">W przeciwnym razie <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> musi zwracać implementację `null`.</span><span class="sxs-lookup"><span data-stu-id="e5798-163">Otherwise, the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> implementation must return `null`.</span></span>  
  
 <span data-ttu-id="e5798-164">Każdy <xref:System.ComponentModel.TypeConverter> implementacja może jednoznacznie interpretować, co stanowi prawidłowy ciąg dla konwersji, a można też użyć lub zignorować typ opisu lub kultury kontekstach, które są przekazywane jako parametry.</span><span class="sxs-lookup"><span data-stu-id="e5798-164">Each <xref:System.ComponentModel.TypeConverter> implementation can uniquely interpret what constitutes a valid string for a conversion, and it can also use or ignore the type description or culture contexts that are passed as parameters.</span></span> <span data-ttu-id="e5798-165">Jednak WPF XAML przetwarzania nie może przekazać wartości w kontekście opisu typu we wszystkich przypadkach, także nie może przekazać opartą na `xml:lang`.</span><span class="sxs-lookup"><span data-stu-id="e5798-165">However, the WPF XAML processing might not pass values to the type description context in all cases and also might not pass culture based on `xml:lang`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="e5798-166">Nie należy używać nawiasy klamrowe ({}), w szczególności nawiasu otwierającego ({}), jako element formatu ciągu.</span><span class="sxs-lookup"><span data-stu-id="e5798-166">Do not use the braces ({}), specifically the opening brace ({), as an element of your string format.</span></span> <span data-ttu-id="e5798-167">Następujące znaki są zastrzeżone dla wejścia i wyjścia sekwencji rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="e5798-167">These characters are reserved as the entry and exit for a markup extension sequence.</span></span>  
  
 <span data-ttu-id="e5798-168">Należy zgłosić wyjątek, gdy Twoje konwerter typów musi mieć dostęp do usługi języka XAML z edytora obiektu usługi XAML .NET Framework, ale <xref:System.IServiceProvider.GetService%2A> wywołaniu, które staje się przed kontekstu nie może zwracać tej usługi.</span><span class="sxs-lookup"><span data-stu-id="e5798-168">It is appropriate to throw an exception when your type converter must have access to a XAML service from the .NET Framework XAML Services object writer, but the <xref:System.IServiceProvider.GetService%2A> call that is made against the context does not return that service.</span></span>  
  
### <a name="implementing-convertto"></a><span data-ttu-id="e5798-169">Implementowanie ConvertTo</span><span class="sxs-lookup"><span data-stu-id="e5798-169">Implementing ConvertTo</span></span>  
 <span data-ttu-id="e5798-170"><xref:System.ComponentModel.TypeConverter.ConvertTo%2A>potencjalnie jest używana do obsługi serializacji.</span><span class="sxs-lookup"><span data-stu-id="e5798-170"><xref:System.ComponentModel.TypeConverter.ConvertTo%2A> is potentially used for serialization support.</span></span> <span data-ttu-id="e5798-171">Obsługa serializacji za pośrednictwem <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> dla danego typu niestandardowego i jej typ konwertera nie jest bezwzględnie spełniony.</span><span class="sxs-lookup"><span data-stu-id="e5798-171">Serialization support through <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> for your custom type and its type converter is not an absolute requirement.</span></span> <span data-ttu-id="e5798-172">Jednak jeśli implementacja formantu, lub za pomocą serializacji jako część funkcji lub projekt klasy, należy zaimplementować <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span><span class="sxs-lookup"><span data-stu-id="e5798-172">However, if you are implementing a control, or using serialization of as part of the features or design of your class, you should implement <xref:System.ComponentModel.TypeConverter.ConvertTo%2A>.</span></span>  
  
 <span data-ttu-id="e5798-173">Może być używany jako <xref:System.ComponentModel.TypeConverter> implementacja obsługuje XAML, <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> metody dla tego konwertera, musisz zaakceptować wystąpienia typu (lub wartość), które jest obsługiwany jako `value` parametru.</span><span class="sxs-lookup"><span data-stu-id="e5798-173">To be usable as a <xref:System.ComponentModel.TypeConverter> implementation that supports XAML, the <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> method for that converter must accept an instance of the type (or a value) that is supported as the `value` parameter.</span></span> <span data-ttu-id="e5798-174">Gdy `destinationType` parametr jest typu <xref:System.String>, zwrócony obiekt musi mieć możliwość można rzutować jako <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="e5798-174">When the `destinationType` parameter is of type <xref:System.String>, the returned object must be able to be cast as <xref:System.String>.</span></span> <span data-ttu-id="e5798-175">Zwracany ciąg musi reprezentować serializacji wartości `value`.</span><span class="sxs-lookup"><span data-stu-id="e5798-175">The returned string must represent a serialized value of `value`.</span></span> <span data-ttu-id="e5798-176">W idealnym przypadku format serializacji, którą można wybrać powinno być możliwe do generowania taką samą wartość tak, jakby tego ciągu zostały przekazane do <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> implementacji konwertera tego samego, bez znaczny poziom utraty danych.</span><span class="sxs-lookup"><span data-stu-id="e5798-176">Ideally, the serialization format that you choose should be able to generate the same value as if that string were passed to the <xref:System.ComponentModel.TypeConverter.ConvertFrom%2A> implementation of the same converter, without significant loss of information.</span></span>  
  
 <span data-ttu-id="e5798-177">Jeśli wartość nie może być serializowany lub konwerter nie obsługuje serializacji, <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> musi zwracać implementację `null` i może zgłosić wyjątek.</span><span class="sxs-lookup"><span data-stu-id="e5798-177">If the value cannot be serialized or the converter does not support serialization, the <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> implementation must return `null` and can throw an exception.</span></span> <span data-ttu-id="e5798-178">Jednak jeśli zgłaszają wyjątki, zgłoś używaniem tej konwersji w ramach Twojej <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> implementacji, aby najlepsze rozwiązanie polegające na sprawdzanie z <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> najpierw w celu uniknięcia wyjątków jest obsługiwana.</span><span class="sxs-lookup"><span data-stu-id="e5798-178">However, if you do throw exceptions, you should report the inability to use that conversion as part of your <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> implementation so that the best practice of checking with <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> first to avoid exceptions is supported.</span></span>  
  
 <span data-ttu-id="e5798-179">Jeśli `destinationType` parametru nie jest typu <xref:System.String>, możesz wybrać własne Obsługa konwertera.</span><span class="sxs-lookup"><span data-stu-id="e5798-179">If the `destinationType` parameter is not of type <xref:System.String>, you can choose your own converter handling.</span></span> <span data-ttu-id="e5798-180">Zazwyczaj przywrócić implementacji podstawowej obsługi, które w podstawowym <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> zgłasza wyjątek.</span><span class="sxs-lookup"><span data-stu-id="e5798-180">Typically, you revert to base implementation handling, which in the base <xref:System.ComponentModel.TypeConverter.ConvertTo%2A> raises a specific exception.</span></span>  
  
 <span data-ttu-id="e5798-181">Należy zgłosić wyjątek, gdy Twoje konwerter typów musi mieć dostęp do usługi języka XAML z edytora obiektu usługi XAML .NET Framework, ale <xref:System.IServiceProvider.GetService%2A> wywołaniu, które staje się przed kontekstu nie może zwracać tej usługi.</span><span class="sxs-lookup"><span data-stu-id="e5798-181">It is appropriate to throw an exception when your type converter must have access to a XAML service from the .NET Framework XAML Services object writer, but the <xref:System.IServiceProvider.GetService%2A> call that is made against the context does not return that service.</span></span>  
  
### <a name="implementing-canconvertfrom"></a><span data-ttu-id="e5798-182">Implementowanie CanConvertFrom</span><span class="sxs-lookup"><span data-stu-id="e5798-182">Implementing CanConvertFrom</span></span>  
 <span data-ttu-id="e5798-183">Twoje <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> implementacji powinien zwrócić `true` dla `sourceType` typu <xref:System.String> , a w przeciwnym razie odroczenie do podstawowej implementacji.</span><span class="sxs-lookup"><span data-stu-id="e5798-183">Your <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A> implementation should return `true` for `sourceType` of type <xref:System.String> and otherwise, defer to the base implementation.</span></span> <span data-ttu-id="e5798-184">Nie zgłaszają wyjątki od <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A>.</span><span class="sxs-lookup"><span data-stu-id="e5798-184">Do not throw exceptions from <xref:System.ComponentModel.TypeConverter.CanConvertFrom%2A>.</span></span>  
  
### <a name="implementing-canconvertto"></a><span data-ttu-id="e5798-185">Implementowanie CanConvertTo</span><span class="sxs-lookup"><span data-stu-id="e5798-185">Implementing CanConvertTo</span></span>  
 <span data-ttu-id="e5798-186">Twoje <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> implementacji powinien zwrócić `true` dla `destinationType` typu <xref:System.String>, a w przeciwnym razie odroczenie do podstawowej implementacji.</span><span class="sxs-lookup"><span data-stu-id="e5798-186">Your <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A> implementation should return `true` for `destinationType` of type <xref:System.String>, and otherwise defer to the base implementation.</span></span> <span data-ttu-id="e5798-187">Nie zgłaszają wyjątki od <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>.</span><span class="sxs-lookup"><span data-stu-id="e5798-187">Do not throw exceptions from <xref:System.ComponentModel.TypeConverter.CanConvertTo%2A>.</span></span>  
  
<a name="Applying_the_TypeConverterAttribute"></a>   
## <a name="applying-the-typeconverterattribute"></a><span data-ttu-id="e5798-188">Stosowanie TypeConverterAttribute</span><span class="sxs-lookup"><span data-stu-id="e5798-188">Applying the TypeConverterAttribute</span></span>  
 <span data-ttu-id="e5798-189">Dla Twojego konwertera typu niestandardowego ma być używany jako działający konwerter typów dla niestandardowej klasy przez usług .NET Framework XAML, należy najpierw zastosować [!INCLUDE[TLA#tla_netframewkattr](../../../includes/tlasharptla-netframewkattr-md.md)] <xref:System.ComponentModel.TypeConverterAttribute> do definicji klasy.</span><span class="sxs-lookup"><span data-stu-id="e5798-189">For your custom type converter to be used as the acting type converter for a custom class by .NET Framework XAML Services, you must apply the [!INCLUDE[TLA#tla_netframewkattr](../../../includes/tlasharptla-netframewkattr-md.md)] <xref:System.ComponentModel.TypeConverterAttribute> to your class definition.</span></span> <span data-ttu-id="e5798-190"><xref:System.ComponentModel.TypeConverterAttribute.ConverterTypeName%2A> Użytkownika za pomocą atrybutu musi być nazwą typu z konwertera typu niestandardowego.</span><span class="sxs-lookup"><span data-stu-id="e5798-190">The <xref:System.ComponentModel.TypeConverterAttribute.ConverterTypeName%2A> that you specify through the attribute must be the type name of your custom type converter.</span></span> <span data-ttu-id="e5798-191">W przypadku zastosowania tego atrybutu, gdy procesor XAML obsługi wartości, których typ właściwości używa danego typu klasy niestandardowej, jego parametrów wejściowych i zwrócić wystąpienia obiektu.</span><span class="sxs-lookup"><span data-stu-id="e5798-191">If you apply this attribute, when a XAML processor handles values where the property type uses your custom class type, it can input strings and return object instances.</span></span>  
  
 <span data-ttu-id="e5798-192">Można też podać konwertera typów, na podstawie poszczególnych właściwości.</span><span class="sxs-lookup"><span data-stu-id="e5798-192">You can also provide a type converter on a per-property basis.</span></span> <span data-ttu-id="e5798-193">Zamiast stosowania [!INCLUDE[TLA#tla_netframewkattr](../../../includes/tlasharptla-netframewkattr-md.md)] <xref:System.ComponentModel.TypeConverterAttribute> do definicji klasy zastosować je do definicji właściwości (główny definicji nie `get` / `set` implementacji w niej).</span><span class="sxs-lookup"><span data-stu-id="e5798-193">Instead of applying a [!INCLUDE[TLA#tla_netframewkattr](../../../includes/tlasharptla-netframewkattr-md.md)] <xref:System.ComponentModel.TypeConverterAttribute> to the class definition, apply it to a property definition (the main definition, not the `get`/`set` implementations within it).</span></span> <span data-ttu-id="e5798-194">Typ właściwości musi odpowiadać typowi przetwarzanego przez użytkownika konwertera typu niestandardowego.</span><span class="sxs-lookup"><span data-stu-id="e5798-194">The type of the property must match the type that is processed by your custom type converter.</span></span> <span data-ttu-id="e5798-195">Z tym atrybutem zastosowane procesor XAML, obsługując wartości właściwości, można przetwarzać ciągów wejściowych i zwrócić wystąpienia obiektu.</span><span class="sxs-lookup"><span data-stu-id="e5798-195">With this attribute applied, when a XAML processor handles values of that property, it can process input strings and return object instances.</span></span> <span data-ttu-id="e5798-196">Dla właściwości typu konwertera technika jest szczególnie przydatne, jeśli chcesz użyć typu właściwości z [!INCLUDE[TLA#tla_netframewk](../../../includes/tlasharptla-netframewk-md.md)] lub z niektórych biblioteki, której nie można kontrolować definicji klasy i nie można zastosować <xref:System.ComponentModel.TypeConverterAttribute> istnieje.</span><span class="sxs-lookup"><span data-stu-id="e5798-196">The per-property type converter technique is particularly useful if you choose to use a property type from [!INCLUDE[TLA#tla_netframewk](../../../includes/tlasharptla-netframewk-md.md)] or from some other library where you cannot control the class definition and cannot apply a <xref:System.ComponentModel.TypeConverterAttribute> there.</span></span>  
  
 <span data-ttu-id="e5798-197">Przydzielenie zachowanie konwersji typu niestandardowych elementu członkowskiego dołączone, zastosuj <xref:System.ComponentModel.TypeConverterAttribute> do `Get` metodę dostępu implementacji wzorca dołączone elementu członkowskiego.</span><span class="sxs-lookup"><span data-stu-id="e5798-197">To supply a type conversion behavior for a custom attached member, apply <xref:System.ComponentModel.TypeConverterAttribute> to the `Get` accessor method of the implementation pattern for the attached member.</span></span>  
  
<a name="accessing_service_provider_context_from_a_markup_extension_implementation"></a>   
## <a name="accessing-service-provider-context-from-a-markup-extension-implementation"></a><span data-ttu-id="e5798-198">Uzyskiwanie dostępu do kontekstu dostawcy usług z implementacji rozszerzenia znaczników</span><span class="sxs-lookup"><span data-stu-id="e5798-198">Accessing Service Provider Context from a Markup Extension Implementation</span></span>  
 <span data-ttu-id="e5798-199">Usługi dostępne są takie same dla dowolnego konwertera wartości.</span><span class="sxs-lookup"><span data-stu-id="e5798-199">The available services are the same for any value converter.</span></span> <span data-ttu-id="e5798-200">Różnica polega na tym w sposób każdego konwerter wartości odbiera kontekstu usługi.</span><span class="sxs-lookup"><span data-stu-id="e5798-200">The difference is in how each value converter receives the service context.</span></span> <span data-ttu-id="e5798-201">Dostęp do usług i usług dostępnych opisano w temacie [typy konwerterów i rozszerzenia znaczników dla XAML](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md).</span><span class="sxs-lookup"><span data-stu-id="e5798-201">Accessing services and the services available are documented in the topic [Type Converters and Markup Extensions for XAML](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md).</span></span>  
  
<a name="type_converters_in_the_xaml_node_stream"></a>   
## <a name="type-converters-in-the-xaml-node-stream"></a><span data-ttu-id="e5798-202">Konwertery typu w strumieniu węzłów XAML</span><span class="sxs-lookup"><span data-stu-id="e5798-202">Type Converters in the XAML Node Stream</span></span>  
 <span data-ttu-id="e5798-203">Jeśli pracujesz z strumień węzłów XAML, akcji lub zakończenia wynik konwertera typów nie została jeszcze wykonana.</span><span class="sxs-lookup"><span data-stu-id="e5798-203">If you are working with a XAML node stream, the action or end result of a type converter is not yet executed.</span></span> <span data-ttu-id="e5798-204">W ścieżce obciążenia ciąg atrybutu, który ostatecznie musi być typu skonwertowany nim będzie mógł załadować pozostaje jako wartość tekstową w elementy członkowskie rozpoczęcia i zakończenia.</span><span class="sxs-lookup"><span data-stu-id="e5798-204">In a load path, the attribute string that eventually needs to be type-converted in order to load remains as a text value within a start member and end member.</span></span> <span data-ttu-id="e5798-205">Konwerter typu, który ostatecznie jest wymagana dla tej operacji można określić za pomocą <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> właściwości.</span><span class="sxs-lookup"><span data-stu-id="e5798-205">The type converter that is eventually needed for this operation can be determined by using the <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="e5798-206">Jednak uzyskiwania prawidłową wartość z <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> opiera się na potrzeby kontekst schematu XAML, który ma dostęp do takich informacji za pośrednictwem podstawowego elementu członkowskiego lub typu wartość obiektu, który używa elementu członkowskiego.</span><span class="sxs-lookup"><span data-stu-id="e5798-206">However, obtaining a valid value from <xref:System.Xaml.XamlMember.TypeConverter%2A?displayProperty=nameWithType> relies on having a XAML schema context, which can access such information through the underlying member, or the type of the object value that the member uses.</span></span> <span data-ttu-id="e5798-207">Wywoływanie zachowanie konwersji typu wymaga również kontekst schematu XAML ponieważ wymagający mapowanie typu i utworzenia wystąpienia konwertera.</span><span class="sxs-lookup"><span data-stu-id="e5798-207">Invoking the type conversion behavior also requires the XAML schema context because that requires type-mapping and creating a converter instance.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e5798-208">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="e5798-208">See Also</span></span>  
 <xref:System.ComponentModel.TypeConverterAttribute>  
 [<span data-ttu-id="e5798-209">Typy konwerterów i rozszerzenia znaczników dla XAML</span><span class="sxs-lookup"><span data-stu-id="e5798-209">Type Converters and Markup Extensions for XAML</span></span>](../../../docs/framework/xaml-services/type-converters-and-markup-extensions-for-xaml.md)  
 [<span data-ttu-id="e5798-210">Przegląd XAML (WPF)</span><span class="sxs-lookup"><span data-stu-id="e5798-210">XAML Overview (WPF)</span></span>](../../../docs/framework/wpf/advanced/xaml-overview-wpf.md)
