---
title: 'Samouczek: Klasyfikowanie naruszeń zdrowia za pomocą konstruktora modeli'
description: W tym samouczku przedstawiono sposób tworzenia wieloklasowego modelu klasyfikacji przy użyciu ML.NET Model Builder do klasyfikowania ważności naruszenia stanu zdrowia restauracji w San Francisco.
author: luisquintanilla
ms.author: luquinta
ms.date: 11/21/2019
ms.topic: tutorial
ms.custom: mvc,mlnet-tooling
ms.openlocfilehash: e94313277a025d482105a6d78b6608d4df442c43
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/15/2020
ms.locfileid: "79185841"
---
# <a name="tutorial-classify-the-severity-of-restaurant-health-violations-with-model-builder"></a><span data-ttu-id="ea8aa-103">Samouczek: Sklasyfikować nasilenie naruszeń zdrowia restauracji za pomocą konstruktora modeli</span><span class="sxs-lookup"><span data-stu-id="ea8aa-103">Tutorial: Classify the severity of restaurant health violations with Model Builder</span></span>

<span data-ttu-id="ea8aa-104">Dowiedz się, jak utworzyć wieloklasowy model klasyfikacji przy użyciu Konstruktora modeli do kategoryzowania poziomu ryzyka naruszeń restauracji znalezionych podczas inspekcji kondycji.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-104">Learn how to build a multiclass classification model using Model Builder to categorize the risk level of restaurant violations found during health inspections.</span></span>

<span data-ttu-id="ea8aa-105">Niniejszy samouczek zawiera informacje na temat wykonywania następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="ea8aa-105">In this tutorial, you learn how to:</span></span>

> [!div class="checklist"]
>
> - <span data-ttu-id="ea8aa-106">Przygotowywanie i rozumienie danych</span><span class="sxs-lookup"><span data-stu-id="ea8aa-106">Prepare and understand the data</span></span>
> - <span data-ttu-id="ea8aa-107">Wybierz scenariusz</span><span class="sxs-lookup"><span data-stu-id="ea8aa-107">Choose a scenario</span></span>
> - <span data-ttu-id="ea8aa-108">Ładowanie danych z bazy danych</span><span class="sxs-lookup"><span data-stu-id="ea8aa-108">Load data from a database</span></span>
> - <span data-ttu-id="ea8aa-109">Uczenie modelu</span><span class="sxs-lookup"><span data-stu-id="ea8aa-109">Train the model</span></span>
> - <span data-ttu-id="ea8aa-110">Ocena modelu</span><span class="sxs-lookup"><span data-stu-id="ea8aa-110">Evaluate the model</span></span>
> - <span data-ttu-id="ea8aa-111">Użyj modelu dla prognoz</span><span class="sxs-lookup"><span data-stu-id="ea8aa-111">Use the model for predictions</span></span>

> [!NOTE]
> <span data-ttu-id="ea8aa-112">Konstruktor modeli jest obecnie w wersji zapoznawczej.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-112">Model Builder is currently in Preview.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="ea8aa-113">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="ea8aa-113">Prerequisites</span></span>

<span data-ttu-id="ea8aa-114">Aby uzyskać listę wymagań wstępnych i instrukcje instalacji, odwiedź [podręcznik instalacji konstruktora modeli](../how-to-guides/install-model-builder.md).</span><span class="sxs-lookup"><span data-stu-id="ea8aa-114">For a list of prerequisites and installation instructions, visit the [Model Builder installation guide](../how-to-guides/install-model-builder.md).</span></span>

## <a name="model-builder-multiclass-classification-overview"></a><span data-ttu-id="ea8aa-115">Przegląd klasyfikacji wieloklasowej konstruktora modeli</span><span class="sxs-lookup"><span data-stu-id="ea8aa-115">Model Builder multiclass classification overview</span></span>

<span data-ttu-id="ea8aa-116">W tym przykładzie tworzy c# .NET Core konsoli aplikacji, która kategoryzuje ryzyko naruszenia kondycji przy użyciu modelu uczenia maszynowego zbudowany z Konstruktora modeli.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-116">This sample creates a C# .NET Core console application that categorizes the risk of health violations using a machine learning model built with Model Builder.</span></span> <span data-ttu-id="ea8aa-117">Kod źródłowy tego samouczka można znaleźć w repozytorium GitHub dotnet/machinelearning.You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-117">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="create-a-console-application"></a><span data-ttu-id="ea8aa-118">Tworzenie aplikacji konsolowej</span><span class="sxs-lookup"><span data-stu-id="ea8aa-118">Create a console application</span></span>

1. <span data-ttu-id="ea8aa-119">Utwórz **aplikację konsoli C# .NET Core** o nazwie "RestaurantViolations".</span><span class="sxs-lookup"><span data-stu-id="ea8aa-119">Create a **C# .NET Core console application** called "RestaurantViolations".</span></span> <span data-ttu-id="ea8aa-120">Upewnij się, że **rozwiązanie i projekt w tym samym katalogu** są **zaznaczone** (VS 2019) lub **Zaznacz akcesornie utwórz katalog dla rozwiązania** (VS 2017). **checked**</span><span class="sxs-lookup"><span data-stu-id="ea8aa-120">Make sure **Place solution and project in the same directory** is **unchecked** (VS 2019), or **Create directory for solution** is **checked** (VS 2017).</span></span>

## <a name="prepare-and-understand-the-data"></a><span data-ttu-id="ea8aa-121">Przygotowywanie i rozumienie danych</span><span class="sxs-lookup"><span data-stu-id="ea8aa-121">Prepare and understand the data</span></span>

> <span data-ttu-id="ea8aa-122">Zestaw danych używany do szkolenia i oceny modelu uczenia maszynowego pochodzi z [San Francisco Department of Public Health Restaurant Safety Scores](https://www.sfdph.org/dph/EH/Food/score/default.asp).</span><span class="sxs-lookup"><span data-stu-id="ea8aa-122">The data set used to train and evaluate the machine learning model is originally from the [San Francisco Department of Public Health Restaurant Safety Scores](https://www.sfdph.org/dph/EH/Food/score/default.asp).</span></span> <span data-ttu-id="ea8aa-123">Dla wygody zestaw danych został skrócony tylko do kolumn odpowiednich do uczenia modelu i tworzyć prognozy.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-123">For convenience, the dataset has been condensed to only include the columns relevant to train the model and make predictions.</span></span> <span data-ttu-id="ea8aa-124">Odwiedź poniższą witrynę internetową, aby dowiedzieć się więcej o [zestawie danych](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0).</span><span class="sxs-lookup"><span data-stu-id="ea8aa-124">Visit the following website to learn more about the [dataset](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0).</span></span>

<span data-ttu-id="ea8aa-125">[Pobierz zestaw danych Wyniki bezpieczeństwa restauracji](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) i rozpakuj go.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-125">[Download the Restaurant Safety Scores dataset](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) and unzip it.</span></span>

<span data-ttu-id="ea8aa-126">Każdy wiersz w zestawie danych zawiera informacje dotyczące naruszeń zaobserwowanych podczas inspekcji z Departamentu Zdrowia oraz ocenę ryzyka, jakie te naruszenia stanowią dla zdrowia i bezpieczeństwa publicznego.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-126">Each row in the dataset contains information regarding violations observed during an inspection from the Health Department and a risk assessment of the threat those violations present to public health and safety.</span></span>

| <span data-ttu-id="ea8aa-127">Typ inspekcji</span><span class="sxs-lookup"><span data-stu-id="ea8aa-127">InspectionType</span></span> | <span data-ttu-id="ea8aa-128">Opis naruszenia</span><span class="sxs-lookup"><span data-stu-id="ea8aa-128">ViolationDescription</span></span> | <span data-ttu-id="ea8aa-129">Kategoria ryzyka</span><span class="sxs-lookup"><span data-stu-id="ea8aa-129">RiskCategory</span></span> |
| --- | --- | --- |
| <span data-ttu-id="ea8aa-130">Rutynowe — nieplanowane</span><span class="sxs-lookup"><span data-stu-id="ea8aa-130">Routine - Unscheduled</span></span> | <span data-ttu-id="ea8aa-131">Niewłaściwie oczyszczone lub zdezynfekowane powierzchnie kontaktu z żywnością</span><span class="sxs-lookup"><span data-stu-id="ea8aa-131">Inadequately cleaned or sanitized food contact surfaces</span></span> | <span data-ttu-id="ea8aa-132">Umiarkowane ryzyko</span><span class="sxs-lookup"><span data-stu-id="ea8aa-132">Moderate Risk</span></span> |
| <span data-ttu-id="ea8aa-133">Nowa własność</span><span class="sxs-lookup"><span data-stu-id="ea8aa-133">New Ownership</span></span> | <span data-ttu-id="ea8aa-134">Inwazja szkodników wysokiego ryzyka</span><span class="sxs-lookup"><span data-stu-id="ea8aa-134">High risk vermin infestation</span></span> | <span data-ttu-id="ea8aa-135">Wysokie ryzyko</span><span class="sxs-lookup"><span data-stu-id="ea8aa-135">High Risk</span></span> |
| <span data-ttu-id="ea8aa-136">Rutynowe — nieplanowane</span><span class="sxs-lookup"><span data-stu-id="ea8aa-136">Routine - Unscheduled</span></span> | <span data-ttu-id="ea8aa-137">Ściereczki do wycierania nie są czyste lub prawidłowo przechowywane lub nieodpowiednie środki do dezynfekcji</span><span class="sxs-lookup"><span data-stu-id="ea8aa-137">Wiping cloths not clean or properly stored or inadequate sanitizer</span></span> | <span data-ttu-id="ea8aa-138">Niskie ryzyko</span><span class="sxs-lookup"><span data-stu-id="ea8aa-138">Low Risk</span></span> |

- <span data-ttu-id="ea8aa-139">**KontrolaTyp:** rodzaj kontroli.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-139">**InspectionType**: the type of inspection.</span></span> <span data-ttu-id="ea8aa-140">Może to być inspekcja po raz pierwszy w nowym zakładzie, rutynowa kontrola, kontrola reklamacji i wiele innych rodzajów.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-140">This can either be a first-time inspection for a new establishment, a routine inspection, a complaint inspection, and many other types.</span></span>
- <span data-ttu-id="ea8aa-141">**NaruszenieOpis**: opis naruszenia znalezione podczas kontroli.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-141">**ViolationDescription**: a description of the violation found during inspection.</span></span>
- <span data-ttu-id="ea8aa-142">**Kategoria ryzyka:** dotkliwość ryzyka, jakie naruszenie stwarza dla zdrowia i bezpieczeństwa publicznego.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-142">**RiskCategory**: the risk severity a violation poses to public health and safety.</span></span>

<span data-ttu-id="ea8aa-143">Jest `label` to kolumna, którą chcesz przewidzieć.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-143">The `label` is the column you want to predict.</span></span> <span data-ttu-id="ea8aa-144">Podczas wykonywania zadania klasyfikacji celem jest przypisanie kategorii (tekstowej lub numerycznej).</span><span class="sxs-lookup"><span data-stu-id="ea8aa-144">When performing a classification task, the goal is to assign a category (text or numerical).</span></span> <span data-ttu-id="ea8aa-145">W tym scenariuszu klasyfikacji nasilenie naruszenia jest przypisywana wartość niskiego, umiarkowanego lub wysokiego ryzyka.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-145">In this classification scenario, the severity of the violation is assigned the value of low, moderate, or high risk.</span></span> <span data-ttu-id="ea8aa-146">W związku z tym **RiskCategory** jest etykietą.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-146">Therefore, the **RiskCategory** is the label.</span></span> <span data-ttu-id="ea8aa-147">Są `features` to dane wejściowe, które dajesz modelowi do przewidywania `label`.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-147">The `features` are the inputs you give the model to predict the `label`.</span></span> <span data-ttu-id="ea8aa-148">W takim przypadku **InspectionType** i **ViolationDescription** są używane jako funkcje lub dane wejściowe do przewidywania **RiskCategory**.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-148">In this case, the **InspectionType** and **ViolationDescription** are used as features or inputs to predict the **RiskCategory**.</span></span>

## <a name="choose-a-scenario"></a><span data-ttu-id="ea8aa-149">Wybierz scenariusz</span><span class="sxs-lookup"><span data-stu-id="ea8aa-149">Choose a scenario</span></span>

![Kreator konstruktora modeli w programie Visual Studio](./media/sentiment-analysis-model-builder/model-builder-screen.png)

<span data-ttu-id="ea8aa-151">Aby nabyć model, wybierz z listy dostępnych scenariuszy uczenia maszynowego dostarczonych przez Konstruktora modeli.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-151">To train your model, select from the list of available machine learning scenarios provided by Model Builder.</span></span> <span data-ttu-id="ea8aa-152">W takim przypadku scenariuszem jest *klasyfikacja problemów*.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-152">In this case, the scenario is *Issue Classification*.</span></span>

1. <span data-ttu-id="ea8aa-153">W **Eksploratorze rozwiązań**kliknij prawym przyciskiem myszy projekt *RestaurantViolations* i wybierz polecenie **Dodaj** > **uczenie maszynowe**.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-153">In **Solution Explorer**, right-click the *RestaurantViolations* project, and select **Add** > **Machine Learning**.</span></span>
1. <span data-ttu-id="ea8aa-154">W tym przykładzie scenariusz jest klasyfikacja wieloklasowa.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-154">For this sample, the scenario is multiclass classification.</span></span> <span data-ttu-id="ea8aa-155">W *kroku Scenariusz* Konstruktora modelu wybierz scenariusz **klasyfikacji problemów.**</span><span class="sxs-lookup"><span data-stu-id="ea8aa-155">In the *Scenario* step of Model Builder, select the **Issue Classification** scenario.</span></span>

## <a name="load-the-data"></a><span data-ttu-id="ea8aa-156">Ładowanie danych</span><span class="sxs-lookup"><span data-stu-id="ea8aa-156">Load the data</span></span>

<span data-ttu-id="ea8aa-157">Program Konstruktor modeli akceptuje dane z `csv` bazy `tsv` danych programu SQL Server lub pliku lokalnego w formacie lub formatu.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-157">Model Builder accepts data from a SQL Server database or a local file in `csv` or `tsv` format.</span></span>

1. <span data-ttu-id="ea8aa-158">W kroku danych narzędzia Konstruktor modeli wybierz pozycję **SQL Server** z listy rozwijanej źródła danych.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-158">In the data step of the Model Builder tool, select **SQL Server** from the data source dropdown.</span></span>
1. <span data-ttu-id="ea8aa-159">Zaznacz przycisk obok pola tekstowego Połącz z **bazą danych programu SQL Server.**</span><span class="sxs-lookup"><span data-stu-id="ea8aa-159">Select the button next to the **Connect to SQL Server database** text box.</span></span>
    1. <span data-ttu-id="ea8aa-160">W oknie dialogowym **Wybieranie danych** wybierz pozycję **Plik bazy danych programu Microsoft SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-160">In the **Choose Data** dialog, select **Microsoft SQL Server Database File**.</span></span>
    1. <span data-ttu-id="ea8aa-161">Usuń zaznaczenie pola wyboru **Zawsze używaj tego zaznaczenia** i wybierz pozycję **Kontynuuj**.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-161">Uncheck the **Always use this selection** checkbox and select **Continue**.</span></span>
    1. <span data-ttu-id="ea8aa-162">W oknie dialogowym **Właściwości połączenia** wybierz **pozycję Przeglądaj** i wybierz pobrany plik *RestaurantScores.mdf.*</span><span class="sxs-lookup"><span data-stu-id="ea8aa-162">In the **Connection Properties** dialog, select **Browse** and select the downloaded *RestaurantScores.mdf* file.</span></span>
    1. <span data-ttu-id="ea8aa-163">Kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-163">Select **OK**.</span></span>
1. <span data-ttu-id="ea8aa-164">Z listy rozwijanej **Nazwa tabeli** wybierz **pozycję Naruszenia.**</span><span class="sxs-lookup"><span data-stu-id="ea8aa-164">Choose **Violations** from the **Table Name** dropdown.</span></span>
1. <span data-ttu-id="ea8aa-165">Wybierz **pozycję RiskCategory** z listy rozwijanej **Kolumna do przewidywania (etykieta).**</span><span class="sxs-lookup"><span data-stu-id="ea8aa-165">Choose **RiskCategory** in the **Column to Predict (Label)** dropdown.</span></span>
1. <span data-ttu-id="ea8aa-166">Pozostaw domyślne opcje kolumn, **InspectionType** i **ViolationDescription**, zaznaczone w menu rozwijanym **Kolumny wejściowe (Funkcje).**</span><span class="sxs-lookup"><span data-stu-id="ea8aa-166">Leave the default column selections, **InspectionType** and **ViolationDescription**, checked in the **Input Columns (Features)** dropdown.</span></span>
1. <span data-ttu-id="ea8aa-167">Wybierz **łącze Pociąg,** aby przejść do następnego kroku w konstruktorze modeli.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-167">Select the **Train** link to move to the next step in Model Builder.</span></span>

## <a name="train-the-model"></a><span data-ttu-id="ea8aa-168">Uczenie modelu</span><span class="sxs-lookup"><span data-stu-id="ea8aa-168">Train the model</span></span>

<span data-ttu-id="ea8aa-169">Zadanie uczenia maszynowego używane do uczenia modelu klasyfikacji problemów w tym samouczku jest klasyfikacja wieloklasowa.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-169">The machine learning task used to train the issue classification model in this tutorial is multiclass classification.</span></span> <span data-ttu-id="ea8aa-170">Podczas procesu szkolenia modelu Model Builder pociągów oddzielnych modeli przy użyciu różnych algorytmów klasyfikacji wieloklasowej i ustawień, aby znaleźć model o najlepszej wydajności dla zestawu danych.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-170">During the model training process, Model Builder trains separate models using different multiclass classification algorithms and settings to find the best performing model for your dataset.</span></span>

<span data-ttu-id="ea8aa-171">Czas wymagany do przekwalifikowania modelu jest proporcjonalny do ilości danych.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-171">The time required for the model to train is proportional to the amount of data.</span></span> <span data-ttu-id="ea8aa-172">Konstruktor modeli automatycznie wybiera wartość domyślną dla **time to train (seconds)** na podstawie rozmiaru źródła danych.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-172">Model Builder automatically selects a default value for **Time to train (seconds)** based on the size of your data source.</span></span>

1. <span data-ttu-id="ea8aa-173">Mimo że Konstruktor modeli ustawia wartość **Czasu do pociągu (sekundy)** na 10 sekund, zwiększ ją do 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-173">Although Model Builder sets the value of **Time to train (seconds)** to 10 seconds, increase it to 30 seconds.</span></span> <span data-ttu-id="ea8aa-174">Szkolenie przez dłuższy czas umożliwia konstruktorowi modeli eksplorowanie większej liczby algorytmów i kombinacji parametrów w poszukiwaniu najlepszego modelu.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-174">Training for a longer period of time allows Model Builder to explore a larger number of algorithms and combination of parameters in search of the best model.</span></span>
1. <span data-ttu-id="ea8aa-175">Wybierz **pozycję Rozpocznij szkolenie**.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-175">Select **Start Training**.</span></span>

    <span data-ttu-id="ea8aa-176">W trakcie całego procesu szkolenia dane `Progress` postępu są wyświetlane w sekcji etapu pociągu.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-176">Throughout the training process, progress data is displayed in the `Progress` section of the train step.</span></span>

    - <span data-ttu-id="ea8aa-177">**Stan** wyświetla stan ukończenia procesu szkolenia.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-177">**Status** displays the completion status of the training process.</span></span>
    - <span data-ttu-id="ea8aa-178">**Najlepsza dokładność** pokazuje dokładność najlepiej działającego modelu znalezionego do tej pory przez Model Builder.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-178">**Best accuracy** displays the accuracy of the best performing model found by Model Builder so far.</span></span> <span data-ttu-id="ea8aa-179">Większa dokładność oznacza, że model jest bardziej poprawnie przewidywany na danych testowych.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-179">Higher accuracy means the model predicted more correctly on test data.</span></span>
    - <span data-ttu-id="ea8aa-180">**Najlepszy algorytm** wyświetla nazwę algorytmu o najlepszych wynikach znalezionych do tej pory przez konstruktora modeli.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-180">**Best algorithm** displays the name of the best-performing algorithm found by Model Builder so far.</span></span>
    - <span data-ttu-id="ea8aa-181">**Ostatni algorytm** wyświetla nazwę algorytmu ostatnio używanego przez konstruktora modelu do uczenia modelu.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-181">**Last algorithm** displays the name of the algorithm most recently used by Model Builder to train the model.</span></span>

1. <span data-ttu-id="ea8aa-182">Po zakończeniu szkolenia wybierz link **Oceń,** aby przejść do następnego kroku.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-182">Once training is complete, select the **Evaluate** link to move to the next step.</span></span>

## <a name="evaluate-the-model"></a><span data-ttu-id="ea8aa-183">Ocena modelu</span><span class="sxs-lookup"><span data-stu-id="ea8aa-183">Evaluate the model</span></span>

<span data-ttu-id="ea8aa-184">Wynikiem etapu szkolenia jest jeden model, który miał najlepszą wydajność.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-184">The result of the training step is the one model that had the best performance.</span></span> <span data-ttu-id="ea8aa-185">W kroku oceny Konstruktora modelu sekcja danych wyjściowych zawiera algorytm używany przez najlepiej działający model we wpisie **Najlepszy model** wraz z metrykami w **najlepszej dokładności modelu**.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-185">In the evaluate step of Model Builder, the output section contains the algorithm used by the best performing model in the **Best Model** entry along with metrics in **Best Model Accuracy**.</span></span> <span data-ttu-id="ea8aa-186">Ponadto tabela podsumowania zawierająca maksymalnie pięć modeli, które zostały eksplorowane i ich metryki jest wyświetlany.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-186">Additionally, a summary table containing up to five models that were explored and their metrics is displayed.</span></span>

<span data-ttu-id="ea8aa-187">Jeśli nie jesteś zadowolony z metryk dokładności, kilka prostych sposobów, aby spróbować zwiększyć dokładność modelu są zwiększenie czasu na szkolenie modelu lub użyć więcej danych.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-187">If you're not satisfied with your accuracy metrics, some easy ways to try to improve model accuracy are to increase the amount of time to train the model or use more data.</span></span> <span data-ttu-id="ea8aa-188">W przeciwnym razie wybierz łącze **kodu,** aby przejść do ostatniego kroku w Konstruktorze modeli.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-188">Otherwise, select the **code** link to move to the final step in Model Builder.</span></span>

## <a name="add-the-code-to-make-predictions"></a><span data-ttu-id="ea8aa-189">Dodawanie kodu do prognozowania</span><span class="sxs-lookup"><span data-stu-id="ea8aa-189">Add the code to make predictions</span></span>

<span data-ttu-id="ea8aa-190">Dwa projekty są tworzone w wyniku procesu szkolenia.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-190">Two projects are created as a result of the training process.</span></span>

- <span data-ttu-id="ea8aa-191">RestaurantViolationsML.ConsoleApp: Aplikacja C# .NET Core Console, która zawiera szkolenie modelu i przykładowy kod zużycia.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-191">RestaurantViolationsML.ConsoleApp: A C# .NET Core Console application that contains the model training and sample consumption code.</span></span>
- <span data-ttu-id="ea8aa-192">RestaurantViolationsML.Model: Biblioteka klas .NET Standard zawierająca modele danych definiujące schemat danych modelu wejściowego i wyjściowego, zapisaną `ConsumeModel` wersję modelu o najlepszej wydajności podczas szkolenia oraz klasę pomocnika wywoływaną do prognozowania.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-192">RestaurantViolationsML.Model: A .NET Standard class library containing the data models that define the schema of input and output model data, the saved version of the best performing model during training, and a helper class called `ConsumeModel` to make predictions.</span></span>

1. <span data-ttu-id="ea8aa-193">W kroku kodu Konstruktora modeli wybierz **pozycję Dodaj projekty,** aby dodać projekty wygenerowane automatycznie do rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-193">In the code step of Model Builder, select **Add Projects** to add the autogenerated projects to the solution.</span></span>
1. <span data-ttu-id="ea8aa-194">Otwórz plik *Program.cs* w projekcie *RestaurantViolations.*</span><span class="sxs-lookup"><span data-stu-id="ea8aa-194">Open the *Program.cs* file in the *RestaurantViolations* project.</span></span>
1. <span data-ttu-id="ea8aa-195">Dodaj następujące using instrukcji do odwołania *RestaurantViolationsML.Model* projektu:</span><span class="sxs-lookup"><span data-stu-id="ea8aa-195">Add the following using statement to reference the *RestaurantViolationsML.Model* project:</span></span>

    [!code-csharp [ProgramUsings](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L2)]

1. <span data-ttu-id="ea8aa-196">Aby przewidzieć nowe dane przy użyciu modelu, należy `ModelInput` utworzyć `Main` nowe wystąpienie klasy wewnątrz metody aplikacji.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-196">To make a prediction on new data using the model, create a new instance of the `ModelInput` class inside the `Main` method of your application.</span></span> <span data-ttu-id="ea8aa-197">Należy zauważyć, że kategoria ryzyka nie jest częścią danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-197">Notice that the risk category is not part of the input.</span></span> <span data-ttu-id="ea8aa-198">Jest to spowodowane model generuje przewidywanie dla niego.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-198">This is because the model generates the prediction for it.</span></span>

    [!code-csharp [TestData](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L11-L15)]

1. <span data-ttu-id="ea8aa-199">Użyj `Predict` metody z `ConsumeModel` klasy.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-199">Use the `Predict` method from the `ConsumeModel` class.</span></span> <span data-ttu-id="ea8aa-200">Metoda `Predict` ładuje uczonego [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) modelu, tworzy dla modelu i używa go do prognozowania nowych danych.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-200">The `Predict` method loads the trained model, creates a [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) for the model, and uses it to make predictions on new data.</span></span>

    [!code-csharp [Prediction](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L17-L24)]

1. <span data-ttu-id="ea8aa-201">Uruchom aplikację.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-201">Run the application.</span></span>

    <span data-ttu-id="ea8aa-202">Dane wyjściowe wygenerowane przez program powinny wyglądać podobnie do poniższego fragmentu kodu:</span><span class="sxs-lookup"><span data-stu-id="ea8aa-202">The output generated by the program should look similar to the snippet below:</span></span>

    ```bash
    Inspection Type: Complaint
    Violation Description: Inadequate sewage or wastewater disposal
    Risk Category: Moderate Risk
    ```

<span data-ttu-id="ea8aa-203">Jeśli chcesz odwołać się do wygenerowanych projektów w późniejszym czasie wewnątrz `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools` innego rozwiązania, można je znaleźć w katalogu.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-203">If you need to reference the generated projects at a later time inside of another solution, you can find them inside the `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools` directory.</span></span>

<span data-ttu-id="ea8aa-204">Gratulacje!</span><span class="sxs-lookup"><span data-stu-id="ea8aa-204">Congratulations!</span></span> <span data-ttu-id="ea8aa-205">Pomyślnie skonstruowano model uczenia maszynowego, aby kategoryzować ryzyko naruszenia kondycji przy użyciu Konstruktora modeli.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-205">You've successfully built a machine learning model to categorize the risk of health violations using Model Builder.</span></span> <span data-ttu-id="ea8aa-206">Kod źródłowy tego samouczka można znaleźć w repozytorium GitHub dotnet/machinelearning.You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span><span class="sxs-lookup"><span data-stu-id="ea8aa-206">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="ea8aa-207">Zasoby dodatkowe</span><span class="sxs-lookup"><span data-stu-id="ea8aa-207">Additional resources</span></span>

<span data-ttu-id="ea8aa-208">Aby dowiedzieć się więcej na tematy wymienione w tym samouczku, odwiedź następujące zasoby:</span><span class="sxs-lookup"><span data-stu-id="ea8aa-208">To learn more about topics mentioned in this tutorial, visit the following resources:</span></span>

- [<span data-ttu-id="ea8aa-209">Scenariusze konstruktora modeli</span><span class="sxs-lookup"><span data-stu-id="ea8aa-209">Model Builder Scenarios</span></span>](../automate-training-with-model-builder.md#scenarios)
- [<span data-ttu-id="ea8aa-210">Klasyfikacja wieloklasowa</span><span class="sxs-lookup"><span data-stu-id="ea8aa-210">Multiclass Classification</span></span>](../resources/glossary.md#multiclass-classification)
- [<span data-ttu-id="ea8aa-211">Metryki modelu klasyfikacji wieloklasowej</span><span class="sxs-lookup"><span data-stu-id="ea8aa-211">Multiclass Classification Model Metrics</span></span>](../resources/metrics.md#evaluation-metrics-for-multi-class-classification)
