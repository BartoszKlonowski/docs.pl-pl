---
title: 'Samouczek: klasyfikowanie naruszeń kondycji przy użyciu konstruktora modelu'
description: W tym samouczku przedstawiono sposób tworzenia wieloklasowego modelu klasyfikacji przy użyciu konstruktora modelu ML.NET do klasyfikowania ważności naruszenia kondycji restauracji w sieci San Francisco.
author: luisquintanilla
ms.author: luquinta
ms.date: 10/30/2019
ms.topic: tutorial
ms.custom: mvc
ms.openlocfilehash: 53f446d4aad8517d758e936d2d2881071f319423
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/30/2019
ms.locfileid: "73142180"
---
# <a name="tutorial-classify-the-severity-of-restaurant-health-violations-with-model-builder"></a><span data-ttu-id="aad4d-103">Samouczek: klasyfikowanie ważności naruszeń kondycji restauracji przy użyciu konstruktora modelu</span><span class="sxs-lookup"><span data-stu-id="aad4d-103">Tutorial: Classify the severity of restaurant health violations with Model Builder</span></span>

<span data-ttu-id="aad4d-104">Dowiedz się, jak utworzyć model klasyfikacji wieloklasowej przy użyciu konstruktora modelu, aby określić poziom ryzyka naruszeń restauracji znalezionych podczas inspekcji kondycji.</span><span class="sxs-lookup"><span data-stu-id="aad4d-104">Learn how to build a multiclass classification model using Model Builder to categorize the risk level of restaurant violations found during health inspections.</span></span>

<span data-ttu-id="aad4d-105">Z tego samouczka dowiesz się, jak wykonywać następujące czynności:</span><span class="sxs-lookup"><span data-stu-id="aad4d-105">In this tutorial, you learn how to:</span></span>

> [!div class="checklist"]
>
> - <span data-ttu-id="aad4d-106">Przygotuj i poznanie danych</span><span class="sxs-lookup"><span data-stu-id="aad4d-106">Prepare and understand the data</span></span>
> - <span data-ttu-id="aad4d-107">Wybierz scenariusz</span><span class="sxs-lookup"><span data-stu-id="aad4d-107">Choose a scenario</span></span>
> - <span data-ttu-id="aad4d-108">Ładowanie danych z bazy danych</span><span class="sxs-lookup"><span data-stu-id="aad4d-108">Load data from a database</span></span>
> - <span data-ttu-id="aad4d-109">Uczenie modelu</span><span class="sxs-lookup"><span data-stu-id="aad4d-109">Train the model</span></span>
> - <span data-ttu-id="aad4d-110">Oceń model</span><span class="sxs-lookup"><span data-stu-id="aad4d-110">Evaluate the model</span></span>
> - <span data-ttu-id="aad4d-111">Używanie modelu dla prognoz</span><span class="sxs-lookup"><span data-stu-id="aad4d-111">Use the model for predictions</span></span>

> [!NOTE]
> <span data-ttu-id="aad4d-112">Konstruktor modeli jest obecnie w wersji zapoznawczej.</span><span class="sxs-lookup"><span data-stu-id="aad4d-112">Model Builder is currently in Preview.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="aad4d-113">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="aad4d-113">Prerequisites</span></span>

<span data-ttu-id="aad4d-114">Listę wymagań wstępnych i instrukcji instalacji można znaleźć w [podręczniku instalacji programu model Builder](../how-to-guides/install-model-builder.md).</span><span class="sxs-lookup"><span data-stu-id="aad4d-114">For a list of prerequisites and installation instructions, visit the [Model Builder installation guide](../how-to-guides/install-model-builder.md).</span></span>

## <a name="model-builder-multiclass-classification-overview"></a><span data-ttu-id="aad4d-115">Omówienie klasyfikacji wieloklasowej konstruktora modelu</span><span class="sxs-lookup"><span data-stu-id="aad4d-115">Model Builder multiclass classification overview</span></span> 

<span data-ttu-id="aad4d-116">Ten przykład służy do C# tworzenia aplikacji konsolowej .NET Core, która klasyfikuje ryzyko naruszeń kondycji przy użyciu modelu uczenia maszynowego skompilowanego za pomocą konstruktora modeli.</span><span class="sxs-lookup"><span data-stu-id="aad4d-116">This sample creates a C# .NET Core console application that categorizes the risk of health violations using a machine learning model built with Model Builder.</span></span> <span data-ttu-id="aad4d-117">Kod źródłowy dla tego samouczka można znaleźć w repozytorium usługi GitHub [/machinelearning-Samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) .</span><span class="sxs-lookup"><span data-stu-id="aad4d-117">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="create-a-console-application"></a><span data-ttu-id="aad4d-118">Tworzenie aplikacji konsolowej</span><span class="sxs-lookup"><span data-stu-id="aad4d-118">Create a console application</span></span>

1. <span data-ttu-id="aad4d-119">Utwórz  **C# aplikację konsolową .NET Core** o nazwie "RestaurantViolations".</span><span class="sxs-lookup"><span data-stu-id="aad4d-119">Create a **C# .NET Core console application** called "RestaurantViolations".</span></span>

## <a name="prepare-and-understand-the-data"></a><span data-ttu-id="aad4d-120">Przygotuj i poznanie danych</span><span class="sxs-lookup"><span data-stu-id="aad4d-120">Prepare and understand the data</span></span>

> <span data-ttu-id="aad4d-121">Zestaw danych służący do uczenia i oceny modelu uczenia maszynowego jest pierwotnie z [działu San Francisco w zakresie bezpieczeństwa w restauracji](https://www.sfdph.org/dph/EH/Food/score/default.asp)</span><span class="sxs-lookup"><span data-stu-id="aad4d-121">The data set used to train and evaluate the machine learning model is originally from the [San Francisco Department of Public Health Restaurant Safety Scores](https://www.sfdph.org/dph/EH/Food/score/default.asp).</span></span> <span data-ttu-id="aad4d-122">Dla wygody zestaw danych został skrócony do uwzględnienia tylko kolumn istotnych do uczenia modelu i podejmowania prognoz.</span><span class="sxs-lookup"><span data-stu-id="aad4d-122">For convenience, the dataset has been condensed to only include the columns relevant to train the model and make predictions.</span></span> <span data-ttu-id="aad4d-123">Odwiedź następującą witrynę sieci Web, aby dowiedzieć się więcej na temat [zestawu danych](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0).</span><span class="sxs-lookup"><span data-stu-id="aad4d-123">Visit the following website to learn more about the [dataset](https://data.sfgov.org/Health-and-Social-Services/Restaurant-Scores-LIVES-Standard/pyih-qa8i?row_index=0).</span></span>

<span data-ttu-id="aad4d-124">[Pobierz zestaw danych ocen bezpieczeństwa restauracji](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) i rozpakuj go.</span><span class="sxs-lookup"><span data-stu-id="aad4d-124">[Download the Restaurant Safety Scores dataset](https://github.com/luisquintanilla/machinelearning-samples/raw/AB1608219/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantScores.zip) and unzip it.</span></span>

<span data-ttu-id="aad4d-125">Każdy wiersz w zestawie danych zawiera informacje dotyczące naruszeń zaobserwowanych podczas inspekcji działu kondycji i oceny ryzyka związanego z zagrożeniami związanymi z kondycją publiczną i bezpieczeństwem.</span><span class="sxs-lookup"><span data-stu-id="aad4d-125">Each row in the dataset contains information regarding violations observed during an inspection from the Health Department and a risk assessment of the threat those violations present to public health and safety.</span></span>

| <span data-ttu-id="aad4d-126">Nr inspekcji</span><span class="sxs-lookup"><span data-stu-id="aad4d-126">InspectionType</span></span> | <span data-ttu-id="aad4d-127">ViolationDescription</span><span class="sxs-lookup"><span data-stu-id="aad4d-127">ViolationDescription</span></span> | <span data-ttu-id="aad4d-128">RiskCategory</span><span class="sxs-lookup"><span data-stu-id="aad4d-128">RiskCategory</span></span> |
| --- | --- | --- |
| <span data-ttu-id="aad4d-129">Procedura — niezaplanowana</span><span class="sxs-lookup"><span data-stu-id="aad4d-129">Routine - Unscheduled</span></span> | <span data-ttu-id="aad4d-130">Niedostatecznie oczyszczone lub oczyszczone powierzchnie kontaktowe żywności</span><span class="sxs-lookup"><span data-stu-id="aad4d-130">Inadequately cleaned or sanitized food contact surfaces</span></span> | <span data-ttu-id="aad4d-131">Umiarkowane ryzyko</span><span class="sxs-lookup"><span data-stu-id="aad4d-131">Moderate Risk</span></span> |
| <span data-ttu-id="aad4d-132">Nowy własność</span><span class="sxs-lookup"><span data-stu-id="aad4d-132">New Ownership</span></span> | <span data-ttu-id="aad4d-133">Zainfekowanie szkodników o wysokim ryzyku</span><span class="sxs-lookup"><span data-stu-id="aad4d-133">High risk vermin infestation</span></span> | <span data-ttu-id="aad4d-134">Wysokie ryzyko</span><span class="sxs-lookup"><span data-stu-id="aad4d-134">High Risk</span></span> |
| <span data-ttu-id="aad4d-135">Procedura — niezaplanowana</span><span class="sxs-lookup"><span data-stu-id="aad4d-135">Routine - Unscheduled</span></span> | <span data-ttu-id="aad4d-136">Czyszczenie tkanin nieoczyszczonych lub nieprawidłowo przechowywanych lub niewystarczających Sanitizer</span><span class="sxs-lookup"><span data-stu-id="aad4d-136">Wiping cloths not clean or properly stored or inadequate sanitizer</span></span> | <span data-ttu-id="aad4d-137">Niskie ryzyko</span><span class="sxs-lookup"><span data-stu-id="aad4d-137">Low Risk</span></span> |

- <span data-ttu-id="aad4d-138">**Inspekcja**: typ inspekcji.</span><span class="sxs-lookup"><span data-stu-id="aad4d-138">**InspectionType**: the type of inspection.</span></span> <span data-ttu-id="aad4d-139">Może to być jednorazowa Inspekcja dla nowego zakładu, inspekcji rutynowej, inspekcji skargi i wielu innych typów.</span><span class="sxs-lookup"><span data-stu-id="aad4d-139">This can either be a first-time inspection for a new establishment, a routine inspection, a complaint inspection, and many other types.</span></span>
- <span data-ttu-id="aad4d-140">**ViolationDescription**: Opis naruszenia wykryty podczas inspekcji.</span><span class="sxs-lookup"><span data-stu-id="aad4d-140">**ViolationDescription**: a description of the violation found during inspection.</span></span> 
- <span data-ttu-id="aad4d-141">**RiskCategory**: ważność ryzyka narusza kondycję publiczną i bezpieczeństwo.</span><span class="sxs-lookup"><span data-stu-id="aad4d-141">**RiskCategory**: the risk severity a violation poses to public health and safety.</span></span>

<span data-ttu-id="aad4d-142">`label` to kolumna, która ma zostać przewidywalna.</span><span class="sxs-lookup"><span data-stu-id="aad4d-142">The `label` is the column you want to predict.</span></span> <span data-ttu-id="aad4d-143">Podczas wykonywania zadania klasyfikacji celem jest przypisanie kategorii (tekst lub liczbowy).</span><span class="sxs-lookup"><span data-stu-id="aad4d-143">When performing a classification task, the goal is to assign a category (text or numerical).</span></span> <span data-ttu-id="aad4d-144">W tym scenariuszu klasyfikacji ważność naruszenia ma przypisaną wartość niski, średni lub wysokie ryzyko.</span><span class="sxs-lookup"><span data-stu-id="aad4d-144">In this classification scenario, the severity of the violation is assigned the value of low, moderate, or high risk.</span></span> <span data-ttu-id="aad4d-145">W związku z tym **RiskCategory** jest etykietą.</span><span class="sxs-lookup"><span data-stu-id="aad4d-145">Therefore, the **RiskCategory** is the label.</span></span> <span data-ttu-id="aad4d-146">`features` to dane wejściowe, które dają model do przewidywania `label`.</span><span class="sxs-lookup"><span data-stu-id="aad4d-146">The `features` are the inputs you give the model to predict the `label`.</span></span> <span data-ttu-id="aad4d-147">W tym przypadku elementy **inspekcje** i **ViolationDescription** są używane jako funkcje lub dane wejściowe do przewidywania **RiskCategory**.</span><span class="sxs-lookup"><span data-stu-id="aad4d-147">In this case, the **InspectionType** and **ViolationDescription** are used as features or inputs to predict the **RiskCategory**.</span></span>

## <a name="choose-a-scenario"></a><span data-ttu-id="aad4d-148">Wybierz scenariusz</span><span class="sxs-lookup"><span data-stu-id="aad4d-148">Choose a scenario</span></span>

![Kreator konstruktora modelu w programie Visual Studio](./media/sentiment-analysis-model-builder/model-builder-screen.png)

<span data-ttu-id="aad4d-150">Aby nauczyć model, wybierz z listy Dostępne scenariusze uczenia maszynowego udostępniane przez konstruktora modelu.</span><span class="sxs-lookup"><span data-stu-id="aad4d-150">To train your model, select from the list of available machine learning scenarios provided by Model Builder.</span></span> <span data-ttu-id="aad4d-151">W tym przypadku scenariuszem jest *Klasyfikacja problemu*.</span><span class="sxs-lookup"><span data-stu-id="aad4d-151">In this case, the scenario is *Issue Classification*.</span></span>

1. <span data-ttu-id="aad4d-152">W **Eksplorator rozwiązań**kliknij prawym przyciskiem myszy projekt *RestaurantViolations* i wybierz polecenie **Dodaj** > **Machine Learning**.</span><span class="sxs-lookup"><span data-stu-id="aad4d-152">In **Solution Explorer**, right-click the *RestaurantViolations* project, and select **Add** > **Machine Learning**.</span></span>
1. <span data-ttu-id="aad4d-153">W tym przykładzie scenariusz jest klasyfikacją wieloklasową.</span><span class="sxs-lookup"><span data-stu-id="aad4d-153">For this sample, the scenario is multiclass classification.</span></span> <span data-ttu-id="aad4d-154">W kroku *scenariusz* konstruktora modelu Wybierz scenariusz **klasyfikacji problemu** .</span><span class="sxs-lookup"><span data-stu-id="aad4d-154">In the *Scenario* step of Model Builder, select the **Issue Classification** scenario.</span></span>

## <a name="load-the-data"></a><span data-ttu-id="aad4d-155">Ładowanie danych</span><span class="sxs-lookup"><span data-stu-id="aad4d-155">Load the data</span></span>

<span data-ttu-id="aad4d-156">Konstruktor modelu akceptuje dane z bazy danych SQL Server lub pliku lokalnego w formacie `csv` lub `tsv`.</span><span class="sxs-lookup"><span data-stu-id="aad4d-156">Model Builder accepts data from a SQL Server database or a local file in `csv` or `tsv` format.</span></span>

1. <span data-ttu-id="aad4d-157">W kroku dane narzędzia model Builder wybierz pozycję **SQL Server** z listy rozwijanej Źródło danych.</span><span class="sxs-lookup"><span data-stu-id="aad4d-157">In the data step of the Model Builder tool, select **SQL Server** from the data source dropdown.</span></span>
1. <span data-ttu-id="aad4d-158">Zaznacz przycisk obok pola tekstowego **Połącz z bazą danych SQL Server** .</span><span class="sxs-lookup"><span data-stu-id="aad4d-158">Select the button next to the **Connect to SQL Server database** text box.</span></span>
    1. <span data-ttu-id="aad4d-159">W oknie dialogowym **Wybierz dane** wybierz pozycję **plik bazy danych Microsoft SQL Server**.</span><span class="sxs-lookup"><span data-stu-id="aad4d-159">In the **Choose Data** dialog, select **Microsoft SQL Server Database File**.</span></span> 
    1. <span data-ttu-id="aad4d-160">Usuń zaznaczenie pola wyboru **zawsze używaj tego zaznaczenia** i wybierz pozycję **Kontynuuj**.</span><span class="sxs-lookup"><span data-stu-id="aad4d-160">Uncheck the **Always use this selection** checkbox and select **Continue**.</span></span>
    1. <span data-ttu-id="aad4d-161">W oknie dialogowym **Właściwości połączenia** wybierz pozycję **Przeglądaj** i wybierz pobrany plik *RestaurantScores. mdf* .</span><span class="sxs-lookup"><span data-stu-id="aad4d-161">In the **Connection Properties** dialog, select **Browse** and select the downloaded *RestaurantScores.mdf* file.</span></span>
    1. <span data-ttu-id="aad4d-162">Wybierz **przycisk OK**.</span><span class="sxs-lookup"><span data-stu-id="aad4d-162">Select **OK**.</span></span>
1. <span data-ttu-id="aad4d-163">Wybierz pozycję **naruszenia** z listy rozwijanej **Nazwa tabeli** .</span><span class="sxs-lookup"><span data-stu-id="aad4d-163">Choose **Violations** from the **Table Name** dropdown.</span></span>
1. <span data-ttu-id="aad4d-164">Wybierz pozycję **RiskCategory** w **kolumnie do przewidywania (etykieta)** listy rozwijanej.</span><span class="sxs-lookup"><span data-stu-id="aad4d-164">Choose **RiskCategory** in the **Column to Predict (Label)** dropdown.</span></span>
1. <span data-ttu-id="aad4d-165">Pozostaw domyślne zaznaczenia kolumn, **Inspekcja** i **ViolationDescription**, zaznaczone na liście rozwijanej **kolumny wejściowe (funkcje)** .</span><span class="sxs-lookup"><span data-stu-id="aad4d-165">Leave the default column selections, **InspectionType** and **ViolationDescription**, checked in the **Input Columns (Features)** dropdown.</span></span>
1. <span data-ttu-id="aad4d-166">Wybierz łącze **uczenie** , aby przejść do następnego kroku w programie model Builder.</span><span class="sxs-lookup"><span data-stu-id="aad4d-166">Select the **Train** link to move to the next step in Model Builder.</span></span>

## <a name="train-the-model"></a><span data-ttu-id="aad4d-167">Uczenie modelu</span><span class="sxs-lookup"><span data-stu-id="aad4d-167">Train the model</span></span>

<span data-ttu-id="aad4d-168">Zadanie uczenia maszynowego używane do uczenia modelu klasyfikacji problemu w tym samouczku jest klasyfikacją wieloklasową.</span><span class="sxs-lookup"><span data-stu-id="aad4d-168">The machine learning task used to train the issue classification model in this tutorial is multiclass classification.</span></span> <span data-ttu-id="aad4d-169">W trakcie procesu szkolenia modelu, Konstruktor modelu pociąga za siebie oddzielne modele korzystające z różnych algorytmów klasyfikacji i ustawień wieloklasowych, aby znaleźć najlepszy model dla zestawu danych.</span><span class="sxs-lookup"><span data-stu-id="aad4d-169">During the model training process, Model Builder trains separate models using different multiclass classification algorithms and settings to find the best performing model for your dataset.</span></span>

<span data-ttu-id="aad4d-170">Czas wymagany przez model do uczenia jest proporcjonalny do ilości danych.</span><span class="sxs-lookup"><span data-stu-id="aad4d-170">The time required for the model to train is proportional to the amount of data.</span></span> <span data-ttu-id="aad4d-171">Konstruktor modelu automatycznie wybiera wartość domyślną dla **czasu do uczenia (w sekundach)** na podstawie rozmiaru źródła danych.</span><span class="sxs-lookup"><span data-stu-id="aad4d-171">Model Builder automatically selects a default value for **Time to train (seconds)** based on the size of your data source.</span></span>

1. <span data-ttu-id="aad4d-172">Chociaż Konstruktor modelu ustawia wartość **czasu do uczenia (sekundy)** do 10 sekund, zwiększ go do 30 sekund.</span><span class="sxs-lookup"><span data-stu-id="aad4d-172">Although Model Builder sets the value of **Time to train (seconds)** to 10 seconds, increase it to 30 seconds.</span></span> <span data-ttu-id="aad4d-173">Szkolenie przez dłuższy czas umożliwia konstruktorowi modelu Eksplorowanie większej liczby algorytmów i kombinacji parametrów podczas wyszukiwania najlepszego modelu.</span><span class="sxs-lookup"><span data-stu-id="aad4d-173">Training for a longer period of time allows Model Builder to explore a larger number of algorithms and combination of parameters in search of the best model.</span></span>
1. <span data-ttu-id="aad4d-174">Wybierz pozycję **Rozpocznij szkolenie**.</span><span class="sxs-lookup"><span data-stu-id="aad4d-174">Select **Start Training**.</span></span>

    <span data-ttu-id="aad4d-175">W trakcie całego procesu szkolenia dane o postępie są wyświetlane w sekcji `Progress` kroku uczenie.</span><span class="sxs-lookup"><span data-stu-id="aad4d-175">Throughout the training process, progress data is displayed in the `Progress` section of the train step.</span></span>

    - <span data-ttu-id="aad4d-176">**Stan** przedstawia stan zakończenia procesu szkolenia.</span><span class="sxs-lookup"><span data-stu-id="aad4d-176">**Status** displays the completion status of the training process.</span></span>
    - <span data-ttu-id="aad4d-177">**Najlepsza dokładność** wyświetla dokładność najlepszego modelu, który został znaleziony przez konstruktora modelu do tej pory.</span><span class="sxs-lookup"><span data-stu-id="aad4d-177">**Best accuracy** displays the accuracy of the best performing model found by Model Builder so far.</span></span> <span data-ttu-id="aad4d-178">Większa dokładność oznacza, że model przewidywalno dokładniej na danych testowych.</span><span class="sxs-lookup"><span data-stu-id="aad4d-178">Higher accuracy means the model predicted more correctly on test data.</span></span>
    - <span data-ttu-id="aad4d-179">**Najlepszy algorytm** wyświetla nazwę najlepszego, bardziej wydajnego algorytmu znalezionego przez konstruktora modeli.</span><span class="sxs-lookup"><span data-stu-id="aad4d-179">**Best algorithm** displays the name of the best-performing algorithm found by Model Builder so far.</span></span>
    - <span data-ttu-id="aad4d-180">**Ostatni algorytm** wyświetla nazwę algorytmu ostatnio używanego przez konstruktora modelu do uczenia modelu.</span><span class="sxs-lookup"><span data-stu-id="aad4d-180">**Last algorithm** displays the name of the algorithm most recently used by Model Builder to train the model.</span></span>

1. <span data-ttu-id="aad4d-181">Po zakończeniu szkolenia wybierz łącze **Oceń** , aby przejść do następnego kroku.</span><span class="sxs-lookup"><span data-stu-id="aad4d-181">Once training is complete, select the **Evaluate** link to move to the next step.</span></span>

## <a name="evaluate-the-model"></a><span data-ttu-id="aad4d-182">Oceń model</span><span class="sxs-lookup"><span data-stu-id="aad4d-182">Evaluate the model</span></span>

<span data-ttu-id="aad4d-183">Wynikiem kroku szkolenia jest model, który miał najlepszą wydajność.</span><span class="sxs-lookup"><span data-stu-id="aad4d-183">The result of the training step is the one model that had the best performance.</span></span> <span data-ttu-id="aad4d-184">W kroku szacowania konstruktora modelu sekcja Output zawiera algorytm używany przez model najlepszego wykonywania w najlepszym wpisie **modelu** oraz metryki w **najlepszej dokładności modelu**.</span><span class="sxs-lookup"><span data-stu-id="aad4d-184">In the evaluate step of Model Builder, the output section contains the algorithm used by the best performing model in the **Best Model** entry along with metrics in **Best Model Accuracy**.</span></span> <span data-ttu-id="aad4d-185">Ponadto zostanie wyświetlona tabela podsumowująca zawierająca maksymalnie pięć modeli, które zostały zbadane i są wyświetlane metryki.</span><span class="sxs-lookup"><span data-stu-id="aad4d-185">Additionally, a summary table containing up to five models that were explored and their metrics is displayed.</span></span>

<span data-ttu-id="aad4d-186">Jeśli Twoje metryki dokładności nie są zadowalające, niektóre łatwe sposoby podniesienia dokładności modelu polegają na zwiększeniu czasu na nauczenie modelu lub użyciu większej ilości danych.</span><span class="sxs-lookup"><span data-stu-id="aad4d-186">If you're not satisfied with your accuracy metrics, some easy ways to try to improve model accuracy are to increase the amount of time to train the model or use more data.</span></span> <span data-ttu-id="aad4d-187">W przeciwnym razie wybierz łącze **kod** , aby przejść do ostatniego kroku w konstruktorze modelu.</span><span class="sxs-lookup"><span data-stu-id="aad4d-187">Otherwise, select the **code** link to move to the final step in Model Builder.</span></span>

## <a name="add-the-code-to-make-predictions"></a><span data-ttu-id="aad4d-188">Dodaj kod, aby tworzyć przewidywania</span><span class="sxs-lookup"><span data-stu-id="aad4d-188">Add the code to make predictions</span></span>

<span data-ttu-id="aad4d-189">W wyniku procesu szkolenia tworzone są dwa projekty.</span><span class="sxs-lookup"><span data-stu-id="aad4d-189">Two projects are created as a result of the training process.</span></span>

- <span data-ttu-id="aad4d-190">RestaurantViolationsML. ConsoleApp: aplikacja C# konsolowa platformy .NET Core, która zawiera model szkoleń i przykładowego kodu zużycia.</span><span class="sxs-lookup"><span data-stu-id="aad4d-190">RestaurantViolationsML.ConsoleApp: A C# .NET Core Console application that contains the model training and sample consumption code.</span></span>
- <span data-ttu-id="aad4d-191">RestaurantViolationsML. model: Biblioteka klas .NET Standard zawierająca modele danych, które definiują schemat danych wejściowych i wyjściowych modelu, zapisana wersja modelu najlepszego przebiegu podczas uczenia i Klasa pomocnika o nazwie `ConsumeModel` do tworzenia prognoz.</span><span class="sxs-lookup"><span data-stu-id="aad4d-191">RestaurantViolationsML.Model: A .NET Standard class library containing the data models that define the schema of input and output model data, the saved version of the best performing model during training, and a helper class called `ConsumeModel` to make predictions.</span></span>

1. <span data-ttu-id="aad4d-192">W kroku kod konstruktora modelu wybierz pozycję **Dodaj projekty** , aby dodać automatycznie generowane projekty do rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="aad4d-192">In the code step of Model Builder, select **Add Projects** to add the autogenerated projects to the solution.</span></span>
1. <span data-ttu-id="aad4d-193">Otwórz plik *program.cs* w projekcie *RestaurantViolations* .</span><span class="sxs-lookup"><span data-stu-id="aad4d-193">Open the *Program.cs* file in the *RestaurantViolations* project.</span></span>
1. <span data-ttu-id="aad4d-194">Dodaj następującą instrukcję using, aby odwołać się do projektu *RestaurantViolationsML. model* :</span><span class="sxs-lookup"><span data-stu-id="aad4d-194">Add the following using statement to reference the *RestaurantViolationsML.Model* project:</span></span>

    [!code-csharp [ProgramUsings](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L2)]

1. <span data-ttu-id="aad4d-195">Aby przeprowadzić prognozowanie nowych danych przy użyciu modelu, Utwórz nowe wystąpienie klasy `ModelInput` w ramach metody `Main` aplikacji.</span><span class="sxs-lookup"><span data-stu-id="aad4d-195">To make a prediction on new data using the model, create a new instance of the `ModelInput` class inside the `Main` method of your application.</span></span> <span data-ttu-id="aad4d-196">Należy zauważyć, że Kategoria ryzyka nie jest częścią danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="aad4d-196">Notice that the risk category is not part of the input.</span></span> <span data-ttu-id="aad4d-197">Jest to spowodowane tym, że model generuje dla niego prognozę.</span><span class="sxs-lookup"><span data-stu-id="aad4d-197">This is because the model generates the prediction for it.</span></span> 

    [!code-csharp [TestData](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L11-L15)]

1. <span data-ttu-id="aad4d-198">Użyj metody `Predict` z klasy `ConsumeModel`.</span><span class="sxs-lookup"><span data-stu-id="aad4d-198">Use the `Predict` method from the `ConsumeModel` class.</span></span> <span data-ttu-id="aad4d-199">Metoda `Predict` ładuje przeszkolony model, tworzy [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) dla modelu i używa go do prognozowania nowych danych.</span><span class="sxs-lookup"><span data-stu-id="aad4d-199">The `Predict` method loads the trained model, creates a [`PredictionEngine`](xref:Microsoft.ML.PredictionEngine%602) for the model, and uses it to make predictions on new data.</span></span> 

    [!code-csharp [Prediction](~/machinelearning-samples/samples/modelbuilder/MulticlassClassification_RestaurantViolations/RestaurantViolations/Program.cs#L17-L24)]

1. <span data-ttu-id="aad4d-200">Uruchom aplikację.</span><span class="sxs-lookup"><span data-stu-id="aad4d-200">Run the application.</span></span>

    <span data-ttu-id="aad4d-201">Dane wyjściowe generowane przez program powinny wyglądać podobnie do poniższego fragmentu kodu:</span><span class="sxs-lookup"><span data-stu-id="aad4d-201">The output generated by the program should look similar to the snippet below:</span></span>

    ```bash
    Inspection Type: Complaint
    Violation Description: Inadequate sewage or wastewater disposal
    Risk Category: Moderate Risk
    ```

<span data-ttu-id="aad4d-202">Jeśli musisz odwoływać się do wygenerowanych projektów w późniejszym czasie w innym rozwiązaniu, możesz je znaleźć w katalogu `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools`.</span><span class="sxs-lookup"><span data-stu-id="aad4d-202">If you need to reference the generated projects at a later time inside of another solution, you can find them inside the `C:\Users\%USERNAME%\AppData\Local\Temp\MLVSTools` directory.</span></span>

<span data-ttu-id="aad4d-203">Nabycia!</span><span class="sxs-lookup"><span data-stu-id="aad4d-203">Congratulations!</span></span> <span data-ttu-id="aad4d-204">Pomyślnie skompilowano model uczenia maszynowego w celu kategoryzacji ryzyka naruszeń kondycji przy użyciu konstruktora modeli.</span><span class="sxs-lookup"><span data-stu-id="aad4d-204">You've successfully built a machine learning model to categorize the risk of health violations using Model Builder.</span></span> <span data-ttu-id="aad4d-205">Kod źródłowy dla tego samouczka można znaleźć w repozytorium usługi GitHub [/machinelearning-Samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) .</span><span class="sxs-lookup"><span data-stu-id="aad4d-205">You can find the source code for this tutorial at the [dotnet/machinelearning-samples](https://github.com/dotnet/machinelearning-samples/tree/master/samples/modelbuilder/MulticlassClassification_RestaurantViolations) GitHub repository.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="aad4d-206">Dodatkowe zasoby</span><span class="sxs-lookup"><span data-stu-id="aad4d-206">Additional resources</span></span>

<span data-ttu-id="aad4d-207">Aby dowiedzieć się więcej na temat tematów wymienionych w tym samouczku, odwiedź następujące zasoby:</span><span class="sxs-lookup"><span data-stu-id="aad4d-207">To learn more about topics mentioned in this tutorial, visit the following resources:</span></span>

- [<span data-ttu-id="aad4d-208">Scenariusze konstruktora modelu</span><span class="sxs-lookup"><span data-stu-id="aad4d-208">Model Builder Scenarios</span></span>](../automate-training-with-model-builder.md#scenarios)
- [<span data-ttu-id="aad4d-209">Klasyfikacja wieloklasowa</span><span class="sxs-lookup"><span data-stu-id="aad4d-209">Multiclass Classification</span></span>](../resources/glossary.md#multiclass-classification)
- [<span data-ttu-id="aad4d-210">Metryki modelu klasyfikacji wieloklasowej</span><span class="sxs-lookup"><span data-stu-id="aad4d-210">Multiclass Classification Model Metrics</span></span>](../resources/metrics.md#metrics-for-multi-class-classification)
