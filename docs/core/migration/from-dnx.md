---
title: Migracja z pliku DNX do procesora CLI programu .NET Core
description: Migracja z użyciem narzędzi DNX do narzędzi cli .NET Core.
ms.date: 06/20/2016
ms.openlocfilehash: 31317f110ae1e8586b78becd757d0a8ff07f1459
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/14/2020
ms.locfileid: "77503818"
---
# <a name="migrating-from-dnx-to-net-core-cli-projectjson"></a><span data-ttu-id="87825-103">Migracja z dnx do .NET Core CLI (project.json)</span><span class="sxs-lookup"><span data-stu-id="87825-103">Migrating from DNX to .NET Core CLI (project.json)</span></span>

## <a name="overview"></a><span data-ttu-id="87825-104">Omówienie</span><span class="sxs-lookup"><span data-stu-id="87825-104">Overview</span></span>
<span data-ttu-id="87825-105">Wydanie RC1 .NET Core i ASP.NET Core 1.0 wprowadziło oprzyrządowanie DNX.</span><span class="sxs-lookup"><span data-stu-id="87825-105">The RC1 release of .NET Core and ASP.NET Core 1.0 introduced DNX tooling.</span></span> <span data-ttu-id="87825-106">Wersja RC2 .NET Core i ASP.NET Core 1.0 została przeniesiona z DNX do .NET Core CLI.</span><span class="sxs-lookup"><span data-stu-id="87825-106">The RC2 release of .NET Core and ASP.NET Core 1.0 moved from DNX to the .NET Core CLI.</span></span>

<span data-ttu-id="87825-107">Jako niewielkie odświeżanie, podsumujmy, o co chodziło DNX.</span><span class="sxs-lookup"><span data-stu-id="87825-107">As a slight refresher, let's recap what DNX was about.</span></span> <span data-ttu-id="87825-108">DNX był zestawem runtime i narzędzi używanym do tworzenia .NET Core, a dokładniej ASP.NET aplikacji Core 1.0.</span><span class="sxs-lookup"><span data-stu-id="87825-108">DNX was a runtime and a toolset used to build .NET Core and, more specifically, ASP.NET Core 1.0 applications.</span></span> <span data-ttu-id="87825-109">Składał się z 3 głównych elementów:</span><span class="sxs-lookup"><span data-stu-id="87825-109">It consisted of 3 main pieces:</span></span>

1. <span data-ttu-id="87825-110">DNVM - skrypt instalujący do uzyskiwania DNX</span><span class="sxs-lookup"><span data-stu-id="87825-110">DNVM - an install script for obtaining DNX</span></span>
2. <span data-ttu-id="87825-111">DNX (Dotnet Wykonanie runtime) — czas wykonywania, który wykonuje kod</span><span class="sxs-lookup"><span data-stu-id="87825-111">DNX (Dotnet Execution Runtime) - the runtime that executes your code</span></span>
3. <span data-ttu-id="87825-112">DNU (Dotnet Developer Utility) - narzędzia do zarządzania zależnościami, tworzenia i publikowania aplikacji</span><span class="sxs-lookup"><span data-stu-id="87825-112">DNU (Dotnet Developer Utility) - tooling for managing dependencies, building and publishing your applications</span></span>

<span data-ttu-id="87825-113">Wraz z wprowadzeniem cli, wszystkie powyższe są teraz częścią jednego zestawu narzędzi.</span><span class="sxs-lookup"><span data-stu-id="87825-113">With the introduction of the CLI, all of the above are now part of a single toolset.</span></span> <span data-ttu-id="87825-114">Jednak ponieważ DNX był dostępny w ramach czasowych RC1, może być projekty, które zostały zbudowane przy użyciu go, które chcesz przejść do nowego narzędzia CLI.</span><span class="sxs-lookup"><span data-stu-id="87825-114">However, since DNX was available in RC1 timeframe, you might have projects that were built using it that you would want to move off to the new CLI tooling.</span></span>

<span data-ttu-id="87825-115">Ten przewodnik migracji obejmie podstawowe informacje dotyczące migracji projektów z dnx i na .NET Core CLI.</span><span class="sxs-lookup"><span data-stu-id="87825-115">This migration guide will cover the essentials on how to migrate projects off of DNX and onto .NET Core CLI.</span></span> <span data-ttu-id="87825-116">Jeśli dopiero zaczynasz projekt na .NET Core od podstaw, możesz swobodnie pominąć ten dokument.</span><span class="sxs-lookup"><span data-stu-id="87825-116">If you are just starting a project on .NET Core from scratch, you can freely skip this document.</span></span>

## <a name="main-changes-in-the-tooling"></a><span data-ttu-id="87825-117">Główne zmiany w oprzyrządowaniu</span><span class="sxs-lookup"><span data-stu-id="87825-117">Main changes in the tooling</span></span>
<span data-ttu-id="87825-118">Istnieją pewne ogólne zmiany w narzędzi, które powinny być opisane w pierwszej kolejności.</span><span class="sxs-lookup"><span data-stu-id="87825-118">There are some general changes in the tooling that should be outlined first.</span></span>

### <a name="no-more-dnvm"></a><span data-ttu-id="87825-119">Koniec z DNVM</span><span class="sxs-lookup"><span data-stu-id="87825-119">No more DNVM</span></span>
<span data-ttu-id="87825-120">DNVM, skrót od *DotNet Version Manager* był bash/PowerShell skrypt używany do instalowania DNX na komputerze.</span><span class="sxs-lookup"><span data-stu-id="87825-120">DNVM, short for *DotNet Version Manager* was a bash/PowerShell script used to install a DNX on your machine.</span></span> <span data-ttu-id="87825-121">To pomogło użytkownikom uzyskać DNX, których potrzebują z pliku danych, które określiły (lub domyślne), a także oznaczyć pewne DNX "aktywny", który umieściłby go na $PATH dla danej sesji.</span><span class="sxs-lookup"><span data-stu-id="87825-121">It helped users get the DNX they need from the feed they specified (or default ones) as well as mark a certain DNX "active", which would put it on the $PATH for the given session.</span></span> <span data-ttu-id="87825-122">Pozwoliłoby to na korzystanie z różnych narzędzi.</span><span class="sxs-lookup"><span data-stu-id="87825-122">This would allow you to use the various tools.</span></span>

<span data-ttu-id="87825-123">DNVM został przerwany, ponieważ jego zestaw funkcji został zbędny przez zmiany nadchodzące w .NET Core CLI.</span><span class="sxs-lookup"><span data-stu-id="87825-123">DNVM was discontinued because its feature set was made redundant by changes coming in the .NET Core CLI.</span></span>

<span data-ttu-id="87825-124">CLI jest pakowany na dwa główne sposoby:</span><span class="sxs-lookup"><span data-stu-id="87825-124">The CLI comes packaged in two main ways:</span></span>

1. <span data-ttu-id="87825-125">Instalatorzy natywni dla danej platformy</span><span class="sxs-lookup"><span data-stu-id="87825-125">Native installers for a given platform</span></span>
2. <span data-ttu-id="87825-126">Instalowanie skryptu w innych sytuacjach (np. serwery ci)</span><span class="sxs-lookup"><span data-stu-id="87825-126">Install script for other situations (like CI servers)</span></span>

<span data-ttu-id="87825-127">Biorąc to pod uwagę, funkcje instalacji DNVM nie są potrzebne.</span><span class="sxs-lookup"><span data-stu-id="87825-127">Given this, the DNVM install features are not needed.</span></span> <span data-ttu-id="87825-128">Ale co z funkcjami wyboru czasu wykonywania?</span><span class="sxs-lookup"><span data-stu-id="87825-128">But what about the runtime selection features?</span></span>

<span data-ttu-id="87825-129">Odwołujesz się do `project.json` witryny uruchomieniowej w swoim, dodając pakiet określonej wersji do zależności.</span><span class="sxs-lookup"><span data-stu-id="87825-129">You reference a runtime in your `project.json` by adding a package of a certain version to your dependencies.</span></span> <span data-ttu-id="87825-130">Dzięki tej zmianie aplikacja będzie mogła używać nowych bitów czasu wykonywania.</span><span class="sxs-lookup"><span data-stu-id="87825-130">With this change, your application will be able to use the new runtime bits.</span></span> <span data-ttu-id="87825-131">Wprowadzenie tych bitów do komputera jest taka sama jak w przypadku identyfikatora CLI: instalujesz czas uruchomieniowy za pośrednictwem jednego z natywnych instalatorów, które obsługuje lub za pośrednictwem skryptu instalowania.</span><span class="sxs-lookup"><span data-stu-id="87825-131">Getting these bits to your machine is the same as with the CLI: you install the runtime via one of the native installers it supports or via its install script.</span></span>

### <a name="different-commands"></a><span data-ttu-id="87825-132">Różne polecenia</span><span class="sxs-lookup"><span data-stu-id="87825-132">Different commands</span></span>
<span data-ttu-id="87825-133">Jeśli używasz DNX, użyto niektórych poleceń z jednej z jego trzech części (DNX, DNU lub DNVM).</span><span class="sxs-lookup"><span data-stu-id="87825-133">If you were using DNX, you used some commands from one of its three parts (DNX, DNU or DNVM).</span></span> <span data-ttu-id="87825-134">W poszczególnych wierszach polecenia niektóre z tych poleceń zmieniają się, niektóre nie są dostępne, a niektóre są takie same, ale mają nieco inną semantykę.</span><span class="sxs-lookup"><span data-stu-id="87825-134">With the CLI, some of these commands change, some are not available and some are the same but have slightly different semantics.</span></span>

<span data-ttu-id="87825-135">W poniższej tabeli przedstawiono mapowanie między poleceniami DNX/DNU a ich odpowiednikami cli.</span><span class="sxs-lookup"><span data-stu-id="87825-135">The table below shows the mapping between the DNX/DNU commands and their CLI counterparts.</span></span>

| <span data-ttu-id="87825-136">DNX, polecenie</span><span class="sxs-lookup"><span data-stu-id="87825-136">DNX command</span></span>                    | <span data-ttu-id="87825-137">Polecenie CLI</span><span class="sxs-lookup"><span data-stu-id="87825-137">CLI command</span></span>    | <span data-ttu-id="87825-138">Opis</span><span class="sxs-lookup"><span data-stu-id="87825-138">Description</span></span>                                                                                                     |
|--------------------------------|----------------|-----------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="87825-139">bieg dnx</span><span class="sxs-lookup"><span data-stu-id="87825-139">dnx run</span></span>                        | `dotnet run`     | <span data-ttu-id="87825-140">Uruchom kod ze źródła.</span><span class="sxs-lookup"><span data-stu-id="87825-140">Run code from source.</span></span>                                                                                           |
| <span data-ttu-id="87825-141">kompilacja dnu</span><span class="sxs-lookup"><span data-stu-id="87825-141">dnu build</span></span>                      | `dotnet build`   | <span data-ttu-id="87825-142">Zbuduj il binarny kodu.</span><span class="sxs-lookup"><span data-stu-id="87825-142">Build an IL binary of your code.</span></span>                                                                                |
| <span data-ttu-id="87825-143">pakiet dnu</span><span class="sxs-lookup"><span data-stu-id="87825-143">dnu pack</span></span>                       | `dotnet pack`    | <span data-ttu-id="87825-144">Spakować pakiet NuGet kodu.</span><span class="sxs-lookup"><span data-stu-id="87825-144">Package up a NuGet package of your code.</span></span>                                                                        |
| <span data-ttu-id="87825-145">dnx] \[(na przykład "dnx web")</span><span class="sxs-lookup"><span data-stu-id="87825-145">dnx \[command] (for example, "dnx web")</span></span> | <span data-ttu-id="87825-146">Nie dotyczy\*</span><span class="sxs-lookup"><span data-stu-id="87825-146">N/A\*</span></span>          | <span data-ttu-id="87825-147">W świecie DNX uruchom polecenie zgodnie z definicją w project.json.</span><span class="sxs-lookup"><span data-stu-id="87825-147">In DNX world, run a command as defined in the project.json.</span></span>                                                     |
| <span data-ttu-id="87825-148">instalacja dnu</span><span class="sxs-lookup"><span data-stu-id="87825-148">dnu install</span></span>                    | <span data-ttu-id="87825-149">Nie dotyczy\*</span><span class="sxs-lookup"><span data-stu-id="87825-149">N/A\*</span></span>          | <span data-ttu-id="87825-150">W świecie DNX zainstaluj pakiet jako zależność.</span><span class="sxs-lookup"><span data-stu-id="87825-150">In the DNX world, install a package as a dependency.</span></span>                                                            |
| <span data-ttu-id="87825-151">przywracanie dnu</span><span class="sxs-lookup"><span data-stu-id="87825-151">dnu restore</span></span>                    | `dotnet restore` | <span data-ttu-id="87825-152">Przywracanie zależności określonych w programie project.json.</span><span class="sxs-lookup"><span data-stu-id="87825-152">Restore dependencies specified in your project.json.</span></span> <span data-ttu-id="87825-153">([patrz uwaga](#dotnet-restore-note))</span><span class="sxs-lookup"><span data-stu-id="87825-153">([see note](#dotnet-restore-note))</span></span>                                                            |
| <span data-ttu-id="87825-154">dnu publikować</span><span class="sxs-lookup"><span data-stu-id="87825-154">dnu publish</span></span>                    | `dotnet publish` | <span data-ttu-id="87825-155">Opublikuj aplikację do wdrożenia w jednym z trzech formularzy (przenośnych, przenośnych z natywnych i autonomicznych).</span><span class="sxs-lookup"><span data-stu-id="87825-155">Publish your application for deployment in one of the three forms (portable, portable with native and standalone).</span></span> |
| <span data-ttu-id="87825-156">zawijanie dnu</span><span class="sxs-lookup"><span data-stu-id="87825-156">dnu wrap</span></span>                       | <span data-ttu-id="87825-157">Nie dotyczy\*</span><span class="sxs-lookup"><span data-stu-id="87825-157">N/A\*</span></span>          | <span data-ttu-id="87825-158">W świecie DNX, owinąć project.json w csproj.</span><span class="sxs-lookup"><span data-stu-id="87825-158">In DNX world, wrap a project.json in csproj.</span></span>                                                                    |
| <span data-ttu-id="87825-159">polecenia dnu</span><span class="sxs-lookup"><span data-stu-id="87825-159">dnu commands</span></span>                   | <span data-ttu-id="87825-160">Nie dotyczy\*</span><span class="sxs-lookup"><span data-stu-id="87825-160">N/A\*</span></span>          | <span data-ttu-id="87825-161">W świecie DNX zarządzaj globalnie zainstalowanymi poleceniami.</span><span class="sxs-lookup"><span data-stu-id="87825-161">In DNX world, manage the globally installed commands.</span></span>                                                           |

<span data-ttu-id="87825-162">(\*) - te funkcje nie są obsługiwane w CLI zgodnie z projektem.</span><span class="sxs-lookup"><span data-stu-id="87825-162">(\*) - these features are not supported in the CLI by design.</span></span>

## <a name="dnx-features-that-are-not-supported"></a><span data-ttu-id="87825-163">Funkcje DNX, które nie są obsługiwane</span><span class="sxs-lookup"><span data-stu-id="87825-163">DNX features that are not supported</span></span>
<span data-ttu-id="87825-164">Jak pokazuje powyższa tabela, istnieją funkcje ze świata DNX, których zdecydowaliśmy się nie obsługiwać w cli, przynajmniej na razie.</span><span class="sxs-lookup"><span data-stu-id="87825-164">As the table above shows, there are features from the DNX world that we decided not to support in the CLI, at least for the time being.</span></span> <span data-ttu-id="87825-165">Ta sekcja przejdzie przez najważniejsze z nich i określi uzasadnienie, dla którego nie wspierają ich, a także obejścia, jeśli ich potrzebujesz.</span><span class="sxs-lookup"><span data-stu-id="87825-165">This section will go through the most important ones and outline the rationale behind not supporting them as well as workarounds if you do need them.</span></span>

### <a name="global-commands"></a><span data-ttu-id="87825-166">Polecenia globalne</span><span class="sxs-lookup"><span data-stu-id="87825-166">Global commands</span></span>
<span data-ttu-id="87825-167">DNU przyszedł z pojęciem o nazwie "poleceń globalnych".</span><span class="sxs-lookup"><span data-stu-id="87825-167">DNU came with a concept called "global commands".</span></span> <span data-ttu-id="87825-168">Były to zasadniczo aplikacje konsoli spakowane jako pakiety NuGet ze skryptem powłoki, który wywoływałby DNX określony do uruchamiania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="87825-168">These were, essentially, console applications packaged up as NuGet packages with a shell script that would invoke the DNX you specified to run the application.</span></span>

<span data-ttu-id="87825-169">CLI nie obsługuje tej koncepcji.</span><span class="sxs-lookup"><span data-stu-id="87825-169">The CLI does not support this concept.</span></span> <span data-ttu-id="87825-170">Obsługuje jednak koncepcję dodawania poleceń dla projektu, które mogą być `dotnet <command>` wywoływane przy użyciu znanej składni.</span><span class="sxs-lookup"><span data-stu-id="87825-170">It does, however, support the concept of adding per-project commands that can be invoked using the familiar `dotnet <command>` syntax.</span></span>

### <a name="installing-dependencies"></a><span data-ttu-id="87825-171">Instalowanie zależności</span><span class="sxs-lookup"><span data-stu-id="87825-171">Installing dependencies</span></span>
<span data-ttu-id="87825-172">W przypadku systemu v1 polecenie CLI programu `install` .NET Core nie ma polecenia instalowania zależności.</span><span class="sxs-lookup"><span data-stu-id="87825-172">As of v1, the .NET Core CLI doesn't have an `install` command for installing dependencies.</span></span> <span data-ttu-id="87825-173">Aby zainstalować pakiet z NuGet, należy dodać go jako zależność `project.json` do pliku, a następnie uruchomić `dotnet restore` [(zobacz uwaga).](#dotnet-restore-note)</span><span class="sxs-lookup"><span data-stu-id="87825-173">In order to install a package from NuGet, you would need to add it as a dependency to your `project.json` file and then run `dotnet restore` ([see note](#dotnet-restore-note)).</span></span>

### <a name="running-your-code"></a><span data-ttu-id="87825-174">Uruchamianie kodu</span><span class="sxs-lookup"><span data-stu-id="87825-174">Running your code</span></span>
<span data-ttu-id="87825-175">Istnieją dwa główne sposoby uruchamiania kodu.</span><span class="sxs-lookup"><span data-stu-id="87825-175">There are two main ways to run your code.</span></span> <span data-ttu-id="87825-176">Jeden jest ze `dotnet run`źródła, z .</span><span class="sxs-lookup"><span data-stu-id="87825-176">One is from source, with `dotnet run`.</span></span> <span data-ttu-id="87825-177">W `dnx run`przeciwieństwie do tego, nie spowoduje to kompilacji w pamięci.</span><span class="sxs-lookup"><span data-stu-id="87825-177">Unlike `dnx run`, this will not do any in-memory compilation.</span></span> <span data-ttu-id="87825-178">Będzie faktycznie wywołać `dotnet build` do tworzenia kodu, a następnie uruchomić wbudowany binarny.</span><span class="sxs-lookup"><span data-stu-id="87825-178">It will actually invoke `dotnet build` to build your code and then run the built binary.</span></span>

<span data-ttu-id="87825-179">Innym sposobem jest `dotnet` użycie samego do uruchomienia kodu.</span><span class="sxs-lookup"><span data-stu-id="87825-179">Another way is using the `dotnet` itself to run your code.</span></span> <span data-ttu-id="87825-180">Odbywa się to poprzez zapewnienie ścieżki `dotnet path/to/an/assembly.dll`do zestawu: .</span><span class="sxs-lookup"><span data-stu-id="87825-180">This is done by providing a path to your assembly: `dotnet path/to/an/assembly.dll`.</span></span>

## <a name="migrating-your-dnx-project-to-net-core-cli"></a><span data-ttu-id="87825-181">Migrowanie projektu DNX do .NET Core CLI</span><span class="sxs-lookup"><span data-stu-id="87825-181">Migrating your DNX project to .NET Core CLI</span></span>
<span data-ttu-id="87825-182">Oprócz używania nowych poleceń podczas pracy z kodem, istnieją trzy główne rzeczy w migracji z DNX:</span><span class="sxs-lookup"><span data-stu-id="87825-182">In addition to using new commands when working with your code, there are three major things left in migrating from DNX:</span></span>

1. <span data-ttu-id="87825-183">Migruj `global.json` plik, jeśli masz go, aby móc używać funkcji CLI.</span><span class="sxs-lookup"><span data-stu-id="87825-183">Migrate the `global.json` file if you have it to be able to use CLI.</span></span>
2. <span data-ttu-id="87825-184">Migrowanie samego`project.json`pliku projektu ( ) do narzędzi CLI.</span><span class="sxs-lookup"><span data-stu-id="87825-184">Migrating the project file (`project.json`) itself to the CLI tooling.</span></span>
3. <span data-ttu-id="87825-185">Migrowanie z wszelkich interfejsów API DNX do ich odpowiedników BCL.</span><span class="sxs-lookup"><span data-stu-id="87825-185">Migrating off of any DNX APIs to their BCL counterparts.</span></span>

### <a name="changing-the-globaljson-file"></a><span data-ttu-id="87825-186">Zmiana pliku global.json</span><span class="sxs-lookup"><span data-stu-id="87825-186">Changing the global.json file</span></span>
<span data-ttu-id="87825-187">Plik `global.json` działa jak plik rozwiązania zarówno dla RC1 i RC2 (lub nowszych) projektów.</span><span class="sxs-lookup"><span data-stu-id="87825-187">The `global.json` file acts like a solution file for both the RC1 and RC2 (or later) projects.</span></span> <span data-ttu-id="87825-188">Aby .NET Core CLI (a także Visual Studio) do rozróżniania rc1 i nowszych wersji, używają `"sdk": { "version" }` właściwości, aby rozróżnić, który projekt rc1 lub nowszych.</span><span class="sxs-lookup"><span data-stu-id="87825-188">In order for the .NET Core CLI (as well as Visual Studio) to differentiate between RC1 and later versions, they use the `"sdk": { "version" }` property to make the distinction which project is RC1 or later.</span></span> <span data-ttu-id="87825-189">Jeśli `global.json` nie ma tego węzła w ogóle, zakłada się, że jest najnowszy.</span><span class="sxs-lookup"><span data-stu-id="87825-189">If `global.json` doesn't have this node at all, it is assumed to be the latest.</span></span>

<span data-ttu-id="87825-190">Aby zaktualizować `global.json` plik, usuń właściwość lub ustaw ją na dokładną wersję narzędzi, których chcesz użyć, w tym przypadku **1.0.0-preview2-003121**:</span><span class="sxs-lookup"><span data-stu-id="87825-190">In order to update the `global.json` file, either remove the property or set it to the exact version of the tools that you wish to use, in this case **1.0.0-preview2-003121**:</span></span>

```json
{
    "sdk": {
        "version": "1.0.0-preview2-003121"
    }
}
```

### <a name="migrating-the-project-file"></a><span data-ttu-id="87825-191">Migrowanie pliku projektu</span><span class="sxs-lookup"><span data-stu-id="87825-191">Migrating the project file</span></span>

<span data-ttu-id="87825-192">Zarówno cli, jak i DNX używają `project.json` tego samego podstawowego systemu projektu opartego na pliku.</span><span class="sxs-lookup"><span data-stu-id="87825-192">The CLI and DNX both use the same basic project system based on `project.json` file.</span></span> <span data-ttu-id="87825-193">Składnia i semantyka pliku projektu są prawie takie same, z niewielkimi różnicami opartymi na scenariuszach.</span><span class="sxs-lookup"><span data-stu-id="87825-193">The syntax and the semantics of the project file are pretty much the same, with small differences based on the scenarios.</span></span> <span data-ttu-id="87825-194">Istnieją również pewne zmiany w schemacie, które można zobaczyć w [pliku schematu](http://json.schemastore.org/project).</span><span class="sxs-lookup"><span data-stu-id="87825-194">There are also some changes to the schema which you can see in the [schema file](http://json.schemastore.org/project).</span></span>

<span data-ttu-id="87825-195">Jeśli używasz aplikacji konsoli, musisz dodać następujący fragment kodu do pliku projektu:</span><span class="sxs-lookup"><span data-stu-id="87825-195">If you are building a console application, you need to add the following snippet to your project file:</span></span>

```json
"buildOptions": {
    "emitEntryPoint": true
}
```

<span data-ttu-id="87825-196">Spowoduje to `dotnet build` elokwaty, aby emitować punkt wejścia dla aplikacji, skutecznie dzięki czemu kod będzie można uruchomić.</span><span class="sxs-lookup"><span data-stu-id="87825-196">This instructs `dotnet build` to emit an entry point for your application, effectively making your code runnable.</span></span> <span data-ttu-id="87825-197">Jeśli budujesz bibliotekę klas, po prostu pomiń powyższą sekcję.</span><span class="sxs-lookup"><span data-stu-id="87825-197">If you are building a class library, simply omit the above section.</span></span> <span data-ttu-id="87825-198">Oczywiście po dodaniu powyższego fragmentu `project.json` kodu do pliku należy dodać statyczny punkt wejścia.</span><span class="sxs-lookup"><span data-stu-id="87825-198">Of course, once you add the above snippet to your `project.json` file, you need to add a static entry point.</span></span> <span data-ttu-id="87825-199">Wraz z odejściem od DNX, usługi DI, które dostarczył, nie są już `static void Main()`dostępne, a zatem musi to być podstawowy punkt wejścia .NET: .</span><span class="sxs-lookup"><span data-stu-id="87825-199">With the move off DNX, the DI services it provided are no longer available and thus this needs to be a basic .NET entry point: `static void Main()`.</span></span>

<span data-ttu-id="87825-200">Jeśli masz sekcję "polecenia" w `project.json`swoim , możesz ją usunąć.</span><span class="sxs-lookup"><span data-stu-id="87825-200">If you have a "commands" section in your `project.json`, you can remove it.</span></span> <span data-ttu-id="87825-201">Niektóre polecenia, które istniały jako polecenia DNU, takie jak polecenia cli struktury jednostek, są przewiowane jako rozszerzenia dla poleceń wiersza polecenia dla poleceń wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="87825-201">Some of the commands that used to exist as DNU commands, such as Entity Framework CLI commands, are being ported to be per-project extensions to the CLI.</span></span> <span data-ttu-id="87825-202">Jeśli stworzyno własne polecenia, które są przy użyciu w projektach, należy zastąpić je rozszerzeniami cli.</span><span class="sxs-lookup"><span data-stu-id="87825-202">If you built your own commands that you are using in your projects, you need to replace them with CLI extensions.</span></span> <span data-ttu-id="87825-203">W takim przypadku `commands` węzeł `project.json` w musi zostać `tools` zastąpiony przez węzeł i musi wymienić zależności narzędzi.</span><span class="sxs-lookup"><span data-stu-id="87825-203">In this case, the `commands` node in `project.json` needs to be replaced by the `tools` node and it needs to list the tools dependencies.</span></span>

<span data-ttu-id="87825-204">Po wykonaniu tych czynności musisz zdecydować, jaki rodzaj przenośności chcesz dla Ciebie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="87825-204">After these things are done, you need to decide which type of portability you wish for you app.</span></span> <span data-ttu-id="87825-205">Dzięki programowi .NET Core zainwestowaliśmy w zapewnienie widma opcji przenoszenia, z których możesz wybierać.</span><span class="sxs-lookup"><span data-stu-id="87825-205">With .NET Core, we have invested into providing a spectrum of portability options that you can choose from.</span></span> <span data-ttu-id="87825-206">Na przykład może chcesz mieć w pełni *przenośną* aplikację lub może chcesz mieć *niezależną* aplikację.</span><span class="sxs-lookup"><span data-stu-id="87825-206">For instance, you may want to have a fully *portable* application or you may want to have a *self-contained* application.</span></span> <span data-ttu-id="87825-207">Opcja aplikacji przenośnej jest bardziej jak .NET Framework aplikacje działają: potrzebuje współużytkowany składnik, aby wykonać go na komputerze docelowym (.NET Core).</span><span class="sxs-lookup"><span data-stu-id="87825-207">The portable application option is more like .NET Framework applications work: it needs a shared component to execute it on the target machine (.NET Core).</span></span> <span data-ttu-id="87825-208">Niezależna aplikacja nie wymaga zainstalowania programu .NET Core na obiektdocelowy, ale należy utworzyć jedną aplikację dla każdego systemu operacyjnego, który ma być obsługiwany.</span><span class="sxs-lookup"><span data-stu-id="87825-208">The self-contained application doesn't require .NET Core to be installed on the target, but you have to produce one application for each OS you wish to support.</span></span> <span data-ttu-id="87825-209">Te typy przenośności i inne są omówione w dokumencie [typu przenoszenia aplikacji.](../deploying/index.md)</span><span class="sxs-lookup"><span data-stu-id="87825-209">These portability types and more are discussed in the [application portability type](../deploying/index.md) document.</span></span>

<span data-ttu-id="87825-210">Po nawołaniu, jaki typ przenośności chcesz, należy zmienić docelowe struktury.Once you make a call on what type of portability you want, you need to change your targeted framework(s).</span><span class="sxs-lookup"><span data-stu-id="87825-210">Once you make a call on what type of portability you want, you need to change your targeted framework(s).</span></span> <span data-ttu-id="87825-211">Jeśli pisałeś aplikacje dla .NET Core, `dnxcore50` najprawdopodobniej używasz jako docelowej struktury.</span><span class="sxs-lookup"><span data-stu-id="87825-211">If you were writing applications for .NET Core, you were most likely using `dnxcore50` as  your targeted framework.</span></span> <span data-ttu-id="87825-212">Z CLI i zmiany, które wprowadził nowy [standard .NET,](../../standard/net-standard.md) framework musi być jednym z następujących:</span><span class="sxs-lookup"><span data-stu-id="87825-212">With the CLI and the changes that the new [.NET Standard](../../standard/net-standard.md) brought, the framework needs to be one of the following:</span></span>

1. <span data-ttu-id="87825-213">`netcoreapp1.0`- jeśli piszesz aplikacje na .NET Core (w tym ASP.NET aplikacje core)</span><span class="sxs-lookup"><span data-stu-id="87825-213">`netcoreapp1.0` - if you are writing applications on .NET Core (including ASP.NET Core applications)</span></span>
2. <span data-ttu-id="87825-214">`netstandard1.6`- jeśli piszesz biblioteki klas dla .NET Core</span><span class="sxs-lookup"><span data-stu-id="87825-214">`netstandard1.6` - if you are writing class libraries for .NET Core</span></span>

<span data-ttu-id="87825-215">Jeśli używasz innych `dnx` celów, `dnx451` jak trzeba będzie zmienić te, jak również.</span><span class="sxs-lookup"><span data-stu-id="87825-215">If you are using other `dnx` targets, like `dnx451` you will need to change those as well.</span></span> <span data-ttu-id="87825-216">`dnx451`należy zmienić `net451`na .</span><span class="sxs-lookup"><span data-stu-id="87825-216">`dnx451` should be changed to `net451`.</span></span>
<span data-ttu-id="87825-217">Więcej informacji można znaleźć w temacie [standardu .NET.](../../standard/net-standard.md)</span><span class="sxs-lookup"><span data-stu-id="87825-217">Please refer to the [.NET Standard](../../standard/net-standard.md) topic for more information.</span></span>

<span data-ttu-id="87825-218">Twój `project.json` jest teraz w większości gotowy.</span><span class="sxs-lookup"><span data-stu-id="87825-218">Your `project.json` is now mostly ready.</span></span> <span data-ttu-id="87825-219">Musisz przejść przez listę zależności i zaktualizować zależności do ich nowszych wersji, zwłaszcza jeśli używasz ASP.NET zależności rdzenia.</span><span class="sxs-lookup"><span data-stu-id="87825-219">You need to go through your dependencies list and update the dependencies to their newer versions, especially if you are using ASP.NET Core dependencies.</span></span> <span data-ttu-id="87825-220">Jeśli używasz oddzielnych pakietów dla interfejsów API BCL, można użyć pakietu czasu uruchomieniowego, jak wyjaśniono w dokumencie [typu przenośności aplikacji.](../deploying/index.md)</span><span class="sxs-lookup"><span data-stu-id="87825-220">If you were using separate packages for BCL APIs, you can use the runtime package as explained in the [application portability type](../deploying/index.md) document.</span></span>

<span data-ttu-id="87825-221">Gdy wszystko będzie gotowe, możesz `dotnet restore` spróbować przywrócić[(patrz uwaga).](#dotnet-restore-note)</span><span class="sxs-lookup"><span data-stu-id="87825-221">Once you are ready, you can try restoring with `dotnet restore` ([see note](#dotnet-restore-note)).</span></span> <span data-ttu-id="87825-222">W zależności od wersji zależności może wystąpić błędy, jeśli NuGet nie można rozwiązać zależności dla jednej z platform docelowych powyżej.</span><span class="sxs-lookup"><span data-stu-id="87825-222">Depending on the version of your dependencies, you may encounter errors if NuGet cannot resolve the dependencies for one of the targeted frameworks above.</span></span> <span data-ttu-id="87825-223">Jest to problem "point-in-time"; w miarę upływu czasu coraz więcej pakietów będzie obejmować obsługę tych struktur.</span><span class="sxs-lookup"><span data-stu-id="87825-223">This is a "point-in-time" problem; as time progresses, more and more packages will include support for these frameworks.</span></span> <span data-ttu-id="87825-224">Na razie jeśli uruchomisz w tym, można użyć `imports` instrukcji w `framework` węźle, aby określić NuGet, że można przywrócić pakiety przeznaczone dla struktury w ramach "importuje" instrukcji.</span><span class="sxs-lookup"><span data-stu-id="87825-224">For now, if you run into this, you can use the `imports` statement within the `framework` node to specify to NuGet that it can restore the packages targeting the framework within the "imports" statement.</span></span>
<span data-ttu-id="87825-225">Błędy przywracania, które otrzymasz w tym przypadku, powinny dostarczyć wystarczających informacji, aby poinformować, które struktury należy zaimportować.</span><span class="sxs-lookup"><span data-stu-id="87825-225">The restoring errors you get in this case should provide enough information to tell you which frameworks you need to import.</span></span> <span data-ttu-id="87825-226">Jeśli jesteś lekko zagubiony lub nowy w `dnxcore50` tym, ogólnie rzecz biorąc, określenie i `portable-net45+win8` w `imports` instrukcji należy załatwić sprawę.</span><span class="sxs-lookup"><span data-stu-id="87825-226">If you are slightly lost or new to this, in general, specifying `dnxcore50` and `portable-net45+win8` in the `imports` statement should do the trick.</span></span> <span data-ttu-id="87825-227">Poniższy fragment JSON pokazuje, jak to wygląda:</span><span class="sxs-lookup"><span data-stu-id="87825-227">The JSON snippet below shows how this looks like:</span></span>

```json
    "frameworks": {
        "netcoreapp1.0": {
            "imports": ["dnxcore50", "portable-net45+win8"]
        }
    }
```

<span data-ttu-id="87825-228">Uruchamianie `dotnet build` pokaże wszelkie ewentualne błędy kompilacji, choć nie powinno być ich zbyt wiele.</span><span class="sxs-lookup"><span data-stu-id="87825-228">Running `dotnet build` will show any eventual build errors, though there shouldn't be too many of them.</span></span> <span data-ttu-id="87825-229">Po kod jest budowanie i działa prawidłowo, można przetestować go z biegacza.</span><span class="sxs-lookup"><span data-stu-id="87825-229">After your code is building and running properly, you can test it out with the runner.</span></span> <span data-ttu-id="87825-230">Wykonaj `dotnet <path-to-your-assembly>` i zobacz, jak działa.</span><span class="sxs-lookup"><span data-stu-id="87825-230">Execute `dotnet <path-to-your-assembly>` and see it run.</span></span>

<a name="dotnet-restore-note"></a>

[!INCLUDE[DotNet Restore Note](~/includes/dotnet-restore-note.md)]
