---
title: Migrowanie z środowiska DNX do interfejs wiersza polecenia platformy .NET Core
description: Przeprowadź migrację z używania narzędzi środowiska DNX, aby interfejs wiersza polecenia platformy .NET Core narzędzia.
ms.date: 06/20/2016
ms.openlocfilehash: 91a43ffda31b34332d2e545a90c857221aa162c4
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/07/2020
ms.locfileid: "75715526"
---
# <a name="migrating-from-dnx-to-net-core-cli-projectjson"></a><span data-ttu-id="cdcae-103">Migrowanie z środowiska DNX do interfejs wiersza polecenia platformy .NET Core (Project. JSON)</span><span class="sxs-lookup"><span data-stu-id="cdcae-103">Migrating from DNX to .NET Core CLI (project.json)</span></span>

## <a name="overview"></a><span data-ttu-id="cdcae-104">Omówienie</span><span class="sxs-lookup"><span data-stu-id="cdcae-104">Overview</span></span>
<span data-ttu-id="cdcae-105">W wersji RC1 oprogramowania .NET Core i ASP.NET Core 1,0 wprowadzono narzędzia środowiska DNX.</span><span class="sxs-lookup"><span data-stu-id="cdcae-105">The RC1 release of .NET Core and ASP.NET Core 1.0 introduced DNX tooling.</span></span> <span data-ttu-id="cdcae-106">Wersja RC2 oprogramowania .NET Core i ASP.NET Core 1,0 została przeniesiona z środowiska DNX do interfejs wiersza polecenia platformy .NET Core.</span><span class="sxs-lookup"><span data-stu-id="cdcae-106">The RC2 release of .NET Core and ASP.NET Core 1.0 moved from DNX to the .NET Core CLI.</span></span>

<span data-ttu-id="cdcae-107">Jako niewielki odświeżacz, przyjrzyjmy się podsumowanie środowiska DNX.</span><span class="sxs-lookup"><span data-stu-id="cdcae-107">As a slight refresher, let's recap what DNX was about.</span></span> <span data-ttu-id="cdcae-108">ŚRODOWISKA DNX to środowisko uruchomieniowe i zestaw narzędzi służący do tworzenia aplikacji .NET Core i, w ASP.NET Core 1,0.</span><span class="sxs-lookup"><span data-stu-id="cdcae-108">DNX was a runtime and a toolset used to build .NET Core and, more specifically, ASP.NET Core 1.0 applications.</span></span> <span data-ttu-id="cdcae-109">Składają się z 3 głównych elementów:</span><span class="sxs-lookup"><span data-stu-id="cdcae-109">It consisted of 3 main pieces:</span></span>

1. <span data-ttu-id="cdcae-110">DNVM — skrypt instalacyjny do uzyskania środowiska DNX</span><span class="sxs-lookup"><span data-stu-id="cdcae-110">DNVM - an install script for obtaining DNX</span></span>
2. <span data-ttu-id="cdcae-111">ŚRODOWISKA DNX (środowisko uruchomieniowe programu dotnet) — środowisko uruchomieniowe wykonujące kod</span><span class="sxs-lookup"><span data-stu-id="cdcae-111">DNX (Dotnet Execution Runtime) - the runtime that executes your code</span></span>
3. <span data-ttu-id="cdcae-112">DNU (Narzędzie programistyczne dotnet) — narzędzia do zarządzania zależnościami, kompilowania i publikowania aplikacji</span><span class="sxs-lookup"><span data-stu-id="cdcae-112">DNU (Dotnet Developer Utility) - tooling for managing dependencies, building and publishing your applications</span></span>

<span data-ttu-id="cdcae-113">Po wprowadzeniu interfejsu wiersza polecenia wszystkie powyższe elementy są teraz częścią jednego zestawu narzędzi.</span><span class="sxs-lookup"><span data-stu-id="cdcae-113">With the introduction of the CLI, all of the above are now part of a single toolset.</span></span> <span data-ttu-id="cdcae-114">Jednak ponieważ środowiska DNX był dostępny w okresie RC1, można utworzyć projekty, które zostały skompilowane przy użyciu go, aby przenieść je do nowego narzędzia interfejsu wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="cdcae-114">However, since DNX was available in RC1 timeframe, you might have projects that were built using it that you would want to move off to the new CLI tooling.</span></span>

<span data-ttu-id="cdcae-115">Ten przewodnik migracji obejmuje podstawowe informacje na temat migrowania projektów z środowiska DNX i do interfejs wiersza polecenia platformy .NET Core.</span><span class="sxs-lookup"><span data-stu-id="cdcae-115">This migration guide will cover the essentials on how to migrate projects off of DNX and onto .NET Core CLI.</span></span> <span data-ttu-id="cdcae-116">Jeśli dopiero zaczynasz projekt od podstaw .NET Core, możesz swobodnie pominąć ten dokument.</span><span class="sxs-lookup"><span data-stu-id="cdcae-116">If you are just starting a project on .NET Core from scratch, you can freely skip this document.</span></span>

## <a name="main-changes-in-the-tooling"></a><span data-ttu-id="cdcae-117">Główne zmiany w narzędziach</span><span class="sxs-lookup"><span data-stu-id="cdcae-117">Main changes in the tooling</span></span>
<span data-ttu-id="cdcae-118">Istnieją pewne ogólne zmiany w narzędziach, które powinny być opisane w pierwszej kolejności.</span><span class="sxs-lookup"><span data-stu-id="cdcae-118">There are some general changes in the tooling that should be outlined first.</span></span>

### <a name="no-more-dnvm"></a><span data-ttu-id="cdcae-119">Nie ma więcej DNVM</span><span class="sxs-lookup"><span data-stu-id="cdcae-119">No more DNVM</span></span>
<span data-ttu-id="cdcae-120">DNVM, Short for *dotnet Version Manager* to skrypt bash/PowerShell służący do instalowania środowiska DNX na komputerze.</span><span class="sxs-lookup"><span data-stu-id="cdcae-120">DNVM, short for *DotNet Version Manager* was a bash/PowerShell script used to install a DNX on your machine.</span></span> <span data-ttu-id="cdcae-121">Umożliwia to użytkownikom uzyskanie potrzebnych przez nich środowiska DNX z określonych przez siebie kanałów informacyjnych (lub ich domyślnych), a także oznaczenie niektórych środowiska DNX "Active", co spowodowałoby umieszczenie go w $PATH dla danej sesji.</span><span class="sxs-lookup"><span data-stu-id="cdcae-121">It helped users get the DNX they need from the feed they specified (or default ones) as well as mark a certain DNX "active", which would put it on the $PATH for the given session.</span></span> <span data-ttu-id="cdcae-122">Pozwoli to na korzystanie z różnych narzędzi.</span><span class="sxs-lookup"><span data-stu-id="cdcae-122">This would allow you to use the various tools.</span></span>

<span data-ttu-id="cdcae-123">DNVM została wycofana, ponieważ jej zestaw funkcji został nadmiarowy przez zmiany wprowadzone w narzędziach interfejs wiersza polecenia platformy .NET Core.</span><span class="sxs-lookup"><span data-stu-id="cdcae-123">DNVM was discontinued because its feature set was made redundant by changes coming in the .NET Core CLI tools.</span></span>

<span data-ttu-id="cdcae-124">Narzędzia interfejsu wiersza polecenia są spakowane na dwa główne sposoby:</span><span class="sxs-lookup"><span data-stu-id="cdcae-124">The CLI tools come packaged in two main ways:</span></span>

1. <span data-ttu-id="cdcae-125">Natywne Instalatory dla danej platformy</span><span class="sxs-lookup"><span data-stu-id="cdcae-125">Native installers for a given platform</span></span>
2. <span data-ttu-id="cdcae-126">Skrypt instalacji dla innych sytuacji (takich jak serwery CI)</span><span class="sxs-lookup"><span data-stu-id="cdcae-126">Install script for other situations (like CI servers)</span></span>

<span data-ttu-id="cdcae-127">Z tego względu nie trzeba instalować funkcji instalacji DNVM.</span><span class="sxs-lookup"><span data-stu-id="cdcae-127">Given this, the DNVM install features are not needed.</span></span> <span data-ttu-id="cdcae-128">Ale co z funkcjami wyboru środowiska uruchomieniowego?</span><span class="sxs-lookup"><span data-stu-id="cdcae-128">But what about the runtime selection features?</span></span>

<span data-ttu-id="cdcae-129">Odwołanie do środowiska uruchomieniowego w `project.json` przez dodanie pakietu określonej wersji do zależności.</span><span class="sxs-lookup"><span data-stu-id="cdcae-129">You reference a runtime in your `project.json` by adding a package of a certain version to your dependencies.</span></span> <span data-ttu-id="cdcae-130">W przypadku tej zmiany aplikacja będzie mogła korzystać z nowych bitów środowiska uruchomieniowego.</span><span class="sxs-lookup"><span data-stu-id="cdcae-130">With this change, your application will be able to use the new runtime bits.</span></span> <span data-ttu-id="cdcae-131">Pobieranie tych bitów na maszynę jest takie samo jak w przypadku interfejsu wiersza polecenia: instalujesz środowisko uruchomieniowe za pośrednictwem jednego z natywnych instalatorów, które obsługuje lub za pośrednictwem jego skryptu instalacji.</span><span class="sxs-lookup"><span data-stu-id="cdcae-131">Getting these bits to your machine is the same as with the CLI: you install the runtime via one of the native installers it supports or via its install script.</span></span>

### <a name="different-commands"></a><span data-ttu-id="cdcae-132">Różne polecenia</span><span class="sxs-lookup"><span data-stu-id="cdcae-132">Different commands</span></span>
<span data-ttu-id="cdcae-133">Jeśli używasz środowiska DNX, używasz niektórych poleceń z jednej z trzech części (środowiska DNX, DNU lub DNVM).</span><span class="sxs-lookup"><span data-stu-id="cdcae-133">If you were using DNX, you used some commands from one of its three parts (DNX, DNU or DNVM).</span></span> <span data-ttu-id="cdcae-134">W interfejsie wiersza polecenia niektóre z tych poleceń uległy zmianie, niektóre nie są dostępne i niektóre są takie same, ale mają nieco inną semantykę.</span><span class="sxs-lookup"><span data-stu-id="cdcae-134">With the CLI, some of these commands change, some are not available and some are the same but have slightly different semantics.</span></span>

<span data-ttu-id="cdcae-135">W poniższej tabeli przedstawiono mapowanie między poleceniami środowiska DNX/DNU i ich odpowiednikami interfejsu wiersza.</span><span class="sxs-lookup"><span data-stu-id="cdcae-135">The table below shows the mapping between the DNX/DNU commands and their CLI counterparts.</span></span>

| <span data-ttu-id="cdcae-136">ŚRODOWISKA DNX — polecenie</span><span class="sxs-lookup"><span data-stu-id="cdcae-136">DNX command</span></span>                    | <span data-ttu-id="cdcae-137">Interfejs wiersza polecenia</span><span class="sxs-lookup"><span data-stu-id="cdcae-137">CLI command</span></span>    | <span data-ttu-id="cdcae-138">Opis</span><span class="sxs-lookup"><span data-stu-id="cdcae-138">Description</span></span>                                                                                                     |
|--------------------------------|----------------|-----------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cdcae-139">środowiska DNX</span><span class="sxs-lookup"><span data-stu-id="cdcae-139">dnx run</span></span>                        | <span data-ttu-id="cdcae-140">dotnet run</span><span class="sxs-lookup"><span data-stu-id="cdcae-140">dotnet run</span></span>     | <span data-ttu-id="cdcae-141">Uruchom kod ze źródła.</span><span class="sxs-lookup"><span data-stu-id="cdcae-141">Run code from source.</span></span>                                                                                           |
| <span data-ttu-id="cdcae-142">Kompilacja dnu</span><span class="sxs-lookup"><span data-stu-id="cdcae-142">dnu build</span></span>                      | <span data-ttu-id="cdcae-143">dotnet build</span><span class="sxs-lookup"><span data-stu-id="cdcae-143">dotnet build</span></span>   | <span data-ttu-id="cdcae-144">Kompiluj plik binarny IL w kodzie.</span><span class="sxs-lookup"><span data-stu-id="cdcae-144">Build an IL binary of your code.</span></span>                                                                                |
| <span data-ttu-id="cdcae-145">Pakiet dnu</span><span class="sxs-lookup"><span data-stu-id="cdcae-145">dnu pack</span></span>                       | <span data-ttu-id="cdcae-146">dotnet pack</span><span class="sxs-lookup"><span data-stu-id="cdcae-146">dotnet pack</span></span>    | <span data-ttu-id="cdcae-147">Pakuj pakiet NuGet kodu.</span><span class="sxs-lookup"><span data-stu-id="cdcae-147">Package up a NuGet package of your code.</span></span>                                                                        |
| <span data-ttu-id="cdcae-148">środowiska DNX \[polecenie] (na przykład "środowiska DNX Web")</span><span class="sxs-lookup"><span data-stu-id="cdcae-148">dnx \[command] (for example, "dnx web")</span></span> | <span data-ttu-id="cdcae-149">Nie dotyczy\*</span><span class="sxs-lookup"><span data-stu-id="cdcae-149">N/A\*</span></span>          | <span data-ttu-id="cdcae-150">W środowiska DNX świecie Uruchom polecenie zgodnie z definicją w pliku Project. JSON.</span><span class="sxs-lookup"><span data-stu-id="cdcae-150">In DNX world, run a command as defined in the project.json.</span></span>                                                     |
| <span data-ttu-id="cdcae-151">dnu Zainstaluj</span><span class="sxs-lookup"><span data-stu-id="cdcae-151">dnu install</span></span>                    | <span data-ttu-id="cdcae-152">Nie dotyczy\*</span><span class="sxs-lookup"><span data-stu-id="cdcae-152">N/A\*</span></span>          | <span data-ttu-id="cdcae-153">Na świecie środowiska DNX Zainstaluj pakiet jako zależność.</span><span class="sxs-lookup"><span data-stu-id="cdcae-153">In the DNX world, install a package as a dependency.</span></span>                                                            |
| <span data-ttu-id="cdcae-154">dnu przywracanie</span><span class="sxs-lookup"><span data-stu-id="cdcae-154">dnu restore</span></span>                    | <span data-ttu-id="cdcae-155">dotnet restore</span><span class="sxs-lookup"><span data-stu-id="cdcae-155">dotnet restore</span></span> | <span data-ttu-id="cdcae-156">Przywróć zależności określone w pliku Project. JSON.</span><span class="sxs-lookup"><span data-stu-id="cdcae-156">Restore dependencies specified in your project.json.</span></span> <span data-ttu-id="cdcae-157">([Zobacz Uwaga](#dotnet-restore-note))</span><span class="sxs-lookup"><span data-stu-id="cdcae-157">([see note](#dotnet-restore-note))</span></span>                                                            |
| <span data-ttu-id="cdcae-158">dnu publikowanie</span><span class="sxs-lookup"><span data-stu-id="cdcae-158">dnu publish</span></span>                    | <span data-ttu-id="cdcae-159">dotnet publish</span><span class="sxs-lookup"><span data-stu-id="cdcae-159">dotnet publish</span></span> | <span data-ttu-id="cdcae-160">Publikowanie aplikacji do wdrożenia w jednej z trzech formularzy (przenośne, przenośne z natywną i autonomiczną).</span><span class="sxs-lookup"><span data-stu-id="cdcae-160">Publish your application for deployment in one of the three forms (portable, portable with native and standalone).</span></span> |
| <span data-ttu-id="cdcae-161">Zawijanie dnu</span><span class="sxs-lookup"><span data-stu-id="cdcae-161">dnu wrap</span></span>                       | <span data-ttu-id="cdcae-162">Nie dotyczy\*</span><span class="sxs-lookup"><span data-stu-id="cdcae-162">N/A\*</span></span>          | <span data-ttu-id="cdcae-163">W środowiska DNX świecie zawiń plik Project. JSON w csproj.</span><span class="sxs-lookup"><span data-stu-id="cdcae-163">In DNX world, wrap a project.json in csproj.</span></span>                                                                    |
| <span data-ttu-id="cdcae-164">polecenia dnu</span><span class="sxs-lookup"><span data-stu-id="cdcae-164">dnu commands</span></span>                   | <span data-ttu-id="cdcae-165">Nie dotyczy\*</span><span class="sxs-lookup"><span data-stu-id="cdcae-165">N/A\*</span></span>          | <span data-ttu-id="cdcae-166">W środowiska DNX świecie Zarządzaj poleceniami zainstalowanymi globalnie.</span><span class="sxs-lookup"><span data-stu-id="cdcae-166">In DNX world, manage the globally installed commands.</span></span>                                                           |

<span data-ttu-id="cdcae-167">(\*) — te funkcje nie są obsługiwane w interfejsie wiersza polecenia przez zaprojektowanie.</span><span class="sxs-lookup"><span data-stu-id="cdcae-167">(\*) - these features are not supported in the CLI by design.</span></span>

## <a name="dnx-features-that-are-not-supported"></a><span data-ttu-id="cdcae-168">Nieobsługiwane funkcje środowiska DNX</span><span class="sxs-lookup"><span data-stu-id="cdcae-168">DNX features that are not supported</span></span>
<span data-ttu-id="cdcae-169">Jak przedstawiono w powyższej tabeli, istnieją funkcje z świata środowiska DNX, które nie podjęły pomocy technicznej w interfejsie wiersza polecenia, co najmniej przez czas.</span><span class="sxs-lookup"><span data-stu-id="cdcae-169">As the table above shows, there are features from the DNX world that we decided not to support in the CLI, at least for the time being.</span></span> <span data-ttu-id="cdcae-170">Ta sekcja zawiera najważniejsze elementy i pozwala racjonalne uzasadnienie, a także obejść, jeśli są potrzebne.</span><span class="sxs-lookup"><span data-stu-id="cdcae-170">This section will go through the most important ones and outline the rationale behind not supporting them as well as workarounds if you do need them.</span></span>

### <a name="global-commands"></a><span data-ttu-id="cdcae-171">Polecenia globalne</span><span class="sxs-lookup"><span data-stu-id="cdcae-171">Global commands</span></span>
<span data-ttu-id="cdcae-172">DNU został dostarczony z koncepcją o nazwie "polecenia globalne".</span><span class="sxs-lookup"><span data-stu-id="cdcae-172">DNU came with a concept called "global commands".</span></span> <span data-ttu-id="cdcae-173">Są to głównie aplikacje konsolowe spakowane jako pakiety NuGet przy użyciu skryptu powłoki, który wywoła środowiska DNX określony do uruchamiania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="cdcae-173">These were, essentially, console applications packaged up as NuGet packages with a shell script that would invoke the DNX you specified to run the application.</span></span>

<span data-ttu-id="cdcae-174">Interfejs wiersza polecenia nie obsługuje tego pojęcia.</span><span class="sxs-lookup"><span data-stu-id="cdcae-174">The CLI does not support this concept.</span></span> <span data-ttu-id="cdcae-175">Jednak jest to obsługiwane przez Dodawanie poleceń dla projektu, które mogą być wywoływane przy użyciu znanej składni `dotnet <command>`.</span><span class="sxs-lookup"><span data-stu-id="cdcae-175">It does, however, support the concept of adding per-project commands that can be invoked using the familiar `dotnet <command>` syntax.</span></span>

### <a name="installing-dependencies"></a><span data-ttu-id="cdcae-176">Instalowanie zależności</span><span class="sxs-lookup"><span data-stu-id="cdcae-176">Installing dependencies</span></span>
<span data-ttu-id="cdcae-177">Począwszy od wersji 1 narzędzia interfejs wiersza polecenia platformy .NET Core nie mają polecenia `install` do instalowania zależności.</span><span class="sxs-lookup"><span data-stu-id="cdcae-177">As of v1, the .NET Core CLI tools don't have an `install` command for installing dependencies.</span></span> <span data-ttu-id="cdcae-178">Aby można było zainstalować pakiet z programu NuGet, należy go dodać jako zależność do pliku `project.json`, a następnie uruchomić `dotnet restore` ([patrz Uwaga](#dotnet-restore-note)).</span><span class="sxs-lookup"><span data-stu-id="cdcae-178">In order to install a package from NuGet, you would need to add it as a dependency to your `project.json` file and then run `dotnet restore` ([see note](#dotnet-restore-note)).</span></span>

### <a name="running-your-code"></a><span data-ttu-id="cdcae-179">Uruchamianie kodu</span><span class="sxs-lookup"><span data-stu-id="cdcae-179">Running your code</span></span>
<span data-ttu-id="cdcae-180">Istnieją dwa podstawowe sposoby uruchamiania kodu.</span><span class="sxs-lookup"><span data-stu-id="cdcae-180">There are two main ways to run your code.</span></span> <span data-ttu-id="cdcae-181">Jeden z nich pochodzi ze źródła z `dotnet run`.</span><span class="sxs-lookup"><span data-stu-id="cdcae-181">One is from source, with `dotnet run`.</span></span> <span data-ttu-id="cdcae-182">W przeciwieństwie do `dnx run`, nie będzie to żadnej kompilacji w pamięci.</span><span class="sxs-lookup"><span data-stu-id="cdcae-182">Unlike `dnx run`, this will not do any in-memory compilation.</span></span> <span data-ttu-id="cdcae-183">Faktycznie wywoła `dotnet build`, aby skompilować kod, a następnie uruchomić skompilowany plik binarny.</span><span class="sxs-lookup"><span data-stu-id="cdcae-183">It will actually invoke `dotnet build` to build your code and then run the built binary.</span></span>

<span data-ttu-id="cdcae-184">Innym sposobem jest użycie `dotnet` samego do uruchomienia kodu.</span><span class="sxs-lookup"><span data-stu-id="cdcae-184">Another way is using the `dotnet` itself to run your code.</span></span> <span data-ttu-id="cdcae-185">Jest to realizowane przez podanie ścieżki do zestawu: `dotnet path/to/an/assembly.dll`.</span><span class="sxs-lookup"><span data-stu-id="cdcae-185">This is done by providing a path to your assembly: `dotnet path/to/an/assembly.dll`.</span></span>

## <a name="migrating-your-dnx-project-to-net-core-cli"></a><span data-ttu-id="cdcae-186">Migrowanie projektu środowiska DNX do interfejs wiersza polecenia platformy .NET Core</span><span class="sxs-lookup"><span data-stu-id="cdcae-186">Migrating your DNX project to .NET Core CLI</span></span>
<span data-ttu-id="cdcae-187">Oprócz korzystania z nowych poleceń podczas pracy z kodem, istnieją trzy główne rzeczy do migracji z środowiska DNX:</span><span class="sxs-lookup"><span data-stu-id="cdcae-187">In addition to using new commands when working with your code, there are three major things left in migrating from DNX:</span></span>

1. <span data-ttu-id="cdcae-188">Migruj plik `global.json`, jeśli masz możliwość korzystania z interfejsu wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="cdcae-188">Migrate the `global.json` file if you have it to be able to use CLI.</span></span>
2. <span data-ttu-id="cdcae-189">Migrowanie pliku projektu (`project.json`) do narzędzia interfejsu wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="cdcae-189">Migrating the project file (`project.json`) itself to the CLI tooling.</span></span>
3. <span data-ttu-id="cdcae-190">Migrowanie dowolnych interfejsów API środowiska DNX do ich odpowiedników BCL.</span><span class="sxs-lookup"><span data-stu-id="cdcae-190">Migrating off of any DNX APIs to their BCL counterparts.</span></span>

### <a name="changing-the-globaljson-file"></a><span data-ttu-id="cdcae-191">Zmiana pliku Global. JSON</span><span class="sxs-lookup"><span data-stu-id="cdcae-191">Changing the global.json file</span></span>
<span data-ttu-id="cdcae-192">Plik `global.json` działa jak plik rozwiązania dla projektów RC1 i RC2 (lub nowszych).</span><span class="sxs-lookup"><span data-stu-id="cdcae-192">The `global.json` file acts like a solution file for both the RC1 and RC2 (or later) projects.</span></span> <span data-ttu-id="cdcae-193">Aby narzędzia interfejsu wiersza polecenia (a także program Visual Studio) rozróżniać między wersjami RC1 i nowszymi, używają właściwości `"sdk": { "version" }`, aby ustalić, który projekt jest w wersji RC1 lub nowszej.</span><span class="sxs-lookup"><span data-stu-id="cdcae-193">In order for the CLI tools (as well as Visual Studio) to differentiate between RC1 and later versions, they use the `"sdk": { "version" }` property to make the distinction which project is RC1 or later.</span></span> <span data-ttu-id="cdcae-194">Jeśli `global.json` nie ma tego węzła, zakłada się, że jest to najnowsza wartość.</span><span class="sxs-lookup"><span data-stu-id="cdcae-194">If `global.json` doesn't have this node at all, it is assumed to be the latest.</span></span>

<span data-ttu-id="cdcae-195">Aby zaktualizować plik `global.json`, Usuń właściwość lub ustaw ją na dokładną wersję narzędzi, których chcesz użyć, w tym przypadku **1.0.0-preview2-003121**:</span><span class="sxs-lookup"><span data-stu-id="cdcae-195">In order to update the `global.json` file, either remove the property or set it to the exact version of the tools that you wish to use, in this case **1.0.0-preview2-003121**:</span></span>

```json
{
    "sdk": {
        "version": "1.0.0-preview2-003121"
    }
}
```

### <a name="migrating-the-project-file"></a><span data-ttu-id="cdcae-196">Migrowanie pliku projektu</span><span class="sxs-lookup"><span data-stu-id="cdcae-196">Migrating the project file</span></span>

<span data-ttu-id="cdcae-197">Interfejs wiersza polecenia i środowiska DNX używają tego samego podstawowego systemu projektu opartego na pliku `project.json`.</span><span class="sxs-lookup"><span data-stu-id="cdcae-197">The CLI and DNX both use the same basic project system based on `project.json` file.</span></span> <span data-ttu-id="cdcae-198">Składnia i semantyka pliku projektu są znacznie takie same, z małymi różnicami w zależności od scenariuszy.</span><span class="sxs-lookup"><span data-stu-id="cdcae-198">The syntax and the semantics of the project file are pretty much the same, with small differences based on the scenarios.</span></span> <span data-ttu-id="cdcae-199">Istnieją także pewne zmiany schematu, które można wyświetlić w [pliku schematu](http://json.schemastore.org/project).</span><span class="sxs-lookup"><span data-stu-id="cdcae-199">There are also some changes to the schema which you can see in the [schema file](http://json.schemastore.org/project).</span></span>

<span data-ttu-id="cdcae-200">Jeśli tworzysz aplikację konsolową, musisz dodać następujący fragment kodu do pliku projektu:</span><span class="sxs-lookup"><span data-stu-id="cdcae-200">If you are building a console application, you need to add the following snippet to your project file:</span></span>

```json
"buildOptions": {
    "emitEntryPoint": true
}
```

<span data-ttu-id="cdcae-201">To instruuje `dotnet build`, aby emitować punkt wejścia dla aplikacji, efektywnie czyniąc kod możliwy do uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="cdcae-201">This instructs `dotnet build` to emit an entry point for your application, effectively making your code runnable.</span></span> <span data-ttu-id="cdcae-202">Jeśli tworzysz bibliotekę klas, po prostu Pomiń powyższą sekcję.</span><span class="sxs-lookup"><span data-stu-id="cdcae-202">If you are building a class library, simply omit the above section.</span></span> <span data-ttu-id="cdcae-203">Oczywiście po dodaniu powyższego fragmentu kodu do pliku `project.json` należy dodać statyczny punkt wejścia.</span><span class="sxs-lookup"><span data-stu-id="cdcae-203">Of course, once you add the above snippet to your `project.json` file, you need to add a static entry point.</span></span> <span data-ttu-id="cdcae-204">Po przejściu na środowiska DNX usługi DI usług, które podano, nie są już dostępne i dlatego musi być podstawowym punktem wejścia platformy .NET: `static void Main()`.</span><span class="sxs-lookup"><span data-stu-id="cdcae-204">With the move off DNX, the DI services it provided are no longer available and thus this needs to be a basic .NET entry point: `static void Main()`.</span></span>

<span data-ttu-id="cdcae-205">Jeśli masz sekcję "polecenia" w `project.json`, możesz ją usunąć.</span><span class="sxs-lookup"><span data-stu-id="cdcae-205">If you have a "commands" section in your `project.json`, you can remove it.</span></span> <span data-ttu-id="cdcae-206">Niektóre z poleceń, które były używane jako polecenia DNU, takie jak polecenia interfejsu CLI Entity Framework, są przyłączone do rozszerzeń dla poszczególnych projektów do interfejsu wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="cdcae-206">Some of the commands that used to exist as DNU commands, such as Entity Framework CLI commands, are being ported to be per-project extensions to the CLI.</span></span> <span data-ttu-id="cdcae-207">Jeśli utworzono własne polecenia, które są używane w projektach, należy je zastąpić przy użyciu rozszerzeń interfejsu wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="cdcae-207">If you built your own commands that you are using in your projects, you need to replace them with CLI extensions.</span></span> <span data-ttu-id="cdcae-208">W takim przypadku węzeł `commands` w `project.json` musi zostać zastąpiony przez węzeł `tools` i musi on zawierać listę zależności narzędzi.</span><span class="sxs-lookup"><span data-stu-id="cdcae-208">In this case, the `commands` node in `project.json` needs to be replaced by the `tools` node and it needs to list the tools dependencies.</span></span>

<span data-ttu-id="cdcae-209">Po wykonaniu tych czynności należy zdecydować, który typ przenośności ma być używany przez aplikację.</span><span class="sxs-lookup"><span data-stu-id="cdcae-209">After these things are done, you need to decide which type of portability you wish for you app.</span></span> <span data-ttu-id="cdcae-210">W przypadku platformy .NET Core zainwestowano w celu udostępnienia spektrum opcji przenoszenia, spośród których można dokonać wyboru.</span><span class="sxs-lookup"><span data-stu-id="cdcae-210">With .NET Core, we have invested into providing a spectrum of portability options that you can choose from.</span></span> <span data-ttu-id="cdcae-211">Na przykład może być konieczne posiadanie w pełni *przenośnej* *aplikacji lub aplikacji.*</span><span class="sxs-lookup"><span data-stu-id="cdcae-211">For instance, you may want to have a fully *portable* application or you may want to have a *self-contained* application.</span></span> <span data-ttu-id="cdcae-212">Opcja aplikacji przenośnej jest większa, podobnie jak .NET Framework aplikacje: potrzebuje składnika współużytkowanego, aby wykonać go na maszynie docelowej (.NET Core).</span><span class="sxs-lookup"><span data-stu-id="cdcae-212">The portable application option is more like .NET Framework applications work: it needs a shared component to execute it on the target machine (.NET Core).</span></span> <span data-ttu-id="cdcae-213">Aplikacja samodzielna nie wymaga zainstalowania platformy .NET Core na serwerze docelowym, ale konieczne jest utworzenie jednej aplikacji dla każdego systemu operacyjnego, który ma być obsługiwany.</span><span class="sxs-lookup"><span data-stu-id="cdcae-213">The self-contained application doesn't require .NET Core to be installed on the target, but you have to produce one application for each OS you wish to support.</span></span> <span data-ttu-id="cdcae-214">Te typy przenośności i inne zostały omówione w dokumencie [Typ przenośności aplikacji](../deploying/index.md) .</span><span class="sxs-lookup"><span data-stu-id="cdcae-214">These portability types and more are discussed in the [application portability type](../deploying/index.md) document.</span></span>

<span data-ttu-id="cdcae-215">Po nawiązaniu połączenia z typem potrzebnego przenośności należy zmienić planowane platformy.</span><span class="sxs-lookup"><span data-stu-id="cdcae-215">Once you make a call on what type of portability you want, you need to change your targeted framework(s).</span></span> <span data-ttu-id="cdcae-216">Jeśli zapisząsz aplikacje dla platformy .NET Core, najprawdopodobniej używasz `dnxcore50` jako platformy dostosowanej.</span><span class="sxs-lookup"><span data-stu-id="cdcae-216">If you were writing applications for .NET Core, you were most likely using `dnxcore50` as  your targeted framework.</span></span> <span data-ttu-id="cdcae-217">Przy użyciu interfejsu wiersza polecenia i zmian wprowadzonych przez nowy [.NET Standard](../../standard/net-standard.md) , struktura musi być jedną z następujących:</span><span class="sxs-lookup"><span data-stu-id="cdcae-217">With the CLI and the changes that the new [.NET Standard](../../standard/net-standard.md) brought, the framework needs to be one of the following:</span></span>

1. <span data-ttu-id="cdcae-218">`netcoreapp1.0` — Jeśli piszesz aplikacje w programie .NET Core (w tym aplikacje ASP.NET Core)</span><span class="sxs-lookup"><span data-stu-id="cdcae-218">`netcoreapp1.0` - if you are writing applications on .NET Core (including ASP.NET Core applications)</span></span>
2. <span data-ttu-id="cdcae-219">`netstandard1.6` — w przypadku pisania bibliotek klas dla platformy .NET Core</span><span class="sxs-lookup"><span data-stu-id="cdcae-219">`netstandard1.6` - if you are writing class libraries for .NET Core</span></span>

<span data-ttu-id="cdcae-220">Jeśli używasz innych obiektów docelowych `dnx`, takich jak `dnx451`, musisz również zmienić te elementy.</span><span class="sxs-lookup"><span data-stu-id="cdcae-220">If you are using other `dnx` targets, like `dnx451` you will need to change those as well.</span></span> <span data-ttu-id="cdcae-221">`dnx451` należy zmienić na `net451`.</span><span class="sxs-lookup"><span data-stu-id="cdcae-221">`dnx451` should be changed to `net451`.</span></span>
<span data-ttu-id="cdcae-222">Aby uzyskać więcej informacji, zapoznaj się z tematem [.NET Standard](../../standard/net-standard.md) .</span><span class="sxs-lookup"><span data-stu-id="cdcae-222">Please refer to the [.NET Standard](../../standard/net-standard.md) topic for more information.</span></span>

<span data-ttu-id="cdcae-223">`project.json` jest teraz głównie gotowa.</span><span class="sxs-lookup"><span data-stu-id="cdcae-223">Your `project.json` is now mostly ready.</span></span> <span data-ttu-id="cdcae-224">Musisz przejść przez listę zależności i zaktualizować zależności do ich nowszych wersji, zwłaszcza jeśli używasz zależności ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="cdcae-224">You need to go through your dependencies list and update the dependencies to their newer versions, especially if you are using ASP.NET Core dependencies.</span></span> <span data-ttu-id="cdcae-225">Jeśli używasz oddzielnych pakietów dla interfejsów API BCL, możesz użyć pakietu środowiska uruchomieniowego, jak wyjaśniono w dokumencie [Typ przenośności aplikacji](../deploying/index.md) .</span><span class="sxs-lookup"><span data-stu-id="cdcae-225">If you were using separate packages for BCL APIs, you can use the runtime package as explained in the [application portability type](../deploying/index.md) document.</span></span>

<span data-ttu-id="cdcae-226">Gdy wszystko będzie gotowe, możesz spróbować wykonać przywracanie z `dotnet restore` ([Zobacz Uwaga](#dotnet-restore-note)).</span><span class="sxs-lookup"><span data-stu-id="cdcae-226">Once you are ready, you can try restoring with `dotnet restore` ([see note](#dotnet-restore-note)).</span></span> <span data-ttu-id="cdcae-227">W zależności od wersji zależności mogą wystąpić błędy, jeśli NuGet nie może rozpoznać zależności dla jednej z powyższych platform.</span><span class="sxs-lookup"><span data-stu-id="cdcae-227">Depending on the version of your dependencies, you may encounter errors if NuGet cannot resolve the dependencies for one of the targeted frameworks above.</span></span> <span data-ttu-id="cdcae-228">Jest to problem "punkt-czas"; wraz z przekroczeniem czasu, więcej i więcej pakietów będzie obejmować obsługę tych platform.</span><span class="sxs-lookup"><span data-stu-id="cdcae-228">This is a "point-in-time" problem; as time progresses, more and more packages will include support for these frameworks.</span></span> <span data-ttu-id="cdcae-229">Na razie w przypadku uruchomienia tego programu można użyć instrukcji `imports` w węźle `framework`, aby określić NuGet, że może przywrócić pakiety przeznaczone dla platformy w ramach instrukcji "Imports".</span><span class="sxs-lookup"><span data-stu-id="cdcae-229">For now, if you run into this, you can use the `imports` statement within the `framework` node to specify to NuGet that it can restore the packages targeting the framework within the "imports" statement.</span></span>
<span data-ttu-id="cdcae-230">Błędy przywracania, które otrzymujesz w tym przypadku, powinny zapewnić wystarczającą ilość informacji, aby określić, które platformy należy zaimportować.</span><span class="sxs-lookup"><span data-stu-id="cdcae-230">The restoring errors you get in this case should provide enough information to tell you which frameworks you need to import.</span></span> <span data-ttu-id="cdcae-231">W przypadku niewielkiego zgubienia lub nowego do tego, ogólnie rzecz biorąc, określ `dnxcore50` i `portable-net45+win8` w instrukcji `imports` powinna to być lewę.</span><span class="sxs-lookup"><span data-stu-id="cdcae-231">If you are slightly lost or new to this, in general, specifying `dnxcore50` and `portable-net45+win8` in the `imports` statement should do the trick.</span></span> <span data-ttu-id="cdcae-232">Poniższy fragment kodu JSON pokazuje, jak wygląda:</span><span class="sxs-lookup"><span data-stu-id="cdcae-232">The JSON snippet below shows how this looks like:</span></span>

```json
    "frameworks": {
        "netcoreapp1.0": {
            "imports": ["dnxcore50", "portable-net45+win8"]
        }
    }
```

<span data-ttu-id="cdcae-233">Uruchomienie `dotnet build` spowoduje wyświetlenie ewentualnych błędów kompilacji, chociaż nie powinna istnieć zbyt wiele z nich.</span><span class="sxs-lookup"><span data-stu-id="cdcae-233">Running `dotnet build` will show any eventual build errors, though there shouldn't be too many of them.</span></span> <span data-ttu-id="cdcae-234">Po skompilowaniu i prawidłowym uruchomieniu kodu możesz go przetestować przy użyciu modułu uruchamiającego.</span><span class="sxs-lookup"><span data-stu-id="cdcae-234">After your code is building and running properly, you can test it out with the runner.</span></span> <span data-ttu-id="cdcae-235">Wykonaj `dotnet <path-to-your-assembly>` i zobacz, jak to działa.</span><span class="sxs-lookup"><span data-stu-id="cdcae-235">Execute `dotnet <path-to-your-assembly>` and see it run.</span></span>

<a name="dotnet-restore-note"></a>

[!INCLUDE[DotNet Restore Note](~/includes/dotnet-restore-note.md)]
