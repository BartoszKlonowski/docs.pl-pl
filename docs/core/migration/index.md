---
title: Oprogramowanie .NET core migracji do formatu csproj
description: Oprogramowanie .NET core project.json csproj migracji
author: blackdwarf
ms.author: mairaw
ms.date: 07/19/2017
ms.openlocfilehash: e3b788aa3dd6601e80773b8dc78942fc70fea9a9
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/04/2018
---
# <a name="migrating-net-core-projects-to-the-csproj-format"></a><span data-ttu-id="5ac6d-103">Migrowanie projektów .NET Core do formatu .csproj</span><span class="sxs-lookup"><span data-stu-id="5ac6d-103">Migrating .NET Core projects to the .csproj format</span></span>

<span data-ttu-id="5ac6d-104">Ten dokument opisano scenariusze migracji dla projektów .NET Core i będą przekazywane następujące scenariusze migracji trzy:</span><span class="sxs-lookup"><span data-stu-id="5ac6d-104">This document will cover migration scenarios for .NET Core projects and will go over the following three migration scenarios:</span></span>

1. [<span data-ttu-id="5ac6d-105">Migracja z prawidłowym schematem najnowsze z *project.json* do *csproj*</span><span class="sxs-lookup"><span data-stu-id="5ac6d-105">Migration from a valid latest schema of *project.json* to *csproj*</span></span>](#migration-from-projectjson-to-csproj)
2. [<span data-ttu-id="5ac6d-106">Migracja z DNX do csproj</span><span class="sxs-lookup"><span data-stu-id="5ac6d-106">Migration from DNX to csproj</span></span>](#migration-from-dnx-to-csproj)
3. [<span data-ttu-id="5ac6d-107">Migracja z RC3 i poprzednich projektów csproj .NET Core na ostateczny format</span><span class="sxs-lookup"><span data-stu-id="5ac6d-107">Migration from RC3 and previous .NET Core csproj projects to the final format</span></span>](#migration-from-earlier-net-core-csproj-formats-to-rtm-csproj)

## <a name="migration-from-projectjson-to-csproj"></a><span data-ttu-id="5ac6d-108">Migracja z project.json do csproj</span><span class="sxs-lookup"><span data-stu-id="5ac6d-108">Migration from project.json to csproj</span></span>
<span data-ttu-id="5ac6d-109">Migracja z *project.json* do *.csproj* może odbywać się przy użyciu jednej z następujących metod:</span><span class="sxs-lookup"><span data-stu-id="5ac6d-109">Migration from *project.json* to *.csproj* can be done using one of the following methods:</span></span>

- [<span data-ttu-id="5ac6d-110">Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="5ac6d-110">Visual Studio 2017</span></span>](#visual-studio-2017)
- [<span data-ttu-id="5ac6d-111">Narzędzie wiersza polecenia migracji DotNet</span><span class="sxs-lookup"><span data-stu-id="5ac6d-111">dotnet migrate command-line tool</span></span>](#dotnet-migrate)
 
<span data-ttu-id="5ac6d-112">Obie metody umożliwia migrację projektów, więc wyniki będą takie same dla tego samego silnika podstawowej.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-112">Both methods use the same underlying engine to migrate the projects, so the results will be the same for both.</span></span> <span data-ttu-id="5ac6d-113">W większości przypadków przy użyciu jednej z tych metod, aby przeprowadzić migrację *project.json* do *csproj* jest jedynym elementem, który jest wymagany i niezbędne jest dalsze ręcznej edycji pliku projektu.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-113">In most cases, using one of these two ways to migrate the *project.json* to *csproj* is the only thing that is needed and no further manual editing of the project file is necessary.</span></span> <span data-ttu-id="5ac6d-114">Powstałe w ten sposób *.csproj* pliku będzie miała nazwę taka sama jak nazwa katalogu zawierającego.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-114">The resulting *.csproj* file will be named the same as the containing directory name.</span></span>

### <a name="visual-studio-2017"></a><span data-ttu-id="5ac6d-115">Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="5ac6d-115">Visual Studio 2017</span></span>

<span data-ttu-id="5ac6d-116">Po otwarciu *xproj* pliku lub rozwiązanie, które odwołuje się do pliku *xproj* pliki, **jednokierunkowe uaktualnienia** zostanie wyświetlone okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-116">When you open a *.xproj* file or a solution file which references *.xproj* files, the **One-way upgrade** dialog appears.</span></span> <span data-ttu-id="5ac6d-117">Okno dialogowe wyświetla projekty do migracji.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-117">The dialog displays the projects to be migrated.</span></span> <span data-ttu-id="5ac6d-118">Po otwarciu pliku rozwiązania, zostaną wyświetlone wszystkie projekty, które są określone w pliku rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-118">If you open a solution file, all the projects specified in the solution file will be listed.</span></span> <span data-ttu-id="5ac6d-119">Przejrzyj listę projektów, aby zmigrować, a następnie wybierz **OK**.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-119">Review the list of projects to be migrated and select **OK**.</span></span>

![Wyświetla listę projektów przeznaczonych do migracji jednokierunkowe uaktualnienia okno dialogowe](media/one-way-upgrade.jpg)

<span data-ttu-id="5ac6d-121">Visual Studio będą migrowane projektów wybrana automatycznie.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-121">Visual Studio will migrate the projects chosen automatically.</span></span> <span data-ttu-id="5ac6d-122">Podczas migracji rozwiązanie, jeśli użytkownik nie należy wybierać wszystkie projekty, tym samym oknie dialogowym zostanie wyświetlony monitem o Uaktualnij Pozostałe projekty z tego rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-122">When migrating a solution, if you don't choose all projects, the same dialog will appear asking you to upgrade the remaining projects from that solution.</span></span> <span data-ttu-id="5ac6d-123">Po przeprowadzeniu migracji folderu projektu, możesz wyświetlić i zmodyfikować jego zawartość, klikając prawym przyciskiem myszy projekt w **Eksploratora rozwiązań** okna i wybierając **Edytuj \<Nazwa projektu > .csproj**.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-123">After the project is migrated, you can see and modify its contents by right-clicking the project in the **Solution Explorer** window and selecting **Edit \<project name>.csproj**.</span></span>

<span data-ttu-id="5ac6d-124">Pliki, które zostały poddane migracji (*project.json*, *global.json*, *xproj* i plik rozwiązania) zostanie przeniesiony do *kopii zapasowej* folderu.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-124">Files that were migrated (*project.json*, *global.json*, *.xproj* and solution file) will be moved to a *Backup* folder.</span></span> <span data-ttu-id="5ac6d-125">Plik rozwiązania, który jest migrowany zostanie uaktualniona do programu Visual Studio 2017 i nie będzie można otworzyć tego pliku rozwiązania w poprzednich wersjach programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-125">The solution file that is migrated will be upgraded to Visual Studio 2017 and you won't be able to open that solution file in previous versions of Visual Studio.</span></span> <span data-ttu-id="5ac6d-126">Plik o nazwie *UpgradeLog.htm* jest także zapisać i automatycznie otwierane zawierający raport migracji.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-126">A file named *UpgradeLog.htm* is also saved and automatically opened that contains a migration report.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="5ac6d-127">Nowe narzędzia nie jest dostępne w programie Visual Studio 2015, dlatego nie można migrować projektów przy użyciu tej wersji programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-127">The new tooling is not available in Visual Studio 2015, so you cannot migrate your projects using that version of Visual Studio.</span></span>

### <a name="dotnet-migrate"></a><span data-ttu-id="5ac6d-128">Migrowanie DotNet</span><span class="sxs-lookup"><span data-stu-id="5ac6d-128">dotnet migrate</span></span>

<span data-ttu-id="5ac6d-129">W tym scenariuszu, wiersza polecenia, można użyć [ `dotnet migrate` ](../tools/dotnet-migrate.md) polecenia.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-129">In the command-line scenario, you can use the [`dotnet migrate`](../tools/dotnet-migrate.md) command.</span></span> <span data-ttu-id="5ac6d-130">Zmigruje projektu, rozwiązania lub zestawie folderów w tej kolejności, w zależności od takich, które zostały odnalezione.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-130">It will migrate a project, a solution or a set of folders in that order, depending on which ones were found.</span></span> <span data-ttu-id="5ac6d-131">Podczas migracji projektu projektu i jego zależności są migrowane.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-131">When you migrate a project, the project and all its dependencies are migrated.</span></span>

<span data-ttu-id="5ac6d-132">Pliki, które zostały poddane migracji (*project.json*, *global.json* i *xproj*) zostanie przeniesiony do *kopii zapasowej* folderu.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-132">Files that were migrated (*project.json*, *global.json* and *.xproj*) will be moved to a *backup* folder.</span></span>

> [!NOTE]
> <span data-ttu-id="5ac6d-133">Jeśli używasz programu Visual Studio Code, `dotnet migrate` polecenia takie jak nie zmodyfikuje pliki specyficzne dla programu Visual Studio kod `tasks.json`.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-133">If you are using Visual Studio Code, the `dotnet migrate` command will not modify Visual Studio Code-specific files such as `tasks.json`.</span></span> <span data-ttu-id="5ac6d-134">Te pliki muszą być zmieniony ręcznie.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-134">These files need to be changed manually.</span></span> <span data-ttu-id="5ac6d-135">Jest to również wartość true, jeśli używasz Ryder projektu lub dowolnego edytora lub programowanie środowiska IDE (Integrated) inne niż Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-135">This is also true if you are using Project Ryder or any editor or Integrated Development Environment (IDE) other than Visual Studio.</span></span> 

<span data-ttu-id="5ac6d-136">Zobacz [mapowania między właściwości pliku project.json i csproj](../tools/project-json-to-csproj.md) Porównanie formatów pliku project.json i csproj.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-136">See [A mapping between project.json and csproj properties](../tools/project-json-to-csproj.md) for a comparison of project.json and csproj formats.</span></span>

### <a name="common-issues"></a><span data-ttu-id="5ac6d-137">Typowe problemy</span><span class="sxs-lookup"><span data-stu-id="5ac6d-137">Common issues</span></span>

- <span data-ttu-id="5ac6d-138">Jeśli wystąpi błąd: "nie pliku wykonywalnego odnaleźć pasującego dotnet polecenia-migracji":</span><span class="sxs-lookup"><span data-stu-id="5ac6d-138">If you get an error: "No executable found matching command dotnet-migrate":</span></span>

<span data-ttu-id="5ac6d-139">Uruchom `dotnet --version` aby zobaczyć, której używasz wersji.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-139">Run `dotnet --version` to see which version you are using.</span></span> <span data-ttu-id="5ac6d-140">[`dotnet migrate`](../tools/dotnet-migrate.md) wymaga programu .NET Core CLI RC3 lub nowszej.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-140">[`dotnet migrate`](../tools/dotnet-migrate.md) requires .NET Core CLI RC3 or higher.</span></span>
<span data-ttu-id="5ac6d-141">Zostanie wyświetlony ten błąd, jeśli masz *global.json* pliku w bieżącej lub katalog nadrzędny i `sdk` ustawiono wersji na starszą wersję.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-141">You’ll get this error if you have a *global.json* file in the current or parent directory and the `sdk` version is set to an older version.</span></span>

## <a name="migration-from-dnx-to-csproj"></a><span data-ttu-id="5ac6d-142">Migracja z DNX do csproj</span><span class="sxs-lookup"><span data-stu-id="5ac6d-142">Migration from DNX to csproj</span></span>
<span data-ttu-id="5ac6d-143">Jeśli nadal używasz środowiska DNX dla rozwoju platformy .NET Core, procesu migracji należy wykonywać w dwóch etapach:</span><span class="sxs-lookup"><span data-stu-id="5ac6d-143">If you are still using DNX for .NET Core development, your migration process should be done in two stages:</span></span>

1. <span data-ttu-id="5ac6d-144">Użyj [istniejących wskazówki dotyczące migracji DNX](from-dnx.md) do migracji z DNX do projektu json włączone interfejsu wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-144">Use the [existing DNX migration guidance](from-dnx.md) to migrate from DNX to project-json enabled CLI.</span></span>
2. <span data-ttu-id="5ac6d-145">Wykonaj kroki opisane w poprzedniej sekcji, aby przeprowadzić migrację z *project.json* do *.csproj*.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-145">Follow the steps from the previous section to migrate from *project.json* to *.csproj*.</span></span>  

> [!NOTE]
> <span data-ttu-id="5ac6d-146">DNX jest oficjalnie używany w wersji Preview 1 programu .NET Core interfejsu wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-146">DNX has become officially deprecated during the Preview 1 release of the .NET Core CLI.</span></span> 

## <a name="migration-from-earlier-net-core-csproj-formats-to-rtm-csproj"></a><span data-ttu-id="5ac6d-147">Migracja z wcześniejszych formatów csproj .NET Core do RTM csproj</span><span class="sxs-lookup"><span data-stu-id="5ac6d-147">Migration from earlier .NET Core csproj formats to RTM csproj</span></span>
<span data-ttu-id="5ac6d-148">Zmiana format csproj .NET Core i rozwijającymi z każdego nowego wstępną wersję narzędzi.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-148">The .NET Core csproj format has been changing and evolving with each new pre-release version of the tooling.</span></span> <span data-ttu-id="5ac6d-149">Nie ma narzędzia, które będą migrowane pliku projektu z wcześniejszych wersji csproj do najnowszej wersji, więc musisz ręcznie edytować plik projektu.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-149">There is no tool that will migrate your project file from earlier versions of csproj to the latest, so you need to manually edit the project file.</span></span> <span data-ttu-id="5ac6d-150">Rzeczywiste kroki zależą od wersji pliku projektu, który jest przeprowadzana migracja.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-150">The actual steps depend on the version of the project file you are migrating.</span></span> <span data-ttu-id="5ac6d-151">Oto niektóre wskazówki wziąć pod uwagę na podstawie zmian, które wystąpiły między wersjami:</span><span class="sxs-lookup"><span data-stu-id="5ac6d-151">The following is some guidance to consider based on the changes that happened between versions:</span></span>

* <span data-ttu-id="5ac6d-152">Usuń właściwość wersji narzędzi z `<Project>` elementu, jeśli istnieje.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-152">Remove the tools version property from the `<Project>` element, if it exists.</span></span> 
* <span data-ttu-id="5ac6d-153">Usuń obszar nazw XML (`xmlns`) z `<Project>` elementu.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-153">Remove the XML namespace (`xmlns`) from the `<Project>` element.</span></span>
* <span data-ttu-id="5ac6d-154">Jeśli nie istnieje, Dodaj `Sdk` atrybutu `<Project>` element i ustaw ją na `Microsoft.NET.Sdk` lub `Microsoft.NET.Sdk.Web`.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-154">If it doesn't exist, add the `Sdk` attribute to the `<Project>` element and set it to `Microsoft.NET.Sdk` or `Microsoft.NET.Sdk.Web`.</span></span> <span data-ttu-id="5ac6d-155">Ten atrybut określa, że projekt korzysta z zestawu SDK do użycia.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-155">This attribute specifies that the project uses the SDK to be used.</span></span> <span data-ttu-id="5ac6d-156">`Microsoft.NET.Sdk.Web` Służy do aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-156">`Microsoft.NET.Sdk.Web` is used for web apps.</span></span>
* <span data-ttu-id="5ac6d-157">Usuń `<Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" />` i `<Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />` instrukcje od góry i u dołu projektu.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-157">Remove the `<Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" />` and `<Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />` statements from the top and bottom of the project.</span></span> <span data-ttu-id="5ac6d-158">Import, te instrukcje są implikowana przez zestaw SDK, więc nie istnieje potrzeba do nich w projekcie.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-158">These import statements are implied by the SDK, so there is no need for them to be in the project.</span></span> 
* <span data-ttu-id="5ac6d-159">Jeśli masz `Microsoft.NETCore.App` lub `NETStandard.Library` `<PackageReference>` elementów w projekcie, należy usunąć je.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-159">If you have `Microsoft.NETCore.App` or `NETStandard.Library` `<PackageReference>` items in your project, you should remove them.</span></span> <span data-ttu-id="5ac6d-160">Te odwołania do pakietu są [niejawnego przez zestaw SDK](https://aka.ms/sdkimplicitrefs).</span><span class="sxs-lookup"><span data-stu-id="5ac6d-160">These package references are [implied by the SDK](https://aka.ms/sdkimplicitrefs).</span></span> 
* <span data-ttu-id="5ac6d-161">Usuń `Microsoft.NET.Sdk` `<PackageReference>` elementu, jeśli istnieje.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-161">Remove the `Microsoft.NET.Sdk` `<PackageReference>` element, if it exists.</span></span> <span data-ttu-id="5ac6d-162">Odwołanie do zestawu SDK jest dostarczany za pomocą `Sdk` atrybutu `<Project>` elementu.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-162">The SDK reference comes through the `Sdk` attribute on the `<Project>` element.</span></span> 
* <span data-ttu-id="5ac6d-163">Usuń [globs](https://en.wikipedia.org/wiki/Glob_(programming)) , które są [niejawnego przez zestaw SDK](../tools/csproj.md#default-compilation-includes-in-net-core-projects).</span><span class="sxs-lookup"><span data-stu-id="5ac6d-163">Remove the [globs](https://en.wikipedia.org/wiki/Glob_(programming)) that are [implied by the SDK](../tools/csproj.md#default-compilation-includes-in-net-core-projects).</span></span> <span data-ttu-id="5ac6d-164">Pozostawienie tych globs projektu spowoduje, że wystąpił błąd podczas kompilacji ponieważ zostaną zduplikowane elementy kompilacji.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-164">Leaving these globs in your project will cause an error on build because compile items will be duplicated.</span></span> 

<span data-ttu-id="5ac6d-165">Po wykonaniu tych kroków projektu należy w pełni zgodny z formatem csproj RTM .NET Core.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-165">After these steps your project should be fully compatible with the RTM .NET Core csproj format.</span></span> 

<span data-ttu-id="5ac6d-166">Przykłady przed i po migracji z formatu csproj starego do nowego, zobacz [aktualizacji programu Visual Studio 2017 RC — ulepszenia narzędzi programu .NET Core](https://blogs.msdn.microsoft.com/dotnet/2016/12/12/updating-visual-studio-2017-rc-net-core-tooling-improvements/) artykuł w blogu .NET.</span><span class="sxs-lookup"><span data-stu-id="5ac6d-166">For examples of before and after the migration from old csproj format to the new one, see the [Updating Visual Studio 2017 RC – .NET Core Tooling improvements](https://blogs.msdn.microsoft.com/dotnet/2016/12/12/updating-visual-studio-2017-rc-net-core-tooling-improvements/) article on the .NET blog.</span></span>

## <a name="see-also"></a><span data-ttu-id="5ac6d-167">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="5ac6d-167">See also</span></span>
[<span data-ttu-id="5ac6d-168">Port, migrowanie i uaktualnianie projektów programu Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5ac6d-168">Port, Migrate, and Upgrade Visual Studio Projects</span></span>](/visualstudio/porting/port-migrate-and-upgrade-visual-studio-projects)
