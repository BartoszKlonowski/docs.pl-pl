---
title: Konfiguracja w programie .NET
description: Dowiedz się, jak skonfigurować aplikacje .NET przy użyciu interfejsu API konfiguracji.
author: IEvangelist
ms.author: dapine
ms.date: 09/16/2020
ms.topic: overview
ms.openlocfilehash: f97bd3fd4881c6b0939635ec2372aee21c670d5d
ms.sourcegitcommit: fe8877e564deb68d77fa4b79f55584ac8d7e8997
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/17/2020
ms.locfileid: "90720813"
---
# <a name="configuration-in-net"></a><span data-ttu-id="6c948-103">Konfiguracja w programie .NET</span><span class="sxs-lookup"><span data-stu-id="6c948-103">Configuration in .NET</span></span>

<span data-ttu-id="6c948-104">Konfiguracja w programie .NET jest przeprowadzana przy użyciu co najmniej jednego [dostawcy konfiguracji](#configuration-providers).</span><span class="sxs-lookup"><span data-stu-id="6c948-104">Configuration in .NET is performed using one or more [configuration providers](#configuration-providers).</span></span> <span data-ttu-id="6c948-105">Dostawcy konfiguracji odczytują dane konfiguracji z par klucz-wartość przy użyciu różnych źródeł konfiguracji:</span><span class="sxs-lookup"><span data-stu-id="6c948-105">Configuration providers read configuration data from key-value pairs using a variety of configuration sources:</span></span>

- <span data-ttu-id="6c948-106">Pliki ustawień, takie jak *appsettings.jswłączone*</span><span class="sxs-lookup"><span data-stu-id="6c948-106">Settings files, such as *appsettings.json*</span></span>
- <span data-ttu-id="6c948-107">Zmienne środowiskowe</span><span class="sxs-lookup"><span data-stu-id="6c948-107">Environment variables</span></span>
- [<span data-ttu-id="6c948-108">Usługa Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="6c948-108">Azure Key Vault</span></span>](/azure/key-vault/general/overview)
- [<span data-ttu-id="6c948-109">Azure App Configuration</span><span class="sxs-lookup"><span data-stu-id="6c948-109">Azure App Configuration</span></span>](/azure/azure-app-configuration/overview)
- <span data-ttu-id="6c948-110">Argumenty wiersza polecenia</span><span class="sxs-lookup"><span data-stu-id="6c948-110">Command-line arguments</span></span>
- <span data-ttu-id="6c948-111">Niestandardowi dostawcy, instalowani lub utworzony</span><span class="sxs-lookup"><span data-stu-id="6c948-111">Custom providers, installed or created</span></span>
- <span data-ttu-id="6c948-112">Pliki katalogu</span><span class="sxs-lookup"><span data-stu-id="6c948-112">Directory files</span></span>
- <span data-ttu-id="6c948-113">Obiekty w pamięci .NET</span><span class="sxs-lookup"><span data-stu-id="6c948-113">In-memory .NET objects</span></span>

## <a name="configure-console-apps"></a><span data-ttu-id="6c948-114">Konfigurowanie aplikacji konsolowych</span><span class="sxs-lookup"><span data-stu-id="6c948-114">Configure console apps</span></span>

<span data-ttu-id="6c948-115">Nowe aplikacje konsolowe platformy .NET utworzone przy użyciu programu [dotnet New](../tools/dotnet-new.md) lub Visual Studio domyślnie *nie* ujawniają możliwości konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="6c948-115">New .NET console applications created using [dotnet new](../tools/dotnet-new.md) or Visual Studio by default *do not* expose configuration capabilities.</span></span> <span data-ttu-id="6c948-116">Aby dodać konfigurację w nowej aplikacji konsolowej .NET, [Dodaj odwołanie do pakietu](../tools/dotnet-add-package.md) do `Microsoft.Extensions.Hosting` .</span><span class="sxs-lookup"><span data-stu-id="6c948-116">To add configuration in a new .NET console application, [add a package reference](../tools/dotnet-add-package.md) to `Microsoft.Extensions.Hosting`.</span></span> <span data-ttu-id="6c948-117">Zmodyfikuj plik *program.cs* , aby pasował do następującego kodu:</span><span class="sxs-lookup"><span data-stu-id="6c948-117">Modify the *Program.cs* file to match the following code:</span></span>

:::code language="csharp" source="snippets/configuration/console/Program.cs" highlight="12":::

<span data-ttu-id="6c948-118"><xref:Microsoft.Extensions.Hosting.Host.CreateDefaultBuilder(System.String[])?displayProperty=nameWithType>Metoda zapewnia domyślną konfigurację dla aplikacji w następującej kolejności:</span><span class="sxs-lookup"><span data-stu-id="6c948-118">The <xref:Microsoft.Extensions.Hosting.Host.CreateDefaultBuilder(System.String[])?displayProperty=nameWithType> method provides default configuration for the app in the following order:</span></span>

1. <span data-ttu-id="6c948-119">[ChainedConfigurationProvider](xref:Microsoft.Extensions.Configuration.ChainedConfigurationSource) : Dodaje istniejący element `IConfiguration` jako źródło.</span><span class="sxs-lookup"><span data-stu-id="6c948-119">[ChainedConfigurationProvider](xref:Microsoft.Extensions.Configuration.ChainedConfigurationSource) : Adds an existing `IConfiguration` as a source.</span></span>
1. <span data-ttu-id="6c948-120">*appsettings.js* przy użyciu [dostawcy konfiguracji JSON](configuration-providers.md#file-configuration-provider).</span><span class="sxs-lookup"><span data-stu-id="6c948-120">*appsettings.json* using the [JSON configuration provider](configuration-providers.md#file-configuration-provider).</span></span>
1. <span data-ttu-id="6c948-121">*appSettings.* `Environment` *. JSON* przy użyciu [dostawcy konfiguracji JSON](configuration-providers.md#file-configuration-provider).</span><span class="sxs-lookup"><span data-stu-id="6c948-121">*appsettings.*`Environment`*.json* using the [JSON configuration provider](configuration-providers.md#file-configuration-provider).</span></span> <span data-ttu-id="6c948-122">Na przykład *AppSettings*. ***Środowisko produkcyjne***. *JSON* i *AppSettings*. ***Programowanie***. *kod JSON*.</span><span class="sxs-lookup"><span data-stu-id="6c948-122">For example, *appsettings*.***Production***.*json* and *appsettings*.***Development***.*json*.</span></span>
1. <span data-ttu-id="6c948-123">Wpisy tajne aplikacji, gdy aplikacja jest uruchamiana w `Development` środowisku.</span><span class="sxs-lookup"><span data-stu-id="6c948-123">App secrets when the app runs in the `Development` environment.</span></span>
1. <span data-ttu-id="6c948-124">Zmienne środowiskowe używające [dostawcy konfiguracji zmiennych środowiskowych](configuration-providers.md#environment-variable-configuration-provider).</span><span class="sxs-lookup"><span data-stu-id="6c948-124">Environment variables using the [Environment Variables configuration provider](configuration-providers.md#environment-variable-configuration-provider).</span></span>
1. <span data-ttu-id="6c948-125">Argumenty wiersza polecenia przy użyciu [dostawcy konfiguracji wiersza polecenia](configuration-providers.md#command-line-configuration-provider).</span><span class="sxs-lookup"><span data-stu-id="6c948-125">Command-line arguments using the [Command-line configuration provider](configuration-providers.md#command-line-configuration-provider).</span></span>

<span data-ttu-id="6c948-126">Dostawcy konfiguracji, którzy zostaną dodani później przesłaniają poprzednie ustawienia klucza.</span><span class="sxs-lookup"><span data-stu-id="6c948-126">Configuration providers that are added later override previous key settings.</span></span> <span data-ttu-id="6c948-127">Na przykład jeśli `SomeKey` jest ustawiona zarówno w *appsettings.js* , jak i w środowisku, zostanie użyta wartość środowiska.</span><span class="sxs-lookup"><span data-stu-id="6c948-127">For example, if `SomeKey` is set in both *appsettings.json* and the environment, the environment value is used.</span></span> <span data-ttu-id="6c948-128">Przy użyciu domyślnych dostawców konfiguracji [dostawca konfiguracji wiersza polecenia](configuration-providers.md#command-line-configuration-provider) zastępuje wszystkich innych dostawców.</span><span class="sxs-lookup"><span data-stu-id="6c948-128">Using the default configuration providers, the [Command-line configuration provider](configuration-providers.md#command-line-configuration-provider) overrides all other providers.</span></span>

### <a name="binding"></a><span data-ttu-id="6c948-129">Wiązanie</span><span class="sxs-lookup"><span data-stu-id="6c948-129">Binding</span></span>

<span data-ttu-id="6c948-130">Jedną z kluczowych zalet konfiguracji w programie .NET jest możliwość powiązania wartości konfiguracji z wystąpieniami obiektów .NET.</span><span class="sxs-lookup"><span data-stu-id="6c948-130">One of the key advantages to configuration in .NET is the ability to bind configuration values to instances of .NET objects.</span></span> <span data-ttu-id="6c948-131">Na przykład dostawca konfiguracji JSON może służyć do mapowania *appsettings.js* plików na obiekty .NET i jest używany z iniekcją zależności.</span><span class="sxs-lookup"><span data-stu-id="6c948-131">For example, the JSON configuration provider can be used to map *appsettings.json* files to .NET objects and is used with dependency injection.</span></span> <span data-ttu-id="6c948-132">Umożliwia to wzorzec opcji, wzorzec opcji używa klas w celu zapewnienia silnie określonego dostępu do grup powiązanych ustawień.</span><span class="sxs-lookup"><span data-stu-id="6c948-132">This enables the options pattern, the options pattern uses classes to provide strongly typed access to groups of related settings.</span></span>

## <a name="configuration-providers"></a><span data-ttu-id="6c948-133">Dostawcy konfiguracji</span><span class="sxs-lookup"><span data-stu-id="6c948-133">Configuration providers</span></span>

<span data-ttu-id="6c948-134">W poniższej tabeli przedstawiono dostawców konfiguracji dostępnych dla aplikacji .NET Core.</span><span class="sxs-lookup"><span data-stu-id="6c948-134">The following table shows the configuration providers available to .NET Core apps.</span></span>

| <span data-ttu-id="6c948-135">Dostawca</span><span class="sxs-lookup"><span data-stu-id="6c948-135">Provider</span></span>                                                                                                               | <span data-ttu-id="6c948-136">Zapewnia konfigurację z</span><span class="sxs-lookup"><span data-stu-id="6c948-136">Provides configuration from</span></span>        |
|------------------------------------------------------------------------------------------------------------------------|------------------------------------|
| [<span data-ttu-id="6c948-137">Dostawca konfiguracji aplikacji platformy Azure</span><span class="sxs-lookup"><span data-stu-id="6c948-137">Azure App configuration provider</span></span>](/azure/azure-app-configuration/quickstart-aspnet-core-app)                          | <span data-ttu-id="6c948-138">Azure App Configuration</span><span class="sxs-lookup"><span data-stu-id="6c948-138">Azure App Configuration</span></span>            |
| [<span data-ttu-id="6c948-139">Dostawca konfiguracji Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="6c948-139">Azure Key Vault configuration provider</span></span>](/azure/key-vault/general/tutorial-net-virtual-machine)                        | <span data-ttu-id="6c948-140">W usłudze Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="6c948-140">Azure Key Vault</span></span>                    |
| [<span data-ttu-id="6c948-141">Dostawca konfiguracji wiersza polecenia</span><span class="sxs-lookup"><span data-stu-id="6c948-141">Command-line configuration provider</span></span>](configuration-providers.md#command-line-configuration-provider)                  | <span data-ttu-id="6c948-142">Parametry wiersza polecenia</span><span class="sxs-lookup"><span data-stu-id="6c948-142">Command-line parameters</span></span>            |
| [<span data-ttu-id="6c948-143">Niestandardowy dostawca konfiguracji</span><span class="sxs-lookup"><span data-stu-id="6c948-143">Custom configuration provider</span></span>](custom-configuration-provider.md)                                                      | <span data-ttu-id="6c948-144">Źródło niestandardowe</span><span class="sxs-lookup"><span data-stu-id="6c948-144">Custom source</span></span>                      |
| [<span data-ttu-id="6c948-145">Dostawca konfiguracji zmiennych środowiskowych</span><span class="sxs-lookup"><span data-stu-id="6c948-145">Environment Variables configuration provider</span></span>](configuration-providers.md#environment-variable-configuration-provider) | <span data-ttu-id="6c948-146">Zmienne środowiskowe</span><span class="sxs-lookup"><span data-stu-id="6c948-146">Environment variables</span></span>              |
| [<span data-ttu-id="6c948-147">Dostawca konfiguracji plików</span><span class="sxs-lookup"><span data-stu-id="6c948-147">File configuration provider</span></span>](configuration-providers.md#file-configuration-provider)                                  | <span data-ttu-id="6c948-148">Pliki JSON, XML i INI</span><span class="sxs-lookup"><span data-stu-id="6c948-148">JSON, XML, and INI files</span></span>           |
| [<span data-ttu-id="6c948-149">Dostawca konfiguracji klucza dla plików</span><span class="sxs-lookup"><span data-stu-id="6c948-149">Key-per-file configuration provider</span></span>](configuration-providers.md#key-per-file-configuration-provider)                  | <span data-ttu-id="6c948-150">Pliki katalogu</span><span class="sxs-lookup"><span data-stu-id="6c948-150">Directory files</span></span>                    |
| [<span data-ttu-id="6c948-151">Dostawca konfiguracji pamięci</span><span class="sxs-lookup"><span data-stu-id="6c948-151">Memory configuration provider</span></span>](configuration-providers.md#memory-configuration-provider)                              | <span data-ttu-id="6c948-152">Kolekcje w pamięci</span><span class="sxs-lookup"><span data-stu-id="6c948-152">In-memory collections</span></span>              |
| [<span data-ttu-id="6c948-153">Wpisy tajne aplikacji (Menedżer wpisów tajnych)</span><span class="sxs-lookup"><span data-stu-id="6c948-153">App secrets (Secret Manager)</span></span>](/aspnet/core/security/app-secrets)                                                      | <span data-ttu-id="6c948-154">Plik w katalogu profilu użytkownika</span><span class="sxs-lookup"><span data-stu-id="6c948-154">File in the user profile directory</span></span> |

<span data-ttu-id="6c948-155">Aby uzyskać więcej informacji na temat różnych dostawców konfiguracji, zobacz [dostawcy konfiguracji w programie .NET](configuration-providers.md).</span><span class="sxs-lookup"><span data-stu-id="6c948-155">For more information on various configuration providers, see [Configuration providers in .NET](configuration-providers.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="6c948-156">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="6c948-156">See also</span></span>

- [<span data-ttu-id="6c948-157">Dostawcy konfiguracji w programie .NET</span><span class="sxs-lookup"><span data-stu-id="6c948-157">Configuration providers in .NET</span></span>](configuration-providers.md)
- [<span data-ttu-id="6c948-158">Implementowanie niestandardowego dostawcy konfiguracji</span><span class="sxs-lookup"><span data-stu-id="6c948-158">Implement a custom configuration provider</span></span>](custom-configuration-provider.md)
