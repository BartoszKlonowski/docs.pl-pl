---
title: Równoległość danych (Biblioteka zadań równoległych)
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- parallelism, data
ms.assetid: 3f05f33f-f1da-4b16-81c2-9ceff1bef449
ms.openlocfilehash: d7500666f12624d1a81d399a325827a416e5af3c
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/02/2020
ms.locfileid: "84276780"
---
# <a name="data-parallelism-task-parallel-library"></a><span data-ttu-id="a57a8-102">Równoległość danych (Biblioteka zadań równoległych)</span><span class="sxs-lookup"><span data-stu-id="a57a8-102">Data Parallelism (Task Parallel Library)</span></span>
<span data-ttu-id="a57a8-103">*Równoległość danych* odwołuje się do scenariuszy, w których ta sama operacja jest wykonywana współbieżnie (czyli równolegle) dla elementów w kolekcji źródłowej lub tablicy.</span><span class="sxs-lookup"><span data-stu-id="a57a8-103">*Data parallelism* refers to scenarios in which the same operation is performed concurrently (that is, in parallel) on elements in a source collection or array.</span></span> <span data-ttu-id="a57a8-104">W operacjach Parallel Data kolekcja źródłowa jest partycjonowana tak, aby wiele wątków mogło działać jednocześnie na różnych segmentach.</span><span class="sxs-lookup"><span data-stu-id="a57a8-104">In data parallel operations, the source collection is partitioned so that multiple threads can operate on different segments concurrently.</span></span>  
  
 <span data-ttu-id="a57a8-105">Biblioteka zadań równoległych (TPL) obsługuje równoległość danych za pomocą <xref:System.Threading.Tasks.Parallel?displayProperty=nameWithType> klasy.</span><span class="sxs-lookup"><span data-stu-id="a57a8-105">The Task Parallel Library (TPL) supports data parallelism through the <xref:System.Threading.Tasks.Parallel?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="a57a8-106">Ta klasa zapewnia oparte na metodzie równoległe implementacje pętli [for](../../csharp/language-reference/keywords/for.md) i [foreach](../../csharp/language-reference/keywords/foreach-in.md) ( `For` oraz `For Each` w Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="a57a8-106">This class provides method-based parallel implementations of [for](../../csharp/language-reference/keywords/for.md) and [foreach](../../csharp/language-reference/keywords/foreach-in.md) loops (`For` and `For Each` in Visual Basic).</span></span> <span data-ttu-id="a57a8-107">Można napisać logikę pętli dla <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> pętli lub, podobnie <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> jak napisać pętla sekwencyjna.</span><span class="sxs-lookup"><span data-stu-id="a57a8-107">You write the loop logic for a <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> or <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> loop much as you would write a sequential loop.</span></span> <span data-ttu-id="a57a8-108">Nie trzeba tworzyć wątków ani elementów roboczych kolejki.</span><span class="sxs-lookup"><span data-stu-id="a57a8-108">You do not have to create threads or queue work items.</span></span> <span data-ttu-id="a57a8-109">W przypadku pętli podstawowych nie trzeba podejmować blokad.</span><span class="sxs-lookup"><span data-stu-id="a57a8-109">In basic loops, you do not have to take locks.</span></span> <span data-ttu-id="a57a8-110">TPL obsługuje wszystkie zadania niskiego poziomu.</span><span class="sxs-lookup"><span data-stu-id="a57a8-110">The TPL handles all the low-level work for you.</span></span> <span data-ttu-id="a57a8-111">Aby uzyskać szczegółowe informacje na temat korzystania z <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> i <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> , Pobierz [wzorce dokumentu dla programowania równoległego: zrozumienie i stosowanie wzorców równoległych przy użyciu .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=19222).</span><span class="sxs-lookup"><span data-stu-id="a57a8-111">For in-depth information about the use of <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> and <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType>, download the document [Patterns for Parallel Programming: Understanding and Applying Parallel Patterns with the .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=19222).</span></span> <span data-ttu-id="a57a8-112">Poniższy przykład kodu pokazuje prostą `foreach` pętlę i jej równoległą równoważność.</span><span class="sxs-lookup"><span data-stu-id="a57a8-112">The following code example shows a simple `foreach` loop and its parallel equivalent.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="a57a8-113">Ta dokumentacja używa wyrażeń lambda do definiowania delegatów w TPL.</span><span class="sxs-lookup"><span data-stu-id="a57a8-113">This documentation uses lambda expressions to define delegates in TPL.</span></span> <span data-ttu-id="a57a8-114">Jeśli nie znasz wyrażeń lambda w języku C# lub Visual Basic, zobacz [lambda Expressions in PLINQ and TPL](lambda-expressions-in-plinq-and-tpl.md).</span><span class="sxs-lookup"><span data-stu-id="a57a8-114">If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](lambda-expressions-in-plinq-and-tpl.md).</span></span>  
  
 [!code-csharp[TPL#20](../../../samples/snippets/csharp/VS_Snippets_Misc/tpl/cs/tpl.cs#20)]
 [!code-vb[TPL#20](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpl/vb/tpl_vb.vb#20)]  
  
 <span data-ttu-id="a57a8-115">Po uruchomieniu pętli równoległej TPL partycjuje źródło danych, dzięki czemu pętla może działać na wielu częściach jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="a57a8-115">When a parallel loop runs, the TPL partitions the data source so that the loop can operate on multiple parts concurrently.</span></span> <span data-ttu-id="a57a8-116">W tle Harmonogram zadań partycjonowania zadania na podstawie zasobów systemowych i obciążeń.</span><span class="sxs-lookup"><span data-stu-id="a57a8-116">Behind the scenes, the Task Scheduler partitions the task based on system resources and workload.</span></span> <span data-ttu-id="a57a8-117">Gdy to możliwe, usługa Scheduler dystrybuuje pracę między wieloma wątkami i procesorami, jeśli obciążenie zostanie niezrównoważone.</span><span class="sxs-lookup"><span data-stu-id="a57a8-117">When possible, the scheduler redistributes work among multiple threads and processors if the workload becomes unbalanced.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="a57a8-118">Możesz również dostarczyć własnych niestandardowych partycji lub harmonogramów.</span><span class="sxs-lookup"><span data-stu-id="a57a8-118">You can also supply your own custom partitioner or scheduler.</span></span> <span data-ttu-id="a57a8-119">Aby uzyskać więcej informacji, zobacz [niestandardowe partycje dla PLINQ i TPL](custom-partitioners-for-plinq-and-tpl.md) i [harmonogramów zadań](xref:System.Threading.Tasks.TaskScheduler).</span><span class="sxs-lookup"><span data-stu-id="a57a8-119">For more information, see [Custom Partitioners for PLINQ and TPL](custom-partitioners-for-plinq-and-tpl.md) and [Task Schedulers](xref:System.Threading.Tasks.TaskScheduler).</span></span>  
  
 <span data-ttu-id="a57a8-120">Obie <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> metody i <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> mają kilka przeciążeń, które umożliwiają zatrzymanie lub przerwanie wykonywania pętli, monitorowanie stanu pętli w innych wątkach, zachowanie stanu wątku-Local, Finalizowanie obiektów lokalnych wątków, kontrolowanie stopnia współbieżności i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="a57a8-120">Both the <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> and <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> methods have several overloads that let you stop or break loop execution, monitor the state of the loop on other threads, maintain thread-local state, finalize thread-local objects, control the degree of concurrency, and so on.</span></span> <span data-ttu-id="a57a8-121">Typy pomocników, które umożliwiają włączenie tej funkcji, obejmują,,, <xref:System.Threading.Tasks.ParallelLoopState> <xref:System.Threading.Tasks.ParallelOptions> <xref:System.Threading.Tasks.ParallelLoopResult> <xref:System.Threading.CancellationToken> , i <xref:System.Threading.CancellationTokenSource> .</span><span class="sxs-lookup"><span data-stu-id="a57a8-121">The helper types that enable this functionality include <xref:System.Threading.Tasks.ParallelLoopState>, <xref:System.Threading.Tasks.ParallelOptions>, <xref:System.Threading.Tasks.ParallelLoopResult>, <xref:System.Threading.CancellationToken>, and <xref:System.Threading.CancellationTokenSource>.</span></span>  
  
 <span data-ttu-id="a57a8-122">Aby uzyskać więcej informacji, zobacz [wzorce programowania równoległego: zrozumienie i stosowanie równoległych wzorców z .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=19222).</span><span class="sxs-lookup"><span data-stu-id="a57a8-122">For more information, see [Patterns for Parallel Programming: Understanding and Applying Parallel Patterns with the .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=19222).</span></span>  
  
 <span data-ttu-id="a57a8-123">Równoległość danych przy użyciu deklaratywnej lub podobnej do zapytania składnia jest obsługiwana przez PLINQ.</span><span class="sxs-lookup"><span data-stu-id="a57a8-123">Data parallelism with declarative, or query-like, syntax is supported by PLINQ.</span></span> <span data-ttu-id="a57a8-124">Aby uzyskać więcej informacji, zobacz [Parallel LINQ (PLINQ)](introduction-to-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="a57a8-124">For more information, see [Parallel LINQ (PLINQ)](introduction-to-plinq.md).</span></span>  
  
## <a name="related-topics"></a><span data-ttu-id="a57a8-125">Tematy pokrewne</span><span class="sxs-lookup"><span data-stu-id="a57a8-125">Related Topics</span></span>  
  
|<span data-ttu-id="a57a8-126">Tytuł</span><span class="sxs-lookup"><span data-stu-id="a57a8-126">Title</span></span>|<span data-ttu-id="a57a8-127">Opis</span><span class="sxs-lookup"><span data-stu-id="a57a8-127">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="a57a8-128">Instrukcje: Zapisywanie prostej pętli Parallel.For</span><span class="sxs-lookup"><span data-stu-id="a57a8-128">How to: Write a Simple Parallel.For Loop</span></span>](how-to-write-a-simple-parallel-for-loop.md)|<span data-ttu-id="a57a8-129">Opisuje, w jaki sposób napisać <xref:System.Threading.Tasks.Parallel.For%2A> pętlę w dowolnej tablicy źródłowej lub indeksowanej <xref:System.Collections.Generic.IEnumerable%601> kolekcji.</span><span class="sxs-lookup"><span data-stu-id="a57a8-129">Describes how to write a <xref:System.Threading.Tasks.Parallel.For%2A> loop over any array or indexable <xref:System.Collections.Generic.IEnumerable%601> source collection.</span></span>|  
|[<span data-ttu-id="a57a8-130">Instrukcje: Zapisywanie prostej pętli Parallel.ForEach</span><span class="sxs-lookup"><span data-stu-id="a57a8-130">How to: Write a Simple Parallel.ForEach Loop</span></span>](how-to-write-a-simple-parallel-foreach-loop.md)|<span data-ttu-id="a57a8-131">Opisuje sposób pisania <xref:System.Threading.Tasks.Parallel.ForEach%2A> pętli w <xref:System.Collections.Generic.IEnumerable%601> kolekcji źródłowej.</span><span class="sxs-lookup"><span data-stu-id="a57a8-131">Describes how to write a <xref:System.Threading.Tasks.Parallel.ForEach%2A> loop over any <xref:System.Collections.Generic.IEnumerable%601> source collection.</span></span>|  
|<span data-ttu-id="a57a8-132">[Instrukcje: zatrzymywanie lub przerywanie ze równoległej pętli for](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd460721(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="a57a8-132">[How to: Stop or Break from a Parallel.For Loop](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd460721(v=vs.100))</span></span>|<span data-ttu-id="a57a8-133">Opisuje, jak zatrzymać lub przerwać pętlę równoległą, aby wszystkie wątki były poinformowane o akcji.</span><span class="sxs-lookup"><span data-stu-id="a57a8-133">Describes how to stop or break from a parallel loop so that all threads are informed of the action.</span></span>|  
|[<span data-ttu-id="a57a8-134">Instrukcje: Zapisywanie pętli Parallel.For ze zmiennymi lokalnymi wątku</span><span class="sxs-lookup"><span data-stu-id="a57a8-134">How to: Write a Parallel.For Loop with Thread-Local Variables</span></span>](how-to-write-a-parallel-for-loop-with-thread-local-variables.md)|<span data-ttu-id="a57a8-135">Opisuje, w jaki sposób napisać <xref:System.Threading.Tasks.Parallel.For%2A> pętlę, w której każdy wątek utrzymuje zmienną prywatną, która nie jest widoczna dla żadnych innych wątków i jak synchronizować wyniki ze wszystkich wątków po zakończeniu pętli.</span><span class="sxs-lookup"><span data-stu-id="a57a8-135">Describes how to write a <xref:System.Threading.Tasks.Parallel.For%2A> loop in which each thread maintains a private variable that is not visible to any other threads, and how to synchronize the results from all threads when the loop completes.</span></span>|  
|[<span data-ttu-id="a57a8-136">Instrukcje: Zapisywanie pętli Parallel.ForEach ze zmiennymi lokalnymi partycji</span><span class="sxs-lookup"><span data-stu-id="a57a8-136">How to: Write a Parallel.ForEach Loop with Partition-Local Variables</span></span>](how-to-write-a-parallel-foreach-loop-with-partition-local-variables.md)|<span data-ttu-id="a57a8-137">Opisuje, w jaki sposób napisać <xref:System.Threading.Tasks.Parallel.ForEach%2A> pętlę, w której każdy wątek utrzymuje zmienną prywatną, która nie jest widoczna dla żadnych innych wątków i jak synchronizować wyniki ze wszystkich wątków po zakończeniu pętli.</span><span class="sxs-lookup"><span data-stu-id="a57a8-137">Describes how to write a <xref:System.Threading.Tasks.Parallel.ForEach%2A> loop in which each thread maintains a private variable that is not visible to any other threads, and how to synchronize the results from all threads when the loop completes.</span></span>|  
|[<span data-ttu-id="a57a8-138">Instrukcje: Anulowanie pętli Parallel.For lub ForEach</span><span class="sxs-lookup"><span data-stu-id="a57a8-138">How to: Cancel a Parallel.For or ForEach Loop</span></span>](how-to-cancel-a-parallel-for-or-foreach-loop.md)|<span data-ttu-id="a57a8-139">Opisuje sposób anulowania pętli równoległej za pomocą<xref:System.Threading.CancellationToken?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="a57a8-139">Describes how to cancel a parallel loop by using a <xref:System.Threading.CancellationToken?displayProperty=nameWithType></span></span>|  
|[<span data-ttu-id="a57a8-140">Instrukcje: Przyspieszanie małych jednostek pętli</span><span class="sxs-lookup"><span data-stu-id="a57a8-140">How to: Speed Up Small Loop Bodies</span></span>](how-to-speed-up-small-loop-bodies.md)|<span data-ttu-id="a57a8-141">Opisuje jeden ze sposobów przyspieszenia wykonywania, gdy treść pętli jest bardzo mała.</span><span class="sxs-lookup"><span data-stu-id="a57a8-141">Describes one way to speed up execution when a loop body is very small.</span></span>|  
|[<span data-ttu-id="a57a8-142">Biblioteka zadań równoległych (TPL)</span><span class="sxs-lookup"><span data-stu-id="a57a8-142">Task Parallel Library (TPL)</span></span>](task-parallel-library-tpl.md)|<span data-ttu-id="a57a8-143">Zawiera omówienie biblioteki zadań równoległych.</span><span class="sxs-lookup"><span data-stu-id="a57a8-143">Provides an overview of the Task Parallel Library.</span></span>|  
|[<span data-ttu-id="a57a8-144">Programowanie równoległe</span><span class="sxs-lookup"><span data-stu-id="a57a8-144">Parallel Programming</span></span>](index.md)|<span data-ttu-id="a57a8-145">Wprowadza programowanie równoległe w .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="a57a8-145">Introduces Parallel Programming in the .NET Framework.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="a57a8-146">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="a57a8-146">See also</span></span>

- [<span data-ttu-id="a57a8-147">Programowanie równoległe</span><span class="sxs-lookup"><span data-stu-id="a57a8-147">Parallel Programming</span></span>](index.md)
