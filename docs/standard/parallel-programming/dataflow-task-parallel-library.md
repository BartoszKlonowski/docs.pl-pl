---
title: "Przepływ danych (Biblioteka zadań równoległych)"
ms.date: 03/30/2017
ms.prod: .net
ms.technology: dotnet-standard
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- Task Parallel Library, dataflows
- TPL dataflow library
ms.assetid: 643575d0-d26d-4c35-8de7-a9c403e97dd6
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: b48e580d078ec6bb736ac762d505583cf632a8bd
ms.sourcegitcommit: 6a9030eb5bd0f00e1d144f81958adb195cfb1f6f
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 01/10/2018
---
# <a name="dataflow-task-parallel-library"></a><span data-ttu-id="b1c3b-102">Przepływ danych (Biblioteka zadań równoległych)</span><span class="sxs-lookup"><span data-stu-id="b1c3b-102">Dataflow (Task Parallel Library)</span></span>
<a name="top"></a><span data-ttu-id="b1c3b-103">Zadania biblioteki równoległych (TPL) zawiera składniki przepływu danych, aby zwiększyć niezawodność aplikacji z obsługą współbieżności.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-103">The Task Parallel Library (TPL) provides dataflow components to help increase the robustness of concurrency-enabled applications.</span></span> <span data-ttu-id="b1c3b-104">Te składniki przepływu danych są nazywane zbiorczo *przepływu danych tpl*.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-104">These dataflow components are collectively referred to as the *TPL Dataflow Library*.</span></span> <span data-ttu-id="b1c3b-105">Ten model przepływu danych zamienia Programowanie oparte na aktora przez udostępnienie wiadomości w trakcie przekazywania dla coarse-grained przepływu danych i przetwarzanie potokowe zadania.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-105">This dataflow model promotes actor-based programming by providing in-process message passing for coarse-grained dataflow and pipelining tasks.</span></span> <span data-ttu-id="b1c3b-106">Składniki przepływu danych kompilacji dla typów i planowania infrastruktury TPL i integracja z języka C#, [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]i F # Obsługa języka programowania asynchronicznego.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-106">The dataflow components build on the types and scheduling infrastructure of the TPL and integrate with the C#, [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)], and F# language support for asynchronous programming.</span></span> <span data-ttu-id="b1c3b-107">Te składniki przepływu danych są przydatne, jeśli masz wiele operacji, które muszą asynchronicznie komunikować się ze sobą, lub gdy użytkownik chce przetwarzać dane po jej udostępnieniu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-107">These dataflow components are useful when you have multiple operations that must communicate with one another asynchronously or when you want to process data as it becomes available.</span></span> <span data-ttu-id="b1c3b-108">Rozważmy na przykład aplikacja, która przetwarza dane obrazu z kamery internetowej.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-108">For example, consider an application that processes image data from a web camera.</span></span> <span data-ttu-id="b1c3b-109">Przy użyciu modelu przepływu danych, aplikacja może przetwarzać ramki obrazu staną się one dostępne.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-109">By using the dataflow model, the application can process image frames as they become available.</span></span> <span data-ttu-id="b1c3b-110">Jeśli aplikacja zwiększa ramki obrazu, na przykład, wykonując światła zmniejszenie korektę lub efektu czerwonych utworzeniem *potoku* składników przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-110">If the application enhances image frames, for example, by performing light correction or red-eye reduction, you can create a *pipeline* of dataflow components.</span></span> <span data-ttu-id="b1c3b-111">Każdy etap potoku może używać więcej funkcji coarse-grained równoległości, takich jak funkcje, które są udostępniane przez TPL, aby przekształcić obrazu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-111">Each stage of the pipeline might use more coarse-grained parallelism functionality, such as the functionality that is provided by the TPL, to transform the image.</span></span>  
  
 <span data-ttu-id="b1c3b-112">Ten dokument zawiera omówienie przepływu danych tpl.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-112">This document provides an overview of the TPL Dataflow Library.</span></span> <span data-ttu-id="b1c3b-113">Opisuje modelu programowania, typy bloku przepływu danych wstępnie zdefiniowane i konfigurowanie bloków przepływu danych w celu spełnienia określonych wymagań aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-113">It describes the programming model, the predefined dataflow block types, and how to configure dataflow blocks to meet the specific requirements of your applications.</span></span>  

[!INCLUDE [tpl-install-instructions](../../../includes/tpl-install-instructions.md)]
  
 <span data-ttu-id="b1c3b-114">Ten dokument zawiera następujące sekcje:</span><span class="sxs-lookup"><span data-stu-id="b1c3b-114">This document contains the following sections:</span></span>  
  
-   [<span data-ttu-id="b1c3b-115">Model programowania</span><span class="sxs-lookup"><span data-stu-id="b1c3b-115">Programming Model</span></span>](#model)  
  
-   [<span data-ttu-id="b1c3b-116">Typy wstępnie zdefiniowanych bloku przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-116">Predefined Dataflow Block Types</span></span>](#predefined_types)  
  
-   [<span data-ttu-id="b1c3b-117">Konfigurowanie zachowania bloku przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-117">Configuring Dataflow Block Behavior</span></span>](#behavior)  
  
-   [<span data-ttu-id="b1c3b-118">Niestandardowych bloków przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-118">Custom Dataflow Blocks</span></span>](#custom)  
  
<a name="model"></a>   
## <a name="programming-model"></a><span data-ttu-id="b1c3b-119">Model programowania</span><span class="sxs-lookup"><span data-stu-id="b1c3b-119">Programming Model</span></span>  
 <span data-ttu-id="b1c3b-120">Biblioteka przepływu danych tpl stanowi podstawę do wiadomości, przekazywanie i parallelizing użycie Procesora CPU i/E wykonujących aplikacji, które mają wysokiej przepływności i małe opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-120">The TPL Dataflow Library provides a foundation for message passing and parallelizing CPU-intensive and I/O-intensive applications that have high throughput and low latency.</span></span> <span data-ttu-id="b1c3b-121">Również udostępnia możesz jawną kontrolę nad jak dane są buforowane i przenosi wokół systemu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-121">It also gives you explicit control over how data is buffered and moves around the system.</span></span> <span data-ttu-id="b1c3b-122">Aby lepiej zrozumieć modelu programowania przepływu danych, należy wziąć pod uwagę aplikacji asynchronicznie ładuje obrazów z dysku i tworzy złożone tych obrazów.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-122">To better understand the dataflow programming model, consider an application that asynchronously loads images from disk and creates a composite of those images.</span></span> <span data-ttu-id="b1c3b-123">Tradycyjne modele programowania zwykle wymagają użycia wywołania zwrotne i synchronizacji obiekty, takie jak blokad, do koordynowania zadań i dostępu do udostępnionych danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-123">Traditional programming models typically require that you use callbacks and synchronization objects, such as locks, to coordinate tasks and access to shared data.</span></span> <span data-ttu-id="b1c3b-124">Za pomocą modelu programowania przepływu danych, można utworzyć obiektów przepływu danych, które przetworzył obrazów, ponieważ są one odczytu z dysku.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-124">By using the dataflow programming model, you can create dataflow objects that process images as they are read from disk.</span></span> <span data-ttu-id="b1c3b-125">Zgodnie z modelem przepływu danych deklarowaniu sposobu obsługi danych, gdy stanie się dostępny, a także wszelkie zależności między danymi.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-125">Under the dataflow model, you declare how data is handled when it becomes available, and also any dependencies between data.</span></span> <span data-ttu-id="b1c3b-126">Ponieważ środowisko uruchomieniowe zarządza zależności między danymi, często można uniknąć konieczności synchronizujący dostęp do danych udostępnionych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-126">Because the runtime manages dependencies between data, you can often avoid the requirement to synchronize access to shared data.</span></span> <span data-ttu-id="b1c3b-127">Ponadto ponieważ środowisko uruchomieniowe planuje pracy oparte na asynchronicznego odbioru danych, przepływu danych można zwiększyć czas reakcji i przepływności przez efektywne zarządzanie wątki podstawowe.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-127">In addition, because the runtime schedules work based on the asynchronous arrival of data, dataflow can improve responsiveness and throughput by efficiently managing the underlying threads.</span></span> <span data-ttu-id="b1c3b-128">Na przykład, który korzysta z modelu programowania przepływu danych do zaimplementowania przetwarzania obrazu w aplikacji formularzy systemu Windows, temacie [wskazówki: Korzystanie z przepływu danych w aplikacji formularzy systemu Windows](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-128">For an example that uses the dataflow programming model to implement image processing in a Windows Forms application, see [Walkthrough: Using Dataflow in a Windows Forms Application](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span>  
  
### <a name="sources-and-targets"></a><span data-ttu-id="b1c3b-129">Źródła i obiekty docelowe</span><span class="sxs-lookup"><span data-stu-id="b1c3b-129">Sources and Targets</span></span>  
 <span data-ttu-id="b1c3b-130">Biblioteka przepływu danych tpl składa się z *bloków przepływu danych*, które są danych struktury danych buforu i procesu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-130">The TPL Dataflow Library consists of *dataflow blocks*, which are data structures that buffer and process data.</span></span> <span data-ttu-id="b1c3b-131">TPL definiuje trzy rodzaje bloków przepływu danych: *źródła bloki*, *target bloki*, i *bloki propagator*.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-131">The TPL defines three kinds of dataflow blocks: *source blocks*, *target blocks*, and *propagator blocks*.</span></span> <span data-ttu-id="b1c3b-132">Blok źródła działa jako źródło danych i mogą być odczytywane z.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-132">A source block acts as a source of data and can be read from.</span></span> <span data-ttu-id="b1c3b-133">Blok docelowy pełni funkcję odbiornika danych i mogą być zapisywane.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-133">A target block acts as a receiver of data and can be written to.</span></span> <span data-ttu-id="b1c3b-134">Blok propagator działa jako bloku źródłowego i docelowego blok i mogą być odczytywane i zapisywane do.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-134">A propagator block acts as both a source block and a target block, and can be read from and written to.</span></span> <span data-ttu-id="b1c3b-135">Definiuje TPL <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601?displayProperty=nameWithType> interfejs do reprezentowania źródeł, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601?displayProperty=nameWithType> do reprezentowania obiektów docelowych i <xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602?displayProperty=nameWithType> do reprezentowania propagators.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-135">The TPL defines the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601?displayProperty=nameWithType> interface to represent sources, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601?displayProperty=nameWithType> to represent targets, and <xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602?displayProperty=nameWithType> to represent propagators.</span></span> <span data-ttu-id="b1c3b-136"><xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602>dziedziczy z obu <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601>, i <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-136"><xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602> inherits from both <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601>, and <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span></span>  
  
 <span data-ttu-id="b1c3b-137">Biblioteka przepływu danych tpl zawiera kilka wstępnie zdefiniowanych przepływu danych typów bloku, które implementują <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601>, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>, i <xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602> interfejsów.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-137">The TPL Dataflow Library provides several predefined dataflow block types that implement the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601>, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>, and <xref:System.Threading.Tasks.Dataflow.IPropagatorBlock%602> interfaces.</span></span> <span data-ttu-id="b1c3b-138">Te typy bloku przepływu danych są opisane w tym dokumencie w sekcji [wstępnie zdefiniowanych typów bloku przepływu danych](#predefined_types).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-138">These dataflow block types are described in this document in the section [Predefined Dataflow Block Types](#predefined_types).</span></span>  
  
### <a name="connecting-blocks"></a><span data-ttu-id="b1c3b-139">Łączenie bloków</span><span class="sxs-lookup"><span data-stu-id="b1c3b-139">Connecting Blocks</span></span>  
 <span data-ttu-id="b1c3b-140">Możesz połączyć bloków przepływu danych do formularza *potoki*, liniowego sekwencji bloków przepływu danych, które są lub *sieci*, wykresy bloków przepływu danych, które są.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-140">You can connect dataflow blocks to form *pipelines*, which are linear sequences of dataflow blocks, or *networks*, which are graphs of dataflow blocks.</span></span> <span data-ttu-id="b1c3b-141">Potok jest jeden formularz sieci.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-141">A pipeline is one form of network.</span></span> <span data-ttu-id="b1c3b-142">W potoku lub w sieci źródeł asynchronicznie propagację danych do obiektów docelowych, wraz ze wzrostem dostępności danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-142">In a pipeline or network, sources asynchronously propagate data to targets as that data becomes available.</span></span> <span data-ttu-id="b1c3b-143"><xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A?displayProperty=nameWithType> Metody łączy bloku przepływu danych źródła blok docelowy.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-143">The <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A?displayProperty=nameWithType> method links a source dataflow block to a target block.</span></span> <span data-ttu-id="b1c3b-144">Źródłem może odnosić się do zero lub więcej celów; obiekty docelowe może być połączony z zero lub więcej źródeł.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-144">A source can be linked to zero or more targets; targets can be linked from zero or more sources.</span></span> <span data-ttu-id="b1c3b-145">Można dodawać lub usunąć jednocześnie bloków przepływu danych do lub z potoku lub sieci.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-145">You can add or remove dataflow blocks to or from a pipeline or network concurrently.</span></span> <span data-ttu-id="b1c3b-146">Bloku przepływu danych wstępnie zdefiniowanych typów obsługują wszystkie aspekty bezpieczeństwo wątków łączenia i odłączanie.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-146">The predefined dataflow block types handle all thread-safety aspects of linking and unlinking.</span></span>  
  
 <span data-ttu-id="b1c3b-147">Na przykład łączącego bloków przepływu danych do utworzenia podstawowego potoku, zobacz [wskazówki: tworzenie potoku przepływu danych](../../../docs/standard/parallel-programming/walkthrough-creating-a-dataflow-pipeline.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-147">For an example that connects dataflow blocks to form a basic pipeline, see [Walkthrough: Creating a Dataflow Pipeline](../../../docs/standard/parallel-programming/walkthrough-creating-a-dataflow-pipeline.md).</span></span> <span data-ttu-id="b1c3b-148">Na przykład łączącego bloków przepływu danych do utworzenia bardziej złożonych sieci, zobacz [wskazówki: Korzystanie z przepływu danych w aplikacji formularzy systemu Windows](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-148">For an example that connects dataflow blocks to form a more complex network, see [Walkthrough: Using Dataflow in a Windows Forms Application](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span> <span data-ttu-id="b1c3b-149">Na przykład, który wstrzymuje docelowego źródła po źródło oferuje obiektu docelowego komunikatu, zobacz [porady: rozłączanie bloków przepływu danych](../../../docs/standard/parallel-programming/how-to-unlink-dataflow-blocks.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-149">For an example that unlinks a target from a source after the source offers the target a message, see [How to: Unlink Dataflow Blocks](../../../docs/standard/parallel-programming/how-to-unlink-dataflow-blocks.md).</span></span>  
  
#### <a name="filtering"></a><span data-ttu-id="b1c3b-150">Filtrowanie</span><span class="sxs-lookup"><span data-stu-id="b1c3b-150">Filtering</span></span>  
 <span data-ttu-id="b1c3b-151">Podczas wywoływania <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A?displayProperty=nameWithType> metodę połączenia źródła dla miejsca docelowego, możesz podać delegata, który określa, czy blok docelowy akceptuje czy odrzuca wiadomości na podstawie wartości tej wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-151">When you call the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A?displayProperty=nameWithType> method to link a source to a target, you can supply a delegate that determines whether the target block accepts or rejects a message based on the value of that message.</span></span> <span data-ttu-id="b1c3b-152">Ten mechanizm filtrowania jest to wygodny sposób, aby zagwarantować, że blok przepływu danych odbiera tylko niektóre wartości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-152">This filtering mechanism is a useful way to guarantee that a dataflow block receives only certain values.</span></span> <span data-ttu-id="b1c3b-153">Większość typów bloku przepływu danych wstępnie zdefiniowane Jeśli bloku źródłowego jest podłączona do wielu bloków docelowej, gdy blok docelowy odrzuca wiadomości, źródło oferuje tej wiadomości do następnego elementu docelowego.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-153">For most of the predefined dataflow block types, if a source block is connected to multiple target blocks, when a target block rejects a message, the source offers that message to the next target.</span></span> <span data-ttu-id="b1c3b-154">Kolejność, w której źródłem oferuje wiadomości do obiektów docelowych jest definiowana za pomocą źródłowego i mogą się różnić zależnie od typu źródłowego.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-154">The order in which a source offers messages to targets is defined by the source and can vary according to the type of the source.</span></span> <span data-ttu-id="b1c3b-155">Większość typów bloku źródła Zatrzymaj oferty wiadomość, gdy jeden element docelowy zaakceptuje ten komunikat.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-155">Most source block types stop offering a message after one target accepts that message.</span></span> <span data-ttu-id="b1c3b-156">Jedynym wyjątkiem od tej reguły jest <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> klasy, która udostępnia każdy komunikat do wszystkich celów, nawet jeśli niektóre elementy docelowe odrzucić komunikat.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-156">One exception to this rule is the <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> class, which offers each message to all targets, even if some targets reject the message.</span></span> <span data-ttu-id="b1c3b-157">Na przykład, który używa filtrowanie do przetwarzania wyłącznie komunikatów, zobacz [wskazówki: Korzystanie z przepływu danych w aplikacji formularzy systemu Windows](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-157">For an example that uses filtering to process only certain messages, see [Walkthrough: Using Dataflow in a Windows Forms Application](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="b1c3b-158">Ponieważ każdy źródła wstępnie zdefiniowanego typu bloku przepływu danych gwarantuje, że komunikaty są przenoszone poza w kolejności, w którym są odbierane, każdej wiadomości musi być odczytywany z bloku źródłowego przed bloku źródłowego może przetwarzać komunikatów dalej.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-158">Because each predefined source dataflow block type guarantees that messages are propagated out in the order in which they are received, every message must be read from the source block before the source block can process the next message.</span></span> <span data-ttu-id="b1c3b-159">W związku z tym korzystając z filtrowania do nawiązania połączenia ze źródłem wielu elementów docelowych, upewnij się, że tego bloku co najmniej jeden cel odbiera każdy komunikat.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-159">Therefore, when you use filtering to connect multiple targets to a source, make sure that at least one target block receives each message.</span></span> <span data-ttu-id="b1c3b-160">W przeciwnym razie aplikacja może zakleszczenie.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-160">Otherwise, your application might deadlock.</span></span>  
  
### <a name="message-passing"></a><span data-ttu-id="b1c3b-161">Przekazywanie komunikatów</span><span class="sxs-lookup"><span data-stu-id="b1c3b-161">Message Passing</span></span>  
 <span data-ttu-id="b1c3b-162">Model programowania przepływu danych jest powiązany z pojęcie *przekazywania komunikatów*, gdzie niezależnych składników programu komunikować się ze sobą przy wysyłaniu wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-162">The dataflow programming model is related to the concept of *message passing*, where independent components of a program communicate with one another by sending messages.</span></span> <span data-ttu-id="b1c3b-163">Jednym ze sposobów propagację wiadomości między składnikami aplikacji jest wywołać <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A> i <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> metod do wysyłania komunikatów do post bloków przepływu danych docelowych (<xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A> działa synchronicznie; <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A> działa asynchronicznie) i <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A>, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A>, i <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A> metod do odbierania wiadomości z bloków źródła.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-163">One way to propagate messages among application components is to call the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A> and <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> methods to send messages to target dataflow blocks post (<xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A> acts synchronously; <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A> acts asynchronously) and the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A>, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A>, and <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A> methods to receive messages from source blocks.</span></span> <span data-ttu-id="b1c3b-164">Te metody można połączyć z potoki przepływu danych lub sieci przez wysłanie danych wejściowych z węzłem głównym (blok docelowy) i odbierać dane wyjściowe z terminala węzła potoku lub terminal węzłów sieci (jeden lub więcej bloków źródła).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-164">You can combine these methods with dataflow pipelines or networks by sending input data to the head node (a target block), and receiving output data from the terminal node of the pipeline or the terminal nodes of the network (one or more source blocks).</span></span> <span data-ttu-id="b1c3b-165">Można również użyć <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Choose%2A> metody do odczytu z pierwszego podanych źródłach danych i wykonania akcji na tych danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-165">You can also use the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Choose%2A> method to read from the first of the provided sources that has data available and perform action on that data.</span></span>  
  
 <span data-ttu-id="b1c3b-166">Bloki źródła oferowanie danych docelowych bloków przez wywołanie metody <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-166">Source blocks offer data to target blocks by calling the <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="b1c3b-167">Docelowy blok odpowiada na komunikat oferowane w jeden z trzech sposobów: można zaakceptować komunikat, odrzucić komunikat lub odłożyć wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-167">The target block responds to an offered message in one of three ways: it can accept the message, decline the message, or postpone the message.</span></span> <span data-ttu-id="b1c3b-168">Gdy element docelowy akceptuje komunikat <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> metoda zwraca <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Accepted>.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-168">When the target accepts the message, the <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> method returns <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Accepted>.</span></span> <span data-ttu-id="b1c3b-169">Gdy element docelowy odrzuci komunikat <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> metoda zwraca <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Declined>.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-169">When the target declines the message, the <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> method returns <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Declined>.</span></span> <span data-ttu-id="b1c3b-170">Jeśli element docelowy wymaga on nie będzie już otrzymywać żadnych komunikatów ze źródła, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> zwraca <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.DecliningPermanently>.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-170">When the target requires that it no longer receives any messages from the source, <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> returns <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.DecliningPermanently>.</span></span> <span data-ttu-id="b1c3b-171">Typy blok wstępnie zdefiniowanych źródła nie oferują wiadomości do połączonych elementów docelowych po odebraniu wartości zwracanej, i automatycznie odłączyć, z takich miejsc docelowych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-171">The predefined source block types do not offer messages to linked targets after such a return value is received, and they automatically unlink from such targets.</span></span>  
  
 <span data-ttu-id="b1c3b-172">Gdy blok docelowy odłoży komunikat do późniejszego użycia <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> metoda zwraca <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Postponed>.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-172">When a target block postpones the message for later use, the <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601.OfferMessage%2A> method returns <xref:System.Threading.Tasks.Dataflow.DataflowMessageStatus.Postponed>.</span></span> <span data-ttu-id="b1c3b-173">Blok docelowy, który odłoży komunikat może nowsze wywołania <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ReserveMessage%2A?displayProperty=nameWithType> metodę Zarezerwuj oferowany wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-173">A target block that postpones a message can later calls the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ReserveMessage%2A?displayProperty=nameWithType> method to try to reserve the offered message.</span></span> <span data-ttu-id="b1c3b-174">W tym momencie wiadomość jest nadal dostępny i mogą być używane przez blok docelowy lub wiadomość została podjęta przez inny element docelowy.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-174">At this point, the message is either still available and can be used by the target block, or the message has been taken by another target.</span></span> <span data-ttu-id="b1c3b-175">Blok docelowy później wymaga wiadomości lub nie będzie już potrzebował komunikat, wywołuje <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ConsumeMessage%2A?displayProperty=nameWithType> lub <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ReleaseReservation%2A> metody odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-175">When the target block later requires the message or no longer needs the message, it calls the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ConsumeMessage%2A?displayProperty=nameWithType> or <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ReleaseReservation%2A> method, respectively.</span></span> <span data-ttu-id="b1c3b-176">Zastrzeżenia komunikat zwykle jest używana przez typy bloku przepływu danych, które działają w trybie niezachłanne.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-176">Message reservation is typically used by the dataflow block types that operate in non-greedy mode.</span></span> <span data-ttu-id="b1c3b-177">Tryb intensywnie nie znajduje się w dalszej części tego dokumentu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-177">Non-greedy mode is explained later in this document.</span></span> <span data-ttu-id="b1c3b-178">Zamiast rezerwowania przełożonych wiadomości, można również użyć blok docelowy <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ConsumeMessage%2A?displayProperty=nameWithType> metody prób bezpośrednio używać przełożonych wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-178">Instead of reserving a postponed message, a target block can also use the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.ConsumeMessage%2A?displayProperty=nameWithType> method to attempt to directly consume the postponed message.</span></span>  
  
### <a name="dataflow-block-completion"></a><span data-ttu-id="b1c3b-179">Uzupełnianie bloku przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-179">Dataflow Block Completion</span></span>  
 <span data-ttu-id="b1c3b-180">Bloki przepływu danych obsługuje również pojęcie *zakończenia*.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-180">Dataflow blocks also support the concept of *completion*.</span></span> <span data-ttu-id="b1c3b-181">Bloku przepływu danych, która jest w stanie ukończone nie wykonuje żadnych dalszych działań.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-181">A dataflow block that is in the completed state does not perform any further work.</span></span> <span data-ttu-id="b1c3b-182">Każdy blok przepływu danych ma skojarzoną <xref:System.Threading.Tasks.Task?displayProperty=nameWithType> obiektu, znany jako *ukończenia zadania*, reprezentujący stan ukończenia bloku.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-182">Each dataflow block has an associated <xref:System.Threading.Tasks.Task?displayProperty=nameWithType> object, known as a *completion task*, that represents the completion status of the block.</span></span> <span data-ttu-id="b1c3b-183">Ponieważ można czekać na <xref:System.Threading.Tasks.Task> obiekt, aby zakończyć, za pomocą zadań zakończenia możesz poczekać na jeden lub więcej węzłów końcowych przepływu danych sieci, aby zakończyć.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-183">Because you can wait for a <xref:System.Threading.Tasks.Task> object to finish, by using completion tasks, you can wait for one or more terminal nodes of a dataflow network to finish.</span></span> <span data-ttu-id="b1c3b-184"><xref:System.Threading.Tasks.Dataflow.IDataflowBlock> Interfejs definiuje <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> metodę, która informuje bloku przepływu danych żądania na jego zakończenie, a <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> właściwość, która zwraca zadań zakończenia bloku przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-184">The <xref:System.Threading.Tasks.Dataflow.IDataflowBlock> interface defines the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> method, which informs the dataflow block of a request for it to complete, and the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> property, which returns the completion task for the dataflow block.</span></span> <span data-ttu-id="b1c3b-185">Zarówno <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601> i <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601> dziedziczą <xref:System.Threading.Tasks.Dataflow.IDataflowBlock> interfejsu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-185">Both <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601> and <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601> inherit the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock> interface.</span></span>  
  
 <span data-ttu-id="b1c3b-186">Istnieją dwa sposoby ustalić, czy bloku przepływu danych zostało ukończone bez błędów, Napotkano co najmniej jeden błąd lub została anulowana.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-186">There are two ways to determine whether a dataflow block completed without error, encountered one or more errors, or was canceled.</span></span> <span data-ttu-id="b1c3b-187">Pierwszym sposobem jest wywołać <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> metody na ukończenie zadania w `try` - `catch` bloku (`Try` - `Catch` w języku Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-187">The first way is to call the <xref:System.Threading.Tasks.Task.Wait%2A?displayProperty=nameWithType> method on the completion task in a `try`-`catch` block (`Try`-`Catch` in Visual Basic).</span></span> <span data-ttu-id="b1c3b-188">Poniższy przykład tworzy <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> obiekt, który zgłasza <xref:System.ArgumentOutOfRangeException> jeśli jego wartość wejściowa jest mniejsza od zera.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-188">The following example creates an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object that throws <xref:System.ArgumentOutOfRangeException> if its input value is less than zero.</span></span> <span data-ttu-id="b1c3b-189"><xref:System.AggregateException>jest generowany, gdy w tym przykładzie wywołuje <xref:System.Threading.Tasks.Task.Wait%2A> na ukończenie zadania.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-189"><xref:System.AggregateException> is thrown when this example calls <xref:System.Threading.Tasks.Task.Wait%2A> on the completion task.</span></span> <span data-ttu-id="b1c3b-190"><xref:System.ArgumentOutOfRangeException> Jest dostępny za pośrednictwem <xref:System.AggregateException.InnerExceptions%2A> właściwość <xref:System.AggregateException> obiektu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-190">The <xref:System.ArgumentOutOfRangeException> is accessed through the <xref:System.AggregateException.InnerExceptions%2A> property of the <xref:System.AggregateException> object.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#10](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#10)]
 [!code-vb[TPLDataflow_Overview#10](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#10)]  
  
 <span data-ttu-id="b1c3b-191">W tym przykładzie przedstawiono przypadek, w którym wyjątek przechodzi nieobsługiwany w elemencie delegowanym wykonywania bloku przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-191">This example demonstrates the case in which an exception goes unhandled in the delegate of an execution dataflow block.</span></span> <span data-ttu-id="b1c3b-192">Zaleca się, że obsługa wyjątków w treści takich bloków.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-192">We recommend that you handle exceptions in the bodies of such blocks.</span></span> <span data-ttu-id="b1c3b-193">Jednak jeśli nie jest możliwe to zrobić, bloku zachowuje się tak, jakby zostało anulowane, a nie przetwarza komunikatów przychodzących.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-193">However, if you are unable to do so, the block behaves as though it was canceled and does not process incoming messages.</span></span>  
  
 <span data-ttu-id="b1c3b-194">Po anulowaniu bloku przepływu danych jawnie, <xref:System.AggregateException> zawiera obiekt <xref:System.OperationCanceledException> w <xref:System.AggregateException.InnerExceptions%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-194">When a dataflow block is canceled explicitly, the <xref:System.AggregateException> object contains <xref:System.OperationCanceledException> in the <xref:System.AggregateException.InnerExceptions%2A> property.</span></span> <span data-ttu-id="b1c3b-195">Aby uzyskać więcej informacji na temat anulowania przepływu danych zobacz Włączanie anulowania w dalszej części tego dokumentu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-195">For more information about dataflow cancellation, see Enabling Cancellation later in this document.</span></span>  
  
 <span data-ttu-id="b1c3b-196">Drugi sposób, aby określić stan ukończenia bloku przepływu danych jest użycia kontynuacji wylogowuje na zakończenie zadania lub możliwości korzystania z funkcji asynchronicznych języka C# i Visual Basic asynchronicznie oczekiwania na ukończenie zadania.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-196">The second way to determine the completion status of a dataflow block is to use a continuation off of the completion task, or to use the asynchronous language features of C# and Visual Basic to asynchronously wait for the completion task.</span></span> <span data-ttu-id="b1c3b-197">Delegata, który osobie <xref:System.Threading.Tasks.Task.ContinueWith%2A?displayProperty=nameWithType> ma metodę <xref:System.Threading.Tasks.Task> obiekt, który reprezentuje poprzedzających zadań.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-197">The delegate that you provide to the <xref:System.Threading.Tasks.Task.ContinueWith%2A?displayProperty=nameWithType> method takes a <xref:System.Threading.Tasks.Task> object that represents the antecedent task.</span></span> <span data-ttu-id="b1c3b-198">W przypadku liczby <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> właściwości, delegat kontynuowania przyjmuje samo zadanie ukończenia.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-198">In the case of the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> property, the delegate for the continuation takes the completion task itself.</span></span> <span data-ttu-id="b1c3b-199">Poniższy przykład przypomina poprzedni, z wyjątkiem tego, że zastosowano <xref:System.Threading.Tasks.Task.ContinueWith%2A> metodę w celu utworzenia ukończenia zadania, które wyświetla stan ogólny operacji przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-199">The following example resembles the previous one, except that it also uses the <xref:System.Threading.Tasks.Task.ContinueWith%2A> method to create a completion task that prints the status of the overall dataflow operation.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#11](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#11)]
 [!code-vb[TPLDataflow_Overview#11](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#11)]  
  
 <span data-ttu-id="b1c3b-200">Można również użyć właściwości takich jak <xref:System.Threading.Tasks.Task.IsCanceled%2A> w treści zadania kontynuacji tak, aby określić dodatkowe informacje dotyczące stanu ukończenia bloku przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-200">You can also use properties such as <xref:System.Threading.Tasks.Task.IsCanceled%2A> in the body of the continuation task to determine additional information about the completion status of a dataflow block.</span></span> <span data-ttu-id="b1c3b-201">Aby uzyskać więcej informacji na temat zadań kontynuacji i ich relacji z anulowania oraz obsługi błędów zobacz [tworzenie łańcuchów zadań przy użyciu zadań kontynuacji](../../../docs/standard/parallel-programming/chaining-tasks-by-using-continuation-tasks.md), [anulowanie zadania](../../../docs/standard/parallel-programming/task-cancellation.md), [wyjątku Obsługa](../../../docs/standard/parallel-programming/exception-handling-task-parallel-library.md), i [NIB: porady: obsługa wyjątków zgłaszanych przez zadania](http://msdn.microsoft.com/en-us/d6c47ec8-9de9-4880-beb3-ff19ae51565d).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-201">For more information about continuation tasks and how they relate to cancellation and error handling, see [Chaining Tasks by Using Continuation Tasks](../../../docs/standard/parallel-programming/chaining-tasks-by-using-continuation-tasks.md), [Task Cancellation](../../../docs/standard/parallel-programming/task-cancellation.md), [Exception Handling](../../../docs/standard/parallel-programming/exception-handling-task-parallel-library.md), and [NIB: How to: Handle Exceptions Thrown by Tasks](http://msdn.microsoft.com/en-us/d6c47ec8-9de9-4880-beb3-ff19ae51565d).</span></span>  
  
 <span data-ttu-id="b1c3b-202">[[przejdź do góry](#top)]</span><span class="sxs-lookup"><span data-stu-id="b1c3b-202">[[go to top](#top)]</span></span>  
  
<a name="predefined_types"></a>   
## <a name="predefined-dataflow-block-types"></a><span data-ttu-id="b1c3b-203">Typy wstępnie zdefiniowanych bloku przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-203">Predefined Dataflow Block Types</span></span>  
 <span data-ttu-id="b1c3b-204">Biblioteka przepływu danych tpl udostępnia kilka typów bloku przepływu danych wstępnie zdefiniowane.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-204">The TPL Dataflow Library provides several predefined dataflow block types.</span></span> <span data-ttu-id="b1c3b-205">Te typy są podzielone na trzy kategorie: *buforowanie bloki*, *bloki wykonywania*, i *grupowanie bloki*.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-205">These types are divided into three categories: *buffering blocks*, *execution blocks*, and *grouping blocks*.</span></span> <span data-ttu-id="b1c3b-206">W poniższych sekcjach opisano typy bloku wchodzące w skład tych kategorii.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-206">The following sections describe the block types that make up these categories.</span></span>  
  
### <a name="buffering-blocks"></a><span data-ttu-id="b1c3b-207">Buforowanie bloków</span><span class="sxs-lookup"><span data-stu-id="b1c3b-207">Buffering Blocks</span></span>  
 <span data-ttu-id="b1c3b-208">Bloki buforowania przechowywania danych używanych przez konsumentów danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-208">Buffering blocks hold data for use by data consumers.</span></span> <span data-ttu-id="b1c3b-209">Biblioteka przepływu danych tpl udostępnia trzy typy bloku buforowanie: <xref:System.Threading.Tasks.Dataflow.BufferBlock%601?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601?displayProperty=nameWithType>, i <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-209">The TPL Dataflow Library provides three buffering block types: <xref:System.Threading.Tasks.Dataflow.BufferBlock%601?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601?displayProperty=nameWithType>.</span></span>  
  
#### <a name="bufferblockt"></a><span data-ttu-id="b1c3b-210">BufferBlock(T)</span><span class="sxs-lookup"><span data-stu-id="b1c3b-210">BufferBlock(T)</span></span>  
 <span data-ttu-id="b1c3b-211"><xref:System.Threading.Tasks.Dataflow.BufferBlock%601> Klasa reprezentuje ogólnego przeznaczenia asynchroniczne struktury obsługi wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-211">The <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> class represents a general-purpose asynchronous messaging structure.</span></span> <span data-ttu-id="b1c3b-212">Ta klasa przechowuje pierwszy w pierwszej FIFO kolejki komunikatów, które mogą być zapisywane wiele źródeł lub odczytywane przez wiele obiektów docelowych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-212">This class stores a first in, first out (FIFO) queue of messages that can be written to by multiple sources or read from by multiple targets.</span></span> <span data-ttu-id="b1c3b-213">Jeśli element docelowy odbiera komunikat z <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> obiektu, że wiadomość zostanie usunięta z kolejki wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-213">When a target receives a message from a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object, that message is removed from the message queue.</span></span> <span data-ttu-id="b1c3b-214">W związku z tym mimo że <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> obiekt może mieć wielu elementów docelowych, tylko jeden obiekt docelowy będzie otrzymywać każdego komunikatu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-214">Therefore, although a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object can have multiple targets, only one target will receive each message.</span></span> <span data-ttu-id="b1c3b-215"><xref:System.Threading.Tasks.Dataflow.BufferBlock%601> Klasy jest przydatne, gdy chcesz przekazać wiele komunikatów do innego składnika i składnik ten musi otrzymać każdy komunikat.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-215">The <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> class is useful when you want to pass multiple messages to another component, and that component must receive each message.</span></span>  
  
 <span data-ttu-id="b1c3b-216">Poniższy przykład podstawowe ogłoszeń kilka <xref:System.Int32> wartości do <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> obiektów i odczytuje wartości z kopii tego obiektu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-216">The following basic example posts several <xref:System.Int32> values to a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object and then reads those values back from that object.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#1](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#1)]
 [!code-vb[TPLDataflow_Overview#1](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#1)]  
  
 <span data-ttu-id="b1c3b-217">Pełny przykład przedstawiający sposób pisanie i odbieranie wiadomości z <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> obiektów, zobacz [porady: wiadomości do zapisu i odczytu wiadomości z bloku przepływu danych](../../../docs/standard/parallel-programming/how-to-write-messages-to-and-read-messages-from-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-217">For a complete example that demonstrates how to write messages to and read messages from a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object, see [How to: Write Messages to and Read Messages from a Dataflow Block](../../../docs/standard/parallel-programming/how-to-write-messages-to-and-read-messages-from-a-dataflow-block.md).</span></span>  
  
#### <a name="broadcastblockt"></a><span data-ttu-id="b1c3b-218">BroadcastBlock(T)</span><span class="sxs-lookup"><span data-stu-id="b1c3b-218">BroadcastBlock(T)</span></span>  
 <span data-ttu-id="b1c3b-219"><xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> Klasy jest przydatne, gdy trzeba przekazać wiele komunikatów do innego składnika, ale ten składnik wymaga tylko najnowsze wartość.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-219">The <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> class is useful when you must pass multiple messages to another component, but that component needs only the most recent value.</span></span> <span data-ttu-id="b1c3b-220">Ta klasa jest również przydatne, gdy chcesz wysyłać wiadomości do wielu składników.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-220">This class is also useful when you want to broadcast a message to multiple components.</span></span>  
  
 <span data-ttu-id="b1c3b-221">Następujące wpisy prosty przykład <xref:System.Double> do wartości <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> obiektu, a następnie odczytów, które wartość wykonują kopie kilka razy z tym obiektem.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-221">The following basic example posts a <xref:System.Double> value to a <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> object and then reads that value back from that object several times.</span></span> <span data-ttu-id="b1c3b-222">Ponieważ wartości nie zostaną usunięte z <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> obiektów po ich wczytywania taką samą wartość jest dostępna zawsze.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-222">Because values are not removed from <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> objects after they are read, the same value is available every time.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#2](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#2)]
 [!code-vb[TPLDataflow_Overview#2](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#2)]  
  
 <span data-ttu-id="b1c3b-223">Pełny przykład przedstawiający sposób użycia <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> wysyłać wiadomości na wiele bloków docelowej, zobacz [porady: Określanie harmonogramu zadań w bloku przepływu danych](../../../docs/standard/parallel-programming/how-to-specify-a-task-scheduler-in-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-223">For a complete example that demonstrates how to use <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> to broadcast a message to multiple target blocks, see [How to: Specify a Task Scheduler in a Dataflow Block](../../../docs/standard/parallel-programming/how-to-specify-a-task-scheduler-in-a-dataflow-block.md).</span></span>  
  
#### <a name="writeonceblockt"></a><span data-ttu-id="b1c3b-224">WriteOnceBlock(T)</span><span class="sxs-lookup"><span data-stu-id="b1c3b-224">WriteOnceBlock(T)</span></span>  
 <span data-ttu-id="b1c3b-225"><xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> Podobny klasy <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> klasy, z wyjątkiem <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> obiektu można zapisać tylko raz.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-225">The <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> class resembles the <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> class, except that a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object can be written to one time only.</span></span> <span data-ttu-id="b1c3b-226">Można potraktować <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> jako zbliżone do języka C# [tylko do odczytu](~/docs/csharp/language-reference/keywords/readonly.md) ([tylko do odczytu](~/docs/visual-basic/language-reference/modifiers/readonly.md) w [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]) — słowo kluczowe, z wyjątkiem <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> obiekt staje się niezmienne po otrzymaniu wartość zamiast w konstrukcji.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-226">You can think of <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> as being similar to the C# [readonly](~/docs/csharp/language-reference/keywords/readonly.md) ([ReadOnly](~/docs/visual-basic/language-reference/modifiers/readonly.md) in [!INCLUDE[vbprvb](../../../includes/vbprvb-md.md)]) keyword, except that a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object becomes immutable after it receives a value instead of at construction.</span></span> <span data-ttu-id="b1c3b-227">Podobnie jak <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> klasy, gdy element docelowy otrzyma komunikat z <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> obiekt ten komunikat nie zostanie usunięty z tego obiektu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-227">Like the <xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601> class, when a target receives a message from a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object, that message is not removed from that object.</span></span> <span data-ttu-id="b1c3b-228">W związku z tym wiele elementów docelowych odbierać kopia wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-228">Therefore, multiple targets receive a copy of the message.</span></span> <span data-ttu-id="b1c3b-229"><xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> Klasy jest przydatne, gdy chcesz propagację tylko pierwszy wiele komunikatów.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-229">The <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> class is useful when you want to propagate only the first of multiple messages.</span></span>  
  
 <span data-ttu-id="b1c3b-230">Poniższy przykład podstawowe ogłoszeń wielu <xref:System.String> wartości do <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> obiektu, a następnie odczytuje wartość kopii z tego obiektu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-230">The following basic example posts multiple <xref:System.String> values to a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object and then reads the value back from that object.</span></span> <span data-ttu-id="b1c3b-231">Ponieważ <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> obiektu mogą być zapisywane na raz, po <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> obiekt odbiera wiadomości, odrzuca kolejnych komunikatów.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-231">Because a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object can be written to one time only, after a <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> object receives a message, it discards subsequent messages.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#3](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#3)]
 [!code-vb[TPLDataflow_Overview#3](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#3)]  
  
 <span data-ttu-id="b1c3b-232">Pełny przykład przedstawiający sposób użycia <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> aby otrzymać wartość pierwszej operacji, która kończy, zobacz [porady: rozłączanie bloków przepływu danych](../../../docs/standard/parallel-programming/how-to-unlink-dataflow-blocks.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-232">For a complete example that demonstrates how to use <xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601> to receive the value of the first operation that finishes, see [How to: Unlink Dataflow Blocks](../../../docs/standard/parallel-programming/how-to-unlink-dataflow-blocks.md).</span></span>  
  
### <a name="execution-blocks"></a><span data-ttu-id="b1c3b-233">Bloki wykonywania</span><span class="sxs-lookup"><span data-stu-id="b1c3b-233">Execution Blocks</span></span>  
 <span data-ttu-id="b1c3b-234">Bloki wykonania wywołania delegata dostarczane przez użytkownika dla każdego z nich odbierane dane.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-234">Execution blocks call a user-provided delegate for each piece of received data.</span></span> <span data-ttu-id="b1c3b-235">Biblioteka przepływu danych tpl udostępnia trzy typy bloku wykonywania: <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602?displayProperty=nameWithType>, i <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-235">The TPL Dataflow Library provides three execution block types: <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602?displayProperty=nameWithType>.</span></span>  
  
#### <a name="actionblockt"></a><span data-ttu-id="b1c3b-236">ActionBlock(T)</span><span class="sxs-lookup"><span data-stu-id="b1c3b-236">ActionBlock(T)</span></span>  
 <span data-ttu-id="b1c3b-237"><xref:System.Threading.Tasks.Dataflow.ActionBlock%601> Klasa jest blok docelowy, który wywołuje delegata po odebraniu danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-237">The <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> class is a target block that calls a delegate when it receives data.</span></span> <span data-ttu-id="b1c3b-238">Pomyśl o <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> obiektu jako delegata, który jest uruchamiane asynchronicznie, gdy dane będą dostępne.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-238">Think of a <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object as a delegate that runs asynchronously when data becomes available.</span></span> <span data-ttu-id="b1c3b-239">Delegat, który osobie <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> obiekt może być typu <xref:System.Action> lub typ `System.Func\<TInput, Task>`.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-239">The delegate that you provide to an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object can be of type <xref:System.Action> or type `System.Func\<TInput, Task>`.</span></span> <span data-ttu-id="b1c3b-240">Jeśli używasz <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> obiekt z <xref:System.Action>, przetwarzania każdego elementu wejściowego jest uznawane za zakończone po powrocie z obiektem delegowanym.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-240">When you use an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object with <xref:System.Action>, processing of each input element is considered completed when the delegate returns.</span></span> <span data-ttu-id="b1c3b-241">Jeśli używasz <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> obiekt z `System.Func\<TInput, Task>`, przetwarzania każdego elementu wejściowego jest uznawany za ukończone tylko wtedy, gdy zwracana <xref:System.Threading.Tasks.Task> obiektu zostało zakończone.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-241">When you use an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object with `System.Func\<TInput, Task>`, processing of each input element is considered completed only when the returned <xref:System.Threading.Tasks.Task> object is completed.</span></span> <span data-ttu-id="b1c3b-242">Korzystając z tych dwóch mechanizmów, można użyć <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> dla każdego elementu wejściowego Przetwarzanie synchroniczne i asynchroniczne.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-242">By using these two mechanisms, you can use <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> for both synchronous and asynchronous processing of each input element.</span></span>  
  
 <span data-ttu-id="b1c3b-243">Poniższy przykład podstawowe ogłoszeń wielu <xref:System.Int32> wartości do <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> obiektu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-243">The following basic example posts multiple <xref:System.Int32> values to an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object.</span></span> <span data-ttu-id="b1c3b-244"><xref:System.Threading.Tasks.Dataflow.ActionBlock%601> Obiektu wyświetla te wartości do konsoli.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-244">The <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object prints those values to the console.</span></span> <span data-ttu-id="b1c3b-245">W tym przykładzie następnie ustawia bloku stanu ukończenia i czeka na zakończenie wszystkich zadań przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-245">This example then sets the block to the completed state and waits for all dataflow tasks to finish.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#4](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#4)]
 [!code-vb[TPLDataflow_Overview#4](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#4)]  
  
 <span data-ttu-id="b1c3b-246">Pełne przykłady, które pokazują, jak używać delegatów o <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> , zobacz [porady: wykonania akcji podczas przepływu danych bloku odbiera dane](../../../docs/standard/parallel-programming/how-to-perform-action-when-a-dataflow-block-receives-data.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-246">For complete examples that demonstrate how to use delegates with the <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> class, see [How to: Perform Action When a Dataflow Block Receives Data](../../../docs/standard/parallel-programming/how-to-perform-action-when-a-dataflow-block-receives-data.md).</span></span>  
  
#### <a name="transformblocktinput-toutput"></a><span data-ttu-id="b1c3b-247">Element TransformBlock (tWEJŚCIE, tWYJŚCIE)</span><span class="sxs-lookup"><span data-stu-id="b1c3b-247">TransformBlock(TInput, TOutput)</span></span>  
 <span data-ttu-id="b1c3b-248"><xref:System.Threading.Tasks.Dataflow.TransformBlock%602> Podobny klasy <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> klasy, z wyjątkiem, że działa jako zarówno źródłowy, a element docelowy.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-248">The <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> class resembles the <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> class, except that it acts as both a source and as a target.</span></span> <span data-ttu-id="b1c3b-249">Delegat, który jest przekazywany do <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> obiektu zwraca wartość typu `TOutput`.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-249">The delegate that you pass to a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object returns a value of type `TOutput`.</span></span> <span data-ttu-id="b1c3b-250">Delegat, który osobie <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> obiekt może być typu `System.Func<TInput, TOutput>` lub typ `System.Func<TInput, Task>`.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-250">The delegate that you provide to a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object can be of type `System.Func<TInput, TOutput>` or type `System.Func<TInput, Task>`.</span></span> <span data-ttu-id="b1c3b-251">Jeśli używasz <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> obiekt z `System.Func\<TInput, TOutput>`, przetwarzania każdego elementu wejściowego jest uznawane za zakończone po powrocie z obiektem delegowanym.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-251">When you use a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object with `System.Func\<TInput, TOutput>`, processing of each input element is considered completed when the delegate returns.</span></span> <span data-ttu-id="b1c3b-252">Jeśli używasz <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> obiekt użyty z `System.Func<TInput, Task<TOutput>>`, przetwarzania każdego elementu wejściowego jest uznawany za ukończone tylko wtedy, gdy zwracana <xref:System.Threading.Tasks.Task> obiektu zostało zakończone.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-252">When you use a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object used with `System.Func<TInput, Task<TOutput>>`, processing of each input element is considered completed only when the returned <xref:System.Threading.Tasks.Task> object is completed.</span></span> <span data-ttu-id="b1c3b-253">Jak <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, korzystając z tych dwóch mechanizmów, można użyć <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> dla każdego elementu wejściowego Przetwarzanie synchroniczne i asynchroniczne.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-253">As with <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, by using these two mechanisms, you can use <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> for both synchronous and asynchronous processing of each input element.</span></span>  
  
 <span data-ttu-id="b1c3b-254">Poniższy przykład podstawowe tworzy <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> obiekt, który oblicza pierwiastek kwadratowy jej danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-254">The following basic example creates a <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object that computes the square root of its input.</span></span> <span data-ttu-id="b1c3b-255"><xref:System.Threading.Tasks.Dataflow.TransformBlock%602> Obiekt ma <xref:System.Int32> wartości jako dane wejściowe i tworzy <xref:System.Double> wartości jako dane wyjściowe.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-255">The <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> object takes <xref:System.Int32> values as input and produces <xref:System.Double> values as output.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#5](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#5)]
 [!code-vb[TPLDataflow_Overview#5](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#5)]  
  
 <span data-ttu-id="b1c3b-256">Pełną przykłady, których używa <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> w sieci bloków przepływu danych, która przetwarza obrazu w aplikacji formularzy systemu Windows, temacie [wskazówki: Korzystanie z przepływu danych w aplikacji formularzy systemu Windows](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-256">For complete examples that uses <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> in a network of dataflow blocks that performs image processing in a Windows Forms application, see [Walkthrough: Using Dataflow in a Windows Forms Application](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span>  
  
#### <a name="transformmanyblocktinput-toutput"></a><span data-ttu-id="b1c3b-257">TransformManyBlock (tWEJŚCIE, tWYJŚCIE)</span><span class="sxs-lookup"><span data-stu-id="b1c3b-257">TransformManyBlock(TInput, TOutput)</span></span>  
 <span data-ttu-id="b1c3b-258"><xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> Podobny klasy <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> klasy, z wyjątkiem <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> daje zero lub więcej wartości danych wyjściowych dla każdego wartość wejściowa jest, a nie tylko jeden wyjściowy wartość dla każdej wartości wejściowej.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-258">The <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> class resembles the <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> class, except that <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> produces zero or more output values for each input value, instead of only one output value for each input value.</span></span> <span data-ttu-id="b1c3b-259">Delegat, który osobie <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> obiekt może być typu `System.Func<TInput, IEnumerable<TOutput>>` lub `type System.Func<TInput, Task<IEnumerable<TOutput>>>`.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-259">The delegate that you provide to a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object can be of type `System.Func<TInput, IEnumerable<TOutput>>` or `type System.Func<TInput, Task<IEnumerable<TOutput>>>`.</span></span> <span data-ttu-id="b1c3b-260">Jeśli używasz <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> obiekt z `System.Func<TInput, IEnumerable<TOutput>>`, przetwarzania każdego elementu wejściowego jest uznawane za zakończone po powrocie z obiektem delegowanym.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-260">When you use a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object with `System.Func<TInput, IEnumerable<TOutput>>`, processing of each input element is considered completed when the delegate returns.</span></span> <span data-ttu-id="b1c3b-261">Jeśli używasz <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> obiekt z `System.Func<TInput, Task<IEnumerable<TOutput>>>`, przetwarzania każdego elementu wejściowego jest uznawany za pełną tylko wtedy, gdy zwracana `System.Threading.Tasks.Task<IEnumerable<TOutput>>` obiektu zostało zakończone.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-261">When you use a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object with `System.Func<TInput, Task<IEnumerable<TOutput>>>`, processing of each input element is considered complete only when the returned `System.Threading.Tasks.Task<IEnumerable<TOutput>>` object is completed.</span></span>  
  
 <span data-ttu-id="b1c3b-262">Poniższy przykład podstawowe tworzy <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> obiekt, który dzieli ciągów na ich sekwencje znaków indywidualnych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-262">The following basic example creates a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object that splits strings into their individual character sequences.</span></span> <span data-ttu-id="b1c3b-263"><xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> Obiekt ma <xref:System.String> wartości jako dane wejściowe i tworzy <xref:System.Char> wartości jako dane wyjściowe.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-263">The <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object takes <xref:System.String> values as input and produces <xref:System.Char> values as output.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#6](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#6)]
 [!code-vb[TPLDataflow_Overview#6](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#6)]  
  
 <span data-ttu-id="b1c3b-264">Pełne przykłady, które używają <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> można tworzyć wiele niezależnych dane wyjściowe dla każdego danych wejściowych w potoku przepływu danych, zobacz [wskazówki: tworzenie potoku przepływu danych](../../../docs/standard/parallel-programming/walkthrough-creating-a-dataflow-pipeline.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-264">For complete examples that use <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> to produce multiple independent outputs for each input in a dataflow pipeline, see [Walkthrough: Creating a Dataflow Pipeline](../../../docs/standard/parallel-programming/walkthrough-creating-a-dataflow-pipeline.md).</span></span>  
  
#### <a name="degree-of-parallelism"></a><span data-ttu-id="b1c3b-265">Stopień równoległości</span><span class="sxs-lookup"><span data-stu-id="b1c3b-265">Degree of Parallelism</span></span>  
 <span data-ttu-id="b1c3b-266">Każdy <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, i <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> obiektu buforów danych wejściowych wiadomości do momentu bloku jest gotowa do ich przetworzenia.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-266">Every <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object buffers input messages until the block is ready to process them.</span></span> <span data-ttu-id="b1c3b-267">Domyślnie te klasy przetwarzania komunikatów w kolejności, w którym są odbierane, jeden komunikat naraz.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-267">By default, these classes process messages in the order in which they are received, one message at a time.</span></span> <span data-ttu-id="b1c3b-268">Można również określić stopień równoległości, aby włączyć <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> i <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> obiekty jednocześnie przetwarzać wiele komunikatów.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-268">You can also specify the degree of parallelism to enable <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> objects to process multiple messages concurrently.</span></span> <span data-ttu-id="b1c3b-269">Aby uzyskać więcej informacji o wykonanie współbieżne zobacz sekcję Określanie stopnia równoległości w dalszej części tego dokumentu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-269">For more information about concurrent execution, see the section Specifying the Degree of Parallelism later in this document.</span></span> <span data-ttu-id="b1c3b-270">Na przykład, który ustawia maksymalny stopień równoległości, aby umożliwić wykonanie bloku przepływu danych do jednoczesnego przetwarzania więcej niż jeden komunikat, zobacz [porady: określanie stopnia równoległości w bloku przepływu danych](../../../docs/standard/parallel-programming/how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-270">For an example that sets the degree of parallelism to enable an execution dataflow block to process more than one message at a time, see [How to: Specify the Degree of Parallelism in a Dataflow Block](../../../docs/standard/parallel-programming/how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md).</span></span>  
  
#### <a name="summary-of-delegate-types"></a><span data-ttu-id="b1c3b-271">Podsumowanie typów delegatów</span><span class="sxs-lookup"><span data-stu-id="b1c3b-271">Summary of Delegate Types</span></span>  
 <span data-ttu-id="b1c3b-272">Poniższa tabela zawiera podsumowanie typów delegata, które można udostępniać użytkownikom <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, i <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> obiektów.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-272">The following table summarizes the delegate types that you can provide to <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> objects.</span></span> <span data-ttu-id="b1c3b-273">Ta tabela określa również, czy typ delegata działa synchronicznie lub asynchronicznie.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-273">This table also specifies whether the delegate type operates synchronously or asynchronously.</span></span>  
  
|<span data-ttu-id="b1c3b-274">Typ</span><span class="sxs-lookup"><span data-stu-id="b1c3b-274">Type</span></span>|<span data-ttu-id="b1c3b-275">Typ delegata synchroniczne</span><span class="sxs-lookup"><span data-stu-id="b1c3b-275">Synchronous Delegate Type</span></span>|<span data-ttu-id="b1c3b-276">Typ delegata asynchroniczne</span><span class="sxs-lookup"><span data-stu-id="b1c3b-276">Asynchronous Delegate Type</span></span>|  
|----------|-------------------------------|--------------------------------|  
|<xref:System.Threading.Tasks.Dataflow.ActionBlock%601>|`System.Action`|`System.Func\<TInput, Task>`|  
|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="b1c3b-277">`System.Func\<TInput, TOutput>`2\`</span><span class="sxs-lookup"><span data-stu-id="b1c3b-277">`System.Func\<TInput, TOutput>`2\`</span></span>|`System.Func<TInput, Task<TOutput>>`|  
|<xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>|`System.Func<TInput, IEnumerable<TOutput>>`|`System.Func<TInput, Task<IEnumerable<TOutput>>>`|  
  
 <span data-ttu-id="b1c3b-278">Można również użycie wyrażeń lambda, podczas pracy z typami bloku wykonywania.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-278">You can also use lambda expressions when you work with execution block types.</span></span> <span data-ttu-id="b1c3b-279">Na przykład pokazujący sposób wyrażenia lambda za pomocą bloku wykonywania zobacz [porady: wykonania akcji podczas przepływu danych bloku odbiera dane](../../../docs/standard/parallel-programming/how-to-perform-action-when-a-dataflow-block-receives-data.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-279">For an example that shows how to use a lambda expression with an execution block, see [How to: Perform Action When a Dataflow Block Receives Data](../../../docs/standard/parallel-programming/how-to-perform-action-when-a-dataflow-block-receives-data.md).</span></span>  
  
### <a name="grouping-blocks"></a><span data-ttu-id="b1c3b-280">Grupowanie bloków</span><span class="sxs-lookup"><span data-stu-id="b1c3b-280">Grouping Blocks</span></span>  
 <span data-ttu-id="b1c3b-281">Bloki grupowania połączyć dane z jednego lub więcej źródeł i w różne ograniczenia.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-281">Grouping blocks combine data from one or more sources and under various constraints.</span></span> <span data-ttu-id="b1c3b-282">Biblioteka przepływu danych tpl udostępnia trzy typy bloku sprzężenia: <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>, i <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-282">The TPL Dataflow Library provides three join block types: <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>, and <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>.</span></span>  
  
#### <a name="batchblockt"></a><span data-ttu-id="b1c3b-283">BatchBlock(T)</span><span class="sxs-lookup"><span data-stu-id="b1c3b-283">BatchBlock(T)</span></span>  
 <span data-ttu-id="b1c3b-284"><xref:System.Threading.Tasks.Dataflow.BatchBlock%601> Klasy łączy zestawy danych wejściowych, które są nazywane partie, do tablic danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-284">The <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> class combines sets of input data, which are known as batches, into arrays of output data.</span></span> <span data-ttu-id="b1c3b-285">Określ rozmiar każdej z partii, podczas tworzenia <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> obiektu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-285">You specify the size of each batch when you create a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object.</span></span> <span data-ttu-id="b1c3b-286">Gdy <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> obiekt odbiera określonej liczby elementów wejściowych, asynchronicznie propaguje on limit tablicę, która zawiera te elementy.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-286">When the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object receives the specified count of input elements, it asynchronously propagates out an array that contains those elements.</span></span> <span data-ttu-id="b1c3b-287">Jeśli <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> obiektu ma ustawioną wartość stanu ukończenia, ale nie zawiera za mało elementów do tworzenia partii, rozprzestrzenia się poza końcowym tablica, która zawiera wszystkie pozostałe elementy wejściowe.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-287">If a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object is set to the completed state but does not contain enough elements to form a batch, it propagates out a final array that contains the remaining input elements.</span></span>  
  
 <span data-ttu-id="b1c3b-288"><xref:System.Threading.Tasks.Dataflow.BatchBlock%601> Klasa działa w jednym *zachłanne* lub *niezachłanne* tryb.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-288">The <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> class operates in either *greedy* or *non-greedy* mode.</span></span> <span data-ttu-id="b1c3b-289">W trybie intensywnie, który jest domyślnym, <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> akceptuje każdy komunikat jest oferowany i propaguje limit tablicy po otrzymaniu określonej liczby elementów.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-289">In greedy mode, which is the default, a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object accepts every message that it is offered and propagates out an array after it receives the specified count of elements.</span></span> <span data-ttu-id="b1c3b-290">W trybie niezachłanne <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> obiektu odłoży wszystkie wiadomości przychodzących, dopóki za mało źródeł ma oferowana wiadomości do bloku do tworzenia partii.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-290">In non-greedy mode, a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object postpones all incoming messages until enough sources have offered messages to the block to form a batch.</span></span> <span data-ttu-id="b1c3b-291">Tryb intensywnie przeważnie wykonuje lepiej niż tryb niezachłanne ponieważ wymaga mniej przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-291">Greedy mode typically performs better than non-greedy mode because it requires less processing overhead.</span></span> <span data-ttu-id="b1c3b-292">Jednak użyciem niezachłanne trybu zużycia z wielu źródeł w sposób atomic musi być dostosowana.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-292">However, you can use non-greedy mode when you must coordinate consumption from multiple sources in an atomic fashion.</span></span> <span data-ttu-id="b1c3b-293">Określ tryb niezachłanne przez ustawienie <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions.Greedy%2A> do `False` w `dataflowBlockOptions` parametru w <xref:System.Threading.Tasks.Dataflow.BatchBlock%601.%23ctor%2A> konstruktora.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-293">Specify non-greedy mode by setting <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions.Greedy%2A> to `False` in the `dataflowBlockOptions` parameter in the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601.%23ctor%2A> constructor.</span></span>  
  
 <span data-ttu-id="b1c3b-294">Poniższy przykład podstawowe ogłoszeń kilka <xref:System.Int32> wartości do <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> obiektu, który zawiera 10 elementów w partii.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-294">The following basic example posts several <xref:System.Int32> values to a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object that holds ten elements in a batch.</span></span> <span data-ttu-id="b1c3b-295">Aby zagwarantować, że wszystkie wartości propagację z <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, w tym przykładzie wywołuje <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-295">To guarantee that all values propagate out of the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, this example calls the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> method.</span></span> <span data-ttu-id="b1c3b-296"><xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> Zestawów — metoda <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> obiektu do stanu ukończenia i w związku z tym <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> obiektu propaguje limit wszelkie pozostałe elementy jako ostatecznego partii.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-296">The <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A> method sets the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object to the completed state, and therefore, the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object propagates out any remaining elements as a final batch.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#7](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#7)]
 [!code-vb[TPLDataflow_Overview#7](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#7)]  
  
 <span data-ttu-id="b1c3b-297">Pełny przykład, który używa <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> w celu poprawy wydajności bazy danych operacji insert, zobacz [wskazówki: przy użyciu BatchBlock i BatchedJoinBlock, aby poprawić wydajność](../../../docs/standard/parallel-programming/walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-297">For a complete example that uses <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> to improve the efficiency of database insert operations, see [Walkthrough: Using BatchBlock and BatchedJoinBlock to Improve Efficiency](../../../docs/standard/parallel-programming/walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md).</span></span>  
  
#### <a name="joinblockt1-t2-"></a><span data-ttu-id="b1c3b-298">Klasy JoinBlock (T1, T2,...)</span><span class="sxs-lookup"><span data-stu-id="b1c3b-298">JoinBlock(T1, T2, ...)</span></span>  
 <span data-ttu-id="b1c3b-299"><xref:System.Threading.Tasks.Dataflow.JoinBlock%602> i <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> klasy Zbieranie elementów wejściowych i Propaguj limit <xref:System.Tuple%602?displayProperty=nameWithType> lub <xref:System.Tuple%603?displayProperty=nameWithType> obiektów, które zawierają te elementy.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-299">The <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> and <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> classes collect input elements and propagate out <xref:System.Tuple%602?displayProperty=nameWithType> or <xref:System.Tuple%603?displayProperty=nameWithType> objects that contain those elements.</span></span> <span data-ttu-id="b1c3b-300"><xref:System.Threading.Tasks.Dataflow.JoinBlock%602> i <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> klasy dziedziczy <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-300">The <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> and <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> classes do not inherit from <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span></span> <span data-ttu-id="b1c3b-301">Zamiast tego zawierają właściwości, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602.Target1%2A>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602.Target2%2A>, i <xref:System.Threading.Tasks.Dataflow.JoinBlock%603.Target3%2A>, które implementują <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-301">Instead, they provide properties, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602.Target1%2A>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602.Target2%2A>, and <xref:System.Threading.Tasks.Dataflow.JoinBlock%603.Target3%2A>, that implement <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span></span>  
  
 <span data-ttu-id="b1c3b-302">Podobnie jak <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> i <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> działają w trybie zachłanne lub niezachłanne.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-302">Like <xref:System.Threading.Tasks.Dataflow.BatchBlock%601>, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> and <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> operate in either greedy or non-greedy mode.</span></span> <span data-ttu-id="b1c3b-303">W trybie intensywnie, który jest domyślnym, <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> lub <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> akceptuje każdy komunikat jest oferowany i propaguje limit krotka po otrzymaniu każdego z jego elementów docelowych co najmniej jeden komunikat.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-303">In greedy mode, which is the default, a <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> or <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> object accepts every message that it is offered and propagates out a tuple after each of its targets receives at least one message.</span></span> <span data-ttu-id="b1c3b-304">W trybie niezachłanne <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> lub <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> obiektu odłoży wszystkie wiadomości przychodzących, dopóki wszystkie elementy docelowe oferowane dane, które jest wymagane do utworzenia spójnych kolekcji.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-304">In non-greedy mode, a <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> or <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> object postpones all incoming messages until all targets have been offered the data that is required to create a tuple.</span></span> <span data-ttu-id="b1c3b-305">W tym momencie bloku uczestniczy w dwufazowego protokołu wykonania automatycznie pobrać wszystkie wymagane elementy ze źródeł.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-305">At this point, the block engages in a two-phase commit protocol to atomically retrieve all required items from the sources.</span></span> <span data-ttu-id="b1c3b-306">Tego opóźnienia umożliwia innego podmiotu zużywanie dane w tym samym czasie, aby zezwolić całego systemu postęp.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-306">This postponement makes it possible for another entity to consume the data in the meantime, to allow the overall system to make forward progress.</span></span>  
  
 <span data-ttu-id="b1c3b-307">W poniższym przykładzie podstawowe pokazano przypadek, w którym <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> obiekt wymaga wielu danych do obliczenia wartości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-307">The following basic example demonstrates a case in which a <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> object requires multiple data to compute a value.</span></span> <span data-ttu-id="b1c3b-308">Ten przykład tworzy <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> obiekt, który wymaga dwóch <xref:System.Int32> wartości i <xref:System.Char> wartość do wykonywania operacji arytmetycznej.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-308">This example creates a <xref:System.Threading.Tasks.Dataflow.JoinBlock%603> object that requires two <xref:System.Int32> values and a <xref:System.Char> value to perform an arithmetic operation.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#8](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#8)]
 [!code-vb[TPLDataflow_Overview#8](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#8)]  
  
 <span data-ttu-id="b1c3b-309">Pełny przykład, który używa <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> obiektów w trybie niezachłanne wspólnie udostępnianie zasobów, zobacz [porady: klasy JoinBlock używany do odczytu danych z wielu źródeł](../../../docs/standard/parallel-programming/how-to-use-joinblock-to-read-data-from-multiple-sources.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-309">For a complete example that uses <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> objects in non-greedy mode to cooperatively share a resource, see [How to: Use JoinBlock to Read Data From Multiple Sources](../../../docs/standard/parallel-programming/how-to-use-joinblock-to-read-data-from-multiple-sources.md).</span></span>  
  
#### <a name="batchedjoinblockt1-t2-"></a><span data-ttu-id="b1c3b-310">BatchedJoinBlock (T1, T2,...)</span><span class="sxs-lookup"><span data-stu-id="b1c3b-310">BatchedJoinBlock(T1, T2, ...)</span></span>  
 <span data-ttu-id="b1c3b-311"><xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> i <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%603> klasy zbieranie partie elementów wejściowych i Propaguj limit `System.Tuple(IList(T1), IList(T2))` lub `System.Tuple(IList(T1), IList(T2), IList(T3))` obiektów, które zawierają te elementy.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-311">The <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> and <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%603> classes collect batches of input elements and propagate out `System.Tuple(IList(T1), IList(T2))` or `System.Tuple(IList(T1), IList(T2), IList(T3))` objects that contain those elements.</span></span> <span data-ttu-id="b1c3b-312">Pomyśl o <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> jako połączenie <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> i <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-312">Think of <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> as a combination of <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> and <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>.</span></span> <span data-ttu-id="b1c3b-313">Określ rozmiar każdej z partii, podczas tworzenia <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> obiektu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-313">Specify the size of each batch when you create a <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> object.</span></span> <span data-ttu-id="b1c3b-314"><xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>Udostępnia właściwości, <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target1%2A> i <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target2%2A>, które implementują <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-314"><xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> also provides properties, <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target1%2A> and <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target2%2A>, that implement <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601>.</span></span> <span data-ttu-id="b1c3b-315">Po odebraniu od określonej liczby elementów wejściowych przez wszystkie elementy docelowe, <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> obiektu asynchronicznie rozprzestrzenia się `System.Tuple(IList(T1), IList(T2))` obiekt, który zawiera te elementy.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-315">When the specified count of input elements are received from across all targets, the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> object asynchronously propagates out a `System.Tuple(IList(T1), IList(T2))` object that contains those elements.</span></span>  
  
 <span data-ttu-id="b1c3b-316">Poniższy przykład podstawowe tworzy <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> obiekt przechowujący wyników, <xref:System.Int32> wartości i błędy, które są <xref:System.Exception> obiektów.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-316">The following basic example creates a <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> object that holds results, <xref:System.Int32> values, and errors that are <xref:System.Exception> objects.</span></span> <span data-ttu-id="b1c3b-317">W tym przykładzie wykonuje wiele operacji i zapisuje wyniki do <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target1%2A> właściwości oraz błędy, aby <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target2%2A> właściwości, z <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> obiektu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-317">This example performs multiple operations and writes results to the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target1%2A> property, and errors to the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602.Target2%2A> property, of the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> object.</span></span> <span data-ttu-id="b1c3b-318">Ponieważ liczba udane i nieudane operacje jest nieznany z wyprzedzeniem <xref:System.Collections.Generic.IList%601> obiektów Włącz każdego obiektu docelowego do odbierania zero lub więcej wartości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-318">Because the count of successful and failed operations is unknown in advance, the <xref:System.Collections.Generic.IList%601> objects enable each target to receive zero or more values.</span></span>  
  
 [!code-csharp[TPLDataflow_Overview#9](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_overview/cs/program.cs#9)]
 [!code-vb[TPLDataflow_Overview#9](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_overview/vb/program.vb#9)]  
  
 <span data-ttu-id="b1c3b-319">Pełny przykład, który używa <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> do przechwytywania zarówno wyniki oraz wszystkie wyjątki, które są wykonywane, gdy program odczytuje z bazy danych, zobacz [wskazówki: przy użyciu BatchBlock i BatchedJoinBlock, aby poprawić wydajność](../../../docs/standard/parallel-programming/walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-319">For a complete example that uses <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> to capture both the results and any exceptions that occur while the program reads from a database, see [Walkthrough: Using BatchBlock and BatchedJoinBlock to Improve Efficiency](../../../docs/standard/parallel-programming/walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md).</span></span>  
  
 <span data-ttu-id="b1c3b-320">[[przejdź do góry](#top)]</span><span class="sxs-lookup"><span data-stu-id="b1c3b-320">[[go to top](#top)]</span></span>  
  
<a name="behavior"></a>   
## <a name="configuring-dataflow--block-behavior"></a><span data-ttu-id="b1c3b-321">Konfigurowanie zachowania bloku przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-321">Configuring Dataflow  Block Behavior</span></span>  
 <span data-ttu-id="b1c3b-322">Dodatkowe opcje można włączyć, podając <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions?displayProperty=nameWithType> obiekt do konstruktora typu bloku przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-322">You can enable additional options by providing a <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions?displayProperty=nameWithType> object to the constructor of dataflow block types.</span></span> <span data-ttu-id="b1c3b-323">Te opcje umożliwiają kontrolowanie zachowania takiego harmonogramu, która zarządza podstawowych zadań i stopień równoległości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-323">These options control behavior such the scheduler that manages the underlying task and the degree of parallelism.</span></span> <span data-ttu-id="b1c3b-324"><xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions> Również ma pochodnych typów, które określają zachowanie, które są specyficzne dla określonych typów bloku przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-324">The <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions> also has derived types that specify behavior that is specific to certain dataflow block types.</span></span> <span data-ttu-id="b1c3b-325">W poniższej tabeli przedstawiono opcje typu jest skojarzony z każdego typu bloku przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-325">The following table summarizes which options type is associated with each dataflow block type.</span></span>  
  
|<span data-ttu-id="b1c3b-326">Typ bloku przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-326">Dataflow Block Type</span></span>|<span data-ttu-id="b1c3b-327"><xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions>Typ</span><span class="sxs-lookup"><span data-stu-id="b1c3b-327"><xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions> type</span></span>|  
|-------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|  
|<xref:System.Threading.Tasks.Dataflow.BufferBlock%601>|<xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.BroadcastBlock%601>|<xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.WriteOnceBlock%601>|<xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.ActionBlock%601>|<xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>|<xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.BatchBlock%601>|<xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.JoinBlock%602>|<xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions>|  
|<xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602>|<xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions>|  
  
 <span data-ttu-id="b1c3b-328">Poniższe sekcje zawierają dodatkowe informacje o ważnych rodzaje przepływu danych opcje bloku, które są dostępne za pośrednictwem <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions?displayProperty=nameWithType>, i <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions?displayProperty=nameWithType> klasy.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-328">The following sections provide additional information about the important kinds of dataflow block options that are available through the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions?displayProperty=nameWithType> classes.</span></span>  
  
### <a name="specifying-the-task-scheduler"></a><span data-ttu-id="b1c3b-329">Określanie harmonogramu zadań</span><span class="sxs-lookup"><span data-stu-id="b1c3b-329">Specifying the Task Scheduler</span></span>  
 <span data-ttu-id="b1c3b-330">Każdy blok przepływu danych wstępnie zdefiniowanych używa TPL zadania planowania mechanizm do wykonywania działań takich jak rozmnożeniowy dane do obiektu docelowego, odbieranie danych z źródła i systemem delegatów zdefiniowane przez użytkownika, gdy są dostępne.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-330">Every predefined dataflow block uses the TPL task scheduling mechanism to perform activities such as propagating data to a target, receiving data from a source, and running user-defined delegates when data becomes available.</span></span> <span data-ttu-id="b1c3b-331"><xref:System.Threading.Tasks.TaskScheduler>jest klasą abstrakcyjną, która reprezentuje harmonogramu zadań zadań kolejki na wątki.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-331"><xref:System.Threading.Tasks.TaskScheduler> is an abstract class that represents a task scheduler that queues tasks onto threads.</span></span> <span data-ttu-id="b1c3b-332">Domyślny harmonogram zadań, <xref:System.Threading.Tasks.TaskScheduler.Default%2A>, używa <xref:System.Threading.ThreadPool> klasy do kolejki i do pracy.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-332">The default task scheduler, <xref:System.Threading.Tasks.TaskScheduler.Default%2A>, uses the <xref:System.Threading.ThreadPool> class to queue and execute work.</span></span> <span data-ttu-id="b1c3b-333">Można zastąpić domyślny harmonogram zadań, ustawiając <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.TaskScheduler%2A> właściwość podczas konstruowania obiektu bloku przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-333">You can override the default task scheduler by setting the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.TaskScheduler%2A> property when you construct a dataflow block object.</span></span>  
  
 <span data-ttu-id="b1c3b-334">Podczas tego samego harmonogram zadań zarządza wiele bloków przepływu danych, można wymusić zasad, między nimi.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-334">When the same task scheduler manages multiple dataflow blocks, it can enforce policies across them.</span></span> <span data-ttu-id="b1c3b-335">Na przykład, jeśli wiele bloków przepływu danych poszczególnych skonfigurowano pod kątem wyłącznego harmonogram tego samego <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> obiektów, wszystkie pracy, że działa przez te bloki jest serializowany.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-335">For example, if multiple dataflow blocks are each configured to target the exclusive scheduler of the same <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> object, all work that runs across these blocks is serialized.</span></span> <span data-ttu-id="b1c3b-336">Podobnie jeśli te bloki są skonfigurowane pod kątem harmonogram współbieżne tego samego <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> obiektu i że harmonogramu jest skonfigurowany do współbieżności maksymalny poziom, pracy z te bloki jest ograniczona do tej liczby jednoczesnych operacji.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-336">Similarly, if these blocks are configured to target the concurrent scheduler of the same <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> object, and that scheduler is configured to have a maximum concurrency level, all work from these blocks is limited to that number of concurrent operations.</span></span> <span data-ttu-id="b1c3b-337">Na przykład, który używa <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> klasy, aby umożliwić operacje odczytu są wykonywane równolegle, ale zapisu wystąpić wyłącznie wszystkich innych działań, zobacz [porady: Określanie harmonogramu zadań w bloku przepływu danych](../../../docs/standard/parallel-programming/how-to-specify-a-task-scheduler-in-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-337">For an example that uses the <xref:System.Threading.Tasks.ConcurrentExclusiveSchedulerPair> class to enable read operations to occur in parallel, but write operations to occur exclusively of all other operations, see [How to: Specify a Task Scheduler in a Dataflow Block](../../../docs/standard/parallel-programming/how-to-specify-a-task-scheduler-in-a-dataflow-block.md).</span></span> <span data-ttu-id="b1c3b-338">Aby uzyskać więcej informacji na temat planiści zadań w TPL, zobacz <xref:System.Threading.Tasks.TaskScheduler> klasy tematu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-338">For more information about task schedulers in the TPL, see the <xref:System.Threading.Tasks.TaskScheduler> class topic.</span></span>  
  
### <a name="specifying-the-degree-of-parallelism"></a><span data-ttu-id="b1c3b-339">Określanie stopnia równoległości</span><span class="sxs-lookup"><span data-stu-id="b1c3b-339">Specifying the Degree of Parallelism</span></span>  
 <span data-ttu-id="b1c3b-340">Domyślnie typy bloku wykonania trzech, które udostępnia przepływu danych tpl, <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, i <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>, jednoczesnego przetwarzania jeden komunikat.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-340">By default, the three execution block types that the TPL Dataflow Library provides, <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>, process one message at a time.</span></span> <span data-ttu-id="b1c3b-341">Te typy bloku przepływu danych także przetwarzać komunikatów w kolejności, w którym są odbierane.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-341">These dataflow block types also process messages in the order in which they are received.</span></span> <span data-ttu-id="b1c3b-342">Aby włączyć te bloki przepływu danych przetwarzanych wiadomości jednocześnie, ustaw <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A?displayProperty=nameWithType> właściwość podczas konstruowania obiektu bloku przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-342">To enable these dataflow blocks to process messages concurrently, set the <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A?displayProperty=nameWithType> property when you construct the dataflow block object.</span></span>  
  
 <span data-ttu-id="b1c3b-343">Wartość domyślna <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> wynosi 1, co gwarantuje, że bloku przepływu danych przetwarza jeden komunikat naraz.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-343">The default value of <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> is 1, which guarantees that the dataflow block processes one message at a time.</span></span> <span data-ttu-id="b1c3b-344">Ustawienie tej właściwości na wartość, która jest większa niż 1 umożliwia bloku przepływu danych jednocześnie przetwarzać wiele komunikatów.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-344">Setting this property to a value that is larger than 1 enables the dataflow block to process multiple messages concurrently.</span></span> <span data-ttu-id="b1c3b-345">Ustawienie tej właściwości na <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded?displayProperty=nameWithType> umożliwia dla podstawowego harmonogramu zadań zarządzania maksymalny stopień współbieżności.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-345">Setting this property to <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded?displayProperty=nameWithType> enables the underlying task scheduler to manage the maximum degree of concurrency.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="b1c3b-346">Po określeniu maksymalny stopień równoległości, który jest większy niż 1, wiele komunikatów przetwarzanych jednocześnie i w związku z tym wiadomości nie mogą być przetwarzane w kolejności, w którym są odbierane.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-346">When you specify a maximum degree of parallelism that is larger than 1, multiple messages are processed simultaneously, and therefore, messages might not be processed in the order in which they are received.</span></span> <span data-ttu-id="b1c3b-347">Kolejność, w którym komunikaty są jednak dane wyjściowe będą bloku, prawidłowo uporządkowane.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-347">The order in which the messages are output from the block will, however, be correctly ordered.</span></span>  
  
 <span data-ttu-id="b1c3b-348">Ponieważ <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> właściwość reprezentuje maksymalny stopień równoległości, bloku przepływu danych może być wykonywane za pomocą niższy stopień równoległości nie określisz.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-348">Because the <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> property represents the maximum degree of parallelism, the dataflow block might execute with a lesser degree of parallelism than you specify.</span></span> <span data-ttu-id="b1c3b-349">W bloku przepływu danych może używać niższy stopień równoległości do swoich wymagań funkcjonalności lub brakiem dostępnych zasobów systemowych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-349">The dataflow block might use a lesser degree of parallelism to meet its functional requirements or because there is a lack of available system resources.</span></span> <span data-ttu-id="b1c3b-350">Blok przepływu danych nigdy nie wybierze równoległości więcej niż w przypadku określenia.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-350">A dataflow block never chooses more parallelism than you specify.</span></span>  
  
 <span data-ttu-id="b1c3b-351">Wartość <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> właściwość jest wyłącznie dla każdego obiektu bloku przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-351">The value of the <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> property is exclusive to each dataflow block object.</span></span> <span data-ttu-id="b1c3b-352">Na przykład jeśli czterech przepływu danych bloku obiektów każdego określić 1 dla maksymalny stopień równoległości, wszystkie cztery obiekty bloku przepływu danych może potencjalnie równolegle.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-352">For example, if four dataflow block objects each specify 1 for the maximum degree of parallelism, all four dataflow block objects can potentially run in parallel.</span></span>  
  
 <span data-ttu-id="b1c3b-353">Na przykład, który ustawia maksymalny stopień równoległości, aby włączyć długich operacje są wykonywane równolegle, zobacz [porady: określanie stopnia równoległości w bloku przepływu danych](../../../docs/standard/parallel-programming/how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-353">For an example that sets the maximum degree of parallelism to enable lengthy operations to occur in parallel, see [How to: Specify the Degree of Parallelism in a Dataflow Block](../../../docs/standard/parallel-programming/how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md).</span></span>  
  
### <a name="specifying-the-number-of-messages-per-task"></a><span data-ttu-id="b1c3b-354">Określanie liczby komunikatów poszczególnych zadań</span><span class="sxs-lookup"><span data-stu-id="b1c3b-354">Specifying the Number of Messages per Task</span></span>  
 <span data-ttu-id="b1c3b-355">Typy bloku przepływu danych wstępnie zdefiniowanych użycie zadań w celu przetworzenia wielu elementów wejściowych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-355">The predefined dataflow block types use tasks to process multiple input elements.</span></span> <span data-ttu-id="b1c3b-356">Minimalizuje to liczba obiektów zadań, które są wymagane do przetwarzania danych, który umożliwia aplikacjom bardziej efektywną pracę.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-356">This helps minimize the number of task objects that are required to process data, which enables applications to run more efficiently.</span></span> <span data-ttu-id="b1c3b-357">Jednak podczas przetwarzania danych zadań z jednego zestawu bloków przepływu danych, zadania z innych bloków przepływu danych może być konieczne poczekanie czas przetwarzania usługi kolejkowania wiadomości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-357">However, when the tasks from one set of dataflow blocks are processing data, the tasks from other dataflow blocks might need to wait for processing time by queuing messages.</span></span> <span data-ttu-id="b1c3b-358">Aby włączyć lepsze sprawiedliwe przydzielanie zasobów między zadania przepływu danych, ustaw <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-358">To enable better fairness among dataflow tasks, set the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> property.</span></span> <span data-ttu-id="b1c3b-359">Gdy <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> ustawiono <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded?displayProperty=nameWithType>zadań używane przez bloku przepływu danych przetwarza dowolną liczbę wiadomości, ponieważ nie jest dostępna, co jest ustawieniem domyślnym.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-359">When <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> is set to <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded?displayProperty=nameWithType>, which is the default, the task used by a dataflow block processes as many messages as are available.</span></span> <span data-ttu-id="b1c3b-360">Gdy <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> ma ustawioną wartość innych niż <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded>, bloku przepływu danych co najwyżej procesów to liczba komunikatów na <xref:System.Threading.Tasks.Task> obiektu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-360">When <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> is set to a value other than <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.Unbounded>, the dataflow block processes at most this number of messages per <xref:System.Threading.Tasks.Task> object.</span></span> <span data-ttu-id="b1c3b-361">Mimo że ustawienie <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> właściwości zwiększyć sprawiedliwe przydzielanie zasobów spośród zadań, system można utworzyć zadania więcej niż jest to konieczne, może spowodować, która może obniżyć wydajność.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-361">Although setting the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.MaxMessagesPerTask%2A> property can increase fairness among tasks, it can cause the system to create more tasks than are necessary, which can decrease performance.</span></span>  
  
### <a name="enabling-cancellation"></a><span data-ttu-id="b1c3b-362">Włączanie anulowania</span><span class="sxs-lookup"><span data-stu-id="b1c3b-362">Enabling Cancellation</span></span>  
 <span data-ttu-id="b1c3b-363">TPL udostępnia mechanizm umożliwiający zadań do koordynowania anulowania w sposób współpracy.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-363">The TPL provides a mechanism that enables tasks to coordinate cancellation in a cooperative manner.</span></span> <span data-ttu-id="b1c3b-364">Aby włączyć bloków przepływu danych do udziału w ten mechanizm anulowania, ustaw <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.CancellationToken%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-364">To enable dataflow blocks to participate in this cancellation mechanism, set the <xref:System.Threading.Tasks.Dataflow.DataflowBlockOptions.CancellationToken%2A> property.</span></span> <span data-ttu-id="b1c3b-365">Gdy to <xref:System.Threading.CancellationToken> obiektu ma ustawioną wartość stanu anulowane, wszystkie bloki przepływu danych, które monitorują ten token zakończenia wykonywania ich bieżącego elementu, ale nie uruchamiaj przetwarzania kolejnych elementów.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-365">When this <xref:System.Threading.CancellationToken> object is set to the canceled state, all dataflow blocks that monitor this token finish execution of their current item but do not start processing subsequent items.</span></span> <span data-ttu-id="b1c3b-366">Te bloki przepływu danych, również wyczyść buforowane żadnego wiadomości, wersji połączenia z żadnym źródłowego i docelowego bloków i przejście do stanu Anulowano.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-366">These dataflow blocks also clear any buffered messages, release connections to any source and target blocks, and transition to the canceled state.</span></span> <span data-ttu-id="b1c3b-367">Przez przejście do stanu Anulowano <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> ma właściwość <xref:System.Threading.Tasks.Task.Status%2A> ustawioną właściwość <xref:System.Threading.Tasks.TaskStatus.Canceled>, o ile nie wystąpił wyjątek podczas przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-367">By transitioning to the canceled state, the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Completion%2A> property has the <xref:System.Threading.Tasks.Task.Status%2A> property set to <xref:System.Threading.Tasks.TaskStatus.Canceled>, unless an exception occurred during processing.</span></span> <span data-ttu-id="b1c3b-368">W takim przypadku <xref:System.Threading.Tasks.Task.Status%2A> ma ustawioną wartość <xref:System.Threading.Tasks.TaskStatus.Faulted>.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-368">In that case, <xref:System.Threading.Tasks.Task.Status%2A> is set to <xref:System.Threading.Tasks.TaskStatus.Faulted>.</span></span>  
  
 <span data-ttu-id="b1c3b-369">Na przykład, który demonstruje sposób używania anulowania w aplikacji formularzy systemu Windows, temacie [porady: anulowanie bloku przepływu danych](../../../docs/standard/parallel-programming/how-to-cancel-a-dataflow-block.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-369">For an example that demonstrates how to use cancellation in a Windows Forms application, see [How to: Cancel a Dataflow Block](../../../docs/standard/parallel-programming/how-to-cancel-a-dataflow-block.md).</span></span> <span data-ttu-id="b1c3b-370">Aby uzyskać więcej informacji o anulowanie w TPL, zobacz [anulowanie zadania](../../../docs/standard/parallel-programming/task-cancellation.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-370">For more information about cancellation in the TPL, see [Task Cancellation](../../../docs/standard/parallel-programming/task-cancellation.md).</span></span>  
  
### <a name="specifying-greedy-versus-non-greedy-behavior"></a><span data-ttu-id="b1c3b-371">Określanie intensywnie i zachowanie Niezachłanne</span><span class="sxs-lookup"><span data-stu-id="b1c3b-371">Specifying Greedy Versus Non-Greedy Behavior</span></span>  
 <span data-ttu-id="b1c3b-372">Kilka typów bloku przepływu danych grupowania może działać w jednym *zachłanne* lub *niezachłanne* tryb.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-372">Several grouping dataflow block types can operate in either *greedy* or *non-greedy* mode.</span></span> <span data-ttu-id="b1c3b-373">Domyślnie typy bloku przepływu danych wstępnie zdefiniowanych działają w trybie zachłanne.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-373">By default, the predefined dataflow block types operate in greedy mode.</span></span>  
  
 <span data-ttu-id="b1c3b-374">W celu utworzenia sprzężenia zablokować typy takich jak <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>, tryb intensywnie oznacza, że blok natychmiast akceptuje dane, nawet jeśli odpowiednich danych, z którą chcesz przyłączyć nie jest jeszcze dostępna.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-374">For join block types such as <xref:System.Threading.Tasks.Dataflow.JoinBlock%602>, greedy mode means that the block immediately accepts data even if the corresponding data with which to join is not yet available.</span></span> <span data-ttu-id="b1c3b-375">Zachłanne innym niż tryb oznacza bloku odłoży wszystkie wiadomości przychodzących, dopóki nie jest dostępny na wszystkich jego cele do wykonania sprzężenia.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-375">Non-greedy mode means that the block postpones all incoming messages until one is available on each of its targets to complete the join.</span></span> <span data-ttu-id="b1c3b-376">Jeśli dowolny z komunikatów przełożonych nie będą już dostępne, blok sprzężenia zwalnia wszystkich przełożonych wiadomości i ponownego uruchomienia procesu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-376">If any of the postponed messages are no longer available, the join block releases all postponed messages and restarts the process.</span></span> <span data-ttu-id="b1c3b-377">Dla <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> klasy zachłanne i niezachłanne zachowanie jest podobne, z wyjątkiem w trybie niezachłanne <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> obiektu odłoży wszystkie wiadomości przychodzących, dopóki nie ma wystarczającej ilości są dostępne z różnych źródeł do ukończenia partii.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-377">For the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> class, greedy and non-greedy behavior is similar, except that under non-greedy mode, a <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> object postpones all incoming messages until enough are available from distinct sources to complete a batch.</span></span>  
  
 <span data-ttu-id="b1c3b-378">Aby określić tryb niezachłanne bloku przepływu danych, ustaw <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions.Greedy%2A> do `False`.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-378">To specify non-greedy mode for a dataflow block, set <xref:System.Threading.Tasks.Dataflow.GroupingDataflowBlockOptions.Greedy%2A> to `False`.</span></span> <span data-ttu-id="b1c3b-379">Na przykład, który demonstruje sposób w trybie niezachłanne włączyć wiele bloków sprzężenia wydajniej udostępnianie źródła danych, zobacz [porady: Użyj klasy JoinBlock do odczytu danych z wielu źródeł](../../../docs/standard/parallel-programming/how-to-use-joinblock-to-read-data-from-multiple-sources.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-379">For an example that demonstrates how to use non-greedy mode to enable multiple join blocks to share a data source more efficiently, see [How to: Use JoinBlock to Read Data From Multiple Sources](../../../docs/standard/parallel-programming/how-to-use-joinblock-to-read-data-from-multiple-sources.md).</span></span>  
  
 <span data-ttu-id="b1c3b-380">[[przejdź do góry](#top)]</span><span class="sxs-lookup"><span data-stu-id="b1c3b-380">[[go to top](#top)]</span></span>  
  
<a name="custom"></a>   
## <a name="custom-dataflow-blocks"></a><span data-ttu-id="b1c3b-381">Niestandardowych bloków przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-381">Custom Dataflow Blocks</span></span>  
 <span data-ttu-id="b1c3b-382">Biblioteka przepływu danych tpl zapewnia wiele typów blok wstępnie zdefiniowane, jednak można utworzyć bloku dodatkowe typy, które powoduje wykonanie akcji niestandardowych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-382">Although the TPL Dataflow Library provides many predefined block types, you can create additional block types that perform custom behavior.</span></span> <span data-ttu-id="b1c3b-383">Implementowanie <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601> lub <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601> interfejsy bezpośrednio lub za pomocą <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Encapsulate%2A> metoda tworzenia złożonych bloku, który hermetyzuje zachowanie istniejących typów bloku.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-383">Implement the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601> or <xref:System.Threading.Tasks.Dataflow.ITargetBlock%601> interfaces directly or use the  <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Encapsulate%2A> method to build a complex block that encapsulates the behavior of existing block types.</span></span> <span data-ttu-id="b1c3b-384">Aby uzyskać przykłady, które przedstawiają sposób implementowania bloku przepływu danych niestandardowych, zobacz [wskazówki: Tworzenie niestandardowego typu bloku przepływu danych](../../../docs/standard/parallel-programming/walkthrough-creating-a-custom-dataflow-block-type.md).</span><span class="sxs-lookup"><span data-stu-id="b1c3b-384">For examples that show how to implement custom dataflow block functionality, see [Walkthrough: Creating a Custom Dataflow Block Type](../../../docs/standard/parallel-programming/walkthrough-creating-a-custom-dataflow-block-type.md).</span></span>  
  
 <span data-ttu-id="b1c3b-385">[[przejdź do góry](#top)]</span><span class="sxs-lookup"><span data-stu-id="b1c3b-385">[[go to top](#top)]</span></span>  
  
## <a name="related-topics"></a><span data-ttu-id="b1c3b-386">Tematy pokrewne</span><span class="sxs-lookup"><span data-stu-id="b1c3b-386">Related Topics</span></span>  
  
|<span data-ttu-id="b1c3b-387">Tytuł</span><span class="sxs-lookup"><span data-stu-id="b1c3b-387">Title</span></span>|<span data-ttu-id="b1c3b-388">Opis</span><span class="sxs-lookup"><span data-stu-id="b1c3b-388">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="b1c3b-389">Instrukcje: zapisywanie komunikatów w bloku przepływu danych i odczytywanie ich z tego bloku</span><span class="sxs-lookup"><span data-stu-id="b1c3b-389">How to: Write Messages to and Read Messages from a Dataflow Block</span></span>](../../../docs/standard/parallel-programming/how-to-write-messages-to-and-read-messages-from-a-dataflow-block.md)|<span data-ttu-id="b1c3b-390">Pokazuje, jak pisanie i odbieranie wiadomości z <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> obiektu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-390">Demonstrates how to write messages to and read messages from a <xref:System.Threading.Tasks.Dataflow.BufferBlock%601> object.</span></span>|  
|[<span data-ttu-id="b1c3b-391">Instrukcje: implementowanie wzorca przepływu danych producent — konsument</span><span class="sxs-lookup"><span data-stu-id="b1c3b-391">How to: Implement a Producer-Consumer Dataflow Pattern</span></span>](../../../docs/standard/parallel-programming/how-to-implement-a-producer-consumer-dataflow-pattern.md)|<span data-ttu-id="b1c3b-392">Opisuje sposób umożliwia Implementowanie wzorca producent — konsument, gdzie producenta wysyła komunikaty do bloku przepływu danych, a klient odczytuje wiadomości z tego bloku przepływu danych modelu.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-392">Describes how to use the dataflow model to implement a producer-consumer pattern, where the producer sends messages to a dataflow block, and the consumer reads messages from that block.</span></span>|  
|[<span data-ttu-id="b1c3b-393">Instrukcje: wykonywanie akcji w przypadku odebrania danych przez blok przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-393">How to: Perform Action When a Dataflow Block Receives Data</span></span>](../../../docs/standard/parallel-programming/how-to-perform-action-when-a-dataflow-block-receives-data.md)|<span data-ttu-id="b1c3b-394">Opisuje sposób zapewnienia delegatów do wykonywania typów bloku przepływu danych, <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, i <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-394">Describes how to provide delegates to the execution dataflow block types, <xref:System.Threading.Tasks.Dataflow.ActionBlock%601>, <xref:System.Threading.Tasks.Dataflow.TransformBlock%602>, and <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>.</span></span>|  
|[<span data-ttu-id="b1c3b-395">Przewodnik: tworzenie potoku przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-395">Walkthrough: Creating a Dataflow Pipeline</span></span>](../../../docs/standard/parallel-programming/walkthrough-creating-a-dataflow-pipeline.md)|<span data-ttu-id="b1c3b-396">Opisuje sposób tworzenia potoku przepływu danych, które pobiera tekst z sieci web i wykonuje operacje na tekst.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-396">Describes how to create a dataflow pipeline that downloads text from the web and performs operations on that text.</span></span>|  
|[<span data-ttu-id="b1c3b-397">Instrukcje: rozłączanie bloków przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-397">How to: Unlink Dataflow Blocks</span></span>](../../../docs/standard/parallel-programming/how-to-unlink-dataflow-blocks.md)|<span data-ttu-id="b1c3b-398">Pokazuje, jak używać <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A> metodę, aby odłączyć od źródła bloku docelowego po źródło oferuje komunikatów do obiektu docelowego.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-398">Demonstrates how to use the <xref:System.Threading.Tasks.Dataflow.ISourceBlock%601.LinkTo%2A> method to unlink a target block from its source after the source offers a message to the target.</span></span>|  
|[<span data-ttu-id="b1c3b-399">Przewodnik: korzystanie z przepływu danych w aplikacji Windows Forms</span><span class="sxs-lookup"><span data-stu-id="b1c3b-399">Walkthrough: Using Dataflow in a Windows Forms Application</span></span>](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md)|<span data-ttu-id="b1c3b-400">Pokazuje, jak utworzyć sieć bloków przepływu danych, które wykonują przetwarzania obrazu w aplikacji formularzy systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-400">Demonstrates how to create a network of dataflow blocks that perform image processing in a Windows Forms application.</span></span>|  
|[<span data-ttu-id="b1c3b-401">Instrukcje: anulowanie bloku przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-401">How to: Cancel a Dataflow Block</span></span>](../../../docs/standard/parallel-programming/how-to-cancel-a-dataflow-block.md)|<span data-ttu-id="b1c3b-402">Pokazuje, jak używać anulowania w aplikacji formularzy systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-402">Demonstrates how to use cancellation in a Windows Forms application.</span></span>|  
|[<span data-ttu-id="b1c3b-403">Instrukcje: korzystanie z klasy JoinBlock do odczytywania danych z wielu źródeł</span><span class="sxs-lookup"><span data-stu-id="b1c3b-403">How to: Use JoinBlock to Read Data From Multiple Sources</span></span>](../../../docs/standard/parallel-programming/how-to-use-joinblock-to-read-data-from-multiple-sources.md)|<span data-ttu-id="b1c3b-404">Wyjaśniono, jak używać <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> klasę, aby wykonać operację, gdy dane są dostępne z wielu źródeł i sposobu użycia trybu niezachłanne umożliwiające wiele bloków sprzężenia wydajniej udostępnianie źródła danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-404">Explains how to use the <xref:System.Threading.Tasks.Dataflow.JoinBlock%602> class to perform an operation when data is available from multiple sources, and how to use non-greedy mode to enable multiple join blocks to share a data source more efficiently.</span></span>|  
|[<span data-ttu-id="b1c3b-405">Instrukcje: określanie stopnia równoległości w bloku przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-405">How to: Specify the Degree of Parallelism in a Dataflow Block</span></span>](../../../docs/standard/parallel-programming/how-to-specify-the-degree-of-parallelism-in-a-dataflow-block.md)|<span data-ttu-id="b1c3b-406">Opisuje sposób ustawiania <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> właściwości, aby umożliwić wykonanie bloku przepływu danych do jednoczesnego przetwarzania więcej niż jeden komunikat.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-406">Describes how to set the <xref:System.Threading.Tasks.Dataflow.ExecutionDataflowBlockOptions.MaxDegreeOfParallelism%2A> property to enable an execution dataflow block to process more than one message at a time.</span></span>|  
|[<span data-ttu-id="b1c3b-407">Instrukcje: określanie harmonogramu zadań w bloku przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-407">How to: Specify a Task Scheduler in a Dataflow Block</span></span>](../../../docs/standard/parallel-programming/how-to-specify-a-task-scheduler-in-a-dataflow-block.md)|<span data-ttu-id="b1c3b-408">Pokazuje, jak skojarzyć harmonogramu zadań określone przy użyciu przepływu danych w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-408">Demonstrates how to associate a specific task scheduler when you use dataflow in your application.</span></span>|  
|[<span data-ttu-id="b1c3b-409">Przewodnik: poprawa wydajności przy użyciu klas BatchBlock i BatchedJoinBlock</span><span class="sxs-lookup"><span data-stu-id="b1c3b-409">Walkthrough: Using BatchBlock and BatchedJoinBlock to Improve Efficiency</span></span>](../../../docs/standard/parallel-programming/walkthrough-using-batchblock-and-batchedjoinblock-to-improve-efficiency.md)|<span data-ttu-id="b1c3b-410">Informacje dotyczące używania <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> Wstaw klasę, aby zwiększyć wydajność bazy danych operacji i sposobu użycia <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> klasa do przechwytywania zarówno wyniki oraz wszystkie wyjątki, które są wykonywane, gdy program odczytuje z bazy danych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-410">Describes how to use the <xref:System.Threading.Tasks.Dataflow.BatchBlock%601> class to improve the efficiency of database insert operations, and how to use the <xref:System.Threading.Tasks.Dataflow.BatchedJoinBlock%602> class to capture both the results and any exceptions that occur while the program reads from a database.</span></span>|  
|[<span data-ttu-id="b1c3b-411">Przewodnik: tworzenie niestandardowego typu bloku przepływu danych</span><span class="sxs-lookup"><span data-stu-id="b1c3b-411">Walkthrough: Creating a Custom Dataflow Block Type</span></span>](../../../docs/standard/parallel-programming/walkthrough-creating-a-custom-dataflow-block-type.md)|<span data-ttu-id="b1c3b-412">Przedstawia dwa sposoby tworzenia typu bloku przepływu danych, który implementuje zachowanie niestandardowych.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-412">Demonstrates two ways to create a dataflow block type that implements custom behavior.</span></span>|  
|[<span data-ttu-id="b1c3b-413">Biblioteka zadań równoległych (TPL)</span><span class="sxs-lookup"><span data-stu-id="b1c3b-413">Task Parallel Library (TPL)</span></span>](../../../docs/standard/parallel-programming/task-parallel-library-tpl.md)|<span data-ttu-id="b1c3b-414">Wprowadza TPL, upraszczającym Programowanie równoległe lub jednocześnie w bibliotece [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b1c3b-414">Introduces the TPL, a library that simplifies parallel and concurrent programming in [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] applications.</span></span>|
