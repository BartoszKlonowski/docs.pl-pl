---
title: 'Wskazówki: Tworzenie potoku przepływu danych'
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- dataflow pipelines, creating with TPL
- Task Parallel Library, dataflows
- TPL dataflow library, creating dataflow pipeline
ms.assetid: 69308f82-aa22-4ac5-833d-e748533b58e8
ms.openlocfilehash: 339365381b1fa2c777cead3c75bfe783f7af800e
ms.sourcegitcommit: 961ec21c22d2f1d55c9cc8a7edf2ade1d1fd92e3
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/02/2020
ms.locfileid: "80588290"
---
# <a name="walkthrough-creating-a-dataflow-pipeline"></a><span data-ttu-id="9fec3-102">Wskazówki: Tworzenie potoku przepływu danych</span><span class="sxs-lookup"><span data-stu-id="9fec3-102">Walkthrough: Creating a Dataflow Pipeline</span></span>
<span data-ttu-id="9fec3-103">Chociaż można użyć <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A?displayProperty=nameWithType> <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A?displayProperty=nameWithType>programu <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A?displayProperty=nameWithType> , i metod do odbierania wiadomości z bloków źródłowych, można również połączyć bloki wiadomości w celu utworzenia *potoku przepływu danych.*</span><span class="sxs-lookup"><span data-stu-id="9fec3-103">Although you can use the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Receive%2A?displayProperty=nameWithType>, <xref:System.Threading.Tasks.Dataflow.DataflowBlock.ReceiveAsync%2A?displayProperty=nameWithType>, and <xref:System.Threading.Tasks.Dataflow.DataflowBlock.TryReceive%2A?displayProperty=nameWithType> methods to receive messages from source blocks, you can also connect message blocks to form a *dataflow pipeline*.</span></span> <span data-ttu-id="9fec3-104">Potok przepływu danych to seria składników lub *bloków przepływu danych,* z których każdy wykonuje określone zadanie, które przyczynia się do większego celu.</span><span class="sxs-lookup"><span data-stu-id="9fec3-104">A dataflow pipeline is a series of components, or *dataflow blocks*, each of which performs a specific task that contributes to a larger goal.</span></span> <span data-ttu-id="9fec3-105">Każdy blok przepływu danych w potoku przepływu danych wykonuje pracę po odebraniu wiadomości z innego bloku przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="9fec3-105">Every dataflow block in a dataflow pipeline performs work when it receives a message from another dataflow block.</span></span> <span data-ttu-id="9fec3-106">Analogią do tego jest linia montażowa do produkcji samochodów.</span><span class="sxs-lookup"><span data-stu-id="9fec3-106">An analogy to this is an assembly line for automobile manufacturing.</span></span> <span data-ttu-id="9fec3-107">Gdy każdy pojazd przechodzi przez linię montażową, jedna stacja montuje ramę, następna instaluje silnik i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="9fec3-107">As each vehicle passes through the assembly line, one station assembles the frame, the next one installs the engine, and so on.</span></span> <span data-ttu-id="9fec3-108">Ponieważ linia montażowa umożliwia montaż wielu pojazdów w tym samym czasie, zapewnia lepszą przepustowość niż montaż kompletnych pojazdów po jednym na raz.</span><span class="sxs-lookup"><span data-stu-id="9fec3-108">Because an assembly line enables multiple vehicles to be assembled at the same time, it provides better throughput than assembling complete vehicles one at a time.</span></span>

 <span data-ttu-id="9fec3-109">Ten dokument pokazuje potok przepływu danych, który pobiera książkę *Iliady Homera* ze strony internetowej i przeszukuje tekst, aby dopasować poszczególne słowa do słów, które odwracają znaki pierwszego słowa.</span><span class="sxs-lookup"><span data-stu-id="9fec3-109">This document demonstrates a dataflow pipeline that downloads the book *The Iliad of Homer* from a website and searches the text to match individual words with words that reverse the first word's characters.</span></span> <span data-ttu-id="9fec3-110">Tworzenie potoku przepływu danych w tym dokumencie składa się z następujących kroków:</span><span class="sxs-lookup"><span data-stu-id="9fec3-110">The formation of the dataflow pipeline in this document consists of the following steps:</span></span>  
  
1. <span data-ttu-id="9fec3-111">Tworzenie bloków przepływu danych, które uczestniczą w potoku.</span><span class="sxs-lookup"><span data-stu-id="9fec3-111">Create the dataflow blocks that participate in the pipeline.</span></span>  
  
2. <span data-ttu-id="9fec3-112">Połącz każdy blok przepływu danych z następnym blokiem w potoku.</span><span class="sxs-lookup"><span data-stu-id="9fec3-112">Connect each dataflow block to the next block in the pipeline.</span></span> <span data-ttu-id="9fec3-113">Każdy blok odbiera jako dane wejściowe dane wyjściowe poprzedniego bloku w potoku.</span><span class="sxs-lookup"><span data-stu-id="9fec3-113">Each block receives as input the output of the previous block in the pipeline.</span></span>  
  
3. <span data-ttu-id="9fec3-114">Dla każdego bloku przepływu danych utwórz zadanie kontynuacji, które ustawia następny blok w stanie ukończonym po zakończeniu poprzedniego bloku.</span><span class="sxs-lookup"><span data-stu-id="9fec3-114">For each dataflow block, create a continuation task that sets the next block to the completed state after the previous block finishes.</span></span>  
  
4. <span data-ttu-id="9fec3-115">Opublikuj dane do głowicy rurociągu.</span><span class="sxs-lookup"><span data-stu-id="9fec3-115">Post data to the head of the pipeline.</span></span>  
  
5. <span data-ttu-id="9fec3-116">Oznacz głowicę rurociągu jako ukończoną.</span><span class="sxs-lookup"><span data-stu-id="9fec3-116">Mark the head of the pipeline as completed.</span></span>  
  
6. <span data-ttu-id="9fec3-117">Poczekaj, aż potok zakończy wszystkie prace.</span><span class="sxs-lookup"><span data-stu-id="9fec3-117">Wait for the pipeline to complete all work.</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="9fec3-118">Wymagania wstępne</span><span class="sxs-lookup"><span data-stu-id="9fec3-118">Prerequisites</span></span>  
 <span data-ttu-id="9fec3-119">Przed rozpoczęciem tego przewodnika należy przeczytać [przepływ](../../../docs/standard/parallel-programming/dataflow-task-parallel-library.md) danych.</span><span class="sxs-lookup"><span data-stu-id="9fec3-119">Read [Dataflow](../../../docs/standard/parallel-programming/dataflow-task-parallel-library.md) before you start this walkthrough.</span></span>  
  
## <a name="creating-a-console-application"></a><span data-ttu-id="9fec3-120">Tworzenie aplikacji konsoli</span><span class="sxs-lookup"><span data-stu-id="9fec3-120">Creating a Console Application</span></span>  
 <span data-ttu-id="9fec3-121">W programie Visual Studio utwórz projekt aplikacji konsoli Visual C# lub Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="9fec3-121">In Visual Studio, create a Visual C# or Visual Basic Console Application project.</span></span> <span data-ttu-id="9fec3-122">Zainstaluj pakiet System.Threading.Tasks.Dataflow NuGet.</span><span class="sxs-lookup"><span data-stu-id="9fec3-122">Install the System.Threading.Tasks.Dataflow NuGet package.</span></span>

[!INCLUDE [tpl-install-instructions](../../../includes/tpl-install-instructions.md)]

 <span data-ttu-id="9fec3-123">Dodaj następujący kod do projektu, aby utworzyć podstawową aplikację.</span><span class="sxs-lookup"><span data-stu-id="9fec3-123">Add the following code to your project to create the basic application.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#2](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#2)]
 [!code-vb[TPLDataflow_Palindromes#2](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromesemptymain.vb#2)]  
  
## <a name="creating-the-dataflow-blocks"></a><span data-ttu-id="9fec3-124">Tworzenie bloków przepływu danych</span><span class="sxs-lookup"><span data-stu-id="9fec3-124">Creating the Dataflow Blocks</span></span>  
 <span data-ttu-id="9fec3-125">Dodaj następujący kod `Main` do metody, aby utworzyć bloki przepływu danych, które uczestniczą w potoku.</span><span class="sxs-lookup"><span data-stu-id="9fec3-125">Add the following code to the `Main` method to create the dataflow blocks that participate in the pipeline.</span></span> <span data-ttu-id="9fec3-126">Poniższa tabela podsumowuje rolę każdego członka potoku.</span><span class="sxs-lookup"><span data-stu-id="9fec3-126">The table that follows summarizes the role of each member of the pipeline.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#3](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#3)]
 [!code-vb[TPLDataflow_Palindromes#3](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#3)]  
  
|<span data-ttu-id="9fec3-127">Członek</span><span class="sxs-lookup"><span data-stu-id="9fec3-127">Member</span></span>|<span data-ttu-id="9fec3-128">Typ</span><span class="sxs-lookup"><span data-stu-id="9fec3-128">Type</span></span>|<span data-ttu-id="9fec3-129">Opis</span><span class="sxs-lookup"><span data-stu-id="9fec3-129">Description</span></span>|  
|------------|----------|-----------------|  
|`downloadString`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="9fec3-130">Pobiera tekst książki z sieci Web.</span><span class="sxs-lookup"><span data-stu-id="9fec3-130">Downloads the book text from the Web.</span></span>|  
|`createWordList`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="9fec3-131">Oddziela tekst książki na tablicę słów.</span><span class="sxs-lookup"><span data-stu-id="9fec3-131">Separates the book text into an array of words.</span></span>|  
|`filterWordList`|<xref:System.Threading.Tasks.Dataflow.TransformBlock%602>|<span data-ttu-id="9fec3-132">Usuwa krótkie wyrazy i duplikaty z tablicy wyrazów.</span><span class="sxs-lookup"><span data-stu-id="9fec3-132">Removes short words and duplicates from the word array.</span></span>|  
|`findReversedWords`|<xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602>|<span data-ttu-id="9fec3-133">Znajduje wszystkie wyrazy w kolekcji tablicy rozfiltrowanego wyrazu, których odwrotność występuje również w tablicy wyrazów.</span><span class="sxs-lookup"><span data-stu-id="9fec3-133">Finds all words in the filtered word array collection whose reverse also occurs in the word array.</span></span>|  
|`printReversedWords`|<xref:System.Threading.Tasks.Dataflow.ActionBlock%601>|<span data-ttu-id="9fec3-134">Wyświetla wyrazy i odpowiadające im słowa wsteczne do konsoli.</span><span class="sxs-lookup"><span data-stu-id="9fec3-134">Displays words and the corresponding reverse words to the console.</span></span>|  
  
 <span data-ttu-id="9fec3-135">Chociaż można połączyć wiele kroków w potoku przepływu danych w tym przykładzie w jeden krok, w przykładzie ilustruje koncepcję tworzenia wielu zadań niezależnego przepływu danych w celu wykonania większego zadania.</span><span class="sxs-lookup"><span data-stu-id="9fec3-135">Although you could combine multiple steps in the dataflow pipeline in this example into one step, the example illustrates the concept of composing multiple independent dataflow tasks to perform a larger task.</span></span> <span data-ttu-id="9fec3-136">W przykładzie <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> użyto do włączenia każdego elementu członkowskiego potoku do wykonywania operacji na jego danych wejściowych i wysyłania wyników do następnego kroku w potoku.</span><span class="sxs-lookup"><span data-stu-id="9fec3-136">The example uses <xref:System.Threading.Tasks.Dataflow.TransformBlock%602> to enable each member of the pipeline to perform an operation on its input data and send the results to the next step in the pipeline.</span></span> <span data-ttu-id="9fec3-137">Element `findReversedWords` członkowski potoku <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> jest obiektem, ponieważ generuje wiele niezależnych wyjść dla każdego wejścia.</span><span class="sxs-lookup"><span data-stu-id="9fec3-137">The `findReversedWords` member of the pipeline is a <xref:System.Threading.Tasks.Dataflow.TransformManyBlock%602> object because it produces multiple independent outputs for each input.</span></span> <span data-ttu-id="9fec3-138">Ogon potoku , `printReversedWords`jest <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> obiektem, ponieważ wykonuje akcję na jego danych wejściowych i nie daje wynik.</span><span class="sxs-lookup"><span data-stu-id="9fec3-138">The tail of the pipeline, `printReversedWords`, is an <xref:System.Threading.Tasks.Dataflow.ActionBlock%601> object because it performs an action on its input, and does not produce a result.</span></span>  
  
## <a name="forming-the-pipeline"></a><span data-ttu-id="9fec3-139">Tworzenie potoku</span><span class="sxs-lookup"><span data-stu-id="9fec3-139">Forming the Pipeline</span></span>  
 <span data-ttu-id="9fec3-140">Dodaj następujący kod, aby połączyć każdy blok z następnym blokiem w potoku.</span><span class="sxs-lookup"><span data-stu-id="9fec3-140">Add the following code to connect each block to the next block in the pipeline.</span></span>  
  
 <span data-ttu-id="9fec3-141">Po wywołaniu <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> metody łączenia bloku przepływu danych źródłowych z docelowym blokiem przepływu danych blok przepływu danych źródłowego propaguje dane do bloku docelowego w miarę udostępniania danych.</span><span class="sxs-lookup"><span data-stu-id="9fec3-141">When you call the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> method to connect a source dataflow block to a target dataflow block, the source dataflow block propagates data to the target block as data becomes available.</span></span> <span data-ttu-id="9fec3-142">Jeśli podasz <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions> <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions.PropagateCompletion> również ustawioną wartość true, pomyślne lub nieudane ukończenie jednego bloku w potoku spowoduje ukończenie następnego bloku w potoku.</span><span class="sxs-lookup"><span data-stu-id="9fec3-142">If you also provide <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions> with <xref:System.Threading.Tasks.Dataflow.DataflowLinkOptions.PropagateCompletion> set to true, successful or unsuccessful completion of one block in the pipeline will cause completion of the next block in the pipeline.</span></span>
  
 [!code-csharp[TPLDataflow_Palindromes#4](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#4)]
 [!code-vb[TPLDataflow_Palindromes#4](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#4)]  
  
## <a name="posting-data-to-the-pipeline"></a><span data-ttu-id="9fec3-143">Księgowanie danych w potoku</span><span class="sxs-lookup"><span data-stu-id="9fec3-143">Posting Data to the Pipeline</span></span>  
 <span data-ttu-id="9fec3-144">Dodaj poniższy kod, aby opublikować adres URL książki *Iliad homer* do szefa potoku przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="9fec3-144">Add the following code to post the URL of the book *The Iliad of Homer* to the head of the dataflow pipeline.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#6](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#6)]
 [!code-vb[TPLDataflow_Palindromes#6](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#6)]  
  
 <span data-ttu-id="9fec3-145">W tym <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A?displayProperty=nameWithType> przykładzie użyto do synchronicznie wysyłać dane do głowicy potoku.</span><span class="sxs-lookup"><span data-stu-id="9fec3-145">This example uses <xref:System.Threading.Tasks.Dataflow.DataflowBlock.Post%2A?displayProperty=nameWithType> to synchronously send data to the head of the pipeline.</span></span> <span data-ttu-id="9fec3-146">Użyj <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> metody, gdy należy asynchronicznie wysłać dane do węzła przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="9fec3-146">Use the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync%2A?displayProperty=nameWithType> method when you must asynchronously send data to a dataflow node.</span></span>  
  
## <a name="completing-pipeline-activity"></a><span data-ttu-id="9fec3-147">Ukończenie działania potoku</span><span class="sxs-lookup"><span data-stu-id="9fec3-147">Completing Pipeline Activity</span></span>  
 <span data-ttu-id="9fec3-148">Dodaj następujący kod, aby oznaczyć głowicę potoku jako ukończoną.</span><span class="sxs-lookup"><span data-stu-id="9fec3-148">Add the following code to mark the head of the pipeline as completed.</span></span> <span data-ttu-id="9fec3-149">Szef potoku propaguje jego ukończenie po przetwarzaniu wszystkich buforowanych komunikatów.</span><span class="sxs-lookup"><span data-stu-id="9fec3-149">The head of the pipeline propagates its completion after it processes all buffered messages.</span></span>
  
 [!code-csharp[TPLDataflow_Palindromes#7](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#7)]
 [!code-vb[TPLDataflow_Palindromes#7](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#7)]  
  
 <span data-ttu-id="9fec3-150">W tym przykładzie wysyła jeden adres URL za pośrednictwem potoku przepływu danych do przetworzenia.</span><span class="sxs-lookup"><span data-stu-id="9fec3-150">This example sends one URL through the dataflow pipeline to be processed.</span></span> <span data-ttu-id="9fec3-151">Jeśli wyślesz więcej niż jedno dane <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A?displayProperty=nameWithType> wejściowe za pośrednictwem potoku, wywołaj metodę po przesłaniu wszystkich danych wejściowych.</span><span class="sxs-lookup"><span data-stu-id="9fec3-151">If you send more than one input through a pipeline, call the <xref:System.Threading.Tasks.Dataflow.IDataflowBlock.Complete%2A?displayProperty=nameWithType> method after you submit all the input.</span></span> <span data-ttu-id="9fec3-152">Ten krok można pominąć, jeśli aplikacja nie ma dobrze zdefiniowanego punktu, w którym dane nie są już dostępne lub aplikacja nie musi czekać na zakończenie potoku.</span><span class="sxs-lookup"><span data-stu-id="9fec3-152">You can omit this step if your application has no well-defined point at which data is no longer available or the application does not have to wait for the pipeline to finish.</span></span>  
  
## <a name="waiting-for-the-pipeline-to-finish"></a><span data-ttu-id="9fec3-153">Oczekiwanie na zakończenie potoku</span><span class="sxs-lookup"><span data-stu-id="9fec3-153">Waiting for the Pipeline to Finish</span></span>  
 <span data-ttu-id="9fec3-154">Dodaj następujący kod, aby poczekać na zakończenie potoku.</span><span class="sxs-lookup"><span data-stu-id="9fec3-154">Add the following code to wait for the pipeline to finish.</span></span> <span data-ttu-id="9fec3-155">Operacja ogólna jest zakończona po zakończeniu ogona potoku.</span><span class="sxs-lookup"><span data-stu-id="9fec3-155">The overall operation is finished when the tail of the pipeline finishes.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#8](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#8)]
 [!code-vb[TPLDataflow_Palindromes#8](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#8)]  
  
 <span data-ttu-id="9fec3-156">Można czekać na ukończenie przepływu danych z dowolnego wątku lub z wielu wątków w tym samym czasie.</span><span class="sxs-lookup"><span data-stu-id="9fec3-156">You can wait for dataflow completion from any thread or from multiple threads at the same time.</span></span>  
  
## <a name="the-complete-example"></a><span data-ttu-id="9fec3-157">Kompletny przykład</span><span class="sxs-lookup"><span data-stu-id="9fec3-157">The Complete Example</span></span>  
 <span data-ttu-id="9fec3-158">W poniższym przykładzie przedstawiono pełny kod dla tego przewodnika.</span><span class="sxs-lookup"><span data-stu-id="9fec3-158">The following example shows the complete code for this walkthrough.</span></span>  
  
 [!code-csharp[TPLDataflow_Palindromes#1](../../../samples/snippets/csharp/VS_Snippets_Misc/tpldataflow_palindromes/cs/dataflowpalindromes.cs#1)]
 [!code-vb[TPLDataflow_Palindromes#1](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpldataflow_palindromes/vb/dataflowpalindromes.vb#1)]  
  
## <a name="next-steps"></a><span data-ttu-id="9fec3-159">Następne kroki</span><span class="sxs-lookup"><span data-stu-id="9fec3-159">Next Steps</span></span>  
 <span data-ttu-id="9fec3-160">W tym przykładzie wysyła jeden adres URL do przetwarzania za pośrednictwem potoku przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="9fec3-160">This example sends one URL to process through the dataflow pipeline.</span></span> <span data-ttu-id="9fec3-161">Jeśli wyślesz więcej niż jedną wartość wejściową za pośrednictwem potoku, można wprowadzić formę równoległości do aplikacji, która przypomina, jak części mogą poruszać się po fabryce samochodów.</span><span class="sxs-lookup"><span data-stu-id="9fec3-161">If you send more than one input value through a pipeline, you can introduce a form of parallelism into your application that resembles how parts might move through an automobile factory.</span></span> <span data-ttu-id="9fec3-162">Gdy pierwszy element członkowski potoku wysyła jego wynik do drugiego elementu członkowskiego, może przetwarzać inny element równolegle jako drugi element członkowski przetwarza pierwszy wynik.</span><span class="sxs-lookup"><span data-stu-id="9fec3-162">When the first member of the pipeline sends its result to the second member, it can process another item in parallel as the second member processes the first result.</span></span>  
  
 <span data-ttu-id="9fec3-163">Równoległość, która jest osiągana przy użyciu potoków przepływu danych jest znany jako *równoległości gruboziarnistej,* ponieważ zazwyczaj składa się z mniejszej liczby większych zadań.</span><span class="sxs-lookup"><span data-stu-id="9fec3-163">The parallelism that is achieved by using dataflow pipelines is known as *coarse-grained parallelism* because it typically consists of fewer, larger tasks.</span></span> <span data-ttu-id="9fec3-164">Można również użyć bardziej *szczegółowe równoległości* mniejszych, krótko działających zadań w potoku przepływu danych.</span><span class="sxs-lookup"><span data-stu-id="9fec3-164">You can also use a more *fine-grained parallelism* of smaller, short-running tasks in a dataflow pipeline.</span></span> <span data-ttu-id="9fec3-165">W tym przykładzie element członkowski `findReversedWords` potoku używa [PLINQ](introduction-to-plinq.md) do przetwarzania wielu elementów na liście pracy równolegle.</span><span class="sxs-lookup"><span data-stu-id="9fec3-165">In this example, the `findReversedWords` member of the pipeline uses [PLINQ](introduction-to-plinq.md) to process multiple items in the work list in parallel.</span></span> <span data-ttu-id="9fec3-166">Zastosowanie drobnoziarnistego równoległości w rurociągu gruboziarnistym może poprawić ogólną przepustowość.</span><span class="sxs-lookup"><span data-stu-id="9fec3-166">The use of fine-grained parallelism in a coarse-grained pipeline can improve overall throughput.</span></span>  
  
 <span data-ttu-id="9fec3-167">Można również połączyć źródłowy blok przepływu danych z wieloma blokami docelowymi, aby utworzyć *sieć przepływu danych*.</span><span class="sxs-lookup"><span data-stu-id="9fec3-167">You can also connect a source dataflow block to multiple target blocks to create a *dataflow network*.</span></span> <span data-ttu-id="9fec3-168">Przeciążona wersja <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> metody przyjmuje <xref:System.Predicate%601> obiekt, który definiuje, czy blok docelowy akceptuje każdą wiadomość na podstawie jego wartości.</span><span class="sxs-lookup"><span data-stu-id="9fec3-168">The overloaded version of the <xref:System.Threading.Tasks.Dataflow.DataflowBlock.LinkTo%2A> method takes a <xref:System.Predicate%601> object that defines whether the target block accepts each message based on its value.</span></span> <span data-ttu-id="9fec3-169">Większość typów bloków przepływu danych, które działają jako źródła oferują wiadomości do wszystkich połączonych bloków docelowych, w kolejności, w jakiej zostały połączone, dopóki jeden z bloków nie zaakceptuje tej wiadomości.</span><span class="sxs-lookup"><span data-stu-id="9fec3-169">Most dataflow block types that act as sources offer messages to all connected target blocks, in the order in which they were connected, until one of the blocks accepts that message.</span></span> <span data-ttu-id="9fec3-170">Za pomocą tego mechanizmu filtrowania można utworzyć systemy połączonych bloków przepływu danych, które kierują określone dane przez jedną ścieżkę i inne dane przez inną ścieżkę.</span><span class="sxs-lookup"><span data-stu-id="9fec3-170">By using this filtering mechanism, you can create systems of connected dataflow blocks that direct certain data through one path and other data through another path.</span></span> <span data-ttu-id="9fec3-171">Na przykład, który używa filtrowania do tworzenia sieci przepływu danych, zobacz [Przewodnik: Korzystanie z przepływu danych w aplikacji formularzy systemu Windows](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="9fec3-171">For an example that uses filtering to create a dataflow network, see [Walkthrough: Using Dataflow in a Windows Forms Application](../../../docs/standard/parallel-programming/walkthrough-using-dataflow-in-a-windows-forms-application.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9fec3-172">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="9fec3-172">See also</span></span>

- [<span data-ttu-id="9fec3-173">Przepływ danych</span><span class="sxs-lookup"><span data-stu-id="9fec3-173">Dataflow</span></span>](../../../docs/standard/parallel-programming/dataflow-task-parallel-library.md)
