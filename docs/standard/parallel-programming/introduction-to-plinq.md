---
title: Wprowadzenie do PLINQ
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- PLINQ queries, introduction to
ms.assetid: eaa720d8-8999-4eb7-8df5-3c19ca61cad0
ms.openlocfilehash: ed1b2df57c118a0ebb6b5ffa4326b3e2eac81dec
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/15/2020
ms.locfileid: "75632366"
---
# <a name="introduction-to-plinq"></a><span data-ttu-id="f5a1a-102">Wprowadzenie do PLINQ</span><span class="sxs-lookup"><span data-stu-id="f5a1a-102">Introduction to PLINQ</span></span>

## <a name="what-is-a-parallel-query"></a><span data-ttu-id="f5a1a-103">Co to jest kwerenda równoległa?</span><span class="sxs-lookup"><span data-stu-id="f5a1a-103">What is a Parallel Query?</span></span>

<span data-ttu-id="f5a1a-104">Zapytanie zintegrowane z językiem (LINQ) zostało wprowadzone w programie .NET Framework 3.5.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-104">Language-Integrated Query (LINQ) was introduced in the .NET Framework 3.5.</span></span> <span data-ttu-id="f5a1a-105">Posiada ujednolicony model <xref:System.Collections.IEnumerable?displayProperty=nameWithType> <xref:System.Collections.Generic.IEnumerable%601?displayProperty=nameWithType> do wykonywania zapytań dowolnego lub źródła danych w sposób bezpieczny dla typu.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-105">It features a unified model for querying any <xref:System.Collections.IEnumerable?displayProperty=nameWithType> or <xref:System.Collections.Generic.IEnumerable%601?displayProperty=nameWithType> data source in a type-safe manner.</span></span> <span data-ttu-id="f5a1a-106">LINQ do obiektów jest nazwą dla kwerend LINQ, które <xref:System.Collections.Generic.List%601> są uruchamiane względem kolekcji w pamięci, takich jak i tablice.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-106">LINQ to Objects is the name for LINQ queries that are run against in-memory collections such as <xref:System.Collections.Generic.List%601> and arrays.</span></span> <span data-ttu-id="f5a1a-107">W tym artykule założono, że masz podstawową wiedzę na temat LINQ.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-107">This article assumes that you have a basic understanding of LINQ.</span></span> <span data-ttu-id="f5a1a-108">Aby uzyskać więcej informacji, zobacz [Language-Integrated Query (LINQ) — C#](../../csharp/programming-guide/concepts/linq/index.md) lub [Language-Integrated Query (LINQ) — Visual Basic](../../visual-basic/programming-guide/concepts/linq/index.md).</span><span class="sxs-lookup"><span data-stu-id="f5a1a-108">For more information, see [Language-Integrated Query (LINQ) - C#](../../csharp/programming-guide/concepts/linq/index.md) or [Language-Integrated Query (LINQ) - Visual Basic](../../visual-basic/programming-guide/concepts/linq/index.md).</span></span>

<span data-ttu-id="f5a1a-109">Parallel LINQ (PLINQ) jest równoległą implementacją wzorca LINQ.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-109">Parallel LINQ (PLINQ) is a parallel implementation of the LINQ pattern.</span></span> <span data-ttu-id="f5a1a-110">Kwerenda PLINQ na wiele sposobów przypomina nierównoległe LINQ do objects kwerendy.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-110">A PLINQ query in many ways resembles a non-parallel LINQ to Objects query.</span></span> <span data-ttu-id="f5a1a-111">Zapytania PLINQ, podobnie jak sekwencyjne zapytania LINQ, <xref:System.Collections.IEnumerable> działają <xref:System.Collections.Generic.IEnumerable%601> na dowolnym źródle w pamięci lub danych i odroczyły wykonanie, co oznacza, że nie rozpoczynają wykonywania, dopóki kwerenda nie zostanie wyliczona.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-111">PLINQ queries, just like sequential LINQ queries, operate on any in-memory <xref:System.Collections.IEnumerable> or <xref:System.Collections.Generic.IEnumerable%601> data source, and have deferred execution, which means they do not begin executing until the query is enumerated.</span></span> <span data-ttu-id="f5a1a-112">Podstawową różnicą jest to, że PLINQ próbuje w pełni wykorzystać wszystkie procesory w systemie.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-112">The primary difference is that PLINQ attempts to make full use of all the processors on the system.</span></span> <span data-ttu-id="f5a1a-113">Czyni to przez partycjonowanie źródła danych w segmentach, a następnie wykonywanie kwerendy w każdym segmencie na oddzielnych wątków roboczych równolegle na wielu procesorów.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-113">It does this by partitioning the data source into segments, and then executing the query on each segment on separate worker threads in parallel on multiple processors.</span></span> <span data-ttu-id="f5a1a-114">W wielu przypadkach wykonanie równoległe oznacza, że kwerenda jest uruchamiana znacznie szybciej.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-114">In many cases, parallel execution means that the query runs significantly faster.</span></span>

<span data-ttu-id="f5a1a-115">Poprzez wykonanie równoległe PLINQ może osiągnąć znaczne ulepszenia wydajności w stosunku <xref:System.Linq.ParallelEnumerable.AsParallel%2A> do starszego kodu dla niektórych rodzajów zapytań, często po prostu przez dodanie operacji kwerendy do źródła danych.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-115">Through parallel execution, PLINQ can achieve significant performance improvements over legacy code for certain kinds of queries, often just by adding the <xref:System.Linq.ParallelEnumerable.AsParallel%2A> query operation to the data source.</span></span> <span data-ttu-id="f5a1a-116">Jednak równoległość może wprowadzić własne złożoności, a nie wszystkie operacje kwerendy działają szybciej w PLINQ.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-116">However, parallelism can introduce its own complexities, and not all query operations run faster in PLINQ.</span></span> <span data-ttu-id="f5a1a-117">W rzeczywistości równoległość faktycznie spowalnia niektóre zapytania.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-117">In fact, parallelization actually slows down certain queries.</span></span> <span data-ttu-id="f5a1a-118">W związku z tym należy zrozumieć, jak problemy, takie jak kolejność wpływają na zapytania równoległe.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-118">Therefore, you should understand how issues such as ordering affect parallel queries.</span></span> <span data-ttu-id="f5a1a-119">Aby uzyskać więcej informacji, zobacz [Opis przyspieszenia w PLINQ](../../../docs/standard/parallel-programming/understanding-speedup-in-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="f5a1a-119">For more information, see [Understanding Speedup in PLINQ](../../../docs/standard/parallel-programming/understanding-speedup-in-plinq.md).</span></span>

> [!NOTE]
> <span data-ttu-id="f5a1a-120">Ta dokumentacja używa wyrażeń lambda do definiowania delegatów w PLINQ.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-120">This documentation uses lambda expressions to define delegates in PLINQ.</span></span> <span data-ttu-id="f5a1a-121">Jeśli nie znasz wyrażeń lambda w języku C# lub Visual Basic, zobacz [Wyrażenia Lambda w PLINQ i TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md).</span><span class="sxs-lookup"><span data-stu-id="f5a1a-121">If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](../../../docs/standard/parallel-programming/lambda-expressions-in-plinq-and-tpl.md).</span></span>

<span data-ttu-id="f5a1a-122">W dalszej części tego artykułu przedstawiono omówienie głównych klas PLINQ i omówiono sposób tworzenia zapytań PLINQ.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-122">The remainder of this article gives an overview of the main PLINQ classes, and discusses how to create PLINQ queries.</span></span> <span data-ttu-id="f5a1a-123">Każda sekcja zawiera łącza do bardziej szczegółowych informacji i przykłady kodu.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-123">Each section contains links to more detailed information and code examples.</span></span>

## <a name="the-parallelenumerable-class"></a><span data-ttu-id="f5a1a-124">Klasa równoległa</span><span class="sxs-lookup"><span data-stu-id="f5a1a-124">The ParallelEnumerable Class</span></span>

<span data-ttu-id="f5a1a-125">Klasa <xref:System.Linq.ParallelEnumerable?displayProperty=nameWithType> udostępnia prawie wszystkie funkcje PLINQ.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-125">The <xref:System.Linq.ParallelEnumerable?displayProperty=nameWithType> class exposes almost all of PLINQ's functionality.</span></span> <span data-ttu-id="f5a1a-126">To i pozostałe <xref:System.Linq?displayProperty=nameWithType> typy przestrzeni nazw są kompilowane do zestawu System.Core.dll.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-126">It and the rest of the <xref:System.Linq?displayProperty=nameWithType> namespace types are compiled into the System.Core.dll assembly.</span></span> <span data-ttu-id="f5a1a-127">Domyślne projekty języka C# i Visual Basic w programie Visual Studio odwołują się do zestawu i importują obszar nazw.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-127">The default C# and Visual Basic projects in Visual Studio both reference the assembly and import the namespace.</span></span>

<span data-ttu-id="f5a1a-128"><xref:System.Linq.ParallelEnumerable>zawiera implementacje wszystkich standardowych operatorów zapytań, które LINQ do obiektów obsługuje, mimo że nie próbuje zrównoleglić każdego z nich.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-128"><xref:System.Linq.ParallelEnumerable> includes implementations of all the standard query operators that LINQ to Objects supports, although it does not attempt to parallelize each one.</span></span> <span data-ttu-id="f5a1a-129">Jeśli nie znasz LINQ, zobacz [Wprowadzenie do LINQ (C#)](../../csharp/programming-guide/concepts/linq/index.md) i [Wprowadzenie do LINQ (Visual Basic).](../../visual-basic/programming-guide/concepts/linq/introduction-to-linq.md)</span><span class="sxs-lookup"><span data-stu-id="f5a1a-129">If you are not familiar with LINQ, see [Introduction to LINQ (C#)](../../csharp/programming-guide/concepts/linq/index.md) and [Introduction to LINQ (Visual Basic)](../../visual-basic/programming-guide/concepts/linq/introduction-to-linq.md).</span></span>

<span data-ttu-id="f5a1a-130">Oprócz standardowych operatorów zapytań <xref:System.Linq.ParallelEnumerable> klasa zawiera zestaw metod, które umożliwiają zachowania specyficzne dla wykonywania równoległego.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-130">In addition to the standard query operators, the <xref:System.Linq.ParallelEnumerable> class contains a set of methods that enable behaviors specific to parallel execution.</span></span> <span data-ttu-id="f5a1a-131">Te metody specyficzne dla PLINQ są wymienione w poniższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-131">These PLINQ-specific methods are listed in the following table.</span></span>

|<span data-ttu-id="f5a1a-132">Operator równoległy</span><span class="sxs-lookup"><span data-stu-id="f5a1a-132">ParallelEnumerable Operator</span></span>|<span data-ttu-id="f5a1a-133">Opis</span><span class="sxs-lookup"><span data-stu-id="f5a1a-133">Description</span></span>|
|---------------------------------|-----------------|
|<xref:System.Linq.ParallelEnumerable.AsParallel%2A>|<span data-ttu-id="f5a1a-134">Punkt wejścia dla PLINQ.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-134">The entry point for PLINQ.</span></span> <span data-ttu-id="f5a1a-135">Określa, że pozostała część kwerendy powinna być równoległa, jeśli jest to możliwe.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-135">Specifies that the rest of the query should be parallelized, if it is possible.</span></span>|
|<xref:System.Linq.ParallelEnumerable.AsSequential%2A>|<span data-ttu-id="f5a1a-136">Określa, że pozostała część kwerendy powinna być uruchamiana sekwencyjnie jako kwerenda LINQ nierównoległa.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-136">Specifies that the rest of the query should be run sequentially, as a non-parallel LINQ query.</span></span>|
|<xref:System.Linq.ParallelEnumerable.AsOrdered%2A>|<span data-ttu-id="f5a1a-137">Określa, że PLINQ należy zachować kolejność sekwencji źródłowej dla pozostałej części kwerendy lub do momentu zmiany kolejności, na przykład przez użycie orderby (Order By in Visual Basic) klauzuli.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-137">Specifies that PLINQ should preserve the ordering of the source sequence for the rest of the query, or until the ordering is changed, for example by the use of an orderby (Order By in Visual Basic) clause.</span></span>|
|<xref:System.Linq.ParallelEnumerable.AsUnordered%2A>|<span data-ttu-id="f5a1a-138">Określa, że funkcja PLINQ dla pozostałej części kwerendy nie jest wymagana do zachowania kolejności sekwencji źródłowej.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-138">Specifies that PLINQ for the rest of the query is not required to preserve the ordering of the source sequence.</span></span>|
|<xref:System.Linq.ParallelEnumerable.WithCancellation%2A>|<span data-ttu-id="f5a1a-139">Określa, że funkcja PLINQ powinna okresowo monitorować stan dostarczonego tokenu anulowania i anulować wykonanie, jeśli jest wymagane.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-139">Specifies that PLINQ should periodically monitor the state of the provided cancellation token and cancel execution if it is requested.</span></span>|
|<xref:System.Linq.ParallelEnumerable.WithDegreeOfParallelism%2A>|<span data-ttu-id="f5a1a-140">Określa maksymalną liczbę procesorów, które plinq należy używać do równoległości kwerendy.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-140">Specifies the maximum number of processors that PLINQ should use to parallelize the query.</span></span>|
|<xref:System.Linq.ParallelEnumerable.WithMergeOptions%2A>|<span data-ttu-id="f5a1a-141">Zawiera wskazówkę, jak PLINQ powinien, jeśli jest to możliwe, scalić wyniki równoległe z powrotem do jednej sekwencji w wątku zużywa.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-141">Provides a hint about how PLINQ should, if it is possible, merge parallel results back into just one sequence on the consuming thread.</span></span>|
|<xref:System.Linq.ParallelEnumerable.WithExecutionMode%2A>|<span data-ttu-id="f5a1a-142">Określa, czy funkcja PLINQ powinna równoległo kwerendę, nawet jeśli domyślnym zachowaniem byłoby uruchamianie jej sekwencyjnie.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-142">Specifies whether PLINQ should parallelize the query even when the default behavior would be to run it sequentially.</span></span>|
|<xref:System.Linq.ParallelEnumerable.ForAll%2A>|<span data-ttu-id="f5a1a-143">Wielowątkowa metoda wyliczenia, która w przeciwieństwie do iteracji wyników kwerendy umożliwia równoległe przetwarzanie wyników bez uprzedniego scalania z powrotem do wątku konsumenta.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-143">A multithreaded enumeration method that, unlike iterating over the results of the query, enables results to be processed in parallel without first merging back to the consumer thread.</span></span>|
|<span data-ttu-id="f5a1a-144"><xref:System.Linq.ParallelEnumerable.Aggregate%2A>Przeciążenie</span><span class="sxs-lookup"><span data-stu-id="f5a1a-144"><xref:System.Linq.ParallelEnumerable.Aggregate%2A> overload</span></span>|<span data-ttu-id="f5a1a-145">Przeciążenie, które jest unikatowe dla PLINQ i umożliwia agregację pośrednią za partycjami lokalnymi wątku, a także funkcję agregacji końcowej, aby połączyć wyniki wszystkich partycji.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-145">An overload that is unique to PLINQ and enables intermediate aggregation over thread-local partitions, plus a final aggregation function to combine the results of all partitions.</span></span>|

## <a name="the-opt-in-model"></a><span data-ttu-id="f5a1a-146">The Opt-in Model</span><span class="sxs-lookup"><span data-stu-id="f5a1a-146">The Opt-in Model</span></span>

<span data-ttu-id="f5a1a-147">Podczas pisania kwerendy, zdecydować się <xref:System.Linq.ParallelEnumerable.AsParallel%2A?displayProperty=nameWithType> na PLINQ, wywołując metodę rozszerzenia w źródle danych, jak pokazano w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-147">When you write a query, opt in to PLINQ by invoking the <xref:System.Linq.ParallelEnumerable.AsParallel%2A?displayProperty=nameWithType> extension method on the data source, as shown in the following example.</span></span>

[!code-csharp[PLINQ#1](../../../samples/snippets/csharp/VS_Snippets_Misc/plinq/cs/plinq2_cs.cs#1)]
[!code-vb[PLINQ#1](../../../samples/snippets/visualbasic/VS_Snippets_Misc/plinq/vb/plinq2_vb.vb#1)]

<span data-ttu-id="f5a1a-148">Metoda <xref:System.Linq.ParallelEnumerable.AsParallel%2A> rozszerzenia wiąże kolejnych operatorów zapytań, `where` w `select`tym <xref:System.Linq.ParallelEnumerable?displayProperty=nameWithType> przypadku i , do implementacji.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-148">The <xref:System.Linq.ParallelEnumerable.AsParallel%2A> extension method binds the subsequent query operators, in this case, `where` and `select`, to the <xref:System.Linq.ParallelEnumerable?displayProperty=nameWithType> implementations.</span></span>

## <a name="execution-modes"></a><span data-ttu-id="f5a1a-149">Tryby wykonywania</span><span class="sxs-lookup"><span data-stu-id="f5a1a-149">Execution Modes</span></span>

<span data-ttu-id="f5a1a-150">Domyślnie funkcja PLINQ jest zachowawcza.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-150">By default, PLINQ is conservative.</span></span> <span data-ttu-id="f5a1a-151">W czasie wykonywania infrastruktury PLINQ analizuje ogólną strukturę kwerendy.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-151">At run time, the PLINQ infrastructure analyzes the overall structure of the query.</span></span> <span data-ttu-id="f5a1a-152">Jeśli kwerenda może przynieść przyspieszenie przez równoległość, PLINQ dzieli sekwencję źródłową na zadania, które można uruchomić jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-152">If the query is likely to yield speedups by parallelization, PLINQ partitions the source sequence into tasks that can be run concurrently.</span></span> <span data-ttu-id="f5a1a-153">Jeśli nie jest bezpieczne do równoległości kwerendy, PLINQ po prostu uruchamia kwerendę sekwencyjnie.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-153">If it is not safe to parallelize a query, PLINQ just runs the query sequentially.</span></span> <span data-ttu-id="f5a1a-154">Jeśli PLINQ ma wybór między potencjalnie drogim algorytmem równoległym lub niedrogim algorytmem sekwencyjnym, domyślnie wybiera algorytm sekwencyjne.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-154">If PLINQ has a choice between a potentially expensive parallel algorithm or an inexpensive sequential algorithm, it chooses the sequential algorithm by default.</span></span> <span data-ttu-id="f5a1a-155">Można użyć <xref:System.Linq.ParallelEnumerable.WithExecutionMode%2A> metody i <xref:System.Linq.ParallelExecutionMode?displayProperty=nameWithType> wyliczenia polecić PLINQ, aby wybrać algorytm równoległy.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-155">You can use the <xref:System.Linq.ParallelEnumerable.WithExecutionMode%2A> method and the <xref:System.Linq.ParallelExecutionMode?displayProperty=nameWithType> enumeration to instruct PLINQ to select the parallel algorithm.</span></span> <span data-ttu-id="f5a1a-156">Jest to przydatne, gdy wiadomo, testując i pomiaru, że określonej kwerendy wykonuje szybciej równolegle.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-156">This is useful when you know by testing and measurement that a particular query executes faster in parallel.</span></span> <span data-ttu-id="f5a1a-157">Aby uzyskać więcej informacji, zobacz [Jak: Określić tryb wykonywania w PLINQ](../../../docs/standard/parallel-programming/how-to-specify-the-execution-mode-in-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="f5a1a-157">For more information, see [How to: Specify the Execution Mode in PLINQ](../../../docs/standard/parallel-programming/how-to-specify-the-execution-mode-in-plinq.md).</span></span>

## <a name="degree-of-parallelism"></a><span data-ttu-id="f5a1a-158">Stopień równoległości</span><span class="sxs-lookup"><span data-stu-id="f5a1a-158">Degree of Parallelism</span></span>

<span data-ttu-id="f5a1a-159">Domyślnie funkcja PLINQ używa wszystkich procesorów na komputerze-hoście.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-159">By default, PLINQ uses all of the processors on the host computer.</span></span> <span data-ttu-id="f5a1a-160">Można poinstruować PLINQ, aby używał nie więcej niż określonej <xref:System.Linq.ParallelEnumerable.WithDegreeOfParallelism%2A> liczby procesorów przy użyciu tej metody.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-160">You can instruct PLINQ to use no more than a specified number of processors by using the <xref:System.Linq.ParallelEnumerable.WithDegreeOfParallelism%2A> method.</span></span> <span data-ttu-id="f5a1a-161">Jest to przydatne, gdy chcesz upewnić się, że inne procesy uruchomione na komputerze otrzymują pewną ilość czasu procesora CPU.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-161">This is useful when you want to make sure that other processes running on the computer receive a certain amount of CPU time.</span></span> <span data-ttu-id="f5a1a-162">Poniższy fragment kodu ogranicza kwerendę do korzystania z maksymalnie dwóch procesorów.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-162">The following snippet limits the query to utilizing a maximum of two processors.</span></span>

[!code-csharp[PLINQ#5](../../../samples/snippets/csharp/VS_Snippets_Misc/plinq/cs/plinqsamples.cs#5)]
[!code-vb[PLINQ#5](../../../samples/snippets/visualbasic/VS_Snippets_Misc/plinq/vb/plinq2_vb.vb#5)]

<span data-ttu-id="f5a1a-163">W przypadkach, gdy kwerenda wykonuje znaczną ilość pracy niezwiązanej z obliczeniami, takich jak we/wy pliku, może być korzystne określenie stopnia równoległości większej niż liczba rdzeni na komputerze.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-163">In cases where a query is performing a significant amount of non-compute-bound work such as File I/O, it might be beneficial to specify a degree of parallelism greater than the number of cores on the machine.</span></span>

## <a name="ordered-versus-unordered-parallel-queries"></a><span data-ttu-id="f5a1a-164">Uporządkowane a nieuporządkowane zapytania równoległe</span><span class="sxs-lookup"><span data-stu-id="f5a1a-164">Ordered Versus Unordered Parallel Queries</span></span>

<span data-ttu-id="f5a1a-165">W niektórych kwerendach operator kwerendy musi dawać wyniki, które zachowują kolejność sekwencji źródłowej.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-165">In some queries, a query operator must produce results that preserve the ordering of the source sequence.</span></span> <span data-ttu-id="f5a1a-166">PLINQ zapewnia <xref:System.Linq.ParallelEnumerable.AsOrdered%2A> operatorowi w tym celu.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-166">PLINQ provides the <xref:System.Linq.ParallelEnumerable.AsOrdered%2A> operator for this purpose.</span></span> <span data-ttu-id="f5a1a-167"><xref:System.Linq.ParallelEnumerable.AsOrdered%2A>różni się <xref:System.Linq.ParallelEnumerable.AsSequential%2A>od .</span><span class="sxs-lookup"><span data-stu-id="f5a1a-167"><xref:System.Linq.ParallelEnumerable.AsOrdered%2A> is distinct from <xref:System.Linq.ParallelEnumerable.AsSequential%2A>.</span></span> <span data-ttu-id="f5a1a-168">Sekwencja <xref:System.Linq.ParallelEnumerable.AsOrdered%2A> jest nadal przetwarzana równolegle, ale jej wyniki są buforowane i sortowane.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-168">An <xref:System.Linq.ParallelEnumerable.AsOrdered%2A> sequence is still processed in parallel, but its results are buffered and sorted.</span></span> <span data-ttu-id="f5a1a-169">Ponieważ zachowanie kolejności zazwyczaj wymaga <xref:System.Linq.ParallelEnumerable.AsOrdered%2A> dodatkowej pracy, sekwencja może <xref:System.Linq.ParallelEnumerable.AsUnordered%2A> być przetwarzana wolniej niż sekwencja domyślna.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-169">Because order preservation typically involves extra work, an <xref:System.Linq.ParallelEnumerable.AsOrdered%2A> sequence might be processed more slowly than the default <xref:System.Linq.ParallelEnumerable.AsUnordered%2A> sequence.</span></span> <span data-ttu-id="f5a1a-170">To, czy określona uporządkowana operacja równoległa jest szybsza niż sekwencyjna wersja operacji, zależy od wielu czynników.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-170">Whether a particular ordered parallel operation is faster than a sequential version of the operation depends on many factors.</span></span>

<span data-ttu-id="f5a1a-171">W poniższym przykładzie kodu pokazano, jak zdecydować się na zachowanie kolejności.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-171">The following code example shows how to opt in to order preservation.</span></span>

[!code-csharp[PLINQ#3](../../../samples/snippets/csharp/VS_Snippets_Misc/plinq/cs/plinq2_cs.cs#3)]
[!code-vb[PLINQ#3](../../../samples/snippets/visualbasic/VS_Snippets_Misc/plinq/vb/plinq2_vb.vb#3)]

<span data-ttu-id="f5a1a-172">Aby uzyskać więcej informacji, zobacz [Zachowanie zamówień w PLINQ](../../../docs/standard/parallel-programming/order-preservation-in-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="f5a1a-172">For more information, see [Order Preservation in PLINQ](../../../docs/standard/parallel-programming/order-preservation-in-plinq.md).</span></span>

## <a name="parallel-vs-sequential-queries"></a><span data-ttu-id="f5a1a-173">Zapytania równoległe i sekwencyjne</span><span class="sxs-lookup"><span data-stu-id="f5a1a-173">Parallel vs. Sequential Queries</span></span>

<span data-ttu-id="f5a1a-174">Niektóre operacje wymagają, aby dane źródłowe były dostarczane w sposób sekwencyjny.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-174">Some operations require that the source data be delivered in a sequential manner.</span></span> <span data-ttu-id="f5a1a-175">Operatory <xref:System.Linq.ParallelEnumerable> kwerend automatycznie powracają do trybu sekwencyjnego, gdy jest to wymagane.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-175">The <xref:System.Linq.ParallelEnumerable> query operators revert to sequential mode automatically when it is required.</span></span> <span data-ttu-id="f5a1a-176">Dla operatorów zapytań zdefiniowanych przez użytkownika i delegatów użytkownika, które <xref:System.Linq.ParallelEnumerable.AsSequential%2A> wymagają wykonania sekwencyjnego, PLINQ udostępnia metodę.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-176">For user-defined query operators and user delegates that require sequential execution, PLINQ provides the <xref:System.Linq.ParallelEnumerable.AsSequential%2A> method.</span></span> <span data-ttu-id="f5a1a-177">Podczas korzystania <xref:System.Linq.ParallelEnumerable.AsSequential%2A>, wszystkie kolejne operatory w kwerendzie są <xref:System.Linq.ParallelEnumerable.AsParallel%2A> wykonywane sekwencyjnie, dopóki nie zostanie wywołana ponownie.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-177">When you use <xref:System.Linq.ParallelEnumerable.AsSequential%2A>, all subsequent operators in the query are executed sequentially until <xref:System.Linq.ParallelEnumerable.AsParallel%2A> is called again.</span></span> <span data-ttu-id="f5a1a-178">Aby uzyskać więcej informacji, zobacz [Jak: Łączenie równoległych i sekwencyjnych zapytań LINQ](../../../docs/standard/parallel-programming/how-to-combine-parallel-and-sequential-linq-queries.md).</span><span class="sxs-lookup"><span data-stu-id="f5a1a-178">For more information, see [How to: Combine Parallel and Sequential LINQ Queries](../../../docs/standard/parallel-programming/how-to-combine-parallel-and-sequential-linq-queries.md).</span></span>

## <a name="options-for-merging-query-results"></a><span data-ttu-id="f5a1a-179">Opcje scalania wyników kwerendy</span><span class="sxs-lookup"><span data-stu-id="f5a1a-179">Options for Merging Query Results</span></span>

<span data-ttu-id="f5a1a-180">Gdy kwerenda PLINQ jest wykonywana równolegle, jej wyniki z każdego wątku roboczego `foreach` muszą`For Each` zostać scalone z powrotem do głównego wątku do użycia przez pętlę (w języku Visual Basic) lub wstawianie do listy lub tablicy.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-180">When a PLINQ query executes in parallel, its results from each worker thread must be merged back onto the main thread for consumption by a `foreach` loop (`For Each` in Visual Basic), or insertion into a list or array.</span></span> <span data-ttu-id="f5a1a-181">W niektórych przypadkach może być korzystne określenie określonego rodzaju operacji scalania, na przykład, aby rozpocząć uzyskiwanie wyników szybciej.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-181">In some cases, it might be beneficial to specify a particular kind of merge operation, for example, to begin producing results more quickly.</span></span> <span data-ttu-id="f5a1a-182">W tym celu PLINQ <xref:System.Linq.ParallelEnumerable.WithMergeOptions%2A> obsługuje metodę <xref:System.Linq.ParallelMergeOptions> i wyliczenie.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-182">For this purpose, PLINQ supports the <xref:System.Linq.ParallelEnumerable.WithMergeOptions%2A> method, and the <xref:System.Linq.ParallelMergeOptions> enumeration.</span></span> <span data-ttu-id="f5a1a-183">Aby uzyskać więcej informacji, zobacz [Opcje scalania w plinq](../../../docs/standard/parallel-programming/merge-options-in-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="f5a1a-183">For more information, see [Merge Options in PLINQ](../../../docs/standard/parallel-programming/merge-options-in-plinq.md).</span></span>

## <a name="the-forall-operator"></a><span data-ttu-id="f5a1a-184">The ForAll Operator</span><span class="sxs-lookup"><span data-stu-id="f5a1a-184">The ForAll Operator</span></span>

<span data-ttu-id="f5a1a-185">W kolejnych kwerendach LINQ wykonanie jest odroczone do momentu wyliczenia zapytania `foreach` `For Each` w pętli (w języku Visual Basic) <xref:System.Linq.ParallelEnumerable.ToArray%2A> lub <xref:System.Linq.ParallelEnumerable.ToDictionary%2A>przez wywołanie metody takiej jak <xref:System.Linq.ParallelEnumerable.ToList%2A> , , lub .</span><span class="sxs-lookup"><span data-stu-id="f5a1a-185">In sequential LINQ queries, execution is deferred until the query is enumerated either in a `foreach` (`For Each` in Visual Basic) loop or by invoking a method such as <xref:System.Linq.ParallelEnumerable.ToList%2A> , <xref:System.Linq.ParallelEnumerable.ToArray%2A> , or <xref:System.Linq.ParallelEnumerable.ToDictionary%2A>.</span></span> <span data-ttu-id="f5a1a-186">W PLINQ, można `foreach` również użyć do wykonania kwerendy i iterate za pośrednictwem wyników.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-186">In PLINQ, you can also use `foreach` to execute the query and iterate through the results.</span></span> <span data-ttu-id="f5a1a-187">Jednak `foreach` sam nie działa równolegle i dlatego wymaga, aby dane wyjściowe ze wszystkich zadań równoległych zostały scalone z powrotem do wątku, na którym działa pętla.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-187">However, `foreach` itself does not run in parallel, and therefore, it requires that the output from all parallel tasks be merged back into the thread on which the loop is running.</span></span> <span data-ttu-id="f5a1a-188">W PLINQ, można `foreach` użyć, gdy należy zachować ostateczną kolejność wyników kwerendy, a także za każdym razem, `Console.WriteLine` gdy przetwarzasz wyniki w sposób szeregowy, na przykład podczas wywoływania dla każdego elementu.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-188">In PLINQ, you can use `foreach` when you must preserve the final ordering of the query results, and also whenever you are processing the results in a serial manner, for example when you are calling `Console.WriteLine` for each element.</span></span> <span data-ttu-id="f5a1a-189">Aby przyspieszyć wykonywanie zapytań, gdy zachowanie kolejności nie jest wymagane i gdy <xref:System.Linq.ParallelEnumerable.ForAll%2A> przetwarzanie wyników może być zrównoległe, należy użyć metody do wykonania kwerendy PLINQ.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-189">For faster query execution when order preservation is not required and when the processing of the results can itself be parallelized, use the <xref:System.Linq.ParallelEnumerable.ForAll%2A> method to execute a PLINQ query.</span></span> <span data-ttu-id="f5a1a-190"><xref:System.Linq.ParallelEnumerable.ForAll%2A>nie wykonuje tego ostatniego kroku scalania.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-190"><xref:System.Linq.ParallelEnumerable.ForAll%2A> does not perform this final merge step.</span></span> <span data-ttu-id="f5a1a-191">W poniższym przykładzie kodu <xref:System.Linq.ParallelEnumerable.ForAll%2A> pokazano, jak korzystać z metody.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-191">The following code example shows how to use the <xref:System.Linq.ParallelEnumerable.ForAll%2A> method.</span></span> <span data-ttu-id="f5a1a-192"><xref:System.Collections.Concurrent.ConcurrentBag%601?displayProperty=nameWithType>jest używany w tym miejscu, ponieważ jest zoptymalizowany dla wielu wątków dodawanie jednocześnie bez próby usunięcia żadnych elementów.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-192"><xref:System.Collections.Concurrent.ConcurrentBag%601?displayProperty=nameWithType> is used here because it is optimized for multiple threads adding concurrently without attempting to remove any items.</span></span>

[!code-csharp[PLINQ#4](../../../samples/snippets/csharp/VS_Snippets_Misc/plinq/cs/plinq2_cs.cs#4)]
[!code-vb[PLINQ#4](../../../samples/snippets/visualbasic/VS_Snippets_Misc/plinq/vb/plinq2_vb.vb#4)]

<span data-ttu-id="f5a1a-193">Na poniższej ilustracji `foreach` <xref:System.Linq.ParallelEnumerable.ForAll%2A> przedstawiono różnicę między i w odniesieniu do wykonywania zapytań.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-193">The following illustration shows the difference between `foreach` and <xref:System.Linq.ParallelEnumerable.ForAll%2A> with regard to query execution.</span></span>

<span data-ttu-id="f5a1a-194">![ForAll kontra ForEach](../../../docs/standard/parallel-programming/media/vs-isvnt-allvseach.png "VS_ISVNT_ALLvsEACH")</span><span class="sxs-lookup"><span data-stu-id="f5a1a-194">![ForAll vs. ForEach](../../../docs/standard/parallel-programming/media/vs-isvnt-allvseach.png "VS_ISVNT_ALLvsEACH")</span></span>

## <a name="cancellation"></a><span data-ttu-id="f5a1a-195">Anulowanie</span><span class="sxs-lookup"><span data-stu-id="f5a1a-195">Cancellation</span></span>

<span data-ttu-id="f5a1a-196">FUNKCJA PLINQ jest zintegrowana z typami anulowania w .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-196">PLINQ is integrated with the cancellation types in .NET Framework 4.</span></span> <span data-ttu-id="f5a1a-197">(Aby uzyskać więcej informacji, zobacz [Anulowanie w zarządzanych wątków](../../../docs/standard/threading/cancellation-in-managed-threads.md).) W związku z tym w przeciwieństwie do sekwencyjnych LINQ do obiektów zapytań, zapytania PLINQ można anulować.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-197">(For more information, see [Cancellation in Managed Threads](../../../docs/standard/threading/cancellation-in-managed-threads.md).) Therefore, unlike sequential LINQ to Objects queries, PLINQ queries can be canceled.</span></span> <span data-ttu-id="f5a1a-198">Aby utworzyć kwerendę PLINQ, <xref:System.Linq.ParallelEnumerable.WithCancellation%2A> można anulować, użyj <xref:System.Threading.CancellationToken> operatora w kwerendzie i podaj wystąpienie jako argument.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-198">To create a cancelable PLINQ query, use the <xref:System.Linq.ParallelEnumerable.WithCancellation%2A> operator on the query and provide a <xref:System.Threading.CancellationToken> instance as the argument.</span></span> <span data-ttu-id="f5a1a-199">Gdy <xref:System.Threading.CancellationToken.IsCancellationRequested%2A> właściwość na tokenjest ustawiona na true, PLINQ zauważy go, zatrzyma <xref:System.OperationCanceledException>przetwarzanie we wszystkich wątkach i wyrzuci plik .</span><span class="sxs-lookup"><span data-stu-id="f5a1a-199">When the <xref:System.Threading.CancellationToken.IsCancellationRequested%2A> property on the token is set to true, PLINQ will notice it, stop processing on all threads, and throw an <xref:System.OperationCanceledException>.</span></span>

<span data-ttu-id="f5a1a-200">Jest możliwe, że kwerenda PLINQ może kontynuować przetwarzanie niektórych elementów po ustawieniu tokenu anulowania.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-200">It is possible that a PLINQ query might continue to process some elements after the cancellation token is set.</span></span>

<span data-ttu-id="f5a1a-201">Aby uzyskać większą szybkość reakcji, można również odpowiadać na żądania anulowania w długotrwałych delegatów użytkowników.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-201">For greater responsiveness, you can also respond to cancellation requests in long-running user delegates.</span></span> <span data-ttu-id="f5a1a-202">Aby uzyskać więcej informacji, zobacz [Jak: Anulować kwerendę PLINQ](../../../docs/standard/parallel-programming/how-to-cancel-a-plinq-query.md).</span><span class="sxs-lookup"><span data-stu-id="f5a1a-202">For more information, see [How to: Cancel a PLINQ Query](../../../docs/standard/parallel-programming/how-to-cancel-a-plinq-query.md).</span></span>

## <a name="exceptions"></a><span data-ttu-id="f5a1a-203">Wyjątki</span><span class="sxs-lookup"><span data-stu-id="f5a1a-203">Exceptions</span></span>

<span data-ttu-id="f5a1a-204">Po wykonaniu kwerendy PLINQ, wiele wyjątków może być generowanych z różnych wątków jednocześnie.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-204">When a PLINQ query executes, multiple exceptions might be thrown from different threads simultaneously.</span></span> <span data-ttu-id="f5a1a-205">Ponadto kod do obsługi wyjątku może być w innym wątku niż kod, który zgłosił wyjątek.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-205">Also, the code to handle the exception might be on a different thread than the code that threw the exception.</span></span> <span data-ttu-id="f5a1a-206">PLINQ używa <xref:System.AggregateException> tego typu do hermetyzacji wszystkich wyjątków, które zostały wygenerowane przez kwerendę i zorganizować te wyjątki z powrotem do wątku wywołującego.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-206">PLINQ uses the <xref:System.AggregateException> type to encapsulate all the exceptions that were thrown by a query, and marshal those exceptions back to the calling thread.</span></span> <span data-ttu-id="f5a1a-207">W wątku wywołującego wymagany jest tylko jeden blok try-catch.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-207">On the calling thread, only one try-catch block is required.</span></span> <span data-ttu-id="f5a1a-208">Można jednak iterate przez wszystkie wyjątki, które są zamknięte <xref:System.AggregateException> w i złapać wszystkie, które można bezpiecznie odzyskać z.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-208">However, you can iterate through all of the exceptions that are encapsulated in the <xref:System.AggregateException> and catch any that you can safely recover from.</span></span> <span data-ttu-id="f5a1a-209">W rzadkich przypadkach mogą być generowane pewne wyjątki, które nie są zawinięte w <xref:System.AggregateException>, a <xref:System.Threading.ThreadAbortException>s również nie są owinięte.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-209">In rare cases, some exceptions may be thrown that are not wrapped in an <xref:System.AggregateException>, and <xref:System.Threading.ThreadAbortException>s  are also not wrapped.</span></span>

<span data-ttu-id="f5a1a-210">Gdy wyjątki mogą bąbelkować z powrotem do wątku łączącego, jest możliwe, że kwerenda może kontynuować przetwarzanie niektórych elementów po wyłączeniu wyjątku.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-210">When exceptions are allowed to bubble up back to the joining thread, then it is possible that a query may continue to process some items after the exception is raised.</span></span>

<span data-ttu-id="f5a1a-211">Aby uzyskać więcej informacji, zobacz [Jak: Obsługiwać wyjątki w kwerendzie PLINQ](../../../docs/standard/parallel-programming/how-to-handle-exceptions-in-a-plinq-query.md).</span><span class="sxs-lookup"><span data-stu-id="f5a1a-211">For more information, see [How to: Handle Exceptions in a PLINQ Query](../../../docs/standard/parallel-programming/how-to-handle-exceptions-in-a-plinq-query.md).</span></span>

## <a name="custom-partitioners"></a><span data-ttu-id="f5a1a-212">Niestandardowe partycjonery</span><span class="sxs-lookup"><span data-stu-id="f5a1a-212">Custom Partitioners</span></span>

<span data-ttu-id="f5a1a-213">W niektórych przypadkach można zwiększyć wydajność kwerendy, zapisując niestandardowy partycjoner, który wykorzystuje niektóre cechy danych źródłowych.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-213">In some cases, you can improve query performance by writing a custom partitioner that takes advantage of some characteristic of the source data.</span></span> <span data-ttu-id="f5a1a-214">W kwerendzie niestandardowy partycjonator sam jest wyliczalny obiekt, który jest przeszukiwany.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-214">In the query, the custom partitioner itself is the enumerable object that is queried.</span></span>

[!code-csharp[PLINQ#2](../../../samples/snippets/csharp/VS_Snippets_Misc/plinq/cs/plinq2_cs.cs#2)]
[!code-vb[PLINQ#2](../../../samples/snippets/visualbasic/VS_Snippets_Misc/plinq/vb/plinq3.vb#2)]

<span data-ttu-id="f5a1a-215">PLINQ obsługuje stałą liczbę partycji (chociaż dane mogą być dynamicznie przypisywane do tych partycji w czasie wykonywania dla równoważenia obciążenia.).</span><span class="sxs-lookup"><span data-stu-id="f5a1a-215">PLINQ supports a fixed number of partitions (although data may be dynamically reassigned to those partitions during run time for load balancing.).</span></span> <span data-ttu-id="f5a1a-216"><xref:System.Threading.Tasks.Parallel.For%2A>i <xref:System.Threading.Tasks.Parallel.ForEach%2A> obsługuje tylko partycjonowanie dynamiczne, co oznacza, że liczba partycji zmienia się w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-216"><xref:System.Threading.Tasks.Parallel.For%2A> and <xref:System.Threading.Tasks.Parallel.ForEach%2A> support only dynamic partitioning, which means that the number of partitions changes at run time.</span></span> <span data-ttu-id="f5a1a-217">Aby uzyskać więcej informacji, zobacz [Partycjonery niestandardowe dla PLINQ i TPL](../../../docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md).</span><span class="sxs-lookup"><span data-stu-id="f5a1a-217">For more information, see [Custom Partitioners for PLINQ and TPL](../../../docs/standard/parallel-programming/custom-partitioners-for-plinq-and-tpl.md).</span></span>

## <a name="measuring-plinq-performance"></a><span data-ttu-id="f5a1a-218">Pomiar wydajności PLINQ</span><span class="sxs-lookup"><span data-stu-id="f5a1a-218">Measuring PLINQ Performance</span></span>

<span data-ttu-id="f5a1a-219">W wielu przypadkach kwerenda może być równoległa, ale obciążenie dotyczące konfigurowania kwerendy równoległej przewyższa uzyskaną korzyść z wydajności.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-219">In many cases, a query can be parallelized, but the overhead of setting up the parallel query outweighs the performance benefit gained.</span></span> <span data-ttu-id="f5a1a-220">Jeśli kwerenda nie wykonuje wiele obliczeń lub źródło danych jest małe, kwerenda PLINQ może być wolniejsza niż sekwencyjne badanie LINQ do obiektów.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-220">If a query does not perform much computation or if the data source is small, a PLINQ query may be slower than a sequential LINQ to Objects query.</span></span> <span data-ttu-id="f5a1a-221">Za pomocą równoległego analizatora wydajności w programie Visual Studio Team Server można porównać wydajność różnych zapytań, zlokalizować wąskie gardła przetwarzania i określić, czy kwerenda jest uruchomiona równolegle, czy sekwencyjnie.</span><span class="sxs-lookup"><span data-stu-id="f5a1a-221">You can use the Parallel Performance Analyzer in Visual Studio Team Server to compare the performance of various queries, to locate processing bottlenecks, and to determine whether your query is running in parallel or sequentially.</span></span> <span data-ttu-id="f5a1a-222">Aby uzyskać więcej informacji, zobacz [Wizualizacja współbieżności](/visualstudio/profiling/concurrency-visualizer) i [Jak: Mierzyć wydajność kwerendy PLINQ](../../../docs/standard/parallel-programming/how-to-measure-plinq-query-performance.md).</span><span class="sxs-lookup"><span data-stu-id="f5a1a-222">For more information, see [Concurrency Visualizer](/visualstudio/profiling/concurrency-visualizer) and [How to: Measure PLINQ Query Performance](../../../docs/standard/parallel-programming/how-to-measure-plinq-query-performance.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="f5a1a-223">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="f5a1a-223">See also</span></span>

- [<span data-ttu-id="f5a1a-224">Równoległe LINQ (PLINQ)</span><span class="sxs-lookup"><span data-stu-id="f5a1a-224">Parallel LINQ (PLINQ)</span></span>](../../../docs/standard/parallel-programming/parallel-linq-plinq.md)
- [<span data-ttu-id="f5a1a-225">Ogólne informacje o przyspieszeniach w PLINQ</span><span class="sxs-lookup"><span data-stu-id="f5a1a-225">Understanding Speedup in PLINQ</span></span>](../../../docs/standard/parallel-programming/understanding-speedup-in-plinq.md)
