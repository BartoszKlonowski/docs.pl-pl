---
title: Kiedy należy używać kolekcji ogólnych
ms.date: 04/30/2020
helpviewer_keywords:
- collections [.NET], generic
- generic collections [.NET]
ms.assetid: e7b868b1-11fe-4ac5-bed3-de68aca47739
ms.openlocfilehash: eeee207d7fe70cc736ca962ef99f3dac2295902b
ms.sourcegitcommit: 965a5af7918acb0a3fd3baf342e15d511ef75188
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/18/2020
ms.locfileid: "94822896"
---
# <a name="when-to-use-generic-collections"></a><span data-ttu-id="48362-102">Kiedy należy używać kolekcji ogólnych</span><span class="sxs-lookup"><span data-stu-id="48362-102">When to use generic collections</span></span>

<span data-ttu-id="48362-103">Korzystanie z kolekcji ogólnych zapewnia automatyczną korzyść typu "bezpieczeństwo" bez konieczności wyprowadzania z podstawowego typu kolekcji i implementowania elementów członkowskich specyficznych dla typu.</span><span class="sxs-lookup"><span data-stu-id="48362-103">Using generic collections gives you the automatic benefit of type safety without having to derive from a base collection type and implement type-specific members.</span></span> <span data-ttu-id="48362-104">Ogólne typy kolekcji są również zwykle wykonywane lepiej niż odpowiednie typy kolekcji nieogólnej (i lepsza niż typy, które są uzyskiwane z nieogólnych typów kolekcji podstawowych), gdy elementy kolekcji są typami wartości, ponieważ z ogólnymi, nie ma potrzeby używania elementów.</span><span class="sxs-lookup"><span data-stu-id="48362-104">Generic collection types also generally perform better than the corresponding nongeneric collection types (and better than types that are derived from nongeneric base collection types) when the collection elements are value types, because with generics, there's no need to box the elements.</span></span>

<span data-ttu-id="48362-105">W przypadku programów przeznaczonych dla .NET Standard 1,0 lub nowszych Użyj klas kolekcji ogólnych w <xref:System.Collections.Concurrent> przestrzeni nazw, gdy wiele wątków może jednocześnie dodawać lub usuwać elementy z kolekcji.</span><span class="sxs-lookup"><span data-stu-id="48362-105">For programs that target .NET Standard 1.0 or later, use the generic collection classes in the <xref:System.Collections.Concurrent> namespace when multiple threads might be adding or removing items from the collection concurrently.</span></span> <span data-ttu-id="48362-106">Ponadto w przypadku pożądanego niezmienności należy wziąć pod uwagę klasy kolekcji generycznej w <xref:System.Collections.Immutable> przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="48362-106">Additionally, when immutability is desired, consider the generic collection classes in the <xref:System.Collections.Immutable> namespace.</span></span>

<span data-ttu-id="48362-107">Następujące typy ogólne odpowiadają istniejącym typom kolekcji:</span><span class="sxs-lookup"><span data-stu-id="48362-107">The following generic types correspond to existing collection types:</span></span>

- <span data-ttu-id="48362-108"><xref:System.Collections.Generic.List%601> jest klasą rodzajową, która odnosi się do <xref:System.Collections.ArrayList> .</span><span class="sxs-lookup"><span data-stu-id="48362-108"><xref:System.Collections.Generic.List%601> is the generic class that corresponds to <xref:System.Collections.ArrayList>.</span></span>

- <span data-ttu-id="48362-109"><xref:System.Collections.Generic.Dictionary%602> i <xref:System.Collections.Concurrent.ConcurrentDictionary%602> są klasami ogólnymi, które odpowiadają <xref:System.Collections.Hashtable> .</span><span class="sxs-lookup"><span data-stu-id="48362-109"><xref:System.Collections.Generic.Dictionary%602> and <xref:System.Collections.Concurrent.ConcurrentDictionary%602> are the generic classes that correspond to <xref:System.Collections.Hashtable>.</span></span>

- <span data-ttu-id="48362-110"><xref:System.Collections.ObjectModel.Collection%601> jest klasą rodzajową, która odnosi się do <xref:System.Collections.CollectionBase> .</span><span class="sxs-lookup"><span data-stu-id="48362-110"><xref:System.Collections.ObjectModel.Collection%601> is the generic class that corresponds to <xref:System.Collections.CollectionBase>.</span></span> <span data-ttu-id="48362-111"><xref:System.Collections.ObjectModel.Collection%601> może być używana jako klasa bazowa, ale w przeciwieństwie <xref:System.Collections.CollectionBase> do siebie, nie jest abstrakcyjna, co znacznie ułatwia użycie.</span><span class="sxs-lookup"><span data-stu-id="48362-111"><xref:System.Collections.ObjectModel.Collection%601> can be used as a base class, but unlike <xref:System.Collections.CollectionBase>, it is not abstract, which makes it much easier to use.</span></span>

- <span data-ttu-id="48362-112"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> jest klasą rodzajową, która odnosi się do <xref:System.Collections.ReadOnlyCollectionBase> .</span><span class="sxs-lookup"><span data-stu-id="48362-112"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> is the generic class that corresponds to <xref:System.Collections.ReadOnlyCollectionBase>.</span></span> <span data-ttu-id="48362-113"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> nie jest abstrakcyjny i ma konstruktora, który ułatwia udostępnianie istniejącej <xref:System.Collections.Generic.List%601> jako kolekcji tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="48362-113"><xref:System.Collections.ObjectModel.ReadOnlyCollection%601> is not abstract and has a constructor that makes it easy to expose an existing <xref:System.Collections.Generic.List%601> as a read-only collection.</span></span>

- <span data-ttu-id="48362-114"><xref:System.Collections.Generic.Queue%601>Klasy, <xref:System.Collections.Concurrent.ConcurrentQueue%601> , <xref:System.Collections.Immutable.ImmutableQueue%601> , <xref:System.Collections.Immutable.ImmutableArray%601> , <xref:System.Collections.Generic.SortedList%602> i <xref:System.Collections.Immutable.ImmutableSortedSet%601> Ogólne odpowiadają odpowiednim klasom nieogólnym o tych samych nazwach.</span><span class="sxs-lookup"><span data-stu-id="48362-114">The <xref:System.Collections.Generic.Queue%601>, <xref:System.Collections.Concurrent.ConcurrentQueue%601>, <xref:System.Collections.Immutable.ImmutableQueue%601>, <xref:System.Collections.Immutable.ImmutableArray%601>, <xref:System.Collections.Generic.SortedList%602>, and <xref:System.Collections.Immutable.ImmutableSortedSet%601> generic classes correspond to the respective nongeneric classes with the same names.</span></span>

## <a name="additional-types"></a><span data-ttu-id="48362-115">Dodatkowe typy</span><span class="sxs-lookup"><span data-stu-id="48362-115">Additional Types</span></span>

<span data-ttu-id="48362-116">Kilka rodzajowych typów kolekcji nie ma odpowiedników nierodzajowych.</span><span class="sxs-lookup"><span data-stu-id="48362-116">Several generic collection types do not have nongeneric counterparts.</span></span> <span data-ttu-id="48362-117">Należą do nich następujące elementy:</span><span class="sxs-lookup"><span data-stu-id="48362-117">They include the following:</span></span>

- <span data-ttu-id="48362-118"><xref:System.Collections.Generic.LinkedList%601> jest listą połączoną ogólnego przeznaczenia, która zapewnia operacje wstawiania i usuwania O (1).</span><span class="sxs-lookup"><span data-stu-id="48362-118"><xref:System.Collections.Generic.LinkedList%601> is a general-purpose linked list that provides O(1) insertion and removal operations.</span></span>

- <span data-ttu-id="48362-119"><xref:System.Collections.Generic.SortedDictionary%602> to posortowany słownik z `n` operacjami wstawiania i pobierania (log), co sprawia, że jest to użyteczna alternatywa dla programu <xref:System.Collections.Generic.SortedList%602> .</span><span class="sxs-lookup"><span data-stu-id="48362-119"><xref:System.Collections.Generic.SortedDictionary%602> is a sorted dictionary with O(log `n`) insertion and retrieval operations, which makes it a useful alternative to <xref:System.Collections.Generic.SortedList%602>.</span></span>

- <span data-ttu-id="48362-120"><xref:System.Collections.ObjectModel.KeyedCollection%602> jest hybrydem między listą a słownikiem, który umożliwia przechowywanie obiektów zawierających własne klucze.</span><span class="sxs-lookup"><span data-stu-id="48362-120"><xref:System.Collections.ObjectModel.KeyedCollection%602> is a hybrid between a list and a dictionary, which provides a way to store objects that contain their own keys.</span></span>

- <span data-ttu-id="48362-121"><xref:System.Collections.Concurrent.BlockingCollection%601> implementuje klasę kolekcji z funkcją ograniczenia i blokowania.</span><span class="sxs-lookup"><span data-stu-id="48362-121"><xref:System.Collections.Concurrent.BlockingCollection%601> implements a collection class with bounding and blocking functionality.</span></span>

- <span data-ttu-id="48362-122"><xref:System.Collections.Concurrent.ConcurrentBag%601> umożliwia szybkie Wstawianie i usuwanie nieuporządkowanych elementów.</span><span class="sxs-lookup"><span data-stu-id="48362-122"><xref:System.Collections.Concurrent.ConcurrentBag%601> provides fast insertion and removal of unordered elements.</span></span>

### <a name="immutable-builders"></a><span data-ttu-id="48362-123">Niezmienne kompilacje</span><span class="sxs-lookup"><span data-stu-id="48362-123">Immutable builders</span></span>

<span data-ttu-id="48362-124">W przypadku chęci niezmienności funkcjonalności w aplikacji <xref:System.Collections.Immutable> przestrzeń nazw oferuje ogólne typy kolekcji, których można użyć.</span><span class="sxs-lookup"><span data-stu-id="48362-124">When you desire immutability functionality in your app, the <xref:System.Collections.Immutable> namespace offers generic collection types you can use.</span></span> <span data-ttu-id="48362-125">Wszystkie niezmienne typy kolekcji oferują `Builder` klasy, które mogą zoptymalizować wydajność podczas wykonywania wielu mutacji.</span><span class="sxs-lookup"><span data-stu-id="48362-125">All of the immutable collection types offer `Builder` classes that can optimize performance when you're performing multiple mutations.</span></span> <span data-ttu-id="48362-126">`Builder`Operacje wsadowe klasy są w stanie modyfikowalnym.</span><span class="sxs-lookup"><span data-stu-id="48362-126">The `Builder` class batches operations in a mutable state.</span></span> <span data-ttu-id="48362-127">Gdy wszystkie mutacje zostały ukończone, wywołaj `ToImmutable` metodę, aby "zamrozić" wszystkie węzły i utworzyć niemodyfikowalną kolekcję ogólną, na przykład <xref:System.Collections.Immutable.ImmutableList%601> .</span><span class="sxs-lookup"><span data-stu-id="48362-127">When all mutations have been completed, call the `ToImmutable` method to "freeze" all nodes and create an immutable generic collection, for example, an <xref:System.Collections.Immutable.ImmutableList%601>.</span></span>

<span data-ttu-id="48362-128">`Builder`Obiekt można utworzyć, wywołując metodę nierodzajową `CreateBuilder()` .</span><span class="sxs-lookup"><span data-stu-id="48362-128">The `Builder` object can be created by calling the nongeneric `CreateBuilder()` method.</span></span> <span data-ttu-id="48362-129">Z `Builder` wystąpienia można wywołać `ToImmutable()` .</span><span class="sxs-lookup"><span data-stu-id="48362-129">From a `Builder` instance, you can call `ToImmutable()`.</span></span> <span data-ttu-id="48362-130">Podobnie, z `Immutable*` kolekcji można wywołać, `ToBuilder()` Aby utworzyć wystąpienie konstruktora z ogólnej niezmiennej kolekcji.</span><span class="sxs-lookup"><span data-stu-id="48362-130">Likewise, from the `Immutable*` collection, you can call `ToBuilder()` to create a builder instance from the generic immutable collection.</span></span> <span data-ttu-id="48362-131">Poniżej przedstawiono różne `Builder` typy.</span><span class="sxs-lookup"><span data-stu-id="48362-131">The following are the various `Builder` types.</span></span>

- <xref:System.Collections.Immutable.ImmutableArray%601.Builder>
- <xref:System.Collections.Immutable.ImmutableDictionary%602.Builder>
- <xref:System.Collections.Immutable.ImmutableHashSet%601.Builder>
- <xref:System.Collections.Immutable.ImmutableList%601.Builder>
- <xref:System.Collections.Immutable.ImmutableSortedDictionary%602.Builder>
- <xref:System.Collections.Immutable.ImmutableSortedSet%601.Builder>

## <a name="linq-to-objects"></a><span data-ttu-id="48362-132">LINQ do obiektów</span><span class="sxs-lookup"><span data-stu-id="48362-132">LINQ to Objects</span></span>

<span data-ttu-id="48362-133">Funkcja LINQ to Objects umożliwia używanie zapytań LINQ do uzyskiwania dostępu do obiektów w pamięci, o ile typ obiektu implementuje <xref:System.Collections.IEnumerable?displayProperty=nameWithType> <xref:System.Collections.Generic.IEnumerable%601?displayProperty=nameWithType> interfejs lub.</span><span class="sxs-lookup"><span data-stu-id="48362-133">The LINQ to Objects feature enables you to use LINQ queries to access in-memory objects as long as the object type implements the <xref:System.Collections.IEnumerable?displayProperty=nameWithType> or <xref:System.Collections.Generic.IEnumerable%601?displayProperty=nameWithType> interface.</span></span> <span data-ttu-id="48362-134">Zapytania LINQ zapewniają wspólny wzorzec dostępu do danych; są zwykle bardziej zwięzłe i czytelne niż standardowe `foreach` pętle oraz zapewniają możliwości filtrowania, porządkowania i grupowania.</span><span class="sxs-lookup"><span data-stu-id="48362-134">LINQ queries provide a common pattern for accessing data; are typically more concise and readable than standard `foreach` loops; and provide filtering, ordering, and grouping capabilities.</span></span> <span data-ttu-id="48362-135">Zapytania LINQ mogą również zwiększyć wydajność.</span><span class="sxs-lookup"><span data-stu-id="48362-135">LINQ queries can also improve performance.</span></span> <span data-ttu-id="48362-136">Aby uzyskać więcej informacji, zobacz [LINQ to Objects (C#)](../../csharp/programming-guide/concepts/linq/linq-to-objects.md), [LINQ to Objects (Visual Basic)](../../visual-basic/programming-guide/concepts/linq/linq-to-objects.md)i [Parallel LINQ (PLINQ)](../parallel-programming/introduction-to-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="48362-136">For more information, see [LINQ to Objects (C#)](../../csharp/programming-guide/concepts/linq/linq-to-objects.md), [LINQ to Objects (Visual Basic)](../../visual-basic/programming-guide/concepts/linq/linq-to-objects.md), and [Parallel LINQ (PLINQ)](../parallel-programming/introduction-to-plinq.md).</span></span>

## <a name="additional-functionality"></a><span data-ttu-id="48362-137">Dodatkowe funkcje</span><span class="sxs-lookup"><span data-stu-id="48362-137">Additional Functionality</span></span>
<span data-ttu-id="48362-138">Niektóre typy ogólne mają funkcje, które nie znajdują się w nierodzajowych typach kolekcji.</span><span class="sxs-lookup"><span data-stu-id="48362-138">Some of the generic types have functionality that is not found in the nongeneric collection types.</span></span> <span data-ttu-id="48362-139">Na przykład <xref:System.Collections.Generic.List%601> Klasa, która odnosi się do klasy niegenerycznej <xref:System.Collections.ArrayList> , ma wiele metod, które akceptują delegatów ogólnych, takich jak <xref:System.Predicate%601> Delegat, który umożliwia określenie metod wyszukiwania listy, <xref:System.Action%601> Delegat reprezentuje metody, które działają na każdym elemencie listy, i <xref:System.Converter%602> delegata, który umożliwia definiowanie konwersji między typami.</span><span class="sxs-lookup"><span data-stu-id="48362-139">For example, the <xref:System.Collections.Generic.List%601> class, which corresponds to the nongeneric <xref:System.Collections.ArrayList> class, has a number of methods that accept generic delegates, such as the <xref:System.Predicate%601> delegate that allows you to specify methods for searching the list, the <xref:System.Action%601> delegate that represents methods that act on each element of the list, and the <xref:System.Converter%602> delegate that lets you define conversions between types.</span></span>

<span data-ttu-id="48362-140"><xref:System.Collections.Generic.List%601>Klasa pozwala określić własne <xref:System.Collections.Generic.IComparer%601> implementacje interfejsu ogólnego do sortowania i przeszukiwania listy.</span><span class="sxs-lookup"><span data-stu-id="48362-140">The <xref:System.Collections.Generic.List%601> class allows you to specify your own <xref:System.Collections.Generic.IComparer%601> generic interface implementations for sorting and searching the list.</span></span> <span data-ttu-id="48362-141"><xref:System.Collections.Generic.SortedDictionary%602>Klasy i <xref:System.Collections.Generic.SortedList%602> również mają tę możliwość.</span><span class="sxs-lookup"><span data-stu-id="48362-141">The <xref:System.Collections.Generic.SortedDictionary%602> and <xref:System.Collections.Generic.SortedList%602> classes also have this capability.</span></span> <span data-ttu-id="48362-142">Ponadto klasy te umożliwiają określanie porównań podczas tworzenia kolekcji.</span><span class="sxs-lookup"><span data-stu-id="48362-142">In addition, these classes let you specify comparers when the collection is created.</span></span> <span data-ttu-id="48362-143">W podobny sposób <xref:System.Collections.Generic.Dictionary%602> <xref:System.Collections.ObjectModel.KeyedCollection%602> klasy i pozwalają określić własne porównania równości.</span><span class="sxs-lookup"><span data-stu-id="48362-143">In similar fashion, the <xref:System.Collections.Generic.Dictionary%602> and <xref:System.Collections.ObjectModel.KeyedCollection%602> classes let you specify your own equality comparers.</span></span>

## <a name="see-also"></a><span data-ttu-id="48362-144">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="48362-144">See also</span></span>

- [<span data-ttu-id="48362-145">Kolekcje i struktury danych</span><span class="sxs-lookup"><span data-stu-id="48362-145">Collections and Data Structures</span></span>](index.md)
- [<span data-ttu-id="48362-146">Często używane typy kolekcji</span><span class="sxs-lookup"><span data-stu-id="48362-146">Commonly Used Collection Types</span></span>](commonly-used-collection-types.md)
- [<span data-ttu-id="48362-147">Typy ogólne</span><span class="sxs-lookup"><span data-stu-id="48362-147">Generics</span></span>](../generics/index.md)
