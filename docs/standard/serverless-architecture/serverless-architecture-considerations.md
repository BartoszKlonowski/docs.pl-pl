---
title: Zagadnienia dotyczące architektury bezserwerowej — aplikacje niekorzystające z serwera
description: Poznaj wyzwania związane z architektury aplikacji bez użycia serwera, z rozwiązaniem do zarządzania stanem i z magazynu trwałego do skalowania, rejestrowanie, śledzenie i Diagnostyka.
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: b12a09c0fcef7e7ff954a3f959fb9e3080a6e859
ms.sourcegitcommit: ccd8c36b0d74d99291d41aceb14cf98d74dc9d2b
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/10/2018
ms.locfileid: "53155067"
---
# <a name="serverless-architecture-considerations"></a><span data-ttu-id="25b92-103">Zagadnienia dotyczące architektury bezserwerowej</span><span class="sxs-lookup"><span data-stu-id="25b92-103">Serverless architecture considerations</span></span>

<span data-ttu-id="25b92-104">Przyjęcie architektury bezserwerowej występują pewne wyzwania.</span><span class="sxs-lookup"><span data-stu-id="25b92-104">Adopting a serverless architecture does come with certain challenges.</span></span> <span data-ttu-id="25b92-105">W tej sekcji przedstawiono niektóre typowe zagadnienia, należy pamiętać o.</span><span class="sxs-lookup"><span data-stu-id="25b92-105">This section explores some of the more common considerations to be aware of.</span></span> <span data-ttu-id="25b92-106">Wszystkie te problemy mają rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="25b92-106">All of these challenges have solutions.</span></span> <span data-ttu-id="25b92-107">Podobnie jak w przypadku wszystkich rozwiązań architektury, należy tylko po dokładnego rozważenia zalet i wad decyzja o przejdź na architekturę bezserwerową.</span><span class="sxs-lookup"><span data-stu-id="25b92-107">As with all architecture choices, the decision to go serverless should be made only after carefully considering the pros and cons.</span></span> <span data-ttu-id="25b92-108">W zależności od potrzeb aplikacji mogą zdecydować, że implementacja bez użycia serwera nie jest właściwe rozwiązanie dla pewnych składników.</span><span class="sxs-lookup"><span data-stu-id="25b92-108">Depending on the needs of your application, you may decide a serverless implementation isn't the right solution for certain components.</span></span>

## <a name="managing-state"></a><span data-ttu-id="25b92-109">Stan zarządzania</span><span class="sxs-lookup"><span data-stu-id="25b92-109">Managing state</span></span>

<span data-ttu-id="25b92-110">Funkcje bezserwerowe, podobnie jak w przypadku mikrousług, ogólnie rzecz biorąc, są bezstanowe domyślnie.</span><span class="sxs-lookup"><span data-stu-id="25b92-110">Serverless functions, as with microservices in general, are stateless by default.</span></span> <span data-ttu-id="25b92-111">Unikanie stanu umożliwia bez użycia serwera być efemeryczne skalowania w poziomie i aby zapewnić odporność, bez centralny punkt awarii.</span><span class="sxs-lookup"><span data-stu-id="25b92-111">Avoiding state enables serverless to be ephemeral, to scale out, and to provide resiliency without a central point of failure.</span></span> <span data-ttu-id="25b92-112">W niektórych przypadkach procesy biznesowe wymagają stanu.</span><span class="sxs-lookup"><span data-stu-id="25b92-112">In some circumstances, business processes require state.</span></span> <span data-ttu-id="25b92-113">Jeśli dany proces wymaga stanu, masz dwie opcje.</span><span class="sxs-lookup"><span data-stu-id="25b92-113">If your process requires state, you have two options.</span></span> <span data-ttu-id="25b92-114">Przyjmij model innych niż bez użycia serwera lub interakcji z osobną usługą, który zawiera stan.</span><span class="sxs-lookup"><span data-stu-id="25b92-114">You can adopt a model other than serverless, or interact with a separate service that provides state.</span></span> <span data-ttu-id="25b92-115">Dodawanie stanu mogą skomplikować rozwiązania być trudniejsze do skali i utworzyć pojedynczy punkt awarii.</span><span class="sxs-lookup"><span data-stu-id="25b92-115">Adding state can complicate the solution and make it harder to scale, and potentially create a single point of failure.</span></span> <span data-ttu-id="25b92-116">Starannie rozważ, czy funkcja wymaga absolutnie stanu.</span><span class="sxs-lookup"><span data-stu-id="25b92-116">Carefully consider whether your function absolutely requires state.</span></span> <span data-ttu-id="25b92-117">Jeśli odpowiedź znajduje się "pozycja tak", należy określić, czy nadal warto wdrożyć ją z rozwiązaniami bezserwerowymi.</span><span class="sxs-lookup"><span data-stu-id="25b92-117">If the answer is "yes," determine whether it still makes sense to implement it with serverless.</span></span>

<span data-ttu-id="25b92-118">Istnieje kilka rozwiązań do przyjęcia stanu bez narażania zalety bez użycia serwera.</span><span class="sxs-lookup"><span data-stu-id="25b92-118">There are several solutions to adopt state without compromising the benefits of serverless.</span></span> <span data-ttu-id="25b92-119">Więcej popularnych rozwiązań, należą:</span><span class="sxs-lookup"><span data-stu-id="25b92-119">Some of the more popular solutions include:</span></span>

* <span data-ttu-id="25b92-120">Magazyn danych tymczasowych lub rozproszonej pamięci podręcznej, takich jak pamięci podręcznej Redis</span><span class="sxs-lookup"><span data-stu-id="25b92-120">Use a temporary data store or distributed cache, like Redis</span></span>
* <span data-ttu-id="25b92-121">Stan Store w bazie danych, takich jak SQL lub bazy danych cosmos DB</span><span class="sxs-lookup"><span data-stu-id="25b92-121">Store state in a database, like SQL or CosmosDB</span></span>
* <span data-ttu-id="25b92-122">Obsługa stanu za pomocą aparatu przepływu pracy, takich jak funkcje trwałe</span><span class="sxs-lookup"><span data-stu-id="25b92-122">Handle state through a workflow engine like durable functions</span></span>

<span data-ttu-id="25b92-123">Mierzenie jest, należy pamiętać o potrzebę wszelkie zarządzanie stanem w procesach, które rozważasz do wdrożenia przy użyciu bezserwerowej.</span><span class="sxs-lookup"><span data-stu-id="25b92-123">The bottom line is that you should be aware of the need for any state management within processes you're considering to implement with serverless.</span></span>

## <a name="long-running-processes"></a><span data-ttu-id="25b92-124">Długotrwałe procesy</span><span class="sxs-lookup"><span data-stu-id="25b92-124">Long-running processes</span></span>

<span data-ttu-id="25b92-125">Liczne zalety bez użycia serwera zależy od procesów jest tymczasowych.</span><span class="sxs-lookup"><span data-stu-id="25b92-125">Many benefits of serverless rely on the processes being ephemeral.</span></span> <span data-ttu-id="25b92-126">Krótki czas wykonywania ułatwiają dostawcę bez użycia serwera zwolnić zasoby, jak działa funkcje zakończenia i udziału na hostach.</span><span class="sxs-lookup"><span data-stu-id="25b92-126">Short run times make it easier for the serverless provider to free up resources as functions end and share functions across hosts.</span></span> <span data-ttu-id="25b92-127">Większość dostawców rozwiązań w chmurze ograniczyć całkowity czas trwania funkcji można uruchomić na około 10 minut.</span><span class="sxs-lookup"><span data-stu-id="25b92-127">Most cloud providers limit the total time your function can run to around 10 minutes.</span></span> <span data-ttu-id="25b92-128">Jeśli proces może trwać dłużej, warto rozważyć alternatywnej implementacji.</span><span class="sxs-lookup"><span data-stu-id="25b92-128">If your process may take longer, you might consider an alternative implementation.</span></span>

<span data-ttu-id="25b92-129">Istnieje kilka wyjątków i rozwiązań.</span><span class="sxs-lookup"><span data-stu-id="25b92-129">There are a few exceptions and solutions.</span></span> <span data-ttu-id="25b92-130">Jedno rozwiązanie może być podziału procesu na mniejsze składniki, które indywidualnie zająć mniej czasu, aby uruchomić.</span><span class="sxs-lookup"><span data-stu-id="25b92-130">One solution may be to break your process into smaller components that individually take less time to run.</span></span> <span data-ttu-id="25b92-131">Jeśli proces działa długo ze względu na zależności, należy również rozważyć asynchronicznego przepływu pracy przy użyciu rozwiązania, takiego jak funkcje trwałe.</span><span class="sxs-lookup"><span data-stu-id="25b92-131">If your process runs long because of dependencies, you can also consider an asynchronous workflow using a solution like durable functions.</span></span> <span data-ttu-id="25b92-132">Trwałe funkcje wstrzymać i obsługi stanu procesu, gdy trwa oczekiwanie na zakończenie procesu zewnętrznego.</span><span class="sxs-lookup"><span data-stu-id="25b92-132">Durable functions pause and maintain the state of your process while it's waiting on an external process to finish.</span></span> <span data-ttu-id="25b92-133">Obsługa asynchronicznego skróci czas rzeczywisty proces jest uruchamiany.</span><span class="sxs-lookup"><span data-stu-id="25b92-133">Asynchronous handling reduces the time the actual process runs.</span></span>

## <a name="startup-time"></a><span data-ttu-id="25b92-134">Czas uruchamiania</span><span class="sxs-lookup"><span data-stu-id="25b92-134">Startup time</span></span>

<span data-ttu-id="25b92-135">Jeden możliwy problem dotyczący z implementacjami bez użycia serwera to czas uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="25b92-135">One potential concern with serverless implementations is startup time.</span></span> <span data-ttu-id="25b92-136">Aby oszczędzać zasoby, wielu dostawców bez użycia serwera tworzenie infrastruktury "na żądanie."</span><span class="sxs-lookup"><span data-stu-id="25b92-136">To conserve resources, many serverless providers create infrastructure "on demand."</span></span> <span data-ttu-id="25b92-137">Po wyzwoleniu funkcję niewymagającą użycia serwera po upływie określonego czasu zasoby do obsługi funkcji może być konieczne można utworzyć ani ponownego uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="25b92-137">When a serverless function is triggered after a period of time, the resources to host the function may need to be created or restarted.</span></span> <span data-ttu-id="25b92-138">W niektórych sytuacjach zimnych startów może spowodować opóźnienia kilka sekund.</span><span class="sxs-lookup"><span data-stu-id="25b92-138">In some situations, cold starts may result in delays of several seconds.</span></span> <span data-ttu-id="25b92-139">Czas uruchamiania różni się w różnych dostawców i poziomów usług.</span><span class="sxs-lookup"><span data-stu-id="25b92-139">Startup time varies across providers and service levels.</span></span> <span data-ttu-id="25b92-140">Istnieje kilka metod czas uruchamiania adres jeśli ważne jest, aby zminimalizować do poprawnego działania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="25b92-140">There are a few approaches to address startup time if it's important to minimize for the success of the app.</span></span>

* <span data-ttu-id="25b92-141">Niektórzy dostawcy umożliwiają użytkownikom do zapłacenia za poziomy usług, które gwarantuje, że infrastruktura jest "zawsze włączone".</span><span class="sxs-lookup"><span data-stu-id="25b92-141">Some providers allow users to pay for service levels that guarantee infrastructure is "always on".</span></span>
* <span data-ttu-id="25b92-142">Zaimplementować mechanizm utrzymywania aktywności (ping punktu końcowego, aby utrzymać ją "wznowione").</span><span class="sxs-lookup"><span data-stu-id="25b92-142">Implement a keep-alive mechanism (ping the endpoint to keep it "awake").</span></span>
* <span data-ttu-id="25b92-143">Aranżacji, takich jak Kubernetes za pomocą podejścia konteneryzowanych — funkcja (host już działa, uruchamiając nowe wystąpienia jest bardzo szybkie).</span><span class="sxs-lookup"><span data-stu-id="25b92-143">Use orchestration like Kubernetes with a containerized function approach (the host is already running so spinning up new instances is extremely fast).</span></span>

## <a name="database-updates-and-migrations"></a><span data-ttu-id="25b92-144">Aktualizacje bazy danych i migracji</span><span class="sxs-lookup"><span data-stu-id="25b92-144">Database updates and migrations</span></span>

<span data-ttu-id="25b92-145">Zaletą kod bez użycia serwera jest, że można zwolnić nowe funkcje bez konieczności ponownego wdrożenia całej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="25b92-145">An advantage of serverless code is that you can release new functions without having to redeploy the entire application.</span></span> <span data-ttu-id="25b92-146">Ta korzyść może stać się niekorzystne, jeśli zaangażowanych jest relacyjnej bazy danych.</span><span class="sxs-lookup"><span data-stu-id="25b92-146">This advantage can become a disadvantage when there's a relational database involved.</span></span> <span data-ttu-id="25b92-147">Zmiany schematy bazy danych są trudne do synchronizacji z aktualizacjami bez użycia serwera.</span><span class="sxs-lookup"><span data-stu-id="25b92-147">Changes to database schemas are difficult to synchronize with serverless updates.</span></span> <span data-ttu-id="25b92-148">Dodatkowe problemy są powodowane gdy coś pójdzie źle i zmiany muszą zostać wycofane.</span><span class="sxs-lookup"><span data-stu-id="25b92-148">Additional challenges are posed when things go wrong and the changes must be rolled back.</span></span> <span data-ttu-id="25b92-149">Integralność danych jest jednym z powodów będący najlepszym rozwiązaniem dla mikrousługi i funkcje nieużywające serwera sobie z własnymi danymi.</span><span class="sxs-lookup"><span data-stu-id="25b92-149">Data integrity is one reason that a best practice for microservices and serverless functions is that they own their own data.</span></span> <span data-ttu-id="25b92-150">Istnieje możliwość wdrożyć zmiany jako pojedyncza jednostka mocy obliczeniowej i danych.</span><span class="sxs-lookup"><span data-stu-id="25b92-150">It is possible to deploy changes as a single unit of compute and data.</span></span> <span data-ttu-id="25b92-151">Rzeczywistość jest wyposażone w wiele systemów starszych dużej bazy danych zaplecza, które muszą być zgodne z architekturą bezserwerową.</span><span class="sxs-lookup"><span data-stu-id="25b92-151">The reality is that many legacy systems feature a large back-end database that must be reconciled with the serverless architecture.</span></span>

<span data-ttu-id="25b92-152">Popularne podejście do rozwiązywania schematu przechowywania wersji jest nigdy nie modyfikują istniejących właściwości i kolumn, ale zamiast tego Dodaj nowe informacje.</span><span class="sxs-lookup"><span data-stu-id="25b92-152">A popular approach to solve schema versioning is to never modify existing properties and columns, but instead add new information.</span></span> <span data-ttu-id="25b92-153">Na przykład, należy wziąć pod uwagę zmiany można przenieść z wartością logiczną "ukończone" flagi dla listy zadań do wykonania "Data ukończenia".</span><span class="sxs-lookup"><span data-stu-id="25b92-153">For example, consider a change to move from a Boolean "completed" flag for a todo list to a "completed date."</span></span> <span data-ttu-id="25b92-154">Zamiast usuwania starego pola, spowoduje zmianę w bazie danych:</span><span class="sxs-lookup"><span data-stu-id="25b92-154">Instead of removing the old field, the database change will:</span></span>

1. <span data-ttu-id="25b92-155">Dodaj pole Nowy "Data ukończone".</span><span class="sxs-lookup"><span data-stu-id="25b92-155">Add a new "completed date" field.</span></span>
1. <span data-ttu-id="25b92-156">Przekształć "ukończone" pola logicznych obliczona funkcja, która ocenia, czy data ukończenia jest po bieżącej dacie.</span><span class="sxs-lookup"><span data-stu-id="25b92-156">Transform the "completed" Boolean field to a computed function that evaluates whether the completed date is after the current date.</span></span>
1. <span data-ttu-id="25b92-157">Dodawanie wyzwalacza do zestawu Data ukończenia na bieżącą datę, kiedy ukończone logiczna jest ustawiona na wartość true.</span><span class="sxs-lookup"><span data-stu-id="25b92-157">Add a trigger to set the completed date to the current date when the completed Boolean is set to true.</span></span>

<span data-ttu-id="25b92-158">Sekwencji zmian zapewnia, że starszego kodu w dalszym ciągu działanie "w jakim jest" w trakcie nowsze funkcje niewymagające użycia serwera korzystać z zalet nowego pola.</span><span class="sxs-lookup"><span data-stu-id="25b92-158">The sequence of changes ensures that legacy code continues to run "as is" while newer serverless functions can take advantage of the new field.</span></span>

<span data-ttu-id="25b92-159">Aby uzyskać więcej informacji o danych w architektur bez użycia serwera, zobacz [problemy i rozwiązania dotyczące rozproszonego zarządzania danymi](../microservices-architecture/architect-microservice-container-applications/distributed-data-management.md).</span><span class="sxs-lookup"><span data-stu-id="25b92-159">For more information about data in serverless architectures, see [Challenges and solutions for distributed data management](../microservices-architecture/architect-microservice-container-applications/distributed-data-management.md).</span></span>

## <a name="scaling"></a><span data-ttu-id="25b92-160">Skalowanie</span><span class="sxs-lookup"><span data-stu-id="25b92-160">Scaling</span></span>

<span data-ttu-id="25b92-161">To powszechne nieporozumienie bez użycia serwera oznacza "nie serwera."</span><span class="sxs-lookup"><span data-stu-id="25b92-161">It's a common misconception that serverless means "no server."</span></span> <span data-ttu-id="25b92-162">W rzeczywistości jest "mniej server".</span><span class="sxs-lookup"><span data-stu-id="25b92-162">It's in fact "less server."</span></span> <span data-ttu-id="25b92-163">Fakt, że jest infrastruktury zapasowy ważne jest, aby zrozumieć, jeśli chodzi o skalowania.</span><span class="sxs-lookup"><span data-stu-id="25b92-163">The fact there is a backing infrastructure is important to understand when it comes to scaling.</span></span> <span data-ttu-id="25b92-164">Najbardziej bezserwerowej platformy zawierają zestaw formantów do obsługi, jak powinny być skalowane infrastruktury, gdy przyrost zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="25b92-164">Most serverless platforms provide a set of controls to handle how the infrastructure should scale when event density increases.</span></span> <span data-ttu-id="25b92-165">Można wybierać spośród wielu opcji, ale strategii mogą się różnić w zależności od funkcji.</span><span class="sxs-lookup"><span data-stu-id="25b92-165">You can choose from a variety of options, but your strategy may vary depending on the function.</span></span> <span data-ttu-id="25b92-166">Ponadto funkcje są zazwyczaj uruchamiane w obszarze hostem powiązane, tak, aby funkcje na tym samym hoście mają te same opcje skalowania.</span><span class="sxs-lookup"><span data-stu-id="25b92-166">Furthermore, functions are typically run under a related host, so that functions on the same host have the same scale options.</span></span> <span data-ttu-id="25b92-167">Dlatego jest niezbędne do organizowania i ułożeniu dla niego strategii jakie funkcje są obsługiwane razem na podstawie skali wymagań.</span><span class="sxs-lookup"><span data-stu-id="25b92-167">Therefore it is necessary to organize and strategize which functions are hosted together based on scale requirements.</span></span>

<span data-ttu-id="25b92-168">Reguły często określają sposób skalowania w górę (zwiększyć zasoby hosta) i skalowalnego w poziomie (zwiększenie liczby wystąpień hosta) na podstawie różnych parametrów.</span><span class="sxs-lookup"><span data-stu-id="25b92-168">Rules often specify how to scale-up (increase the host resources) and scale-out (increase the number of host instances) based on varying parameters.</span></span> <span data-ttu-id="25b92-169">Wyzwalacze dla skale może obejmować harmonogramu, żądań, użycie procesora CPU i użycie pamięci.</span><span class="sxs-lookup"><span data-stu-id="25b92-169">Triggers for scales may include schedule, request rates, CPU utilization, and memory usage.</span></span> <span data-ttu-id="25b92-170">Często wyższej wydajności są obciążone kosztami większa.</span><span class="sxs-lookup"><span data-stu-id="25b92-170">Higher performance often comes at a greater cost.</span></span> <span data-ttu-id="25b92-171">Mniej kosztowne, na podstawie użycia metod nie mogą skalować, szybko gdy liczba żądań nagle wraz ze wzrostem.</span><span class="sxs-lookup"><span data-stu-id="25b92-171">The less expensive, consumption-based approaches may not scale as quickly when the request rate suddenly increases.</span></span> <span data-ttu-id="25b92-172">Istnieje zależność między płacenia się frontonu "koszt ubezpieczenia" i płacić wyłącznie "jak Przejdź do" i zagrażających wolniejsze odpowiedzi z powodu nagły wzrost zapotrzebowania.</span><span class="sxs-lookup"><span data-stu-id="25b92-172">There is a trade-off between paying up front "insurance cost" versus paying strictly "as you go" and risking slower responses due to sudden increases in demand.</span></span>

## <a name="monitoring-tracing-and-logging"></a><span data-ttu-id="25b92-173">Monitorowanie i śledzenie i rejestrowanie</span><span class="sxs-lookup"><span data-stu-id="25b92-173">Monitoring, tracing, and logging</span></span>

<span data-ttu-id="25b92-174">Często zapomina aspektów DevOps jest monitorowanie aplikacji po jej wdrożeniu.</span><span class="sxs-lookup"><span data-stu-id="25b92-174">An often overlooked aspect of DevOps is monitoring applications once deployed.</span></span> <span data-ttu-id="25b92-175">Należy mieć strategii do monitorowania funkcje niewymagające użycia serwera.</span><span class="sxs-lookup"><span data-stu-id="25b92-175">It's important to have a strategy for monitoring serverless functions.</span></span> <span data-ttu-id="25b92-176">Największe wyzwanie jest często korelacji, rozpoznawaniu, gdy użytkownik wywołuje wiele funkcji w ramach tej samej interakcji.</span><span class="sxs-lookup"><span data-stu-id="25b92-176">The biggest challenge is often correlation, or recognizing when a user calls multiple functions as part of the same interaction.</span></span> <span data-ttu-id="25b92-177">Najbardziej bezserwerowej platformy zezwala na konsoli, rejestrowanie, które mogą być importowane do narzędzi innych firm.</span><span class="sxs-lookup"><span data-stu-id="25b92-177">Most serverless platforms allow console logging that can be imported into third-party tools.</span></span> <span data-ttu-id="25b92-178">Dostępne są również opcje Automatyzacja zbierania danych telemetrycznych, generowanie i śledzić identyfikatorów korelacji i monitorować konkretne akcje, aby uzyskać szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="25b92-178">There are also options to automate collection of telemetry, generate and track correlation IDs, and monitor specific actions to provide detailed insights.</span></span> <span data-ttu-id="25b92-179">System Azure oferuje zaawansowane [usługi Application Insights platformy](https://docs.microsoft.com/azure/azure-functions/functions-monitoring) monitorowania i analizy.</span><span class="sxs-lookup"><span data-stu-id="25b92-179">Azure provides the advanced [Application Insights platform](https://docs.microsoft.com/azure/azure-functions/functions-monitoring) for monitoring and analytics.</span></span>

## <a name="inter-service-dependencies"></a><span data-ttu-id="25b92-180">Komunikacja między usługami zależności</span><span class="sxs-lookup"><span data-stu-id="25b92-180">Inter-service dependencies</span></span>

<span data-ttu-id="25b92-181">Architektura bezserwerowa może obejmować funkcje, które zależą od innych funkcji.</span><span class="sxs-lookup"><span data-stu-id="25b92-181">A serverless architecture may include functions that rely on other functions.</span></span> <span data-ttu-id="25b92-182">W rzeczywistości nie jest niczym niezwykłym w architektura bezserwerowa mieć wiele usług, które wywołują się nawzajem jako część interakcji lub transakcji rozproszonej.</span><span class="sxs-lookup"><span data-stu-id="25b92-182">In fact, it isn't uncommon in a serverless architecture to have multiple services call each other as part of an interaction or distributed transaction.</span></span> <span data-ttu-id="25b92-183">Aby uniknąć silne sprzężenia, zalecane jest, że usługi nie odwołują się do siebie nawzajem bezpośrednio.</span><span class="sxs-lookup"><span data-stu-id="25b92-183">To avoid strong coupling, it's recommended that services don't reference each other directly.</span></span> <span data-ttu-id="25b92-184">Gdy punkt końcowy usługi wymaga wprowadzenia zmian, bezpośrednie odwołania może spowodować głównych refaktoryzacji.</span><span class="sxs-lookup"><span data-stu-id="25b92-184">When the endpoint for a service needs to change, direct references could result in major refactoring.</span></span> <span data-ttu-id="25b92-185">Sugerowane rozwiązanie jest zapewnienie mechanizmu odnajdywania usługi, takie jak rejestru, który zapewnia odpowiedni punkt końcowy dla typu żądania.</span><span class="sxs-lookup"><span data-stu-id="25b92-185">A suggested solution is to provide a service discovery mechanism, such as a registry, that provides the appropriate end point for a request type.</span></span> <span data-ttu-id="25b92-186">Innym rozwiązaniem jest korzystanie z usług obsługi wiadomości, takich jak kolejki i tematy do komunikacji między usługami.</span><span class="sxs-lookup"><span data-stu-id="25b92-186">Another solution is to leverage messaging services like queues or topics for communication between services.</span></span>

## <a name="managing-failure-and-providing-resiliency"></a><span data-ttu-id="25b92-187">Zarządzanie awarii i zapewnianie odporności</span><span class="sxs-lookup"><span data-stu-id="25b92-187">Managing failure and providing resiliency</span></span>

<span data-ttu-id="25b92-188">Należy również wziąć pod uwagę *wzorzec wyłącznika*: Jeśli z jakiegoś powodu usługa zakończy się niepowodzeniem, nie jest zalecane wielokrotne wywoływanie tej usługi.</span><span class="sxs-lookup"><span data-stu-id="25b92-188">It's also important to consider the *circuit-breaker pattern*: If, for some reason, a service continues to fail, it isn't advisable to call that service repeatedly.</span></span> <span data-ttu-id="25b92-189">Zamiast tego nosi nazwę alternatywną usługę lub zwrócił komunikat, dopóki nie zostanie ponownie nawiązane kondycję usług zależnych.</span><span class="sxs-lookup"><span data-stu-id="25b92-189">Instead, an alternative service is called or a message returned until the health of the dependent service is re-established.</span></span> <span data-ttu-id="25b92-190">Architektura bezserwerowa należy wziąć pod uwagę strategii rozwiązywania i zarządzania nimi zależności komunikacja między usługami.</span><span class="sxs-lookup"><span data-stu-id="25b92-190">The serverless architecture needs to take into account the strategy for resolving and managing inter-service dependencies.</span></span>

<span data-ttu-id="25b92-191">Aby kontynuować wzorzec wyłącznika, usługi, należy zapewnić odporność na uszkodzenia i odporny na błędy.</span><span class="sxs-lookup"><span data-stu-id="25b92-191">To continue the circuit-breaker pattern, services need to be fault tolerant and resilient.</span></span> <span data-ttu-id="25b92-192">Odporność na uszkodzenia odwołuje się do możliwości aplikacji, aby kontynuować, nawet po nieoczekiwanych wyjątków lub występują nieprawidłowe stany.</span><span class="sxs-lookup"><span data-stu-id="25b92-192">Fault tolerance refers to the ability of your application to continue running even after unexpected exceptions or invalid states are encountered.</span></span> <span data-ttu-id="25b92-193">Odporność na uszkodzenia jest zazwyczaj funkcją sam kod i jak zapisane na obsługę wyjątków.</span><span class="sxs-lookup"><span data-stu-id="25b92-193">Fault tolerance is typically a function of the code itself and how it's written to handle exceptions.</span></span> <span data-ttu-id="25b92-194">Odporność odnosi się do sposobu stanie aplikacji znajduje się na odzyskiwanie po awarii.</span><span class="sxs-lookup"><span data-stu-id="25b92-194">Resiliency refers to how capable the app is at recovering from failures.</span></span> <span data-ttu-id="25b92-195">Odporność często jest zarządzane przez platformę bez użycia serwera.</span><span class="sxs-lookup"><span data-stu-id="25b92-195">Resiliency is often managed by the serverless platform.</span></span> <span data-ttu-id="25b92-196">Platforma powinno być możliwe nad ułatwieniem nowe wystąpienie funkcję niewymagającą użycia serwera, gdy istniejący nie powiodło się.</span><span class="sxs-lookup"><span data-stu-id="25b92-196">The platform should be able to spin up a new serverless function instance when the existing one fails.</span></span> <span data-ttu-id="25b92-197">Platforma powinny być również inteligentnego zatrzymać uruchamiając nowe wystąpienia, gdy każde nowe wystąpienie nie powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="25b92-197">The platform should also be intelligent enough to stop spinning up new instances when every new instance fails.</span></span>

<span data-ttu-id="25b92-198">Aby uzyskać więcej informacji, zobacz [Implementowanie wzorca wyłącznika](../microservices-architecture/implement-resilient-applications/implement-circuit-breaker-pattern.md).</span><span class="sxs-lookup"><span data-stu-id="25b92-198">For more information, see [Implementing the Circuit Breaker pattern](../microservices-architecture/implement-resilient-applications/implement-circuit-breaker-pattern.md).</span></span>

## <a name="versioning-and-greenblue-deployments"></a><span data-ttu-id="25b92-199">Przechowywanie wersji i zielony i niebieski wdrożeń</span><span class="sxs-lookup"><span data-stu-id="25b92-199">Versioning and green/blue deployments</span></span>

<span data-ttu-id="25b92-200">Główną zaletą bez użycia serwera jest możliwość uaktualnienia określoną funkcję bez konieczności ponownego wdrożenia całej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="25b92-200">A major benefit of serverless is the ability to upgrade a specific function without having to redeploy the entire application.</span></span> <span data-ttu-id="25b92-201">Dotyczącymi uaktualniania zakończy się powodzeniem funkcje muszą być poddany kontroli wersji, tak, aby je podczas wywoływania usługi są kierowane do poprawnej wersji kodu.</span><span class="sxs-lookup"><span data-stu-id="25b92-201">For upgrades to be successful, functions must be versioned so that services calling them are routed to the correct version of code.</span></span> <span data-ttu-id="25b92-202">Ważne jest również strategię wdrażania nowych wersji.</span><span class="sxs-lookup"><span data-stu-id="25b92-202">A strategy for deploying new versions is also important.</span></span> <span data-ttu-id="25b92-203">Typowym podejściem jest użycie "zielony i niebieski wdrożeń."</span><span class="sxs-lookup"><span data-stu-id="25b92-203">A common approach is to use "green/blue deployments."</span></span> <span data-ttu-id="25b92-204">Zielonego wdrożenia jest bieżącą funkcję.</span><span class="sxs-lookup"><span data-stu-id="25b92-204">The green deployment is the current function.</span></span> <span data-ttu-id="25b92-205">Nowa wersja "niebieski" jest wdrażana w środowisku produkcyjnym i przetestowany.</span><span class="sxs-lookup"><span data-stu-id="25b92-205">A new "blue" version is deployed to production and tested.</span></span> <span data-ttu-id="25b92-206">Podczas testowania przebiegów, wersji zielonego i niebieskiego zostały zamienione, nowa wersja jest dostępna na żywo.</span><span class="sxs-lookup"><span data-stu-id="25b92-206">When testing passes, the green and blue versions are swapped so the new version comes live.</span></span> <span data-ttu-id="25b92-207">Jeśli zostaną napotkane problemy, może być zamienione ponownie.</span><span class="sxs-lookup"><span data-stu-id="25b92-207">If any issues are encountered, they can be swapped back.</span></span> <span data-ttu-id="25b92-208">Obsługa wersjonowania i wdrażania zielony i niebieski wymaga kombinacji tworzenia funkcji w celu uwzględnienia zmiany wersji i pracy z platformą bez użycia serwera do obsługi wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="25b92-208">Supporting versioning and green/blue deployments requires a combination of authoring the functions to accommodate version changes and working with the serverless platform to handle deployments.</span></span> <span data-ttu-id="25b92-209">Jedno z możliwych podejść jest użycie serwerów proxy, które są opisane w [platformy Azure bez użycia serwera](azure-functions.md#proxies) rozdziale.</span><span class="sxs-lookup"><span data-stu-id="25b92-209">One possible approach is to use proxies, which are described in the [Azure serverless platform](azure-functions.md#proxies) chapter.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="25b92-210">[Poprzednie](serverless-architecture.md)
>[dalej](serverless-design-examples.md)</span><span class="sxs-lookup"><span data-stu-id="25b92-210">[Previous](serverless-architecture.md)
[Next](serverless-design-examples.md)</span></span>