---
title: Najlepsze rozwiązania dotyczące porównywania ciągów w programie .NET
description: Dowiedz się, jak skutecznie porównywać ciągi w aplikacjach .NET.
ms.date: 05/01/2019
dev_langs:
- csharp
- vb
helpviewer_keywords:
- strings [.NET],searching
- best practices,string comparison and sorting
- strings [.NET],best practices
- strings [.NET],basic string operations
- sorting strings
- strings [.NET],sorting
- string comparison [.NET],best practices
- string sorting
- comparing strings
- strings [.NET],comparing
ms.assetid: b9f0bf53-e2de-4116-8ce9-d4f91a1df4f7
ms.openlocfilehash: bf11edc3669916ba4d30a3648692ca9b084d4340
ms.sourcegitcommit: 81f1bba2c97a67b5ca76bcc57b37333ffca60c7b
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/10/2020
ms.locfileid: "97009822"
---
# <a name="best-practices-for-comparing-strings-in-net"></a><span data-ttu-id="56339-103">Najlepsze rozwiązania dotyczące porównywania ciągów w programie .NET</span><span class="sxs-lookup"><span data-stu-id="56339-103">Best practices for comparing strings in .NET</span></span>

<span data-ttu-id="56339-104">Platforma .NET zapewnia rozbudowaną obsługę tworzenia zlokalizowanych i globalnych aplikacji oraz ułatwia stosowanie Konwencji dla bieżącej kultury lub określonej kultury podczas wykonywania typowych operacji, takich jak sortowanie i wyświetlanie ciągów.</span><span class="sxs-lookup"><span data-stu-id="56339-104">.NET provides extensive support for developing localized and globalized applications, and makes it easy to apply the conventions of either the current culture or a specific culture when performing common operations such as sorting and displaying strings.</span></span> <span data-ttu-id="56339-105">Jednak sortowanie lub Porównywanie ciągów nie zawsze jest operacją zależną od kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-105">But sorting or comparing strings is not always a culture-sensitive operation.</span></span> <span data-ttu-id="56339-106">Na przykład ciągi, które są używane wewnętrznie przez aplikację zwykle, powinny być obsługiwane identycznie we wszystkich kulturach.</span><span class="sxs-lookup"><span data-stu-id="56339-106">For example, strings that are used internally by an application typically should be handled identically across all cultures.</span></span> <span data-ttu-id="56339-107">Gdy niezależne od kultury dane ciągów, takie jak tagi XML, Tagi HTML, nazwy użytkowników, ścieżki plików i nazwy obiektów systemowych, są interpretowane tak, jakby były wrażliwe na kulturę, kod aplikacji może podlegać rozdrobnym usterkom, złej wydajności i, w niektórych przypadkach, problemom z zabezpieczeniami.</span><span class="sxs-lookup"><span data-stu-id="56339-107">When culturally independent string data, such as XML tags, HTML tags, user names, file paths, and the names of system objects, are interpreted as if they were culture-sensitive, application code can be subject to subtle bugs, poor performance, and, in some cases, security issues.</span></span>

<span data-ttu-id="56339-108">Ten artykuł analizuje metody sortowania, porównywania i wielkości liter w programie .NET, przedstawia zalecenia dotyczące wybierania odpowiedniej metody obsługi ciągów i zawiera dodatkowe informacje na temat metod obsługi ciągów.</span><span class="sxs-lookup"><span data-stu-id="56339-108">This article examines the string sorting, comparison, and casing methods in .NET, presents recommendations for selecting an appropriate string-handling method, and provides additional information about string-handling methods.</span></span>

## <a name="recommendations-for-string-usage"></a><span data-ttu-id="56339-109">Zalecenia dotyczące użycia ciągów</span><span class="sxs-lookup"><span data-stu-id="56339-109">Recommendations for string usage</span></span>

<span data-ttu-id="56339-110">Podczas programowania przy użyciu platformy .NET należy przestrzegać następujących prostych zaleceń podczas porównywania ciągów:</span><span class="sxs-lookup"><span data-stu-id="56339-110">When you develop with .NET, follow these simple recommendations when you compare strings:</span></span>

- <span data-ttu-id="56339-111">Używaj przeciążeń, które jawnie określają reguły porównywania ciągów dla operacji na ciągach.</span><span class="sxs-lookup"><span data-stu-id="56339-111">Use overloads that explicitly specify the string comparison rules for string operations.</span></span> <span data-ttu-id="56339-112">Zwykle wymaga to wywołania przeciążenia metody z parametrem typu <xref:System.StringComparison> .</span><span class="sxs-lookup"><span data-stu-id="56339-112">Typically, this involves calling a method overload that has a parameter of type <xref:System.StringComparison>.</span></span>
- <span data-ttu-id="56339-113">Użyj <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> lub <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> do porównań jako bezpiecznie domyślnego dla dopasowania ciągu niezależny od kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-113">Use <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> or <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> for comparisons as your safe default for culture-agnostic string matching.</span></span>
- <span data-ttu-id="56339-114">Używaj porównań z <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> lub <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> w celu uzyskania lepszej wydajności.</span><span class="sxs-lookup"><span data-stu-id="56339-114">Use comparisons with <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> or <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> for better performance.</span></span>
- <span data-ttu-id="56339-115">Użyj operacji na ciągach, które są oparte na <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType> momencie wyświetlania danych wyjściowych dla użytkownika.</span><span class="sxs-lookup"><span data-stu-id="56339-115">Use string operations that are based on <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType> when you display output to the user.</span></span>
- <span data-ttu-id="56339-116">Używaj niejęzykowych <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> lub <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> wartościowych zamiast operacji na ciągach w zależności od <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> tego, kiedy porównanie jest istotne dla języka (na przykład).</span><span class="sxs-lookup"><span data-stu-id="56339-116">Use the non-linguistic <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> or <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> values instead of string operations based on <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> when the comparison is linguistically irrelevant (symbolic, for example).</span></span>
- <span data-ttu-id="56339-117">Użyj <xref:System.String.ToUpperInvariant%2A?displayProperty=nameWithType> metody zamiast <xref:System.String.ToLowerInvariant%2A?displayProperty=nameWithType> metody podczas normalizacji ciągów do porównania.</span><span class="sxs-lookup"><span data-stu-id="56339-117">Use the <xref:System.String.ToUpperInvariant%2A?displayProperty=nameWithType> method instead of the <xref:System.String.ToLowerInvariant%2A?displayProperty=nameWithType> method when you normalize strings for comparison.</span></span>
- <span data-ttu-id="56339-118">Użyj przeciążenia <xref:System.String.Equals%2A?displayProperty=nameWithType> metody, aby sprawdzić, czy dwa ciągi są równe.</span><span class="sxs-lookup"><span data-stu-id="56339-118">Use an overload of the <xref:System.String.Equals%2A?displayProperty=nameWithType> method to test whether two strings are equal.</span></span>
- <span data-ttu-id="56339-119">Użyj <xref:System.String.Compare%2A?displayProperty=nameWithType> metod i <xref:System.String.CompareTo%2A?displayProperty=nameWithType> , aby sortować ciągi, a nie sprawdzaj równości.</span><span class="sxs-lookup"><span data-stu-id="56339-119">Use the <xref:System.String.Compare%2A?displayProperty=nameWithType> and <xref:System.String.CompareTo%2A?displayProperty=nameWithType> methods to sort strings, not to check for equality.</span></span>
- <span data-ttu-id="56339-120">Użyj formatowania z uwzględnieniem kultury, aby wyświetlić dane niebędące ciągami, takie jak liczby i daty, w interfejsie użytkownika.</span><span class="sxs-lookup"><span data-stu-id="56339-120">Use culture-sensitive formatting to display non-string data, such as numbers and dates, in a user interface.</span></span> <span data-ttu-id="56339-121">Używaj formatowania z [kulturą niezmienną](xref:System.Globalization.CultureInfo.InvariantCulture) , aby utrwalać dane niebędące ciągami w postaci ciągów.</span><span class="sxs-lookup"><span data-stu-id="56339-121">Use formatting with the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture) to persist non-string data in string form.</span></span>

<span data-ttu-id="56339-122">Podczas porównywania ciągów należy unikać następujących praktyk:</span><span class="sxs-lookup"><span data-stu-id="56339-122">Avoid the following practices when you compare strings:</span></span>

- <span data-ttu-id="56339-123">Nie należy używać przeciążeń, które nie jawnie lub niejawnie określają reguły porównywania ciągów dla operacji na ciągach.</span><span class="sxs-lookup"><span data-stu-id="56339-123">Do not use overloads that do not explicitly or implicitly specify the string comparison rules for string operations.</span></span>
- <span data-ttu-id="56339-124">Nie używaj w większości przypadków operacji na ciągach <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="56339-124">Do not use string operations based on <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> in most cases.</span></span> <span data-ttu-id="56339-125">Jednym z kilku wyjątków jest to, że w przypadku utrwalania w sposób istotny, ale kulturalnie niezależny od dane.</span><span class="sxs-lookup"><span data-stu-id="56339-125">One of the few exceptions is when you are persisting linguistically meaningful but culturally agnostic data.</span></span>
- <span data-ttu-id="56339-126">Nie należy używać przeciążenia <xref:System.String.Compare%2A?displayProperty=nameWithType> <xref:System.String.CompareTo%2A> metody lub i testu dla zwracanej wartości zero, aby określić, czy dwa ciągi są równe.</span><span class="sxs-lookup"><span data-stu-id="56339-126">Do not use an overload of the <xref:System.String.Compare%2A?displayProperty=nameWithType> or <xref:System.String.CompareTo%2A> method and test for a return value of zero to determine whether two strings are equal.</span></span>

## <a name="specifying-string-comparisons-explicitly"></a><span data-ttu-id="56339-127">Jawne określanie porównywania ciągów</span><span class="sxs-lookup"><span data-stu-id="56339-127">Specifying string comparisons explicitly</span></span>

<span data-ttu-id="56339-128">Większość metod manipulowania ciągami w .NET jest przeciążona.</span><span class="sxs-lookup"><span data-stu-id="56339-128">Most of the string manipulation methods in .NET are overloaded.</span></span> <span data-ttu-id="56339-129">Zazwyczaj co najmniej jedno Przeciążenie przyjmuje ustawienia domyślne, natomiast inne nie akceptują żadnych ustawień domyślnych, a zamiast tego definiują precyzyjne metody porównywania ciągów lub manipulowania nimi.</span><span class="sxs-lookup"><span data-stu-id="56339-129">Typically, one or more overloads accept default settings, whereas others accept no defaults and instead define the precise way in which strings are to be compared or manipulated.</span></span> <span data-ttu-id="56339-130">Większość metod, które nie bazują na wartościach domyślnych, zawiera parametr typu <xref:System.StringComparison> , który jest wyliczeniem, które jawnie określa reguły dla porównania ciągów przez kulturę i wielkość liter.</span><span class="sxs-lookup"><span data-stu-id="56339-130">Most of the methods that do not rely on defaults include a parameter of type <xref:System.StringComparison>, which is an enumeration that explicitly specifies rules for string comparison by culture and case.</span></span> <span data-ttu-id="56339-131">W poniższej tabeli opisano <xref:System.StringComparison> elementy członkowskie wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="56339-131">The following table describes the <xref:System.StringComparison> enumeration members.</span></span>

|<span data-ttu-id="56339-132">StringComparison element członkowski</span><span class="sxs-lookup"><span data-stu-id="56339-132">StringComparison member</span></span>|<span data-ttu-id="56339-133">Opis</span><span class="sxs-lookup"><span data-stu-id="56339-133">Description</span></span>|
|-----------------------------|-----------------|
|<xref:System.StringComparison.CurrentCulture>|<span data-ttu-id="56339-134">Wykonuje porównanie z rozróżnianiem wielkości liter przy użyciu bieżącej kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-134">Performs a case-sensitive comparison using the current culture.</span></span>|
|<xref:System.StringComparison.CurrentCultureIgnoreCase>|<span data-ttu-id="56339-135">Wykonuje porównanie bez uwzględniania wielkości liter przy użyciu bieżącej kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-135">Performs a case-insensitive comparison using the current culture.</span></span>|
|<xref:System.StringComparison.InvariantCulture>|<span data-ttu-id="56339-136">Wykonuje porównanie z rozróżnianiem wielkości liter przy użyciu niezmiennej kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-136">Performs a case-sensitive comparison using the invariant culture.</span></span>|
|<xref:System.StringComparison.InvariantCultureIgnoreCase>|<span data-ttu-id="56339-137">Wykonuje porównanie bez uwzględniania wielkości liter przy użyciu niezmiennej kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-137">Performs a case-insensitive comparison using the invariant culture.</span></span>|
|<xref:System.StringComparison.Ordinal>|<span data-ttu-id="56339-138">Wykonuje porównanie porządkowe.</span><span class="sxs-lookup"><span data-stu-id="56339-138">Performs an ordinal comparison.</span></span>|
|<xref:System.StringComparison.OrdinalIgnoreCase>|<span data-ttu-id="56339-139">Wykonuje porównanie porządkowe bez uwzględniania wielkości liter.</span><span class="sxs-lookup"><span data-stu-id="56339-139">Performs a case-insensitive ordinal comparison.</span></span>|

<span data-ttu-id="56339-140">Na przykład <xref:System.String.IndexOf%2A> Metoda, która zwraca indeks podciągu w <xref:System.String> obiekcie, który pasuje do znaku lub ciągu, ma dziewięć przeciążeń:</span><span class="sxs-lookup"><span data-stu-id="56339-140">For example, the <xref:System.String.IndexOf%2A> method, which returns the index of a substring in a <xref:System.String> object that matches either a character or a string, has nine overloads:</span></span>

- <span data-ttu-id="56339-141"><xref:System.String.IndexOf%28System.Char%29>, <xref:System.String.IndexOf%28System.Char%2CSystem.Int32%29> , i <xref:System.String.IndexOf%28System.Char%2CSystem.Int32%2CSystem.Int32%29> , która domyślnie wykonuje numer porządkowy (bez uwzględniania wielkości liter i kulturowo), wyszukiwanie znaku w ciągu.</span><span class="sxs-lookup"><span data-stu-id="56339-141"><xref:System.String.IndexOf%28System.Char%29>, <xref:System.String.IndexOf%28System.Char%2CSystem.Int32%29>, and <xref:System.String.IndexOf%28System.Char%2CSystem.Int32%2CSystem.Int32%29>, which by default perform an ordinal (case-sensitive and culture-insensitive) search for a character in the string.</span></span>
- <span data-ttu-id="56339-142"><xref:System.String.IndexOf%28System.String%29>, <xref:System.String.IndexOf%28System.String%2CSystem.Int32%29> , i <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.Int32%29> , które domyślnie wykonują wyszukiwanie podciągów z uwzględnieniem wielkości liter i z uwzględnieniem ustawień kulturowych w ciągu.</span><span class="sxs-lookup"><span data-stu-id="56339-142"><xref:System.String.IndexOf%28System.String%29>, <xref:System.String.IndexOf%28System.String%2CSystem.Int32%29>, and <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.Int32%29>, which by default perform a case-sensitive and culture-sensitive search for a substring in the string.</span></span>
- <span data-ttu-id="56339-143"><xref:System.String.IndexOf%28System.String%2CSystem.StringComparison%29>, <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.StringComparison%29> , i <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.Int32%2CSystem.StringComparison%29> , które zawierają parametr typu <xref:System.StringComparison> , który umożliwia określenie formy porównania.</span><span class="sxs-lookup"><span data-stu-id="56339-143"><xref:System.String.IndexOf%28System.String%2CSystem.StringComparison%29>, <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.StringComparison%29>, and <xref:System.String.IndexOf%28System.String%2CSystem.Int32%2CSystem.Int32%2CSystem.StringComparison%29>, which include a parameter of type <xref:System.StringComparison> that allows the form of the comparison to be specified.</span></span>

<span data-ttu-id="56339-144">Zalecamy wybranie przeciążenia, które nie używa wartości domyślnych, z następujących powodów:</span><span class="sxs-lookup"><span data-stu-id="56339-144">We recommend that you select an overload that does not use default values, for the following reasons:</span></span>

- <span data-ttu-id="56339-145">Niektóre przeciążenia z domyślnymi parametrami (te, które wyszukują <xref:System.Char> w wystąpieniu ciągu) wykonują porównanie porządkowe, natomiast inne (te, które wyszukują ciąg w wystąpieniu ciągu) są zależne od kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-145">Some overloads with default parameters (those that search for a <xref:System.Char> in the string instance) perform an ordinal comparison, whereas others (those that search for a string in the string instance) are culture-sensitive.</span></span> <span data-ttu-id="56339-146">Trudno jest pamiętać, która metoda używa tej wartości domyślnej i łatwej do odróżnienia przeciążenia.</span><span class="sxs-lookup"><span data-stu-id="56339-146">It is difficult to remember which method uses which default value, and easy to confuse the overloads.</span></span>
- <span data-ttu-id="56339-147">Zamiar kodu, który opiera się na wartościach domyślnych dla wywołań metod, nie jest jasne.</span><span class="sxs-lookup"><span data-stu-id="56339-147">The intent of the code that relies on default values for method calls is not clear.</span></span> <span data-ttu-id="56339-148">W poniższym przykładzie, który opiera się na wartościach domyślnych, trudno jest wiedzieć, czy deweloper rzeczywiście zamierzy numer porządkowy, czy też jest porównywany z dwoma ciągami, czy też różnica wielkości liter między `protocol` i "http" może spowodować zwrócenie testu równości `false` .</span><span class="sxs-lookup"><span data-stu-id="56339-148">In the following example, which relies on defaults, it is difficult to know whether the developer actually intended an ordinal or a linguistic comparison of two strings, or whether a case difference between `protocol` and "http" might cause the test for equality to return `false`.</span></span>

     [!code-csharp[Conceptual.Strings.BestPractices#1](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/explicitargs1.cs#1)]
     [!code-vb[Conceptual.Strings.BestPractices#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/explicitargs1.vb#1)]

<span data-ttu-id="56339-149">Ogólnie rzecz biorąc zalecamy wywołanie metody, która nie polega na wartościach domyślnych, ponieważ sprawia, że zamiar kodu jest niejednoznaczny.</span><span class="sxs-lookup"><span data-stu-id="56339-149">In general, we recommend that you call a method that does not rely on defaults, because it makes the intent of the code unambiguous.</span></span> <span data-ttu-id="56339-150">Dzięki temu kod staje się bardziej czytelny i łatwiejszy w debugowaniu i obsłudze.</span><span class="sxs-lookup"><span data-stu-id="56339-150">This, in turn, makes the code more readable and easier to debug and maintain.</span></span> <span data-ttu-id="56339-151">Poniższy przykład dotyczy odpowiedzi na pytania dotyczące poprzedniego przykładu.</span><span class="sxs-lookup"><span data-stu-id="56339-151">The following example addresses the questions raised about the previous example.</span></span> <span data-ttu-id="56339-152">Sprawia, że jest ono jasne, że jest używane porównanie porządkowe oraz że różnice w przypadku są ignorowane.</span><span class="sxs-lookup"><span data-stu-id="56339-152">It makes it clear that ordinal comparison is used and that differences in case are ignored.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#2](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/explicitargs1.cs#2)]
[!code-vb[Conceptual.Strings.BestPractices#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/explicitargs1.vb#2)]

## <a name="the-details-of-string-comparison"></a><span data-ttu-id="56339-153">Szczegóły porównania ciągów</span><span class="sxs-lookup"><span data-stu-id="56339-153">The details of string comparison</span></span>

<span data-ttu-id="56339-154">Porównanie ciągów jest sercem wielu operacji związanych z ciągami, szczególnie sortowania i testowania pod kątem równości.</span><span class="sxs-lookup"><span data-stu-id="56339-154">String comparison is the heart of many string-related operations, particularly sorting and testing for equality.</span></span> <span data-ttu-id="56339-155">Ciągi są sortowane w określonej kolejności: Jeśli "my" pojawia się przed "String" na posortowanej liście ciągów, "my" musi być porównane lub równe "String".</span><span class="sxs-lookup"><span data-stu-id="56339-155">Strings sort in a determined order: If "my" appears before "string" in a sorted list of strings, "my" must compare less than or equal to "string".</span></span> <span data-ttu-id="56339-156">Ponadto porównanie niejawnie definiuje równość.</span><span class="sxs-lookup"><span data-stu-id="56339-156">Additionally, comparison implicitly defines equality.</span></span> <span data-ttu-id="56339-157">Operacja porównywania zwraca wartość zero dla ciągów, które uzna za równe.</span><span class="sxs-lookup"><span data-stu-id="56339-157">The comparison operation returns zero for strings it deems equal.</span></span> <span data-ttu-id="56339-158">Dobrą interpretacją jest to, że żaden ciąg nie jest mniejszy od drugiego.</span><span class="sxs-lookup"><span data-stu-id="56339-158">A good interpretation is that neither string is less than the other.</span></span> <span data-ttu-id="56339-159">Większość znaczących operacji obejmujących ciągi zawierają jedną lub obie te procedury: porównanie z innym ciągiem i wykonywanie dobrze zdefiniowanej operacji sortowania.</span><span class="sxs-lookup"><span data-stu-id="56339-159">Most meaningful operations involving strings include one or both of these procedures: comparing with another string, and executing a well-defined sort operation.</span></span>

> [!NOTE]
> <span data-ttu-id="56339-160">Można pobrać [tabele wagi sortowania](https://www.microsoft.com/download/details.aspx?id=10921), zestaw plików tekstowych, które zawierają informacje o wagach znaków używanych w operacjach sortowania i porównywania dla systemów operacyjnych Windows, a także [domyślną tabelę elementów sortowania Unicode](https://www.unicode.org/Public/UCA/latest/allkeys.txt), najnowszą wersję tabeli Sortuj wagi dla systemu Linux i macOS.</span><span class="sxs-lookup"><span data-stu-id="56339-160">You can download the [Sorting Weight Tables](https://www.microsoft.com/download/details.aspx?id=10921), a set of text files that contain information on the character weights used in sorting and comparison operations for Windows operating systems, and the [Default Unicode Collation Element Table](https://www.unicode.org/Public/UCA/latest/allkeys.txt), the latest version of the sort weight table for Linux and macOS.</span></span> <span data-ttu-id="56339-161">Określona wersja tabeli posortowanych wag w systemie Linux i macOS zależy od wersji [międzynarodowych składników dla bibliotek Unicode](http://site.icu-project.org/) zainstalowanych w systemie.</span><span class="sxs-lookup"><span data-stu-id="56339-161">The specific version of the sort weight table on Linux and macOS depends on the version of the [International Components for Unicode](http://site.icu-project.org/) libraries installed on the system.</span></span> <span data-ttu-id="56339-162">Aby uzyskać informacje na temat wersji ICU i wersji standardu Unicode, które implementują, zobacz [pobieranie ICU](http://site.icu-project.org/download).</span><span class="sxs-lookup"><span data-stu-id="56339-162">For information on ICU versions and the Unicode versions that they implement, see [Downloading ICU](http://site.icu-project.org/download).</span></span>

<span data-ttu-id="56339-163">Jednak Ocena dwóch ciągów dla równości lub kolejności sortowania nie daje pojedynczego prawidłowego wyniku; wyniki są zależne od kryteriów używanych do porównywania ciągów.</span><span class="sxs-lookup"><span data-stu-id="56339-163">However, evaluating two strings for equality or sort order does not yield a single, correct result; the outcome depends on the criteria used to compare the strings.</span></span> <span data-ttu-id="56339-164">W szczególności porównania ciągów, które są numerami porządkowymi lub które są oparte na konwencjach wielkości liter i sortowania bieżącej kultury lub [niezmiennej kultury](xref:System.Globalization.CultureInfo.InvariantCulture) (niezależny od kultury opartej na języku angielskim) mogą generować różne wyniki.</span><span class="sxs-lookup"><span data-stu-id="56339-164">In particular, string comparisons that are ordinal or that are based on the casing and sorting conventions of the current culture or the [invariant culture](xref:System.Globalization.CultureInfo.InvariantCulture) (a locale-agnostic culture based on the English language) may produce different results.</span></span>

<span data-ttu-id="56339-165">Ponadto porównania ciągów przy użyciu różnych wersji programu .NET lub programu .NET w różnych systemach operacyjnych lub wersjach systemu operacyjnego mogą zwracać różne wyniki.</span><span class="sxs-lookup"><span data-stu-id="56339-165">In addition, string comparisons using different versions of .NET or using .NET on different operating systems or operating system versions may return different results.</span></span> <span data-ttu-id="56339-166">Aby uzyskać więcej informacji, zobacz [ciągi i standard Unicode](xref:System.String#Unicode).</span><span class="sxs-lookup"><span data-stu-id="56339-166">For more information, see [Strings and the Unicode Standard](xref:System.String#Unicode).</span></span>

### <a name="string-comparisons-that-use-the-current-culture"></a><span data-ttu-id="56339-167">Porównania ciągów, które używają bieżącej kultury</span><span class="sxs-lookup"><span data-stu-id="56339-167">String comparisons that use the current culture</span></span>

<span data-ttu-id="56339-168">Jedno kryterium obejmuje stosowanie Konwencji bieżącej kultury podczas porównywania ciągów.</span><span class="sxs-lookup"><span data-stu-id="56339-168">One criterion involves using the conventions of the current culture when comparing strings.</span></span> <span data-ttu-id="56339-169">Porównania, które są oparte na bieżącej kulturze, wykorzystują bieżącą kulturę lub ustawienia regionalne wątku.</span><span class="sxs-lookup"><span data-stu-id="56339-169">Comparisons that are based on the current culture use the thread's current culture or locale.</span></span> <span data-ttu-id="56339-170">Jeśli kultura nie jest ustawiona przez użytkownika, domyślnie jest to ustawienie w oknie **Opcje regionalne** w panelu sterowania.</span><span class="sxs-lookup"><span data-stu-id="56339-170">If the culture is not set by the user, it defaults to the setting in the **Regional Options** window in Control Panel.</span></span> <span data-ttu-id="56339-171">Należy zawsze używać porównań, które są oparte na bieżącej kulturze, gdy dane są istotne dla kultury, a kiedy odzwierciedlają interakcję z użytkownikiem uwzględniającą kulturę.</span><span class="sxs-lookup"><span data-stu-id="56339-171">You should always use comparisons that are based on the current culture when data is linguistically relevant, and when it reflects culture-sensitive user interaction.</span></span>

<span data-ttu-id="56339-172">Jednak porównanie i wielkość liter w programie .NET zmieniają się po zmianie kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-172">However, comparison and casing behavior in .NET changes when the culture changes.</span></span> <span data-ttu-id="56339-173">Dzieje się tak, gdy aplikacja jest wykonywana na komputerze z inną kulturą niż komputer, na którym aplikacja została opracowana, lub gdy wątek wykonawczy zmienia jego kulturę.</span><span class="sxs-lookup"><span data-stu-id="56339-173">This happens when an application executes on a computer that has a different culture than the computer on which the application was developed, or when the executing thread changes its culture.</span></span> <span data-ttu-id="56339-174">To zachowanie jest zamierzone, ale pozostaje nieoczywista dla wielu deweloperów.</span><span class="sxs-lookup"><span data-stu-id="56339-174">This behavior is intentional, but it remains non-obvious to many developers.</span></span> <span data-ttu-id="56339-175">Poniższy przykład ilustruje różnice w kolejności sortowania między kulturą w Stanach Zjednoczonych ("en-US") i szwedzkim ("SV-SE").</span><span class="sxs-lookup"><span data-stu-id="56339-175">The following example illustrates differences in sort order between the U.S. English ("en-US") and Swedish ("sv-SE") cultures.</span></span> <span data-ttu-id="56339-176">Zwróć uwagę, że słowa "Ångström", "Windows" i "Visual Studio" pojawiają się w różnych pozycjach w posortowanych tablicach ciągów.</span><span class="sxs-lookup"><span data-stu-id="56339-176">Note that the words "ångström", "Windows", and "Visual Studio" appear in different positions in the sorted string arrays.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#3](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/comparison1.cs#3)]
[!code-vb[Conceptual.Strings.BestPractices#3](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/comparison1.vb#3)]

<span data-ttu-id="56339-177">Porównania bez uwzględniania wielkości liter, które używają bieżącej kultury, są takie same jak porównania uwzględniające kulturę, z tą różnicą, że ignorowanie wielkości liter jako podyktowanych przez bieżącą kulturę wątku.</span><span class="sxs-lookup"><span data-stu-id="56339-177">Case-insensitive comparisons that use the current culture are the same as culture-sensitive comparisons, except that they ignore case as dictated by the thread's current culture.</span></span> <span data-ttu-id="56339-178">Takie zachowanie może być również w porządku sortowania.</span><span class="sxs-lookup"><span data-stu-id="56339-178">This behavior may manifest itself in sort orders as well.</span></span>

<span data-ttu-id="56339-179">Porównania, które używają bieżącej semantyki kultury, są domyślne dla następujących metod:</span><span class="sxs-lookup"><span data-stu-id="56339-179">Comparisons that use current culture semantics are the default for the following methods:</span></span>

- <span data-ttu-id="56339-180"><xref:System.String.Compare%2A?displayProperty=nameWithType> przeciążenia, które nie zawierają <xref:System.StringComparison> parametru.</span><span class="sxs-lookup"><span data-stu-id="56339-180"><xref:System.String.Compare%2A?displayProperty=nameWithType> overloads that do not include a <xref:System.StringComparison> parameter.</span></span>
- <span data-ttu-id="56339-181"><xref:System.String.CompareTo%2A?displayProperty=nameWithType> przeciążenia.</span><span class="sxs-lookup"><span data-stu-id="56339-181"><xref:System.String.CompareTo%2A?displayProperty=nameWithType> overloads.</span></span>
- <span data-ttu-id="56339-182">Metoda Domyślna <xref:System.String.StartsWith%28System.String%29?displayProperty=nameWithType> oraz <xref:System.String.StartsWith%28System.String%2CSystem.Boolean%2CSystem.Globalization.CultureInfo%29?displayProperty=nameWithType> Metoda z `null` <xref:System.Globalization.CultureInfo> parametrem.</span><span class="sxs-lookup"><span data-stu-id="56339-182">The default <xref:System.String.StartsWith%28System.String%29?displayProperty=nameWithType> method, and the <xref:System.String.StartsWith%28System.String%2CSystem.Boolean%2CSystem.Globalization.CultureInfo%29?displayProperty=nameWithType> method with a `null`<xref:System.Globalization.CultureInfo> parameter.</span></span>
- <span data-ttu-id="56339-183">Metoda Domyślna <xref:System.String.EndsWith%28System.String%29?displayProperty=nameWithType> oraz <xref:System.String.EndsWith%28System.String%2CSystem.Boolean%2CSystem.Globalization.CultureInfo%29?displayProperty=nameWithType> Metoda z `null` <xref:System.Globalization.CultureInfo> parametrem.</span><span class="sxs-lookup"><span data-stu-id="56339-183">The default <xref:System.String.EndsWith%28System.String%29?displayProperty=nameWithType> method, and the <xref:System.String.EndsWith%28System.String%2CSystem.Boolean%2CSystem.Globalization.CultureInfo%29?displayProperty=nameWithType> method with a `null`<xref:System.Globalization.CultureInfo> parameter.</span></span>
- <span data-ttu-id="56339-184"><xref:System.String.IndexOf%2A?displayProperty=nameWithType> przeciążenia, które akceptują <xref:System.String> jako parametr wyszukiwania i nie mają <xref:System.StringComparison> parametru.</span><span class="sxs-lookup"><span data-stu-id="56339-184"><xref:System.String.IndexOf%2A?displayProperty=nameWithType> overloads that accept a <xref:System.String> as a search parameter and that do not have a <xref:System.StringComparison> parameter.</span></span>
- <span data-ttu-id="56339-185"><xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> przeciążenia, które akceptują <xref:System.String> jako parametr wyszukiwania i nie mają <xref:System.StringComparison> parametru.</span><span class="sxs-lookup"><span data-stu-id="56339-185"><xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> overloads that accept a <xref:System.String> as a search parameter and that do not have a <xref:System.StringComparison> parameter.</span></span>

<span data-ttu-id="56339-186">W każdym przypadku zalecamy wywołanie przeciążenia, które ma <xref:System.StringComparison> parametr, aby przeznaczenie metody zostało wyczyszczone.</span><span class="sxs-lookup"><span data-stu-id="56339-186">In any case, we recommend that you call an overload that has a <xref:System.StringComparison> parameter to make the intent of the method call clear.</span></span>

<span data-ttu-id="56339-187">Subtelne i nietak rozdrobne usterki mogą naciągać się, gdy dane nielingwistyczne nie są interpretowane językowo lub gdy dane ciągów z określonej kultury są interpretowane przy użyciu konwencji innej kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-187">Subtle and not so subtle bugs can emerge when non-linguistic string data is interpreted linguistically, or when string data from a particular culture is interpreted using the conventions of another culture.</span></span> <span data-ttu-id="56339-188">Przykładem kanonicznym jest problem z tureckim I.</span><span class="sxs-lookup"><span data-stu-id="56339-188">The canonical example is the Turkish-I problem.</span></span>

<span data-ttu-id="56339-189">W przypadku niemal wszystkich alfabetów łacińskich, w tym w języku angielskim (Stany Zjednoczone), znak "i" (\u0069) to mała wersja znaku "I" (\u0049).</span><span class="sxs-lookup"><span data-stu-id="56339-189">For nearly all Latin alphabets, including U.S. English, the character "i" (\u0069) is the lowercase version of the character "I" (\u0049).</span></span> <span data-ttu-id="56339-190">Ta reguła wielkości liter jest szybko zmieniana na wartość domyślną dla programowania osób w takiej kulturze.</span><span class="sxs-lookup"><span data-stu-id="56339-190">This casing rule quickly becomes the default for someone programming in such a culture.</span></span> <span data-ttu-id="56339-191">Alfabet turecki ("TR-TR") zawiera jednak znak "i" (\u0130), czyli "i" w Wielkiej wersji "i".</span><span class="sxs-lookup"><span data-stu-id="56339-191">However, the Turkish ("tr-TR") alphabet includes an "I with a dot" character "İ" (\u0130), which is the capital version of "i".</span></span> <span data-ttu-id="56339-192">Turecki zawiera również małe litery "i bez kropki", "ı" (\u0131), które zaczynają się od litery "I".</span><span class="sxs-lookup"><span data-stu-id="56339-192">Turkish also includes a lowercase "i without a dot" character, "ı" (\u0131), which capitalizes to "I".</span></span> <span data-ttu-id="56339-193">To zachowanie występuje również w kulturze azerski ("AZ").</span><span class="sxs-lookup"><span data-stu-id="56339-193">This behavior occurs in the Azerbaijani ("az") culture as well.</span></span>

<span data-ttu-id="56339-194">W związku z tym, założenia dotyczące Wielkiej litery "i" lub "lowercasing" nie są prawidłowe we wszystkich kulturach.</span><span class="sxs-lookup"><span data-stu-id="56339-194">Therefore, assumptions made about capitalizing "i" or lowercasing "I" are not valid among all cultures.</span></span> <span data-ttu-id="56339-195">Jeśli użyjesz domyślnych przeciążeń dla procedur porównywania ciągów, będą one podlegać wariancji między kulturami.</span><span class="sxs-lookup"><span data-stu-id="56339-195">If you use the default overloads for string comparison routines, they will be subject to variance between cultures.</span></span> <span data-ttu-id="56339-196">Jeśli dane, które mają być porównane, nie są językowe, użycie domyślnych przeciążeń może dawać niepożądane wyniki, ponieważ poniżej podjęto próbę wykonania porównania ciągów "File" i "FILE" bez uwzględniania wielkości liter.</span><span class="sxs-lookup"><span data-stu-id="56339-196">If the data to be compared is non-linguistic, using the default overloads can produce undesirable results, as the following attempt to perform a case-insensitive comparison of the strings "file" and "FILE" illustrates.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#11](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/turkish1.cs#11)]
[!code-vb[Conceptual.Strings.BestPractices#11](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/turkish1.vb#11)]

<span data-ttu-id="56339-197">To porównanie może spowodować znaczne problemy, jeśli kultura jest przypadkowo używana w ustawieniach zabezpieczeń, jak w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="56339-197">This comparison could cause significant problems if the culture is inadvertently used in security-sensitive settings, as in the following example.</span></span> <span data-ttu-id="56339-198">Wywołanie metody, takie jak `IsFileURI("file:")` zwraca `true` , jeśli bieżącą kulturą jest angielski (Stany Zjednoczone), ale `false` Jeśli bieżąca kultura to turecki.</span><span class="sxs-lookup"><span data-stu-id="56339-198">A method call such as `IsFileURI("file:")` returns `true` if the current culture is U.S. English, but `false` if the current culture is Turkish.</span></span> <span data-ttu-id="56339-199">W takim przypadku, w systemach tureckich, ktoś może obejść środki bezpieczeństwa, które blokują dostęp do identyfikatorów URI bez uwzględniania wielkości liter zaczynających się od "FILE:".</span><span class="sxs-lookup"><span data-stu-id="56339-199">Thus, on Turkish systems, someone could circumvent security measures that block access to case-insensitive URIs that begin with "FILE:".</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#12](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/turkish1.cs#12)]
[!code-vb[Conceptual.Strings.BestPractices#12](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/turkish1.vb#12)]

<span data-ttu-id="56339-200">W tym przypadku, ponieważ "plik:" ma być interpretowany jako niezależny od języka, kod powinien być zapisany, jak pokazano w następującym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="56339-200">In this case, because "file:" is meant to be interpreted as a non-linguistic, culture-insensitive identifier, the code should instead be written as shown in the following example:</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#13](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/turkish1.cs#13)]
[!code-vb[Conceptual.Strings.BestPractices#13](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/turkish1.vb#13)]

### <a name="ordinal-string-operations"></a><span data-ttu-id="56339-201">Operacje na ciągach porządkowych</span><span class="sxs-lookup"><span data-stu-id="56339-201">Ordinal string operations</span></span>

<span data-ttu-id="56339-202">Określenie <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> wartości lub <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> w wywołaniu metody oznacza, że jest to porównanie w języku innym niż język, w którym funkcje języków naturalnych są ignorowane.</span><span class="sxs-lookup"><span data-stu-id="56339-202">Specifying the <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> or <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> value in a method call signifies a non-linguistic comparison in which the features of natural languages are ignored.</span></span> <span data-ttu-id="56339-203">Metody, które są wywoływane z tymi <xref:System.StringComparison> wartościami, podejmuje decyzje dotyczące operacji na ciągach prostych w przypadku porównywania bajtów zamiast wielkości liter lub tabel równoważności, które są sparametryzowane przez kulturę.</span><span class="sxs-lookup"><span data-stu-id="56339-203">Methods that are invoked with these <xref:System.StringComparison> values base string operation decisions on simple byte comparisons instead of casing or equivalence tables that are parameterized by culture.</span></span> <span data-ttu-id="56339-204">W większości przypadków takie podejście najlepiej pasuje do zamierzonej interpretacji ciągów podczas szybszego wykonywania kodu i bardziej niezawodnego.</span><span class="sxs-lookup"><span data-stu-id="56339-204">In most cases, this approach best fits the intended interpretation of strings while making code faster and more reliable.</span></span>

<span data-ttu-id="56339-205">Porównania porządkowe to porównania ciągów, w których każdy bajt każdego ciągu jest porównywany bez interpretacji językowej; na przykład "Windows" nie pasuje do "Windows".</span><span class="sxs-lookup"><span data-stu-id="56339-205">Ordinal comparisons are string comparisons in which each byte of each string is compared without linguistic interpretation; for example, "windows" does not match "Windows".</span></span> <span data-ttu-id="56339-206">Jest to zasadniczo wywołanie funkcji środowiska uruchomieniowego języka C `strcmp` .</span><span class="sxs-lookup"><span data-stu-id="56339-206">This is essentially a call to the C runtime `strcmp` function.</span></span> <span data-ttu-id="56339-207">Użyj tego porównania, gdy kontekst określa, że ciągi powinny być dokładnie dopasowane lub wymagające ostrożnej zgodności z zasadami.</span><span class="sxs-lookup"><span data-stu-id="56339-207">Use this comparison when the context dictates that strings should be matched exactly or demands conservative matching policy.</span></span> <span data-ttu-id="56339-208">Ponadto, porównanie porządkowe jest najszybszą operacją porównywania, ponieważ nie stosuje żadnych reguł lingwistycznych podczas określania wyniku.</span><span class="sxs-lookup"><span data-stu-id="56339-208">Additionally, ordinal comparison is the fastest comparison operation because it applies no linguistic rules when determining a result.</span></span>

<span data-ttu-id="56339-209">Ciągi w programie .NET mogą zawierać osadzone znaki o wartości null.</span><span class="sxs-lookup"><span data-stu-id="56339-209">Strings in .NET can contain embedded null characters.</span></span> <span data-ttu-id="56339-210">Jedną z najwyraźniejszych różnic między porównaniem porządkowym i kulturowym (w tym porównaniami korzystającymi z niezmiennej kultury) jest obsługa osadzonych znaków null w ciągu.</span><span class="sxs-lookup"><span data-stu-id="56339-210">One of the clearest differences between ordinal and culture-sensitive comparison (including comparisons that use the invariant culture) concerns the handling of embedded null characters in a string.</span></span> <span data-ttu-id="56339-211">Te znaki są ignorowane w przypadku używania <xref:System.String.Compare%2A?displayProperty=nameWithType> metod i <xref:System.String.Equals%2A?displayProperty=nameWithType> do wykonywania porównań z uwzględnieniem kultury (w tym porównań, które używają niezmiennej kultury).</span><span class="sxs-lookup"><span data-stu-id="56339-211">These characters are ignored when you use the <xref:System.String.Compare%2A?displayProperty=nameWithType> and <xref:System.String.Equals%2A?displayProperty=nameWithType> methods to perform culture-sensitive comparisons (including comparisons that use the invariant culture).</span></span> <span data-ttu-id="56339-212">W związku z tym w porównaniach wrażliwych na kulturę ciągi zawierające osadzone znaki null mogą być traktowane jako równe ciągom, które nie.</span><span class="sxs-lookup"><span data-stu-id="56339-212">As a result, in culture-sensitive comparisons, strings that contain embedded null characters can be considered equal to strings that do not.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="56339-213">Chociaż metody porównywania ciągów zignorują osadzone znaki null, metody wyszukiwania ciągów, takie jak,,, <xref:System.String.Contains%2A?displayProperty=nameWithType> <xref:System.String.EndsWith%2A?displayProperty=nameWithType> <xref:System.String.IndexOf%2A?displayProperty=nameWithType> <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> , i nie <xref:System.String.StartsWith%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="56339-213">Although string comparison methods disregard embedded null characters, string search methods such as <xref:System.String.Contains%2A?displayProperty=nameWithType>, <xref:System.String.EndsWith%2A?displayProperty=nameWithType>, <xref:System.String.IndexOf%2A?displayProperty=nameWithType>, <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType>, and <xref:System.String.StartsWith%2A?displayProperty=nameWithType> do not.</span></span>

<span data-ttu-id="56339-214">Poniższy przykład wykonuje porównanie z uwzględnieniem kultury ciągu "AA" z podobnym ciągiem, który zawiera kilka osadzonych znaków o wartości null między "A" i "a" i pokazuje, jak dwa ciągi są uważane za równe:</span><span class="sxs-lookup"><span data-stu-id="56339-214">The following example performs a culture-sensitive comparison of the string "Aa" with a similar string that contains several embedded null characters between "A" and "a", and shows how the two strings are considered equal:</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#19](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/embeddednulls1.cs#19)]
 [!code-vb[Conceptual.Strings.BestPractices#19](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/embeddednulls1.vb#19)]

<span data-ttu-id="56339-215">Jednak ciągi nie są uważane za równe w przypadku używania porównania porządkowego, jak pokazano na poniższym przykładzie:</span><span class="sxs-lookup"><span data-stu-id="56339-215">However, the strings are not considered equal when you use ordinal comparison, as the following example shows:</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#20](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/embeddednulls2.cs#20)]
[!code-vb[Conceptual.Strings.BestPractices#20](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/embeddednulls2.vb#20)]

<span data-ttu-id="56339-216">Porównywanie porządkowe bez uwzględniania wielkości liter jest kolejnym najbardziej rygorystycznym podejściem.</span><span class="sxs-lookup"><span data-stu-id="56339-216">Case-insensitive ordinal comparisons are the next most conservative approach.</span></span> <span data-ttu-id="56339-217">Te porównania ignorują większość wielkości liter; na przykład "Windows" dopasowuje "Windows".</span><span class="sxs-lookup"><span data-stu-id="56339-217">These comparisons ignore most casing; for example, "windows" matches "Windows".</span></span> <span data-ttu-id="56339-218">W przypadku znaków ASCII te zasady są równoważne z <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> , z tą różnicą, że ignoruje zwykłe wielkości liter ASCII.</span><span class="sxs-lookup"><span data-stu-id="56339-218">When dealing with ASCII characters, this policy is equivalent to <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>, except that it ignores the usual ASCII casing.</span></span> <span data-ttu-id="56339-219">W związku z tym każdy znak w [A, Z] (\u0041-\u005A) pasuje do odpowiadającego mu znaku w [a, z] (\u0061-\007A).</span><span class="sxs-lookup"><span data-stu-id="56339-219">Therefore, any character in [A, Z] (\u0041-\u005A) matches the corresponding character in [a,z] (\u0061-\007A).</span></span> <span data-ttu-id="56339-220">Wielkość liter poza zakresem ASCII używa tabel niezmiennej kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-220">Casing outside the ASCII range uses the invariant culture's tables.</span></span> <span data-ttu-id="56339-221">W związku z tym następujące porównanie:</span><span class="sxs-lookup"><span data-stu-id="56339-221">Therefore, the following comparison:</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#4](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/comparison2.cs#4)]
[!code-vb[Conceptual.Strings.BestPractices#4](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/comparison2.vb#4)]

<span data-ttu-id="56339-222">jest odpowiednikiem (ale szybszym niż) tego porównania:</span><span class="sxs-lookup"><span data-stu-id="56339-222">is equivalent to (but faster than) this comparison:</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#5](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/comparison2.cs#5)]
[!code-vb[Conceptual.Strings.BestPractices#5](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/comparison2.vb#5)]

<span data-ttu-id="56339-223">Te porównania są nadal bardzo szybkie.</span><span class="sxs-lookup"><span data-stu-id="56339-223">These comparisons are still very fast.</span></span>

<span data-ttu-id="56339-224">Zarówno <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> , jak i <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> używają wartości binarnych, są one najlepiej dopasowane do dopasowywania.</span><span class="sxs-lookup"><span data-stu-id="56339-224">Both <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> and <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> use the binary values directly, and are best suited for matching.</span></span> <span data-ttu-id="56339-225">Gdy nie masz pewności co do ustawień porównania, użyj jednej z tych dwóch wartości.</span><span class="sxs-lookup"><span data-stu-id="56339-225">When you are not sure about your comparison settings, use one of these two values.</span></span> <span data-ttu-id="56339-226">Jednak ze względu na to, że wykonują porównywanie bajt po bajcie, nie sortuje według języka porządku sortowania (na przykład słownika angielskiego), ale według binarnej kolejności sortowania.</span><span class="sxs-lookup"><span data-stu-id="56339-226">However, because they perform a byte-by-byte comparison, they do not sort by a linguistic sort order (like an English dictionary) but by a binary sort order.</span></span> <span data-ttu-id="56339-227">Wyniki mogą wyglądać nieparzystie w większości kontekstów, jeśli są wyświetlane użytkownikom.</span><span class="sxs-lookup"><span data-stu-id="56339-227">The results may look odd in most contexts if displayed to users.</span></span>

<span data-ttu-id="56339-228">Semantyka porządkowa jest wartością domyślną dla <xref:System.String.Equals%2A?displayProperty=nameWithType> przeciążeń, które nie zawierają <xref:System.StringComparison> argumentu (łącznie z operatorem równości).</span><span class="sxs-lookup"><span data-stu-id="56339-228">Ordinal semantics are the default for <xref:System.String.Equals%2A?displayProperty=nameWithType> overloads that do not include a <xref:System.StringComparison> argument (including the equality operator).</span></span> <span data-ttu-id="56339-229">W każdym przypadku zalecamy wywołanie przeciążenia z <xref:System.StringComparison> parametrem.</span><span class="sxs-lookup"><span data-stu-id="56339-229">In any case, we recommend that you call an overload that has a <xref:System.StringComparison> parameter.</span></span>

### <a name="string-operations-that-use-the-invariant-culture"></a><span data-ttu-id="56339-230">Operacje na ciągach, które używają niezmiennej kultury</span><span class="sxs-lookup"><span data-stu-id="56339-230">String operations that use the invariant culture</span></span>

<span data-ttu-id="56339-231">Porównania z kulturą niezmienną używają <xref:System.Globalization.CultureInfo.CompareInfo%2A> Właściwości zwróconej przez właściwość statyczną <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="56339-231">Comparisons with the invariant culture use the <xref:System.Globalization.CultureInfo.CompareInfo%2A> property returned by the static <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="56339-232">Takie zachowanie jest takie samo w przypadku wszystkich systemów; tłumaczy wszelkie znaki spoza zakresu na to, co jest uważane za równoważne znaki niezmienne.</span><span class="sxs-lookup"><span data-stu-id="56339-232">This behavior is the same on all systems; it translates any characters outside its range into what it believes are equivalent invariant characters.</span></span> <span data-ttu-id="56339-233">Te zasady mogą być przydatne do obsługi jednego zestawu zachowań ciągów między kulturami, ale często zapewniają nieoczekiwane wyniki.</span><span class="sxs-lookup"><span data-stu-id="56339-233">This policy can be useful for maintaining one set of string behavior across cultures, but it often provides unexpected results.</span></span>

<span data-ttu-id="56339-234">Porównania bez uwzględniania wielkości liter z kulturą niezmienną należy używać <xref:System.Globalization.CultureInfo.CompareInfo%2A> właściwości statycznej zwróconej przez właściwość statyczną <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> dla informacji porównawczych.</span><span class="sxs-lookup"><span data-stu-id="56339-234">Case-insensitive comparisons with the invariant culture use the static <xref:System.Globalization.CultureInfo.CompareInfo%2A> property returned by the static <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property for comparison information as well.</span></span> <span data-ttu-id="56339-235">Wszelkie różnice wielkości liter między tymi przetłumaczonymi znakami są ignorowane.</span><span class="sxs-lookup"><span data-stu-id="56339-235">Any case differences among these translated characters are ignored.</span></span>

<span data-ttu-id="56339-236">Porównania, które używają <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> i <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> działają identycznie na ciągach ASCII.</span><span class="sxs-lookup"><span data-stu-id="56339-236">Comparisons that use <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> and <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> work identically on ASCII strings.</span></span> <span data-ttu-id="56339-237">Jednak program <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> podejmuje decyzje językowe, które mogą nie być odpowiednie dla ciągów, które muszą być interpretowane jako zestaw bajtów.</span><span class="sxs-lookup"><span data-stu-id="56339-237">However, <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> makes linguistic decisions that might not be appropriate for strings that have to be interpreted as a set of bytes.</span></span> <span data-ttu-id="56339-238">`CultureInfo.InvariantCulture.CompareInfo`Obiekt sprawia, że <xref:System.String.Compare%2A> Metoda interpretuje niektóre zestawy znaków jako równoważne.</span><span class="sxs-lookup"><span data-stu-id="56339-238">The `CultureInfo.InvariantCulture.CompareInfo` object makes the <xref:System.String.Compare%2A> method interpret certain sets of characters as equivalent.</span></span> <span data-ttu-id="56339-239">Na przykład następująca równoważność jest prawidłowa dla niezmiennej kultury:</span><span class="sxs-lookup"><span data-stu-id="56339-239">For example, the following equivalence is valid under the invariant culture:</span></span>

<span data-ttu-id="56339-240">InvariantCulture: a + ̊ = a</span><span class="sxs-lookup"><span data-stu-id="56339-240">InvariantCulture: a + ̊ = å</span></span>

<span data-ttu-id="56339-241">Mała litera "a" (\u0061), gdy jest obok znaku ŁĄCZĄCego powyżej znak "+" ̊ "(\u030a), jest interpretowana jako mała litera A z PIERŚCIENIem powyżej znaku" a "(\u00e5).</span><span class="sxs-lookup"><span data-stu-id="56339-241">The LATIN SMALL LETTER A character "a"  (\u0061), when it is next to the COMBINING RING ABOVE character "+ " ̊" (\u030a), is interpreted as the LATIN SMALL LETTER A WITH RING ABOVE character "å" (\u00e5).</span></span> <span data-ttu-id="56339-242">Jak pokazano na poniższym przykładzie, to zachowanie różni się od porównania liczb porządkowych.</span><span class="sxs-lookup"><span data-stu-id="56339-242">As the following example shows, this behavior differs from ordinal comparison.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#15](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/comparison3.cs#15)]
[!code-vb[Conceptual.Strings.BestPractices#15](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/comparison3.vb#15)]

<span data-ttu-id="56339-243">W przypadku interpretacji nazw plików, plików cookie lub innych elementów, w których może się pojawić kombinacja, taka jak "a", porównania porządkowe nadal zapewniają najbardziej przejrzyste i niedopasowane zachowanie.</span><span class="sxs-lookup"><span data-stu-id="56339-243">When interpreting file names, cookies, or anything else where a combination such as "å" can appear, ordinal comparisons still offer the most transparent and fitting behavior.</span></span>

<span data-ttu-id="56339-244">W przypadku niezmiennej kultura ma bardzo kilka właściwości, które ułatwiają porównywanie.</span><span class="sxs-lookup"><span data-stu-id="56339-244">On balance, the invariant culture has very few properties that make it useful for comparison.</span></span> <span data-ttu-id="56339-245">Jest to porównywane w sposób istotny, który uniemożliwia mu zagwarantowanie pełnego równoważności symbolicznej, ale nie jest to możliwe do wyświetlania w żadnej kulturze.</span><span class="sxs-lookup"><span data-stu-id="56339-245">It does comparison in a linguistically relevant manner, which prevents it from guaranteeing full symbolic equivalence, but it is not the choice for display in any culture.</span></span> <span data-ttu-id="56339-246">Jedną z kilku powodów użycia <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> do porównania jest utrwalanie uporządkowanych danych dla różnych kulturowo identycznych ekranów.</span><span class="sxs-lookup"><span data-stu-id="56339-246">One of the few reasons to use <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> for comparison is to persist ordered data for a cross-culturally identical display.</span></span> <span data-ttu-id="56339-247">Na przykład jeśli plik danych o dużym rozmiarze zawierający listę posortowanych identyfikatorów dla wyświetlania towarzyszy aplikacji, dodanie do tej listy będzie wymagało wstawienia z sortowaniem w stylu niezmiennym.</span><span class="sxs-lookup"><span data-stu-id="56339-247">For example, if a large data file that contains a list of sorted identifiers for display accompanies an application, adding to this list would require an insertion with invariant-style sorting.</span></span>

## <a name="choosing-a-stringcomparison-member-for-your-method-call"></a><span data-ttu-id="56339-248">Wybieranie elementu członkowskiego StringComparison dla wywołania metody</span><span class="sxs-lookup"><span data-stu-id="56339-248">Choosing a StringComparison member for your method call</span></span>

<span data-ttu-id="56339-249">Poniższa tabela zawiera opis mapowania z kontekstu ciągu semantycznego do <xref:System.StringComparison> elementu członkowskiego wyliczenia:</span><span class="sxs-lookup"><span data-stu-id="56339-249">The following table outlines the mapping from semantic string context to a <xref:System.StringComparison> enumeration member:</span></span>

|<span data-ttu-id="56339-250">Dane</span><span class="sxs-lookup"><span data-stu-id="56339-250">Data</span></span>|<span data-ttu-id="56339-251">Zachowanie</span><span class="sxs-lookup"><span data-stu-id="56339-251">Behavior</span></span>|<span data-ttu-id="56339-252">Odpowiadający system. StringComparison</span><span class="sxs-lookup"><span data-stu-id="56339-252">Corresponding System.StringComparison</span></span><br /><br /> <span data-ttu-id="56339-253">wartość</span><span class="sxs-lookup"><span data-stu-id="56339-253">value</span></span>|
|----------|--------------|-----------------------------------------------------|
|<span data-ttu-id="56339-254">Identyfikatory wewnętrzne z uwzględnieniem wielkości liter.</span><span class="sxs-lookup"><span data-stu-id="56339-254">Case-sensitive internal identifiers.</span></span><br /><br /> <span data-ttu-id="56339-255">Identyfikatory z uwzględnieniem wielkości liter w standardach, takich jak XML i HTTP.</span><span class="sxs-lookup"><span data-stu-id="56339-255">Case-sensitive identifiers in standards such as XML and HTTP.</span></span><br /><br /> <span data-ttu-id="56339-256">Ustawienia związane z zabezpieczeniami z uwzględnieniem wielkości liter.</span><span class="sxs-lookup"><span data-stu-id="56339-256">Case-sensitive security-related settings.</span></span>|<span data-ttu-id="56339-257">Identyfikator niebędący językiem, gdzie bajty są dokładnie zgodne.</span><span class="sxs-lookup"><span data-stu-id="56339-257">A non-linguistic identifier, where bytes match exactly.</span></span>|<xref:System.StringComparison.Ordinal>|
|<span data-ttu-id="56339-258">Identyfikatory wewnętrzne bez uwzględniania wielkości liter.</span><span class="sxs-lookup"><span data-stu-id="56339-258">Case-insensitive internal identifiers.</span></span><br /><br /> <span data-ttu-id="56339-259">Identyfikatory bez uwzględniania wielkości liter w standardach, takich jak XML i HTTP.</span><span class="sxs-lookup"><span data-stu-id="56339-259">Case-insensitive identifiers in standards such as XML and HTTP.</span></span><br /><br /> <span data-ttu-id="56339-260">Ścieżki plików.</span><span class="sxs-lookup"><span data-stu-id="56339-260">File paths.</span></span><br /><br /> <span data-ttu-id="56339-261">Klucze i wartości rejestru.</span><span class="sxs-lookup"><span data-stu-id="56339-261">Registry keys and values.</span></span><br /><br /> <span data-ttu-id="56339-262">Zmienne środowiskowe.</span><span class="sxs-lookup"><span data-stu-id="56339-262">Environment variables.</span></span><br /><br /> <span data-ttu-id="56339-263">Identyfikatory zasobów (na przykład nazwy uchwytów).</span><span class="sxs-lookup"><span data-stu-id="56339-263">Resource identifiers (for example, handle names).</span></span><br /><br /> <span data-ttu-id="56339-264">Ustawienia związane z zabezpieczeniami bez uwzględniania wielkości liter.</span><span class="sxs-lookup"><span data-stu-id="56339-264">Case-insensitive security-related settings.</span></span>|<span data-ttu-id="56339-265">Identyfikator niebędący językiem, gdzie przypadek jest nieistotny; szczególnie dane przechowywane w większości usług systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="56339-265">A non-linguistic identifier, where case is irrelevant; especially data stored in most Windows system services.</span></span>|<xref:System.StringComparison.OrdinalIgnoreCase>|
|<span data-ttu-id="56339-266">Pewne utrwalone, językowe dane.</span><span class="sxs-lookup"><span data-stu-id="56339-266">Some persisted, linguistically relevant data.</span></span><br /><br /> <span data-ttu-id="56339-267">Wyświetlanie danych lingwistycznych, które wymagają stałego porządku sortowania.</span><span class="sxs-lookup"><span data-stu-id="56339-267">Display of linguistic data that requires a fixed sort order.</span></span>|<span data-ttu-id="56339-268">Kulturowo niezależny od dane, które nadal są istotne dla języka.</span><span class="sxs-lookup"><span data-stu-id="56339-268">Culturally agnostic data that still is linguistically relevant.</span></span>|<xref:System.StringComparison.InvariantCulture><br /><br /> <span data-ttu-id="56339-269">-lub-</span><span class="sxs-lookup"><span data-stu-id="56339-269">-or-</span></span><br /><br /> <xref:System.StringComparison.InvariantCultureIgnoreCase>|
|<span data-ttu-id="56339-270">Dane wyświetlane użytkownikowi.</span><span class="sxs-lookup"><span data-stu-id="56339-270">Data displayed to the user.</span></span><br /><br /> <span data-ttu-id="56339-271">Większość danych wejściowych użytkownika.</span><span class="sxs-lookup"><span data-stu-id="56339-271">Most user input.</span></span>|<span data-ttu-id="56339-272">Dane wymagające lokalnego języka.</span><span class="sxs-lookup"><span data-stu-id="56339-272">Data that requires local linguistic customs.</span></span>|<xref:System.StringComparison.CurrentCulture><br /><br /> <span data-ttu-id="56339-273">-lub-</span><span class="sxs-lookup"><span data-stu-id="56339-273">-or-</span></span><br /><br /> <xref:System.StringComparison.CurrentCultureIgnoreCase>|

## <a name="common-string-comparison-methods-in-net"></a><span data-ttu-id="56339-274">Typowe metody porównywania ciągów w programie .NET</span><span class="sxs-lookup"><span data-stu-id="56339-274">Common string comparison methods in .NET</span></span>

<span data-ttu-id="56339-275">W poniższych sekcjach opisano metody, które są najczęściej używane do porównywania ciągów.</span><span class="sxs-lookup"><span data-stu-id="56339-275">The following sections describe the methods that are most commonly used for string comparison.</span></span>

### <a name="stringcompare"></a><span data-ttu-id="56339-276">Funkcja String.Compare</span><span class="sxs-lookup"><span data-stu-id="56339-276">String.Compare</span></span>

<span data-ttu-id="56339-277">Domyślna interpretacja: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="56339-277">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="56339-278">Jako że operacja najważniejsza do interpretacji ciągów, wszystkie wystąpienia tych wywołań metod powinny być badane w celu określenia, czy ciągi powinny być interpretowane zgodnie z bieżącą kulturą, czy też odwoływać się od kultury (symbolicznie).</span><span class="sxs-lookup"><span data-stu-id="56339-278">As the operation most central to string interpretation, all instances of these method calls should be examined to determine whether strings should be interpreted according to the current culture, or dissociated from the culture (symbolically).</span></span> <span data-ttu-id="56339-279">Zwykle jest to ostatni i <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> zamiast tego należy użyć porównania.</span><span class="sxs-lookup"><span data-stu-id="56339-279">Typically, it is the latter, and a <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> comparison should be used instead.</span></span>

<span data-ttu-id="56339-280"><xref:System.Globalization.CompareInfo?displayProperty=nameWithType>Klasa, która jest zwracana przez <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> Właściwość, również zawiera <xref:System.Globalization.CompareInfo.Compare%2A> metodę, która dostarcza wiele pasujących opcji (numer porządkowy, ignorowanie białego znaku, ignorowanie typu kana itd.) za pomocą <xref:System.Globalization.CompareOptions> wyliczenia flag.</span><span class="sxs-lookup"><span data-stu-id="56339-280">The <xref:System.Globalization.CompareInfo?displayProperty=nameWithType> class, which is returned by the <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> property, also includes a <xref:System.Globalization.CompareInfo.Compare%2A> method that provides a large number of matching options (ordinal, ignoring white space, ignoring kana type, and so on) by means of the <xref:System.Globalization.CompareOptions> flag enumeration.</span></span>

### <a name="stringcompareto"></a><span data-ttu-id="56339-281">Funkcja String.CompareTo</span><span class="sxs-lookup"><span data-stu-id="56339-281">String.CompareTo</span></span>

<span data-ttu-id="56339-282">Domyślna interpretacja: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="56339-282">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="56339-283">Ta metoda obecnie nie oferuje przeciążenia, które określa <xref:System.StringComparison> Typ.</span><span class="sxs-lookup"><span data-stu-id="56339-283">This method does not currently offer an overload that specifies a <xref:System.StringComparison> type.</span></span> <span data-ttu-id="56339-284">Zwykle jest możliwe przekonwertowanie tej metody na zalecaną <xref:System.String.Compare%28System.String%2CSystem.String%2CSystem.StringComparison%29?displayProperty=nameWithType> formę.</span><span class="sxs-lookup"><span data-stu-id="56339-284">It is usually possible to convert this method to the recommended <xref:System.String.Compare%28System.String%2CSystem.String%2CSystem.StringComparison%29?displayProperty=nameWithType> form.</span></span>

<span data-ttu-id="56339-285">Typy, które implementują <xref:System.IComparable> <xref:System.IComparable%601> interfejsy i implementują tę metodę.</span><span class="sxs-lookup"><span data-stu-id="56339-285">Types that implement the <xref:System.IComparable> and <xref:System.IComparable%601> interfaces implement this method.</span></span> <span data-ttu-id="56339-286">Ponieważ nie oferuje opcji <xref:System.StringComparison> parametru, implementacja typów często zezwala użytkownikowi na określenie <xref:System.StringComparer> w konstruktorze.</span><span class="sxs-lookup"><span data-stu-id="56339-286">Because it does not offer the option of a <xref:System.StringComparison> parameter, implementing types often let the user specify a <xref:System.StringComparer> in their constructor.</span></span> <span data-ttu-id="56339-287">W poniższym przykładzie zdefiniowano `FileName` klasę, której Konstruktor klasy zawiera <xref:System.StringComparer> parametr.</span><span class="sxs-lookup"><span data-stu-id="56339-287">The following example defines a `FileName` class whose class constructor includes a <xref:System.StringComparer> parameter.</span></span> <span data-ttu-id="56339-288">Ten <xref:System.StringComparer> obiekt jest następnie używany w `FileName.CompareTo` metodzie.</span><span class="sxs-lookup"><span data-stu-id="56339-288">This <xref:System.StringComparer> object is then used in the `FileName.CompareTo` method.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#6](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/api1.cs#6)]
[!code-vb[Conceptual.Strings.BestPractices#6](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/api1.vb#6)]

### <a name="stringequals"></a><span data-ttu-id="56339-289">Funkcja String.Equals</span><span class="sxs-lookup"><span data-stu-id="56339-289">String.Equals</span></span>

<span data-ttu-id="56339-290">Domyślna interpretacja: <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="56339-290">Default interpretation: <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="56339-291"><xref:System.String>Klasa umożliwia przetestowanie pod kątem równości przez wywołanie metody statycznej lub <xref:System.String.Equals%2A> przeciążenia lub użycie statycznego operatora równości.</span><span class="sxs-lookup"><span data-stu-id="56339-291">The <xref:System.String> class lets you test for equality by calling either the static or instance <xref:System.String.Equals%2A> method overloads, or by using the static equality operator.</span></span> <span data-ttu-id="56339-292">Przeciążenia i operator domyślnie używają porównania porządkowego.</span><span class="sxs-lookup"><span data-stu-id="56339-292">The overloads and operator use ordinal comparison by default.</span></span> <span data-ttu-id="56339-293">Mimo to nadal zalecamy wywołanie przeciążenia, które jawnie określa <xref:System.StringComparison> Typ nawet w przypadku, gdy chcesz wykonać porównanie porządkowe; ułatwia to wyszukiwanie w kodzie dla określonej interpretacji ciągów.</span><span class="sxs-lookup"><span data-stu-id="56339-293">However, we still recommend that you call an overload that explicitly specifies the <xref:System.StringComparison> type even if you want to perform an ordinal comparison; this makes it easier to search code for a certain string interpretation.</span></span>

### <a name="stringtoupper-and-stringtolower"></a><span data-ttu-id="56339-294">String.ToUpper i String.ToLower</span><span class="sxs-lookup"><span data-stu-id="56339-294">String.ToUpper and String.ToLower</span></span>

<span data-ttu-id="56339-295">Domyślna interpretacja: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="56339-295">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="56339-296">Należy zachować ostrożność w przypadku korzystania z tych metod, ponieważ wymuszanie ciągu do wielkich lub małych liter jest często używane jako mała normalizacja do porównywania ciągów, niezależnie od wielkości liter.</span><span class="sxs-lookup"><span data-stu-id="56339-296">You should be careful when you use these methods, because forcing a string to a uppercase or lowercase is often used as a small normalization for comparing strings regardless of case.</span></span> <span data-ttu-id="56339-297">Jeśli tak, rozważ użycie porównania bez uwzględniania wielkości liter.</span><span class="sxs-lookup"><span data-stu-id="56339-297">If so, consider using a case-insensitive comparison.</span></span>

<span data-ttu-id="56339-298"><xref:System.String.ToUpperInvariant%2A?displayProperty=nameWithType> <xref:System.String.ToLowerInvariant%2A?displayProperty=nameWithType> Dostępne są również metody i.</span><span class="sxs-lookup"><span data-stu-id="56339-298">The <xref:System.String.ToUpperInvariant%2A?displayProperty=nameWithType> and <xref:System.String.ToLowerInvariant%2A?displayProperty=nameWithType> methods are also available.</span></span> <span data-ttu-id="56339-299"><xref:System.String.ToUpperInvariant%2A> jest standardowym sposobem normalizacji wielkości liter.</span><span class="sxs-lookup"><span data-stu-id="56339-299"><xref:System.String.ToUpperInvariant%2A> is the standard way to normalize case.</span></span> <span data-ttu-id="56339-300">Porównania wykonywane przy użyciu <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> są zachowaniem składu dwóch wywołań: wywoływanie <xref:System.String.ToUpperInvariant%2A> dla obu argumentów ciągów i wykonywanie porównania przy użyciu <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="56339-300">Comparisons made using <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> are behaviorally the composition of two calls: calling <xref:System.String.ToUpperInvariant%2A> on both string arguments, and doing a comparison using <xref:System.StringComparison.Ordinal?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="56339-301">Przeciążenia są również dostępne do przekonwertowania na wielkie i małe litery w określonej kulturze, przekazując <xref:System.Globalization.CultureInfo> obiekt, który reprezentuje tę kulturę do metody.</span><span class="sxs-lookup"><span data-stu-id="56339-301">Overloads are also available for converting to uppercase and lowercase in a specific culture, by passing a <xref:System.Globalization.CultureInfo> object that represents that culture to the method.</span></span>

### <a name="chartoupper-and-chartolower"></a><span data-ttu-id="56339-302">Char.ToUpper i Char.ToLower</span><span class="sxs-lookup"><span data-stu-id="56339-302">Char.ToUpper and Char.ToLower</span></span>

<span data-ttu-id="56339-303">Domyślna interpretacja: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="56339-303">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="56339-304">Metody te działają podobnie jak <xref:System.String.ToUpper%2A?displayProperty=nameWithType> metody i <xref:System.String.ToLower%2A?displayProperty=nameWithType> opisane w poprzedniej sekcji.</span><span class="sxs-lookup"><span data-stu-id="56339-304">These methods work similarly to the <xref:System.String.ToUpper%2A?displayProperty=nameWithType> and <xref:System.String.ToLower%2A?displayProperty=nameWithType> methods described in the previous section.</span></span>

### <a name="stringstartswith-and-stringendswith"></a><span data-ttu-id="56339-305">String.StartsWith i String.EndsWith</span><span class="sxs-lookup"><span data-stu-id="56339-305">String.StartsWith and String.EndsWith</span></span>

<span data-ttu-id="56339-306">Domyślna interpretacja: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="56339-306">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="56339-307">Domyślnie obie te metody wykonują porównanie z uwzględnieniem kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-307">By default, both of these methods perform a culture-sensitive comparison.</span></span>

### <a name="stringindexof-and-stringlastindexof"></a><span data-ttu-id="56339-308">String.IndexOf i String.LastIndexOf</span><span class="sxs-lookup"><span data-stu-id="56339-308">String.IndexOf and String.LastIndexOf</span></span>

<span data-ttu-id="56339-309">Domyślna interpretacja: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="56339-309">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="56339-310">Brak spójności w sposobie wykonywania porównań przez domyślne przeciążenia tych metod.</span><span class="sxs-lookup"><span data-stu-id="56339-310">There is a lack of consistency in how the default overloads of these methods perform comparisons.</span></span> <span data-ttu-id="56339-311">Wszystkie <xref:System.String.IndexOf%2A?displayProperty=nameWithType> i <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> metody, które zawierają <xref:System.Char> parametr, wykonują porównanie porządkowe, ale domyślne <xref:System.String.IndexOf%2A?displayProperty=nameWithType> i <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> metody, które zawierają <xref:System.String> parametr, wykonują porównanie z uwzględnieniem kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-311">All <xref:System.String.IndexOf%2A?displayProperty=nameWithType> and <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> methods that include a <xref:System.Char> parameter perform an ordinal comparison, but the default <xref:System.String.IndexOf%2A?displayProperty=nameWithType> and <xref:System.String.LastIndexOf%2A?displayProperty=nameWithType> methods that include a <xref:System.String> parameter perform a culture-sensitive comparison.</span></span>

<span data-ttu-id="56339-312">W przypadku wywołania <xref:System.String.IndexOf%28System.String%29?displayProperty=nameWithType> metody lub <xref:System.String.LastIndexOf%28System.String%29?displayProperty=nameWithType> i przekazania do niej ciągu w celu zlokalizowania w bieżącym wystąpieniu zalecamy wywołanie przeciążenia, które jawnie określa <xref:System.StringComparison> Typ.</span><span class="sxs-lookup"><span data-stu-id="56339-312">If you call the <xref:System.String.IndexOf%28System.String%29?displayProperty=nameWithType> or <xref:System.String.LastIndexOf%28System.String%29?displayProperty=nameWithType> method and pass it a string to locate in the current instance, we recommend that you call an overload that explicitly specifies the <xref:System.StringComparison> type.</span></span> <span data-ttu-id="56339-313">Przeciążenia, które zawierają <xref:System.Char> argument, nie pozwalają na określenie <xref:System.StringComparison> typu.</span><span class="sxs-lookup"><span data-stu-id="56339-313">The overloads that include a <xref:System.Char> argument do not allow you to specify a <xref:System.StringComparison> type.</span></span>

## <a name="methods-that-perform-string-comparison-indirectly"></a><span data-ttu-id="56339-314">Metody, które pośrednio wykonują Porównywanie ciągów</span><span class="sxs-lookup"><span data-stu-id="56339-314">Methods that perform string comparison indirectly</span></span>

<span data-ttu-id="56339-315">Niektóre metody niebędące ciągami, które mają porównanie ciągów jako operacji centralnej używają <xref:System.StringComparer> typu.</span><span class="sxs-lookup"><span data-stu-id="56339-315">Some non-string methods that have string comparison as a central operation use the <xref:System.StringComparer> type.</span></span> <span data-ttu-id="56339-316"><xref:System.StringComparer>Klasa zawiera sześć właściwości statycznych, które zwracają <xref:System.StringComparer> wystąpienia, których <xref:System.StringComparer.Compare%2A?displayProperty=nameWithType> metody wykonują następujące typy porównań ciągów:</span><span class="sxs-lookup"><span data-stu-id="56339-316">The <xref:System.StringComparer> class includes six static properties that return <xref:System.StringComparer> instances whose <xref:System.StringComparer.Compare%2A?displayProperty=nameWithType> methods perform the following types of string comparisons:</span></span>

- <span data-ttu-id="56339-317">Porównania ciągów zależnych od kultury przy użyciu bieżącej kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-317">Culture-sensitive string comparisons using the current culture.</span></span> <span data-ttu-id="56339-318">Ten <xref:System.StringComparer> obiekt jest zwracany przez <xref:System.StringComparer.CurrentCulture%2A?displayProperty=nameWithType> Właściwość.</span><span class="sxs-lookup"><span data-stu-id="56339-318">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.CurrentCulture%2A?displayProperty=nameWithType> property.</span></span>
- <span data-ttu-id="56339-319">Porównania bez uwzględniania wielkości liter przy użyciu bieżącej kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-319">Case-insensitive comparisons using the current culture.</span></span> <span data-ttu-id="56339-320">Ten <xref:System.StringComparer> obiekt jest zwracany przez <xref:System.StringComparer.CurrentCultureIgnoreCase%2A?displayProperty=nameWithType> Właściwość.</span><span class="sxs-lookup"><span data-stu-id="56339-320">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.CurrentCultureIgnoreCase%2A?displayProperty=nameWithType> property.</span></span>
- <span data-ttu-id="56339-321">Porównania niewrażliwe na kulturę przy użyciu reguł porównania wyrazów niezmiennej kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-321">Culture-insensitive comparisons using the word comparison rules of the invariant culture.</span></span> <span data-ttu-id="56339-322">Ten <xref:System.StringComparer> obiekt jest zwracany przez <xref:System.StringComparer.InvariantCulture%2A?displayProperty=nameWithType> Właściwość.</span><span class="sxs-lookup"><span data-stu-id="56339-322">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span>
- <span data-ttu-id="56339-323">Porównania bez uwzględniania wielkości liter i nieuwzględniania kultur przy użyciu reguł porównania wyrazów niezmiennej kultury.</span><span class="sxs-lookup"><span data-stu-id="56339-323">Case-insensitive and culture-insensitive comparisons using the word comparison rules of the invariant culture.</span></span> <span data-ttu-id="56339-324">Ten <xref:System.StringComparer> obiekt jest zwracany przez <xref:System.StringComparer.InvariantCultureIgnoreCase%2A?displayProperty=nameWithType> Właściwość.</span><span class="sxs-lookup"><span data-stu-id="56339-324">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.InvariantCultureIgnoreCase%2A?displayProperty=nameWithType> property.</span></span>
- <span data-ttu-id="56339-325">Porównanie porządkowe.</span><span class="sxs-lookup"><span data-stu-id="56339-325">Ordinal comparison.</span></span> <span data-ttu-id="56339-326">Ten <xref:System.StringComparer> obiekt jest zwracany przez <xref:System.StringComparer.Ordinal%2A?displayProperty=nameWithType> Właściwość.</span><span class="sxs-lookup"><span data-stu-id="56339-326">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.Ordinal%2A?displayProperty=nameWithType> property.</span></span>
- <span data-ttu-id="56339-327">Porównanie porządkowe bez uwzględniania wielkości liter.</span><span class="sxs-lookup"><span data-stu-id="56339-327">Case-insensitive ordinal comparison.</span></span> <span data-ttu-id="56339-328">Ten <xref:System.StringComparer> obiekt jest zwracany przez <xref:System.StringComparer.OrdinalIgnoreCase%2A?displayProperty=nameWithType> Właściwość.</span><span class="sxs-lookup"><span data-stu-id="56339-328">This <xref:System.StringComparer> object is returned by the <xref:System.StringComparer.OrdinalIgnoreCase%2A?displayProperty=nameWithType> property.</span></span>

### <a name="arraysort-and-arraybinarysearch"></a><span data-ttu-id="56339-329">Array.Sort i Array.BinarySearch</span><span class="sxs-lookup"><span data-stu-id="56339-329">Array.Sort and Array.BinarySearch</span></span>

<span data-ttu-id="56339-330">Domyślna interpretacja: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType> .</span><span class="sxs-lookup"><span data-stu-id="56339-330">Default interpretation: <xref:System.StringComparison.CurrentCulture?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="56339-331">W przypadku przechowywania danych w kolekcji lub odczytywania utrwalonych danych z pliku lub bazy danych do kolekcji, przełączenie bieżącej kultury może spowodować unieważnienie niezmiennych w kolekcji.</span><span class="sxs-lookup"><span data-stu-id="56339-331">When you store any data in a collection, or read persisted data from a file or database into a collection, switching the current culture can invalidate the invariants in the collection.</span></span> <span data-ttu-id="56339-332"><xref:System.Array.BinarySearch%2A?displayProperty=nameWithType>Metoda zakłada, że elementy w tablicy, które mają być przeszukiwane, są już posortowane.</span><span class="sxs-lookup"><span data-stu-id="56339-332">The <xref:System.Array.BinarySearch%2A?displayProperty=nameWithType> method assumes that the elements in the array to be searched are already sorted.</span></span> <span data-ttu-id="56339-333">Aby posortować dowolny element ciągu w tablicy, <xref:System.Array.Sort%2A?displayProperty=nameWithType> Metoda wywołuje <xref:System.String.Compare%2A?displayProperty=nameWithType> metodę w celu uporządkowania poszczególnych elementów.</span><span class="sxs-lookup"><span data-stu-id="56339-333">To sort any string element in the array, the <xref:System.Array.Sort%2A?displayProperty=nameWithType> method calls the <xref:System.String.Compare%2A?displayProperty=nameWithType> method to order individual elements.</span></span> <span data-ttu-id="56339-334">Użycie funkcji porównującej uwzględniającej kulturę może być niebezpieczne, jeśli kultura zmieni się między posortowaną tablicą a jego zawartością jest przeszukiwana.</span><span class="sxs-lookup"><span data-stu-id="56339-334">Using a culture-sensitive comparer can be dangerous if the culture changes between the time that the array is sorted and its contents are searched.</span></span> <span data-ttu-id="56339-335">Na przykład, w poniższym kodzie, magazyn i pobieranie działają na porównującej, który jest dostarczany niejawnie przez `Thread.CurrentThread.CurrentCulture` Właściwość.</span><span class="sxs-lookup"><span data-stu-id="56339-335">For example, in the following code, storage and retrieval operate on the comparer that is provided implicitly by the `Thread.CurrentThread.CurrentCulture` property.</span></span> <span data-ttu-id="56339-336">Jeśli kultura może zmienić między wywołaniami do `StoreNames` i `DoesNameExist` , a zwłaszcza jeśli zawartość tablicy jest utrwalana między dwoma wywołaniami metod, wyszukiwanie binarne może zakończyć się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="56339-336">If the culture can change between the calls to `StoreNames` and `DoesNameExist`, and especially if the array contents are persisted somewhere between the two method calls, the binary search may fail.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#7](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/indirect1.cs#7)]
 [!code-vb[Conceptual.Strings.BestPractices#7](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/indirect1.vb#7)]

<span data-ttu-id="56339-337">W poniższym przykładzie zostanie wyświetlona zalecana odmiana, która używa tej samej wartości porządkowej (bez uwzględniania kultury) zarówno do sortowania, jak i do przeszukiwania tablicy.</span><span class="sxs-lookup"><span data-stu-id="56339-337">A recommended variation appears in the following example, which uses the same ordinal (culture-insensitive) comparison method both to sort and to search the array.</span></span> <span data-ttu-id="56339-338">Kod zmiany jest widoczny w wierszach oznaczonych `Line A` i `Line B` w dwóch przykładach.</span><span class="sxs-lookup"><span data-stu-id="56339-338">The change code is reflected in the lines labeled `Line A` and `Line B` in the two examples.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#8](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/indirect1.cs#8)]
[!code-vb[Conceptual.Strings.BestPractices#8](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/indirect1.vb#8)]

<span data-ttu-id="56339-339">Jeśli te dane są utrwalane i przenoszone między kulturami, a sortowanie służy do prezentowania tych danych użytkownikowi, można rozważyć użycie <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType> , który działa w sposób językowy dla lepszych danych wyjściowych użytkownika, ale nie ma wpływ na zmiany w kulturze.</span><span class="sxs-lookup"><span data-stu-id="56339-339">If this data is persisted and moved across cultures, and sorting is used to present this data to the user, you might consider using <xref:System.StringComparison.InvariantCulture?displayProperty=nameWithType>, which operates linguistically for better user output but is unaffected by changes in culture.</span></span> <span data-ttu-id="56339-340">Poniższy przykład modyfikuje dwa poprzednie przykłady, aby użyć niezmiennej kultury do sortowania i przeszukiwania tablicy.</span><span class="sxs-lookup"><span data-stu-id="56339-340">The following example modifies the two previous examples to use the invariant culture for sorting and searching the array.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#9](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/indirect1.cs#9)]
[!code-vb[Conceptual.Strings.BestPractices#9](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/indirect1.vb#9)]

### <a name="collections-example-hashtable-constructor"></a><span data-ttu-id="56339-341">Przykład kolekcji: Konstruktor Hashtable</span><span class="sxs-lookup"><span data-stu-id="56339-341">Collections example: Hashtable constructor</span></span>

<span data-ttu-id="56339-342">Ciągi mieszania zawierają drugi przykład operacji, na które ma wpływ, w jaki sposób ciągi są porównywane.</span><span class="sxs-lookup"><span data-stu-id="56339-342">Hashing strings provides a second example of an operation that is affected by the way in which strings are compared.</span></span>

<span data-ttu-id="56339-343">Poniższy przykład tworzy wystąpienie <xref:System.Collections.Hashtable> obiektu przez przekazanie go do <xref:System.StringComparer> obiektu, który jest zwracany przez <xref:System.StringComparer.OrdinalIgnoreCase%2A?displayProperty=nameWithType> Właściwość.</span><span class="sxs-lookup"><span data-stu-id="56339-343">The following example instantiates a <xref:System.Collections.Hashtable> object by passing it the <xref:System.StringComparer> object that is returned by the <xref:System.StringComparer.OrdinalIgnoreCase%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="56339-344">Ponieważ Klasa, <xref:System.StringComparer> która pochodzi od <xref:System.StringComparer> implementuje <xref:System.Collections.IEqualityComparer> interfejs, jego <xref:System.Collections.IEqualityComparer.GetHashCode%2A> Metoda jest używana do obliczania kodu skrótu ciągów w tabeli skrótów.</span><span class="sxs-lookup"><span data-stu-id="56339-344">Because a class <xref:System.StringComparer> that is derived from <xref:System.StringComparer> implements the <xref:System.Collections.IEqualityComparer> interface, its <xref:System.Collections.IEqualityComparer.GetHashCode%2A> method is used to compute the hash code of strings in the hash table.</span></span>

[!code-csharp[Conceptual.Strings.BestPractices#10](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.strings.bestpractices/cs/indirect2.cs#10)]
[!code-vb[Conceptual.Strings.BestPractices#10](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.strings.bestpractices/vb/indirect2.vb#10)]

## <a name="see-also"></a><span data-ttu-id="56339-345">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="56339-345">See also</span></span>

- [<span data-ttu-id="56339-346">Globalizacja w aplikacjach .NET</span><span class="sxs-lookup"><span data-stu-id="56339-346">Globalization in .NET apps</span></span>](../globalization-localization/globalization.md)
