---
title: Wątki i wątkowość
ms.date: 11/08/2018
ms.technology: dotnet-standard
helpviewer_keywords:
- multiple threads
- threading [.NET]
- threading [.NET], multiple threads
ms.assetid: 5baac3aa-e603-4fa6-9f89-0f2c1084e6b1
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: efbca8177c74fdee635b52294944df23e5aca24f
ms.sourcegitcommit: 8699383914c24a0df033393f55db3369db728a7b
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/15/2019
ms.locfileid: "65638778"
---
# <a name="threads-and-threading"></a><span data-ttu-id="961f6-102">Wątki i wątkowość</span><span class="sxs-lookup"><span data-stu-id="961f6-102">Threads and threading</span></span>

<span data-ttu-id="961f6-103">Wielowątkowość pozwala na zwiększenie szybkości reakcji aplikacji i, jeśli aplikacja działa w systemie wieloprocesorowym lub wieloma procesorami, zwiększyć jej przepustowość.</span><span class="sxs-lookup"><span data-stu-id="961f6-103">Multithreading allows you to increase the responsiveness of your application and, if your application runs on a multiprocessor or multi-core system, increase its throughput.</span></span>

## <a name="processes-and-threads"></a><span data-ttu-id="961f6-104">Procesy i wątki</span><span class="sxs-lookup"><span data-stu-id="961f6-104">Processes and threads</span></span>

<span data-ttu-id="961f6-105">A *procesu* jest wykonywania programu.</span><span class="sxs-lookup"><span data-stu-id="961f6-105">A *process* is an executing program.</span></span> <span data-ttu-id="961f6-106">System operacyjny używa procesów do rozdzielania aplikacji, które są wykonywane.</span><span class="sxs-lookup"><span data-stu-id="961f6-106">An operating system uses processes to separate the applications that are being executed.</span></span> <span data-ttu-id="961f6-107">A *wątku* to podstawowa jednostka, do której system operacyjny przydziela czas procesora.</span><span class="sxs-lookup"><span data-stu-id="961f6-107">A *thread* is the basic unit to which an operating system allocates processor time.</span></span> <span data-ttu-id="961f6-108">Każdy wątek ma [priorytet planowania](scheduling-threads.md) i obsługuje zestaw struktur, wówczas system używa do zapisania kontekst wątku, gdy wykonywanie wątków jest wstrzymany.</span><span class="sxs-lookup"><span data-stu-id="961f6-108">Each thread has a [scheduling priority](scheduling-threads.md) and maintains a set of structures the system uses to save the thread context when the thread's execution is paused.</span></span> <span data-ttu-id="961f6-109">Kontekst wątku zawiera wszystkie informacje, które trzeba bezbłędnie wznowić wykonania, w tym wątku zestaw rejestrów Procesora i stosu wątku.</span><span class="sxs-lookup"><span data-stu-id="961f6-109">The thread context includes all the information the thread needs to seamlessly resume execution, including the thread's set of CPU registers and stack.</span></span> <span data-ttu-id="961f6-110">Wiele wątków można uruchomić w ramach procesu.</span><span class="sxs-lookup"><span data-stu-id="961f6-110">Multiple threads can run in the context of a process.</span></span> <span data-ttu-id="961f6-111">Wszystkie wątki procesów udostępnianie jej wirtualnej przestrzeni adresowej.</span><span class="sxs-lookup"><span data-stu-id="961f6-111">All threads of a process share its virtual address space.</span></span> <span data-ttu-id="961f6-112">Wątek może wykonać dowolną część kodu programu, w tym części wykonywane przez inny wątek.</span><span class="sxs-lookup"><span data-stu-id="961f6-112">A thread can execute any part of the program code, including parts currently being executed by another thread.</span></span>

> [!NOTE]
> <span data-ttu-id="961f6-113">.NET Framework zapewnia sposób izolowania aplikacji w ramach procesu przy użyciu *domen aplikacji*.</span><span class="sxs-lookup"><span data-stu-id="961f6-113">The .NET Framework provides a way to isolate applications within a process with the use of *application domains*.</span></span> <span data-ttu-id="961f6-114">(Domen aplikacji nie są dostępne na platformie .NET Core). Aby uzyskać więcej informacji, zobacz [domeny aplikacji i wątków](../../framework/app-domains/application-domains.md#application-domains-and-threads) części [domen aplikacji](../../framework/app-domains/application-domains.md) artykułu.</span><span class="sxs-lookup"><span data-stu-id="961f6-114">(Application domains are not available on .NET Core.) For more information, see the [Application domains and threads](../../framework/app-domains/application-domains.md#application-domains-and-threads) section of the [Application domains](../../framework/app-domains/application-domains.md) article.</span></span>

<span data-ttu-id="961f6-115">Domyślnie .NET program została uruchomiona z jednym wątkiem, często nazywane *głównej* wątku.</span><span class="sxs-lookup"><span data-stu-id="961f6-115">By default, a .NET program is started with a single thread, often called the *primary* thread.</span></span> <span data-ttu-id="961f6-116">Jednak może utworzyć dodatkowe wątki na wykonanie kodu w sposób równoległy lub równocześnie z wątku głównego.</span><span class="sxs-lookup"><span data-stu-id="961f6-116">However, it can create additional threads to execute code in parallel or concurrently with the primary thread.</span></span> <span data-ttu-id="961f6-117">Te wątki są często nazywane *procesu roboczego* wątków.</span><span class="sxs-lookup"><span data-stu-id="961f6-117">These threads are often called *worker* threads.</span></span>

## <a name="when-to-use-multiple-threads"></a><span data-ttu-id="961f6-118">Kiedy należy używać wielu wątków</span><span class="sxs-lookup"><span data-stu-id="961f6-118">When to use multiple threads</span></span>

<span data-ttu-id="961f6-119">Aby zwiększyć szybkość reakcji aplikacji i korzystać z zalet systemem wieloprocesorowym lub wielordzeniowych w celu zwiększenia przepływności aplikacji za pomocą wielu wątków.</span><span class="sxs-lookup"><span data-stu-id="961f6-119">You use multiple threads to increase the responsiveness of your application and to take advantage of a multiprocessor or multi-core system to increase the application's throughput.</span></span>

<span data-ttu-id="961f6-120">Należy wziąć pod uwagę aplikacji pulpitu, w którym wątek główny jest odpowiedzialny za elementy interfejsu użytkownika i reaguje na czynności użytkownika.</span><span class="sxs-lookup"><span data-stu-id="961f6-120">Consider a desktop application, in which the primary thread is responsible for user interface elements and responds to user actions.</span></span> <span data-ttu-id="961f6-121">Użyj wątków roboczych, aby wykonywać czasochłonne operacje, w przeciwnym razie może zajmować wątek główny i utworzyć interfejs użytkownika przestanie odpowiadać.</span><span class="sxs-lookup"><span data-stu-id="961f6-121">Use worker threads to perform time-consuming operations that, otherwise, would occupy the primary thread and make the user interface non-responsive.</span></span> <span data-ttu-id="961f6-122">Możesz również użyć dedykowany wątek służący do komunikacji sieciowej lub urządzenia szybciej odpowiadać przychodzących komunikatów lub zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="961f6-122">You also can use a dedicated thread for network or device communication to be more responsive to incoming messages or events.</span></span>

<span data-ttu-id="961f6-123">Jeśli program wykonuje operacje, które może odbywać się równolegle, można zmniejszyć łączny czas wykonywania przez wykonywanie tych operacji w oddzielnych wątkach i uruchomienie go w systemie wieloprocesorowym lub wielordzeniowych.</span><span class="sxs-lookup"><span data-stu-id="961f6-123">If your program performs operations that can be done in parallel, the total execution time can be decreased by performing those operations in separate threads and running the program on a multiprocessor or multi-core system.</span></span> <span data-ttu-id="961f6-124">W systemie, korzystanie z wielowątkowością może zwiększyć przepływność wraz z większą elastyczność.</span><span class="sxs-lookup"><span data-stu-id="961f6-124">On such a system, use of multithreading might increase throughput along with the increased responsiveness.</span></span>

## <a name="how-to-use-multithreading-in-net"></a><span data-ttu-id="961f6-125">Jak używać wielowątkowości w .NET</span><span class="sxs-lookup"><span data-stu-id="961f6-125">How to use multithreading in .NET</span></span>

<span data-ttu-id="961f6-126">Począwszy od programu .NET Framework 4, zalecanym sposobem wykorzystywać wielowątkowości jest użycie [Biblioteka zadań równoległych (TPL)](../parallel-programming/task-parallel-library-tpl.md) i [Parallel LINQ (PLINQ)](../parallel-programming/parallel-linq-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="961f6-126">Starting with the .NET Framework 4, the recommended way to utilize multithreading is to use [Task Parallel Library (TPL)](../parallel-programming/task-parallel-library-tpl.md) and [Parallel LINQ (PLINQ)](../parallel-programming/parallel-linq-plinq.md).</span></span> <span data-ttu-id="961f6-127">Aby uzyskać więcej informacji, zobacz [Programowanie równoległe](../parallel-programming/index.md).</span><span class="sxs-lookup"><span data-stu-id="961f6-127">For more information, see [Parallel programming](../parallel-programming/index.md).</span></span>

<span data-ttu-id="961f6-128">Program PLINQ i TPL zależą od <xref:System.Threading.ThreadPool> wątków.</span><span class="sxs-lookup"><span data-stu-id="961f6-128">Both TPL and PLINQ rely on the <xref:System.Threading.ThreadPool> threads.</span></span> <span data-ttu-id="961f6-129"><xref:System.Threading.ThreadPool?displayProperty=nameWithType> Klasa udostępnia aplikację .NET z pulą wątków roboczych.</span><span class="sxs-lookup"><span data-stu-id="961f6-129">The <xref:System.Threading.ThreadPool?displayProperty=nameWithType> class provides a .NET application with a pool of worker threads.</span></span> <span data-ttu-id="961f6-130">Możesz także użyć wątków z puli wątków.</span><span class="sxs-lookup"><span data-stu-id="961f6-130">You also can use thread pool threads.</span></span> <span data-ttu-id="961f6-131">Aby uzyskać więcej informacji, zobacz [zarządzana Pula wątków](the-managed-thread-pool.md).</span><span class="sxs-lookup"><span data-stu-id="961f6-131">For more information, see [The managed thread pool](the-managed-thread-pool.md).</span></span>

<span data-ttu-id="961f6-132">Ostatnio, możesz użyć <xref:System.Threading.Thread?displayProperty=nameWithType> klasa, która reprezentuje wątków zarządzanych.</span><span class="sxs-lookup"><span data-stu-id="961f6-132">At last, you can use the <xref:System.Threading.Thread?displayProperty=nameWithType> class that represents a managed thread.</span></span> <span data-ttu-id="961f6-133">Aby uzyskać więcej informacji, zobacz [używanie wątków i wątkowości](using-threads-and-threading.md).</span><span class="sxs-lookup"><span data-stu-id="961f6-133">For more information, see [Using threads and threading](using-threads-and-threading.md).</span></span>

<span data-ttu-id="961f6-134">Wiele wątków może być konieczne do uzyskania dostępu do zasobu udostępnionego.</span><span class="sxs-lookup"><span data-stu-id="961f6-134">Multiple threads might need to access a shared resource.</span></span> <span data-ttu-id="961f6-135">Zasób w stanie nieuszkodzonym i uniknąć Sytuacje wyścigu, należy zsynchronizować do niego dostęp wątku.</span><span class="sxs-lookup"><span data-stu-id="961f6-135">To keep the resource in a uncorrupted state and avoid race conditions, you must synchronize the thread access to it.</span></span> <span data-ttu-id="961f6-136">Można również do koordynowania interakcję wielu wątków.</span><span class="sxs-lookup"><span data-stu-id="961f6-136">You also might want to coordinate the interaction of multiple threads.</span></span> <span data-ttu-id="961f6-137">.NET oferuje wiele różnych typów, które służy do synchronizowania dostępu do zasobu udostępnionego lub koordynowania interakcji wątku.</span><span class="sxs-lookup"><span data-stu-id="961f6-137">.NET provides a range of types that you can use to synchronize access to a shared resource or coordinate thread interaction.</span></span> <span data-ttu-id="961f6-138">Aby uzyskać więcej informacji, zobacz [Przegląd elementów podstawowych synchronizacji](overview-of-synchronization-primitives.md).</span><span class="sxs-lookup"><span data-stu-id="961f6-138">For more information, see [Overview of synchronization primitives](overview-of-synchronization-primitives.md).</span></span>

<span data-ttu-id="961f6-139">Obsługa wyjątków w wątkach.</span><span class="sxs-lookup"><span data-stu-id="961f6-139">Do handle exceptions in threads.</span></span> <span data-ttu-id="961f6-140">Nieobsługiwanych wyjątków w wątkach ogólnie zakończyć proces.</span><span class="sxs-lookup"><span data-stu-id="961f6-140">Unhandled exceptions in threads generally terminate the process.</span></span> <span data-ttu-id="961f6-141">Aby uzyskać więcej informacji, zobacz [wyjątki w zarządzanych wątkach](exceptions-in-managed-threads.md).</span><span class="sxs-lookup"><span data-stu-id="961f6-141">For more information, see [Exceptions in managed threads](exceptions-in-managed-threads.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="961f6-142">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="961f6-142">See also</span></span>

- [<span data-ttu-id="961f6-143">Wątkowość obiektów i funkcji</span><span class="sxs-lookup"><span data-stu-id="961f6-143">Threading objects and features</span></span>](threading-objects-and-features.md)
- [<span data-ttu-id="961f6-144">Zarządzana wątkowość — najlepsze rozwiązania</span><span class="sxs-lookup"><span data-stu-id="961f6-144">Managed threading best practices</span></span>](managed-threading-best-practices.md)
- [<span data-ttu-id="961f6-145">Przetwarzanie równoległe, współbieżność i programowania asynchronicznego w .NET</span><span class="sxs-lookup"><span data-stu-id="961f6-145">Parallel Processing, Concurrency, and Async Programming in .NET</span></span>](../parallel-processing-and-concurrency.md)
- [<span data-ttu-id="961f6-146">Procesy i wątki — informacje</span><span class="sxs-lookup"><span data-stu-id="961f6-146">About Processes and Threads</span></span>](/windows/desktop/procthread/about-processes-and-threads)
