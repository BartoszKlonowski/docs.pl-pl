---
title: Wskazówki dotyczące kolekcji
ms.date: 10/22/2008
ms.technology: dotnet-standard
ms.assetid: 297b8f1d-b11f-4dc6-960a-8e990817304e
ms.openlocfilehash: cc853be2310cf72c4eb559f625c6a37a44ed7db8
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/02/2020
ms.locfileid: "84276052"
---
# <a name="guidelines-for-collections"></a><span data-ttu-id="cfc54-102">Wskazówki dotyczące kolekcji</span><span class="sxs-lookup"><span data-stu-id="cfc54-102">Guidelines for Collections</span></span>
<span data-ttu-id="cfc54-103">Każdy typ przeznaczony specjalnie do manipulowania grupą obiektów, które mają pewną wspólną charakterystykę, może być traktowany jako kolekcja.</span><span class="sxs-lookup"><span data-stu-id="cfc54-103">Any type designed specifically to manipulate a group of objects having some common characteristic can be considered a collection.</span></span> <span data-ttu-id="cfc54-104">Jest prawie zawsze odpowiednie dla takich typów do wdrożenia <xref:System.Collections.IEnumerable> lub <xref:System.Collections.Generic.IEnumerable%601> , dlatego w tej sekcji rozważamy tylko typy implementujące jeden lub oba te interfejsy, które mają być kolekcjami.</span><span class="sxs-lookup"><span data-stu-id="cfc54-104">It is almost always appropriate for such types to implement <xref:System.Collections.IEnumerable> or <xref:System.Collections.Generic.IEnumerable%601>, so in this section we only consider types implementing one or both of those interfaces to be collections.</span></span>

 <span data-ttu-id="cfc54-105">❌NIE używaj słabo wpisanych kolekcji w publicznych interfejsach API.</span><span class="sxs-lookup"><span data-stu-id="cfc54-105">❌ DO NOT use weakly typed collections in public APIs.</span></span>

 <span data-ttu-id="cfc54-106">Typ wszystkich wartości zwracanych i parametrów reprezentujących elementy kolekcji musi być dokładnym typem elementu, a nie żadnym z jego typów podstawowych (dotyczy to tylko publicznych członków kolekcji).</span><span class="sxs-lookup"><span data-stu-id="cfc54-106">The type of all return values and parameters representing collection items should be the exact item type, not any of its base types (this applies only to public members of the collection).</span></span>

 <span data-ttu-id="cfc54-107">❌NIE używaj <xref:System.Collections.ArrayList> ani <xref:System.Collections.Generic.List%601> w publicznych interfejsach API.</span><span class="sxs-lookup"><span data-stu-id="cfc54-107">❌ DO NOT use <xref:System.Collections.ArrayList> or <xref:System.Collections.Generic.List%601> in public APIs.</span></span>

 <span data-ttu-id="cfc54-108">Te typy są strukturami danych przeznaczonymi do użycia w wewnętrznej implementacji, a nie w publicznych interfejsach API.</span><span class="sxs-lookup"><span data-stu-id="cfc54-108">These types are data structures designed to be used in internal implementation, not in public APIs.</span></span> <span data-ttu-id="cfc54-109">`List<T>`jest zoptymalizowany pod kątem wydajności i mocy na koszt czyszczenia interfejsów API i elastyczności.</span><span class="sxs-lookup"><span data-stu-id="cfc54-109">`List<T>` is optimized for performance and power at the cost of cleanness of the APIs and flexibility.</span></span> <span data-ttu-id="cfc54-110">Na przykład jeśli powrócisz `List<T>` , nie będziesz mieć możliwości otrzymywania powiadomień, gdy kod klienta modyfikuje kolekcję.</span><span class="sxs-lookup"><span data-stu-id="cfc54-110">For example, if you return `List<T>`, you will not ever be able to receive notifications when client code modifies the collection.</span></span> <span data-ttu-id="cfc54-111">Ponadto program `List<T>` udostępnia wiele elementów członkowskich, takich jak <xref:System.Collections.Generic.List%601.BinarySearch%2A> , które nie są przydatne ani mają zastosowania w wielu scenariuszach.</span><span class="sxs-lookup"><span data-stu-id="cfc54-111">Also, `List<T>` exposes many members, such as <xref:System.Collections.Generic.List%601.BinarySearch%2A>, that are not useful or applicable in many scenarios.</span></span> <span data-ttu-id="cfc54-112">W poniższych dwóch sekcjach opisano typy (abstrakcje) przeznaczone specjalnie do użycia w publicznych interfejsach API.</span><span class="sxs-lookup"><span data-stu-id="cfc54-112">The following two sections describe types (abstractions) designed specifically for use in public APIs.</span></span>

 <span data-ttu-id="cfc54-113">❌NIE używaj `Hashtable` ani `Dictionary<TKey,TValue>` w publicznych interfejsach API.</span><span class="sxs-lookup"><span data-stu-id="cfc54-113">❌ DO NOT use `Hashtable` or `Dictionary<TKey,TValue>` in public APIs.</span></span>

 <span data-ttu-id="cfc54-114">Te typy są strukturami danych przeznaczonymi do użycia w wewnętrznej implementacji.</span><span class="sxs-lookup"><span data-stu-id="cfc54-114">These types are data structures designed to be used in internal implementation.</span></span> <span data-ttu-id="cfc54-115">Publiczne interfejsy API powinny używać <xref:System.Collections.IDictionary> , `IDictionary <TKey, TValue>` lub być typu niestandardowego implementującego jeden lub oba interfejsy.</span><span class="sxs-lookup"><span data-stu-id="cfc54-115">Public APIs should use <xref:System.Collections.IDictionary>, `IDictionary <TKey, TValue>`, or a custom type implementing one or both of the interfaces.</span></span>

 <span data-ttu-id="cfc54-116">❌NIE używaj <xref:System.Collections.Generic.IEnumerator%601> , <xref:System.Collections.IEnumerator> ani innego typu, który implementuje któregokolwiek z tych interfejsów, z wyjątkiem zwracanego typu `GetEnumerator` metody.</span><span class="sxs-lookup"><span data-stu-id="cfc54-116">❌ DO NOT use <xref:System.Collections.Generic.IEnumerator%601>, <xref:System.Collections.IEnumerator>, or any other type that implements either of these interfaces, except as the return type of a `GetEnumerator` method.</span></span>

 <span data-ttu-id="cfc54-117">Typy zwracające moduły wyliczające z metod innych niż `GetEnumerator` nie można używać z `foreach` instrukcją.</span><span class="sxs-lookup"><span data-stu-id="cfc54-117">Types returning enumerators from methods other than `GetEnumerator` cannot be used with the `foreach` statement.</span></span>

 <span data-ttu-id="cfc54-118">❌NIE należy implementować obu `IEnumerator<T>` i `IEnumerable<T>` tego samego typu.</span><span class="sxs-lookup"><span data-stu-id="cfc54-118">❌ DO NOT implement both `IEnumerator<T>` and `IEnumerable<T>` on the same type.</span></span> <span data-ttu-id="cfc54-119">To samo dotyczy interfejsów nierodzajowych `IEnumerator` i `IEnumerable` .</span><span class="sxs-lookup"><span data-stu-id="cfc54-119">The same applies to the nongeneric interfaces `IEnumerator` and `IEnumerable`.</span></span>

## <a name="collection-parameters"></a><span data-ttu-id="cfc54-120">Parametry kolekcji</span><span class="sxs-lookup"><span data-stu-id="cfc54-120">Collection Parameters</span></span>
 <span data-ttu-id="cfc54-121">✔️ używać typu najmniej wyspecjalizowanego możliwego jako typ parametru.</span><span class="sxs-lookup"><span data-stu-id="cfc54-121">✔️ DO use the least-specialized type possible as a parameter type.</span></span> <span data-ttu-id="cfc54-122">Większość elementów członkowskich przyjmujących kolekcje jako parametry używają `IEnumerable<T>` interfejsu.</span><span class="sxs-lookup"><span data-stu-id="cfc54-122">Most members taking collections as parameters use the `IEnumerable<T>` interface.</span></span>

 <span data-ttu-id="cfc54-123">❌Należy unikać używania <xref:System.Collections.Generic.ICollection%601> lub <xref:System.Collections.ICollection> jako parametru tylko w celu uzyskania dostępu do `Count` właściwości.</span><span class="sxs-lookup"><span data-stu-id="cfc54-123">❌ AVOID using <xref:System.Collections.Generic.ICollection%601> or <xref:System.Collections.ICollection> as a parameter just to access the `Count` property.</span></span>

 <span data-ttu-id="cfc54-124">Zamiast tego należy rozważyć użycie `IEnumerable<T>` lub `IEnumerable` i dynamiczne sprawdzenie, czy obiekt implementuje `ICollection<T>` lub `ICollection` .</span><span class="sxs-lookup"><span data-stu-id="cfc54-124">Instead, consider using `IEnumerable<T>` or `IEnumerable` and dynamically checking whether the object implements `ICollection<T>` or `ICollection`.</span></span>

## <a name="collection-properties-and-return-values"></a><span data-ttu-id="cfc54-125">Właściwości kolekcji i wartości zwracane</span><span class="sxs-lookup"><span data-stu-id="cfc54-125">Collection Properties and Return Values</span></span>
 <span data-ttu-id="cfc54-126">❌Nie udostępniaj właściwości kolekcji settable.</span><span class="sxs-lookup"><span data-stu-id="cfc54-126">❌ DO NOT provide settable collection properties.</span></span>

 <span data-ttu-id="cfc54-127">Użytkownicy mogą zastąpić zawartość kolekcji, czyszcząc najpierw kolekcję, a następnie dodając nową zawartość.</span><span class="sxs-lookup"><span data-stu-id="cfc54-127">Users can replace the contents of the collection by clearing the collection first and then adding the new contents.</span></span> <span data-ttu-id="cfc54-128">Jeśli zastępowanie całej kolekcji jest typowym scenariuszem, rozważ dostarczenie `AddRange` metody do kolekcji.</span><span class="sxs-lookup"><span data-stu-id="cfc54-128">If replacing the whole collection is a common scenario, consider providing the `AddRange` method on the collection.</span></span>

 <span data-ttu-id="cfc54-129">✔️ używać `Collection<T>` lub podklasy `Collection<T>` dla właściwości lub zwracanych wartości reprezentujących kolekcje odczytu/zapisu.</span><span class="sxs-lookup"><span data-stu-id="cfc54-129">✔️ DO use `Collection<T>` or a subclass of `Collection<T>` for properties or return values representing read/write collections.</span></span>

 <span data-ttu-id="cfc54-130">Jeśli nie `Collection<T>` spełnia pewnej wymagania (np. kolekcja nie może być zaimplementowana <xref:System.Collections.IList> ), Użyj kolekcji niestandardowej przez implementację `IEnumerable<T>` , `ICollection<T>` lub <xref:System.Collections.Generic.IList%601> .</span><span class="sxs-lookup"><span data-stu-id="cfc54-130">If `Collection<T>` does not meet some requirement (e.g., the collection must not implement <xref:System.Collections.IList>), use a custom collection by implementing `IEnumerable<T>`, `ICollection<T>`, or <xref:System.Collections.Generic.IList%601>.</span></span>

 <span data-ttu-id="cfc54-131">✔️ do użycia <xref:System.Collections.ObjectModel.ReadOnlyCollection%601> , podklasa `ReadOnlyCollection<T>` lub w rzadkich przypadkach `IEnumerable<T>` dla właściwości lub wartości zwracanych reprezentujących kolekcje tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="cfc54-131">✔️ DO use <xref:System.Collections.ObjectModel.ReadOnlyCollection%601>, a subclass of `ReadOnlyCollection<T>`, or in rare cases `IEnumerable<T>` for properties or return values representing read-only collections.</span></span>

 <span data-ttu-id="cfc54-132">Ogólnie rzecz biorąc `ReadOnlyCollection<T>` .</span><span class="sxs-lookup"><span data-stu-id="cfc54-132">In general, prefer `ReadOnlyCollection<T>`.</span></span> <span data-ttu-id="cfc54-133">Jeśli nie spełnia pewnej wymagania (np. kolekcja nie może być zaimplementowana `IList` ), Użyj kolekcji niestandardowej przez implementację `IEnumerable<T>` , `ICollection<T>` lub `IList<T>` .</span><span class="sxs-lookup"><span data-stu-id="cfc54-133">If it does not meet some requirement (e.g., the collection must not implement `IList`), use a custom collection by implementing `IEnumerable<T>`, `ICollection<T>`, or `IList<T>`.</span></span> <span data-ttu-id="cfc54-134">Jeśli implementujesz niestandardową kolekcję tylko do odczytu, zaimplementuj `ICollection<T>.IsReadOnly` ją w celu zwrócenia `true` .</span><span class="sxs-lookup"><span data-stu-id="cfc54-134">If you do implement a custom read-only collection, implement `ICollection<T>.IsReadOnly` to return `true`.</span></span>

 <span data-ttu-id="cfc54-135">W przypadkach, w których wiadomo, że jedynym scenariuszem, który będzie potrzebny do obsługi, jest iteracja tylko do przodu, można po prostu użyć `IEnumerable<T>` .</span><span class="sxs-lookup"><span data-stu-id="cfc54-135">In cases where you are sure that the only scenario you will ever want to support is forward-only iteration, you can simply use `IEnumerable<T>`.</span></span>

 <span data-ttu-id="cfc54-136">✔️ ROZWAŻYĆ użycie podklas ogólnych kolekcji podstawowych zamiast bezpośredniego używania kolekcji.</span><span class="sxs-lookup"><span data-stu-id="cfc54-136">✔️ CONSIDER using subclasses of generic base collections instead of using the collections directly.</span></span>

 <span data-ttu-id="cfc54-137">Pozwala to na lepszą nazwę i Dodawanie członków pomocników, których nie ma w typach kolekcji podstawowej.</span><span class="sxs-lookup"><span data-stu-id="cfc54-137">This allows for a better name and for adding helper members that are not present on the base collection types.</span></span> <span data-ttu-id="cfc54-138">Jest to szczególnie przydatne w przypadku interfejsów API wysokiego poziomu.</span><span class="sxs-lookup"><span data-stu-id="cfc54-138">This is especially applicable to high-level APIs.</span></span>

 <span data-ttu-id="cfc54-139">✔️ ROZWAŻYĆ zwrócenie podklasy `Collection<T>` lub `ReadOnlyCollection<T>` z bardzo często używanych metod i właściwości.</span><span class="sxs-lookup"><span data-stu-id="cfc54-139">✔️ CONSIDER returning a subclass of `Collection<T>` or `ReadOnlyCollection<T>` from very commonly used methods and properties.</span></span>

 <span data-ttu-id="cfc54-140">Dzięki temu można dodać metody pomocnika lub zmienić implementację kolekcji w przyszłości.</span><span class="sxs-lookup"><span data-stu-id="cfc54-140">This will make it possible for you to add helper methods or change the collection implementation in the future.</span></span>

 <span data-ttu-id="cfc54-141">✔️ ROZWAŻYĆ użycie kolekcji z podzbiorem, jeśli elementy przechowywane w kolekcji mają unikatowe klucze (nazwy, identyfikatory itp.).</span><span class="sxs-lookup"><span data-stu-id="cfc54-141">✔️ CONSIDER using a keyed collection if the items stored in the collection have unique keys (names, IDs, etc.).</span></span> <span data-ttu-id="cfc54-142">Kolekcje z kluczami są kolekcjami, które można indeksować za pomocą liczby całkowitej i klucza i są zwykle zaimplementowane przez dziedziczenie z `KeyedCollection<TKey,TItem>` .</span><span class="sxs-lookup"><span data-stu-id="cfc54-142">Keyed collections are collections that can be indexed by both an integer and a key and are usually implemented by inheriting from `KeyedCollection<TKey,TItem>`.</span></span>

 <span data-ttu-id="cfc54-143">Kolekcje z równoważeniem rozmiaru zazwyczaj mają większe rozmiary pamięci i nie powinny być używane, jeśli obciążenie pamięci zawiera zalety kluczy.</span><span class="sxs-lookup"><span data-stu-id="cfc54-143">Keyed collections usually have larger memory footprints and should not be used if the memory overhead outweighs the benefits of having the keys.</span></span>

 <span data-ttu-id="cfc54-144">❌Nie zwracaj wartości null z właściwości kolekcji ani z metod zwracających kolekcje.</span><span class="sxs-lookup"><span data-stu-id="cfc54-144">❌ DO NOT return null values from collection properties or from methods returning collections.</span></span> <span data-ttu-id="cfc54-145">W zamian Zwróć pustą kolekcję lub pustą tablicę.</span><span class="sxs-lookup"><span data-stu-id="cfc54-145">Return an empty collection or an empty array instead.</span></span>

 <span data-ttu-id="cfc54-146">Ogólna reguła to wartość null i puste (0 elementów) kolekcje lub tablice powinny być traktowane jako takie same.</span><span class="sxs-lookup"><span data-stu-id="cfc54-146">The general rule is that null and empty (0 item) collections or arrays should be treated the same.</span></span>

### <a name="snapshots-versus-live-collections"></a><span data-ttu-id="cfc54-147">Migawki a kolekcje na żywo</span><span class="sxs-lookup"><span data-stu-id="cfc54-147">Snapshots Versus Live Collections</span></span>
 <span data-ttu-id="cfc54-148">Kolekcje reprezentujące stan w pewnym momencie są nazywane kolekcjami migawek.</span><span class="sxs-lookup"><span data-stu-id="cfc54-148">Collections representing a state at some point in time are called snapshot collections.</span></span> <span data-ttu-id="cfc54-149">Na przykład Kolekcja zawierająca wiersze zwrócone z kwerendy bazy danych będzie migawką.</span><span class="sxs-lookup"><span data-stu-id="cfc54-149">For example, a collection containing rows returned from a database query would be a snapshot.</span></span> <span data-ttu-id="cfc54-150">Kolekcje, które zawsze reprezentują bieżący stan, są nazywane kolekcjami dynamicznymi.</span><span class="sxs-lookup"><span data-stu-id="cfc54-150">Collections that always represent the current state are called live collections.</span></span> <span data-ttu-id="cfc54-151">Na przykład kolekcja `ComboBox` elementów jest kolekcją dynamiczną.</span><span class="sxs-lookup"><span data-stu-id="cfc54-151">For example, a collection of `ComboBox` items is a live collection.</span></span>

 <span data-ttu-id="cfc54-152">❌Nie zwracaj kolekcji migawek z właściwości.</span><span class="sxs-lookup"><span data-stu-id="cfc54-152">❌ DO NOT return snapshot collections from properties.</span></span> <span data-ttu-id="cfc54-153">Właściwości powinny zwracać kolekcje dynamiczne.</span><span class="sxs-lookup"><span data-stu-id="cfc54-153">Properties should return live collections.</span></span>

 <span data-ttu-id="cfc54-154">Metody pobierające właściwości powinny być bardzo lekkimi operacjami.</span><span class="sxs-lookup"><span data-stu-id="cfc54-154">Property getters should be very lightweight operations.</span></span> <span data-ttu-id="cfc54-155">Zwracanie migawki wymaga utworzenia kopii kolekcji wewnętrznej w operacji O (n).</span><span class="sxs-lookup"><span data-stu-id="cfc54-155">Returning a snapshot requires creating a copy of an internal collection in an O(n) operation.</span></span>

 <span data-ttu-id="cfc54-156">✔️ używać kolekcji migawek lub na żywo `IEnumerable<T>` (lub jego podtypu) do reprezentowania kolekcji, które są nietrwałe (tj. mogą ulec zmianie bez jawnego modyfikowania kolekcji).</span><span class="sxs-lookup"><span data-stu-id="cfc54-156">✔️ DO use either a snapshot collection or a live `IEnumerable<T>` (or its subtype) to represent collections that are volatile (i.e., that can change without explicitly modifying the collection).</span></span>

 <span data-ttu-id="cfc54-157">Ogólnie rzecz biorąc, wszystkie kolekcje reprezentujące zasób udostępniony (np. pliki w katalogu) są nietrwałe.</span><span class="sxs-lookup"><span data-stu-id="cfc54-157">In general, all collections representing a shared resource (e.g., files in a directory) are volatile.</span></span> <span data-ttu-id="cfc54-158">Takie kolekcje są bardzo trudne lub niemożliwe do wdrożenia jako kolekcje dynamiczne, chyba że implementacja to po prostu moduł wyliczający tylko do przodu.</span><span class="sxs-lookup"><span data-stu-id="cfc54-158">Such collections are very difficult or impossible to implement as live collections unless the implementation is simply a forward-only enumerator.</span></span>

## <a name="choosing-between-arrays-and-collections"></a><span data-ttu-id="cfc54-159">Wybór między tablicami a kolekcjami</span><span class="sxs-lookup"><span data-stu-id="cfc54-159">Choosing Between Arrays and Collections</span></span>
 <span data-ttu-id="cfc54-160">✔️ Preferuj kolekcje za pośrednictwem tablic.</span><span class="sxs-lookup"><span data-stu-id="cfc54-160">✔️ DO prefer collections over arrays.</span></span>

 <span data-ttu-id="cfc54-161">Kolekcje zapewniają większą kontrolę nad zawartością, mogą być rozwijane z upływem czasu i są bardziej użyteczne.</span><span class="sxs-lookup"><span data-stu-id="cfc54-161">Collections provide more control over contents, can evolve over time, and are more usable.</span></span> <span data-ttu-id="cfc54-162">Ponadto nie zaleca się używania tablic dla scenariuszy tylko do odczytu, ponieważ koszt klonowania tablicy jest zabroniony.</span><span class="sxs-lookup"><span data-stu-id="cfc54-162">In addition, using arrays for read-only scenarios is discouraged because the cost of cloning the array is prohibitive.</span></span> <span data-ttu-id="cfc54-163">Badania użyteczności wykazały, że niektórzy deweloperzy są bardziej wygodni przy użyciu interfejsów API opartych na kolekcji.</span><span class="sxs-lookup"><span data-stu-id="cfc54-163">Usability studies have shown that some developers feel more comfortable using collection-based APIs.</span></span>

 <span data-ttu-id="cfc54-164">Jeśli jednak tworzysz interfejsy API niskiego poziomu, lepiej jest używać tablic do scenariuszy odczytu i zapisu.</span><span class="sxs-lookup"><span data-stu-id="cfc54-164">However, if you are developing low-level APIs, it might be better to use arrays for read-write scenarios.</span></span> <span data-ttu-id="cfc54-165">Tablice mają mniejsze rozmiary pamięci, co ułatwia zmniejszenie zestawu roboczego i dostęp do elementów w tablicy jest szybszy, ponieważ jest zoptymalizowany pod kątem środowiska uruchomieniowego.</span><span class="sxs-lookup"><span data-stu-id="cfc54-165">Arrays have a smaller memory footprint, which helps reduce the working set, and access to elements in an array is faster because it is optimized by the runtime.</span></span>

 <span data-ttu-id="cfc54-166">✔️ ROZWAŻYĆ użycie tablic w interfejsach API niskiego poziomu w celu zminimalizowania zużycia pamięci i zmaksymalizowania wydajności.</span><span class="sxs-lookup"><span data-stu-id="cfc54-166">✔️ CONSIDER using arrays in low-level APIs to minimize memory consumption and maximize performance.</span></span>

 <span data-ttu-id="cfc54-167">✔️ Używaj tablic bajtowych zamiast kolekcji bajtów.</span><span class="sxs-lookup"><span data-stu-id="cfc54-167">✔️ DO use byte arrays instead of collections of bytes.</span></span>

 <span data-ttu-id="cfc54-168">❌NIE używaj tablic dla właściwości, jeśli właściwość będzie musiała zwracać nową tablicę (np. kopię tablicy wewnętrznej) za każdym razem, gdy wywoływana jest metoda pobierająca właściwości.</span><span class="sxs-lookup"><span data-stu-id="cfc54-168">❌ DO NOT use arrays for properties if the property would have to return a new array (e.g., a copy of an internal array) every time the property getter is called.</span></span>

## <a name="implementing-custom-collections"></a><span data-ttu-id="cfc54-169">Implementowanie kolekcji niestandardowych</span><span class="sxs-lookup"><span data-stu-id="cfc54-169">Implementing Custom Collections</span></span>
 <span data-ttu-id="cfc54-170">✔️ NALEŻY rozważyć dziedziczenie z `Collection<T>` , `ReadOnlyCollection<T>` lub `KeyedCollection<TKey,TItem>` podczas projektowania nowych kolekcji.</span><span class="sxs-lookup"><span data-stu-id="cfc54-170">✔️ CONSIDER inheriting from `Collection<T>`, `ReadOnlyCollection<T>`, or `KeyedCollection<TKey,TItem>` when designing new collections.</span></span>

 <span data-ttu-id="cfc54-171">✔️ Implementowanie `IEnumerable<T>` podczas projektowania nowych kolekcji.</span><span class="sxs-lookup"><span data-stu-id="cfc54-171">✔️ DO implement `IEnumerable<T>` when designing new collections.</span></span> <span data-ttu-id="cfc54-172">Rozważ zaimplementowanie `ICollection<T>` lub nawet `IList<T>` tam, gdzie jest to zrozumiałe.</span><span class="sxs-lookup"><span data-stu-id="cfc54-172">Consider implementing `ICollection<T>` or even `IList<T>` where it makes sense.</span></span>

 <span data-ttu-id="cfc54-173">Podczas wdrażania takiej niestandardowej kolekcji postępuj zgodnie z wzorcem interfejsu API ustanowionym przez `Collection<T>` i `ReadOnlyCollection<T>` tak blisko jak to możliwe.</span><span class="sxs-lookup"><span data-stu-id="cfc54-173">When implementing such custom collection, follow the API pattern established by `Collection<T>` and `ReadOnlyCollection<T>` as closely as possible.</span></span> <span data-ttu-id="cfc54-174">Oznacza to, że Zaimplementuj jawnie te same elementy członkowskie, nazwij te parametry, jak te dwie nazwy kolekcji i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="cfc54-174">That is, implement the same members explicitly, name the parameters like these two collections name them, and so on.</span></span>

 <span data-ttu-id="cfc54-175">✔️ ROZWAŻYĆ wdrożenie interfejsów kolekcji niegenerycznych ( `IList` i `ICollection` ), jeśli kolekcja często będzie przenoszona do interfejsów API przyjmujących te interfejsy jako dane wejściowe.</span><span class="sxs-lookup"><span data-stu-id="cfc54-175">✔️ CONSIDER implementing nongeneric collection interfaces (`IList` and `ICollection`) if the collection will often be passed to APIs taking these interfaces as input.</span></span>

 <span data-ttu-id="cfc54-176">❌UNIKAj implementowania interfejsów kolekcji dla typów z złożonymi interfejsami API, które nie są związane z koncepcją kolekcji.</span><span class="sxs-lookup"><span data-stu-id="cfc54-176">❌ AVOID implementing collection interfaces on types with complex APIs unrelated to the concept of a collection.</span></span>

 <span data-ttu-id="cfc54-177">❌NIE Dziedzicz z nieogólnych kolekcji podstawowych, takich jak `CollectionBase` .</span><span class="sxs-lookup"><span data-stu-id="cfc54-177">❌ DO NOT inherit from nongeneric base collections such as `CollectionBase`.</span></span> <span data-ttu-id="cfc54-178">Użyj `Collection<T>` , `ReadOnlyCollection<T>` , i `KeyedCollection<TKey,TItem>` zamiast.</span><span class="sxs-lookup"><span data-stu-id="cfc54-178">Use `Collection<T>`, `ReadOnlyCollection<T>`, and `KeyedCollection<TKey,TItem>` instead.</span></span>

### <a name="naming-custom-collections"></a><span data-ttu-id="cfc54-179">Nazewnictwo kolekcji niestandardowych</span><span class="sxs-lookup"><span data-stu-id="cfc54-179">Naming Custom Collections</span></span>
 <span data-ttu-id="cfc54-180">Kolekcje (typy, które implementują `IEnumerable` ) są tworzone głównie z dwóch powodów: (1), aby utworzyć nową strukturę danych z operacjami specyficznymi dla określonej struktury i często różnymi charakterystykami wydajności niż istniejące struktury danych (np.,, <xref:System.Collections.Generic.List%601> <xref:System.Collections.Generic.LinkedList%601> <xref:System.Collections.Generic.Stack%601> ) i (2) do tworzenia wyspecjalizowanej kolekcji do przechowywania określonego zestawu elementów (np. <xref:System.Collections.Specialized.StringCollection> ).</span><span class="sxs-lookup"><span data-stu-id="cfc54-180">Collections (types that implement `IEnumerable`) are created mainly for two reasons: (1) to create a new data structure with structure-specific operations and often different performance characteristics than existing data structures (e.g.,  <xref:System.Collections.Generic.List%601>, <xref:System.Collections.Generic.LinkedList%601>, <xref:System.Collections.Generic.Stack%601>), and (2) to create a specialized collection for holding a specific set of items (e.g.,  <xref:System.Collections.Specialized.StringCollection>).</span></span> <span data-ttu-id="cfc54-181">Struktury danych są najczęściej używane w wewnętrznej implementacji aplikacji i bibliotek.</span><span class="sxs-lookup"><span data-stu-id="cfc54-181">Data structures are most often used in the internal implementation of applications and libraries.</span></span> <span data-ttu-id="cfc54-182">Wyspecjalizowane kolekcje są głównie udostępniane w interfejsach API (jako typy właściwości i parametrów).</span><span class="sxs-lookup"><span data-stu-id="cfc54-182">Specialized collections are mainly to be exposed in APIs (as property and parameter types).</span></span>

 <span data-ttu-id="cfc54-183">✔️ Użyj sufiksu "dictionary" w nazwach abstrakcji implementujących `IDictionary` lub `IDictionary<TKey,TValue>` .</span><span class="sxs-lookup"><span data-stu-id="cfc54-183">✔️ DO use the "Dictionary" suffix in names of abstractions implementing `IDictionary` or `IDictionary<TKey,TValue>`.</span></span>

 <span data-ttu-id="cfc54-184">✔️ Użyj sufiksu "Kolekcja" w nazwach typów implementujących `IEnumerable` (lub dowolnych z jego obiektów podrzędnych) i reprezentujących listę elementów.</span><span class="sxs-lookup"><span data-stu-id="cfc54-184">✔️ DO use the "Collection" suffix in names of types implementing `IEnumerable` (or any of its descendants) and representing a list of items.</span></span>

 <span data-ttu-id="cfc54-185">✔️ używać odpowiedniej nazwy struktury danych dla niestandardowych struktur danych.</span><span class="sxs-lookup"><span data-stu-id="cfc54-185">✔️ DO use the appropriate data structure name for custom data structures.</span></span>

 <span data-ttu-id="cfc54-186">❌UNIKAj używania dowolnych sufiksów oznaczających konkretną implementację, taką jak "LinkedList" lub "Hashtable", w nazwach abstrakcji kolekcji.</span><span class="sxs-lookup"><span data-stu-id="cfc54-186">❌ AVOID using any suffixes implying particular implementation, such as "LinkedList" or "Hashtable," in names of collection abstractions.</span></span>

 <span data-ttu-id="cfc54-187">✔️ Rozważ umieszczenie prefiksu nazw kolekcji z nazwą typu elementu.</span><span class="sxs-lookup"><span data-stu-id="cfc54-187">✔️ CONSIDER prefixing collection names with the name of the item type.</span></span> <span data-ttu-id="cfc54-188">Na przykład kolekcja przechowująca elementy typu `Address` (implementująca `IEnumerable<Address>` ) powinna mieć nazwę `AddressCollection` .</span><span class="sxs-lookup"><span data-stu-id="cfc54-188">For example, a collection storing items of type `Address` (implementing `IEnumerable<Address>`) should be named `AddressCollection`.</span></span> <span data-ttu-id="cfc54-189">Jeśli typ elementu to interfejs, prefiks "I" typu elementu można pominąć.</span><span class="sxs-lookup"><span data-stu-id="cfc54-189">If the item type is an interface, the "I" prefix of the item type can be omitted.</span></span> <span data-ttu-id="cfc54-190">W ten sposób kolekcja <xref:System.IDisposable> elementów może być wywoływana `DisposableCollection` .</span><span class="sxs-lookup"><span data-stu-id="cfc54-190">Thus, a collection of <xref:System.IDisposable> items can be called `DisposableCollection`.</span></span>

 <span data-ttu-id="cfc54-191">✔️ Rozważ użycie prefiksu "ReadOnly" w nazwach kolekcji tylko do odczytu, Jeśli odpowiednia kolekcja może zostać dodana lub już istnieje w strukturze.</span><span class="sxs-lookup"><span data-stu-id="cfc54-191">✔️ CONSIDER using the "ReadOnly" prefix in names of read-only collections if a corresponding writeable collection might be added or already exists in the framework.</span></span>

 <span data-ttu-id="cfc54-192">Na przykład Kolekcja ciągów tylko do odczytu powinna być wywoływana `ReadOnlyStringCollection` .</span><span class="sxs-lookup"><span data-stu-id="cfc54-192">For example, a read-only collection of strings should be called `ReadOnlyStringCollection`.</span></span>

 <span data-ttu-id="cfc54-193">*Fragmenty © 2005, 2009 Microsoft Corporation. Wszelkie prawa zastrzeżone.*</span><span class="sxs-lookup"><span data-stu-id="cfc54-193">*Portions © 2005, 2009 Microsoft Corporation. All rights reserved.*</span></span>

 <span data-ttu-id="cfc54-194">*Ponownie Wydrukowano przez uprawnienie Pearson Education, Inc. z [wytycznych dotyczących projektowania platformy: konwencje, idiomy i wzorce dla bibliotek .NET do wielokrotnego użytku, 2. wydanie](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) przez Krzysztof Cwalina i Brad Abrams, opublikowane 22, 2008 przez Addison-Wesley Professional w ramach serii Microsoft Windows Development.*</span><span class="sxs-lookup"><span data-stu-id="cfc54-194">*Reprinted by permission of Pearson Education, Inc. from [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.*</span></span>

## <a name="see-also"></a><span data-ttu-id="cfc54-195">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="cfc54-195">See also</span></span>

- [<span data-ttu-id="cfc54-196">Wskazówki dotyczące projektowania struktury</span><span class="sxs-lookup"><span data-stu-id="cfc54-196">Framework Design Guidelines</span></span>](index.md)
- [<span data-ttu-id="cfc54-197">Wskazówki dotyczące użycia</span><span class="sxs-lookup"><span data-stu-id="cfc54-197">Usage Guidelines</span></span>](usage-guidelines.md)
