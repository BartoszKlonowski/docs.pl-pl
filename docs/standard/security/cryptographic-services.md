---
title: Usługi kryptograficzne
description: Omówienie metod i praktyk szyfrowania obsługiwanych przez platformę .NET.
ms.date: 07/14/2020
ms.technology: dotnet-standard
helpviewer_keywords:
- cryptography [.NET]
- pattern of derived class inheritance
- digital signatures
- asymmetric cryptographic algorithms
- digital signatures, public-key systems
- public keys
- decryption [.NET]
- private keys
- MAC algorithms
- cryptographic algorithms
- private keys, overview
- encryption [.NET]
- security [.NET], encryption
- cryptographic services
- symmetric cryptographic algorithms
- hash
- message authentication codes
- derived class inheritance
- cryptography [.NET], about
- random number generation
ms.assetid: f96284bc-7b73-44b5-ac59-fac613ad09f8
ms.openlocfilehash: 4cd4e493e0e7d159b2749dac78b9a560e20fd75c
ms.sourcegitcommit: b7a8b09828bab4e90f66af8d495ecd7024c45042
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/04/2020
ms.locfileid: "87557024"
---
# <a name="cryptographic-services"></a><span data-ttu-id="c32fc-103">Usługi kryptograficzne</span><span class="sxs-lookup"><span data-stu-id="c32fc-103">Cryptographic Services</span></span>

<span data-ttu-id="c32fc-104">Sieci publiczne, takie jak Internet, nie zapewniają metody bezpiecznej komunikacji między jednostkami.</span><span class="sxs-lookup"><span data-stu-id="c32fc-104">Public networks such as the Internet do not provide a means of secure communication between entities.</span></span> <span data-ttu-id="c32fc-105">Komunikacja za pośrednictwem takich sieci jest podatna na odczytywanie, a nawet modyfikowanie przez nieautoryzowane strony trzecie.</span><span class="sxs-lookup"><span data-stu-id="c32fc-105">Communication over such networks is susceptible to being read or even modified by unauthorized third parties.</span></span> <span data-ttu-id="c32fc-106">Kryptografia pomaga chronić dane przed wyświetlaniem, zapewnia sposoby wykrywania, czy dane zostały zmodyfikowane i pomaga zapewnić bezpieczny sposób komunikacji za pośrednictwem niezabezpieczonych kanałów.</span><span class="sxs-lookup"><span data-stu-id="c32fc-106">Cryptography helps protect data from being viewed, provides ways to detect whether data has been modified, and helps provide a secure means of communication over otherwise nonsecure channels.</span></span> <span data-ttu-id="c32fc-107">Na przykład dane mogą być szyfrowane przy użyciu algorytmu kryptograficznego, przesyłane w stanie zaszyfrowanym i później odszyfrowane przez zaznaczoną stronę.</span><span class="sxs-lookup"><span data-stu-id="c32fc-107">For example, data can be encrypted by using a cryptographic algorithm, transmitted in an encrypted state, and later decrypted by the intended party.</span></span> <span data-ttu-id="c32fc-108">Jeśli strona trzecia przechwytuje zaszyfrowane dane, będzie trudne do odszyfrowania.</span><span class="sxs-lookup"><span data-stu-id="c32fc-108">If a third party intercepts the encrypted data, it will be difficult to decipher.</span></span>

<span data-ttu-id="c32fc-109">W programie .NET klasy w <xref:System.Security.Cryptography> przestrzeni nazw zarządzają wieloma informacjami o kryptografii.</span><span class="sxs-lookup"><span data-stu-id="c32fc-109">In .NET, the classes in the <xref:System.Security.Cryptography> namespace manage many details of cryptography for you.</span></span> <span data-ttu-id="c32fc-110">Niektóre z nich są otokami dla implementacji systemu operacyjnego, a inne są całkowicie zarządzanymi implementacjami.</span><span class="sxs-lookup"><span data-stu-id="c32fc-110">Some are wrappers for operating system implementations, while others are purely managed implementations.</span></span> <span data-ttu-id="c32fc-111">Nie musisz być ekspertem w kryptografii, aby używać tych klas.</span><span class="sxs-lookup"><span data-stu-id="c32fc-111">You do not need to be an expert in cryptography to use these classes.</span></span> <span data-ttu-id="c32fc-112">Podczas tworzenia nowego wystąpienia jednej z klas algorytmu szyfrowania klucze są generowane automatycznie w celu ułatwienia użycia, a właściwości domyślne są bezpieczne i bezpieczne, jak to możliwe.</span><span class="sxs-lookup"><span data-stu-id="c32fc-112">When you create a new instance of one of the encryption algorithm classes, keys are autogenerated for ease of use, and default properties are as safe and secure as possible.</span></span>

<span data-ttu-id="c32fc-113">To omówienie zawiera streszczenie metod szyfrowania i praktyki obsługiwane przez platformę .NET, w tym manifestów ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="c32fc-113">This overview provides a synopsis of the encryption methods and practices supported by .NET, including the ClickOnce manifests.</span></span>

## <a name="cryptographic-primitives"></a><span data-ttu-id="c32fc-114">Kryptograficzne elementy pierwotne</span><span class="sxs-lookup"><span data-stu-id="c32fc-114">Cryptographic Primitives</span></span>

<span data-ttu-id="c32fc-115">W typowej sytuacji, w której jest używana Kryptografia, dwie strony (Alicja i Robert) komunikują się za pośrednictwem niezabezpieczonego kanału.</span><span class="sxs-lookup"><span data-stu-id="c32fc-115">In a typical situation where cryptography is used, two parties (Alice and Bob) communicate over a nonsecure channel.</span></span> <span data-ttu-id="c32fc-116">Alicja i Robert chcą zapewnić, że ich komunikacja jest niezrozumiała dla każdego, kto może nasłuchiwać.</span><span class="sxs-lookup"><span data-stu-id="c32fc-116">Alice and Bob want to ensure that their communication remains incomprehensible by anyone who might be listening.</span></span> <span data-ttu-id="c32fc-117">Ponadto, ponieważ Alicja i Robert znajdują się w lokalizacjach zdalnych, Alicja musi upewnić się, że informacje otrzymane z Roberta nie zostały zmodyfikowane przez żadną osobę podczas transmisji.</span><span class="sxs-lookup"><span data-stu-id="c32fc-117">Furthermore, because Alice and Bob are in remote locations, Alice must make sure that the information she receives from Bob has not been modified by anyone during transmission.</span></span> <span data-ttu-id="c32fc-118">Ponadto należy się upewnić, że informacje są naprawdę pochodzące od Roberta, a nie od osoby, która personifikuje Robert.</span><span class="sxs-lookup"><span data-stu-id="c32fc-118">In addition, she must make sure that the information really does originate from Bob and not from someone who is impersonating Bob.</span></span>

<span data-ttu-id="c32fc-119">Kryptografia służy do osiągnięcia następujących celów:</span><span class="sxs-lookup"><span data-stu-id="c32fc-119">Cryptography is used to achieve the following goals:</span></span>

- <span data-ttu-id="c32fc-120">Poufność: aby chronić tożsamość lub dane użytkownika przed ich odczytaniem.</span><span class="sxs-lookup"><span data-stu-id="c32fc-120">Confidentiality: To help protect a user's identity or data from being read.</span></span>

- <span data-ttu-id="c32fc-121">Integralność danych: pomaga chronić dane przed ich zmianą.</span><span class="sxs-lookup"><span data-stu-id="c32fc-121">Data integrity: To help protect data from being changed.</span></span>

- <span data-ttu-id="c32fc-122">Uwierzytelnianie: aby upewnić się, że dane pochodzą od określonej strony.</span><span class="sxs-lookup"><span data-stu-id="c32fc-122">Authentication: To ensure that data originates from a particular party.</span></span>

- <span data-ttu-id="c32fc-123">Brak odrzucania: aby uniemożliwić określonej stronie odmowę wysłania wiadomości.</span><span class="sxs-lookup"><span data-stu-id="c32fc-123">Non-repudiation: To prevent a particular party from denying that they sent a message.</span></span>

<span data-ttu-id="c32fc-124">Aby osiągnąć te cele, można użyć kombinacji algorytmów i praktyk znanych jako kryptograficzne elementy pierwotne w celu utworzenia schematu kryptograficznego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-124">To achieve these goals, you can use a combination of algorithms and practices known as cryptographic primitives to create a cryptographic scheme.</span></span> <span data-ttu-id="c32fc-125">Poniższa tabela zawiera listę podstawowych elementów kryptograficznych i ich użycia.</span><span class="sxs-lookup"><span data-stu-id="c32fc-125">The following table lists the cryptographic primitives and their uses.</span></span>

|<span data-ttu-id="c32fc-126">Kryptografia kryptograficzna</span><span class="sxs-lookup"><span data-stu-id="c32fc-126">Cryptographic primitive</span></span>|<span data-ttu-id="c32fc-127">Zastosowanie</span><span class="sxs-lookup"><span data-stu-id="c32fc-127">Use</span></span>|
|-----------------------------|---------|
|<span data-ttu-id="c32fc-128">Szyfrowanie klucza tajnego (Kryptografia symetryczna)</span><span class="sxs-lookup"><span data-stu-id="c32fc-128">Secret-key encryption (symmetric cryptography)</span></span>|<span data-ttu-id="c32fc-129">Wykonuje transformację danych, aby uniemożliwić ich odczytywanie przez inne osoby.</span><span class="sxs-lookup"><span data-stu-id="c32fc-129">Performs a transformation on data to keep it from being read by third parties.</span></span> <span data-ttu-id="c32fc-130">Ten typ szyfrowania używa jednego udostępnionego klucza tajnego do szyfrowania i odszyfrowywania danych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-130">This type of encryption uses a single shared, secret key to encrypt and decrypt data.</span></span>|
|<span data-ttu-id="c32fc-131">Szyfrowanie klucza publicznego (kryptografia asymetryczna)</span><span class="sxs-lookup"><span data-stu-id="c32fc-131">Public-key encryption (asymmetric cryptography)</span></span>|<span data-ttu-id="c32fc-132">Wykonuje transformację danych, aby uniemożliwić ich odczytywanie przez inne osoby.</span><span class="sxs-lookup"><span data-stu-id="c32fc-132">Performs a transformation on data to keep it from being read by third parties.</span></span> <span data-ttu-id="c32fc-133">Ten typ szyfrowania używa pary kluczy publiczny/prywatny do szyfrowania i odszyfrowywania danych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-133">This type of encryption uses a public/private key pair to encrypt and decrypt data.</span></span>|
|<span data-ttu-id="c32fc-134">Podpisywanie kryptograficzne</span><span class="sxs-lookup"><span data-stu-id="c32fc-134">Cryptographic signing</span></span>|<span data-ttu-id="c32fc-135">Pomaga sprawdzić, czy dane pochodzą od określonej strony przez utworzenie podpisu cyfrowego, który jest unikatowy dla tej strony.</span><span class="sxs-lookup"><span data-stu-id="c32fc-135">Helps verify that data originates from a specific party by creating a digital signature that is unique to that party.</span></span> <span data-ttu-id="c32fc-136">Ten proces używa również funkcji skrótu.</span><span class="sxs-lookup"><span data-stu-id="c32fc-136">This process also uses hash functions.</span></span>|
|<span data-ttu-id="c32fc-137">Skróty kryptograficzne</span><span class="sxs-lookup"><span data-stu-id="c32fc-137">Cryptographic hashes</span></span>|<span data-ttu-id="c32fc-138">Mapuje dane z dowolnej długości na sekwencję bajtów o stałej długości.</span><span class="sxs-lookup"><span data-stu-id="c32fc-138">Maps data from any length to a fixed-length byte sequence.</span></span> <span data-ttu-id="c32fc-139">Skróty są statystycznie unikatowe; inna sekwencja dwubajtowa nie będzie mieszać wartości z tą samą wartością.</span><span class="sxs-lookup"><span data-stu-id="c32fc-139">Hashes are statistically unique; a different two-byte sequence will not hash to the same value.</span></span>|

## <a name="secret-key-encryption"></a><span data-ttu-id="c32fc-140">Szyfrowanie klucza tajnego</span><span class="sxs-lookup"><span data-stu-id="c32fc-140">Secret-Key Encryption</span></span>

<span data-ttu-id="c32fc-141">Algorytmy szyfrowania klucza tajnego używają jednego klucza tajnego do szyfrowania i odszyfrowywania danych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-141">Secret-key encryption algorithms use a single secret key to encrypt and decrypt data.</span></span> <span data-ttu-id="c32fc-142">Należy zabezpieczyć klucz przed dostępem nieautoryzowanych agentów, ponieważ każda Strona, która ma klucz, może użyć jej do odszyfrowania danych lub zaszyfrowania własnych danych, ponieważ pochodzi od użytkownika.</span><span class="sxs-lookup"><span data-stu-id="c32fc-142">You must secure the key from access by unauthorized agents, because any party that has the key can use it to decrypt your data or encrypt their own data, claiming it originated from you.</span></span>

<span data-ttu-id="c32fc-143">Szyfrowanie klucza tajnego jest również określane jako szyfrowanie symetryczne, ponieważ ten sam klucz jest używany do szyfrowania i odszyfrowywania.</span><span class="sxs-lookup"><span data-stu-id="c32fc-143">Secret-key encryption is also referred to as symmetric encryption because the same key is used for encryption and decryption.</span></span> <span data-ttu-id="c32fc-144">Algorytmy szyfrowania klucza tajnego są bardzo szybkie (w porównaniu z algorytmami klucza publicznego) i są dobrze dostosowane do wykonywania transformacji kryptograficznych w dużych strumieniach danych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-144">Secret-key encryption algorithms are very fast (compared with public-key algorithms) and are well suited for performing cryptographic transformations on large streams of data.</span></span> <span data-ttu-id="c32fc-145">Algorytmy szyfrowania asymetrycznego, takie jak RSA, są ograniczone matematycznie w zakresie ilości danych, które mogą być szyfrowane.</span><span class="sxs-lookup"><span data-stu-id="c32fc-145">Asymmetric encryption algorithms such as RSA are limited mathematically in how much data they can encrypt.</span></span> <span data-ttu-id="c32fc-146">Algorytmy szyfrowania symetrycznego zazwyczaj nie mają tych problemów.</span><span class="sxs-lookup"><span data-stu-id="c32fc-146">Symmetric encryption algorithms do not generally have those problems.</span></span>

<span data-ttu-id="c32fc-147">Typ algorytmu tajnego klucza o nazwie szyfr bloku służy do szyfrowania jednego bloku danych w danym momencie.</span><span class="sxs-lookup"><span data-stu-id="c32fc-147">A type of secret-key algorithm called a block cipher is used to encrypt one block of data at a time.</span></span> <span data-ttu-id="c32fc-148">Zablokuj szyfry, takie jak Data Encryption Standard (DES), TripleDES i Advanced Encryption Standard (AES), Przekształć kryptograficznie Blok wejściowy *n* bajtów do bloku wyjściowego zaszyfrowanych bajtów.</span><span class="sxs-lookup"><span data-stu-id="c32fc-148">Block ciphers such as Data Encryption Standard (DES), TripleDES, and Advanced Encryption Standard (AES) cryptographically transform an input block of *n* bytes into an output block of encrypted bytes.</span></span> <span data-ttu-id="c32fc-149">Aby zaszyfrować lub odszyfrować sekwencję bajtów, należy ją zablokować za pomocą bloku.</span><span class="sxs-lookup"><span data-stu-id="c32fc-149">If you want to encrypt or decrypt a sequence of bytes, you have to do it block by block.</span></span> <span data-ttu-id="c32fc-150">Ponieważ *n* jest mały (8 bajtów dla des i TripleDES; 16 bajtów [domyślna], 24 bajty lub 32 bajtów dla AES), wartości danych, które są większe niż *n* , muszą być szyfrowane po jednym bloku naraz.</span><span class="sxs-lookup"><span data-stu-id="c32fc-150">Because *n* is small (8 bytes for DES and TripleDES; 16 bytes [the default], 24 bytes, or 32 bytes for AES), data values that are larger than *n* have to be encrypted one block at a time.</span></span> <span data-ttu-id="c32fc-151">Wartości danych, które są mniejsze niż *n* , muszą być rozwinięte do *n* , aby można było je przetworzyć.</span><span class="sxs-lookup"><span data-stu-id="c32fc-151">Data values that are smaller than *n* have to be expanded to *n* in order to be processed.</span></span>

<span data-ttu-id="c32fc-152">Jedna prosta forma szyfrowania bloku jest nazywana trybem elektronicznym trybu (EBC).</span><span class="sxs-lookup"><span data-stu-id="c32fc-152">One simple form of block cipher is called the electronic codebook (ECB) mode.</span></span> <span data-ttu-id="c32fc-153">Tryb EBC nie jest uważany za Bezpieczny, ponieważ nie używa wektora inicjalizacji do inicjowania pierwszego bloku zwykłego tekstu.</span><span class="sxs-lookup"><span data-stu-id="c32fc-153">ECB mode is not considered secure, because it does not use an initialization vector to initialize the first plaintext block.</span></span> <span data-ttu-id="c32fc-154">W przypadku danego klucza tajnego *k*, prosty szyfr bloku, który nie używa wektora inicjalizacji, będzie szyfrować ten sam blok danych wejściowych w tym samym bloku wyjściowym tekstu szyfrowanego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-154">For a given secret key *k*, a simple block cipher that does not use an initialization vector will encrypt the same input block of plaintext into the same output block of ciphertext.</span></span> <span data-ttu-id="c32fc-155">W związku z tym, jeśli masz zduplikowane bloki w strumieniu danych wejściowych w formacie zwykłego tekstu, będziesz mieć zduplikowane bloki w strumieniu danych wyjściowych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-155">Therefore, if you have duplicate blocks in your input plaintext stream, you will have duplicate blocks in your output ciphertext stream.</span></span> <span data-ttu-id="c32fc-156">Te zduplikowane bloki wyjściowe wyzwalają alert nieautoryzowanych użytkowników do słabego szyfrowania wykorzystujących algorytmy, które mogły zostać zastosowane, oraz możliwe tryby ataków.</span><span class="sxs-lookup"><span data-stu-id="c32fc-156">These duplicate output blocks alert unauthorized users to the weak encryption used the algorithms that might have been employed, and the possible modes of attack.</span></span> <span data-ttu-id="c32fc-157">W związku z tym jest bardzo narażony na analizę, a ostatecznie odnajdywanie kluczy.</span><span class="sxs-lookup"><span data-stu-id="c32fc-157">The ECB cipher mode is therefore quite vulnerable to analysis, and ultimately, key discovery.</span></span>

<span data-ttu-id="c32fc-158">Blokowe klasy szyfrowe, które są dostępne w bibliotece klas bazowych, używają domyślnego trybu łańcucha nazywanego łańcuchem blokowym (CBC), chociaż można zmienić to ustawienie domyślne, jeśli chcesz.</span><span class="sxs-lookup"><span data-stu-id="c32fc-158">The block cipher classes that are provided in the base class library use a default chaining mode called cipher-block chaining (CBC), although you can change this default if you want.</span></span>

<span data-ttu-id="c32fc-159">Szyfry CBC przezwyciężyją problemy związane z szyframi EBC przy użyciu wektora inicjującego (IV) do szyfrowania pierwszego bloku zwykłego tekstu.</span><span class="sxs-lookup"><span data-stu-id="c32fc-159">CBC ciphers overcome the problems associated with ECB ciphers by using an initialization vector (IV) to encrypt the first block of plaintext.</span></span> <span data-ttu-id="c32fc-160">Każdy kolejny blok zwykłego tekstu nie przeprowadzi bitowej operacji wykluczającej lub ( `XOR` ) z poprzednim blokiem tekstu szyfrowanego przed zaszyfrowaniem.</span><span class="sxs-lookup"><span data-stu-id="c32fc-160">Each subsequent block of plaintext undergoes a bitwise exclusive OR (`XOR`) operation with the previous ciphertext block before it is encrypted.</span></span> <span data-ttu-id="c32fc-161">Każdy blok tekstu jest zależny od wszystkich poprzednich bloków.</span><span class="sxs-lookup"><span data-stu-id="c32fc-161">Each ciphertext block is therefore dependent on all previous blocks.</span></span> <span data-ttu-id="c32fc-162">Gdy ten system jest używany, do odtworzenia klucza nie można użyć popularnych nagłówków komunikatów, które mogą być znane nieautoryzowanemu użytkownikowi.</span><span class="sxs-lookup"><span data-stu-id="c32fc-162">When this system is used, common message headers that might be known to an unauthorized user cannot be used to reverse-engineer a key.</span></span>

<span data-ttu-id="c32fc-163">Jednym ze sposobów na złamanie danych szyfrowanych za pomocą szyfru CBC jest wykonanie pełnego wyszukiwania każdego możliwego klucza.</span><span class="sxs-lookup"><span data-stu-id="c32fc-163">One way to compromise data that is encrypted with a CBC cipher is to perform an exhaustive search of every possible key.</span></span> <span data-ttu-id="c32fc-164">W zależności od rozmiaru klucza, który jest używany do szyfrowania, ten rodzaj wyszukiwania jest bardzo czasochłonny przy użyciu nawet najszybszych komputerów i dlatego jest nieosiągalny.</span><span class="sxs-lookup"><span data-stu-id="c32fc-164">Depending on the size of the key that is used to perform encryption, this kind of search is very time-consuming using even the fastest computers and is therefore infeasible.</span></span> <span data-ttu-id="c32fc-165">Większe rozmiary kluczy są trudniejsze do odszyfrowania.</span><span class="sxs-lookup"><span data-stu-id="c32fc-165">Larger key sizes are more difficult to decipher.</span></span> <span data-ttu-id="c32fc-166">Chociaż szyfrowanie nie sprawia, że jest teoretycznie niemożliwe do pobrania zaszyfrowanych danych przez atakującej, zwiększa to koszt.</span><span class="sxs-lookup"><span data-stu-id="c32fc-166">Although encryption does not make it theoretically impossible for an adversary to retrieve the encrypted data, it does raise the cost of doing this.</span></span> <span data-ttu-id="c32fc-167">Jeśli przeprowadzenie szczegółowego wyszukiwania w celu pobrania danych, które ma znaczenie tylko przez kilka dni, trwa przez trzy miesiące, pełna Metoda wyszukiwania jest nieprzydatna.</span><span class="sxs-lookup"><span data-stu-id="c32fc-167">If it takes three months to perform an exhaustive search to retrieve data that is meaningful only for a few days, the exhaustive search method is impractical.</span></span>

<span data-ttu-id="c32fc-168">Wadą szyfrowania klucza tajnego jest założenie, że dwie strony zgodziły się na klucz i IV i komunikują się ich wartości.</span><span class="sxs-lookup"><span data-stu-id="c32fc-168">The disadvantage of secret-key encryption is that it presumes two parties have agreed on a key and IV, and communicated their values.</span></span> <span data-ttu-id="c32fc-169">IV nie jest traktowany jako wpis tajny i może być przesyłany w postaci zwykłego tekstu z wiadomością.</span><span class="sxs-lookup"><span data-stu-id="c32fc-169">The IV is not considered a secret and can be transmitted in plaintext with the message.</span></span> <span data-ttu-id="c32fc-170">Klucz musi być jednak tajny dla nieautoryzowanych użytkowników.</span><span class="sxs-lookup"><span data-stu-id="c32fc-170">However, the key must be kept secret from unauthorized users.</span></span> <span data-ttu-id="c32fc-171">Ze względu na te problemy szyfrowanie klucza tajnego jest często używane razem z szyfrowaniem klucza publicznego do prywatnego przekazywania wartości klucza i IV.</span><span class="sxs-lookup"><span data-stu-id="c32fc-171">Because of these problems, secret-key encryption is often used together with public-key encryption to privately communicate the values of the key and IV.</span></span>

<span data-ttu-id="c32fc-172">Przy założeniu, że Alicja i Robert są dwiema stronami, którzy chcą komunikować się za pośrednictwem niezabezpieczonego kanału, mogą używać szyfrowania klucza tajnego w następujący sposób: Alicja i Robert zgadzają się używać jednego określonego algorytmu (na przykład AES) z określonym kluczem i IV.</span><span class="sxs-lookup"><span data-stu-id="c32fc-172">Assuming that Alice and Bob are two parties who want to communicate over a nonsecure channel, they might use secret-key encryption as follows: Alice and Bob agree to use one particular algorithm (AES, for example) with a particular key and IV.</span></span> <span data-ttu-id="c32fc-173">Alicja redaguje komunikat i utworzy strumień sieciowy (być może nazwany potok lub sieć e-mail), na którym ma być wysyłany komunikat.</span><span class="sxs-lookup"><span data-stu-id="c32fc-173">Alice composes a message and creates a network stream (perhaps a named pipe or network email) on which to send the message.</span></span> <span data-ttu-id="c32fc-174">Następnie szyfruje tekst przy użyciu klucza i IV, a następnie przesyła zaszyfrowaną wiadomość i IV do Roberta za pośrednictwem intranetu.</span><span class="sxs-lookup"><span data-stu-id="c32fc-174">Next, she encrypts the text using the key and IV, and sends the encrypted message and IV to Bob over the intranet.</span></span> <span data-ttu-id="c32fc-175">Robert odbiera zaszyfrowany tekst i odszyfrowuje go przy użyciu IV i wcześniej uzgodnionych kluczy.</span><span class="sxs-lookup"><span data-stu-id="c32fc-175">Bob receives the encrypted text and decrypts it by using the IV and previously agreed upon key.</span></span> <span data-ttu-id="c32fc-176">Jeśli transmisja zostanie przechwycona, Interceptor nie będzie mógł odzyskać oryginalnego komunikatu, ponieważ nie zna klucza.</span><span class="sxs-lookup"><span data-stu-id="c32fc-176">If the transmission is intercepted, the interceptor cannot recover the original message, because they do not know the key.</span></span> <span data-ttu-id="c32fc-177">W tym scenariuszu tylko klucz musi pozostać tajny.</span><span class="sxs-lookup"><span data-stu-id="c32fc-177">In this scenario, only the key must remain secret.</span></span> <span data-ttu-id="c32fc-178">W świecie rzeczywistym, Alicja lub Robert generuje klucz tajny i używa szyfrowania klucza publicznego (asymetrycznego) do transferowania klucza tajnego (symetrycznego) do drugiej strony.</span><span class="sxs-lookup"><span data-stu-id="c32fc-178">In a real world scenario, either Alice or Bob generates a secret key and uses public-key (asymmetric) encryption to transfer the secret (symmetric) key to the other party.</span></span> <span data-ttu-id="c32fc-179">Aby uzyskać więcej informacji na temat szyfrowania kluczem publicznym, zobacz następną sekcję.</span><span class="sxs-lookup"><span data-stu-id="c32fc-179">For more information about public-key encryption, see the next section.</span></span>

<span data-ttu-id="c32fc-180">Platforma .NET udostępnia następujące klasy, które implementują algorytmy szyfrowania klucza tajnego:</span><span class="sxs-lookup"><span data-stu-id="c32fc-180">.NET provides the following classes that implement secret-key encryption algorithms:</span></span>

- <xref:System.Security.Cryptography.Aes>

- <span data-ttu-id="c32fc-181"><xref:System.Security.Cryptography.HMACSHA256><xref:System.Security.Cryptography.HMACSHA384>i <xref:System.Security.Cryptography.HMACSHA512> .</span><span class="sxs-lookup"><span data-stu-id="c32fc-181"><xref:System.Security.Cryptography.HMACSHA256>, <xref:System.Security.Cryptography.HMACSHA384> and <xref:System.Security.Cryptography.HMACSHA512>.</span></span> <span data-ttu-id="c32fc-182">(Są to techniczne algorytmy tajne klucza, ponieważ reprezentują kody uwierzytelniania wiadomości, które są obliczane przy użyciu funkcji skrótu kryptograficznego połączonej z kluczem tajnym.</span><span class="sxs-lookup"><span data-stu-id="c32fc-182">(These are technically secret-key algorithms because they represent message authentication codes that are calculated by using a cryptographic hash function combined with a secret key.</span></span> <span data-ttu-id="c32fc-183">Zobacz [wartości skrótu](#hash-values)w dalszej części tego artykułu.)</span><span class="sxs-lookup"><span data-stu-id="c32fc-183">See [Hash Values](#hash-values), later in this article.)</span></span>

## <a name="public-key-encryption"></a><span data-ttu-id="c32fc-184">Szyfrowanie klucza publicznego</span><span class="sxs-lookup"><span data-stu-id="c32fc-184">Public-Key Encryption</span></span>

<span data-ttu-id="c32fc-185">Szyfrowanie klucza publicznego używa klucza prywatnego, który musi być tajny przez nieautoryzowanych użytkowników i klucz publiczny, który można udostępnić każdemu użytkownikowi.</span><span class="sxs-lookup"><span data-stu-id="c32fc-185">Public-key encryption uses a private key that must be kept secret from unauthorized users and a public key that can be made public to anyone.</span></span> <span data-ttu-id="c32fc-186">Klucz publiczny i klucz prywatny są powiązane matematycznie; dane zaszyfrowane za pomocą klucza publicznego mogą zostać odszyfrowane tylko przy użyciu klucza prywatnego, a dane podpisane przy użyciu klucza prywatnego mogą być weryfikowane tylko z kluczem publicznym.</span><span class="sxs-lookup"><span data-stu-id="c32fc-186">The public key and the private key are mathematically linked; data that is encrypted with the public key can be decrypted only with the private key, and data that is signed with the private key can be verified only with the public key.</span></span> <span data-ttu-id="c32fc-187">Klucz publiczny można udostępnić każdemu użytkownikowi; służy do szyfrowania danych wysyłanych do posiadacza klucza prywatnego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-187">The public key can be made available to anyone; it is used for encrypting data to be sent to the keeper of the private key.</span></span> <span data-ttu-id="c32fc-188">Algorytmy kryptograficzne klucza publicznego są również znane jako algorytmy asymetryczne, ponieważ jeden klucz jest wymagany do szyfrowania danych, a do odszyfrowania danych jest wymagany inny klucz.</span><span class="sxs-lookup"><span data-stu-id="c32fc-188">Public-key cryptographic algorithms are also known as asymmetric algorithms because one key is required to encrypt data, and another key is required to decrypt data.</span></span> <span data-ttu-id="c32fc-189">Podstawowa reguła kryptograficzna uniemożliwia ponowne użycie klucza, a oba klucze powinny być unikatowe dla każdej sesji komunikacji.</span><span class="sxs-lookup"><span data-stu-id="c32fc-189">A basic cryptographic rule prohibits key reuse, and both keys should be unique for each communication session.</span></span> <span data-ttu-id="c32fc-190">Jednak w przypadku klucze asymetryczne są zwykle długotrwałe.</span><span class="sxs-lookup"><span data-stu-id="c32fc-190">However, in practice, asymmetric keys are generally long-lived.</span></span>

<span data-ttu-id="c32fc-191">Dwie strony (Alicja i Robert) mogą używać szyfrowania klucza publicznego w następujący sposób: najpierw Alicja generuje parę kluczy publiczny/prywatny.</span><span class="sxs-lookup"><span data-stu-id="c32fc-191">Two parties (Alice and Bob) might use public-key encryption as follows: First, Alice generates a public/private key pair.</span></span> <span data-ttu-id="c32fc-192">Jeśli Robert chce wysłać zaszyfrowaną wiadomość, zażąda jej klucza publicznego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-192">If Bob wants to send Alice an encrypted message, he asks her for her public key.</span></span> <span data-ttu-id="c32fc-193">Alicja wysyła swój klucz publiczny za pośrednictwem niezabezpieczonej sieci, a Robert używa tego klucza do szyfrowania wiadomości.</span><span class="sxs-lookup"><span data-stu-id="c32fc-193">Alice sends Bob her public key over a nonsecure network, and Bob uses this key to encrypt a message.</span></span> <span data-ttu-id="c32fc-194">Robert wysyła zaszyfrowany komunikat do programu Alicja i odszyfrowuje go przy użyciu jego klucza prywatnego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-194">Bob sends the encrypted message to Alice, and she decrypts it by using her private key.</span></span> <span data-ttu-id="c32fc-195">Jeśli Robert otrzyma klucz Alicja za pośrednictwem niezabezpieczonego kanału, takiego jak sieć publiczna, Robert jest otwarty na ataki typu man-in-the-middle.</span><span class="sxs-lookup"><span data-stu-id="c32fc-195">If Bob received Alice's key over a nonsecure channel, such as a public network, Bob is open to a man-in-the-middle attack.</span></span> <span data-ttu-id="c32fc-196">W związku z tym Robert musi zweryfikować za pomocą Alicja, że ma poprawną kopię swojego klucza publicznego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-196">Therefore, Bob must verify with Alice that he has a correct copy of her public key.</span></span>

<span data-ttu-id="c32fc-197">Podczas przesyłania klucza publicznego Alicja nieautoryzowany agent może przechwycić klucz.</span><span class="sxs-lookup"><span data-stu-id="c32fc-197">During the transmission of Alice's public key, an unauthorized agent might intercept the key.</span></span> <span data-ttu-id="c32fc-198">Ponadto ten sam Agent może przechwycić zaszyfrowany komunikat z Roberta.</span><span class="sxs-lookup"><span data-stu-id="c32fc-198">Furthermore, the same agent might intercept the encrypted message from Bob.</span></span> <span data-ttu-id="c32fc-199">Jednak Agent nie może odszyfrować komunikatu przy użyciu klucza publicznego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-199">However, the agent cannot decrypt the message with the public key.</span></span> <span data-ttu-id="c32fc-200">Wiadomość można odszyfrować tylko za pomocą klucza prywatnego Alicja, który nie został przesłany.</span><span class="sxs-lookup"><span data-stu-id="c32fc-200">The message can be decrypted only with Alice's private key, which has not been transmitted.</span></span> <span data-ttu-id="c32fc-201">Alicja nie używa swojego klucza prywatnego do szyfrowania komunikatu odpowiedzi do Roberta, ponieważ każda osoba z kluczem publicznym może odszyfrować komunikat.</span><span class="sxs-lookup"><span data-stu-id="c32fc-201">Alice does not use her private key to encrypt a reply message to Bob, because anyone with the public key could decrypt the message.</span></span> <span data-ttu-id="c32fc-202">Jeśli Alicja chce wysłać komunikat z powrotem do Roberta, prosi Roberta o jego klucz publiczny i szyfruje jego komunikat przy użyciu tego klucza publicznego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-202">If Alice wants to send a message back to Bob, she asks Bob for his public key and encrypts her message using that public key.</span></span> <span data-ttu-id="c32fc-203">Robert następnie odszyfrowuje komunikat przy użyciu skojarzonego z nim klucza prywatnego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-203">Bob then decrypts the message using his associated private key.</span></span>

<span data-ttu-id="c32fc-204">W tym scenariuszu Alicja i Robert używają szyfrowania klucza publicznego (asymetrycznego) do transferowania klucza tajnego (symetrycznego) i korzystania z szyfrowania klucza tajnego w pozostałej części sesji.</span><span class="sxs-lookup"><span data-stu-id="c32fc-204">In this scenario, Alice and Bob use public-key (asymmetric) encryption to transfer a secret (symmetric) key and use secret-key encryption for the remainder of their session.</span></span>

<span data-ttu-id="c32fc-205">Poniższa lista zawiera porównania między algorytmami kryptograficznymi klucza publicznego i klucza tajnego:</span><span class="sxs-lookup"><span data-stu-id="c32fc-205">The following list offers comparisons between public-key and secret-key cryptographic algorithms:</span></span>

- <span data-ttu-id="c32fc-206">Algorytmy kryptograficzne klucza publicznego używają stałego rozmiaru buforu, natomiast algorytmy kryptograficzne klucza tajnego używają bufora o zmiennej długości.</span><span class="sxs-lookup"><span data-stu-id="c32fc-206">Public-key cryptographic algorithms use a fixed buffer size, whereas secret-key cryptographic algorithms use a variable-length buffer.</span></span>

- <span data-ttu-id="c32fc-207">Algorytmy klucza publicznego nie mogą być używane do łączenia danych ze strumieniami, tak jak algorytmy klucza tajnego, ponieważ mogą być szyfrowane tylko małe ilości danych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-207">Public-key algorithms cannot be used to chain data together into streams the way secret-key algorithms can, because only small amounts of data can be encrypted.</span></span> <span data-ttu-id="c32fc-208">W związku z tym operacje asymetryczne nie używają tego samego modelu przesyłania strumieniowego jako operacji symetrycznych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-208">Therefore, asymmetric operations do not use the same streaming model as symmetric operations.</span></span>

- <span data-ttu-id="c32fc-209">Szyfrowanie klucza publicznego ma znacznie większe miejsce na klucz (zakres możliwych wartości klucza) niż szyfrowanie klucza tajnego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-209">Public-key encryption has a much larger keyspace (range of possible values for the key) than secret-key encryption.</span></span> <span data-ttu-id="c32fc-210">W związku z tym szyfrowanie klucza publicznego jest mniej podatne na pełne ataki, które Wypróbuj każdy możliwy klucz.</span><span class="sxs-lookup"><span data-stu-id="c32fc-210">Therefore, public-key encryption is less susceptible to exhaustive attacks that try every possible key.</span></span>

- <span data-ttu-id="c32fc-211">Klucze publiczne są łatwe do dystrybucji, ponieważ nie muszą być zabezpieczone, pod warunkiem, że istnieje możliwość zweryfikowania tożsamości nadawcy.</span><span class="sxs-lookup"><span data-stu-id="c32fc-211">Public keys are easy to distribute because they do not have to be secured, provided that some way exists to verify the identity of the sender.</span></span>

- <span data-ttu-id="c32fc-212">Niektóre algorytmy klucza publicznego (takie jak RSA i DSA, ale nie Diffie-Hellmana) mogą służyć do tworzenia podpisów cyfrowych w celu zweryfikowania tożsamości nadawcy danych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-212">Some public-key algorithms (such as RSA and DSA, but not Diffie-Hellman) can be used to create digital signatures to verify the identity of the sender of data.</span></span>

- <span data-ttu-id="c32fc-213">Algorytmy klucza publicznego są bardzo wolne w porównaniu z algorytmami tajnych kluczy i nie są przeznaczone do szyfrowania dużych ilości danych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-213">Public-key algorithms are very slow compared with secret-key algorithms, and are not designed to encrypt large amounts of data.</span></span> <span data-ttu-id="c32fc-214">Algorytmy klucza publicznego są przydatne tylko do przesyłania bardzo małych ilości danych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-214">Public-key algorithms are useful only for transferring very small amounts of data.</span></span> <span data-ttu-id="c32fc-215">Zazwyczaj szyfrowanie klucza publicznego służy do szyfrowania klucza i IV, który ma być używany przez algorytm tajnego klucza.</span><span class="sxs-lookup"><span data-stu-id="c32fc-215">Typically, public-key encryption is used to encrypt a key and IV to be used by a secret-key algorithm.</span></span> <span data-ttu-id="c32fc-216">Po przeniesieniu klucza i IV, szyfrowanie klucza tajnego jest używane w pozostałej części sesji.</span><span class="sxs-lookup"><span data-stu-id="c32fc-216">After the key and IV are transferred, secret-key encryption is used for the remainder of the session.</span></span>

<span data-ttu-id="c32fc-217">Platforma .NET udostępnia następujące klasy, które implementują algorytmy klucza publicznego:</span><span class="sxs-lookup"><span data-stu-id="c32fc-217">.NET provides the following classes that implement public-key algorithms:</span></span>

- <xref:System.Security.Cryptography.RSA>

- <xref:System.Security.Cryptography.ECDsa>

- <xref:System.Security.Cryptography.ECDiffieHellman>

- <xref:System.Security.Cryptography.DSA>

<span data-ttu-id="c32fc-218">Klucz RSA umożliwia szyfrowanie i podpisywanie, ale agenta DSA można używać tylko do podpisywania.</span><span class="sxs-lookup"><span data-stu-id="c32fc-218">RSA allows both encryption and signing, but DSA can be used only for signing.</span></span> <span data-ttu-id="c32fc-219">Agent DSA nie jest zgodny z algorytmem RSA i zalecamy użycie algorytmu RSA.</span><span class="sxs-lookup"><span data-stu-id="c32fc-219">DSA is not as secure as RSA, and we recommend RSA.</span></span> <span data-ttu-id="c32fc-220">Diffie-Hellmana można używać tylko na potrzeby generowania kluczy.</span><span class="sxs-lookup"><span data-stu-id="c32fc-220">Diffie-Hellman can be used only for key generation.</span></span> <span data-ttu-id="c32fc-221">Ogólnie rzecz biorąc, algorytmy klucza publicznego są bardziej ograniczone w porównaniu z algorytmami klucza prywatnego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-221">In general, public-key algorithms are more limited in their uses than private-key algorithms.</span></span>

## <a name="digital-signatures"></a><span data-ttu-id="c32fc-222">Podpisy cyfrowe</span><span class="sxs-lookup"><span data-stu-id="c32fc-222">Digital Signatures</span></span>

<span data-ttu-id="c32fc-223">Algorytmy klucza publicznego mogą również służyć do tworzenia podpisów cyfrowych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-223">Public-key algorithms can also be used to form digital signatures.</span></span> <span data-ttu-id="c32fc-224">Podpisy cyfrowe uwierzytelniają tożsamość nadawcy (w przypadku zaufania klucza publicznego nadawcy) i pomagają chronić integralność danych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-224">Digital signatures authenticate the identity of a sender (if you trust the sender's public key) and help protect the integrity of data.</span></span> <span data-ttu-id="c32fc-225">Przy użyciu klucza publicznego wygenerowanego przez Alicja, odbiorca danych Alicja może sprawdzić, czy Alicja je wysłała, porównując podpis cyfrowy z danymi i kluczem publicznym Alicja.</span><span class="sxs-lookup"><span data-stu-id="c32fc-225">Using a public key generated by Alice, the recipient of Alice's data can verify that Alice sent it by comparing the digital signature to Alice's data and Alice's public key.</span></span>

<span data-ttu-id="c32fc-226">Aby użyć kryptografii klucza publicznego do cyfrowego podpisywania wiadomości, Alicja najpierw stosuje algorytm wyznaczania wartości skrótu do wiadomości, aby utworzyć skrót wiadomości.</span><span class="sxs-lookup"><span data-stu-id="c32fc-226">To use public-key cryptography to digitally sign a message, Alice first applies a hash algorithm to the message to create a message digest.</span></span> <span data-ttu-id="c32fc-227">Skrót wiadomości jest zwartą i unikatową reprezentacją danych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-227">The message digest is a compact and unique representation of data.</span></span> <span data-ttu-id="c32fc-228">Alicja szyfruje następnie skrót wiadomości przy użyciu klucza prywatnego w celu utworzenia podpisu osobistego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-228">Alice then encrypts the message digest with her private key to create her personal signature.</span></span> <span data-ttu-id="c32fc-229">Po odebraniu wiadomości i sygnatury Robert odszyfrowuje podpis przy użyciu klucza publicznego Alicja, aby odzyskać skrót wiadomości i skrócić komunikat przy użyciu tego samego algorytmu wyznaczania wartości skrótu używanego przez Alicja.</span><span class="sxs-lookup"><span data-stu-id="c32fc-229">Upon receiving the message and signature, Bob decrypts the signature using Alice's public key to recover the message digest and hashes the message using the same hash algorithm that Alice used.</span></span> <span data-ttu-id="c32fc-230">Jeśli skrót wiadomości, który jest obliczany przez Robert, dokładnie pasuje do skrótu wiadomości otrzymanego od Alicja, Robert ma pewność, że wiadomość pochodzi od posiadacza klucza prywatnego i że dane nie zostały zmodyfikowane.</span><span class="sxs-lookup"><span data-stu-id="c32fc-230">If the message digest that Bob computes exactly matches the message digest received from Alice, Bob is assured that the message came from the possessor of the private key and that the data has not been modified.</span></span> <span data-ttu-id="c32fc-231">Jeśli Robert ufa, że Alicja jest posiadaczem klucza prywatnego, wie, że wiadomość pochodzi od Alicja.</span><span class="sxs-lookup"><span data-stu-id="c32fc-231">If Bob trusts that Alice is the possessor of the private key, he knows that the message came from Alice.</span></span>

> [!NOTE]
> <span data-ttu-id="c32fc-232">Podpis może być zweryfikowany przez każdego użytkownika, ponieważ klucz publiczny nadawcy jest powszechną wiedzą i zazwyczaj jest uwzględniany w formacie podpisu cyfrowego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-232">A signature can be verified by anyone because the sender's public key is common knowledge and is typically included in the digital signature format.</span></span> <span data-ttu-id="c32fc-233">Ta metoda nie zachowuje tajemnicy wiadomości; Aby komunikat był tajny, musi również być zaszyfrowany.</span><span class="sxs-lookup"><span data-stu-id="c32fc-233">This method does not retain the secrecy of the message; for the message to be secret, it must also be encrypted.</span></span>

<span data-ttu-id="c32fc-234">Platforma .NET udostępnia następujące klasy, które implementują algorytmy podpisu cyfrowego:</span><span class="sxs-lookup"><span data-stu-id="c32fc-234">.NET provides the following classes that implement digital signature algorithms:</span></span>

- <xref:System.Security.Cryptography.RSA>

- <xref:System.Security.Cryptography.ECDsa>

- <xref:System.Security.Cryptography.DSA>

## <a name="hash-values"></a><span data-ttu-id="c32fc-235">Wartości skrótu</span><span class="sxs-lookup"><span data-stu-id="c32fc-235">Hash Values</span></span>

<span data-ttu-id="c32fc-236">Algorytmy skrótu mapują wartości binarne dowolnej długości na mniejsze wartości binarne o stałej długości, znane jako wartości skrótu.</span><span class="sxs-lookup"><span data-stu-id="c32fc-236">Hash algorithms map binary values of an arbitrary length to smaller binary values of a fixed length, known as hash values.</span></span> <span data-ttu-id="c32fc-237">Wartość skrótu jest cyfrową reprezentacją fragmentu danych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-237">A hash value is a numerical representation of a piece of data.</span></span> <span data-ttu-id="c32fc-238">Jeśli Mieszasz akapit w postaci zwykłego tekstu i zmienisz nawet jedną literę akapitu, kolejny skrót będzie generował inną wartość.</span><span class="sxs-lookup"><span data-stu-id="c32fc-238">If you hash a paragraph of plaintext and change even one letter of the paragraph, a subsequent hash will produce a different value.</span></span> <span data-ttu-id="c32fc-239">Jeśli skrót jest silnie silny, jego wartość zmieni się w istotny sposób.</span><span class="sxs-lookup"><span data-stu-id="c32fc-239">If the hash is cryptographically strong, its value will change significantly.</span></span> <span data-ttu-id="c32fc-240">Na przykład jeśli zostanie zmieniony pojedynczy bit komunikatu, funkcja silnego skrótu może generować dane wyjściowe, które różnią się o 50 procent.</span><span class="sxs-lookup"><span data-stu-id="c32fc-240">For example, if a single bit of a message is changed, a strong hash function may produce an output that differs by 50 percent.</span></span> <span data-ttu-id="c32fc-241">Wiele wartości wejściowych może być zmieszanych z tą samą wartością wyjściową.</span><span class="sxs-lookup"><span data-stu-id="c32fc-241">Many input values may hash to the same output value.</span></span> <span data-ttu-id="c32fc-242">Nie jest jednak możliwe obliczenie dwóch odrębnych wejść, które mieszają się z tą samą wartością.</span><span class="sxs-lookup"><span data-stu-id="c32fc-242">However, it is computationally infeasible to find two distinct inputs that hash to the same value.</span></span>

<span data-ttu-id="c32fc-243">Dwie strony (Alicja i Robert) mogą używać funkcji skrótu, aby zapewnić integralność komunikatów.</span><span class="sxs-lookup"><span data-stu-id="c32fc-243">Two parties (Alice and Bob) could use a hash function to ensure message integrity.</span></span> <span data-ttu-id="c32fc-244">Spowodują wybranie algorytmu wyznaczania wartości skrótu w celu podpisania swoich komunikatów.</span><span class="sxs-lookup"><span data-stu-id="c32fc-244">They would select a hash algorithm to sign their messages.</span></span> <span data-ttu-id="c32fc-245">Alicja zapisze komunikat, a następnie utworzy skrót tego komunikatu przy użyciu wybranego algorytmu.</span><span class="sxs-lookup"><span data-stu-id="c32fc-245">Alice would write a message, and then create a hash of that message by using the selected algorithm.</span></span> <span data-ttu-id="c32fc-246">Następnie zastosują jedną z następujących metod:</span><span class="sxs-lookup"><span data-stu-id="c32fc-246">They would then follow one of the following methods:</span></span>

- <span data-ttu-id="c32fc-247">Alicja wysyła wiadomość w postaci zwykłego tekstu oraz komunikat z mieszaniem (podpis cyfrowy) do Roberta.</span><span class="sxs-lookup"><span data-stu-id="c32fc-247">Alice sends the plaintext message and the hashed message (digital signature) to Bob.</span></span> <span data-ttu-id="c32fc-248">Robert odbiera i miesza komunikat i porównuje jego wartość skrótu z wartością skrótu uzyskaną od Alicja.</span><span class="sxs-lookup"><span data-stu-id="c32fc-248">Bob receives and hashes the message and compares his hash value to the hash value that he received from Alice.</span></span> <span data-ttu-id="c32fc-249">Jeśli wartości skrótu są identyczne, komunikat nie został zmieniony.</span><span class="sxs-lookup"><span data-stu-id="c32fc-249">If the hash values are identical, the message was not altered.</span></span> <span data-ttu-id="c32fc-250">Jeśli wartości nie są identyczne, komunikat został zmieniony po jego zapisaniu przez Alicja.</span><span class="sxs-lookup"><span data-stu-id="c32fc-250">If the values are not identical, the message was altered after Alice wrote it.</span></span>

  <span data-ttu-id="c32fc-251">Niestety, ta metoda nie ustala autentyczności nadawcy.</span><span class="sxs-lookup"><span data-stu-id="c32fc-251">Unfortunately, this method does not establish the authenticity of the sender.</span></span> <span data-ttu-id="c32fc-252">Każdy może personifikować Alicja i wysłać wiadomość do Roberta.</span><span class="sxs-lookup"><span data-stu-id="c32fc-252">Anyone can impersonate Alice and send a message to Bob.</span></span> <span data-ttu-id="c32fc-253">Mogą używać tego samego algorytmu wyznaczania wartości skrótu do podpisywania wiadomości, a cała Robert może określić, że wiadomość pasuje do podpisu.</span><span class="sxs-lookup"><span data-stu-id="c32fc-253">They can use the same hash algorithm to sign their message, and all Bob can determine is that the message matches its signature.</span></span> <span data-ttu-id="c32fc-254">Jest to jedna z form ataku typu man-in-the-middle.</span><span class="sxs-lookup"><span data-stu-id="c32fc-254">This is one form of a man-in-the-middle attack.</span></span> <span data-ttu-id="c32fc-255">Aby uzyskać więcej informacji, zobacz [przykład bezpiecznej komunikacji Secure Generation (CNG)](https://docs.microsoft.com/previous-versions/cc488018(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="c32fc-255">For more information, see [Cryptography Next Generation (CNG) Secure Communication Example](https://docs.microsoft.com/previous-versions/cc488018(v=vs.100)).</span></span>

- <span data-ttu-id="c32fc-256">Alicja wysyła wiadomość w postaci zwykłego tekstu do Roberta za pośrednictwem niezabezpieczonego kanału publicznego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-256">Alice sends the plaintext message to Bob over a nonsecure public channel.</span></span> <span data-ttu-id="c32fc-257">Wysyła komunikat z mieszaniem do Roberta za pośrednictwem bezpiecznego kanału prywatnego.</span><span class="sxs-lookup"><span data-stu-id="c32fc-257">She sends the hashed message to Bob over a secure private channel.</span></span> <span data-ttu-id="c32fc-258">Robert odbiera komunikat w postaci zwykłego tekstu, miesza go i porównuje skrót z wymieniem prywatnym.</span><span class="sxs-lookup"><span data-stu-id="c32fc-258">Bob receives the plaintext message, hashes it, and compares the hash to the privately exchanged hash.</span></span> <span data-ttu-id="c32fc-259">Jeśli skróty są zgodne, Robert wie dwie rzeczy:</span><span class="sxs-lookup"><span data-stu-id="c32fc-259">If the hashes match, Bob knows two things:</span></span>

  - <span data-ttu-id="c32fc-260">Komunikat nie został zmieniony.</span><span class="sxs-lookup"><span data-stu-id="c32fc-260">The message was not altered.</span></span>

  - <span data-ttu-id="c32fc-261">Nadawca wiadomości (Alicja) jest autentyczny.</span><span class="sxs-lookup"><span data-stu-id="c32fc-261">The sender of the message (Alice) is authentic.</span></span>

  <span data-ttu-id="c32fc-262">Aby ten system działał, Alicja musi ukryć oryginalną wartość skrótu ze wszystkich stron oprócz Roberta.</span><span class="sxs-lookup"><span data-stu-id="c32fc-262">For this system to work, Alice must hide her original hash value from all parties except Bob.</span></span>

- <span data-ttu-id="c32fc-263">Alicja wysyła wiadomość w postaci zwykłego tekstu do Roberta za pośrednictwem niezabezpieczonego kanału publicznego i umieszcza komunikat o skrócie w swojej publicznej witrynie sieci Web.</span><span class="sxs-lookup"><span data-stu-id="c32fc-263">Alice sends the plaintext message to Bob over a nonsecure public channel and places the hashed message on her publicly viewable Web site.</span></span>

  <span data-ttu-id="c32fc-264">Ta metoda zapobiega manipulowaniu komunikatów przez uniemożliwianie innym użytkownikom modyfikowania wartości skrótu.</span><span class="sxs-lookup"><span data-stu-id="c32fc-264">This method prevents message tampering by preventing anyone from modifying the hash value.</span></span> <span data-ttu-id="c32fc-265">Chociaż komunikat i jego wartość skrótu mogą być odczytywane przez każdego użytkownika, wartość skrótu można zmienić tylko przez Alicja.</span><span class="sxs-lookup"><span data-stu-id="c32fc-265">Although the message and its hash can be read by anyone, the hash value can be changed only by Alice.</span></span> <span data-ttu-id="c32fc-266">Osoba atakująca, która chce personifikować Alicja, będzie wymagać dostępu do witryny sieci Web Alicja.</span><span class="sxs-lookup"><span data-stu-id="c32fc-266">An attacker who wants to impersonate Alice would require access to Alice's Web site.</span></span>

<span data-ttu-id="c32fc-267">Żadna z powyższych metod nie uniemożliwi osobie odczytywania wiadomości Alicja, ponieważ są one przesyłane w postaci zwykłego tekstu.</span><span class="sxs-lookup"><span data-stu-id="c32fc-267">None of the previous methods will prevent someone from reading Alice's messages, because they are transmitted in plaintext.</span></span> <span data-ttu-id="c32fc-268">Pełne zabezpieczenia zwykle wymagają podpisów cyfrowych (podpisywanie wiadomości) i szyfrowania.</span><span class="sxs-lookup"><span data-stu-id="c32fc-268">Full security typically requires digital signatures (message signing) and encryption.</span></span>

<span data-ttu-id="c32fc-269">Platforma .NET udostępnia następujące klasy, które implementują algorytmy wyznaczania wartości skrótu:</span><span class="sxs-lookup"><span data-stu-id="c32fc-269">.NET provides the following classes that implement hashing algorithms:</span></span>

- <span data-ttu-id="c32fc-270"><xref:System.Security.Cryptography.SHA256>.</span><span class="sxs-lookup"><span data-stu-id="c32fc-270"><xref:System.Security.Cryptography.SHA256>.</span></span>

- <span data-ttu-id="c32fc-271"><xref:System.Security.Cryptography.SHA384>.</span><span class="sxs-lookup"><span data-stu-id="c32fc-271"><xref:System.Security.Cryptography.SHA384>.</span></span>

- <span data-ttu-id="c32fc-272"><xref:System.Security.Cryptography.SHA512>.</span><span class="sxs-lookup"><span data-stu-id="c32fc-272"><xref:System.Security.Cryptography.SHA512>.</span></span>

<span data-ttu-id="c32fc-273">Platforma .NET udostępnia również <xref:System.Security.Cryptography.MD5> i <xref:System.Security.Cryptography.SHA1> .</span><span class="sxs-lookup"><span data-stu-id="c32fc-273">.NET also provides <xref:System.Security.Cryptography.MD5> and <xref:System.Security.Cryptography.SHA1>.</span></span> <span data-ttu-id="c32fc-274">Ale algorytmy MD5 i SHA-1 zostały uznane za niezabezpieczone, a w zamian zaleca się stosowanie algorytmu SHA-2.</span><span class="sxs-lookup"><span data-stu-id="c32fc-274">But the MD5 and SHA-1 algorithms have been found to be insecure, and SHA-2 is now recommended instead.</span></span> <span data-ttu-id="c32fc-275">Algorytm SHA-2 zawiera SHA256, SHA384 i SHA512.</span><span class="sxs-lookup"><span data-stu-id="c32fc-275">SHA-2 includes SHA256, SHA384, and SHA512.</span></span>

## <a name="random-number-generation"></a><span data-ttu-id="c32fc-276">Generowanie liczb losowych</span><span class="sxs-lookup"><span data-stu-id="c32fc-276">Random Number Generation</span></span>

<span data-ttu-id="c32fc-277">Generowanie liczb losowych jest integralną częścią wielu operacji kryptograficznych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-277">Random number generation is integral to many cryptographic operations.</span></span> <span data-ttu-id="c32fc-278">Na przykład klucze kryptograficzne muszą być tak losowo, jak to możliwe, aby było niemożliwe do odtworzenia.</span><span class="sxs-lookup"><span data-stu-id="c32fc-278">For example, cryptographic keys need to be as random as possible so that it is infeasible to reproduce them.</span></span> <span data-ttu-id="c32fc-279">Kryptograficzne generatory liczb losowych muszą generować dane wyjściowe, które nie są obliczeniowe do przewidywania z prawdopodobieństwem, który jest lepszy niż jedna połowa.</span><span class="sxs-lookup"><span data-stu-id="c32fc-279">Cryptographic random number generators must generate output that is computationally infeasible to predict with a probability that is better than one half.</span></span> <span data-ttu-id="c32fc-280">W związku z tym jakakolwiek metoda przewidywania następnego bitu wyjściowego nie może być większa niż losowe zgadywanie.</span><span class="sxs-lookup"><span data-stu-id="c32fc-280">Therefore, any method of predicting the next output bit must not perform better than random guessing.</span></span> <span data-ttu-id="c32fc-281">Klasy w .NET Framework używają losowych generatorów liczbowych do generowania kluczy kryptograficznych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-281">The classes in the .NET Framework use random number generators to generate cryptographic keys.</span></span>

<span data-ttu-id="c32fc-282"><xref:System.Security.Cryptography.RandomNumberGenerator>Klasa jest implementacją algorytmu generatora liczb losowych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-282">The <xref:System.Security.Cryptography.RandomNumberGenerator> class is an implementation of a random number generator algorithm.</span></span>

## <a name="clickonce-manifests"></a><span data-ttu-id="c32fc-283">Manifesty ClickOnce</span><span class="sxs-lookup"><span data-stu-id="c32fc-283">ClickOnce Manifests</span></span>

<span data-ttu-id="c32fc-284">W .NET Framework 3,5 następujące klasy kryptograficzne umożliwiają uzyskanie i zweryfikowanie informacji o sygnaturach manifestu dla aplikacji, które są wdrażane przy użyciu [technologii ClickOnce](/visualstudio/deployment/clickonce-security-and-deployment):</span><span class="sxs-lookup"><span data-stu-id="c32fc-284">In the .NET Framework 3.5, the following cryptography classes let you obtain and verify information about manifest signatures for applications that are deployed using [ClickOnce technology](/visualstudio/deployment/clickonce-security-and-deployment):</span></span>

- <span data-ttu-id="c32fc-285"><xref:System.Security.Cryptography.ManifestSignatureInformation>Klasa uzyskuje informacje o sygnaturze manifestu w przypadku użycia <xref:System.Security.Cryptography.ManifestSignatureInformation.VerifySignature%2A> przeciążeń metody.</span><span class="sxs-lookup"><span data-stu-id="c32fc-285">The <xref:System.Security.Cryptography.ManifestSignatureInformation> class obtains information about a manifest signature when you use its <xref:System.Security.Cryptography.ManifestSignatureInformation.VerifySignature%2A> method overloads.</span></span>

- <span data-ttu-id="c32fc-286">Można użyć wyliczenia, <xref:System.Security.ManifestKinds> Aby określić, które manifesty należy zweryfikować.</span><span class="sxs-lookup"><span data-stu-id="c32fc-286">You can use the <xref:System.Security.ManifestKinds> enumeration to specify which manifests to verify.</span></span> <span data-ttu-id="c32fc-287">Wynik weryfikacji jest jedną z <xref:System.Security.Cryptography.SignatureVerificationResult> wartości wyliczenia.</span><span class="sxs-lookup"><span data-stu-id="c32fc-287">The result of the verification is one of the <xref:System.Security.Cryptography.SignatureVerificationResult> enumeration values.</span></span>

- <span data-ttu-id="c32fc-288"><xref:System.Security.Cryptography.ManifestSignatureInformationCollection>Klasa zawiera kolekcję <xref:System.Security.Cryptography.ManifestSignatureInformation> obiektów z zweryfikowanymi sygnaturami tylko do odczytu.</span><span class="sxs-lookup"><span data-stu-id="c32fc-288">The <xref:System.Security.Cryptography.ManifestSignatureInformationCollection> class provides a read-only collection of <xref:System.Security.Cryptography.ManifestSignatureInformation> objects of the verified signatures.</span></span>

 <span data-ttu-id="c32fc-289">Ponadto następujące klasy zawierają określone informacje o podpisie:</span><span class="sxs-lookup"><span data-stu-id="c32fc-289">In addition, the following classes provide specific signature information:</span></span>

- <span data-ttu-id="c32fc-290"><xref:System.Security.Cryptography.StrongNameSignatureInformation>przechowuje informacje o sygnaturze silnej nazwy dla manifestu.</span><span class="sxs-lookup"><span data-stu-id="c32fc-290"><xref:System.Security.Cryptography.StrongNameSignatureInformation> holds the strong name signature information for a manifest.</span></span>

- <span data-ttu-id="c32fc-291"><xref:System.Security.Cryptography.X509Certificates.AuthenticodeSignatureInformation>reprezentuje informacje o podpisie Authenticode dla manifestu.</span><span class="sxs-lookup"><span data-stu-id="c32fc-291"><xref:System.Security.Cryptography.X509Certificates.AuthenticodeSignatureInformation> represents the Authenticode signature information for a manifest.</span></span>

- <span data-ttu-id="c32fc-292"><xref:System.Security.Cryptography.X509Certificates.TimestampInformation>zawiera informacje o sygnaturze czasowej w podpisie Authenticode.</span><span class="sxs-lookup"><span data-stu-id="c32fc-292"><xref:System.Security.Cryptography.X509Certificates.TimestampInformation> contains information about the time stamp on an Authenticode signature.</span></span>

- <span data-ttu-id="c32fc-293"><xref:System.Security.Cryptography.X509Certificates.TrustStatus>zapewnia prosty sposób sprawdzenia, czy podpis Authenticode jest zaufany.</span><span class="sxs-lookup"><span data-stu-id="c32fc-293"><xref:System.Security.Cryptography.X509Certificates.TrustStatus> provides a simple way to check whether an Authenticode signature is trusted.</span></span>

## <a name="cryptography-next-generation-cng-classes"></a><span data-ttu-id="c32fc-294">Klasy kryptografii nowej generacji (CNG)</span><span class="sxs-lookup"><span data-stu-id="c32fc-294">Cryptography Next Generation (CNG) Classes</span></span>

<span data-ttu-id="c32fc-295">W .NET Framework 3,5 i nowszych wersjach klasy kryptografii nowej generacji (CNG) zapewniają zarządzaną otokę wokół natywnych funkcji CNG.</span><span class="sxs-lookup"><span data-stu-id="c32fc-295">In the .NET Framework 3.5 and later versions, the Cryptography Next Generation (CNG) classes provide a managed wrapper around the native CNG functions.</span></span> <span data-ttu-id="c32fc-296">(CNG jest zamiennikiem interfejsu CryptoAPI). Klasy te mają "CNG" jako część swoich nazw.</span><span class="sxs-lookup"><span data-stu-id="c32fc-296">(CNG is the replacement for CryptoAPI.) These classes have "Cng" as part of their names.</span></span> <span data-ttu-id="c32fc-297">Centralnie do klas otoki CNG jest <xref:System.Security.Cryptography.CngKey> klasą kontenerów kluczy, która stanowi abstrakcyjny magazyn i użycie kluczy CNG.</span><span class="sxs-lookup"><span data-stu-id="c32fc-297">Central to the CNG wrapper classes is the <xref:System.Security.Cryptography.CngKey> key container class, which abstracts the storage and use of CNG keys.</span></span> <span data-ttu-id="c32fc-298">Ta klasa umożliwia bezpieczne przechowywanie pary kluczy lub klucza publicznego i odwoływanie się do niego przy użyciu prostej nazwy ciągu.</span><span class="sxs-lookup"><span data-stu-id="c32fc-298">This class lets you store a key pair or a public key securely and refer to it by using a simple string name.</span></span> <span data-ttu-id="c32fc-299">Klasa podpisu oparta na krzywej eliptycznej <xref:System.Security.Cryptography.ECDsaCng> i <xref:System.Security.Cryptography.ECDiffieHellmanCng> klasie szyfrowania mogą używać <xref:System.Security.Cryptography.CngKey> obiektów.</span><span class="sxs-lookup"><span data-stu-id="c32fc-299">The elliptic curve-based <xref:System.Security.Cryptography.ECDsaCng> signature class and the <xref:System.Security.Cryptography.ECDiffieHellmanCng> encryption class can use <xref:System.Security.Cryptography.CngKey> objects.</span></span>

<span data-ttu-id="c32fc-300"><xref:System.Security.Cryptography.CngKey>Klasa jest używana dla różnych dodatkowych operacji, w tym otwierania, tworzenia, usuwania i eksportowania kluczy.</span><span class="sxs-lookup"><span data-stu-id="c32fc-300">The <xref:System.Security.Cryptography.CngKey> class is used for a variety of additional operations, including opening, creating, deleting, and exporting keys.</span></span> <span data-ttu-id="c32fc-301">Zapewnia również dostęp do uchwytu klucza bazowego, który ma być używany podczas bezpośredniego wywoływania funkcji natywnych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-301">It also provides access to the underlying key handle to use when calling native functions directly.</span></span>

<span data-ttu-id="c32fc-302">.NET Framework 3,5 zawiera również różne klasy obsługi CNG, takie jak:</span><span class="sxs-lookup"><span data-stu-id="c32fc-302">The .NET Framework 3.5 also includes a variety of supporting CNG classes, such as the following:</span></span>

- <span data-ttu-id="c32fc-303"><xref:System.Security.Cryptography.CngProvider>obsługuje dostawcę magazynu kluczy.</span><span class="sxs-lookup"><span data-stu-id="c32fc-303"><xref:System.Security.Cryptography.CngProvider> maintains a key storage provider.</span></span>

- <span data-ttu-id="c32fc-304"><xref:System.Security.Cryptography.CngAlgorithm>utrzymuje algorytm CNG.</span><span class="sxs-lookup"><span data-stu-id="c32fc-304"><xref:System.Security.Cryptography.CngAlgorithm> maintains a CNG algorithm.</span></span>

- <span data-ttu-id="c32fc-305"><xref:System.Security.Cryptography.CngProperty>zachowuje często używane właściwości klucza.</span><span class="sxs-lookup"><span data-stu-id="c32fc-305"><xref:System.Security.Cryptography.CngProperty> maintains frequently used key properties.</span></span>

## <a name="see-also"></a><span data-ttu-id="c32fc-306">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="c32fc-306">See also</span></span>

- <span data-ttu-id="c32fc-307">[Model kryptografii](cryptography-model.md) — opis sposobu implementacji kryptografii w bibliotece klas bazowych.</span><span class="sxs-lookup"><span data-stu-id="c32fc-307">[Cryptography Model](cryptography-model.md) - Describes how cryptography is implemented in the base class library.</span></span>
- [<span data-ttu-id="c32fc-308">Kryptografia międzyplatformowa</span><span class="sxs-lookup"><span data-stu-id="c32fc-308">Cross-Platform Cryptography</span></span>](cross-platform-cryptography.md)
- [<span data-ttu-id="c32fc-309">Luki w zabezpieczeniach chronometrażu z odszyfrowywaniem symetrycznym w trybie CBC przy użyciu uzupełnienia</span><span class="sxs-lookup"><span data-stu-id="c32fc-309">Timing vulnerabilities with CBC-mode symmetric decryption using padding</span></span>](vulnerabilities-cbc-mode.md)
- [<span data-ttu-id="c32fc-310">Ochrona danych ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="c32fc-310">ASP.NET Core Data Protection</span></span>](/aspnet/core/security/data-protection/introduction)
