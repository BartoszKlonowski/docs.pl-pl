---
title: Wprowadzenie do serializacji XML
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- XML serialization, about XML serialization
- ICollection interface, serializing
- XmlSerializer class, serializing
- serialization, about serialization
- DataSet class, serializing
- XML Schema, serializing
ms.assetid: 8c63200d-db63-4a03-a93d-21641623df62
ms.openlocfilehash: 066c43ad84a079b40121bc55244d148679c49e48
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/04/2018
ms.locfileid: "43520500"
---
# <a name="introducing-xml-serialization"></a><span data-ttu-id="65d31-102">Wprowadzenie do serializacji XML</span><span class="sxs-lookup"><span data-stu-id="65d31-102">Introducing XML Serialization</span></span>

<span data-ttu-id="65d31-103">Serializacji to proces konwersji obiektu do formularza, który można łatwo przesłać.</span><span class="sxs-lookup"><span data-stu-id="65d31-103">Serialization is the process of converting an object into a form that can be readily transported.</span></span> <span data-ttu-id="65d31-104">Na przykład możesz wykonać serializację obiektu i transport go w Internecie między klientem a serwerem przy użyciu protokołu HTTP.</span><span class="sxs-lookup"><span data-stu-id="65d31-104">For example, you can serialize an object and transport it over the Internet using HTTP between a client and a server.</span></span> <span data-ttu-id="65d31-105">Z drugiej deserializacji rekonstruuje obiektów ze strumienia.</span><span class="sxs-lookup"><span data-stu-id="65d31-105">On the other end, deserialization reconstructs the object from the stream.</span></span>

 <span data-ttu-id="65d31-106">Wykonuje serializacji XML serializację tylko publiczny pól i wartości właściwości obiektu do strumienia XML.</span><span class="sxs-lookup"><span data-stu-id="65d31-106">XML serialization serializes only the public fields and property values of an object into an XML stream.</span></span> <span data-ttu-id="65d31-107">Serializacji XML nie zawiera informacji o typie.</span><span class="sxs-lookup"><span data-stu-id="65d31-107">XML serialization does not include type information.</span></span> <span data-ttu-id="65d31-108">Na przykład, jeśli masz **książki** obiektu, który znajduje się w **biblioteki** przestrzeni nazw, nie ma żadnej gwarancji, że jest ona przeprowadzona deserializacja obiektu tego samego typu.</span><span class="sxs-lookup"><span data-stu-id="65d31-108">For example, if you have a **Book** object that exists in the **Library** namespace, there is no guarantee that it is deserialized into an object of the same type.</span></span>

> [!NOTE]
> <span data-ttu-id="65d31-109">Serializacji XML nie konwertuje metody, indeksatory, prywatnych pola lub właściwości tylko do odczytu (z wyjątkiem kolekcji tylko do odczytu).</span><span class="sxs-lookup"><span data-stu-id="65d31-109">XML serialization does not convert methods, indexers, private fields, or read-only properties (except read-only collections).</span></span> <span data-ttu-id="65d31-110">Do serializacji obiektu wszystkie pola i właściwości, zarówno publiczne, jak i prywatnych, użyj <xref:System.Runtime.Serialization.DataContractSerializer> zamiast serializacji XML.</span><span class="sxs-lookup"><span data-stu-id="65d31-110">To serialize all an object's fields and properties, both public and private, use the <xref:System.Runtime.Serialization.DataContractSerializer> instead of XML serialization.</span></span>

 <span data-ttu-id="65d31-111">Klasa centralnej w serializacji XML jest <xref:System.Xml.Serialization.XmlSerializer> klasy i najważniejszych metod w tej klasie są **Serialize** i **Deserialize** metody.</span><span class="sxs-lookup"><span data-stu-id="65d31-111">The central class in XML serialization is the <xref:System.Xml.Serialization.XmlSerializer> class, and the most important methods in this class are the **Serialize** and **Deserialize** methods.</span></span> <span data-ttu-id="65d31-112"><xref:System.Xml.Serialization.XmlSerializer> Tworzy PLiki C# i kompiluje je na PLiki z rozszerzeniem dll do wykonania tej serializacji.</span><span class="sxs-lookup"><span data-stu-id="65d31-112">The <xref:System.Xml.Serialization.XmlSerializer> creates C# files and compiles them into .dll files to perform this serialization.</span></span> <span data-ttu-id="65d31-113">W programie .NET Framework 2.0 [narzędzie generatora serializatora XML (Sgen.exe)](xml-serializer-generator-tool-sgen-exe.md) jest przeznaczona do generowania te zestawy serializacji z góry na wdrożony z aplikacją i zwiększeniu wydajności uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="65d31-113">In .NET Framework 2.0, the [XML Serializer Generator Tool (Sgen.exe)](xml-serializer-generator-tool-sgen-exe.md) is designed to generate these serialization assemblies in advance to be deployed with your application and improve startup performance.</span></span> <span data-ttu-id="65d31-114">Strumień XML generowanych przez **XmlSerializer** jest zgodne z konsorcjum World Wide Web (W3C) [język definicji schematu XML (XSD) 1.0 zalecenia](https://www.w3.org/TR/xslt).</span><span class="sxs-lookup"><span data-stu-id="65d31-114">The XML stream generated by the **XmlSerializer** is compliant with the World Wide Web Consortium (W3C) [XML Schema definition language (XSD) 1.0 recommendation](https://www.w3.org/TR/xslt).</span></span> <span data-ttu-id="65d31-115">Ponadto generowane typy danych są zgodne z dokumentu zatytułowanej "XML schematu część 2: typy danych."</span><span class="sxs-lookup"><span data-stu-id="65d31-115">Furthermore, the data types generated are compliant with the document titled "XML Schema Part 2: Datatypes."</span></span>

 <span data-ttu-id="65d31-116">Dane w obiekty opisano przy użyciu narzędzi programistycznych języka, takich jak klasy, pola, właściwości, typy pierwotne, tablice i XML nawet osadzone w formie **XmlElement** lub **XmlAttribute**obiektów.</span><span class="sxs-lookup"><span data-stu-id="65d31-116">The data in your objects is described using programming language constructs like classes, fields, properties, primitive types, arrays, and even embedded XML in the form of **XmlElement** or **XmlAttribute** objects.</span></span> <span data-ttu-id="65d31-117">Istnieje możliwość tworzenia własnych klas oznaczona z atrybutów, lub za pomocą narzędzia definicji schematu XML można wygenerować klas na podstawie istniejącego schematu XML.</span><span class="sxs-lookup"><span data-stu-id="65d31-117">You have the option of creating your own classes, annotated with attributes, or using the XML Schema Definition tool to generate the classes based on an existing XML Schema.</span></span>

 <span data-ttu-id="65d31-118">Jeśli masz schematu XML, należy uruchomić narzędzie definicji schematu XML do tworzenia zestaw klasy, które są silnie wpisany schematu i dodawać adnotacje z atrybutami.</span><span class="sxs-lookup"><span data-stu-id="65d31-118">If you have an XML Schema, you can run the XML Schema Definition tool to produce a set of classes that are strongly typed to the schema and annotated with attributes.</span></span> <span data-ttu-id="65d31-119">W przypadku wystąpienia takich klasy jest serializowana, wygenerowany kod XML jest zgodna schematu XML.</span><span class="sxs-lookup"><span data-stu-id="65d31-119">When an instance of such a class is serialized, the generated XML adheres to the XML Schema.</span></span> <span data-ttu-id="65d31-120">Zamieszczone w przypadku klasy, można programować względem model obiektów łatwo manipulować spełniającą pewność, że wygenerowany kod XML jest zgodny ze schematem XML.</span><span class="sxs-lookup"><span data-stu-id="65d31-120">Provided with such a class, you can program against an easily manipulated object model while being assured that the generated XML conforms to the XML schema.</span></span> <span data-ttu-id="65d31-121">Jest to alternatywa dla użycia innych klas .NET Framework, takich jak **XmlReader** i **XmlWriter** klasy do analizy i zapisać strumień XML.</span><span class="sxs-lookup"><span data-stu-id="65d31-121">This is an alternative to using other classes in the .NET Framework, such as the **XmlReader** and **XmlWriter** classes, to parse and write an XML stream.</span></span> <span data-ttu-id="65d31-122">Aby uzyskać więcej informacji, zobacz [dokumenty i dane XML](../../../docs/standard/data/xml/index.md).</span><span class="sxs-lookup"><span data-stu-id="65d31-122">For more information, see [XML Documents and Data](../../../docs/standard/data/xml/index.md).</span></span> <span data-ttu-id="65d31-123">Klasy te umożliwiają przeanalizować strumieniem XML.</span><span class="sxs-lookup"><span data-stu-id="65d31-123">These classes allow you to parse any XML stream.</span></span> <span data-ttu-id="65d31-124">Z kolei użyj **XmlSerializer** gdy oczekuje strumień XML zgodny ze znanych schematem XML.</span><span class="sxs-lookup"><span data-stu-id="65d31-124">In contrast, use the **XmlSerializer** when the XML stream is expected to conform to a known XML Schema.</span></span>

 <span data-ttu-id="65d31-125">Atrybuty kontrolować strumień XML generowanych przez **XmlSerializer** klasy, co pozwala ustawić przestrzeni nazw XML, nazwa elementu, nazwa atrybutu i tak dalej strumienia XML.</span><span class="sxs-lookup"><span data-stu-id="65d31-125">Attributes control the XML stream generated by the **XmlSerializer** class, allowing you to set the XML namespace, element name, attribute name, and so on, of the XML stream.</span></span> <span data-ttu-id="65d31-126">Aby uzyskać więcej informacji o tych atrybutów i sposobie ich kontrolować serializacji XML, zobacz [kontrolowanie atrybutów za pomocą serializacji XML](controlling-xml-serialization-using-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="65d31-126">For more information about these attributes and how they control XML serialization, see [Controlling XML Serialization Using Attributes](controlling-xml-serialization-using-attributes.md).</span></span> <span data-ttu-id="65d31-127">Dla tabeli te atrybuty, które są używane do kontrolowania wygenerowany kod XML, zobacz [atrybutów, sterowania serializacji XML](attributes-that-control-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="65d31-127">For a table of those attributes that are used to control the generated XML, see [Attributes That Control XML Serialization](attributes-that-control-xml-serialization.md).</span></span>

 <span data-ttu-id="65d31-128">**XmlSerializer** klasy dalsze można serializować obiektu i generowanie zakodowany strumień XML protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="65d31-128">The **XmlSerializer** class can further serialize an object and generate an encoded SOAP XML stream.</span></span> <span data-ttu-id="65d31-129">Wygenerowany kod XML jest zgodna z części 5 dokumentu World Wide Web Consortium "Simple Object Access Protocol (SOAP) 1.1."</span><span class="sxs-lookup"><span data-stu-id="65d31-129">The generated XML adheres to section 5 of the World Wide Web Consortium document titled "Simple Object Access Protocol (SOAP) 1.1."</span></span> <span data-ttu-id="65d31-130">Aby uzyskać więcej informacji na temat tego procesu, zobacz [instrukcje: serializacja obiektu jako Stream XML SOAP-Encoded](how-to-serialize-an-object-as-a-soap-encoded-xml-stream.md).</span><span class="sxs-lookup"><span data-stu-id="65d31-130">For more information about this process, see [How to: Serialize an Object as a SOAP-Encoded XML Stream](how-to-serialize-an-object-as-a-soap-encoded-xml-stream.md).</span></span> <span data-ttu-id="65d31-131">Dla tabeli atrybutów kontrolujących wygenerowany kod XML, zobacz [atrybuty, kontroli kodowany protokołu SOAP serializacji](attributes-that-control-encoded-soap-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="65d31-131">For a table of the attributes that control the generated XML, see [Attributes That Control Encoded SOAP Serialization](attributes-that-control-encoded-soap-serialization.md).</span></span>

 <span data-ttu-id="65d31-132">**XmlSerializer** generuje komunikaty protokołu SOAP utworzone przez i przekazanych do usług XML sieci Web.</span><span class="sxs-lookup"><span data-stu-id="65d31-132">The **XmlSerializer** class generates the SOAP messages created by, and passed to, XML Web services.</span></span> <span data-ttu-id="65d31-133">Aby kontrolować komunikaty protokołu SOAP, można zastosować atrybutów do klasy, zwracanej wartości, parametry i pola znaleziony w pliku usługi sieci Web XML (.asmx).</span><span class="sxs-lookup"><span data-stu-id="65d31-133">To control the SOAP messages, you can apply attributes to the classes, return values, parameters, and fields found in an XML Web service file (.asmx).</span></span> <span data-ttu-id="65d31-134">Można użyć atrybuty wymienione w "Serializacji XML atrybuty czy kontroli" i "Atrybuty czy kontroli kodowany protokołu SOAP serializacji", ponieważ usługi XML sieci Web mogą korzystać styl literału lub zakodowanego protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="65d31-134">You can use both the attributes listed in "Attributes That Control XML Serialization" and "Attributes That Control Encoded SOAP Serialization" because an XML Web service can use either the literal or encoded SOAP style.</span></span> <span data-ttu-id="65d31-135">Aby uzyskać więcej informacji o korzystaniu z atrybutów w celu sterowania XML generowanych przez usługi sieci Web XML, zobacz [serializacji XML przy użyciu usług XML sieci Web](xml-serialization-with-xml-web-services.md).</span><span class="sxs-lookup"><span data-stu-id="65d31-135">For more information about using attributes to control the XML generated by an XML Web service, see [XML Serialization with XML Web Services](xml-serialization-with-xml-web-services.md).</span></span> <span data-ttu-id="65d31-136">Aby uzyskać więcej informacji o usługach sieci Web XML i protokołu SOAP, zobacz [Dostosowywanie komunikaty protokołu SOAP](https://msdn.microsoft.com/en-us/subscriptions/index/dkwy2d72\(v=vs.71\).aspx).</span><span class="sxs-lookup"><span data-stu-id="65d31-136">For more information about SOAP and XML Web services, see [Customizing SOAP Messages](https://msdn.microsoft.com/en-us/subscriptions/index/dkwy2d72\(v=vs.71\).aspx).</span></span>

## <a name="security-considerations-for-xmlserializer-applications"></a><span data-ttu-id="65d31-137">Zagadnienia dotyczące aplikacji XmlSerializer zabezpieczeń</span><span class="sxs-lookup"><span data-stu-id="65d31-137">Security Considerations for XmlSerializer Applications</span></span>

<span data-ttu-id="65d31-138">Podczas tworzenia aplikacji, która używa **XmlSerializer**, należy pamiętać o następujących elementów i ich skutki:</span><span class="sxs-lookup"><span data-stu-id="65d31-138">When creating an application that uses the **XmlSerializer**, you should be aware of the following items and their implications:</span></span>

- <span data-ttu-id="65d31-139">**XmlSerializer** tworzy C# (CS), pliki i kompiluje je na pliki .dll w katalogu o nazwie określonej przez zmienną środowiskową TEMP; serializacja występuje z tych bibliotek DLL.</span><span class="sxs-lookup"><span data-stu-id="65d31-139">The **XmlSerializer** creates C# (.cs) files and compiles them into .dll files in the directory named by the TEMP environment variable; serialization occurs with those DLLs.</span></span>

  > [!NOTE]
  > <span data-ttu-id="65d31-140">Te zestawy serializacji można wygenerowane z góry i podpisane za pomocą narzędzia SGen.exe.</span><span class="sxs-lookup"><span data-stu-id="65d31-140">These serialization assemblies can be generated in advance and signed by using the SGen.exe tool.</span></span> <span data-ttu-id="65d31-141">Nie działa serwer usług sieci Web.</span><span class="sxs-lookup"><span data-stu-id="65d31-141">This does not work a server of Web services.</span></span> <span data-ttu-id="65d31-142">Innymi słowy jest tylko do użytku klienta i ręczne serializacji.</span><span class="sxs-lookup"><span data-stu-id="65d31-142">In other words, it is only for client use and for manual serialization.</span></span>

  <span data-ttu-id="65d31-143">Kod i biblioteki DLL są podatne na złośliwego procesu w czasie tworzenia i kompilacji.</span><span class="sxs-lookup"><span data-stu-id="65d31-143">The code and the DLLs are vulnerable to a malicious process at the time of creation and compilation.</span></span> <span data-ttu-id="65d31-144">Podczas używania na komputerze z systemem Microsoft Windows NT 4.0 lub nowszy, może być możliwe dla co najmniej dwa użytkownikom udostępnianie katalogu TEMP.</span><span class="sxs-lookup"><span data-stu-id="65d31-144">When using a computer running Microsoft Windows NT 4.0 or later, it might be possible for two or more users to share the TEMP directory.</span></span> <span data-ttu-id="65d31-145">Udostępnianie katalogu TEMP jest niebezpieczne, jeśli dwa konta z uprawnieniami zabezpieczeń, a konto wyższych uprawnień uruchamia aplikacji za pomocą **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="65d31-145">Sharing a TEMP directory is dangerous if the two accounts have different security privileges and the higher-privilege account runs an application using the **XmlSerializer**.</span></span> <span data-ttu-id="65d31-146">W tym przypadku jeden użytkownik może naruszenia zabezpieczeń komputera za pomocą zastąpienia pliku CS lub .dll, który jest kompilowany.</span><span class="sxs-lookup"><span data-stu-id="65d31-146">In this case, one user can breach the computer's security by replacing either the .cs or .dll file that is compiled.</span></span> <span data-ttu-id="65d31-147">Aby usunąć ten problem, zawsze upewnij się, że każde konto na komputerze ma własny profil.</span><span class="sxs-lookup"><span data-stu-id="65d31-147">To eliminate this concern, always be sure that each account on the computer has its own profile.</span></span> <span data-ttu-id="65d31-148">Domyślnie zmienna środowiskowa TEMP wskazuje inny folder dla każdego konta.</span><span class="sxs-lookup"><span data-stu-id="65d31-148">By default, the TEMP environment variable points to a different directory for each account.</span></span>

- <span data-ttu-id="65d31-149">Jeśli złośliwy użytkownik wysyła ciągłego strumienia danych XML do serwera sieci Web ("odmowa usługi"), a następnie **XmlSerializer** kontynuuje przetwarzanie danych, dopóki komputer jest za mało zasobów.</span><span class="sxs-lookup"><span data-stu-id="65d31-149">If a malicious user sends a continuous stream of XML data to a Web server (a denial of service attack), then the **XmlSerializer** continues to process the data until the computer runs low on resources.</span></span>

  <span data-ttu-id="65d31-150">Ten rodzaj ataku jest usunięte, jeśli używasz komputera z systemem Internet Information Services (IIS), a aplikacja jest uruchomiona w ramach usług IIS.</span><span class="sxs-lookup"><span data-stu-id="65d31-150">This kind of attack is eliminated if you are using a computer running Internet Information Services (IIS), and your application is running within IIS.</span></span> <span data-ttu-id="65d31-151">Program IIS zawiera bramę, która nie może przetwarzać strumieni dłużej niż pewną liczbę (wartość domyślna to 4 KB).</span><span class="sxs-lookup"><span data-stu-id="65d31-151">IIS features a gate that does not process streams longer than a set amount (the default is 4 KB).</span></span> <span data-ttu-id="65d31-152">Jeśli utworzysz aplikację, która korzysta z usług IIS i deserializuje z **XmlSerializer**, należy zaimplementować podobne bramę, która blokuje typu "odmowa usługi".</span><span class="sxs-lookup"><span data-stu-id="65d31-152">If you create an application that does not use IIS and deserializes with the **XmlSerializer**, you should implement a similar gate that prevents a denial of service attack.</span></span>

- <span data-ttu-id="65d31-153">**XmlSerializer** serializuje dane i uruchamia żadnego kodu przy użyciu dowolnego typu do niego.</span><span class="sxs-lookup"><span data-stu-id="65d31-153">The **XmlSerializer** serializes data and runs any code using any type given to it.</span></span>

  <span data-ttu-id="65d31-154">Istnieją dwie metody, w których obiekt złośliwego przedstawia zagrożenia.</span><span class="sxs-lookup"><span data-stu-id="65d31-154">There are two ways in which a malicious object presents a threat.</span></span> <span data-ttu-id="65d31-155">Można go uruchomić złośliwego kodu lub jego można wstawić złośliwego kodu do pliku języka C# utworzone przez **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="65d31-155">It could run malicious code or it could inject malicious code into the C# file created by the **XmlSerializer**.</span></span> <span data-ttu-id="65d31-156">W przypadku pierwszego Jeśli obiekt złośliwego próbuje uruchomić destrukcyjne procedurę, zabezpieczenia dostępu do kodu uniemożliwia szkody wykonywana.</span><span class="sxs-lookup"><span data-stu-id="65d31-156">In the first case, if a malicious object tries to run a destructive procedure, code access security helps prevent any damage from being done.</span></span> <span data-ttu-id="65d31-157">W drugim przypadku jest teoretyczna możliwość, że obiekt złośliwego jakiś sposób może wstawić kod do pliku języka C# utworzone przez **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="65d31-157">In the second case, there is a theoretical possibility that a malicious object may somehow inject code into the C# file created by the **XmlSerializer**.</span></span> <span data-ttu-id="65d31-158">Mimo że ten problem zbadaniu dokładnie i takiego ataku jest uznawany za mało prawdopodobne, należy podjąć środki ostrożności nigdy nie szeregowania danych o typie nieznany i niezaufane.</span><span class="sxs-lookup"><span data-stu-id="65d31-158">Although this issue has been examined thoroughly, and such an attack is considered unlikely, you should take the precaution of never serializing data with an unknown and untrusted type.</span></span>

- <span data-ttu-id="65d31-159">Zserializowany poufnych danych może być narażony.</span><span class="sxs-lookup"><span data-stu-id="65d31-159">Serialized sensitive data might be vulnerable.</span></span>

  <span data-ttu-id="65d31-160">Po **XmlSerializer**ma danych serializowanych na fragmenty, mogą być przechowywane jako plik XML lub w innym magazynie danych.</span><span class="sxs-lookup"><span data-stu-id="65d31-160">After the **XmlSerializer**has serialized data, it can be stored as an XML file or other data store.</span></span> <span data-ttu-id="65d31-161">Sklepu danych jest dostępna dla innych procesów, czy jest widoczny w intranecie lub w Internecie, dane mogą skradziony i użyty w sposób złośliwy.</span><span class="sxs-lookup"><span data-stu-id="65d31-161">If your data store is available to other processes, or is visible on an intranet or the Internet, the data can be stolen and used maliciously.</span></span> <span data-ttu-id="65d31-162">Na przykład, jeśli tworzysz aplikację serializujący zamówienia zawierające numerów kart kredytowych, dane są bardzo ważne.</span><span class="sxs-lookup"><span data-stu-id="65d31-162">For example, if you create an application that serializes orders that include credit card numbers, the data is highly sensitive.</span></span> <span data-ttu-id="65d31-163">Aby zapobiec, zawsze ochrony magazynu danych i wykonać kroki, aby utrzymać ją prywatnych.</span><span class="sxs-lookup"><span data-stu-id="65d31-163">To help prevent this, always protect the store for your data and take steps to keep it private.</span></span>

## <a name="serialization-of-a-simple-class"></a><span data-ttu-id="65d31-164">Serializacja prostą klasę</span><span class="sxs-lookup"><span data-stu-id="65d31-164">Serialization of a Simple Class</span></span>

<span data-ttu-id="65d31-165">Poniższy przykład kodu pokazuje podstawowe klasy z polem publiczne.</span><span class="sxs-lookup"><span data-stu-id="65d31-165">The following code example shows a basic class with a public field.</span></span>

```vb
Public Class OrderForm
    Public OrderDate As DateTime
End Class
```

```csharp
public class OrderForm
{
    public DateTime OrderDate;
}
```

<span data-ttu-id="65d31-166">W przypadku wystąpienia tej klasy jest serializowana, jego może wyglądać w następujący sposób.</span><span class="sxs-lookup"><span data-stu-id="65d31-166">When an instance of this class is serialized, it might resemble the following.</span></span>

```xml
<OrderForm>
    <OrderDate>12/12/01</OrderDate>
</OrderForm>
```

<span data-ttu-id="65d31-167">Aby uzyskać więcej przykładów serializacji, zobacz [przykłady serializacji XML](examples-of-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="65d31-167">For more examples of serialization, see [Examples of XML Serialization](examples-of-xml-serialization.md).</span></span>

## <a name="items-that-can-be-serialized"></a><span data-ttu-id="65d31-168">Elementy, które można wykonywać serializację</span><span class="sxs-lookup"><span data-stu-id="65d31-168">Items That Can Be Serialized</span></span>

<span data-ttu-id="65d31-169">Następujące elementy mogą być Zserializowany za pomocą **XmLSerializer** klasy:</span><span class="sxs-lookup"><span data-stu-id="65d31-169">The following items can be serialized using the **XmLSerializer** class:</span></span>

- <span data-ttu-id="65d31-170">Właściwości publiczne odczytu/zapisu i pola publiczne klas.</span><span class="sxs-lookup"><span data-stu-id="65d31-170">Public read/write properties and fields of public classes.</span></span>

- <span data-ttu-id="65d31-171">Klasy, które implementują **ICollection** lub **IEnumerable**.</span><span class="sxs-lookup"><span data-stu-id="65d31-171">Classes that implement **ICollection** or **IEnumerable**.</span></span>

  > [!NOTE]
  > <span data-ttu-id="65d31-172">Tylko kolekcje są serializacji, nie publiczny właściwości.</span><span class="sxs-lookup"><span data-stu-id="65d31-172">Only collections are serialized, not public properties.</span></span>

- <span data-ttu-id="65d31-173">**XmlElement** obiektów.</span><span class="sxs-lookup"><span data-stu-id="65d31-173">**XmlElement** objects.</span></span>

- <span data-ttu-id="65d31-174">**Element XmlNode** obiektów.</span><span class="sxs-lookup"><span data-stu-id="65d31-174">**XmlNode** objects.</span></span>

- <span data-ttu-id="65d31-175">**Zestaw danych** obiektów.</span><span class="sxs-lookup"><span data-stu-id="65d31-175">**DataSet** objects.</span></span>

 <span data-ttu-id="65d31-176">Aby uzyskać więcej informacji na temat serializacji lub deserializacji obiektów, zobacz [instrukcje: serializacja obiektu](how-to-serialize-an-object.md) i [jak: wykonywać deserializację obiektu](how-to-deserialize-an-object.md).</span><span class="sxs-lookup"><span data-stu-id="65d31-176">For more information about serializing or deserializing objects, see [How to: Serialize an Object](how-to-serialize-an-object.md) and [How to: Deserialize an Object](how-to-deserialize-an-object.md).</span></span>

## <a name="advantages-of-using-xml-serialization"></a><span data-ttu-id="65d31-177">Korzyści wynikające z używania serializacji XML</span><span class="sxs-lookup"><span data-stu-id="65d31-177">Advantages of Using XML Serialization</span></span>

<span data-ttu-id="65d31-178">**XmlSerializer**klasy daje pełny i elastyczną kontrolę podczas serializacji obiektu jako XML.</span><span class="sxs-lookup"><span data-stu-id="65d31-178">The **XmlSerializer**class gives you complete and flexible control when you serialize an object as XML.</span></span> <span data-ttu-id="65d31-179">W przypadku tworzenia usługi XML sieci Web, można zastosować atrybuty sterujące serializacji do klas i składowych, aby upewnić się, że dane wyjściowe XML jest zgodny z określonego schematu.</span><span class="sxs-lookup"><span data-stu-id="65d31-179">If you are creating an XML Web service, you can apply attributes that control serialization to classes and members to ensure that the XML output conforms to a specific schema.</span></span>

<span data-ttu-id="65d31-180">Na przykład **XmlSerializer** umożliwia:</span><span class="sxs-lookup"><span data-stu-id="65d31-180">For example, **XmlSerializer** enables you to:</span></span>

- <span data-ttu-id="65d31-181">Określ, czy pole lub właściwość powinien być kodowany jako atrybut lub element.</span><span class="sxs-lookup"><span data-stu-id="65d31-181">Specify whether a field or property should be encoded as an attribute or an element.</span></span>

- <span data-ttu-id="65d31-182">Określ przestrzeni nazw XML do użycia.</span><span class="sxs-lookup"><span data-stu-id="65d31-182">Specify an XML namespace to use.</span></span>

- <span data-ttu-id="65d31-183">Określ nazwę elementu lub atrybutu, jeśli nazwa pola lub właściwości jest nieodpowiedni.</span><span class="sxs-lookup"><span data-stu-id="65d31-183">Specify the name of an element or attribute if a field or property name is inappropriate.</span></span>

<span data-ttu-id="65d31-184">Inną zaletą serializacji XML jest, że masz nie ograniczenia dla aplikacji, które tworzysz, tak długo, jak strumień XML, który jest generowany jest zgodny ze schematem danego.</span><span class="sxs-lookup"><span data-stu-id="65d31-184">Another advantage of XML serialization is that you have no constraints on the applications you develop, as long as the XML stream that is generated conforms to a given schema.</span></span> <span data-ttu-id="65d31-185">Wyobraź sobie schematu, używany do opisania książki.</span><span class="sxs-lookup"><span data-stu-id="65d31-185">Imagine a schema that is used to describe books.</span></span> <span data-ttu-id="65d31-186">Zawiera funkcje tytuł, autor, Wydawca i ISBN numer elementu.</span><span class="sxs-lookup"><span data-stu-id="65d31-186">It features a title, author, publisher, and ISBN number element.</span></span> <span data-ttu-id="65d31-187">Można opracować aplikację, która przetwarza dane XML w dowolny sposób, który ma, na przykład kolejność książki lub jako spis książki.</span><span class="sxs-lookup"><span data-stu-id="65d31-187">You can develop an application that processes the XML data in any way you want, for example, as a book order, or as an inventory of books.</span></span> <span data-ttu-id="65d31-188">W obu przypadkach jedynym wymaganiem jest, czy strumień XML jest zgodny ze schematem określonego języka (XSD) definicji schematu XML.</span><span class="sxs-lookup"><span data-stu-id="65d31-188">In either case, the only requirement is that the XML stream conforms to the specified XML Schema definition language (XSD) schema.</span></span>

## <a name="xml-serialization-considerations"></a><span data-ttu-id="65d31-189">Uwagi dotyczące serializacji XML</span><span class="sxs-lookup"><span data-stu-id="65d31-189">XML Serialization Considerations</span></span>

<span data-ttu-id="65d31-190">Następujące należy uwzględnić podczas przy użyciu **XmlSerializer** klasy:</span><span class="sxs-lookup"><span data-stu-id="65d31-190">The following should be considered when using the **XmlSerializer** class:</span></span>

- <span data-ttu-id="65d31-191">Narzędzie Sgen.exe wyraźnie jest przeznaczona do generowania zestawów serializacji w celu uzyskania optymalnej wydajności.</span><span class="sxs-lookup"><span data-stu-id="65d31-191">The Sgen.exe tool is expressly designed to generate serialization assemblies for optimum performance.</span></span>

- <span data-ttu-id="65d31-192">Serializowane dane zawiera tylko danych i struktury klas.</span><span class="sxs-lookup"><span data-stu-id="65d31-192">The serialized data contains only the data itself and the structure of your classes.</span></span> <span data-ttu-id="65d31-193">Informacje o tożsamości i zestawu typu nie są uwzględniane.</span><span class="sxs-lookup"><span data-stu-id="65d31-193">Type identity and assembly information are not included.</span></span>

- <span data-ttu-id="65d31-194">Może być Zserializowany tylko właściwości publiczne i pola.</span><span class="sxs-lookup"><span data-stu-id="65d31-194">Only public properties and fields can be serialized.</span></span> <span data-ttu-id="65d31-195">Właściwości muszą mieć publiczne metody dostępu (Pobieranie i ustawianie metody).</span><span class="sxs-lookup"><span data-stu-id="65d31-195">Properties must have public accessors (get and set methods).</span></span> <span data-ttu-id="65d31-196">Jeśli muszą serializację danych bez publicznego, użyj <xref:System.Runtime.Serialization.DataContractSerializer> klasy zamiast serializacji XML.</span><span class="sxs-lookup"><span data-stu-id="65d31-196">If you must serialize non-public data, use the <xref:System.Runtime.Serialization.DataContractSerializer> class rather than XML serialization.</span></span>

- <span data-ttu-id="65d31-197">Klasa musi mieć konstruktora domyślnego przez **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="65d31-197">A class must have a default constructor to be serialized by **XmlSerializer**.</span></span>

- <span data-ttu-id="65d31-198">Nie można serializować metody.</span><span class="sxs-lookup"><span data-stu-id="65d31-198">Methods cannot be serialized.</span></span>

- <span data-ttu-id="65d31-199">**Element XmlSerializer** może przetwarzać klasy, które implementują **IEnumerable** lub **ICollection** inaczej, jeśli spełniają określone wymagania w następujący sposób.</span><span class="sxs-lookup"><span data-stu-id="65d31-199">**XmlSerializer** can process classes that implement **IEnumerable** or **ICollection** differently if they meet certain requirements, as follows.</span></span>

  <span data-ttu-id="65d31-200">Klasa, która implementuje **IEnumerable** musi implementować publicznego **Dodaj** metodę, która przyjmuje jeden parametr.</span><span class="sxs-lookup"><span data-stu-id="65d31-200">A class that implements **IEnumerable** must implement a public **Add** method that takes a single parameter.</span></span> <span data-ttu-id="65d31-201">**Dodaj** parametru metody muszą być zgodne (polimorficzny) z typem zwracanym z **IEnumerator.Current** zwrócone przez właściwość **GetEnumerator** Metoda.</span><span class="sxs-lookup"><span data-stu-id="65d31-201">The **Add** method's parameter must be consistent (polymorphic) with the type returned from the **IEnumerator.Current** property returned from the **GetEnumerator** method.</span></span>

  <span data-ttu-id="65d31-202">Klasa, która implementuje **ICollection** oprócz **IEnumerable** (takie jak **CollectionBase**) musi mieć publiczny **elementu** indeksowane właściwości (indeksatora w języku C#), która przyjmuje całkowitą, a musi mieć publiczny **liczba** właściwości typu **całkowitą**.</span><span class="sxs-lookup"><span data-stu-id="65d31-202">A class that implements **ICollection** in addition to **IEnumerable** (such as **CollectionBase**) must have a public **Item** indexed property (an indexer in C#) that takes an integer and it must have a public **Count** property of type **integer**.</span></span> <span data-ttu-id="65d31-203">Parametr przekazany do **Dodaj** metoda musi być tego samego typu, jaka jest zwracana z **elementu** właściwości lub jeden z tego typu zasad.</span><span class="sxs-lookup"><span data-stu-id="65d31-203">The parameter passed to the **Add** method must be the same type as that returned from the **Item** property, or one of that type's bases.</span></span>

  <span data-ttu-id="65d31-204">Dla klas które implementują **ICollection**, wartości serializacji są pobierane z indeksowanej **elementu** właściwości, a nie przez wywołanie metody **GetEnumerator**.</span><span class="sxs-lookup"><span data-stu-id="65d31-204">For classes that implement **ICollection**, values to be serialized are retrieved from the indexed **Item** property rather than by calling **GetEnumerator**.</span></span> <span data-ttu-id="65d31-205">Ponadto pola publiczne i właściwości są nie seryjny, z wyjątkiem publicznych pola, które zwracają innej kolekcji klasy (taki, który implementuje **ICollection**).</span><span class="sxs-lookup"><span data-stu-id="65d31-205">Also, public fields and properties are not serialized, with the exception of public fields that return another collection class (one that implements **ICollection**).</span></span> <span data-ttu-id="65d31-206">Aby uzyskać przykład, zobacz [przykłady serializacji XML](examples-of-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="65d31-206">For an example, see [Examples of XML Serialization](examples-of-xml-serialization.md).</span></span>

## <a name="xsd-data-type-mapping"></a><span data-ttu-id="65d31-207">Mapowania typów danych XSD</span><span class="sxs-lookup"><span data-stu-id="65d31-207">XSD Data Type Mapping</span></span>

<span data-ttu-id="65d31-208">W3C dokumentu zatytułowanej [XML schematu część 2: typy danych](https://www.w3.org/TR/xmlschema-2/) Określa typy proste dane, które są dozwolone w schemacie języka (XSD) definicji schematu XML.</span><span class="sxs-lookup"><span data-stu-id="65d31-208">The W3C document titled [XML Schema Part 2: Datatypes](https://www.w3.org/TR/xmlschema-2/) specifies the simple data types that are allowed in an XML Schema definition language (XSD) schema.</span></span> <span data-ttu-id="65d31-209">Dla wielu z tych (na przykład **int** i **dziesiętna**), ma odpowiedni typ danych w programie .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="65d31-209">For many of these (for example, **int** and **decimal**), there is a corresponding data type in the .NET Framework.</span></span> <span data-ttu-id="65d31-210">Jednak niektóre typy danych XML ma odpowiedni typ danych w programie .NET Framework (na przykład **NMTOKEN** — typ danych).</span><span class="sxs-lookup"><span data-stu-id="65d31-210">However, some XML data types do not have a corresponding data type in the .NET Framework (for example, the **NMTOKEN** data type).</span></span> <span data-ttu-id="65d31-211">W takich przypadkach Jeśli za pomocą narzędzia definicji schematu XML ([narzędzie definicji schematu XML (Xsd.exe)](xml-schema-definition-tool-xsd-exe.md)) do generowania klasy w schemacie, odpowiedni atrybut jest stosowany do składowej typu ciąg i jego **typudanych** właściwość jest ustawiona na nazwę typu danych XML.</span><span class="sxs-lookup"><span data-stu-id="65d31-211">In such cases, if you use the XML Schema Definition tool ([XML Schema Definition Tool (Xsd.exe)](xml-schema-definition-tool-xsd-exe.md)) to generate classes from a schema, an appropriate attribute is applied to a member of type string, and its **DataType** property is set to the XML data type name.</span></span> <span data-ttu-id="65d31-212">Na przykład, jeśli schemat zawiera element o nazwie "MyToken" z typem danych XML **NMTOKEN**, wygenerowana klasa może zawierać składową, jak pokazano w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="65d31-212">For example, if a schema contains an element named "MyToken" with the XML data type **NMTOKEN**, the generated class might contain a member as shown in the following example.</span></span>

```vb
<XmlElement(DataType:="NMTOKEN")> _
Public MyToken As String
```

```csharp
[XmlElement(DataType = "NMTOKEN")]
public string MyToken;
```

<span data-ttu-id="65d31-213">Podobnie, jeśli tworzysz klasę, która musi być zgodna do określonego schematu XML (XSD), należy zastosować odpowiedni atrybut i ustawić jej **DataType** właściwość do żądanej dane XML, wpisz nazwę.</span><span class="sxs-lookup"><span data-stu-id="65d31-213">Similarly, if you are creating a class that must conform to a specific XML Schema (XSD), you should apply the appropriate attribute and set its **DataType** property to the desired XML data type name.</span></span>

<span data-ttu-id="65d31-214">Aby uzyskać pełną listę mapowań typu, zobacz **DataType** właściwości dla każdej z następujących klas atrybutów:</span><span class="sxs-lookup"><span data-stu-id="65d31-214">For a complete list of type mappings, see the **DataType** property for any of the following attribute classes:</span></span>

- <xref:System.Xml.Serialization.SoapAttributeAttribute>

- <xref:System.Xml.Serialization.SoapElementAttribute>

- <xref:System.Xml.Serialization.XmlArrayItemAttribute>

- <xref:System.Xml.Serialization.XmlAttributeAttribute>

- <xref:System.Xml.Serialization.XmlElementAttribute>

- <xref:System.Xml.Serialization.XmlRootAttribute>

## <a name="see-also"></a><span data-ttu-id="65d31-215">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="65d31-215">See Also</span></span>

<xref:System.Xml.Serialization.XmlSerializer>  
<xref:System.Runtime.Serialization.DataContractSerializer>  
<xref:System.IO.FileStream>  
[<span data-ttu-id="65d31-216">Serializacja XML i SOAP</span><span class="sxs-lookup"><span data-stu-id="65d31-216">XML and SOAP Serialization</span></span>](xml-and-soap-serialization.md)  
[<span data-ttu-id="65d31-217">Serializacja binarna</span><span class="sxs-lookup"><span data-stu-id="65d31-217">Binary Serialization</span></span>](binary-serialization.md)  
[<span data-ttu-id="65d31-218">Serializacja</span><span class="sxs-lookup"><span data-stu-id="65d31-218">Serialization</span></span>](index.md)  
<xref:System.Xml.Serialization.XmlSerializer>  
[<span data-ttu-id="65d31-219">Przykłady serializacji XML</span><span class="sxs-lookup"><span data-stu-id="65d31-219">Examples of XML Serialization</span></span>](examples-of-xml-serialization.md)  
[<span data-ttu-id="65d31-220">Instrukcje: Serializacja obiektu</span><span class="sxs-lookup"><span data-stu-id="65d31-220">How to: Serialize an Object</span></span>](how-to-serialize-an-object.md)  
[<span data-ttu-id="65d31-221">Instrukcje: Deserializacja obiektu</span><span class="sxs-lookup"><span data-stu-id="65d31-221">How to: Deserialize an Object</span></span>](how-to-deserialize-an-object.md)  