---
title: Szczegóły serializacji XML
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- XML serialization, about XML serialization
- ICollection interface, serializing
- XmlSerializer class, serializing
- serialization, about serialization
- DataSet class, serializing
- XML Schema, serializing
ms.assetid: 8c63200d-db63-4a03-a93d-21641623df62
ms.openlocfilehash: d644e80cbf5ac17fca4df039d915c847a1936217
ms.sourcegitcommit: 961ec21c22d2f1d55c9cc8a7edf2ade1d1fd92e3
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/02/2020
ms.locfileid: "80588454"
---
# <a name="xml-serialization"></a><span data-ttu-id="1ba68-102">Serializacja XML</span><span class="sxs-lookup"><span data-stu-id="1ba68-102">XML serialization</span></span>

<span data-ttu-id="1ba68-103">Serializacji to proces konwersji obiektu do formularza, który można łatwo przesłać.</span><span class="sxs-lookup"><span data-stu-id="1ba68-103">Serialization is the process of converting an object into a form that can be readily transported.</span></span> <span data-ttu-id="1ba68-104">Na przykład można serializować obiekt i transportować go przez Internet przy użyciu protokołu HTTP między klientem a serwerem.</span><span class="sxs-lookup"><span data-stu-id="1ba68-104">For example, you can serialize an object and transport it over the Internet using HTTP between a client and a server.</span></span> <span data-ttu-id="1ba68-105">Z drugiej deserializacji rekonstruuje obiektów ze strumienia.</span><span class="sxs-lookup"><span data-stu-id="1ba68-105">On the other end, deserialization reconstructs the object from the stream.</span></span>

 <span data-ttu-id="1ba68-106">Wykonuje serializacji XML serializację tylko publiczny pól i wartości właściwości obiektu do strumienia XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-106">XML serialization serializes only the public fields and property values of an object into an XML stream.</span></span> <span data-ttu-id="1ba68-107">Serializacji XML nie zawiera informacji o typie.</span><span class="sxs-lookup"><span data-stu-id="1ba68-107">XML serialization does not include type information.</span></span> <span data-ttu-id="1ba68-108">Na przykład jeśli masz **Book** obiektu, który istnieje w obszarze nazw **biblioteki,** nie ma gwarancji, że jest deserializowane do obiektu tego samego typu.</span><span class="sxs-lookup"><span data-stu-id="1ba68-108">For example, if you have a **Book** object that exists in the **Library** namespace, there is no guarantee that it is deserialized into an object of the same type.</span></span>

> [!NOTE]
> <span data-ttu-id="1ba68-109">Serializacji XML nie konwertuje metody, indeksatory, prywatnych pola lub właściwości tylko do odczytu (z wyjątkiem kolekcji tylko do odczytu).</span><span class="sxs-lookup"><span data-stu-id="1ba68-109">XML serialization does not convert methods, indexers, private fields, or read-only properties (except read-only collections).</span></span> <span data-ttu-id="1ba68-110">Do serializacji obiektu wszystkie pola i właściwości, zarówno publiczne, jak i prywatnych, użyj <xref:System.Runtime.Serialization.DataContractSerializer> zamiast serializacji XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-110">To serialize all an object's fields and properties, both public and private, use the <xref:System.Runtime.Serialization.DataContractSerializer> instead of XML serialization.</span></span>

 <span data-ttu-id="1ba68-111">Klasa centralna w serializacji <xref:System.Xml.Serialization.XmlSerializer> XML jest klasą, a najważniejsze metody w tej klasie to **Metody Serialize** i **Deserialize.**</span><span class="sxs-lookup"><span data-stu-id="1ba68-111">The central class in XML serialization is the <xref:System.Xml.Serialization.XmlSerializer> class, and the most important methods in this class are the **Serialize** and **Deserialize** methods.</span></span> <span data-ttu-id="1ba68-112"><xref:System.Xml.Serialization.XmlSerializer> Tworzy PLiki C# i kompiluje je na PLiki z rozszerzeniem dll do wykonania tej serializacji.</span><span class="sxs-lookup"><span data-stu-id="1ba68-112">The <xref:System.Xml.Serialization.XmlSerializer> creates C# files and compiles them into .dll files to perform this serialization.</span></span> <span data-ttu-id="1ba68-113">W .NET Framework 2.0 [narzędzie generatora serializatora XML (Sgen.exe)](xml-serializer-generator-tool-sgen-exe.md) jest przeznaczone do generowania tych zestawów serializacji z wyprzedzeniem, które mają zostać wdrożone za pomocą aplikacji i zwiększyć wydajność uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="1ba68-113">In .NET Framework 2.0, the [XML Serializer Generator Tool (Sgen.exe)](xml-serializer-generator-tool-sgen-exe.md) is designed to generate these serialization assemblies in advance to be deployed with your application and improve startup performance.</span></span> <span data-ttu-id="1ba68-114">Strumień XML generowany przez **XmlSerializer** jest zgodny z zaleceniem języka XML 1.0 programu World Wide Web Consortium (W3C) [XML Schema definition language (XSD).](https://www.w3.org/TR/xslt)</span><span class="sxs-lookup"><span data-stu-id="1ba68-114">The XML stream generated by the **XmlSerializer** is compliant with the World Wide Web Consortium (W3C) [XML Schema definition language (XSD) 1.0 recommendation](https://www.w3.org/TR/xslt).</span></span> <span data-ttu-id="1ba68-115">Ponadto wygenerowane typy danych są zgodne z dokumentem zatytułowanym "XML Schema Część 2: Typy danych".</span><span class="sxs-lookup"><span data-stu-id="1ba68-115">Furthermore, the data types generated are compliant with the document titled "XML Schema Part 2: Datatypes."</span></span>

 <span data-ttu-id="1ba68-116">Dane w obiektach są opisane przy użyciu konstrukcji języka programowania, takich jak klasy, pola, właściwości, typy pierwotne, tablice, a nawet osadzone XML w postaci **XmlElement** lub **XmlAttribute** obiektów.</span><span class="sxs-lookup"><span data-stu-id="1ba68-116">The data in your objects is described using programming language constructs like classes, fields, properties, primitive types, arrays, and even embedded XML in the form of **XmlElement** or **XmlAttribute** objects.</span></span> <span data-ttu-id="1ba68-117">Istnieje możliwość tworzenia własnych klas oznaczona z atrybutów, lub za pomocą narzędzia definicji schematu XML można wygenerować klas na podstawie istniejącego schematu XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-117">You have the option of creating your own classes, annotated with attributes, or using the XML Schema Definition tool to generate the classes based on an existing XML Schema.</span></span>

 <span data-ttu-id="1ba68-118">Jeśli masz schematu XML, należy uruchomić narzędzie definicji schematu XML do tworzenia zestaw klasy, które są silnie wpisany schematu i dodawać adnotacje z atrybutami.</span><span class="sxs-lookup"><span data-stu-id="1ba68-118">If you have an XML Schema, you can run the XML Schema Definition tool to produce a set of classes that are strongly typed to the schema and annotated with attributes.</span></span> <span data-ttu-id="1ba68-119">W przypadku wystąpienia takich klasy jest serializowana, wygenerowany kod XML jest zgodna schematu XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-119">When an instance of such a class is serialized, the generated XML adheres to the XML Schema.</span></span> <span data-ttu-id="1ba68-120">Zamieszczone w przypadku klasy, można programować względem model obiektów łatwo manipulować spełniającą pewność, że wygenerowany kod XML jest zgodny ze schematem XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-120">Provided with such a class, you can program against an easily manipulated object model while being assured that the generated XML conforms to the XML schema.</span></span> <span data-ttu-id="1ba68-121">Jest to alternatywa dla korzystania z innych klas w .NET Framework, takich jak **XmlReader** i **XmlWriter** klasy, do analizowania i zapisu strumienia XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-121">This is an alternative to using other classes in the .NET Framework, such as the **XmlReader** and **XmlWriter** classes, to parse and write an XML stream.</span></span> <span data-ttu-id="1ba68-122">Aby uzyskać więcej informacji, zobacz [Dokumenty i dane XML](../../../docs/standard/data/xml/index.md).</span><span class="sxs-lookup"><span data-stu-id="1ba68-122">For more information, see [XML Documents and Data](../../../docs/standard/data/xml/index.md).</span></span> <span data-ttu-id="1ba68-123">Klasy te umożliwiają przeanalizować strumieniem XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-123">These classes allow you to parse any XML stream.</span></span> <span data-ttu-id="1ba68-124">Natomiast należy użyć **XmlSerializer,** gdy oczekuje się, że strumień XML będzie zgodny ze znanym schematem XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-124">In contrast, use the **XmlSerializer** when the XML stream is expected to conform to a known XML Schema.</span></span>

 <span data-ttu-id="1ba68-125">Atrybuty kontrolują strumień XML generowany przez klasę **XmlSerializer,** umożliwiając ustawienie obszaru nazw XML, nazwy elementu, nazwy atrybutu i tak dalej strumienia XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-125">Attributes control the XML stream generated by the **XmlSerializer** class, allowing you to set the XML namespace, element name, attribute name, and so on, of the XML stream.</span></span> <span data-ttu-id="1ba68-126">Aby uzyskać więcej informacji na temat tych atrybutów i sposobu kontrolowania serializacji XML, zobacz [Kontrolowanie serializacji XML przy użyciu atrybutów](controlling-xml-serialization-using-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="1ba68-126">For more information about these attributes and how they control XML serialization, see [Controlling XML Serialization Using Attributes](controlling-xml-serialization-using-attributes.md).</span></span> <span data-ttu-id="1ba68-127">Aby uzyskać tabelę tych atrybutów, które są używane do kontrolowania wygenerowanego kodu XML, zobacz [Atrybuty, które kontrolują serializację XML](attributes-that-control-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="1ba68-127">For a table of those attributes that are used to control the generated XML, see [Attributes That Control XML Serialization](attributes-that-control-xml-serialization.md).</span></span>

 <span data-ttu-id="1ba68-128">Klasa **XmlSerializer** może dodatkowo serializować obiekt i generować zakodowany strumień XML protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="1ba68-128">The **XmlSerializer** class can further serialize an object and generate an encoded SOAP XML stream.</span></span> <span data-ttu-id="1ba68-129">Wygenerowany kod XML jest zgodny z sekcją 5 dokumentu Konsorcjum sieci World Wide Web zatytułowanego "Simple Object Access Protocol (SOAP) 1.1".</span><span class="sxs-lookup"><span data-stu-id="1ba68-129">The generated XML adheres to section 5 of the World Wide Web Consortium document titled "Simple Object Access Protocol (SOAP) 1.1."</span></span> <span data-ttu-id="1ba68-130">Aby uzyskać więcej informacji na temat tego procesu, zobacz [Jak: Serializować obiekt jako strumień XML zakodowany w formacie SOAP](how-to-serialize-an-object-as-a-soap-encoded-xml-stream.md).</span><span class="sxs-lookup"><span data-stu-id="1ba68-130">For more information about this process, see [How to: Serialize an Object as a SOAP-Encoded XML Stream](how-to-serialize-an-object-as-a-soap-encoded-xml-stream.md).</span></span> <span data-ttu-id="1ba68-131">Aby zapoznać się z tabelą atrybutów sterujących wygenerowanym kodem XML, zobacz [Atrybuty sterujące zakodowaną serionizacją protokołu SOAP](attributes-that-control-encoded-soap-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="1ba68-131">For a table of the attributes that control the generated XML, see [Attributes That Control Encoded SOAP Serialization](attributes-that-control-encoded-soap-serialization.md).</span></span>

 <span data-ttu-id="1ba68-132">Klasa **XmlSerializer** generuje komunikaty SOAP utworzone przez i przekazane do usług sieci Web XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-132">The **XmlSerializer** class generates the SOAP messages created by, and passed to, XML Web services.</span></span> <span data-ttu-id="1ba68-133">Aby sterować komunikatami PROTOKOŁU SOAP, można zastosować atrybuty do klas, zwracać wartości, parametry i pola znajdujące się w pliku usługi sieci Web XML (asmx).</span><span class="sxs-lookup"><span data-stu-id="1ba68-133">To control the SOAP messages, you can apply attributes to the classes, return values, parameters, and fields found in an XML Web service file (.asmx).</span></span> <span data-ttu-id="1ba68-134">Można użyć atrybuty wymienione w "Serializacji XML atrybuty czy kontroli" i "Atrybuty czy kontroli kodowany protokołu SOAP serializacji", ponieważ usługi XML sieci Web mogą korzystać styl literału lub zakodowanego protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="1ba68-134">You can use both the attributes listed in "Attributes That Control XML Serialization" and "Attributes That Control Encoded SOAP Serialization" because an XML Web service can use either the literal or encoded SOAP style.</span></span> <span data-ttu-id="1ba68-135">Aby uzyskać więcej informacji na temat używania atrybutów do kontrolowania kodu XML generowanego przez usługę sieci Web XML, zobacz [Serializacja XML za pomocą usług XML w sieci Web](xml-serialization-with-xml-web-services.md).</span><span class="sxs-lookup"><span data-stu-id="1ba68-135">For more information about using attributes to control the XML generated by an XML Web service, see [XML Serialization with XML Web Services](xml-serialization-with-xml-web-services.md).</span></span> <span data-ttu-id="1ba68-136">Aby uzyskać więcej informacji na temat usług sieci Web PROTOKOŁU SOAP i XML, zobacz [Dostosowywanie formatowania wiadomości PROTOKOŁU SOAP](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dkwy2d72(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="1ba68-136">For more information about SOAP and XML Web services, see [Customizing SOAP Message Formatting](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dkwy2d72(v=vs.100)).</span></span>

## <a name="security-considerations-for-xmlserializer-applications"></a><span data-ttu-id="1ba68-137">Zagadnienia dotyczące zabezpieczeń dla aplikacji XmlSerializer</span><span class="sxs-lookup"><span data-stu-id="1ba68-137">Security Considerations for XmlSerializer Applications</span></span>

<span data-ttu-id="1ba68-138">Podczas tworzenia aplikacji, która używa **XmlSerializer**, należy pamiętać o następujących elementów i ich implikacje:</span><span class="sxs-lookup"><span data-stu-id="1ba68-138">When creating an application that uses the **XmlSerializer**, be aware of the following items and their implications:</span></span>

- <span data-ttu-id="1ba68-139">**XmlSerializer** tworzy pliki C# (cs) i kompiluje je do plików dll w katalogu nazwanym przez zmienną środowiska TEMP; serializacji występuje z tymi bibliotekami DLL.</span><span class="sxs-lookup"><span data-stu-id="1ba68-139">The **XmlSerializer** creates C# (.cs) files and compiles them into .dll files in the directory named by the TEMP environment variable; serialization occurs with those DLLs.</span></span>

  > [!NOTE]
  > <span data-ttu-id="1ba68-140">Te zestawy serializacji można wygenerowane z góry i podpisane za pomocą narzędzia SGen.exe.</span><span class="sxs-lookup"><span data-stu-id="1ba68-140">These serialization assemblies can be generated in advance and signed by using the SGen.exe tool.</span></span> <span data-ttu-id="1ba68-141">Nie działa serwer usług sieci Web.</span><span class="sxs-lookup"><span data-stu-id="1ba68-141">This does not work a server of Web services.</span></span> <span data-ttu-id="1ba68-142">Innymi słowy jest tylko do użytku klienta i ręczne serializacji.</span><span class="sxs-lookup"><span data-stu-id="1ba68-142">In other words, it is only for client use and for manual serialization.</span></span>

  <span data-ttu-id="1ba68-143">Kod i biblioteki DLL są podatne na złośliwego procesu w czasie tworzenia i kompilacji.</span><span class="sxs-lookup"><span data-stu-id="1ba68-143">The code and the DLLs are vulnerable to a malicious process at the time of creation and compilation.</span></span> <span data-ttu-id="1ba68-144">Podczas używania na komputerze z systemem Microsoft Windows NT 4.0 lub nowszy, może być możliwe dla co najmniej dwa użytkownikom udostępnianie katalogu TEMP.</span><span class="sxs-lookup"><span data-stu-id="1ba68-144">When using a computer running Microsoft Windows NT 4.0 or later, it might be possible for two or more users to share the TEMP directory.</span></span> <span data-ttu-id="1ba68-145">Udostępnianie katalogu TEMP jest niebezpieczne, jeśli dwa konta mają różne uprawnienia zabezpieczeń, a konto o wyższych uprawnieniach uruchamia aplikację za pomocą **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="1ba68-145">Sharing a TEMP directory is dangerous if the two accounts have different security privileges and the higher-privilege account runs an application using the **XmlSerializer**.</span></span> <span data-ttu-id="1ba68-146">W takim przypadku jeden użytkownik może naruszyć bezpieczeństwo komputera, zastępując skompilowany plik cs lub .dll.</span><span class="sxs-lookup"><span data-stu-id="1ba68-146">In this case, one user can breach the computer's security by replacing either the .cs or .dll file that is compiled.</span></span> <span data-ttu-id="1ba68-147">Aby usunąć ten problem, zawsze upewnij się, że każde konto na komputerze ma własny profil.</span><span class="sxs-lookup"><span data-stu-id="1ba68-147">To eliminate this concern, always be sure that each account on the computer has its own profile.</span></span> <span data-ttu-id="1ba68-148">Domyślnie zmienna środowiskowa TEMP wskazuje inny folder dla każdego konta.</span><span class="sxs-lookup"><span data-stu-id="1ba68-148">By default, the TEMP environment variable points to a different directory for each account.</span></span>

- <span data-ttu-id="1ba68-149">Jeśli złośliwy użytkownik wysyła ciągły strumień danych XML do serwera sieci Web (atak typu "odmowa usługi"), **xmlSerializer** kontynuuje przetwarzanie danych, dopóki na komputerze nie zabraknie zasobów.</span><span class="sxs-lookup"><span data-stu-id="1ba68-149">If a malicious user sends a continuous stream of XML data to a Web server (a denial of service attack), then the **XmlSerializer** continues to process the data until the computer runs low on resources.</span></span>

  <span data-ttu-id="1ba68-150">Ten rodzaj ataku jest eliminowany, jeśli używasz komputera z uruchomionymi internetowymi usługami informacyjnymi (IIS), a aplikacja jest uruchomiona w usługach IIS.</span><span class="sxs-lookup"><span data-stu-id="1ba68-150">This kind of attack is eliminated if you are using a computer running Internet Information Services (IIS), and your application is running within IIS.</span></span> <span data-ttu-id="1ba68-151">Program IIS zawiera bramę, która nie może przetwarzać strumieni dłużej niż pewną liczbę (wartość domyślna to 4 KB).</span><span class="sxs-lookup"><span data-stu-id="1ba68-151">IIS features a gate that does not process streams longer than a set amount (the default is 4 KB).</span></span> <span data-ttu-id="1ba68-152">Jeśli tworzysz aplikację, która nie używa usług IIS i deserializes z **XmlSerializer**, należy zaimplementować podobną bramę, która zapobiega atak typu "odmowa usługi".</span><span class="sxs-lookup"><span data-stu-id="1ba68-152">If you create an application that does not use IIS and deserializes with the **XmlSerializer**, you should implement a similar gate that prevents a denial of service attack.</span></span>

- <span data-ttu-id="1ba68-153">**XmlSerializer** serializuje dane i uruchamia dowolny kod przy użyciu dowolnego typu podane do niego.</span><span class="sxs-lookup"><span data-stu-id="1ba68-153">The **XmlSerializer** serializes data and runs any code using any type given to it.</span></span>

  <span data-ttu-id="1ba68-154">Istnieją dwie metody, w których obiekt złośliwego przedstawia zagrożenia.</span><span class="sxs-lookup"><span data-stu-id="1ba68-154">There are two ways in which a malicious object presents a threat.</span></span> <span data-ttu-id="1ba68-155">Może uruchomić złośliwy kod lub może wstrzyknąć złośliwy kod do pliku C# utworzonego przez **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="1ba68-155">It could run malicious code or it could inject malicious code into the C# file created by the **XmlSerializer**.</span></span> <span data-ttu-id="1ba68-156">W przypadku pierwszego Jeśli obiekt złośliwego próbuje uruchomić destrukcyjne procedurę, zabezpieczenia dostępu do kodu uniemożliwia szkody wykonywana.</span><span class="sxs-lookup"><span data-stu-id="1ba68-156">In the first case, if a malicious object tries to run a destructive procedure, code access security helps prevent any damage from being done.</span></span> <span data-ttu-id="1ba68-157">W drugim przypadku istnieje teoretyczna możliwość, że złośliwy obiekt może w jakiś sposób wstrzyknąć kod do pliku C# utworzonego przez **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="1ba68-157">In the second case, there is a theoretical possibility that a malicious object may somehow inject code into the C# file created by the **XmlSerializer**.</span></span> <span data-ttu-id="1ba68-158">Mimo że ten problem zbadaniu dokładnie i takiego ataku jest uznawany za mało prawdopodobne, należy podjąć środki ostrożności nigdy nie szeregowania danych o typie nieznany i niezaufane.</span><span class="sxs-lookup"><span data-stu-id="1ba68-158">Although this issue has been examined thoroughly, and such an attack is considered unlikely, you should take the precaution of never serializing data with an unknown and untrusted type.</span></span>

- <span data-ttu-id="1ba68-159">Zserializowany poufnych danych może być narażony.</span><span class="sxs-lookup"><span data-stu-id="1ba68-159">Serialized sensitive data might be vulnerable.</span></span>

  <span data-ttu-id="1ba68-160">Po **XmlSerializer** ma szeregowane dane, mogą być przechowywane jako plik XML lub innego magazynu danych.</span><span class="sxs-lookup"><span data-stu-id="1ba68-160">After the **XmlSerializer** has serialized data, it can be stored as an XML file or other data store.</span></span> <span data-ttu-id="1ba68-161">Sklepu danych jest dostępna dla innych procesów, czy jest widoczny w intranecie lub w Internecie, dane mogą skradziony i użyty w sposób złośliwy.</span><span class="sxs-lookup"><span data-stu-id="1ba68-161">If your data store is available to other processes, or is visible on an intranet or the Internet, the data can be stolen and used maliciously.</span></span> <span data-ttu-id="1ba68-162">Na przykład jeśli utworzysz aplikację, która serializuje zamówienia, które zawierają numery kart kredytowych, dane są bardzo poufne.</span><span class="sxs-lookup"><span data-stu-id="1ba68-162">For example, if you create an application that serializes orders that include credit card numbers, the data is highly sensitive.</span></span> <span data-ttu-id="1ba68-163">Aby zapobiec, zawsze ochrony magazynu danych i wykonać kroki, aby utrzymać ją prywatnych.</span><span class="sxs-lookup"><span data-stu-id="1ba68-163">To help prevent this, always protect the store for your data and take steps to keep it private.</span></span>

## <a name="serialization-of-a-simple-class"></a><span data-ttu-id="1ba68-164">Serializacja klasy prostej</span><span class="sxs-lookup"><span data-stu-id="1ba68-164">Serialization of a Simple Class</span></span>

<span data-ttu-id="1ba68-165">Poniższy przykład kodu przedstawia klasę podstawową z polem publicznym.</span><span class="sxs-lookup"><span data-stu-id="1ba68-165">The following code example shows a basic class with a public field.</span></span>

```vb
Public Class OrderForm
    Public OrderDate As DateTime
End Class
```

```csharp
public class OrderForm
{
    public DateTime OrderDate;
}
```

<span data-ttu-id="1ba68-166">W przypadku wystąpienia tej klasy jest serializowana, jego może wyglądać w następujący sposób.</span><span class="sxs-lookup"><span data-stu-id="1ba68-166">When an instance of this class is serialized, it might resemble the following.</span></span>

```xml
<OrderForm>
    <OrderDate>12/12/01</OrderDate>
</OrderForm>
```

<span data-ttu-id="1ba68-167">Aby uzyskać więcej przykładów serializacji, zobacz [Przykłady serializacji XML](examples-of-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="1ba68-167">For more examples of serialization, see [Examples of XML Serialization](examples-of-xml-serialization.md).</span></span>

## <a name="items-that-can-be-serialized"></a><span data-ttu-id="1ba68-168">Elementy, które można wykonywać serializację</span><span class="sxs-lookup"><span data-stu-id="1ba68-168">Items That Can Be Serialized</span></span>

<span data-ttu-id="1ba68-169">Następujące elementy mogą być serializowane przy użyciu **XmLSerializer** klasy:</span><span class="sxs-lookup"><span data-stu-id="1ba68-169">The following items can be serialized using the **XmLSerializer** class:</span></span>

- <span data-ttu-id="1ba68-170">Właściwości publiczne odczytu/zapisu i pola publiczne klas.</span><span class="sxs-lookup"><span data-stu-id="1ba68-170">Public read/write properties and fields of public classes.</span></span>

- <span data-ttu-id="1ba68-171">Klasy, które implementują **ICollection** lub **IEnumerable**.</span><span class="sxs-lookup"><span data-stu-id="1ba68-171">Classes that implement **ICollection** or **IEnumerable**.</span></span>

  > [!NOTE]
  > <span data-ttu-id="1ba68-172">Tylko kolekcje są serializacji, nie publiczny właściwości.</span><span class="sxs-lookup"><span data-stu-id="1ba68-172">Only collections are serialized, not public properties.</span></span>

- <span data-ttu-id="1ba68-173">**XmlElement** obiektów.</span><span class="sxs-lookup"><span data-stu-id="1ba68-173">**XmlElement** objects.</span></span>

- <span data-ttu-id="1ba68-174">**XmlNode** obiektów.</span><span class="sxs-lookup"><span data-stu-id="1ba68-174">**XmlNode** objects.</span></span>

- <span data-ttu-id="1ba68-175">**Obiekty Zestawu danych.**</span><span class="sxs-lookup"><span data-stu-id="1ba68-175">**DataSet** objects.</span></span>

 <span data-ttu-id="1ba68-176">Aby uzyskać więcej informacji na temat serializacji lub deserializacji obiektów, zobacz [Jak: Serialize obiektu](how-to-serialize-an-object.md) i [jak: Deserialize obiektu](how-to-deserialize-an-object.md).</span><span class="sxs-lookup"><span data-stu-id="1ba68-176">For more information about serializing or deserializing objects, see [How to: Serialize an Object](how-to-serialize-an-object.md) and [How to: Deserialize an Object](how-to-deserialize-an-object.md).</span></span>

## <a name="advantages-of-using-xml-serialization"></a><span data-ttu-id="1ba68-177">Korzyści wynikające z używania serializacji XML</span><span class="sxs-lookup"><span data-stu-id="1ba68-177">Advantages of Using XML Serialization</span></span>

<span data-ttu-id="1ba68-178">Klasa **XmlSerializer** zapewnia pełną i elastyczną kontrolę podczas serializacji obiektu jako XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-178">The **XmlSerializer** class gives you complete and flexible control when you serialize an object as XML.</span></span> <span data-ttu-id="1ba68-179">W przypadku tworzenia usługi sieci Web XML można zastosować atrybuty sterujące serializacją klas i elementów członkowskich, aby upewnić się, że dane wyjściowe XML są zgodne z określonym schematem.</span><span class="sxs-lookup"><span data-stu-id="1ba68-179">If you are creating an XML Web service, you can apply attributes that control serialization to classes and members to ensure that the XML output conforms to a specific schema.</span></span>

<span data-ttu-id="1ba68-180">Na przykład **XmlSerializer** umożliwia:</span><span class="sxs-lookup"><span data-stu-id="1ba68-180">For example, **XmlSerializer** enables you to:</span></span>

- <span data-ttu-id="1ba68-181">Określ, czy pole lub właściwość powinien być kodowany jako atrybut lub element.</span><span class="sxs-lookup"><span data-stu-id="1ba68-181">Specify whether a field or property should be encoded as an attribute or an element.</span></span>

- <span data-ttu-id="1ba68-182">Określ przestrzeni nazw XML do użycia.</span><span class="sxs-lookup"><span data-stu-id="1ba68-182">Specify an XML namespace to use.</span></span>

- <span data-ttu-id="1ba68-183">Określ nazwę elementu lub atrybutu, jeśli nazwa pola lub właściwości jest nieodpowiedni.</span><span class="sxs-lookup"><span data-stu-id="1ba68-183">Specify the name of an element or attribute if a field or property name is inappropriate.</span></span>

<span data-ttu-id="1ba68-184">Inną zaletą serializacji XML jest to, że nie masz żadnych ograniczeń w aplikacji, które opracowywać, tak długo, jak strumień XML, który jest generowany jest zgodny z danym schematem.</span><span class="sxs-lookup"><span data-stu-id="1ba68-184">Another advantage of XML serialization is that you have no constraints on the applications you develop, as long as the XML stream that is generated conforms to a given schema.</span></span> <span data-ttu-id="1ba68-185">Wyobraź sobie schematu, używany do opisania książki.</span><span class="sxs-lookup"><span data-stu-id="1ba68-185">Imagine a schema that is used to describe books.</span></span> <span data-ttu-id="1ba68-186">Zawiera funkcje tytuł, autor, Wydawca i ISBN numer elementu.</span><span class="sxs-lookup"><span data-stu-id="1ba68-186">It features a title, author, publisher, and ISBN number element.</span></span> <span data-ttu-id="1ba68-187">Można opracować aplikację, która przetwarza dane XML w dowolny sposób, na przykład jako zamówienie księgowe lub jako spis książek.</span><span class="sxs-lookup"><span data-stu-id="1ba68-187">You can develop an application that processes the XML data in any way you want, for example, as a book order, or as an inventory of books.</span></span> <span data-ttu-id="1ba68-188">W obu przypadkach jedynym wymaganiem jest, czy strumień XML jest zgodny ze schematem określonego języka (XSD) definicji schematu XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-188">In either case, the only requirement is that the XML stream conforms to the specified XML Schema definition language (XSD) schema.</span></span>

## <a name="xml-serialization-considerations"></a><span data-ttu-id="1ba68-189">Uwagi dotyczące serializacji XML</span><span class="sxs-lookup"><span data-stu-id="1ba68-189">XML Serialization Considerations</span></span>

<span data-ttu-id="1ba68-190">Podczas korzystania z klasy **XmlSerializer** należy wziąć pod uwagę następujące kwestie:</span><span class="sxs-lookup"><span data-stu-id="1ba68-190">The following should be considered when using the **XmlSerializer** class:</span></span>

- <span data-ttu-id="1ba68-191">Narzędzie Sgen.exe wyraźnie jest przeznaczona do generowania zestawów serializacji w celu uzyskania optymalnej wydajności.</span><span class="sxs-lookup"><span data-stu-id="1ba68-191">The Sgen.exe tool is expressly designed to generate serialization assemblies for optimum performance.</span></span>

- <span data-ttu-id="1ba68-192">Serializowane dane zawiera tylko danych i struktury klas.</span><span class="sxs-lookup"><span data-stu-id="1ba68-192">The serialized data contains only the data itself and the structure of your classes.</span></span> <span data-ttu-id="1ba68-193">Informacje o tożsamości i zestawu typu nie są uwzględniane.</span><span class="sxs-lookup"><span data-stu-id="1ba68-193">Type identity and assembly information are not included.</span></span>

- <span data-ttu-id="1ba68-194">Może być Zserializowany tylko właściwości publiczne i pola.</span><span class="sxs-lookup"><span data-stu-id="1ba68-194">Only public properties and fields can be serialized.</span></span> <span data-ttu-id="1ba68-195">Właściwości muszą mieć publiczne metody dostępu (Pobieranie i ustawianie metody).</span><span class="sxs-lookup"><span data-stu-id="1ba68-195">Properties must have public accessors (get and set methods).</span></span> <span data-ttu-id="1ba68-196">Jeśli muszą serializację danych bez publicznego, użyj <xref:System.Runtime.Serialization.DataContractSerializer> klasy zamiast serializacji XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-196">If you must serialize non-public data, use the <xref:System.Runtime.Serialization.DataContractSerializer> class rather than XML serialization.</span></span>

- <span data-ttu-id="1ba68-197">Klasa musi mieć konstruktora bez parametrów, który ma być serializowany przez **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="1ba68-197">A class must have a parameterless constructor to be serialized by **XmlSerializer**.</span></span>

- <span data-ttu-id="1ba68-198">Nie można serializować metody.</span><span class="sxs-lookup"><span data-stu-id="1ba68-198">Methods cannot be serialized.</span></span>

- <span data-ttu-id="1ba68-199">**XmlSerializer** może przetwarzać klasy, które implementują **IEnumerable** lub **ICollection** inaczej, jeśli spełniają pewne wymagania, w następujący sposób.</span><span class="sxs-lookup"><span data-stu-id="1ba68-199">**XmlSerializer** can process classes that implement **IEnumerable** or **ICollection** differently if they meet certain requirements, as follows.</span></span>

  <span data-ttu-id="1ba68-200">Klasa, która implementuje **IEnumerable** należy zaimplementować public **Add** metody, która przyjmuje pojedynczy parametr.</span><span class="sxs-lookup"><span data-stu-id="1ba68-200">A class that implements **IEnumerable** must implement a public **Add** method that takes a single parameter.</span></span> <span data-ttu-id="1ba68-201">Parametr **Add** metody musi być spójny (polimorficzny) z typem zwróconym z **właściwości IEnumerator.Current** zwróconej z metody **GetEnumerator.**</span><span class="sxs-lookup"><span data-stu-id="1ba68-201">The **Add** method's parameter must be consistent (polymorphic) with the type returned from the **IEnumerator.Current** property returned from the **GetEnumerator** method.</span></span>

  <span data-ttu-id="1ba68-202">Klasa, która implementuje **ICollection** oprócz **IEnumerable** (takich jak **CollectionBase)** musi mieć publiczną **właściwość** indeksowane element (indeksator w języku C#), która przyjmuje liczbę całkowitą i musi mieć publiczną **właściwość Count** typu **integer**.</span><span class="sxs-lookup"><span data-stu-id="1ba68-202">A class that implements **ICollection** in addition to **IEnumerable** (such as **CollectionBase**) must have a public **Item** indexed property (an indexer in C#) that takes an integer and it must have a public **Count** property of type **integer**.</span></span> <span data-ttu-id="1ba68-203">Parametr przekazany do **Add** metody musi być tego samego typu, który zwrócił z **Item** właściwości lub jednej z podstaw tego typu.</span><span class="sxs-lookup"><span data-stu-id="1ba68-203">The parameter passed to the **Add** method must be the same type as that returned from the **Item** property, or one of that type's bases.</span></span>

  <span data-ttu-id="1ba68-204">Dla klas, które implementują **ICollection**, wartości, które mają być serializowane są pobierane z indeksowanej właściwości **Item,** a nie przez wywołanie **GetEnumerator**.</span><span class="sxs-lookup"><span data-stu-id="1ba68-204">For classes that implement **ICollection**, values to be serialized are retrieved from the indexed **Item** property rather than by calling **GetEnumerator**.</span></span> <span data-ttu-id="1ba68-205">Ponadto pola publiczne i właściwości nie są serializowane, z wyjątkiem pól publicznych zwracających inną klasę kolekcji (która implementuje **ICollection**).</span><span class="sxs-lookup"><span data-stu-id="1ba68-205">Also, public fields and properties are not serialized, with the exception of public fields that return another collection class (one that implements **ICollection**).</span></span> <span data-ttu-id="1ba68-206">Na przykład zobacz [Przykłady serializacji XML](examples-of-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="1ba68-206">For an example, see [Examples of XML Serialization](examples-of-xml-serialization.md).</span></span>

## <a name="xsd-data-type-mapping"></a><span data-ttu-id="1ba68-207">Mapowania typów danych XSD</span><span class="sxs-lookup"><span data-stu-id="1ba68-207">XSD Data Type Mapping</span></span>

<span data-ttu-id="1ba68-208">Dokument W3C zatytułowany [Schemat XML Część 2: Typy danych](https://www.w3.org/TR/xmlschema-2/) określa proste typy danych, które są dozwolone w schemacie języka XM (XSD) języka schematu schematu schematu xsd.</span><span class="sxs-lookup"><span data-stu-id="1ba68-208">The W3C document titled [XML Schema Part 2: Datatypes](https://www.w3.org/TR/xmlschema-2/) specifies the simple data types that are allowed in an XML Schema definition language (XSD) schema.</span></span> <span data-ttu-id="1ba68-209">Dla wielu z nich (na przykład **int** i **decimal),** istnieje odpowiedni typ danych w .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="1ba68-209">For many of these (for example, **int** and **decimal**), there is a corresponding data type in the .NET Framework.</span></span> <span data-ttu-id="1ba68-210">Jednak niektóre typy danych XML nie mają odpowiedniego typu danych w .NET Framework (na przykład typ danych **NMTOKEN).**</span><span class="sxs-lookup"><span data-stu-id="1ba68-210">However, some XML data types do not have a corresponding data type in the .NET Framework (for example, the **NMTOKEN** data type).</span></span> <span data-ttu-id="1ba68-211">W takich przypadkach, jeśli do generowania klas ze schematu używasz narzędzia XML Schema Definition[(XML Schema Definition Tool (Xsd.exe)](xml-schema-definition-tool-xsd-exe.md)) odpowiedni atrybut jest stosowany do elementu członkowskiego ciągu typu, a jego właściwość **DataType** jest ustawiona na nazwę typu danych XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-211">In such cases, if you use the XML Schema Definition tool ([XML Schema Definition Tool (Xsd.exe)](xml-schema-definition-tool-xsd-exe.md)) to generate classes from a schema, an appropriate attribute is applied to a member of type string, and its **DataType** property is set to the XML data type name.</span></span> <span data-ttu-id="1ba68-212">Na przykład jeśli schemat zawiera element o nazwie "MyToken" z typem danych XML **NMTOKEN,** wygenerowana klasa może zawierać element członkowski, jak pokazano w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="1ba68-212">For example, if a schema contains an element named "MyToken" with the XML data type **NMTOKEN**, the generated class might contain a member as shown in the following example.</span></span>

```vb
<XmlElement(DataType:="NMTOKEN")> _
Public MyToken As String
```

```csharp
[XmlElement(DataType = "NMTOKEN")]
public string MyToken;
```

<span data-ttu-id="1ba68-213">Podobnie w przypadku tworzenia klasy, która musi być zgodna z określonym schematem XML (XSD), należy zastosować odpowiedni atrybut i ustawić jego właściwość **DataType** na żądaną nazwę typu danych XML.</span><span class="sxs-lookup"><span data-stu-id="1ba68-213">Similarly, if you are creating a class that must conform to a specific XML Schema (XSD), you should apply the appropriate attribute and set its **DataType** property to the desired XML data type name.</span></span>

<span data-ttu-id="1ba68-214">Aby uzyskać pełną listę mapowań typów, zobacz **Właściwość DataType** dla dowolnej z następujących klas atrybutów:</span><span class="sxs-lookup"><span data-stu-id="1ba68-214">For a complete list of type mappings, see the **DataType** property for any of the following attribute classes:</span></span>

- <xref:System.Xml.Serialization.SoapAttributeAttribute>

- <xref:System.Xml.Serialization.SoapElementAttribute>

- <xref:System.Xml.Serialization.XmlArrayItemAttribute>

- <xref:System.Xml.Serialization.XmlAttributeAttribute>

- <xref:System.Xml.Serialization.XmlElementAttribute>

- <xref:System.Xml.Serialization.XmlRootAttribute>

## <a name="see-also"></a><span data-ttu-id="1ba68-215">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="1ba68-215">See also</span></span>

- <xref:System.Xml.Serialization.XmlSerializer>
- <xref:System.Runtime.Serialization.DataContractSerializer>
- <xref:System.IO.FileStream>
- [<span data-ttu-id="1ba68-216">Serializacja XML i SOAP</span><span class="sxs-lookup"><span data-stu-id="1ba68-216">XML and SOAP Serialization</span></span>](xml-and-soap-serialization.md)
- [<span data-ttu-id="1ba68-217">Serializacja binarna</span><span class="sxs-lookup"><span data-stu-id="1ba68-217">Binary Serialization</span></span>](binary-serialization.md)
- [<span data-ttu-id="1ba68-218">Serializacja</span><span class="sxs-lookup"><span data-stu-id="1ba68-218">Serialization</span></span>](index.md)
- <xref:System.Xml.Serialization.XmlSerializer>
- [<span data-ttu-id="1ba68-219">Przykłady serializacji XML</span><span class="sxs-lookup"><span data-stu-id="1ba68-219">Examples of XML Serialization</span></span>](examples-of-xml-serialization.md)
- [<span data-ttu-id="1ba68-220">Instrukcje: Serializacja obiektu</span><span class="sxs-lookup"><span data-stu-id="1ba68-220">How to: Serialize an Object</span></span>](how-to-serialize-an-object.md)
- [<span data-ttu-id="1ba68-221">Instrukcje: Deserializacja obiektu</span><span class="sxs-lookup"><span data-stu-id="1ba68-221">How to: Deserialize an Object</span></span>](how-to-deserialize-an-object.md)
