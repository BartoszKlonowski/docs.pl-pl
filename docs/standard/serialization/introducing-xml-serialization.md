---
title: Szczegóły serializacji XML
description: Serializacja Konwertuje obiekt na formularz, który można transportować. Ten artykuł zawiera omówienie serializacji XML i klasy XmlSerializer.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- XML serialization, about XML serialization
- ICollection interface, serializing
- XmlSerializer class, serializing
- serialization, about serialization
- DataSet class, serializing
- XML Schema, serializing
ms.assetid: 8c63200d-db63-4a03-a93d-21641623df62
ms.openlocfilehash: d9b71b7530debde7708ee107c990541e2b97cd44
ms.sourcegitcommit: b16c00371ea06398859ecd157defc81301c9070f
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 06/06/2020
ms.locfileid: "84277963"
---
# <a name="xml-serialization"></a><span data-ttu-id="4dee9-104">Serializacja XML</span><span class="sxs-lookup"><span data-stu-id="4dee9-104">XML serialization</span></span>

<span data-ttu-id="4dee9-105">Serializacji to proces konwersji obiektu do formularza, który można łatwo przesłać.</span><span class="sxs-lookup"><span data-stu-id="4dee9-105">Serialization is the process of converting an object into a form that can be readily transported.</span></span> <span data-ttu-id="4dee9-106">Na przykład można serializować obiekt i transportować go za pośrednictwem Internetu przy użyciu protokołu HTTP między klientem a serwerem.</span><span class="sxs-lookup"><span data-stu-id="4dee9-106">For example, you can serialize an object and transport it over the Internet using HTTP between a client and a server.</span></span> <span data-ttu-id="4dee9-107">Z drugiej deserializacji rekonstruuje obiektów ze strumienia.</span><span class="sxs-lookup"><span data-stu-id="4dee9-107">On the other end, deserialization reconstructs the object from the stream.</span></span>

 <span data-ttu-id="4dee9-108">Wykonuje serializacji XML serializację tylko publiczny pól i wartości właściwości obiektu do strumienia XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-108">XML serialization serializes only the public fields and property values of an object into an XML stream.</span></span> <span data-ttu-id="4dee9-109">Serializacji XML nie zawiera informacji o typie.</span><span class="sxs-lookup"><span data-stu-id="4dee9-109">XML serialization does not include type information.</span></span> <span data-ttu-id="4dee9-110">Na przykład jeśli masz obiekt **książki** , który istnieje w przestrzeni nazw **biblioteki** , nie ma gwarancji, że jest on deserializowany do obiektu tego samego typu.</span><span class="sxs-lookup"><span data-stu-id="4dee9-110">For example, if you have a **Book** object that exists in the **Library** namespace, there is no guarantee that it is deserialized into an object of the same type.</span></span>

> [!NOTE]
> <span data-ttu-id="4dee9-111">Serializacji XML nie konwertuje metody, indeksatory, prywatnych pola lub właściwości tylko do odczytu (z wyjątkiem kolekcji tylko do odczytu).</span><span class="sxs-lookup"><span data-stu-id="4dee9-111">XML serialization does not convert methods, indexers, private fields, or read-only properties (except read-only collections).</span></span> <span data-ttu-id="4dee9-112">Do serializacji obiektu wszystkie pola i właściwości, zarówno publiczne, jak i prywatnych, użyj <xref:System.Runtime.Serialization.DataContractSerializer> zamiast serializacji XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-112">To serialize all an object's fields and properties, both public and private, use the <xref:System.Runtime.Serialization.DataContractSerializer> instead of XML serialization.</span></span>

 <span data-ttu-id="4dee9-113">Centralna Klasa w serializacji XML jest <xref:System.Xml.Serialization.XmlSerializer> klasą, a najważniejsze metody w tej klasie są metodami **serializacji** i **deserializacji** .</span><span class="sxs-lookup"><span data-stu-id="4dee9-113">The central class in XML serialization is the <xref:System.Xml.Serialization.XmlSerializer> class, and the most important methods in this class are the **Serialize** and **Deserialize** methods.</span></span> <span data-ttu-id="4dee9-114"><xref:System.Xml.Serialization.XmlSerializer> Tworzy PLiki C# i kompiluje je na PLiki z rozszerzeniem dll do wykonania tej serializacji.</span><span class="sxs-lookup"><span data-stu-id="4dee9-114">The <xref:System.Xml.Serialization.XmlSerializer> creates C# files and compiles them into .dll files to perform this serialization.</span></span> <span data-ttu-id="4dee9-115">W .NET Framework 2,0 [narzędzie XML Serializer Generator (Sgen. exe)](xml-serializer-generator-tool-sgen-exe.md) zaprojektowano w celu wygenerowania tych zestawów serializacji z wyprzedzeniem, aby można je było wdrożyć wraz z aplikacją i zwiększyć wydajność uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="4dee9-115">In .NET Framework 2.0, the [XML Serializer Generator Tool (Sgen.exe)](xml-serializer-generator-tool-sgen-exe.md) is designed to generate these serialization assemblies in advance to be deployed with your application and improve startup performance.</span></span> <span data-ttu-id="4dee9-116">Strumień XML wygenerowany przez element **XmlSerializer** jest zgodny z zaleceniami organizacja World Wide Web Consortium (W3C) [XML schematu definicji języka (XSD) 1,0](https://www.w3.org/TR/xslt).</span><span class="sxs-lookup"><span data-stu-id="4dee9-116">The XML stream generated by the **XmlSerializer** is compliant with the World Wide Web Consortium (W3C) [XML Schema definition language (XSD) 1.0 recommendation](https://www.w3.org/TR/xslt).</span></span> <span data-ttu-id="4dee9-117">Ponadto typy danych wygenerowane są zgodne z dokumentem zatytułowanym "XML schematu część 2: Datatypes".</span><span class="sxs-lookup"><span data-stu-id="4dee9-117">Furthermore, the data types generated are compliant with the document titled "XML Schema Part 2: Datatypes."</span></span>

 <span data-ttu-id="4dee9-118">Dane w obiektach są opisane przy użyciu konstrukcji języka programowania, takich jak klasy, pola, właściwości, typy pierwotne, tablice, a nawet osadzone XML w postaci obiektów **XmlElement** lub **XmlAttribute** .</span><span class="sxs-lookup"><span data-stu-id="4dee9-118">The data in your objects is described using programming language constructs like classes, fields, properties, primitive types, arrays, and even embedded XML in the form of **XmlElement** or **XmlAttribute** objects.</span></span> <span data-ttu-id="4dee9-119">Istnieje możliwość tworzenia własnych klas oznaczona z atrybutów, lub za pomocą narzędzia definicji schematu XML można wygenerować klas na podstawie istniejącego schematu XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-119">You have the option of creating your own classes, annotated with attributes, or using the XML Schema Definition tool to generate the classes based on an existing XML Schema.</span></span>

 <span data-ttu-id="4dee9-120">Jeśli masz schematu XML, należy uruchomić narzędzie definicji schematu XML do tworzenia zestaw klasy, które są silnie wpisany schematu i dodawać adnotacje z atrybutami.</span><span class="sxs-lookup"><span data-stu-id="4dee9-120">If you have an XML Schema, you can run the XML Schema Definition tool to produce a set of classes that are strongly typed to the schema and annotated with attributes.</span></span> <span data-ttu-id="4dee9-121">W przypadku wystąpienia takich klasy jest serializowana, wygenerowany kod XML jest zgodna schematu XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-121">When an instance of such a class is serialized, the generated XML adheres to the XML Schema.</span></span> <span data-ttu-id="4dee9-122">Zamieszczone w przypadku klasy, można programować względem model obiektów łatwo manipulować spełniającą pewność, że wygenerowany kod XML jest zgodny ze schematem XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-122">Provided with such a class, you can program against an easily manipulated object model while being assured that the generated XML conforms to the XML schema.</span></span> <span data-ttu-id="4dee9-123">Jest to alternatywa dla użycia innych klas w .NET Framework, takich jak klasy **XmlReader** i **XmlWriter** , do analizowania i pisania strumienia XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-123">This is an alternative to using other classes in the .NET Framework, such as the **XmlReader** and **XmlWriter** classes, to parse and write an XML stream.</span></span> <span data-ttu-id="4dee9-124">Aby uzyskać więcej informacji, zobacz [dokumenty XML i dane](../data/xml/index.md).</span><span class="sxs-lookup"><span data-stu-id="4dee9-124">For more information, see [XML Documents and Data](../data/xml/index.md).</span></span> <span data-ttu-id="4dee9-125">Klasy te umożliwiają przeanalizować strumieniem XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-125">These classes allow you to parse any XML stream.</span></span> <span data-ttu-id="4dee9-126">W przeciwieństwie, użyj **XmlSerializer** , gdy strumień XML powinien być zgodny ze znanymi schematem XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-126">In contrast, use the **XmlSerializer** when the XML stream is expected to conform to a known XML Schema.</span></span>

 <span data-ttu-id="4dee9-127">Atrybuty kontrolują strumień XML wygenerowany przez klasę **XmlSerializer** , co pozwala na ustawienie przestrzeni nazw XML, nazwy elementu, nazwy atrybutu i tak dalej w przypadku strumienia XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-127">Attributes control the XML stream generated by the **XmlSerializer** class, allowing you to set the XML namespace, element name, attribute name, and so on, of the XML stream.</span></span> <span data-ttu-id="4dee9-128">Aby uzyskać więcej informacji o tych atrybutach i sposobach ich kontroli serializacji XML, zobacz [Kontrolowanie serializacji XML przy użyciu atrybutów](controlling-xml-serialization-using-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="4dee9-128">For more information about these attributes and how they control XML serialization, see [Controlling XML Serialization Using Attributes](controlling-xml-serialization-using-attributes.md).</span></span> <span data-ttu-id="4dee9-129">Dla tabeli tych atrybutów, które są używane do kontrolowania wygenerowanego kodu XML, zobacz atrybuty kontrolujące [serializacji XML](attributes-that-control-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="4dee9-129">For a table of those attributes that are used to control the generated XML, see [Attributes That Control XML Serialization](attributes-that-control-xml-serialization.md).</span></span>

 <span data-ttu-id="4dee9-130">Klasa **XmlSerializer** może bardziej serializować obiekt i generować zakodowany strumień XML protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="4dee9-130">The **XmlSerializer** class can further serialize an object and generate an encoded SOAP XML stream.</span></span> <span data-ttu-id="4dee9-131">Wygenerowany kod XML jest zgodny z sekcją 5 dokumentu organizacja World Wide Web Consortium zatytułowanego "Simple Object Access Protocol (SOAP) 1,1".</span><span class="sxs-lookup"><span data-stu-id="4dee9-131">The generated XML adheres to section 5 of the World Wide Web Consortium document titled "Simple Object Access Protocol (SOAP) 1.1."</span></span> <span data-ttu-id="4dee9-132">Aby uzyskać więcej informacji o tym procesie, zobacz [How to: deserializacji obiektu jako strumień XML szyfrowany przy użyciu protokołu SOAP](how-to-serialize-an-object-as-a-soap-encoded-xml-stream.md).</span><span class="sxs-lookup"><span data-stu-id="4dee9-132">For more information about this process, see [How to: Serialize an Object as a SOAP-Encoded XML Stream](how-to-serialize-an-object-as-a-soap-encoded-xml-stream.md).</span></span> <span data-ttu-id="4dee9-133">Aby zapoznać się z tabelą atrybutów kontrolujących wygenerowany kod XML, zobacz atrybuty kontrolujące [zakodowaną serializację protokołu SOAP](attributes-that-control-encoded-soap-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="4dee9-133">For a table of the attributes that control the generated XML, see [Attributes That Control Encoded SOAP Serialization](attributes-that-control-encoded-soap-serialization.md).</span></span>

 <span data-ttu-id="4dee9-134">Klasa **XmlSerializer** generuje komunikaty protokołu SOAP utworzone przez i przekazaną do usług sieci Web XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-134">The **XmlSerializer** class generates the SOAP messages created by, and passed to, XML Web services.</span></span> <span data-ttu-id="4dee9-135">Aby kontrolować komunikaty protokołu SOAP, można zastosować atrybuty do klas, zwracanych wartości, parametrów i pól znalezionych w pliku usługi sieci Web XML (. asmx).</span><span class="sxs-lookup"><span data-stu-id="4dee9-135">To control the SOAP messages, you can apply attributes to the classes, return values, parameters, and fields found in an XML Web service file (.asmx).</span></span> <span data-ttu-id="4dee9-136">Można użyć atrybuty wymienione w "Serializacji XML atrybuty czy kontroli" i "Atrybuty czy kontroli kodowany protokołu SOAP serializacji", ponieważ usługi XML sieci Web mogą korzystać styl literału lub zakodowanego protokołu SOAP.</span><span class="sxs-lookup"><span data-stu-id="4dee9-136">You can use both the attributes listed in "Attributes That Control XML Serialization" and "Attributes That Control Encoded SOAP Serialization" because an XML Web service can use either the literal or encoded SOAP style.</span></span> <span data-ttu-id="4dee9-137">Aby uzyskać więcej informacji o używaniu atrybutów do sterowania XML wygenerowanym przez usługę sieci Web XML, zobacz [serializacji XML z usługami sieci Web XML](xml-serialization-with-xml-web-services.md).</span><span class="sxs-lookup"><span data-stu-id="4dee9-137">For more information about using attributes to control the XML generated by an XML Web service, see [XML Serialization with XML Web Services](xml-serialization-with-xml-web-services.md).</span></span> <span data-ttu-id="4dee9-138">Aby uzyskać więcej informacji na temat usług sieci Web SOAP i XML, zobacz [Dostosowywanie formatowania komunikatów SOAP](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dkwy2d72(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="4dee9-138">For more information about SOAP and XML Web services, see [Customizing SOAP Message Formatting](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dkwy2d72(v=vs.100)).</span></span>

## <a name="security-considerations-for-xmlserializer-applications"></a><span data-ttu-id="4dee9-139">Zagadnienia dotyczące zabezpieczeń aplikacji XmlSerializer</span><span class="sxs-lookup"><span data-stu-id="4dee9-139">Security Considerations for XmlSerializer Applications</span></span>

<span data-ttu-id="4dee9-140">Podczas tworzenia aplikacji korzystającej z **elementu XmlSerializer**należy pamiętać o następujących elementach i ich następstwie:</span><span class="sxs-lookup"><span data-stu-id="4dee9-140">When creating an application that uses the **XmlSerializer**, be aware of the following items and their implications:</span></span>

- <span data-ttu-id="4dee9-141">**XmlSerializer** tworzy pliki C# (. cs) i kompiluje je do plików DLL w katalogu o nazwie przez zmienną środowiskową temp; Serializacja występuje z tymi bibliotekami DLL.</span><span class="sxs-lookup"><span data-stu-id="4dee9-141">The **XmlSerializer** creates C# (.cs) files and compiles them into .dll files in the directory named by the TEMP environment variable; serialization occurs with those DLLs.</span></span>

  > [!NOTE]
  > <span data-ttu-id="4dee9-142">Te zestawy serializacji można wygenerowane z góry i podpisane za pomocą narzędzia SGen.exe.</span><span class="sxs-lookup"><span data-stu-id="4dee9-142">These serialization assemblies can be generated in advance and signed by using the SGen.exe tool.</span></span> <span data-ttu-id="4dee9-143">Nie działa serwer usług sieci Web.</span><span class="sxs-lookup"><span data-stu-id="4dee9-143">This does not work a server of Web services.</span></span> <span data-ttu-id="4dee9-144">Innymi słowy jest tylko do użytku klienta i ręczne serializacji.</span><span class="sxs-lookup"><span data-stu-id="4dee9-144">In other words, it is only for client use and for manual serialization.</span></span>

  <span data-ttu-id="4dee9-145">Kod i biblioteki DLL są podatne na złośliwego procesu w czasie tworzenia i kompilacji.</span><span class="sxs-lookup"><span data-stu-id="4dee9-145">The code and the DLLs are vulnerable to a malicious process at the time of creation and compilation.</span></span> <span data-ttu-id="4dee9-146">Podczas używania na komputerze z systemem Microsoft Windows NT 4.0 lub nowszy, może być możliwe dla co najmniej dwa użytkownikom udostępnianie katalogu TEMP.</span><span class="sxs-lookup"><span data-stu-id="4dee9-146">When using a computer running Microsoft Windows NT 4.0 or later, it might be possible for two or more users to share the TEMP directory.</span></span> <span data-ttu-id="4dee9-147">Udostępnianie katalogu TEMP jest niebezpieczne, jeśli dwa konta mają różne uprawnienia zabezpieczeń, a konto wyższego uprawnienia uruchamia aplikację przy użyciu **elementu XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="4dee9-147">Sharing a TEMP directory is dangerous if the two accounts have different security privileges and the higher-privilege account runs an application using the **XmlSerializer**.</span></span> <span data-ttu-id="4dee9-148">W takim przypadku jeden użytkownik może naruszyć bezpieczeństwo komputera, zastępując plik. cs lub. dll, który jest kompilowany.</span><span class="sxs-lookup"><span data-stu-id="4dee9-148">In this case, one user can breach the computer's security by replacing either the .cs or .dll file that is compiled.</span></span> <span data-ttu-id="4dee9-149">Aby usunąć ten problem, zawsze upewnij się, że każde konto na komputerze ma własny profil.</span><span class="sxs-lookup"><span data-stu-id="4dee9-149">To eliminate this concern, always be sure that each account on the computer has its own profile.</span></span> <span data-ttu-id="4dee9-150">Domyślnie zmienna środowiskowa TEMP wskazuje inny folder dla każdego konta.</span><span class="sxs-lookup"><span data-stu-id="4dee9-150">By default, the TEMP environment variable points to a different directory for each account.</span></span>

- <span data-ttu-id="4dee9-151">Jeśli złośliwy użytkownik wyśle ciągły strumień danych XML do serwera sieci Web (atak typu "odmowa usługi"), wówczas obiekt **XmlSerializer** kontynuuje przetwarzanie danych do momentu, gdy na komputerze nie będzie działać niska ilość zasobów.</span><span class="sxs-lookup"><span data-stu-id="4dee9-151">If a malicious user sends a continuous stream of XML data to a Web server (a denial of service attack), then the **XmlSerializer** continues to process the data until the computer runs low on resources.</span></span>

  <span data-ttu-id="4dee9-152">Ten rodzaj ataku jest eliminowany, jeśli używasz komputera z systemem Internet Information Services (IIS), a aplikacja jest uruchomiona w ramach usług IIS.</span><span class="sxs-lookup"><span data-stu-id="4dee9-152">This kind of attack is eliminated if you are using a computer running Internet Information Services (IIS), and your application is running within IIS.</span></span> <span data-ttu-id="4dee9-153">Program IIS zawiera bramę, która nie może przetwarzać strumieni dłużej niż pewną liczbę (wartość domyślna to 4 KB).</span><span class="sxs-lookup"><span data-stu-id="4dee9-153">IIS features a gate that does not process streams longer than a set amount (the default is 4 KB).</span></span> <span data-ttu-id="4dee9-154">Jeśli tworzysz aplikację, która nie korzysta z usług IIS i deserializacji z **XmlSerializer**, należy zaimplementować podobną bramę, która uniemożliwia atak typu "odmowa usługi".</span><span class="sxs-lookup"><span data-stu-id="4dee9-154">If you create an application that does not use IIS and deserializes with the **XmlSerializer**, you should implement a similar gate that prevents a denial of service attack.</span></span>

- <span data-ttu-id="4dee9-155">**XmlSerializer** wykonuje serializacji danych i uruchamia dowolny kod przy użyciu dowolnego typu danego elementu.</span><span class="sxs-lookup"><span data-stu-id="4dee9-155">The **XmlSerializer** serializes data and runs any code using any type given to it.</span></span>

  <span data-ttu-id="4dee9-156">Istnieją dwie metody, w których obiekt złośliwego przedstawia zagrożenia.</span><span class="sxs-lookup"><span data-stu-id="4dee9-156">There are two ways in which a malicious object presents a threat.</span></span> <span data-ttu-id="4dee9-157">Może uruchomić złośliwy kod lub może wstrzyknąć złośliwy kod do pliku C# utworzonego przez **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="4dee9-157">It could run malicious code or it could inject malicious code into the C# file created by the **XmlSerializer**.</span></span> <span data-ttu-id="4dee9-158">W przypadku pierwszego Jeśli obiekt złośliwego próbuje uruchomić destrukcyjne procedurę, zabezpieczenia dostępu do kodu uniemożliwia szkody wykonywana.</span><span class="sxs-lookup"><span data-stu-id="4dee9-158">In the first case, if a malicious object tries to run a destructive procedure, code access security helps prevent any damage from being done.</span></span> <span data-ttu-id="4dee9-159">W drugim przypadku istnieje teoretyczna możliwość, że złośliwy obiekt może w jakiś sposób wstrzyknąć kod do pliku C# utworzonego przez **XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="4dee9-159">In the second case, there is a theoretical possibility that a malicious object may somehow inject code into the C# file created by the **XmlSerializer**.</span></span> <span data-ttu-id="4dee9-160">Mimo że ten problem zbadaniu dokładnie i takiego ataku jest uznawany za mało prawdopodobne, należy podjąć środki ostrożności nigdy nie szeregowania danych o typie nieznany i niezaufane.</span><span class="sxs-lookup"><span data-stu-id="4dee9-160">Although this issue has been examined thoroughly, and such an attack is considered unlikely, you should take the precaution of never serializing data with an unknown and untrusted type.</span></span>

- <span data-ttu-id="4dee9-161">Zserializowany poufnych danych może być narażony.</span><span class="sxs-lookup"><span data-stu-id="4dee9-161">Serialized sensitive data might be vulnerable.</span></span>

  <span data-ttu-id="4dee9-162">Gdy obiekt **XmlSerializer** ma serializowane dane, można go zapisać jako plik XML lub inny magazyn danych.</span><span class="sxs-lookup"><span data-stu-id="4dee9-162">After the **XmlSerializer** has serialized data, it can be stored as an XML file or other data store.</span></span> <span data-ttu-id="4dee9-163">Sklepu danych jest dostępna dla innych procesów, czy jest widoczny w intranecie lub w Internecie, dane mogą skradziony i użyty w sposób złośliwy.</span><span class="sxs-lookup"><span data-stu-id="4dee9-163">If your data store is available to other processes, or is visible on an intranet or the Internet, the data can be stolen and used maliciously.</span></span> <span data-ttu-id="4dee9-164">Jeśli na przykład utworzysz aplikację, która serializować zamówienia zawierające numery kart kredytowych, dane są bardzo poufne.</span><span class="sxs-lookup"><span data-stu-id="4dee9-164">For example, if you create an application that serializes orders that include credit card numbers, the data is highly sensitive.</span></span> <span data-ttu-id="4dee9-165">Aby zapobiec, zawsze ochrony magazynu danych i wykonać kroki, aby utrzymać ją prywatnych.</span><span class="sxs-lookup"><span data-stu-id="4dee9-165">To help prevent this, always protect the store for your data and take steps to keep it private.</span></span>

## <a name="serialization-of-a-simple-class"></a><span data-ttu-id="4dee9-166">Serializacja klasy prostej</span><span class="sxs-lookup"><span data-stu-id="4dee9-166">Serialization of a Simple Class</span></span>

<span data-ttu-id="4dee9-167">Poniższy przykład kodu pokazuje klasę podstawową z polem publicznym.</span><span class="sxs-lookup"><span data-stu-id="4dee9-167">The following code example shows a basic class with a public field.</span></span>

```vb
Public Class OrderForm
    Public OrderDate As DateTime
End Class
```

```csharp
public class OrderForm
{
    public DateTime OrderDate;
}
```

<span data-ttu-id="4dee9-168">W przypadku wystąpienia tej klasy jest serializowana, jego może wyglądać w następujący sposób.</span><span class="sxs-lookup"><span data-stu-id="4dee9-168">When an instance of this class is serialized, it might resemble the following.</span></span>

```xml
<OrderForm>
    <OrderDate>12/12/01</OrderDate>
</OrderForm>
```

<span data-ttu-id="4dee9-169">Aby uzyskać więcej przykładów serializacji, zobacz [przykłady serializacji XML](examples-of-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="4dee9-169">For more examples of serialization, see [Examples of XML Serialization](examples-of-xml-serialization.md).</span></span>

## <a name="items-that-can-be-serialized"></a><span data-ttu-id="4dee9-170">Elementy, które można wykonywać serializację</span><span class="sxs-lookup"><span data-stu-id="4dee9-170">Items That Can Be Serialized</span></span>

<span data-ttu-id="4dee9-171">Następujące elementy można serializować przy użyciu klasy **XmlSerializer** :</span><span class="sxs-lookup"><span data-stu-id="4dee9-171">The following items can be serialized using the **XmlSerializer** class:</span></span>

- <span data-ttu-id="4dee9-172">Właściwości publiczne odczytu/zapisu i pola publiczne klas.</span><span class="sxs-lookup"><span data-stu-id="4dee9-172">Public read/write properties and fields of public classes.</span></span>

- <span data-ttu-id="4dee9-173">Klasy implementujące **interfejs ICollection** lub **IEnumerable**.</span><span class="sxs-lookup"><span data-stu-id="4dee9-173">Classes that implement **ICollection** or **IEnumerable**.</span></span>

  > [!NOTE]
  > <span data-ttu-id="4dee9-174">Tylko kolekcje są serializacji, nie publiczny właściwości.</span><span class="sxs-lookup"><span data-stu-id="4dee9-174">Only collections are serialized, not public properties.</span></span>

- <span data-ttu-id="4dee9-175">Obiekty **XmlElement** .</span><span class="sxs-lookup"><span data-stu-id="4dee9-175">**XmlElement** objects.</span></span>

- <span data-ttu-id="4dee9-176">Obiekty **XmlNode** .</span><span class="sxs-lookup"><span data-stu-id="4dee9-176">**XmlNode** objects.</span></span>

- <span data-ttu-id="4dee9-177">Obiekty **DataSet** .</span><span class="sxs-lookup"><span data-stu-id="4dee9-177">**DataSet** objects.</span></span>

 <span data-ttu-id="4dee9-178">Aby uzyskać więcej informacji na temat serializacji lub deserializacji obiektów, zobacz [How to:](how-to-serialize-an-object.md) deserializacji obiektu i [instrukcje:](how-to-deserialize-an-object.md)deserializacja obiektu.</span><span class="sxs-lookup"><span data-stu-id="4dee9-178">For more information about serializing or deserializing objects, see [How to: Serialize an Object](how-to-serialize-an-object.md) and [How to: Deserialize an Object](how-to-deserialize-an-object.md).</span></span>

## <a name="advantages-of-using-xml-serialization"></a><span data-ttu-id="4dee9-179">Korzyści wynikające z używania serializacji XML</span><span class="sxs-lookup"><span data-stu-id="4dee9-179">Advantages of Using XML Serialization</span></span>

<span data-ttu-id="4dee9-180">Klasa **XmlSerializer** zapewnia kompletną i elastyczną kontrolę podczas serializacji obiektu jako XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-180">The **XmlSerializer** class gives you complete and flexible control when you serialize an object as XML.</span></span> <span data-ttu-id="4dee9-181">W przypadku tworzenia usługi sieci Web XML można zastosować atrybuty kontrolujące serializację do klas i składowych, aby upewnić się, że dane wyjściowe XML są zgodne z określonym schematem.</span><span class="sxs-lookup"><span data-stu-id="4dee9-181">If you are creating an XML Web service, you can apply attributes that control serialization to classes and members to ensure that the XML output conforms to a specific schema.</span></span>

<span data-ttu-id="4dee9-182">Na przykład **XmlSerializer** umożliwia:</span><span class="sxs-lookup"><span data-stu-id="4dee9-182">For example, **XmlSerializer** enables you to:</span></span>

- <span data-ttu-id="4dee9-183">Określ, czy pole lub właściwość powinien być kodowany jako atrybut lub element.</span><span class="sxs-lookup"><span data-stu-id="4dee9-183">Specify whether a field or property should be encoded as an attribute or an element.</span></span>

- <span data-ttu-id="4dee9-184">Określ przestrzeni nazw XML do użycia.</span><span class="sxs-lookup"><span data-stu-id="4dee9-184">Specify an XML namespace to use.</span></span>

- <span data-ttu-id="4dee9-185">Określ nazwę elementu lub atrybutu, jeśli nazwa pola lub właściwości jest nieodpowiedni.</span><span class="sxs-lookup"><span data-stu-id="4dee9-185">Specify the name of an element or attribute if a field or property name is inappropriate.</span></span>

<span data-ttu-id="4dee9-186">Inną zaletą serializacji XML jest to, że nie masz żadnych ograniczeń dotyczących tworzonych aplikacji, o ile strumień XML, który jest generowany jest zgodny z danym schematem.</span><span class="sxs-lookup"><span data-stu-id="4dee9-186">Another advantage of XML serialization is that you have no constraints on the applications you develop, as long as the XML stream that is generated conforms to a given schema.</span></span> <span data-ttu-id="4dee9-187">Wyobraź sobie schematu, używany do opisania książki.</span><span class="sxs-lookup"><span data-stu-id="4dee9-187">Imagine a schema that is used to describe books.</span></span> <span data-ttu-id="4dee9-188">Zawiera funkcje tytuł, autor, Wydawca i ISBN numer elementu.</span><span class="sxs-lookup"><span data-stu-id="4dee9-188">It features a title, author, publisher, and ISBN number element.</span></span> <span data-ttu-id="4dee9-189">Możesz opracować aplikację, która przetwarza dane XML w dowolny sposób, na przykład jako zamówienie książki lub spis książek.</span><span class="sxs-lookup"><span data-stu-id="4dee9-189">You can develop an application that processes the XML data in any way you want, for example, as a book order, or as an inventory of books.</span></span> <span data-ttu-id="4dee9-190">W obu przypadkach jedynym wymaganiem jest, czy strumień XML jest zgodny ze schematem określonego języka (XSD) definicji schematu XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-190">In either case, the only requirement is that the XML stream conforms to the specified XML Schema definition language (XSD) schema.</span></span>

## <a name="xml-serialization-considerations"></a><span data-ttu-id="4dee9-191">Uwagi dotyczące serializacji XML</span><span class="sxs-lookup"><span data-stu-id="4dee9-191">XML Serialization Considerations</span></span>

<span data-ttu-id="4dee9-192">Przy użyciu klasy **XmlSerializer** należy wziąć pod uwagę następujące kwestie:</span><span class="sxs-lookup"><span data-stu-id="4dee9-192">The following should be considered when using the **XmlSerializer** class:</span></span>

- <span data-ttu-id="4dee9-193">Narzędzie Sgen.exe wyraźnie jest przeznaczona do generowania zestawów serializacji w celu uzyskania optymalnej wydajności.</span><span class="sxs-lookup"><span data-stu-id="4dee9-193">The Sgen.exe tool is expressly designed to generate serialization assemblies for optimum performance.</span></span>

- <span data-ttu-id="4dee9-194">Serializowane dane zawiera tylko danych i struktury klas.</span><span class="sxs-lookup"><span data-stu-id="4dee9-194">The serialized data contains only the data itself and the structure of your classes.</span></span> <span data-ttu-id="4dee9-195">Informacje o tożsamości i zestawu typu nie są uwzględniane.</span><span class="sxs-lookup"><span data-stu-id="4dee9-195">Type identity and assembly information are not included.</span></span>

- <span data-ttu-id="4dee9-196">Może być Zserializowany tylko właściwości publiczne i pola.</span><span class="sxs-lookup"><span data-stu-id="4dee9-196">Only public properties and fields can be serialized.</span></span> <span data-ttu-id="4dee9-197">Właściwości muszą mieć publiczne metody dostępu (Pobieranie i ustawianie metody).</span><span class="sxs-lookup"><span data-stu-id="4dee9-197">Properties must have public accessors (get and set methods).</span></span> <span data-ttu-id="4dee9-198">Jeśli muszą serializację danych bez publicznego, użyj <xref:System.Runtime.Serialization.DataContractSerializer> klasy zamiast serializacji XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-198">If you must serialize non-public data, use the <xref:System.Runtime.Serialization.DataContractSerializer> class rather than XML serialization.</span></span>

- <span data-ttu-id="4dee9-199">Klasa musi mieć konstruktora bez parametrów, aby można było serializować ją przy użyciu **elementu XmlSerializer**.</span><span class="sxs-lookup"><span data-stu-id="4dee9-199">A class must have a parameterless constructor to be serialized by **XmlSerializer**.</span></span>

- <span data-ttu-id="4dee9-200">Nie można serializować metody.</span><span class="sxs-lookup"><span data-stu-id="4dee9-200">Methods cannot be serialized.</span></span>

- <span data-ttu-id="4dee9-201">**XmlSerializer** może przetwarzać klasy implementujące **interfejsy IEnumerable** lub **ICollection** inaczej, jeśli spełniają określone wymagania, w następujący sposób.</span><span class="sxs-lookup"><span data-stu-id="4dee9-201">**XmlSerializer** can process classes that implement **IEnumerable** or **ICollection** differently if they meet certain requirements, as follows.</span></span>

  <span data-ttu-id="4dee9-202">Klasa implementująca **interfejs IEnumerable** musi implementować publiczną metodę **Add** , która przyjmuje jeden parametr.</span><span class="sxs-lookup"><span data-stu-id="4dee9-202">A class that implements **IEnumerable** must implement a public **Add** method that takes a single parameter.</span></span> <span data-ttu-id="4dee9-203">Parametr **Add** Method musi być spójny (polimorficzny) z typem zwracanym z właściwości **IEnumerator. Current** zwracanego z metody **GetEnumerator** .</span><span class="sxs-lookup"><span data-stu-id="4dee9-203">The **Add** method's parameter must be consistent (polymorphic) with the type returned from the **IEnumerator.Current** property returned from the **GetEnumerator** method.</span></span>

  <span data-ttu-id="4dee9-204">Klasa implementująca **interfejs ICollection** oprócz **interfejsu IEnumerable** (na przykład **CollectionBase**) musi mieć Właściwość indeksowaną **elementu** publicznego (indeksator w języku C#), która przyjmuje liczbę całkowitą i musi mieć publiczną właściwość **Count** typu **Integer**.</span><span class="sxs-lookup"><span data-stu-id="4dee9-204">A class that implements **ICollection** in addition to **IEnumerable** (such as **CollectionBase**) must have a public **Item** indexed property (an indexer in C#) that takes an integer and it must have a public **Count** property of type **integer**.</span></span> <span data-ttu-id="4dee9-205">Parametr przesłany do metody **Add** musi być tym samym typem, który został zwrócony z właściwości **Item** lub jednej z baz danych tego typu.</span><span class="sxs-lookup"><span data-stu-id="4dee9-205">The parameter passed to the **Add** method must be the same type as that returned from the **Item** property, or one of that type's bases.</span></span>

  <span data-ttu-id="4dee9-206">W przypadku klas implementujących **interfejs ICollection**wartości, które mają być serializowane, są pobierane z właściwości **element** indeksowany, a nie przez wywołanie metody **GetEnumerator**.</span><span class="sxs-lookup"><span data-stu-id="4dee9-206">For classes that implement **ICollection**, values to be serialized are retrieved from the indexed **Item** property rather than by calling **GetEnumerator**.</span></span> <span data-ttu-id="4dee9-207">Ponadto pola publiczne i właściwości nie są serializowane, z wyjątkiem pól publicznych, które zwracają inną klasę kolekcji (jedną implementującą **interfejs ICollection**).</span><span class="sxs-lookup"><span data-stu-id="4dee9-207">Also, public fields and properties are not serialized, with the exception of public fields that return another collection class (one that implements **ICollection**).</span></span> <span data-ttu-id="4dee9-208">Aby zapoznać się z przykładem, zobacz [przykłady serializacji XML](examples-of-xml-serialization.md).</span><span class="sxs-lookup"><span data-stu-id="4dee9-208">For an example, see [Examples of XML Serialization](examples-of-xml-serialization.md).</span></span>

## <a name="xsd-data-type-mapping"></a><span data-ttu-id="4dee9-209">Mapowania typów danych XSD</span><span class="sxs-lookup"><span data-stu-id="4dee9-209">XSD Data Type Mapping</span></span>

<span data-ttu-id="4dee9-210">Dokument W3C o tytule [schematu XML część 2:](https://www.w3.org/TR/xmlschema-2/) typy danych określa, że w schemacie języka definicji schematu XML (XSD) można używać prostych, które są dozwolone.</span><span class="sxs-lookup"><span data-stu-id="4dee9-210">The W3C document titled [XML Schema Part 2: Datatypes](https://www.w3.org/TR/xmlschema-2/) specifies the simple data types that are allowed in an XML Schema definition language (XSD) schema.</span></span> <span data-ttu-id="4dee9-211">Dla wielu z nich (na przykład **int** i **Decimal**) istnieje odpowiedni typ danych w .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="4dee9-211">For many of these (for example, **int** and **decimal**), there is a corresponding data type in the .NET Framework.</span></span> <span data-ttu-id="4dee9-212">Jednak niektóre typy danych XML nie mają odpowiadającego im typu danych w .NET Framework (na przykład typ danych **NMTOKEN** ).</span><span class="sxs-lookup"><span data-stu-id="4dee9-212">However, some XML data types do not have a corresponding data type in the .NET Framework (for example, the **NMTOKEN** data type).</span></span> <span data-ttu-id="4dee9-213">W takich przypadkach, jeśli używasz narzędzia definicji schematu XML ([Narzędzia definicji schematu XML (XSD. exe)](xml-schema-definition-tool-xsd-exe.md)) do generowania klas ze schematu, odpowiedni atrybut jest stosowany do składowej typu String, a jego właściwość **DataType** jest ustawiona na nazwę typu danych XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-213">In such cases, if you use the XML Schema Definition tool ([XML Schema Definition Tool (Xsd.exe)](xml-schema-definition-tool-xsd-exe.md)) to generate classes from a schema, an appropriate attribute is applied to a member of type string, and its **DataType** property is set to the XML data type name.</span></span> <span data-ttu-id="4dee9-214">Na przykład, jeśli schemat zawiera element o nazwie "mój token" z obiektem typu danych XML, wygenerowana Klasa może zawierać element **członkowski, jak**pokazano w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="4dee9-214">For example, if a schema contains an element named "MyToken" with the XML data type **NMTOKEN**, the generated class might contain a member as shown in the following example.</span></span>

```vb
<XmlElement(DataType:="NMTOKEN")> _
Public MyToken As String
```

```csharp
[XmlElement(DataType = "NMTOKEN")]
public string MyToken;
```

<span data-ttu-id="4dee9-215">Podobnie, jeśli tworzysz klasę, która musi być zgodna z określonym schematem XML (XSD), należy zastosować odpowiedni atrybut i ustawić jego właściwość **DataType** na żądaną nazwę typu danych XML.</span><span class="sxs-lookup"><span data-stu-id="4dee9-215">Similarly, if you are creating a class that must conform to a specific XML Schema (XSD), you should apply the appropriate attribute and set its **DataType** property to the desired XML data type name.</span></span>

<span data-ttu-id="4dee9-216">Aby uzyskać pełną listę mapowań typów, zobacz Właściwość **DataType** dla którejkolwiek z następujących klas atrybutów:</span><span class="sxs-lookup"><span data-stu-id="4dee9-216">For a complete list of type mappings, see the **DataType** property for any of the following attribute classes:</span></span>

- <xref:System.Xml.Serialization.SoapAttributeAttribute>

- <xref:System.Xml.Serialization.SoapElementAttribute>

- <xref:System.Xml.Serialization.XmlArrayItemAttribute>

- <xref:System.Xml.Serialization.XmlAttributeAttribute>

- <xref:System.Xml.Serialization.XmlElementAttribute>

- <xref:System.Xml.Serialization.XmlRootAttribute>

## <a name="see-also"></a><span data-ttu-id="4dee9-217">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="4dee9-217">See also</span></span>

- <xref:System.Xml.Serialization.XmlSerializer>
- <xref:System.Runtime.Serialization.DataContractSerializer>
- <xref:System.IO.FileStream>
- [<span data-ttu-id="4dee9-218">Serializacja XML i SOAP</span><span class="sxs-lookup"><span data-stu-id="4dee9-218">XML and SOAP Serialization</span></span>](xml-and-soap-serialization.md)
- [<span data-ttu-id="4dee9-219">Serializacja binarna</span><span class="sxs-lookup"><span data-stu-id="4dee9-219">Binary Serialization</span></span>](binary-serialization.md)
- [<span data-ttu-id="4dee9-220">Serializacja</span><span class="sxs-lookup"><span data-stu-id="4dee9-220">Serialization</span></span>](index.md)
- <xref:System.Xml.Serialization.XmlSerializer>
- [<span data-ttu-id="4dee9-221">Przykłady serializacji XML</span><span class="sxs-lookup"><span data-stu-id="4dee9-221">Examples of XML Serialization</span></span>](examples-of-xml-serialization.md)
- [<span data-ttu-id="4dee9-222">Instrukcje: Serializacja obiektu</span><span class="sxs-lookup"><span data-stu-id="4dee9-222">How to: Serialize an Object</span></span>](how-to-serialize-an-object.md)
- [<span data-ttu-id="4dee9-223">Instrukcje: Deserializacja obiektu</span><span class="sxs-lookup"><span data-stu-id="4dee9-223">How to: Deserialize an Object</span></span>](how-to-deserialize-an-object.md)
