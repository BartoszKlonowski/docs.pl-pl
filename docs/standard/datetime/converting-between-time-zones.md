---
title: "Konwertowanie godzin między strefami czasowymi"
ms.custom: 
ms.date: 04/10/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- times [.NET Framework], converting
- time zones [.NET Framework], conversions
- UTC times, converting
- converting times
- local time conversions
ms.assetid: a51e1a3b-c983-4320-b31a-1f9fa3cf824a
caps.latest.revision: "19"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: 58ed01520a9bbed53d32fc10e48a479e68f6ef7c
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/23/2017
---
# <a name="converting-times-between-time-zones"></a><span data-ttu-id="8b15f-102">Konwertowanie godzin między strefami czasowymi</span><span class="sxs-lookup"><span data-stu-id="8b15f-102">Converting times between time zones</span></span>

<span data-ttu-id="8b15f-103">Staje się coraz bardziej ważne dla każdej aplikacji, która współdziała z daty i godziny do obsługi różnic między strefami czasowymi.</span><span class="sxs-lookup"><span data-stu-id="8b15f-103">It is becoming increasingly important for any application that works with dates and times to handle differences between time zones.</span></span> <span data-ttu-id="8b15f-104">Aplikacji nie będzie można założyć, że zawsze może zostać wyrażona w czasie lokalnym czyli czas dostępne z <xref:System.DateTime> struktury.</span><span class="sxs-lookup"><span data-stu-id="8b15f-104">An application can no longer assume that all times can be expressed in the local time, which is the time available from the <xref:System.DateTime> structure.</span></span> <span data-ttu-id="8b15f-105">Na przykład strony sieci Web, który wyświetla bieżący czas wschodni części Stanów Zjednoczonych będzie braku wiarygodności z klientem w Azja Wschodnia.</span><span class="sxs-lookup"><span data-stu-id="8b15f-105">For example, a Web page that displays the current time in the eastern part of the United States will lack credibility to a customer in eastern Asia.</span></span> <span data-ttu-id="8b15f-106">W tym temacie wyjaśniono, jak przekonwertować godzin między strefami czasowymi, a także sposób konwertowania <xref:System.DateTimeOffset> wartości, które mają ograniczoną świadomości strefy czasowej.</span><span class="sxs-lookup"><span data-stu-id="8b15f-106">This topic explains how to convert times from one time zone to another, as well as how to convert <xref:System.DateTimeOffset> values that have limited time zone awareness.</span></span>

## <a name="converting-to-coordinated-universal-time"></a><span data-ttu-id="8b15f-107">Konwertowanie na uniwersalny czas koordynowany</span><span class="sxs-lookup"><span data-stu-id="8b15f-107">Converting to Coordinated Universal Time</span></span>

<span data-ttu-id="8b15f-108">Uniwersalny czas koordynowany (UTC) jest wysokiej precyzji, atomic czasu standardowego.</span><span class="sxs-lookup"><span data-stu-id="8b15f-108">Coordinated Universal Time (UTC) is a high-precision, atomic time standard.</span></span> <span data-ttu-id="8b15f-109">Strefy czasowe na świecie są wyrażane jako dodatnie lub ujemne przesunięcie od czasu UTC.</span><span class="sxs-lookup"><span data-stu-id="8b15f-109">The world’s time zones are expressed as positive or negative offsets from UTC.</span></span> <span data-ttu-id="8b15f-110">W związku z tym UTC zapewnia rodzaj strefy czasowej wolnego lub strefy czasowej niezależnym od czasu.</span><span class="sxs-lookup"><span data-stu-id="8b15f-110">Thus, UTC provides a kind of time-zone free or time-zone neutral time.</span></span> <span data-ttu-id="8b15f-111">Użycie czasu UTC jest zalecane w przypadku Data i przenośność czasu na komputerach jest ważna.</span><span class="sxs-lookup"><span data-stu-id="8b15f-111">The use of UTC time is recommended when a date and time's portability across computers is important.</span></span> <span data-ttu-id="8b15f-112">(Szczegółowe informacje i innych najlepszych rozwiązań za pomocą dat i godzin, zobacz [kodowania najlepszych rozwiązań za pomocą daty/godziny w programie .NET Framework](http://go.microsoft.com/fwlink/?LinkId=92342).) Konwertowanie poszczególnych stref czasowych UTC ułatwia czas porównania.</span><span class="sxs-lookup"><span data-stu-id="8b15f-112">(For details and other best practices using dates and times, see [Coding best practices using DateTime in the .NET Framework](http://go.microsoft.com/fwlink/?LinkId=92342).) Converting individual time zones to UTC makes time comparisons easy.</span></span>

> [!NOTE]
> <span data-ttu-id="8b15f-113">Można również serializować <xref:System.DateTimeOffset> struktury w celu jego jednoznacznej reprezentują pojedynczy punkt w czasie.</span><span class="sxs-lookup"><span data-stu-id="8b15f-113">You can also serialize a <xref:System.DateTimeOffset> structure to unambiguously represent a single point in time.</span></span> <span data-ttu-id="8b15f-114">Ponieważ <xref:System.DateTimeOffset> obiektów przechowywanie wartości daty i godziny wraz z jego przesunięcie od czasu UTC, zawsze reprezentują określonego punktu w czasie w relacji do czasu UTC.</span><span class="sxs-lookup"><span data-stu-id="8b15f-114">Because <xref:System.DateTimeOffset> objects store a date and time value along with its offset from UTC, they always represent a particular point in time in relationship to UTC.</span></span>

<span data-ttu-id="8b15f-115">Najprostszym sposobem skonwertować godzinę na czas UTC jest wywołać `static` (`Shared` w języku Visual Basic) <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="8b15f-115">The easiest way to convert a time to UTC is to call the `static` (`Shared` in Visual Basic) <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="8b15f-116">Dokładne konwersji wykonywane przez metodę zależy od wartości `dateTime` parametru <xref:System.DateTime.Kind%2A> właściwości, jak to pokazano w poniższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="8b15f-116">The exact conversion performed by the method depends on the value of the `dateTime` parameter's <xref:System.DateTime.Kind%2A> property, as the following table shows.</span></span>

| `DateTime.Kind`            | <span data-ttu-id="8b15f-117">Konwersja</span><span class="sxs-lookup"><span data-stu-id="8b15f-117">Conversion</span></span>                                                                     |
| -------------------------- | ------------------------------------------------------------------------------ |
| `DateTimeKind.Local`       | <span data-ttu-id="8b15f-118">Konwertuje lokalnego czasu na czas UTC.</span><span class="sxs-lookup"><span data-stu-id="8b15f-118">Converts local time to UTC.</span></span>                                                    |
| `DateTimeKind.Unspecified` | <span data-ttu-id="8b15f-119">Założono `dateTime` parametr jest czasem lokalnym i konwertuje czasu lokalnego na czas UTC.</span><span class="sxs-lookup"><span data-stu-id="8b15f-119">Assumes the `dateTime` parameter is local time and converts local time to UTC.</span></span> |
| `DateTimeKind.Utc`         | <span data-ttu-id="8b15f-120">Zwraca `dateTime` parametru bez zmian.</span><span class="sxs-lookup"><span data-stu-id="8b15f-120">Returns the `dateTime` parameter unchanged.</span></span>                                    |

<span data-ttu-id="8b15f-121">Poniższy kod konwertuje bieżący czas lokalny na czas UTC i wyświetla wyniki w konsoli.</span><span class="sxs-lookup"><span data-stu-id="8b15f-121">The following code converts the current local time to UTC and displays the result to the console.</span></span>

[!code-csharp[System.TimeZone2.Concepts#6](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#6)]
[!code-vb[System.TimeZone2.Concepts#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#6)]

> [!NOTE]
> <span data-ttu-id="8b15f-122"><xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> — Metoda nie zwraca wyników, które są takie same jak <xref:System.TimeZone.ToUniversalTime%2A?displayProperty=nameWithType> i <xref:System.DateTime.ToUniversalTime%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="8b15f-122">The <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> method does not necessarily produce results that are identical to the <xref:System.TimeZone.ToUniversalTime%2A?displayProperty=nameWithType> and <xref:System.DateTime.ToUniversalTime%2A?displayProperty=nameWithType> methods.</span></span> <span data-ttu-id="8b15f-123">Jeśli system hosta lokalnego strefy czasowej zawiera wiele reguł korygowania, <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> stosuje odpowiednią regułę do określonej daty i godziny.</span><span class="sxs-lookup"><span data-stu-id="8b15f-123">If the host system's local time zone includes multiple adjustment rules, <xref:System.TimeZoneInfo.ConvertTimeToUtc%28System.DateTime%29?displayProperty=nameWithType> applies the appropriate rule to a particular date and time.</span></span> <span data-ttu-id="8b15f-124">Te dwie metody zawsze Stosuj najnowsze reguła korekty.</span><span class="sxs-lookup"><span data-stu-id="8b15f-124">The other two methods always apply the latest adjustment rule.</span></span>

<span data-ttu-id="8b15f-125">Jeśli wartość daty i godziny nie reprezentuje czas lokalny albo UTC, <xref:System.DateTime.ToUniversalTime%2A> metody prawdopodobnie będzie zwracać błędne wyniki.</span><span class="sxs-lookup"><span data-stu-id="8b15f-125">If the date and time value does not represent either the local time or UTC, the <xref:System.DateTime.ToUniversalTime%2A> method will likely return an erroneous result.</span></span> <span data-ttu-id="8b15f-126">Można jednak użyć <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> metodę, aby przekonwertować datę i godzinę z określonej strefy czasowej.</span><span class="sxs-lookup"><span data-stu-id="8b15f-126">However, you can use the <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> method to convert the date and time from a specified time zone.</span></span> <span data-ttu-id="8b15f-127">(Aby uzyskać szczegółowe informacje na pobieranie <xref:System.TimeZoneInfo> obiekt, który reprezentuje strefę czasową docelowym, zobacz [znajdowanie stref czasowych zdefiniowanych w systemie lokalnym](../../../docs/standard/datetime/finding-the-time-zones-on-local-system.md).) Poniższy kod używa <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> metodę, aby przekonwertować wschodni czas standardowy na czas UTC.</span><span class="sxs-lookup"><span data-stu-id="8b15f-127">(For details on retrieving a <xref:System.TimeZoneInfo> object that represents the destination time zone, see [Finding the time zones defined on a local system](../../../docs/standard/datetime/finding-the-time-zones-on-local-system.md).) The following code uses the <xref:System.TimeZoneInfo.ConvertTimeToUtc%2A?displayProperty=nameWithType> method to convert Eastern Standard Time to UTC.</span></span>

[!code-csharp[System.TimeZone2.Concepts#7](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#7)]
[!code-vb[System.TimeZone2.Concepts#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#7)]

<span data-ttu-id="8b15f-128">Należy pamiętać, że ta metoda zgłasza <xref:System.ArgumentException> Jeśli <xref:System.DateTime> obiektu <xref:System.DateTime.Kind%2A> właściwości i strefy czasowej są niezgodne.</span><span class="sxs-lookup"><span data-stu-id="8b15f-128">Note that this method throws an <xref:System.ArgumentException> if the <xref:System.DateTime> object's <xref:System.DateTime.Kind%2A> property and the time zone are mismatched.</span></span> <span data-ttu-id="8b15f-129">Występuje niezgodność, jeśli <xref:System.DateTime.Kind%2A> właściwość jest <xref:System.DateTimeKind?displayProperty=nameWithType> , ale <xref:System.TimeZoneInfo> obiekt nie reprezentuje w lokalnej strefie czasowej, lub jeśli <xref:System.DateTime.Kind%2A> właściwość jest <xref:System.DateTimeKind?displayProperty=nameWithType> , ale <xref:System.TimeZoneInfo> obiektu nie jest równa <xref:System.DateTimeKind?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="8b15f-129">A mismatch occurs if the <xref:System.DateTime.Kind%2A> property is <xref:System.DateTimeKind?displayProperty=nameWithType> but the <xref:System.TimeZoneInfo> object does not represent the local time zone, or if the <xref:System.DateTime.Kind%2A> property is <xref:System.DateTimeKind?displayProperty=nameWithType> but the <xref:System.TimeZoneInfo> object does not equal <xref:System.DateTimeKind?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="8b15f-130">Wszystkie te metody zająć <xref:System.DateTime> wartości jako parametry i zwracane <xref:System.DateTime> wartość.</span><span class="sxs-lookup"><span data-stu-id="8b15f-130">All of these methods take <xref:System.DateTime> values as parameters and return a <xref:System.DateTime> value.</span></span> <span data-ttu-id="8b15f-131">Dla <xref:System.DateTimeOffset> wartości, <xref:System.DateTimeOffset> ma struktury <xref:System.DateTimeOffset.ToUniversalTime%2A> wystąpienia metody, który konwertuje datę i godzinę bieżącego wystąpienia na czas UTC.</span><span class="sxs-lookup"><span data-stu-id="8b15f-131">For <xref:System.DateTimeOffset> values, the <xref:System.DateTimeOffset> structure has a <xref:System.DateTimeOffset.ToUniversalTime%2A> instance method that converts the date and time of the current instance to UTC.</span></span> <span data-ttu-id="8b15f-132">Następujące przykładowe wywołania <xref:System.DateTimeOffset.ToUniversalTime%2A> metodę, aby przekonwertować czasem lokalnym i kilka innych razy uniwersalny czas koordynowany (UTC).</span><span class="sxs-lookup"><span data-stu-id="8b15f-132">The following example calls the <xref:System.DateTimeOffset.ToUniversalTime%2A> method to convert a local time and several other times to Coordinated Universal Time (UTC).</span></span>

[!code-csharp[System.DateTimeOffset.Methods#16](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Methods/cs/Methods.cs#16)]
[!code-vb[System.DateTimeOffset.Methods#16](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Methods/vb/Methods.vb#16)]

## <a name="converting-utc-to-a-designated-time-zone"></a><span data-ttu-id="8b15f-133">Konwertowanie wyznaczonych strefę czasową UTC</span><span class="sxs-lookup"><span data-stu-id="8b15f-133">Converting UTC to a designated time zone</span></span>

<span data-ttu-id="8b15f-134">Aby przekonwertować UTC na czas lokalny, w sekcji "Konwertowanie UTC na czas lokalny" poniżej.</span><span class="sxs-lookup"><span data-stu-id="8b15f-134">To convert UTC to local time, see the "Converting UTC to Local Time" section that follows.</span></span> <span data-ttu-id="8b15f-135">Aby przekonwertować w dowolnej strefie czasowej wyznaczony czas UTC, należy wywołać <xref:System.TimeZoneInfo.ConvertTimeFromUtc%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="8b15f-135">To convert UTC to the time in any time zone that you designate, call the <xref:System.TimeZoneInfo.ConvertTimeFromUtc%2A> method.</span></span> <span data-ttu-id="8b15f-136">Metoda przyjmuje dwa parametry:</span><span class="sxs-lookup"><span data-stu-id="8b15f-136">The method takes two parameters:</span></span>

* <span data-ttu-id="8b15f-137">Czas UTC do konwersji.</span><span class="sxs-lookup"><span data-stu-id="8b15f-137">The UTC to convert.</span></span> <span data-ttu-id="8b15f-138">Musi to być <xref:System.DateTime> wartości, których <xref:System.DateTime.Kind%2A> właściwość jest ustawiona na <xref:System.DateTimeKind?displayProperty=nameWithType> lub <xref:System.DateTimeKind?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="8b15f-138">This must be a <xref:System.DateTime> value whose <xref:System.DateTime.Kind%2A> property is set to <xref:System.DateTimeKind?displayProperty=nameWithType> or <xref:System.DateTimeKind?displayProperty=nameWithType>.</span></span>

* <span data-ttu-id="8b15f-139">Strefę czasową UTC, aby przekonwertować.</span><span class="sxs-lookup"><span data-stu-id="8b15f-139">The time zone to convert the UTC to.</span></span>

<span data-ttu-id="8b15f-140">Poniższy kod konwertuje UTC Środkowa (czas standardowy).</span><span class="sxs-lookup"><span data-stu-id="8b15f-140">The following code converts UTC to Central Standard Time.</span></span>

[!code-csharp[System.TimeZone2.Concepts#8](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#8)]
[!code-vb[System.TimeZone2.Concepts#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#8)]

## <a name="converting-utc-to-local-time"></a><span data-ttu-id="8b15f-141">Konwertowanie UTC na czas lokalny</span><span class="sxs-lookup"><span data-stu-id="8b15f-141">Converting UTC to local time</span></span>

<span data-ttu-id="8b15f-142">Aby przekonwertować UTC na czas lokalny, należy wywołać <xref:System.DateTime.ToLocalTime%2A> metody <xref:System.DateTime> obiektu których czas, który chcesz przekonwertować.</span><span class="sxs-lookup"><span data-stu-id="8b15f-142">To convert UTC to local time, call the <xref:System.DateTime.ToLocalTime%2A> method of the <xref:System.DateTime> object whose time you want to convert.</span></span> <span data-ttu-id="8b15f-143">Dokładne zachowanie metody zależy od wartości obiektu <xref:System.DateTime.Kind%2A> właściwości, jak to pokazano w poniższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="8b15f-143">The exact behavior of the method depends on the value of the object’s <xref:System.DateTime.Kind%2A> property, as the following table shows.</span></span>

| `DateTime.Kind`            | <span data-ttu-id="8b15f-144">Konwersja</span><span class="sxs-lookup"><span data-stu-id="8b15f-144">Conversion</span></span>                                                                               |
| -------------------------- | ---------------------------------------------------------------------------------------- |
| `DateTimeKind.Local`       | <span data-ttu-id="8b15f-145">Zwraca <xref:System.DateTime> wartości bez zmian.</span><span class="sxs-lookup"><span data-stu-id="8b15f-145">Returns the <xref:System.DateTime> value unchanged.</span></span>                                      |
| `DateTimeKind.Unspecified` | <span data-ttu-id="8b15f-146">Zakłada się, że <xref:System.DateTime> wartość jest UTC i konwertuje UTC na czas lokalny.</span><span class="sxs-lookup"><span data-stu-id="8b15f-146">Assumes that the <xref:System.DateTime> value is UTC and converts the UTC to local time.</span></span> |
| `DateTimeKind.Utc`         | <span data-ttu-id="8b15f-147">Konwertuje <xref:System.DateTime> wartość na czas lokalny.</span><span class="sxs-lookup"><span data-stu-id="8b15f-147">Converts the <xref:System.DateTime> value to local time.</span></span>                                 |

> [!NOTE]
> <span data-ttu-id="8b15f-148"><xref:System.TimeZone.ToLocalTime%2A?displayProperty=nameWithType> Metody zachowuje się tak samo `DateTime.ToLocalTime` metody.</span><span class="sxs-lookup"><span data-stu-id="8b15f-148">The <xref:System.TimeZone.ToLocalTime%2A?displayProperty=nameWithType> method behaves identically to the `DateTime.ToLocalTime` method.</span></span> <span data-ttu-id="8b15f-149">Trwa jeden parametr, który jest wartość daty i godziny do przekonwertowania.</span><span class="sxs-lookup"><span data-stu-id="8b15f-149">It takes a single parameter, which is the date and time value to convert.</span></span>

<span data-ttu-id="8b15f-150">Czas w strefie czasowej, wszelkie wyznaczonych można przekonwertować na czas lokalny, przy użyciu `static` (`Shared` w języku Visual Basic) <xref:System.TimeZoneInfo.ConvertTime%2A?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="8b15f-150">You can also convert the time in any designated time zone to local time by using the `static` (`Shared` in Visual Basic) <xref:System.TimeZoneInfo.ConvertTime%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="8b15f-151">Ta technika jest omówiona w następnej sekcji.</span><span class="sxs-lookup"><span data-stu-id="8b15f-151">This technique is discussed in the next section.</span></span>

## <a name="converting-between-any-two-time-zones"></a><span data-ttu-id="8b15f-152">Konwertowanie pomiędzy żadnych dwie strefy czasowe</span><span class="sxs-lookup"><span data-stu-id="8b15f-152">Converting between any two time zones</span></span>

<span data-ttu-id="8b15f-153">Można konwertować między żadnych dwóch stref czasowych przy użyciu jednej z następujących dwóch `static` (`Shared` w języku Visual Basic) metody <xref:System.TimeZoneInfo> klasy:</span><span class="sxs-lookup"><span data-stu-id="8b15f-153">You can convert between any two time zones by using either of the following two `static` (`Shared` in Visual Basic) methods of the <xref:System.TimeZoneInfo> class:</span></span>

* <xref:System.TimeZoneInfo.ConvertTime%2A>

  <span data-ttu-id="8b15f-154">Parametry tej metody jest wartość daty i godziny, aby dokonać konwersji, `TimeZoneInfo` obiekt, który reprezentuje strefę czasową wartości daty i godziny, a `TimeZoneInfo` obiekt, który reprezentuje można przekonwertować wartości daty i godziny na strefę czasową.</span><span class="sxs-lookup"><span data-stu-id="8b15f-154">This method's parameters are the date and time value to convert, a `TimeZoneInfo` object that represents the time zone of the date and time value, and a `TimeZoneInfo` object that represents the time zone to convert the date and time value to.</span></span>

* <xref:System.TimeZoneInfo.ConvertTimeBySystemTimeZoneId%2A>

  <span data-ttu-id="8b15f-155">Ta metoda parametry są daty i czasu wartości do konwersji, identyfikator daty i strefy czasowej wartość czasu i identyfikator strefy czasowej, można przekonwertować wartości daty i godziny na.</span><span class="sxs-lookup"><span data-stu-id="8b15f-155">This method's parameters are the date and time value to convert, the identifier of the date and time value's time zone, and the identifier of the time zone to convert the date and time value to.</span></span>

<span data-ttu-id="8b15f-156">Obie metody wymagają, aby <xref:System.DateTime.Kind%2A> właściwości wartości daty i godziny do konwersji i <xref:System.TimeZoneInfo> identyfikator obiektu lub strefy czasowej, który reprezentuje jego strefa czasowa odpowiadają sobie nawzajem.</span><span class="sxs-lookup"><span data-stu-id="8b15f-156">Both methods require that the <xref:System.DateTime.Kind%2A> property of the date and time value to convert and the <xref:System.TimeZoneInfo> object or time zone identifier that represents its time zone correspond to one another.</span></span> <span data-ttu-id="8b15f-157">W przeciwnym razie <xref:System.ArgumentException> jest generowany.</span><span class="sxs-lookup"><span data-stu-id="8b15f-157">Otherwise, an <xref:System.ArgumentException> is thrown.</span></span> <span data-ttu-id="8b15f-158">Na przykład jeśli `Kind` właściwość wartość daty i godziny jest `DateTimeKind.Local`, jest zwracany wyjątek, jeśli `TimeZoneInfo` obiekt przekazany jako parametr do metody nie jest równa `TimeZoneInfo.Local`.</span><span class="sxs-lookup"><span data-stu-id="8b15f-158">For example, if the `Kind` property of the date and time value is `DateTimeKind.Local`, an exception is thrown if the `TimeZoneInfo` object passed as a parameter to the method is not equal to `TimeZoneInfo.Local`.</span></span> <span data-ttu-id="8b15f-159">Również jest zgłaszany wyjątek, jeśli identyfikator przekazany jako parametr do metody nie jest równa `TimeZoneInfo.Local.Id`.</span><span class="sxs-lookup"><span data-stu-id="8b15f-159">An exception is also thrown if the identifier passed as a parameter to the method is not equal to `TimeZoneInfo.Local.Id`.</span></span>

<span data-ttu-id="8b15f-160">W poniższym przykładzie użyto <xref:System.TimeZoneInfo.ConvertTime%2A> do przekonwertowania na czas lokalny z Hawaje (czas standardowy).</span><span class="sxs-lookup"><span data-stu-id="8b15f-160">The following example uses the <xref:System.TimeZoneInfo.ConvertTime%2A> method to convert from Hawaiian Standard Time to local time.</span></span>

[!code-csharp[System.TimeZone2.Concepts#9](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.TimeZone2.Concepts/CS/TimeZone2Concepts.cs#9)]
[!code-vb[System.TimeZone2.Concepts#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.TimeZone2.Concepts/VB/TimeZone2Concepts.vb#9)]

## <a name="converting-datetimeoffset-values"></a><span data-ttu-id="8b15f-161">Konwertowanie wartości DateTimeOffset</span><span class="sxs-lookup"><span data-stu-id="8b15f-161">Converting DateTimeOffset values</span></span>

<span data-ttu-id="8b15f-162">Wartości daty i godziny reprezentowany przez <xref:System.DateTimeOffset> obiekty nie są w pełni strefy czasowej wiedzieć, ponieważ obiekt jest oddzielone od strefy czasowej w czasie zostanie on uruchomiony.</span><span class="sxs-lookup"><span data-stu-id="8b15f-162">Date and time values represented by <xref:System.DateTimeOffset> objects are not fully time-zone aware because the object is disassociated from its time zone at the time it is instantiated.</span></span> <span data-ttu-id="8b15f-163">Jednak w wielu przypadkach aplikacji wystarczy przekonwertować daty i czasu oparte na dwie różne przesunięcia od czasu UTC, a nie na czas w szczególności stref czasowych.</span><span class="sxs-lookup"><span data-stu-id="8b15f-163">However, in many cases an application simply needs to convert a date and time based on two different offsets from UTC rather than on the time in particular time zones.</span></span> <span data-ttu-id="8b15f-164">Aby wykonać tę konwersję, należy wywołać bieżącego wystąpienia <xref:System.DateTimeOffset.ToOffset%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="8b15f-164">To perform this conversion, you can call the current instance's <xref:System.DateTimeOffset.ToOffset%2A> method.</span></span> <span data-ttu-id="8b15f-165">Pojedynczy parametr metody jest przesunięcie Nowa data i metoda ma zwrócić wartość czasu.</span><span class="sxs-lookup"><span data-stu-id="8b15f-165">The method's single parameter is the offset of the new date and time value that the method is to return.</span></span>

<span data-ttu-id="8b15f-166">Na przykład, jeśli data i godzina użytkownika żądania dla strony sieci Web jest znany i jest szeregowana jako ciąg w formacie MM/dd/rrrr gg zzzz, następujące `ReturnTimeOnServer` metoda konwertuje ta wartość daty i godziny, Data i godzina na serwerze sieci Web.</span><span class="sxs-lookup"><span data-stu-id="8b15f-166">For example, if the date and time of a user request for a Web page is known and is serialized as a string in the format MM/dd/yyyy hh:mm:ss zzzz, the following `ReturnTimeOnServer` method converts this date and time value to the date and time on the Web server.</span></span>

[!code-csharp[System.DateTimeOffset.Conceptual.OffsetConversions#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/cs/TimeConversions.cs#1)]
[!code-vb[System.DateTimeOffset.Conceptual.OffsetConversions#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/vb/TimeConversions.vb#1)] 

<span data-ttu-id="8b15f-167">Jeśli metoda jest przekazywana ciąg "1-9/2007 5:32:07-05: 00", który reprezentuje datę i godzinę w strefie czasowej pięć godziny wcześniejszy niż czas UTC, zwraca 1-9/2007 3:32:07 AM-07: 00 serwera znajduje się w Stanach Zjednoczonych Pacyficzny standardowa strefy czasowej.</span><span class="sxs-lookup"><span data-stu-id="8b15f-167">If the method is passed the string "9/1/2007 5:32:07 -05:00", which represents the date and time in a time zone five hours earlier than UTC, it returns 9/1/2007 3:32:07 AM -07:00 for a server located in the U.S. Pacific Standard Time zone.</span></span>

<span data-ttu-id="8b15f-168"><xref:System.TimeZoneInfo> Klasa zawiera także przeciążenia <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29?displayProperty=nameWithType> metodę, która wykonuje konwersji strefy czasowej z <xref:System.DateTimeOffset.ToOffset(System.TimeSpan)> wartości.</span><span class="sxs-lookup"><span data-stu-id="8b15f-168">The <xref:System.TimeZoneInfo> class also includes an overload of the <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29?displayProperty=nameWithType> method that performs time zone conversions with <xref:System.DateTimeOffset.ToOffset(System.TimeSpan)> values.</span></span> <span data-ttu-id="8b15f-169">Parametry metody są <xref:System.DateTimeOffset> wartość i odwołanie do strefy czasowej czasu jest ma zostać przekonwertowany.</span><span class="sxs-lookup"><span data-stu-id="8b15f-169">The method's parameters are a <xref:System.DateTimeOffset> value and a reference to the time zone to which the time is to be converted.</span></span> <span data-ttu-id="8b15f-170">Wywołanie metody zwraca <xref:System.DateTimeOffset> wartość.</span><span class="sxs-lookup"><span data-stu-id="8b15f-170">The method call returns a <xref:System.DateTimeOffset> value.</span></span> <span data-ttu-id="8b15f-171">Na przykład `ReturnTimeOnServer` metody w poprzednim przykładzie można w następujący sposób ulegną wywołać <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29> metody.</span><span class="sxs-lookup"><span data-stu-id="8b15f-171">For example, the `ReturnTimeOnServer` method in the previous example could be rewritten as follows to call the <xref:System.TimeZoneInfo.ConvertTime%28System.DateTimeOffset%2CSystem.TimeZoneInfo%29> method.</span></span>

[!code-csharp[System.DateTimeOffset.Conceptual.OffsetConversions#2](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/cs/timeconversions2.cs#2)]
[!code-vb[System.DateTimeOffset.Conceptual.OffsetConversions#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.DateTimeOffset.Conceptual.OffsetConversions/vb/TimeConversions2.vb#2)]

## <a name="see-also"></a><span data-ttu-id="8b15f-172">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="8b15f-172">See also</span></span>

<span data-ttu-id="8b15f-173"><xref:System.TimeZoneInfo>[Daty, godziny i strefy czasowe](../../../docs/standard/datetime/index.md)
[znajdowanie stref czasowych zdefiniowanych w systemie lokalnym](../../../docs/standard/datetime/finding-the-time-zones-on-local-system.md)</span><span class="sxs-lookup"><span data-stu-id="8b15f-173"><xref:System.TimeZoneInfo> [Dates, times, and time zones](../../../docs/standard/datetime/index.md)
[Finding the time zones defined on a local system](../../../docs/standard/datetime/finding-the-time-zones-on-local-system.md)</span></span>
