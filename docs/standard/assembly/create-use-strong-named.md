---
title: Tworzenie i używanie zestawów o silnej nazwie
description: W tym artykule przedstawiono proces podpisywania zestawu w programie .NET przy użyciu silnej nazwy i późniejszego odwoływania się do niego przy użyciu tej nazwy.
ms.date: 08/19/2019
helpviewer_keywords:
- strong-name bypass feature
- strong-named assemblies, about strong-named assemblies
- strong-named assemblies
- signing assemblies
- assemblies [.NET], signing
- strong-named assemblies, scenarios
- assemblies [.NET], strong-named
- strong-named assemblies, loading into trusted application domains
- assembly binding, strong-named
ms.assetid: ffbf6d9e-4a88-4a8a-9645-4ce0ee1ee5f9
ms.openlocfilehash: 1d87edde97e77011b678662f61500c7acd8293b0
ms.sourcegitcommit: ff5a4eb5cffbcac9521bc44a907a118cd7e8638d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/17/2020
ms.locfileid: "92162716"
---
# <a name="create-and-use-strong-named-assemblies"></a><span data-ttu-id="34a69-103">Tworzenie i używanie zestawów o silnej nazwie</span><span class="sxs-lookup"><span data-stu-id="34a69-103">Create and use strong-named assemblies</span></span>

<span data-ttu-id="34a69-104">Silna nazwa składa się z tożsamości zestawu — nazwy zwykłego tekstu, numeru wersji i informacji o kulturze (jeśli zostały podane) — oraz klucza publicznego i podpisu cyfrowego.</span><span class="sxs-lookup"><span data-stu-id="34a69-104">A strong name consists of the assembly's identity—its simple text name, version number, and culture information (if provided)—plus a public key and a digital signature.</span></span> <span data-ttu-id="34a69-105">Jest generowany na podstawie pliku zestawu przy użyciu odpowiedniego klucza prywatnego.</span><span class="sxs-lookup"><span data-stu-id="34a69-105">It is generated from an assembly file using the corresponding private key.</span></span> <span data-ttu-id="34a69-106">(Plik zestawu zawiera manifest zestawu, który zawiera nazwy i skróty wszystkich plików, które tworzą zestaw).</span><span class="sxs-lookup"><span data-stu-id="34a69-106">(The assembly file contains the assembly manifest, which contains the names and hashes of all the files that make up the assembly.)</span></span>

> [!WARNING]
> <span data-ttu-id="34a69-107">Nie należy polegać na silnych nazwach zabezpieczeń.</span><span class="sxs-lookup"><span data-stu-id="34a69-107">Do not rely on strong names for security.</span></span> <span data-ttu-id="34a69-108">Zapewniają one tylko unikatową tożsamość.</span><span class="sxs-lookup"><span data-stu-id="34a69-108">They provide a unique identity only.</span></span>

<span data-ttu-id="34a69-109">Zestaw o silnej nazwie może używać tylko typów z innych zestawów o silnych nazwach.</span><span class="sxs-lookup"><span data-stu-id="34a69-109">A strong-named assembly can only use types from other strong-named assemblies.</span></span> <span data-ttu-id="34a69-110">W przeciwnym razie integralność zestawu o silnej nazwie zostałaby naruszona.</span><span class="sxs-lookup"><span data-stu-id="34a69-110">Otherwise, the integrity of the strong-named assembly would be compromised.</span></span>

> [!NOTE]
> <span data-ttu-id="34a69-111">Chociaż platforma .NET Core obsługuje zestawy o silnych nazwach, a wszystkie zestawy w bibliotece .NET Core są podpisane, większość zestawów innych firm nie potrzebuje silnych nazw.</span><span class="sxs-lookup"><span data-stu-id="34a69-111">Although .NET Core supports strong-named assemblies, and all assemblies in the .NET Core library are signed, the majority of third-party assemblies do not need strong names.</span></span> <span data-ttu-id="34a69-112">Aby uzyskać więcej informacji, zobacz [Logowanie silnej nazwy](https://github.com/dotnet/runtime/blob/master/docs/project/strong-name-signing.md) w serwisie GitHub.</span><span class="sxs-lookup"><span data-stu-id="34a69-112">For more information, see [Strong Name Signing](https://github.com/dotnet/runtime/blob/master/docs/project/strong-name-signing.md) on GitHub.</span></span>

## <a name="strong-name-scenario"></a><span data-ttu-id="34a69-113">Scenariusz silnej nazwy</span><span class="sxs-lookup"><span data-stu-id="34a69-113">Strong name scenario</span></span>

<span data-ttu-id="34a69-114">W poniższym scenariuszu opisano proces podpisywania zestawu o silnej nazwie i późniejszego odwoływania go przez tę nazwę.</span><span class="sxs-lookup"><span data-stu-id="34a69-114">The following scenario outlines the process of signing an assembly with a strong name and later referencing it by that name.</span></span>

1. <span data-ttu-id="34a69-115">Zestaw A jest tworzony za pomocą silnej nazwy przy użyciu jednej z następujących metod:</span><span class="sxs-lookup"><span data-stu-id="34a69-115">Assembly A is created with a strong name using one of the following methods:</span></span>

    - <span data-ttu-id="34a69-116">Używanie środowiska programistycznego, które obsługuje tworzenie silnych nazw, takich jak Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="34a69-116">Using a development environment that supports creating strong names, such as Visual Studio.</span></span>

    - <span data-ttu-id="34a69-117">Tworzenie pary kluczy kryptograficznych za pomocą [Narzędzia silnej nazwy (Sn.exe)](../../framework/tools/sn-exe-strong-name-tool.md) i przypisywanie tej pary kluczy do zestawu przy użyciu kompilatora wiersza polecenia lub [konsolidatora zestawu (Al.exe)](../../framework/tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="34a69-117">Creating a cryptographic key pair using the [Strong Name tool (Sn.exe)](../../framework/tools/sn-exe-strong-name-tool.md) and assigning that key pair to the assembly using either a command-line compiler or the [Assembly Linker (Al.exe)](../../framework/tools/al-exe-assembly-linker.md).</span></span> <span data-ttu-id="34a69-118">Windows SDK zawiera Sn.exe i Al.exe.</span><span class="sxs-lookup"><span data-stu-id="34a69-118">The Windows SDK provides both Sn.exe and Al.exe.</span></span>

2. <span data-ttu-id="34a69-119">Środowisko programistyczne lub narzędzie podpisuje skrót pliku zawierającego manifest zestawu z kluczem prywatnym dewelopera.</span><span class="sxs-lookup"><span data-stu-id="34a69-119">The development environment or tool signs the hash of the file containing the assembly's manifest with the developer's private key.</span></span> <span data-ttu-id="34a69-120">Ten podpis cyfrowy jest przechowywany w przenośnym pliku wykonywalnym (PE), który zawiera manifest zestawu A.</span><span class="sxs-lookup"><span data-stu-id="34a69-120">This digital signature is stored in the portable executable (PE) file that contains Assembly A's manifest.</span></span>

3. <span data-ttu-id="34a69-121">Zestaw B jest konsumentem zespołu A. Sekcja Reference manifestu zestawu B zawiera token reprezentujący klucz publiczny zestawu A.</span><span class="sxs-lookup"><span data-stu-id="34a69-121">Assembly B is a consumer of Assembly A. The reference section of Assembly B's manifest includes a token that represents Assembly A's public key.</span></span> <span data-ttu-id="34a69-122">Token jest częścią pełnego klucza publicznego i jest używany zamiast samego klucza w celu zaoszczędzenia miejsca.</span><span class="sxs-lookup"><span data-stu-id="34a69-122">A token is a portion of the full public key and is used rather than the key itself to save space.</span></span>

4. <span data-ttu-id="34a69-123">Środowisko uruchomieniowe języka wspólnego weryfikuje podpis silnej nazwy, gdy zestaw znajduje się w globalnej pamięci podręcznej zestawów.</span><span class="sxs-lookup"><span data-stu-id="34a69-123">The common language runtime verifies the strong name signature when the assembly is placed in the global assembly cache.</span></span> <span data-ttu-id="34a69-124">Podczas tworzenia powiązania przez silną nazwę w czasie wykonywania, środowisko uruchomieniowe języka wspólnego porównuje klucz zapisany w manifeście zestawu B z kluczem użytym do wygenerowania silnej nazwy dla zestawu A. Jeśli testy zabezpieczeń platformy .NET kończą się powodzeniem i powiązanie powiodło się, zestaw B ma gwarancję, że bity zestawu A nie zostały naruszone i że te bity rzeczywiście pochodzą od deweloperów zestawu A.</span><span class="sxs-lookup"><span data-stu-id="34a69-124">When binding by strong name at run time, the common language runtime compares the key stored in Assembly B's manifest with the key used to generate the strong name for Assembly A. If the .NET security checks pass and the bind succeeds, Assembly B has a guarantee that Assembly A's bits have not been tampered with and that these bits actually come from the developers of Assembly A.</span></span>

> [!NOTE]
> <span data-ttu-id="34a69-125">Ten scenariusz nie dotyczy problemów z zaufaniem.</span><span class="sxs-lookup"><span data-stu-id="34a69-125">This scenario doesn't address trust issues.</span></span> <span data-ttu-id="34a69-126">Zestawy mogą przenosić pełne podpisy Authenticode firmy Microsoft oprócz silnej nazwy.</span><span class="sxs-lookup"><span data-stu-id="34a69-126">Assemblies can carry full Microsoft Authenticode signatures in addition to a strong name.</span></span> <span data-ttu-id="34a69-127">Podpisy Authenticode zawierają certyfikat, który ustanawia relację zaufania.</span><span class="sxs-lookup"><span data-stu-id="34a69-127">Authenticode signatures include a certificate that establishes trust.</span></span> <span data-ttu-id="34a69-128">Należy pamiętać, że silne nazwy nie wymagają podpisania kodu w ten sposób.</span><span class="sxs-lookup"><span data-stu-id="34a69-128">It's important to note that strong names don't require code to be signed in this way.</span></span> <span data-ttu-id="34a69-129">Silne nazwy zapewniają tylko unikatową tożsamość.</span><span class="sxs-lookup"><span data-stu-id="34a69-129">Strong names only provide a unique identity.</span></span>

## <a name="bypass-signature-verification-of-trusted-assemblies"></a><span data-ttu-id="34a69-130">Pomijanie weryfikacji sygnatury zaufanych zestawów</span><span class="sxs-lookup"><span data-stu-id="34a69-130">Bypass signature verification of trusted assemblies</span></span>

<span data-ttu-id="34a69-131">Począwszy od .NET Framework 3,5 z dodatkiem Service Pack 1, sygnatury silnej nazwy nie są sprawdzane, gdy zestaw jest ładowany do domeny aplikacji w pełni zaufanej, takiej jak domyślna domena aplikacji dla `MyComputer` strefy.</span><span class="sxs-lookup"><span data-stu-id="34a69-131">Starting with the .NET Framework 3.5 Service Pack 1, strong-name signatures are not validated when an assembly is loaded into a full-trust application domain, such as the default application domain for the `MyComputer` zone.</span></span> <span data-ttu-id="34a69-132">Jest to nazywane funkcją pomijania silnej nazwy.</span><span class="sxs-lookup"><span data-stu-id="34a69-132">This is referred to as the strong-name bypass feature.</span></span> <span data-ttu-id="34a69-133">W środowisku pełnego zaufania wymagania dotyczące <xref:System.Security.Permissions.StrongNameIdentityPermission> zawsze powiodło się dla podpisanych, pełnych zestawów, niezależnie od ich sygnatur.</span><span class="sxs-lookup"><span data-stu-id="34a69-133">In a full-trust environment, demands for <xref:System.Security.Permissions.StrongNameIdentityPermission> always succeed for signed, full-trust assemblies, regardless of their signature.</span></span> <span data-ttu-id="34a69-134">Funkcja pomijania silnej nazwy pozwala uniknąć niepotrzebnego narzutu na sygnaturę o silnej nazwie w przypadku zestawów o pełnym zaufaniu w tej sytuacji, co umożliwia szybsze ładowanie zestawów.</span><span class="sxs-lookup"><span data-stu-id="34a69-134">The strong-name bypass feature avoids the unnecessary overhead of strong-name signature verification of full-trust assemblies in this situation, allowing the assemblies to load faster.</span></span>

<span data-ttu-id="34a69-135">Funkcja Bypass ma zastosowanie do każdego zestawu, który jest podpisany silną nazwą i ma następującą charakterystykę:</span><span class="sxs-lookup"><span data-stu-id="34a69-135">The bypass feature applies to any assembly that is signed with a strong name and that has the following characteristics:</span></span>

- <span data-ttu-id="34a69-136">W pełni zaufane bez <xref:System.Security.Policy.StrongName> dowodu (na przykład zawiera `MyComputer` dowody strefy).</span><span class="sxs-lookup"><span data-stu-id="34a69-136">Fully trusted without <xref:System.Security.Policy.StrongName> evidence (for example, has `MyComputer` zone evidence).</span></span>

- <span data-ttu-id="34a69-137">Załadowano w pełni zaufany <xref:System.AppDomain> .</span><span class="sxs-lookup"><span data-stu-id="34a69-137">Loaded into a fully trusted <xref:System.AppDomain>.</span></span>

- <span data-ttu-id="34a69-138">Załadowany z lokalizacji pod <xref:System.AppDomainSetup.ApplicationBase%2A> właściwością <xref:System.AppDomain> .</span><span class="sxs-lookup"><span data-stu-id="34a69-138">Loaded from a location under the <xref:System.AppDomainSetup.ApplicationBase%2A> property of that <xref:System.AppDomain>.</span></span>

- <span data-ttu-id="34a69-139">Nie jest podpisany z opóźnieniem.</span><span class="sxs-lookup"><span data-stu-id="34a69-139">Not delay-signed.</span></span>

<span data-ttu-id="34a69-140">Tę funkcję można wyłączyć dla poszczególnych aplikacji lub dla komputera.</span><span class="sxs-lookup"><span data-stu-id="34a69-140">This feature can be disabled for individual applications or for a computer.</span></span> <span data-ttu-id="34a69-141">Zobacz [jak: wyłączanie funkcji pomijania silnej nazwy](disable-strong-name-bypass-feature.md).</span><span class="sxs-lookup"><span data-stu-id="34a69-141">See [How to: Disable the strong-name bypass feature](disable-strong-name-bypass-feature.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="34a69-142">Powiązane tematy</span><span class="sxs-lookup"><span data-stu-id="34a69-142">Related topics</span></span>

|<span data-ttu-id="34a69-143">Tytuł</span><span class="sxs-lookup"><span data-stu-id="34a69-143">Title</span></span>|<span data-ttu-id="34a69-144">Opis</span><span class="sxs-lookup"><span data-stu-id="34a69-144">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="34a69-145">Instrukcje: Tworzenie pary kluczy publiczny-prywatny</span><span class="sxs-lookup"><span data-stu-id="34a69-145">How to: Create a public-private key pair</span></span>](create-public-private-key-pair.md)|<span data-ttu-id="34a69-146">Opisuje sposób tworzenia pary kluczy kryptograficznych do podpisywania zestawu.</span><span class="sxs-lookup"><span data-stu-id="34a69-146">Describes how to create a cryptographic key pair for signing an assembly.</span></span>|
|[<span data-ttu-id="34a69-147">Instrukcje: podpisywanie zestawu za pomocą silnej nazwy</span><span class="sxs-lookup"><span data-stu-id="34a69-147">How to: Sign an assembly with a strong name</span></span>](sign-strong-name.md)|<span data-ttu-id="34a69-148">Opisuje sposób tworzenia zestawu o silnej nazwie.</span><span class="sxs-lookup"><span data-stu-id="34a69-148">Describes how to create a strong-named assembly.</span></span>|
|[<span data-ttu-id="34a69-149">Poprawa silnego nazywania</span><span class="sxs-lookup"><span data-stu-id="34a69-149">Enhanced strong naming</span></span>](enhanced-strong-naming.md)|<span data-ttu-id="34a69-150">Opisuje ulepszenia dotyczące silnych nazw w .NET Framework 4,5.</span><span class="sxs-lookup"><span data-stu-id="34a69-150">Describes enhancements to strong-names in the .NET Framework 4.5.</span></span>|
|[<span data-ttu-id="34a69-151">Instrukcje: odwoływanie się do zestawu o silnej nazwie</span><span class="sxs-lookup"><span data-stu-id="34a69-151">How to: Reference a strong-named assembly</span></span>](reference-strong-named.md)|<span data-ttu-id="34a69-152">Opisuje, jak odwoływać się do typów lub zasobów w zestawie o silnej nazwie w czasie kompilacji lub w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="34a69-152">Describes how to reference types or resources in a strong-named assembly at compile time or run time.</span></span>|
|[<span data-ttu-id="34a69-153">Instrukcje: wyłączanie funkcji pomijania silnej nazwy</span><span class="sxs-lookup"><span data-stu-id="34a69-153">How to: Disable the strong-name bypass feature</span></span>](disable-strong-name-bypass-feature.md)|<span data-ttu-id="34a69-154">Zawiera opis sposobu wyłączania funkcji, która pomija weryfikację sygnatur silnej nazwy.</span><span class="sxs-lookup"><span data-stu-id="34a69-154">Describes how to disable the feature that bypasses the validation of strong-name signatures.</span></span> <span data-ttu-id="34a69-155">Tę funkcję można wyłączyć dla wszystkich lub dla określonych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="34a69-155">This feature can be disabled for all or for specific applications.</span></span>|
|[<span data-ttu-id="34a69-156">Tworzenie zestawów</span><span class="sxs-lookup"><span data-stu-id="34a69-156">Create assemblies</span></span>](create.md)|<span data-ttu-id="34a69-157">Zawiera omówienie zestawów jednoplikowych i wieloplikowych.</span><span class="sxs-lookup"><span data-stu-id="34a69-157">Provides an overview of single-file and multifile assemblies.</span></span>|
|[<span data-ttu-id="34a69-158">Jak opóźniać podpisywanie zestawu w programie Visual Studio</span><span class="sxs-lookup"><span data-stu-id="34a69-158">How to delay sign an assembly in Visual Studio</span></span>](/visualstudio/ide/managing-assembly-and-manifest-signing#how-to-sign-an-assembly-in-visual-studio)|<span data-ttu-id="34a69-159">Wyjaśnia, jak podpisać zestaw silną nazwą po utworzeniu zestawu.</span><span class="sxs-lookup"><span data-stu-id="34a69-159">Explains how to sign an assembly with a strong name after the assembly has been created.</span></span>|
|[<span data-ttu-id="34a69-160">Sn.exe (Narzędzie silnej nazwy)</span><span class="sxs-lookup"><span data-stu-id="34a69-160">Sn.exe (Strong Name tool)</span></span>](../../framework/tools/sn-exe-strong-name-tool.md)|<span data-ttu-id="34a69-161">Zawiera opis narzędzia dołączonego do .NET Framework, które ułatwia tworzenie zestawów o silnych nazwach.</span><span class="sxs-lookup"><span data-stu-id="34a69-161">Describes the tool included in the .NET Framework that helps create assemblies with strong names.</span></span> <span data-ttu-id="34a69-162">To narzędzie dostarcza opcje do zarządzania kluczami oraz generowania podpisów i weryfikowania ich.</span><span class="sxs-lookup"><span data-stu-id="34a69-162">This tool provides options for key management, signature generation, and signature verification.</span></span>|
|[<span data-ttu-id="34a69-163">Al.exe (Konsolidator zestawów)</span><span class="sxs-lookup"><span data-stu-id="34a69-163">Al.exe (Assembly linker)</span></span>](../../framework/tools/al-exe-assembly-linker.md)|<span data-ttu-id="34a69-164">Opisuje narzędzie zawarte w .NET Framework, które generuje plik z manifestem zestawu z modułów lub plików zasobów.</span><span class="sxs-lookup"><span data-stu-id="34a69-164">Describes the tool included in the .NET Framework that generates a file that has an assembly manifest from modules or resource files.</span></span>|
