---
title: Asynchroniczny wzorzec oparty na zdarzeniach — przegląd
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- Event-based Asynchronous Pattern
- ProgressChangedEventArgs class
- BackgroundWorker component
- events [.NET Framework], asynchronous
- Asynchronous Pattern
- AsyncOperationManager class
- threading [.NET Framework], asynchronous features
- AsyncOperation class
- AsyncCompletedEventArgs class
ms.assetid: 792aa8da-918b-458e-b154-9836b97735f3
ms.openlocfilehash: 492542743b27c709901267d5fd4e066a65158b85
ms.sourcegitcommit: ccd8c36b0d74d99291d41aceb14cf98d74dc9d2b
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/10/2018
ms.locfileid: "53129639"
---
# <a name="event-based-asynchronous-pattern-overview"></a><span data-ttu-id="b2da4-102">Asynchroniczny wzorzec oparty na zdarzeniach — przegląd</span><span class="sxs-lookup"><span data-stu-id="b2da4-102">Event-based Asynchronous Pattern Overview</span></span>
<span data-ttu-id="b2da4-103">Aplikacje, które jednocześnie wykonywać wiele zadań, ale ciągle reagować na interakcję z użytkownikiem, często wymagają projektu, który korzysta z wielu wątków.</span><span class="sxs-lookup"><span data-stu-id="b2da4-103">Applications that perform many tasks simultaneously, yet remain responsive to user interaction, often require a design that uses multiple threads.</span></span> <span data-ttu-id="b2da4-104"><xref:System.Threading> Przestrzeń nazw zawiera wszystkie narzędzia niezbędne do utworzenia aplikacji wielowątkowych o wysokiej wydajności, ale za pomocą tych narzędzi skutecznie wymaga bogate doświadczenie z wielowątkowych inżynierii oprogramowania.</span><span class="sxs-lookup"><span data-stu-id="b2da4-104">The <xref:System.Threading> namespace provides all the tools necessary to create high-performance multithreaded applications, but using these tools effectively requires significant experience with multithreaded software engineering.</span></span> <span data-ttu-id="b2da4-105">W przypadku stosunkowo proste aplikacji wielowątkowych <xref:System.ComponentModel.BackgroundWorker> składnik udostępnia proste rozwiązanie.</span><span class="sxs-lookup"><span data-stu-id="b2da4-105">For relatively simple multithreaded applications, the <xref:System.ComponentModel.BackgroundWorker> component provides a straightforward solution.</span></span> <span data-ttu-id="b2da4-106">Dla bardziej zaawansowanych aplikacji asynchronicznych należy rozważyć zaimplementowanie klasę, która jest zgodna wzorca asynchronicznego opartego na zdarzeniach.</span><span class="sxs-lookup"><span data-stu-id="b2da4-106">For more sophisticated asynchronous applications, consider implementing a class that adheres to the Event-based Asynchronous Pattern.</span></span>  
  
 <span data-ttu-id="b2da4-107">Asynchroniczny wzorzec oparty na zdarzeniach udostępnia zalety aplikacji wielowątkowych wiele skomplikowane problemy związane z wielowątkowych projektu są ukryte.</span><span class="sxs-lookup"><span data-stu-id="b2da4-107">The Event-based Asynchronous Pattern makes available the advantages of multithreaded applications while hiding many of the complex issues inherent in multithreaded design.</span></span> <span data-ttu-id="b2da4-108">Za pomocą klasy, która obsługuje ten wzorzec może umożliwiają:</span><span class="sxs-lookup"><span data-stu-id="b2da4-108">Using a class that supports this pattern can allow you to:</span></span>  
  
-   <span data-ttu-id="b2da4-109">Wykonywać czasochłonne zadania, takie jak pliki do pobrania i operacji bazy danych "w tle" bez zakłócania pracy aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b2da4-109">Perform time-consuming tasks, such as downloads and database operations, "in the background," without interrupting your application.</span></span>  
  
-   <span data-ttu-id="b2da4-110">Wykonać wiele operacji równocześnie, otrzymywanie powiadomień po każdym zakończeniu.</span><span class="sxs-lookup"><span data-stu-id="b2da4-110">Execute multiple operations simultaneously, receiving notifications when each completes.</span></span>  
  
-   <span data-ttu-id="b2da4-111">Oczekiwania na zasoby staną się dostępne bez konieczności zatrzymywania ("wiszące") aplikacji.</span><span class="sxs-lookup"><span data-stu-id="b2da4-111">Wait for resources to become available without stopping ("hanging") your application.</span></span>  
  
-   <span data-ttu-id="b2da4-112">Komunikować się z oczekujących operacji asynchronicznych za pomocą znanego modelu zdarzeń i delegatów.</span><span class="sxs-lookup"><span data-stu-id="b2da4-112">Communicate with pending asynchronous operations using the familiar events-and-delegates model.</span></span> <span data-ttu-id="b2da4-113">Aby uzyskać więcej informacji na temat korzystania z programów obsługi zdarzeń i delegatów, zobacz [zdarzenia](../../../docs/standard/events/index.md).</span><span class="sxs-lookup"><span data-stu-id="b2da4-113">For more information on using event handlers and delegates, see [Events](../../../docs/standard/events/index.md).</span></span>  
  
 <span data-ttu-id="b2da4-114">Klasa obsługującego wzorzec asynchroniczny oparty na zdarzeniach będzie mieć co najmniej jedną metodę o nazwie _MethodName_**Async**.</span><span class="sxs-lookup"><span data-stu-id="b2da4-114">A class that supports the Event-based Asynchronous Pattern will have one or more methods named _MethodName_**Async**.</span></span> <span data-ttu-id="b2da4-115">Te metody mogą dublować synchroniczne wersjach, które do tej samej operacji w bieżącym wątku.</span><span class="sxs-lookup"><span data-stu-id="b2da4-115">These methods may mirror synchronous versions, which perform the same operation on the current thread.</span></span> <span data-ttu-id="b2da4-116">Klasa może mieć również _MethodName_**Ukończono** zdarzeń i może mieć _MethodName_**AsyncCancel** (lub po prostu  **CancelAsync**) metody.</span><span class="sxs-lookup"><span data-stu-id="b2da4-116">The class may also have a _MethodName_**Completed** event and it may have a _MethodName_**AsyncCancel** (or simply **CancelAsync**) method.</span></span>  
  
 <span data-ttu-id="b2da4-117"><xref:System.Windows.Forms.PictureBox> to typowa składnika obsługującego wzorzec asynchroniczny oparty na zdarzeniach.</span><span class="sxs-lookup"><span data-stu-id="b2da4-117"><xref:System.Windows.Forms.PictureBox> is a typical component that supports the Event-based Asynchronous Pattern.</span></span> <span data-ttu-id="b2da4-118">Pobierz obraz synchronicznie, wywołując jego <xref:System.Windows.Forms.PictureBox.Load%2A> metody, ale jeśli obraz jest duży lub, jeśli połączenie sieciowe jest powolne, dla aplikacji zostanie zatrzymane ("zawiesza się"), aż do zakończenia operacji pobierania i wywołania <xref:System.Windows.Forms.PictureBox.Load%2A> zwraca.</span><span class="sxs-lookup"><span data-stu-id="b2da4-118">You can download an image synchronously by calling its <xref:System.Windows.Forms.PictureBox.Load%2A> method, but if the image is large, or if the network connection is slow, your application will stop ("hang") until the download operation is completed and the call to <xref:System.Windows.Forms.PictureBox.Load%2A> returns.</span></span>  
  
 <span data-ttu-id="b2da4-119">Jeśli chcesz, aby aplikacja umożliwia kontynuowanie działania podczas obraz jest ładowany, można wywołać <xref:System.Windows.Forms.PictureBox.LoadAsync%2A> metody i obsługują <xref:System.Windows.Forms.PictureBox.LoadCompleted> zdarzenia, tak jak będzie obsługiwać dowolne inne zdarzenie.</span><span class="sxs-lookup"><span data-stu-id="b2da4-119">If you want your application to keep running while the image is loading, you can call the <xref:System.Windows.Forms.PictureBox.LoadAsync%2A> method and handle the <xref:System.Windows.Forms.PictureBox.LoadCompleted> event, just as you would handle any other event.</span></span> <span data-ttu-id="b2da4-120">Gdy wywołujesz <xref:System.Windows.Forms.PictureBox.LoadAsync%2A> metody, aplikacja będzie kontynuował działanie podczas pobierania rozpoczynające się w oddzielnym wątku ("w tle").</span><span class="sxs-lookup"><span data-stu-id="b2da4-120">When you call the <xref:System.Windows.Forms.PictureBox.LoadAsync%2A> method, your application will continue to run while the download proceeds on a separate thread ("in the background").</span></span> <span data-ttu-id="b2da4-121">Procedury obsługi zdarzenia będzie wywoływana po zakończeniu operacji ładowania obrazu i obsługi zdarzenia można sprawdzić <xref:System.ComponentModel.AsyncCompletedEventArgs> parametru, aby określić, jeśli pliki do pobrania została ukończona pomyślnie.</span><span class="sxs-lookup"><span data-stu-id="b2da4-121">Your event handler will be called when the image-loading operation is complete, and your event handler can examine the <xref:System.ComponentModel.AsyncCompletedEventArgs> parameter to determine if the download completed successfully.</span></span>  
  
 <span data-ttu-id="b2da4-122">Asynchroniczny wzorzec oparty na zdarzeniach wymaga, że można anulować operację asynchroniczną i <xref:System.Windows.Forms.PictureBox> kontrolka obsługuje ten wymóg z jego <xref:System.Windows.Forms.PictureBox.CancelAsync%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="b2da4-122">The Event-based Asynchronous Pattern requires that an asynchronous operation can be canceled, and the <xref:System.Windows.Forms.PictureBox> control supports this requirement with its <xref:System.Windows.Forms.PictureBox.CancelAsync%2A> method.</span></span> <span data-ttu-id="b2da4-123">Wywoływanie <xref:System.Windows.Forms.PictureBox.CancelAsync%2A> przesyła żądanie zatrzymania oczekujące pobierania, i kiedy zadanie zostanie anulowane, <xref:System.Windows.Forms.PictureBox.LoadCompleted> zdarzenie jest wywoływane.</span><span class="sxs-lookup"><span data-stu-id="b2da4-123">Calling <xref:System.Windows.Forms.PictureBox.CancelAsync%2A> submits a request to stop the pending download, and when the task is canceled, the <xref:System.Windows.Forms.PictureBox.LoadCompleted> event is raised.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="b2da4-124">Istnieje możliwość, że pliki do pobrania zakończy się podobnie jak <xref:System.Windows.Forms.PictureBox.CancelAsync%2A> żądania, więc <xref:System.ComponentModel.AsyncCompletedEventArgs.Cancelled%2A> mogą nie odzwierciedlać żądanie anulowania.</span><span class="sxs-lookup"><span data-stu-id="b2da4-124">It is possible that the download will finish just as the <xref:System.Windows.Forms.PictureBox.CancelAsync%2A> request is made, so <xref:System.ComponentModel.AsyncCompletedEventArgs.Cancelled%2A> may not reflect the request to cancel.</span></span> <span data-ttu-id="b2da4-125">Jest to nazywane *wyścigu* i jest to typowy problem w programowanie wielowątkowe.</span><span class="sxs-lookup"><span data-stu-id="b2da4-125">This is called a *race condition* and is a common issue in multithreaded programming.</span></span> <span data-ttu-id="b2da4-126">Aby uzyskać więcej informacji na temat problemów z programowanie wielowątkowe, zobacz [zarządzana wątkowość najlepsze](../../../docs/standard/threading/managed-threading-best-practices.md).</span><span class="sxs-lookup"><span data-stu-id="b2da4-126">For more information on issues in multithreaded programming, see [Managed Threading Best Practices](../../../docs/standard/threading/managed-threading-best-practices.md).</span></span>  
  
## <a name="characteristics-of-the-event-based-asynchronous-pattern"></a><span data-ttu-id="b2da4-127">Właściwości wzorca asynchronicznego opartego na zdarzeniach</span><span class="sxs-lookup"><span data-stu-id="b2da4-127">Characteristics of the Event-based Asynchronous Pattern</span></span>  
 <span data-ttu-id="b2da4-128">Asynchroniczny wzorzec oparty na zdarzeniach może przyjąć kilka postaci, w zależności od złożoności operacji obsługiwanych przez określonej klasy.</span><span class="sxs-lookup"><span data-stu-id="b2da4-128">The Event-based Asynchronous Pattern may take several forms, depending on the complexity of the operations supported by a particular class.</span></span> <span data-ttu-id="b2da4-129">Najprostsza klasy mogą mieć pojedynczy _MethodName_**Async** metody i odpowiadający mu _MethodName_**Ukończono** zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="b2da4-129">The simplest classes may have a single _MethodName_**Async** method and a corresponding _MethodName_**Completed** event.</span></span> <span data-ttu-id="b2da4-130">Bardziej złożone klasy może mieć kilka _MethodName_**Async** z odpowiednią metod _MethodName_**Ukończono** zdarzenia jako także synchroniczne wersji tych metod.</span><span class="sxs-lookup"><span data-stu-id="b2da4-130">More complex classes may have several _MethodName_**Async** methods, each with a corresponding _MethodName_**Completed** event, as well as synchronous versions of these methods.</span></span> <span data-ttu-id="b2da4-131">Klasy może opcjonalnie obsługiwać anulowania, Raportowanie postępu i przyrostowe wyników dla każdej metody asynchronicznej.</span><span class="sxs-lookup"><span data-stu-id="b2da4-131">Classes can optionally support cancellation, progress reporting, and incremental results for each asynchronous method.</span></span>  
  
 <span data-ttu-id="b2da4-132">Metoda asynchroniczna mogą także obsługiwać wiele wywołań oczekujące (wielu równoczesnych wywołań), dzięki czemu kod jej wywołania dowolną liczbę razy przed ukończeniem innych oczekujących operacji.</span><span class="sxs-lookup"><span data-stu-id="b2da4-132">An asynchronous method may also support multiple pending calls (multiple concurrent invocations), allowing your code to call it any number of times before it completes other pending operations.</span></span> <span data-ttu-id="b2da4-133">Poprawnie obsługi tej sytuacji może wymagać aplikacja do śledzenia wykonania operacji.</span><span class="sxs-lookup"><span data-stu-id="b2da4-133">Correctly handling this situation may require your application to track the completion of each operation.</span></span>  
  
### <a name="examples-of-the-event-based-asynchronous-pattern"></a><span data-ttu-id="b2da4-134">Przykładem wzorca asynchronicznego opartego na zdarzeniach</span><span class="sxs-lookup"><span data-stu-id="b2da4-134">Examples of the Event-based Asynchronous Pattern</span></span>  
 <span data-ttu-id="b2da4-135"><xref:System.Media.SoundPlayer> i <xref:System.Windows.Forms.PictureBox> składniki reprezentują prostych implementacji wzorca asynchronicznego opartego na zdarzeniach.</span><span class="sxs-lookup"><span data-stu-id="b2da4-135">The <xref:System.Media.SoundPlayer> and <xref:System.Windows.Forms.PictureBox> components represent simple implementations of the Event-based Asynchronous Pattern.</span></span> <span data-ttu-id="b2da4-136"><xref:System.Net.WebClient> i <xref:System.ComponentModel.BackgroundWorker> składniki reprezentują bardziej złożonych implementacji wzorca asynchronicznego opartego na zdarzeniach.</span><span class="sxs-lookup"><span data-stu-id="b2da4-136">The <xref:System.Net.WebClient> and <xref:System.ComponentModel.BackgroundWorker> components represent more complex implementations of the Event-based Asynchronous Pattern.</span></span>  
  
 <span data-ttu-id="b2da4-137">Poniżej przedstawiono przykład deklaracji klasy, który jest zgodny ze wzorcem:</span><span class="sxs-lookup"><span data-stu-id="b2da4-137">Below is an example class declaration that conforms to the pattern:</span></span>  
  
```vb  
Public Class AsyncExample  
    ' Synchronous methods.  
    Public Function Method1(ByVal param As String) As Integer   
    Public Sub Method2(ByVal param As Double)   
  
    ' Asynchronous methods.  
    Overloads Public Sub Method1Async(ByVal param As String)   
    Overloads Public Sub Method1Async(ByVal param As String, ByVal userState As Object)   
    Public Event Method1Completed As Method1CompletedEventHandler  
  
    Overloads Public Sub Method2Async(ByVal param As Double)   
    Overloads Public Sub Method2Async(ByVal param As Double, ByVal userState As Object)   
    Public Event Method2Completed As Method2CompletedEventHandler  
  
    Public Sub CancelAsync(ByVal userState As Object)   
  
    Public ReadOnly Property IsBusy () As Boolean  
  
    ' Class implementation not shown.  
End Class  
```  
  
```csharp  
public class AsyncExample  
{  
    // Synchronous methods.  
    public int Method1(string param);  
    public void Method2(double param);  
  
    // Asynchronous methods.  
    public void Method1Async(string param);  
    public void Method1Async(string param, object userState);  
    public event Method1CompletedEventHandler Method1Completed;  
  
    public void Method2Async(double param);  
    public void Method2Async(double param, object userState);  
    public event Method2CompletedEventHandler Method2Completed;  
  
    public void CancelAsync(object userState);  
  
    public bool IsBusy { get; }  
  
    // Class implementation not shown.  
}  
```  
  
 <span data-ttu-id="b2da4-138">Fikcyjnej `AsyncExample` klasa ma dwie metody, które obsługują wywołania synchroniczne i asynchroniczne.</span><span class="sxs-lookup"><span data-stu-id="b2da4-138">The fictitious `AsyncExample` class has two methods, both of which support synchronous and asynchronous invocations.</span></span> <span data-ttu-id="b2da4-139">Synchroniczne przeciążenia zachowują się jak każde wywołanie metody i wykonywanie operacji na wątku wywołującym; Jeśli operacja jest czasochłonne, może istnieć zauważalnego opóźnienia, zanim to wywołanie zwraca.</span><span class="sxs-lookup"><span data-stu-id="b2da4-139">The synchronous overloads behave like any method call and execute the operation on the calling thread; if the operation is time-consuming, there may be a noticeable delay before the call returns.</span></span> <span data-ttu-id="b2da4-140">Asynchroniczne przeciążenia będzie rozpocząć tę operację w innym wątku i zwracany jest natychmiast, dzięki czemu wątek wywołujący kontynuować, podczas gdy operacja wykonuje "w tle."</span><span class="sxs-lookup"><span data-stu-id="b2da4-140">The asynchronous overloads will start the operation on another thread and then return immediately, allowing the calling thread to continue while the operation executes "in the background."</span></span>  
  
### <a name="asynchronous-method-overloads"></a><span data-ttu-id="b2da4-141">Przeciążenia metody asynchronicznej</span><span class="sxs-lookup"><span data-stu-id="b2da4-141">Asynchronous Method Overloads</span></span>  
 <span data-ttu-id="b2da4-142">Istnieją potencjalnie dwa przeciążenia dla operacji asynchronicznych: wywołanie jednym i wielu wywołań.</span><span class="sxs-lookup"><span data-stu-id="b2da4-142">There are potentially two overloads for the asynchronous operations: single-invocation and multiple-invocation.</span></span> <span data-ttu-id="b2da4-143">Za ich podpisy metod można odróżnić tych dwóch formach: formularz wielu wywołań ma dodatkowy parametr o nazwie `userState`.</span><span class="sxs-lookup"><span data-stu-id="b2da4-143">You can distinguish these two forms by their method signatures: the multiple-invocation form has an extra parameter called `userState`.</span></span> <span data-ttu-id="b2da4-144">Ta forma umożliwia wywołania `Method1Async(string param, object userState)` wiele razy bez konieczności oczekiwania na żadnych oczekujących operacji asynchronicznych, aby zakończyć.</span><span class="sxs-lookup"><span data-stu-id="b2da4-144">This form makes it possible for your code to call `Method1Async(string param, object userState)` multiple times without waiting for any pending asynchronous operations to finish.</span></span> <span data-ttu-id="b2da4-145">Jeśli, z drugiej strony, podczas próby wywołania `Method1Async(string param)` przed ukończeniem poprzedniego wywołania, metoda zgłasza <xref:System.InvalidOperationException>.</span><span class="sxs-lookup"><span data-stu-id="b2da4-145">If, on the other hand, you try to call `Method1Async(string param)` before a previous invocation has completed, the method raises an <xref:System.InvalidOperationException>.</span></span>  
  
 <span data-ttu-id="b2da4-146">`userState` Parametr dla wielu wywołania przeciążenia umożliwia rozróżnienia operacji asynchronicznych.</span><span class="sxs-lookup"><span data-stu-id="b2da4-146">The `userState` parameter for the multiple-invocation overloads allows you to distinguish among asynchronous operations.</span></span> <span data-ttu-id="b2da4-147">Podaj unikatową wartość (na przykład, kod identyfikatora GUID lub skrót) dla każdego wywołania `Method1Async(string param, object userState)`, a po zakończeniu każdej operacji obsługi zdarzenia można określić, które wystąpienie operacji zgłoszone zdarzenie zakończenia.</span><span class="sxs-lookup"><span data-stu-id="b2da4-147">You provide a unique value (for example, a GUID or hash code) for each call to `Method1Async(string param, object userState)`, and when each operation is completed, your event handler can determine which instance of the operation raised the completion event.</span></span>  
  
### <a name="tracking-pending-operations"></a><span data-ttu-id="b2da4-148">Śledzenie oczekujące operacje</span><span class="sxs-lookup"><span data-stu-id="b2da4-148">Tracking Pending Operations</span></span>  
 <span data-ttu-id="b2da4-149">Jeśli używasz wielu wywołania przeciążenia, kod musi śledzić `userState` obiektów (identyfikatorów zadań) oczekujące zadania.</span><span class="sxs-lookup"><span data-stu-id="b2da4-149">If you use the multiple-invocation overloads, your code will need to keep track of the `userState` objects (task IDs) for pending tasks.</span></span> <span data-ttu-id="b2da4-150">Dla każdego wywołania `Method1Async(string param, object userState)`, zwykle wygeneruje nową, unikatowych `userState` obiektu i dodaj go do kolekcji.</span><span class="sxs-lookup"><span data-stu-id="b2da4-150">For each call to `Method1Async(string param, object userState)`, you will typically generate a new, unique `userState` object and add it to a collection.</span></span> <span data-ttu-id="b2da4-151">Gdy zadania odpowiadającego tej `userState` obiektu wywołuje zdarzenie ukończenia, sprawdzać Twoja implementacja metody ukończenia <xref:System.ComponentModel.AsyncCompletedEventArgs.UserState%2A?displayProperty=nameWithType> i usunąć go z kolekcji.</span><span class="sxs-lookup"><span data-stu-id="b2da4-151">When the task corresponding to this `userState` object raises the completion event, your completion method implementation will examine <xref:System.ComponentModel.AsyncCompletedEventArgs.UserState%2A?displayProperty=nameWithType> and remove it from your collection.</span></span> <span data-ttu-id="b2da4-152">Używana w ten sposób `userState` Parametr przyjmuje rolę identyfikator zadania.</span><span class="sxs-lookup"><span data-stu-id="b2da4-152">Used this way, the `userState` parameter takes the role of a task ID.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="b2da4-153">Musisz być ostrożnym zapewnić unikatową wartość dla `userState` w wywołania względem wielu wywołania przeciążenia.</span><span class="sxs-lookup"><span data-stu-id="b2da4-153">You must be careful to provide a unique value for `userState` in your calls to multiple-invocation overloads.</span></span> <span data-ttu-id="b2da4-154">Nieunikatowy identyfikatorów zadań spowoduje, że throw asynchroniczne klasa <xref:System.ArgumentException>.</span><span class="sxs-lookup"><span data-stu-id="b2da4-154">Non-unique task IDs will cause the asynchronous class throw an <xref:System.ArgumentException>.</span></span>  
  
### <a name="canceling-pending-operations"></a><span data-ttu-id="b2da4-155">Oczekujące operacje</span><span class="sxs-lookup"><span data-stu-id="b2da4-155">Canceling Pending Operations</span></span>  
 <span data-ttu-id="b2da4-156">Należy mieć możliwość anulowania operacji asynchronicznych w dowolnym momencie przed ich zakończeniu.</span><span class="sxs-lookup"><span data-stu-id="b2da4-156">It is important to be able to cancel asynchronous operations at any time before their completion.</span></span> <span data-ttu-id="b2da4-157">Klasy, które implementują wzorzec asynchroniczny oparty na zdarzeniach będą miały `CancelAsync` metody (jeśli istnieje tylko jedna metoda asynchroniczna) lub _MethodName_**AsyncCancel** metody (jeśli istnieje wiele metody asynchroniczne).</span><span class="sxs-lookup"><span data-stu-id="b2da4-157">Classes that implement the Event-based Asynchronous Pattern will have a `CancelAsync` method (if there is only one asynchronous method) or a _MethodName_**AsyncCancel** method (if there are multiple asynchronous methods).</span></span>  
  
 <span data-ttu-id="b2da4-158">Metody, które umożliwiają wielu wywołań przyjmują `userState` parametr, który może służyć do śledzenia okresu istnienia każdego zadania.</span><span class="sxs-lookup"><span data-stu-id="b2da4-158">Methods that allow multiple invocations take a `userState` parameter, which can be used to track the lifetime of each task.</span></span> <span data-ttu-id="b2da4-159">`CancelAsync` Trwa `userState` parametr, który umożliwia anulowanie określonego oczekujące zadania.</span><span class="sxs-lookup"><span data-stu-id="b2da4-159">`CancelAsync` takes a `userState` parameter, which allows you to cancel particular pending tasks.</span></span>  
  
 <span data-ttu-id="b2da4-160">Metody, które obsługują tylko jeden oczekującej operacji w czasie, takie jak `Method1Async(string param)`, nie są można anulować.</span><span class="sxs-lookup"><span data-stu-id="b2da4-160">Methods that support only a single pending operation at a time, like `Method1Async(string param)`, are not cancelable.</span></span>  
  
### <a name="receiving-progress-updates-and-incremental-results"></a><span data-ttu-id="b2da4-161">Otrzymywanie aktualizacji postęp i wyniki przyrostowe</span><span class="sxs-lookup"><span data-stu-id="b2da4-161">Receiving Progress Updates and Incremental Results</span></span>  
 <span data-ttu-id="b2da4-162">Klasa, która jest zgodna wzorca asynchronicznego opartego na zdarzeniach może opcjonalnie podać zdarzenia do śledzenia postępu i wyniki przyrostowe.</span><span class="sxs-lookup"><span data-stu-id="b2da4-162">A class that adheres to the Event-based Asynchronous Pattern may optionally provide an event for tracking progress and incremental results.</span></span> <span data-ttu-id="b2da4-163">Będzie to zazwyczaj miała `ProgressChanged` lub _MethodName_**ProgressChanged**, i zajmie się jego odpowiedni program obsługi zdarzeń <xref:System.ComponentModel.ProgressChangedEventArgs> parametru.</span><span class="sxs-lookup"><span data-stu-id="b2da4-163">This will typically be named `ProgressChanged` or _MethodName_**ProgressChanged**, and its corresponding event handler will take a <xref:System.ComponentModel.ProgressChangedEventArgs> parameter.</span></span>  
  
 <span data-ttu-id="b2da4-164">Program obsługi zdarzeń dla `ProgressChanged` zbadać zdarzenia <xref:System.ComponentModel.ProgressChangedEventArgs.ProgressPercentage%2A?displayProperty=nameWithType> właściwości w celu określenia, jaki procent asynchroniczne zadanie zostało ukończone.</span><span class="sxs-lookup"><span data-stu-id="b2da4-164">The event handler for the `ProgressChanged` event can examine the <xref:System.ComponentModel.ProgressChangedEventArgs.ProgressPercentage%2A?displayProperty=nameWithType> property to determine what percentage of an asynchronous task has been completed.</span></span> <span data-ttu-id="b2da4-165">Ta właściwość będzie należeć do zakresu od 0 do 100 i może służyć do zaktualizowania <xref:System.Windows.Forms.ProgressBar.Value%2A> właściwość <xref:System.Windows.Forms.ProgressBar>.</span><span class="sxs-lookup"><span data-stu-id="b2da4-165">This property will range from 0 to 100, and it can be used to update the <xref:System.Windows.Forms.ProgressBar.Value%2A> property of a <xref:System.Windows.Forms.ProgressBar>.</span></span> <span data-ttu-id="b2da4-166">W przypadku oczekujących wiele operacji asynchronicznych umożliwia <xref:System.ComponentModel.ProgressChangedEventArgs.UserState%2A?displayProperty=nameWithType> właściwości w celu odróżnienia kolejnej operacji jest raportowania postępu.</span><span class="sxs-lookup"><span data-stu-id="b2da4-166">If multiple asynchronous operations are pending, you can use the <xref:System.ComponentModel.ProgressChangedEventArgs.UserState%2A?displayProperty=nameWithType> property to distinguish which operation is reporting progress.</span></span>  
  
 <span data-ttu-id="b2da4-167">Niektóre klasy mogą zgłaszać przyrostowe wyniki kontynuowaniem operacji asynchronicznych.</span><span class="sxs-lookup"><span data-stu-id="b2da4-167">Some classes may report incremental results as asynchronous operations proceed.</span></span> <span data-ttu-id="b2da4-168">Te wyniki będą przechowywane w klasie, która pochodzi od klasy <xref:System.ComponentModel.ProgressChangedEventArgs> i pojawią się one jako właściwości w klasie pochodnej.</span><span class="sxs-lookup"><span data-stu-id="b2da4-168">These results will be stored in a class that derives from <xref:System.ComponentModel.ProgressChangedEventArgs> and they will appear as properties in the derived class.</span></span> <span data-ttu-id="b2da4-169">Dostęp można uzyskać te wyniki w program obsługi zdarzeń dla `ProgressChanged` zdarzenia, tak jak dostęp do <xref:System.ComponentModel.ProgressChangedEventArgs.ProgressPercentage%2A> właściwości.</span><span class="sxs-lookup"><span data-stu-id="b2da4-169">You can access these results in the event handler for the `ProgressChanged` event, just as you would access the <xref:System.ComponentModel.ProgressChangedEventArgs.ProgressPercentage%2A> property.</span></span> <span data-ttu-id="b2da4-170">W przypadku oczekujących wiele operacji asynchronicznych umożliwia <xref:System.ComponentModel.ProgressChangedEventArgs.UserState%2A> właściwości w celu odróżnienia kolejnej operacji zgłasza wyniki przyrostowe.</span><span class="sxs-lookup"><span data-stu-id="b2da4-170">If multiple asynchronous operations are pending, you can use the <xref:System.ComponentModel.ProgressChangedEventArgs.UserState%2A> property to distinguish which operation is reporting incremental results.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b2da4-171">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="b2da4-171">See also</span></span>

- <xref:System.ComponentModel.ProgressChangedEventArgs>  
- <xref:System.ComponentModel.BackgroundWorker>  
- <xref:System.ComponentModel.AsyncCompletedEventArgs>  
- [<span data-ttu-id="b2da4-172">Jak: Używanie składnika obsługującego wzorzec asynchroniczny oparty na zdarzeniach</span><span class="sxs-lookup"><span data-stu-id="b2da4-172">How to: Use Components That Support the Event-based Asynchronous Pattern</span></span>](../../../docs/standard/asynchronous-programming-patterns/how-to-use-components-that-support-the-event-based-asynchronous-pattern.md)  
- [<span data-ttu-id="b2da4-173">Jak: Uruchamianie operacji w tle</span><span class="sxs-lookup"><span data-stu-id="b2da4-173">How to: Run an Operation in the Background</span></span>](../../../docs/framework/winforms/controls/how-to-run-an-operation-in-the-background.md)  
- [<span data-ttu-id="b2da4-174">Jak: Implementowanie formularza korzystającego z operacji w tle</span><span class="sxs-lookup"><span data-stu-id="b2da4-174">How to: Implement a Form That Uses a Background Operation</span></span>](../../../docs/framework/winforms/controls/how-to-implement-a-form-that-uses-a-background-operation.md)  
- [<span data-ttu-id="b2da4-175">Asynchroniczny wzorzec oparty na zdarzeniach (EAP)</span><span class="sxs-lookup"><span data-stu-id="b2da4-175">Event-based Asynchronous Pattern (EAP)</span></span>](../../../docs/standard/asynchronous-programming-patterns/event-based-asynchronous-pattern-eap.md)  
- [<span data-ttu-id="b2da4-176">Implementacja wzorca asynchronicznego opartego na zdarzeniach — najlepsze rozwiązania</span><span class="sxs-lookup"><span data-stu-id="b2da4-176">Best Practices for Implementing the Event-based Asynchronous Pattern</span></span>](../../../docs/standard/asynchronous-programming-patterns/best-practices-for-implementing-the-event-based-asynchronous-pattern.md)  
- [<span data-ttu-id="b2da4-177">Decydowanie o czasie implementacji wzorca asynchronicznego opartego na zdarzeniach</span><span class="sxs-lookup"><span data-stu-id="b2da4-177">Deciding When to Implement the Event-based Asynchronous Pattern</span></span>](../../../docs/standard/asynchronous-programming-patterns/deciding-when-to-implement-the-event-based-asynchronous-pattern.md)
