---
title: Rozwinięte odwołania do jednostek, które nie zostały zachowane
ms.date: 03/30/2017
ms.assetid: ffd97806-ab43-4538-8de2-5828bfbbde57
ms.openlocfilehash: 5a3c93807866c5925696f2d913dfc443d8ff12a4
ms.sourcegitcommit: d8020797a6657d0fbbdff362b80300815f682f94
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/24/2020
ms.locfileid: "95687453"
---
# <a name="entity-references-are-expanded-and-not-preserved"></a><span data-ttu-id="c59ab-102">Rozwinięte odwołania do jednostek, które nie zostały zachowane</span><span class="sxs-lookup"><span data-stu-id="c59ab-102">Entity References are Expanded and Not Preserved</span></span>

<span data-ttu-id="c59ab-103">Gdy odwołanie do jednostki zostanie rozwinięte i zastąpione tekstem, który reprezentuje, węzeł **XmlEntityReference** nie zostanie utworzony.</span><span class="sxs-lookup"><span data-stu-id="c59ab-103">When the entity reference is expanded and replaced by the text it represents, the **XmlEntityReference** node is not created.</span></span> <span data-ttu-id="c59ab-104">Zamiast tego, deklaracja jednostki jest analizowana, a węzły utworzone na podstawie zawartości deklaracji są kopiowane w miejscu **XmlEntityReference**.</span><span class="sxs-lookup"><span data-stu-id="c59ab-104">Instead, the entity declaration is parsed, and nodes created from the content in the declaration are copied in the place of the **XmlEntityReference**.</span></span> <span data-ttu-id="c59ab-105">W związku z tym, w tym `&publisher;` przykładzie, `&publisher;` nie jest zapisany, ale zamiast tego jest tworzony węzeł **XmlText** .</span><span class="sxs-lookup"><span data-stu-id="c59ab-105">Therefore, in the `&publisher;` example, the `&publisher;` is not saved, but instead, an **XmlText** node is created.</span></span>  
  
 <span data-ttu-id="c59ab-106">![rozwinięta struktura drzewa](media/xmlentityref-expanded-nodes.gif "xmlentityref_expanded_nodes")</span><span class="sxs-lookup"><span data-stu-id="c59ab-106">![expanded tree structure](media/xmlentityref-expanded-nodes.gif "xmlentityref_expanded_nodes")</span></span>  
<span data-ttu-id="c59ab-107">Struktura drzewa dla rozszerzonych odwołań do jednostek</span><span class="sxs-lookup"><span data-stu-id="c59ab-107">Tree structure for entity references that are expanded</span></span>  
  
 <span data-ttu-id="c59ab-108">Jednostki znaku, takie jak `B` lub, `<` nie są zachowywane.</span><span class="sxs-lookup"><span data-stu-id="c59ab-108">Character entities such as `B` or `<` are not preserved.</span></span> <span data-ttu-id="c59ab-109">Zamiast tego są zawsze rozwinięte i reprezentowane jako węzły tekstowe.</span><span class="sxs-lookup"><span data-stu-id="c59ab-109">Instead, they are always expanded and represented as text nodes.</span></span>  
  
 <span data-ttu-id="c59ab-110">Aby zachować węzły **XmlEntityReference** i węzły podrzędne odwołania do jednostki, należy ustawić flagę **EntityHandling** na **ExpandCharEntities**.</span><span class="sxs-lookup"><span data-stu-id="c59ab-110">To preserve **XmlEntityReference** nodes and child nodes of the entity reference attached to it, set the **EntityHandling** flag to **ExpandCharEntities**.</span></span> <span data-ttu-id="c59ab-111">W przeciwnym razie pozostaw flagę **EntityHandling** domyślną, która ma **ExpandEntities**.</span><span class="sxs-lookup"><span data-stu-id="c59ab-111">Otherwise, leave the **EntityHandling** flag at the default, which is to **ExpandEntities**.</span></span> <span data-ttu-id="c59ab-112">W takim przypadku w modelu DOM nie będą wyświetlane węzły odwołań do obiektów.</span><span class="sxs-lookup"><span data-stu-id="c59ab-112">In this case, you will not see entity reference nodes in the DOM.</span></span> <span data-ttu-id="c59ab-113">Węzły są zastępowane węzłami, które są kopiami węzłów podrzędnych deklaracji Entity.</span><span class="sxs-lookup"><span data-stu-id="c59ab-113">The nodes are replaced by the nodes that are copies of the child nodes of the entity declaration.</span></span>  
  
 <span data-ttu-id="c59ab-114">Jeden efekt uboczny niezachowywania odwołań do jednostek polega na tym, że gdy dokument jest zapisywany i przekazano do innej aplikacji, aplikacja otrzymująca nie wie, że węzły zostały wygenerowane przez odwołanie do jednostki.</span><span class="sxs-lookup"><span data-stu-id="c59ab-114">One side effect of not preserving entity references is that when the document is saved and passed on to another application, the receiving application does not know that the nodes were generated by an entity reference.</span></span> <span data-ttu-id="c59ab-115">Jeśli jednak odwołania do jednostek są zachowywane, aplikacja do odbioru widzi odwołanie do jednostki i odczytuje węzły podrzędne.</span><span class="sxs-lookup"><span data-stu-id="c59ab-115">However, when entity references are preserved, a receiving application sees an entity reference and reads the child nodes.</span></span> <span data-ttu-id="c59ab-116">Istnieje oczywiste, że węzły podrzędne reprezentują informacje, które były w deklaracji jednostki.</span><span class="sxs-lookup"><span data-stu-id="c59ab-116">It is apparent that the child nodes represent the information that was in the entity declaration.</span></span> <span data-ttu-id="c59ab-117">Na przykład, model DOM teoretycznie ma następującą strukturę, jeśli odwołania do jednostek są zachowywane.</span><span class="sxs-lookup"><span data-stu-id="c59ab-117">For example, the DOM theoretically has the following structure if entity references are preserved.</span></span>  
  
 <span data-ttu-id="c59ab-118">XmlElement: Wydawca</span><span class="sxs-lookup"><span data-stu-id="c59ab-118">XmlElement: publisher</span></span>  
  
 <span data-ttu-id="c59ab-119">XmlEntityReference: `&publisher;`</span><span class="sxs-lookup"><span data-stu-id="c59ab-119">XmlEntityReference: `&publisher;`</span></span>  
  
 <span data-ttu-id="c59ab-120">XmlText: Microsoft Press</span><span class="sxs-lookup"><span data-stu-id="c59ab-120">XmlText: Microsoft Press</span></span>  
  
 <span data-ttu-id="c59ab-121">Jeśli odwołania do jednostek są rozwinięte w modelu DOM, który jest metodą domyślną, struktura ma ten typ drzewa:</span><span class="sxs-lookup"><span data-stu-id="c59ab-121">If entity references are expanded in the DOM, which is the default method, the structure has this type of tree:</span></span>  
  
 <span data-ttu-id="c59ab-122">XmlElement: Wydawca</span><span class="sxs-lookup"><span data-stu-id="c59ab-122">XmlElement: publisher</span></span>  
  
 <span data-ttu-id="c59ab-123">XmlText: Microsoft Press</span><span class="sxs-lookup"><span data-stu-id="c59ab-123">XmlText: Microsoft Press</span></span>  
  
 <span data-ttu-id="c59ab-124">Zwróć uwagę, że węzeł odwołania do jednostki został usunięty, a aplikacja do odbioru nie może stwierdzić, czy węzeł **XmlText** zawierający "Microsoft Press" został utworzony z deklaracji jednostki.</span><span class="sxs-lookup"><span data-stu-id="c59ab-124">Notice that the entity reference node is gone, and the receiving application cannot tell that the **XmlText** node containing "Microsoft Press" was created from an entity declaration.</span></span>  
  
 <span data-ttu-id="c59ab-125">Jeśli używasz czytnika, który nie może rozpoznać jednostek, Metoda **ładowania** zgłasza wyjątek podczas napotkania odwołania do jednostki.</span><span class="sxs-lookup"><span data-stu-id="c59ab-125">If you use a reader that cannot resolve entities, the **Load** method throws an exception when it encounters an entity reference.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c59ab-126">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="c59ab-126">See also</span></span>

- [<span data-ttu-id="c59ab-127">XML Document Object Model (DOM)</span><span class="sxs-lookup"><span data-stu-id="c59ab-127">XML Document Object Model (DOM)</span></span>](xml-document-object-model-dom.md)
