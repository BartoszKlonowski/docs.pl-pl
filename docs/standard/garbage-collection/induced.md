---
title: Wywołane kolekcje
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- garbage collection, forced
ms.assetid: 019008fe-4708-4e65-bebf-04fd9941e149
ms.openlocfilehash: 604b49ef577a46204b523ebf5a8575a30b81635e
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/30/2019
ms.locfileid: "73120919"
---
# <a name="induced-collections"></a><span data-ttu-id="be012-102">Wywołane kolekcje</span><span class="sxs-lookup"><span data-stu-id="be012-102">Induced Collections</span></span>
<span data-ttu-id="be012-103">W większości przypadków moduł wyrzucania elementów bezużytecznych może określić najlepszy czas wykonywania kolekcji i należy pozwolić na jego uruchomienie niezależnie.</span><span class="sxs-lookup"><span data-stu-id="be012-103">In most cases, the garbage collector can determine the best time to perform a collection, and you should let it run independently.</span></span> <span data-ttu-id="be012-104">Istnieją rzadkie sytuacje, w których wymuszona kolekcja może poprawić wydajność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="be012-104">There are rare situations when a forced collection might improve your application's performance.</span></span> <span data-ttu-id="be012-105">W takich przypadkach można wywołać wyrzucanie elementów bezużytecznych za pomocą metody <xref:System.GC.Collect%2A?displayProperty=nameWithType>, aby wymusić wyrzucanie elementów bezużytecznych.</span><span class="sxs-lookup"><span data-stu-id="be012-105">In these cases, you can induce garbage collection by using the <xref:System.GC.Collect%2A?displayProperty=nameWithType> method to force a garbage collection.</span></span>  
  
 <span data-ttu-id="be012-106">Użyj metody <xref:System.GC.Collect%2A?displayProperty=nameWithType>, gdy istnieje znacząca redukcja ilości pamięci używanej w konkretnym momencie w kodzie aplikacji.</span><span class="sxs-lookup"><span data-stu-id="be012-106">Use the <xref:System.GC.Collect%2A?displayProperty=nameWithType> method when there is a significant reduction in the amount of memory being used at a specific point in your application's code.</span></span> <span data-ttu-id="be012-107">Na przykład jeśli aplikacja używa złożonego okna dialogowego, które ma kilka kontrolek, wywoływanie <xref:System.GC.Collect%2A> po zamknięciu okna dialogowego może poprawić wydajność przez natychmiastowe ododzyskiwanie pamięci używanej przez okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="be012-107">For example, if your application uses a complex dialog box that has several controls, calling <xref:System.GC.Collect%2A> when the dialog box is closed could improve performance by immediately reclaiming the memory used by the dialog box.</span></span> <span data-ttu-id="be012-108">Upewnij się, że aplikacja nie powoduje zbyt częstego wyrzucania elementów bezużytecznych, ponieważ może obniżyć wydajność, jeśli moduł wyrzucania elementów bezużytecznych próbuje przejąć obiekty w nieoptymalnym czasie.</span><span class="sxs-lookup"><span data-stu-id="be012-108">Be sure that your application is not inducing garbage collection too frequently, because that can decrease performance if the garbage collector is trying to reclaim objects at non-optimal times.</span></span> <span data-ttu-id="be012-109">Możesz podać <xref:System.GCCollectionMode.Optimized?displayProperty=nameWithType> wartość wyliczenia do metody <xref:System.GC.Collect%2A>, aby zbierać dane tylko wtedy, gdy zbieranie będzie produktywne, jak to opisano w następnej sekcji.</span><span class="sxs-lookup"><span data-stu-id="be012-109">You can supply a <xref:System.GCCollectionMode.Optimized?displayProperty=nameWithType> enumeration value to the <xref:System.GC.Collect%2A> method to collect only when collection would be productive, as discussed in the next section.</span></span>  
  
## <a name="gc-collection-mode"></a><span data-ttu-id="be012-110">Tryb zbierania danych GC</span><span class="sxs-lookup"><span data-stu-id="be012-110">GC collection mode</span></span>  
 <span data-ttu-id="be012-111">Można użyć jednego z przeciążeń metody <xref:System.GC.Collect%2A?displayProperty=nameWithType>, który zawiera wartość <xref:System.GCCollectionMode>, aby określić zachowanie dla wymuszonej kolekcji w następujący sposób.</span><span class="sxs-lookup"><span data-stu-id="be012-111">You can use one of the <xref:System.GC.Collect%2A?displayProperty=nameWithType> method overloads that includes a <xref:System.GCCollectionMode> value to specify the behavior for a forced collection as follows.</span></span>  
  
|<span data-ttu-id="be012-112">wartość `GCCollectionMode`</span><span class="sxs-lookup"><span data-stu-id="be012-112">`GCCollectionMode` value</span></span>|<span data-ttu-id="be012-113">Opis</span><span class="sxs-lookup"><span data-stu-id="be012-113">Description</span></span>|  
|------------------------------|-----------------|  
|<xref:System.GCCollectionMode.Default>|<span data-ttu-id="be012-114">Używa domyślnego ustawienia wyrzucania elementów bezużytecznych dla działającej wersji platformy .NET.</span><span class="sxs-lookup"><span data-stu-id="be012-114">Uses the default garbage collection setting for the running version of .NET.</span></span>|  
|<xref:System.GCCollectionMode.Forced>|<span data-ttu-id="be012-115">Wymusza natychmiastowe wyrzucanie elementów bezużytecznych.</span><span class="sxs-lookup"><span data-stu-id="be012-115">Forces garbage collection to occur immediately.</span></span> <span data-ttu-id="be012-116">Jest to równoznaczne z wywołaniem przeciążenia <xref:System.GC.Collect?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="be012-116">This is equivalent to calling the <xref:System.GC.Collect?displayProperty=nameWithType> overload.</span></span> <span data-ttu-id="be012-117">Powoduje to pełną blokadę kolekcji wszystkich generacji.</span><span class="sxs-lookup"><span data-stu-id="be012-117">It results in a full blocking collection of all generations.</span></span><br /><br /> <span data-ttu-id="be012-118">Możesz również skompaktować stertę dużego obiektu, ustawiając właściwość <xref:System.Runtime.GCSettings.LargeObjectHeapCompactionMode%2A?displayProperty=nameWithType> na <xref:System.Runtime.GCLargeObjectHeapCompactionMode.CompactOnce?displayProperty=nameWithType> przed wymuszeniem natychmiastowego pełnego blokowania wyrzucania elementów bezużytecznych.</span><span class="sxs-lookup"><span data-stu-id="be012-118">You can also compact the large object heap by setting the <xref:System.Runtime.GCSettings.LargeObjectHeapCompactionMode%2A?displayProperty=nameWithType> property to <xref:System.Runtime.GCLargeObjectHeapCompactionMode.CompactOnce?displayProperty=nameWithType> before forcing an immediate full blocking garbage collection.</span></span>|  
|<xref:System.GCCollectionMode.Optimized>|<span data-ttu-id="be012-119">Umożliwia modułowi wyrzucania elementów bezużytecznych ustalenie, czy bieżący czas jest optymalny do odzyskiwania obiektów.</span><span class="sxs-lookup"><span data-stu-id="be012-119">Enables the garbage collector to determine whether the current time is optimal to reclaim objects.</span></span><br /><br /> <span data-ttu-id="be012-120">Moduł wyrzucania elementów bezużytecznych może określić, że kolekcja nie będzie wystarczająco wydajna, aby mogła być uzasadniona, w takim przypadku będzie ona zwracała bez odzyskiwania obiektów.</span><span class="sxs-lookup"><span data-stu-id="be012-120">The garbage collector could determine that a collection would not be productive enough to be justified, in which case it will return without reclaiming objects.</span></span>|  
  
## <a name="background-or-blocking-collections"></a><span data-ttu-id="be012-121">Kolekcje w tle lub blokujące</span><span class="sxs-lookup"><span data-stu-id="be012-121">Background or blocking collections</span></span>  
 <span data-ttu-id="be012-122">Można wywołać Przeciążenie metody <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29?displayProperty=nameWithType>, aby określić, czy wywołane kolekcje są blokowane, czy nie.</span><span class="sxs-lookup"><span data-stu-id="be012-122">You can call the <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29?displayProperty=nameWithType> method overload to specify whether an induced collection is blocking or not.</span></span> <span data-ttu-id="be012-123">Typ wykonywanej kolekcji zależy od kombinacji parametrów `mode` i `blocking` metody.</span><span class="sxs-lookup"><span data-stu-id="be012-123">The type of collection performed depends on a combination of the method's `mode` and `blocking` parameters.</span></span> <span data-ttu-id="be012-124">`mode` jest członkiem wyliczenia <xref:System.GCCollectionMode>, a `blocking` jest wartością <xref:System.Boolean>.</span><span class="sxs-lookup"><span data-stu-id="be012-124">`mode` is a member of the <xref:System.GCCollectionMode> enumeration, and `blocking` is a <xref:System.Boolean> value.</span></span> <span data-ttu-id="be012-125">W poniższej tabeli zestawiono interakcje `mode` i `blocking` argumentów.</span><span class="sxs-lookup"><span data-stu-id="be012-125">The following table summarizes the interaction of the `mode` and `blocking` arguments.</span></span>  
  
|`mode`|`blocking` = `true`|`blocking` = `false`|  
|------------|--------------------------|---------------------------|  
|<span data-ttu-id="be012-126"><xref:System.GCCollectionMode.Forced> lub <xref:System.GCCollectionMode.Default></span><span class="sxs-lookup"><span data-stu-id="be012-126"><xref:System.GCCollectionMode.Forced> or <xref:System.GCCollectionMode.Default></span></span>|<span data-ttu-id="be012-127">Kolekcja blokująca jest wykonywana najszybciej, jak to możliwe.</span><span class="sxs-lookup"><span data-stu-id="be012-127">A blocking collection is performed as soon as possible.</span></span> <span data-ttu-id="be012-128">Jeśli zbieranie w tle jest w toku i generacja ma wartość 0 lub 1, Metoda <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> natychmiast wyzwala kolekcję blokującą i zwraca, gdy kolekcja zostanie zakończona.</span><span class="sxs-lookup"><span data-stu-id="be012-128">If a background collection is in progress and generation is 0 or 1, the <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> method immediately triggers a blocking collection and returns when the collection is finished.</span></span> <span data-ttu-id="be012-129">Jeśli zbieranie w tle jest w toku i parametr `generation` ma wartość 2, metoda czeka do momentu zakończenia kolekcji w tle, wyzwala kolekcję blokującą 2. generacji, a następnie zwraca wartość.</span><span class="sxs-lookup"><span data-stu-id="be012-129">If a background collection is in progress and the `generation` parameter is 2, the method waits until the background collection is finished, triggers a blocking generation 2 collection, and then returns.</span></span>|<span data-ttu-id="be012-130">Kolekcja jest wykonywana najszybciej, jak to możliwe.</span><span class="sxs-lookup"><span data-stu-id="be012-130">A collection is performed as soon as possible.</span></span> <span data-ttu-id="be012-131">Metoda <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> żąda kolekcji w tle, ale nie jest to gwarantowane; w zależności od okoliczności nadal może być wykonywana kolekcja blokująca.</span><span class="sxs-lookup"><span data-stu-id="be012-131">The <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> method requests a background collection, but this is not guaranteed; depending on the circumstances, a blocking collection may still be performed.</span></span> <span data-ttu-id="be012-132">Jeśli kolekcja w tle jest już w toku, Metoda wraca natychmiast.</span><span class="sxs-lookup"><span data-stu-id="be012-132">If a background collection is already in progress, the method returns immediately.</span></span>|  
|<xref:System.GCCollectionMode.Optimized>|<span data-ttu-id="be012-133">Może być wykonywana kolekcja blokująca, w zależności od stanu modułu wyrzucania elementów bezużytecznych i parametru `generation`.</span><span class="sxs-lookup"><span data-stu-id="be012-133">A blocking collection may be performed, depending on the state of the garbage collector and the `generation` parameter.</span></span> <span data-ttu-id="be012-134">Moduł wyrzucania elementów bezużytecznych próbuje zapewnić optymalną wydajność.</span><span class="sxs-lookup"><span data-stu-id="be012-134">The garbage collector tries to provide optimal performance.</span></span>|<span data-ttu-id="be012-135">Kolekcję można wykonać w zależności od stanu modułu wyrzucania elementów bezużytecznych.</span><span class="sxs-lookup"><span data-stu-id="be012-135">A collection may be performed, depending on the state of the garbage collector.</span></span> <span data-ttu-id="be012-136">Metoda <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> żąda kolekcji w tle, ale nie jest to gwarantowane; w zależności od okoliczności nadal może być wykonywana kolekcja blokująca.</span><span class="sxs-lookup"><span data-stu-id="be012-136">The <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> method requests a background collection, but this is not guaranteed; depending on the circumstances, a blocking collection may still be performed.</span></span> <span data-ttu-id="be012-137">Moduł wyrzucania elementów bezużytecznych próbuje zapewnić optymalną wydajność.</span><span class="sxs-lookup"><span data-stu-id="be012-137">The garbage collector tries to provide optimal performance.</span></span> <span data-ttu-id="be012-138">Jeśli kolekcja w tle jest już w toku, Metoda wraca natychmiast.</span><span class="sxs-lookup"><span data-stu-id="be012-138">If a background collection is already in progress, the method returns immediately.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="be012-139">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="be012-139">See also</span></span>

- [<span data-ttu-id="be012-140">Tryby opóźnienia</span><span class="sxs-lookup"><span data-stu-id="be012-140">Latency Modes</span></span>](../../../docs/standard/garbage-collection/latency.md)
- [<span data-ttu-id="be012-141">Odzyskiwanie pamięci</span><span class="sxs-lookup"><span data-stu-id="be012-141">Garbage Collection</span></span>](../../../docs/standard/garbage-collection/index.md)
