---
title: "Tryby opóźnienia"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- garbage collection, intrusiveness
- garbage collection, latency modes
ms.assetid: 96278bb7-6eab-4612-8594-ceebfc887d81
caps.latest.revision: "41"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.workload:
- dotnet
- dotnetcore
ms.openlocfilehash: d0ac0db376ad7cd4aa139ed0eb065a5ba33836c8
ms.sourcegitcommit: e7f04439d78909229506b56935a1105a4149ff3d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/23/2017
---
# <a name="latency-modes"></a><span data-ttu-id="9d9dc-102">Tryby opóźnienia</span><span class="sxs-lookup"><span data-stu-id="9d9dc-102">Latency Modes</span></span>
<span data-ttu-id="9d9dc-103">Aby odzyskać obiektów, moduł zbierający elementy bezużyteczne należy zatrzymać wszystkie wątki wykonywane w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-103">To reclaim objects, the garbage collector must stop all the executing threads in an application.</span></span> <span data-ttu-id="9d9dc-104">W niektórych sytuacjach, na przykład w przypadku aplikacji pobiera dane lub wyświetla zawartość pełnego wyrzucania elementów bezużytecznych mogą wystąpić jednocześnie krytyczne i utrudniać wydajności.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-104">In some situations, such as when an application retrieves data or displays content, a full garbage collection can occur at a critical time and impede performance.</span></span> <span data-ttu-id="9d9dc-105">Przez ustawienie można dostosować intrusiveness modułu zbierającego elementy bezużyteczne <xref:System.Runtime.GCSettings.LatencyMode%2A?displayProperty=nameWithType> jedną z właściwości <xref:System.Runtime.GCLatencyMode?displayProperty=nameWithType> wartości.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-105">You can adjust the intrusiveness of the garbage collector by setting the <xref:System.Runtime.GCSettings.LatencyMode%2A?displayProperty=nameWithType> property to one of the <xref:System.Runtime.GCLatencyMode?displayProperty=nameWithType> values.</span></span>  
  
 <span data-ttu-id="9d9dc-106">Czas oczekiwania odwołuje się do czasu, który narusza modułu zbierającego elementy bezużyteczne w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-106">Latency refers to the time that the garbage collector intrudes in your application.</span></span> <span data-ttu-id="9d9dc-107">W okresach, małe opóźnienia moduł zbierający elementy bezużyteczne jest bardziej zachowawcze i ta opcja jest mniej pożądana w odzyskiwanie obiektów.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-107">During low latency periods, the garbage collector is more conservative and less intrusive in reclaiming objects.</span></span> <span data-ttu-id="9d9dc-108"><xref:System.Runtime.GCLatencyMode?displayProperty=nameWithType> Wyliczenie zawiera dwa ustawienia małe opóźnienia:</span><span class="sxs-lookup"><span data-stu-id="9d9dc-108">The <xref:System.Runtime.GCLatencyMode?displayProperty=nameWithType> enumeration provides two low latency settings:</span></span>  
  
-   <span data-ttu-id="9d9dc-109"><xref:System.Runtime.GCLatencyMode.LowLatency>Pomija generacji 2, a następnie wykonuje tylko kolekcje generacji 0 i 1.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-109"><xref:System.Runtime.GCLatencyMode.LowLatency> suppresses generation 2 collections and performs only generation 0 and 1 collections.</span></span> <span data-ttu-id="9d9dc-110">Może służyć tylko w krótkich okresach czasu.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-110">It can be used only for short periods of time.</span></span> <span data-ttu-id="9d9dc-111">Przez dłuższy czas system występuje duże wykorzystanie pamięci, moduł zbierający elementy bezużyteczne wyzwoli kolekcji krótko można wstrzymać aplikacji i zakłócić wrażliwego na czas operacji.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-111">Over longer periods, if the system is under memory pressure, the garbage collector will trigger a collection, which can briefly pause the application and disrupt a time-critical operation.</span></span> <span data-ttu-id="9d9dc-112">To ustawienie jest dostępne tylko w przypadku stacji roboczej wyrzucanie elementów bezużytecznych.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-112">This setting is available only for workstation garbage collection.</span></span>  
  
-   <span data-ttu-id="9d9dc-113"><xref:System.Runtime.GCLatencyMode.SustainedLowLatency>Pomija kolekcje generacji 2 pierwszego planu i przeprowadza tylko generacji 0, 1 i kolekcje generacji 2 tła.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-113"><xref:System.Runtime.GCLatencyMode.SustainedLowLatency> suppresses foreground generation 2 collections and performs only generation 0, 1, and background generation 2 collections.</span></span> <span data-ttu-id="9d9dc-114">Może służyć do dłuższy czas i jest dostępny dla zarówno stacji roboczej i serwerze wyrzucanie elementów bezużytecznych.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-114">It can be used for longer periods of time, and is available for both workstation and server garbage collection.</span></span> <span data-ttu-id="9d9dc-115">Nie można użyć tego ustawienia, jeśli [współbieżne odzyskiwanie pamięci](../../../docs/framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) jest wyłączona.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-115">This setting cannot be used if [concurrent garbage collection](../../../docs/framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) is disabled.</span></span>  
  
 <span data-ttu-id="9d9dc-116">W okresach, małe opóźnienia kolekcje generacji 2 są pomijane, chyba że są następujące operacje:</span><span class="sxs-lookup"><span data-stu-id="9d9dc-116">During low latency periods, generation 2 collections are suppressed unless the following occurs:</span></span>  
  
-   <span data-ttu-id="9d9dc-117">System otrzyma powiadomienie o małej ilości pamięci systemu operacyjnego.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-117">The system receives a low memory notification from the operating system.</span></span>  
  
-   <span data-ttu-id="9d9dc-118">Kod aplikacji wywołuje kolekcji, wywołując <xref:System.GC.Collect%2A?displayProperty=nameWithType> — metoda i określając 2 dla `generation` parametru.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-118">Your application code induces a collection by calling the <xref:System.GC.Collect%2A?displayProperty=nameWithType> method and specifying 2 for the `generation` parameter.</span></span>  
  
 <span data-ttu-id="9d9dc-119">W poniższej tabeli wymieniono scenariusze aplikacji przy użyciu <xref:System.Runtime.GCLatencyMode> wartości.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-119">The following table lists the application scenarios for using the <xref:System.Runtime.GCLatencyMode> values.</span></span>  
  
|<span data-ttu-id="9d9dc-120">Tryb opóźnienia</span><span class="sxs-lookup"><span data-stu-id="9d9dc-120">Latency mode</span></span>|<span data-ttu-id="9d9dc-121">Scenariusze aplikacji</span><span class="sxs-lookup"><span data-stu-id="9d9dc-121">Application scenarios</span></span>|  
|------------------|---------------------------|  
|<xref:System.Runtime.GCLatencyMode.Batch>|<span data-ttu-id="9d9dc-122">Dla aplikacji, które nie zawierają interfejsu użytkownika ani operacji po stronie serwera.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-122">For applications that have no UI or server-side operations.</span></span><br /><br /> <span data-ttu-id="9d9dc-123">Jest to domyślny tryb podczas [współbieżne odzyskiwanie pamięci](../../../docs/framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) jest wyłączona.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-123">This is the default mode when [concurrent garbage collection](../../../docs/framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) is disabled.</span></span>|  
|<xref:System.Runtime.GCLatencyMode.Interactive>|<span data-ttu-id="9d9dc-124">Dla większości aplikacji, które mają interfejsu użytkownika.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-124">For most applications that have a UI.</span></span><br /><br /> <span data-ttu-id="9d9dc-125">Jest to domyślny tryb podczas [współbieżne odzyskiwanie pamięci](../../../docs/framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) jest włączona.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-125">This is the default mode when [concurrent garbage collection](../../../docs/framework/configure-apps/file-schema/runtime/gcconcurrent-element.md) is enabled.</span></span>|  
|<xref:System.Runtime.GCLatencyMode.LowLatency>|<span data-ttu-id="9d9dc-126">Dla aplikacji, które mają operacji krótkoterminowej, zależne od czasu, w których może stanowić zakłócenie przerw w działaniu z modułu zbierającego elementy bezużyteczne.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-126">For applications that have short-term, time-sensitive operations during which interruptions from the garbage collector could be disruptive.</span></span> <span data-ttu-id="9d9dc-127">Na przykład aplikacje, które czy renderowania lub dane funkcji nabycia animacji.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-127">For example, applications that do animation rendering or data acquisition functions.</span></span>|  
|<xref:System.Runtime.GCLatencyMode.SustainedLowLatency>|<span data-ttu-id="9d9dc-128">Dla aplikacji, które mają harmonogramów działań zawartych w niej jednak potencjalnie dłuższy okres czasu, w którym może stanowić zakłócenie przerw w działaniu z modułu zbierającego elementy bezużyteczne.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-128">For applications that have time-sensitive operations for a contained but potentially longer duration of time during which interruptions from the garbage collector could be disruptive.</span></span> <span data-ttu-id="9d9dc-129">Na przykład aplikacje wymagające szybkich odpowiedzi razy zmiany danych z rynku handlowym godzinach.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-129">For example, applications that need quick response times as market data changes during trading hours.</span></span><br /><br /> <span data-ttu-id="9d9dc-130">W tym trybie powoduje zwiększenie rozmiaru sterty zarządzanej niż innych trybów.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-130">This mode results in a larger managed heap size than other modes.</span></span> <span data-ttu-id="9d9dc-131">Ponieważ go nie skompaktować sterty zarządzanej, możliwe jest wyższy fragmentacji.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-131">Because it does not compact the managed heap, higher fragmentation is possible.</span></span> <span data-ttu-id="9d9dc-132">Upewnij się, że jest dostępna wystarczająca ilość pamięci.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-132">Ensure that sufficient memory is available.</span></span>|  
  
## <a name="guidelines-for-using-low-latency"></a><span data-ttu-id="9d9dc-133">Wskazówki dotyczące używania małe opóźnienia</span><span class="sxs-lookup"><span data-stu-id="9d9dc-133">Guidelines for Using Low Latency</span></span>  
 <span data-ttu-id="9d9dc-134">Jeśli używasz <xref:System.Runtime.GCLatencyMode.LowLatency> trybie, należy wziąć pod uwagę następujące wytyczne:</span><span class="sxs-lookup"><span data-stu-id="9d9dc-134">When you use <xref:System.Runtime.GCLatencyMode.LowLatency> mode, consider the following guidelines:</span></span>  
  
-   <span data-ttu-id="9d9dc-135">Należy małych opóźnieniach możliwie krótki okres.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-135">Keep the period of time in low latency as short as possible.</span></span>  
  
-   <span data-ttu-id="9d9dc-136">Unikać wysokiej ilości pamięci w okresach, małe opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-136">Avoid allocating high amounts of memory during low latency periods.</span></span> <span data-ttu-id="9d9dc-137">Powiadomienia o małej ilości pamięci może być spowodowany pamięci zwraca mniejszą liczbę obiektów.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-137">Low memory notifications can occur because garbage collection reclaims fewer objects.</span></span>  
  
-   <span data-ttu-id="9d9dc-138">W trybie małych opóźnieniach zminimalizować liczbę alokacji przez użytkownika, w szczególności alokacje na sterty dużych obiektów, a następnie unieruchomionych obiektów znajdujących się.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-138">While in the low latency mode, minimize the number of allocations you make, in particular allocations onto the Large Object Heap and pinned objects.</span></span>  
  
-   <span data-ttu-id="9d9dc-139">Należy pamiętać o wątków, które można alokacji.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-139">Be aware of threads that could be allocating.</span></span> <span data-ttu-id="9d9dc-140">Ponieważ <xref:System.Runtime.GCSettings.LatencyMode%2A> ustawienie właściwości jest całego procesu, można wygenerować <xref:System.OutOfMemoryException> w którymkolwiek wątku, który może być alokacji.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-140">Because the <xref:System.Runtime.GCSettings.LatencyMode%2A> property setting is process-wide, you could generate an <xref:System.OutOfMemoryException> on any thread that may be allocating.</span></span>  
  
-   <span data-ttu-id="9d9dc-141">Zawijanie kodu małe opóźnienia w ograniczone regiony wykonania (Aby uzyskać więcej informacji, zobacz [ograniczone regiony wykonania](../../../docs/framework/performance/constrained-execution-regions.md)).</span><span class="sxs-lookup"><span data-stu-id="9d9dc-141">Wrap the low latency code in constrained execution regions (for more information, see [Constrained Execution Regions](../../../docs/framework/performance/constrained-execution-regions.md)).</span></span>  
  
-   <span data-ttu-id="9d9dc-142">Kolekcje generacji 2 można wymusić okresie małe opóźnienia przez wywołanie metody <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%29?displayProperty=nameWithType> metody.</span><span class="sxs-lookup"><span data-stu-id="9d9dc-142">You can force generation 2 collections during a low latency period by calling the <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%29?displayProperty=nameWithType> method.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9d9dc-143">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="9d9dc-143">See Also</span></span>  
 <xref:System.GC?displayProperty=nameWithType>  
 [<span data-ttu-id="9d9dc-144">Wywołane kolekcje</span><span class="sxs-lookup"><span data-stu-id="9d9dc-144">Induced Collections</span></span>](../../../docs/standard/garbage-collection/induced.md)  
 [<span data-ttu-id="9d9dc-145">Odzyskiwanie pamięci</span><span class="sxs-lookup"><span data-stu-id="9d9dc-145">Garbage Collection</span></span>](../../../docs/standard/garbage-collection/index.md)
