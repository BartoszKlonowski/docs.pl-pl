---
title: Monitorowanie zasobów domen aplikacji
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- monitoring managed memory use by application domain
- application domains, memory use
- memory use, monitoring
- application domains, resource monitoring
ms.assetid: 318bedf8-7f35-4f00-b34a-2b7b8e3fa315
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 50d601d711579bce2e2651a1efc65d824a50d47a
ms.sourcegitcommit: daa8788af67ac2d1cecd24f9f3409babb2f978c9
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/01/2018
ms.locfileid: "47863159"
---
# <a name="application-domain-resource-monitoring"></a><span data-ttu-id="cfa51-102">Monitorowanie zasobów domen aplikacji</span><span class="sxs-lookup"><span data-stu-id="cfa51-102">Application Domain Resource Monitoring</span></span>
<span data-ttu-id="cfa51-103">(ARM) do monitorowania zasobów domen aplikacji włącza hosty do monitorowania wykorzystania procesora CPU i pamięci przez domenę aplikacji.</span><span class="sxs-lookup"><span data-stu-id="cfa51-103">Application domain resource monitoring (ARM) enables hosts to monitor CPU and memory usage by application domain.</span></span> <span data-ttu-id="cfa51-104">Jest to przydatne w przypadku hostów takich jak ASP.NET, korzystających z wielu domen aplikacji w procesie długotrwałych.</span><span class="sxs-lookup"><span data-stu-id="cfa51-104">This is useful for hosts such as ASP.NET that use many application domains in a long-running process.</span></span> <span data-ttu-id="cfa51-105">Host może zwolnienie domeny aplikacji w aplikacji, która jest negatywnego wpływu na wydajność całego procesu, ale tylko wtedy, gdy go zidentyfikować problematyczne aplikacji.</span><span class="sxs-lookup"><span data-stu-id="cfa51-105">The host can unload the application domain of an application that is adversely affecting the performance of the entire process, but only if it can identify the problematic application.</span></span> <span data-ttu-id="cfa51-106">ARM zawiera informacje, które mogą służyć do celów w podejmowaniu decyzji.</span><span class="sxs-lookup"><span data-stu-id="cfa51-106">ARM provides information that can be used to assist in making such decisions.</span></span>  
  
 <span data-ttu-id="cfa51-107">Na przykład Usługa hostingu może mieć wiele aplikacji uruchomionych na serwerze programu ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="cfa51-107">For example, a hosting service might have many applications running on an ASP.NET server.</span></span> <span data-ttu-id="cfa51-108">Po rozpoczęciu zużywa zbyt dużej ilości pamięci lub zbyt dużo czasu procesora przez jedną aplikację w procesie usługi hostingowej służy ARM do identyfikowania domeny aplikacji, który jest przyczyną problemu.</span><span class="sxs-lookup"><span data-stu-id="cfa51-108">If one application in the process begins consuming too much memory or too much processor time, the hosting service can use ARM to identify the application domain that is causing the problem.</span></span>  
  
 <span data-ttu-id="cfa51-109">ARM jest wystarczająco uproszczone do użycia w aplikacji na żywo.</span><span class="sxs-lookup"><span data-stu-id="cfa51-109">ARM is sufficiently lightweight to use in live applications.</span></span> <span data-ttu-id="cfa51-110">Za dostęp do informacji za pomocą śledzenia zdarzeń dla Windows (ETW) lub bezpośrednio w ramach zarządzanych lub natywnych interfejsów API.</span><span class="sxs-lookup"><span data-stu-id="cfa51-110">You can access the information by using event tracing for Windows (ETW) or directly through managed or native APIs.</span></span>  
  
## <a name="enabling-resource-monitoring"></a><span data-ttu-id="cfa51-111">Włączanie monitorowania zasobu</span><span class="sxs-lookup"><span data-stu-id="cfa51-111">Enabling Resource Monitoring</span></span>  
 <span data-ttu-id="cfa51-112">ARM można włączyć na cztery sposoby: poprzez dostarczenie pliku konfiguracji, gdy środowisko uruchomieniowe języka wspólnego (CLR) została uruchomiona, przy użyciu niezarządzanych hostowanie interfejsu API przy użyciu kodu zarządzanego lub przez nasłuchiwanie zdarzeń ARM ETW.</span><span class="sxs-lookup"><span data-stu-id="cfa51-112">ARM can be enabled in four ways: by supplying a configuration file when the common language runtime (CLR) is started, by using an unmanaged hosting API, by using managed code, or by listening to ARM ETW events.</span></span>  
  
 <span data-ttu-id="cfa51-113">Zaraz po włączeniu ARM rozpoczyna zbieranie danych na wszystkie domeny aplikacji, w tym procesie. Jeśli domena aplikacji zostało utworzone przed włączeniem ARM, skumulowane dane rozpoczyna się po włączeniu ARM nie, podczas tworzenia domeny aplikacji. Gdy jest włączone, nie można wyłączyć ARM.</span><span class="sxs-lookup"><span data-stu-id="cfa51-113">As soon as ARM is enabled, it begins collecting data on all application domains in the process.If an application domain was created before ARM is enabled, cumulative data starts when ARM is enabled, not when the application domain was created.Once it is enabled, ARM cannot be disabled.</span></span>  
  
-   <span data-ttu-id="cfa51-114">ARM można włączyć podczas uruchamiania środowiska CLR, dodając [ \<appdomainresourcemonitoring — >](../../../docs/framework/configure-apps/file-schema/runtime/appdomainresourcemonitoring-element.md) element do pliku konfiguracji, a ustawienie `enabled` atrybutu `true`.</span><span class="sxs-lookup"><span data-stu-id="cfa51-114">You can enable ARM at CLR startup by adding the [\<appDomainResourceMonitoring>](../../../docs/framework/configure-apps/file-schema/runtime/appdomainresourcemonitoring-element.md) element to the configuration file, and setting the `enabled` attribute to `true`.</span></span> <span data-ttu-id="cfa51-115">Wartość `false` (ustawienie domyślne) oznacza jedynie, że ARM nie jest włączone przy uruchamianiu; aktywować go później przy użyciu jednego z innych mechanizmów aktywacji.</span><span class="sxs-lookup"><span data-stu-id="cfa51-115">A value of `false` (the default) means only that ARM is not enabled at startup; you can activate it later by using one of the other activation mechanisms.</span></span>  
  
-   <span data-ttu-id="cfa51-116">Hosta można włączyć ARM, żądając [ICLRAppDomainResourceMonitor](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-interface.md) interfejs hosta.</span><span class="sxs-lookup"><span data-stu-id="cfa51-116">The host can enable ARM by requesting the [ICLRAppDomainResourceMonitor](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-interface.md) hosting interface.</span></span> <span data-ttu-id="cfa51-117">Po pomyślnym uzyskaniu ten interfejs jest włączone ARM.</span><span class="sxs-lookup"><span data-stu-id="cfa51-117">Once this interface is successfully obtained, ARM is enabled.</span></span>  
  
-   <span data-ttu-id="cfa51-118">Kod zarządzany, można włączyć ARM przez ustawienie statycznego (`Shared` w języku Visual Basic) <xref:System.AppDomain.MonitoringIsEnabled%2A?displayProperty=nameWithType> właściwość `true`.</span><span class="sxs-lookup"><span data-stu-id="cfa51-118">Managed code can enable ARM by setting the static (`Shared` in Visual Basic) <xref:System.AppDomain.MonitoringIsEnabled%2A?displayProperty=nameWithType> property to `true`.</span></span> <span data-ttu-id="cfa51-119">Jak najszybciej zostaje ustalona ARM jest włączona.</span><span class="sxs-lookup"><span data-stu-id="cfa51-119">As soon as the property is set, ARM is enabled.</span></span>  
  
-   <span data-ttu-id="cfa51-120">Aby włączyć ARM po uruchomieniu, nasłuchiwać zdarzeń ETW.</span><span class="sxs-lookup"><span data-stu-id="cfa51-120">You can enable ARM after startup by listening to ETW events.</span></span> <span data-ttu-id="cfa51-121">ARM jest włączona i rozpoczyna się wywoływanie zdarzeń, dla wszystkich domen aplikacji, po włączeniu publicznego dostawcę `Microsoft-Windows-DotNETRuntime` przy użyciu `AppDomainResourceManagementKeyword` — słowo kluczowe.</span><span class="sxs-lookup"><span data-stu-id="cfa51-121">ARM is enabled and begins raising events for all application domains when you enable the public provider `Microsoft-Windows-DotNETRuntime` by using the `AppDomainResourceManagementKeyword` keyword.</span></span> <span data-ttu-id="cfa51-122">Korelowanie danych z domenami aplikacji i wątków, należy również włączyć `Microsoft-Windows-DotNETRuntimeRundown` dostawcy o `ThreadingKeyword` — słowo kluczowe.</span><span class="sxs-lookup"><span data-stu-id="cfa51-122">To correlate data with application domains and threads, you must also enable the `Microsoft-Windows-DotNETRuntimeRundown` provider with the `ThreadingKeyword` keyword.</span></span>  
  
## <a name="using-arm"></a><span data-ttu-id="cfa51-123">Za pomocą ARM</span><span class="sxs-lookup"><span data-stu-id="cfa51-123">Using ARM</span></span>  
 <span data-ttu-id="cfa51-124">ARM zapewnia całkowitego czasu procesora, używanego przez domenę aplikacji i trzy rodzaje informacji na temat użycia pamięci.</span><span class="sxs-lookup"><span data-stu-id="cfa51-124">ARM provides the total processor time that is used by an application domain and three kinds of information about memory use.</span></span>  
  
-   <span data-ttu-id="cfa51-125">**Łączny czas procesora dla domeny aplikacji, w ciągu kilku sekund**: to jest obliczany przez zsumowanie razy wątku zgłoszony przez system operacyjny dla wszystkich wątków, w których czas wykonywania w domenie aplikacji, jego okres istnienia.</span><span class="sxs-lookup"><span data-stu-id="cfa51-125">**Total processor time for an application domain, in seconds**: This is calculated by adding up the thread times reported by the operating system for all threads that spent time executing in the application domain during its lifetime.</span></span> <span data-ttu-id="cfa51-126">Zablokowane lub uśpionych wątków nie należy używać czasu procesora.</span><span class="sxs-lookup"><span data-stu-id="cfa51-126">Blocked or sleeping threads do not use processor time.</span></span> <span data-ttu-id="cfa51-127">Gdy wątek wywołuje kod natywny, czas, jaki wątek zużywa w kodzie natywnym znajduje się w liczbę elementów w domenie aplikacji, w którym wykonano wywołanie.</span><span class="sxs-lookup"><span data-stu-id="cfa51-127">When a thread calls into native code, the time that the thread spends in native code is included in the count for the application domain where the call was made.</span></span>  
  
    -   <span data-ttu-id="cfa51-128">Zarządzany interfejs API: <xref:System.AppDomain.MonitoringTotalProcessorTime%2A?displayProperty=nameWithType> właściwości.</span><span class="sxs-lookup"><span data-stu-id="cfa51-128">Managed API: <xref:System.AppDomain.MonitoringTotalProcessorTime%2A?displayProperty=nameWithType> property.</span></span>  
  
    -   <span data-ttu-id="cfa51-129">Hostowanie interfejsu API: [iclrappdomainresourcemonitor::getcurrentcputime —](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentcputime-method.md) metody.</span><span class="sxs-lookup"><span data-stu-id="cfa51-129">Hosting API: [ICLRAppDomainResourceMonitor::GetCurrentCpuTime](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentcputime-method.md) method.</span></span>  
  
    -   <span data-ttu-id="cfa51-130">Zdarzenia ETW: `ThreadCreated`, `ThreadAppDomainEnter`, i `ThreadTerminated` zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="cfa51-130">ETW events: `ThreadCreated`, `ThreadAppDomainEnter`, and `ThreadTerminated` events.</span></span> <span data-ttu-id="cfa51-131">Dla informacji o dostawcy i słów kluczowych, zobacz "Zdarzenia monitorowania zasobów obiektu AppDomain" w [CLR ETW Events](../../../docs/framework/performance/clr-etw-events.md).</span><span class="sxs-lookup"><span data-stu-id="cfa51-131">For information about providers and keywords, see "AppDomain Resource Monitoring Events" in [CLR ETW Events](../../../docs/framework/performance/clr-etw-events.md).</span></span>  
  
-   <span data-ttu-id="cfa51-132">**Łączna liczba zarządzanych alokacji dokonanych przez domenę aplikacji, jego okres istnienia w bajtach**: całkowitą alokacji nie zawsze odzwierciedla użycia pamięci przez domenę aplikacji, ponieważ przydzielone obiekty mogą być krótkotrwałe.</span><span class="sxs-lookup"><span data-stu-id="cfa51-132">**Total managed allocations made by an application domain during its lifetime, in bytes**: Total allocations do not always reflect memory use by an application domain, because the allocated objects might be short-lived.</span></span> <span data-ttu-id="cfa51-133">Jednak jeśli aplikacja przydziela i zwalnia ogromną liczbę obiektów, koszt alokacje może być istotne.</span><span class="sxs-lookup"><span data-stu-id="cfa51-133">However, if an application allocates and frees huge numbers of objects, the cost of the allocations could be significant.</span></span>  
  
    -   <span data-ttu-id="cfa51-134">Zarządzany interfejs API: <xref:System.AppDomain.MonitoringTotalAllocatedMemorySize%2A?displayProperty=nameWithType> właściwości.</span><span class="sxs-lookup"><span data-stu-id="cfa51-134">Managed API: <xref:System.AppDomain.MonitoringTotalAllocatedMemorySize%2A?displayProperty=nameWithType> property.</span></span>  
  
    -   <span data-ttu-id="cfa51-135">Hostowanie interfejsu API: [iclrappdomainresourcemonitor::getcurrentallocated —](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentallocated-method.md) metody.</span><span class="sxs-lookup"><span data-stu-id="cfa51-135">Hosting API: [ICLRAppDomainResourceMonitor::GetCurrentAllocated](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentallocated-method.md) method.</span></span>  
  
    -   <span data-ttu-id="cfa51-136">Zdarzenia ETW: `AppDomainMemAllocated` zdarzenia `Allocated` pola.</span><span class="sxs-lookup"><span data-stu-id="cfa51-136">ETW events: `AppDomainMemAllocated` event, `Allocated` field.</span></span>  
  
-   <span data-ttu-id="cfa51-137">**Zarządzane pamięci w bajtach, która odwołuje się do domeny aplikacji i które przetrwały najnowszych pełnej, blokowanie pamięci**: Ta liczba jest dokładne dopiero po pełnej, blokowanie pamięci.</span><span class="sxs-lookup"><span data-stu-id="cfa51-137">**Managed memory, in bytes, that is referenced by an application domain and that survived the most recent full, blocking collection**: This number is accurate only after a full, blocking collection.</span></span> <span data-ttu-id="cfa51-138">(To w przeciwieństwie do kolekcji współbieżnych, które występują w tle i nie zablokują aplikacji). Na przykład <xref:System.GC.Collect?displayProperty=nameWithType> przeciążenie metody powoduje, że pełne, blokowanie pamięci.</span><span class="sxs-lookup"><span data-stu-id="cfa51-138">(This is in contrast to concurrent collections, which occur in the background and do not block the application.) For example, the <xref:System.GC.Collect?displayProperty=nameWithType> method overload causes a full, blocking collection.</span></span>  
  
    -   <span data-ttu-id="cfa51-139">Zarządzany interfejs API: <xref:System.AppDomain.MonitoringSurvivedMemorySize%2A?displayProperty=nameWithType> właściwości.</span><span class="sxs-lookup"><span data-stu-id="cfa51-139">Managed API: <xref:System.AppDomain.MonitoringSurvivedMemorySize%2A?displayProperty=nameWithType> property.</span></span>  
  
    -   <span data-ttu-id="cfa51-140">Hostowanie interfejsu API: [iclrappdomainresourcemonitor::getcurrentsurvived —](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentsurvived-method.md) metody `pAppDomainBytesSurvived` parametru.</span><span class="sxs-lookup"><span data-stu-id="cfa51-140">Hosting API: [ICLRAppDomainResourceMonitor::GetCurrentSurvived](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentsurvived-method.md) method, `pAppDomainBytesSurvived` parameter.</span></span>  
  
    -   <span data-ttu-id="cfa51-141">Zdarzenia ETW: `AppDomainMemSurvived` zdarzenia `Survived` pola.</span><span class="sxs-lookup"><span data-stu-id="cfa51-141">ETW events: `AppDomainMemSurvived` event, `Survived` field.</span></span>  
  
-   <span data-ttu-id="cfa51-142">**Łączna liczba zarządzanej pamięci w bajtach, który odwołuje się do niej proces i które przetrwały najnowszych pełnej, blokowanie pamięci**: pamięci przetrwałych dla poszczególnych aplikacji domen można porównać do tej liczby.</span><span class="sxs-lookup"><span data-stu-id="cfa51-142">**Total managed memory, in bytes, that is referenced by the process and that survived the most recent full, blocking collection**: The survived memory for individual application domains can be compared to this number.</span></span>  
  
    -   <span data-ttu-id="cfa51-143">Zarządzany interfejs API: <xref:System.AppDomain.MonitoringSurvivedProcessMemorySize%2A?displayProperty=nameWithType> właściwości.</span><span class="sxs-lookup"><span data-stu-id="cfa51-143">Managed API: <xref:System.AppDomain.MonitoringSurvivedProcessMemorySize%2A?displayProperty=nameWithType> property.</span></span>  
  
    -   <span data-ttu-id="cfa51-144">Hostowanie interfejsu API: [iclrappdomainresourcemonitor::getcurrentsurvived —](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentsurvived-method.md) metody `pTotalBytesSurvived` parametru.</span><span class="sxs-lookup"><span data-stu-id="cfa51-144">Hosting API: [ICLRAppDomainResourceMonitor::GetCurrentSurvived](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-getcurrentsurvived-method.md) method, `pTotalBytesSurvived` parameter.</span></span>  
  
    -   <span data-ttu-id="cfa51-145">Zdarzenia ETW: `AppDomainMemSurvived` zdarzenia `ProcessSurvived` pola.</span><span class="sxs-lookup"><span data-stu-id="cfa51-145">ETW events: `AppDomainMemSurvived` event, `ProcessSurvived` field.</span></span>  
  
### <a name="determining-when-a-full-blocking-collection-occurs"></a><span data-ttu-id="cfa51-146">Określanie podczas pełnego, blokowanie pamięci występuje</span><span class="sxs-lookup"><span data-stu-id="cfa51-146">Determining When a Full, Blocking Collection Occurs</span></span>  
 <span data-ttu-id="cfa51-147">Aby określić, kiedy są dokładne liczniki pamięci przetrwałych, musisz wiedzieć, kiedy tylko wystąpił pełną kolekcję blokowania.</span><span class="sxs-lookup"><span data-stu-id="cfa51-147">To determine when counts of survived memory are accurate, you need to know when a full, blocking collection has just occurred.</span></span> <span data-ttu-id="cfa51-148">Metoda w ten sposób zależy od interfejsu API umożliwia zbadanie statystyki ARM.</span><span class="sxs-lookup"><span data-stu-id="cfa51-148">The method for doing this depends on the API you use to examine ARM statistics.</span></span>  
  
#### <a name="managed-api"></a><span data-ttu-id="cfa51-149">Zarządzany interfejs API</span><span class="sxs-lookup"><span data-stu-id="cfa51-149">Managed API</span></span>  
 <span data-ttu-id="cfa51-150">Jeśli używasz właściwości <xref:System.AppDomain> klasy, można użyć <xref:System.GC.RegisterForFullGCNotification%2A?displayProperty=nameWithType> metodę, aby zarejestrować powiadamiania o pełnej kolekcji.</span><span class="sxs-lookup"><span data-stu-id="cfa51-150">If you use the properties of the <xref:System.AppDomain> class, you can use the <xref:System.GC.RegisterForFullGCNotification%2A?displayProperty=nameWithType> method to register for notification of full collections.</span></span> <span data-ttu-id="cfa51-151">Próg, którego używasz nie jest istotna, ponieważ oczekiwania na ukończenie kolekcji, a nie podejście kolekcji.</span><span class="sxs-lookup"><span data-stu-id="cfa51-151">The threshold you use is not important, because you are waiting for the completion of a collection rather than the approach of a collection.</span></span> <span data-ttu-id="cfa51-152">Następnie możesz wywołać <xref:System.GC.WaitForFullGCComplete%2A?displayProperty=nameWithType> metody, która blokuje, dopóki nie zakończy się zebranie pełnych.</span><span class="sxs-lookup"><span data-stu-id="cfa51-152">You can then call the <xref:System.GC.WaitForFullGCComplete%2A?displayProperty=nameWithType> method, which blocks until a full collection has completed.</span></span> <span data-ttu-id="cfa51-153">Można utworzyć wątku, który wywołuje metodę w pętli i wykonuje wszystkie niezbędne analizy, zawsze wtedy, gdy metoda ta zwraca.</span><span class="sxs-lookup"><span data-stu-id="cfa51-153">You can create a thread that calls the method in a loop and does any necessary analysis whenever the method returns.</span></span>  
  
 <span data-ttu-id="cfa51-154">Ewentualnie możesz wywołać <xref:System.GC.CollectionCount%2A?displayProperty=nameWithType> metoda okresowo, aby zobaczyć, jeśli został zwiększony liczba kolekcji generacji 2.</span><span class="sxs-lookup"><span data-stu-id="cfa51-154">Alternatively, you can call the <xref:System.GC.CollectionCount%2A?displayProperty=nameWithType> method periodically to see if the count of generation 2 collections has increased.</span></span> <span data-ttu-id="cfa51-155">W zależności od częstotliwości sondowania ta technika może nie być tak dokładne wskazanie wystąpienia zebranie pełnych.</span><span class="sxs-lookup"><span data-stu-id="cfa51-155">Depending on the polling frequency, this technique might not provide as accurate an indication of the occurrence of a full collection.</span></span>  
  
#### <a name="hosting-api"></a><span data-ttu-id="cfa51-156">Hostowanie interfejsu API</span><span class="sxs-lookup"><span data-stu-id="cfa51-156">Hosting API</span></span>  
 <span data-ttu-id="cfa51-157">Jeśli korzystasz z niezarządzanego API hostingu, hosta musi pomyślnie przejść CLR implementację [ihostgcmanager —](../../../docs/framework/unmanaged-api/hosting/ihostgcmanager-interface.md) interfejsu.</span><span class="sxs-lookup"><span data-stu-id="cfa51-157">If you use the unmanaged hosting API, your host must pass the CLR an implementation of the [IHostGCManager](../../../docs/framework/unmanaged-api/hosting/ihostgcmanager-interface.md) interface.</span></span> <span data-ttu-id="cfa51-158">CLR wywołuje [ihostgcmanager::suspensionending —](../../../docs/framework/unmanaged-api/hosting/ihostgcmanager-suspensionending-method.md) metody, gdy kontynuuje wykonywanie wątków, które zostało zawieszone, gdy występuje w kolekcji.</span><span class="sxs-lookup"><span data-stu-id="cfa51-158">The CLR calls the [IHostGCManager::SuspensionEnding](../../../docs/framework/unmanaged-api/hosting/ihostgcmanager-suspensionending-method.md) method when it resumes execution of threads that have been suspended while a collection occurs.</span></span> <span data-ttu-id="cfa51-159">Środowisko CLR przekazuje Generowanie ukończone kolekcji jako parametru metody, tak przyjmującym można określić, czy kolekcja została pełnej lub częściowej.</span><span class="sxs-lookup"><span data-stu-id="cfa51-159">The CLR passes the generation of the completed collection as a parameter of the method, so the host can determine whether the collection was full or partial.</span></span> <span data-ttu-id="cfa51-160">Implementacja [ihostgcmanager::suspensionending —](../../../docs/framework/unmanaged-api/hosting/ihostgcmanager-suspensionending-method.md) metoda wysłać zapytanie dotyczące pamięci przetrwałych, aby upewnić się, że liczby są pobierane, tak szybko, jak są one aktualizowane.</span><span class="sxs-lookup"><span data-stu-id="cfa51-160">Your implementation of the [IHostGCManager::SuspensionEnding](../../../docs/framework/unmanaged-api/hosting/ihostgcmanager-suspensionending-method.md) method can query for survived memory, to ensure that the counts are retrieved as soon as they are updated.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cfa51-161">Zobacz także</span><span class="sxs-lookup"><span data-stu-id="cfa51-161">See also</span></span>

- <xref:System.AppDomain.MonitoringIsEnabled%2A?displayProperty=nameWithType>  
- [<span data-ttu-id="cfa51-162">ICLRAppDomainResourceMonitor, interfejs</span><span class="sxs-lookup"><span data-stu-id="cfa51-162">ICLRAppDomainResourceMonitor Interface</span></span>](../../../docs/framework/unmanaged-api/hosting/iclrappdomainresourcemonitor-interface.md)  
- [<span data-ttu-id="cfa51-163">\<appDomainResourceMonitoring></span><span class="sxs-lookup"><span data-stu-id="cfa51-163">\<appDomainResourceMonitoring></span></span>](../../../docs/framework/configure-apps/file-schema/runtime/appdomainresourcemonitoring-element.md)  
- [<span data-ttu-id="cfa51-164">Zdarzenia CLR ETW</span><span class="sxs-lookup"><span data-stu-id="cfa51-164">CLR ETW Events</span></span>](../../../docs/framework/performance/clr-etw-events.md)
