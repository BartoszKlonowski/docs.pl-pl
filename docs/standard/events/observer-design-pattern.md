---
title: Wzorzec projektowy obserwatora
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-standard
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- IObserver(Of T) interface
- IObservable<T> interface
- IObserver<T> interface
- IObservable(Of T) interface
- observer design pattern [.NET Framework]
ms.assetid: 3680171f-f522-453c-aa4a-54f755a78f88
caps.latest.revision: "14"
author: rpetrusha
ms.author: ronpet
manager: wpickett
ms.openlocfilehash: 83663a28ac7ae19848552583f2ec39a5e96c7fdc
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 10/18/2017
---
# <a name="observer-design-pattern"></a><span data-ttu-id="1025e-102">Wzorzec projektowy obserwatora</span><span class="sxs-lookup"><span data-stu-id="1025e-102">Observer Design Pattern</span></span>
<span data-ttu-id="1025e-103">Wzorzec projektowy obserwatora umożliwia subskrybenta do rejestrowania i odbierania powiadomień od dostawcy.</span><span class="sxs-lookup"><span data-stu-id="1025e-103">The observer design pattern enables a subscriber to register with and receive notifications from a provider.</span></span> <span data-ttu-id="1025e-104">Jest to odpowiednie dla dowolnego scenariusz, który wymaga wypychania powiadomień.</span><span class="sxs-lookup"><span data-stu-id="1025e-104">It is suitable for any scenario that requires push-based notification.</span></span> <span data-ttu-id="1025e-105">Definiuje wzorzec *dostawcy* (znanej także jako *podmiotu* lub *według*) i zero, co najmniej jeden *obserwatorów*.</span><span class="sxs-lookup"><span data-stu-id="1025e-105">The pattern defines a *provider* (also known as a *subject* or an *observable*) and zero, one, or more *observers*.</span></span> <span data-ttu-id="1025e-106">Obserwatorów Zarejestruj dostawcę i zawsze, gdy wstępnie zdefiniowanego warunku, zdarzenia lub zmiana stanu występuje, dostawca automatycznie powiadamia wszystkich obserwatorów przez wywołanie metody ich.</span><span class="sxs-lookup"><span data-stu-id="1025e-106">Observers register with the provider, and whenever a predefined condition, event, or state change occurs, the provider automatically notifies all observers by calling one of their methods.</span></span> <span data-ttu-id="1025e-107">W tym wywołaniu metody dostawcę można też podać informacje o bieżącym stanie do obserwatorów.</span><span class="sxs-lookup"><span data-stu-id="1025e-107">In this method call, the provider can also provide current state information to observers.</span></span> <span data-ttu-id="1025e-108">W programie .NET Framework wzorzec projektowy obserwatora jest stosowany przez zastosowanie ogólnego <xref:System.IObservable%601?displayProperty=nameWithType> i <xref:System.IObserver%601?displayProperty=nameWithType> interfejsów.</span><span class="sxs-lookup"><span data-stu-id="1025e-108">In the .NET Framework, the observer design pattern is applied by implementing the generic <xref:System.IObservable%601?displayProperty=nameWithType> and <xref:System.IObserver%601?displayProperty=nameWithType> interfaces.</span></span> <span data-ttu-id="1025e-109">Parametr typu ogólnego reprezentuje typ, który zawiera informacje powiadomień.</span><span class="sxs-lookup"><span data-stu-id="1025e-109">The generic type parameter represents the type that provides notification information.</span></span>  
  
## <a name="applying-the-pattern"></a><span data-ttu-id="1025e-110">Stosowanie wzorcu</span><span class="sxs-lookup"><span data-stu-id="1025e-110">Applying the Pattern</span></span>  
 <span data-ttu-id="1025e-111">Wzorzec projektowy obserwatora jest odpowiedniej dla powiadomień wypychanych na podstawie rozproszonej, ponieważ obsługuje on czyste rozdzielenie dwóch różnych składników lub warstwy aplikacji, takich jak warstwy (logika biznesowa) źródło danych i warstwy interfejsu (wyświetlanie) użytkownika.</span><span class="sxs-lookup"><span data-stu-id="1025e-111">The observer design pattern is suitable for distributed push-based notifications, because it supports a clean separation between two different components or application layers, such as a data source (business logic) layer and a user interface (display) layer.</span></span> <span data-ttu-id="1025e-112">Można zaimplementować wzorzec zawsze, gdy dostawca używa wywołań zwrotnych do dostarczania klientom przy użyciu bieżących informacji.</span><span class="sxs-lookup"><span data-stu-id="1025e-112">The pattern can be implemented whenever a provider uses callbacks to supply its clients with current information.</span></span>  
  
 <span data-ttu-id="1025e-113">Implementacja wzorca wymaga podania następujących czynności:</span><span class="sxs-lookup"><span data-stu-id="1025e-113">Implementing the pattern requires that you provide the following:</span></span>  
  
-   <span data-ttu-id="1025e-114">Dostawca lub temat, który jest obiektem wysyła powiadomienia do obserwatora.</span><span class="sxs-lookup"><span data-stu-id="1025e-114">A provider or subject, which is the object that sends notifications to observers.</span></span> <span data-ttu-id="1025e-115">Dostawca to klasy lub struktury, która implementuje <xref:System.IObservable%601> interfejsu.</span><span class="sxs-lookup"><span data-stu-id="1025e-115">A provider is a class or structure that implements the <xref:System.IObservable%601> interface.</span></span> <span data-ttu-id="1025e-116">Dostawca musi implementować metodę pojedynczego <xref:System.IObservable%601.Subscribe%2A?displayProperty=nameWithType>, który jest wywoływany przez obserwatorów, które chcesz otrzymywać powiadomienia od dostawcy.</span><span class="sxs-lookup"><span data-stu-id="1025e-116">The provider must implement a single method, <xref:System.IObservable%601.Subscribe%2A?displayProperty=nameWithType>, which is called by observers that wish to receive notifications from the provider.</span></span>  
  
-   <span data-ttu-id="1025e-117">Obserwatora, który jest obiektem służącą do odbierania powiadomień od dostawcy.</span><span class="sxs-lookup"><span data-stu-id="1025e-117">An observer, which is an object that receives notifications from a provider.</span></span> <span data-ttu-id="1025e-118">Obserwator jest klasy lub struktury, która implementuje <xref:System.IObserver%601> interfejsu.</span><span class="sxs-lookup"><span data-stu-id="1025e-118">An observer is a class or structure that implements the <xref:System.IObserver%601> interface.</span></span> <span data-ttu-id="1025e-119">Obserwator musi implementować trzy metody, które są wywoływane przez dostawcę:</span><span class="sxs-lookup"><span data-stu-id="1025e-119">The observer must implement three methods, all of which are called by the provider:</span></span>  
  
    -   <span data-ttu-id="1025e-120"><xref:System.IObserver%601.OnNext%2A?displayProperty=nameWithType>, która dostarcza obserwatora z informacjami o nowych lub bieżący.</span><span class="sxs-lookup"><span data-stu-id="1025e-120"><xref:System.IObserver%601.OnNext%2A?displayProperty=nameWithType>, which supplies the observer with new or current information.</span></span>  
  
    -   <span data-ttu-id="1025e-121"><xref:System.IObserver%601.OnError%2A?displayProperty=nameWithType>, który informuje o obserwatora, który wystąpił błąd.</span><span class="sxs-lookup"><span data-stu-id="1025e-121"><xref:System.IObserver%601.OnError%2A?displayProperty=nameWithType>, which informs the observer that an error has occurred.</span></span>  
  
    -   <span data-ttu-id="1025e-122"><xref:System.IObserver%601.OnCompleted%2A?displayProperty=nameWithType>, co oznacza, że dostawca zakończył wysyłanie powiadomień.</span><span class="sxs-lookup"><span data-stu-id="1025e-122"><xref:System.IObserver%601.OnCompleted%2A?displayProperty=nameWithType>, which indicates that the provider has finished sending notifications.</span></span>  
  
-   <span data-ttu-id="1025e-123">Mechanizm, który umożliwia dostawcy śledzić obserwatorów.</span><span class="sxs-lookup"><span data-stu-id="1025e-123">A mechanism that allows the provider to keep track of observers.</span></span> <span data-ttu-id="1025e-124">Zwykle, dostawca używa obiektu kontenera, takich jak <xref:System.Collections.Generic.List%601?displayProperty=nameWithType> obiektu do przechowywania odwołań do <xref:System.IObserver%601> implementacji, które subskrybuje powiadomienia.</span><span class="sxs-lookup"><span data-stu-id="1025e-124">Typically, the provider uses a container object, such as a <xref:System.Collections.Generic.List%601?displayProperty=nameWithType> object, to hold references to the <xref:System.IObserver%601> implementations that have subscribed to notifications.</span></span> <span data-ttu-id="1025e-125">W tym celu za pomocą kontenera magazynu umożliwia dostawcy w celu obsługi zero, aby nieograniczoną liczbę obserwatorów.</span><span class="sxs-lookup"><span data-stu-id="1025e-125">Using a storage container for this purpose enables the provider to handle zero to an unlimited number of observers.</span></span> <span data-ttu-id="1025e-126">Nie zdefiniowano kolejność, w którym obserwatorów otrzymywać powiadomienia; Dostawca będzie mógł użyć dowolnej metody, aby określić kolejność.</span><span class="sxs-lookup"><span data-stu-id="1025e-126">The order in which observers receive notifications is not defined; the provider is free to use any method to determine the order.</span></span>  
  
-   <span data-ttu-id="1025e-127"><xref:System.IDisposable> Implementację, która umożliwia dostawcy usunąć obserwatorów po zakończeniu powiadomień.</span><span class="sxs-lookup"><span data-stu-id="1025e-127">An <xref:System.IDisposable> implementation that enables the provider to remove observers when notification is complete.</span></span> <span data-ttu-id="1025e-128">Odwołanie do odbierania obserwatorów <xref:System.IDisposable> implementację z <xref:System.IObservable%601.Subscribe%2A> metody, dlatego można również wywołać <xref:System.IDisposable.Dispose%2A?displayProperty=nameWithType> metodę, aby anulować subskrypcję, zanim dostawcy zakończył wysyłanie powiadomień.</span><span class="sxs-lookup"><span data-stu-id="1025e-128">Observers receive a reference to the <xref:System.IDisposable> implementation from the <xref:System.IObservable%601.Subscribe%2A> method, so they can also call the <xref:System.IDisposable.Dispose%2A?displayProperty=nameWithType> method to unsubscribe before the provider has finished sending notifications.</span></span>  
  
-   <span data-ttu-id="1025e-129">Obiekt, który zawiera dane, które dostawca wysyła do jego obserwatorów.</span><span class="sxs-lookup"><span data-stu-id="1025e-129">An object that contains the data that the provider sends to its observers.</span></span> <span data-ttu-id="1025e-130">Typ obiektu odnosi się do parametru typu ogólnego <xref:System.IObservable%601> i <xref:System.IObserver%601> interfejsów.</span><span class="sxs-lookup"><span data-stu-id="1025e-130">The type of this object corresponds to the generic type parameter of the <xref:System.IObservable%601> and <xref:System.IObserver%601> interfaces.</span></span> <span data-ttu-id="1025e-131">Chociaż ten obiekt może być taka sama jak <xref:System.IObservable%601> implementacji najczęściej jest to typ oddzielne.</span><span class="sxs-lookup"><span data-stu-id="1025e-131">Although this object can be the same as the <xref:System.IObservable%601> implementation, most commonly it is a separate type.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="1025e-132">Oprócz wykonania wzorzec projektowy obserwatora, może Cię zainteresować eksploracji bibliotek, które są tworzone przy użyciu <xref:System.IObservable%601> i <xref:System.IObserver%601> interfejsów.</span><span class="sxs-lookup"><span data-stu-id="1025e-132">In addition to implementing the observer design pattern, you may be interested in exploring libraries that are built using the <xref:System.IObservable%601> and <xref:System.IObserver%601> interfaces.</span></span> <span data-ttu-id="1025e-133">Na przykład [reaktywne rozszerzeń dla platformy .NET (Rx)](http://go.microsoft.com/fwlink/?LinkId=186345) składają się z zestawu metod rozszerzeń i operatory sekwencji standardowe LINQ do obsługi programowania asynchronicznego.</span><span class="sxs-lookup"><span data-stu-id="1025e-133">For example, [Reactive Extensions for .NET (Rx)](http://go.microsoft.com/fwlink/?LinkId=186345) consist of a set of extension methods and LINQ standard sequence operators to support asynchronous programming.</span></span>  
  
## <a name="implementing-the-pattern"></a><span data-ttu-id="1025e-134">Implementacja wzorca</span><span class="sxs-lookup"><span data-stu-id="1025e-134">Implementing the Pattern</span></span>  
 <span data-ttu-id="1025e-135">W poniższym przykładzie użyto wzorzec projektowy obserwatora wdrożenia systemu informacji lotnisku bagażu oświadczeń.</span><span class="sxs-lookup"><span data-stu-id="1025e-135">The following example uses the observer design pattern to implement an airport baggage claim information system.</span></span> <span data-ttu-id="1025e-136">A `BaggageInfo` klasa dostarcza informacji na temat nadchodzących lotach i carousels, w którym bagażu z każdym locie jest dostępny do pobrania.</span><span class="sxs-lookup"><span data-stu-id="1025e-136">A `BaggageInfo` class provides information about arriving flights and the carousels where baggage from each flight is available for pickup.</span></span> <span data-ttu-id="1025e-137">Jest on wyświetlany w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="1025e-137">It is shown in the following example.</span></span>  
  
 [!code-csharp[Conceptual.ObserverDesignPattern#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/provider.cs#1)]
 [!code-vb[Conceptual.ObserverDesignPattern#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/provider.vb#1)]  
  
 <span data-ttu-id="1025e-138">A `BaggageHandler` klasy jest odpowiedzialny za informacje o lotach nadchodzących i bagażu oświadczenia carousels.</span><span class="sxs-lookup"><span data-stu-id="1025e-138">A `BaggageHandler` class is responsible for receiving information about arriving flights and baggage claim carousels.</span></span> <span data-ttu-id="1025e-139">Wewnętrznie ta funkcja obsługuje dwie kolekcje:</span><span class="sxs-lookup"><span data-stu-id="1025e-139">Internally, it maintains two collections:</span></span>  
  
-   <span data-ttu-id="1025e-140">`observers`-Kolekcję klientów, którzy będą otrzymywać zaktualizowane informacje.</span><span class="sxs-lookup"><span data-stu-id="1025e-140">`observers` - A collection of clients that will receive updated information.</span></span>  
  
-   <span data-ttu-id="1025e-141">`flights`-Kolekcja lotach i ich carousels przypisane.</span><span class="sxs-lookup"><span data-stu-id="1025e-141">`flights` - A collection of flights and their assigned carousels.</span></span>  
  
 <span data-ttu-id="1025e-142">Obie kolekcje są reprezentowane przez ogólny <xref:System.Collections.Generic.List%601> obiektów, które są tworzone w `BaggageHandler` konstruktora klasy.</span><span class="sxs-lookup"><span data-stu-id="1025e-142">Both collections are represented by generic <xref:System.Collections.Generic.List%601> objects that are instantiated in the `BaggageHandler` class constructor.</span></span> <span data-ttu-id="1025e-143">Kod źródłowy `BaggageHandler` klasy przedstawiono w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="1025e-143">The source code for the `BaggageHandler` class is shown in the following example.</span></span>  
  
 [!code-csharp[Conceptual.ObserverDesignPattern#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/provider.cs#2)]
 [!code-vb[Conceptual.ObserverDesignPattern#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/provider.vb#2)]  
  
 <span data-ttu-id="1025e-144">Klienci, w których chcesz otrzymywać zaktualizowane informacje wywołać `BaggageHandler.Subscribe` metody.</span><span class="sxs-lookup"><span data-stu-id="1025e-144">Clients that wish to receive updated information call the `BaggageHandler.Subscribe` method.</span></span> <span data-ttu-id="1025e-145">Jeśli klient nie został wcześniej subskrypcji powiadomień, odniesienie do klienta <xref:System.IObserver%601> implementacji jest dodawany do `observers` kolekcji.</span><span class="sxs-lookup"><span data-stu-id="1025e-145">If the client has not previously subscribed to notifications, a reference to the client's <xref:System.IObserver%601> implementation is added to the `observers` collection.</span></span>  
  
 <span data-ttu-id="1025e-146">Przeciążone `BaggageHandler.BaggageStatus` można wywołać metody, aby wskazać, że bagażu z lot zwalnianie lub już nie jest zwalniany.</span><span class="sxs-lookup"><span data-stu-id="1025e-146">The overloaded `BaggageHandler.BaggageStatus` method can be called to indicate that baggage from a flight either is being unloaded or is no longer being unloaded.</span></span> <span data-ttu-id="1025e-147">W pierwszym przypadku metody jest przekazywany numer transmitowane, port, z którego pochodzi lot i Karuzela gdzie bagażu jest zwalniany.</span><span class="sxs-lookup"><span data-stu-id="1025e-147">In the first case, the method is passed a flight number, the airport from which the flight originated, and the carousel where baggage is being unloaded.</span></span> <span data-ttu-id="1025e-148">W drugim przypadku metoda jest przekazany tylko numerze.</span><span class="sxs-lookup"><span data-stu-id="1025e-148">In the second case, the method is passed only a flight number.</span></span> <span data-ttu-id="1025e-149">Dla bagażu, który ma zostać zwolniony, metoda sprawdza czy `BaggageInfo` przekazane do metody informacje istnieje w `flights` kolekcji.</span><span class="sxs-lookup"><span data-stu-id="1025e-149">For baggage that is being unloaded, the method checks whether the `BaggageInfo` information passed to the method exists in the `flights` collection.</span></span> <span data-ttu-id="1025e-150">Jeśli nie, metoda dodaje informacje i wywołuje każdego obserwatora `OnNext` metody.</span><span class="sxs-lookup"><span data-stu-id="1025e-150">If it does not, the method adds the information and calls each observer's `OnNext` method.</span></span> <span data-ttu-id="1025e-151">W przypadku lotach bagażu którego już nie jest zwalniany, metoda sprawdza, czy informacje na ten lot są przechowywane w `flights` kolekcji.</span><span class="sxs-lookup"><span data-stu-id="1025e-151">For flights whose baggage is no longer being unloaded, the method checks whether information on that flight is stored in the `flights` collection.</span></span> <span data-ttu-id="1025e-152">Jeśli tak jest, metoda wywołuje metodę każdego obserwatora `OnNext` — metoda i usuwa `BaggageInfo` obiekt z `flights` kolekcji.</span><span class="sxs-lookup"><span data-stu-id="1025e-152">If it is, the method calls each observer's `OnNext` method and removes the `BaggageInfo` object from the `flights` collection.</span></span>  
  
 <span data-ttu-id="1025e-153">Gdy znalazł lot ostatniego dnia, a jego bagażu zostało przetworzone, `BaggageHandler.LastBaggageClaimed` metoda jest wywoływana.</span><span class="sxs-lookup"><span data-stu-id="1025e-153">When the last flight of the day has landed and its baggage has been processed, the `BaggageHandler.LastBaggageClaimed` method is called.</span></span> <span data-ttu-id="1025e-154">Ta metoda wywołuje każdego obserwatora `OnCompleted` metody, aby wskazać, że zostały wykonane wszystkie powiadomienia, a następnie czyści `observers` kolekcji.</span><span class="sxs-lookup"><span data-stu-id="1025e-154">This method calls each observer's `OnCompleted` method to indicate that all notifications have completed, and then clears the `observers` collection.</span></span>  
  
 <span data-ttu-id="1025e-155">Dostawcy <xref:System.IObservable%601.Subscribe%2A> metoda zwraca <xref:System.IDisposable> implementację, która umożliwia obserwatorów przestać otrzymywać powiadomienia przed <xref:System.IObserver%601.OnCompleted%2A> metoda jest wywoływana.</span><span class="sxs-lookup"><span data-stu-id="1025e-155">The provider's <xref:System.IObservable%601.Subscribe%2A> method returns an <xref:System.IDisposable> implementation that enables observers to stop receiving notifications before the <xref:System.IObserver%601.OnCompleted%2A> method is called.</span></span> <span data-ttu-id="1025e-156">Kod źródłowy dla tego `Unsubscriber(Of BaggageInfo)` klasy przedstawiono w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="1025e-156">The source code for this `Unsubscriber(Of BaggageInfo)` class is shown in the following example.</span></span> <span data-ttu-id="1025e-157">Podczas tworzenia wystąpienia klasy w `BaggageHandler.Subscribe` metody jest przekazywany odwołanie do `observers` kolekcji i odwołania do obserwatora, który zostanie dodany do kolekcji.</span><span class="sxs-lookup"><span data-stu-id="1025e-157">When the class is instantiated in the `BaggageHandler.Subscribe` method, it is passed a reference to the `observers` collection and a reference to the observer that is added to the collection.</span></span> <span data-ttu-id="1025e-158">Te odwołania są przypisane do zmiennych lokalnych.</span><span class="sxs-lookup"><span data-stu-id="1025e-158">These references are assigned to local variables.</span></span> <span data-ttu-id="1025e-159">Gdy obiektu `Dispose` metoda jest wywoływana, sprawdza, czy obserwatora nadal istnieje w `observers` kolekcji, a jeśli tak, usuwa obserwatora.</span><span class="sxs-lookup"><span data-stu-id="1025e-159">When the object's `Dispose` method is called, it checks whether the observer still exists in the `observers` collection, and, if it does, removes the observer.</span></span>  
  
 [!code-csharp[Conceptual.ObserverDesignPattern#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/provider.cs#3)]
 [!code-vb[Conceptual.ObserverDesignPattern#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/provider.vb#3)]  
  
 <span data-ttu-id="1025e-160">W poniższym przykładzie przedstawiono <xref:System.IObserver%601> wdrożenia o nazwie `ArrivalsMonitor`, która jest podstawową klasę, która wyświetla informacje o bagażu.</span><span class="sxs-lookup"><span data-stu-id="1025e-160">The following example provides an <xref:System.IObserver%601> implementation named `ArrivalsMonitor`, which is a base class that displays baggage claim information.</span></span> <span data-ttu-id="1025e-161">Informacje są wyświetlane alfabetycznie, nazwą miasta źródłowego.</span><span class="sxs-lookup"><span data-stu-id="1025e-161">The information is displayed alphabetically, by the name of the originating city.</span></span> <span data-ttu-id="1025e-162">Metody `ArrivalsMonitor` są oznaczone jako `overridable` (w języku Visual Basic) lub `virtual` (w języku C#), dlatego mogą wszystkie być zastąpione przez klasę pochodną.</span><span class="sxs-lookup"><span data-stu-id="1025e-162">The methods of `ArrivalsMonitor` are marked as `overridable` (in Visual Basic) or `virtual` (in C#), so they can all be overridden by a derived class.</span></span>  
  
 [!code-csharp[Conceptual.ObserverDesignPattern#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/observer.cs#4)]
 [!code-vb[Conceptual.ObserverDesignPattern#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/observer.vb#4)]  
  
 <span data-ttu-id="1025e-163">`ArrivalsMonitor` Klasa zawiera `Subscribe` i `Unsubscribe` metody.</span><span class="sxs-lookup"><span data-stu-id="1025e-163">The `ArrivalsMonitor` class includes the `Subscribe` and `Unsubscribe` methods.</span></span> <span data-ttu-id="1025e-164">`Subscribe` Metoda umożliwia klasę, aby zapisać <xref:System.IDisposable> implementacji zwrócony przez wywołanie <xref:System.IObservable%601.Subscribe%2A> prywatnej zmiennej.</span><span class="sxs-lookup"><span data-stu-id="1025e-164">The `Subscribe` method enables the class to save the <xref:System.IDisposable> implementation returned by the call to <xref:System.IObservable%601.Subscribe%2A> to a private variable.</span></span> <span data-ttu-id="1025e-165">`Unsubscribe` Metoda umożliwia klasę, aby zrezygnować z powiadomień przez wywołanie dostawcy <xref:System.IDisposable.Dispose%2A> implementacji.</span><span class="sxs-lookup"><span data-stu-id="1025e-165">The `Unsubscribe` method enables the class to unsubscribe from notifications by calling the provider's <xref:System.IDisposable.Dispose%2A> implementation.</span></span> <span data-ttu-id="1025e-166">`ArrivalsMonitor`dostępne są także implementacje <xref:System.IObserver%601.OnNext%2A>, <xref:System.IObserver%601.OnError%2A>, i <xref:System.IObserver%601.OnCompleted%2A> metody.</span><span class="sxs-lookup"><span data-stu-id="1025e-166">`ArrivalsMonitor` also provides implementations of the <xref:System.IObserver%601.OnNext%2A>, <xref:System.IObserver%601.OnError%2A>, and <xref:System.IObserver%601.OnCompleted%2A> methods.</span></span> <span data-ttu-id="1025e-167">Tylko <xref:System.IObserver%601.OnNext%2A> implementacja zawiera znaczną ilość kodu.</span><span class="sxs-lookup"><span data-stu-id="1025e-167">Only the <xref:System.IObserver%601.OnNext%2A> implementation contains a significant amount of code.</span></span> <span data-ttu-id="1025e-168">Metoda współpracuje z ogólnego prywatne, posortowane, <xref:System.Collections.Generic.List%601> obiekt, który przechowuje informacje o lotniskach pochodzenia w nadchodzących lotach i carousels, na których jest dostępna ich bagażu.</span><span class="sxs-lookup"><span data-stu-id="1025e-168">The method works with a private, sorted, generic <xref:System.Collections.Generic.List%601> object that maintains information about the airports of origin for arriving flights and the carousels on which their baggage is available.</span></span> <span data-ttu-id="1025e-169">Jeśli `BaggageHandler` klasa raportuje nowego odbioru transmitowane <xref:System.IObserver%601.OnNext%2A> implementacji metody dodaje informacje o tym transmitowane do listy.</span><span class="sxs-lookup"><span data-stu-id="1025e-169">If the `BaggageHandler` class reports a new flight arrival, the <xref:System.IObserver%601.OnNext%2A> method implementation adds information about that flight to the list.</span></span> <span data-ttu-id="1025e-170">Jeśli `BaggageHandler` klasy raporty, aby transmitowane bagażu został zwolniony, <xref:System.IObserver%601.OnNext%2A> metoda usuwa ten lot z listy.</span><span class="sxs-lookup"><span data-stu-id="1025e-170">If the `BaggageHandler` class reports that the flight's baggage has been unloaded, the <xref:System.IObserver%601.OnNext%2A> method removes that flight from the list.</span></span> <span data-ttu-id="1025e-171">Zawsze, gdy zostaną zmienione, lista jest sortowana i wyświetlane w konsoli.</span><span class="sxs-lookup"><span data-stu-id="1025e-171">Whenever a change is made, the list is sorted and displayed to the console.</span></span>  
  
 <span data-ttu-id="1025e-172">Poniżej przedstawiono przykład zawierający punkt wejścia aplikacji, która tworzy `BaggageHandler` klasy oraz dwa wystąpienia `ArrivalsMonitor` klasy i używa `BaggageHandler.BaggageStatus` metody do dodawania i usuwania informacji o nadchodzących lotach.</span><span class="sxs-lookup"><span data-stu-id="1025e-172">The following example contains the application entry point that instantiates the `BaggageHandler` class as well as two instances of the `ArrivalsMonitor` class, and uses the `BaggageHandler.BaggageStatus` method to add and remove information about arriving flights.</span></span> <span data-ttu-id="1025e-173">W każdym przypadku obserwatorów otrzymywać aktualizacje i poprawnie wyświetlić informacje o bagażu.</span><span class="sxs-lookup"><span data-stu-id="1025e-173">In each case, the observers receive updates and correctly display baggage claim information.</span></span>  
  
 [!code-csharp[Conceptual.ObserverDesignPattern#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/program.cs#5)]
 [!code-vb[Conceptual.ObserverDesignPattern#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/module1.vb#5)]  
  
## <a name="related-topics"></a><span data-ttu-id="1025e-174">Tematy pokrewne</span><span class="sxs-lookup"><span data-stu-id="1025e-174">Related Topics</span></span>  
  
|<span data-ttu-id="1025e-175">Tytuł</span><span class="sxs-lookup"><span data-stu-id="1025e-175">Title</span></span>|<span data-ttu-id="1025e-176">Opis</span><span class="sxs-lookup"><span data-stu-id="1025e-176">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="1025e-177">Wzorzec projektowy obserwatora — najlepsze praktyki</span><span class="sxs-lookup"><span data-stu-id="1025e-177">Observer Design Pattern Best Practices</span></span>](../../../docs/standard/events/observer-design-pattern-best-practices.md)|<span data-ttu-id="1025e-178">Opis najlepszych rozwiązań do przyjęcia podczas tworzenia aplikacji, które implementują wzorzec projektowy obserwatora.</span><span class="sxs-lookup"><span data-stu-id="1025e-178">Describes best practices to adopt when developing applications that implement the observer design pattern.</span></span>|  
|[<span data-ttu-id="1025e-179">Porady: Implementowanie dostawcy</span><span class="sxs-lookup"><span data-stu-id="1025e-179">How to: Implement a Provider</span></span>](../../../docs/standard/events/how-to-implement-a-provider.md)|<span data-ttu-id="1025e-180">Udostępnia implementację krok dostawcy dla temperatury monitorowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="1025e-180">Provides a step-by-step implementation of a provider for a temperature monitoring application.</span></span>|  
|[<span data-ttu-id="1025e-181">Porady: Implementowanie obserwatora</span><span class="sxs-lookup"><span data-stu-id="1025e-181">How to: Implement an Observer</span></span>](../../../docs/standard/events/how-to-implement-an-observer.md)|<span data-ttu-id="1025e-182">Udostępnia implementację krok obserwatora dla temperatury monitorowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="1025e-182">Provides a step-by-step implementation of an observer for a temperature monitoring application.</span></span>|
