---
title: Zagadnienia dotyczące architektury bezserwerowej — aplikacje bezserwerowe
description: Poznaj wyzwania związane z projektowaniem aplikacji bezserwerowych, od zarządzania stanem i trwałego magazynu po skalowanie, rejestrowanie, śledzenie i diagnostykę.
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: c856683cf6910be98661e634246cd003b93a6d76
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/14/2020
ms.locfileid: "72522427"
---
# <a name="serverless-architecture-considerations"></a><span data-ttu-id="70135-103">Zagadnienia dotyczące architektury bezserwerowej</span><span class="sxs-lookup"><span data-stu-id="70135-103">Serverless architecture considerations</span></span>

<span data-ttu-id="70135-104">Przyjęcie architektury bezserwerowej wiąże się z pewnymi wyzwaniami.</span><span class="sxs-lookup"><span data-stu-id="70135-104">Adopting a serverless architecture does come with certain challenges.</span></span> <span data-ttu-id="70135-105">W tej sekcji omówiono niektóre z bardziej typowych zagadnień, o które należy pamiętać.</span><span class="sxs-lookup"><span data-stu-id="70135-105">This section explores some of the more common considerations to be aware of.</span></span> <span data-ttu-id="70135-106">Wszystkie te wyzwania mają rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="70135-106">All of these challenges have solutions.</span></span> <span data-ttu-id="70135-107">Podobnie jak w przypadku wszystkich wyborów architektury, decyzja, aby przejść bez serwerów powinny być podejmowane dopiero po dokładnym rozważeniu plusy i minusy.</span><span class="sxs-lookup"><span data-stu-id="70135-107">As with all architecture choices, the decision to go serverless should be made only after carefully considering the pros and cons.</span></span> <span data-ttu-id="70135-108">W zależności od potrzeb aplikacji może zdecydować, że implementacja bezserwerowa nie jest właściwym rozwiązaniem dla niektórych składników.</span><span class="sxs-lookup"><span data-stu-id="70135-108">Depending on the needs of your application, you may decide a serverless implementation isn't the right solution for certain components.</span></span>

## <a name="managing-state"></a><span data-ttu-id="70135-109">Zarządzanie stanem</span><span class="sxs-lookup"><span data-stu-id="70135-109">Managing state</span></span>

<span data-ttu-id="70135-110">Funkcje bezserwerowe, podobnie jak w ogóle w mikrousługach, są domyślnie bezstanowe.</span><span class="sxs-lookup"><span data-stu-id="70135-110">Serverless functions, as with microservices in general, are stateless by default.</span></span> <span data-ttu-id="70135-111">Unikanie stanu umożliwia bezserwerowe być efemeryczny, skalować w sposób skalowany w sposób skalowany i zapewnić odporność bez centralnego punktu awarii.</span><span class="sxs-lookup"><span data-stu-id="70135-111">Avoiding state enables serverless to be ephemeral, to scale out, and to provide resiliency without a central point of failure.</span></span> <span data-ttu-id="70135-112">W pewnych okolicznościach procesy biznesowe wymagają stanu.</span><span class="sxs-lookup"><span data-stu-id="70135-112">In some circumstances, business processes require state.</span></span> <span data-ttu-id="70135-113">Jeśli proces wymaga stanu, masz dwie opcje.</span><span class="sxs-lookup"><span data-stu-id="70135-113">If your process requires state, you have two options.</span></span> <span data-ttu-id="70135-114">Można przyjąć model inny niż bezserwerowy lub wchodzić w interakcje z oddzielną usługą, która zapewnia stan.</span><span class="sxs-lookup"><span data-stu-id="70135-114">You can adopt a model other than serverless, or interact with a separate service that provides state.</span></span> <span data-ttu-id="70135-115">Dodawanie stanu może skomplikować rozwiązanie i utrudnić skalowanie i potencjalnie utworzyć pojedynczy punkt awarii.</span><span class="sxs-lookup"><span data-stu-id="70135-115">Adding state can complicate the solution and make it harder to scale, and potentially create a single point of failure.</span></span> <span data-ttu-id="70135-116">Dokładnie zastanów się, czy twoja funkcja absolutnie wymaga stanu.</span><span class="sxs-lookup"><span data-stu-id="70135-116">Carefully consider whether your function absolutely requires state.</span></span> <span data-ttu-id="70135-117">Jeśli odpowiedź brzmi "tak", należy określić, czy nadal warto zaimplementować ją bez serwerów.</span><span class="sxs-lookup"><span data-stu-id="70135-117">If the answer is "yes," determine whether it still makes sense to implement it with serverless.</span></span>

<span data-ttu-id="70135-118">Istnieje kilka rozwiązań do przyjęcia stanu bez naruszania korzyści z bezserwerowych.</span><span class="sxs-lookup"><span data-stu-id="70135-118">There are several solutions to adopt state without compromising the benefits of serverless.</span></span> <span data-ttu-id="70135-119">Niektóre z bardziej popularnych rozwiązań obejmują:</span><span class="sxs-lookup"><span data-stu-id="70135-119">Some of the more popular solutions include:</span></span>

- <span data-ttu-id="70135-120">Korzystanie z tymczasowego magazynu danych lub rozproszonej pamięci podręcznej, takiej jak Redis</span><span class="sxs-lookup"><span data-stu-id="70135-120">Use a temporary data store or distributed cache, like Redis</span></span>
- <span data-ttu-id="70135-121">Stan przechowywania w bazie danych, takiej jak SQL lub CosmosDB</span><span class="sxs-lookup"><span data-stu-id="70135-121">Store state in a database, like SQL or CosmosDB</span></span>
- <span data-ttu-id="70135-122">Stan obsługi za pomocą aparatu przepływu pracy, takiego jak trwałe funkcje</span><span class="sxs-lookup"><span data-stu-id="70135-122">Handle state through a workflow engine like durable functions</span></span>

<span data-ttu-id="70135-123">Najważniejsze jest to, że należy zdawać sobie sprawę z potrzeby zarządzania stanem w ramach procesów, które rozważasz do wdrożenia z bezserwerowych.</span><span class="sxs-lookup"><span data-stu-id="70135-123">The bottom line is that you should be aware of the need for any state management within processes you're considering to implement with serverless.</span></span>

## <a name="long-running-processes"></a><span data-ttu-id="70135-124">Długotrwałe procesy</span><span class="sxs-lookup"><span data-stu-id="70135-124">Long-running processes</span></span>

<span data-ttu-id="70135-125">Wiele korzyści z bezserwerowych polegać na procesach jest ulotne.</span><span class="sxs-lookup"><span data-stu-id="70135-125">Many benefits of serverless rely on the processes being ephemeral.</span></span> <span data-ttu-id="70135-126">Krótkie czasy uruchamiania ułatwiają dostawcy bezserwerowe zwalnianie zasobów w miarę końców funkcji i udostępnianie funkcji między hostami.</span><span class="sxs-lookup"><span data-stu-id="70135-126">Short run times make it easier for the serverless provider to free up resources as functions end and share functions across hosts.</span></span> <span data-ttu-id="70135-127">Większość dostawców chmury ogranicza całkowity czas działania funkcji do około 10 minut.</span><span class="sxs-lookup"><span data-stu-id="70135-127">Most cloud providers limit the total time your function can run to around 10 minutes.</span></span> <span data-ttu-id="70135-128">Jeśli proces może potrwać dłużej, można rozważyć alternatywną implementację.</span><span class="sxs-lookup"><span data-stu-id="70135-128">If your process may take longer, you might consider an alternative implementation.</span></span>

<span data-ttu-id="70135-129">Istnieje kilka wyjątków i rozwiązań.</span><span class="sxs-lookup"><span data-stu-id="70135-129">There are a few exceptions and solutions.</span></span> <span data-ttu-id="70135-130">Jednym z rozwiązań może być podzielić proces na mniejsze składniki, które indywidualnie zajmują mniej czasu.</span><span class="sxs-lookup"><span data-stu-id="70135-130">One solution may be to break your process into smaller components that individually take less time to run.</span></span> <span data-ttu-id="70135-131">Jeśli proces działa długo z powodu zależności, można również rozważyć asynchroniczny przepływ pracy przy użyciu rozwiązania, takich jak trwałe funkcje.</span><span class="sxs-lookup"><span data-stu-id="70135-131">If your process runs long because of dependencies, you can also consider an asynchronous workflow using a solution like durable functions.</span></span> <span data-ttu-id="70135-132">Trwałe funkcje wstrzymywają i utrzymują stan procesu, gdy oczekuje na zakończenie procesu zewnętrznego.</span><span class="sxs-lookup"><span data-stu-id="70135-132">Durable functions pause and maintain the state of your process while it's waiting on an external process to finish.</span></span> <span data-ttu-id="70135-133">Obsługa asynchroniczna skraca czas rzeczywistego procesu.</span><span class="sxs-lookup"><span data-stu-id="70135-133">Asynchronous handling reduces the time the actual process runs.</span></span>

## <a name="startup-time"></a><span data-ttu-id="70135-134">Czas uruchamiania</span><span class="sxs-lookup"><span data-stu-id="70135-134">Startup time</span></span>

<span data-ttu-id="70135-135">Jednym z potencjalnych problemów z implementacjami bezserwerowych jest czas uruchamiania.</span><span class="sxs-lookup"><span data-stu-id="70135-135">One potential concern with serverless implementations is startup time.</span></span> <span data-ttu-id="70135-136">Aby oszczędzać zasoby, wielu dostawców bezserwerowych tworzy infrastrukturę "na żądanie".</span><span class="sxs-lookup"><span data-stu-id="70135-136">To conserve resources, many serverless providers create infrastructure "on demand."</span></span> <span data-ttu-id="70135-137">Gdy funkcja bezserwerowa jest wyzwalana po pewnym czasie, zasoby do obsługi funkcji może być konieczne utworzenie lub ponowne uruchomienie.</span><span class="sxs-lookup"><span data-stu-id="70135-137">When a serverless function is triggered after a period of time, the resources to host the function may need to be created or restarted.</span></span> <span data-ttu-id="70135-138">W niektórych sytuacjach zimne starty mogą powodować kilkusekundowe opóźnienia.</span><span class="sxs-lookup"><span data-stu-id="70135-138">In some situations, cold starts may result in delays of several seconds.</span></span> <span data-ttu-id="70135-139">Czas uruchamiania różni się w zależności od dostawcy i poziomów usług.</span><span class="sxs-lookup"><span data-stu-id="70135-139">Startup time varies across providers and service levels.</span></span> <span data-ttu-id="70135-140">Istnieje kilka metod adres czasu uruchamiania, jeśli jest to ważne, aby zminimalizować dla powodzenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="70135-140">There are a few approaches to address startup time if it's important to minimize for the success of the app.</span></span>

- <span data-ttu-id="70135-141">Niektórzy dostawcy umożliwiają użytkownikom płacenie za poziomy usług, które gwarantują, że infrastruktura jest "zawsze na".</span><span class="sxs-lookup"><span data-stu-id="70135-141">Some providers allow users to pay for service levels that guarantee infrastructure is "always on".</span></span>
- <span data-ttu-id="70135-142">Zaimplementuj mechanizm keep-alive (ping punktu końcowego, aby utrzymać go "obudzić").</span><span class="sxs-lookup"><span data-stu-id="70135-142">Implement a keep-alive mechanism (ping the endpoint to keep it "awake").</span></span>
- <span data-ttu-id="70135-143">Użyj aranżacji, takich jak Kubernetes z podejściem funkcji konteneryzowanych (host jest już uruchomiony, więc przędzenia nowych wystąpień jest bardzo szybki).</span><span class="sxs-lookup"><span data-stu-id="70135-143">Use orchestration like Kubernetes with a containerized function approach (the host is already running so spinning up new instances is extremely fast).</span></span>

## <a name="database-updates-and-migrations"></a><span data-ttu-id="70135-144">Aktualizacje i migracje bazy danych</span><span class="sxs-lookup"><span data-stu-id="70135-144">Database updates and migrations</span></span>

<span data-ttu-id="70135-145">Zaletą kodu bezserwerowego jest to, że można zwolnić nowe funkcje bez konieczności ponownego wdrażania całej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="70135-145">An advantage of serverless code is that you can release new functions without having to redeploy the entire application.</span></span> <span data-ttu-id="70135-146">Ta zaleta może stać się wadą, gdy istnieje relacyjna baza danych zaangażowanych.</span><span class="sxs-lookup"><span data-stu-id="70135-146">This advantage can become a disadvantage when there's a relational database involved.</span></span> <span data-ttu-id="70135-147">Zmiany w schemach bazy danych są trudne do zsynchronizowania z aktualizacjami bezserwerowych.</span><span class="sxs-lookup"><span data-stu-id="70135-147">Changes to database schemas are difficult to synchronize with serverless updates.</span></span> <span data-ttu-id="70135-148">Dodatkowe wyzwania pojawiają się, gdy coś pójdzie nie tak, a zmiany muszą zostać wycofane.</span><span class="sxs-lookup"><span data-stu-id="70135-148">Additional challenges are posed when things go wrong and the changes must be rolled back.</span></span> <span data-ttu-id="70135-149">Integralność danych jest jednym z powodów, że najlepszym rozwiązaniem dla mikrousług i funkcji bezserwerowych jest, że są one właścicielem własnych danych.</span><span class="sxs-lookup"><span data-stu-id="70135-149">Data integrity is one reason that a best practice for microservices and serverless functions is that they own their own data.</span></span> <span data-ttu-id="70135-150">Istnieje możliwość wdrożenia zmian jako pojedynczej jednostki obliczeń i danych.</span><span class="sxs-lookup"><span data-stu-id="70135-150">It is possible to deploy changes as a single unit of compute and data.</span></span> <span data-ttu-id="70135-151">W rzeczywistości wiele starszych systemów posiada dużą bazę danych zaplecza, która musi zostać uzgodniona z architekturą bezserwerową.</span><span class="sxs-lookup"><span data-stu-id="70135-151">The reality is that many legacy systems feature a large back-end database that must be reconciled with the serverless architecture.</span></span>

<span data-ttu-id="70135-152">Popularnym podejściem do rozwiązywania wersji schematu jest nigdy nie modyfikować istniejących właściwości i kolumn, ale zamiast tego dodać nowe informacje.</span><span class="sxs-lookup"><span data-stu-id="70135-152">A popular approach to solve schema versioning is to never modify existing properties and columns, but instead add new information.</span></span> <span data-ttu-id="70135-153">Rozważmy na przykład zmianę, aby przejść z flagi "ukończone" logicznej dla listy dozrobienia do "daty ukończonej".</span><span class="sxs-lookup"><span data-stu-id="70135-153">For example, consider a change to move from a Boolean "completed" flag for a todo list to a "completed date."</span></span> <span data-ttu-id="70135-154">Zamiast usuwać stare pole, zmiana bazy danych:</span><span class="sxs-lookup"><span data-stu-id="70135-154">Instead of removing the old field, the database change will:</span></span>

1. <span data-ttu-id="70135-155">Dodaj nowe pole "data ukończona".</span><span class="sxs-lookup"><span data-stu-id="70135-155">Add a new "completed date" field.</span></span>
1. <span data-ttu-id="70135-156">Przekształć "ukończone" pole logiczne w funkcję obliczaną, która ocenia, czy ukończona data jest po bieżącej dacie.</span><span class="sxs-lookup"><span data-stu-id="70135-156">Transform the "completed" Boolean field to a computed function that evaluates whether the completed date is after the current date.</span></span>
1. <span data-ttu-id="70135-157">Dodaj wyzwalacz, aby ustawić ukończoną datę na bieżącą datę, gdy ukończony wartość logiczna jest ustawiona na true.</span><span class="sxs-lookup"><span data-stu-id="70135-157">Add a trigger to set the completed date to the current date when the completed Boolean is set to true.</span></span>

<span data-ttu-id="70135-158">Sekwencja zmian gwarantuje, że starszy kod będzie nadal działał "tak jak jest", podczas gdy nowsze funkcje bezserwerowe mogą korzystać z nowego pola.</span><span class="sxs-lookup"><span data-stu-id="70135-158">The sequence of changes ensures that legacy code continues to run "as is" while newer serverless functions can take advantage of the new field.</span></span>

<span data-ttu-id="70135-159">Aby uzyskać więcej informacji na temat danych w architekturach bezserwerowych, zobacz [Wyzwania i rozwiązania dotyczące zarządzania danymi rozproszonymi.](../microservices/architect-microservice-container-applications/distributed-data-management.md)</span><span class="sxs-lookup"><span data-stu-id="70135-159">For more information about data in serverless architectures, see [Challenges and solutions for distributed data management](../microservices/architect-microservice-container-applications/distributed-data-management.md).</span></span>

## <a name="scaling"></a><span data-ttu-id="70135-160">Skalowanie</span><span class="sxs-lookup"><span data-stu-id="70135-160">Scaling</span></span>

<span data-ttu-id="70135-161">Jest to powszechne błędne przekonanie, że bezserwerowe oznacza "nie ma serwera".</span><span class="sxs-lookup"><span data-stu-id="70135-161">It's a common misconception that serverless means "no server."</span></span> <span data-ttu-id="70135-162">W rzeczywistości jest to "mniej serwera".</span><span class="sxs-lookup"><span data-stu-id="70135-162">It's in fact "less server."</span></span> <span data-ttu-id="70135-163">Fakt, że istnieje infrastruktura podkładowa jest ważne, aby zrozumieć, jeśli chodzi o skalowanie.</span><span class="sxs-lookup"><span data-stu-id="70135-163">The fact there is a backing infrastructure is important to understand when it comes to scaling.</span></span> <span data-ttu-id="70135-164">Większość platform bezserwerowych zapewniają zestaw formantów do obsługi, jak infrastruktura powinna skalować po zwiększeniu gęstości zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="70135-164">Most serverless platforms provide a set of controls to handle how the infrastructure should scale when event density increases.</span></span> <span data-ttu-id="70135-165">Możesz wybierać spośród wielu opcji, ale twoja strategia może się różnić w zależności od funkcji.</span><span class="sxs-lookup"><span data-stu-id="70135-165">You can choose from a variety of options, but your strategy may vary depending on the function.</span></span> <span data-ttu-id="70135-166">Ponadto funkcje są zazwyczaj uruchamiane w ramach powiązanego hosta, dzięki czemu funkcje na tym samym hoście mają te same opcje skalowania.</span><span class="sxs-lookup"><span data-stu-id="70135-166">Furthermore, functions are typically run under a related host, so that functions on the same host have the same scale options.</span></span> <span data-ttu-id="70135-167">W związku z tym konieczne jest zorganizowanie i strategize, które funkcje są hostowane razem na podstawie wymagań skali.</span><span class="sxs-lookup"><span data-stu-id="70135-167">Therefore it is necessary to organize and strategize which functions are hosted together based on scale requirements.</span></span>

<span data-ttu-id="70135-168">Reguły często określają sposób skalowania w górę (zwiększenie zasobów hosta) i skalowanie w górę (zwiększenie liczby wystąpień hosta) na podstawie różnych parametrów.</span><span class="sxs-lookup"><span data-stu-id="70135-168">Rules often specify how to scale-up (increase the host resources) and scale-out (increase the number of host instances) based on varying parameters.</span></span> <span data-ttu-id="70135-169">Wyzwalacze dla skali mogą obejmować harmonogram, szybkość żądań, wykorzystanie procesora CPU i użycie pamięci.</span><span class="sxs-lookup"><span data-stu-id="70135-169">Triggers for scales may include schedule, request rates, CPU utilization, and memory usage.</span></span> <span data-ttu-id="70135-170">Wyższa wydajność często wiąże się z większymi kosztami.</span><span class="sxs-lookup"><span data-stu-id="70135-170">Higher performance often comes at a greater cost.</span></span> <span data-ttu-id="70135-171">Tańsze podejścia oparte na konsumpcji mogą nie być skalowane tak szybko, gdy wskaźnik żądań nagle wzrośnie.</span><span class="sxs-lookup"><span data-stu-id="70135-171">The less expensive, consumption-based approaches may not scale as quickly when the request rate suddenly increases.</span></span> <span data-ttu-id="70135-172">Istnieje kompromis między płaceniem z góry "kosztów ubezpieczenia" w porównaniu do płacenia ściśle "jak idziesz" i ryzykując wolniejsze odpowiedzi z powodu nagłego wzrostu popytu.</span><span class="sxs-lookup"><span data-stu-id="70135-172">There is a trade-off between paying up front "insurance cost" versus paying strictly "as you go" and risking slower responses due to sudden increases in demand.</span></span>

## <a name="monitoring-tracing-and-logging"></a><span data-ttu-id="70135-173">Monitorowanie, śledzenie i rejestrowanie</span><span class="sxs-lookup"><span data-stu-id="70135-173">Monitoring, tracing, and logging</span></span>

<span data-ttu-id="70135-174">Często pomijany aspekt DevOps jest monitorowanie aplikacji po wdrożeniu.</span><span class="sxs-lookup"><span data-stu-id="70135-174">An often overlooked aspect of DevOps is monitoring applications once deployed.</span></span> <span data-ttu-id="70135-175">Ważne jest, aby mieć strategię monitorowania funkcji bezserwerowych.</span><span class="sxs-lookup"><span data-stu-id="70135-175">It's important to have a strategy for monitoring serverless functions.</span></span> <span data-ttu-id="70135-176">Największym wyzwaniem jest często korelacji lub rozpoznawania, gdy użytkownik wywołuje wiele funkcji w ramach tej samej interakcji.</span><span class="sxs-lookup"><span data-stu-id="70135-176">The biggest challenge is often correlation, or recognizing when a user calls multiple functions as part of the same interaction.</span></span> <span data-ttu-id="70135-177">Większość platform bezserwerowych umożliwia rejestrowanie konsoli, które można zaimportować do narzędzi innych firm.</span><span class="sxs-lookup"><span data-stu-id="70135-177">Most serverless platforms allow console logging that can be imported into third-party tools.</span></span> <span data-ttu-id="70135-178">Istnieją również opcje automatyzacji zbierania danych telemetrycznych, generowania i śledzenia identyfikatorów korelacji oraz monitorowania określonych akcji w celu zapewnienia szczegółowych informacji.</span><span class="sxs-lookup"><span data-stu-id="70135-178">There are also options to automate collection of telemetry, generate and track correlation IDs, and monitor specific actions to provide detailed insights.</span></span> <span data-ttu-id="70135-179">Platforma Azure udostępnia zaawansowaną [platformę Application Insights](https://docs.microsoft.com/azure/azure-functions/functions-monitoring) do monitorowania i analizy.</span><span class="sxs-lookup"><span data-stu-id="70135-179">Azure provides the advanced [Application Insights platform](https://docs.microsoft.com/azure/azure-functions/functions-monitoring) for monitoring and analytics.</span></span>

## <a name="inter-service-dependencies"></a><span data-ttu-id="70135-180">Zależności między służbami</span><span class="sxs-lookup"><span data-stu-id="70135-180">Inter-service dependencies</span></span>

<span data-ttu-id="70135-181">Architektura bezserwerowa może zawierać funkcje, które opierają się na innych funkcjach.</span><span class="sxs-lookup"><span data-stu-id="70135-181">A serverless architecture may include functions that rely on other functions.</span></span> <span data-ttu-id="70135-182">W rzeczywistości nie jest rzadkością w architekturze bezserwerowej, aby wiele usług wywoływać siebie w ramach interakcji lub transakcji rozproszonych.</span><span class="sxs-lookup"><span data-stu-id="70135-182">In fact, it isn't uncommon in a serverless architecture to have multiple services call each other as part of an interaction or distributed transaction.</span></span> <span data-ttu-id="70135-183">Aby uniknąć silnego sprzężenia, zaleca się, aby usługi nie odwoływały się bezpośrednio do siebie.</span><span class="sxs-lookup"><span data-stu-id="70135-183">To avoid strong coupling, it's recommended that services don't reference each other directly.</span></span> <span data-ttu-id="70135-184">Gdy punkt końcowy dla usługi musi ulec zmianie, bezpośrednie odwołania może spowodować poważne refaktoryzacji.</span><span class="sxs-lookup"><span data-stu-id="70135-184">When the endpoint for a service needs to change, direct references could result in major refactoring.</span></span> <span data-ttu-id="70135-185">Sugerowanym rozwiązaniem jest zapewnienie mechanizmu odnajdywania usług, takiego jak rejestr, który zapewnia odpowiedni punkt końcowy dla typu żądania.</span><span class="sxs-lookup"><span data-stu-id="70135-185">A suggested solution is to provide a service discovery mechanism, such as a registry, that provides the appropriate end point for a request type.</span></span> <span data-ttu-id="70135-186">Innym rozwiązaniem jest wykorzystanie usług obsługi wiadomości, takich jak kolejki lub tematy do komunikacji między usługami.</span><span class="sxs-lookup"><span data-stu-id="70135-186">Another solution is to leverage messaging services like queues or topics for communication between services.</span></span>

## <a name="managing-failure-and-providing-resiliency"></a><span data-ttu-id="70135-187">Zarządzanie awariami i zapewnianie odporności</span><span class="sxs-lookup"><span data-stu-id="70135-187">Managing failure and providing resiliency</span></span>

<span data-ttu-id="70135-188">Ważne jest również, aby wziąć pod uwagę *wzorzec wyłącznika*: Jeśli z jakiegoś powodu usługa nadal się nie powiedzie, nie zaleca się wielokrotnego wywoływania tej usługi.</span><span class="sxs-lookup"><span data-stu-id="70135-188">It's also important to consider the *circuit-breaker pattern*: If, for some reason, a service continues to fail, it isn't advisable to call that service repeatedly.</span></span> <span data-ttu-id="70135-189">Zamiast tego usługa alternatywna jest wywoływana lub komunikat zwracany, dopóki kondycja usługi zależnej zostanie ponownie ustanowiona.</span><span class="sxs-lookup"><span data-stu-id="70135-189">Instead, an alternative service is called or a message returned until the health of the dependent service is re-established.</span></span> <span data-ttu-id="70135-190">Architektura bezserwerowa musi uwzględniać strategię rozwiązywania zależności między służbami i zarządzania nimi.</span><span class="sxs-lookup"><span data-stu-id="70135-190">The serverless architecture needs to take into account the strategy for resolving and managing inter-service dependencies.</span></span>

<span data-ttu-id="70135-191">Aby kontynuować wzorzec wyłącznika, usługi muszą być odporne na uszkodzenia i odporne.</span><span class="sxs-lookup"><span data-stu-id="70135-191">To continue the circuit-breaker pattern, services need to be fault tolerant and resilient.</span></span> <span data-ttu-id="70135-192">Odporność na uszkodzenia odnosi się do możliwości kontynuowania działania aplikacji nawet po napotkaniu nieoczekiwanych wyjątków lub nieprawidłowych stanów.</span><span class="sxs-lookup"><span data-stu-id="70135-192">Fault tolerance refers to the ability of your application to continue running even after unexpected exceptions or invalid states are encountered.</span></span> <span data-ttu-id="70135-193">Odporność na uszkodzenia jest zazwyczaj funkcją samego kodu i jak jest zapisywany do obsługi wyjątków.</span><span class="sxs-lookup"><span data-stu-id="70135-193">Fault tolerance is typically a function of the code itself and how it's written to handle exceptions.</span></span> <span data-ttu-id="70135-194">Odporność odnosi się do tego, jak aplikacja jest w stanie odzyskać po awarii.</span><span class="sxs-lookup"><span data-stu-id="70135-194">Resiliency refers to how capable the app is at recovering from failures.</span></span> <span data-ttu-id="70135-195">Odporność jest często zarządzana przez platformę bezserwerową.</span><span class="sxs-lookup"><span data-stu-id="70135-195">Resiliency is often managed by the serverless platform.</span></span> <span data-ttu-id="70135-196">Platforma powinna być w stanie rozkręcić nowe wystąpienie funkcji bezserwerowej, gdy istniejący nie powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="70135-196">The platform should be able to spin up a new serverless function instance when the existing one fails.</span></span> <span data-ttu-id="70135-197">Platforma powinna być również wystarczająco inteligentna, aby zatrzymać przędzenie nowych wystąpień, gdy każde nowe wystąpienie nie powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="70135-197">The platform should also be intelligent enough to stop spinning up new instances when every new instance fails.</span></span>

<span data-ttu-id="70135-198">Aby uzyskać więcej informacji, zobacz [Implementowanie wzorca wyłącznika](../microservices/implement-resilient-applications/implement-circuit-breaker-pattern.md).</span><span class="sxs-lookup"><span data-stu-id="70135-198">For more information, see [Implementing the Circuit Breaker pattern](../microservices/implement-resilient-applications/implement-circuit-breaker-pattern.md).</span></span>

## <a name="versioning-and-greenblue-deployments"></a><span data-ttu-id="70135-199">Przechowywanie wersji i wdrożenia w kolorze zielonym/niebieskim</span><span class="sxs-lookup"><span data-stu-id="70135-199">Versioning and green/blue deployments</span></span>

<span data-ttu-id="70135-200">Główną zaletą bezserwerowej jest możliwość uaktualnienia określonej funkcji bez konieczności ponownego wdrażania całej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="70135-200">A major benefit of serverless is the ability to upgrade a specific function without having to redeploy the entire application.</span></span> <span data-ttu-id="70135-201">Aby uaktualnienia zakończyły się pomyślnie, funkcje muszą być wersjonowane, aby usługi wywołujące je były kierowane do poprawnej wersji kodu.</span><span class="sxs-lookup"><span data-stu-id="70135-201">For upgrades to be successful, functions must be versioned so that services calling them are routed to the correct version of code.</span></span> <span data-ttu-id="70135-202">Ważna jest również strategia wdrażania nowych wersji.</span><span class="sxs-lookup"><span data-stu-id="70135-202">A strategy for deploying new versions is also important.</span></span> <span data-ttu-id="70135-203">Typowym podejściem jest użycie "zielonych/niebieskich wdrożeń".</span><span class="sxs-lookup"><span data-stu-id="70135-203">A common approach is to use "green/blue deployments."</span></span> <span data-ttu-id="70135-204">Zielone wdrożenie jest bieżącą funkcją.</span><span class="sxs-lookup"><span data-stu-id="70135-204">The green deployment is the current function.</span></span> <span data-ttu-id="70135-205">Nowa "niebieska" wersja jest wdrażana w środowisku produkcyjnym i testowana.</span><span class="sxs-lookup"><span data-stu-id="70135-205">A new "blue" version is deployed to production and tested.</span></span> <span data-ttu-id="70135-206">Podczas testowania przebiegów, wersje zielone i niebieskie są wymieniane, więc nowa wersja jest dostępna na żywo.</span><span class="sxs-lookup"><span data-stu-id="70135-206">When testing passes, the green and blue versions are swapped so the new version comes live.</span></span> <span data-ttu-id="70135-207">Jeśli wystąpią jakiekolwiek problemy, można je zamienić z powrotem.</span><span class="sxs-lookup"><span data-stu-id="70135-207">If any issues are encountered, they can be swapped back.</span></span> <span data-ttu-id="70135-208">Obsługa wersji i wdrożeń zielony/niebieski wymaga kombinacji tworzenia funkcji, aby uwzględnić zmiany wersji i pracy z platformą bezserwerową do obsługi wdrożeń.</span><span class="sxs-lookup"><span data-stu-id="70135-208">Supporting versioning and green/blue deployments requires a combination of authoring the functions to accommodate version changes and working with the serverless platform to handle deployments.</span></span> <span data-ttu-id="70135-209">Jednym z możliwych podejść jest użycie serwerów proxy, które są opisane w rozdziale [platformy bezserwerowej platformy platformy platformy platformy platformy platformy platformy Platformy Azure.](azure-functions.md#proxies)</span><span class="sxs-lookup"><span data-stu-id="70135-209">One possible approach is to use proxies, which are described in the [Azure serverless platform](azure-functions.md#proxies) chapter.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="70135-210">[Poprzedni](serverless-architecture.md)
>[następny](serverless-design-examples.md)</span><span class="sxs-lookup"><span data-stu-id="70135-210">[Previous](serverless-architecture.md)
[Next](serverless-design-examples.md)</span></span>
