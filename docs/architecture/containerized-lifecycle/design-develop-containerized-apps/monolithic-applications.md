---
title: Aplikacje monolityczne
description: Zapoznaj się z podstawowymi pojęciami konteneryzacji aplikacji monolitycznych.
ms.date: 02/15/2019
ms.openlocfilehash: 3c186f6a300588816916886927f93e0c06ebd6bc
ms.sourcegitcommit: e3cbf26d67f7e9286c7108a2752804050762d02d
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/09/2020
ms.locfileid: "80988989"
---
# <a name="monolithic-applications"></a><span data-ttu-id="59f77-103">Aplikacje monolityczne</span><span class="sxs-lookup"><span data-stu-id="59f77-103">Monolithic applications</span></span>

<span data-ttu-id="59f77-104">W tym scenariuszu budujesz pojedynczą i monolityczną aplikację sieci web lub usługę sieci web i wdrażasz ją jako kontener.</span><span class="sxs-lookup"><span data-stu-id="59f77-104">In this scenario, you're building a single and monolithic web application or service and deploying it as a container.</span></span> <span data-ttu-id="59f77-105">W aplikacji struktura może nie być monolityczne; może składać się z kilku bibliotek, składników, a nawet warstw (warstwa aplikacji, warstwa domeny, warstwa dostępu do danych itp.).</span><span class="sxs-lookup"><span data-stu-id="59f77-105">Within the application, the structure might not be monolithic; it might comprise several libraries, components, or even layers (application layer, domain layer, data access layer, etc.).</span></span> <span data-ttu-id="59f77-106">Zewnętrznie jest to pojedynczy kontener, taki jak pojedynczy proces, pojedyncza aplikacja sieci web lub pojedyncza usługa.</span><span class="sxs-lookup"><span data-stu-id="59f77-106">Externally, it's a single container, like a single process, single web application, or single service.</span></span>

<span data-ttu-id="59f77-107">Aby zarządzać tym modelem, należy wdrożyć pojedynczy kontener do reprezentowania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="59f77-107">To manage this model, you deploy a single container to represent the application.</span></span> <span data-ttu-id="59f77-108">Aby go skalować, wystarczy dodać kilka dodatkowych kopii z modułem równoważenia obciążenia z przodu.</span><span class="sxs-lookup"><span data-stu-id="59f77-108">To scale it, just add a few more copies with a load balancer in front.</span></span> <span data-ttu-id="59f77-109">Prostota pochodzi z zarządzania pojedynczym wdrożeniem w jednym kontenerze lub maszynie wirtualnej (VM).</span><span class="sxs-lookup"><span data-stu-id="59f77-109">The simplicity comes from managing a single deployment in a single container or virtual machine (VM).</span></span>

<span data-ttu-id="59f77-110">Po zleceniodawcy, że kontener robi tylko jedną rzecz i robi to w jednym procesie, wzorzec monolityczny jest w konflikcie.</span><span class="sxs-lookup"><span data-stu-id="59f77-110">Following the principal that a container does one thing only, and does it in one process, the monolithic pattern is in conflict.</span></span> <span data-ttu-id="59f77-111">W każdym kontenerze można dołączyć wiele składników/bibliotek lub warstw wewnętrznych, jak pokazano na rysunku 4-1.</span><span class="sxs-lookup"><span data-stu-id="59f77-111">You can include multiple components/libraries or internal layers within each container, as illustrated in Figure 4-1.</span></span>

![Diagram przedstawiający monolityczną aplikację, która jest skalowana w poziomie przez klonowanie aplikacji.](./media/monolithic-applications/monolithic-application-architecture-example.png)

<span data-ttu-id="59f77-113">**Rysunek 4-1.**</span><span class="sxs-lookup"><span data-stu-id="59f77-113">**Figure 4-1.**</span></span> <span data-ttu-id="59f77-114">Przykład monolitycznej architektury aplikacji</span><span class="sxs-lookup"><span data-stu-id="59f77-114">An example of monolithic application architecture</span></span>

<span data-ttu-id="59f77-115">Aplikacja monolityczne ma wszystkie lub większość jego funkcji w ramach jednego procesu lub kontenera i jest s componentized w warstwach wewnętrznych lub bibliotek.</span><span class="sxs-lookup"><span data-stu-id="59f77-115">A monolithic app has all or most of its functionality within a single process or container and it's componentized in internal layers or libraries.</span></span> <span data-ttu-id="59f77-116">Wadą tego podejścia jest, jeśli lub gdy aplikacja rośnie, wymagając go do skalowania.</span><span class="sxs-lookup"><span data-stu-id="59f77-116">The downside to this approach comes if or when the application grows, requiring it to scale.</span></span> <span data-ttu-id="59f77-117">Jeśli cała aplikacja skalowana, to naprawdę nie jest problem.</span><span class="sxs-lookup"><span data-stu-id="59f77-117">If the entire application scaled, it's not really a problem.</span></span> <span data-ttu-id="59f77-118">Jednak w większości przypadków kilka części aplikacji są punkty dławika, które wymagają skalowania, podczas gdy inne składniki są używane mniej.</span><span class="sxs-lookup"><span data-stu-id="59f77-118">However, in most cases, a few parts of the application are the choke points that require scaling, whereas other components are used less.</span></span>

<span data-ttu-id="59f77-119">Korzystając z typowego przykładu handlu elektronicznego, prawdopodobnie potrzebujesz skalowania składnika informacji o produkcie.</span><span class="sxs-lookup"><span data-stu-id="59f77-119">Using the typical e-commerce example, what you likely need is to scale the product information component.</span></span> <span data-ttu-id="59f77-120">O wiele więcej klientów przegląda produkty niż je kupuje.</span><span class="sxs-lookup"><span data-stu-id="59f77-120">Many more customers browse products than purchase them.</span></span> <span data-ttu-id="59f77-121">Więcej klientów korzysta z koszyka niż z potoku płatności.</span><span class="sxs-lookup"><span data-stu-id="59f77-121">More customers use their basket than use the payment pipeline.</span></span> <span data-ttu-id="59f77-122">Mniej klientów dodawać komentarze lub wyświetlić ich historii zakupów.</span><span class="sxs-lookup"><span data-stu-id="59f77-122">Fewer customers add comments or view their purchase history.</span></span> <span data-ttu-id="59f77-123">I prawdopodobnie masz tylko garstkę pracowników, w jednym regionie, którzy muszą zarządzać treściami i kampaniami marketingowymi.</span><span class="sxs-lookup"><span data-stu-id="59f77-123">And you likely have only a handful of employees, in a single region, that need to manage the content and marketing campaigns.</span></span> <span data-ttu-id="59f77-124">Skalując projekt monolityczny, cały kod jest wdrażany wiele razy.</span><span class="sxs-lookup"><span data-stu-id="59f77-124">By scaling the monolithic design, all of the code is deployed multiple times.</span></span>

<span data-ttu-id="59f77-125">Oprócz problemu "scale-everything", zmiany w jednym składniku wymagają pełnego ponownego przetestowania całej aplikacji, a także pełnego ponownego rozmieszczenia wszystkich wystąpień.</span><span class="sxs-lookup"><span data-stu-id="59f77-125">In addition to the "scale-everything" problem, changes to a single component require complete retesting of the entire application as well as a complete redeployment of all the instances.</span></span>

<span data-ttu-id="59f77-126">Podejście monolityczne jest powszechne, a wiele organizacji opracowuje za pomocą tej metody architektonicznej.</span><span class="sxs-lookup"><span data-stu-id="59f77-126">The monolithic approach is common, and many organizations are developing with this architectural method.</span></span> <span data-ttu-id="59f77-127">Wielu z nich cieszy się wystarczająco dobrymi wynikami, podczas gdy inni napotykają ograniczenia.</span><span class="sxs-lookup"><span data-stu-id="59f77-127">Many enjoy good enough results, whereas others encounter limits.</span></span> <span data-ttu-id="59f77-128">Wiele z nich zaprojektowało swoje aplikacje w tym modelu, ponieważ narzędzia i infrastruktura były zbyt trudne do zbudowania soa i nie widzą potrzeby — dopóki aplikacja nie wzrosła.</span><span class="sxs-lookup"><span data-stu-id="59f77-128">Many designed their applications in this model because the tools and infrastructure were too difficult to build SOAs, and they didn't see the need—until the app grew.</span></span>

<span data-ttu-id="59f77-129">Z punktu widzenia infrastruktury każdy serwer może uruchamiać wiele aplikacji w ramach tego samego hosta i mieć akceptowalny stosunek wydajności w użyciu zasobów, jak pokazano na rysunku 4-2.</span><span class="sxs-lookup"><span data-stu-id="59f77-129">From an infrastructure perspective, each server can run many applications within the same host and have an acceptable ratio of efficiency in your resources usage, as shown in Figure 4-2.</span></span>

![Diagram przedstawiający jeden host z wieloma aplikacjami w oddzielnych kontenerach.](./media/monolithic-applications/host-with-multiple-apps-containers.png)

<span data-ttu-id="59f77-131">**Rysunek 4-2.**</span><span class="sxs-lookup"><span data-stu-id="59f77-131">**Figure 4-2.**</span></span> <span data-ttu-id="59f77-132">Host z wieloma aplikacjami/kontenerami</span><span class="sxs-lookup"><span data-stu-id="59f77-132">A host running multiple apps/containers</span></span>

<span data-ttu-id="59f77-133">Wreszcie, z punktu widzenia dostępności, aplikacje monolityczne muszą być wdrażane jako całość; oznacza to, że w przypadku, gdy należy *zatrzymać i uruchomić,* wszystkie funkcje i wszyscy użytkownicy zostaną naruszone podczas okna wdrażania.</span><span class="sxs-lookup"><span data-stu-id="59f77-133">Finally, from an availability perspective, monolithic applications must be deployed as a whole; that means that in case you must *stop and start*, all functionality and all users will be affected during the deployment window.</span></span> <span data-ttu-id="59f77-134">W niektórych sytuacjach użycie platformy Azure i kontenerów można zminimalizować te sytuacje i zmniejszyć prawdopodobieństwo przestoju aplikacji, jak widać na rysunku 4-3.</span><span class="sxs-lookup"><span data-stu-id="59f77-134">In certain situations, the use of Azure and containers can minimize these situations and reduce the probability of downtime of your application, as you can see in Figure 4-3.</span></span>

<span data-ttu-id="59f77-135">Aplikacje monolityczne można wdrożyć na platformie Azure przy użyciu dedykowanych maszyn wirtualnych dla każdego wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="59f77-135">You can deploy monolithic applications in Azure by using dedicated VMs for each instance.</span></span> <span data-ttu-id="59f77-136">Za pomocą [zestawów skalowania maszyn wirtualnych platformy Azure](https://docs.microsoft.com/azure/virtual-machine-scale-sets/)można łatwo skalować maszyny wirtualne.</span><span class="sxs-lookup"><span data-stu-id="59f77-136">Using [Azure VM Scale Sets](https://docs.microsoft.com/azure/virtual-machine-scale-sets/), you can scale the VMs easily.</span></span>

<span data-ttu-id="59f77-137">Usługi Azure [App Services](https://azure.microsoft.com/services/app-service/) można również używać do uruchamiania aplikacji monolitycznych i łatwego skalowania wystąpień bez konieczności zarządzania maszynami wirtualnymi.</span><span class="sxs-lookup"><span data-stu-id="59f77-137">You can also use [Azure App Services](https://azure.microsoft.com/services/app-service/) to run monolithic applications and easily scale instances without having to manage the VMs.</span></span> <span data-ttu-id="59f77-138">Usługi Azure App Services można uruchomić pojedyncze wystąpienia kontenerów platformy Docker, jak również, upraszczając wdrożenie.</span><span class="sxs-lookup"><span data-stu-id="59f77-138">Azure App Services can run single instances of Docker containers, as well, simplifying the deployment.</span></span>

<span data-ttu-id="59f77-139">Można wdrożyć wiele maszyn wirtualnych jako hosty platformy Docker i uruchomić dowolną liczbę kontenerów na maszynę wirtualną.</span><span class="sxs-lookup"><span data-stu-id="59f77-139">You can deploy multiple VMs as Docker hosts and run any number of containers per VM.</span></span> <span data-ttu-id="59f77-140">Następnie za pomocą modułu Równoważenia obciążenia platformy Azure, jak pokazano na rysunku 4-3, można zarządzać skalowania.</span><span class="sxs-lookup"><span data-stu-id="59f77-140">Then, by using an Azure Load Balancer, as illustrated in the Figure 4-3, you can manage scaling.</span></span>

![Diagram przedstawiający monolityczną aplikację skalowany w poziomie do różnych hostów.](./media/monolithic-applications/multiple-hosts-from-single-docker-container.png)

<span data-ttu-id="59f77-142">**Rysunek 4-3**.</span><span class="sxs-lookup"><span data-stu-id="59f77-142">**Figure 4-3**.</span></span> <span data-ttu-id="59f77-143">Wiele hostów skalowania w poziomie pojedynczej aplikacji platformy Docker</span><span class="sxs-lookup"><span data-stu-id="59f77-143">Multiple hosts scaling out a single Docker application</span></span>

<span data-ttu-id="59f77-144">Można zarządzać wdrażaniem samych hostów za pomocą tradycyjnych technik wdrażania.</span><span class="sxs-lookup"><span data-stu-id="59f77-144">You can manage the deployment of the hosts themselves via traditional deployment techniques.</span></span>

<span data-ttu-id="59f77-145">Kontenery platformy Docker można zarządzać z wiersza polecenia za pomocą poleceń, takich jak `docker run` i `docker-compose up`, a także można zautomatyzować go w potokach ciągłego dostarczania (CD) i wdrożyć do hostów platformy Docker z usług Azure DevOps, na przykład.</span><span class="sxs-lookup"><span data-stu-id="59f77-145">You can manage Docker containers from the command line by using commands like `docker run` and `docker-compose up`, and you can also automate it in Continuous Delivery (CD) pipelines and deploy to Docker hosts from Azure DevOps Services, for instance.</span></span>

## <a name="monolithic-application-deployed-as-a-container"></a><span data-ttu-id="59f77-146">Aplikacja monolityczna wdrożona jako kontener</span><span class="sxs-lookup"><span data-stu-id="59f77-146">Monolithic application deployed as a container</span></span>

<span data-ttu-id="59f77-147">Istnieją korzyści przy użyciu kontenerów do zarządzania wdrożeniami monolitycznymi.</span><span class="sxs-lookup"><span data-stu-id="59f77-147">There are benefits to using containers to manage monolithic deployments.</span></span> <span data-ttu-id="59f77-148">Skalowanie wystąpień kontenerów jest znacznie szybsze i łatwiejsze niż wdrażanie dodatkowych maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="59f77-148">Scaling the instances of containers is far faster and easier than deploying additional VMs.</span></span>

<span data-ttu-id="59f77-149">Wdrażanie aktualizacji jako obrazów platformy Docker jest znacznie szybsze i wydajne w sieci.</span><span class="sxs-lookup"><span data-stu-id="59f77-149">Deploying updates as Docker images is far faster and network efficient.</span></span> <span data-ttu-id="59f77-150">Kontenery platformy Docker zazwyczaj rozpoczynają się w ciągu kilku sekund, przyspieszając wdrażanie.</span><span class="sxs-lookup"><span data-stu-id="59f77-150">Docker containers typically start in seconds, speeding rollouts.</span></span> <span data-ttu-id="59f77-151">Burzenie kontenera platformy Docker jest tak `docker stop` proste, jak wywoływanie polecenia, zazwyczaj ukończenie w mniej niż sekundę.</span><span class="sxs-lookup"><span data-stu-id="59f77-151">Tearing down a Docker container is as easy as invoking the `docker stop` command, typically completing in less than a second.</span></span>

<span data-ttu-id="59f77-152">Ponieważ kontenery są z natury niezmienne, zgodnie z projektem, nigdy nie musisz się martwić o uszkodzone maszyny wirtualne, ponieważ skrypt aktualizacji zapomniał uwzględnić określoną konfigurację lub plik pozostawiony na dysku.</span><span class="sxs-lookup"><span data-stu-id="59f77-152">Because containers are inherently immutable, by design, you never need to worry about corrupted VMs because an update script forgot to account for some specific configuration or file left on disk.</span></span>

<span data-ttu-id="59f77-153">Chociaż aplikacje monolityczne mogą korzystać z platformy Docker, dotykamy tylko wskazówek dotyczących korzyści.</span><span class="sxs-lookup"><span data-stu-id="59f77-153">Although monolithic apps can benefit from Docker, we're touching on only the tips of the benefits.</span></span> <span data-ttu-id="59f77-154">Większe korzyści z zarządzania kontenerami pochodzą z wdrażania za pomocą koordynatorów kontenerów, które zarządzają różnymi wystąpieniami i cyklem życia każdego wystąpienia kontenera.</span><span class="sxs-lookup"><span data-stu-id="59f77-154">The larger benefits of managing containers come from deploying with container orchestrators that manage the various instances and life cycle of each container instance.</span></span> <span data-ttu-id="59f77-155">Podział aplikacji monolitycznych na podsystemy, które mogą być skalowane, opracowane i wdrażane indywidualnie jest punkt wejścia do obszaru mikrousług.</span><span class="sxs-lookup"><span data-stu-id="59f77-155">Breaking up the monolithic application into subsystems that can be scaled, developed, and deployed individually is your entry point into the realm of microservices.</span></span>

<span data-ttu-id="59f77-156">Aby dowiedzieć się, jak "podnieść i przesunąć" aplikacje monolityczne za pomocą kontenerów i jak zmodernizować aplikacje, możesz przeczytać ten dodatkowy przewodnik <https://aka.ms/LiftAndShiftWithContainersEbook>firmy Microsoft, [Modernizuj istniejące aplikacje .NET za pomocą chmury Azure i kontenerów systemu Windows,](../../modernize-with-azure-containers/index.md)które można również pobrać w formacie PDF z .</span><span class="sxs-lookup"><span data-stu-id="59f77-156">To learn about how to "lift and shift" monolithic applications with containers and how you can modernize your applications, you can read this additional Microsoft guide, [Modernize existing .NET applications with Azure cloud and Windows Containers](../../modernize-with-azure-containers/index.md), which you can also download as PDF from <https://aka.ms/LiftAndShiftWithContainersEbook>.</span></span>

## <a name="publish-a-single-docker-container-app-to-azure-app-service"></a><span data-ttu-id="59f77-157">Publikowanie pojedynczej aplikacji kontenera platformy Docker w usłudze Azure App Service</span><span class="sxs-lookup"><span data-stu-id="59f77-157">Publish a single Docker container app to Azure App Service</span></span>

<span data-ttu-id="59f77-158">Ponieważ chcesz uzyskać szybką weryfikację kontenera wdrożonego na platformie Azure lub ponieważ aplikacja jest po prostu aplikacją z jednym kontenerem, usługi Azure App Services zapewniają doskonały sposób na zapewnienie skalowalnych usług pojedynczego kontenera.</span><span class="sxs-lookup"><span data-stu-id="59f77-158">Either because you want to get a quick validation of a container deployed to Azure or because the app is simply a single-container app, Azure App Services provides a great way to provide scalable single-container services.</span></span>

<span data-ttu-id="59f77-159">Korzystanie z usługi Azure App Service jest intuicyjne i można szybko rozpocząć i uruchomić, ponieważ zapewnia doskonałą integrację Git do podjęcia kodu, skompilować go w programie Microsoft Visual Studio i bezpośrednio wdrożyć go na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="59f77-159">Using Azure App Service is intuitive and you can get up and running quickly because it provides great Git integration to take your code, build it in Microsoft Visual Studio, and directly deploy it to Azure.</span></span> <span data-ttu-id="59f77-160">Ale tradycyjnie (bez platformy Docker), jeśli potrzebujesz innych funkcji, struktur lub zależności, które nie są obsługiwane w usługach app services, trzeba czekać na to, aż zespół platformy Azure aktualizuje te zależności w usłudze App Service lub przełączyć się na inne usługi, takie jak sieć szkieletowa usług, usługi w chmurze lub nawet zwykłych maszyn wirtualnych, dla których masz dalszą kontrolę i można zainstalować wymagany składnik lub strukturę dla aplikacji.</span><span class="sxs-lookup"><span data-stu-id="59f77-160">But, traditionally (with no Docker), if you needed other capabilities, frameworks, or dependencies that aren't supported in App Services, you needed to wait for it until the Azure team updates those dependencies in App Service or switched to other services like Service Fabric, Cloud Services, or even plain VMs, for which you have further control and can install a required component or framework for your application.</span></span>

<span data-ttu-id="59f77-161">Teraz, jak pokazano na rysunku 4-4, podczas korzystania z programu Visual Studio 2017 obsługa kontenerów w usłudze Azure App Service umożliwia uwzględnienie tego, co chcesz w środowisku aplikacji.</span><span class="sxs-lookup"><span data-stu-id="59f77-161">Now, as shown in Figure 4-4, when using Visual Studio 2017, container support in Azure App Service gives you the ability to include whatever you want in your app environment.</span></span> <span data-ttu-id="59f77-162">Jeśli dodano zależność do aplikacji, ponieważ jest on uruchomiony w kontenerze, można uzyskać możliwość włączenia tych zależności w obrazie dockerfile lub docker.</span><span class="sxs-lookup"><span data-stu-id="59f77-162">If you added a dependency to your app, because you're running it in a container, you get the capability of including those dependencies in your Dockerfile or Docker image.</span></span>

![Zrzut ekranu przedstawiający okno dialogowe Tworzenie usługi app service przedstawiające rejestr kontenerów.](./media/monolithic-applications/publish-azure-app-service-container.png)

<span data-ttu-id="59f77-164">**Rysunek 4-4**.</span><span class="sxs-lookup"><span data-stu-id="59f77-164">**Figure 4-4**.</span></span> <span data-ttu-id="59f77-165">Publikowanie kontenera w usłudze Azure App Service z aplikacji/kontenerów programu Visual Studio</span><span class="sxs-lookup"><span data-stu-id="59f77-165">Publishing a container to Azure App Service from Visual Studio apps/containers</span></span>

<span data-ttu-id="59f77-166">Rysunek 4-4 pokazuje również, że przepływ publikowania wypycha obraz za pośrednictwem rejestru kontenerów, który może być rejestrem kontenerów platformy Azure (rejestrem zbliżonym do wdrożeń na platformie Azure i zabezpieczonym przez grupy i konta usługi Azure Active Directory) lub dowolnym innym rejestrem platformy Docker, takim jak Docker Hub lub rejestrami lokalnymi.</span><span class="sxs-lookup"><span data-stu-id="59f77-166">Figure 4-4 also shows that the publish flow pushes an image through a Container Registry, which can be the Azure Container Registry (a registry near to your deployments in Azure and secured by Azure Active Directory groups and accounts) or any other Docker Registry like Docker Hub or on-premises registries.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="59f77-167">[Poprzedni](common-container-design-principles.md)
>[następny](state-and-data-in-docker-applications.md)</span><span class="sxs-lookup"><span data-stu-id="59f77-167">[Previous](common-container-design-principles.md)
[Next](state-and-data-in-docker-applications.md)</span></span>
