---
title: Visual Studio Tools for Docker w systemie Windows
description: Poznaj narzędzia platformy Docker dostępne w programie Visual Studio 2017 w wersji 15,7 lub nowszej.
ms.date: 08/06/2020
ms.custom: vs-dotnet
ms.openlocfilehash: ae20ebf7c3c27d7f2ebe51c33719b82048f86241
ms.sourcegitcommit: 0802ac583585110022beb6af8ea0b39188b77c43
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 11/25/2020
ms.locfileid: "96032193"
---
# <a name="use-docker-tools-in-visual-studio-on-windows"></a><span data-ttu-id="fc213-103">Korzystanie z narzędzi platformy Docker w programie Visual Studio w systemie Windows</span><span class="sxs-lookup"><span data-stu-id="fc213-103">Use Docker Tools in Visual Studio on Windows</span></span>

<span data-ttu-id="fc213-104">Przepływ pracy dla deweloperów korzystający z narzędzi platformy Docker zawartych w programie Visual Studio 2017 w wersji 15,7 lub nowszej jest podobny do używania Visual Studio Code i interfejsu wiersza polecenia platformy Docker (w rzeczywistości opiera się na tym samym interfejsie wiersza polecenia platformy Docker), ale ułatwia rozpoczęcie pracy, upraszcza proces i zapewnia większą produktywność kompilowania, uruchamiania i tworzenia zadań.</span><span class="sxs-lookup"><span data-stu-id="fc213-104">The developer workflow when using the Docker Tools included in Visual Studio 2017 version 15.7 and later, is similar to using Visual Studio Code and Docker CLI (in fact, it's based on the same Docker CLI), but it's easier to get started, simplifies the process, and provides greater productivity for the build, run, and compose tasks.</span></span> <span data-ttu-id="fc213-105">Może również uruchamiać i debugować kontenery za pośrednictwem typowych `F5` `Ctrl+F5` kluczy z programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fc213-105">It can also run and debug your containers via the usual `F5` and `Ctrl+F5` keys from Visual Studio.</span></span> <span data-ttu-id="fc213-106">Można nawet debugować całe rozwiązanie, jeśli jego kontenery są zdefiniowane w tym samym `docker-compose.yml` pliku na poziomie rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="fc213-106">You can even debug a whole solution if its containers are defined in the same `docker-compose.yml` file at the solution level.</span></span>

## <a name="configure-your-local-environment"></a><span data-ttu-id="fc213-107">Konfigurowanie środowiska lokalnego</span><span class="sxs-lookup"><span data-stu-id="fc213-107">Configure your local environment</span></span>

<span data-ttu-id="fc213-108">Najnowsze wersje Docker for Windows ułatwiają tworzenie aplikacji platformy Docker, ponieważ konfiguracja jest prosta, zgodnie z opisem w poniższych odwołaniach.</span><span class="sxs-lookup"><span data-stu-id="fc213-108">With the latest versions of Docker for Windows, it's easier than ever to develop Docker applications because the setup is straightforward, as explained in the following references.</span></span>

> [!TIP]
> <span data-ttu-id="fc213-109">Aby dowiedzieć się więcej o instalowaniu Docker for Windows, przejdź do ( <https://docs.docker.com/docker-for-windows/> ).</span><span class="sxs-lookup"><span data-stu-id="fc213-109">To learn more about installing Docker for Windows, go to (<https://docs.docker.com/docker-for-windows/>).</span></span>

## <a name="docker-support-in-visual-studio"></a><span data-ttu-id="fc213-110">Obsługa platformy Docker w programie Visual Studio</span><span class="sxs-lookup"><span data-stu-id="fc213-110">Docker support in Visual Studio</span></span>

<span data-ttu-id="fc213-111">Istnieją dwa poziomy obsługi platformy Docker, które można dodać do projektu.</span><span class="sxs-lookup"><span data-stu-id="fc213-111">There are two levels of Docker support you can add to a project.</span></span> <span data-ttu-id="fc213-112">W projektach ASP.NET Core można po prostu dodać `Dockerfile` plik do projektu, włączając obsługę platformy Docker.</span><span class="sxs-lookup"><span data-stu-id="fc213-112">In ASP.NET Core projects, you can just add a `Dockerfile` file to the project by enabling Docker support.</span></span> <span data-ttu-id="fc213-113">Następnym poziomem jest obsługa aranżacji kontenerów, która dodaje `Dockerfile` do projektu (jeśli jeszcze nie istnieje) i `docker-compose.yml` plik na poziomie rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="fc213-113">The next level is container orchestration support, which adds a `Dockerfile` to the project (if it doesn't already exist) and a `docker-compose.yml` file at the solution level.</span></span> <span data-ttu-id="fc213-114">Obsługa aranżacji kontenerów za pośrednictwem Docker Compose jest domyślnie dodawana w programie Visual Studio 2017 w wersji 15,0 do 15,7.</span><span class="sxs-lookup"><span data-stu-id="fc213-114">Container orchestration support, via Docker Compose, is added by default in Visual Studio 2017 versions 15.0 to 15.7.</span></span> <span data-ttu-id="fc213-115">Obsługa aranżacji kontenerów to funkcja opcjonalna w programie Visual Studio 2017 w wersji 15,8 lub nowszej.</span><span class="sxs-lookup"><span data-stu-id="fc213-115">Container orchestration support is an opt-in feature in Visual Studio 2017 versions 15.8 or later.</span></span> <span data-ttu-id="fc213-116">Program Visual Studio 2019 lub nowszy obsługuje również wdrożenie **Kubernetes/Helm** .</span><span class="sxs-lookup"><span data-stu-id="fc213-116">Visual Studio 2019 and later supports **Kubernetes/Helm** deployment as well.</span></span>

<span data-ttu-id="fc213-117">Polecenia **dodaj > Docker support** i **Dodawanie > kontenerów pomocy technicznej Orchestrator** znajdują się w menu rozwijanym prawym przyciskiem myszy (lub w menu kontekstowym) węzła projektu dla projektu ASP.NET Core w **Eksplorator rozwiązań**, jak pokazano na rysunku 4-31:</span><span class="sxs-lookup"><span data-stu-id="fc213-117">The **Add > Docker Support** and **Add > Container Orchestrator Support** commands are located on the right-click menu (or context menu) of the project node for an ASP.NET Core project in **Solution Explorer**, as shown in Figure 4-31:</span></span>

![Opcja menu Dodaj obsługę platformy Docker w programie Visual Studio](media/add-docker-support-menu.png)

<span data-ttu-id="fc213-119">**Rysunek 4-31**.</span><span class="sxs-lookup"><span data-stu-id="fc213-119">**Figure 4-31**.</span></span> <span data-ttu-id="fc213-120">Dodawanie obsługi platformy Docker do projektu programu Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="fc213-120">Adding Docker support to a Visual Studio 2019 project</span></span>

### <a name="add-docker-support"></a><span data-ttu-id="fc213-121">Dodawanie obsługi platformy Docker</span><span class="sxs-lookup"><span data-stu-id="fc213-121">Add Docker support</span></span>

<span data-ttu-id="fc213-122">Oprócz opcji dodawania obsługi platformy Docker do istniejącej aplikacji, jak pokazano w poprzedniej sekcji, można również włączyć obsługę platformy Docker podczas tworzenia projektu, wybierając opcję **Włącz obsługę platformy Docker** w oknie dialogowym **Nowa aplikacja sieci Web ASP.NET Core** , które jest otwierane po kliknięciu przycisku **OK** w oknie dialogowym **nowy projekt** , jak pokazano na rysunku 4-32.</span><span class="sxs-lookup"><span data-stu-id="fc213-122">Besides the option to add Docker support to an existing application, as shown in the previous section, you can also enable Docker support during project creation by selecting **Enable Docker Support** in the **New ASP.NET Core Web Application** dialog box that opens after you click **OK** in the **New Project** dialog box, as shown in Figure 4-32.</span></span>

![Włącz obsługę platformy Docker dla nowej aplikacji internetowej ASP.NET Core w programie Visual Studio](media/enable-docker-support-visual-studio.png)

<span data-ttu-id="fc213-124">**Rysunek 4-32**.</span><span class="sxs-lookup"><span data-stu-id="fc213-124">**Figure 4-32**.</span></span> <span data-ttu-id="fc213-125">Włącz obsługę platformy Docker podczas tworzenia projektu w programie Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="fc213-125">Enable Docker support during project creation in Visual Studio 2019</span></span>

<span data-ttu-id="fc213-126">Po dodaniu lub włączeniu obsługi platformy Docker program Visual Studio dodaje do projektu plik _pliku dockerfile_ , który zawiera odwołania do wszystkich wymaganych projektów z rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="fc213-126">When you add or enable Docker support, Visual Studio adds a _Dockerfile_ file to the project, that includes references to all required project from the solution.</span></span>

### <a name="add-container-orchestration-support"></a><span data-ttu-id="fc213-127">Dodawanie obsługi aranżacji kontenera</span><span class="sxs-lookup"><span data-stu-id="fc213-127">Add container orchestration support</span></span>

<span data-ttu-id="fc213-128">Jeśli chcesz utworzyć rozwiązanie z obsługą kilku kontenerów, Dodaj obsługę aranżacji kontenera do projektów.</span><span class="sxs-lookup"><span data-stu-id="fc213-128">When you want to compose a multi-container solution, add container orchestration support to your projects.</span></span> <span data-ttu-id="fc213-129">Dzięki temu można uruchamiać i debugować grupę kontenerów (całe rozwiązanie) w tym samym czasie, jeśli są one zdefiniowane w tym samym pliku _Docker-Compose. yml_ .</span><span class="sxs-lookup"><span data-stu-id="fc213-129">This lets you run and debug a group of containers (a whole solution) at the same time if they're defined in the same _docker-compose.yml_ file.</span></span>

<span data-ttu-id="fc213-130">Aby dodać obsługę aranżacji kontenera, kliknij prawym przyciskiem myszy węzeł rozwiązania lub projektu w **Eksplorator rozwiązań** i wybierz polecenie **Dodaj obsługę aranżacji kontenerów >**.</span><span class="sxs-lookup"><span data-stu-id="fc213-130">To add container orchestration support, right-click on the solution or project node in **Solution Explorer**, and choose **Add > Container Orchestration Support**.</span></span> <span data-ttu-id="fc213-131">Następnie wybierz pozycję **Kubernetes/Helm** lub **Docker Compose** , aby zarządzać kontenerami.</span><span class="sxs-lookup"><span data-stu-id="fc213-131">Then choose **Kubernetes/Helm** or **Docker Compose** to manage the containers.</span></span>

<span data-ttu-id="fc213-132">Po dodaniu obsługi aranżacji kontenera do projektu zobaczysz pliku dockerfile dodaną do projektu i folderem **Docker-Zredaguj** do rozwiązania w **Eksplorator rozwiązań**, jak pokazano na rysunku 4-33:</span><span class="sxs-lookup"><span data-stu-id="fc213-132">After you add container orchestration support to your project, you see a Dockerfile added to the project and a **docker-compose** folder added to the solution in **Solution Explorer**, as shown in Figure 4-33:</span></span>

![Pliki platformy Docker w Eksplorator rozwiązań w programie Visual Studio](media/docker-support-solution-explorer.png)

<span data-ttu-id="fc213-134">**Rysunek 4-33**.</span><span class="sxs-lookup"><span data-stu-id="fc213-134">**Figure 4-33**.</span></span> <span data-ttu-id="fc213-135">Pliki platformy Docker w Eksplorator rozwiązań w programie Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="fc213-135">Docker files in Solution Explorer in Visual Studio 2019</span></span>

<span data-ttu-id="fc213-136">Jeśli _Docker-Compose. yml_ już istnieje, Visual Studio dodaje do niego wymagane wiersze kodu konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="fc213-136">If _docker-compose.yml_ already exists, Visual Studio just adds the required lines of configuration code to it.</span></span>

## <a name="configure-docker-tools"></a><span data-ttu-id="fc213-137">Konfigurowanie narzędzi platformy Docker</span><span class="sxs-lookup"><span data-stu-id="fc213-137">Configure Docker tools</span></span>

<span data-ttu-id="fc213-138">Z menu głównego wybierz polecenie **narzędzia > opcje** i rozwiń węzeł **Narzędzia kontenera > ustawienia**.</span><span class="sxs-lookup"><span data-stu-id="fc213-138">From the main menu, choose **Tools > Options**, and expand **Container Tools > Settings**.</span></span> <span data-ttu-id="fc213-139">Zostaną wyświetlone ustawienia narzędzi kontenerów.</span><span class="sxs-lookup"><span data-stu-id="fc213-139">The container tools settings appear.</span></span>

![Opcje narzędzi platformy Docker programu Visual Studio, pokazujące trzy strony: ogólne, pojedynczy projekt i Docker Compose, szczegóły w tekście artykułu.](media/visual-studio-docker-tools-options.png)

<span data-ttu-id="fc213-141">**Rysunek 4-34**.</span><span class="sxs-lookup"><span data-stu-id="fc213-141">**Figure 4-34**.</span></span> <span data-ttu-id="fc213-142">Opcje narzędzi platformy Docker</span><span class="sxs-lookup"><span data-stu-id="fc213-142">Docker Tools Options</span></span>

<span data-ttu-id="fc213-143">Poniższa tabela może pomóc określić, jak ustawić te opcje.</span><span class="sxs-lookup"><span data-stu-id="fc213-143">The following table might help you decide how to set these options.</span></span>

| <span data-ttu-id="fc213-144">Strona/ustawienie</span><span class="sxs-lookup"><span data-stu-id="fc213-144">Page/Setting</span></span>                                |  <span data-ttu-id="fc213-145">Ustawienie domyślne</span><span class="sxs-lookup"><span data-stu-id="fc213-145">Default Setting</span></span>   | <span data-ttu-id="fc213-146">Opis</span><span class="sxs-lookup"><span data-stu-id="fc213-146">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                           |
| ------------------------------------------- | :----------------: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="fc213-147">**Strona ogólna**</span><span class="sxs-lookup"><span data-stu-id="fc213-147">**General page**</span></span>                            |
| <span data-ttu-id="fc213-148">Zainstaluj program Docker Desktop w razie konieczności</span><span class="sxs-lookup"><span data-stu-id="fc213-148">Install Docker Desktop if needed</span></span>            |     <span data-ttu-id="fc213-149">Monituj</span><span class="sxs-lookup"><span data-stu-id="fc213-149">Prompt me</span></span>      |
| <span data-ttu-id="fc213-150">Uruchom pulpit platformy Docker w razie konieczności</span><span class="sxs-lookup"><span data-stu-id="fc213-150">Start Docker Desktop if needed</span></span>              |     <span data-ttu-id="fc213-151">Monituj</span><span class="sxs-lookup"><span data-stu-id="fc213-151">Prompt me</span></span>      |
| <span data-ttu-id="fc213-152">Certyfikat SSL ASP.NET Core zaufania</span><span class="sxs-lookup"><span data-stu-id="fc213-152">Trust ASP.NET Core SSL certificate</span></span>          |     <span data-ttu-id="fc213-153">Monituj</span><span class="sxs-lookup"><span data-stu-id="fc213-153">Prompt me</span></span>      | <span data-ttu-id="fc213-154">Jeśli certyfikat protokołu SSL hosta lokalnego nie został oznaczony jako zaufany (z `dotnet dev-certs https --trust` ), program Visual Studio wyświetli monit za każdym razem, gdy uruchomisz projekt.</span><span class="sxs-lookup"><span data-stu-id="fc213-154">If the localhost SSL certificate hasn't been marked as trusted (with `dotnet dev-certs https --trust`), Visual Studio will prompt every time you run your project.</span></span>                                                                                                                                                                                                                                                    |
| <span data-ttu-id="fc213-155">**Strona pojedynczego projektu**</span><span class="sxs-lookup"><span data-stu-id="fc213-155">**Single Project page**</span></span>                     |
| <span data-ttu-id="fc213-156">Ściągnij wymagane obrazy platformy Docker w otwartym projekcie</span><span class="sxs-lookup"><span data-stu-id="fc213-156">Pull required Docker images on project open</span></span> |        <span data-ttu-id="fc213-157">Prawda</span><span class="sxs-lookup"><span data-stu-id="fc213-157">True</span></span>        | <span data-ttu-id="fc213-158">W celu zwiększenia wydajności podczas uruchamiania projektu program Visual Studio rozpocznie operację ściągania platformy Docker w tle, dzięki czemu gdy wszystko będzie gotowe do uruchomienia kodu, obraz jest już pobrany lub proces pobierania.</span><span class="sxs-lookup"><span data-stu-id="fc213-158">For increased performance when running the project, Visual Studio will start a Docker pull operation in the background so that when you're ready to run your code, the image is already downloaded or in the process of downloading.</span></span> <span data-ttu-id="fc213-159">Jeśli właśnie ładujesz projekty i przeglądasz kod, możesz je wyłączyć, aby uniknąć pobierania niepotrzebnych obrazów kontenerów.</span><span class="sxs-lookup"><span data-stu-id="fc213-159">If you're just loading projects and browsing code, you can turn this off to avoid downloading container images you don't need.</span></span> <span data-ttu-id="fc213-160">Może to spowolnić otwarty projekt środowiska użytkownika.</span><span class="sxs-lookup"><span data-stu-id="fc213-160">This could slow the open project user experience.</span></span> |
| <span data-ttu-id="fc213-161">Ściąganie zaktualizowanych obrazów platformy Docker przy ładowaniu projektu</span><span class="sxs-lookup"><span data-stu-id="fc213-161">Pull updated Docker images on project load</span></span>  | <span data-ttu-id="fc213-162">Projekty .NET Core</span><span class="sxs-lookup"><span data-stu-id="fc213-162">.NET Core projects</span></span> | <span data-ttu-id="fc213-163">Pobierz aktualizacje do istniejących obrazów, aby uzyskać najnowsze aktualizacje w otwartym projekcie.</span><span class="sxs-lookup"><span data-stu-id="fc213-163">Pull updates to existing images to get the latest updates on project open.</span></span> <span data-ttu-id="fc213-164">Może to spowolnić otwarty projekt środowiska użytkownika.</span><span class="sxs-lookup"><span data-stu-id="fc213-164">This could slow the open project user experience.</span></span>                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="fc213-165">Usuń kontenery po zamknięciu projektu</span><span class="sxs-lookup"><span data-stu-id="fc213-165">Remove containers on project close</span></span>          |        <span data-ttu-id="fc213-166">Prawda</span><span class="sxs-lookup"><span data-stu-id="fc213-166">True</span></span>        | <span data-ttu-id="fc213-167">Oczyść po zamknięciu projektu, co może spowolnić środowisko pracy użytkownika projektu, ale zazwyczaj jest to zwykle szybkie.</span><span class="sxs-lookup"><span data-stu-id="fc213-167">Clean up on project close, This could slow the close project user experience but it's usually fast anyway.</span></span>                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="fc213-168">Uruchom kontenery przy otwartym projekcie</span><span class="sxs-lookup"><span data-stu-id="fc213-168">Run containers on project open</span></span>              |        <span data-ttu-id="fc213-169">Prawda</span><span class="sxs-lookup"><span data-stu-id="fc213-169">True</span></span>        | <span data-ttu-id="fc213-170">W celu zwiększenia wydajności podczas uruchamiania projektu program Visual Studio rozpocznie pracę ze wszystkimi kontenerami w rozwiązaniu.</span><span class="sxs-lookup"><span data-stu-id="fc213-170">For increased performance when running the project, Visual Studio will start all containers in the solution.</span></span> <span data-ttu-id="fc213-171">Może to spowolnić otwarty projekt środowiska użytkownika.</span><span class="sxs-lookup"><span data-stu-id="fc213-171">This could slow the open project user experience.</span></span>                                                                                                                                                                                                                                                        |
| <span data-ttu-id="fc213-172">**Docker Compose**</span><span class="sxs-lookup"><span data-stu-id="fc213-172">**Docker Compose**</span></span>                          |                    | <span data-ttu-id="fc213-173">Strona Docker Compose zawiera te same ustawienia co strona pojedynczego projektu, ale mają zastosowanie do rozwiązań obejmujących wiele kontenerów.</span><span class="sxs-lookup"><span data-stu-id="fc213-173">The Docker Compose page contains the same settings as the Single Project page, but they apply to multi-container solutions.</span></span>                                                                                                                                                                                                                                                                                           |

> [!WARNING]
> <span data-ttu-id="fc213-174">Jeśli certyfikat protokołu SSL hosta lokalnego nie jest zaufany i ustawisz opcję na **nigdy**, żądania sieci Web HTTPS mogą kończyć się niepowodzeniem w czasie wykonywania w aplikacji lub usłudze.</span><span class="sxs-lookup"><span data-stu-id="fc213-174">If the localhost SSL certificate is not trusted, and you set the option to **Never**, then HTTPS web requests might fail at runtime in your app or service.</span></span> <span data-ttu-id="fc213-175">W takim przypadku należy ponownie ustawić wartość z powrotem, aby **monitować** lub jeszcze lepiej ufać certyfikatom na komputerze deweloperskim przy użyciu polecenia `dotnet dev-certs https --trust` .</span><span class="sxs-lookup"><span data-stu-id="fc213-175">In that case, set the value back again to **Prompt me** or, better again, trust the certificates in your dev machine using the command `dotnet dev-certs https --trust`.</span></span>

> [!TIP]
> <span data-ttu-id="fc213-176">Aby uzyskać więcej informacji na temat implementacji usług i używania Visual Studio Tools for Docker, przeczytaj następujące artykuły:</span><span class="sxs-lookup"><span data-stu-id="fc213-176">For further details on the services implementation and use of Visual Studio Tools for Docker, read the following articles:</span></span>
>
> <span data-ttu-id="fc213-177">Debuguj aplikacje w lokalnym kontenerze platformy Docker: <https://docs.microsoft.com/visualstudio/containers/edit-and-refresh></span><span class="sxs-lookup"><span data-stu-id="fc213-177">Debug apps in a local Docker container: <https://docs.microsoft.com/visualstudio/containers/edit-and-refresh></span></span>
>
> <span data-ttu-id="fc213-178">Wdróż kontener ASP.NET w rejestrze kontenerów przy użyciu programu Visual Studio: <https://docs.microsoft.com/visualstudio/containers/hosting-web-apps-in-docker></span><span class="sxs-lookup"><span data-stu-id="fc213-178">Deploy an ASP.NET container to a container registry using Visual Studio: <https://docs.microsoft.com/visualstudio/containers/hosting-web-apps-in-docker></span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="fc213-179">[Poprzedni](docker-apps-inner-loop-workflow.md) 
>  [Dalej](set-up-windows-containers-with-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="fc213-179">[Previous](docker-apps-inner-loop-workflow.md)
[Next](set-up-windows-containers-with-powershell.md)</span></span>
