---
title: Wdrażanie istniejących aplikacji .NET jako kontenerów systemu Windows
description: Modernizacja istniejących aplikacji .NET za pomocą kontenerów usługi Azure Cloud i Windows | Wdrażanie istniejących aplikacji .NET jako kontenerów systemu Windows
ms.date: 04/29/2018
ms.openlocfilehash: 28568ca363bfc8100f78b100f8a7f0242c4f04c9
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/14/2020
ms.locfileid: "73089558"
---
# <a name="deploy-existing-net-apps-as-windows-containers"></a><span data-ttu-id="c5fef-103">Wdrażanie istniejących aplikacji .NET jako kontenerów systemu Windows</span><span class="sxs-lookup"><span data-stu-id="c5fef-103">Deploy existing .NET apps as Windows containers</span></span>

<span data-ttu-id="c5fef-104">Wdrożenia oparte na kontenerach systemu Windows mają zastosowanie do aplikacji zoptymalizowanych pod kątem chmury i aplikacji natywnych dla chmury.</span><span class="sxs-lookup"><span data-stu-id="c5fef-104">Deployments that are based on Windows Containers are applicable to Cloud-Optimized applications and Cloud-Native applications.</span></span>

<span data-ttu-id="c5fef-105">Jednak w tym przewodniku, a zwłaszcza w poniższych sekcjach, skupia się głównie na użyciu kontenerów systemu Windows dla aplikacji *zoptymalizowanych pod kątem chmury,* gdzie nie trzeba ponownie architekta aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c5fef-105">However, in this guide and especially in the following sections, it mostly focuses on using Windows Containers for *Cloud-Optimized* applications where you don’t need to rearchitect your application.</span></span>

## <a name="what-are-containers-linux-or-windows"></a><span data-ttu-id="c5fef-106">Co to są kontenery?</span><span class="sxs-lookup"><span data-stu-id="c5fef-106">What are containers?</span></span> <span data-ttu-id="c5fef-107">(Linux lub Windows)</span><span class="sxs-lookup"><span data-stu-id="c5fef-107">(Linux or Windows)</span></span>

<span data-ttu-id="c5fef-108">Kontenery są sposobem, aby zawinąć aplikację do własnego izolowanego pakietu.</span><span class="sxs-lookup"><span data-stu-id="c5fef-108">Containers are a way to wrap up an application into its own isolated package.</span></span> <span data-ttu-id="c5fef-109">W jego kontenerze aplikacji nie ma wpływu aplikacji lub procesów, które istnieją poza kontenerem.</span><span class="sxs-lookup"><span data-stu-id="c5fef-109">In its container, the application is not affected by applications or processes that exist outside of the container.</span></span> <span data-ttu-id="c5fef-110">Wszystko, od czego zależy aplikacja, aby pomyślnie uruchomić, ponieważ proces znajduje się wewnątrz kontenera.</span><span class="sxs-lookup"><span data-stu-id="c5fef-110">Everything the application depends on to run successfully as a process is inside the container.</span></span> <span data-ttu-id="c5fef-111">Wszędzie tam, gdzie kontener może zostać przeniesione, wymagania aplikacji będą zawsze spełnione, pod względem zależności bezpośrednich, ponieważ jest on apakowany ze wszystkim, co musi uruchomić (zależności biblioteki, uruchamianie i tak dalej).</span><span class="sxs-lookup"><span data-stu-id="c5fef-111">Wherever the container might move, the requirements of the application will always be met, in terms of direct dependencies, because it is bundled with everything that it needs to run (library dependencies, runtimes, and so on).</span></span>

<span data-ttu-id="c5fef-112">Główną cechą kontenera jest to, że sprawia, że środowisko takie samo w różnych wdrożeniach, ponieważ sam kontener pochodzi ze wszystkimi zależnościami, których potrzebuje.</span><span class="sxs-lookup"><span data-stu-id="c5fef-112">The main characteristic of a container is that it makes the environment the same across different deployments because the container itself comes with all the dependencies it needs.</span></span> <span data-ttu-id="c5fef-113">Można debugować aplikację na komputerze, a następnie wdrożyć go na innym komputerze, z tego samego środowiska gwarantowane.</span><span class="sxs-lookup"><span data-stu-id="c5fef-113">You can debug the application on your machine, and then deploy it to another machine, with the same environment guaranteed.</span></span>

<span data-ttu-id="c5fef-114">Kontener jest wystąpieniem obrazu kontenera.</span><span class="sxs-lookup"><span data-stu-id="c5fef-114">A container is an instance of a container image.</span></span> <span data-ttu-id="c5fef-115">Obraz kontenera jest sposobem na spakowanie aplikacji lub usługi (np. migawka), a następnie wdrożenie go w sposób niezawodny i powtarzalny.</span><span class="sxs-lookup"><span data-stu-id="c5fef-115">A container image is a way to package an app or service (like a snapshot), and then deploy it in a reliable and reproducible way.</span></span> <span data-ttu-id="c5fef-116">Można powiedzieć, że Docker to nie tylko technologia, ale także filozofia i proces.</span><span class="sxs-lookup"><span data-stu-id="c5fef-116">You could say that Docker is not only a technology-it's also a philosophy and a process.</span></span>

<span data-ttu-id="c5fef-117">Ponieważ kontenery codziennie stają się coraz bardziej powszechne, stają się one "jednostką wdrażania".</span><span class="sxs-lookup"><span data-stu-id="c5fef-117">As containers daily become more common, they are becoming an industry-wide "unit of deployment."</span></span>

## <a name="benefits-of-containers-docker-engine-on-linux-or-windows"></a><span data-ttu-id="c5fef-118">Zalety kontenerów (Aparat platformy Docker w systemie Linux lub Windows)</span><span class="sxs-lookup"><span data-stu-id="c5fef-118">Benefits of containers (Docker Engine on Linux or Windows)</span></span>

<span data-ttu-id="c5fef-119">Tworzenie aplikacji przy użyciu kontenerów, które również mogą być zdefiniowane jako lekkie bloki konstrukcyjne, oferuje znaczny wzrost elastyczności do tworzenia, wysyłki i uruchamiania dowolnej aplikacji w dowolnej infrastrukturze.</span><span class="sxs-lookup"><span data-stu-id="c5fef-119">Building applications by using containers-which also might be defined as lightweight building blocks-offers a significant increase in agility for building, shipping, and running any application, across any infrastructure.</span></span>

<span data-ttu-id="c5fef-120">Za pomocą kontenerów można wykonywać dowolną aplikację z programowania do produkcji z niewielką lub żadną zmianą kodu dzięki integracji platformy Docker w narzędziach deweloperskich firmy Microsoft, systemach operacyjnych i chmurze.</span><span class="sxs-lookup"><span data-stu-id="c5fef-120">With containers, you can take any app from development to production with little or no code change, thanks to Docker integration across Microsoft developer tools, operating systems, and cloud.</span></span>

<span data-ttu-id="c5fef-121">Podczas wdrażania na zwykłych maszynach wirtualnych prawdopodobnie masz już metodę wdrażania ASP.NET aplikacji na maszynach wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="c5fef-121">When you deploy to plain VMs, you probably already have a method in place for deploying ASP.NET apps to your VMs.</span></span> <span data-ttu-id="c5fef-122">Jest jednak prawdopodobne, że metoda obejmuje wiele ręcznych kroków lub złożonych zautomatyzowanych procesów przy użyciu narzędzia wdrażania, takiego jak Puppet lub podobnego narzędzia.</span><span class="sxs-lookup"><span data-stu-id="c5fef-122">It's likely, though, that your method involves multiple manual steps or complex automated processes by using a deployment tool like Puppet, or a similar tool.</span></span> <span data-ttu-id="c5fef-123">Może być konieczne wykonanie zadań, takich jak modyfikowanie elementów konfiguracji, kopiowanie zawartości aplikacji między serwerami i uruchamianie interaktywnych programów instalacyjnych na podstawie konfiguracji msi, a następnie testowanie.</span><span class="sxs-lookup"><span data-stu-id="c5fef-123">You might need to perform tasks like modifying configuration items, copying application content between servers, and running interactive setup programs based on .msi setups, followed by testing.</span></span> <span data-ttu-id="c5fef-124">Wszystkie te kroki we wdrożeniu dodać czas i ryzyko do wdrożeń.</span><span class="sxs-lookup"><span data-stu-id="c5fef-124">All those steps in the deployment add time and risk to deployments.</span></span> <span data-ttu-id="c5fef-125">Otrzymasz błędy, gdy zależność nie jest obecny w środowisku docelowym.</span><span class="sxs-lookup"><span data-stu-id="c5fef-125">You will get failures whenever a dependency is not present in the target environment.</span></span>

<span data-ttu-id="c5fef-126">W kontenerach systemu Windows proces pakowania aplikacji jest w pełni zautomatyzowany.</span><span class="sxs-lookup"><span data-stu-id="c5fef-126">In Windows Containers, the process of packaging applications is fully automated.</span></span> <span data-ttu-id="c5fef-127">Kontenery systemu Windows jest oparta na platformie Platforma Platforma Docker, która oferuje automatyczne aktualizacje i wycofywania dla wdrożeń kontenerów.</span><span class="sxs-lookup"><span data-stu-id="c5fef-127">Windows Containers is based on the Docker platform, which offers automatic updates and rollbacks for container deployments.</span></span> <span data-ttu-id="c5fef-128">Głównym ulepszeniem, które można uzyskać przy użyciu aparatu platformy Docker jest tworzenie obrazów, które są jak migawki aplikacji, ze wszystkimi jej zależności.</span><span class="sxs-lookup"><span data-stu-id="c5fef-128">The main improvement you get from using the Docker engine is that you create images, which are like snapshots of your application, with all its dependencies.</span></span> <span data-ttu-id="c5fef-129">Obrazy są obrazy platformy Docker (obraz kontenera systemu Windows, w tym przypadku).</span><span class="sxs-lookup"><span data-stu-id="c5fef-129">The images are Docker images (a Windows container image, in this case).</span></span> <span data-ttu-id="c5fef-130">Obrazy są uruchamiane ASP.NET aplikacji w kontenerach, bez powrotu do kodu źródłowego.</span><span class="sxs-lookup"><span data-stu-id="c5fef-130">The images run ASP.NET apps in containers, without going back to source code.</span></span> <span data-ttu-id="c5fef-131">Migawka kontenera staje się jednostką wdrożenia.</span><span class="sxs-lookup"><span data-stu-id="c5fef-131">The container snapshot becomes the unit of deployment.</span></span>

<span data-ttu-id="c5fef-132">Wiele organizacji konteneryzuje istniejące aplikacje monolityczne z następujących powodów:</span><span class="sxs-lookup"><span data-stu-id="c5fef-132">Many organizations are containerizing existing monolithic applications for the following reasons:</span></span>

- <span data-ttu-id="c5fef-133">**Zwolnij elastyczność dzięki ulepszonemu wdrożeniu.**</span><span class="sxs-lookup"><span data-stu-id="c5fef-133">**Release agility through improved deployment**.</span></span> <span data-ttu-id="c5fef-134">Kontenery oferują spójną umowę wdrożenia między programowaniem a operacjami.</span><span class="sxs-lookup"><span data-stu-id="c5fef-134">Containers offer a consistent deployment contract between development and operations.</span></span> <span data-ttu-id="c5fef-135">Kiedy używasz kontenerów, nie usłyszysz, jak deweloperzy mówią: "To działa na moim komputerze, dlaczego nie w środowisku produkcyjnym?"</span><span class="sxs-lookup"><span data-stu-id="c5fef-135">When you use containers, you won't hear developers say, "It works on my machine, why not in production?"</span></span> <span data-ttu-id="c5fef-136">Mogą powiedzieć: "Działa jako kontener, więc będzie działać w środowisku produkcyjnym."</span><span class="sxs-lookup"><span data-stu-id="c5fef-136">They can say, "It runs as a container, so it will run in production."</span></span> <span data-ttu-id="c5fef-137">Spakowana aplikacja ze wszystkimi jej zależnościami może być wykonywana w dowolnym obsługiwanym środowisku opartym na kontenerach.</span><span class="sxs-lookup"><span data-stu-id="c5fef-137">The packaged application, with all its dependencies, can be executed in any supported container-based environment.</span></span> <span data-ttu-id="c5fef-138">Będzie działać tak, jak zamierzali działać we wszystkich obiektach docelowych wdrażania (dev, QA, staging, production).</span><span class="sxs-lookup"><span data-stu-id="c5fef-138">It will run the way it was intended to run in all deployment targets (dev, QA, staging, production).</span></span> <span data-ttu-id="c5fef-139">Kontenery eliminują większość tarć, gdy przechodzą z jednego etapu do drugiego, co znacznie poprawia wdrażanie i można wysyłać szybciej.</span><span class="sxs-lookup"><span data-stu-id="c5fef-139">Containers eliminate most frictions when they move from one stage to the next, which greatly improves deployment, and you can ship faster.</span></span>

- <span data-ttu-id="c5fef-140">**Redukcje kosztów**.</span><span class="sxs-lookup"><span data-stu-id="c5fef-140">**Cost reductions**.</span></span> <span data-ttu-id="c5fef-141">Kontenery prowadzą do obniżenia kosztów poprzez konsolidację i usunięcie istniejącego sprzętu lub uruchamianie aplikacji o większej gęstości na jednostkę sprzętu.</span><span class="sxs-lookup"><span data-stu-id="c5fef-141">Containers lead to lower costs, either by the consolidation and removal of existing hardware, or from running applications at a higher density per unit of hardware.</span></span>

- <span data-ttu-id="c5fef-142">**Przenośność**.</span><span class="sxs-lookup"><span data-stu-id="c5fef-142">**Portability**.</span></span> <span data-ttu-id="c5fef-143">Kontenery są modułowe i przenośne.</span><span class="sxs-lookup"><span data-stu-id="c5fef-143">Containers are modular and portable.</span></span> <span data-ttu-id="c5fef-144">Kontenery platformy Docker są obsługiwane w dowolnym systemie operacyjnym serwera (Linux i Windows), w dowolnej głównej chmurze publicznej (Microsoft Azure, Amazon AWS, Google, IBM) oraz w środowiskach chmury lokalnej i prywatnej i hybrydowej.</span><span class="sxs-lookup"><span data-stu-id="c5fef-144">Docker containers are supported on any server operating system (Linux and Windows), in any major public cloud (Microsoft Azure, Amazon AWS, Google, IBM), and in on-premises and private or hybrid cloud environments.</span></span>

- <span data-ttu-id="c5fef-145">**Sterowanie**.</span><span class="sxs-lookup"><span data-stu-id="c5fef-145">**Control**.</span></span> <span data-ttu-id="c5fef-146">Kontenery oferują elastyczne i bezpieczne środowisko, które jest kontrolowane na poziomie kontenera.</span><span class="sxs-lookup"><span data-stu-id="c5fef-146">Containers offer a flexible and secure environment that's controlled at the container level.</span></span> <span data-ttu-id="c5fef-147">Kontener może być zabezpieczony, izolowany, a nawet ograniczony przez ustawienie zasad ograniczeń wykonywania w kontenerze.</span><span class="sxs-lookup"><span data-stu-id="c5fef-147">A container can be secured, isolated, and even limited by setting execution constraint policies on the container.</span></span> <span data-ttu-id="c5fef-148">Jak opisano w sekcji Kontenery systemu Windows, kontenery systemu Windows Server 2016 i Hyper-V oferują dodatkowe opcje pomocy technicznej dla przedsiębiorstw.</span><span class="sxs-lookup"><span data-stu-id="c5fef-148">As detailed in the section about Windows Containers, Windows Server 2016 and Hyper-V containers offer additional enterprise support options.</span></span>

<span data-ttu-id="c5fef-149">Znaczna poprawa elastyczności, przenośności i kontroli ostatecznie prowadzi do znacznego obniżenia kosztów podczas używania kontenerów do tworzenia i utrzymywania aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c5fef-149">Significant improvements in agility, portability, and control ultimately lead to significant cost reductions when you use containers to develop and maintain applications.</span></span>

## <a name="what-is-docker"></a><span data-ttu-id="c5fef-150">Co to jest Docker?</span><span class="sxs-lookup"><span data-stu-id="c5fef-150">What is Docker?</span></span>

<span data-ttu-id="c5fef-151">[Platforma Docker](https://www.docker.com/) to [projekt typu open source,](https://github.com/docker/docker) który automatyzuje wdrażanie aplikacji jako przenośnych, samowystarczalnych kontenerów, które można uruchamiać w chmurze lub lokalnie.</span><span class="sxs-lookup"><span data-stu-id="c5fef-151">[Docker](https://www.docker.com/) is an [open-source project](https://github.com/docker/docker) that automates the deployment of applications as portable, self-sufficient containers that can run in the cloud or on-premises.</span></span> <span data-ttu-id="c5fef-152">Docker jest również [firmą,](https://www.docker.com/) która promuje i rozwija tę technologię.</span><span class="sxs-lookup"><span data-stu-id="c5fef-152">Docker is also a [company](https://www.docker.com/) that promotes and evolves this technology.</span></span> <span data-ttu-id="c5fef-153">Firma współpracuje z dostawcami chmury, systemu Linux i Windows, w tym z firmą Microsoft.</span><span class="sxs-lookup"><span data-stu-id="c5fef-153">The company works in collaboration with cloud, Linux, and Windows vendors, including Microsoft.</span></span>

![Diagram przedstawiający sposób wdrażania kontenerów w chmurze hybrydowej.](./media/deploy-existing-net-apps-as-windows-containers/docker-deploys-containers-all-layers.png)

<span data-ttu-id="c5fef-155">**Rysunek 4-6.**</span><span class="sxs-lookup"><span data-stu-id="c5fef-155">**Figure 4-6.**</span></span> <span data-ttu-id="c5fef-156">Platforma Docker wdraża kontenery na wszystkich warstwach chmury hybrydowej</span><span class="sxs-lookup"><span data-stu-id="c5fef-156">Docker deploys containers at all layers of the hybrid cloud</span></span>

<span data-ttu-id="c5fef-157">Dla osoby zaznajomionej z maszynami wirtualnymi kontenery mogą wydawać się niezwykle podobne.</span><span class="sxs-lookup"><span data-stu-id="c5fef-157">To someone familiar with virtual machines, containers might appear to be remarkably similar.</span></span> <span data-ttu-id="c5fef-158">Kontener uruchamia system operacyjny, ma system plików i jest dostępny za pomocą sieci, podobnie jak system komputerów fizycznych lub wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="c5fef-158">A container runs an operating system, has a file system, and can be accessed over a network, just like a physical or virtual computer system.</span></span> <span data-ttu-id="c5fef-159">Jednak technologia i pojęcia za kontenerami znacznie różnią się od maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="c5fef-159">However, the technology and concepts behind containers are vastly different from virtual machines.</span></span> <span data-ttu-id="c5fef-160">Z punktu widzenia dewelopera kontener musi być traktowany bardziej jak pojedynczy proces.</span><span class="sxs-lookup"><span data-stu-id="c5fef-160">From a developer point of view, a container must be treated more like a single process.</span></span> <span data-ttu-id="c5fef-161">W rzeczywistości kontener ma pojedynczy punkt wejścia dla jednego procesu.</span><span class="sxs-lookup"><span data-stu-id="c5fef-161">In fact, a container has a single entry point for one process.</span></span>

<span data-ttu-id="c5fef-162">Kontenery platformy Docker (dla uproszczenia, *kontenery)* można uruchomić natywnie w systemach Linux i Windows.</span><span class="sxs-lookup"><span data-stu-id="c5fef-162">Docker containers (for simplicity, *containers*) can run natively on Linux and Windows.</span></span> <span data-ttu-id="c5fef-163">Podczas uruchamiania zwykłych kontenerów kontenery systemu Windows mogą być uruchamiane tylko na hostach systemu Windows (serwer hosta lub maszyna wirtualna), a kontenery systemu Linux mogą być uruchamiane tylko na hostach systemu Linux.</span><span class="sxs-lookup"><span data-stu-id="c5fef-163">When running regular containers, Windows containers can run only on Windows hosts (a host server or a VM), and Linux containers can run only on Linux hosts.</span></span> <span data-ttu-id="c5fef-164">Jednak w najnowszych wersjach kontenerów systemu Windows Server i Hyper-V kontener systemu Linux może również działać natywnie na serwerze Windows Server przy użyciu technologii izolacji funkcji Hyper-V, która jest obecnie dostępna tylko w kontenerach systemu Windows Server.</span><span class="sxs-lookup"><span data-stu-id="c5fef-164">However, in recent versions of Windows Server and Hyper-V containers, a Linux container also can run natively on Windows Server by using the Hyper-V isolation technology that currently is available only in Windows Server Containers.</span></span>

<span data-ttu-id="c5fef-165">W niedalekiej przyszłości środowiska mieszane, które mają zarówno kontenery Linux, jak i Windows, będą możliwe, a nawet powszechne.</span><span class="sxs-lookup"><span data-stu-id="c5fef-165">In the near future, mixed environments that have both Linux and Windows containers will be possible and even common.</span></span>

## <a name="benefits-of-windows-containers-for-your-existing-net-applications"></a><span data-ttu-id="c5fef-166">Zalety kontenerów systemu Windows dla istniejących aplikacji .NET</span><span class="sxs-lookup"><span data-stu-id="c5fef-166">Benefits of Windows Containers for your existing .NET applications</span></span>

<span data-ttu-id="c5fef-167">Korzyści z używania kontenerów systemu Windows są zasadniczo takie same korzyści, które można uzyskać z kontenerów w ogóle.</span><span class="sxs-lookup"><span data-stu-id="c5fef-167">The benefits of using Windows Containers are fundamentally the same benefits you get from containers in general.</span></span> <span data-ttu-id="c5fef-168">Korzystanie z kontenerów systemu Windows polega na znacznej poprawie elastyczności, przenośności i kontroli.</span><span class="sxs-lookup"><span data-stu-id="c5fef-168">Using Windows Containers is about greatly improving agility, portability, and control.</span></span>

<span data-ttu-id="c5fef-169">Istniejące aplikacje .NET odnoszą się do tych aplikacji, które zostały utworzone przy użyciu .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c5fef-169">Existing .NET applications refer to those applications that were created using the .NET Framework.</span></span> <span data-ttu-id="c5fef-170">Na przykład mogą być tradycyjne ASP.NET aplikacji sieci web, nie używają .NET Core, który jest nowszy i działa między platformami w systemie Linux, Windows i MacOS.</span><span class="sxs-lookup"><span data-stu-id="c5fef-170">For example, they might be traditional ASP.NET web applications-they don't use .NET Core, which is newer and runs cross-platform on Linux, Windows, and MacOS.</span></span>

<span data-ttu-id="c5fef-171">Główną zależnością w programie .NET Framework jest system Windows.</span><span class="sxs-lookup"><span data-stu-id="c5fef-171">The main dependency in the .NET Framework is Windows.</span></span> <span data-ttu-id="c5fef-172">Ma również drugorzędne zależności, takie jak usługi IIS i System.Web w tradycyjnych ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c5fef-172">It also has secondary dependencies, like IIS, and System.Web in traditional ASP.NET.</span></span>

<span data-ttu-id="c5fef-173">Aplikacja .NET Framework musi działać w systemie Windows, kropka.</span><span class="sxs-lookup"><span data-stu-id="c5fef-173">A .NET Framework application must run on Windows, period.</span></span> <span data-ttu-id="c5fef-174">Jeśli chcesz konteneryzować istniejące aplikacje .NET Framework i nie możesz lub nie chcesz inwestować w migrację do .NET Core ("Jeśli działa poprawnie, nie migruj go"), jedynym wyborem dla kontenerów jest użycie kontenerów systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="c5fef-174">If you want to containerize existing .NET Framework applications and you can't or don't want to invest in a migration to .NET Core ("If it works properly, don't migrate it"), the only choice you have for containers is to use Windows Containers.</span></span>

<span data-ttu-id="c5fef-175">Dlatego jedną z głównych zalet kontenerów systemu Windows jest to, że oferują one sposób na modernizację istniejących aplikacji .NET Framework, które są uruchomione w konteneryzacji systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="c5fef-175">So, one of the main benefits of Windows Containers is that they offer you a way to modernize your existing .NET Framework applications that are running on Windows-through containerization.</span></span> <span data-ttu-id="c5fef-176">Ostatecznie kontenery systemu Windows zapewnia korzyści, których szukasz przy użyciu kontenerów elastyczność, przenośność i lepszą kontrolę.</span><span class="sxs-lookup"><span data-stu-id="c5fef-176">Ultimately, Windows Containers gets you the benefits that you are looking for by using containers-agility, portability, and better control.</span></span>

## <a name="choose-an-os-to-target-with-net-based-containers"></a><span data-ttu-id="c5fef-177">Wybierz os do kierowania za pomocą . Kontenery oparte na sieci</span><span class="sxs-lookup"><span data-stu-id="c5fef-177">Choose an OS to target with .NET-based containers</span></span>

<span data-ttu-id="c5fef-178">Biorąc pod uwagę różnorodność systemów operacyjnych, które są obsługiwane przez platformę Docker, a także różnice między .NET Framework i .NET Core, należy kierować określone systemy operacyjne i konkretne wersje na podstawie struktury, której używasz.</span><span class="sxs-lookup"><span data-stu-id="c5fef-178">Given the diversity of operating systems that are supported by Docker, as well as the differences between .NET Framework and .NET Core, you should target a specific OS and specific versions based on the framework you are using.</span></span>

<span data-ttu-id="c5fef-179">W przypadku systemu Windows można używać systemu Windows Server Core lub Systemu Windows Nano Server.</span><span class="sxs-lookup"><span data-stu-id="c5fef-179">For Windows, you can use Windows Server Core or Windows Nano Server.</span></span> <span data-ttu-id="c5fef-180">Te wersje systemu Windows zapewniają różne cechy (takie jak usługi IIS w porównaniu z samoobsługowym serwerem sieci Web, takim jak Kestrel), które mogą być potrzebne przez .NET Framework lub aplikacje .NET Core.</span><span class="sxs-lookup"><span data-stu-id="c5fef-180">These Windows versions provide different characteristics (like IIS versus a self-hosted web server like Kestrel) that might be needed by .NET Framework or .NET Core applications.</span></span>

<span data-ttu-id="c5fef-181">W przypadku Linuksa wiele dystrybucji jest dostępnych i obsługiwanych w oficjalnych obrazach dockera .NET (takich jak Debian).</span><span class="sxs-lookup"><span data-stu-id="c5fef-181">For Linux, multiple distros are available and supported in official .NET Docker images (like Debian).</span></span>

<span data-ttu-id="c5fef-182">Rysunek 4-7 przedstawia wersje systemu operacyjnego, na które można kierować reklamy, w zależności od wersji programu .NET Framework w aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c5fef-182">Figure 4-7 shows OS versions that you can target, depending on the app's version of the .NET Framework.</span></span>

![Diagram przedstawiający, co os do docelowego na podstawie .NET Framework wersji.](./media/deploy-existing-net-apps-as-windows-containers/dotnet-framework-operating-systems.png)

<span data-ttu-id="c5fef-184">**Rysunek 4-7.**</span><span class="sxs-lookup"><span data-stu-id="c5fef-184">**Figure 4-7.**</span></span> <span data-ttu-id="c5fef-185">Systemy operacyjne do kierowania na podstawie wersji .NET Framework</span><span class="sxs-lookup"><span data-stu-id="c5fef-185">Operating systems to target based on .NET Framework version</span></span>

<span data-ttu-id="c5fef-186">W scenariuszach migracji dla istniejących lub starszych aplikacji, które są oparte na aplikacjach .NET Framework, główne zależności są w systemach Windows i IIS.</span><span class="sxs-lookup"><span data-stu-id="c5fef-186">In migration scenarios for existing or legacy applications that are based on .NET Framework applications, the main dependencies are on Windows and IIS.</span></span> <span data-ttu-id="c5fef-187">Jedyną opcją jest użycie obrazów platformy Docker opartych na programie Windows Server Core i platformie .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="c5fef-187">Your only option is to use Docker images based on Windows Server Core and the .NET Framework.</span></span>

<span data-ttu-id="c5fef-188">Po dodaniu nazwy obrazu do pliku Dockerfile można wybrać system operacyjny i wersję przy użyciu znacznika, jak w poniższych przykładach dla obrazów kontenerów systemu Windows opartych na platformie .NET Framework:</span><span class="sxs-lookup"><span data-stu-id="c5fef-188">When you add the image name to your Dockerfile file, you can select the operating system and version by using a tag, as in the following examples for .NET Framework-based Windows container images:</span></span>

> | <span data-ttu-id="c5fef-189">**Tag**</span><span class="sxs-lookup"><span data-stu-id="c5fef-189">**Tag**</span></span> | <span data-ttu-id="c5fef-190">**System i wersja**</span><span class="sxs-lookup"><span data-stu-id="c5fef-190">**System and version**</span></span> |
> |---|---|
> | <span data-ttu-id="c5fef-191">**microsoft/dotnet-framework:4.x-windowsservercore**</span><span class="sxs-lookup"><span data-stu-id="c5fef-191">**microsoft/dotnet-framework:4.x-windowsservercore**</span></span> | <span data-ttu-id="c5fef-192">.NET Framework 4.x w systemie Windows Server Core</span><span class="sxs-lookup"><span data-stu-id="c5fef-192">.NET Framework 4.x on Windows Server Core</span></span> |
> | <span data-ttu-id="c5fef-193">**microsoft/aspnet:4.x-windowsservercore**</span><span class="sxs-lookup"><span data-stu-id="c5fef-193">**microsoft/aspnet:4.x-windowsservercore**</span></span> | <span data-ttu-id="c5fef-194">.NET Framework 4.x z dodatkowym dostosowaniem ASP.NET w systemie Windows Server Core</span><span class="sxs-lookup"><span data-stu-id="c5fef-194">.NET Framework 4.x with additional ASP.NET customization, on Windows Server Core</span></span> |

<span data-ttu-id="c5fef-195">W przypadku programu .NET Core (między platformami dla systemów Linux i Windows) tagi będą wyglądać następująco:</span><span class="sxs-lookup"><span data-stu-id="c5fef-195">For .NET Core (cross-platform for Linux and Windows), the tags would look like the following:</span></span>

> | <span data-ttu-id="c5fef-196">**Tag**</span><span class="sxs-lookup"><span data-stu-id="c5fef-196">**Tag**</span></span> | <span data-ttu-id="c5fef-197">**System i wersja**</span><span class="sxs-lookup"><span data-stu-id="c5fef-197">**System and version**</span></span>
> |---|---|
> | <span data-ttu-id="c5fef-198">**microsoft/dotnet:2.0.0-runtime**</span><span class="sxs-lookup"><span data-stu-id="c5fef-198">**microsoft/dotnet:2.0.0-runtime**</span></span> | <span data-ttu-id="c5fef-199">Tylko w czasie wykonywania programu .NET Core 2.0 w systemie Linux</span><span class="sxs-lookup"><span data-stu-id="c5fef-199">.NET Core 2.0 runtime-only on Linux</span></span> |
> | <span data-ttu-id="c5fef-200">**microsoft/dotnet:2.0.0-runtime-nanoserver**</span><span class="sxs-lookup"><span data-stu-id="c5fef-200">**microsoft/dotnet:2.0.0-runtime-nanoserver**</span></span> | <span data-ttu-id="c5fef-201">Tylko środowisko uruchomieniowe programu .NET Core 2.0 w systemie Windows Nano Server</span><span class="sxs-lookup"><span data-stu-id="c5fef-201">.NET Core 2.0 runtime-only on Windows Nano Server</span></span> |

### <a name="multi-arch-images"></a><span data-ttu-id="c5fef-202">Obrazy wielołukowe</span><span class="sxs-lookup"><span data-stu-id="c5fef-202">Multi-arch images</span></span>

<span data-ttu-id="c5fef-203">Począwszy od połowy 2017 r., można również użyć nowej funkcji w platformie Docker o nazwie obrazów [wielołukowych.](https://github.com/moby/moby/issues/15866)</span><span class="sxs-lookup"><span data-stu-id="c5fef-203">Beginning in mid-2017, you also can use a new feature in Docker called [multi-arch](https://github.com/moby/moby/issues/15866) images.</span></span> <span data-ttu-id="c5fef-204">Obrazy platformy Docker .NET Core mogą używać znaczników wielołukowych.</span><span class="sxs-lookup"><span data-stu-id="c5fef-204">.NET Core Docker images can use multi-arch tags.</span></span> <span data-ttu-id="c5fef-205">Pliki dockerfile nie muszą już definiować systemu operacyjnego, na który jest kierowany.</span><span class="sxs-lookup"><span data-stu-id="c5fef-205">Your Dockerfile files no longer need to define the operating system that you are targeting.</span></span> <span data-ttu-id="c5fef-206">Funkcja wielołukowa umożliwia uzywanie pojedynczego znacznika w wielu konfiguracjach maszyn.</span><span class="sxs-lookup"><span data-stu-id="c5fef-206">The multi-arch feature allows a single tag to be used across multiple machine configurations.</span></span> <span data-ttu-id="c5fef-207">Na przykład w przypadku wielu łuków można użyć jednego wspólnego tagu: **microsoft/dotnet:2.0.0-runtime**.</span><span class="sxs-lookup"><span data-stu-id="c5fef-207">For instance, with multi-arch, you can use one common tag: **microsoft/dotnet:2.0.0-runtime**.</span></span> <span data-ttu-id="c5fef-208">Jeśli wyciągniesz ten tag ze środowiska kontenerów Linuksa, otrzymasz obraz oparty na Debianie.</span><span class="sxs-lookup"><span data-stu-id="c5fef-208">If you pull that tag from a Linux container environment, you get the Debian-based image.</span></span> <span data-ttu-id="c5fef-209">Jeśli ten tag zostanie ściągnięty ze środowiska kontenerów systemu Windows, zostanie uzyskany obraz oparty na serwerze Nano Server.</span><span class="sxs-lookup"><span data-stu-id="c5fef-209">If you pull that tag from a Windows container environment, you get the Nano Server-based image.</span></span>

<span data-ttu-id="c5fef-210">W przypadku obrazów .NET Framework, ponieważ tradycyjna platforma .NET Framework obsługuje tylko system Windows, nie można użyć funkcji wielołukowej.</span><span class="sxs-lookup"><span data-stu-id="c5fef-210">For .NET Framework images, because the traditional .NET Framework supports only Windows, you cannot use the multi-arch feature.</span></span>

## <a name="windows-container-types"></a><span data-ttu-id="c5fef-211">Typy kontenerów systemu Windows</span><span class="sxs-lookup"><span data-stu-id="c5fef-211">Windows container types</span></span>

<span data-ttu-id="c5fef-212">Podobnie jak kontenery systemu Linux kontenery systemu Windows Server są zarządzane przy użyciu aparatu platformy Docker.</span><span class="sxs-lookup"><span data-stu-id="c5fef-212">Like Linux containers, Windows Server containers are managed by using Docker Engine.</span></span> <span data-ttu-id="c5fef-213">W przeciwieństwie do kontenerów systemu Linux kontenery systemu Windows zawierają dwa różne typy kontenerów lub kontenery systemu Windows Server i izolację funkcji Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="c5fef-213">Unlike Linux containers, Windows containers include two different container types, or run times-Windows Server containers and Hyper-V isolation.</span></span>

<span data-ttu-id="c5fef-214">**Kontenery systemu Windows Server:** Zapewnia izolację aplikacji za pomocą technologii izolacji procesów i przestrzeni nazw.</span><span class="sxs-lookup"><span data-stu-id="c5fef-214">**Windows Server containers**: Provides application isolation through process and namespace isolation technology.</span></span> <span data-ttu-id="c5fef-215">Kontener systemu Windows Server udostępnia jądro z hostem kontenera i wszystkimi kontenerami, które są uruchomione na hoście.</span><span class="sxs-lookup"><span data-stu-id="c5fef-215">A Windows Server container shares a kernel with the container host and all containers that are running on the host.</span></span> <span data-ttu-id="c5fef-216">Kontenery te nie zapewniają wrogie granice zabezpieczeń i nie powinny być używane do izolowania niezaufanego kodu.</span><span class="sxs-lookup"><span data-stu-id="c5fef-216">These containers do not provide a hostile security boundary and should not be used to isolate untrusted code.</span></span> <span data-ttu-id="c5fef-217">Ze względu na współużytkowane miejsce jądra te kontenery wymagają tej samej wersji jądra i konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="c5fef-217">Because of the shared kernel space, these containers require the same kernel version and configuration.</span></span>

<span data-ttu-id="c5fef-218">**Izolacja funkcji Hyper-V:** Rozszerza izolację zapewnianą przez kontenery systemu Windows Server, uruchamiając każdy kontener na wysoce zoptymalizowanej maszynie wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="c5fef-218">**Hyper-V isolation**: Expands on the isolation provided by Windows Server Containers by running each container on a highly optimized VM.</span></span> <span data-ttu-id="c5fef-219">W tej konfiguracji jądro hosta kontenera nie jest współużytkowane z innymi kontenerami na tym samym hoście.</span><span class="sxs-lookup"><span data-stu-id="c5fef-219">In this configuration, the kernel of the container host is not shared with other containers on the same host.</span></span> <span data-ttu-id="c5fef-220">Kontenery te są przeznaczone do wrogiego hostingu wielodostępnego, z tymi samymi gwarancjami zabezpieczeń maszyny Wirtualnej.</span><span class="sxs-lookup"><span data-stu-id="c5fef-220">These containers are designed for hostile multitenant hosting, with the same security assurances of a VM.</span></span> <span data-ttu-id="c5fef-221">Ponieważ te kontenery nie współużytkują jądra z hostem lub innymi kontenerami na hoście, mogą uruchamiać jądra z różnymi wersjami i konfiguracjami (z obsługiwanymi wersjami).</span><span class="sxs-lookup"><span data-stu-id="c5fef-221">Because these containers don't share the kernel with the host or other containers on the host, they can run kernels with different versions and configurations (with supported versions).</span></span> <span data-ttu-id="c5fef-222">Na przykład wszystkie kontenery systemu Windows w systemie Windows 10 używają izolacji funkcji Hyper-V do korzystania z wersji jądra systemu Windows Server i konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="c5fef-222">For example, all Windows containers on Windows 10 use Hyper-V isolation to utilize the Windows Server kernel version and configuration.</span></span>

<span data-ttu-id="c5fef-223">Uruchamianie kontenera w systemie Windows z izolacją funkcji Hyper-V lub bez niej jest decyzją w czasie wykonywania.</span><span class="sxs-lookup"><span data-stu-id="c5fef-223">Running a container on Windows with or without Hyper-V isolation is a run-time decision.</span></span> <span data-ttu-id="c5fef-224">Można utworzyć kontener z izolacją funkcji Hyper-V początkowo i w czasie wykonywania, zamiast tego należy uruchomić go jako kontener systemu Windows Server.</span><span class="sxs-lookup"><span data-stu-id="c5fef-224">You might choose to create the container with Hyper-V isolation initially, and at run time, choose to run it as a Windows Server container instead.</span></span>

### <a name="additional-resources"></a><span data-ttu-id="c5fef-225">Zasoby dodatkowe</span><span class="sxs-lookup"><span data-stu-id="c5fef-225">Additional resources</span></span>

- <span data-ttu-id="c5fef-226">**Dokumentacja kontenerów systemu Windows**</span><span class="sxs-lookup"><span data-stu-id="c5fef-226">**Windows Containers documentation**</span></span>

    <https://docs.microsoft.com/virtualization/windowscontainers/>

- <span data-ttu-id="c5fef-227">**Podstawy kontenerów systemu Windows**</span><span class="sxs-lookup"><span data-stu-id="c5fef-227">**Windows Containers fundamentals**</span></span>

    <https://docs.microsoft.com/virtualization/windowscontainers/about/>

- <span data-ttu-id="c5fef-228">**Infografika: Microsoft i kontenery**</span><span class="sxs-lookup"><span data-stu-id="c5fef-228">**Infographic: Microsoft and containers**</span></span>

    <https://info.microsoft.com/rs/157-GQE-382/images/Container%20infographic%201.4.17.pdf>

## <a name="the-container-ecosystem-in-azure"></a><span data-ttu-id="c5fef-229">Ekosystem kontenerów na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="c5fef-229">The container ecosystem in Azure</span></span>

<span data-ttu-id="c5fef-230">W poprzednich sekcjach wyjaśniono, jakie są zalety kontenerów platformy Docker, a także szczegóły dotyczące obrazów określonego kontenera dla aplikacji .NET.</span><span class="sxs-lookup"><span data-stu-id="c5fef-230">In previous sections, it’s been explained what the benefits of Docker containers are as well as details on the specific container images for .NET applications.</span></span> <span data-ttu-id="c5fef-231">Wszystkie te informacje ogólne ma podstawowe znaczenie dla opracowania lub konteneryzacji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="c5fef-231">All that generic information is fundamental in order to develop or containerize an application.</span></span>
<span data-ttu-id="c5fef-232">Jednak podczas myślenia o środowisku wdrażania w środowisku produkcyjnym lub nawet środowiskach qa i dev/test, Microsoft Azure zapewnia otwarty i szeroki wybór opcji, pełny ekosystem kontenerów w chmurze (pokazane na poniższym diagramie).</span><span class="sxs-lookup"><span data-stu-id="c5fef-232">However, when thinking about the production deployment environment or even QA and Dev/Test environments, Microsoft Azure provides an open and broad variety of choices, a full container ecosystem in the cloud (shown in the diagram below).</span></span> <span data-ttu-id="c5fef-233">W zależności od potrzeb określonej aplikacji należy wybrać jeden lub inny produkt platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="c5fef-233">Depending on your specific application’s needs, you should choose one or another Azure product.</span></span>

![Diagram ekosystemu kontenerów na platformie Azure.](./media/deploy-existing-net-apps-as-windows-containers/azure-container-ecosystem.png)

<span data-ttu-id="c5fef-235">**Rysunek 4-7.5.**</span><span class="sxs-lookup"><span data-stu-id="c5fef-235">**Figure 4-7.5.**</span></span> <span data-ttu-id="c5fef-236">Ekosystem kontenerów na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="c5fef-236">The container ecosystem in Azure</span></span>

<span data-ttu-id="c5fef-237">Z ekosystemu kontenerów na platformie Azure następujące produkty obsługujące kontenery, które są uważane za infrastrukturę:</span><span class="sxs-lookup"><span data-stu-id="c5fef-237">From the container ecosystem in Azure, the following products supporting containers that are considered infrastructure:</span></span>

- <span data-ttu-id="c5fef-238">**Azure Container Instances (ACI)**</span><span class="sxs-lookup"><span data-stu-id="c5fef-238">**Azure Container Instances (ACI)**</span></span>
- <span data-ttu-id="c5fef-239">**Maszyny wirtualne platformy Azure** (z obsługą kontenera)</span><span class="sxs-lookup"><span data-stu-id="c5fef-239">**Azure Virtual Machines** (With container's support)</span></span>
- <span data-ttu-id="c5fef-240">**Zestawy skalowania maszyn wirtualnych platformy Azure** (z obsługą kontenera)</span><span class="sxs-lookup"><span data-stu-id="c5fef-240">**Azure Virtual Machine Scale Sets** (With container's support)</span></span>

<span data-ttu-id="c5fef-241">Z tych trzech, ACI zapewnia wielką korzyść, która jest fakt, że nie trzeba utrzymać podstawowego systemu operacyjnego, nie ma potrzeby, aby uaktualnić / patch, itp., ale ACI nadal jest umieszczony na poziomie infrastruktury, jak lepiej wyjaśnione w nadchodzących sekcjach tej książki.</span><span class="sxs-lookup"><span data-stu-id="c5fef-241">From those three, ACI provides a great benefit, which is the fact that you don't need to maintain the underlying OS, no need for you to upgrade/patch, etc. but ACI still is positioned in the infrastructure level, as better explained in the upcoming sections of this book.</span></span>

<span data-ttu-id="c5fef-242">Produkty na platformie Azure obsługujących kontenery, które są w tym samym czasie umieszczone bardziej na poziomie PaaS (Platforma jako usługa) są:</span><span class="sxs-lookup"><span data-stu-id="c5fef-242">The products in Azure supporting containers that are at the same time positioned more in the PaaS (Platform as a Service) level are:</span></span>

- <span data-ttu-id="c5fef-243">**Usługa aplikacji platformy Azure**</span><span class="sxs-lookup"><span data-stu-id="c5fef-243">**Azure App Service**</span></span>
- <span data-ttu-id="c5fef-244">**Usługa Azure Kubernetes (AKS i ACS)**</span><span class="sxs-lookup"><span data-stu-id="c5fef-244">**Azure Kubernetes Service (AKS and ACS)**</span></span>
- <span data-ttu-id="c5fef-245">**Azure Batch**</span><span class="sxs-lookup"><span data-stu-id="c5fef-245">**Azure Batch**</span></span>

<span data-ttu-id="c5fef-246">Następnie azure container registry to wysoki skalowalny rejestr kontenerów hostowany na platformie Azure, którego można używać ze wszystkich poprzednich produktów podczas rejestrowania i wdrażania obrazów kontenerów niestandardowych.</span><span class="sxs-lookup"><span data-stu-id="c5fef-246">Then, Azure Container Registry is a high scalable container registry hosted in Azure that you can use from all the previous products when registering and deploying your custom container images.</span></span>

<span data-ttu-id="c5fef-247">Ponadto z kontenerów można korzystać z innych usług zarządzanych na platformie Azure, takich jak azure SQL Database, Azure Redis cache, Usługi Azure Cosmos DB, itp.</span><span class="sxs-lookup"><span data-stu-id="c5fef-247">In addition, from your containers, you can consume other managed services in Azure like Azure SQL Database, Azure Redis cache, Azure Cosmos DB, etc.</span></span> <span data-ttu-id="c5fef-248">ponadto istnieją rozwiązania/platformy innych firm dostępne w portalu Azure Marketplace, takie jak Odlewnia chmur i OpenShift, gdzie można również używać kontenerów na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="c5fef-248">plus there are third-party solutions/platforms available in Azure Marketplace like Cloud Foundry and OpenShift where you can also use containers within Azure.</span></span>

<span data-ttu-id="c5fef-249">W następnych sekcjach można zapoznać się z zaleceniami firmy Microsoft dotyczącymi używania każdego z tych produktów i rozwiązań platformy Azure, w szczególności podczas określania reklamowania kontenerów systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="c5fef-249">In the next sections, you can explore Microsoft's recommendations on when to use each of those Azure products and solutions specifically when targeting Windows Containers.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="c5fef-250">[Poprzedni](what-about-cloud-native-applications.md)
>[następny](when-not-to-deploy-to-windows-containers.md)</span><span class="sxs-lookup"><span data-stu-id="c5fef-250">[Previous](what-about-cloud-native-applications.md)
[Next](when-not-to-deploy-to-windows-containers.md)</span></span>
