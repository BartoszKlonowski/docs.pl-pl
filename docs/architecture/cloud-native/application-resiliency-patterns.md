---
title: Wzorce odporności aplikacji
description: Tworzenie architektury natywnych aplikacji .NET w chmurze dla platformy Azure | Wzorce odporności aplikacji
author: robvet
ms.date: 05/13/2020
ms.openlocfilehash: bb72e47704c833a2ce86f103a66b0414ce3a37ff
ms.sourcegitcommit: 27db07ffb26f76912feefba7b884313547410db5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 05/19/2020
ms.locfileid: "83614330"
---
# <a name="application-resiliency-patterns"></a><span data-ttu-id="5d9fe-103">Wzorce odporności aplikacji</span><span class="sxs-lookup"><span data-stu-id="5d9fe-103">Application resiliency patterns</span></span>

<span data-ttu-id="5d9fe-104">Pierwszym wierszem obrony jest odporność aplikacji.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-104">The first line of defense is application resiliency.</span></span>

<span data-ttu-id="5d9fe-105">Chociaż można zainwestować znaczną czas pisania własnej struktury odporności, takie produkty już istnieją.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-105">While you could invest considerable time writing your own resiliency framework, such products already exist.</span></span> <span data-ttu-id="5d9fe-106">[Polly](http://www.thepollyproject.org/) to kompleksowa Biblioteka programu .NET odporności i obsługi błędów przejściowych, która pozwala deweloperom na wyznaczanie zasad odporności w sposób bezpieczny dla bezpieczeństwa i bezpiecznego wątkowo.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-106">[Polly](http://www.thepollyproject.org/) is a comprehensive .NET resilience and transient-fault-handling library that allows developers to express resiliency policies in a fluent and thread-safe manner.</span></span> <span data-ttu-id="5d9fe-107">Polly są obiektami docelowymi utworzonymi za pomocą .NET Framework lub .NET Core.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-107">Polly targets applications built with either the .NET Framework or .NET Core.</span></span> <span data-ttu-id="5d9fe-108">W poniższej tabeli opisano funkcje odporności, nazywane `policies` , dostępne w bibliotece Polly.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-108">The following table describes the resiliency features, called `policies`, available in the Polly Library.</span></span> <span data-ttu-id="5d9fe-109">Mogą być stosowane pojedynczo lub zgrupowane razem.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-109">They can be applied individually or grouped together.</span></span>

| <span data-ttu-id="5d9fe-110">Zasady</span><span class="sxs-lookup"><span data-stu-id="5d9fe-110">Policy</span></span> | <span data-ttu-id="5d9fe-111">Środowisko użytkownika</span><span class="sxs-lookup"><span data-stu-id="5d9fe-111">Experience</span></span> |
| :-------- | :-------- |
| <span data-ttu-id="5d9fe-112">Ponawianie próby</span><span class="sxs-lookup"><span data-stu-id="5d9fe-112">Retry</span></span> | <span data-ttu-id="5d9fe-113">Konfiguruje operacje ponawiania dla wydzielonych operacji.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-113">Configures retry operations on designated operations.</span></span> |
| <span data-ttu-id="5d9fe-114">Wyłącznik</span><span class="sxs-lookup"><span data-stu-id="5d9fe-114">Circuit Breaker</span></span> | <span data-ttu-id="5d9fe-115">Bloki żądające operacji dla wstępnie zdefiniowanego okresu, gdy błędy przekraczają skonfigurowany próg</span><span class="sxs-lookup"><span data-stu-id="5d9fe-115">Blocks requested operations for a predefined period when faults exceed a configured threshold</span></span> |
| <span data-ttu-id="5d9fe-116">Limit czasu</span><span class="sxs-lookup"><span data-stu-id="5d9fe-116">Timeout</span></span> | <span data-ttu-id="5d9fe-117">Umieszcza limit w czasie trwania, dla którego obiekt wywołujący może czekać na odpowiedź.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-117">Places limit on the duration for which a caller can wait for a response.</span></span> |
| <span data-ttu-id="5d9fe-118">Gródź</span><span class="sxs-lookup"><span data-stu-id="5d9fe-118">Bulkhead</span></span> | <span data-ttu-id="5d9fe-119">Ogranicza akcje do puli zasobów o stałym rozmiarze, aby zapobiec niepowodzeniu wywołań z swamping zasobów.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-119">Constrains actions to fixed-size resource pool to prevent failing calls from swamping a resource.</span></span> |
| <span data-ttu-id="5d9fe-120">Pamięć podręczna</span><span class="sxs-lookup"><span data-stu-id="5d9fe-120">Cache</span></span> | <span data-ttu-id="5d9fe-121">Automatyczne przechowywanie odpowiedzi.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-121">Stores responses automatically.</span></span> |
| <span data-ttu-id="5d9fe-122">Opcja rezerwowa</span><span class="sxs-lookup"><span data-stu-id="5d9fe-122">Fallback</span></span> | <span data-ttu-id="5d9fe-123">Definiuje zachowanie strukturalne w przypadku awarii.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-123">Defines structured behavior upon a failure.</span></span> |

<span data-ttu-id="5d9fe-124">Zwróć uwagę na to, jak na poprzedniej ilustracji zasady odporności dotyczą komunikatów żądania, niezależnie od tego, czy pochodzą z klienta zewnętrznego, czy z usługi zaplecza.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-124">Note how in the previous figure the resiliency policies apply to request messages, whether coming from an external client or back-end service.</span></span> <span data-ttu-id="5d9fe-125">Celem jest zrekompensowanie żądania usługi, która może być chwilowo niedostępna.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-125">The goal is to compensate the request for a service that might be momentarily unavailable.</span></span> <span data-ttu-id="5d9fe-126">Te przerwy krótkoterminowe zwykle deklarują się za pomocą kodów stanu HTTP przedstawionych w poniższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-126">These short-lived interruptions typically manifest themselves with the HTTP status codes shown in the following table.</span></span>

| <span data-ttu-id="5d9fe-127">Kod stanu HTTP</span><span class="sxs-lookup"><span data-stu-id="5d9fe-127">HTTP Status Code</span></span>| <span data-ttu-id="5d9fe-128">Przyczyna</span><span class="sxs-lookup"><span data-stu-id="5d9fe-128">Cause</span></span> |
| :-------- | :-------- |
| <span data-ttu-id="5d9fe-129">404</span><span class="sxs-lookup"><span data-stu-id="5d9fe-129">404</span></span> | <span data-ttu-id="5d9fe-130">Nie znaleziono</span><span class="sxs-lookup"><span data-stu-id="5d9fe-130">Not Found</span></span> |
| <span data-ttu-id="5d9fe-131">408</span><span class="sxs-lookup"><span data-stu-id="5d9fe-131">408</span></span> | <span data-ttu-id="5d9fe-132">Limit czasu żądania</span><span class="sxs-lookup"><span data-stu-id="5d9fe-132">Request timeout</span></span> |
| <span data-ttu-id="5d9fe-133">429</span><span class="sxs-lookup"><span data-stu-id="5d9fe-133">429</span></span> | <span data-ttu-id="5d9fe-134">Zbyt wiele żądań (prawdopodobnie została ograniczona)</span><span class="sxs-lookup"><span data-stu-id="5d9fe-134">Too many requests (you've most likely been throttled)</span></span> |
| <span data-ttu-id="5d9fe-135">502</span><span class="sxs-lookup"><span data-stu-id="5d9fe-135">502</span></span> | <span data-ttu-id="5d9fe-136">Zła brama</span><span class="sxs-lookup"><span data-stu-id="5d9fe-136">Bad gateway</span></span> |
| <span data-ttu-id="5d9fe-137">503</span><span class="sxs-lookup"><span data-stu-id="5d9fe-137">503</span></span> | <span data-ttu-id="5d9fe-138">Usługa jest niedostępna</span><span class="sxs-lookup"><span data-stu-id="5d9fe-138">Service unavailable</span></span> |
| <span data-ttu-id="5d9fe-139">504</span><span class="sxs-lookup"><span data-stu-id="5d9fe-139">504</span></span> | <span data-ttu-id="5d9fe-140">Limit czasu bramy</span><span class="sxs-lookup"><span data-stu-id="5d9fe-140">Gateway timeout</span></span> |

<span data-ttu-id="5d9fe-141">Pytanie: Czy chcesz ponowić próbę wykonania kodu stanu HTTP 403 — Dostęp zabroniony?</span><span class="sxs-lookup"><span data-stu-id="5d9fe-141">Question: Would you retry an HTTP Status Code of 403 - Forbidden?</span></span> <span data-ttu-id="5d9fe-142">Nie.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-142">No.</span></span> <span data-ttu-id="5d9fe-143">W tym miejscu system działa prawidłowo, ale informuje obiekt wywołujący, że nie ma uprawnień do wykonywania żądanych operacji.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-143">Here, the system is functioning properly, but informing the caller that they aren't authorized to perform the requested operation.</span></span> <span data-ttu-id="5d9fe-144">Należy zachować ostrożność, aby ponowić próbę tylko operacji spowodowanych błędami.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-144">Care must be taken to retry only those operations caused by failures.</span></span>

<span data-ttu-id="5d9fe-145">Zgodnie z zaleceniami w rozdziale 1 programiści firmy Microsoft tworzący aplikacje natywne w chmurze powinni kierować platformą .NET Core.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-145">As recommended in Chapter 1, Microsoft developers constructing cloud-native applications should target the .NET Core platform.</span></span> <span data-ttu-id="5d9fe-146">W wersji 2,1 wprowadzono bibliotekę [HTTPClientFactory](https://www.stevejgordon.co.uk/introduction-to-httpclientfactory-aspnetcore) do tworzenia wystąpień klienta http na potrzeby współpracy z zasobami opartymi na adresach URL.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-146">Version 2.1 introduced the [HTTPClientFactory](https://www.stevejgordon.co.uk/introduction-to-httpclientfactory-aspnetcore) library for creating HTTP Client instances for interacting with URL-based resources.</span></span> <span data-ttu-id="5d9fe-147">Zastąpienie oryginalnej klasy HTTPClient, Klasa Factory obsługuje wiele ulepszonych funkcji, jednym z nich jest [ścisła integracja](../microservices/implement-resilient-applications/implement-http-call-retries-exponential-backoff-polly.md) z biblioteką odporności Polly.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-147">Superseding the original HTTPClient class, the factory class supports many enhanced features, one of which is [tight integration](../microservices/implement-resilient-applications/implement-http-call-retries-exponential-backoff-polly.md) with the Polly resiliency library.</span></span> <span data-ttu-id="5d9fe-148">Dzięki niej można łatwo definiować zasady odporności w klasie uruchamiania aplikacji w celu obsługi częściowych awarii i problemów z łącznością.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-148">With it, you can easily define resiliency policies in the application Startup class to handle partial failures and connectivity issues.</span></span>

<span data-ttu-id="5d9fe-149">Następnie Rozwińmy wzorce ponowień i wyłączników.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-149">Next, let's expand on retry and circuit breaker patterns.</span></span>

### <a name="retry-pattern"></a><span data-ttu-id="5d9fe-150">Wzorzec ponawiania</span><span class="sxs-lookup"><span data-stu-id="5d9fe-150">Retry pattern</span></span>

<span data-ttu-id="5d9fe-151">W rozproszonym środowisku natywnym w chmurze wywołania usług i zasobów w chmurze mogą zakończyć się niepowodzeniem z powodu przejściowych (krótko-o) awarii, które zwykle są naprawione po krótkim czasie.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-151">In a distributed cloud-native environment, calls to services and cloud resources can fail because of transient (short-lived) failures, which typically correct themselves after a brief period of time.</span></span> <span data-ttu-id="5d9fe-152">Implementacja strategii ponawiania próbuje, aby usługa w chmurze mogła ograniczyć te scenariusze.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-152">Implementing a retry strategy helps a cloud-native service mitigate these scenarios.</span></span>

<span data-ttu-id="5d9fe-153">[Wzorzec ponawiania próby](https://docs.microsoft.com/azure/architecture/patterns/retry) umożliwia usłudze ponowienie próby nieudanej operacji żądania, która jest możliwa do skonfigurowania.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-153">The [Retry pattern](https://docs.microsoft.com/azure/architecture/patterns/retry) enables a service to retry a failed request operation a (configurable) number of times with an exponentially increasing wait time.</span></span> <span data-ttu-id="5d9fe-154">Rysunek 6-2 pokazuje ponowną próbę wykonania akcji.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-154">Figure 6-2 shows a retry in action.</span></span>

![Wzorzec ponawiania w akcji](./media/retry-pattern.png)

<span data-ttu-id="5d9fe-156">**Rysunek 6-2**.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-156">**Figure 6-2**.</span></span> <span data-ttu-id="5d9fe-157">Wzorzec ponawiania w akcji</span><span class="sxs-lookup"><span data-stu-id="5d9fe-157">Retry pattern in action</span></span>

<span data-ttu-id="5d9fe-158">Na poprzednim rysunku został zaimplementowany wzorzec ponawiania prób dla operacji żądania.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-158">In the previous figure, a retry pattern has been implemented for a request operation.</span></span> <span data-ttu-id="5d9fe-159">Jest skonfigurowany tak, aby zezwalał do czterech ponownych prób przed niepowodzeniem z interwałem wycofywania (czas oczekiwania), zaczynając od dwóch sekund, co wykładniczo podwaja się dla każdej kolejnej próby.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-159">It's configured to allow up to four retries before failing with a backoff interval (wait time) starting at two seconds, which exponentially doubles for each subsequent attempt.</span></span>

- <span data-ttu-id="5d9fe-160">Pierwsze wywołanie nie powiodło się i zwraca kod stanu HTTP 500.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-160">The first invocation fails and returns an HTTP status code of 500.</span></span> <span data-ttu-id="5d9fe-161">Aplikacja czeka dwie sekundy i ponawia próbę wywołania.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-161">The application waits for two seconds and retries the call.</span></span>
- <span data-ttu-id="5d9fe-162">Drugie wywołanie kończy się niepowodzeniem i zwraca kod stanu HTTP 500.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-162">The second invocation also fails and returns an HTTP status code of 500.</span></span> <span data-ttu-id="5d9fe-163">Aplikacja teraz podwaja interwał wycofywania do czterech sekund i ponawia próbę wywołania.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-163">The application now doubles the backoff interval to four seconds and retries the call.</span></span>
- <span data-ttu-id="5d9fe-164">Na koniec trzecie wywołanie powiodło się.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-164">Finally, the third call succeeds.</span></span>
- <span data-ttu-id="5d9fe-165">W tym scenariuszu próba wykonania operacji ponawiania próbuje się do czterech ponownych prób podczas podwajania czasu trwania wycofywania przed zakończeniem wywołania.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-165">In this scenario, the retry operation would have attempted up to four retries while doubling the backoff duration before failing the call.</span></span>
- <span data-ttu-id="5d9fe-166">Po czwartej ponowieniu próby nie powiodła się. można wywołać zasady powrotu, aby bezpiecznie obsłużyć problem.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-166">Had the 4th retry attempt failed, a fallback policy would be invoked to gracefully handle the problem.</span></span>

<span data-ttu-id="5d9fe-167">Ważne jest, aby zwiększyć okres wycofywania przed ponowną próbą wywołania, aby zezwolić na samoprawidłowość usługi.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-167">It's important to increase the backoff period before retrying the call to allow the service time to self-correct.</span></span> <span data-ttu-id="5d9fe-168">Najlepszym rozwiązaniem jest wdrożenie wykładniczego wzrostu wycofywania (podwojenie okresu przy każdej ponowieniu próby), aby zapewnić odpowiedni czas korekcji.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-168">It's a best practice to implement an exponentially increasing backoff (doubling the period on each retry) to allow adequate correction time.</span></span>

## <a name="circuit-breaker-pattern"></a><span data-ttu-id="5d9fe-169">Wzorzec wyłącznika</span><span class="sxs-lookup"><span data-stu-id="5d9fe-169">Circuit breaker pattern</span></span>

<span data-ttu-id="5d9fe-170">Chociaż wzorzec ponawiania może pomóc w odzyskaniu żądania Entangled w częściowej awarii, istnieją sytuacje, w których awarie mogą być spowodowane nieoczekiwanymi zdarzeniami, które będą wymagały dłuższych okresów czasu na rozwiązanie.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-170">While the retry pattern can help salvage a request entangled in a partial failure, there are situations where failures can be caused by unanticipated events that will require longer periods of time to resolve.</span></span> <span data-ttu-id="5d9fe-171">Takie błędy mogą mieć różny stopień ważności — od częściowej utraty łączności do całkowitej awarii usługi.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-171">These faults can range in severity from a partial loss of connectivity to the complete failure of a service.</span></span> <span data-ttu-id="5d9fe-172">W takich sytuacjach nie jest możliwe, aby aplikacja stale ponawiać próbę wykonania operacji, która prawdopodobnie nie powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-172">In these situations, it's pointless for an application to continually retry an operation that is unlikely to succeed.</span></span>

<span data-ttu-id="5d9fe-173">Aby zapewnić, że wykonywanie ciągle powtarzających się operacji w usłudze bez odpowiedzi może przeniesieć użytkownika do samodzielnego scenariusza odmowy usługi, w którym usługa jest zastosowana do ciągłego wywoływania zasobów, takich jak pamięć, wątki i połączenia bazy danych, powodując awarię niepowiązanych części systemu, które korzystają z tych samych zasobów.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-173">To make things worse, executing continual retry operations on a non-responsive service can move you into a self-imposed denial of service scenario where you flood your service with continual calls exhausting resources such as memory, threads and database connections, causing failure in unrelated parts of the system that use the same resources.</span></span>

<span data-ttu-id="5d9fe-174">W takich sytuacjach lepszym rozwiązaniem może być niepowodzenie operacji natychmiastowego i próba wywołania usługi w przypadku, gdy będzie to możliwe.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-174">In these situations, it would be preferable for the operation to fail immediately and only attempt to invoke the service if it's likely to succeed.</span></span>

<span data-ttu-id="5d9fe-175">[Wzorzec wyłącznika](https://docs.microsoft.com/azure/architecture/patterns/circuit-breaker) może uniemożliwić aplikacji wielokrotne ponawianie próby wykonania operacji, która może zakończyć się niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-175">The [Circuit Breaker pattern](https://docs.microsoft.com/azure/architecture/patterns/circuit-breaker) can prevent an application from repeatedly trying to execute an operation that's likely to fail.</span></span> <span data-ttu-id="5d9fe-176">Po wstępnie zdefiniowanej liczbie wywołań zakończonych niepowodzeniem blokuje cały ruch do usługi.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-176">After a pre-defined number of failed calls, it blocks all traffic to the service.</span></span> <span data-ttu-id="5d9fe-177">Okresowo zezwoli na połączenie próbne w celu ustalenia, czy błąd został rozwiązany.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-177">Periodically, it will allow a trial call to determine whether the fault has resolved.</span></span> <span data-ttu-id="5d9fe-178">Rysunek 6-3 pokazuje wzorzec wyłącznika w akcji.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-178">Figure 6-3 shows the Circuit Breaker pattern in action.</span></span>

![Wzorzec wyłącznika w akcji](./media/circuit-breaker-pattern.png)

<span data-ttu-id="5d9fe-180">**Rysunek 6-3**.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-180">**Figure 6-3**.</span></span> <span data-ttu-id="5d9fe-181">Wzorzec wyłącznika w akcji</span><span class="sxs-lookup"><span data-stu-id="5d9fe-181">Circuit breaker pattern in action</span></span>

<span data-ttu-id="5d9fe-182">Na poprzedniej ilustracji wzorzec wyłącznika został dodany do oryginalnego wzorca ponawiania prób.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-182">In the previous figure, a Circuit Breaker pattern has been added to the original retry pattern.</span></span> <span data-ttu-id="5d9fe-183">Zwróć uwagę, jak po 100 nieudanych żądań Wyłączniki są otwierane i nie będą już zezwalać na wywołania usługi.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-183">Note how after 100 failed requests, the circuit breakers opens and no longer allows calls to the service.</span></span> <span data-ttu-id="5d9fe-184">Wartość CheckCircuit ustawiona na 30 sekund określa, jak często Biblioteka umożliwia przechodzenie do usługi za pomocą jednego żądania.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-184">The CheckCircuit value, set at 30 seconds, specifies how often the library allows one request to proceed to the service.</span></span> <span data-ttu-id="5d9fe-185">Jeśli to wywołanie zakończy się pomyślnie, obwód zostanie zamknięty, a usługa zostanie ponownie udostępniona dla ruchu.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-185">If that call succeeds, the circuit closes and the service is once again available to traffic.</span></span>

<span data-ttu-id="5d9fe-186">Należy pamiętać, że intencja wzorca wyłącznika *różni* się od wzorca ponawiania prób.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-186">Keep in mind that the intent of the Circuit Breaker pattern is *different* than that of the Retry pattern.</span></span> <span data-ttu-id="5d9fe-187">Wzorzec ponawiania umożliwia aplikacji ponowienie próby wykonania operacji w oczekiwany sposób.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-187">The Retry pattern enables an application to retry an operation in the expectation that it will succeed.</span></span> <span data-ttu-id="5d9fe-188">Wzorzec wyłącznika uniemożliwia aplikacji wykonywanie operacji, która prawdopodobnie nie powiedzie się.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-188">The Circuit Breaker pattern prevents an application from doing an operation that is likely to fail.</span></span> <span data-ttu-id="5d9fe-189">Zazwyczaj aplikacja *łączy te dwa* wzorce przy użyciu wzorca ponawiania w celu wywołania operacji za pośrednictwem wyłącznika.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-189">Typically, an application will *combine* these two patterns by using the Retry pattern to invoke an operation through a circuit breaker.</span></span>

## <a name="testing-for-resiliency"></a><span data-ttu-id="5d9fe-190">Testowanie pod kątem odporności</span><span class="sxs-lookup"><span data-stu-id="5d9fe-190">Testing for resiliency</span></span>

<span data-ttu-id="5d9fe-191">Testowanie pod kątem odporności nie zawsze jest możliwe w taki sam sposób, jak testowanie funkcjonalności aplikacji (przez uruchamianie testów jednostkowych, testów integracji itd.).</span><span class="sxs-lookup"><span data-stu-id="5d9fe-191">Testing for resiliency cannot always be done the same way that you test application functionality (by running unit tests, integration tests and so on).</span></span> <span data-ttu-id="5d9fe-192">Zamiast tego musisz przetestować, jak całościowe obciążenie się zachowuje w warunkach błędu, który występuje tylko sporadycznie.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-192">Instead, you must test how the end-to-end workload performs under failure conditions which only occur intermittently.</span></span> <span data-ttu-id="5d9fe-193">Na przykład: wstrzyknięcie błędów przez procesy powodujące awarie, wygasłe certyfikaty, udostępnianie usług zależnych itp. Struktury takie jak [chaos-małpa](https://github.com/Netflix/chaosmonkey) mogą być używane do takich testów chaos.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-193">For example: inject failures by crashing processes, expired certificates, make dependent services unavailable etc. Frameworks like [chaos-monkey](https://github.com/Netflix/chaosmonkey) can be used for such chaos testing.</span></span>

<span data-ttu-id="5d9fe-194">Odporność aplikacji jest wymagana do obsługi problematycznych operacji.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-194">Application resiliency is a must for handling problematic requested operations.</span></span> <span data-ttu-id="5d9fe-195">Ale jest to tylko połowa wątku.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-195">But, it's only half of the story.</span></span> <span data-ttu-id="5d9fe-196">Następnie omówiono funkcje odporności dostępne w chmurze platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="5d9fe-196">Next, we cover resiliency features available in the Azure cloud.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="5d9fe-197">[Poprzedni](resiliency.md) 
> [Dalej](infrastructure-resiliency-azure.md)</span><span class="sxs-lookup"><span data-stu-id="5d9fe-197">[Previous](resiliency.md)
[Next](infrastructure-resiliency-azure.md)</span></span>
