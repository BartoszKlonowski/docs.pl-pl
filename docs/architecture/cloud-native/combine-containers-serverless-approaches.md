---
title: Łączenie kontenerów i rozwiązań bezserwerowych
description: Łączenie kontenerów i Kubernetes za pomocą podejścia bezserwerowego
ms.date: 06/30/2019
ms.openlocfilehash: 58aff43adbdd2e629370cc685f32c7b61c25f85e
ms.sourcegitcommit: 55f438d4d00a34b9aca9eedaac3f85590bb11565
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/23/2019
ms.locfileid: "71183435"
---
# <a name="combining-containers-and-serverless-approaches"></a><span data-ttu-id="006d2-103">Łączenie kontenerów i rozwiązań bezserwerowych</span><span class="sxs-lookup"><span data-stu-id="006d2-103">Combining containers and serverless approaches</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="006d2-104">Często aplikacje oparte na mikrousługach opierają się na kontenerach, aranżacji i przekazywaniu komunikatów do komunikacji między węzłami.</span><span class="sxs-lookup"><span data-stu-id="006d2-104">Frequently, microservices-based applications rely heavily on containers, orchestration, and message-passing for communication between nodes.</span></span> <span data-ttu-id="006d2-105">Ten komunikat jest idealnym zadaniem dla Azure Functions, ale wraz z pozostałą częścią aplikacji skonfigurowanej i wdrożonej przy użyciu Kubernetes i narzędzi związanych z nimi, najprawdopodobniej będzie można wykorzystać Azure Functions w tym samym przyborniku.</span><span class="sxs-lookup"><span data-stu-id="006d2-105">This messaging is an ideal task for Azure Functions, but with the rest of the application configured and deployed using Kubernetes and related tools, it would be nice to be able to leverage Azure Functions within this same toolset.</span></span> <span data-ttu-id="006d2-106">Na szczęście można zawijać Azure Functions w kontenerach platformy Docker i wdrażać je przy użyciu tych samych procesów i narzędzi, co w przypadku pozostałej części aplikacji opartej na Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="006d2-106">Fortunately, you can wrap Azure Functions in Docker containers and deploy them using the same processes and tools as the rest of your Kubernetes-based app.</span></span>

## <a name="when-does-it-make-sense-to-use-containers-with-serverless"></a><span data-ttu-id="006d2-107">Kiedy warto używać kontenerów z bezserwerowym użyciem?</span><span class="sxs-lookup"><span data-stu-id="006d2-107">When does it make sense to use containers with serverless?</span></span>

<span data-ttu-id="006d2-108">Domyślnie funkcje bezserwerowe nie mają informacji o platformie, w której będą uruchamiane.</span><span class="sxs-lookup"><span data-stu-id="006d2-108">By default, your serverless functions have no knowledge of the platform on which they'll run.</span></span> <span data-ttu-id="006d2-109">Jednak w niektórych przypadkach mogą istnieć konkretne wymagania, które są ważne, aby można było dostosować obraz kontenera, w którym będzie wykonywany kod.</span><span class="sxs-lookup"><span data-stu-id="006d2-109">However, in some cases you may have specific requirements that make it important for you to customize the container image in which your code will run.</span></span> <span data-ttu-id="006d2-110">Możesz chcieć użyć niestandardowego obrazu, ponieważ funkcja korzysta z określonej wersji językowej lub ma zależności lub wymagania dotyczące konfiguracji, które nie są obsługiwane przez domyślny obraz.</span><span class="sxs-lookup"><span data-stu-id="006d2-110">You may want to use a custom image because your function relies on a specific language version or has dependencies or configuration requirements that aren't supported by the default image.</span></span> <span data-ttu-id="006d2-111">W takich przypadkach warto dostosować własny kontener i wdrożyć funkcję w niestandardowym kontenerze platformy Docker.</span><span class="sxs-lookup"><span data-stu-id="006d2-111">In these cases, it may make sense to customize your own container and deploy your function in a custom Docker container.</span></span>

## <a name="when-should-you-avoid-using-containers-with-azure-functions"></a><span data-ttu-id="006d2-112">Kiedy należy unikać używania kontenerów z Azure Functionsami?</span><span class="sxs-lookup"><span data-stu-id="006d2-112">When should you avoid using containers with Azure Functions?</span></span>

<span data-ttu-id="006d2-113">Jeśli zamierzasz korzystać z rozliczeń planu zużycia dla funkcji, nie będzie można tego robić, jeśli używasz własnego kontenera.</span><span class="sxs-lookup"><span data-stu-id="006d2-113">If you're expecting to benefit from the consumption plan billing for your function, you won't be able to do so if you're using your own container.</span></span> <span data-ttu-id="006d2-114">Co więcej, jeśli przejdziesz poza prostu przy użyciu kontenera Docker i wdrażasz funkcje w własnym klastrze Kubernetes, nie będziesz już korzystać z wbudowanego skalowania zapewnianego przez Azure Functions.</span><span class="sxs-lookup"><span data-stu-id="006d2-114">What's more, if you go beyond just using a Docker container and deploy your functions to your own Kubernetes cluster, you'll no longer benefit from the built-in scaling provided by Azure Functions.</span></span> <span data-ttu-id="006d2-115">Musisz użyć funkcji skalowania Kubernetes "opisanych poniżej.</span><span class="sxs-lookup"><span data-stu-id="006d2-115">You'll need to use Kubernetes' scaling features, described below.</span></span>

## <a name="how-to-combine-serverless-and-docker-containers"></a><span data-ttu-id="006d2-116">Jak połączyć kontenery bezserwerowe i platformy Docker</span><span class="sxs-lookup"><span data-stu-id="006d2-116">How to combine serverless and Docker containers</span></span>

<span data-ttu-id="006d2-117">Aby otoczyć funkcję platformy Azure w kontenerze platformy Docker, Zainstaluj Azure Functions Core Tools a następnie uruchom następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="006d2-117">To wrap an Azure Function in a Docker container, install the Azure Functions Core Tools and then run the following command:</span></span>

```console
func init ProjectName --docker
```

<span data-ttu-id="006d2-118">Wybierz z następujących opcji środowisko uruchomieniowe procesu roboczego:</span><span class="sxs-lookup"><span data-stu-id="006d2-118">Choose which worker runtime you want from the following options:</span></span>

- <span data-ttu-id="006d2-119">`dotnet` (C#)</span><span class="sxs-lookup"><span data-stu-id="006d2-119">`dotnet` (C#)</span></span>
- <span data-ttu-id="006d2-120">`node` (JavaScript)</span><span class="sxs-lookup"><span data-stu-id="006d2-120">`node` (JavaScript)</span></span>
- `python`

<span data-ttu-id="006d2-121">Po utworzeniu projektu będzie on zawierał pliku dockerfile.</span><span class="sxs-lookup"><span data-stu-id="006d2-121">When the project is created, it will include a Dockerfile.</span></span> <span data-ttu-id="006d2-122">Teraz można tworzyć i testować funkcję lokalnie.</span><span class="sxs-lookup"><span data-stu-id="006d2-122">Now, you can create and test your function locally.</span></span> <span data-ttu-id="006d2-123">Kompiluj i uruchamiaj za pomocą poleceń `docker build` i `docker run`.</span><span class="sxs-lookup"><span data-stu-id="006d2-123">Build and run it using the  `docker build` and `docker run` commands.</span></span> <span data-ttu-id="006d2-124">Aby uzyskać szczegółowe instrukcje dotyczące rozpoczynania tworzenia Azure Functions z obsługą platformy Docker, zobacz samouczek [Tworzenie funkcji w systemie Linux przy użyciu niestandardowego obrazu](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image) .</span><span class="sxs-lookup"><span data-stu-id="006d2-124">For detailed steps to get started building Azure Functions with Docker support, see the [Create a function on Linux using a custom image](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image) tutorial.</span></span>

## <a name="how-to-combine-serverless-and-kubernetes-with-keda"></a><span data-ttu-id="006d2-125">Łączenie bezserwerowe i Kubernetes z KEDA</span><span class="sxs-lookup"><span data-stu-id="006d2-125">How to combine serverless and Kubernetes with KEDA</span></span>

<span data-ttu-id="006d2-126">Usługa Azure Functions jest skalowana automatycznie, aby zaspokoić zapotrzebowanie na podstawie liczby zdarzeń przeznaczonych dla danej funkcji.</span><span class="sxs-lookup"><span data-stu-id="006d2-126">Azure functions scale automatically to meet demand based on the rate of events that are targeting a given function.</span></span> <span data-ttu-id="006d2-127">Ponadto można korzystać z Kubernetes, aby hostować funkcje i korzystać z funkcji automatycznego skalowania opartego na zdarzeniach Kubernetes lub KEDA.</span><span class="sxs-lookup"><span data-stu-id="006d2-127">Additionally, you can leverage Kubernetes to host your functions and use Kubernetes-based Event Driven Autoscaling, or KEDA.</span></span> <span data-ttu-id="006d2-128">Gdy nie są wykonywane żadne zdarzenia, KEDA może skalować w dół do 0 wystąpień, a następnie w odpowiedzi na zdarzenia może skalować liczbę kontenerów, aby zaspokoić zapotrzebowanie przy użyciu jego skalowania w poziomie.</span><span class="sxs-lookup"><span data-stu-id="006d2-128">When no events are occurring, KEDA can scale down to 0 instances, and then in response to events it can scale up the number of containers to meet the demand using its horizontal pod autoscaler.</span></span> <span data-ttu-id="006d2-129">[Dowiedz się więcej na temat skalowania usługi Azure Functions za pomocą KEDA](https://docs.microsoft.com/azure/azure-functions/functions-kubernetes-keda).</span><span class="sxs-lookup"><span data-stu-id="006d2-129">[Learn more about scaling Azure functions with KEDA](https://docs.microsoft.com/azure/azure-functions/functions-kubernetes-keda).</span></span>

## <a name="references"></a><span data-ttu-id="006d2-130">Odwołania</span><span class="sxs-lookup"><span data-stu-id="006d2-130">References</span></span>

- [<span data-ttu-id="006d2-131">Uruchamianie Azure Functions w kontenerze platformy Docker</span><span class="sxs-lookup"><span data-stu-id="006d2-131">Run Azure Functions in a Docker Container</span></span>](https://markheath.net/post/azure-functions-docker)
- [<span data-ttu-id="006d2-132">Tworzenie funkcji w systemie Linux przy użyciu obrazu niestandardowego</span><span class="sxs-lookup"><span data-stu-id="006d2-132">Create a function on Linux using a custom image</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image)
- [<span data-ttu-id="006d2-133">Azure Functions z funkcją automatycznego skalowania opartego na zdarzeniach Kubernetes</span><span class="sxs-lookup"><span data-stu-id="006d2-133">Azure Functions with Kubernetes Event Driven Autoscaling</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-kubernetes-keda)

>[!div class="step-by-step"]
><span data-ttu-id="006d2-134">[Poprzedni](leverage-serverless-functions.md)
>[Następny](deploy-containers-azure.md)</span><span class="sxs-lookup"><span data-stu-id="006d2-134">[Previous](leverage-serverless-functions.md)
[Next](deploy-containers-azure.md)</span></span>
