---
title: Monitorowanie w usługach Azure Kubernetes Services
description: Monitorowanie w usługach Azure Kubernetes Services
ms.date: 05/13/2020
ms.openlocfilehash: 3900f169b9be4f807e72392da38a1224d6ce28e3
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/24/2020
ms.locfileid: "91163703"
---
# <a name="monitoring-in-azure-kubernetes-services"></a><span data-ttu-id="4ad5c-103">Monitorowanie w usługach Azure Kubernetes Services</span><span class="sxs-lookup"><span data-stu-id="4ad5c-103">Monitoring in Azure Kubernetes Services</span></span>

<span data-ttu-id="4ad5c-104">Wbudowane rejestrowanie w Kubernetes jest pierwotne.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-104">The built-in logging in Kubernetes is primitive.</span></span> <span data-ttu-id="4ad5c-105">Dostępne są jednak pewne doskonałe opcje pobierania dzienników z usługi Kubernetes oraz do miejsca, w którym można je prawidłowo analizować.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-105">However, there are some great options for getting the logs out of Kubernetes and into a place where they can be properly analyzed.</span></span> <span data-ttu-id="4ad5c-106">Jeśli musisz monitorować klastry AKS, skonfigurowanie elastycznego stosu dla Kubernetes jest doskonałym rozwiązaniem.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-106">If you need to monitor your AKS clusters, configuring Elastic Stack for Kubernetes is a great solution.</span></span>

## <a name="azure-monitor-for-containers"></a><span data-ttu-id="4ad5c-107">Usługa Azure Monitor dla kontenerów</span><span class="sxs-lookup"><span data-stu-id="4ad5c-107">Azure Monitor for Containers</span></span>

<span data-ttu-id="4ad5c-108">[Azure monitor kontenerów](/azure/azure-monitor/insights/container-insights-overview) obsługuje używanie dzienników nie tylko Kubernetes, ale również z innych aparatów aranżacji, takich jak DC/OS, Docker Swarm i Red Hat OpenShift.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-108">[Azure Monitor for Containers](/azure/azure-monitor/insights/container-insights-overview) supports consuming logs from not just Kubernetes but also from other orchestration engines such as DC/OS, Docker Swarm, and Red Hat OpenShift.</span></span>

<span data-ttu-id="4ad5c-109">![Wykorzystywanie dzienników z różnych kontenerów ](./media/containers-diagram.png)
 **rysunek 7-10**.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-109">![Consuming logs from various containers](./media/containers-diagram.png)
**Figure 7-10**.</span></span> <span data-ttu-id="4ad5c-110">Zużywanie dzienników z różnych kontenerów</span><span class="sxs-lookup"><span data-stu-id="4ad5c-110">Consuming logs from various containers</span></span>

<span data-ttu-id="4ad5c-111">[Prometheus](https://prometheus.io/) to popularne rozwiązanie do monitorowania metryk typu open source.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-111">[Prometheus](https://prometheus.io/) is a popular open source metric monitoring solution.</span></span> <span data-ttu-id="4ad5c-112">Jest to część natywnej platformy obliczeniowej w chmurze.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-112">It is part of the Cloud Native Compute Foundation.</span></span> <span data-ttu-id="4ad5c-113">Zazwyczaj użycie Prometheus wymaga zarządzania serwerem Prometheus z własnym magazynem.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-113">Typically, using Prometheus requires managing a Prometheus server with its own store.</span></span> <span data-ttu-id="4ad5c-114">Jednak [Azure monitor dla kontenerów zapewnia bezpośrednią integrację z punktami końcowymi metryk Prometheus](/azure/azure-monitor/insights/container-insights-prometheus-integration), więc nie jest wymagany oddzielny serwer.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-114">However, [Azure Monitor for Containers provides direct integration with Prometheus metrics endpoints](/azure/azure-monitor/insights/container-insights-prometheus-integration), so a separate server is not required.</span></span>

<span data-ttu-id="4ad5c-115">Informacje o dziennikach i metrykach są zbierane nie tylko z kontenerów uruchomionych w klastrze, ale również z hostów klastra.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-115">Log and metric information is gathered not just from the containers running in the cluster but also from the cluster hosts themselves.</span></span> <span data-ttu-id="4ad5c-116">Umożliwia on skorelowanie informacji dzienników z dwóch, ułatwiając śledzenie błędów.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-116">It allows correlating log information from the two making it much easier to track down an error.</span></span>

<span data-ttu-id="4ad5c-117">Instalowanie modułów zbierających dzienniki różni się w zależności od klastrów [systemów Windows](/azure/azure-monitor/insights/containers#configure-a-log-analytics-windows-agent-for-kubernetes) i [Linux](/azure/azure-monitor/insights/containers#configure-a-log-analytics-linux-agent-for-kubernetes) .</span><span class="sxs-lookup"><span data-stu-id="4ad5c-117">Installing the log collectors differs on [Windows](/azure/azure-monitor/insights/containers#configure-a-log-analytics-windows-agent-for-kubernetes) and [Linux](/azure/azure-monitor/insights/containers#configure-a-log-analytics-linux-agent-for-kubernetes) clusters.</span></span> <span data-ttu-id="4ad5c-118">Jednak w obu przypadkach kolekcja dzienników jest zaimplementowana jako Kubernetes [elementu daemonset](https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/), co oznacza, że moduł zbierający dzienniki jest uruchamiany jako kontener na każdym z węzłów.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-118">But in both cases the log collection is implemented as a Kubernetes [DaemonSet](https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/), meaning that the log collector is run as a container on each of the nodes.</span></span>

<span data-ttu-id="4ad5c-119">Niezależnie od tego, który koordynator lub system operacyjny działa demon Azure Monitor, informacje dziennika są przekazywane do tych samych Azure Monitor narzędzi, z którymi użytkownicy znają.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-119">No matter which orchestrator or operating system is running the Azure Monitor daemon, the log information is forwarded to the same Azure Monitor tools with which users are familiar.</span></span> <span data-ttu-id="4ad5c-120">Zapewnia to równoległe środowisko w środowiskach, które mieszają różne źródła dzienników, takie jak hybrydowe środowisko Kubernetes/Azure Functions.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-120">This ensures a parallel experience in environments that mix different log sources such as a hybrid Kubernetes/Azure Functions environment.</span></span>

<span data-ttu-id="4ad5c-121">![Przykładowy pulpit nawigacyjny przedstawiający rejestrowanie i informacje o metrykach z wielu uruchomionych kontenerów. ](./media/containers-dashboard.png)
 **Rysunek 7-11**.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-121">![A sample dashboard showing logging and metric information from a number of running containers.](./media/containers-dashboard.png)
**Figure 7-11**.</span></span> <span data-ttu-id="4ad5c-122">Przykładowy pulpit nawigacyjny przedstawiający rejestrowanie i informacje o metrykach z wielu uruchomionych kontenerów.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-122">A sample dashboard showing logging and metric information from a number of running containers.</span></span>

## <a name="logfinalize"></a><span data-ttu-id="4ad5c-123">Log. Finalize ()</span><span class="sxs-lookup"><span data-stu-id="4ad5c-123">Log.Finalize()</span></span>

<span data-ttu-id="4ad5c-124">Rejestrowanie jest jednym z najbardziej zagłębień, a nie najważniejszych części wdrażania dowolnej aplikacji na dużą skalę.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-124">Logging is one of the most overlooked and yet most important parts of deploying any application at scale.</span></span> <span data-ttu-id="4ad5c-125">W miarę zwiększania rozmiaru i złożoności aplikacji jest to trudne do debugowania.</span><span class="sxs-lookup"><span data-stu-id="4ad5c-125">As the size and complexity of applications increase, then so does the difficulty of debugging them.</span></span> <span data-ttu-id="4ad5c-126">Posiadanie dostępnych dzienników najwyższej jakości ułatwia debugowanie i przenosi je z obszaru "niemal niemożliwe" do "przyjemnego środowiska".</span><span class="sxs-lookup"><span data-stu-id="4ad5c-126">Having top quality logs available makes debugging much easier and moves it from the realm of "nearly impossible" to "a pleasant experience".</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="4ad5c-127">[Poprzedni](logging-with-elastic-stack.md) 
> [Dalej](azure-monitor.md)</span><span class="sxs-lookup"><span data-stu-id="4ad5c-127">[Previous](logging-with-elastic-stack.md)
[Next](azure-monitor.md)</span></span>
