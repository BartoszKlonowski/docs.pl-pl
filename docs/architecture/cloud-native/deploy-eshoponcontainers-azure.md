---
title: Wdrażanie aplikacji eShopOnContainers na platformie Azure
description: Wdrażanie aplikacji eShopOnContainers przy użyciu usługi Azure Kubernetes Service, Helm i DevSpaces.
ms.date: 06/30/2019
ms.openlocfilehash: 21033cc904dc595193c69f3452ce2522740f8ff6
ms.sourcegitcommit: 55f438d4d00a34b9aca9eedaac3f85590bb11565
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/23/2019
ms.locfileid: "71183274"
---
# <a name="deploying-eshoponcontainers-to-azure"></a><span data-ttu-id="e3c33-103">Wdrażanie aplikacji eShopOnContainers na platformie Azure</span><span class="sxs-lookup"><span data-stu-id="e3c33-103">Deploying eShopOnContainers to Azure</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="e3c33-104">Logika obsługująca aplikację eShopOnContainers może być obsługiwana przez platformę Azure przy użyciu różnych usług.</span><span class="sxs-lookup"><span data-stu-id="e3c33-104">The logic supporting the eShopOnContainers application can be supported by Azure using a variety of services.</span></span> <span data-ttu-id="e3c33-105">Zalecanym podejściem jest skorzystanie z Kubernetes za pomocą usługi Azure Kubernetes Service (AKS).</span><span class="sxs-lookup"><span data-stu-id="e3c33-105">The recommended approach is to leverage Kubernetes using Azure Kubernetes Service (AKS).</span></span> <span data-ttu-id="e3c33-106">Można to zrobić za pomocą wdrażania Helm, aby zapewnić łatwą konfigurację infrastruktury.</span><span class="sxs-lookup"><span data-stu-id="e3c33-106">This can be combined with Helm deployment to ensure easily repeated infrastructure configuration.</span></span> <span data-ttu-id="e3c33-107">Opcjonalnie deweloperzy mogą korzystać z Azure Dev Spaces dla Kubernetes w ramach procesu tworzenia aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e3c33-107">Optionally, developers can leverage Azure Dev Spaces for Kubernetes as part of their development process.</span></span> <span data-ttu-id="e3c33-108">Inną opcją jest hostowanie funkcjonalności aplikacji przy użyciu funkcji bezserwerowych platformy Azure, takich jak Azure Functions i Azure Logic Apps.</span><span class="sxs-lookup"><span data-stu-id="e3c33-108">Another option is to host the functionality of the app using Azure Serverless features like Azure Functions and Azure Logic Apps.</span></span>

## <a name="azure-kubernetes-service"></a><span data-ttu-id="e3c33-109">Azure Kubernetes Service</span><span class="sxs-lookup"><span data-stu-id="e3c33-109">Azure Kubernetes Service</span></span>

<span data-ttu-id="e3c33-110">Jeśli chcesz hostować aplikację eShopOnContainers w swoim klastrze AKS, pierwszym krokiem jest utworzenie klastra.</span><span class="sxs-lookup"><span data-stu-id="e3c33-110">If you'd like to host the eShopOnContainers application in your own AKS cluster, the first step is to create your cluster.</span></span> <span data-ttu-id="e3c33-111">Można to zrobić za pomocą Azure Portal, który przeprowadzi Cię przez wymagane kroki lub można użyć interfejsu wiersza polecenia platformy Azure, pamiętając, aby zapewnić włączenie Access Control (RBAC) opartego na rolach i routingu aplikacji.</span><span class="sxs-lookup"><span data-stu-id="e3c33-111">You can do this using the Azure portal, which will walk you through the required steps, or you can use the Azure CLI, taking care to ensure you enable Role-Based Access Control (RBAC) and application routing when you do so.</span></span> <span data-ttu-id="e3c33-112">W dokumentacji eShopOnContainers opisano czynności związane z tworzeniem własnego klastra AKS.</span><span class="sxs-lookup"><span data-stu-id="e3c33-112">The eShopOnContainers' documentation describes the steps involved in creating your own AKS cluster.</span></span> <span data-ttu-id="e3c33-113">Po utworzeniu klastra należy włączyć dostęp do pulpitu nawigacyjnego Kubernetes, w którym można przejść do pulpitu nawigacyjnego Kubernetes w celu zarządzania klastrem.</span><span class="sxs-lookup"><span data-stu-id="e3c33-113">Once the cluster is created, you must enable access to the Kubernetes dashboard, at which point you should be able to browse to the Kubernetes dashboard to manage the cluster.</span></span>

<span data-ttu-id="e3c33-114">Po utworzeniu i skonfigurowaniu klastra można wdrożyć w nim aplikację przy użyciu Helm i do niej.</span><span class="sxs-lookup"><span data-stu-id="e3c33-114">Once the cluster has been created and configured, you can deploy the application to it using Helm and Tiller.</span></span>

## <a name="deploying-to-azure-kubernetes-service-using-helm"></a><span data-ttu-id="e3c33-115">Wdrażanie w usłudze Azure Kubernetes za pomocą usługi Helm</span><span class="sxs-lookup"><span data-stu-id="e3c33-115">Deploying to Azure Kubernetes Service using Helm</span></span>

<span data-ttu-id="e3c33-116">Podstawowe wdrożenia do AKS mogą używać niestandardowych skryptów interfejsu wiersza polecenia lub prostych plików wdrożenia, ale bardziej złożone aplikacje powinny używać narzędzia do zarządzania zależnościami, takiego jak Helm.</span><span class="sxs-lookup"><span data-stu-id="e3c33-116">Basic deployments to AKS may use custom CLI scripts or simple deployment files, but more complex applications should use a dependency management tool like Helm.</span></span> <span data-ttu-id="e3c33-117">Usługa Helm jest obsługiwana przez natywną Fundację obliczeniową w chmurze i ułatwia definiowanie, Instalowanie i Uaktualnianie aplikacji Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="e3c33-117">Helm is maintained by the Cloud-native Computing Foundation and helps you define, install, and upgrade Kubernetes applications.</span></span> <span data-ttu-id="e3c33-118">Helm składa się z wiersza polecenia klienta, Helm, który używa wykresów Helm oraz składnika w klastrze, do którego odnosi się.</span><span class="sxs-lookup"><span data-stu-id="e3c33-118">Helm is composed of a command-line client, helm, which uses helm charts, and an in-cluster component, Tiller.</span></span> <span data-ttu-id="e3c33-119">Wykresy Helm używają standardowych plików YAML do opisywania powiązanego zestawu zasobów Kubernetes i są zwykle używane wraz z opisywaną przez siebie aplikacją.</span><span class="sxs-lookup"><span data-stu-id="e3c33-119">Helm Charts use standard YAML-formatted files to describe a related set of Kubernetes resources and are typically versioned alongside the application they describe.</span></span> <span data-ttu-id="e3c33-120">Helm wykresy z prostego do złożonego, w zależności od wymagań instalacji opisywanej przez nie.</span><span class="sxs-lookup"><span data-stu-id="e3c33-120">Helm Charts range from simple to complex depending on the requirements of the installation they describe.</span></span>

<span data-ttu-id="e3c33-121">Wykresy eShopOnContainers Helm można znaleźć w folderze/k8s/Helm</span><span class="sxs-lookup"><span data-stu-id="e3c33-121">You'll find the eShopOnContainers helm charts in the /k8s/helm folder.</span></span> <span data-ttu-id="e3c33-122">Rysunek 2-6 pokazuje, w jaki sposób różne składniki aplikacji są zorganizowane w strukturę folderów używaną przez Helm do definiowania wdrożeń i zarządzania nimi.</span><span class="sxs-lookup"><span data-stu-id="e3c33-122">Figure 2-6 shows how the different components of the application are organized into a folder structure used by helm to define and managed deployments.</span></span>

<span data-ttu-id="e3c33-123">![architekturę eShopOnContainers](./media/eshoponcontainers-helm-folder.png)
**rysunek 2-6**.</span><span class="sxs-lookup"><span data-stu-id="e3c33-123">![eShopOnContainers Architecture](./media/eshoponcontainers-helm-folder.png)
**Figure 2-6**.</span></span> <span data-ttu-id="e3c33-124">Folder eShopOnContainers Helm.</span><span class="sxs-lookup"><span data-stu-id="e3c33-124">The eShopOnContainers helm folder.</span></span>

<span data-ttu-id="e3c33-125">Każdy indywidualny składnik jest instalowany przy użyciu polecenia `helm install`.</span><span class="sxs-lookup"><span data-stu-id="e3c33-125">Each individual component is installed using a `helm install` command.</span></span> <span data-ttu-id="e3c33-126">Te polecenia można łatwo zaskryptować, a eShopOnContainers zawiera skrypt "Deploy All", który przechodzi przez różne składniki i instaluje je przy użyciu odpowiednich wykresów Helm.</span><span class="sxs-lookup"><span data-stu-id="e3c33-126">These commands are easily scripted, and eShopOnContainers provides a "deploy all" script that loops through the different components and installs them using their respective helm charts.</span></span> <span data-ttu-id="e3c33-127">Wynikiem jest powtarzalny proces, wersja z aplikacją w kontroli źródła, którą każdy członek zespołu może wdrożyć w klastrze AKS z jednowierszowym poleceniem skryptu.</span><span class="sxs-lookup"><span data-stu-id="e3c33-127">The result is a repeatable process, versioned with the application in source control, that anyone on the team can deploy to an AKS cluster with a one-line script command.</span></span> <span data-ttu-id="e3c33-128">Szczególnie w połączeniu z Azure Dev Spaces, ułatwiają deweloperom diagnozowanie i testowanie indywidualnych zmian w aplikacjach natywnych w chmurze opartych na mikrousługach.</span><span class="sxs-lookup"><span data-stu-id="e3c33-128">Especially when combined with Azure Dev Spaces, this makes it easy for developers to diagnose and test their individual changes to their microservice-based cloud-native apps.</span></span>

## <a name="azure-dev-spaces"></a><span data-ttu-id="e3c33-129">Azure Dev Spaces</span><span class="sxs-lookup"><span data-stu-id="e3c33-129">Azure Dev Spaces</span></span>

<span data-ttu-id="e3c33-130">Azure Dev Spaces pomaga indywidualnym deweloperom hostować własne, unikatowe wersje klastrów AKS na platformie Azure podczas opracowywania.</span><span class="sxs-lookup"><span data-stu-id="e3c33-130">Azure Dev Spaces helps individual developers host their own unique version of AKS clusters in Azure during development.</span></span> <span data-ttu-id="e3c33-131">Minimalizuje to wymagania komputera lokalnego i umożliwia członkom zespołu szybkie sprawdzenie, jak ich zmiany będą zachowywać się w rzeczywistym środowisku AKS.</span><span class="sxs-lookup"><span data-stu-id="e3c33-131">This minimizes local machine requirements and allows team members to quickly see how their changes will behave in a real AKS environment.</span></span> <span data-ttu-id="e3c33-132">Azure Dev Spaces oferuje interfejs wiersza polecenia dla deweloperów, który umożliwia deweloperom zarządzanie miejscami deweloperskimi oraz wdrażanie ich w określonym podrzędnym miejscu deweloperskim zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="e3c33-132">Azure Dev Spaces offers a CLI for developers to use to manage their dev spaces and to deploy to a specific child dev space as needed.</span></span> <span data-ttu-id="e3c33-133">Każde podrzędne miejsce dev jest przywoływana przy użyciu unikatowej poddomeny adresu URL, co umożliwia równoczesne wdrażanie zmodyfikowanych klastrów, dzięki czemu Indywidualni deweloperzy mogą uniknąć konfliktu ze sobą w toku.</span><span class="sxs-lookup"><span data-stu-id="e3c33-133">Each child dev space is referenced using a unique URL subdomain, allowing side-by-side deployments of modified clusters so that individual developers can avoid conflicting with each other's work in progress.</span></span> <span data-ttu-id="e3c33-134">Na rysunku 2-7 można zobaczyć, w jaki sposób deweloper Susie wdrożył własną wersję mikrousługi programu Bikes do swojej przestrzeni dev.</span><span class="sxs-lookup"><span data-stu-id="e3c33-134">In Figure 2-7 you can see how developer Susie has deployed her own version of the Bikes microservice into her dev space.</span></span> <span data-ttu-id="e3c33-135">Następnie można testować zmiany przy użyciu niestandardowego adresu URL rozpoczynającego się od nazwy miejsca (susie.s.dev.myapp.eus.azds.io).</span><span class="sxs-lookup"><span data-stu-id="e3c33-135">She's then able to test her changes using a custom URL starting with the name of her space (susie.s.dev.myapp.eus.azds.io).</span></span>

<span data-ttu-id="e3c33-136">![architekturę eShopOnContainers](./media/azure-devspaces-one.png)
**rysunek 2-7**.</span><span class="sxs-lookup"><span data-stu-id="e3c33-136">![eShopOnContainers Architecture](./media/azure-devspaces-one.png)
**Figure 2-7**.</span></span> <span data-ttu-id="e3c33-137">Susie dewelopera wdraża własną wersję mikrousługi programu Bikes i testuje ją.</span><span class="sxs-lookup"><span data-stu-id="e3c33-137">Developer Susie deploys her own version of the Bikes microservice and tests it.</span></span>

<span data-ttu-id="e3c33-138">W tym samym czasie Developer Jan dostosowuje mikrousługę rezerwacji i wymaga przetestowania zmian.</span><span class="sxs-lookup"><span data-stu-id="e3c33-138">At the same time, developer John is customizing the Reservations microservice and needs to test his changes.</span></span> <span data-ttu-id="e3c33-139">Jest w stanie wdrożyć zmiany w swoim własnym obszarze deweloperskim bez konfliktu ze zmianami Susie, jak pokazano na rysunku 2-8.</span><span class="sxs-lookup"><span data-stu-id="e3c33-139">He's able to deploy his changes to his own dev space without conflicting with Susie's changes as shown in Figure 2-8.</span></span> <span data-ttu-id="e3c33-140">Może testować swoje zmiany przy użyciu własnego adresu URL, który jest poprzedzony nazwą jego miejsca (john.s.dev.myapp.eus.azds.io).</span><span class="sxs-lookup"><span data-stu-id="e3c33-140">He can test his changes using his own URL which is prefixed with the name of his space (john.s.dev.myapp.eus.azds.io).</span></span>

<span data-ttu-id="e3c33-141">![architekturę eShopOnContainers](./media/azure-devspaces-two.png)
**rysunek 2-8**.</span><span class="sxs-lookup"><span data-stu-id="e3c33-141">![eShopOnContainers Architecture](./media/azure-devspaces-two.png)
**Figure 2-8**.</span></span> <span data-ttu-id="e3c33-142">Deweloperzy nie wdrażają własnej wersji mikrousługi rezerwacji i testują ją bez konfliktu z innymi deweloperami.</span><span class="sxs-lookup"><span data-stu-id="e3c33-142">Developer John deploys his own version of the Reservations microservice and tests it without conflicting with other developers.</span></span>

<span data-ttu-id="e3c33-143">Za pomocą Azure Dev Spaces zespoły mogą współpracować bezpośrednio z usługą AKS, niezależnie od zmieniania, wdrażania i testowania zmian.</span><span class="sxs-lookup"><span data-stu-id="e3c33-143">Using Azure Dev Spaces, teams can work directly with AKS while independently changing, deploying, and testing their changes.</span></span> <span data-ttu-id="e3c33-144">Takie podejście zmniejsza potrzebę korzystania z oddzielnych dedykowanych środowisk hostowanych, ponieważ każdy deweloper efektywnie ma własne środowisko AKS.</span><span class="sxs-lookup"><span data-stu-id="e3c33-144">This approach reduces the need for separate dedicated hosted environments since every developer effectively has their own AKS environment.</span></span> <span data-ttu-id="e3c33-145">Deweloperzy mogą korzystać z Azure Dev Spaces przy użyciu interfejsu wiersza polecenia lub uruchamiać aplikacje do Azure Dev Spaces bezpośrednio z programu Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="e3c33-145">Developers can work with Azure Dev Spaces using its CLI or launch their application to Azure Dev Spaces directly from Visual Studio.</span></span> [<span data-ttu-id="e3c33-146">Dowiedz się więcej o tym, jak działa Azure Dev Spaces i czy jest skonfigurowane.</span><span class="sxs-lookup"><span data-stu-id="e3c33-146">Learn more about how Azure Dev Spaces works and is configured.</span></span>](https://docs.microsoft.com/azure/dev-spaces/how-dev-spaces-works)

## <a name="azure-functions-and-logic-apps-serverless"></a><span data-ttu-id="e3c33-147">Azure Functions i Logic Apps (bezserwerowo)</span><span class="sxs-lookup"><span data-stu-id="e3c33-147">Azure Functions and Logic Apps (Serverless)</span></span>

<span data-ttu-id="e3c33-148">Przykład eShopOnContainers obejmuje obsługę śledzenia kampanii marketingowych online.</span><span class="sxs-lookup"><span data-stu-id="e3c33-148">The eShopOnContainers sample includes support for tracking online marketing campaigns.</span></span> <span data-ttu-id="e3c33-149">Funkcja platformy Azure służy do ściągania szczegółów kampanii marketingowej dla danego identyfikatora kampanii.</span><span class="sxs-lookup"><span data-stu-id="e3c33-149">An Azure Function is used to pull marketing campaign details for a given campaign ID.</span></span> <span data-ttu-id="e3c33-150">Zamiast tworzenia w tym celu kompletnej aplikacji ASP.NET Core, jeden punkt końcowy funkcji platformy Azure jest łatwiejszy i wystarczający.</span><span class="sxs-lookup"><span data-stu-id="e3c33-150">Rather than creating a complete ASP.NET Core application for this purpose, a single Azure Function endpoint is simpler and sufficient.</span></span> <span data-ttu-id="e3c33-151">Azure Functions mieć znacznie prostszy model kompilowania i wdrażania niż pełne aplikacje ASP.NET Core, szczególnie w przypadku, gdy jest skonfigurowany do uruchamiania w Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="e3c33-151">Azure Functions have a much simpler build and deployment model than full ASP.NET Core applications, especially when configured to run in Kubernetes.</span></span> <span data-ttu-id="e3c33-152">Wdrażanie funkcji jest skryptem przy użyciu szablonów Azure Resource Manager (ARM) i interfejsu wiersza polecenia platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="e3c33-152">Deploying the function is scripted using Azure Resource Manager (ARM) templates and the Azure CLI.</span></span> <span data-ttu-id="e3c33-153">Ta szczegóły kampanii mikrousługa nie jest dostępna dla klientów i nie ma takich samych wymagań, jak w przypadku sklepu online, dzięki czemu jest to dobry kandydat do Azure Functions.</span><span class="sxs-lookup"><span data-stu-id="e3c33-153">This campaign details microservice isn't customer-facing and doesn't have the same requirements as the online store, making it a good candidate for Azure Functions.</span></span> <span data-ttu-id="e3c33-154">Funkcja wymaga, aby pewna konfiguracja działała prawidłowo, na przykład w przypadku danych parametrów połączenia bazy danych i podstawowych ustawień URI obrazu.</span><span class="sxs-lookup"><span data-stu-id="e3c33-154">The function requires some configuration to work properly, such as database connection string data and image base URI settings.</span></span> <span data-ttu-id="e3c33-155">Azure Functions można skonfigurować w witrynie Azure Portal.</span><span class="sxs-lookup"><span data-stu-id="e3c33-155">You configure Azure Functions in the Azure Portal.</span></span>

## <a name="references"></a><span data-ttu-id="e3c33-156">Odwołania</span><span class="sxs-lookup"><span data-stu-id="e3c33-156">References</span></span>

- <span data-ttu-id="e3c33-157">[eShopOnContainers: Utwórz klaster Kubernetes w AKS](https://github.com/dotnet-architecture/eShopOnContainers/wiki/Deploy-to-Azure-Kubernetes-Service-(AKS)#create-kubernetes-cluster-in-aks)</span><span class="sxs-lookup"><span data-stu-id="e3c33-157">[eShopOnContainers: Create Kubernetes cluster in AKS](https://github.com/dotnet-architecture/eShopOnContainers/wiki/Deploy-to-Azure-Kubernetes-Service-(AKS)#create-kubernetes-cluster-in-aks)</span></span>
- [<span data-ttu-id="e3c33-158">eShopOnContainers: Azure Dev Spaces</span><span class="sxs-lookup"><span data-stu-id="e3c33-158">eShopOnContainers: Azure Dev Spaces</span></span>](https://github.com/dotnet-architecture/eShopOnContainers/wiki/Azure-Dev-Spaces)
- [<span data-ttu-id="e3c33-159">Azure Dev Spaces</span><span class="sxs-lookup"><span data-stu-id="e3c33-159">Azure Dev Spaces</span></span>](https://docs.microsoft.com/azure/dev-spaces/about)

>[!div class="step-by-step"]
><span data-ttu-id="e3c33-160">[Poprzedni](map-eshoponcontainers-azure-services.md)
>[Następny](centralized-configuration.md)</span><span class="sxs-lookup"><span data-stu-id="e3c33-160">[Previous](map-eshoponcontainers-azure-services.md)
[Next](centralized-configuration.md)</span></span>
