---
title: Skalowanie kontenerów i aplikacji bezserwerowych
description: Skalowanie aplikacji natywnych w chmurze za pomocą usługi Azure Kubernetes Service, aby zaspokoić zapotrzebowanie użytkowników przez zwiększenie indywidualnych zasobów maszynowych lub zwiększenie liczby maszyn w klastrze aplikacji.
ms.date: 09/23/2019
ms.openlocfilehash: 2d0537fb3ed56beb4eccbf9b8c34a5d87793413b
ms.sourcegitcommit: 55f438d4d00a34b9aca9eedaac3f85590bb11565
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/23/2019
ms.locfileid: "71184800"
---
# <a name="scaling-containers-and-serverless-applications"></a><span data-ttu-id="84af1-103">Skalowanie kontenerów i aplikacji bezserwerowych</span><span class="sxs-lookup"><span data-stu-id="84af1-103">Scaling containers and serverless applications</span></span>

<span data-ttu-id="84af1-104">Istnieją dwa typowe sposoby skalowania aplikacji: skalowanie w górę i skalowanie w poziomie. Dawna odnosi się do dodawania funkcji do jednego hosta, podczas gdy drugie odwołuje się do dodawania do całkowitej liczby hostów.</span><span class="sxs-lookup"><span data-stu-id="84af1-104">There are two typical ways to scale an application: scaling up and scaling out. The former refers to adding capabilities to one host, while the latter refers to adding to the total number of hosts.</span></span> <span data-ttu-id="84af1-105">Typowym analogem, który można wykorzystać w celu zapoznania się z tym, jak poznać siebie i kilku znajomych w miejscowości.</span><span class="sxs-lookup"><span data-stu-id="84af1-105">A common analogy to use to think about this is how to get yourself and some friends across town.</span></span> <span data-ttu-id="84af1-106">Jeśli jest to tylko jeden znajomy, możesz przełączać się do samochodu wyścigowego z dwoma stanowiskami.</span><span class="sxs-lookup"><span data-stu-id="84af1-106">If it's just one friend, you could hop into your two-seat race car.</span></span> <span data-ttu-id="84af1-107">Ale jeśli jest to trzy lub cztery, może być konieczne wykonanie jednej z SUVs lub minivan, skalowanie w górę w celu zwiększenia pojemności.</span><span class="sxs-lookup"><span data-stu-id="84af1-107">But if it's three or four, you might need to take one of your SUVs or a minivan, scaling up to increase capacity.</span></span> <span data-ttu-id="84af1-108">Gdy łączna liczba przeskoczy do dziesiątek lub więcej, to prawdopodobnie trzeba będzie korzystać z wielu pojazdów (o ile ktoś nie korzysta z magistrali), który pokazuje koncepcję skalowania przez dodanie większej liczby wystąpień (w tym przypadku więcej pojazdów).</span><span class="sxs-lookup"><span data-stu-id="84af1-108">When your total number jumps up to a dozen or more, though, you probably need to take multiple vehicles (unless someone drives a bus), which demonstrates the concept of scaling out by adding more instances (in this case, more vehicles).</span></span> <span data-ttu-id="84af1-109">Zobaczmy, jak to dotyczy nasze aplikacje.</span><span class="sxs-lookup"><span data-stu-id="84af1-109">Let's see how this applies to our applications.</span></span>

## <a name="the-simple-solution-scaling-up"></a><span data-ttu-id="84af1-110">Proste rozwiązanie: skalowanie w górę</span><span class="sxs-lookup"><span data-stu-id="84af1-110">The simple solution: scaling up</span></span>

<span data-ttu-id="84af1-111">Proces uaktualniania istniejących serwerów w celu udostępnienia im więcej zasobów (procesor CPU, pamięć, szybkość we/wy dysku, szybkość operacji we/wy sieci) jest określana jako *skalowanie w górę*.</span><span class="sxs-lookup"><span data-stu-id="84af1-111">The process of upgrading existing servers to give them more resources (CPU, memory, disk I/O speed, network I/O speed) is known as *scaling up*.</span></span> <span data-ttu-id="84af1-112">W przypadku aplikacji natywnych w chmurze skalowanie w górę nie odnosi się zazwyczaj do kupowania i instalowania rzeczywistego sprzętu na komputerach fizycznych, tak jak w przypadku wybrania planu z możliwością obsługi z listy dostępnych opcji.</span><span class="sxs-lookup"><span data-stu-id="84af1-112">In cloud-native applications, scaling up doesn't typically refer to purchasing and installing actual hardware on physical machines so much as choosing a more capable plan from a list of options available.</span></span> <span data-ttu-id="84af1-113">Aplikacje natywne w chmurze zwykle są skalowane przez modyfikację rozmiaru maszyny wirtualnej używanej do hostowania poszczególnych węzłów w puli węzłów Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="84af1-113">Cloud-native apps typically scale up by modifying the virtual machine (VM) size used to host the individual nodes in their Kubernetes node pool.</span></span> <span data-ttu-id="84af1-114">Koncepcje Kubernetes, takie jak węzły, klastry i zasobniki, są opisane w [następnej sekcji](leverage-containers-orchestrators.md).</span><span class="sxs-lookup"><span data-stu-id="84af1-114">Kubernetes concepts like nodes, clusters, and pods are described further in [the next section](leverage-containers-orchestrators.md).</span></span> <span data-ttu-id="84af1-115">Platforma Azure obsługuje różne rozmiary maszyn wirtualnych z systemami [Windows](https://docs.microsoft.com/azure/virtual-machines/windows/sizes?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) i [Linux](https://docs.microsoft.com/azure/virtual-machines/linux/sizes).</span><span class="sxs-lookup"><span data-stu-id="84af1-115">Azure supports a wide variety of VM sizes running both [Windows](https://docs.microsoft.com/azure/virtual-machines/windows/sizes?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json) and [Linux](https://docs.microsoft.com/azure/virtual-machines/linux/sizes).</span></span> <span data-ttu-id="84af1-116">Aby skalować aplikację w pionie, Utwórz nową pulę węzłów o większym rozmiarze maszyny wirtualnej, a następnie Migruj obciążenia do nowej puli.</span><span class="sxs-lookup"><span data-stu-id="84af1-116">To vertically scale your application, create a new node pool with a larger node VM size and then migrate workloads to the new pool.</span></span> <span data-ttu-id="84af1-117">Wymaga to [wielu pul węzłów dla klastra AKS](https://docs.microsoft.com/azure/aks/use-multiple-node-pools), która jest obecnie dostępna w wersji zapoznawczej.</span><span class="sxs-lookup"><span data-stu-id="84af1-117">This requires [multiple node pools for your AKS cluster](https://docs.microsoft.com/azure/aks/use-multiple-node-pools), a feature that is currently in preview.</span></span> <span data-ttu-id="84af1-118">Aplikacje bezserwerowe skalowanie w górę, wybierając [Plan Premium](https://docs.microsoft.com/azure/azure-functions/functions-scale) i rozmiary wystąpienia Premium lub wybierając inny dedykowany plan usługi App Service.</span><span class="sxs-lookup"><span data-stu-id="84af1-118">Serverless apps scale up by choosing a [premium plan](https://docs.microsoft.com/azure/azure-functions/functions-scale) and premium instance sizes or by choosing a different dedicated app service plan.</span></span>

## <a name="scaling-out-cloud-native-apps"></a><span data-ttu-id="84af1-119">Skalowanie aplikacji natywnych w chmurze</span><span class="sxs-lookup"><span data-stu-id="84af1-119">Scaling out cloud-native apps</span></span>

<span data-ttu-id="84af1-120">Aplikacje natywne w chmurze obsługują skalowanie w poziomie przez dodanie do żądania obsługi dodatkowych węzłów lub zasobników.</span><span class="sxs-lookup"><span data-stu-id="84af1-120">Cloud-native apps support scaling out by adding additional nodes or pods to service requests.</span></span> <span data-ttu-id="84af1-121">Można to zrobić ręcznie przez dostosowanie ustawień konfiguracji aplikacji (na przykład [skalowanie puli węzłów](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)) lub *skalowanie*automatyczne.</span><span class="sxs-lookup"><span data-stu-id="84af1-121">This can be accomplished manually by adjusting configuration settings for the app (for example, [scaling a node pool](https://docs.microsoft.com/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)), or through *autoscaling*.</span></span> <span data-ttu-id="84af1-122">Skalowanie automatyczne dostosowuje zasoby używane przez aplikację w celu reagowania na zapotrzebowanie, podobnie jak termostat reaguje na temperaturę, wywołując w celu dodatkowego ogrzewania lub chłodzenia.</span><span class="sxs-lookup"><span data-stu-id="84af1-122">Autoscaling adjusts the resources used by an app in order to respond to demand, similar to how a thermostat responds to temperature by calling for additional heating or cooling.</span></span> <span data-ttu-id="84af1-123">W przypadku korzystania z skalowania automatycznego skalowanie ręczne jest wyłączone.</span><span class="sxs-lookup"><span data-stu-id="84af1-123">When using autoscaling, manual scaling is disabled.</span></span>

<span data-ttu-id="84af1-124">Klastry AKS można skalować na jeden z dwóch sposobów:</span><span class="sxs-lookup"><span data-stu-id="84af1-124">AKS clusters can scale in one of two ways:</span></span>

- <span data-ttu-id="84af1-125">[Automatyczne skalowanie klastra](https://docs.microsoft.com/azure/aks/cluster-autoscaler) jest obserwujące dla zasobników, których nie można zaplanować w węzłach ze względu na ograniczenia zasobów.</span><span class="sxs-lookup"><span data-stu-id="84af1-125">The [cluster autoscaler](https://docs.microsoft.com/azure/aks/cluster-autoscaler) watches for pods that can't be scheduled on nodes because of resource constraints.</span></span> <span data-ttu-id="84af1-126">Dodaje dodatkowe węzły zgodnie z potrzebami.</span><span class="sxs-lookup"><span data-stu-id="84af1-126">It adds additional nodes as required.</span></span>
- <span data-ttu-id="84af1-127">**Skalowanie w poziomie** poniżej używa serwera metryk w klastrze Kubernetes do monitorowania zapotrzebowania na zasoby.</span><span class="sxs-lookup"><span data-stu-id="84af1-127">The **horizontal pod autoscaler** uses the Metrics Server in a Kubernetes cluster to monitor the resource demands of pods.</span></span> <span data-ttu-id="84af1-128">Jeśli usługa wymaga więcej zasobów, Skalowanie automatyczne zwiększa liczbę zasobników.</span><span class="sxs-lookup"><span data-stu-id="84af1-128">If a service needs more resources, the autoscaler increases the number of pods.</span></span>

<span data-ttu-id="84af1-129">Rysunek 3-13 przedstawia relację między tymi dwoma usługami skalowania.</span><span class="sxs-lookup"><span data-stu-id="84af1-129">Figure 3-13 shows the relationship between these two scaling services.</span></span>

![Skalowanie planu App Service.](./media/aks-cluster-autoscaler.png)

<span data-ttu-id="84af1-131">**Rysunek 3-13**.</span><span class="sxs-lookup"><span data-stu-id="84af1-131">**Figure 3-13**.</span></span> <span data-ttu-id="84af1-132">Skalowanie planu App Service.</span><span class="sxs-lookup"><span data-stu-id="84af1-132">Scaling out an App Service plan.</span></span>

<span data-ttu-id="84af1-133">Te usługi mogą również zmniejszyć liczbę potrzebnych lub węzłów.</span><span class="sxs-lookup"><span data-stu-id="84af1-133">These services can also reduce the number of pods or nodes as needed.</span></span> <span data-ttu-id="84af1-134">Te dwie usługi mogą współdziałać ze sobą i są często wdrażane w klastrze.</span><span class="sxs-lookup"><span data-stu-id="84af1-134">These two services can work together and are often deployed together in a cluster.</span></span> <span data-ttu-id="84af1-135">Po połączeniu, skalowanie w poziomie na pionie jest ukierunkowane na uruchamianie liczby numerów wymaganych do spełnienia wymagań aplikacji.</span><span class="sxs-lookup"><span data-stu-id="84af1-135">When combined, the horizontal pod autoscaler is focused on running the number of pods required to meet application demand.</span></span> <span data-ttu-id="84af1-136">Automatyczne skalowanie klastra koncentruje się na uruchamianiu liczby węzłów wymaganych do obsługi zaplanowanych zasobników.</span><span class="sxs-lookup"><span data-stu-id="84af1-136">The cluster autoscaler is focused on running the number of nodes required to support the scheduled pods.</span></span>

### <a name="scaling-azure-functions"></a><span data-ttu-id="84af1-137">Skalowanie Azure Functions</span><span class="sxs-lookup"><span data-stu-id="84af1-137">Scaling Azure Functions</span></span>

<span data-ttu-id="84af1-138">Azure Functions automatycznie obsługuje skalowanie w górę. Domyślny plan zużycia umożliwia dynamiczne dodawanie (i usuwanie) zasobów na podstawie liczby zdarzeń wyzwalających.</span><span class="sxs-lookup"><span data-stu-id="84af1-138">Azure Functions automatically supports scaling out. The default consumption plan adds (and removes) resources dynamically based on the number of triggering events coming in.</span></span> <span data-ttu-id="84af1-139">Opłata jest naliczana tylko za zasoby obliczeniowe używane, gdy funkcje są uruchomione na podstawie liczby wykonań, czasu wykonania i używanej pamięci.</span><span class="sxs-lookup"><span data-stu-id="84af1-139">You're only charged for compute resources being used when your functions are running based on the number of executions, execution time, and memory used.</span></span> <span data-ttu-id="84af1-140">Korzystając z planu Premium, uzyskasz te same funkcje, ale można również kontrolować używane rozmiary wystąpień, mieć już wykonane wystąpienia (aby uniknąć opóźnień uruchamiania) i skonfigurować dedykowane maszyny wirtualne, na których mają być uruchamiane funkcje.</span><span class="sxs-lookup"><span data-stu-id="84af1-140">Using the premium plan, you get these same features but you can also control the instance sizes that are used, have instances already warmed up (to avoid cold start delays), and configure dedicated VMs on which to run your functions.</span></span> <span data-ttu-id="84af1-141">Mimo że domyślna konfiguracja powinna zapewniać ekonomiczne i skalowalne rozwiązanie dla większości aplikacji, opcja Premium umożliwia deweloperom elastyczność niestandardowych wymagań Azure Functions.</span><span class="sxs-lookup"><span data-stu-id="84af1-141">While the default configuration should provide an economical and scalable solution for most apps, the premium option allows developers flexibility for custom Azure Functions requirements.</span></span>

## <a name="references"></a><span data-ttu-id="84af1-142">Odwołania</span><span class="sxs-lookup"><span data-stu-id="84af1-142">References</span></span>

- [<span data-ttu-id="84af1-143">AKS pul wielu węzłów</span><span class="sxs-lookup"><span data-stu-id="84af1-143">AKS Multiple Node Pools</span></span>](https://docs.microsoft.com/azure/aks/use-multiple-node-pools)
- [<span data-ttu-id="84af1-144">Automatyczne skalowanie klastra AKS</span><span class="sxs-lookup"><span data-stu-id="84af1-144">AKS Cluster Autoscaler</span></span>](https://docs.microsoft.com/azure/aks/cluster-autoscaler)
- [<span data-ttu-id="84af1-145">Samouczek: Skalowanie aplikacji w AKS</span><span class="sxs-lookup"><span data-stu-id="84af1-145">Tutorial: Scale applications in AKS</span></span>](https://docs.microsoft.com/azure/aks/tutorial-kubernetes-scale)
- [<span data-ttu-id="84af1-146">Azure Functions skalowanie i hosting</span><span class="sxs-lookup"><span data-stu-id="84af1-146">Azure Functions scale and hosting</span></span>](https://docs.microsoft.com/azure/azure-functions/functions-scale)

>[!div class="step-by-step"]
><span data-ttu-id="84af1-147">[Poprzedni](deploy-containers-azure.md)
>[Następny](other-deployment-options.md)</span><span class="sxs-lookup"><span data-stu-id="84af1-147">[Previous](deploy-containers-azure.md)
[Next](other-deployment-options.md)</span></span>
