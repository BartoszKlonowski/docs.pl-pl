---
title: Skalowanie kontenerów i aplikacji bezserwerowych
description: Skalowanie aplikacji natywnych w chmurze za pomocą usługi Azure Kubernetes Service w celu spełnienia wymagań użytkownika.
ms.date: 05/13/2020
ms.openlocfilehash: edf56ba50ba391e06e588d682918cd473a2cf374
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/24/2020
ms.locfileid: "91165982"
---
# <a name="scaling-containers-and-serverless-applications"></a><span data-ttu-id="f00e9-103">Skalowanie kontenerów i aplikacji bezserwerowych</span><span class="sxs-lookup"><span data-stu-id="f00e9-103">Scaling containers and serverless applications</span></span>

<span data-ttu-id="f00e9-104">Istnieją dwa sposoby skalowania aplikacji: w górę lub w dół. Dawniej dotyczy Dodawanie pojemności do pojedynczego zasobu, podczas gdy drugie odnosi się do dodawania większej liczby zasobów w celu zwiększenia pojemności.</span><span class="sxs-lookup"><span data-stu-id="f00e9-104">There are two ways to scale an application: up or out. The former refers to adding capacity to a single resource, while the latter refers to adding more resources to increase capacity.</span></span>

## <a name="the-simple-solution-scaling-up"></a><span data-ttu-id="f00e9-105">Proste rozwiązanie: skalowanie w górę</span><span class="sxs-lookup"><span data-stu-id="f00e9-105">The simple solution: scaling up</span></span>

<span data-ttu-id="f00e9-106">Uaktualnienie istniejącego serwera hosta z zwiększonym procesorem CPU, pamięci, szybkością we/wy dysku i szybkością operacji we/wy sieci jest określana jako *skalowanie w górę*.</span><span class="sxs-lookup"><span data-stu-id="f00e9-106">Upgrading an existing host server with increased CPU, memory, disk I/O speed, and network I/O speed is known as *scaling up*.</span></span> <span data-ttu-id="f00e9-107">Skalowanie aplikacji natywnej w chmurze polega na wyborze większej ilości zasobów od dostawcy chmury.</span><span class="sxs-lookup"><span data-stu-id="f00e9-107">Scaling up a cloud-native application involves choosing more capable resources from the cloud vendor.</span></span> <span data-ttu-id="f00e9-108">Na przykład można uzyskać nową pulę węzłów z większymi maszynami wirtualnymi w klastrze Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="f00e9-108">For example, you can a new node pool with larger VMs in your Kubernetes cluster.</span></span> <span data-ttu-id="f00e9-109">Następnie Przeprowadź migrację usług kontenerowych do nowej puli.</span><span class="sxs-lookup"><span data-stu-id="f00e9-109">Then, migrate your containerized services to the new pool.</span></span>

<span data-ttu-id="f00e9-110">Aplikacje bezserwerowe skalowanie w górę przez wybranie rozmiaru [planu funkcji Premium](/azure/azure-functions/functions-scale) lub wystąpienia Premium z dedykowanego planu usługi App Service.</span><span class="sxs-lookup"><span data-stu-id="f00e9-110">Serverless apps scale up by choosing the [premium Functions plan](/azure/azure-functions/functions-scale) or premium instance sizes from a dedicated app service plan.</span></span>

## <a name="scaling-out-cloud-native-apps"></a><span data-ttu-id="f00e9-111">Skalowanie aplikacji natywnych w chmurze</span><span class="sxs-lookup"><span data-stu-id="f00e9-111">Scaling out cloud-native apps</span></span>

<span data-ttu-id="f00e9-112">Aplikacje natywne w chmurze często napotykają duże wahania popytu i wymagają skalowania na chwilę.</span><span class="sxs-lookup"><span data-stu-id="f00e9-112">Cloud-native applications often experience large fluctuations in demand and require scale on a moment's notice.</span></span> <span data-ttu-id="f00e9-113">Preferują skalowanie w górę. Skalowanie w poziomie jest realizowane przez dodanie do istniejącego klastra dodatkowych maszyn (nazywanych węzłami) lub wystąpień aplikacji.</span><span class="sxs-lookup"><span data-stu-id="f00e9-113">They favor scaling out. Scaling out is done horizontally by adding additional machines (called nodes) or application instances to an existing cluster.</span></span> <span data-ttu-id="f00e9-114">W Kubernetes można skalować ręcznie przez dostosowanie ustawień konfiguracji dla aplikacji (na przykład [skalowanie puli węzłów](/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)) lub Skalowanie automatyczne.</span><span class="sxs-lookup"><span data-stu-id="f00e9-114">In Kubernetes, you can scale manually by adjusting configuration settings for the app (for example, [scaling a node pool](/azure/aks/use-multiple-node-pools#scale-a-node-pool-manually)), or through autoscaling.</span></span>

<span data-ttu-id="f00e9-115">Klastry AKS można skalować automatycznie na jeden z dwóch sposobów:</span><span class="sxs-lookup"><span data-stu-id="f00e9-115">AKS clusters can autoscale in one of two ways:</span></span>

<span data-ttu-id="f00e9-116">Najpierw monitoruje zapotrzebowanie na zasoby i automatycznie skaluje repliki na [poziomie](/azure/aks/tutorial-kubernetes-scale#autoscale-pods) , aby je spełnić.</span><span class="sxs-lookup"><span data-stu-id="f00e9-116">First, the [Horizontal Pod Autoscaler](/azure/aks/tutorial-kubernetes-scale#autoscale-pods) monitors resource demand and automatically scales your POD replicas to meet it.</span></span> <span data-ttu-id="f00e9-117">Po zwiększeniu natężenia ruchu dodatkowe repliki są automatycznie inicjowane w celu skalowania usług.</span><span class="sxs-lookup"><span data-stu-id="f00e9-117">When traffic increases, additional replicas are automatically provisioned to scale out your services.</span></span> <span data-ttu-id="f00e9-118">Podobnie po zmniejszeniu zapotrzebowania są one usuwane do usługi skalowanie w poziomie.</span><span class="sxs-lookup"><span data-stu-id="f00e9-118">Likewise, when demand decreases, they're removed to scale-in your services.</span></span> <span data-ttu-id="f00e9-119">Należy zdefiniować metrykę, dla której ma być skalowane, na przykład użycie procesora CPU.</span><span class="sxs-lookup"><span data-stu-id="f00e9-119">You define the metric on which to scale, for example, CPU usage.</span></span> <span data-ttu-id="f00e9-120">Możesz również określić minimalną i maksymalną liczbę replik do uruchomienia.</span><span class="sxs-lookup"><span data-stu-id="f00e9-120">You can also specify the minimum and maximum number of replicas to run.</span></span> <span data-ttu-id="f00e9-121">AKS monitoruje tę metrykę i skaluje się odpowiednio.</span><span class="sxs-lookup"><span data-stu-id="f00e9-121">AKS monitors that metric and scales accordingly.</span></span>

<span data-ttu-id="f00e9-122">Następnie funkcja automatycznego [skalowania klastra AKS](/azure/aks/cluster-autoscaler) umożliwia automatyczne skalowanie węzłów obliczeniowych w klastrze Kubernetes w celu spełnienia wymagań.</span><span class="sxs-lookup"><span data-stu-id="f00e9-122">Next, the [AKS Cluster Autoscaler](/azure/aks/cluster-autoscaler) feature enables you to automatically scale compute nodes across a Kubernetes cluster to meet demand.</span></span> <span data-ttu-id="f00e9-123">Dzięki niej można automatycznie dodawać nowe maszyny wirtualne do podstawowego zestawu skalowania maszyn wirtualnych platformy Azure, gdy jest wymagana większa pojemność obliczeniowa.</span><span class="sxs-lookup"><span data-stu-id="f00e9-123">With it, you can automatically add new VMs to the underlying Azure Virtual Machine Scale Set whenever more compute capacity of is required.</span></span> <span data-ttu-id="f00e9-124">Powoduje również usunięcie węzłów, gdy nie są już wymagane.</span><span class="sxs-lookup"><span data-stu-id="f00e9-124">It also removes nodes when no longer required.</span></span>

<span data-ttu-id="f00e9-125">Rysunek 3-13 przedstawia relację między tymi dwoma usługami skalowania.</span><span class="sxs-lookup"><span data-stu-id="f00e9-125">Figure 3-13 shows the relationship between these two scaling services.</span></span>

![Skalowanie planu App Service.](./media/aks-cluster-autoscaler.png)

<span data-ttu-id="f00e9-127">**Rysunek 3-13**.</span><span class="sxs-lookup"><span data-stu-id="f00e9-127">**Figure 3-13**.</span></span> <span data-ttu-id="f00e9-128">Skalowanie planu App Service.</span><span class="sxs-lookup"><span data-stu-id="f00e9-128">Scaling out an App Service plan.</span></span>

<span data-ttu-id="f00e9-129">Jednocześnie należy zapewnić optymalną liczbę wystąpień kontenerów i węzłów obliczeniowych do obsługi wahań popytu.</span><span class="sxs-lookup"><span data-stu-id="f00e9-129">Working together, both ensure an optimal number of container instances and compute nodes to support fluctuating demand.</span></span> <span data-ttu-id="f00e9-130">Skalowanie w poziomie poniżej optymalizuje wymaganą liczbę zasobników.</span><span class="sxs-lookup"><span data-stu-id="f00e9-130">The horizontal pod autoscaler optimizes the number of pods required.</span></span> <span data-ttu-id="f00e9-131">Automatyczne skalowanie klastra optymalizuje wymaganą liczbę węzłów.</span><span class="sxs-lookup"><span data-stu-id="f00e9-131">The cluster autoscaler optimizes the number of nodes required.</span></span>

### <a name="scaling-azure-functions"></a><span data-ttu-id="f00e9-132">Skalowanie Azure Functions</span><span class="sxs-lookup"><span data-stu-id="f00e9-132">Scaling Azure Functions</span></span>

<span data-ttu-id="f00e9-133">Azure Functions automatycznie skalować na żądanie.</span><span class="sxs-lookup"><span data-stu-id="f00e9-133">Azure Functions automatically scale out upon demand.</span></span> <span data-ttu-id="f00e9-134">Zasoby serwera są przydzielane dynamicznie i usuwane na podstawie liczby wyzwalanych zdarzeń.</span><span class="sxs-lookup"><span data-stu-id="f00e9-134">Server resources are dynamically allocated and removed based on the number of triggered events.</span></span> <span data-ttu-id="f00e9-135">Opłata jest naliczana tylko za zasoby obliczeniowe używane podczas uruchamiania funkcji.</span><span class="sxs-lookup"><span data-stu-id="f00e9-135">You're only charged for compute resources consumed when your functions run.</span></span> <span data-ttu-id="f00e9-136">Opłaty są naliczane na podstawie liczby wykonań, czasu wykonania i używanej pamięci.</span><span class="sxs-lookup"><span data-stu-id="f00e9-136">Billing is based upon the number of executions, execution time, and memory used.</span></span>

<span data-ttu-id="f00e9-137">Chociaż domyślny plan zużycia zapewnia ekonomiczne i skalowalne rozwiązanie dla większości aplikacji, opcja Premium umożliwia deweloperom elastyczność niestandardowych wymagań Azure Functions.</span><span class="sxs-lookup"><span data-stu-id="f00e9-137">While the default consumption plan provides an economical and scalable solution for most apps, the premium option allows developers flexibility for custom Azure Functions requirements.</span></span> <span data-ttu-id="f00e9-138">Uaktualnienie do planu Premium zapewnia kontrolę nad rozmiarem wystąpienia, przed wystąpieniem awaryjnym (w celu uniknięcia opóźnień uruchamiania) i dedykowanych maszyn wirtualnych.</span><span class="sxs-lookup"><span data-stu-id="f00e9-138">Upgrading to the premium plan provides control over instance sizes, pre-warmed instances (to avoid cold start delays), and dedicated VMs.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="f00e9-139">[Poprzedni](deploy-containers-azure.md) 
> [Dalej](other-deployment-options.md)</span><span class="sxs-lookup"><span data-stu-id="f00e9-139">[Previous](deploy-containers-azure.md)
[Next](other-deployment-options.md)</span></span>
