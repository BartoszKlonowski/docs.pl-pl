---
title: Korzystanie z funkcji bezserwerowych
description: Korzystanie z bezserwerowych i Azure Functions w aplikacjach natywnych w chmurze
ms.date: 05/13/2020
ms.openlocfilehash: 8e5c60d29cd8d635f79f42c232b33f060949e2b5
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/24/2020
ms.locfileid: "91155370"
---
# <a name="leveraging-serverless-functions"></a><span data-ttu-id="62368-103">Korzystanie z funkcji bezserwerowych</span><span class="sxs-lookup"><span data-stu-id="62368-103">Leveraging serverless functions</span></span>

<span data-ttu-id="62368-104">W spektrum od zarządzania maszynami fizycznymi do korzystania z możliwości chmury, bezserwerowe życie na najwyższym końcu.</span><span class="sxs-lookup"><span data-stu-id="62368-104">In the spectrum from managing physical machines to leveraging cloud capabilities, serverless lives at the extreme end.</span></span> <span data-ttu-id="62368-105">Jedyną odpowiedzialnością jest Twój kod i płacisz tylko wtedy, gdy kod jest uruchomiony.</span><span class="sxs-lookup"><span data-stu-id="62368-105">Your only responsibility is your code, and you only pay when your code runs.</span></span> <span data-ttu-id="62368-106">Azure Functions zapewnia sposób tworzenia możliwości bezserwerowych w aplikacjach natywnych w chmurze.</span><span class="sxs-lookup"><span data-stu-id="62368-106">Azure Functions provides a way to build serverless capabilities into your cloud-native applications.</span></span>

## <a name="what-is-serverless"></a><span data-ttu-id="62368-107">Co to jest bezserwerowe?</span><span class="sxs-lookup"><span data-stu-id="62368-107">What is serverless?</span></span>

<span data-ttu-id="62368-108">Bezserwerowy jest stosunkowo nowym modelem usług w chmurze obliczeniowej.</span><span class="sxs-lookup"><span data-stu-id="62368-108">Serverless is a relatively new service model of cloud computing.</span></span> <span data-ttu-id="62368-109">Nie oznacza to, że serwery są opcjonalne — kod nadal działa na serwerze.</span><span class="sxs-lookup"><span data-stu-id="62368-109">It doesn't mean that servers are optional - your code still runs on a server somewhere.</span></span> <span data-ttu-id="62368-110">Rozróżnienie polega na tym, że zespół aplikacji nie ma już znaczenia zarządzania infrastrukturą serwera.</span><span class="sxs-lookup"><span data-stu-id="62368-110">The distinction is that the application team no longer concerns itself with managing server infrastructure.</span></span> <span data-ttu-id="62368-111">Zamiast tego dostawca chmury jest odpowiedzialny.</span><span class="sxs-lookup"><span data-stu-id="62368-111">Instead, the cloud vendor own this responsibility.</span></span> <span data-ttu-id="62368-112">Zespół programistyczny zwiększa swoją produktywność, dostarczając rozwiązania biznesowe klientom, a nie w ramach instalacji wodociągowej.</span><span class="sxs-lookup"><span data-stu-id="62368-112">The development team increases its productivity by delivering business solutions to customers, not plumbing.</span></span>

<span data-ttu-id="62368-113">Obliczenia bez użycia serwera wykorzystują bezstanowe kontenery wyzwalające zdarzenia do hostowania usług.</span><span class="sxs-lookup"><span data-stu-id="62368-113">Serverless computing uses event-triggered stateless containers to host your services.</span></span> <span data-ttu-id="62368-114">Umożliwiają skalowanie w poziomie i w programie w celu spełnienia wymagań w miarę potrzeb.</span><span class="sxs-lookup"><span data-stu-id="62368-114">They can scale out and in to meet demand as-needed.</span></span> <span data-ttu-id="62368-115">Platformy bezserwerowe, takie jak Azure Functions, mają ścisłą integrację z innymi usługami platformy Azure, takimi jak kolejki, zdarzenia i magazyn.</span><span class="sxs-lookup"><span data-stu-id="62368-115">Serverless platforms like Azure Functions have tight integration with other Azure services like queues, events, and storage.</span></span>

## <a name="what-challenges-are-solved-by-serverless"></a><span data-ttu-id="62368-116">Jakie wyzwania są rozwiązywane przez serwer?</span><span class="sxs-lookup"><span data-stu-id="62368-116">What challenges are solved by serverless?</span></span>

<span data-ttu-id="62368-117">Platformy bezserwerowe z wieloma czasochłonnymi i kosztownymi problemami:</span><span class="sxs-lookup"><span data-stu-id="62368-117">Serverless platforms address many time-consuming and expensive concerns:</span></span>

- <span data-ttu-id="62368-118">Kupowanie maszyn i licencji na oprogramowanie</span><span class="sxs-lookup"><span data-stu-id="62368-118">Purchasing machines and software licenses</span></span>
- <span data-ttu-id="62368-119">Obudowa, zabezpieczanie, Konfigurowanie i konserwowanie maszyn oraz wymagań dotyczących sieci, mocy i A/C</span><span class="sxs-lookup"><span data-stu-id="62368-119">Housing, securing, configuring, and maintaining the machines and their networking, power, and A/C requirements</span></span>
- <span data-ttu-id="62368-120">Poprawianie i uaktualnianie systemów operacyjnych i oprogramowania</span><span class="sxs-lookup"><span data-stu-id="62368-120">Patching and upgrading operating systems and software</span></span>
- <span data-ttu-id="62368-121">Konfigurowanie serwerów sieci Web lub usług maszynowych do hostowania oprogramowania aplikacji</span><span class="sxs-lookup"><span data-stu-id="62368-121">Configuring web servers or machine services to host application software</span></span>
- <span data-ttu-id="62368-122">Konfigurowanie oprogramowania aplikacji w ramach jego platformy</span><span class="sxs-lookup"><span data-stu-id="62368-122">Configuring application software within its platform</span></span>

<span data-ttu-id="62368-123">Wiele firm przydziela duże budżety do obsługi problemów dotyczących infrastruktury sprzętu.</span><span class="sxs-lookup"><span data-stu-id="62368-123">Many companies allocate large budgets to support hardware infrastructure concerns.</span></span> <span data-ttu-id="62368-124">Przejście do chmury może pomóc w zmniejszeniu kosztów. Przesuwanie aplikacji do bezserwerowego może pomóc je wyeliminować.</span><span class="sxs-lookup"><span data-stu-id="62368-124">Moving to the cloud can help reduce these costs; shifting applications to serverless can help eliminate them.</span></span>

## <a name="what-is-the-difference-between-a-microservice-and-a-serverless-function"></a><span data-ttu-id="62368-125">Jaka jest różnica między mikrousługą a funkcją bezserwerową?</span><span class="sxs-lookup"><span data-stu-id="62368-125">What is the difference between a microservice and a serverless function?</span></span>

<span data-ttu-id="62368-126">Zazwyczaj mikrousługa hermetyzuje możliwość biznesową, taką jak koszyk dla witryny handlu elektronicznego online.</span><span class="sxs-lookup"><span data-stu-id="62368-126">Typically, a microservice encapsulates a business capability, such as a shopping cart for an online eCommerce site.</span></span> <span data-ttu-id="62368-127">Uwidacznia wiele operacji, które umożliwiają użytkownikowi zarządzanie swoimi środowiskami zakupów.</span><span class="sxs-lookup"><span data-stu-id="62368-127">It exposes multiple operations that enable a user to manage their shopping experience.</span></span> <span data-ttu-id="62368-128">Jednakże funkcja jest małym, lekkim blokiem kodu, który wykonuje operację pojedynczego przeznaczenie w odpowiedzi na zdarzenie.</span><span class="sxs-lookup"><span data-stu-id="62368-128">A function, however, is a small, lightweight block of code that executes a single-purpose operation in response to an event.</span></span>
<span data-ttu-id="62368-129">Mikrousługi są zwykle konstruowane do odpowiedzi na żądania, często z interfejsu.</span><span class="sxs-lookup"><span data-stu-id="62368-129">Microservices are typically constructed to respond to requests, often from an interface.</span></span> <span data-ttu-id="62368-130">Żądania mogą być oparte na protokole HTTP REST lub gRPC.</span><span class="sxs-lookup"><span data-stu-id="62368-130">Requests can be HTTP Rest- or gRPC-based.</span></span> <span data-ttu-id="62368-131">Usługi bezserwerowe reagują na zdarzenia.</span><span class="sxs-lookup"><span data-stu-id="62368-131">Serverless services respond to events.</span></span> <span data-ttu-id="62368-132">Oparta na zdarzeniach architektura jest idealnym rozwiązaniem do przetwarzania krótko działających zadań w tle.</span><span class="sxs-lookup"><span data-stu-id="62368-132">Its event-driven architecture is ideal for processing short-running, background tasks.</span></span>

## <a name="what-scenarios-are-appropriate-for-serverless"></a><span data-ttu-id="62368-133">Jakie scenariusze są odpowiednie dla bezserwerowego?</span><span class="sxs-lookup"><span data-stu-id="62368-133">What scenarios are appropriate for serverless?</span></span>

<span data-ttu-id="62368-134">Bezserwerowe uwidacznia pojedyncze funkcje, które są wywoływane w odpowiedzi na wyzwalacz.</span><span class="sxs-lookup"><span data-stu-id="62368-134">Serverless exposes individual short-running functions that are invoked in response to a trigger.</span></span> <span data-ttu-id="62368-135">Sprawia to, że są one idealne do przetwarzania zadań w tle.</span><span class="sxs-lookup"><span data-stu-id="62368-135">This makes them ideal for processing background tasks.</span></span>

<span data-ttu-id="62368-136">Aplikacja może wymagać wysłania wiadomości e-mail w ramach przepływu pracy.</span><span class="sxs-lookup"><span data-stu-id="62368-136">An application might need to send an email as a step in a workflow.</span></span> <span data-ttu-id="62368-137">Zamiast wysyłać powiadomienie w ramach żądania mikrousługi, umieść szczegóły komunikatu w kolejce.</span><span class="sxs-lookup"><span data-stu-id="62368-137">Instead of sending the notification as part of a microservice request, place the message details onto a queue.</span></span> <span data-ttu-id="62368-138">Funkcja platformy Azure może usunąć z kolejki komunikat i asynchronicznie wysłać wiadomość e-mail.</span><span class="sxs-lookup"><span data-stu-id="62368-138">An Azure Function can dequeue the message and asynchronously send the email.</span></span> <span data-ttu-id="62368-139">Wykonanie tej czynności może poprawić wydajność i skalowalność mikrousługi.</span><span class="sxs-lookup"><span data-stu-id="62368-139">Doing so could improve the performance and scalability of the microservice.</span></span> <span data-ttu-id="62368-140">[Wyrównywanie obciążeń przy użyciu kolejki](/azure/architecture/patterns/queue-based-load-leveling) można zaimplementować, aby uniknąć wąskich gardeł związanych z wysyłaniem wiadomości e-mail.</span><span class="sxs-lookup"><span data-stu-id="62368-140">[Queue-based load leveling](/azure/architecture/patterns/queue-based-load-leveling) can be implemented to avoid bottlenecks related to sending the emails.</span></span> <span data-ttu-id="62368-141">Ponadto ta usługa autonomiczna może zostać ponownie użyta jako narzędzie dla wielu różnych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="62368-141">Additionally, this stand-alone service could be reused as a utility across many different applications.</span></span>

<span data-ttu-id="62368-142">Asynchroniczna obsługa komunikatów z kolejek i tematów jest typowym wzorcem do wyzwalania funkcji bezserwerowych.</span><span class="sxs-lookup"><span data-stu-id="62368-142">Asynchronous messaging from queues and topics is a common pattern to trigger serverless functions.</span></span> <span data-ttu-id="62368-143">Jednak Azure Functions mogą być wyzwalane przez inne zdarzenia, takie jak zmiany w usłudze Azure Blob Storage.</span><span class="sxs-lookup"><span data-stu-id="62368-143">However, Azure Functions can be triggered by other events, such as changes to Azure Blob Storage.</span></span> <span data-ttu-id="62368-144">Usługa obsługująca przekazywanie obrazów może mieć funkcję platformy Azure odpowiedzialną za optymalizację rozmiaru obrazu.</span><span class="sxs-lookup"><span data-stu-id="62368-144">A service that supports image uploads could have an Azure Function responsible for optimizing the image size.</span></span> <span data-ttu-id="62368-145">Funkcja może zostać wyzwolona bezpośrednio przez wstawianie do Blob Storage platformy Azure, zachowując złożoność z operacji mikrousług.</span><span class="sxs-lookup"><span data-stu-id="62368-145">The function could be triggered directly by inserts into Azure Blob Storage, keeping complexity out of the microservice operations.</span></span>

<span data-ttu-id="62368-146">Wiele usług ma długotrwałe procesy w ramach przepływów pracy.</span><span class="sxs-lookup"><span data-stu-id="62368-146">Many services have long-running processes as part of their workflows.</span></span> <span data-ttu-id="62368-147">Często te zadania są wykonywane w ramach interakcji użytkownika z aplikacją.</span><span class="sxs-lookup"><span data-stu-id="62368-147">Often these tasks are done as part of the user's interaction with the application.</span></span> <span data-ttu-id="62368-148">Te zadania mogą wymusić, że użytkownik może czekać, negatywny wpływ na środowisko pracy.</span><span class="sxs-lookup"><span data-stu-id="62368-148">These tasks can force the user to wait, negatively impacting their experience.</span></span> <span data-ttu-id="62368-149">Operacje obliczeniowe bez użycia serwera zapewniają doskonały sposób przenoszenia wolniejszych zadań poza pętlę interakcji użytkownika.</span><span class="sxs-lookup"><span data-stu-id="62368-149">Serverless computing provides a great way to move slower tasks outside of the user interaction loop.</span></span> <span data-ttu-id="62368-150">Te zadania mogą być skalowane na żądanie bez konieczności skalowania całej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="62368-150">These tasks can scale with demand without requiring the entire application to scale.</span></span>

## <a name="when-should-you-avoid-serverless"></a><span data-ttu-id="62368-151">Kiedy należy unikać bezserwerowego?</span><span class="sxs-lookup"><span data-stu-id="62368-151">When should you avoid serverless?</span></span>

<span data-ttu-id="62368-152">Rozwiązania bezserwerowe i skalowanie na żądanie.</span><span class="sxs-lookup"><span data-stu-id="62368-152">Serverless solutions provision and scale on demand.</span></span> <span data-ttu-id="62368-153">Gdy nowe wystąpienie zostanie wywołane, zimne uruchomienie jest typowym problemem.</span><span class="sxs-lookup"><span data-stu-id="62368-153">When a new instance is invoked, cold starts are a common issue.</span></span> <span data-ttu-id="62368-154">Zimny start to okres czasu potrzebny na udostępnienie tego wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="62368-154">A cold start is the period of time it takes to provision this instance.</span></span> <span data-ttu-id="62368-155">Zwykle to opóźnienie może wynosić kilka sekund, ale może być dłuższe w zależności od różnych czynników.</span><span class="sxs-lookup"><span data-stu-id="62368-155">Normally, this delay might be a few seconds, but can be longer depending on various factors.</span></span> <span data-ttu-id="62368-156">Po zainicjowaniu obsługi pojedyncze wystąpienie będzie utrzymywane pod warunkiem, że otrzymuje okresowe żądania.</span><span class="sxs-lookup"><span data-stu-id="62368-156">Once provisioned, a single instance is kept alive as long as it receives periodic requests.</span></span> <span data-ttu-id="62368-157">Jeśli jednak usługa jest wyzwana rzadziej, platforma Azure może usunąć ją z pamięci i wymagać zimnego uruchomienia, gdy zostanie ponownie wywołana.</span><span class="sxs-lookup"><span data-stu-id="62368-157">But, if a service is called less frequently, Azure may remove it from memory and require a cold start when reinvoked.</span></span> <span data-ttu-id="62368-158">Zimne uruchomienie jest również wymagane, gdy funkcja jest skalowana do nowego wystąpienia.</span><span class="sxs-lookup"><span data-stu-id="62368-158">Cold starts are also required when a function scales out to a new instance.</span></span>

<span data-ttu-id="62368-159">Rysunek 3-10 pokazuje wzorzec zimnego startu.</span><span class="sxs-lookup"><span data-stu-id="62368-159">Figure 3-10 shows a cold-start pattern.</span></span> <span data-ttu-id="62368-160">Należy pamiętać o dodatkowych krokach wymaganych, gdy aplikacja jest zimna.</span><span class="sxs-lookup"><span data-stu-id="62368-160">Note the extra steps required when the app is cold.</span></span>

<span data-ttu-id="62368-161">![Rysunek zimny i rozgrzany początek ](./media/cold-start-warm-start.png)
 **3-10**.</span><span class="sxs-lookup"><span data-stu-id="62368-161">![Cold versus warm start](./media/cold-start-warm-start.png)
**Figure 3-10**.</span></span> <span data-ttu-id="62368-162">Zimne rozpoczęcie i rozgrzane.</span><span class="sxs-lookup"><span data-stu-id="62368-162">Cold start versus warm start.</span></span>

<span data-ttu-id="62368-163">Aby uniknąć całkowitego uruchamiania zimnego, możesz przełączyć się z [planu zużycia do dedykowanego planu](https://azure.microsoft.com/blog/understanding-serverless-cold-start/).</span><span class="sxs-lookup"><span data-stu-id="62368-163">To avoid cold starts entirely, you might switch from a [consumption plan to a dedicated plan](https://azure.microsoft.com/blog/understanding-serverless-cold-start/).</span></span> <span data-ttu-id="62368-164">Możesz również skonfigurować co najmniej jedno [wystąpienie wstępnie rozgrzane](/azure/azure-functions/functions-premium-plan#pre-warmed-instances) z uaktualnieniem planu Premium.</span><span class="sxs-lookup"><span data-stu-id="62368-164">You can also configure one or more [pre-warmed instances](/azure/azure-functions/functions-premium-plan#pre-warmed-instances) with the premium plan upgrade.</span></span> <span data-ttu-id="62368-165">W takich przypadkach należy dodać kolejne wystąpienie, które jest już gotowe do użycia.</span><span class="sxs-lookup"><span data-stu-id="62368-165">In these cases, when you need to add another instance, it's already up and ready to go.</span></span> <span data-ttu-id="62368-166">Te opcje mogą pomóc w ograniczeniu problemu zimnego startu związanego z przetwarzaniem nieserwerowym.</span><span class="sxs-lookup"><span data-stu-id="62368-166">These options can help mitigate the cold start issue associated with serverless computing.</span></span>

<span data-ttu-id="62368-167">Dostawcy usług w chmurze rachunku bezserwerowego na podstawie czasu wykonywania obliczeń i zużytej pamięci.</span><span class="sxs-lookup"><span data-stu-id="62368-167">Cloud providers bill for serverless based on compute execution time and consumed memory.</span></span> <span data-ttu-id="62368-168">Długotrwałe operacje lub obciążenia zużywające duże ilości pamięci nie zawsze są najlepszymi kandydatami dla bezserwerowych.</span><span class="sxs-lookup"><span data-stu-id="62368-168">Long running operations or high memory consumption workloads aren't always the best candidates for serverless.</span></span> <span data-ttu-id="62368-169">Funkcje bezserwerowe preferują małe fragmenty pracy, które mogą szybko zakończyć pracę.</span><span class="sxs-lookup"><span data-stu-id="62368-169">Serverless functions favor small chunks of work that can complete quickly.</span></span> <span data-ttu-id="62368-170">Większość platform bezserwerowych wymaga, aby poszczególne funkcje zostały wykonane w ciągu kilku minut.</span><span class="sxs-lookup"><span data-stu-id="62368-170">Most serverless platforms require individual functions to complete within a few minutes.</span></span> <span data-ttu-id="62368-171">Azure Functions wartość domyślna to 5-minutowy czas trwania, który można skonfigurować do 10 minut.</span><span class="sxs-lookup"><span data-stu-id="62368-171">Azure Functions defaults to a 5-minute time-out duration, which can be configured up to 10 minutes.</span></span> <span data-ttu-id="62368-172">Plan Azure Functions Premium umożliwia ograniczenie tego problemu, a także domyślnego limitu czasu do 30 minut z niezwiązanym wyższym limitem, który można skonfigurować.</span><span class="sxs-lookup"><span data-stu-id="62368-172">The Azure Functions premium plan can mitigate this issue as well, defaulting time-outs to 30 minutes with an unbounded higher limit that can be configured.</span></span> <span data-ttu-id="62368-173">Czas obliczeń nie jest czasem kalendarzowym.</span><span class="sxs-lookup"><span data-stu-id="62368-173">Compute time isn't calendar time.</span></span> <span data-ttu-id="62368-174">Bardziej zaawansowane funkcje wykorzystujące platformę [Azure Durable Functions Framework](/azure/azure-functions/durable/durable-functions-overview?tabs=csharp) mogą wstrzymywać wykonywanie w ciągu kilku dni.</span><span class="sxs-lookup"><span data-stu-id="62368-174">More advanced functions using the [Azure Durable Functions framework](/azure/azure-functions/durable/durable-functions-overview?tabs=csharp) may pause execution over a course of several days.</span></span> <span data-ttu-id="62368-175">Rozliczenia opierają się na rzeczywistym czasie wykonywania — gdy funkcja wznawia działanie i wznawia przetwarzanie.</span><span class="sxs-lookup"><span data-stu-id="62368-175">The billing is based on actual execution time - when the function wakes up and resumes processing.</span></span>

<span data-ttu-id="62368-176">Na koniec korzystanie z Azure Functions dla zadań aplikacji zwiększa złożoność.</span><span class="sxs-lookup"><span data-stu-id="62368-176">Finally, leveraging Azure Functions for application tasks adds complexity.</span></span> <span data-ttu-id="62368-177">Warto najpierw przeprowadzić architekta swojej aplikacji przy użyciu modularnie powiązanego projektu.</span><span class="sxs-lookup"><span data-stu-id="62368-177">It's wise to first architect your application with a modular, loosely coupled design.</span></span> <span data-ttu-id="62368-178">Następnie ustal, czy nie ma żadnych korzyści bezserwerowych, które uzasadniają dodatkową złożoność.</span><span class="sxs-lookup"><span data-stu-id="62368-178">Then, identify if there are benefits serverless would offer that justify the additional complexity.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="62368-179">[Poprzedni](leverage-containers-orchestrators.md) 
> [Dalej](combine-containers-serverless-approaches.md)</span><span class="sxs-lookup"><span data-stu-id="62368-179">[Previous](leverage-containers-orchestrators.md)
[Next](combine-containers-serverless-approaches.md)</span></span>
