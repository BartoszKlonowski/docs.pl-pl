---
title: Azure Monitor
description: Korzystanie z Azure Monitor w celu uzyskania wglądu w system działa.
ms.date: 07/05/2020
ms.openlocfilehash: 65e17740dba49c3ac3f6e13462897b5342da6710
ms.sourcegitcommit: 5b475c1855b32cf78d2d1bbb4295e4c236f39464
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 09/24/2020
ms.locfileid: "91160973"
---
# <a name="azure-monitor"></a><span data-ttu-id="98e16-103">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="98e16-103">Azure Monitor</span></span>

<span data-ttu-id="98e16-104">Żaden inny dostawca chmury nie jest gotowy do monitorowania aplikacji w chmurze, które nie zostało znalezione na platformie Azure.</span><span class="sxs-lookup"><span data-stu-id="98e16-104">No other cloud provider has as mature of a cloud application monitoring solution than that found in Azure.</span></span> <span data-ttu-id="98e16-105">Azure Monitor to nazwa parasola kolekcji narzędzi zaprojektowanych w celu zapewnienia widoczności stanu systemu.</span><span class="sxs-lookup"><span data-stu-id="98e16-105">Azure Monitor is an umbrella name for a collection of tools designed to provide visibility into the state of your system.</span></span> <span data-ttu-id="98e16-106">Pomaga zrozumieć, w jaki sposób natywne usługi w chmurze działają i aktywnie identyfikują problemy wpływające na nie.</span><span class="sxs-lookup"><span data-stu-id="98e16-106">It helps you understand how your cloud-native services are performing and proactively identifies issues affecting them.</span></span> <span data-ttu-id="98e16-107">Rysunek 7-12 przedstawia wysoki poziom widoku Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="98e16-107">Figure 7-12 presents a high level of view of Azure Monitor.</span></span>

<span data-ttu-id="98e16-108">![Widok wysokiego poziomu Azure Monitor. ](./media/azure-monitor.png)
 **Rysunek 7-12**.</span><span class="sxs-lookup"><span data-stu-id="98e16-108">![High-level view of Azure Monitor.](./media/azure-monitor.png)
**Figure 7-12**.</span></span> <span data-ttu-id="98e16-109">Widok wysokiego poziomu Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="98e16-109">High-level view of Azure Monitor.</span></span>

## <a name="gathering-logs-and-metrics"></a><span data-ttu-id="98e16-110">Zbieranie dzienników i metryk</span><span class="sxs-lookup"><span data-stu-id="98e16-110">Gathering logs and metrics</span></span>

<span data-ttu-id="98e16-111">Pierwszym krokiem w dowolnym rozwiązaniu monitorowania jest gromadzenie możliwie największej ilości danych.</span><span class="sxs-lookup"><span data-stu-id="98e16-111">The first step in any monitoring solution is to gather as much data as possible.</span></span> <span data-ttu-id="98e16-112">Im więcej zebranych danych, tym dokładniejsze są szczegółowe informacje.</span><span class="sxs-lookup"><span data-stu-id="98e16-112">The more data gathered, the deeper the insights.</span></span> <span data-ttu-id="98e16-113">Systemy Instrumentacji są tradycyjnie trudne.</span><span class="sxs-lookup"><span data-stu-id="98e16-113">Instrumenting systems has traditionally been difficult.</span></span> <span data-ttu-id="98e16-114">Simple Network Management Protocol (SNMP) był standardowym protokołem do zbierania informacji na poziomie komputera, ale wymagało dużej wiedzy i konfiguracji.</span><span class="sxs-lookup"><span data-stu-id="98e16-114">Simple Network Management Protocol (SNMP) was the gold standard protocol for collecting machine level information, but it required a great deal of knowledge and configuration.</span></span> <span data-ttu-id="98e16-115">Na szczęście większość tej pracy twardej została wyeliminowana, ponieważ najczęstsze metryki są zbierane automatycznie przez Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="98e16-115">Fortunately, much of this hard work has been eliminated as the most common metrics are gathered automatically by Azure Monitor.</span></span>

<span data-ttu-id="98e16-116">Metryki i zdarzenia na poziomie aplikacji nie są możliwe do automatycznego przystąpienia, ponieważ są specyficzne dla wdrażanej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="98e16-116">Application level metrics and events aren't possible to instrument automatically because they're specific to the application being deployed.</span></span> <span data-ttu-id="98e16-117">Aby zebrać te metryki, [dostępne są zestawy SDK i interfejsy API](/azure/azure-monitor/app/api-custom-events-metrics) służące do bezpośredniego zgłaszania takich informacji, na przykład gdy klient zarejestruje lub ukończy zamówienie.</span><span class="sxs-lookup"><span data-stu-id="98e16-117">In order to gather these metrics, there are [SDKs and APIs available](/azure/azure-monitor/app/api-custom-events-metrics) to directly report such information, such as when a customer signs up or completes an order.</span></span> <span data-ttu-id="98e16-118">Wyjątki mogą być również przechwytywane i raportowane z powrotem do Azure Monitor za pośrednictwem Application Insights.</span><span class="sxs-lookup"><span data-stu-id="98e16-118">Exceptions can also be captured and reported back into Azure Monitor via Application Insights.</span></span> <span data-ttu-id="98e16-119">Zestawy SDK obsługują większość języków znalezionych w natywnych aplikacjach w chmurze, takich jak go, Python, JavaScript i .NET.</span><span class="sxs-lookup"><span data-stu-id="98e16-119">The SDKs support most every language found in Cloud Native Applications including Go, Python, JavaScript, and the .NET languages.</span></span>

<span data-ttu-id="98e16-120">Ostatecznym celem zebrania informacji o stanie aplikacji jest upewnienie się, że użytkownicy końcowi mają dobre doświadczenie.</span><span class="sxs-lookup"><span data-stu-id="98e16-120">The ultimate goal of gathering information about the state of your application is to ensure that your end users have a good experience.</span></span> <span data-ttu-id="98e16-121">Jaki lepszy sposób, aby stwierdzić, czy użytkownicy napotykają problemy niż [w przypadku testów sieci Web](/azure/azure-monitor/app/monitor-web-app-availability)?</span><span class="sxs-lookup"><span data-stu-id="98e16-121">What better way to tell if users are experiencing issues than doing [outside-in web tests](/azure/azure-monitor/app/monitor-web-app-availability)?</span></span> <span data-ttu-id="98e16-122">Te testy mogą być proste jako polecenie ping dla witryny internetowej z lokalizacji na całym świecie lub w przypadku, gdy agenci są zalogować się do lokacji i symulują akcje użytkownika.</span><span class="sxs-lookup"><span data-stu-id="98e16-122">These tests can be as simple as pinging your website from locations around the world or as involved as having agents log into the site and simulate user actions.</span></span>

## <a name="reporting-data"></a><span data-ttu-id="98e16-123">Dane raportowania</span><span class="sxs-lookup"><span data-stu-id="98e16-123">Reporting data</span></span>

<span data-ttu-id="98e16-124">Gromadzone dane mogą być przetwarzane, podsumowywane i kreślone na wykresach, co umożliwia użytkownikom natychmiastowe wyświetlanie w przypadku wystąpienia problemów.</span><span class="sxs-lookup"><span data-stu-id="98e16-124">Once the data is gathered, it can be manipulated, summarized, and plotted into charts, which allow users to instantly see when there are problems.</span></span> <span data-ttu-id="98e16-125">Te wykresy można zbierać do pulpitów nawigacyjnych lub do skoroszytów, a raport wielostronicowy umożliwiający wyświetlenie historii niektórych aspektów systemu.</span><span class="sxs-lookup"><span data-stu-id="98e16-125">These charts can be gathered into dashboards or into Workbooks, a multi-page report designed to tell a story about some aspect of the system.</span></span>

<span data-ttu-id="98e16-126">Nie będzie można ukończyć nowoczesnej aplikacji bez konieczności sztucznej analizy ani uczenia maszynowego.</span><span class="sxs-lookup"><span data-stu-id="98e16-126">No modern application would be complete without some artificial intelligence or machine learning.</span></span> <span data-ttu-id="98e16-127">W tym celu dane [mogą być przesyłane](https://www.youtube.com/watch?v=Cuza-I1g9tw) do różnych narzędzi uczenia maszynowego na platformie Azure, aby umożliwić wyodrębnienie trendów i informacji, które w przeciwnym razie byłyby ukryte.</span><span class="sxs-lookup"><span data-stu-id="98e16-127">To this end, data [can be passed](https://www.youtube.com/watch?v=Cuza-I1g9tw) to the various machine learning tools in Azure to allow you to extract trends and information that would otherwise be hidden.</span></span>

<span data-ttu-id="98e16-128">Application Insights udostępnia zaawansowany język zapytań (podobny do kodu SQL) o nazwie *Kusto* , który może wykonywać zapytania dotyczące rekordów, podsumowywać je, a nawet wykresy wykresów.</span><span class="sxs-lookup"><span data-stu-id="98e16-128">Application Insights provides a powerful (SQL-like) query language called *Kusto* that can query records, summarize them, and even plot charts.</span></span> <span data-ttu-id="98e16-129">Na przykład następujące zapytanie zlokalizuje wszystkie rekordy na miesiąc listopada 2007, pogrupuj je według stanu i Wykreśl 10 pierwszych jako wykres kołowy.</span><span class="sxs-lookup"><span data-stu-id="98e16-129">For example, the following query will locate all records for the month of November 2007, group them by state, and plot the top 10 as a pie chart.</span></span>

```kusto
StormEvents
| where StartTime >= datetime(2007-11-01) and StartTime < datetime(2007-12-01)
| summarize count() by State
| top 10 by count_
| render piechart
```

<span data-ttu-id="98e16-130">Rysunek 7-13 przedstawia wyniki tego zapytania Application Insights.</span><span class="sxs-lookup"><span data-stu-id="98e16-130">Figure 7-13 shows the results of this Application Insights Query.</span></span>

<span data-ttu-id="98e16-131">![Application Insights ilustracji wyników zapytania ](./media/application_insights_example.png)
 **7-13**.</span><span class="sxs-lookup"><span data-stu-id="98e16-131">![Application Insights query results](./media/application_insights_example.png)
**Figure 7-13**.</span></span> <span data-ttu-id="98e16-132">Application Insights wyników zapytania.</span><span class="sxs-lookup"><span data-stu-id="98e16-132">Application Insights query results.</span></span>

<span data-ttu-id="98e16-133">Istnieje [plac zabaw do eksperymentowania z](https://dataexplorer.azure.com/clusters/help/databases/Samples) zapytaniami Kusto.</span><span class="sxs-lookup"><span data-stu-id="98e16-133">There is a [playground for experimenting with Kusto](https://dataexplorer.azure.com/clusters/help/databases/Samples) queries.</span></span> <span data-ttu-id="98e16-134">Odczytywanie [przykładowych zapytań](/azure/kusto/query/samples) może być również instrukcją.</span><span class="sxs-lookup"><span data-stu-id="98e16-134">Reading [sample queries](/azure/kusto/query/samples) can also be instructive.</span></span>

## <a name="dashboards"></a><span data-ttu-id="98e16-135">Pulpity nawigacyjne</span><span class="sxs-lookup"><span data-stu-id="98e16-135">Dashboards</span></span>

<span data-ttu-id="98e16-136">Istnieje kilka różnych technologii pulpitu nawigacyjnego, które mogą być używane do prezentowania informacji z Azure Monitor.</span><span class="sxs-lookup"><span data-stu-id="98e16-136">There are several different dashboard technologies that may be used to surface the information from Azure Monitor.</span></span> <span data-ttu-id="98e16-137">Prawdopodobnie najprostszym sposobem jest tylko uruchomienie zapytań w Application Insights i [wykreślenie danych na wykresie](/azure/azure-monitor/learn/tutorial-app-dashboards).</span><span class="sxs-lookup"><span data-stu-id="98e16-137">Perhaps the simplest is to just run queries in Application Insights and [plot the data into a chart](/azure/azure-monitor/learn/tutorial-app-dashboards).</span></span>

<span data-ttu-id="98e16-138">![Przykład Application Insights wykresów osadzonych na głównym rysunku pulpitu nawigacyjnego platformy Azure ](./media/azure_dashboard.png)
 **7-14**.</span><span class="sxs-lookup"><span data-stu-id="98e16-138">![An example of Application Insights charts embedded in the main Azure Dashboard](./media/azure_dashboard.png)
**Figure 7-14**.</span></span> <span data-ttu-id="98e16-139">Przykład Application Insights wykresów osadzonych na głównym pulpicie nawigacyjnym platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="98e16-139">An example of Application Insights charts embedded in the main Azure Dashboard.</span></span>

<span data-ttu-id="98e16-140">Te wykresy można następnie osadzić w Azure Portal w odpowiedni sposób przy użyciu funkcji pulpitu nawigacyjnego.</span><span class="sxs-lookup"><span data-stu-id="98e16-140">These charts can then be embedded in the Azure portal proper through use of the dashboard feature.</span></span> <span data-ttu-id="98e16-141">Dla użytkowników mających dokładniejsze wymagania, takie jak możliwość przechodzenia do kilku warstw danych, Azure Monitor dane są dostępne do [Power BI](https://powerbi.microsoft.com/).</span><span class="sxs-lookup"><span data-stu-id="98e16-141">For users with more exacting requirements, such as being able to drill down into several tiers of data, Azure Monitor data is available to [Power BI](https://powerbi.microsoft.com/).</span></span> <span data-ttu-id="98e16-142">Power BI to wiodąca w branży Klasa korporacyjna, Narzędzie analizy biznesowej, które umożliwia agregowanie danych z wielu różnych źródeł danych.</span><span class="sxs-lookup"><span data-stu-id="98e16-142">Power BI is an industry-leading, enterprise class, business intelligence tool that can aggregate data from many different data sources.</span></span>

![Przykładowy pulpit nawigacyjny Power BI](./media/powerbidashboard.png)

<span data-ttu-id="98e16-144">**Rysunek 7-15**.</span><span class="sxs-lookup"><span data-stu-id="98e16-144">**Figure 7-15**.</span></span> <span data-ttu-id="98e16-145">Przykład Power BI pulpitu nawigacyjnego.</span><span class="sxs-lookup"><span data-stu-id="98e16-145">An example Power BI dashboard.</span></span>

## <a name="alerts"></a><span data-ttu-id="98e16-146">Alerty</span><span class="sxs-lookup"><span data-stu-id="98e16-146">Alerts</span></span>

<span data-ttu-id="98e16-147">Czasami posiadanie pulpitów nawigacyjnych danych jest niewystarczające.</span><span class="sxs-lookup"><span data-stu-id="98e16-147">Sometimes, having data dashboards is insufficient.</span></span> <span data-ttu-id="98e16-148">Jeśli nikt nie będzie w stanie obejrzeć pulpitów nawigacyjnych, może to potrwać kilka godzin, zanim problem zostanie rozwiązany, a nawet wykryty.</span><span class="sxs-lookup"><span data-stu-id="98e16-148">If nobody is awake to watch the dashboards, then it can still be many hours before a problem is addressed, or even detected.</span></span> <span data-ttu-id="98e16-149">W tym celu Azure Monitor również zawiera pierwsze rozwiązanie do tworzenia [alertów](/azure/azure-monitor/platform/alerts-overview).</span><span class="sxs-lookup"><span data-stu-id="98e16-149">To this end, Azure Monitor also provides a top notch [alerting solution](/azure/azure-monitor/platform/alerts-overview).</span></span> <span data-ttu-id="98e16-150">Alerty mogą być wyzwalane przez szeroki zakres warunków, w tym:</span><span class="sxs-lookup"><span data-stu-id="98e16-150">Alerts can be triggered by a wide range of conditions including:</span></span>

- <span data-ttu-id="98e16-151">Wartości metryk</span><span class="sxs-lookup"><span data-stu-id="98e16-151">Metric values</span></span>
- <span data-ttu-id="98e16-152">Zapytania przeszukiwania dzienników</span><span class="sxs-lookup"><span data-stu-id="98e16-152">Log search queries</span></span>
- <span data-ttu-id="98e16-153">Zdarzenia dziennika aktywności</span><span class="sxs-lookup"><span data-stu-id="98e16-153">Activity Log events</span></span>
- <span data-ttu-id="98e16-154">Kondycja podstawowej platformy Azure</span><span class="sxs-lookup"><span data-stu-id="98e16-154">Health of the underlying Azure platform</span></span>
- <span data-ttu-id="98e16-155">Testy dostępności witryny sieci Web</span><span class="sxs-lookup"><span data-stu-id="98e16-155">Tests for web site availability</span></span>

<span data-ttu-id="98e16-156">Po wyzwoleniu alerty mogą wykonywać wiele różnych zadań.</span><span class="sxs-lookup"><span data-stu-id="98e16-156">When triggered, the alerts can perform a wide variety of tasks.</span></span> <span data-ttu-id="98e16-157">Po stronie prostej alerty mogą po prostu wysłać powiadomienie e-mail do listy adresowej lub wiadomości tekstowej do osoby.</span><span class="sxs-lookup"><span data-stu-id="98e16-157">On the simple side, the alerts may just send an e-mail notification to a mailing list or a text message to an individual.</span></span> <span data-ttu-id="98e16-158">Bardziej powiązane alerty mogą wyzwolić przepływ pracy w narzędziu, takim jak usługi PagerDuty, który ma świadomość, kto jest w wywołaniu dla określonej aplikacji.</span><span class="sxs-lookup"><span data-stu-id="98e16-158">More involved alerts might trigger a workflow in a tool such as PagerDuty, which is aware of who is on call for a particular application.</span></span> <span data-ttu-id="98e16-159">Alerty mogą wyzwalać akcje w [Microsoft Flow](https://flow.microsoft.com/) odblokowywanie w bliskich nieograniczonych możliwościach dla przepływów pracy.</span><span class="sxs-lookup"><span data-stu-id="98e16-159">Alerts can trigger actions in [Microsoft Flow](https://flow.microsoft.com/) unlocking near limitless possibilities for workflows.</span></span>

<span data-ttu-id="98e16-160">W miarę identyfikowania typowych przyczyn alertów można rozszerzyć alerty z szczegółowymi przyczynami alertów i czynnościami, które należy podjąć w celu ich rozwiązania.</span><span class="sxs-lookup"><span data-stu-id="98e16-160">As common causes of alerts are identified, the alerts can be enhanced with details about the common causes of the alerts and the steps to take to resolve them.</span></span> <span data-ttu-id="98e16-161">Wysoce dojrzałe wdrożenia aplikacji natywnych w chmurze mogą zrezygnować z wykonywania zadań samonaprawiania, które wykonują działania, takie jak usuwanie węzłów zakończonych niepowodzeniem z zestawu skalowania lub wyzwalanie działania skalowania automatycznego.</span><span class="sxs-lookup"><span data-stu-id="98e16-161">Highly mature cloud-native application deployments may opt to kick off self-healing tasks, which perform actions such as removing failing nodes from a scale set or triggering an autoscaling activity.</span></span> <span data-ttu-id="98e16-162">Na koniec nie jest już konieczne wznawianie pracy w ramach usługi –: 00, aby rozwiązać problem związany z witryną na żywo, ponieważ system będzie mógł dopasować się do co najmniej Limp, dopóki ktoś się nie dotrze do następnego dnia.</span><span class="sxs-lookup"><span data-stu-id="98e16-162">Eventually it may no longer be necessary to wake up on-call personnel at 2AM to resolve a live-site issue as the system will be able to adjust itself to compensate or at least limp along until somebody arrives at work the next morning.</span></span>

<span data-ttu-id="98e16-163">Azure Monitor automatycznie wykorzystuje Uczenie maszynowe do zrozumienia normalnych parametrów operacyjnych wdrożonych aplikacji.</span><span class="sxs-lookup"><span data-stu-id="98e16-163">Azure Monitor automatically leverages machine learning to understand the normal operating parameters of deployed applications.</span></span> <span data-ttu-id="98e16-164">Dzięki temu można wykryć usługi, które działają poza ich normalnymi parametrami.</span><span class="sxs-lookup"><span data-stu-id="98e16-164">This enables it to detect services that are operating outside of their normal parameters.</span></span> <span data-ttu-id="98e16-165">Na przykład typowy ruch w dniu tygodnia w witrynie może wynosić 10 000 żądań na minutę.</span><span class="sxs-lookup"><span data-stu-id="98e16-165">For instance, the typical weekday traffic on the site might be 10,000 requests per minute.</span></span> <span data-ttu-id="98e16-166">A następnie w danym tygodniu nagle liczba żądań trafi o wysoce nietypowe żądania 20 000 na minutę.</span><span class="sxs-lookup"><span data-stu-id="98e16-166">And then, on a given week, suddenly the number of requests hits a highly unusual 20,000 requests per minute.</span></span> <span data-ttu-id="98e16-167">[Inteligentne wykrywanie](/azure/azure-monitor/app/proactive-diagnostics) będzie zauważyć takie odróżnienie od normy i wyzwolenie alertu.</span><span class="sxs-lookup"><span data-stu-id="98e16-167">[Smart Detection](/azure/azure-monitor/app/proactive-diagnostics) will notice this deviation from the norm and trigger an alert.</span></span> <span data-ttu-id="98e16-168">W tym samym czasie analiza trendu jest na tyle inteligentna, aby uniknąć zapłonu fałszywych wartości dodatnich, gdy oczekiwane jest obciążenie ruchem.</span><span class="sxs-lookup"><span data-stu-id="98e16-168">At the same time, the trend analysis is smart enough to avoid firing false positives when the traffic load is expected.</span></span>

## <a name="references"></a><span data-ttu-id="98e16-169">Odwołania</span><span class="sxs-lookup"><span data-stu-id="98e16-169">References</span></span>

- [<span data-ttu-id="98e16-170">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="98e16-170">Azure Monitor</span></span>](/azure/azure-monitor/overview)

>[!div class="step-by-step"]
><span data-ttu-id="98e16-171">[Poprzedni](monitoring-azure-kubernetes.md) 
> [Dalej](identity.md)</span><span class="sxs-lookup"><span data-stu-id="98e16-171">[Previous](monitoring-azure-kubernetes.md)
[Next](identity.md)</span></span>
