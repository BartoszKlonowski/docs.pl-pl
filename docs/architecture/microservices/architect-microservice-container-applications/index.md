---
title: Tworzenie architektury aplikacji opartych na kontenerach i mikrousługach
description: Projektowanie aplikacji opartych na kontenerach i mikrousługach nie jest małe feat i nie powinno być wykonywane w sposób jasny. Zapoznaj się z podstawowymi pojęciami w tym rozdziale.
ms.date: 09/20/2018
ms.openlocfilehash: aff30c907f1140b94dbcae330ed7cb633b0a744b
ms.sourcegitcommit: f20dd18dbcf2275513281f5d9ad7ece6a62644b4
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/30/2019
ms.locfileid: "70295519"
---
# <a name="architecting-container-and-microservice-based-applications"></a><span data-ttu-id="1ab6b-104">Tworzenie architektury aplikacji opartych na kontenerach i mikrousługach</span><span class="sxs-lookup"><span data-stu-id="1ab6b-104">Architecting container and microservice-based applications</span></span>

<span data-ttu-id="1ab6b-105">*Mikrousługi oferują znakomite korzyści, ale również powodują ogromne nowe wyzwania. Wzorce architektury mikrousług są podstawowymi filarami podczas tworzenia aplikacji opartej na mikrousługach.*</span><span class="sxs-lookup"><span data-stu-id="1ab6b-105">*Microservices offer great benefits but also raise huge new challenges. Microservice architecture patterns are fundamental pillars when creating a microservice-based application.*</span></span>

<span data-ttu-id="1ab6b-106">Wcześniej w tym przewodniku przedstawiono podstawowe pojęcia dotyczące kontenerów i platformy Docker.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-106">Earlier in this guide, you learned basic concepts about containers and Docker.</span></span> <span data-ttu-id="1ab6b-107">To było minimalnych informacji, które trzeba wykonać, aby rozpocząć pracę z kontenerami.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-107">That was the minimum information you needed to get started with containers.</span></span> <span data-ttu-id="1ab6b-108">Chociaż w przypadku kontenerów i doskonałej dopasowania dla mikrousług nie są one obowiązkowe dla architektury mikrousług, a wiele pojęć związanych z architekturą w tej sekcji architektury można zastosować bez kontenerów.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-108">Although, even when containers are enablers and a great fit for microservices, they aren't mandatory for a microservice architecture and many architectural concepts in this architecture section could be applied without containers, too.</span></span> <span data-ttu-id="1ab6b-109">Jednak te wskazówki koncentrują się na przecięciu obu elementów ze względu na już wprowadzone znaczenie kontenerów.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-109">However, this guidance focuses on the intersection of both due to the already introduced importance of containers.</span></span>

<span data-ttu-id="1ab6b-110">Aplikacje dla przedsiębiorstw mogą być złożone i często składają się z wielu usług zamiast pojedynczej aplikacji opartej na usłudze.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-110">Enterprise applications can be complex and are often composed of multiple services instead of a single service-based application.</span></span> <span data-ttu-id="1ab6b-111">W takich przypadkach należy poznać dodatkowe podejścia do architektury, takie jak mikrousługi i pewne wzorce projektowania oparte na domenie (DDD) i koncepcje aranżacji kontenerów.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-111">For those cases, you need to understand additional architectural approaches, such as the microservices and certain Domain-Driven Design (DDD) patterns plus container orchestration concepts.</span></span> <span data-ttu-id="1ab6b-112">Należy zauważyć, że w tym rozdziale opisano nie tylko mikrousługi na kontenerach, ale również w przypadku wszystkich aplikacji kontenerowych.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-112">Note that this chapter describes not just microservices on containers, but any containerized application, as well.</span></span>

## <a name="container-design-principles"></a><span data-ttu-id="1ab6b-113">Zasady projektowania kontenerów</span><span class="sxs-lookup"><span data-stu-id="1ab6b-113">Container design principles</span></span>

<span data-ttu-id="1ab6b-114">W modelu kontenera wystąpienie obrazu kontenera reprezentuje pojedynczy proces.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-114">In the container model, a container image instance represents a single process.</span></span> <span data-ttu-id="1ab6b-115">Definiując obraz kontenera jako granicę procesu, można utworzyć elementy podstawowe, których można użyć do skalowania procesu lub tworzenia wsadowego.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-115">By defining a container image as a process boundary, you can create primitives that can be used to scale the process or to batch it.</span></span>

<span data-ttu-id="1ab6b-116">Podczas projektowania obrazu kontenera zobaczysz definicję [punktu wejścia](https://docs.docker.com/engine/reference/builder/#entrypoint) w pliku dockerfile.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-116">When you design a container image, you'll see an [ENTRYPOINT](https://docs.docker.com/engine/reference/builder/#entrypoint) definition in the Dockerfile.</span></span> <span data-ttu-id="1ab6b-117">Definiuje proces, którego okres istnienia steruje okresem istnienia kontenera.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-117">This defines the process whose lifetime controls the lifetime of the container.</span></span> <span data-ttu-id="1ab6b-118">Po zakończeniu procesu cykl życia kontenera kończy się.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-118">When the process completes, the container lifecycle ends.</span></span> <span data-ttu-id="1ab6b-119">Kontenery mogą reprezentować długotrwałe procesy, takie jak serwery sieci Web, ale mogą również reprezentować procesy krótkoterminowe, takie jak zadania wsadowe, które wcześniej mogły zostać zaimplementowane jako [Zadania WebJob](https://github.com/Azure/azure-webjobs-sdk/wiki)platformy Azure.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-119">Containers might represent long-running processes like web servers, but can also represent short-lived processes like batch jobs, which formerly might have been implemented as Azure [WebJobs](https://github.com/Azure/azure-webjobs-sdk/wiki).</span></span>

<span data-ttu-id="1ab6b-120">Jeśli proces zakończy się niepowodzeniem, kontener kończy się, a koordynator zajmie się.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-120">If the process fails, the container ends, and the orchestrator takes over.</span></span> <span data-ttu-id="1ab6b-121">Jeśli program Orchestrator został skonfigurowany tak, aby nadal działały pięć wystąpień i jeden z nich kończy się niepowodzeniem, program Orchestrator utworzy inne wystąpienie kontenera, aby zastąpić proces zakończony niepowodzeniem.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-121">If the orchestrator was configured to keep five instances running and one fails, the orchestrator will create another container instance to replace the failed process.</span></span> <span data-ttu-id="1ab6b-122">W zadaniu wsadowym proces jest uruchamiany z parametrami.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-122">In a batch job, the process is started with parameters.</span></span> <span data-ttu-id="1ab6b-123">Po zakończeniu procesu pracy zostanie zakończona.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-123">When the process completes, the work is complete.</span></span> <span data-ttu-id="1ab6b-124">Te wskazówki przechodzenia do szczegółów w przypadku programów Orchestrator i nowszych wersji.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-124">This guidance drills-down on orchestrators, later on.</span></span>

<span data-ttu-id="1ab6b-125">Możesz znaleźć scenariusz, w którym wiele procesów działa w jednym kontenerze.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-125">You might find a scenario where you want multiple processes running in a single container.</span></span> <span data-ttu-id="1ab6b-126">W tym scenariuszu, ponieważ może istnieć tylko jeden punkt wejścia dla każdego kontenera, można uruchomić skrypt w kontenerze, który uruchamia dowolną liczbę programów w miarę potrzeb.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-126">For that scenario, since there can be only one entry point per container, you could run a script within the container that launches as many programs as needed.</span></span> <span data-ttu-id="1ab6b-127">Na przykład można użyć [opiekuna](http://supervisord.org/) lub podobnego narzędzia, aby zadbać o uruchomienie wielu procesów wewnątrz jednego kontenera.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-127">For example, you can use [Supervisor](http://supervisord.org/) or a similar tool to take care of launching multiple processes inside a single container.</span></span> <span data-ttu-id="1ab6b-128">Jednak mimo że można znaleźć architektury, które przechowują wiele procesów na kontener, takie podejście nie jest bardzo powszechne.</span><span class="sxs-lookup"><span data-stu-id="1ab6b-128">However, even though you can find architectures that hold multiple processes per container, that approach isn't very common.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="1ab6b-129">[Poprzedni](../net-core-net-framework-containers/official-net-docker-images.md)
>[Następny](containerize-monolithic-applications.md)</span><span class="sxs-lookup"><span data-stu-id="1ab6b-129">[Previous](../net-core-net-framework-containers/official-net-docker-images.md)
[Next](containerize-monolithic-applications.md)</span></span>
