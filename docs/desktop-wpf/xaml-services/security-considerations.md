---
title: Zagadnienia dotyczące zabezpieczeń XAML
ms.date: 03/30/2017
helpviewer_keywords:
- security [XAML Services], .NET XAML services
- XAML security [XAML Services]
ms.assetid: 544296d4-f38e-4498-af49-c9f4dad28964
ms.openlocfilehash: 1864910b339c74e3033fb4d6d8baebffada1a4f8
ms.sourcegitcommit: c2d9718996402993cf31541f11e95531bc68bad0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 02/27/2020
ms.locfileid: "82071690"
---
# <a name="xaml-security-considerations"></a><span data-ttu-id="8a030-102">Zagadnienia dotyczące zabezpieczeń XAML</span><span class="sxs-lookup"><span data-stu-id="8a030-102">XAML security considerations</span></span>

<span data-ttu-id="8a030-103">W tym artykule opisano najlepsze rozwiązania dotyczące zabezpieczeń w aplikacjach podczas korzystania z interfejsu API usług XAML i .NET XAML.</span><span class="sxs-lookup"><span data-stu-id="8a030-103">This article describes best practices for security in applications when you use XAML and .NET XAML Services API.</span></span>

## <a name="untrusted-xaml-in-applications"></a><span data-ttu-id="8a030-104">Niezaufany kod XAML w aplikacjach</span><span class="sxs-lookup"><span data-stu-id="8a030-104">Untrusted XAML in Applications</span></span>

<span data-ttu-id="8a030-105">W najbardziej ogólnym znaczeniu niezaufany kod XAML jest dowolnym źródłem XAML, którego aplikacja nie zawierała specjalnie ani nie emitowała.</span><span class="sxs-lookup"><span data-stu-id="8a030-105">In the most general sense, untrusted XAML is any XAML source that your application did not specifically include or emit.</span></span>

<span data-ttu-id="8a030-106">XAML, który jest kompilowany `resx`do lub przechowywane jako zasób typu typu w zaufanym i podpisanym zestawie nie jest z natury niezaufane.</span><span class="sxs-lookup"><span data-stu-id="8a030-106">XAML that is compiled into or stored as a `resx`-type resource within a trusted and signed assembly is not inherently untrusted.</span></span> <span data-ttu-id="8a030-107">Można ufać XAML tak samo, jak ufasz zestawowi jako całości.</span><span class="sxs-lookup"><span data-stu-id="8a030-107">You can trust the XAML as much as you trust the assembly as a whole.</span></span> <span data-ttu-id="8a030-108">W większości przypadków dotyczy to tylko aspektów zaufania luźnego kodu XAML, który jest źródłem XAML, które można załadować ze strumienia lub innych we/wy.</span><span class="sxs-lookup"><span data-stu-id="8a030-108">In most cases, you are only concerned with the trust aspects of loose XAML, which is a XAML source that you load from a stream or other I/O.</span></span> <span data-ttu-id="8a030-109">Luźny kod XAML nie jest określonym składnikiem ani funkcją modelu aplikacji z infrastrukturą wdrażania i pakowania.</span><span class="sxs-lookup"><span data-stu-id="8a030-109">Loose XAML is not a specific component or feature of an application model with a deployment and packaging infrastructure.</span></span> <span data-ttu-id="8a030-110">Jednak zestaw może implementować zachowanie, które polega na załadowaniu luźne XAML.</span><span class="sxs-lookup"><span data-stu-id="8a030-110">However, an assembly might implement a behavior that involves loading loose XAML.</span></span>

<span data-ttu-id="8a030-111">W przypadku niezaufanego kodu XAML należy traktować go ogólnie tak samo, jak gdyby był niezaufanym kodem.</span><span class="sxs-lookup"><span data-stu-id="8a030-111">For untrusted XAML, you should treat it generally the same as if it were untrusted code.</span></span> <span data-ttu-id="8a030-112">Użyj piaskownicy lub innych metafor, aby uniemożliwić potencjalnie niezaufanym kodom XAML dostęp do zaufanego kodu.</span><span class="sxs-lookup"><span data-stu-id="8a030-112">Use sandboxing or other metaphors to prevent possibly untrusted XAML from accessing your trusted code.</span></span>

<span data-ttu-id="8a030-113">Charakter możliwości XAML daje XAML prawo do konstruowania obiektów i ustawić ich właściwości.</span><span class="sxs-lookup"><span data-stu-id="8a030-113">The nature of XAML capabilities gives the XAML the right to construct objects and set their properties.</span></span> <span data-ttu-id="8a030-114">Te możliwości obejmują również uzyskiwanie dostępu do konwerterów typów, mapowanie i `x:Code` uzyskiwanie dostępu do zestawów w domenie aplikacji, przy użyciu rozszerzeń znaczników, bloków i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="8a030-114">These capabilities also include accessing type converters, mapping and accessing assemblies in the application domain, using markup extensions, `x:Code` blocks, and so on.</span></span>

<span data-ttu-id="8a030-115">Oprócz możliwości na poziomie języka XAML jest używany do definicji interfejsu użytkownika w wielu technologiach.</span><span class="sxs-lookup"><span data-stu-id="8a030-115">In addition to its language-level capabilities, XAML is used for UI definition in many technologies.</span></span> <span data-ttu-id="8a030-116">Ładowanie niezaufanego kodu XAML może oznaczać załadowanie złośliwego interfejsu użytkownika fałszowania.</span><span class="sxs-lookup"><span data-stu-id="8a030-116">Loading untrusted XAML might mean loading a malicious spoofing UI.</span></span>

## <a name="sharing-context-between-readers-and-writers"></a><span data-ttu-id="8a030-117">Udostępnianie kontekstu między czytelnikami i pisarzami</span><span class="sxs-lookup"><span data-stu-id="8a030-117">Sharing Context Between Readers and Writers</span></span>

<span data-ttu-id="8a030-118">Architektura usług .NET XAML services dla czytników XAML i modułów zapisu XAML często wymaga udostępniania czytnika XAML modułowi zapisującego XAML lub udostępnionego kontekstu schematu XAML.</span><span class="sxs-lookup"><span data-stu-id="8a030-118">.NET XAML Services architecture for XAML readers and XAML writers often requires sharing a XAML reader to a XAML writer, or a shared XAML schema context.</span></span> <span data-ttu-id="8a030-119">Udostępnianie obiektów lub kontekstów może być wymagane, jeśli piszesz logikę pętli węzła XAML lub udostępniasz niestandardową ścieżkę zapisu.</span><span class="sxs-lookup"><span data-stu-id="8a030-119">Sharing objects or contexts might be required if you are writing XAML node loop logic, or providing a custom save path.</span></span> <span data-ttu-id="8a030-120">Nie udostępniaj wystąpień czytnika XAML, kontekstu schematu XAML niedefault ani ustawień dla klas czytnika/modułu zapisującego XAML między zaufanym i niezaufanym kodem.</span><span class="sxs-lookup"><span data-stu-id="8a030-120">Don't share XAML reader instances, nondefault XAML schema context, or settings for XAML reader/writer classes between trusted and untrusted code.</span></span>

<span data-ttu-id="8a030-121">Większość scenariuszy i operacji obejmujących zapisywanie obiektów XAML dla kopii zapasowej typu opartego na programie CLR można po prostu użyć domyślnego kontekstu schematu XAML.</span><span class="sxs-lookup"><span data-stu-id="8a030-121">Most scenarios and operations involving XAML object writing for a CLR-based type backing can just use default XAML schema context.</span></span> <span data-ttu-id="8a030-122">Domyślny kontekst schematu XAML nie zawiera jawnie ustawień, które mogłyby naruszyć pełne zaufanie.</span><span class="sxs-lookup"><span data-stu-id="8a030-122">The default XAML schema context does not explicitly include settings that could compromise full trust.</span></span> <span data-ttu-id="8a030-123">Dlatego bezpiecznie jest udostępniać kontekst między zaufanymi i niezaufanymi składnikami czytnika/modułu zapisującego XAML.</span><span class="sxs-lookup"><span data-stu-id="8a030-123">It is thus safe to share context between trusted and untrusted XAML reader/writer components.</span></span> <span data-ttu-id="8a030-124">Jednak jeśli to zrobisz, nadal jest najlepszym rozwiązaniem, aby zachować takich czytelników i pisarzy w oddzielnych <xref:System.AppDomain> zakresach, z jednym z nich specjalnie przeznaczone/piaskownicy dla częściowego zaufania.</span><span class="sxs-lookup"><span data-stu-id="8a030-124">However, if you do this, it is still a best practice to keep such readers and writers in separate <xref:System.AppDomain> scopes, with one of them specifically intended/sandboxed for partial trust.</span></span>

## <a name="xaml-namespaces-and-assembly-trust"></a><span data-ttu-id="8a030-125">Przestrzenie nazw xaml i zaufanie do zestawu</span><span class="sxs-lookup"><span data-stu-id="8a030-125">XAML Namespaces and Assembly Trust</span></span>

<span data-ttu-id="8a030-126">Podstawowa niewykwalifikowanych składni i definicja sposobu, w jaki XAML interpretuje niestandardowe mapowanie przestrzeni nazw XAML do zestawu, nie rozróżnia zestawu zaufanego i niezaufanego jako załadowanego do domeny aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8a030-126">The basic unqualified syntax and definition for how XAML interprets a custom XAML namespace mapping to an assembly does not distinguish between a trusted and untrusted assembly as loaded into the application domain.</span></span> <span data-ttu-id="8a030-127">W związku z tym jest technicznie możliwe dla niezaufanego zestawu do fałszowania zaufanego zestawu zamierzonego mapowania przestrzeni nazw XAML i przechwytywania źródła XAML zadeklarowanych informacji o obiekcie i właściwości.</span><span class="sxs-lookup"><span data-stu-id="8a030-127">Thus, it is technically possible for an untrusted assembly to spoof a trusted assembly's intended XAML namespace mapping and capture a XAML source's declared object and property information.</span></span> <span data-ttu-id="8a030-128">Jeśli masz wymagania dotyczące zabezpieczeń, aby uniknąć tej sytuacji, zamierzone mapowanie obszaru nazw XAML powinno być wykonane przy użyciu jednej z następujących technik:</span><span class="sxs-lookup"><span data-stu-id="8a030-128">If you have security requirements to avoid this situation, your intended XAML namespace mapping should be made using one of the following techniques:</span></span>

- <span data-ttu-id="8a030-129">Użyj w pełni kwalifikowanej nazwy zestawu o silnej nazwie w dowolnym mapowaniu przestrzeni nazw XAML wykonanego przez xaml aplikacji.</span><span class="sxs-lookup"><span data-stu-id="8a030-129">Use a fully qualified assembly name with strong name in any XAML namespace mapping made by your application's XAML.</span></span>

- <span data-ttu-id="8a030-130">Ogranicz mapowanie zestawu do stałego zestawu zestawów odwołań, konstruując określone <xref:System.Xaml.XamlSchemaContext> dla czytników XAML i modułów zapisujących obiekt XAML.</span><span class="sxs-lookup"><span data-stu-id="8a030-130">Restrict assembly mapping to a fixed set of reference assemblies, by constructing a specific <xref:System.Xaml.XamlSchemaContext> for your XAML readers and XAML object writers.</span></span> <span data-ttu-id="8a030-131">Zobacz: <xref:System.Xaml.XamlSchemaContext.%23ctor%28System.Collections.Generic.IEnumerable%7BSystem.Reflection.Assembly%7D%29>.</span><span class="sxs-lookup"><span data-stu-id="8a030-131">See <xref:System.Xaml.XamlSchemaContext.%23ctor%28System.Collections.Generic.IEnumerable%7BSystem.Reflection.Assembly%7D%29>.</span></span>

## <a name="xaml-type-mapping-and-type-system-access"></a><span data-ttu-id="8a030-132">Mapowanie typu XAML i dostęp do systemu typu</span><span class="sxs-lookup"><span data-stu-id="8a030-132">XAML Type Mapping and Type System Access</span></span>

<span data-ttu-id="8a030-133">XAML obsługuje swój własny system typów, który pod wieloma względami jest równorzędnym sposobem implementowania podstawowego systemu typu CLR.</span><span class="sxs-lookup"><span data-stu-id="8a030-133">XAML supports its own type system, which in many ways is a peer to how CLR implements the basic CLR type system.</span></span> <span data-ttu-id="8a030-134">Jednak w przypadku niektórych aspektów świadomości typu, w którym podejmujesz decyzje dotyczące zaufania dotyczące typu na podstawie informacji o typie, należy odroczyć informacje o typie w typach kopii CLR.</span><span class="sxs-lookup"><span data-stu-id="8a030-134">However, for certain aspects of type awareness where you are making trust decisions about a type based on its type information, you should defer to the type information in the CLR backing types.</span></span> <span data-ttu-id="8a030-135">Dzieje się tak, ponieważ niektóre z określonych możliwości raportowania systemu typu XAML pozostają otwarte jako metody wirtualne i dlatego nie są w pełni pod kontrolą oryginalnych implementacji usług .NET XAML Services.</span><span class="sxs-lookup"><span data-stu-id="8a030-135">This is because some of the specific reporting capabilities of the XAML type system are left open as virtual methods and are therefore, not fully under the control of the original .NET XAML Services implementations.</span></span> <span data-ttu-id="8a030-136">Te punkty rozszerzalności istnieją, ponieważ system typu XAML jest rozszerzalny, aby dopasować rozszerzalność samego XAML i jego możliwych alternatywnych strategii mapowania typów w porównaniu z domyślną implementacją wspieraną przez program CLR i domyślnym kontekstem schematu XAML.</span><span class="sxs-lookup"><span data-stu-id="8a030-136">These extensibility points exist because the XAML type system is extensible, to match the extensibility of XAML itself and its possible alternative type-mapping strategies versus the default CLR-backed implementation and default XAML schema context.</span></span> <span data-ttu-id="8a030-137">Aby uzyskać więcej informacji, zobacz szczegółowe uwagi <xref:System.Xaml.XamlType> na <xref:System.Xaml.XamlMember>temat kilku właściwości i .</span><span class="sxs-lookup"><span data-stu-id="8a030-137">For more information, see the specific notes on several of the properties of <xref:System.Xaml.XamlType> and <xref:System.Xaml.XamlMember>.</span></span>

## <a name="see-also"></a><span data-ttu-id="8a030-138">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="8a030-138">See also</span></span>

- <xref:System.Xaml.Permissions.XamlAccessLevel>
