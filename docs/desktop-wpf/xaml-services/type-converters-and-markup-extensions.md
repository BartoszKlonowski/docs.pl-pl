---
title: Typy konwerterów i rozszerzenia znaczników dla XAML
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [XAML Services], type converter services
- XAML [XAML Services], value converters
- XAML [XAML Services], markup extension services
- value converters for XAML [XAML Services]
- XAML [XAML Services], service context
ms.assetid: db07a952-05ce-4aa4-b6f9-aac7397d0326
ms.openlocfilehash: bee94b03d4fd6e6f5ef8571e83f554b381dd6582
ms.sourcegitcommit: c2d9718996402993cf31541f11e95531bc68bad0
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 02/27/2020
ms.locfileid: "82071655"
---
# <a name="type-converters-and-markup-extensions-for-xaml"></a><span data-ttu-id="f0636-102">Typy konwerterów i rozszerzenia znaczników dla XAML</span><span class="sxs-lookup"><span data-stu-id="f0636-102">Type Converters and Markup Extensions for XAML</span></span>

<span data-ttu-id="f0636-103">Konwertery typów i rozszerzenia znaczników to dwie techniki używane przez systemy typu XAML i moduły zapisu XAML do generowania składników wykresu obiektów.</span><span class="sxs-lookup"><span data-stu-id="f0636-103">Type converters and markup extensions are two techniques that XAML type systems and XAML writers use to generate object graph components.</span></span> <span data-ttu-id="f0636-104">Chociaż mają one pewne cechy, konwertery typów i rozszerzenia znaczników są reprezentowane inaczej w strumieniu węzła XAML.</span><span class="sxs-lookup"><span data-stu-id="f0636-104">Although they share some characteristics, type converters and markup extensions are represented differently in a XAML node stream.</span></span> <span data-ttu-id="f0636-105">W tym zestawie dokumentacji konwertery typów, rozszerzenia znaczników i podobne konstrukcje są czasami zbiorczo określane jako konwertery wartości.</span><span class="sxs-lookup"><span data-stu-id="f0636-105">In this documentation set, type converters, markup extensions, and similar constructs are sometimes collectively referred to as value converters.</span></span>

## <a name="value-converters"></a><span data-ttu-id="f0636-106">Konwertery wartości</span><span class="sxs-lookup"><span data-stu-id="f0636-106">Value Converters</span></span>

<span data-ttu-id="f0636-107">W języku XAML konwertery wartości są używane w różnych scenariuszach.</span><span class="sxs-lookup"><span data-stu-id="f0636-107">In XAML, value converters are used for various scenarios.</span></span> <span data-ttu-id="f0636-108">Na poniższej liście przedstawiono różne typy konwerterów wartości w języku XAML:</span><span class="sxs-lookup"><span data-stu-id="f0636-108">The following list shows the different types of value converters in XAML:</span></span>

- <span data-ttu-id="f0636-109">Konwerter typów</span><span class="sxs-lookup"><span data-stu-id="f0636-109">Type converter</span></span>

- <span data-ttu-id="f0636-110">Rozszerzenie znaczników</span><span class="sxs-lookup"><span data-stu-id="f0636-110">Markup extension</span></span>

- <span data-ttu-id="f0636-111">Serializator wartości</span><span class="sxs-lookup"><span data-stu-id="f0636-111">Value serializer</span></span>

- <span data-ttu-id="f0636-112">Pokrewna klasa lub klasa pomocy technicznej, która udostępnia logikę składni tekstu XAML</span><span class="sxs-lookup"><span data-stu-id="f0636-112">Related class or support class that provides the logic for a XAML text syntax</span></span>

## <a name="type-converters"></a><span data-ttu-id="f0636-113">Konwertery typów</span><span class="sxs-lookup"><span data-stu-id="f0636-113">Type Converters</span></span>

<span data-ttu-id="f0636-114">W definicji usług .NET XAML konwertery typów <xref:System.ComponentModel.TypeConverter> są klasy, które pochodzą z klasy CLR.</span><span class="sxs-lookup"><span data-stu-id="f0636-114">In .NET XAML Services definition, type converters are classes that derive from the CLR <xref:System.ComponentModel.TypeConverter> class.</span></span> <span data-ttu-id="f0636-115"><xref:System.ComponentModel.TypeConverter>jest klasą, która była w .NET przed XAML istniał.</span><span class="sxs-lookup"><span data-stu-id="f0636-115"><xref:System.ComponentModel.TypeConverter> is a class that was in the .NET before XAML existed.</span></span> <span data-ttu-id="f0636-116">Jego pierwotnym celem było obsługa okien właściwości i podobnych metafor edycji tekstowych dla właściwości IDE.</span><span class="sxs-lookup"><span data-stu-id="f0636-116">Its original purpose was to support property windows and similar text-based editing metaphors for IDE properties.</span></span> <span data-ttu-id="f0636-117">Wprowadzenie formatu XAML do <xref:System.ComponentModel.TypeConverter> platformy .NET służy do konwertowania składni tekstu (znalezionej w wartości atrybutu lub węzła wartości XAML) na obiekt.</span><span class="sxs-lookup"><span data-stu-id="f0636-117">The introduction of XAML to .NET uses <xref:System.ComponentModel.TypeConverter> to convert a text syntax (as found in an attribute value or a XAML value node) into an object.</span></span> <span data-ttu-id="f0636-118"><xref:System.ComponentModel.TypeConverter>może być również używany do serializacji wartości obiektu do składni tekstu.</span><span class="sxs-lookup"><span data-stu-id="f0636-118"><xref:System.ComponentModel.TypeConverter> can also be used to serialize an object value to text syntax.</span></span> <span data-ttu-id="f0636-119"><xref:System.ComponentModel.TypeConverter>był również używany w poprzednich implementacjach XAML specyficznych dla struktury w Windows Presentation Foundation (WPF) i Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="f0636-119"><xref:System.ComponentModel.TypeConverter> was also used in previous framework-specific XAML implementations in Windows Presentation Foundation (WPF) and Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="f0636-120">Aby uzyskać więcej <xref:System.ComponentModel.TypeConverter> informacji na temat w języku XAML, zobacz [Konwertery typów dla XAML Overview](type-converters-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f0636-120">For more information about the <xref:System.ComponentModel.TypeConverter> in XAML, see [Type Converters for XAML Overview](type-converters-overview.md).</span></span>

## <a name="markup-extensions"></a><span data-ttu-id="f0636-121">Rozszerzenia struktury znaczników</span><span class="sxs-lookup"><span data-stu-id="f0636-121">Markup Extensions</span></span>

<span data-ttu-id="f0636-122">W implementacji usług .NET XAML rozszerzenia znaczników są <xref:System.Windows.Markup.MarkupExtension> klasy, które pochodzą z klasy.</span><span class="sxs-lookup"><span data-stu-id="f0636-122">In .NET XAML Services implementation, markup extensions are classes that derive from the <xref:System.Windows.Markup.MarkupExtension> class.</span></span> <span data-ttu-id="f0636-123">Rozszerzenia znaczników to koncepcja, która w tym formularzu jest pochodząca z języka XAML.</span><span class="sxs-lookup"><span data-stu-id="f0636-123">Markup extensions are a concept that in this form is originated by the XAML language.</span></span> <span data-ttu-id="f0636-124">Rozszerzenie znaczników można myśleć jako coś jak rozszerzalna sekwencja ucieczki, która wywołuje do klasy usługi, aby zapewnić jego logikę.</span><span class="sxs-lookup"><span data-stu-id="f0636-124">You can think of a markup extension as being something like an extensible escape sequence that calls into a service class to provide its logic.</span></span> <span data-ttu-id="f0636-125">Pod względem znaczników procesory XAML powszechnie rozpoznają rozszerzenie znaczników za pomocą sekwencji tekstowej, która rozpoczyna się od nawiasu klamrowego otwierającego ({) w ciągu tekstowym.</span><span class="sxs-lookup"><span data-stu-id="f0636-125">In terms of markup, XAML processors universally recognize a markup extension by a text sequence that starts with an opening brace ({) in a text string.</span></span>

<span data-ttu-id="f0636-126">Rozszerzenia znaczników różnią się od konwerterów typów.</span><span class="sxs-lookup"><span data-stu-id="f0636-126">Markup extensions differ from type converters.</span></span> <span data-ttu-id="f0636-127">Konwertery typów są zazwyczaj skojarzone z typami lub członkami.</span><span class="sxs-lookup"><span data-stu-id="f0636-127">Type converters are typically associated with types or members.</span></span> <span data-ttu-id="f0636-128">Są one wywoływane, gdy tworzenie wykresu obiektu lub serializacji napotka składnię tekstu, która jest skojarzona z tymi jednostkami.</span><span class="sxs-lookup"><span data-stu-id="f0636-128">They are invoked when an object graph creation or a serialization encounters text syntax that is associated with those entities.</span></span>

<span data-ttu-id="f0636-129">Rozszerzenia znaczników są skojarzone z pojedynczą klasą usługi pomocniczej, ale można zastosować do dowolnej wartości elementu członkowskiego.</span><span class="sxs-lookup"><span data-stu-id="f0636-129">Markup extensions are associated with a single supporting service class, but can be applied for any member value.</span></span> <span data-ttu-id="f0636-130">(Można jednak zaimplementować rozszerzenie znaczników, aby celowo ograniczyć jego użycie do niektórych elementów członkowskich lub typów docelowych przy użyciu kontekstu usługi). Rozszerzenia znaczników mogą zastąpić skojarzenie konwertera typów.</span><span class="sxs-lookup"><span data-stu-id="f0636-130">(However, you can implement your markup extension to deliberately restrict its use to certain members or destination types, by using service context.) Markup extensions can override a type converter association.</span></span> <span data-ttu-id="f0636-131">Można ich użyć do określenia wartości atrybutu dla elementów członkowskich, które w przeciwnym razie nie będą obsługiwać składni tekstu.</span><span class="sxs-lookup"><span data-stu-id="f0636-131">Or you can use them to specify an attribute value for members that would not otherwise support a text syntax.</span></span>

<span data-ttu-id="f0636-132">Aby uzyskać więcej informacji na temat wzorca implementacji rozszerzenia znaczników dla XAML, zobacz [Rozszerzenia znaczników dla XAML Overview](markup-extensions-overview.md).</span><span class="sxs-lookup"><span data-stu-id="f0636-132">For more information about the markup extension implementation pattern for XAML, see [Markup Extensions for XAML Overview](markup-extensions-overview.md).</span></span>

## <a name="value-serializers"></a><span data-ttu-id="f0636-133">Serializatory wartości</span><span class="sxs-lookup"><span data-stu-id="f0636-133">Value Serializers</span></span>

<span data-ttu-id="f0636-134">A <xref:System.Windows.Markup.ValueSerializer> jest konwerterem typu wyspecjalizowanego, który jest zoptymalizowany do konwersji obiektu na ciąg.</span><span class="sxs-lookup"><span data-stu-id="f0636-134">A <xref:System.Windows.Markup.ValueSerializer> is a specialized type converter that is optimized for converting an object to a string.</span></span> <span data-ttu-id="f0636-135">A <xref:System.Windows.Markup.ValueSerializer> dla XAML może `ConvertFrom` nie implementować metody w ogóle.</span><span class="sxs-lookup"><span data-stu-id="f0636-135">A <xref:System.Windows.Markup.ValueSerializer> for XAML might not implement the `ConvertFrom` method at all.</span></span> <span data-ttu-id="f0636-136">Implementacja <xref:System.Windows.Markup.ValueSerializer> uzyskuje usługi w sposób, <xref:System.ComponentModel.TypeConverter> który jest podobny do implementacji.</span><span class="sxs-lookup"><span data-stu-id="f0636-136">A <xref:System.Windows.Markup.ValueSerializer> implementation obtains services in a manner that is like a <xref:System.ComponentModel.TypeConverter> implementation.</span></span> <span data-ttu-id="f0636-137">Metody wirtualne zapewniają `context` parametr wejściowy.</span><span class="sxs-lookup"><span data-stu-id="f0636-137">The virtual methods provide an input `context` parameter.</span></span> <span data-ttu-id="f0636-138">Parametr `context` jest typu <xref:System.Windows.Markup.IValueSerializerContext>, który dziedziczy z <xref:System.IServiceProvider> <xref:System.IServiceProvider.GetService%2A> interfejsu i ma metodę.</span><span class="sxs-lookup"><span data-stu-id="f0636-138">The `context` parameter is of type <xref:System.Windows.Markup.IValueSerializerContext>, which inherits from the <xref:System.IServiceProvider> interface and has a <xref:System.IServiceProvider.GetService%2A> method.</span></span>

<span data-ttu-id="f0636-139">W systemie typu XAML i dla implementacji modułu zapisującego XAML, które używają przetwarzania pętli węzłów XAML do <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> serializacji, konwerter wartości skojarzony z typem lub elementem członkowskim jest zgłaszany przez własną właściwość.</span><span class="sxs-lookup"><span data-stu-id="f0636-139">In the XAML type system and for XAML writer implementations that use XAML node loop processing for serialization, a value converter that is associated with a type or member is reported by its own <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="f0636-140">Znaczenie dla modułów zapisu XAML, <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> które <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> wykonują serializacji jest, że jeśli i istnieje, konwerter typu powinny być używane dla ścieżki ładowania i serializatora wartości powinny być używane dla ścieżki zapisywania.</span><span class="sxs-lookup"><span data-stu-id="f0636-140">The meaning to XAML writers that perform serialization is that if a <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> and <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> exist, the type converter should be used for the load path and the value serializer should be used for the save path.</span></span> <span data-ttu-id="f0636-141">Jeśli <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> istnieje, <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> `null`ale jest , konwerter typów jest również używany dla ścieżki zapisywania.</span><span class="sxs-lookup"><span data-stu-id="f0636-141">If <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> exists but <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> is `null`, the type converter is also used for the save path.</span></span>

## <a name="other-value-converters"></a><span data-ttu-id="f0636-142">Inne konwertery wartości</span><span class="sxs-lookup"><span data-stu-id="f0636-142">Other Value Converters</span></span>

<span data-ttu-id="f0636-143">Konwerter wartości jest rozszerzalny poza określone wzorce konwertera typu lub rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="f0636-143">A value converter is extensible beyond the specific patterns of a type converter or a markup extension.</span></span> <span data-ttu-id="f0636-144">Jednak to dostosowanie wymagałoby również ponownego zdefiniowania systemu typu XAML, zgodnie z usługami .NET XAML Services.</span><span class="sxs-lookup"><span data-stu-id="f0636-144">However, this customization would also require the redefinition of the XAML type system as provided by .NET XAML Services.</span></span> <span data-ttu-id="f0636-145">Istniejący system typów XAML ma reprezentacje i systemy raportowania dla konwerterów typów, rozszerzeń znaczników i serializatorów wartości, ale nie dla niestandardowych form konwersji wartości.</span><span class="sxs-lookup"><span data-stu-id="f0636-145">The existing XAML type system has representations and reporting systems for type converters, markup extensions, and value serializers, but not for custom forms of value conversion.</span></span> <span data-ttu-id="f0636-146">Jeśli chcesz utworzyć konwertery wartości <xref:System.Xaml.Schema.XamlValueConverter%601> niestandardowych, użyj tego typu.</span><span class="sxs-lookup"><span data-stu-id="f0636-146">If you want to create custom value converters, use the <xref:System.Xaml.Schema.XamlValueConverter%601> type.</span></span>

## <a name="type-converters-and-markup-extensions-in-combination"></a><span data-ttu-id="f0636-147">Typ konwertery i rozszerzenia znaczników w kombinacji</span><span class="sxs-lookup"><span data-stu-id="f0636-147">Type Converters and Markup Extensions in Combination</span></span>

<span data-ttu-id="f0636-148">Rozszerzenia znaczników i konwertery typów są używane w różnych sytuacjach w języku XAML.</span><span class="sxs-lookup"><span data-stu-id="f0636-148">Markup extensions and type converters are used for different situations in XAML.</span></span> <span data-ttu-id="f0636-149">Chociaż kontekst jest dostępny dla użycia rozszerzenia znaczników, zachowanie konwersji typu właściwości, w których rozszerzenie znaczników zapewnia wartość, zazwyczaj nie jest sprawdzane w implementacjach rozszerzenia znaczników.</span><span class="sxs-lookup"><span data-stu-id="f0636-149">Although context is available for markup extension usages, type conversion behavior of properties where a markup extension provides a value is generally is not checked in the markup extension implementations.</span></span> <span data-ttu-id="f0636-150">Innymi słowy, nawet jeśli rozszerzenie znaczników zwraca `ProvideValue` ciąg tekstowy jako jego dane wyjściowe, zachowanie konwersji typu na tym ciągu, stosowane do określonej właściwości lub typ wartości właściwości nie jest wywoływana.</span><span class="sxs-lookup"><span data-stu-id="f0636-150">In other words, even if a markup extension returns a text string as its `ProvideValue` output, type conversion behavior on that string as applied to a specific property or property value type is not invoked.</span></span> <span data-ttu-id="f0636-151">Ogólnie rzecz biorąc celem rozszerzenia znaczników jest przetwarzanie ciągu i zwracanie obiektu bez dowolnego typu konwertera zaangażowanych.</span><span class="sxs-lookup"><span data-stu-id="f0636-151">Generally, the purpose of a markup extension is to process a string and return an object without any type converter involved.</span></span>

## <a name="service-context-for-a-value-converter"></a><span data-ttu-id="f0636-152">Kontekst usługi dla konwertera wartości</span><span class="sxs-lookup"><span data-stu-id="f0636-152">Service Context for a Value Converter</span></span>

<span data-ttu-id="f0636-153">Podczas implementowania konwertera wartości często potrzebny jest dostęp do kontekstu, w którym stosuje się konwerter wartości.</span><span class="sxs-lookup"><span data-stu-id="f0636-153">When you implement a value converter, you often need access to a context in which the value converter is applied.</span></span> <span data-ttu-id="f0636-154">Ten kontekst jest znany jako kontekst usługi.</span><span class="sxs-lookup"><span data-stu-id="f0636-154">This context is known as the service context.</span></span> <span data-ttu-id="f0636-155">Kontekst usługi może zawierać informacje, takie jak aktywny kontekst schematu XAML, dostęp do systemu mapowania typów, który zapewnia kontekst schematu XAML i moduł zapisujący obiekty XAML i tak dalej.</span><span class="sxs-lookup"><span data-stu-id="f0636-155">The service context might include information such as the active XAML schema context, access to the type-mapping system that the XAML schema context and XAML object writer provide, and so on.</span></span> <span data-ttu-id="f0636-156">Aby uzyskać więcej informacji na temat kontekstów usługi dostępnych dla konwertera wartości i sposobu uzyskiwania dostępu do usług, które może zapewnić kontekst usługi, zobacz [Konteksty usług dostępne dla konwerterów typów i rozszerzenia znaczników](service-contexts-with-type-converters-and-markup-extensions.md).</span><span class="sxs-lookup"><span data-stu-id="f0636-156">For more information about the service contexts available for a value converter and how to access the services that a service context might provide, see [Service Contexts Available to Type Converters and Markup Extensions](service-contexts-with-type-converters-and-markup-extensions.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="f0636-157">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="f0636-157">See also</span></span>

- <xref:System.Windows.Markup.MarkupExtension>
- <xref:System.Xaml.XamlObjectWriter>
- [<span data-ttu-id="f0636-158">Rozszerzenia znaczników dla przeglądu XAML</span><span class="sxs-lookup"><span data-stu-id="f0636-158">Markup Extensions for XAML Overview</span></span>](markup-extensions-overview.md)
- [<span data-ttu-id="f0636-159">Typy konwerterów dla XAML — Omówienie</span><span class="sxs-lookup"><span data-stu-id="f0636-159">Type Converters for XAML Overview</span></span>](type-converters-overview.md)
- [<span data-ttu-id="f0636-160">Konteksty usług dostępne dla typów konwerterów i rozszerzeń znaczników</span><span class="sxs-lookup"><span data-stu-id="f0636-160">Service Contexts Available to Type Converters and Markup Extensions</span></span>](service-contexts-with-type-converters-and-markup-extensions.md)
