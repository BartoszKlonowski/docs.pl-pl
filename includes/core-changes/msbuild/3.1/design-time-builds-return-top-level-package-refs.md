---
ms.openlocfilehash: 53840ddd59ae3463bae2930fd0151ab2cd2d65cb
ms.sourcegitcommit: e301979e3049ce412d19b094c60ed95b316a8f8c
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 12/16/2020
ms.locfileid: "97593331"
---
### <a name="design-time-builds-only-return-top-level-package-references"></a><span data-ttu-id="59301-101">Kompilacje w czasie projektowania zwracają tylko odwołania do pakietów najwyższego poziomu</span><span class="sxs-lookup"><span data-stu-id="59301-101">Design-time builds only return top-level package references</span></span>

<span data-ttu-id="59301-102">W zestaw .NET Core SDK 3.1.400 są zwracane tylko odwołania do pakietów najwyższego poziomu `RunResolvePackageDependencies` .</span><span class="sxs-lookup"><span data-stu-id="59301-102">Starting in .NET Core SDK 3.1.400, only top-level package references are returned by the `RunResolvePackageDependencies` target.</span></span>

#### <a name="version-introduced"></a><span data-ttu-id="59301-103">Wprowadzona wersja</span><span class="sxs-lookup"><span data-stu-id="59301-103">Version introduced</span></span>

<span data-ttu-id="59301-104">Zestaw .NET Core SDK 3.1.400</span><span class="sxs-lookup"><span data-stu-id="59301-104">.NET Core SDK 3.1.400</span></span>

#### <a name="change-description"></a><span data-ttu-id="59301-105">Zmień opis</span><span class="sxs-lookup"><span data-stu-id="59301-105">Change description</span></span>

<span data-ttu-id="59301-106">W poprzednich wersjach zestaw .NET Core SDK `RunResolvePackageDependencies` obiekt docelowy utworzył następujące elementy programu MSBuild, które zawierały informacje z pliku zasobów NuGet:</span><span class="sxs-lookup"><span data-stu-id="59301-106">In previous versions of the .NET Core SDK, the `RunResolvePackageDependencies` target created the following MSBuild items that contained information from the NuGet assets file:</span></span>

- `PackageDefinitions`
- `PackageDependencies`
- `TargetDefinitions`
- `FileDefinitions`
- `FileDependencies`

<span data-ttu-id="59301-107">Te dane są używane przez program Visual Studio do wypełniania węzła zależności w Eksplorator rozwiązań.</span><span class="sxs-lookup"><span data-stu-id="59301-107">This data is used by Visual Studio to populate the Dependencies node in Solution Explorer.</span></span> <span data-ttu-id="59301-108">Jednak może to być duża ilość danych, a dane nie są konieczne, chyba że węzeł zależności jest rozwinięty.</span><span class="sxs-lookup"><span data-stu-id="59301-108">However, it can be a large amount of data, and the data isn't needed unless the Dependencies node is expanded.</span></span>

<span data-ttu-id="59301-109">Począwszy od zestaw .NET Core SDK w wersji 3.1.400 większość z tych elementów nie jest generowana domyślnie.</span><span class="sxs-lookup"><span data-stu-id="59301-109">Starting in the .NET Core SDK version 3.1.400, most of these items aren't generated by default.</span></span> <span data-ttu-id="59301-110">Zwracane są tylko elementy typu `Package` .</span><span class="sxs-lookup"><span data-stu-id="59301-110">Only items of type `Package` are returned.</span></span> <span data-ttu-id="59301-111">Jeśli program Visual Studio potrzebuje elementów do wypełnienia węzła zależności, odczytuje informacje bezpośrednio z pliku Assets.</span><span class="sxs-lookup"><span data-stu-id="59301-111">If Visual Studio needs the items to populate the Dependencies node, it reads the information directly from the assets file.</span></span>

#### <a name="reason-for-change"></a><span data-ttu-id="59301-112">Przyczyna zmiany</span><span class="sxs-lookup"><span data-stu-id="59301-112">Reason for change</span></span>

<span data-ttu-id="59301-113">Ta zmiana została wprowadzona w celu zwiększenia wydajności ładowania rozwiązań w programie Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="59301-113">This changed was introduced to improve solution-load performance inside of Visual Studio.</span></span> <span data-ttu-id="59301-114">Poprzednio wszystkie odwołania do pakietów zostaną załadowane, co wiąże się z ładowaniem wielu odwołań, które nigdy nie będą wyświetlane dla większości użytkowników.</span><span class="sxs-lookup"><span data-stu-id="59301-114">Previously, all package references would be loaded, which involved loading many references that most users would never view.</span></span>

#### <a name="recommended-action"></a><span data-ttu-id="59301-115">Zalecana akcja</span><span class="sxs-lookup"><span data-stu-id="59301-115">Recommended action</span></span>

<span data-ttu-id="59301-116">Jeśli masz logikę programu MSBuild, która zależy od tych elementów, należy ustawić `EmitLegacyAssetsFileItems` Właściwość na `true` w pliku projektu.</span><span class="sxs-lookup"><span data-stu-id="59301-116">If you have MSBuild logic that depends on these items being created, set the `EmitLegacyAssetsFileItems` property to `true` in your project file.</span></span> <span data-ttu-id="59301-117">To ustawienie włącza poprzednie zachowanie w przypadku tworzenia wszystkich elementów.</span><span class="sxs-lookup"><span data-stu-id="59301-117">This setting enables the previous behavior where all the items are created.</span></span>

#### <a name="category"></a><span data-ttu-id="59301-118">Kategoria</span><span class="sxs-lookup"><span data-stu-id="59301-118">Category</span></span>

<span data-ttu-id="59301-119">MSBuild</span><span class="sxs-lookup"><span data-stu-id="59301-119">MSBuild</span></span>

#### <a name="affected-apis"></a><span data-ttu-id="59301-120">Dotyczy interfejsów API</span><span class="sxs-lookup"><span data-stu-id="59301-120">Affected APIs</span></span>

<span data-ttu-id="59301-121">Nie dotyczy</span><span class="sxs-lookup"><span data-stu-id="59301-121">N/A</span></span>
