### <a name="wpf-treeviewitem-must-be-used-within-a-treeview"></a>Element TreeViewItem WPF należy użyć w ramach elementu TreeView

|   |   |
|---|---|
|Szczegóły|Wprowadzono zmiany w 4.5, która ogranicza użycie <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> elementów poza <xref:System.Windows.Controls.TreeView?displayProperty=name>. Manifesty to w następujących warunkach:<ul><li><xref:System.Windows.Controls.TreeViewItem?displayProperty=name>w wizualny obiekt nadrzędny nie jest elementem panel. (A <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> wygenerowany dla <xref:System.Windows.Controls.TreeView?displayProperty=name> będzie miał panelu jako własny element nadrzędny)</li><li><xref:System.Windows.Controls.TreeViewItem?displayProperty=name> Jest elementem potomnym <xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=name> działający jako &quot;hosta elementów&quot; formantu listy (ListBox DataGrid, ListView, itp.). Wirtualizacji nie muszą być włączone.</li><li><xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=name> Jest przewijanie elementu (<code>ScrollUnit=&quot;Item&quot;</code>).</li><li>Ktoś wywołuje <code>VirtualizingStackPanel.MakeVisible(v)</code> przewijanie element <code>v</code> do widoku. Można to zrobić jawnie lub niejawnie na kilka różnych sposobów; przykład najbardziej typowe sposób jest po prostu kliknięcie <code>v</code> Aby ustawić fokus klawiatury.</li><li>Łańcuch nadrzędnego visual z <code>v</code> do <xref:System.Windows.Controls.VirtualizingStackPanel?displayProperty=name> przechodzi przez <xref:System.Windows.Controls.TreeViewItem?displayProperty=name>.</li></ul>Innymi słowy, jest to widoczne podczas <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> jest używana poza <xref:System.Windows.Controls.TreeView?displayProperty=name>, a użytkownik kliknie element podrzędny <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> do dostosowania do widoku. Jeśli <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> nie ma focusable elementów podrzędnych, zostanie wyświetlony ten problem. Przykład sytuacji, gdy jest to trafień jest gdy <xref:System.Windows.Controls.TreeViewItem?displayProperty=name> główny obiekt DataTemplate. Po wybraniu tego problemu, brak invalidcastexception —, który występuje w ramach WPF.|
|Sugestia|Poprawki będą dostępne dla tego.|
|Zakres|Pomocnicza|
|Wersja|4.5|
|Typ|środowisko uruchomieniowe|

