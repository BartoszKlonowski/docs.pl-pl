### <a name="connection-pool-blocking-period-for-azure-sql-databases-is-removed"></a>Blokowanie okres baz danych Azure SQL puli połączeń jest usuwany.

|   |   |
|---|---|
|Szczegóły|Począwszy od programu .NET Framework 4.6.2 połączenia Otwórz żądania do znanego baz danych Azure SQL (*. database.windows.net, *. database.chinacloudapi.cn, *. database.usgovcloudapi.net, *. database.cloudapi.de), to blokującego okres puli połączeń usunięty, i otwórz błędów połączenia nie są buforowane. Próbami ponowienia otwartych żądań połączenia zostanie przeprowadzona niemal natychmiast po wystąpieniu błędów przejściowych połączenia. Ta zmiana umożliwia Otwórz próba ponowienia natychmiast baz danych Azure SQL, w celu poprawy wydajności aplikacji w chmurze — włączone. Dla wszystkich innych prób połączenia połączenia czasu blokowania puli nadal mają być egzekwowane.<p/>W programie .NET Framework 4.6.1 i wcześniejszych wersjach, gdy aplikacja napotka błąd przejściowy połączenia podczas nawiązywania połączenia z bazą danych, próba połączenia nie może zostać powtórzone szybko, ponieważ puli połączeń buforuje błędu i ponownie zgłasza wyjątek 5 sekund na 1 minuta. Aby uzyskać więcej informacji, zobacz [programu SQL Server połączenia buforowanie (ADO.NET)](~/docs/framework/data/adonet/sql-server-connection-pooling.md). To zachowanie jest powodować problemy dla połączeń z bazami danych Azure SQL, które często nie przejściowych błędów, które są zazwyczaj odzyskała sprawność działania po w ciągu kilku sekund. Funkcja blokowania puli połączeń oznacza, że aplikacji nie można połączyć z bazą danych na okres szeroką gamę nawet, jeśli baza danych jest dostępna i aplikacja potrzebuje do renderowania w ciągu kilku sekund.|
|Sugestia|Jeśli to zachowanie jest niepożądane, ustawiając można skonfigurować połączenia czasu blokowania puli <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=name> właściwości wprowadzone w programie .NET Framework 4.6.2. Wartość właściwości jest elementem członkowskim <xref:System.Data.SqlClient.PoolBlockingPeriod?displayProperty=name> wyliczenia, który może przybrać jedną z trzech wartości:<ul><li><xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock></li><li><xref:System.Data.SqlClient.PoolBlockingPeriod.Auto></li><li><xref:System.Data.SqlClient.PoolBlockingPeriod.NeverBlock></li></ul>Poprzednie mogą zostać przywrócone przez ustawienie <xref:System.Data.SqlClient.SqlConnectionStringBuilder.PoolBlockingPeriod?displayProperty=name> właściwości <xref:System.Data.SqlClient.PoolBlockingPeriod.AlwaysBlock>.|
|Zakres|Pomocnicza|
|Wersja|4.6.2|
|Typ|środowisko uruchomieniowe|
|Dotyczy interfejsów API|<ul><li><xref:System.Data.Common.DbConnection.OpenAsync?displayProperty=nameWithType></li><li><xref:System.Data.SqlClient.SqlConnection.Open?displayProperty=nameWithType></li><li><xref:System.Data.SqlClient.SqlConnection.OpenAsync(System.Threading.CancellationToken)?displayProperty=nameWithType></li></ul>|

