### <a name="wcf-services-that-use-nettcp-with-ssl-security-and-md5-certificate-authentication"></a>Użyj NETTCP z zabezpieczeniami SSL i MD5 certyfikatu uwierzytelniania usługi WCF

|   |   |
|---|---|
|Szczegóły|.NET Framework 4.6 dodaje protokołu TLS 1.1 i TLS 1.2 do domyślnej listy protokołu SSL usługi WCF. Jeśli klienta i na serwerze zainstalować program .NET Framework 4.6 lub nowszy, protokołu TLS 1.2 jest używany dla negocjacji. Protokołu TLS 1.2 nie obsługuje uwierzytelnianie certyfikatu MD5. W związku z tym jeśli klient używa certyfikatu MD5, klienta WCF nie powiedzie się połączyć z usługą WCF.|
|Sugestia|Można obejść ten problem, tak aby klienta WCF można połączenie z serwerem usługi WCF, wykonując jedną z następujących czynności:<ul><li>Zaktualizuj certyfikat, aby nie używać algorytmu MD5. Jest to zalecane rozwiązanie.</li><li>Jeśli w kodzie źródłowym nie skonfigurowano dynamicznie powiązanie, należy zaktualizować pliku konfiguracji aplikacji do użycia protokołu TLS 1.1 lub starszej wersji protokołu. Dzięki temu można nadal używać certyfikatu przy użyciu algorytmu wyznaczania wartości skrótu MD5.</li></ul> <blockquote> [!WARNING] To rozwiązanie nie jest zalecane, ponieważ certyfikat przy użyciu algorytmu wyznaczania wartości skrótu MD5 jest uznawany za niebezpieczne.</blockquote> Następujący plik konfiguracji robi to:<pre><code class="lang-xml">&lt;configuration&gt;&#13;&#10;&lt;system.serviceModel&gt;&#13;&#10;&lt;bindings&gt;&#13;&#10;&lt;netTcpBinding&gt;&#13;&#10;&lt;binding&gt;&#13;&#10;&lt;security mode= &quot;None/Transport/Message/TransportWithMessageCredential&quot; &gt;&#13;&#10;&lt;transport clientCredentialType=&quot;None/Windows/Certificate&quot;&#13;&#10;protectionLevel=&quot;None/Sign/EncryptAndSign&quot;&#13;&#10;sslProtocols=&quot;Ssl3/Tls1/Tls11&quot;&gt;&#13;&#10;&lt;/transport&gt;&#13;&#10;&lt;/security&gt;&#13;&#10;&lt;/binding&gt;&#13;&#10;&lt;/netTcpBinding&gt;&#13;&#10;&lt;/bindings&gt;&#13;&#10;&lt;/system.ServiceModel&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre><ul><li>Jeśli powiązanie jest skonfigurowane dynamicznie w kodzie źródłowym, należy zaktualizować <xref:System.ServiceModel.TcpTransportSecurity.SslProtocols?displayProperty=nameWithType> właściwości do użycia protokołu TLS 1.1 (<xref:System.Security.Authentication.SslProtocols.Tls11?displayProperty=nameWithType> lub starsza wersja protokołu w kodzie źródłowym.</li></ul> <blockquote> [!WARNING] To rozwiązanie nie jest zalecane, ponieważ certyfikat przy użyciu algorytmu wyznaczania wartości skrótu MD5 jest uznawany za niebezpieczne.</blockquote> |
|Zakres|Pomocnicza|
|Wersja|4.6|
|Typ|środowisko uruchomieniowe|

