### <a name="sslstream-supports-tls-alerts"></a>Obsługuje SslStream alertów protokołu TLS

|   |   |
|---|---|
|Szczegóły|Po uzgadniania TLS nie powiodło się <xref:System.IO.IOException?displayProperty=name> z wewnętrznego <xref:System.ComponentModel.Win32Exception?displayProperty=name> zostanie wygenerowany wyjątek w pierwszej operacji We/Wy odczytu i zapisu. <xref:System.ComponentModel.Win32Exception.NativeErrorCode?displayProperty=name> Kod <xref:System.ComponentModel.Win32Exception?displayProperty=name> mogą być mapowane na alertów protokołu TLS z strona zdalna za pomocą tej [dokumentacji Schannel](https://msdn.microsoft.com/library/windows/desktop/dd721886%28v=vs.85%29.aspx). Aby uzyskać więcej informacji, zobacz [dokument RFC 2246: alerty o błędach sekcji 7.2.2](https://tools.ietf.org/html/rfc2246#section-7.2.2)zachowanie w .NET 4.6.2 i poniżej jest, że kanał transportu (zwykle połączenie TCP) będzie limit czasu podczas zapisu lub odczytu, jeśli drugiej strony nie powiodło się. Uzgadnianie i natychmiast po tym odrzucił połączenie.|
|Sugestia|Aplikacje wywoływania sieci interfejsów API we/wy, takich jak <xref:System.IO.Stream.Read(System.Byte[],System.Int32,System.Int32)> / <xref:System.IO.Stream.Write(System.Byte[],System.Int32,System.Int32)> powinna obsługiwać <xref:System.IO.IOException> lub <xref:System.TimeoutException?displayProperty=name>. Domyślnie w programie .NET 4.7 zostanie włączona funkcja alertów protokołu TLS. Aplikacji korzystających z programu .NET 4.0 - .NET 4.6.2 systemem .NET 4.7 lub nowszej system będzie mieć funkcję wyłączone w celu zachowania zgodności. Następująca konfiguracja interfejsu API jest dostępna włączyć lub wyłączyć funkcję .NET 4.6 i nowszych aplikacji uruchomionych na .NET 4.7 lub nowszej platformy.<ul><li>Programowo:</li></ul>Musi być bardzo najpierw nie aplikacji, ponieważ element ServicePointManager zainicjuje tylko raz:<pre><code class="language-C#">AppContext.SetSwitch(&quot;TestSwitch.LocalAppContext.DisableCaching&quot;, true);&#13;&#10;AppContext.SetSwitch(&quot;Switch.System.Net.DontEnableTlsAlerts&quot;, true); // Set to &#39;false&#39; to enable the feature in .NET 4.6 - 4.6.2.&#13;&#10;</code></pre><ul><li>AppConfig:</li></ul><pre><code class="language-XML">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Net.DontEnableTlsAlerts=true&quot;/&gt;&#13;&#10;&lt;!-- Set to &#39;false&#39; to enable the feature in .NET 4.6 - 4.6.2. --&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><ul><li>Klucz rejestru (maszyna globalne):</li></ul>Ustaw wartość 'false' do włączenia tej funkcji w wersji 4.6 .NET - 4.6.2.<pre><code>Key = HKLM\SOFTWARE\[Wow6432Node\]Microsoft\.NETFramework\AppContext\Switch.System.Net.DontEnableTlsAlerts&#13;&#10;Type = String&#13;&#10;Value = &quot;true&quot;&#13;&#10;</code></pre>|
|Zakres|Krawędź|
|Wersja|4.7|
|Typ|Przekierowania|
|Dotyczy interfejsów API|<ul><li><xref:System.Net.Security.SslStream?displayProperty=nameWithType></li><li><xref:System.Net.WebRequest?displayProperty=nameWithType></li><li><xref:System.Net.HttpWebRequest?displayProperty=nameWithType></li><li><xref:System.Net.FtpWebRequest?displayProperty=nameWithType></li><li><xref:System.Net.Mail.SmtpClient?displayProperty=nameWithType></li><li><xref:System.Net.Http?displayProperty=nameWithType></li></ul>|

