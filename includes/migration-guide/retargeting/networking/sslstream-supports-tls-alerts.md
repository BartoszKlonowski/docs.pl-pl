### <a name="sslstream-supports-tls-alerts"></a>Obsługuje SslStream alertów protokołu TLS

|   |   |
|---|---|
|Szczegóły|Po nieudanych uzgadniania TLS <xref:System.IO.IOException?displayProperty=name> za pomocą wewnętrznego <xref:System.ComponentModel.Win32Exception?displayProperty=name> zostanie zgłoszony wyjątek w pierwszej operacji We/Wy odczytu/zapisu. <xref:System.ComponentModel.Win32Exception.NativeErrorCode?displayProperty=name> Kod <xref:System.ComponentModel.Win32Exception?displayProperty=name> można mapować do alertów protokołu TLS z obiektu zdalnego za pomocą tego [dokumentacji Schannel](https://msdn.microsoft.com/library/windows/desktop/dd721886%28v=vs.85%29.aspx). Aby uzyskać więcej informacji, zobacz [RFC 2246: alerty błędów sekcji 7.2.2](https://tools.ietf.org/html/rfc2246#section-7.2.2). <br/>Zachowanie w programie .NET Framework 4.6.2 lub starszym jest, że kanał transportu (zwykle połączenie TCP) przekroczy limit czasu podczas zapisu lub odczytu, jeśli strona poszkodowana Uzgadnianie nie powiodło się i natychmiast po tym dniu odrzucił połączenie.|
|Sugestia|Aplikacje podczas wywoływania sieci interfejsów API we/wy, takich jak <xref:System.IO.Stream.Read(System.Byte[],System.Int32,System.Int32)> / <xref:System.IO.Stream.Write(System.Byte[],System.Int32,System.Int32)> powinna obsługiwać <xref:System.IO.IOException> lub <xref:System.TimeoutException?displayProperty=name>.<br/>Funkcja alertów protokołu TLS jest domyślnie włączona, począwszy od programu .NET Framework 4.7. Aplikacje przeznaczone dla wersji programu .NET Framework 4.0, za pośrednictwem 4.6.2 uruchomionego na komputerze programu .NET Framework 4.7 lub nowszej system ma funkcja jest wyłączona w celu zachowania zgodności. <br/>Następujący interfejs API konfiguracji jest dostępny włączyć lub wyłączyć tę funkcję dla platformy .NET Framework 4.6 i nowszym działających w .NET Framework 4.7 lub nowszej.<ul><li>Programowe:</li></ul>Musi być bardzo pierwszą rzeczą, jaką aplikacja wykonuje ponieważ ServicePointManager — zostanie zainicjowany tylko raz:<pre><code class="lang-csharp">AppContext.SetSwitch(&quot;TestSwitch.LocalAppContext.DisableCaching&quot;, true);&#13;&#10;AppContext.SetSwitch(&quot;Switch.System.Net.DontEnableTlsAlerts&quot;, true); // Set to &#39;false&#39; to enable the feature in .NET Framework 4.6 - 4.6.2.&#13;&#10;</code></pre><ul><li>AppConfig:</li></ul><pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Net.DontEnableTlsAlerts=true&quot;/&gt;&#13;&#10;&lt;!-- Set to &#39;false&#39; to enable the feature in .NET Framework 4.6 - 4.6.2. --&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><ul><li>Klucz rejestru (maszyna globalne):</p>Ustaw wartość <code>false</code> do włączenia tej funkcji w programie .NET Framework 4.6 — 4.6.2.<ul><li>> klucz: HKLM\SOFTWARE\Wow6432Node\Microsoft\\. NETFramework\AppContext\Switch.System.Net.DontEnableTlsAlerts</li><li>Typ: ciąg</li><li>Wartość: &quot;PRAWDA & quot</li></ul></ul> |
|Zakres|Krawędź|
|Wersja|4.7|
|Typ|Trwa przekierowywanie|
|Dotyczy interfejsów API|<ul><li><xref:System.Net.Security.SslStream?displayProperty=nameWithType></li><li><xref:System.Net.WebRequest?displayProperty=nameWithType></li><li><xref:System.Net.HttpWebRequest?displayProperty=nameWithType></li><li><xref:System.Net.FtpWebRequest?displayProperty=nameWithType></li><li><xref:System.Net.Mail.SmtpClient?displayProperty=nameWithType></li><li><xref:System.Net.Http?displayProperty=nameWithType></li></ul>|