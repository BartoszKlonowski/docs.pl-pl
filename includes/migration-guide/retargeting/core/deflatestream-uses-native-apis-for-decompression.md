### <a name="deflatestream-uses-native-apis-for-decompression"></a>Dekompresja DeflateStream korzysta natywnych interfejsów API

|   |   |
|---|---|
|Szczegóły|Począwszy od programu .NET Framework 4.7.2, implementacja dekompresji w <code>T:System.IO.Compression.DeflateStream</code> klasy zmienił się na domyślnie używają natywnych interfejsów API systemu Windows. Zazwyczaj powoduje to poprawy wydajności istotne. Wszystkie aplikacje .NET przeznaczonych dla platformy .NET Framework w wersji 4.7.2 lub użyj nowszej implementacji native. Ta zmiana może spowodować pewne różnice w zachowaniu, które obejmują:<ul><li>Komunikaty o wyjątkach mogą się różnić. Jednak typ wyjątek jest taka sama.</li><li>Sytuacji specjalnych, takich jak nie ma wystarczającej ilości pamięci do ukończenia operacji może być obsługiwane inaczej.</li><li>Istnieją znane różnic w nagłówku gzip analizy (Uwaga: tylko <code>GZipStream</code> ustawione dekompresji ma to wpływ na):</li><li>Wyjątki podczas analizowania nieprawidłowy nagłówek może zostać zgłoszony w różnym czasie.</li><li>Implementacji native wymusza, że wartości dla niektórych zarezerwowanej flagi w nagłówku gzip (tj. [limit](http://www.zlib.org/rfc-gzip.html#header-trailer)) są ustawione zgodnie ze specyfikacją, co może spowodować jej do zgłoszenia wyjątku, której wcześniej nieprawidłowe wartości zostały zignorowane.</li></ul>|
|Sugestia|Jeśli dekompresja z macierzystych interfejsów API ma niekorzystny wpływ na zachowanie aplikacji, można zrezygnować z tej funkcji, dodając <code>Switch.System.IO.Compression.DoNotUseNativeZipLibraryForDecompression</code> przełączyć się do <code>runtime</code> sekcji w pliku app.config oraz ustawieniem dla niego <code>true</code>:<pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;&#13;&#10;&lt;configuration&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides&#13;&#10;value=&quot;Switch.System.IO.Compression.DoNotUseNativeZipLibraryForDecompression=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre>|
|Zakres|Pomocnicza|
|Wersja|4.7.2|
|Typ|Przekierowania|
|Dotyczy interfejsów API|<ul><li><xref:System.IO.Compression.DeflateStream?displayProperty=nameWithType></li><li><xref:System.IO.Compression.GZipStream?displayProperty=nameWithType></li></ul>|

