---
ms.openlocfilehash: f1f37e61917e8331b06d91e6abebfe4ce3288e7c
ms.sourcegitcommit: 43761fcee10aeefcf851ea81cea3f3c691420856
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/16/2019
ms.locfileid: "69564402"
---
### <a name="managed-cryptography-classes-do-not-throw-a-cryptographyexception-in-fips-mode"></a><span data-ttu-id="7f847-101">Zarządzane klasy kryptograficzne nie zgłaszają wyjątku kryptografii w trybie FIPS</span><span class="sxs-lookup"><span data-stu-id="7f847-101">Managed cryptography classes do not throw a CryptographyException in FIPS mode</span></span>

|   |   |
|---|---|
|<span data-ttu-id="7f847-102">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="7f847-102">Details</span></span>|<span data-ttu-id="7f847-103">W .NET Framework 4.7.2 i starszych wersjach zarządzane klasy dostawcy usług kryptograficznych, <xref:System.Security.Cryptography.SHA256Managed> takie jak <xref:System.Security.Cryptography.CryptographicException> throw, gdy systemowe biblioteki kryptograficzne są skonfigurowane w trybie FIPS.</span><span class="sxs-lookup"><span data-stu-id="7f847-103">In .NET Framework 4.7.2 and earlier versions, managed cryptographic provider classes such as <xref:System.Security.Cryptography.SHA256Managed> throw a <xref:System.Security.Cryptography.CryptographicException> when the system cryptographic libraries are configured in FIPS mode.</span></span> <span data-ttu-id="7f847-104">Te wyjątki są zgłaszane, ponieważ zarządzane wersje nie zostały poddane FIPS (Federal Information Processing Standards) 140-2 certyfikacji, a także do blokowania algorytmów kryptograficznych, które nie zostały uznane za zatwierdzone na podstawie reguł FIPS.</span><span class="sxs-lookup"><span data-stu-id="7f847-104">These exceptions are thrown because the managed versions have not undergone FIPS (Federal Information Processing Standards) 140-2 certification, as well as to block cryptographic algorithms that were not considered to be approved based on the FIPS rules.</span></span>  <span data-ttu-id="7f847-105">Ponieważ kilku deweloperów ma swoje komputery deweloperskie w trybie FIPS, te wyjątki są często zgłaszane tylko w systemach produkcyjnych. Aplikacje przeznaczone dla .NET Framework 4,8 i nowszych wersji automatycznie przełączają się do nowszej, swobodnej zasady, <xref:System.Security.Cryptography.CryptographicException> tak aby nie było już zgłaszane domyślnie w takich przypadkach.</span><span class="sxs-lookup"><span data-stu-id="7f847-105">Because few developers have their development machines in FIPS mode, these exceptions are frequently thrown only on production systems.Applications that target .NET Framework 4.8 and later versions automatically switch to the newer, relaxed policy, so that a <xref:System.Security.Cryptography.CryptographicException> is no longer thrown by default in such cases.</span></span> <span data-ttu-id="7f847-106">Zamiast tego zarządzane klasy kryptograficzne przekierowują operacje kryptograficzne do biblioteki kryptografii systemu.</span><span class="sxs-lookup"><span data-stu-id="7f847-106">Instead, the managed cryptography classes redirect cryptographic operations to a system cryptography library.</span></span> <span data-ttu-id="7f847-107">Ta zmiana zasad skutecznie usuwa potencjalne różnice między środowiskami deweloperskimi i środowiskami produkcyjnymi, dzięki czemu składniki macierzyste i zarządzane składniki działają w ramach tych samych zasad kryptograficznych.</span><span class="sxs-lookup"><span data-stu-id="7f847-107">This policy change effectively removes a potentially confusing difference between developer environments and the production environments and makes native components and managed components operate under the same cryptographic policy.</span></span>|
|<span data-ttu-id="7f847-108">Sugestia</span><span class="sxs-lookup"><span data-stu-id="7f847-108">Suggestion</span></span>|<span data-ttu-id="7f847-109">Jeśli takie zachowanie jest niepożądane, można zrezygnować z niego i przywrócić poprzednie zachowanie, tak aby <xref:System.Security.Cryptography.CryptographicException> w trybie FIPS było zgłaszane, dodając następujące ustawienie  konfiguracji [AppContextSwitchOverrides](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) do środowiska [\<uruchomieniowego>](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) sekcja pliku konfiguracyjnego aplikacji:</span><span class="sxs-lookup"><span data-stu-id="7f847-109">If this behavior is undesirable, you can opt out of it and restore the previous behavior so that a <xref:System.Security.Cryptography.CryptographicException> is thrown in FIPS mode by adding the following [AppContextSwitchOverrides](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) configuration setting to the [\<runtime>](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) section of your application configuration file:</span></span><pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.UseLegacyFipsThrow=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><span data-ttu-id="7f847-110">Jeśli aplikacja jest przeznaczona .NET Framework 4.7.2 lub wcześniejsza, możesz również zrezygnować z tej zmiany, dodając następujące ustawienie konfiguracji [AppContextSwitchOverrides](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) do [ \<sekcji > środowiska uruchomieniowego](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) aplikacji plik konfiguracji:</span><span class="sxs-lookup"><span data-stu-id="7f847-110">If your application targets .NET Framework 4.7.2 or earlier, you can also opt in to this change by adding the following [AppContextSwitchOverrides](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) configuration setting to the [\<runtime>](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) section of your application configuration file:</span></span><pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.UseLegacyFipsThrow=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>|
|<span data-ttu-id="7f847-111">Scope</span><span class="sxs-lookup"><span data-stu-id="7f847-111">Scope</span></span>|<span data-ttu-id="7f847-112">Krawędź</span><span class="sxs-lookup"><span data-stu-id="7f847-112">Edge</span></span>|
|<span data-ttu-id="7f847-113">Wersja</span><span class="sxs-lookup"><span data-stu-id="7f847-113">Version</span></span>|<span data-ttu-id="7f847-114">4.8</span><span class="sxs-lookup"><span data-stu-id="7f847-114">4.8</span></span>|
|<span data-ttu-id="7f847-115">Typ</span><span class="sxs-lookup"><span data-stu-id="7f847-115">Type</span></span>|<span data-ttu-id="7f847-116">Przekierowanie</span><span class="sxs-lookup"><span data-stu-id="7f847-116">Retargeting</span></span>|
|<span data-ttu-id="7f847-117">Dotyczy interfejsów API</span><span class="sxs-lookup"><span data-stu-id="7f847-117">Affected APIs</span></span>|<ul><li><xref:System.Security.Cryptography.AesManaged?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.MD5Cng?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.MD5CryptoServiceProvider?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RC2CryptoServiceProvider?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RijndaelManaged?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RIPEMD160Managed?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.SHA1Managed?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.SHA256Managed?displayProperty=nameWithType></li></ul>|
