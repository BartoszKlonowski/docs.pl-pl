---
ms.openlocfilehash: f1f37e61917e8331b06d91e6abebfe4ce3288e7c
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/15/2020
ms.locfileid: "69564402"
---
### <a name="managed-cryptography-classes-do-not-throw-a-cryptographyexception-in-fips-mode"></a><span data-ttu-id="30876-101">Zarządzane klasy kryptografii nie zgłaszają kryptografiiWyjęcie w trybie FIPS</span><span class="sxs-lookup"><span data-stu-id="30876-101">Managed cryptography classes do not throw a CryptographyException in FIPS mode</span></span>

|   |   |
|---|---|
|<span data-ttu-id="30876-102">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="30876-102">Details</span></span>|<span data-ttu-id="30876-103">W .NET Framework 4.7.2 i wcześniejszych wersjach, <xref:System.Security.Cryptography.SHA256Managed> zarządzane <xref:System.Security.Cryptography.CryptographicException> klasy dostawców kryptograficznych, takie jak throw a, gdy biblioteki kryptograficzne systemu są skonfigurowane w trybie FIPS.</span><span class="sxs-lookup"><span data-stu-id="30876-103">In .NET Framework 4.7.2 and earlier versions, managed cryptographic provider classes such as <xref:System.Security.Cryptography.SHA256Managed> throw a <xref:System.Security.Cryptography.CryptographicException> when the system cryptographic libraries are configured in FIPS mode.</span></span> <span data-ttu-id="30876-104">Wyjątki te są zgłaszane, ponieważ wersje zarządzane nie zostały poddane certyfikacji FIPS (Federal Information Processing Standards) 140-2, a także do blokowania algorytmów kryptograficznych, które nie zostały uznane za zatwierdzone na podstawie reguł FIPS.</span><span class="sxs-lookup"><span data-stu-id="30876-104">These exceptions are thrown because the managed versions have not undergone FIPS (Federal Information Processing Standards) 140-2 certification, as well as to block cryptographic algorithms that were not considered to be approved based on the FIPS rules.</span></span>  <span data-ttu-id="30876-105">Ponieważ niewielu deweloperów ma swoje maszyny programistyczne w trybie FIPS, wyjątki te są często generowane tylko w systemach produkcyjnych. Aplikacje przeznaczone dla platformy .NET Framework 4.8 i nowsze wersje <xref:System.Security.Cryptography.CryptographicException> automatycznie przełączają się na nowsze, zrelaksowane zasady, dzięki czemu a nie jest już domyślnie generowany.</span><span class="sxs-lookup"><span data-stu-id="30876-105">Because few developers have their development machines in FIPS mode, these exceptions are frequently thrown only on production systems.Applications that target .NET Framework 4.8 and later versions automatically switch to the newer, relaxed policy, so that a <xref:System.Security.Cryptography.CryptographicException> is no longer thrown by default in such cases.</span></span> <span data-ttu-id="30876-106">Zamiast tego zarządzane klasy kryptografii przekierowują operacje kryptograficzne do biblioteki kryptografii systemowej.</span><span class="sxs-lookup"><span data-stu-id="30876-106">Instead, the managed cryptography classes redirect cryptographic operations to a system cryptography library.</span></span> <span data-ttu-id="30876-107">Ta zmiana zasad skutecznie usuwa potencjalnie mylące różnice między środowiskami deweloperskimi a środowiskami produkcyjnymi i sprawia, że składniki macierzyste i składniki zarządzane działają zgodnie z tymi samymi zasadami kryptograficznymi.</span><span class="sxs-lookup"><span data-stu-id="30876-107">This policy change effectively removes a potentially confusing difference between developer environments and the production environments and makes native components and managed components operate under the same cryptographic policy.</span></span>|
|<span data-ttu-id="30876-108">Sugestia</span><span class="sxs-lookup"><span data-stu-id="30876-108">Suggestion</span></span>|<span data-ttu-id="30876-109">Jeśli to zachowanie jest niepożądane, można zrezygnować z niego i <xref:System.Security.Cryptography.CryptographicException> przywrócić poprzednie zachowanie, tak aby jest wyrzucany w trybie FIPS, dodając następujące ustawienie konfiguracji [AppContextSwitchOverrides](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) do sekcji [ \<>środowiska wykonawczego](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) pliku konfiguracji aplikacji:</span><span class="sxs-lookup"><span data-stu-id="30876-109">If this behavior is undesirable, you can opt out of it and restore the previous behavior so that a <xref:System.Security.Cryptography.CryptographicException> is thrown in FIPS mode by adding the following [AppContextSwitchOverrides](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) configuration setting to the [\<runtime>](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) section of your application configuration file:</span></span><pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.UseLegacyFipsThrow=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><span data-ttu-id="30876-110">Jeśli aplikacja jest przeznaczona dla platformy .NET Framework 4.7.2 lub wcześniejszej, można również wyrazić zgodę na tę zmianę, dodając następujące ustawienie konfiguracji [AppContextSwitchOverrides](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) do sekcji [ \<>środowiska wykonawczego](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) pliku konfiguracji aplikacji:</span><span class="sxs-lookup"><span data-stu-id="30876-110">If your application targets .NET Framework 4.7.2 or earlier, you can also opt in to this change by adding the following [AppContextSwitchOverrides](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) configuration setting to the [\<runtime>](~/docs/framework/configure-apps/file-schema/runtime/runtime-element.md) section of your application configuration file:</span></span><pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Security.Cryptography.UseLegacyFipsThrow=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>|
|<span data-ttu-id="30876-111">Zakres</span><span class="sxs-lookup"><span data-stu-id="30876-111">Scope</span></span>|<span data-ttu-id="30876-112">Brzeg</span><span class="sxs-lookup"><span data-stu-id="30876-112">Edge</span></span>|
|<span data-ttu-id="30876-113">Wersja</span><span class="sxs-lookup"><span data-stu-id="30876-113">Version</span></span>|<span data-ttu-id="30876-114">4.8</span><span class="sxs-lookup"><span data-stu-id="30876-114">4.8</span></span>|
|<span data-ttu-id="30876-115">Typ</span><span class="sxs-lookup"><span data-stu-id="30876-115">Type</span></span>|<span data-ttu-id="30876-116">Przekierowanie</span><span class="sxs-lookup"><span data-stu-id="30876-116">Retargeting</span></span>|
|<span data-ttu-id="30876-117">Dotyczy interfejsów API</span><span class="sxs-lookup"><span data-stu-id="30876-117">Affected APIs</span></span>|<ul><li><xref:System.Security.Cryptography.AesManaged?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.MD5Cng?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.MD5CryptoServiceProvider?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RC2CryptoServiceProvider?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RijndaelManaged?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.RIPEMD160Managed?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.SHA1Managed?displayProperty=nameWithType></li><li><xref:System.Security.Cryptography.SHA256Managed?displayProperty=nameWithType></li></ul>|
