---
ms.openlocfilehash: 47aa67096f8dcd250521d9c34dde97cb2eb368d7
ms.sourcegitcommit: d55e14eb63588830c0ba1ea95a24ce6c57ef8c8c
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 07/11/2019
ms.locfileid: "67803483"
---
### <a name="workflow-xoml-definition-and-sqltrackingservice-cache-keys-changed-from-md5-to-sha256"></a><span data-ttu-id="5fd6a-101">Definicji XOML przepływu pracy i kluczy pamięci podręcznej użyciu usługi SqlTrackingService zmieniła się z MD5 SHA256</span><span class="sxs-lookup"><span data-stu-id="5fd6a-101">Workflow XOML definition and SqlTrackingService cache keys changed from MD5 to SHA256</span></span>

|   |   |
|---|---|
|<span data-ttu-id="5fd6a-102">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="5fd6a-102">Details</span></span>|<span data-ttu-id="5fd6a-103">Środowisko wykonawcze przepływów pracy w zachowuje pamięć podręczna definicji przepływu pracy w pliku XOML.</span><span class="sxs-lookup"><span data-stu-id="5fd6a-103">The Workflow Runtime in keeps a cache of workflow definitions defined in XOML.</span></span> <span data-ttu-id="5fd6a-104">Użyciu usługi SqlTrackingService przechowuje także pamięć podręczna, która jest kluczach ciągów.</span><span class="sxs-lookup"><span data-stu-id="5fd6a-104">The SqlTrackingService also keeps a cache that is keyed by strings.</span></span> <span data-ttu-id="5fd6a-105">Te pamięci podręczne są dostosowane przy wartości, które zawierają sumy kontrolnej wartość skrótu.</span><span class="sxs-lookup"><span data-stu-id="5fd6a-105">These caches are keyed by values that include checksum hash value.</span></span> <span data-ttu-id="5fd6a-106">W .NET Framework 4.7.2 i starszych wersji tej sumy kontrolnej mieszania używany algorytmu MD5, który spowodował problemów w systemach z obsługą standardu FIPS.</span><span class="sxs-lookup"><span data-stu-id="5fd6a-106">In the .NET Framework 4.7.2 and earlier versions, this checksum hashing used the MD5 algorithm, which caused issues on FIPS-enabled systems.</span></span> <span data-ttu-id="5fd6a-107">Począwszy od .NET Framework 4.8 algorytm używany jest algorytm SHA256. Nie powinny istnieć problem ze zgodnością z tą zmianą, ponieważ wartości są ponownie obliczane każdym uruchomieniu środowiska wykonawczego przepływów pracy i użyciu usługi SqlTrackingService.</span><span class="sxs-lookup"><span data-stu-id="5fd6a-107">Starting with the .NET Framework 4.8, the algorithm used is SHA256.There shouldn't be an compatability issue with this change because the values are recalculated each time the Workflow Runtime and SqlTrackingService is started.</span></span> <span data-ttu-id="5fd6a-108">Jednak udostępniliśmy Osobliwości, aby umożliwić klientom powrócić do użycia, starszego algorytmu wyznaczania wartości skrótu, jeśli to konieczne.</span><span class="sxs-lookup"><span data-stu-id="5fd6a-108">However, we have provided quirks to allow customers to revert back to usage of the legacy hashing algorithm, if necessary.</span></span>|
|<span data-ttu-id="5fd6a-109">Sugestia</span><span class="sxs-lookup"><span data-stu-id="5fd6a-109">Suggestion</span></span>|<span data-ttu-id="5fd6a-110">Jeżeli ta zmiana stanowi problem podczas wykonywania przepływów pracy, spróbuj ustawić jedną lub obie <code>AppContext</code> przełączników:</span><span class="sxs-lookup"><span data-stu-id="5fd6a-110">If this change presents a problem when executing workflows, try setting one or both of the <code>AppContext</code> switches:</span></span><ul><li><span data-ttu-id="5fd6a-111">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey&quot; na wartość true.</span><span class="sxs-lookup"><span data-stu-id="5fd6a-111">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey&quot; to true.</span></span></li><li><span data-ttu-id="5fd6a-112">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKey&quot; na wartość true.</span><span class="sxs-lookup"><span data-stu-id="5fd6a-112">&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKey&quot; to true.</span></span></li></ul><span data-ttu-id="5fd6a-113">W kodzie:</span><span class="sxs-lookup"><span data-stu-id="5fd6a-113">In code:</span></span><pre><code class="lang-csharp">System.AppContext.SetSwitch(&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey&quot;, true);&#13;&#10;System.AppContext.SetSwitch(&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKey&quot;, true);&#13;&#10;</code></pre><span data-ttu-id="5fd6a-114">Lub w pliku konfiguracji (musi to być w pliku konfiguracji dla aplikacji, która tworzy <xref:System.Workflow.Runtime.WorkflowRuntime> obiektu):</span><span class="sxs-lookup"><span data-stu-id="5fd6a-114">Or in the configuration file (this needs to be in the config file for the application that is creating the <xref:System.Workflow.Runtime.WorkflowRuntime> object):</span></span><pre><code class="lang-xml">&lt;configuration&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Workflow.Runtime.UseLegacyHashForWorkflowDefinitionDispenserCacheKey=true&quot; /&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Workflow.Runtime.UseLegacyHashForSqlTrackingCacheKeytrue&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre>|
|<span data-ttu-id="5fd6a-115">Scope</span><span class="sxs-lookup"><span data-stu-id="5fd6a-115">Scope</span></span>|<span data-ttu-id="5fd6a-116">Mały</span><span class="sxs-lookup"><span data-stu-id="5fd6a-116">Minor</span></span>|
|<span data-ttu-id="5fd6a-117">Wersja</span><span class="sxs-lookup"><span data-stu-id="5fd6a-117">Version</span></span>|<span data-ttu-id="5fd6a-118">4.8</span><span class="sxs-lookup"><span data-stu-id="5fd6a-118">4.8</span></span>|
|<span data-ttu-id="5fd6a-119">Typ</span><span class="sxs-lookup"><span data-stu-id="5fd6a-119">Type</span></span>|<span data-ttu-id="5fd6a-120">Przekierowanie</span><span class="sxs-lookup"><span data-stu-id="5fd6a-120">Retargeting</span></span>|

