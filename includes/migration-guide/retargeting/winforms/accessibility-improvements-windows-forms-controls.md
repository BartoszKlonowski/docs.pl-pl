---
ms.openlocfilehash: 8c031198a1faad58ac5c5f5d5f042a1d9a35e8d5
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/15/2020
ms.locfileid: "72887814"
---
### <a name="accessibility-improvements-in-windows-forms-controls"></a>Ulepszenia ułatwień dostępu w formantach formularzy systemu Windows

|   |   |
|---|---|
|Szczegóły|Formularze systemu Windows usprawniają działanie z technologiami ułatwień dostępu, aby lepiej obsługiwać klientów formularzy Windows. Należą do nich następujące zmiany, począwszy od programu .NET Framework 4.7.1:<ul><li>Zmiany w celu poprawy wyświetlania w trybie wysokiego kontrastu.</li><li>Zmiany w celu poprawy środowiska przeglądarki właściwości. Ulepszenia przeglądarki właściwości obejmują:</li><li>Lepsza nawigacja za pomocą klawiatury przez różne okna wyboru rozwijanej.</li><li>Zmniejszono niepotrzebne postoje kart.</li><li>Lepsze raportowanie typów kontroli.</li><li>Poprawiono zachowanie narratora.</li><li>Zmiany w celu zaimplementowania brakujących wzorców ułatwień dostępu interfejsu użytkownika w formantach.</li></ul>|
|Sugestia|**Jak zgłosić się lub zrezygnować z tych zmian**<br>Aby aplikacja korzystać z tych zmian, należy uruchomić na .NET Framework 4.7.1 lub nowszych. Aplikacja może korzystać z tych zmian w jeden z następujących sposobów:<ul><li>Jest on ponownie kompilowany do celu .NET Framework 4.7.1. Te zmiany ułatwień dostępu są domyślnie włączone w aplikacjach Windows Forms, które są przeznaczone dla programu .NET Framework 4.7.1 lub nowszego.</li><li>Rezygnuje ze starszych zachowań ułatwień dostępu, dodając następujący <code>&lt;runtime&gt;</code> [przełącznik AppContext](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) do sekcji pliku <code>false</code>app.config i ustawiając go na , jak pokazano w poniższym przykładzie.</li></ul><pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#13;&#10;&lt;configuration&gt;&#13;&#10;&lt;startup&gt;&#13;&#10;&lt;supportedRuntime version=&quot;v4.0&quot; sku=&quot;.NETFramework,Version=v4.7&quot;/&gt;&#13;&#10;&lt;/startup&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;!-- AppContextSwitchOverrides value attribute is in the form of &#39;key1=true/false;key2=true/false  --&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre><br>Aplikacje przeznaczone dla programu .NET Framework 4.7.1 lub nowszego i chcą zachować starsze zachowanie ułatwień dostępu, <code>true</code>mogą zdecydować się na korzystanie ze starszych funkcji ułatwień dostępu, wyraźnie ustawiając przełącznik AppContext .<p/>Aby zapoznać się z omówieniem automatyzacji interfejsu użytkownika, zobacz [Omówienie automatyzacji interfejsu użytkownika](~/docs/framework/ui-automation/ui-automation-overview.md).<p/>**Dodano obsługę wzorców i właściwości automatyzacji interfejsu użytkownika**<br/>Klienci ułatwień dostępu mogą korzystać z nowych funkcji ułatwień dostępu WinForms przy użyciu wspólnych, publicznie opisanych wzorców wywołania. Te wzorce nie są specyficzne dla winforms. Na przykład klienci ułatwień dostępu mogą wywołać metodę QueryInterface w interfejsie IAccessible (MAAS) w celu uzyskania interfejsu IServiceProvider. Jeśli ten interfejs jest dostępny, klienci mogą użyć jego Metody QueryService, aby zażądać interfejsu IAccessibleEx. Aby uzyskać więcej informacji, zobacz [Korzystanie z IAccessibleEx od klienta](https://docs.microsoft.com/windows/desktop/WinAuto/using-iaccessibleex-from-a-client). Począwszy od .NET Framework 4.7.1, IServiceProvider i [IAccessibleEx](https://docs.microsoft.com/windows/desktop/WinAuto/iaccessibleex) (w stosownych przypadkach) są dostępne dla obiektów ułatwień dostępu WinForms.<p/>.NET Framework 4.7.1 dodaje obsługę następujących wzorców automatyzacji interfejsu użytkownika i właściwości:<ul><li>I <xref:System.Windows.Forms.ToolStripSplitButton> <xref:System.Windows.Forms.ComboBox> kontroli obsługi [rozwijać/zwijanie wzorzec](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</li><li>Formant <xref:System.Windows.Forms.ToolStripMenuItem> ma wartość <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>właściwości [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) .</li><li>Formant <xref:System.Windows.Forms.ToolStripItem> obsługuje <xref:System.Windows.Automation.AutomationElement.NameProperty> właściwość i[rozwiń/zwiń wzorzec](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</li><li>Formant <xref:System.Windows.Forms.ToolStripDropDownItem> <xref:System.Windows.Forms.AccessibleEvents> obsługuje wskazując StateChange i NameChange, gdy rozwijane jest rozwinięte lub zwinięte.</li><li>Formant <xref:System.Windows.Forms.ToolStripDropDownButton> ma wartość właściwości <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType> [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) .</li><li>Formant <xref:System.Windows.Forms.DataGridViewCheckBoxCell> obsługuje <xref:System.Windows.Automation.TogglePattern>.</li><li>I <xref:System.Windows.Forms.NumericUpDown> <xref:System.Windows.Forms.DomainUpDown> kontroluje obsługuje <xref:System.Windows.Automation.AutomationElement.NameProperty> właściwość i [controlType](~/docs/framework/ui-automation/ui-automation-support-for-the-spinner-control-type.md) . . <xref:System.Windows.Automation.ControlType.Spinner?displayProperty=nameWithType></p></li></ul>**Ulepszenia kontroli PropertyGrid**<br>.NET Framework 4.7.1 dodaje następujące ulepszenia do Kontroli PropertyBrowser:<ul><li>Przycisk **Szczegóły** w oknie dialogowym błędu wyświetlanym, gdy użytkownik <xref:System.Windows.Forms.PropertyGrid> wprowadzi niepoprawną wartość w formancie, obsługuje powiadomienia o [zmianie/zwiń rozwiń/nazw](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md)oraz właściwość [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) o <xref:System.Windows.Automation.ControlType.MenuItem?displayProperty=nameWithType>wartości .</li><li>Okienko komunikatów wyświetlane po rozwinięciu przycisku **Szczegóły** okna dialogowego błędu jest teraz dostępne za pomocą klawiatury i umożliwia Narratorowi ogłaszanie zawartości komunikatu o błędzie.</li><li>Wiersze <xref:System.Windows.Forms.AccessibleRole> w formancie <xref:System.Windows.Forms.PropertyGrid> zostały &quot;&quot; zmienione &quot;&quot;z Wiersz na Komórka . Komórka jest mapowana na &quot;interfejs&quot;Danych ControlType UIA, który umożliwia obsługę odpowiednich skrótów klawiaturowych i anonsów Narratora.</li><li>Wiersze <xref:System.Windows.Forms.PropertyGrid> formantu, które <xref:System.Windows.Forms.PropertyGrid> reprezentują elementy <xref:System.Windows.Forms.PropertyGrid.PropertySort> nagłówka, gdy formant ma ustawioną właściwość, która <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> ma wartość właściwości [ControlType](~/docs/framework/ui-automation/ui-automation-support-for-the-menubar-control-type.md) <xref:System.Windows.Automation.ControlType.Button?displayProperty=nameWithType>.</li><li><xref:System.Windows.Forms.PropertyGrid> Wiersze formantu, które <xref:System.Windows.Forms.PropertyGrid> reprezentują elementy <xref:System.Windows.Forms.PropertyGrid.PropertySort> nagłówka, gdy formant ma ustawioną właściwość do <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> obsługi [wzorca Rozwijaj/Zwiń](~/docs/framework/ui-automation/implementing-the-ui-automation-expandcollapse-control-pattern.md).</li><li>Ulepszona nawigacja za pomocą klawiatury między siatką a paskiem narzędzi nad nią. Naciśnięcie &quot;klawisza Shift-Tab&quot; powoduje teraz wybranie pierwszego przycisku Paska narzędzi, a nie całego paska narzędzi.</li><li><xref:System.Windows.Forms.PropertyGrid>formanty wyświetlane w trybie wysokiego kontrastu będą teraz rysować prostokąt <xref:System.Windows.Forms.PropertyGrid.PropertySort> fokusu wokół przycisku Pasek narzędzi, który odpowiada bieżącej wartości właściwości.</li><li><xref:System.Windows.Forms.PropertyGrid>formanty wyświetlane w trybie <xref:System.Windows.Forms.PropertyGrid.PropertySort> wysokiego <xref:System.Windows.Forms.PropertySort.Categorized?displayProperty=nameWithType> kontrastu i z właściwością ustawioną na teraz będą wyświetlać tło nagłówków kategorii w bardzo kontrastowym kolorze.</li><li><xref:System.Windows.Forms.PropertyGrid>formanty lepiej rozróżnia elementy ToolBar z fokusem <xref:System.Windows.Forms.PropertyGrid.PropertySort> i ToolBar elementów, które wskazują bieżącą wartość właściwości. Ta poprawka składa się ze zmiany wysokiego kontrastu i zmiany dla scenariuszy innych niż wysoki kontrast.</li><li><xref:System.Windows.Forms.PropertyGrid>steruj elementami ToolBar, który <xref:System.Windows.Forms.PropertyGrid.PropertySort> wskazuje <xref:System.Windows.Automation.TogglePattern>bieżącą wartość właściwości obsługuje .</li><li>Ulepszona obsługa Narratora w celu odróżnienia wybranej linii trasowania w selektorze wyrównania.</li><li>Gdy pusty <xref:System.Windows.Forms.PropertyGrid> formant jest wyświetlany w formularzu, teraz otrzyma fokus, gdzie wcześniej nie.</p></li></ul>**Używanie kolorów zdefiniowanych przez system operacyjny w motywach o wysokim kontraście**<br><ul><li>I <xref:System.Windows.Forms.Button> <xref:System.Windows.Forms.CheckBox> formanty <xref:System.Windows.Forms.ButtonBase.FlatStyle> z <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>ich właściwości ustawionej na , który jest styl domyślny, teraz użyć kolorów zdefiniowanych przez system operacyjny w obszarze wysokiego kontrastu motywu po wybraniu. Wcześniej kolory tekstu i tła nie kontrastowały i były trudne do odczytania.</li><li>W <xref:System.Windows.Forms.Button> <xref:System.Windows.Forms.CheckBox>, <xref:System.Windows.Forms.RadioButton> <xref:System.Windows.Forms.Label>, <xref:System.Windows.Forms.LinkLabel>, <xref:System.Windows.Forms.GroupBox> i <xref:System.Windows.Forms.Control.Enabled> formanty z ich właściwości ustawionej na **false** używane cieniowany kolor do renderowania tekstu w motywach wysokiego kontrastu, co powoduje niski kontrast na tle. Teraz te formanty używają &quot;wyłączonego koloru tekstu&quot; zdefiniowanego przez system operacyjny. Ta poprawka dotyczy formantów z właściwością <code>FlatStyle</code> <xref:System.Windows.Forms.FlatStyle.System?displayProperty=nameWithType>ustawioną na wartość inną niż . Te ostatnie formanty są renderowane przez system operacyjny.</li><li><xref:System.Windows.Forms.DataGridView>teraz renderuje widoczny prostokąt wokół zawartości komórki, która ma bieżący fokus. Wcześniej nie było to widoczne w niektórych motywach wysokiego kontrastu.</li><li><xref:System.Windows.Forms.ToolStripMenuItem>formantów <xref:System.Windows.Forms.ToolStripMenuItem.Enabled> z ich właściwości &quot;ustawionej&quot; na **false** teraz użyć wyłączone kolor tekstu zdefiniowane przez system operacyjny.</li><li><xref:System.Windows.Forms.ToolStripMenuItem>formantów <xref:System.Windows.Forms.ToolStripMenuItem.Checked> z ich właściwości ustawionej na **true** teraz renderowania skojarzonego znacznika wyboru w kontrastujący kolor systemu.  Wcześniej kolor znacznika wyboru nie był wystarczająco kontrastujący i nie był widoczny w motywach o wysokim kontraście.</li></ul>UWAGA: System Windows 10 zmienił wartości niektórych kolorów systemu o wysokim kontraście. Struktura formularzy systemu Windows jest oparta na platformie Win32. Aby uzyskać najlepsze środowisko, uruchom w najnowszej wersji systemu Windows i zdecyduj się na najnowsze zmiany systemu operacyjnego, dodając plik app.manifest w aplikacji testowej i nie komentując następującego kodu:<pre><code class="lang-xml">&lt;!-- Windows 10 --&gt;&#13;&#10;&lt;supportedOS Id=&quot;{8e0f7a12-bfb3-4fe8-b9a5-48fd50a15a9a}&quot; /&gt;&#13;&#10;</code></pre><br>**Ulepszona nawigacja za pomocą klawiatury**<ul><li>Gdy <xref:System.Windows.Forms.ComboBox> formant <xref:System.Windows.Forms.ComboBox.DropDownStyle> ma swoją <xref:System.Windows.Forms.ComboBoxStyle.DropDownList?displayProperty=nameWithType> właściwość ustawioną na i jest pierwszym formantem w kolejności tabulacji w formularzu, teraz wyświetla prostokąt fokusu, gdy formularz nadrzędny jest otwierany za pomocą klawiatury. Przed tą zmianą fokus klawiatury był na tej formancie, ale wskaźnik ostrości nie został renderowany.</li></ul>**Ulepszona obsługa Narratora**<ul><li>Formant <xref:System.Windows.Forms.MonthCalendar> dodał obsługę technologii pomocniczych, aby uzyskać dostęp do formantu, w tym możliwość Narrator odczytać wartość formantu, gdy wcześniej nie mógł.</li><li>Formant powiadamia narratora <xref:System.Windows.Forms.CheckedListBox> teraz, <xref:System.Windows.Forms.CheckBox.CheckState?displayProperty=nameWithType> gdy właściwość została zmieniona. Wcześniej Narrator nie otrzymał powiadomienia i w rezultacie użytkownicy <xref:System.Windows.Forms.CheckBox.CheckState> nie zostali poinformowani, że właściwość została zaktualizowana.</li><li>Formant <xref:System.Windows.Forms.LinkLabel> zmienił sposób powiadamia narratora tekstu w formancie. Wcześniej Narrator ogłosił ten tekst &quot; &amp; &quot; dwukrotnie i odczytał symbole jako prawdziwy tekst, nawet jeśli nie są one widoczne dla użytkownika. Zduplikowany tekst został usunięty z anonsów Narratora, a także z niepotrzebnych &quot; &amp; &quot; symboli.</li><li>Typy formantów <xref:System.Windows.Forms.DataGridViewCell> teraz poprawnie raport stanu tylko do odczytu do Narratora i innych technologii pomocniczych.</li><li>Narrator może teraz odczytać menu systemowe okien podrzędnych w aplikacjach [Multiple-Document Interface]~/docs/framework/winforms/advanced/multiple-document-interface-mdi-applications.md).</li><li>Narrator może teraz <xref:System.Windows.Forms.ToolStripMenuItem> odczytywać <xref:System.Windows.Forms.ToolStripItem.Enabled?displayProperty=nameWithType> formanty z właściwością ustawioną na **false**. Wcześniej Narrator nie mógł skupić się na wyłączonych elementach menu, aby odczytać zawartość.</li></ul>|
|Zakres|Duży|
|Wersja|4.7.1|
|Typ|Przekierowanie|
|Dotyczy interfejsów API|<ul><li><xref:System.Windows.Forms.ToolStripDropDownButton.CreateAccessibilityInstance?displayProperty=nameWithType></li><li><xref:System.Windows.Forms.DomainUpDown.DomainUpDownAccessibleObject.Name?displayProperty=nameWithType></li><li>[MonthCalendar.AccessibilityObject](xref:System.Windows.Forms.Control.AccessibilityObject)</li></ul>|
