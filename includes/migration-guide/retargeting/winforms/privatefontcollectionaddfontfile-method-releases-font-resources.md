### <a name="privatefontcollectionaddfontfile-method-releases-font-resources"></a><span data-ttu-id="b5404-101">Metoda PrivateFontCollection.AddFontFile zwalnia zasoby czcionki</span><span class="sxs-lookup"><span data-stu-id="b5404-101">PrivateFontCollection.AddFontFile method releases Font resources</span></span>

|   |   |
|---|---|
|<span data-ttu-id="b5404-102">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="b5404-102">Details</span></span>|<span data-ttu-id="b5404-103">.NET Framework 4.7.1 i poprzednich wersjach <xref:System.Drawing.Text.PrivateFontCollection?displayProperty=nameWithType> klasy nie spowoduje zwolnienia zasobów czcionki GDI + po <xref:System.Drawing.Text.PrivateFontCollection> zostanie usunięty, aby uzyskać <xref:System.Drawing.Font> obiekty, które są dodawane do tej kolekcji przy użyciu <xref:System.Drawing.Text.PrivateFontCollection.AddFontFile(System.String)> metody.</span><span class="sxs-lookup"><span data-stu-id="b5404-103">In the .NET Framework 4.7.1 and previous versions, the <xref:System.Drawing.Text.PrivateFontCollection?displayProperty=nameWithType> class does not release the GDI+ font resources after the <xref:System.Drawing.Text.PrivateFontCollection> is disposed for <xref:System.Drawing.Font> objects that are added to this collection using the <xref:System.Drawing.Text.PrivateFontCollection.AddFontFile(System.String)> method.</span></span> <span data-ttu-id="b5404-104">W programie .NET Framework 4.7.2 i nowszych <xref:System.Drawing.Text.FontCollection.Dispose%2A> zwalnia czcionki GDI +, które zostały dodane do kolekcji jako plików.</span><span class="sxs-lookup"><span data-stu-id="b5404-104">In the .NET Framework 4.7.2 and later <xref:System.Drawing.Text.FontCollection.Dispose%2A> releases the GDI+ fonts that were added to the collection as files.</span></span>|
|<span data-ttu-id="b5404-105">Sugestia</span><span class="sxs-lookup"><span data-stu-id="b5404-105">Suggestion</span></span>|<span data-ttu-id="b5404-106"><strong>Sposób korzystania z opcji na lub poza te zmiany</strong>w kolejności dla aplikacji, aby korzystać z tych zmian, należy uruchomić w środowisku .NET Framework 4.7.2 lub nowszej.</span><span class="sxs-lookup"><span data-stu-id="b5404-106"><strong>How to opt in or out of these changes</strong>In order for an application to benefit from these changes, it must run on the .NET Framework 4.7.2 or later.</span></span> <span data-ttu-id="b5404-107">Aplikacji mogą korzystać z tych zmian w jednej z następujących sposobów:</span><span class="sxs-lookup"><span data-stu-id="b5404-107">The application can benefit from these changes in either of the following ways:</span></span><ul><li><span data-ttu-id="b5404-108">Jest ponownie kompilowana pod kątem programu .NET Framework 4.7.2.</span><span class="sxs-lookup"><span data-stu-id="b5404-108">It is recompiled to target the .NET Framework 4.7.2.</span></span> <span data-ttu-id="b5404-109">Ta zmiana jest włączona domyślnie w aplikacji Windows Forms, przeznaczonych dla środowiska .NET Framework 4.7.2 lub nowszej.</span><span class="sxs-lookup"><span data-stu-id="b5404-109">This change is enabled by default on Windows Forms applications that target the .NET Framework 4.7.2 or later.</span></span></li><li><span data-ttu-id="b5404-110">Jest przeznaczony dla platformy .NET Framework 4.7.1 lub starszej wersji, a zdecyduje poza zachowania starszych ułatwień dostępu przez dodanie poniższego [przełącznika AppContext](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element) do <code>&lt;runtime&gt;</code> sekcji w pliku app.config i ustawieniem dla niego <code>false</code>, jak pokazano w poniższym przykładzie.</span><span class="sxs-lookup"><span data-stu-id="b5404-110">It targets the .NET Framework 4.7.1 or an earlier version and opts out of the legacy accessibility behaviors by adding the following [AppContext Switch](https://docs.microsoft.com/dotnet/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element) to the <code>&lt;runtime&gt;</code> section of the app.config file and setting it to <code>false</code>, as the following example shows.</span></span></li></ul><pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Drawing.Text.DoNotRemoveGdiFontsResourcesFromFontCollection=false&quot;/&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><span data-ttu-id="b5404-111">Aplikacji przeznaczonych dla środowiska .NET Framework 4.7.2 lub nowszy i chcesz zachować starsze zachowanie zgodzić się na nie zwolnienia zasobów czcionki przez jawne ustawienie tego parametru AppContext <code>true</code>.</span><span class="sxs-lookup"><span data-stu-id="b5404-111">Applications that target the .NET Framework 4.7.2 or later, and want to preserve the legacy behavior can opt in to not release font resources by explicitly setting this AppContext switch to <code>true</code>.</span></span>|
|<span data-ttu-id="b5404-112">Zakres</span><span class="sxs-lookup"><span data-stu-id="b5404-112">Scope</span></span>|<span data-ttu-id="b5404-113">Krawędź</span><span class="sxs-lookup"><span data-stu-id="b5404-113">Edge</span></span>|
|<span data-ttu-id="b5404-114">Wersja</span><span class="sxs-lookup"><span data-stu-id="b5404-114">Version</span></span>|<span data-ttu-id="b5404-115">4.7.2</span><span class="sxs-lookup"><span data-stu-id="b5404-115">4.7.2</span></span>|
|<span data-ttu-id="b5404-116">Typ</span><span class="sxs-lookup"><span data-stu-id="b5404-116">Type</span></span>|<span data-ttu-id="b5404-117">Trwa przekierowywanie</span><span class="sxs-lookup"><span data-stu-id="b5404-117">Retargeting</span></span>|
|<span data-ttu-id="b5404-118">Dotyczy interfejsów API</span><span class="sxs-lookup"><span data-stu-id="b5404-118">Affected APIs</span></span>|<ul><li><xref:System.Drawing.Text.PrivateFontCollection.AddFontFile(System.String)?displayProperty=nameWithType></li><li><xref:System.Drawing.Text.FontCollection.Dispose?displayProperty=nameWithType></li></ul>|

