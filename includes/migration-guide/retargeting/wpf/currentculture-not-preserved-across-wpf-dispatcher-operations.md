### <a name="currentculture-is-not-preserved-across-wpf-dispatcher-operations"></a>CurrentCulture nie są zachowywane przez operacje dyspozytora WPF

|   |   |
|---|---|
|Szczegóły|Począwszy od programu .NET Framework 4.6, zmienia się na <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> lub <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> dokonane w ramach <xref:System.Windows.Threading.Dispatcher?displayProperty=name> zostaną utracone po zakończeniu tej operacji dyspozytora. Podobnie, zmienia się na <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> lub <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> wprowadzone poza dyspozytora operacji nie zostaną odzwierciedlone po czy wykonuje operację. Praktycznie wymowy, oznacza to, że <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> i <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> zmiany nie mogą przepływać między wywołania zwrotne interfejsu użytkownika WPF i innego kodu w aplikacji WPF. Jest to spowodowane zmiana <xref:System.Threading.ExecutionContext?displayProperty=name> , która powoduje <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> i <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> do przechowania na początku kontekstu wykonywania aplikacji przeznaczonych dla platformy .NET Framework 4.6. Operacje dyspozytora WPF przechowywać kontekstu wykonywania używany do rozpoczęcia operacji i przywrócić poprzedni kontekst po zakończeniu operacji. Ponieważ <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> i <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> są teraz częścią tego kontekstu, ich zmiany w ramach operacji Dyspozytor nie są zachowywane poza wykonać operację.|
|Sugestia|Ta zmiana wpływu na aplikacje mogą działać wokół niego przez zapisanie żądaną <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> lub <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> w polu i ewidencjonowanie wszystkie treści operacji dyspozytora (w tym obsługi wywołania zwrotnego zdarzenia interfejsu użytkownika) który poprawny <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> i <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> są ustawione. Alternatywnie ponieważ kontekście wykonywania zmienić podstawowy ta zmiana WPF dotyczy tylko aplikacji przeznaczonych dla programu .NET Framework 4.6 lub nowszą, tego podziału można uniknąć, wybierając 4.5.2.Apps .NET Framework, docelowy .NET Framework 4.6 lub później, mogą również działać wokół to przez ustawienie następujących zgodności przełącznika:<pre><code class="lang-csharp">AppContext.SetSwitch(&quot;Switch.System.Globalization.NoAsyncCurrentCulture&quot;, true);&#13;&#10;</code></pre>Ten problem został rozwiązany przez WPF w programie .NET Framework 4.6.2. Również został rozwiązany w wersji 4.6 z platformy .NET, 4.6.1 za pośrednictwem [KB 3139549](https://support.microsoft.com/kb/3139549). Aplikacji przeznaczonych dla platformy .NET Framework 4.6 lub nowszym automatycznie uzyskają prawo zachowania w aplikacjach WPF — <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> / <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>) będzie zachowana w operacji dyspozytora.|
|Zakres|Pomocnicza|
|Wersja|4.6|
|Typ|Przekierowania|

