---
ms.openlocfilehash: 190bca720504535cb54e498ca8da23fbb6634ad4
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 03/15/2020
ms.locfileid: "67804558"
---
### <a name="currentculture-is-not-preserved-across-wpf-dispatcher-operations"></a>CurrentCulture nie jest zachowywany w operacjach dyspozytora WPF

|   |   |
|---|---|
|Szczegóły|Począwszy od programu .NET Framework 4.6, zmiany <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> lub <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> wprowadzone w ramach <xref:System.Windows.Threading.Dispatcher?displayProperty=name> zostaną utracone na końcu tej operacji dyspozytora. Podobnie zmiany <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> lub <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> wprowadzone poza operacją dyspozytora mogą nie być odzwierciedlane podczas wykonywania tej operacji. Praktycznie rzecz biorąc oznacza <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> to, że i <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> zmiany nie mogą przepływać między wywołania zwrotne interfejsu użytkownika WPF i inny kod w aplikacji WPF. Wynika to ze zmiany <xref:System.Threading.ExecutionContext?displayProperty=name> w <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> tym powoduje i mają być przechowywane w kontekście wykonywania, począwszy od aplikacji docelowych .NET Framework 4.6. Operacje dyspozytora WPF przechowują kontekst wykonywania używany do rozpoczęcia operacji i przywrócenia poprzedniego kontekstu po zakończeniu operacji. Ponieważ <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> i są teraz częścią tego kontekstu, zmiany do nich w ramach operacji dyspozytora nie są zachowywane poza operacją.|
|Sugestia|Aplikacje, których dotyczy ta zmiana, mogą <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> obejść ją, przechowując żądane lub <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> w polu i sprawdzając wszystkie <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> jednostki operacji dispatcher (w tym programy obsługi wywołania zwrotnego zdarzeń interfejsu użytkownika), które są poprawne i <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name> są ustawione. Alternatywnie, ponieważ ExecutionContext zmiany leżące u podstaw tej zmiany WPF dotyczy tylko aplikacje przeznaczone dla .NET Framework 4.6 lub nowsze, tej przerwy można uniknąć, kierując .NET Framework 4.5.2.Aplikacje, które są przeznaczone .NET Framework 4.6 lub nowsze mogą również działać ustawienia następującego przełącznika zgodności:<pre><code class="lang-csharp">AppContext.SetSwitch(&quot;Switch.System.Globalization.NoAsyncCurrentCulture&quot;, true);&#13;&#10;</code></pre>Ten problem został rozwiązany przez WPF WPF w .NET Framework 4.6.2. Został on również naprawiony w .NET Frameworks 4.6, 4.6.1 do [KB 3139549](https://support.microsoft.com/kb/3139549). Aplikacje przeznaczone dla platformy .NET Framework 4.6 lub nowsze <xref:System.Globalization.CultureInfo.CurrentCulture?displayProperty=name> / <xref:System.Globalization.CultureInfo.CurrentUICulture?displayProperty=name>automatycznie uzyskają odpowiednie zachowanie w aplikacjach WPF — ) zostaną zachowane w działaniach dyspozytora.|
|Zakres|Mały|
|Wersja|4.6|
|Typ|Przekierowanie|
