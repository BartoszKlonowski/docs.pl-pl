---
ms.openlocfilehash: ff3948a903ae3f8b6f8ecd65d16d4f1e545dc7e0
ms.sourcegitcommit: 0aca6c5d166d7961a1e354c248495645b97a1dc5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/01/2019
ms.locfileid: "58760233"
---
### <a name="wpf-grid-allocation-of-space-to-star-columns"></a>Siatka WPF alokacji miejsca do kolumn star

|   |   |
|---|---|
|Szczegóły|Począwszy od programu .NET Framework 4.7 WPF zastępuje algorytm, <xref:System.Windows.Controls.Grid> używa do przydzielenia miejsca, aby \*-kolumn. Spowoduje to zmianę rzeczywista szerokość przypisane do \*-kolumn w niektórych przypadkach:<ul><li>Gdy co najmniej jeden \*-kolumny mają również minimalnej lub maksymalnej szerokości, zastępujący proporcjonalny przydział dla tej kolumny. (Minimalna szerokość może pochodzić z jawna deklaracja wartości elementu MinWidth lub niejawne minimum uzyskany z zawartości kolumny. Maksymalna szerokość mogą być definiowane tylko jawnie z deklaracji MaxWidth.)</li><li>Gdy co najmniej jeden \*— kolumny zadeklarować bardzo dużą \*-wagi, większa niż 10 ^ 298.</li><li>Gdy \*-wagi wystarczająco różnią się pewnie się spotkasz niestabilności zmiennoprzecinkowych (przepełnienia, niedopełnienie, utratę dokładności).</li><li>Gdy zaokrąglania układ jest włączona i efektywne wyświetlanie rozdzielczości DPI jest wystarczająco duża.</li></ul>W pierwszych dwóch przypadkach szerokości produkowane przez nowy algorytm może być znacznie różnią się od wyprodukowane przez stary algorytm; w ostatnim przypadku różnica będzie co najwyżej jeden lub dwa pikseli.<p/>Nowy algorytm rozwiązuje kilka usterek w starym algorytmu:<ol><li>Szerokość siatki będą mogli przekraczać łączny przydział do kolumn. Taka sytuacja może wystąpić, gdy przydzielanie miejsca, do kolumny, których proporcjonalna udział jest mniejsza niż jej minimalnego rozmiaru. Algorytm przydziela minimalny rozmiar, zmniejsza ilość miejsca dostępnego do innych kolumn. W przypadku nie \*-kolumny od lewej do przydzielenia, łączny przydział będą zbyt duży.</li><li>Łączny przydział może spełniają szerokość siatki. Jest to problem podwójną # 1, powstałe niezależnie podczas przydzielania do kolumny, których proporcjonalna udział jest większy niż maksymalny rozmiar, bez \*-kolumn z lewej na podjęcie slack.</li><li>Dwa \*-kolumn może odbierać alokacje nie są proporcjonalne do ich \*-wagi. Jest to nieco łagodniejsze z #1 / #2, powstałe niezależnie podczas przydzielania do \*-kolumny A, B i C (w tej kolejności), gdzie proporcjonalny udział użytkownika B narusza swoje ograniczenie min (lub max). Jak powyżej, spowoduje to zmianę ilość miejsca dostępnego na kolumnę C, który pobierze mniej (lub więcej) proporcjonalny przydział niż element,</li><li>Kolumny o bardzo dużej wagi (&gt; 10 ^ 298) są traktowane wszystkie tak, jakby mieli oni wagę 10 ^ 298. Proporcjonalna różnice między nimi (i między kolumnami za pomocą wag nieco mniejsze) nie są uznawane.</li><li>Kolumny z nieskończoną wagi nie są obsługiwane poprawnie. [Faktycznie nie można ustawić wagę do nieskończoności, ale jest to ograniczenie sztucznych. Kod alokacji próbował obsługi, ale wykonanie pracy zły.]</li><li>Kilka drobne problemy unikając przepełnienia, niedopełnienie, utratę dokładności i podobne problemy zmiennoprzecinkowych.</li><li>Korekty zaokrąglania układu są nieprawidłowe w wystarczającym stopniu wysokiej rozdzielczości DPI.</li></ol>Nowy algorytm generuje wyniki, które spełniają następujące kryteria:<p/>A. Rzeczywista szerokość przypisane do \*— kolumna nigdy nie jest mniejsza niż minimalna szerokość ani większa niż szerokość maksymalna.<br/>B. Każdy <em>— kolumny, która nie jest przypisany jej minimalnego lub maksymalną szerokość przypisano szerokość proporcjonalna do jego <em>-wagi. Aby była precyzyjna, jeśli dwie kolumny są zadeklarowane jako szerokość x</em> i y</em> odpowiednio, i jeśli żadna kolumna otrzyma minimalną lub maksymalną szerokość, v rzeczywiste szerokości i przypisana do kolumny w znajdują się w ten sam udział: v / w == x / y.<br/>C. Łączna szerokość przydzielone do &quot;proporcjonalna&quot; \*-kolumny jest równa ilości miejsca dostępnego po przydzieleniu do ograniczonych kolumn (stałe, auto i \*-kolumn, które są przydzielane ich wartość minimalną lub maksymalną szerokość). Może to być wartość zero, dostępne dla wystąpienia, jeśli suma minimalne szerokości przekracza siatki szerokości.<br/>D. Te instrukcje są interpretowane w odniesieniu do &quot;idealne&quot; układu. Gdy zaokrąglania układ jest aktywna, rzeczywiste szerokości może się różnić od idealne szerokości jak jeden piksel.<br/>Stary algorytm honorowane (A), ale nie można uwzględnić inne kryteria, w przypadkach opisanych powyżej.<p/>Wszystko, co mówi o kolumn i szerokości, w tym artykule dotyczą również wierszy i wysokości.|
|Sugestia|Domyślnie aplikacje, czy wersji docelowej programu .NET Framework, począwszy od programu .NET Framework 4.7, zostanie wyświetlony nowy algorytm, podczas aplikacje, które dla środowiska .NET Framework 4.6.2 i jego wcześniejsze wersje zobaczą starego algorytmu.<p/>Aby zastąpić domyślne, należy użyć następującego ustawienia konfiguracji:<pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Windows.Controls.Grid.StarDefinitionsCanExceedAvailableSpace=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre>Wartość <code>true</code> wybiera algorytm stare <code>false</code> wybiera nowy algorytm.|
|Zakres|Mały|
|Wersja|4.7|
|Typ|Przekierowanie|

