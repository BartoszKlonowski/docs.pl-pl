---
ms.openlocfilehash: ff3948a903ae3f8b6f8ecd65d16d4f1e545dc7e0
ms.sourcegitcommit: 0aca6c5d166d7961a1e354c248495645b97a1dc5
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 04/01/2019
ms.locfileid: "58760233"
---
### <a name="wpf-grid-allocation-of-space-to-star-columns"></a><span data-ttu-id="f6e83-101">Siatka WPF alokacji miejsca do kolumn star</span><span class="sxs-lookup"><span data-stu-id="f6e83-101">WPF Grid allocation of space to star-columns</span></span>

|   |   |
|---|---|
|<span data-ttu-id="f6e83-102">Szczegóły</span><span class="sxs-lookup"><span data-stu-id="f6e83-102">Details</span></span>|<span data-ttu-id="f6e83-103">Począwszy od programu .NET Framework 4.7 WPF zastępuje algorytm, <xref:System.Windows.Controls.Grid> używa do przydzielenia miejsca, aby \*-kolumn.</span><span class="sxs-lookup"><span data-stu-id="f6e83-103">Starting with the .NET Framework 4.7, WPF replaces the algorithm that <xref:System.Windows.Controls.Grid> uses to allocate space to \*-columns.</span></span> <span data-ttu-id="f6e83-104">Spowoduje to zmianę rzeczywista szerokość przypisane do \*-kolumn w niektórych przypadkach:</span><span class="sxs-lookup"><span data-stu-id="f6e83-104">This will change the actual width assigned to \*-columns in a number of cases:</span></span><ul><li><span data-ttu-id="f6e83-105">Gdy co najmniej jeden \*-kolumny mają również minimalnej lub maksymalnej szerokości, zastępujący proporcjonalny przydział dla tej kolumny.</span><span class="sxs-lookup"><span data-stu-id="f6e83-105">When one or more \*-columns also have a minimum or maximum width that overrides the proportional allocation for that column.</span></span> <span data-ttu-id="f6e83-106">(Minimalna szerokość może pochodzić z jawna deklaracja wartości elementu MinWidth lub niejawne minimum uzyskany z zawartości kolumny.</span><span class="sxs-lookup"><span data-stu-id="f6e83-106">(The minimum width can derive from an explicit MinWidth declaration, or from an implicit minimum obtained from the column's content.</span></span> <span data-ttu-id="f6e83-107">Maksymalna szerokość mogą być definiowane tylko jawnie z deklaracji MaxWidth.)</span><span class="sxs-lookup"><span data-stu-id="f6e83-107">The maximum width can only be defined explicitly, from a MaxWidth declaration.)</span></span></li><li><span data-ttu-id="f6e83-108">Gdy co najmniej jeden \*— kolumny zadeklarować bardzo dużą \*-wagi, większa niż 10 ^ 298.</span><span class="sxs-lookup"><span data-stu-id="f6e83-108">When one or more \*-columns declare an extremely large \*-weight, greater than 10^298.</span></span></li><li><span data-ttu-id="f6e83-109">Gdy \*-wagi wystarczająco różnią się pewnie się spotkasz niestabilności zmiennoprzecinkowych (przepełnienia, niedopełnienie, utratę dokładności).</span><span class="sxs-lookup"><span data-stu-id="f6e83-109">When the \*-weights are sufficiently different to encounter floating-point instability (overflow, underflow, loss of precision).</span></span></li><li><span data-ttu-id="f6e83-110">Gdy zaokrąglania układ jest włączona i efektywne wyświetlanie rozdzielczości DPI jest wystarczająco duża.</span><span class="sxs-lookup"><span data-stu-id="f6e83-110">When layout rounding is enabled, and the effective display DPI is sufficiently high.</span></span></li></ul><span data-ttu-id="f6e83-111">W pierwszych dwóch przypadkach szerokości produkowane przez nowy algorytm może być znacznie różnią się od wyprodukowane przez stary algorytm; w ostatnim przypadku różnica będzie co najwyżej jeden lub dwa pikseli.</span><span class="sxs-lookup"><span data-stu-id="f6e83-111">In the first two cases, the widths produced by the new algorithm can be significantly different from those produced by the old algorithm; in the last case, the difference will be at most one or two pixels.</span></span><p/><span data-ttu-id="f6e83-112">Nowy algorytm rozwiązuje kilka usterek w starym algorytmu:</span><span class="sxs-lookup"><span data-stu-id="f6e83-112">The new algorithm fixes several bugs present in the old algorithm:</span></span><ol><li><span data-ttu-id="f6e83-113">Szerokość siatki będą mogli przekraczać łączny przydział do kolumn.</span><span class="sxs-lookup"><span data-stu-id="f6e83-113">Total allocation to columns can exceed the Grid's width.</span></span> <span data-ttu-id="f6e83-114">Taka sytuacja może wystąpić, gdy przydzielanie miejsca, do kolumny, których proporcjonalna udział jest mniejsza niż jej minimalnego rozmiaru.</span><span class="sxs-lookup"><span data-stu-id="f6e83-114">This can occur when allocating space to a column whose proportional share is less than its minimum size.</span></span> <span data-ttu-id="f6e83-115">Algorytm przydziela minimalny rozmiar, zmniejsza ilość miejsca dostępnego do innych kolumn.</span><span class="sxs-lookup"><span data-stu-id="f6e83-115">The algorithm allocates the minimum size, which decreases the space available to other columns.</span></span> <span data-ttu-id="f6e83-116">W przypadku nie \*-kolumny od lewej do przydzielenia, łączny przydział będą zbyt duży.</span><span class="sxs-lookup"><span data-stu-id="f6e83-116">If there are no \*-columns left to allocate, the total allocation will be too large.</span></span></li><li><span data-ttu-id="f6e83-117">Łączny przydział może spełniają szerokość siatki.</span><span class="sxs-lookup"><span data-stu-id="f6e83-117">Total allocation can fall short of the Grid's width.</span></span> <span data-ttu-id="f6e83-118">Jest to problem podwójną # 1, powstałe niezależnie podczas przydzielania do kolumny, których proporcjonalna udział jest większy niż maksymalny rozmiar, bez \*-kolumn z lewej na podjęcie slack.</span><span class="sxs-lookup"><span data-stu-id="f6e83-118">This is the dual problem to #1, arising when allocating to a column whose proportional share is greater than its maximum size, with no \*-columns left to take up the slack.</span></span></li><li><span data-ttu-id="f6e83-119">Dwa \*-kolumn może odbierać alokacje nie są proporcjonalne do ich \*-wagi.</span><span class="sxs-lookup"><span data-stu-id="f6e83-119">Two \*-columns can receive allocations not proportional to their \*-weights.</span></span> <span data-ttu-id="f6e83-120">Jest to nieco łagodniejsze z #1 / #2, powstałe niezależnie podczas przydzielania do \*-kolumny A, B i C (w tej kolejności), gdzie proporcjonalny udział użytkownika B narusza swoje ograniczenie min (lub max).</span><span class="sxs-lookup"><span data-stu-id="f6e83-120">This is a milder version of #1/#2, arising when allocating to \*-columns A, B, and C (in that order), where B's proportional share violates its min (or max) constraint.</span></span> <span data-ttu-id="f6e83-121">Jak powyżej, spowoduje to zmianę ilość miejsca dostępnego na kolumnę C, który pobierze mniej (lub więcej) proporcjonalny przydział niż element,</span><span class="sxs-lookup"><span data-stu-id="f6e83-121">As above, this changes the space available to column C, who gets less (or more) proportional allocation than A did,</span></span></li><li><span data-ttu-id="f6e83-122">Kolumny o bardzo dużej wagi (&gt; 10 ^ 298) są traktowane wszystkie tak, jakby mieli oni wagę 10 ^ 298.</span><span class="sxs-lookup"><span data-stu-id="f6e83-122">Columns with extremely large weights (&gt; 10^298) are all treated as if they had weight 10^298.</span></span> <span data-ttu-id="f6e83-123">Proporcjonalna różnice między nimi (i między kolumnami za pomocą wag nieco mniejsze) nie są uznawane.</span><span class="sxs-lookup"><span data-stu-id="f6e83-123">Proportional differences between them (and between columns with slightly smaller weights) are not honored.</span></span></li><li><span data-ttu-id="f6e83-124">Kolumny z nieskończoną wagi nie są obsługiwane poprawnie.</span><span class="sxs-lookup"><span data-stu-id="f6e83-124">Columns with infinite weights are not handled correctly.</span></span> <span data-ttu-id="f6e83-125">[Faktycznie nie można ustawić wagę do nieskończoności, ale jest to ograniczenie sztucznych.</span><span class="sxs-lookup"><span data-stu-id="f6e83-125">[Actually you can't set a weight to Infinity, but this is an artificial restriction.</span></span> <span data-ttu-id="f6e83-126">Kod alokacji próbował obsługi, ale wykonanie pracy zły.]</span><span class="sxs-lookup"><span data-stu-id="f6e83-126">The allocation code was trying to handle it, but doing a bad job.]</span></span></li><li><span data-ttu-id="f6e83-127">Kilka drobne problemy unikając przepełnienia, niedopełnienie, utratę dokładności i podobne problemy zmiennoprzecinkowych.</span><span class="sxs-lookup"><span data-stu-id="f6e83-127">Several minor problems while avoiding overflow, underflow, loss of precision and similar floating-point issues.</span></span></li><li><span data-ttu-id="f6e83-128">Korekty zaokrąglania układu są nieprawidłowe w wystarczającym stopniu wysokiej rozdzielczości DPI.</span><span class="sxs-lookup"><span data-stu-id="f6e83-128">Adjustments for layout rounding are incorrect at sufficiently high DPI.</span></span></li></ol><span data-ttu-id="f6e83-129">Nowy algorytm generuje wyniki, które spełniają następujące kryteria:</span><span class="sxs-lookup"><span data-stu-id="f6e83-129">The new algorithm produces results that meet the following criteria:</span></span><p/><span data-ttu-id="f6e83-130">A.</span><span class="sxs-lookup"><span data-stu-id="f6e83-130">A.</span></span> <span data-ttu-id="f6e83-131">Rzeczywista szerokość przypisane do \*— kolumna nigdy nie jest mniejsza niż minimalna szerokość ani większa niż szerokość maksymalna.</span><span class="sxs-lookup"><span data-stu-id="f6e83-131">The actual width assigned to a \*-column is never less than its minimum width nor greater than its maximum width.</span></span><br/><span data-ttu-id="f6e83-132">B.</span><span class="sxs-lookup"><span data-stu-id="f6e83-132">B.</span></span> <span data-ttu-id="f6e83-133">Każdy <em>— kolumny, która nie jest przypisany jej minimalnego lub maksymalną szerokość przypisano szerokość proporcjonalna do jego <em>-wagi. Aby była precyzyjna, jeśli dwie kolumny są zadeklarowane jako szerokość x</em> i y</em> odpowiednio, i jeśli żadna kolumna otrzyma minimalną lub maksymalną szerokość, v rzeczywiste szerokości i przypisana do kolumny w znajdują się w ten sam udział: v / w == x / y.</span><span class="sxs-lookup"><span data-stu-id="f6e83-133">Each <em>-column that is not assigned its minimum or maximum width is assigned a width proportional to its <em>-weight. To be precise, if two columns are declared with width x</em> and y</em> respectively, and if neither column receives its minimum or maximum width, the actual widths v and w assigned to the columns are in the same proportion: v / w == x / y.</span></span><br/><span data-ttu-id="f6e83-134">C.</span><span class="sxs-lookup"><span data-stu-id="f6e83-134">C.</span></span> <span data-ttu-id="f6e83-135">Łączna szerokość przydzielone do &quot;proporcjonalna&quot; \*-kolumny jest równa ilości miejsca dostępnego po przydzieleniu do ograniczonych kolumn (stałe, auto i \*-kolumn, które są przydzielane ich wartość minimalną lub maksymalną szerokość).</span><span class="sxs-lookup"><span data-stu-id="f6e83-135">The total width allocated to &quot;proportional&quot; \*-columns is equal to the space available after allocating to the constrained columns (fixed, auto, and \*-columns that are allocated their min or max width).</span></span> <span data-ttu-id="f6e83-136">Może to być wartość zero, dostępne dla wystąpienia, jeśli suma minimalne szerokości przekracza siatki szerokości.</span><span class="sxs-lookup"><span data-stu-id="f6e83-136">This might be zero, for instance if the sum of the minimum widths exceeds the Grid's available width.</span></span><br/><span data-ttu-id="f6e83-137">D.</span><span class="sxs-lookup"><span data-stu-id="f6e83-137">D.</span></span> <span data-ttu-id="f6e83-138">Te instrukcje są interpretowane w odniesieniu do &quot;idealne&quot; układu.</span><span class="sxs-lookup"><span data-stu-id="f6e83-138">All these statements are to be interpreted with respect to the &quot;ideal&quot; layout.</span></span> <span data-ttu-id="f6e83-139">Gdy zaokrąglania układ jest aktywna, rzeczywiste szerokości może się różnić od idealne szerokości jak jeden piksel.</span><span class="sxs-lookup"><span data-stu-id="f6e83-139">When layout rounding is in effect, the actual widths can differ from the ideal widths by as much as one pixel.</span></span><br/><span data-ttu-id="f6e83-140">Stary algorytm honorowane (A), ale nie można uwzględnić inne kryteria, w przypadkach opisanych powyżej.</span><span class="sxs-lookup"><span data-stu-id="f6e83-140">The old algorithm honored (A) but failed to honor the other criteria in the cases outlined above.</span></span><p/><span data-ttu-id="f6e83-141">Wszystko, co mówi o kolumn i szerokości, w tym artykule dotyczą również wierszy i wysokości.</span><span class="sxs-lookup"><span data-stu-id="f6e83-141">Everything said about columns and widths in this article applies as well to rows and heights.</span></span>|
|<span data-ttu-id="f6e83-142">Sugestia</span><span class="sxs-lookup"><span data-stu-id="f6e83-142">Suggestion</span></span>|<span data-ttu-id="f6e83-143">Domyślnie aplikacje, czy wersji docelowej programu .NET Framework, począwszy od programu .NET Framework 4.7, zostanie wyświetlony nowy algorytm, podczas aplikacje, które dla środowiska .NET Framework 4.6.2 i jego wcześniejsze wersje zobaczą starego algorytmu.</span><span class="sxs-lookup"><span data-stu-id="f6e83-143">By default, apps that target versions of the .NET Framework starting with the .NET Framework 4.7 will see the new algorithm, while apps that target the .NET Framework 4.6.2 or earlier versions will see the old algorithm.</span></span><p/><span data-ttu-id="f6e83-144">Aby zastąpić domyślne, należy użyć następującego ustawienia konfiguracji:</span><span class="sxs-lookup"><span data-stu-id="f6e83-144">To override the default, use the following configuration setting:</span></span><pre><code class="lang-xml">&lt;runtime&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.System.Windows.Controls.Grid.StarDefinitionsCanExceedAvailableSpace=true&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;</code></pre><span data-ttu-id="f6e83-145">Wartość <code>true</code> wybiera algorytm stare <code>false</code> wybiera nowy algorytm.</span><span class="sxs-lookup"><span data-stu-id="f6e83-145">The value <code>true</code> selects the old algorithm, <code>false</code> selects the new algorithm.</span></span>|
|<span data-ttu-id="f6e83-146">Zakres</span><span class="sxs-lookup"><span data-stu-id="f6e83-146">Scope</span></span>|<span data-ttu-id="f6e83-147">Mały</span><span class="sxs-lookup"><span data-stu-id="f6e83-147">Minor</span></span>|
|<span data-ttu-id="f6e83-148">Wersja</span><span class="sxs-lookup"><span data-stu-id="f6e83-148">Version</span></span>|<span data-ttu-id="f6e83-149">4.7</span><span class="sxs-lookup"><span data-stu-id="f6e83-149">4.7</span></span>|
|<span data-ttu-id="f6e83-150">Typ</span><span class="sxs-lookup"><span data-stu-id="f6e83-150">Type</span></span>|<span data-ttu-id="f6e83-151">Przekierowanie</span><span class="sxs-lookup"><span data-stu-id="f6e83-151">Retargeting</span></span>|

